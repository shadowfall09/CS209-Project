{"items":[{"tags":["java","mqtt","mosquitto","paho"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":1,"creation_date":1698351181,"post_id":77369682,"comment_id":136398098,"body_markdown":"[This issue](https://github.com/eclipse/paho.mqtt.java/issues/1018) appears relevant (reporting the same issue but includes more information; no response yet).","body":"<a href=\"https://github.com/eclipse/paho.mqtt.java/issues/1018\" rel=\"nofollow noreferrer\">This issue</a> appears relevant (reporting the same issue but includes more information; no response yet)."}],"owner":{"account_id":2366322,"reputation":2105,"user_id":2071938,"accept_rate":52,"display_name":"user2071938"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698442729,"creation_date":1698346541,"question_id":77369682,"body_markdown":"If I use QoS2 the subscriber needs a lot of memory due to the fact that the `inboundqos2` `HashMap` in the `ClientState` Class gets a lot of entries (peaks at 65k) after a while. \r\n\r\nIs that normal behaviour?","title":"MQTT Paho Java client - inflightqos2 HashMap has 65k entries after a while","body":"<p>If I use QoS2 the subscriber needs a lot of memory due to the fact that the <code>inboundqos2</code> <code>HashMap</code> in the <code>ClientState</code> Class gets a lot of entries (peaks at 65k) after a while.</p>\n<p>Is that normal behaviour?</p>\n"},{"tags":["java","java-11","java-http-client"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1576433524,"post_id":59342963,"comment_id":104889569,"body_markdown":"The request `body` is an input to the `HttpRequest` you&#39;re trying to make. Which itself should be ideally something that you a user should provide, not the other way round, that the `HttpRequest` provides you the body. Is there something else that I am missing in your question?","body":"The request <code>body</code> is an input to the <code>HttpRequest</code> you&#39;re trying to make. Which itself should be ideally something that you a user should provide, not the other way round, that the <code>HttpRequest</code> provides you the body. Is there something else that I am missing in your question?"},{"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"score":0,"creation_date":1576434097,"post_id":59342963,"comment_id":104889700,"body_markdown":"True, in my production code I put the `body` into the `HttpRequest` (see first block of code). But in my **test**, I&#39;d like to verify that the correct `body` has been set in the request - thus getting it out again.","body":"True, in my production code I put the <code>body</code> into the <code>HttpRequest</code> (see first block of code). But in my <b>test</b>, I&#39;d like to verify that the correct <code>body</code> has been set in the request - thus getting it out again."}],"answers":[{"tags":[],"owner":{"account_id":5269741,"reputation":318,"user_id":4208410,"display_name":"Yan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1576438453,"creation_date":1576437983,"answer_id":59347350,"question_id":59342963,"body_markdown":"If you are interested in how body will look like in handler you can know it with help of HttpRequest.BodyPublisher Subscriber. We call `subscription.request` in order to receive all body items and collect them.\r\n\r\nOur custrom subscriber:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.CountDownLatch;\r\n    import java.util.concurrent.Flow;\r\n    \r\n    public class FlowSubscriber&lt;T&gt; implements Flow.Subscriber&lt;T&gt; {\r\n        private final CountDownLatch latch = new CountDownLatch(1);\r\n        private List&lt;T&gt; bodyItems = new ArrayList&lt;&gt;();\r\n    \r\n        public List&lt;T&gt; getBodyItems() {\r\n            try {\r\n                this.latch.await();\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return bodyItems;\r\n        }\r\n    \r\n        @Override\r\n        public void onSubscribe(Flow.Subscription subscription) {\r\n            //Retrieve all parts\r\n            subscription.request(Long.MAX_VALUE);\r\n        }\r\n    \r\n        @Override\r\n        public void onNext(T item) {\r\n            this.bodyItems.add(item);\r\n        }\r\n    \r\n        @Override\r\n        public void onError(Throwable throwable) {\r\n            this.latch.countDown();\r\n        }\r\n    \r\n        @Override\r\n        public void onComplete() {\r\n            this.latch.countDown();\r\n        }\r\n    }\r\n\r\nUsage in the test:\r\n\r\n    @Test\r\n    public void test() {\r\n        byte[] expected = &quot;example&quot;.getBytes();\r\n\r\n        HttpRequest.BodyPublisher bodyPublisher =\r\n                HttpRequest.BodyPublishers.ofByteArray(expected);\r\n\r\n        FlowSubscriber&lt;ByteBuffer&gt; flowSubscriber = new FlowSubscriber&lt;&gt;();\r\n        bodyPublisher.subscribe(flowSubscriber);\r\n\r\n        byte[] actual = flowSubscriber.getBodyItems().get(0).array();\r\n\r\n        Assert.assertArrayEquals(expected, actual);\r\n    }\r\n\r\n","title":"How to test java.net.http (Java 11) requests BodyPublisher?","body":"<p>If you are interested in how body will look like in handler you can know it with help of HttpRequest.BodyPublisher Subscriber. We call <code>subscription.request</code> in order to receive all body items and collect them.</p>\n\n<p>Our custrom subscriber:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.Flow;\n\npublic class FlowSubscriber&lt;T&gt; implements Flow.Subscriber&lt;T&gt; {\n    private final CountDownLatch latch = new CountDownLatch(1);\n    private List&lt;T&gt; bodyItems = new ArrayList&lt;&gt;();\n\n    public List&lt;T&gt; getBodyItems() {\n        try {\n            this.latch.await();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        return bodyItems;\n    }\n\n    @Override\n    public void onSubscribe(Flow.Subscription subscription) {\n        //Retrieve all parts\n        subscription.request(Long.MAX_VALUE);\n    }\n\n    @Override\n    public void onNext(T item) {\n        this.bodyItems.add(item);\n    }\n\n    @Override\n    public void onError(Throwable throwable) {\n        this.latch.countDown();\n    }\n\n    @Override\n    public void onComplete() {\n        this.latch.countDown();\n    }\n}\n</code></pre>\n\n<p>Usage in the test:</p>\n\n<pre><code>@Test\npublic void test() {\n    byte[] expected = \"example\".getBytes();\n\n    HttpRequest.BodyPublisher bodyPublisher =\n            HttpRequest.BodyPublishers.ofByteArray(expected);\n\n    FlowSubscriber&lt;ByteBuffer&gt; flowSubscriber = new FlowSubscriber&lt;&gt;();\n    bodyPublisher.subscribe(flowSubscriber);\n\n    byte[] actual = flowSubscriber.getBodyItems().get(0).array();\n\n    Assert.assertArrayEquals(expected, actual);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22258428,"reputation":51,"user_id":16490250,"display_name":"booniepepper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698441927,"creation_date":1691189224,"answer_id":76839471,"question_id":59342963,"body_markdown":"If you&#39;re ok using a simple dependency, see [HttpClientMock](https://github.com/PGSSoft/HttpClientMock).\r\n\r\nFor your example, you&#39;d mock and verify that request like:\r\n\r\n```java\r\n// Given\r\nhttpClientMock\r\n  .onPost(&quot;http://localhost:1234&quot;)\r\n  .withBody(is(&quot;example&quot;))\r\n  .doReturn(200, &quot;ok&quot;);\r\n\r\n// When\r\n/* call your function here */\r\n\r\n// Then\r\nhttpClientMock\r\n  .verify()\r\n  .post(&quot;http://localhost:1234&quot;)\r\n  .withBody(is(&quot;example&quot;))\r\n  .called(1);\r\n```\r\n\r\nI had a reason to do this with an OpenAPI generated client that used the JDK 11 HttpClient, and spent a few hours trying to &quot;do it the right way&quot; but it only took a few minutes to get the HttpClientMock way going.\r\n\r\nI detailed a lot more details on my experience in this gist: https://gist.github.com/booniepepper/6fe970e1de28f975887a5e7af8a2cd8b","title":"How to test java.net.http (Java 11) requests BodyPublisher?","body":"<p>If you're ok using a simple dependency, see <a href=\"https://github.com/PGSSoft/HttpClientMock\" rel=\"nofollow noreferrer\">HttpClientMock</a>.</p>\n<p>For your example, you'd mock and verify that request like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Given\nhttpClientMock\n  .onPost(&quot;http://localhost:1234&quot;)\n  .withBody(is(&quot;example&quot;))\n  .doReturn(200, &quot;ok&quot;);\n\n// When\n/* call your function here */\n\n// Then\nhttpClientMock\n  .verify()\n  .post(&quot;http://localhost:1234&quot;)\n  .withBody(is(&quot;example&quot;))\n  .called(1);\n</code></pre>\n<p>I had a reason to do this with an OpenAPI generated client that used the JDK 11 HttpClient, and spent a few hours trying to &quot;do it the right way&quot; but it only took a few minutes to get the HttpClientMock way going.</p>\n<p>I detailed a lot more details on my experience in this gist: <a href=\"https://gist.github.com/booniepepper/6fe970e1de28f975887a5e7af8a2cd8b\" rel=\"nofollow noreferrer\">https://gist.github.com/booniepepper/6fe970e1de28f975887a5e7af8a2cd8b</a></p>\n"}],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4677,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":59347350,"answer_count":2,"score":14,"last_activity_date":1698441927,"creation_date":1576405447,"question_id":59342963,"body_markdown":"I&#39;m trying to test my code which uses the new Java 11 [`java.net.http.HttpClient`][1].\r\n\r\nIn my production code I have something like this:\r\n\r\n    HttpClient httpClient = ... (gets injected)\r\n\r\n    HttpRequest request = HttpRequest.newBuilder().uri(URI.create(&quot;http://localhost:1234&quot;))\r\n            .POST(HttpRequest.BodyPublishers.ofByteArray(&quot;example&quot;.getBytes()))\r\n            .build();\r\n\r\n    return httpClient.send(request, HttpResponse.BodyHandlers.ofByteArray());\r\n\r\nAnd in my test I mock the `HttpClient` and so get the [`java.net.http.HttpRequest`][2]. How do I get/test its request body (= my `&quot;example&quot;`)? I can call `request.bodyPublisher()` to get a `HttpRequest.BodyPublisher`, but then I&#39;m stuck.\r\n\r\n - I&#39;ve tried to cast it to `jdk.internal.net.http.RequestPublishers.ByteArrayPublisher` (which it actually is), but it won&#39;t compile because the corresponding package is not exported by the module.\r\n - I&#39;ve checked the available methods in the `HttpRequest.BodyPublisher`-interface (`.contentLength()`, `.subscribe(subscriber)`) but I guess it&#39;s not possible with them.\r\n - I&#39;ve tried to just create a new `BodyPublisher` and compare them using `.equals()`, but there is no real implementation of it and so the comparison was always false.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html","title":"How to test java.net.http (Java 11) requests BodyPublisher?","body":"<p>I'm trying to test my code which uses the new Java 11 <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"noreferrer\"><code>java.net.http.HttpClient</code></a>.</p>\n\n<p>In my production code I have something like this:</p>\n\n<pre><code>HttpClient httpClient = ... (gets injected)\n\nHttpRequest request = HttpRequest.newBuilder().uri(URI.create(\"http://localhost:1234\"))\n        .POST(HttpRequest.BodyPublishers.ofByteArray(\"example\".getBytes()))\n        .build();\n\nreturn httpClient.send(request, HttpResponse.BodyHandlers.ofByteArray());\n</code></pre>\n\n<p>And in my test I mock the <code>HttpClient</code> and so get the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html\" rel=\"noreferrer\"><code>java.net.http.HttpRequest</code></a>. How do I get/test its request body (= my <code>\"example\"</code>)? I can call <code>request.bodyPublisher()</code> to get a <code>HttpRequest.BodyPublisher</code>, but then I'm stuck.</p>\n\n<ul>\n<li>I've tried to cast it to <code>jdk.internal.net.http.RequestPublishers.ByteArrayPublisher</code> (which it actually is), but it won't compile because the corresponding package is not exported by the module.</li>\n<li>I've checked the available methods in the <code>HttpRequest.BodyPublisher</code>-interface (<code>.contentLength()</code>, <code>.subscribe(subscriber)</code>) but I guess it's not possible with them.</li>\n<li>I've tried to just create a new <code>BodyPublisher</code> and compare them using <code>.equals()</code>, but there is no real implementation of it and so the comparison was always false.</li>\n</ul>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1698440212,"post_id":77376912,"comment_id":136410810,"body_markdown":"`IntStream` doesn&#39;t have `collect(Collector)` method like `Stream`. Consider using `Integer[]` instead of `int[]`, or call `.boxed()` first to convert `IntStream` to `Stream&lt;Integerr&gt;`.","body":"<code>IntStream</code> doesn&#39;t have <code>collect(Collector)</code> method like <code>Stream</code>. Consider using <code>Integer[]</code> instead of <code>int[]</code>, or call <code>.boxed()</code> first to convert <code>IntStream</code> to <code>Stream&lt;Integerr&gt;</code>."},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1698440284,"post_id":77376912,"comment_id":136410824,"body_markdown":"Anyway what do you mean by &quot;..even though those are autoboxed to Integer&quot;?","body":"Anyway what do you mean by &quot;..even though those are autoboxed to Integer&quot;?"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698684576,"post_id":77376912,"comment_id":136433717,"body_markdown":"Side note: instead of `Collectors.summingInt(e -&gt; 1)` you can use `Collectors.counting()`. It produces a `Map&lt;‚Ä¶, Long&gt;` though.","body":"Side note: instead of <code>Collectors.summingInt(e -&gt; 1)</code> you can use <code>Collectors.counting()</code>. It produces a <code>Map&lt;‚Ä¶, Long&gt;</code> though."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698441336,"creation_date":1698440905,"answer_id":77377051,"question_id":77376912,"body_markdown":"## tl;dr\r\n\r\nAdd a call to `.boxed`.\r\n\r\n## No auto-boxing here\r\n\r\nAs [Commented by Pshemo][1], [`IntStream`][2] does not [auto-box][3]. You are working with `int` primitives only in an `IntStream`.\r\n\r\nYour code would work if you simply &#128073;&#127996; insert a call to [`IntStream#boxed`][4]. Your stream of `int` primitive values then becomes a stream of [`Integer`][5] objects. \r\n\r\n```java\r\nint[] ints = new int[] { 1 , 2 , 3 , 3 , 4 };\r\nMap &lt; Integer , Integer &gt; integersMap =\r\n        Arrays\r\n                .stream ( ints )\r\n                .boxed ( )  // ‚¨ÖÔ∏è\r\n                .collect (\r\n                        Collectors.groupingBy (\r\n                                Function.identity ( ) ,\r\n                                Collectors.summingInt ( ( Integer i ) -&gt; 1 )\r\n                        )\r\n                );\r\n``` \r\n\r\n&gt;stringMap = {banana=1, apple=2}\r\n\r\nAnd, for reference, the `String` code.\r\n\r\n```java\r\nString[] names = new String[] { &quot;apple&quot; , &quot;apple&quot; , &quot;banana&quot; };\r\nMap &lt; String , Integer &gt; stringMap =\r\n        Arrays\r\n                .stream ( names )\r\n                .collect (\r\n                        Collectors.groupingBy (\r\n                                Function.identity ( ) ,\r\n                                Collectors.summingInt ( ( String s ) -&gt; 1 )\r\n                        )\r\n                );\r\n```\r\n\r\n&gt;integersMap = {1=1, 2=1, 3=2, 4=1}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77376912/unable-to-apply-collectors-groupingby-on-an-intstream/77377051#comment136410810_77376912\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/stream/IntStream.html\r\n  [3]: https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/stream/IntStream.html#boxed()\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/Integer.html","title":"Unable to apply Collectors.groupingBy on an IntStream","body":"<h2>tl;dr</h2>\n<p>Add a call to <code>.boxed</code>.</p>\n<h2>No auto-boxing here</h2>\n<p>As <a href=\"https://stackoverflow.com/questions/77376912/unable-to-apply-collectors-groupingby-on-an-intstream/77377051#comment136410810_77376912\">Commented by Pshemo</a>, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a> does not <a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\" rel=\"nofollow noreferrer\">auto-box</a>. You are working with <code>int</code> primitives only in an <code>IntStream</code>.</p>\n<p>Your code would work if you simply üëâüèº insert a call to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/stream/IntStream.html#boxed()\" rel=\"nofollow noreferrer\"><code>IntStream#boxed</code></a>. Your stream of <code>int</code> primitive values then becomes a stream of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] ints = new int[] { 1 , 2 , 3 , 3 , 4 };\nMap &lt; Integer , Integer &gt; integersMap =\n        Arrays\n                .stream ( ints )\n                .boxed ( )  // ‚¨ÖÔ∏è\n                .collect (\n                        Collectors.groupingBy (\n                                Function.identity ( ) ,\n                                Collectors.summingInt ( ( Integer i ) -&gt; 1 )\n                        )\n                );\n</code></pre>\n<blockquote>\n<p>stringMap = {banana=1, apple=2}</p>\n</blockquote>\n<p>And, for reference, the <code>String</code> code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] names = new String[] { &quot;apple&quot; , &quot;apple&quot; , &quot;banana&quot; };\nMap &lt; String , Integer &gt; stringMap =\n        Arrays\n                .stream ( names )\n                .collect (\n                        Collectors.groupingBy (\n                                Function.identity ( ) ,\n                                Collectors.summingInt ( ( String s ) -&gt; 1 )\n                        )\n                );\n</code></pre>\n<blockquote>\n<p>integersMap = {1=1, 2=1, 3=2, 4=1}</p>\n</blockquote>\n"}],"owner":{"account_id":14804437,"reputation":35,"user_id":10691860,"display_name":"Manak Bisht"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1698469373,"accepted_answer_id":77377051,"answer_count":1,"score":2,"last_activity_date":1698441336,"creation_date":1698438858,"question_id":77376912,"body_markdown":"This code works fine with other objects, but not int, even though those are autoboxed to Integer. I am unable to understand the error message.\r\n```\r\njshell&gt; String[] names = new String[]{&quot;apple&quot;, &quot;apple&quot;, &quot;banana&quot;};\r\nnames ==&gt; String[3] { &quot;apple&quot;, &quot;apple&quot;, &quot;banana&quot; }\r\n\r\njshell&gt; Map&lt;String, Integer&gt; stringMap = Arrays.stream(names).collect(Collectors.groupingBy(Function.identity(), Collectors.summingInt(e -&gt; 1)));\r\nstringMap ==&gt; {banana=1, apple=2}\r\n\r\njshell&gt; int[] nums = new int[]{1,2,3,3,4};\r\nnums ==&gt; int[5] { 1, 2, 3, 3, 4 }\r\n\r\njshell&gt; Map&lt;Integer, Integer&gt; numsMap = Arrays.stream(nums).collect(Collectors.groupingBy(Function.identity(), Collectors.summingInt(e -&gt; 1)));\r\n|  Error:\r\n|  method collect in interface java.util.stream.IntStream cannot be applied to given types;\r\n|    required: java.util.function.Supplier&lt;R&gt;,java.util.function.ObjIntConsumer&lt;R&gt;,java.util.function.BiConsumer&lt;R,R&gt;\r\n|    found: java.util.stream.Collector&lt;java.lang.Object,capture#1 of ?,java.util.Map&lt;java.lang.Object,java.lang.Integer&gt;&gt;\r\n|    reason: cannot infer type-variable(s) R\r\n|      (actual and formal argument lists differ in length)\r\n|  Map&lt;Integer, Integer&gt; numsMap = Arrays.stream(nums).collect(Collectors.groupingBy(Function.identity(), Collectors.summingInt(e -&gt; 1)));\r\n|                                  ^-------------------------^\r\n\r\n```","title":"Unable to apply Collectors.groupingBy on an IntStream","body":"<p>This code works fine with other objects, but not int, even though those are autoboxed to Integer. I am unable to understand the error message.</p>\n<pre><code>jshell&gt; String[] names = new String[]{&quot;apple&quot;, &quot;apple&quot;, &quot;banana&quot;};\nnames ==&gt; String[3] { &quot;apple&quot;, &quot;apple&quot;, &quot;banana&quot; }\n\njshell&gt; Map&lt;String, Integer&gt; stringMap = Arrays.stream(names).collect(Collectors.groupingBy(Function.identity(), Collectors.summingInt(e -&gt; 1)));\nstringMap ==&gt; {banana=1, apple=2}\n\njshell&gt; int[] nums = new int[]{1,2,3,3,4};\nnums ==&gt; int[5] { 1, 2, 3, 3, 4 }\n\njshell&gt; Map&lt;Integer, Integer&gt; numsMap = Arrays.stream(nums).collect(Collectors.groupingBy(Function.identity(), Collectors.summingInt(e -&gt; 1)));\n|  Error:\n|  method collect in interface java.util.stream.IntStream cannot be applied to given types;\n|    required: java.util.function.Supplier&lt;R&gt;,java.util.function.ObjIntConsumer&lt;R&gt;,java.util.function.BiConsumer&lt;R,R&gt;\n|    found: java.util.stream.Collector&lt;java.lang.Object,capture#1 of ?,java.util.Map&lt;java.lang.Object,java.lang.Integer&gt;&gt;\n|    reason: cannot infer type-variable(s) R\n|      (actual and formal argument lists differ in length)\n|  Map&lt;Integer, Integer&gt; numsMap = Arrays.stream(nums).collect(Collectors.groupingBy(Function.identity(), Collectors.summingInt(e -&gt; 1)));\n|                                  ^-------------------------^\n\n</code></pre>\n"},{"tags":["java","maven","google-app-engine","continuous-integration","continuous-deployment"],"answers":[{"tags":[],"owner":{"account_id":4233483,"reputation":1782,"user_id":6003934,"display_name":"Juancki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1612868752,"creation_date":1612868752,"answer_id":66117752,"question_id":66095616,"body_markdown":"```/workspace/.mvn/wrapper/maven-wrapper.properties: No such file```\r\n\r\nThe error indicates that Maven is trying to open the file `maven-wrapper.properties`, however it is not found. Please confirm that the file is there.\r\n\r\nYou may want to take a look to https://stackoverflow.com/a/50105966/6003934\r\n","title":"Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain when deploy maven project to app engine gg cloud with cicd","body":"<p><code>/workspace/.mvn/wrapper/maven-wrapper.properties: No such file</code></p>\n<p>The error indicates that Maven is trying to open the file <code>maven-wrapper.properties</code>, however it is not found. Please confirm that the file is there.</p>\n<p>You may want to take a look to <a href=\"https://stackoverflow.com/a/50105966/6003934\">https://stackoverflow.com/a/50105966/6003934</a></p>\n"},{"tags":[],"owner":{"account_id":22453361,"reputation":97,"user_id":16656366,"display_name":"LongDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698441275,"creation_date":1698441275,"answer_id":77377076,"question_id":66095616,"body_markdown":"you are missing .mvn folder so it cannot find, just copy .mvn folder from your old spring boot project or just go on spring initializer and create one project , it will have .mvn folder include\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GeFdZ.png","title":"Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain when deploy maven project to app engine gg cloud with cicd","body":"<p>you are missing .mvn folder so it cannot find, just copy .mvn folder from your old spring boot project or just go on spring initializer and create one project , it will have .mvn folder include</p>\n<p><a href=\"https://i.stack.imgur.com/GeFdZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GeFdZ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19305691,"reputation":21,"user_id":14112550,"display_name":"H·ªìng Tr∆∞·ªùng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3847,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":66117752,"answer_count":2,"score":-2,"last_activity_date":1698441275,"creation_date":1612755429,"question_id":66095616,"body_markdown":"i deployed maven project demo to app engine gg cloud with cicd and this is error build log gg app:\r\n\r\n&gt; Step #6 - &quot;builder&quot;: ./mvnw: 219: ./mvnw: cannot open\r\n&gt; /workspace/.mvn/wrapper/maven-wrapper.properties: No such file\r\n&gt;     Step #6 - &quot;builder&quot;: /workspace/.mvn/wrapper/maven-wrapper.jar: No such file or directory\r\n&gt;     Step #6 - &quot;builder&quot;: Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain\r\n&gt;     Step #6 - &quot;builder&quot;: Caused by: java.lang.ClassNotFoundException: org.apache.maven.wrapper.MavenWrapperMain\r\n&gt;     Step #6 - &quot;builder&quot;: Done &quot;./mvnw clean package --batch-mode -DskipTests&quot; (589.295636ms)\r\n\r\nthis is pom.xml -\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example.simple_project&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\nthis is .gitlab-ci.yml\r\n\r\n    image: larsdroid/integratieproject1:v1\r\n    services:\r\n      - docker:dind\r\n    \r\n    variables:\r\n      DOCKER_DRIVER: overlay\r\n      SPRING_PROFILES_ACTIVE: gitlab-ci\r\n    \r\n    stages:\r\n      - build\r\n      - package\r\n      - deploy\r\n    \r\n    before_script:\r\n       - echo &quot;Start CI/CD&quot;\r\n    \r\n    maven-build:\r\n      image: maven:3-jdk-11\r\n      stage: build\r\n      script:\r\n        - &quot;mvn package -B&quot;\r\n      artifacts:\r\n        paths:\r\n          - target/*.jar\r\n    \r\n    deploy:\r\n      stage: deploy\r\n      script:\r\n        - gcloud auth activate-service-account --key-file $GOOGLE_SERVICE_ACCOUNT_FILE\r\n        - gcloud -q config set project ${GOOGLE_PROJECT_ID}\r\n        - gcloud app deploy app.yaml --quiet --project $GOOGLE_PROJECT_ID\r\n      only:\r\n        - master\r\n    \r\n    after_script:\r\n      - echo &quot;End CI/CD&quot;\r\n\r\nI already have a directory .mvn/wrapper in the project\r\n[root project][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ElVGi.png\r\n","title":"Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain when deploy maven project to app engine gg cloud with cicd","body":"<p>i deployed maven project demo to app engine gg cloud with cicd and this is error build log gg app:</p>\n<blockquote>\n<p>Step #6 - &quot;builder&quot;: ./mvnw: 219: ./mvnw: cannot open\n/workspace/.mvn/wrapper/maven-wrapper.properties: No such file\nStep #6 - &quot;builder&quot;: /workspace/.mvn/wrapper/maven-wrapper.jar: No such file or directory\nStep #6 - &quot;builder&quot;: Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain\nStep #6 - &quot;builder&quot;: Caused by: java.lang.ClassNotFoundException: org.apache.maven.wrapper.MavenWrapperMain\nStep #6 - &quot;builder&quot;: Done &quot;./mvnw clean package --batch-mode -DskipTests&quot; (589.295636ms)</p>\n</blockquote>\n<p>this is pom.xml -</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.3.5.RELEASE\n \n\ncom.example.simple_project\ndemo\n0.0.1-SNAPSHOT\ndemo\nDemo project for Spring Boot</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>this is .gitlab-ci.yml</p>\n<pre><code>image: larsdroid/integratieproject1:v1\nservices:\n  - docker:dind\n\nvariables:\n  DOCKER_DRIVER: overlay\n  SPRING_PROFILES_ACTIVE: gitlab-ci\n\nstages:\n  - build\n  - package\n  - deploy\n\nbefore_script:\n   - echo &quot;Start CI/CD&quot;\n\nmaven-build:\n  image: maven:3-jdk-11\n  stage: build\n  script:\n    - &quot;mvn package -B&quot;\n  artifacts:\n    paths:\n      - target/*.jar\n\ndeploy:\n  stage: deploy\n  script:\n    - gcloud auth activate-service-account --key-file $GOOGLE_SERVICE_ACCOUNT_FILE\n    - gcloud -q config set project ${GOOGLE_PROJECT_ID}\n    - gcloud app deploy app.yaml --quiet --project $GOOGLE_PROJECT_ID\n  only:\n    - master\n\nafter_script:\n  - echo &quot;End CI/CD&quot;\n</code></pre>\n<p>I already have a directory .mvn/wrapper in the project\n<a href=\"https://i.stack.imgur.com/ElVGi.png\" rel=\"nofollow noreferrer\">root project</a></p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1698273154,"post_id":77363164,"comment_id":136385968,"body_markdown":"This looks like a problem people had after upgrading Java versions in IntelliJ IDEA.  Are you using that IDE?  See https://stackoverflow.com/questions/54205486/how-to-avoid-sharing-is-only-supported-for-boot-loader-classes-because-bootstra","body":"This looks like a problem people had after upgrading Java versions in IntelliJ IDEA.  Are you using that IDE?  See <a href=\"https://stackoverflow.com/questions/54205486/how-to-avoid-sharing-is-only-supported-for-boot-loader-classes-because-bootstra\" title=\"how to avoid sharing is only supported for boot loader classes because bootstra\">stackoverflow.com/questions/54205486/&hellip;</a>"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1698318147,"post_id":77363164,"comment_id":136391506,"body_markdown":"I suspect it is related to using multiple Scanners on the same input stream (i.e. System.in).","body":"I suspect it is related to using multiple Scanners on the same input stream (i.e. System.in)."},{"owner":{"account_id":29743472,"reputation":11,"user_id":22795211,"display_name":"Andrews"},"score":0,"creation_date":1698364495,"post_id":77363164,"comment_id":136399623,"body_markdown":"The code requests 2 inputs with the Scanner, but in the test I am using only one input.\nI tried to duplicate the input code but it didn&#39;t work the same way.","body":"The code requests 2 inputs with the Scanner, but in the test I am using only one input. I tried to duplicate the input code but it didn&#39;t work the same way."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1698390895,"post_id":77363164,"comment_id":136401810,"body_markdown":"In general, consider using `Console.readLine` to prompt for user input rather than the scanner.","body":"In general, consider using <code>Console.readLine</code> to prompt for user input rather than the scanner."}],"answers":[{"tags":[],"owner":{"account_id":29743472,"reputation":11,"user_id":22795211,"display_name":"Andrews"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698440777,"creation_date":1698439750,"answer_id":77376976,"question_id":77363164,"body_markdown":"I found the error!\r\n\r\nI managed to solve it simply by changing the code in the petsService class.\r\n\r\nI changed the scanner code to:\r\n\r\n    \r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Digite o id ou nome do abrigo:&quot;);\r\n        String idOuNome = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Digite o nome do arquivo CSV:&quot;);\r\n        String nomeArquivo = scanner.nextLine();\r\n\r\n        scanner.close();\r\n\r\n\r\nThe previous code was:\r\n\r\n     \r\n\r\n        System.out.println(&quot;Digite o id ou nome do abrigo:&quot;);\r\n        String idOuNome = new Scanner(System.in).nextLine();\r\n\r\n        System.out.println(&quot;Digite o nome do arquivo CSV:&quot;);\r\n        String nomeArquivo = new Scanner(System.in).nextLine();\r\n\r\nApparently this was what generated the error of not finding the second line of the input.\r\n\r\nThank you all for your help!","title":"Problems with running the test in Java","body":"<p>I found the error!</p>\n<p>I managed to solve it simply by changing the code in the petsService class.</p>\n<p>I changed the scanner code to:</p>\n<pre><code>    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Digite o id ou nome do abrigo:&quot;);\n    String idOuNome = scanner.nextLine();\n\n    System.out.println(&quot;Digite o nome do arquivo CSV:&quot;);\n    String nomeArquivo = scanner.nextLine();\n\n    scanner.close();\n</code></pre>\n<p>The previous code was:</p>\n<pre><code>    System.out.println(&quot;Digite o id ou nome do abrigo:&quot;);\n    String idOuNome = new Scanner(System.in).nextLine();\n\n    System.out.println(&quot;Digite o nome do arquivo CSV:&quot;);\n    String nomeArquivo = new Scanner(System.in).nextLine();\n</code></pre>\n<p>Apparently this was what generated the error of not finding the second line of the input.</p>\n<p>Thank you all for your help!</p>\n"}],"owner":{"account_id":29743472,"reputation":11,"user_id":22795211,"display_name":"Andrews"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698440777,"creation_date":1698272125,"question_id":77363164,"body_markdown":"I have a petService class where it lists pets from a shelter and imports the pet file where it gets the id or name of the shelter through the Java class&#39;s Scanner and the name of the .csv file also through the Scanner. Then I created a test for importing pets, when running it gives me an error saying that it was not possible to find a line for the scanner.\r\n\r\nI used the Junit and Mockito libraries to create the tests.\r\n\r\nThe ImportPets code:\r\n\r\n```\r\npublic void importarPetsDoAbrigo() throws IOException, InterruptedException {\r\n        System.out.println(&quot;Digite o id ou nome do abrigo:&quot;);\r\n        String idOuNome = new Scanner(System.in).nextLine();\r\n\r\n        System.out.println(&quot;Digite o nome do arquivo CSV:&quot;);\r\n        String nomeArquivo = new Scanner(System.in).nextLine();\r\n\r\n        BufferedReader reader = null;\r\n        try {\r\n            reader = new BufferedReader(new FileReader(nomeArquivo));\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Erro ao carregar o arquivo: &quot; +nomeArquivo);\r\n        }\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            String[] campos = line.split(&quot;,&quot;);\r\n            String tipo = campos[0].toUpperCase();\r\n            String nome = campos[1];\r\n            String raca = campos[2];\r\n            int idade = Integer.parseInt(campos[3]);\r\n            String cor = campos[4];\r\n            Float peso = Float.parseFloat(campos[5]);\r\n\r\n            Pet pet = new Pet(raca, nome, tipo, cor, idade, peso);\r\n\r\n            String uri = &quot;http://localhost:8080/abrigos/&quot; + idOuNome + &quot;/pets&quot;;\r\n            HttpResponse&lt;String&gt; response = client.dispararRequisicaoPost(uri, pet);\r\n            int statusCode = response.statusCode();\r\n            String responseBody = response.body();\r\n            if (statusCode == 200) {\r\n                System.out.println(&quot;Pet cadastrado com sucesso: &quot; + nome);\r\n            } else if (statusCode == 404) {\r\n                System.out.println(&quot;Id ou nome do abrigo n&#227;o encontado!&quot;);\r\n                break;\r\n            } else if (statusCode == 400 || statusCode == 500) {\r\n                System.out.println(&quot;Erro ao cadastrar o pet: &quot; + nome);\r\n                System.out.println(responseBody);\r\n                break;\r\n            }\r\n        }\r\n        reader.close();\r\n    }\r\n```\r\n\r\nThe test code:\r\n\r\n```\r\n@Test\r\n    public void deveVerificarSeImportouOsPetsDoAbrigo() throws IOException, InterruptedException {\r\n        String userInput = String.format(&quot;Test%spets.csv&quot;, System.lineSeparator());\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(userInput.getBytes());\r\n        System.setIn(bais);\r\n\r\n        when(client.dispararRequisicaoPost(anyString(), any())).thenReturn(response);\r\n        petsService.importarPetsDoAbrigo();\r\n        verify(client.dispararRequisicaoPost(anyString(), anyString()), atLeast(1));\r\n    }\r\n```\r\n\r\nThe error generated:\r\n\r\n```\r\nJava HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\nDigite o id ou nome do abrigo:\r\nDigite o nome do arquivo CSV:\r\n\r\njava.util.NoSuchElementException: No line found\r\n\r\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1656)\r\n\tat br.com.alura.service.PetsService.importarPetsDoAbrigo(PetsService.java:57)\r\n\tat br.com.alura.service.PetsServiceTest.deveVerificarSeImportouOsPetsDoAbrigo(PetsServiceTest.java:31)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n```\r\n\r\nI performed the debugging and managed to identify that the first scanner was performed successfully but the second was not. I&#39;ve tried to do some things but I couldn&#39;t.\r\n\r\nCan anyone help me?","title":"Problems with running the test in Java","body":"<p>I have a petService class where it lists pets from a shelter and imports the pet file where it gets the id or name of the shelter through the Java class's Scanner and the name of the .csv file also through the Scanner. Then I created a test for importing pets, when running it gives me an error saying that it was not possible to find a line for the scanner.</p>\n<p>I used the Junit and Mockito libraries to create the tests.</p>\n<p>The ImportPets code:</p>\n<pre><code>public void importarPetsDoAbrigo() throws IOException, InterruptedException {\n        System.out.println(&quot;Digite o id ou nome do abrigo:&quot;);\n        String idOuNome = new Scanner(System.in).nextLine();\n\n        System.out.println(&quot;Digite o nome do arquivo CSV:&quot;);\n        String nomeArquivo = new Scanner(System.in).nextLine();\n\n        BufferedReader reader = null;\n        try {\n            reader = new BufferedReader(new FileReader(nomeArquivo));\n        } catch (IOException e) {\n            System.out.println(&quot;Erro ao carregar o arquivo: &quot; +nomeArquivo);\n        }\n        String line;\n        while ((line = reader.readLine()) != null) {\n            String[] campos = line.split(&quot;,&quot;);\n            String tipo = campos[0].toUpperCase();\n            String nome = campos[1];\n            String raca = campos[2];\n            int idade = Integer.parseInt(campos[3]);\n            String cor = campos[4];\n            Float peso = Float.parseFloat(campos[5]);\n\n            Pet pet = new Pet(raca, nome, tipo, cor, idade, peso);\n\n            String uri = &quot;http://localhost:8080/abrigos/&quot; + idOuNome + &quot;/pets&quot;;\n            HttpResponse&lt;String&gt; response = client.dispararRequisicaoPost(uri, pet);\n            int statusCode = response.statusCode();\n            String responseBody = response.body();\n            if (statusCode == 200) {\n                System.out.println(&quot;Pet cadastrado com sucesso: &quot; + nome);\n            } else if (statusCode == 404) {\n                System.out.println(&quot;Id ou nome do abrigo n√£o encontado!&quot;);\n                break;\n            } else if (statusCode == 400 || statusCode == 500) {\n                System.out.println(&quot;Erro ao cadastrar o pet: &quot; + nome);\n                System.out.println(responseBody);\n                break;\n            }\n        }\n        reader.close();\n    }\n</code></pre>\n<p>The test code:</p>\n<pre><code>@Test\n    public void deveVerificarSeImportouOsPetsDoAbrigo() throws IOException, InterruptedException {\n        String userInput = String.format(&quot;Test%spets.csv&quot;, System.lineSeparator());\n        ByteArrayInputStream bais = new ByteArrayInputStream(userInput.getBytes());\n        System.setIn(bais);\n\n        when(client.dispararRequisicaoPost(anyString(), any())).thenReturn(response);\n        petsService.importarPetsDoAbrigo();\n        verify(client.dispararRequisicaoPost(anyString(), anyString()), atLeast(1));\n    }\n</code></pre>\n<p>The error generated:</p>\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\nDigite o id ou nome do abrigo:\nDigite o nome do arquivo CSV:\n\njava.util.NoSuchElementException: No line found\n\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1656)\n    at br.com.alura.service.PetsService.importarPetsDoAbrigo(PetsService.java:57)\n    at br.com.alura.service.PetsServiceTest.deveVerificarSeImportouOsPetsDoAbrigo(PetsServiceTest.java:31)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<p>I performed the debugging and managed to identify that the first scanner was performed successfully but the second was not. I've tried to do some things but I couldn't.</p>\n<p>Can anyone help me?</p>\n"},{"tags":["java","jdbc","netbeans"],"comments":[{"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"score":0,"creation_date":1449514715,"post_id":34141092,"comment_id":56030222,"body_markdown":"Which Oracle version are you using?","body":"Which Oracle version are you using?"},{"owner":{"account_id":5447098,"reputation":377,"user_id":4333256,"accept_rate":70,"display_name":"Owen Nel"},"score":0,"creation_date":1449514810,"post_id":34141092,"comment_id":56030273,"body_markdown":"do you mean the jdbc driver? it is ojdbc7","body":"do you mean the jdbc driver? it is ojdbc7"},{"owner":{"account_id":5447098,"reputation":377,"user_id":4333256,"accept_rate":70,"display_name":"Owen Nel"},"score":0,"creation_date":1449514977,"post_id":34141092,"comment_id":56030365,"body_markdown":"Lol... ok my bad. I am trying to install a ojdbc.jar for a mysql server. My bad. This question may be closed","body":"Lol... ok my bad. I am trying to install a ojdbc.jar for a mysql server. My bad. This question may be closed"},{"owner":{"account_id":10109674,"reputation":2145,"user_id":7471088,"display_name":"Tandoh Anthony Nwi-Ackah"},"score":0,"creation_date":1513682372,"post_id":34141092,"comment_id":82737194,"body_markdown":"I&#39;m facing the same issue. Any Help please ?","body":"I&#39;m facing the same issue. Any Help please ?"}],"answers":[{"tags":[],"owner":{"account_id":4164781,"reputation":523,"user_id":3413961,"accept_rate":81,"display_name":"Nimble Fungus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449514956,"creation_date":1449514956,"answer_id":34141172,"question_id":34141092,"body_markdown":"Check Following things\r\n\r\n 1. Do u have Oracle at your local machine, if not change the Host to\r\n    appropriate value.\r\n 2. Check if you fire wall is allowing Both oracle and neat bean to\r\n    access these ports.\r\n\r\n ","title":"Cannot&#160;establish&#160;a&#160;connection&#160;to&#160;jdbc:oracle:thin:@localhost:1521:XE","body":"<p>Check Following things</p>\n\n<ol>\n<li>Do u have Oracle at your local machine, if not change the Host to\nappropriate value.</li>\n<li>Check if you fire wall is allowing Both oracle and neat bean to\naccess these ports.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2475750,"reputation":366,"user_id":2156439,"display_name":"radekbaranowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449515746,"creation_date":1449515746,"answer_id":34141374,"question_id":34141092,"body_markdown":"Check if your listener port is running with\r\n\r\n    lsnrctl status","title":"Cannot&#160;establish&#160;a&#160;connection&#160;to&#160;jdbc:oracle:thin:@localhost:1521:XE","body":"<p>Check if your listener port is running with</p>\n\n<pre><code>lsnrctl status\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7813124,"reputation":715,"user_id":5908729,"accept_rate":48,"display_name":"sql_dummy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491845552,"creation_date":1491845552,"answer_id":43329479,"question_id":34141092,"body_markdown":"Check if your oracle is running at port you are about to specify in Netbeans.","title":"Cannot&#160;establish&#160;a&#160;connection&#160;to&#160;jdbc:oracle:thin:@localhost:1521:XE","body":"<p>Check if your oracle is running at port you are about to specify in Netbeans.</p>\n"}],"owner":{"account_id":5447098,"reputation":377,"user_id":4333256,"accept_rate":70,"display_name":"Owen Nel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8879,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1698440475,"creation_date":1449514631,"question_id":34141092,"body_markdown":"I am trying to set up a JDBC driver and connection to a database in NetBeans. In the new connection wizard I have filled out the following info:\r\n\r\n[![Netbeans New Connection Wizard][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KDivC.png\r\n\r\nI keep getting the error \r\n&gt; Cannot&#160;establish&#160;a&#160;connection&#160;to&#160;jdbc:oracle:thin:@localhost:1521:XE\r\n\r\nI am following the steps on https://netbeans.org/kb/docs/ide/oracle-db.html precisely and it is still not allowing me to do this? Why is this so complicated in NetBeans?\r\n\r\nAny help would be appreciated. I have confirmed that the server is running on my local PC with URL: 127.0.0.1\r\n","title":"Cannot&#160;establish&#160;a&#160;connection&#160;to&#160;jdbc:oracle:thin:@localhost:1521:XE","body":"<p>I am trying to set up a JDBC driver and connection to a database in NetBeans. In the new connection wizard I have filled out the following info:</p>\n<p><a href=\"https://i.stack.imgur.com/KDivC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KDivC.png\" alt=\"Netbeans New Connection Wizard\" /></a></p>\n<p>I keep getting the error</p>\n<blockquote>\n<p>Cannot¬†establish¬†a¬†connection¬†to¬†jdbc:oracle:thin:@localhost:1521:XE</p>\n</blockquote>\n<p>I am following the steps on <a href=\"https://netbeans.org/kb/docs/ide/oracle-db.html\" rel=\"nofollow noreferrer\">https://netbeans.org/kb/docs/ide/oracle-db.html</a> precisely and it is still not allowing me to do this? Why is this so complicated in NetBeans?</p>\n<p>Any help would be appreciated. I have confirmed that the server is running on my local PC with URL: 127.0.0.1</p>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1698264495,"post_id":77362500,"comment_id":136384811,"body_markdown":"Since it&#39;s async, you&#39;d never be able to do this. Not a Spring library I&#39;m familiar with, but there&#39;s some configuration of whatever `flowId` is a reference to. With how Spring libraries typically work, you&#39;d register some sort of error handler during configuration.","body":"Since it&#39;s async, you&#39;d never be able to do this. Not a Spring library I&#39;m familiar with, but there&#39;s some configuration of whatever <code>flowId</code> is a reference to. With how Spring libraries typically work, you&#39;d register some sort of error handler during configuration."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1698264902,"post_id":77362500,"comment_id":136384872,"body_markdown":"You need to show an example flow, and stack trace. Edit the question; don&#39;t try to put it in a comment.","body":"You need to show an example flow, and stack trace. Edit the question; don&#39;t try to put it in a comment."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1698266075,"post_id":77362500,"comment_id":136385028,"body_markdown":"This has nothing to do with the flow by itself. That `start()` is propagated down to endpoints registered in that flow, so indeed a check for &quot;file exists&quot; may happen on the other thread since a `SourcePollingChannelAdapter` does its work in a `TaskScheduler`.","body":"This has nothing to do with the flow by itself. That <code>start()</code> is propagated down to endpoints registered in that flow, so indeed a check for &quot;file exists&quot; may happen on the other thread since a <code>SourcePollingChannelAdapter</code> does its work in a <code>TaskScheduler</code>."},{"owner":{"account_id":28343732,"reputation":13,"user_id":21676292,"display_name":"rcirne"},"score":0,"creation_date":1698266709,"post_id":77362500,"comment_id":136385109,"body_markdown":"@ArtemBilan you are correct, I have error handling in the flow, I need to react to errors that happen when starting the adapter, like trying a different directory or URL, for example.","body":"@ArtemBilan you are correct, I have error handling in the flow, I need to react to errors that happen when starting the adapter, like trying a different directory or URL, for example."},{"owner":{"account_id":28343732,"reputation":13,"user_id":21676292,"display_name":"rcirne"},"score":0,"creation_date":1698268544,"post_id":77362500,"comment_id":136385417,"body_markdown":"I need to add resilience to the integration flows. My reasoning was to catch any exception in the adapter initialization, scrap the faulty flow, create a new flow with an alternative endpoint and start it. Repeat this as many times as needed until a config works.","body":"I need to add resilience to the integration flows. My reasoning was to catch any exception in the adapter initialization, scrap the faulty flow, create a new flow with an alternative endpoint and start it. Repeat this as many times as needed until a config works."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1698331330,"post_id":77362500,"comment_id":136394372,"body_markdown":"Right. That&#39;s why Gary is asking you to show config of such a flow. You really can have an `errorChannel` on the inbound channel adapter and react to the `ErrorMessage` sent to that channel respectively.","body":"Right. That&#39;s why Gary is asking you to show config of such a flow. You really can have an <code>errorChannel</code> on the inbound channel adapter and react to the <code>ErrorMessage</code> sent to that channel respectively."},{"owner":{"account_id":28343732,"reputation":13,"user_id":21676292,"display_name":"rcirne"},"score":0,"creation_date":1698363354,"post_id":77362500,"comment_id":136399549,"body_markdown":"I have added an example flow to give more context. Thanks for the responses.","body":"I have added an example flow to give more context. Thanks for the responses."},{"owner":{"account_id":28343732,"reputation":13,"user_id":21676292,"display_name":"rcirne"},"score":0,"creation_date":1698697749,"post_id":77362500,"comment_id":136435940,"body_markdown":"Hey, @ArtemBilan, does the new information added help to clarify the issue?","body":"Hey, @ArtemBilan, does the new information added help to clarify the issue?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1698765124,"post_id":77362500,"comment_id":136445236,"body_markdown":"Yeah... I see. Unfortunately this `WebSocketInboundChannelAdapter` doesn&#39;t react properly to the `start()` failure of its `IntegrationWebSocketContainer`. Feel free to raise a GH issue and we will investigate. Thanks","body":"Yeah... I see. Unfortunately this <code>WebSocketInboundChannelAdapter</code> doesn&#39;t react properly to the <code>start()</code> failure of its <code>IntegrationWebSocketContainer</code>. Feel free to raise a GH issue and we will investigate. Thanks"}],"owner":{"account_id":28343732,"reputation":13,"user_id":21676292,"display_name":"rcirne"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698440319,"creation_date":1698263194,"question_id":77362500,"body_markdown":"I have a Spring Integration application where I use an IntegrationFlowContext to manage my integration flows. They need to be started, stopped and restarted dynamically through an exposed endpoint. My issue is how to catch an exception thrown when I run:\r\n\r\n`integrationFlowContext.getRegistrationById(flowId).start()`\r\n\r\nThis can be any sort of exception, like file not found, bad queue name, bad websocket URL etc.\r\n\r\nI have tried wrapping the code above in a try-catch block, but the Lifecycle call runs asynchronously, so the exception is not caught there.\r\n\r\n## Edit ##\r\n\r\nBelow is an example flow that my be retried when an Exception is thrown:\r\n\r\n```\r\n@Configuration\r\nclass FlowConfig {\r\n  @Value(&quot;${ws.url}&quot;)\r\n  private String wsUrl;\r\n\r\n  @Bean\r\n  MessageChannel myWebSocketOutputChannel() {\r\n    return new DirectChannel();\r\n  }\r\n\r\n  @Bean\r\n  MessageChannel myWebSocketErrorChannel() {\r\n    return new DirectChannel();\r\n  }\r\n\r\n  @Bean\r\n  WebSocketClient standardWebSocketClient() {\r\n    return new StandardWebSocketClient();\r\n  }\r\n\r\n  @Bean\r\n  IntegrationWebSocketContainer myIntegrationWebSocketContainer(\r\n      final WebSocketClient webSocketClient) throws IOException {\r\n    return new ClientWebSocketContainer(webSocketClient, wsUrl);\r\n  }\r\n\r\n  @Bean\r\n  WebSocketInboundChannelAdapter myWebSocketInboundChannelAdapter(\r\n      final IntegrationWebSocketContainer myIntegrationWebSocketContainer,\r\n      final MessageChannel myWebSocketOutputChannel,\r\n      final MessageChannel myWebSocketErrorChannel) {\r\n    final WebSocketInboundChannelAdapter adapter =\r\n        new WebSocketInboundChannelAdapter(myIntegrationWebSocketContainer);\r\n    adapter.setAutoStartup(false);\r\n    adapter.setOutputChannel(myWebSocketOutputChannel);\r\n    adapter.setErrorChannel(myWebSocketErrorChannel);\r\n    return adapter;\r\n  }\r\n\r\n  @Bean\r\n  IntegrationFlow myIntegrationFlow(\r\n      final WebSocketInboundChannelAdapter myWebSocketInboundChannelAdapter,\r\n      final MySocketHandler mySocketHandler,\r\n      final MyOutputHandler myOutputHandler) {\r\n    return IntegrationFlow.from(myWebSocketInboundChannelAdapter)\r\n        .&lt;String&gt;handle(mySocketHandler)\r\n        .&lt;MyMessage&gt;filter(Objects::nonNull)\r\n        .handle(myOutputHandler)\r\n        .get();\r\n  }\r\n}\r\n\r\n@Component\r\npublic class MyWebSocketErrorHandler {\r\n  @ServiceActivator(inputChannel = &quot;myWebSocketErrorChannel&quot;)\r\n  public void handleError(final Message&lt;?&gt; message) {\r\n    log.error(&quot;WebSocket error: {}&quot;, message.getPayload());\r\n  }\r\n}\r\n```\r\n\r\nI don&#180;t see the custom error message in the log when I start this flow and the WS is not available, for instance. I just see the DeploymentException stack trace.\r\n\r\nI have omitted MySocketHandler and MyOutputHandler implementations as they are simple GenericHandler classes.\r\n\r\n## Edit 2 ##\r\n\r\nThis is the exception stack trace when the websocket URL is not available when start is called:\r\n\r\n&gt; 2023-10-25T18:47:55.304Z  INFO 1 --- [nio-8811-exec-1] c.m.r.i.flow.IntegrationFlowManager      : Starting integration flow MY\r\n&gt; 2023-10-25T18:47:55.304Z  INFO 1 --- [nio-8811-exec-1] er$IntegrationWebSocketConnectionManager : Starting IntegrationWebSocketConnectionManager\r\n&gt; 2023-10-25T18:47:55.304Z  INFO 1 --- [nio-8811-exec-1] er$IntegrationWebSocketConnectionManager : Connecting to WebSocket at wss://ws-simulator:3001/ws\r\n&gt; 2023-10-25T18:47:55.313Z  INFO 1 --- [nio-8811-exec-1] o.s.i.w.i.WebSocketInboundChannelAdapter : started bean &#39;MY.websocket:inbound-channel-adapter#0&#39;\r\n&gt; 2023-10-25T18:47:55.410Z ERROR 1 --- [cTaskExecutor-1] er$IntegrationWebSocketConnectionManager : Failed to connect\r\n\r\n&gt; jakarta.websocket.DeploymentException: The HTTP request to initiate the WebSocket connection to [wss://ws-simulator:3001/ws] failed\r\n        at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:429) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\r\n        at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServer(WsWebSocketContainer.java:179) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\r\n        at org.springframework.web.socket.client.standard.StandardWebSocketClient.lambda$executeInternal$0(StandardWebSocketClient.java:150) ~[spring-websocket-6.0.11.jar!/:6.0.11]\r\n        at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.0.11.jar!/:6.0.11]\r\n        at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.util.concurrent.ExecutionException: java.io.EOFException: Unexpected end of stream\r\n        at org.apache.tomcat.websocket.AsyncChannelWrapperSecure$WrapperFuture.get(AsyncChannelWrapperSecure.java:492) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\r\n        at org.apache.tomcat.websocket.WsWebSocketContainer.processResponse(WsWebSocketContainer.java:793) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\r\n        at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:335) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\r\n        ... 5 common frames omitted\r\nCaused by: java.io.EOFException: Unexpected end of stream\r\n        at org.apache.tomcat.websocket.AsyncChannelWrapperSecure$ReadTask.run(AsyncChannelWrapperSecure.java:261) ~[tomcat-embed-websocket-10.1.11.jar!/:na]        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n        ... 1 common frames omitted","title":"How to catch an Exception on Spring Bean start()","body":"<p>I have a Spring Integration application where I use an IntegrationFlowContext to manage my integration flows. They need to be started, stopped and restarted dynamically through an exposed endpoint. My issue is how to catch an exception thrown when I run:</p>\n<p><code>integrationFlowContext.getRegistrationById(flowId).start()</code></p>\n<p>This can be any sort of exception, like file not found, bad queue name, bad websocket URL etc.</p>\n<p>I have tried wrapping the code above in a try-catch block, but the Lifecycle call runs asynchronously, so the exception is not caught there.</p>\n<h2>Edit</h2>\n<p>Below is an example flow that my be retried when an Exception is thrown:</p>\n<pre><code>@Configuration\nclass FlowConfig {\n  @Value(&quot;${ws.url}&quot;)\n  private String wsUrl;\n\n  @Bean\n  MessageChannel myWebSocketOutputChannel() {\n    return new DirectChannel();\n  }\n\n  @Bean\n  MessageChannel myWebSocketErrorChannel() {\n    return new DirectChannel();\n  }\n\n  @Bean\n  WebSocketClient standardWebSocketClient() {\n    return new StandardWebSocketClient();\n  }\n\n  @Bean\n  IntegrationWebSocketContainer myIntegrationWebSocketContainer(\n      final WebSocketClient webSocketClient) throws IOException {\n    return new ClientWebSocketContainer(webSocketClient, wsUrl);\n  }\n\n  @Bean\n  WebSocketInboundChannelAdapter myWebSocketInboundChannelAdapter(\n      final IntegrationWebSocketContainer myIntegrationWebSocketContainer,\n      final MessageChannel myWebSocketOutputChannel,\n      final MessageChannel myWebSocketErrorChannel) {\n    final WebSocketInboundChannelAdapter adapter =\n        new WebSocketInboundChannelAdapter(myIntegrationWebSocketContainer);\n    adapter.setAutoStartup(false);\n    adapter.setOutputChannel(myWebSocketOutputChannel);\n    adapter.setErrorChannel(myWebSocketErrorChannel);\n    return adapter;\n  }\n\n  @Bean\n  IntegrationFlow myIntegrationFlow(\n      final WebSocketInboundChannelAdapter myWebSocketInboundChannelAdapter,\n      final MySocketHandler mySocketHandler,\n      final MyOutputHandler myOutputHandler) {\n    return IntegrationFlow.from(myWebSocketInboundChannelAdapter)\n        .&lt;String&gt;handle(mySocketHandler)\n        .&lt;MyMessage&gt;filter(Objects::nonNull)\n        .handle(myOutputHandler)\n        .get();\n  }\n}\n\n@Component\npublic class MyWebSocketErrorHandler {\n  @ServiceActivator(inputChannel = &quot;myWebSocketErrorChannel&quot;)\n  public void handleError(final Message&lt;?&gt; message) {\n    log.error(&quot;WebSocket error: {}&quot;, message.getPayload());\n  }\n}\n</code></pre>\n<p>I don¬¥t see the custom error message in the log when I start this flow and the WS is not available, for instance. I just see the DeploymentException stack trace.</p>\n<p>I have omitted MySocketHandler and MyOutputHandler implementations as they are simple GenericHandler classes.</p>\n<h2>Edit 2</h2>\n<p>This is the exception stack trace when the websocket URL is not available when start is called:</p>\n<blockquote>\n<p>2023-10-25T18:47:55.304Z  INFO 1 --- [nio-8811-exec-1] c.m.r.i.flow.IntegrationFlowManager      : Starting integration flow MY\n2023-10-25T18:47:55.304Z  INFO 1 --- [nio-8811-exec-1] er$IntegrationWebSocketConnectionManager : Starting IntegrationWebSocketConnectionManager\n2023-10-25T18:47:55.304Z  INFO 1 --- [nio-8811-exec-1] er$IntegrationWebSocketConnectionManager : Connecting to WebSocket at wss://ws-simulator:3001/ws\n2023-10-25T18:47:55.313Z  INFO 1 --- [nio-8811-exec-1] o.s.i.w.i.WebSocketInboundChannelAdapter : started bean 'MY.websocket:inbound-channel-adapter#0'\n2023-10-25T18:47:55.410Z ERROR 1 --- [cTaskExecutor-1] er$IntegrationWebSocketConnectionManager : Failed to connect</p>\n</blockquote>\n<blockquote>\n<p>jakarta.websocket.DeploymentException: The HTTP request to initiate the WebSocket connection to [wss://ws-simulator:3001/ws] failed\nat org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:429) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\nat org.apache.tomcat.websocket.WsWebSocketContainer.connectToServer(WsWebSocketContainer.java:179) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\nat org.springframework.web.socket.client.standard.StandardWebSocketClient.lambda$executeInternal$0(StandardWebSocketClient.java:150) ~[spring-websocket-6.0.11.jar!/:6.0.11]\nat org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.0.11.jar!/:6.0.11]\nat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.util.concurrent.ExecutionException: java.io.EOFException: Unexpected end of stream\nat org.apache.tomcat.websocket.AsyncChannelWrapperSecure$WrapperFuture.get(AsyncChannelWrapperSecure.java:492) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\nat org.apache.tomcat.websocket.WsWebSocketContainer.processResponse(WsWebSocketContainer.java:793) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\nat org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:335) ~[tomcat-embed-websocket-10.1.11.jar!/:na]\n... 5 common frames omitted\nCaused by: java.io.EOFException: Unexpected end of stream\nat org.apache.tomcat.websocket.AsyncChannelWrapperSecure$ReadTask.run(AsyncChannelWrapperSecure.java:261) ~[tomcat-embed-websocket-10.1.11.jar!/:na]        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n... 1 common frames omitted</p>\n</blockquote>\n"},{"tags":["java","android","firebase","google-cloud-firestore","arraylist"],"comments":[{"owner":{"account_id":6914793,"reputation":2511,"user_id":5309486,"display_name":"Ashok"},"score":1,"creation_date":1698426795,"post_id":77375851,"comment_id":136408936,"body_markdown":"Can you please also post how are you initiating `coursesArrayList21` variable? Is it normal arrayList or some variation of it? Are you performing any additional operation on it which may cause this, like sublist or something like this.","body":"Can you please also post how are you initiating <code>coursesArrayList21</code> variable? Is it normal arrayList or some variation of it? Are you performing any additional operation on it which may cause this, like sublist or something like this."},{"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"score":0,"creation_date":1698429098,"post_id":77375851,"comment_id":136409270,"body_markdown":"private ArrayList&lt;Courses&gt; coursesArrayList21;                                  \ncoursesArrayList21 = new ArrayList&lt;&gt;(); coursesArrayList21 variable is a normal arrayList whose elements are objects of Courses class.","body":"private ArrayList&lt;Courses&gt; coursesArrayList21;                                   coursesArrayList21 = new ArrayList&lt;&gt;(); coursesArrayList21 variable is a normal arrayList whose elements are objects of Courses class."},{"owner":{"account_id":6914793,"reputation":2511,"user_id":5309486,"display_name":"Ashok"},"score":0,"creation_date":1698430219,"post_id":77375851,"comment_id":136409412,"body_markdown":"Can you add a try catch around `Courses c = d.toObject(Courses.class);` statement, I think this statement might be throwing the exception, but that exception is silently getting catched by Firebase due to callback architecture. Can you check.\n\nAlso, by your statements, the arraylist is not adding after #clear function, can you remove that statment and verify that the #clear is the only culprit here.","body":"Can you add a try catch around <code>Courses c = d.toObject(Courses.class);</code> statement, I think this statement might be throwing the exception, but that exception is silently getting catched by Firebase due to callback architecture. Can you check.  Also, by your statements, the arraylist is not adding after #clear function, can you remove that statment and verify that the #clear is the only culprit here."},{"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"score":0,"creation_date":1698431316,"post_id":77375851,"comment_id":136409548,"body_markdown":"When I remove the coursesArrayList21.clear(); statement everything works just fine. I mean when I remove this statement, I can add objects to the coursesArrayList21 variable.  So I do not think the problem has to do with the Courses c = d.toObject(Courses.class); statement.","body":"When I remove the coursesArrayList21.clear(); statement everything works just fine. I mean when I remove this statement, I can add objects to the coursesArrayList21 variable.  So I do not think the problem has to do with the Courses c = d.toObject(Courses.class); statement."}],"answers":[{"tags":[],"owner":{"account_id":13009440,"reputation":81,"user_id":9402979,"display_name":"Isidro Rodriguez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698439729,"creation_date":1698439729,"answer_id":77376974,"question_id":77375851,"body_markdown":"If you are using the last Toast to determine the size of the list you get always 0 because you cleared the list and reading the DB is async, so the objects will be added after the Toast is shown. \r\n\r\nTry showing the Toast, or printing to logcat, inside the method onSuccess, right after the for loop.","title":"ArrayList.clear() problem in button onclicklistener that reads a firebase firestore database into an arraylist","body":"<p>If you are using the last Toast to determine the size of the list you get always 0 because you cleared the list and reading the DB is async, so the objects will be added after the Toast is shown.</p>\n<p>Try showing the Toast, or printing to logcat, inside the method onSuccess, right after the for loop.</p>\n"}],"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698439729,"creation_date":1698425313,"question_id":77375851,"body_markdown":"I have a firebase firestore database. I read this database into an arraylist everytime I click a button with an onclicklistener. However I need to reread this database everytime I click on this button depending on the changes in the database. Also I need to clear the arraylist into which I read the database everytime before I read the database. However when I use the arraylist.clear() command in android studio java I can not add any objects into the arraylist anymore. When I check the size of the arraylist it always appears as zero. I need to know the reason for this and how can I solve this problem? I add objects of a user defined class into the arraylist. Below is the code for my user defined class and the code snippet that causes this problem.\r\n\r\n    package com.example.myapplication;\r\n    \r\n    import com.google.firebase.firestore.Exclude;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    \r\n    public class Courses implements Serializable {\r\n    \r\n        \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        \r\n        @Exclude\r\n        private String id;\r\n    \r\n        \r\n        private String courseName, courseDescription, courseDuration;\r\n    \r\n        public Courses() {\r\n            \r\n        }\r\n    \r\n        \r\n        public Courses(String courseName, String courseDescription, String courseDuration) {\r\n            this.courseName = courseName;\r\n            this.courseDescription = courseDescription;\r\n            this.courseDuration = courseDuration;\r\n        }\r\n    \r\n       \r\n        public String getCourseName() {\r\n            return courseName;\r\n        }\r\n    \r\n        public void setCourseName(String courseName) {\r\n            this.courseName = courseName;\r\n        }\r\n    \r\n        public String getCourseDescription() {\r\n            return courseDescription;\r\n        }\r\n    \r\n        \r\n        public void setCourseDescription(String courseDescription) {\r\n            this.courseDescription = courseDescription;\r\n        }\r\n    \r\n        public String getCourseDuration() {\r\n            return courseDuration;\r\n        }\r\n    \r\n        public void setCourseDuration(String courseDuration) {\r\n            this.courseDuration = courseDuration;\r\n        }\r\n    } \r\n    \r\n     \r\n\r\n    Btn121.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    \r\n    \r\n                    coursesArrayList21.clear();\r\n                   \r\n    \r\n                    db2.collection(&quot;Courses&quot;).get()\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                                @Override\r\n                                public void onSuccess(QuerySnapshot queryDocumentSnapshots){\r\n                                    \r\n                                    if (!queryDocumentSnapshots.isEmpty()) {\r\n                                        \r\n    \r\n                                        List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                                        for (DocumentSnapshot d : list) {\r\n                                            \r\n                                            Courses c = d.toObject(Courses.class);\r\n                                            \r\n                                            coursesArrayList21.add(c);\r\n                                        }\r\n                                        \r\n    \r\n                                    } else {\r\n                                        \r\n                                        Toast.makeText(MainActivity2.this, &quot;No data found in Database&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    \r\n                                    \r\n                                    Toast.makeText(MainActivity2.this, &quot;Fail to get the data.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n\r\n                    dummy1234 = coursesArrayList21.size();\r\n                    Toast.makeText(MainActivity2.this,Integer.toString(dummy1234), Toast.LENGTH_SHORT).show();\r\n\r\n\r\n    \r\n    \r\n     ","title":"ArrayList.clear() problem in button onclicklistener that reads a firebase firestore database into an arraylist","body":"<p>I have a firebase firestore database. I read this database into an arraylist everytime I click a button with an onclicklistener. However I need to reread this database everytime I click on this button depending on the changes in the database. Also I need to clear the arraylist into which I read the database everytime before I read the database. However when I use the arraylist.clear() command in android studio java I can not add any objects into the arraylist anymore. When I check the size of the arraylist it always appears as zero. I need to know the reason for this and how can I solve this problem? I add objects of a user defined class into the arraylist. Below is the code for my user defined class and the code snippet that causes this problem.</p>\n<pre><code>package com.example.myapplication;\n\nimport com.google.firebase.firestore.Exclude;\n\nimport java.io.Serializable;\n\n\npublic class Courses implements Serializable {\n\n    \n    public String getId() {\n        return id;\n    }\n\n    \n    public void setId(String id) {\n        this.id = id;\n    }\n\n    \n    @Exclude\n    private String id;\n\n    \n    private String courseName, courseDescription, courseDuration;\n\n    public Courses() {\n        \n    }\n\n    \n    public Courses(String courseName, String courseDescription, String courseDuration) {\n        this.courseName = courseName;\n        this.courseDescription = courseDescription;\n        this.courseDuration = courseDuration;\n    }\n\n   \n    public String getCourseName() {\n        return courseName;\n    }\n\n    public void setCourseName(String courseName) {\n        this.courseName = courseName;\n    }\n\n    public String getCourseDescription() {\n        return courseDescription;\n    }\n\n    \n    public void setCourseDescription(String courseDescription) {\n        this.courseDescription = courseDescription;\n    }\n\n    public String getCourseDuration() {\n        return courseDuration;\n    }\n\n    public void setCourseDuration(String courseDuration) {\n        this.courseDuration = courseDuration;\n    }\n} \n\n \n\nBtn121.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                \n\n                coursesArrayList21.clear();\n               \n\n                db2.collection(&quot;Courses&quot;).get()\n                        .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                            @Override\n                            public void onSuccess(QuerySnapshot queryDocumentSnapshots){\n                                \n                                if (!queryDocumentSnapshots.isEmpty()) {\n                                    \n\n                                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                                    for (DocumentSnapshot d : list) {\n                                        \n                                        Courses c = d.toObject(Courses.class);\n                                        \n                                        coursesArrayList21.add(c);\n                                    }\n                                    \n\n                                } else {\n                                    \n                                    Toast.makeText(MainActivity2.this, &quot;No data found in Database&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                \n                                \n                                Toast.makeText(MainActivity2.this, &quot;Fail to get the data.&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n\n                dummy1234 = coursesArrayList21.size();\n                Toast.makeText(MainActivity2.this,Integer.toString(dummy1234), Toast.LENGTH_SHORT).show();\n\n\n\n\n \n</code></pre>\n"},{"tags":["java","base64"],"answers":[{"tags":[],"owner":{"account_id":8162200,"reputation":90,"user_id":11453435,"display_name":"hleme"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557016210,"creation_date":1557016210,"answer_id":55987921,"question_id":55987826,"body_markdown":"There is a small error in floating-point operations with large numbers. I think writing this way gets more consistent.\r\n\r\n\tpublic static String base64StringToId(String base64String) {\r\n\t\tString alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&quot;;\r\n\t\tlong id = 0L;\r\n\t\tfor (int i = 0; i &lt; base64String.length(); i++) {\r\n\t\t\tchar c = base64String.charAt(i);\r\n\t\t\tint i1 = alphabet.indexOf(c);\r\n\t\t\tid = (id * 64) + i1;\r\n\t\t\t//id += i1 * Math.pow(64, base64String.length() - 1 - i);\r\n\t\t\t//converted[string.length() - i - 1] = i1;\r\n\t\t}\r\n\t\tSystem.out.println(String.format(&quot;input is %s, output is %s&quot;, base64String, String.valueOf(id)));\r\n\t\treturn String.valueOf(id);\r\n\t}\r\n","title":"error when converting base64 String to decimal","body":"<p>There is a small error in floating-point operations with large numbers. I think writing this way gets more consistent.</p>\n\n<pre><code>public static String base64StringToId(String base64String) {\n    String alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n    long id = 0L;\n    for (int i = 0; i &lt; base64String.length(); i++) {\n        char c = base64String.charAt(i);\n        int i1 = alphabet.indexOf(c);\n        id = (id * 64) + i1;\n        //id += i1 * Math.pow(64, base64String.length() - 1 - i);\n        //converted[string.length() - i - 1] = i1;\n    }\n    System.out.println(String.format(\"input is %s, output is %s\", base64String, String.valueOf(id)));\n    return String.valueOf(id);\n}\n</code></pre>\n"}],"owner":{"account_id":5134301,"reputation":2328,"user_id":4113542,"accept_rate":81,"display_name":"chrisTina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55987921,"answer_count":1,"score":0,"last_activity_date":1698438925,"creation_date":1557014873,"question_id":55987826,"body_markdown":"The method below convert a decimal to `BASE64` string:\r\n\r\n    public static String id2base64String(String mediaId) {\r\n        String postId = &quot;&quot;;\r\n        try {\r\n            long id = Long.parseLong(mediaId);\r\n            String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&quot;;\r\n\r\n            while (id &gt; 0) {\r\n                long remainder = (id % 64);\r\n                id = (id - remainder) / 64;\r\n                postId = alphabet.charAt((int) remainder) + postId;\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(String.format(&quot;input is %s, output is %s&quot;, mediaId, postId));\r\n        return postId;\r\n    }\r\n\r\nAnd I wrote a method to reverse the function so that it can take a `BASE64` string to a decimal:\r\n\r\n    public static String base64StringToId(String base64String) {\r\n        String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&quot;;\r\n        long id = 0L;\r\n        for (int i = 0; i &lt; base64String.length(); i++) {\r\n            char c = base64String.charAt(i);\r\n            int i1 = alphabet.indexOf(c);\r\n            id += i1 * Math.pow(64, base64String.length() - 1 - i);\r\n            //converted[string.length() - i - 1] = i1;\r\n        }\r\n        System.out.println(String.format(&quot;input is %s, output is %s&quot;, base64String, String.valueOf(id)));\r\n        return String.valueOf(id);\r\n    }\r\n\r\nWhen using the following code to run:\r\n\r\n        String base64String = &quot;ybyPRoQWzX&quot;;\r\n        String id = &quot;908540701891980503&quot;;\r\n        id2base64String(id);\r\n        base64StringToId(base64String);\r\n\r\nIt shows output as:\r\n\r\n    input is 908540701891980503, output is ybyPRoQWzX\r\n    input is ybyPRoQWzX, output is 908540701891980544\r\n\r\nAs you can see the second method output is not as expected (expected to be `908540701891980503`, but I got `908540701891980544`).\r\n\r\nAny idea?\r\n","title":"error when converting base64 String to decimal","body":"<p>The method below convert a decimal to <code>BASE64</code> string:</p>\n\n<pre><code>public static String id2base64String(String mediaId) {\n    String postId = \"\";\n    try {\n        long id = Long.parseLong(mediaId);\n        String alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n\n        while (id &gt; 0) {\n            long remainder = (id % 64);\n            id = (id - remainder) / 64;\n            postId = alphabet.charAt((int) remainder) + postId;\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    System.out.println(String.format(\"input is %s, output is %s\", mediaId, postId));\n    return postId;\n}\n</code></pre>\n\n<p>And I wrote a method to reverse the function so that it can take a <code>BASE64</code> string to a decimal:</p>\n\n<pre><code>public static String base64StringToId(String base64String) {\n    String alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n    long id = 0L;\n    for (int i = 0; i &lt; base64String.length(); i++) {\n        char c = base64String.charAt(i);\n        int i1 = alphabet.indexOf(c);\n        id += i1 * Math.pow(64, base64String.length() - 1 - i);\n        //converted[string.length() - i - 1] = i1;\n    }\n    System.out.println(String.format(\"input is %s, output is %s\", base64String, String.valueOf(id)));\n    return String.valueOf(id);\n}\n</code></pre>\n\n<p>When using the following code to run:</p>\n\n<pre><code>    String base64String = \"ybyPRoQWzX\";\n    String id = \"908540701891980503\";\n    id2base64String(id);\n    base64StringToId(base64String);\n</code></pre>\n\n<p>It shows output as:</p>\n\n<pre><code>input is 908540701891980503, output is ybyPRoQWzX\ninput is ybyPRoQWzX, output is 908540701891980544\n</code></pre>\n\n<p>As you can see the second method output is not as expected (expected to be <code>908540701891980503</code>, but I got <code>908540701891980544</code>).</p>\n\n<p>Any idea?</p>\n"},{"tags":["java","android","broadcastreceiver"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991123,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698438122,"creation_date":1698438122,"answer_id":77376862,"question_id":77376454,"body_markdown":"Your process does not live forever. At the time the SMS arrives, Android may need to create a process for app code. When it does that, it will create an instance of `SmsReceiver` and call `onReceive()` on it. It will not create an instance of `MainActivity`.\r\n\r\nAs a result, `SmsReceiver` needs to work *completely independently* from `MainActivity`. Do not assume that `MainActivity` has done anything in your app&#39;s process at the point when `onReceive()` of `SmsReceiver` has been called.","title":"Send data from Broadcast Receiver to simple java class while app is closed","body":"<p>Your process does not live forever. At the time the SMS arrives, Android may need to create a process for app code. When it does that, it will create an instance of <code>SmsReceiver</code> and call <code>onReceive()</code> on it. It will not create an instance of <code>MainActivity</code>.</p>\n<p>As a result, <code>SmsReceiver</code> needs to work <em>completely independently</em> from <code>MainActivity</code>. Do not assume that <code>MainActivity</code> has done anything in your app's process at the point when <code>onReceive()</code> of <code>SmsReceiver</code> has been called.</p>\n"}],"owner":{"account_id":17386377,"reputation":115,"user_id":12597617,"display_name":"Ahmed Laggoun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698438122,"creation_date":1698432545,"question_id":77376454,"body_markdown":"I&#39;m building an android app to handle SMS, I made Broadcast Receiver to listen for incoming SMS. when it comes it should send SMS content to another class to do so some logic, I used interface to achieve that, this is my code.\r\n\r\n```\r\npublic class SmsReceiver extends BroadcastReceiver {\r\n\r\n    public static void initSmsFetcher(SmsFetcher mSmsFetcher){\r\n        smsFetcher = mSmsFetcher;\r\n    }\r\n    @SuppressLint(&quot;UnsafeProtectedBroadcastReceiver&quot;)\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Bundle extras = intent.getExtras();\r\n        if (extras != null){\r\n            Object[] smsextras = (Object[]) extras.get( &quot;pdus&quot; );\r\n\r\n            for (Object smsextra : smsextras) {\r\n                SmsMessage smsmsg = SmsMessage.createFromPdu((byte[]) smsextra);\r\n\r\n                smsFetcher.onSmsReceived(smsmsg);\r\n                \r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n   \r\n\r\n}\r\n interface SmsFetcher{\r\n    void onSmsReceived(SmsMessage smsMessage);\r\n }\r\n```\r\n\r\nthis is my simple class.\r\n\r\n```\r\npublic class SmsEasy implements SmsFetcher{\r\n    SmsEasy(){\r\n        SmsReceiver.initSmsFetcher(this);\r\n\r\n    }\r\n\r\n@Override\r\n    public void onSmsReceived(SmsMessage smsMessage) {\r\n        // Do some logic.\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is my MainActivity.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    SmsEasy smsEasy;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        smsEasy = new SmsEasy();\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\nI registered my Broadcast Receiver in Manifest.\r\nThis is working fine when my app is running, but the problem appears when the app is closed, it tells me that **smsFetcher** is null in this line:\r\n**smsFetcher.onSmsReceived(smsmsg);** but my receiver still capturing sms fine.","title":"Send data from Broadcast Receiver to simple java class while app is closed","body":"<p>I'm building an android app to handle SMS, I made Broadcast Receiver to listen for incoming SMS. when it comes it should send SMS content to another class to do so some logic, I used interface to achieve that, this is my code.</p>\n<pre><code>public class SmsReceiver extends BroadcastReceiver {\n\n    public static void initSmsFetcher(SmsFetcher mSmsFetcher){\n        smsFetcher = mSmsFetcher;\n    }\n    @SuppressLint(&quot;UnsafeProtectedBroadcastReceiver&quot;)\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Bundle extras = intent.getExtras();\n        if (extras != null){\n            Object[] smsextras = (Object[]) extras.get( &quot;pdus&quot; );\n\n            for (Object smsextra : smsextras) {\n                SmsMessage smsmsg = SmsMessage.createFromPdu((byte[]) smsextra);\n\n                smsFetcher.onSmsReceived(smsmsg);\n                \n\n            }\n\n        }\n    }\n\n\n   \n\n}\n interface SmsFetcher{\n    void onSmsReceived(SmsMessage smsMessage);\n }\n</code></pre>\n<p>this is my simple class.</p>\n<pre><code>public class SmsEasy implements SmsFetcher{\n    SmsEasy(){\n        SmsReceiver.initSmsFetcher(this);\n\n    }\n\n@Override\n    public void onSmsReceived(SmsMessage smsMessage) {\n        // Do some logic.\n    }\n\n}\n</code></pre>\n<p>And this is my MainActivity.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    SmsEasy smsEasy;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        smsEasy = new SmsEasy();\n\n    }\n\n\n}\n</code></pre>\n<p>I registered my Broadcast Receiver in Manifest.\nThis is working fine when my app is running, but the problem appears when the app is closed, it tells me that <strong>smsFetcher</strong> is null in this line:\n<strong>smsFetcher.onSmsReceived(smsmsg);</strong> but my receiver still capturing sms fine.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":16997965,"reputation":41,"user_id":12295949,"display_name":"Jo Vanmont"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698437733,"creation_date":1698406443,"question_id":77373829,"body_markdown":"I have configured a Springboot application with spring-boot-starter-web. But when I start the application in a Tomcat server it throws the FileNotFoundException.\r\n\r\n***pom.xml***\r\n\r\n        &lt;properties&gt;\r\n            &lt;spring.boot.version&gt;2.0.9.RELEASE&lt;/spring.boot.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.30&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n***Application.java***\r\n\r\n    @SpringBootApplication(exclude = {SessionAutoConfiguration.class})\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        private static Logger log = LoggerFactory.getLogger(Application.class);\r\n    \r\n        public static void main(String[] args) {\r\n            ApplicationContext context = SpringApplication.run(Application.class, args);\r\n            log.info(context.getApplicationName().toString());\r\n        }\r\n    \r\n    }\r\n\r\n***Configuration***\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude = {SessionAutoConfiguration.class})\r\n    public class ApplicationConfig {\r\n    }\r\n\r\n***application.properties***\r\n\r\n    spring.session.store-type=none\r\n\r\n***stack-trace***\r\n\r\n    Caused by: java.io.FileNotFoundException: class path resource [org/springframework/session/jdbc/config/annotation/web/http/JdbcHttpSessionConfiguration.class] cannot be opened because it does not exist\r\n    \tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180)\r\n\r\nI don&#39;t want to use ***spring-session*** autoconfiguration. I thought I disabled this with the exclude in @SpringBootApplication? Why is spring this looking for this session classes?","title":"Spring session autoconfiguration throws FileNotFoundException: JdbcHttpSessionConfiguration.class not on classpath","body":"<p>I have configured a Springboot application with spring-boot-starter-web. But when I start the application in a Tomcat server it throws the FileNotFoundException.</p>\n<p><em><strong>pom.xml</strong></em></p>\n<pre><code>    &lt;properties&gt;\n        &lt;spring.boot.version&gt;2.0.9.RELEASE&lt;/spring.boot.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.30&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><em><strong>Application.java</strong></em></p>\n<pre><code>@SpringBootApplication(exclude = {SessionAutoConfiguration.class})\npublic class Application extends SpringBootServletInitializer {\n\n    private static Logger log = LoggerFactory.getLogger(Application.class);\n\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(Application.class, args);\n        log.info(context.getApplicationName().toString());\n    }\n\n}\n</code></pre>\n<p><em><strong>Configuration</strong></em></p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = {SessionAutoConfiguration.class})\npublic class ApplicationConfig {\n}\n</code></pre>\n<p><em><strong>application.properties</strong></em></p>\n<pre><code>spring.session.store-type=none\n</code></pre>\n<p><em><strong>stack-trace</strong></em></p>\n<pre><code>Caused by: java.io.FileNotFoundException: class path resource [org/springframework/session/jdbc/config/annotation/web/http/JdbcHttpSessionConfiguration.class] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180)\n</code></pre>\n<p>I don't want to use <em><strong>spring-session</strong></em> autoconfiguration. I thought I disabled this with the exclude in @SpringBootApplication? Why is spring this looking for this session classes?</p>\n"},{"tags":["java","android","flutter","kotlin","mobile"],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696612051,"creation_date":1696612051,"answer_id":77246298,"question_id":77245507,"body_markdown":"Check if the URL you&#39;re trying to download from needs to be URL-encoded. Use Uri.encodeFull(url) to encode the URL before making the HTTP request.\r\n\r\n    var url2 = Uri.encodeFull(url);\r\n    var response = await http.get(url2);\r\n\r\n","title":"Flutter downloader error when donwload certain files","body":"<p>Check if the URL you're trying to download from needs to be URL-encoded. Use Uri.encodeFull(url) to encode the URL before making the HTTP request.</p>\n<pre><code>var url2 = Uri.encodeFull(url);\nvar response = await http.get(url2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14742228,"reputation":75,"user_id":11836028,"display_name":"AnimeZero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698437225,"creation_date":1698435540,"answer_id":77376692,"question_id":77245507,"body_markdown":"Okay so i found the solution. It turns out that the problem wasn&#180;t the URL, it was the path where it was downloaded. As it seems, the are some special characters forbidden in android such as:\r\n&quot;:&quot;,\r\n&quot;/&quot;,\r\n&quot;\\&quot;,\r\n&quot;|&quot;.\r\nSo because of that, in some names, those characters had to be replaced with a simple dash.\r\n\r\n    finalPath = Directory(&#39;$pathDir/$title ($lang)/${&#39;chapter&#39;.tr} ${j + 1}&#39;.replaceAll(&quot;:&quot;, &quot;-&quot;).replaceAll(&quot;|&quot;, &quot;-&quot;));\r\n\r\nSo I&#180;ll leave this response, in case someone else encounters the same problem as I did","title":"Flutter downloader error when donwload certain files","body":"<p>Okay so i found the solution. It turns out that the problem wasn¬¥t the URL, it was the path where it was downloaded. As it seems, the are some special characters forbidden in android such as:\n&quot;:&quot;,\n&quot;/&quot;,\n&quot;&quot;,\n&quot;|&quot;.\nSo because of that, in some names, those characters had to be replaced with a simple dash.</p>\n<pre><code>finalPath = Directory('$pathDir/$title ($lang)/${'chapter'.tr} ${j + 1}'.replaceAll(&quot;:&quot;, &quot;-&quot;).replaceAll(&quot;|&quot;, &quot;-&quot;));\n</code></pre>\n<p>So I¬¥ll leave this response, in case someone else encounters the same problem as I did</p>\n"}],"owner":{"account_id":14742228,"reputation":75,"user_id":11836028,"display_name":"AnimeZero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77376692,"answer_count":2,"score":0,"last_activity_date":1698437225,"creation_date":1696604565,"question_id":77245507,"body_markdown":"I&#180;m making an anime/manga app using Flutter, also I&#39;m using the FlutterDownloader plugin. The thing is that I don&#39;t have any problem downloading videos/images like this URL:\r\n\r\nhttps://cm.blazefast.co/1b/bb/1bbb3ad2d5d8e759166145fd82cfdbf6.jpg\r\n\r\nBut this URL doesn&#39;t work (even if the status code is 200):\r\n\r\nhttps://lc3-cdn.t34798ndc.com/r25ZyBe/Fx8e_AxtJ_XMJ/M/Mx-4iJj-Mx-jVJj-wVJ/tM.0pUT0/XE.U/6lZG.pTcSUWW/tM.pTcSUWm-fa1.U/TU-UcSTSTDWHU.Yyk.jpg\r\n\r\nThis is the code:\r\n\r\n        var url2 = Uri.parse(url);\r\n        // make http get request\r\n        var response = await http.get(url2);\r\n        Directory a = Directory(savePath);\r\n        if (response.statusCode == 200 &amp;&amp; await a.exists()) {\r\n          try {\r\n            await FlutterDownloader.enqueue(\r\n              url: url,\r\n              savedDir: savePath,\r\n              fileName: isManga ? &quot;$number.png&quot; : &quot;$number.mp4&quot;,\r\n              showNotification:\r\n                  true, // show download progress in status bar (for Android)\r\n              openFileFromNotification:\r\n                  true, // click on notification to open downloaded file (for Android)\r\n            );\r\n          } catch (error) {\r\n            print(error);\r\n          }\r\n\r\nLogs of the second URL that has the error:\r\n\r\n    W/System.err(11668): java.io.IOException: Operation not permitted\r\n    W/System.err(11668): \tat java.io.UnixFileSystem.createFileExclusively0(Native Method)\r\n    W/System.err(11668): \tat java.io.UnixFileSystem.createFileExclusively(UnixFileSystem.java:317)\r\n    W/System.err(11668): \tat java.io.File.createNewFile(File.java:1006)\r\n    W/System.err(11668): \tat vn.hunghd.flutterdownloader.DownloadWorker.createFileInAppSpecificDir(DownloadWorker.kt:503)\r\n    W/System.err(11668): \tat vn.hunghd.flutterdownloader.DownloadWorker.downloadFile(DownloadWorker.kt:392)\r\n    W/System.err(11668): \tat vn.hunghd.flutterdownloader.DownloadWorker.doWork(DownloadWorker.kt:206)\r\n    W/System.err(11668): \tat androidx.work.Worker$1.run(Worker.java:86)\r\n    W/System.err(11668): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n    W/System.err(11668): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n    W/System.err(11668): \tat java.lang.Thread.run(Thread.java:1012)\r\n    E/DownloadWorker(11668): Create a file using java.io API failed\r\n    D/DownloadWorker(11668): Update too frequently!!!!, but it is the final update, we should sleep a second to ensure the update call can be processed\r\n    D/DownloadWorker(11668): Update notification: {notificationId: 26, title: 1.png, status: FAILED, progress: -1}\r\n    W/System.err(11668): java.lang.NullPointerException\r\n    W/System.err(11668): \tat vn.hunghd.flutterdownloader.DownloadWorker.downloadFile(DownloadWorker.kt:393)\r\n    W/System.err(11668): \tat vn.hunghd.flutterdownloader.DownloadWorker.doWork(DownloadWorker.kt:206)\r\n    W/System.err(11668): \tat androidx.work.Worker$1.run(Worker.java:86)\r\n    W/System.err(11668): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n    W/System.err(11668): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n    W/System.err(11668): \tat java.lang.Thread.run(Thread.java:1012)\r\n    I/WM-WorkerWrapper(11668): Worker result FAILURE for Work [ id=8955aeb7-4eef-4281-947e-1e1575e711b8, tags={ flutter_download_task, vn.hunghd.flutterdownloader.DownloadWorker } ]\r\n\r\nI have all the permissions. With the first URL, it downloads great in the directory I choose. It only happens when its downloaded from other source than that.","title":"Flutter downloader error when donwload certain files","body":"<p>I¬¥m making an anime/manga app using Flutter, also I'm using the FlutterDownloader plugin. The thing is that I don't have any problem downloading videos/images like this URL:</p>\n<p><a href=\"https://cm.blazefast.co/1b/bb/1bbb3ad2d5d8e759166145fd82cfdbf6.jpg\" rel=\"nofollow noreferrer\">https://cm.blazefast.co/1b/bb/1bbb3ad2d5d8e759166145fd82cfdbf6.jpg</a></p>\n<p>But this URL doesn't work (even if the status code is 200):</p>\n<p><a href=\"https://lc3-cdn.t34798ndc.com/r25ZyBe/Fx8e_AxtJ_XMJ/M/Mx-4iJj-Mx-jVJj-wVJ/tM.0pUT0/XE.U/6lZG.pTcSUWW/tM.pTcSUWm-fa1.U/TU-UcSTSTDWHU.Yyk.jpg\" rel=\"nofollow noreferrer\">https://lc3-cdn.t34798ndc.com/r25ZyBe/Fx8e_AxtJ_XMJ/M/Mx-4iJj-Mx-jVJj-wVJ/tM.0pUT0/XE.U/6lZG.pTcSUWW/tM.pTcSUWm-fa1.U/TU-UcSTSTDWHU.Yyk.jpg</a></p>\n<p>This is the code:</p>\n<pre><code>    var url2 = Uri.parse(url);\n    // make http get request\n    var response = await http.get(url2);\n    Directory a = Directory(savePath);\n    if (response.statusCode == 200 &amp;&amp; await a.exists()) {\n      try {\n        await FlutterDownloader.enqueue(\n          url: url,\n          savedDir: savePath,\n          fileName: isManga ? &quot;$number.png&quot; : &quot;$number.mp4&quot;,\n          showNotification:\n              true, // show download progress in status bar (for Android)\n          openFileFromNotification:\n              true, // click on notification to open downloaded file (for Android)\n        );\n      } catch (error) {\n        print(error);\n      }\n</code></pre>\n<p>Logs of the second URL that has the error:</p>\n<pre><code>W/System.err(11668): java.io.IOException: Operation not permitted\nW/System.err(11668):    at java.io.UnixFileSystem.createFileExclusively0(Native Method)\nW/System.err(11668):    at java.io.UnixFileSystem.createFileExclusively(UnixFileSystem.java:317)\nW/System.err(11668):    at java.io.File.createNewFile(File.java:1006)\nW/System.err(11668):    at vn.hunghd.flutterdownloader.DownloadWorker.createFileInAppSpecificDir(DownloadWorker.kt:503)\nW/System.err(11668):    at vn.hunghd.flutterdownloader.DownloadWorker.downloadFile(DownloadWorker.kt:392)\nW/System.err(11668):    at vn.hunghd.flutterdownloader.DownloadWorker.doWork(DownloadWorker.kt:206)\nW/System.err(11668):    at androidx.work.Worker$1.run(Worker.java:86)\nW/System.err(11668):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\nW/System.err(11668):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\nW/System.err(11668):    at java.lang.Thread.run(Thread.java:1012)\nE/DownloadWorker(11668): Create a file using java.io API failed\nD/DownloadWorker(11668): Update too frequently!!!!, but it is the final update, we should sleep a second to ensure the update call can be processed\nD/DownloadWorker(11668): Update notification: {notificationId: 26, title: 1.png, status: FAILED, progress: -1}\nW/System.err(11668): java.lang.NullPointerException\nW/System.err(11668):    at vn.hunghd.flutterdownloader.DownloadWorker.downloadFile(DownloadWorker.kt:393)\nW/System.err(11668):    at vn.hunghd.flutterdownloader.DownloadWorker.doWork(DownloadWorker.kt:206)\nW/System.err(11668):    at androidx.work.Worker$1.run(Worker.java:86)\nW/System.err(11668):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\nW/System.err(11668):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\nW/System.err(11668):    at java.lang.Thread.run(Thread.java:1012)\nI/WM-WorkerWrapper(11668): Worker result FAILURE for Work [ id=8955aeb7-4eef-4281-947e-1e1575e711b8, tags={ flutter_download_task, vn.hunghd.flutterdownloader.DownloadWorker } ]\n</code></pre>\n<p>I have all the permissions. With the first URL, it downloads great in the directory I choose. It only happens when its downloaded from other source than that.</p>\n"},{"tags":["java","spring","javabeans"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1573445429,"post_id":58793556,"comment_id":103872098,"body_markdown":"you have to annotate `CustomerServiceImpl` with `@Service` not interface `CustomerService`","body":"you have to annotate <code>CustomerServiceImpl</code> with <code>@Service</code> not interface <code>CustomerService</code>"},{"owner":{"account_id":16530240,"reputation":23,"user_id":11943728,"display_name":"Cozzie95"},"score":0,"creation_date":1573494238,"post_id":58793556,"comment_id":103892113,"body_markdown":"When I do this, it still says NoSuchBeanDefinition. If I annotate the serviceImpl as a service, when I call my Bean do I still call CustomerService customerService = (CustomerService) context.getBean(&quot;customerService&quot;); or is getBean &quot;customer&quot;","body":"When I do this, it still says NoSuchBeanDefinition. If I annotate the serviceImpl as a service, when I call my Bean do I still call CustomerService customerService = (CustomerService) context.getBean(&quot;customerService&quot;); or is getBean &quot;customer&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573426704,"creation_date":1573426704,"answer_id":58793698,"question_id":58793556,"body_markdown":"should be:\r\n\r\n    CustomerService customerService = (CustomerService) context.getBean(&quot;customerService&quot;);\r\n\r\nYou did not assign a name to the beans, so by default it will take the class name.\r\nThe bean is the customerService and not the customer (I assume you meant this to be an entity?)\r\n\r\n","title":"ClassCastException - Customer and Customerservice are in unnamed module of loader app?","body":"<p>should be:</p>\n\n<pre><code>CustomerService customerService = (CustomerService) context.getBean(\"customerService\");\n</code></pre>\n\n<p>You did not assign a name to the beans, so by default it will take the class name.\nThe bean is the customerService and not the customer (I assume you meant this to be an entity?)</p>\n"}],"owner":{"account_id":16530240,"reputation":23,"user_id":11943728,"display_name":"Cozzie95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698436835,"creation_date":1573425436,"question_id":58793556,"body_markdown":"I am trying to call my Customer Bean in my main app to test that my bean set up is correct (I can see them being created), and am getting the following error: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException: class\r\n&gt; com.r00107892.bank.domain.Customer cannot be cast to class\r\n&gt; com.r00107892.bank.services.CustomerService\r\n&gt; (com.r00107892.bank.domain.Customer and\r\n&gt; com.r00107892.bank.services.CustomerService are in unnamed module of\r\n&gt; loader &#39;app&#39;) \tat com.r00107892.bank.MainApp.main(MainApp.java:24)\r\n\r\nI have checked my Customer.java, CustomerDAO.java, CustomerDAOImpl.java, CustomerService.java, CustomerServiceImpl.java, my mainApp and my BeanConfig.java and I can&#39;t find an issue. \r\n\r\nI changed my BeanConfig so that it no longer explicitly named Customer as a Bean and uses ComponentScan. \r\n\r\nMainApp\r\n\r\n    @Configuration\r\n    public class MainApp {\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\tAnnotationConfigApplicationContext  context= new \r\n    AnnotationConfigApplicationContext (BeanConfig.class);\r\n\t\t\r\n\t\t    System.out.println(&quot;Bean names: &quot; + Arrays.toString(context.getBeanNamesForType(BeanConfig.class)));\r\n\t\t\r\n\t\t    CustomerService customerService = (CustomerService) context.getBean(&quot;customer&quot;);\r\n\t\t \r\n    System.out.println(customerService.getCustomerByAccountNumber(&#39;1&#39;));\r\n\t\t\r\n\t\t    context.close();\r\n\t    }\r\n        }\r\n\r\nCustomer.java\r\n\r\n    @Component\r\n    public class Customer{\r\n\tpublic String name;\r\n\tpublic int account;\r\n\t\r\n\t\r\n\tpublic Customer() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Customer(int account, String name){\r\n\t\t\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t\t\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name=name;\r\n\t}\r\n\t\r\n\tpublic int getAccount() {\r\n\t\treturn account;\r\n\t}\r\n\t\r\n\tpublic void setAccount(int account) {\r\n\t\tthis.account = account;\r\n\t}\r\n\r\n\tpublic void myDetails() {\r\n\t\tSystem.out.println(&quot;My name is &quot;+ this.name);\r\n\t\tSystem.out.println(&quot;My name is&quot; + this.account);\r\n\t\t}\r\n\t\r\n\tpublic String toString(String name, int account) {\r\n\t\tString sentence = name + &quot; &quot; + account;\r\n\t\treturn sentence;\r\n\t\t\r\n\t}\r\n\r\nCustomerService\r\n\r\n    @Service\r\n    public interface CustomerService {\r\n\r\n\t    Customer getCustomerByAccountNumber(int accountNumber);\r\n\t\r\n    }\r\n\r\n\r\nCustomerServiceImpl\r\n\r\n    public class CustomerServiceImpl implements CustomerService {\r\n\r\n\t    @Autowired\r\n\t    CustomerDAO customerDao;\r\n\t\r\n\t\r\n\t    public Customer getCustomerByAccountNumber(int accountNumber) {\r\n\t\t    return customerDao.findById(accountNumber);\r\n\t   }\r\n\r\n\r\nI expect to see Customer name for account no 1 (already in database) to be printed out.","title":"ClassCastException - Customer and Customerservice are in unnamed module of loader app?","body":"<p>I am trying to call my Customer Bean in my main app to test that my bean set up is correct (I can see them being created), and am getting the following error: </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.ClassCastException: class\n  com.r00107892.bank.domain.Customer cannot be cast to class\n  com.r00107892.bank.services.CustomerService\n  (com.r00107892.bank.domain.Customer and\n  com.r00107892.bank.services.CustomerService are in unnamed module of\n  loader 'app')     at com.r00107892.bank.MainApp.main(MainApp.java:24)</p>\n</blockquote>\n\n<p>I have checked my Customer.java, CustomerDAO.java, CustomerDAOImpl.java, CustomerService.java, CustomerServiceImpl.java, my mainApp and my BeanConfig.java and I can't find an issue. </p>\n\n<p>I changed my BeanConfig so that it no longer explicitly named Customer as a Bean and uses ComponentScan. </p>\n\n<p>MainApp</p>\n\n<pre><code>@Configuration\npublic class MainApp {\n\n    public static void main(String[] args) {\n    AnnotationConfigApplicationContext  context= new \nAnnotationConfigApplicationContext (BeanConfig.class);\n\n        System.out.println(\"Bean names: \" + Arrays.toString(context.getBeanNamesForType(BeanConfig.class)));\n\n        CustomerService customerService = (CustomerService) context.getBean(\"customer\");\n\nSystem.out.println(customerService.getCustomerByAccountNumber('1'));\n\n        context.close();\n    }\n    }\n</code></pre>\n\n<p>Customer.java</p>\n\n<pre><code>@Component\npublic class Customer{\npublic String name;\npublic int account;\n\n\npublic Customer() {\n\n}\n\npublic Customer(int account, String name){\n\n}\n\npublic String getName() {\n    return name;\n\n}\n\npublic void setName(String name) {\n    this.name=name;\n}\n\npublic int getAccount() {\n    return account;\n}\n\npublic void setAccount(int account) {\n    this.account = account;\n}\n\npublic void myDetails() {\n    System.out.println(\"My name is \"+ this.name);\n    System.out.println(\"My name is\" + this.account);\n    }\n\npublic String toString(String name, int account) {\n    String sentence = name + \" \" + account;\n    return sentence;\n\n}\n</code></pre>\n\n<p>CustomerService</p>\n\n<pre><code>@Service\npublic interface CustomerService {\n\n    Customer getCustomerByAccountNumber(int accountNumber);\n\n}\n</code></pre>\n\n<p>CustomerServiceImpl</p>\n\n<pre><code>public class CustomerServiceImpl implements CustomerService {\n\n    @Autowired\n    CustomerDAO customerDao;\n\n\n    public Customer getCustomerByAccountNumber(int accountNumber) {\n        return customerDao.findById(accountNumber);\n   }\n</code></pre>\n\n<p>I expect to see Customer name for account no 1 (already in database) to be printed out.</p>\n"},{"tags":["java","serialization","final"],"answers":[{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"down_vote_count":7,"up_vote_count":43,"is_accepted":true,"score":36,"last_activity_date":1275591600,"creation_date":1275591600,"answer_id":2968910,"question_id":2968876,"body_markdown":"The short answer is &quot;no&quot; unfortunately - I&#39;ve often wanted this. but transients cannot be final. \r\n\r\nA final field must be initialized either by direct assignment of an initial value or in the constructor. During deserialization, neither of these are invoked, so initial values for transients must be set in the &#39;readObject()&#39; private method that&#39;s invoked during deserialization. And for that to work, the transients must be non-final.\r\n\r\n(Strictly speaking, finals are only final the first time they are read, so there are hacks that are possible that assign a value before it is read, but for me this is going one step too far.)","title":"final transient fields and serialization","body":"<p>The short answer is \"no\" unfortunately - I've often wanted this. but transients cannot be final. </p>\n\n<p>A final field must be initialized either by direct assignment of an initial value or in the constructor. During deserialization, neither of these are invoked, so initial values for transients must be set in the 'readObject()' private method that's invoked during deserialization. And for that to work, the transients must be non-final.</p>\n\n<p>(Strictly speaking, finals are only final the first time they are read, so there are hacks that are possible that assign a value before it is read, but for me this is going one step too far.)</p>\n"},{"tags":[],"owner":{"account_id":92166,"reputation":10550,"user_id":252704,"accept_rate":100,"display_name":"Pindatjuh"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1275591970,"creation_date":1275591632,"answer_id":2968912,"question_id":2968876,"body_markdown":"You can change the contents of a field using Reflection. Works on Java 1.5+. It will work, because serialization is performed in a single thread. After another thread access the same object, it shouldn&#39;t change the final field (because of weirdness in the memory model &amp; reflaction).\r\n\r\nSo, in `readObject()`, you can do something similar to this example:\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    public class FinalTransient {\r\n\r\n        private final transient Object a = null;\r\n\r\n        public static void main(String... args) throws Exception {\r\n            FinalTransient b = new FinalTransient();\r\n            \r\n            System.out.println(&quot;First: &quot; + b.a); // e.g. after serialization\r\n\r\n            Field f = b.getClass().getDeclaredField(&quot;a&quot;);\r\n            f.setAccessible(true);\r\n            f.set(b, 6); // e.g. putting back your cache\r\n\r\n            System.out.println(&quot;Second: &quot; + b.a); // wow: it has a value!\r\n        }\r\n\r\n    }\r\n\r\nRemember: [Final is not final anymore!](http://www.javaspecialists.eu/archive/Issue096.html)","title":"final transient fields and serialization","body":"<p>You can change the contents of a field using Reflection. Works on Java 1.5+. It will work, because serialization is performed in a single thread. After another thread access the same object, it shouldn't change the final field (because of weirdness in the memory model &amp; reflaction).</p>\n\n<p>So, in <code>readObject()</code>, you can do something similar to this example:</p>\n\n<pre><code>import java.lang.reflect.Field;\n\npublic class FinalTransient {\n\n    private final transient Object a = null;\n\n    public static void main(String... args) throws Exception {\n        FinalTransient b = new FinalTransient();\n\n        System.out.println(\"First: \" + b.a); // e.g. after serialization\n\n        Field f = b.getClass().getDeclaredField(\"a\");\n        f.setAccessible(true);\n        f.set(b, 6); // e.g. putting back your cache\n\n        System.out.println(\"Second: \" + b.a); // wow: it has a value!\n    }\n\n}\n</code></pre>\n\n<p>Remember: <a href=\"http://www.javaspecialists.eu/archive/Issue096.html\" rel=\"noreferrer\">Final is not final anymore!</a></p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146276,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1275648172,"creation_date":1275648172,"answer_id":2973349,"question_id":2968876,"body_markdown":"The general solution to problems like this is to use a &quot;serial proxy&quot; (see Effective Java 2nd Ed). If you need to retrofit this to an existing serialisable class without breaking serial compatibility, then you will need to do some hacking.","title":"final transient fields and serialization","body":"<p>The general solution to problems like this is to use a \"serial proxy\" (see Effective Java 2nd Ed). If you need to retrofit this to an existing serialisable class without breaking serial compatibility, then you will need to do some hacking.</p>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49036,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1415295855,"creation_date":1415295855,"answer_id":26785954,"question_id":2968876,"body_markdown":"Yes, this is easily possible by implementing the (apparently little known!) `readResolve()` method. It lets you replace the object after it is deserialized. You can use that to invoke a constructor that will initialize a replacement object however you want. An example:\r\n\r\n\timport java.io.*;\r\n\timport java.util.*;\r\n\t\r\n\tpublic class test {\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tX x = new X();\r\n\t\t\tx.name = &quot;This data will be serialized&quot;;\r\n\t\t\tx.cache.put(&quot;This data&quot;, &quot;is transient&quot;);\r\n\t\t\tSystem.out.println(&quot;Before: &quot; + x + &quot; &#39;&quot; + x.name + &quot;&#39; &quot; + x.cache);\r\n\t\t\t\r\n\t\t\tByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n\t\t\tnew ObjectOutputStream(buffer).writeObject(x);\r\n\t\t\tx = (X)new ObjectInputStream(new ByteArrayInputStream(buffer.toByteArray())).readObject();\r\n\t\t\tSystem.out.println(&quot;After: &quot; + x + &quot; &#39;&quot; + x.name + &quot;&#39; &quot; + x.cache);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class X implements Serializable {\r\n\t\t\tpublic final transient Map&lt;Object,Object&gt; cache = new HashMap&lt;&gt;();\r\n\t\t\tpublic String name;\r\n\t\t\t\r\n\t\t\tpublic X() {} // normal constructor\r\n\t\t\t\r\n\t\t\tprivate X(X x) { // constructor for deserialization\r\n\t\t\t\t// copy the non-transient fields\r\n\t\t\t\tthis.name = x.name;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate Object readResolve() {\r\n\t\t\t\t// create a new object from the deserialized one\r\n\t\t\t\treturn new X(this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\nOutput -- the string is preserved but the transient map is reset to an empty (but non-null!) map:\r\n\r\n\tBefore: test$X@172e0cc &#39;This data will be serialized&#39; {This data=is transient}\r\n\tAfter: test$X@490662 &#39;This data will be serialized&#39; {}","title":"final transient fields and serialization","body":"<p>Yes, this is easily possible by implementing the (apparently little known!) <code>readResolve()</code> method. It lets you replace the object after it is deserialized. You can use that to invoke a constructor that will initialize a replacement object however you want. An example:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class test {\n    public static void main(String[] args) throws Exception {\n        X x = new X();\n        x.name = \"This data will be serialized\";\n        x.cache.put(\"This data\", \"is transient\");\n        System.out.println(\"Before: \" + x + \" '\" + x.name + \"' \" + x.cache);\n\n        ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n        new ObjectOutputStream(buffer).writeObject(x);\n        x = (X)new ObjectInputStream(new ByteArrayInputStream(buffer.toByteArray())).readObject();\n        System.out.println(\"After: \" + x + \" '\" + x.name + \"' \" + x.cache);\n    }\n\n    public static class X implements Serializable {\n        public final transient Map&lt;Object,Object&gt; cache = new HashMap&lt;&gt;();\n        public String name;\n\n        public X() {} // normal constructor\n\n        private X(X x) { // constructor for deserialization\n            // copy the non-transient fields\n            this.name = x.name;\n        }\n\n        private Object readResolve() {\n            // create a new object from the deserialized one\n            return new X(this);\n        }\n    }\n}\n</code></pre>\n\n<p>Output -- the string is preserved but the transient map is reset to an empty (but non-null!) map:</p>\n\n<pre><code>Before: test$X@172e0cc 'This data will be serialized' {This data=is transient}\nAfter: test$X@490662 'This data will be serialized' {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92166,"reputation":10550,"user_id":252704,"accept_rate":100,"display_name":"Pindatjuh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436725744,"creation_date":1436718860,"answer_id":31370073,"question_id":2968876,"body_markdown":"Five years later, I find my original answer unsatisfactory after I stumbled across this post via Google. Another solution would be using no reflection at all, and use the technique suggested by Boann.\r\n\r\nIt also makes use of the [GetField][1] class returned by `ObjectInputStream#readFields()` method, which according to the Serialization specification must be called in the private `readObject(...)` method.\r\n\r\nThe solution makes field deserialization explicit by storing the retrieved fields in a temporary transient field (called `FinalExample#fields`) of a temporary &quot;instance&quot; created by the deserialization process. All object fields are then deserialized and `readResolve(...)` is called: a new instance is created but this time using a constructor, discarding the temporary instance with the temporary field. The instance explicitly restores each field using the `GetField` instance; this is the place to check any parameters as would any other constructor. If an exception is thrown by the constructor it is translated to an `InvalidObjectException` and deserialization of this object fails.\r\n\r\nThe micro-benchmark included ensures that this solution is not slower than default serialization/deserialization. Indeed, it is on my PC:\r\n\r\n    Problem: 8.598s Solution: 7.818s\r\n\r\nThen here is the code:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InvalidObjectException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectInputStream.GetField;\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.ObjectStreamException;\r\n    import java.io.Serializable;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    import static org.junit.Assert.*;\r\n    \r\n    public class FinalSerialization {\r\n    \r\n    \t/**\r\n    \t * Using default serialization, there are problems with transient final\r\n    \t * fields. This is because internally, ObjectInputStream uses the Unsafe\r\n    \t * class to create an &quot;instance&quot;, without calling a constructor.\r\n    \t */\r\n    \t@Test\r\n    \tpublic void problem() throws Exception {\r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\tObjectOutputStream oos = new ObjectOutputStream(baos);\r\n    \t\tWrongExample x = new WrongExample(1234);\r\n    \t\toos.writeObject(x);\r\n    \t\toos.close();\r\n    \t\tByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n    \t\tObjectInputStream ois = new ObjectInputStream(bais);\r\n    \t\tWrongExample y = (WrongExample) ois.readObject();\r\n    \t\tassertTrue(y.value == 1234);\r\n    \t\t// Problem:\r\n    \t\tassertFalse(y.ref != null);\r\n    \t\tois.close();\r\n    \t\tbaos.close();\r\n    \t\tbais.close();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Use the readResolve method to construct a new object with the correct\r\n    \t * finals initialized. Because we now call the constructor explicitly, all\r\n    \t * finals are properly set up.\r\n    \t */\r\n    \t@Test\r\n    \tpublic void solution() throws Exception {\r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\tObjectOutputStream oos = new ObjectOutputStream(baos);\r\n    \t\tFinalExample x = new FinalExample(1234);\r\n    \t\toos.writeObject(x);\r\n    \t\toos.close();\r\n    \t\tByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n    \t\tObjectInputStream ois = new ObjectInputStream(bais);\r\n    \t\tFinalExample y = (FinalExample) ois.readObject();\r\n    \t\tassertTrue(y.ref != null);\r\n    \t\tassertTrue(y.value == 1234);\r\n    \t\tois.close();\r\n    \t\tbaos.close();\r\n    \t\tbais.close();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * The solution &lt;em&gt;should not&lt;/em&gt; have worse execution time than built-in\r\n    \t * deserialization.\r\n    \t */\r\n    \t@Test\r\n    \tpublic void benchmark() throws Exception {\r\n    \t\tint TRIALS = 500_000;\r\n    \r\n    \t\tlong a = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; TRIALS; i++) {\r\n    \t\t\tproblem();\r\n    \t\t}\r\n    \t\ta = System.currentTimeMillis() - a;\r\n    \r\n    \t\tlong b = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; TRIALS; i++) {\r\n    \t\t\tsolution();\r\n    \t\t}\r\n    \t\tb = System.currentTimeMillis() - b;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Problem: &quot; + a / 1000f + &quot;s Solution: &quot; + b / 1000f + &quot;s&quot;);\r\n    \t\tassertTrue(b &lt;= a);\r\n    \t}\r\n    \r\n    \tpublic static class FinalExample implements Serializable {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 4772085863429354018L;\r\n    \r\n    \t\tpublic final transient Object ref = new Object();\r\n    \r\n    \t\tpublic final int value;\r\n    \r\n    \t\tprivate transient GetField fields;\r\n    \r\n    \t\tpublic FinalExample(int value) {\r\n    \t\t\tthis.value = value;\r\n    \t\t}\r\n    \r\n    \t\tprivate FinalExample(GetField fields) throws IOException {\r\n    \t\t\t// assign fields\r\n    \t\t\tvalue = fields.get(&quot;value&quot;, 0);\r\n    \t\t}\r\n    \r\n    \t\tprivate void readObject(ObjectInputStream stream) throws IOException,\r\n    \t\t\t\tClassNotFoundException {\r\n    \t\t\tfields = stream.readFields();\r\n    \t\t}\r\n    \r\n    \t\tprivate Object readResolve() throws ObjectStreamException {\r\n    \t\t\ttry {\r\n    \t\t\t\treturn new FinalExample(fields);\r\n    \t\t\t} catch (IOException ex) {\r\n    \t\t\t\tthrow new InvalidObjectException(ex.getMessage());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static class WrongExample implements Serializable {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 4772085863429354018L;\r\n    \r\n    \t\tpublic final transient Object ref = new Object();\r\n    \r\n    \t\tpublic final int value;\r\n    \r\n    \t\tpublic WrongExample(int value) {\r\n    \t\t\tthis.value = value;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nA note of caution: whenever the class refers to another object instance, it might be possible to leak the temporary &quot;instance&quot; created by the serialization process: the object resolution occurs only after all sub-objects are read, hence it is possible for subobjects to keep a reference to the temporary object. Classes can check for use of such illegally constructed instances by checking that the `GetField` temporary field is null. Only when it is null, it was created using a regular constructor and not through the deserialization process.\r\n\r\nNote to self: Perhaps a better solution exists in five years. See you then!\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.GetField.html","title":"final transient fields and serialization","body":"<p>Five years later, I find my original answer unsatisfactory after I stumbled across this post via Google. Another solution would be using no reflection at all, and use the technique suggested by Boann.</p>\n\n<p>It also makes use of the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.GetField.html\" rel=\"nofollow\">GetField</a> class returned by <code>ObjectInputStream#readFields()</code> method, which according to the Serialization specification must be called in the private <code>readObject(...)</code> method.</p>\n\n<p>The solution makes field deserialization explicit by storing the retrieved fields in a temporary transient field (called <code>FinalExample#fields</code>) of a temporary \"instance\" created by the deserialization process. All object fields are then deserialized and <code>readResolve(...)</code> is called: a new instance is created but this time using a constructor, discarding the temporary instance with the temporary field. The instance explicitly restores each field using the <code>GetField</code> instance; this is the place to check any parameters as would any other constructor. If an exception is thrown by the constructor it is translated to an <code>InvalidObjectException</code> and deserialization of this object fails.</p>\n\n<p>The micro-benchmark included ensures that this solution is not slower than default serialization/deserialization. Indeed, it is on my PC:</p>\n\n<pre><code>Problem: 8.598s Solution: 7.818s\n</code></pre>\n\n<p>Then here is the code:</p>\n\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InvalidObjectException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectInputStream.GetField;\nimport java.io.ObjectOutputStream;\nimport java.io.ObjectStreamException;\nimport java.io.Serializable;\n\nimport org.junit.Test;\n\nimport static org.junit.Assert.*;\n\npublic class FinalSerialization {\n\n    /**\n     * Using default serialization, there are problems with transient final\n     * fields. This is because internally, ObjectInputStream uses the Unsafe\n     * class to create an \"instance\", without calling a constructor.\n     */\n    @Test\n    public void problem() throws Exception {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        WrongExample x = new WrongExample(1234);\n        oos.writeObject(x);\n        oos.close();\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n        ObjectInputStream ois = new ObjectInputStream(bais);\n        WrongExample y = (WrongExample) ois.readObject();\n        assertTrue(y.value == 1234);\n        // Problem:\n        assertFalse(y.ref != null);\n        ois.close();\n        baos.close();\n        bais.close();\n    }\n\n    /**\n     * Use the readResolve method to construct a new object with the correct\n     * finals initialized. Because we now call the constructor explicitly, all\n     * finals are properly set up.\n     */\n    @Test\n    public void solution() throws Exception {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        FinalExample x = new FinalExample(1234);\n        oos.writeObject(x);\n        oos.close();\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n        ObjectInputStream ois = new ObjectInputStream(bais);\n        FinalExample y = (FinalExample) ois.readObject();\n        assertTrue(y.ref != null);\n        assertTrue(y.value == 1234);\n        ois.close();\n        baos.close();\n        bais.close();\n    }\n\n    /**\n     * The solution &lt;em&gt;should not&lt;/em&gt; have worse execution time than built-in\n     * deserialization.\n     */\n    @Test\n    public void benchmark() throws Exception {\n        int TRIALS = 500_000;\n\n        long a = System.currentTimeMillis();\n        for (int i = 0; i &lt; TRIALS; i++) {\n            problem();\n        }\n        a = System.currentTimeMillis() - a;\n\n        long b = System.currentTimeMillis();\n        for (int i = 0; i &lt; TRIALS; i++) {\n            solution();\n        }\n        b = System.currentTimeMillis() - b;\n\n        System.out.println(\"Problem: \" + a / 1000f + \"s Solution: \" + b / 1000f + \"s\");\n        assertTrue(b &lt;= a);\n    }\n\n    public static class FinalExample implements Serializable {\n\n        private static final long serialVersionUID = 4772085863429354018L;\n\n        public final transient Object ref = new Object();\n\n        public final int value;\n\n        private transient GetField fields;\n\n        public FinalExample(int value) {\n            this.value = value;\n        }\n\n        private FinalExample(GetField fields) throws IOException {\n            // assign fields\n            value = fields.get(\"value\", 0);\n        }\n\n        private void readObject(ObjectInputStream stream) throws IOException,\n                ClassNotFoundException {\n            fields = stream.readFields();\n        }\n\n        private Object readResolve() throws ObjectStreamException {\n            try {\n                return new FinalExample(fields);\n            } catch (IOException ex) {\n                throw new InvalidObjectException(ex.getMessage());\n            }\n        }\n\n    }\n\n    public static class WrongExample implements Serializable {\n\n        private static final long serialVersionUID = 4772085863429354018L;\n\n        public final transient Object ref = new Object();\n\n        public final int value;\n\n        public WrongExample(int value) {\n            this.value = value;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>A note of caution: whenever the class refers to another object instance, it might be possible to leak the temporary \"instance\" created by the serialization process: the object resolution occurs only after all sub-objects are read, hence it is possible for subobjects to keep a reference to the temporary object. Classes can check for use of such illegally constructed instances by checking that the <code>GetField</code> temporary field is null. Only when it is null, it was created using a regular constructor and not through the deserialization process.</p>\n\n<p>Note to self: Perhaps a better solution exists in five years. See you then!</p>\n"},{"tags":[],"owner":{"account_id":20465558,"reputation":11,"user_id":15017144,"display_name":"Liam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610780918,"creation_date":1610780918,"answer_id":65747268,"question_id":2968876,"body_markdown":"This question is about the Java default serializer, but I landed here from searching about Gson. This answer doesn&#39;t apply to the default serializer, but it does apply to Gson and maybe others. I wasn&#39;t a fan of (manually) using Reflection or `readResolve`, so here&#39;s something else.\r\n\r\nWhen deserializing, Gson calls the default constructor to create the object. You can move your transient final assignments to the default constructor, and they will be assigned properly. If you only have a non-default constructor that assigns final variables (for example, an ID), it won&#39;t matter what you assign them to as they will be overwritten by Gson with Reflection.\r\n\r\nThis does mean that if your transient final assignments relies on constructor arguments, this won&#39;t work.\r\n\r\nHere is some example code:\r\n\r\n```lang-java\r\nimport com.google.gson.Gson;\r\nimport java.util.HashMap;\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tBrokenTestObject broken = new BrokenTestObject(&quot;broken&quot;);\r\n\t\tFixedTestObject fixed = new FixedTestObject(&quot;fixed&quot;);\r\n\r\n\t\tbroken = serializeAndDeserialize(broken, BrokenTestObject.class);\r\n\t\tfixed = serializeAndDeserialize(fixed, FixedTestObject.class);\r\n\r\n\t\tSystem.out.println(broken.id + &quot;: &quot; + broken.someCache);\r\n\t\tSystem.out.println(fixed.id + &quot;: &quot; + fixed.someCache);\r\n\t}\r\n\r\n\tpublic static &lt;O&gt; O serializeAndDeserialize(O object, Class&lt;O&gt; c) {\r\n\t\tGson gson = new Gson();\r\n\t\tString json = gson.toJson(object);\r\n\t\treturn gson.fromJson(json, c);\r\n\t}\r\n\r\n\tpublic static class BrokenTestObject {\r\n\t\tpublic final String id;\r\n\t\tpublic transient final HashMap&lt;String, String&gt; someCache = new HashMap&lt;&gt;();\r\n\r\n\t\tpublic BrokenTestObject(String id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class FixedTestObject {\r\n\t\tpublic final String id;\r\n\t\tpublic transient final HashMap&lt;String, String&gt; someCache;\r\n\r\n\t\tpublic FixedTestObject(String id) {\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.someCache = new HashMap&lt;&gt;();\r\n\t\t}\r\n\r\n\t\t//only used during deserialization\r\n\t\tprivate FixedTestObject() {\r\n\t\t\tthis.id = null; //doesn&#39;t matter, will be overwritten during deserialization\r\n\t\t\tthis.someCache = new HashMap&lt;&gt;();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nPrints:\r\n```lang-none\r\nbroken: null\r\nfixed: {}\r\n```","title":"final transient fields and serialization","body":"<p>This question is about the Java default serializer, but I landed here from searching about Gson. This answer doesn't apply to the default serializer, but it does apply to Gson and maybe others. I wasn't a fan of (manually) using Reflection or <code>readResolve</code>, so here's something else.</p>\n<p>When deserializing, Gson calls the default constructor to create the object. You can move your transient final assignments to the default constructor, and they will be assigned properly. If you only have a non-default constructor that assigns final variables (for example, an ID), it won't matter what you assign them to as they will be overwritten by Gson with Reflection.</p>\n<p>This does mean that if your transient final assignments relies on constructor arguments, this won't work.</p>\n<p>Here is some example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.Gson;\nimport java.util.HashMap;\n\npublic class Test {\n    public static void main(String[] args) {\n\n        BrokenTestObject broken = new BrokenTestObject(&quot;broken&quot;);\n        FixedTestObject fixed = new FixedTestObject(&quot;fixed&quot;);\n\n        broken = serializeAndDeserialize(broken, BrokenTestObject.class);\n        fixed = serializeAndDeserialize(fixed, FixedTestObject.class);\n\n        System.out.println(broken.id + &quot;: &quot; + broken.someCache);\n        System.out.println(fixed.id + &quot;: &quot; + fixed.someCache);\n    }\n\n    public static &lt;O&gt; O serializeAndDeserialize(O object, Class&lt;O&gt; c) {\n        Gson gson = new Gson();\n        String json = gson.toJson(object);\n        return gson.fromJson(json, c);\n    }\n\n    public static class BrokenTestObject {\n        public final String id;\n        public transient final HashMap&lt;String, String&gt; someCache = new HashMap&lt;&gt;();\n\n        public BrokenTestObject(String id) {\n            this.id = id;\n        }\n    }\n\n    public static class FixedTestObject {\n        public final String id;\n        public transient final HashMap&lt;String, String&gt; someCache;\n\n        public FixedTestObject(String id) {\n            this.id = id;\n            this.someCache = new HashMap&lt;&gt;();\n        }\n\n        //only used during deserialization\n        private FixedTestObject() {\n            this.id = null; //doesn't matter, will be overwritten during deserialization\n            this.someCache = new HashMap&lt;&gt;();\n        }\n    }\n}\n</code></pre>\n<p>Prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>broken: null\nfixed: {}\n</code></pre>\n"}],"owner":{"display_name":"user319799"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32916,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":2968910,"answer_count":6,"score":69,"last_activity_date":1698436433,"creation_date":1275591194,"question_id":2968876,"body_markdown":"Is it possible to have `final transient` fields that are set to any non-default value after serialization in Java?  My usecase is a cache variable ‚Äî that&#39;s why it is `transient`.  I also have a habit of making `Map` fields that won&#39;t be changed (i.e. contents of the map is changed, but object itself remains the same) `final`.  However, these attributes seem to be contradictory ‚Äî while compiler allows such a combination, I cannot have the field set to anything but `null` after unserialization.\r\n\r\nI tried the following, without success:\r\n\r\n* simple field initialization (shown in the example): this is what I normally do, but the initialization doesn&#39;t seem to happen after unserialization;\r\n* initialization in constructor (I believe this is semantically the same as above though);\r\n* assigning the field in `readObject()` ‚Äî cannot be done since the field is `final`.\r\n\r\nIn the example `cache` is `public` only for testing.\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class test\r\n    {\r\n        public static void main (String[] args) throws Exception\r\n        {\r\n            X  x = new X ();\r\n            System.out.println (x + &quot; &quot; + x.cache);\r\n\r\n            ByteArrayOutputStream  buffer = new ByteArrayOutputStream ();\r\n            new ObjectOutputStream (buffer).writeObject (x);\r\n            x = (X) new ObjectInputStream (new ByteArrayInputStream (buffer.toByteArray ())).readObject ();\r\n            System.out.println (x + &quot; &quot; + x.cache);\r\n        }\r\n\r\n        public static class X implements Serializable\r\n        {\r\n            public final transient Map &lt;Object, Object&gt;  cache = new HashMap &lt;Object, Object&gt; ();\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    test$X@1a46e30 {}\r\n    test$X@190d11 null\r\n\r\n","title":"final transient fields and serialization","body":"<p>Is it possible to have <code>final transient</code> fields that are set to any non-default value after serialization in Java?  My usecase is a cache variable ‚Äî that's why it is <code>transient</code>.  I also have a habit of making <code>Map</code> fields that won't be changed (i.e. contents of the map is changed, but object itself remains the same) <code>final</code>.  However, these attributes seem to be contradictory ‚Äî while compiler allows such a combination, I cannot have the field set to anything but <code>null</code> after unserialization.</p>\n\n<p>I tried the following, without success:</p>\n\n<ul>\n<li>simple field initialization (shown in the example): this is what I normally do, but the initialization doesn't seem to happen after unserialization;</li>\n<li>initialization in constructor (I believe this is semantically the same as above though);</li>\n<li>assigning the field in <code>readObject()</code> ‚Äî cannot be done since the field is <code>final</code>.</li>\n</ul>\n\n<p>In the example <code>cache</code> is <code>public</code> only for testing.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class test\n{\n    public static void main (String[] args) throws Exception\n    {\n        X  x = new X ();\n        System.out.println (x + \" \" + x.cache);\n\n        ByteArrayOutputStream  buffer = new ByteArrayOutputStream ();\n        new ObjectOutputStream (buffer).writeObject (x);\n        x = (X) new ObjectInputStream (new ByteArrayInputStream (buffer.toByteArray ())).readObject ();\n        System.out.println (x + \" \" + x.cache);\n    }\n\n    public static class X implements Serializable\n    {\n        public final transient Map &lt;Object, Object&gt;  cache = new HashMap &lt;Object, Object&gt; ();\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>test$X@1a46e30 {}\ntest$X@190d11 null\n</code></pre>\n"},{"tags":["java","tomcat","classloader","completable-future"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":1,"creation_date":1616142921,"post_id":66704414,"comment_id":117915212,"body_markdown":"Have you tried passing an executor as the last parameter to `thenAcceptAsync`(https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#thenAcceptAsync-java.util.function.Consumer-java.util.concurrent.Executor-) .. choose the appropriate on in either case .. ForkJoin or ThreadPoolExecutor respectively as needed.","body":"Have you tried passing an executor as the last parameter to <code>thenAcceptAsync</code>(<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#thenAcceptAsync-java.util.function.Consumer-java.util.concurrent.Executor-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&zwnj;&#8203;concurrent/&hellip;</a>) .. choose the appropriate on in either case .. ForkJoin or ThreadPoolExecutor respectively as needed."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1616144326,"creation_date":1616143583,"answer_id":66705009,"question_id":66704414,"body_markdown":"Whether `CompletableFuture` uses a new thread per task or `ForkJoinPool` depends on the parallelism level of your system:\r\n\r\n&gt;All async methods without an explicit Executor argument are performed using the ForkJoinPool.commonPool() (unless it does not support a parallelism level of at least two, in which case, a new Thread is created to run each task).\r\n\r\n(cf. [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html)).\r\n\r\nThe default parallelism level is one less than the number of processors, but you can change it to any value setting the system property `java.util.concurrent.ForkJoinPool.common.parallelism` (cf. [`ForkJoinPool`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html)).\r\n\r\nHowever I would rather use a custom `Executor`, as in the comments to this and your [previous question](https://stackoverflow.com/q/66517502/11748454). The fact that newly created threads inherit the current thread context class loader, while the common pool doesn&#39;t, should be considered more as an implementation detail. Your code should work correctly in both cases.","title":"Thread of supplyAsync in Java completable future uses different threads in different environments","body":"<p>Whether <code>CompletableFuture</code> uses a new thread per task or <code>ForkJoinPool</code> depends on the parallelism level of your system:</p>\n<blockquote>\n<p>All async methods without an explicit Executor argument are performed using the ForkJoinPool.commonPool() (unless it does not support a parallelism level of at least two, in which case, a new Thread is created to run each task).</p>\n</blockquote>\n<p>(cf. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">Javadoc</a>).</p>\n<p>The default parallelism level is one less than the number of processors, but you can change it to any value setting the system property <code>java.util.concurrent.ForkJoinPool.common.parallelism</code> (cf. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\"><code>ForkJoinPool</code></a>).</p>\n<p>However I would rather use a custom <code>Executor</code>, as in the comments to this and your <a href=\"https://stackoverflow.com/q/66517502/11748454\">previous question</a>. The fact that newly created threads inherit the current thread context class loader, while the common pool doesn't, should be considered more as an implementation detail. Your code should work correctly in both cases.</p>\n"}],"owner":{"account_id":7486653,"reputation":290,"user_id":5689611,"accept_rate":80,"display_name":"Hasintha Samith Randika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66705009,"answer_count":1,"score":4,"last_activity_date":1698436215,"creation_date":1616140748,"question_id":66704414,"body_markdown":"In my web app a supplyAsync method uses forkjoin pool in cloud Linux environments but in local Linux machines same code uses threads like thread-1 thread-2 with class web app class loader. Is there any configuration to change the default threadpool for completable futures.I want to get the local behaviour in cloud. Thread with a web app class loader. \r\n\r\nJava version java 11, tomcat version 8.5.24.\r\n\r\n    CompletableFuture&lt;Void&gt; asyncFuture = future.thenAcceptAsync(t -&gt; {\r\n            if (!complete.getAndSet(true)) {\r\n                try {\r\n                    completeAction.accept(t);\r\n                } finally {\r\n                    synchronized (executor) {\r\n                        K.shutdown();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        synchronized (executor) {\r\n            if (!executor.isShutdown()) {\r\n                executor.schedule(() -&gt; {\r\n                    if (!complete.getAndSet(true)) {\r\n                        try {\r\n                            asyncFuture.cancel(false);\r\n                            timeoutAction.run();\r\n                        } finally {\r\n                            executor.shutdown();\r\n                        }\r\n                    }\r\n                }, 200, 50);\r\n            }\r\n        }\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/mVUat.png\r\n","title":"Thread of supplyAsync in Java completable future uses different threads in different environments","body":"<p>In my web app a supplyAsync method uses forkjoin pool in cloud Linux environments but in local Linux machines same code uses threads like thread-1 thread-2 with class web app class loader. Is there any configuration to change the default threadpool for completable futures.I want to get the local behaviour in cloud. Thread with a web app class loader.</p>\n<p>Java version java 11, tomcat version 8.5.24.</p>\n<pre><code>CompletableFuture&lt;Void&gt; asyncFuture = future.thenAcceptAsync(t -&gt; {\n        if (!complete.getAndSet(true)) {\n            try {\n                completeAction.accept(t);\n            } finally {\n                synchronized (executor) {\n                    K.shutdown();\n                }\n            }\n        }\n    });\n    synchronized (executor) {\n        if (!executor.isShutdown()) {\n            executor.schedule(() -&gt; {\n                if (!complete.getAndSet(true)) {\n                    try {\n                        asyncFuture.cancel(false);\n                        timeoutAction.run();\n                    } finally {\n                        executor.shutdown();\n                    }\n                }\n            }, 200, 50);\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mVUat.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mVUat.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","log4j2"],"owner":{"account_id":17216618,"reputation":83,"user_id":14735091,"display_name":"BlackRose01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698435283,"creation_date":1619190267,"question_id":67232388,"body_markdown":"I want to migrate a Java Spring project from hard coded application.properties to Spring Cloud Config. The implementation was no problem but now Log4j2 does not work properly. Usually the log outputs should be written to a database table. The configuration is done via a log4j2.xml file and a LoggerFactory class (JDBCConnectionFactoryForLog4J2).\r\n\r\nAs I understood it correctly, Log4j2 is already started before the configuration request at the Config Server is started. Thus, according to my understanding, the LoggerFactory class is obsolete. But unfortunately I don&#39;t really understand now, how I can set up the configuration of Log4j2 so that the database connection can only happen after the configuration query.\r\n\r\nlog4j2.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;\r\n            %d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${hostName} --- [%15.15t] %-40.40c{1.} : %m%n%ex\r\n        &lt;/Property&gt;\r\n\t\t&lt;Property name=&quot;JDBC_LEVEL&quot;&gt;INFO&lt;/Property&gt;\r\n\t\t&lt;Property name=&quot;CONSOLE_FILE_LEVEL&quot;&gt;INFO&lt;/Property&gt;\r\n\t\t&lt;Property name=&quot;LOG_DIR&quot;&gt;.&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n\t&lt;Appenders&gt;\r\n        &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\r\n        &lt;/Console&gt;\r\n\t\t&lt;RollingFile name=&quot;FileAppender&quot; fileName=&quot;${LOG_DIR}/service_registry.log&quot; filePattern=&quot;${LOG_DIR}/service_registry-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n\t    \t&lt;PatternLayout&gt;\r\n\t        \t&lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n\t    \t&lt;/PatternLayout&gt;\r\n\t    \t&lt;Policies&gt;\r\n\t        \t&lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot; /&gt;\r\n\t    \t&lt;/Policies&gt;\r\n\t    \t&lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t\t&lt;JDBC name=&quot;MySQLDatabase&quot; tableName=&quot;logs&quot;&gt;\r\n         \t&lt;ConnectionFactory class=&quot;eu.arrowhead.common.log4j2.JDBCConnectionFactoryForLog4J2&quot; method=&quot;getConnection&quot; /&gt;\r\n         \t&lt;Column name=&quot;log_id&quot; pattern=&quot;%u&quot; /&gt;\r\n         \t&lt;Column name=&quot;entry_date&quot; isEventTimestamp=&quot;true&quot; /&gt;\r\n         \t&lt;Column name=&quot;logger&quot; pattern=&quot;%logger&quot; /&gt;\r\n         \t&lt;Column name=&quot;log_level&quot; pattern=&quot;%level&quot; /&gt;\r\n         \t&lt;Column name=&quot;message&quot; pattern=&quot;%m&quot; /&gt;\r\n         \t&lt;Column name=&quot;exception&quot; pattern=&quot;%throwable &quot; /&gt;\r\n\t\t\t&lt;ThresholdFilter level=&quot;${JDBC_LEVEL}&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n\t\t&lt;/JDBC&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n\t\t&lt;Root level=&quot;WARN&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;ConsoleAppender&quot; /&gt; &lt;!-- comment out this one in production environment --&gt;\r\n            &lt;AppenderRef ref=&quot;FileAppender&quot; /&gt;\r\n        &lt;/Root&gt;\r\n\t\t&lt;AsyncLogger name=&quot;eu.arrowhead&quot; level=&quot;${JDBC_LEVEL}&quot; additivity=&quot;true&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;MySQLDatabase&quot; /&gt;\r\n    \t&lt;/AsyncLogger&gt;\r\n\t\t&lt;Logger name=&quot;eu.arrowhead.common&quot; level=&quot;${CONSOLE_FILE_LEVEL}&quot; additivity=&quot;true&quot;&gt;&lt;/Logger&gt;\r\n\t\t&lt;Logger name=&quot;eu.arrowhead.core&quot; level=&quot;${CONSOLE_FILE_LEVEL}&quot; additivity=&quot;true&quot;&gt;&lt;/Logger&gt;\t\t\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nLoggerFactory Class\r\n```java\r\npublic class JDBCConnectionFactoryForLog4J2 {\r\n\r\n\r\n\t//=================================================================================================\r\n\t// members\r\n\tprivate static Properties props;\r\n\tprivate static DataSource dataSource;\r\n\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\tinit();\r\n\t\t} catch (final IOException ex) {\r\n\t\t\t// this class&#39; purpose to configure logging so in case of exceptions we can&#39;t use logging\r\n\t\t\tSystem.out.println(ex.getMessage()); //NOSONAR no logging at this point\r\n\t\t\tex.printStackTrace(); //NOSONAR no logging at this point\r\n\t\t}\r\n\t}\r\n\r\n\t//=================================================================================================\r\n\t// methods\r\n\r\n\t//-------------------------------------------------------------------------------------------------\r\n\tpublic static Connection getConnection() throws SQLException {\r\n\t\tif (dataSource == null) {\r\n\t\t\tfinal HikariConfig config = new HikariConfig();\r\n\t\t\tconfig.setJdbcUrl(props.getProperty(CoreCommonConstants.DATABASE_URL));\r\n\t\t\tconfig.setUsername(props.getProperty(CoreCommonConstants.DATABASE_USER));\r\n\t\t\tconfig.setPassword(props.getProperty(CoreCommonConstants.DATABASE_PASSWORD));\r\n\t\t\tconfig.setDriverClassName(props.getProperty(CoreCommonConstants.DATABASE_DRIVER_CLASS));\r\n\t\t\t\r\n\t\t\tdataSource = new HikariDataSource(config);\r\n\t\t}\r\n\t\t\r\n\t\treturn dataSource.getConnection();\r\n\t}\r\n\t\r\n\t//=================================================================================================\r\n\t// assistant methods\r\n\r\n\t//-------------------------------------------------------------------------------------------------\r\n\tprivate static void init() throws IOException {\r\n\t\tInputStream propStream = null;\r\n\t\tfinal File propertiesFile = new File(CoreCommonConstants.APPLICATION_PROPERTIES);\r\n\r\n\t\tif (!propertiesFile.exists()) {\r\n\t\t\tpropStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(CoreCommonConstants.APPLICATION_PROPERTIES);\r\n\t\t} else {\r\n\t\t\tpropStream = new FileInputStream(propertiesFile);\r\n\t\t}\r\n\t\t\r\n\t\tfinal Properties temp = new Properties();\r\n\t\ttemp.load(propStream);\r\n\r\n\t\tprops = temp;\r\n\t}\r\n\t\r\n\t//-------------------------------------------------------------------------------------------------\r\n\tprivate JDBCConnectionFactoryForLog4J2() {\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n}\r\n```","title":"Spring Config Server - Cannot log to database - NullPointerException DataSource","body":"<p>I want to migrate a Java Spring project from hard coded application.properties to Spring Cloud Config. The implementation was no problem but now Log4j2 does not work properly. Usually the log outputs should be written to a database table. The configuration is done via a log4j2.xml file and a LoggerFactory class (JDBCConnectionFactoryForLog4J2).</p>\n<p>As I understood it correctly, Log4j2 is already started before the configuration request at the Config Server is started. Thus, according to my understanding, the LoggerFactory class is obsolete. But unfortunately I don't really understand now, how I can set up the configuration of Log4j2 so that the database connection can only happen after the configuration query.</p>\n<p>log4j2.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;\n            %d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${hostName} --- [%15.15t] %-40.40c{1.} : %m%n%ex\n        &lt;/Property&gt;\n        &lt;Property name=&quot;JDBC_LEVEL&quot;&gt;INFO&lt;/Property&gt;\n        &lt;Property name=&quot;CONSOLE_FILE_LEVEL&quot;&gt;INFO&lt;/Property&gt;\n        &lt;Property name=&quot;LOG_DIR&quot;&gt;.&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;FileAppender&quot; fileName=&quot;${LOG_DIR}/service_registry.log&quot; filePattern=&quot;${LOG_DIR}/service_registry-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\n        &lt;/RollingFile&gt;\n        &lt;JDBC name=&quot;MySQLDatabase&quot; tableName=&quot;logs&quot;&gt;\n            &lt;ConnectionFactory class=&quot;eu.arrowhead.common.log4j2.JDBCConnectionFactoryForLog4J2&quot; method=&quot;getConnection&quot; /&gt;\n            &lt;Column name=&quot;log_id&quot; pattern=&quot;%u&quot; /&gt;\n            &lt;Column name=&quot;entry_date&quot; isEventTimestamp=&quot;true&quot; /&gt;\n            &lt;Column name=&quot;logger&quot; pattern=&quot;%logger&quot; /&gt;\n            &lt;Column name=&quot;log_level&quot; pattern=&quot;%level&quot; /&gt;\n            &lt;Column name=&quot;message&quot; pattern=&quot;%m&quot; /&gt;\n            &lt;Column name=&quot;exception&quot; pattern=&quot;%throwable &quot; /&gt;\n            &lt;ThresholdFilter level=&quot;${JDBC_LEVEL}&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n        &lt;/JDBC&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;WARN&quot;&gt;\n            &lt;AppenderRef ref=&quot;ConsoleAppender&quot; /&gt; &lt;!-- comment out this one in production environment --&gt;\n            &lt;AppenderRef ref=&quot;FileAppender&quot; /&gt;\n        &lt;/Root&gt;\n        &lt;AsyncLogger name=&quot;eu.arrowhead&quot; level=&quot;${JDBC_LEVEL}&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;MySQLDatabase&quot; /&gt;\n        &lt;/AsyncLogger&gt;\n        &lt;Logger name=&quot;eu.arrowhead.common&quot; level=&quot;${CONSOLE_FILE_LEVEL}&quot; additivity=&quot;true&quot;&gt;&lt;/Logger&gt;\n        &lt;Logger name=&quot;eu.arrowhead.core&quot; level=&quot;${CONSOLE_FILE_LEVEL}&quot; additivity=&quot;true&quot;&gt;&lt;/Logger&gt;      \n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>LoggerFactory Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JDBCConnectionFactoryForLog4J2 {\n\n\n    //=================================================================================================\n    // members\n    private static Properties props;\n    private static DataSource dataSource;\n\n    static {\n        try {\n            init();\n        } catch (final IOException ex) {\n            // this class' purpose to configure logging so in case of exceptions we can't use logging\n            System.out.println(ex.getMessage()); //NOSONAR no logging at this point\n            ex.printStackTrace(); //NOSONAR no logging at this point\n        }\n    }\n\n    //=================================================================================================\n    // methods\n\n    //-------------------------------------------------------------------------------------------------\n    public static Connection getConnection() throws SQLException {\n        if (dataSource == null) {\n            final HikariConfig config = new HikariConfig();\n            config.setJdbcUrl(props.getProperty(CoreCommonConstants.DATABASE_URL));\n            config.setUsername(props.getProperty(CoreCommonConstants.DATABASE_USER));\n            config.setPassword(props.getProperty(CoreCommonConstants.DATABASE_PASSWORD));\n            config.setDriverClassName(props.getProperty(CoreCommonConstants.DATABASE_DRIVER_CLASS));\n            \n            dataSource = new HikariDataSource(config);\n        }\n        \n        return dataSource.getConnection();\n    }\n    \n    //=================================================================================================\n    // assistant methods\n\n    //-------------------------------------------------------------------------------------------------\n    private static void init() throws IOException {\n        InputStream propStream = null;\n        final File propertiesFile = new File(CoreCommonConstants.APPLICATION_PROPERTIES);\n\n        if (!propertiesFile.exists()) {\n            propStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(CoreCommonConstants.APPLICATION_PROPERTIES);\n        } else {\n            propStream = new FileInputStream(propertiesFile);\n        }\n        \n        final Properties temp = new Properties();\n        temp.load(propStream);\n\n        props = temp;\n    }\n    \n    //-------------------------------------------------------------------------------------------------\n    private JDBCConnectionFactoryForLog4J2() {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft","spigot","minecraft-commands"],"comments":[{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1696510204,"post_id":77235649,"comment_id":136164115,"body_markdown":"While I see a couple of issues, you haven&#39;t said what the problem is that you&#39;re facing. Please edit the question to include what&#39;s wrong (including any errors): [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"While I see a couple of issues, you haven&#39;t said what the problem is that you&#39;re facing. Please edit the question to include what&#39;s wrong (including any errors): <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23048106,"reputation":47,"user_id":17165378,"display_name":"MichalV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696802970,"creation_date":1696542253,"answer_id":77240753,"question_id":77235649,"body_markdown":"it was this command\r\n\r\n```java\r\narmorStand.setHelmet(new ItemStack(Material.matchMaterial(Arrays.toString(args))));\r\n```","title":"How to Pass Material Argument from player in Minecraft","body":"<p>it was this command</p>\n<pre class=\"lang-java prettyprint-override\"><code>armorStand.setHelmet(new ItemStack(Material.matchMaterial(Arrays.toString(args))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20612404,"reputation":131,"user_id":15131279,"display_name":"Lanfix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698435262,"creation_date":1698435262,"answer_id":77376675,"question_id":77235649,"body_markdown":"I hope my answer is not too late, but it is written unsolved.\r\n\r\nYou should get the material through\r\n\r\n    try {\r\n        armorStand.setHelmet(new ItemStack(Material.valueOf(args[0].toUpperCase())));\r\n    } catch (IllegalArgumentException e) {\r\n        // handle your error\r\n    }\r\n\r\nif the first argument is for example &quot;TNT&quot; (`/armorstand TNT`)\r\n\r\nOtherwise, if you insist to use &quot;Material.TNT&quot; you will have to remove it with\r\n\r\n    args[0].replace(&quot;Material.&quot;, &quot;&quot;)\r\n\r\nDon&#39;t forget to only use args[0] when you are sure at least one argument has been given (which you have already done with your second condition)\r\n","title":"How to Pass Material Argument from player in Minecraft","body":"<p>I hope my answer is not too late, but it is written unsolved.</p>\n<p>You should get the material through</p>\n<pre><code>try {\n    armorStand.setHelmet(new ItemStack(Material.valueOf(args[0].toUpperCase())));\n} catch (IllegalArgumentException e) {\n    // handle your error\n}\n</code></pre>\n<p>if the first argument is for example &quot;TNT&quot; (<code>/armorstand TNT</code>)</p>\n<p>Otherwise, if you insist to use &quot;Material.TNT&quot; you will have to remove it with</p>\n<pre><code>args[0].replace(&quot;Material.&quot;, &quot;&quot;)\n</code></pre>\n<p>Don't forget to only use args[0] when you are sure at least one argument has been given (which you have already done with your second condition)</p>\n"}],"owner":{"account_id":23048106,"reputation":47,"user_id":17165378,"display_name":"MichalV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77376675,"answer_count":2,"score":2,"last_activity_date":1698435262,"creation_date":1696496336,"question_id":77235649,"body_markdown":"I want to setHelmet of an armor stand and i want to pass argument[1] as &quot;example Material.TNT&quot;\r\n\r\n```java\r\n@Override\r\npublic boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n    if(sender instanceof Player){\r\n        Player player = (Player) sender;\r\n        if(args.length == 0) {\r\n            ArmorStand armorStand = (ArmorStand) player.getWorld().spawnEntity(player.getLocation(), EntityType.ARMOR_STAND);\r\n        }\r\n        if(args.length == 1){\r\n            ArmorStand armorStand = (ArmorStand) player.getWorld().spawnEntity(player.getLocation(), EntityType.ARMOR_STAND);\r\n            armorStand.setHelmet(new ItemStack(Material.player));\r\n       }\r\n    }\r\n\r\n    return true;\r\n```\r\nI am expecting to get Material.&quot;material&quot;  and set it as a helmet when player send command\r\nresult command :\r\n`/armorstand Material.TNT`","title":"How to Pass Material Argument from player in Minecraft","body":"<p>I want to setHelmet of an armor stand and i want to pass argument[1] as &quot;example Material.TNT&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n    if(sender instanceof Player){\n        Player player = (Player) sender;\n        if(args.length == 0) {\n            ArmorStand armorStand = (ArmorStand) player.getWorld().spawnEntity(player.getLocation(), EntityType.ARMOR_STAND);\n        }\n        if(args.length == 1){\n            ArmorStand armorStand = (ArmorStand) player.getWorld().spawnEntity(player.getLocation(), EntityType.ARMOR_STAND);\n            armorStand.setHelmet(new ItemStack(Material.player));\n       }\n    }\n\n    return true;\n</code></pre>\n<p>I am expecting to get Material.&quot;material&quot;  and set it as a helmet when player send command\nresult command :\n<code>/armorstand Material.TNT</code></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":351421,"reputation":4917,"user_id":687884,"accept_rate":100,"display_name":"pholser"},"score":0,"creation_date":1668187956,"post_id":66891186,"comment_id":131352980,"body_markdown":"https://stackoverflow.com/questions/15821407/missing-type-arguments-for-generic-class-classt-where-t-is-a-type-variable/15821456#15821456","body":"<a href=\"https://stackoverflow.com/questions/15821407/missing-type-arguments-for-generic-class-classt-where-t-is-a-type-variable/15821456#15821456\" title=\"missing type arguments for generic class classt where t is a type variable\">stackoverflow.com/questions/15821407/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2415340,"reputation":1141,"user_id":2109492,"accept_rate":60,"display_name":"victorantunes"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617208736,"creation_date":1617208736,"answer_id":66891834,"question_id":66891186,"body_markdown":"**TL;DR**: Do you HAVE to use arrays? If not, use lists\r\n\r\n\r\nReplace this:\r\n\r\n` Constructor&lt;Dragon&gt; constructor = dragonTypes[index].getConstructor(String.class, String.class);`\r\n\r\nWith this:\r\n\r\n`Constructor&lt;Dragon&gt; constructor = dragonTypes.get(index).getConstructor(String.class, String.class);`\r\n\r\n\r\n----------\r\n\r\nAnd this: \r\n\r\n` private static final Class[] dragonTypes = {Dragon.class, Dragon.class};`\r\n\r\nWith this:\r\n\r\n`private static final List&lt;Class&lt;Dragon&gt;&gt; dragonTypes = Arrays.asList(Dragon.class, Dragon.class);`","title":"What step can I take to fix the warning of &quot;Raw use of parameterized class &#39;Class&#39; &quot;?","body":"<p><strong>TL;DR</strong>: Do you HAVE to use arrays? If not, use lists</p>\n<p>Replace this:</p>\n<p><code> Constructor&lt;Dragon&gt; constructor = dragonTypes[index].getConstructor(String.class, String.class);</code></p>\n<p>With this:</p>\n<p><code>Constructor&lt;Dragon&gt; constructor = dragonTypes.get(index).getConstructor(String.class, String.class);</code></p>\n<hr />\n<p>And this:</p>\n<p><code> private static final Class[] dragonTypes = {Dragon.class, Dragon.class};</code></p>\n<p>With this:</p>\n<p><code>private static final List&lt;Class&lt;Dragon&gt;&gt; dragonTypes = Arrays.asList(Dragon.class, Dragon.class);</code></p>\n"},{"tags":[],"owner":{"account_id":20689108,"reputation":17580,"user_id":15273968,"display_name":"the Hutt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617376654,"creation_date":1617210140,"answer_id":66892166,"question_id":66891186,"body_markdown":"It is not allowed to instantiate an array of generic types (unless the type parameter is an unbound wildcard, for example List&lt;?&gt;. [This article][1] has explanation.\r\n\r\nAs you have to use arrays. You can use:\r\n\r\n    private static final Class&lt;?&gt;[] dragonTypes = {Dragon.class, IceDragon.class};\r\n\r\nAs for the error, cast the return object to `Constructor&lt;Dragon&gt; constructor`:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Constructor&lt;Dragon&gt; constructor =(Constructor&lt;Dragon&gt;) dragonTypes[index].getConstructor(String.class, String.class);\r\n\r\nYou have already suppressed the warning.\r\n\r\n\r\n  [1]: https://titanwolf.org/Network/Articles/Article?AID=757fb00b-7649-489e-8e28-1ba5888d079d#gsc.tab=0\r\n\r\n\r\n                              \r\n\r\n\r\n","title":"What step can I take to fix the warning of &quot;Raw use of parameterized class &#39;Class&#39; &quot;?","body":"<p>It is not allowed to instantiate an array of generic types (unless the type parameter is an unbound wildcard, for example List&lt;?&gt;. <a href=\"https://titanwolf.org/Network/Articles/Article?AID=757fb00b-7649-489e-8e28-1ba5888d079d#gsc.tab=0\" rel=\"nofollow noreferrer\">This article</a> has explanation.</p>\n<p>As you have to use arrays. You can use:</p>\n<pre><code>private static final Class&lt;?&gt;[] dragonTypes = {Dragon.class, IceDragon.class};\n</code></pre>\n<p>As for the error, cast the return object to <code>Constructor&lt;Dragon&gt; constructor</code>:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nConstructor&lt;Dragon&gt; constructor =(Constructor&lt;Dragon&gt;) dragonTypes[index].getConstructor(String.class, String.class);\n</code></pre>\n<p>You have already suppressed the warning.</p>\n"}],"owner":{"account_id":14713952,"reputation":77,"user_id":14183715,"display_name":"Arunabh Bhattacharya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8191,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":66892166,"answer_count":2,"score":6,"last_activity_date":1698434716,"creation_date":1617206169,"question_id":66891186,"body_markdown":"In the program below, I have class `Cow`, class `Dragon` derived from class `Cow` and class `IceDragon` derived from class `Dragon`.\r\n\r\nThere is also the `HeiferGenerator` class, responsible for creating an array containing instances of `Cow`, `Dragon` and `IceDragon`.\r\n\r\nHowever, in the `HeifeferGenerator` class, I get the warning &quot;*Raw use of parameterized class &#39;Class&#39;*&quot; on the line: \r\n\r\n    private static final Class[] dragonTypes = {Dragon.class, IceDragon.class};\r\n\r\n \r\nI tried looking at the answer at https://stackoverflow.com/questions/24672749/raw-use-of-parameterized-class, but it was not of any help. What can I do to fix this warning? \r\n    \r\n      \r\n    \r\n    // Cow class\r\n    \r\n    public class Cow {\r\n    \r\n        // Declaring attributes name and image\r\n        private final String name;\r\n        private String image;\r\n    \r\n        // Constructor to create a new Cow object with parameter name\r\n        public Cow (String name) {\r\n            this.name = name;\r\n            this.image = null;\r\n        }\r\n    \r\n        // Accessor to return the name of the cow\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    \r\n        // Accessor to return the image used to display the cow after the message\r\n        public String getImage() {\r\n            return this.image;\r\n        }\r\n    \r\n        // Mutator to set the image used to display the cow after the message\r\n        public void setImage(String _image) {\r\n            this.image = _image;\r\n        }\r\n    }\r\n    enter code here\r\n    \r\n    // Dragon class derived from the Cow class\r\n    \r\n    public class Dragon extends Cow {\r\n        // Constructor to create a new Dragon object with parameters name and image\r\n        public Dragon (String name, String image) {\r\n            super(name);\r\n            setImage(image);\r\n        }\r\n    \r\n        // Function to return true for the default Dragon type\r\n        public boolean canBreatheFire() {\r\n            return true;\r\n        }\r\n    }\r\n    \r\n   \r\n\r\n    // IceDragon class derived from the Dragon class\r\n    \r\n    public class IceDragon extends Dragon {\r\n        // Constructor to create a new IceDragon object with parameters name and image\r\n        public IceDragon (String name, String image) {\r\n            super(name, image);\r\n        }\r\n    \r\n        // Function to return false for the IceDragon type\r\n        public boolean canBreatheFire() {\r\n            return false;\r\n        }\r\n    }\r\n      \r\n\r\n  \r\n    import java.lang.reflect.Constructor;\r\n    \r\n    public class HeiferGenerator\r\n    {\r\n        public static Cow[] getCows()\r\n        {\r\n            if (cows == null)\r\n            {\r\n                cows = new Cow[cowNames.length + dragonNames.length];\r\n    \r\n                // Add the &quot;regular&quot; cows\r\n                for (int index = 0; index &lt; cowNames.length; index++)\r\n                {\r\n                    cows[index] = new Cow(cowNames[index]);\r\n                    cows[index].setImage(quoteLines + cowImages[index]);\r\n                }\r\n    \r\n                // Add the dragons\r\n                for (int offset = cowNames.length, index = 0; index &lt; dragonNames.length; index++)\r\n                {\r\n                    try\r\n                    {\r\n                        @SuppressWarnings(&quot;unchecked&quot;)\r\n                        Constructor&lt;Dragon&gt; constructor = dragonTypes[index].getConstructor(String.class, String.class);\r\n                        cows[offset + index] = constructor.newInstance(dragonNames[index], quoteLines + dragonImage);\r\n                    }\r\n                    catch (Exception ignored) { }\r\n                }\r\n            }\r\n    \r\n            return cows;\r\n        }\r\n    \r\n        // Hard-coded values for some of the cows\r\n        private static final String[] cowNames = { &quot;heifer&quot;, &quot;kitteh&quot; };\r\n    \r\n        private static final String quoteLines = \t\t&quot;       \\\\\\n&quot; +\r\n                &quot;        \\\\\\n&quot; +\r\n                &quot;         \\\\\\n&quot;;\r\n    \r\n        private static final String[] cowImages = {\t&quot;        ^__^\\n&quot; +\r\n                &quot;        (oo)\\\\_______\\n&quot; +\r\n                &quot;        (__)\\\\       )\\\\/\\\\\\n&quot; +\r\n                &quot;            ||----w |\\n&quot; +\r\n                &quot;            ||     ||\\n&quot;,\r\n    \r\n    \r\n                &quot;       (\\&quot;`-&#39;  &#39;-/\\&quot;) .___..--&#39; &#39; \\&quot;`-._\\n&quot; +\r\n                        &quot;         ` *_ *  )    `-.   (      ) .`-.__. `)\\n&quot; +\r\n                        &quot;         (_Y_.) &#39; ._   )   `._` ;  `` -. .-&#39;\\n&quot; +\r\n                        &quot;      _.. `--&#39;_..-_/   /--&#39; _ .&#39; ,4\\n&quot; +\r\n                        &quot;   ( i l ),-&#39;&#39;  ( l i),&#39;  ( ( ! .-&#39;\\n&quot;\r\n        };\r\n    \r\n        private static final  String[] dragonNames = { &quot;dragon&quot;, &quot;ice-dragon&quot; };\r\n        private static final Class[] dragonTypes = {Dragon.class, Dragon.class};\r\n    \r\n    \r\n        private static final String dragonImage =     &quot;           |\\\\___/|       /\\\\  //|\\\\\\\\\\n&quot; +\r\n                &quot;           /0  0  \\\\__   /  \\\\// | \\\\ \\\\\\n&quot; +\r\n                &quot;          /     /  \\\\/_ /   //  |  \\\\  \\\\\\n&quot; +\r\n                &quot;          \\\\_^_\\\\&#39;/   \\\\/_   //   |   \\\\   \\\\\\n&quot; +\r\n                &quot;          //_^_/     \\\\/_ //    |    \\\\    \\\\\\n&quot; +\r\n                &quot;       ( //) |        \\\\ //     |     \\\\     \\\\\\n&quot; +\r\n                &quot;     ( / /) _|_ /   )   //     |      \\\\     _\\\\\\n&quot; +\r\n                &quot;   ( // /) &#39;/,_ _ _/  ( ; -.   |    _ _\\\\.-~       .-~~~^-.\\n&quot; +\r\n                &quot; (( / / )) ,-{        _      `.|.-~-.          .~         `.\\n&quot; +\r\n                &quot;(( // / ))  &#39;/\\\\      /                ~-. _.-~      .-~^-.  \\\\\\n&quot; +\r\n                &quot;(( /// ))      `.   {            }                 /      \\\\  \\\\\\n&quot; +\r\n                &quot; (( / ))     .----~-.\\\\        \\\\-&#39;               .~         \\\\  `.   __\\n&quot; +\r\n                &quot;            ///.----..&gt;        \\\\            _ -~            `.  ^-`  \\\\\\n&quot; +\r\n                &quot;              ///-._ _ _ _ _ _ _}^ - - - - ~                   `-----&#39;\\n&quot;;\r\n    \r\n          private static Cow[] cows = null;\r\n    \r\n      }\r\n\r\n\r\n&lt;sub&gt; [Translation in Spanish](https://es.stackoverflow.com/questions/551912/qu%c3%a9-paso-puedo-tomar-para-arreglar-la-advertencia-de-raw-use-of-parameterized) &lt;/sub&gt;\r\n\r\n&lt;sub&gt; [Translation in Portuguese](https://pt.stackoverflow.com/questions/561961/que-passo-posso-tomar-para-corrigir-o-aviso-raw-use-of-parameterized-class-cla) &lt;/sub&gt;\r\n","title":"What step can I take to fix the warning of &quot;Raw use of parameterized class &#39;Class&#39; &quot;?","body":"<p>In the program below, I have class <code>Cow</code>, class <code>Dragon</code> derived from class <code>Cow</code> and class <code>IceDragon</code> derived from class <code>Dragon</code>.</p>\n<p>There is also the <code>HeiferGenerator</code> class, responsible for creating an array containing instances of <code>Cow</code>, <code>Dragon</code> and <code>IceDragon</code>.</p>\n<p>However, in the <code>HeifeferGenerator</code> class, I get the warning &quot;<em>Raw use of parameterized class 'Class'</em>&quot; on the line:</p>\n<pre><code>private static final Class[] dragonTypes = {Dragon.class, IceDragon.class};\n</code></pre>\n<p>I tried looking at the answer at <a href=\"https://stackoverflow.com/questions/24672749/raw-use-of-parameterized-class\">Raw use of parameterized class</a>, but it was not of any help. What can I do to fix this warning?</p>\n<pre><code>// Cow class\n\npublic class Cow {\n\n    // Declaring attributes name and image\n    private final String name;\n    private String image;\n\n    // Constructor to create a new Cow object with parameter name\n    public Cow (String name) {\n        this.name = name;\n        this.image = null;\n    }\n\n    // Accessor to return the name of the cow\n    public String getName() {\n        return this.name;\n    }\n\n    // Accessor to return the image used to display the cow after the message\n    public String getImage() {\n        return this.image;\n    }\n\n    // Mutator to set the image used to display the cow after the message\n    public void setImage(String _image) {\n        this.image = _image;\n    }\n}\nenter code here\n\n// Dragon class derived from the Cow class\n\npublic class Dragon extends Cow {\n    // Constructor to create a new Dragon object with parameters name and image\n    public Dragon (String name, String image) {\n        super(name);\n        setImage(image);\n    }\n\n    // Function to return true for the default Dragon type\n    public boolean canBreatheFire() {\n        return true;\n    }\n}\n\n\n\n// IceDragon class derived from the Dragon class\n\npublic class IceDragon extends Dragon {\n    // Constructor to create a new IceDragon object with parameters name and image\n    public IceDragon (String name, String image) {\n        super(name, image);\n    }\n\n    // Function to return false for the IceDragon type\n    public boolean canBreatheFire() {\n        return false;\n    }\n}\n  \n\n\nimport java.lang.reflect.Constructor;\n\npublic class HeiferGenerator\n{\n    public static Cow[] getCows()\n    {\n        if (cows == null)\n        {\n            cows = new Cow[cowNames.length + dragonNames.length];\n\n            // Add the &quot;regular&quot; cows\n            for (int index = 0; index &lt; cowNames.length; index++)\n            {\n                cows[index] = new Cow(cowNames[index]);\n                cows[index].setImage(quoteLines + cowImages[index]);\n            }\n\n            // Add the dragons\n            for (int offset = cowNames.length, index = 0; index &lt; dragonNames.length; index++)\n            {\n                try\n                {\n                    @SuppressWarnings(&quot;unchecked&quot;)\n                    Constructor&lt;Dragon&gt; constructor = dragonTypes[index].getConstructor(String.class, String.class);\n                    cows[offset + index] = constructor.newInstance(dragonNames[index], quoteLines + dragonImage);\n                }\n                catch (Exception ignored) { }\n            }\n        }\n\n        return cows;\n    }\n\n    // Hard-coded values for some of the cows\n    private static final String[] cowNames = { &quot;heifer&quot;, &quot;kitteh&quot; };\n\n    private static final String quoteLines =        &quot;       \\\\\\n&quot; +\n            &quot;        \\\\\\n&quot; +\n            &quot;         \\\\\\n&quot;;\n\n    private static final String[] cowImages = { &quot;        ^__^\\n&quot; +\n            &quot;        (oo)\\\\_______\\n&quot; +\n            &quot;        (__)\\\\       )\\\\/\\\\\\n&quot; +\n            &quot;            ||----w |\\n&quot; +\n            &quot;            ||     ||\\n&quot;,\n\n\n            &quot;       (\\&quot;`-'  '-/\\&quot;) .___..--' ' \\&quot;`-._\\n&quot; +\n                    &quot;         ` *_ *  )    `-.   (      ) .`-.__. `)\\n&quot; +\n                    &quot;         (_Y_.) ' ._   )   `._` ;  `` -. .-'\\n&quot; +\n                    &quot;      _.. `--'_..-_/   /--' _ .' ,4\\n&quot; +\n                    &quot;   ( i l ),-''  ( l i),'  ( ( ! .-'\\n&quot;\n    };\n\n    private static final  String[] dragonNames = { &quot;dragon&quot;, &quot;ice-dragon&quot; };\n    private static final Class[] dragonTypes = {Dragon.class, Dragon.class};\n\n\n    private static final String dragonImage =     &quot;           |\\\\___/|       /\\\\  //|\\\\\\\\\\n&quot; +\n            &quot;           /0  0  \\\\__   /  \\\\// | \\\\ \\\\\\n&quot; +\n            &quot;          /     /  \\\\/_ /   //  |  \\\\  \\\\\\n&quot; +\n            &quot;          \\\\_^_\\\\'/   \\\\/_   //   |   \\\\   \\\\\\n&quot; +\n            &quot;          //_^_/     \\\\/_ //    |    \\\\    \\\\\\n&quot; +\n            &quot;       ( //) |        \\\\ //     |     \\\\     \\\\\\n&quot; +\n            &quot;     ( / /) _|_ /   )   //     |      \\\\     _\\\\\\n&quot; +\n            &quot;   ( // /) '/,_ _ _/  ( ; -.   |    _ _\\\\.-~       .-~~~^-.\\n&quot; +\n            &quot; (( / / )) ,-{        _      `.|.-~-.          .~         `.\\n&quot; +\n            &quot;(( // / ))  '/\\\\      /                ~-. _.-~      .-~^-.  \\\\\\n&quot; +\n            &quot;(( /// ))      `.   {            }                 /      \\\\  \\\\\\n&quot; +\n            &quot; (( / ))     .----~-.\\\\        \\\\-'               .~         \\\\  `.   __\\n&quot; +\n            &quot;            ///.----..&gt;        \\\\            _ -~            `.  ^-`  \\\\\\n&quot; +\n            &quot;              ///-._ _ _ _ _ _ _}^ - - - - ~                   `-----'\\n&quot;;\n\n      private static Cow[] cows = null;\n\n  }\n</code></pre>\n<p><sub> <a href=\"https://es.stackoverflow.com/questions/551912/qu%c3%a9-paso-puedo-tomar-para-arreglar-la-advertencia-de-raw-use-of-parameterized\">Translation in Spanish</a> </sub></p>\n<p><sub> <a href=\"https://pt.stackoverflow.com/questions/561961/que-passo-posso-tomar-para-corrigir-o-aviso-raw-use-of-parameterized-class-cla\">Translation in Portuguese</a> </sub></p>\n"},{"tags":["java","maven","build","executable-jar"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698443142,"post_id":77376617,"comment_id":136411175,"body_markdown":"First to use classes from a library you don&#39;t need to unpack that jar file or library. Define that lib as a dependency and you can use it... Furthermore if you like to create a ueber-jar which means contains all of your dependencies (executable jar)...this exectuable jar/ueber jar can be achieved by using maven-assembly-plugin or maven-shade-plugin The assembly-plugin is not the main purpose to create a jar file ... that is the job of maven-jar-plugin...","body":"First to use classes from a library you don&#39;t need to unpack that jar file or library. Define that lib as a dependency and you can use it... Furthermore if you like to create a ueber-jar which means contains all of your dependencies (executable jar)...this exectuable jar/ueber jar can be achieved by using maven-assembly-plugin or maven-shade-plugin The assembly-plugin is not the main purpose to create a jar file ... that is the job of maven-jar-plugin..."}],"owner":{"account_id":16927441,"reputation":11,"user_id":12242696,"display_name":"dxgamer2001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698434571,"creation_date":1698434571,"question_id":77376617,"body_markdown":"I usually use Intellij on my day to day, and I know I can create an artifactory and use Maven Assembly Plugin to create a .jar file.\r\n\r\nFrom what I can see both of these tools unpack the external libraries (dependencies) .jar files and merging them with my code before creating the .jar with my code.\r\n\r\nSome questions would be:\r\n\r\n1) Can I by terminal/Maven/Other-tool have these external .jar files packed in mine or will that never work? i thought `java -jar` was able to see files in packed .jars\r\n\r\n2) If 1 is not possible, then Is there not a more efficient way of unpacking these libraries? I only wanted to use StringUtils from apache.commons-lang but I intead had to have the entire commons-lang.jar (unpacked) in my .jar. Could there not be a more efficient &quot;merge&quot;?","title":"Archive java code into .jar with external libraries, but unpacked or in a more &quot;lean&quot; way","body":"<p>I usually use Intellij on my day to day, and I know I can create an artifactory and use Maven Assembly Plugin to create a .jar file.</p>\n<p>From what I can see both of these tools unpack the external libraries (dependencies) .jar files and merging them with my code before creating the .jar with my code.</p>\n<p>Some questions would be:</p>\n<ol>\n<li><p>Can I by terminal/Maven/Other-tool have these external .jar files packed in mine or will that never work? i thought <code>java -jar</code> was able to see files in packed .jars</p>\n</li>\n<li><p>If 1 is not possible, then Is there not a more efficient way of unpacking these libraries? I only wanted to use StringUtils from apache.commons-lang but I intead had to have the entire commons-lang.jar (unpacked) in my .jar. Could there not be a more efficient &quot;merge&quot;?</p>\n</li>\n</ol>\n"},{"tags":["java","android","jfugue"],"answers":[{"tags":[],"owner":{"account_id":15881900,"reputation":1,"user_id":11459430,"display_name":"desperate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698434505,"creation_date":1698431450,"answer_id":77376382,"question_id":77374021,"body_markdown":"Try with this idea:\r\n\r\n    //ToDo: Set all four button texts to random **wrong** answers\r\n    int buttonIndexCorrectAnswer = 1 + (int)Math.floor(4*Math.random());\r\n    switch(buttonIndexCorrectAnswer) {\r\n        case 1:\r\n            //ToDo: Overwrite text of Button alternativaUm with the **right** answer\r\n            break;\r\n        case 2:\r\n            //ToDo: Overwrite text of Button alternativaDois with the **right** answer\r\n            break;\r\n        case 3:\r\n            //ToDo: Overwrite text of Button alternativaTres with the **right** answer\r\n            break;\r\n        case 4:\r\n            //ToDo: Overwrite text of Button alternativaQuatro with the **right** answer\r\n            break;\r\n    }\r\n\r\nHope, this helps...","title":"Random Buttons in a Quiz in android. One of the buttons has to be the right one. How to do this?","body":"<p>Try with this idea:</p>\n<pre><code>//ToDo: Set all four button texts to random **wrong** answers\nint buttonIndexCorrectAnswer = 1 + (int)Math.floor(4*Math.random());\nswitch(buttonIndexCorrectAnswer) {\n    case 1:\n        //ToDo: Overwrite text of Button alternativaUm with the **right** answer\n        break;\n    case 2:\n        //ToDo: Overwrite text of Button alternativaDois with the **right** answer\n        break;\n    case 3:\n        //ToDo: Overwrite text of Button alternativaTres with the **right** answer\n        break;\n    case 4:\n        //ToDo: Overwrite text of Button alternativaQuatro with the **right** answer\n        break;\n}\n</code></pre>\n<p>Hope, this helps...</p>\n"}],"owner":{"account_id":29766976,"reputation":1,"user_id":22813126,"display_name":"andrellima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698434505,"creation_date":1698408462,"question_id":77374021,"body_markdown":"I&#39;m trying to implement a kind of scale recognizer, a kind of quiz in android. It will play a random interval, then I name this interval with the name of the scale(phrigio, lydian, dorian, etc) and then it will show 4 buttons, each one is an alternative. My problem is: how to always show one right alternative, since it is possible that, generating only randomly it won&#39;t generate any right answer?\r\nHere is the code(I&#39;m using JFugue). :\r\n\r\n```\r\npackage com.example.intervalguesser;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport org.jfugue.player.Player;\r\nimport org.jfugue.theory.Intervals;\r\nimport org.jfugue.theory.Note;\r\nimport org.jfugue.theory.Scale;\r\n\r\nimport androidx.core.view.WindowCompat;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport com.example.intervalguesser.databinding.ActivityAdvinhaEscalaBinding;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class AdvinhaEscala extends AppCompatActivity {\r\n    Random aleatorio = new Random();\r\n    Button alternativaUm;\r\n    Button alternativaDois;\r\n    Button alternativaTres;\r\n    Button alternativaQuatro;\r\n\r\n    int respostasCorretas = 0;\r\n    int respostasErradas = 0;\r\n\r\n    private Intervals adicionaIntervalos() {\r\n        String[] notas = Note.NOTE_NAMES_COMMON;\r\n        Intervals intervaloFrigio = new Intervals(&quot;1 b2 b3 4 5 b6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\r\n        Intervals intervaloLidio = new Intervals(&quot;1 2 3 4# 5 6 7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\r\n        Intervals intervaloPentBlues = new Intervals(&quot;1 b3 4 b5 5 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\r\n        Intervals intervaloMixolidio = new Intervals(&quot;1 2 3 4 5 6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\r\n        Intervals intervaloDorico = new Intervals(&quot;1 2 b3 4 5 6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\r\n        Intervals intervaloEolio = new Intervals(&quot;1 2 b3 4 5 b6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\r\n        Intervals intervaloJonio = new Intervals(&quot;1 2 3 4 5 6 7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\r\n        Intervals intervaloLocrio = new Intervals(&quot;1 b2 b3 4 b5 b6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\r\n        List&lt;Intervals&gt; intervalos = new ArrayList&lt;&gt;();\r\n        intervalos.add(intervaloLocrio);\r\n        intervalos.add(intervaloLidio);\r\n        intervalos.add(intervaloMixolidio);\r\n        intervalos.add(intervaloDorico);\r\n        intervalos.add(intervaloJonio);\r\n        intervalos.add(intervaloFrigio);\r\n        intervalos.add(intervaloEolio);\r\n        Intervals intPlay = intervalos.get(aleatorio.nextInt(intervalos.size()));\r\n\r\n    }\r\n\r\n        private void tocaEscala() {\r\n        Player pl = new Player();\r\n        pl.play(adicionaIntervalos());\r\n        }\r\n    private String nomeiaEscala(){\r\n        String[] escalas = {&quot;j&#244;nio&quot;, &quot;l&#243;crio&quot;, &quot;l&#237;dio&quot;, &quot;mixol&#237;dio&quot;, &quot;d&#243;rico&quot;, &quot;e&#243;lio&quot;, &quot;j&#244;nio&quot;, &quot;fr&#237;gio&quot;};\r\n        String escala;\r\n        intervaloAleatorio = misturaIntervalos();\r\n\t\tswitch(botoes.toString()) {\r\n        case &quot;1 b2 b3 4 5 b6 b7&quot;:\r\n            escala = &quot;fr&#237;gio&quot;;\r\n            break;\r\n        case &quot;1 2 3 4# 5 6 7&quot;:\r\n            escala = &quot;l&#237;dio&quot;;\r\n            break;\r\n        case &quot;1 b3 4 b5 5 b7&quot;:\r\n            escala = &quot;pentat&#244;nica blues&quot;;\r\n            break;\r\n        case &quot;1 2 3 4 5 6 b7&quot;:\r\n            escala = &quot;mixol&#237;dio&quot;;\r\n            break;\r\n        case &quot;1 2 b3 4 5 6 b7&quot;:\r\n            escala = &quot;d&#243;rico&quot;;\r\n            break;\r\n        case &quot;1 2 b3 4 5 b6 b7&quot;:\r\n            escala = &quot;e&#243;lio&quot;;\r\n            break;\r\n        case &quot;1 2 3 4 5 6 7&quot;:\r\n            escala = &quot;j&#244;nio&quot;;\r\n            break;\r\n        case &quot;1 b2 b3 4 b5 b6 b7&quot;:\r\n            escala = &quot;l&#243;crio&quot;;\r\n            break;\r\n    }\r\n    alternativaUm.setText();\r\n\r\n}\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        int i = 0;\r\n\r\n        super.onCreate(savedInstanceState);\r\n            final Button alternativa_um = (Button) findViewById(R.id.questao_um);\r\n            final Button botaoPlayer = (Button) findViewById(R.id.play_button);\r\n            alternativa_um.setText(escalas(new Random().nextInt(escalas.length)));\r\n            alternativa_dois.setText(escalas(new Random().nextInt(escalas.length)));\r\n            alternativa_tres.setText(escalas(new Random().nextInt(escalas.length)));\r\n            alternativa_quatro.setText(escalas(new Random().nextInt(escalas.length)));\r\n\r\n\r\n\r\n            // passing the int value\r\n            Bundle b = new Bundle();\r\n            b.putInt(&quot;score&quot;, score); // Your score\r\n            intent.putExtras(b); // Put your score to your next\r\n            startActivity(intent);\r\n            finish();\r\n            }\r\n\r\n    }\r\n\r\n\r\n}   \r\n```\r\n\r\n\r\nGenerate 4 random buttons, but one of them, randomly, will show the right answer.","title":"Random Buttons in a Quiz in android. One of the buttons has to be the right one. How to do this?","body":"<p>I'm trying to implement a kind of scale recognizer, a kind of quiz in android. It will play a random interval, then I name this interval with the name of the scale(phrigio, lydian, dorian, etc) and then it will show 4 buttons, each one is an alternative. My problem is: how to always show one right alternative, since it is possible that, generating only randomly it won't generate any right answer?\nHere is the code(I'm using JFugue). :</p>\n<pre><code>package com.example.intervalguesser;\n\nimport android.os.Bundle;\n\nimport com.google.android.material.snackbar.Snackbar;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport org.jfugue.player.Player;\nimport org.jfugue.theory.Intervals;\nimport org.jfugue.theory.Note;\nimport org.jfugue.theory.Scale;\n\nimport androidx.core.view.WindowCompat;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport com.example.intervalguesser.databinding.ActivityAdvinhaEscalaBinding;\n\nimport java.util.ArrayList;\n\npublic class AdvinhaEscala extends AppCompatActivity {\n    Random aleatorio = new Random();\n    Button alternativaUm;\n    Button alternativaDois;\n    Button alternativaTres;\n    Button alternativaQuatro;\n\n    int respostasCorretas = 0;\n    int respostasErradas = 0;\n\n    private Intervals adicionaIntervalos() {\n        String[] notas = Note.NOTE_NAMES_COMMON;\n        Intervals intervaloFrigio = new Intervals(&quot;1 b2 b3 4 5 b6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\n        Intervals intervaloLidio = new Intervals(&quot;1 2 3 4# 5 6 7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\n        Intervals intervaloPentBlues = new Intervals(&quot;1 b3 4 b5 5 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\n        Intervals intervaloMixolidio = new Intervals(&quot;1 2 3 4 5 6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\n        Intervals intervaloDorico = new Intervals(&quot;1 2 b3 4 5 6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\n        Intervals intervaloEolio = new Intervals(&quot;1 2 b3 4 5 b6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\n        Intervals intervaloJonio = new Intervals(&quot;1 2 3 4 5 6 7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\n        Intervals intervaloLocrio = new Intervals(&quot;1 b2 b3 4 b5 b6 b7&quot;).setRoot(notas[aleatorio.nextInt(notas.length)]);\n        List&lt;Intervals&gt; intervalos = new ArrayList&lt;&gt;();\n        intervalos.add(intervaloLocrio);\n        intervalos.add(intervaloLidio);\n        intervalos.add(intervaloMixolidio);\n        intervalos.add(intervaloDorico);\n        intervalos.add(intervaloJonio);\n        intervalos.add(intervaloFrigio);\n        intervalos.add(intervaloEolio);\n        Intervals intPlay = intervalos.get(aleatorio.nextInt(intervalos.size()));\n\n    }\n\n        private void tocaEscala() {\n        Player pl = new Player();\n        pl.play(adicionaIntervalos());\n        }\n    private String nomeiaEscala(){\n        String[] escalas = {&quot;j√¥nio&quot;, &quot;l√≥crio&quot;, &quot;l√≠dio&quot;, &quot;mixol√≠dio&quot;, &quot;d√≥rico&quot;, &quot;e√≥lio&quot;, &quot;j√¥nio&quot;, &quot;fr√≠gio&quot;};\n        String escala;\n        intervaloAleatorio = misturaIntervalos();\n        switch(botoes.toString()) {\n        case &quot;1 b2 b3 4 5 b6 b7&quot;:\n            escala = &quot;fr√≠gio&quot;;\n            break;\n        case &quot;1 2 3 4# 5 6 7&quot;:\n            escala = &quot;l√≠dio&quot;;\n            break;\n        case &quot;1 b3 4 b5 5 b7&quot;:\n            escala = &quot;pentat√¥nica blues&quot;;\n            break;\n        case &quot;1 2 3 4 5 6 b7&quot;:\n            escala = &quot;mixol√≠dio&quot;;\n            break;\n        case &quot;1 2 b3 4 5 6 b7&quot;:\n            escala = &quot;d√≥rico&quot;;\n            break;\n        case &quot;1 2 b3 4 5 b6 b7&quot;:\n            escala = &quot;e√≥lio&quot;;\n            break;\n        case &quot;1 2 3 4 5 6 7&quot;:\n            escala = &quot;j√¥nio&quot;;\n            break;\n        case &quot;1 b2 b3 4 b5 b6 b7&quot;:\n            escala = &quot;l√≥crio&quot;;\n            break;\n    }\n    alternativaUm.setText();\n\n}\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        int i = 0;\n\n        super.onCreate(savedInstanceState);\n            final Button alternativa_um = (Button) findViewById(R.id.questao_um);\n            final Button botaoPlayer = (Button) findViewById(R.id.play_button);\n            alternativa_um.setText(escalas(new Random().nextInt(escalas.length)));\n            alternativa_dois.setText(escalas(new Random().nextInt(escalas.length)));\n            alternativa_tres.setText(escalas(new Random().nextInt(escalas.length)));\n            alternativa_quatro.setText(escalas(new Random().nextInt(escalas.length)));\n\n\n\n            // passing the int value\n            Bundle b = new Bundle();\n            b.putInt(&quot;score&quot;, score); // Your score\n            intent.putExtras(b); // Put your score to your next\n            startActivity(intent);\n            finish();\n            }\n\n    }\n\n\n}   \n</code></pre>\n<p>Generate 4 random buttons, but one of them, randomly, will show the right answer.</p>\n"},{"tags":["java","log4j2","fileappender"],"owner":{"account_id":26809535,"reputation":1,"user_id":20400353,"display_name":"Sandeep Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698434422,"creation_date":1698434422,"question_id":77376607,"body_markdown":"\r\n----------\r\n\r\n1. I am trying to integrate the logger with File appender but why the file is not get generated automatically while run the spring boot application.\r\n\r\nBelow are my log4j2.xml configuration file\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    \t&lt;PatternLayout&gt;\r\n    \t\t&lt;!-- custome formate to see the log message --&gt;\r\n    \t\t&lt;Pattern&gt;%d - %c [%M] - (%p) %m %n &lt;/Pattern&gt;\r\n    \t\t\r\n    \t&lt;/PatternLayout&gt;\r\n    \t\r\n        &lt;/console&gt;\r\n        \r\n        &lt;File name=&quot;LogToFile&quot; fileName=&quot;logs/myapp.log&quot;&gt;\r\n        \r\n            &lt;PatternLayout&gt;\r\n    \t\t&lt;!-- custome formate to see the log message --&gt;\r\n    \t\t&lt;Pattern&gt;%d - %c [%M] - (%p) %m %n &lt;/Pattern&gt;\r\n    \t\t\r\n    \t&lt;/PatternLayout&gt;\r\n    \t\t\r\n       &lt;/File&gt;\r\n       \r\n    &lt;/Appenders&gt;\t\r\n    \r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;examPortalConsole&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n\r\nPOM.XML file dependency\r\n\r\n         &lt;!-- log4j neccessary dependency--&gt;\r\n         \r\n         &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n         \r\n         &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n        \r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n\r\nI have successfully got the console appender log but failed to integrate the File appender because on path src/main/resources not get generated automatically file .","title":"Logging File is not get generated on path src/main/resources | Using Spring boot 3.1.2 | Ubuntu","body":"<hr />\n<ol>\n<li>I am trying to integrate the logger with File appender but why the file is not get generated automatically while run the spring boot application.</li>\n</ol>\n<p>Below are my log4j2.xml configuration file</p>\n\n<pre><code>    &lt;PatternLayout&gt;\n        &lt;!-- custome formate to see the log message --&gt;\n        &lt;Pattern&gt;%d - %c [%M] - (%p) %m %n &lt;/Pattern&gt;\n        \n    &lt;/PatternLayout&gt;\n    \n    &lt;/console&gt;\n    \n    &lt;File name=&quot;LogToFile&quot; fileName=&quot;logs/myapp.log&quot;&gt;\n    \n        &lt;PatternLayout&gt;\n        &lt;!-- custome formate to see the log message --&gt;\n        &lt;Pattern&gt;%d - %c [%M] - (%p) %m %n &lt;/Pattern&gt;\n        \n    &lt;/PatternLayout&gt;\n        \n   &lt;/File&gt;\n   \n&lt;/Appenders&gt;    \n\n&lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n        &lt;AppenderRef ref=&quot;examPortalConsole&quot;/&gt;\n        &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n<p>POM.XML file dependency</p>\n<pre><code>     &lt;!-- log4j neccessary dependency--&gt;\n     \n     &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     \n     &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n    \n     &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>I have successfully got the console appender log but failed to integrate the File appender because on path src/main/resources not get generated automatically file .</p>\n"},{"tags":["java","data-structures","dijkstra"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163837,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698434044,"creation_date":1698428869,"answer_id":77376152,"question_id":77375807,"body_markdown":"There may well be other problems with your code, but the issue you are asking about is surely caused by the comparator you have assigned to your `PriorityQueue`.  Consider:\r\n\r\n&gt;                 PriorityQueue&lt;PairData&gt; pq = new PriorityQueue&lt;&gt;((a,b)-&gt; {\r\n&gt;                     System.out.println(a.node+&quot; &quot;+a.wei);\r\n&gt;                     System.out.println(b.node+&quot; &quot;+b.wei);\r\n&gt;                    return a.wei=b.wei;\r\n&gt;                 });\r\n\r\nIn that comparator, `a.wei=b.wei` is an *assignment*.  You are modifying the `wei` field of one object being compared to be equal to the `wei` field of the other.  The `PairData` objects you pull out of that queue will be the same ones you put in, but you are modifying them while they are inside.\r\n\r\nAnd this is not merely a matter of getting mixed up between `=` (assignment) and `==` (equality comparison).  Not only does the result of an `==` comparison have the wrong type, but an equality comparison is semantically the wrong computation to perform.  A [`Comparator`][1] determines the relative order of pairs of objects, not just whether they are equal to each other.  In particular, its `compare()` method must\r\n\r\n&gt; Return[] a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.\r\n\r\nSince your weights are modeled as `int`s, the `Integer` class provides a convenient way to write that:\r\n\r\n                PriorityQueue&lt;PairData&gt;  pq= new PriorityQueue&lt;&gt;((a,b)-&gt; {\r\n                    System.out.println(a.node+&quot; &quot;+a.wei);\r\n                    System.out.println(b.node+&quot; &quot;+b.wei);\r\n                    return Integer.compare(a.wei, b.wei);\r\n                });\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"Priority Queue is not adding the correct data to the queue","body":"<p>There may well be other problems with your code, but the issue you are asking about is surely caused by the comparator you have assigned to your <code>PriorityQueue</code>.  Consider:</p>\n<blockquote>\n<pre><code>            PriorityQueue&lt;PairData&gt; pq = new PriorityQueue&lt;&gt;((a,b)-&gt; {\n                System.out.println(a.node+&quot; &quot;+a.wei);\n                System.out.println(b.node+&quot; &quot;+b.wei);\n               return a.wei=b.wei;\n            });\n</code></pre>\n</blockquote>\n<p>In that comparator, <code>a.wei=b.wei</code> is an <em>assignment</em>.  You are modifying the <code>wei</code> field of one object being compared to be equal to the <code>wei</code> field of the other.  The <code>PairData</code> objects you pull out of that queue will be the same ones you put in, but you are modifying them while they are inside.</p>\n<p>And this is not merely a matter of getting mixed up between <code>=</code> (assignment) and <code>==</code> (equality comparison).  Not only does the result of an <code>==</code> comparison have the wrong type, but an equality comparison is semantically the wrong computation to perform.  A <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> determines the relative order of pairs of objects, not just whether they are equal to each other.  In particular, its <code>compare()</code> method must</p>\n<blockquote>\n<p>Return[] a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.</p>\n</blockquote>\n<p>Since your weights are modeled as <code>int</code>s, the <code>Integer</code> class provides a convenient way to write that:</p>\n<pre><code>            PriorityQueue&lt;PairData&gt;  pq= new PriorityQueue&lt;&gt;((a,b)-&gt; {\n                System.out.println(a.node+&quot; &quot;+a.wei);\n                System.out.println(b.node+&quot; &quot;+b.wei);\n                return Integer.compare(a.wei, b.wei);\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15885978,"reputation":100,"user_id":11462338,"display_name":"dawooshifingerhold"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1698429029,"creation_date":1698429029,"answer_id":77376168,"question_id":77375807,"body_markdown":"John is correct it seems like you need to be doing a return either Integer.compare(a.wei, b.wei) or returning a.wei &lt; b.wei. This is because the way you have it currently set up makes it assign a.wei to b.wei in the anonymous comparator in the priority queue. Hope this helps!","title":"Priority Queue is not adding the correct data to the queue","body":"<p>John is correct it seems like you need to be doing a return either Integer.compare(a.wei, b.wei) or returning a.wei &lt; b.wei. This is because the way you have it currently set up makes it assign a.wei to b.wei in the anonymous comparator in the priority queue. Hope this helps!</p>\n"}],"owner":{"account_id":1802065,"reputation":123,"user_id":1640135,"display_name":"Karthikeyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77376168,"answer_count":2,"score":0,"last_activity_date":1698434044,"creation_date":1698424748,"question_id":77375807,"body_markdown":"I am trying to solve a problem using a priority queue, where I have a two dimensional array `times` where indexes in the second dimension representing \r\n\r\n 0. starting edge,\r\n 1. ending edge, and\r\n 2. the distance between two edges\r\n\r\nAlso given is the edge at which to start, as integer `k`.\r\n\r\nI tried solving using Dijkstra&#39;s graph algorithm.\r\n\r\nSince in the below code the starting node is 2, **I am adding values [3,7] and [1,2] to the priority queue, but when polling the values I am getting [1,7] and [3,7].** It&#39;s working correctly for some other inputs, however.\r\n    \r\nInput: \r\n```        \r\n int times[][] = {{1,2,1},{2,3,7},{1,3,4},{2,1,2}};\r\n int n = 3, k = 2;\r\n```\r\nCode:\r\n```\r\n  import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.PriorityQueue;\r\n    \r\n    class PairData {\r\n        int node;\r\n        int wei;\r\n    \r\n        public PairData(int node, int wei) {\r\n            this.node = node;\r\n            this.wei = wei;\r\n        }\r\n    }\r\n    public class NetworkDelayTime {\r\n    \r\n        public int networkDelayTime(int[][] times, int n, int k) {\r\n    \r\n            ArrayList&lt;ArrayList&lt;PairData&gt;&gt; adj= new ArrayList&lt;&gt;();\r\n    \r\n            for(int i=0;i&lt;n+1;i++){\r\n                adj.add(new ArrayList&lt;PairData&gt;());\r\n            }\r\n    \r\n            for (int i=0;i&lt;times.length;i++){\r\n    \r\n               adj.get(times[i][0]).add(new PairData(times[i][1],times[i][2]));\r\n    \r\n            }\r\n    \r\n            PriorityQueue&lt;PairData&gt;  pq= new PriorityQueue&lt;&gt;((a,b)-&gt; {\r\n                System.out.println(a.node+&quot; &quot;+a.wei);\r\n                System.out.println(b.node+&quot; &quot;+b.wei);\r\n               return a.wei=b.wei;\r\n            });\r\n    \r\n            pq.add(new PairData(k,0));\r\n    \r\n            int[] ans = new int[n+1];\r\n            Arrays.fill(ans,Integer.MAX_VALUE);\r\n            ans[k]=0;\r\n    \r\n    \r\n            while (!pq.isEmpty()){\r\n                PairData data=pq.poll();\r\n                int v=data.node;\r\n                int dis=data.wei;\r\n                System.out.println(&quot;the poll data &quot;+v);\r\n                System.out.println(&quot;the poll data weight &quot;+dis);\r\n    \r\n               for(PairData pa:adj.get(v)){\r\n                   int curDis=pa.wei+dis;\r\n                   if(curDis&lt;ans[pa.node]){\r\n                       ans[pa.node]=curDis;\r\n                       System.out.println(&quot;The current node adding to &quot;+curDis);\r\n                       PairData pairData=new PairData(pa.node,curDis);\r\n                       pq.add(pairData);\r\n                   }\r\n    \r\n               }\r\n    \r\n            }\r\n    \r\n           int min=Integer.MAX_VALUE;\r\n            System.out.println(Arrays.toString(ans));\r\n            for(int i=1;i&lt;=n;i++){\r\n                if(ans[i]==Integer.MAX_VALUE)\r\n                    return -1;\r\n                min=Math.max(ans[i],min);\r\n            }\r\n    \r\n    \r\n    \r\n            return min;\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n                int times[][] = {{1,2,1},{2,3,7},{1,3,4},{2,1,2}};\r\n                int n = 3, k = 2;\r\n    \r\n                NetworkDelayTime delayTime = new NetworkDelayTime();\r\n    \r\n                System.out.println(delayTime.networkDelayTime(times, n, k));\r\n    \r\n        }\r\n    }\r\n```\r\nWhat&#39;s wrong my code, such that I do not receive back the same values from the queue that I enqueued?","title":"Priority Queue is not adding the correct data to the queue","body":"<p>I am trying to solve a problem using a priority queue, where I have a two dimensional array <code>times</code> where indexes in the second dimension representing</p>\n<ol start=\"0\">\n<li>starting edge,</li>\n<li>ending edge, and</li>\n<li>the distance between two edges</li>\n</ol>\n<p>Also given is the edge at which to start, as integer <code>k</code>.</p>\n<p>I tried solving using Dijkstra's graph algorithm.</p>\n<p>Since in the below code the starting node is 2, <strong>I am adding values [3,7] and [1,2] to the priority queue, but when polling the values I am getting [1,7] and [3,7].</strong> It's working correctly for some other inputs, however.</p>\n<p>Input:</p>\n<pre><code> int times[][] = {{1,2,1},{2,3,7},{1,3,4},{2,1,2}};\n int n = 3, k = 2;\n</code></pre>\n<p>Code:</p>\n<pre><code>  import java.util.ArrayList;\n    import java.util.Arrays;\n    import java.util.PriorityQueue;\n    \n    class PairData {\n        int node;\n        int wei;\n    \n        public PairData(int node, int wei) {\n            this.node = node;\n            this.wei = wei;\n        }\n    }\n    public class NetworkDelayTime {\n    \n        public int networkDelayTime(int[][] times, int n, int k) {\n    \n            ArrayList&lt;ArrayList&lt;PairData&gt;&gt; adj= new ArrayList&lt;&gt;();\n    \n            for(int i=0;i&lt;n+1;i++){\n                adj.add(new ArrayList&lt;PairData&gt;());\n            }\n    \n            for (int i=0;i&lt;times.length;i++){\n    \n               adj.get(times[i][0]).add(new PairData(times[i][1],times[i][2]));\n    \n            }\n    \n            PriorityQueue&lt;PairData&gt;  pq= new PriorityQueue&lt;&gt;((a,b)-&gt; {\n                System.out.println(a.node+&quot; &quot;+a.wei);\n                System.out.println(b.node+&quot; &quot;+b.wei);\n               return a.wei=b.wei;\n            });\n    \n            pq.add(new PairData(k,0));\n    \n            int[] ans = new int[n+1];\n            Arrays.fill(ans,Integer.MAX_VALUE);\n            ans[k]=0;\n    \n    \n            while (!pq.isEmpty()){\n                PairData data=pq.poll();\n                int v=data.node;\n                int dis=data.wei;\n                System.out.println(&quot;the poll data &quot;+v);\n                System.out.println(&quot;the poll data weight &quot;+dis);\n    \n               for(PairData pa:adj.get(v)){\n                   int curDis=pa.wei+dis;\n                   if(curDis&lt;ans[pa.node]){\n                       ans[pa.node]=curDis;\n                       System.out.println(&quot;The current node adding to &quot;+curDis);\n                       PairData pairData=new PairData(pa.node,curDis);\n                       pq.add(pairData);\n                   }\n    \n               }\n    \n            }\n    \n           int min=Integer.MAX_VALUE;\n            System.out.println(Arrays.toString(ans));\n            for(int i=1;i&lt;=n;i++){\n                if(ans[i]==Integer.MAX_VALUE)\n                    return -1;\n                min=Math.max(ans[i],min);\n            }\n    \n    \n    \n            return min;\n    \n        }\n    \n        public static void main(String[] args) {\n    \n                int times[][] = {{1,2,1},{2,3,7},{1,3,4},{2,1,2}};\n                int n = 3, k = 2;\n    \n                NetworkDelayTime delayTime = new NetworkDelayTime();\n    \n                System.out.println(delayTime.networkDelayTime(times, n, k));\n    \n        }\n    }\n</code></pre>\n<p>What's wrong my code, such that I do not receive back the same values from the queue that I enqueued?</p>\n"},{"tags":["java","file","byte"],"answers":[{"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1362351506,"creation_date":1362351277,"answer_id":15191925,"question_id":15191905,"body_markdown":"What&#39;s wrong with [`byte`][1] type? If you only store data and don&#39;t do arithmetic and don&#39;t need decimal representation for other reasons then it should not matter that it is signed.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Getting byte value for numbers between 0 and 255?","body":"<p>What's wrong with <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\"><code>byte</code></a> type? If you only store data and don't do arithmetic and don't need decimal representation for other reasons then it should not matter that it is signed.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681838,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1362351540,"creation_date":1362351540,"answer_id":15191961,"question_id":15191905,"body_markdown":"To complete Alex&#39;s answer:\r\n\r\n    int i = 255;\r\n    byte b = (byte) i;\r\n    System.out.println(&quot;b = &quot; + b); // b = -1\r\n    int i2 = b &amp; 0xFF;\r\n    System.out.println(&quot;i2 = &quot; + i2); // i2 = 255","title":"Getting byte value for numbers between 0 and 255?","body":"<p>To complete Alex's answer:</p>\n\n<pre><code>int i = 255;\nbyte b = (byte) i;\nSystem.out.println(\"b = \" + b); // b = -1\nint i2 = b &amp; 0xFF;\nSystem.out.println(\"i2 = \" + i2); // i2 = 255\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146276,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362351730,"creation_date":1362351730,"answer_id":15191994,"question_id":15191905,"body_markdown":"If you&#39;re going to read it into a `int`, just mask it with `&amp; 0xff`. I suggest a layer of indirection between `(In|Out)putStream`. Cover details such as endianness. \r\n\r\nIn the write object:\r\n\r\n    public void unsignedByte(int value) throws IOException {\r\n        if (!(0 &lt;= v &amp;&amp; v &lt;= 0xff) {\r\n            throw IllegalArgumentException();\r\n        }\r\n        out.write(v);\r\n    }\r\n\r\nIn the read object:\r\n\r\n    public int unsignedByte() throws IOException {\r\n        int v = in.read();\r\n        if (v == -1) {\r\n            throw EndOfFileException();\r\n        }\r\n        assert 0 &lt;= v &amp;&amp; v &lt; 0xff; \r\n        return v;\r\n    }\r\n      ","title":"Getting byte value for numbers between 0 and 255?","body":"<p>If you're going to read it into a <code>int</code>, just mask it with <code>&amp; 0xff</code>. I suggest a layer of indirection between <code>(In|Out)putStream</code>. Cover details such as endianness. </p>\n\n<p>In the write object:</p>\n\n<pre><code>public void unsignedByte(int value) throws IOException {\n    if (!(0 &lt;= v &amp;&amp; v &lt;= 0xff) {\n        throw IllegalArgumentException();\n    }\n    out.write(v);\n}\n</code></pre>\n\n<p>In the read object:</p>\n\n<pre><code>public int unsignedByte() throws IOException {\n    int v = in.read();\n    if (v == -1) {\n        throw EndOfFileException();\n    }\n    assert 0 &lt;= v &amp;&amp; v &lt; 0xff; \n    return v;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1362351772,"creation_date":1362351772,"answer_id":15192002,"question_id":15191905,"body_markdown":"Be careful with byte.  It is **signed**, e.g. -128 to 127.  If you want 0-255, when you go to print it out, you always need to `&amp;255` (as JB Nizet did in his example)\r\n\r\n","title":"Getting byte value for numbers between 0 and 255?","body":"<p>Be careful with byte.  It is <strong>signed</strong>, e.g. -128 to 127.  If you want 0-255, when you go to print it out, you always need to <code>&amp;255</code> (as JB Nizet did in his example)</p>\n"},{"tags":[],"owner":{"account_id":3001026,"reputation":670,"user_id":2546540,"accept_rate":62,"display_name":"AdrianES"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1390489381,"creation_date":1390489381,"answer_id":21311839,"question_id":15191905,"body_markdown":"Java byte is signed from -128 to 127, if u want to get the representation from 0 to 255 i use this 2 functions\r\n\r\n    public static byte fromIntToByte(String value) throws Exception {\r\n            return fromIntToByte(Integer.parseInt(value));\r\n        }\r\n        \r\n        public static byte fromIntToByte(int value) throws Exception {\r\n            String stringByte = &quot;&quot;;\r\n            if (value &lt; 0 &amp;&amp; value &gt; 255) {\r\n                throw new Exception(&quot;Must be from 0&lt;=value&lt;=255&quot;);\r\n            }\r\n            if (value &lt;= 127) {\r\n                for (int i = 0; i &lt; 8; i++) {\r\n                    stringByte = String.valueOf(value % 2) + stringByte;\r\n                    value = value / 2;\r\n                }\r\n            } else {\r\n                value = value / 2;\r\n                for (int i = 0; i &lt; 7; i++) {\r\n                    stringByte = String.valueOf(value % 2) + stringByte;\r\n                    value = value / 2;\r\n                }\r\n                stringByte = &quot;-&quot; + stringByte;\r\n            }\r\n            System.out.println(stringByte);\r\n            byte b = Byte.parseByte(stringByte, 2);\r\n            return b;\r\n        }","title":"Getting byte value for numbers between 0 and 255?","body":"<p>Java byte is signed from -128 to 127, if u want to get the representation from 0 to 255 i use this 2 functions</p>\n\n<pre><code>public static byte fromIntToByte(String value) throws Exception {\n        return fromIntToByte(Integer.parseInt(value));\n    }\n\n    public static byte fromIntToByte(int value) throws Exception {\n        String stringByte = \"\";\n        if (value &lt; 0 &amp;&amp; value &gt; 255) {\n            throw new Exception(\"Must be from 0&lt;=value&lt;=255\");\n        }\n        if (value &lt;= 127) {\n            for (int i = 0; i &lt; 8; i++) {\n                stringByte = String.valueOf(value % 2) + stringByte;\n                value = value / 2;\n            }\n        } else {\n            value = value / 2;\n            for (int i = 0; i &lt; 7; i++) {\n                stringByte = String.valueOf(value % 2) + stringByte;\n                value = value / 2;\n            }\n            stringByte = \"-\" + stringByte;\n        }\n        System.out.println(stringByte);\n        byte b = Byte.parseByte(stringByte, 2);\n        return b;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9777748,"reputation":1119,"user_id":7247051,"accept_rate":100,"display_name":"Ihdina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499485622,"creation_date":1499480814,"answer_id":44981929,"question_id":15191905,"body_markdown":"&gt; 1 byte = 8 bits = 00000000~11111111 (binary) = 0~255 (unsigned byte)\r\n&gt; = 0x00~0xFF (hex decimal)\r\n\r\nC#: \r\n\r\n&gt; 1 byte value is: 0~255\r\n\r\nJava: \r\n\r\n&gt; 1 byte value is: -128~127\r\n\r\nIf you want get 0~255 (unsigned byte) value in java:\r\n&gt; byte b = **(byte)** value;\r\n\r\nexample: byte b = **(byte)** 200;\r\n\r\n&gt; int b = value **&amp; 0xFF**;\r\n\r\nexample: int b = 200 **&amp; 0xFF**;\r\n","title":"Getting byte value for numbers between 0 and 255?","body":"<blockquote>\n  <p>1 byte = 8 bits = 00000000~11111111 (binary) = 0~255 (unsigned byte)\n  = 0x00~0xFF (hex decimal)</p>\n</blockquote>\n\n<p>C#: </p>\n\n<blockquote>\n  <p>1 byte value is: 0~255</p>\n</blockquote>\n\n<p>Java: </p>\n\n<blockquote>\n  <p>1 byte value is: -128~127</p>\n</blockquote>\n\n<p>If you want get 0~255 (unsigned byte) value in java:</p>\n\n<blockquote>\n  <p>byte b = <strong>(byte)</strong> value;</p>\n</blockquote>\n\n<p>example: byte b = <strong>(byte)</strong> 200;</p>\n\n<blockquote>\n  <p>int b = value <strong>&amp; 0xFF</strong>;</p>\n</blockquote>\n\n<p>example: int b = 200 <strong>&amp; 0xFF</strong>;</p>\n"},{"tags":[],"owner":{"account_id":12830135,"reputation":25,"user_id":9281586,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698431387,"creation_date":1698431387,"answer_id":77376373,"question_id":15191905,"body_markdown":"```\r\npublic class play {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        String path = &quot;./src/play.cue&quot;; // file content:\\xff\\xdd\r\n        \r\n        FileInputStream fis = new FileInputStream(path);\r\n\r\n        int[] bytes = new int[(int)new File(path).length()];\r\n\r\n        int b, i=0;\r\n        while( (b=fis.read()) != -1){bytes[i] = b; i++;}\r\n\r\n        System.out.println(Arrays.toString(bytes));\r\n\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n[255, 221]","title":"Getting byte value for numbers between 0 and 255?","body":"<pre><code>public class play {\n\n    public static void main(String[] args) throws IOException {\n\n        String path = &quot;./src/play.cue&quot;; // file content:\\xff\\xdd\n        \n        FileInputStream fis = new FileInputStream(path);\n\n        int[] bytes = new int[(int)new File(path).length()];\n\n        int b, i=0;\n        while( (b=fis.read()) != -1){bytes[i] = b; i++;}\n\n        System.out.println(Arrays.toString(bytes));\n\n    }\n}\n</code></pre>\n<p>Output:\n[255, 221]</p>\n"}],"owner":{"account_id":113220,"reputation":15923,"user_id":298288,"accept_rate":55,"display_name":"stefan.at.kotlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35072,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":7,"score":2,"last_activity_date":1698431387,"creation_date":1362351080,"question_id":15191905,"body_markdown":"I need to get the byte / 8 bit representation for numbers between 0 and 255. Is there any comfortable way to do this in Java? Seems like most methods are intended to be work with 4 byte long integers? My final goal is to write several 8 bit values to a file.\r\n\r\n\r\nThanks for any hint on this!","title":"Getting byte value for numbers between 0 and 255?","body":"<p>I need to get the byte / 8 bit representation for numbers between 0 and 255. Is there any comfortable way to do this in Java? Seems like most methods are intended to be work with 4 byte long integers? My final goal is to write several 8 bit values to a file.</p>\n\n<p>Thanks for any hint on this!</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","spring-cloud","spring-cloud-aws"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":1,"creation_date":1698402184,"post_id":77373103,"comment_id":136403892,"body_markdown":"It seems you&#39;re trying to obtain the AMI ID for the current EC2 instance that the application is running on, correct? The latest docs of Spring Cloud seem to do this in the [&#39;Java&#39; way](https://docs.awspring.io/spring-cloud-aws/docs/2.3.2/reference/html/index.html#retrieving-instance-metadata) as opposed to providing a class (though I haven&#39;t checked all of the codebase).","body":"It seems you&#39;re trying to obtain the AMI ID for the current EC2 instance that the application is running on, correct? The latest docs of Spring Cloud seem to do this in the <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/2.3.2/reference/html/index.html#retrieving-instance-metadata\" rel=\"nofollow noreferrer\">&#39;Java&#39; way</a> as opposed to providing a class (though I haven&#39;t checked all of the codebase)."},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":1,"creation_date":1698402203,"post_id":77373103,"comment_id":136403897,"body_markdown":"If that doesn&#39;t work for you, let me know and I can provide an answer on how to do this using just the AWS SDK.","body":"If that doesn&#39;t work for you, let me know and I can provide an answer on how to do this using just the AWS SDK."},{"owner":{"account_id":2115025,"reputation":384,"user_id":1879536,"display_name":"Martin Bamford"},"score":1,"creation_date":1698407143,"post_id":77373103,"comment_id":136404814,"body_markdown":"@ErmiyaEskandary thanks very much this is the solution I needed","body":"@ErmiyaEskandary thanks very much this is the solution I needed"}],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698411553,"creation_date":1698411553,"answer_id":77374349,"question_id":77373103,"body_markdown":"The `AmazonEc2InstanceDataPropertySource` class fetches [EC2 instance metadata][1] properties via the IMDS (Instance Metadata Service), for the current EC2 instance.\r\n\r\nIt seems to have been replaced with [`@EnableContextInstanceData`][2] (not needed in Spring Boot with the [right configuration][3]) &amp; field injection using [`Value`][4] annotations.\r\n\r\nIn your case, as you&#39;re looking to get the AMI ID and other properties, inject these properties directly using the @Value annotation.\r\n\r\n```java\r\n@Configuration\r\n@EnableContextInstanceData\r\npublic static class MyConfig {}\r\n```\r\n\r\n```java\r\n@Value(&quot;${ami-id}&quot;)\r\nprivate String amiId;\r\n\r\n@Value(&quot;${hostname}&quot;)\r\nprivate String hostname;\r\n\r\n@Value(&quot;${instance-type}&quot;)\r\nprivate String instanceType;\r\n\r\n@Value(&quot;${services/domain}&quot;)\r\nprivate String serviceDomain;\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\r\n  [2]: https://javadoc.io/static/org.springframework.cloud/spring-cloud-aws-context/2.2.6.RELEASE/org/springframework/cloud/aws/context/config/annotation/EnableContextInstanceData.html\r\n  [3]: https://docs.awspring.io/spring-cloud-aws/docs/2.3.2/reference/html/index.html#enabling-instance-metadata-support-in-spring-boot\r\n  [4]: https://docs.awspring.io/spring-cloud-aws/docs/2.3.2/reference/html/index.html#retrieving-instance-metadata","title":"How can I get EC2 instance metadata using Spring Cloud v3?","body":"<p>The <code>AmazonEc2InstanceDataPropertySource</code> class fetches <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\" rel=\"nofollow noreferrer\">EC2 instance metadata</a> properties via the IMDS (Instance Metadata Service), for the current EC2 instance.</p>\n<p>It seems to have been replaced with <a href=\"https://javadoc.io/static/org.springframework.cloud/spring-cloud-aws-context/2.2.6.RELEASE/org/springframework/cloud/aws/context/config/annotation/EnableContextInstanceData.html\" rel=\"nofollow noreferrer\"><code>@EnableContextInstanceData</code></a> (not needed in Spring Boot with the <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/2.3.2/reference/html/index.html#enabling-instance-metadata-support-in-spring-boot\" rel=\"nofollow noreferrer\">right configuration</a>) &amp; field injection using <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/2.3.2/reference/html/index.html#retrieving-instance-metadata\" rel=\"nofollow noreferrer\"><code>Value</code></a> annotations.</p>\n<p>In your case, as you're looking to get the AMI ID and other properties, inject these properties directly using the @Value annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableContextInstanceData\npublic static class MyConfig {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${ami-id}&quot;)\nprivate String amiId;\n\n@Value(&quot;${hostname}&quot;)\nprivate String hostname;\n\n@Value(&quot;${instance-type}&quot;)\nprivate String instanceType;\n\n@Value(&quot;${services/domain}&quot;)\nprivate String serviceDomain;\n</code></pre>\n"}],"owner":{"account_id":2115025,"reputation":384,"user_id":1879536,"display_name":"Martin Bamford"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77374349,"answer_count":1,"score":0,"last_activity_date":1698431097,"creation_date":1698399681,"question_id":77373103,"body_markdown":"I am working on a Java / Spring Boot / Spring application which was using Version 1 of the AWS Java SDK and version 2.4.4 of io.awspring.cloud. \r\n\r\nThis application is using the class `io.awspring.cloud.core.env.ec2.AmazonEc2InstanceDataPropertySource` like this, to get the AMI ID for the EC2 instance:\r\n\r\n```java\r\nvar amazonEc2InstanceDataPropertySource = new AmazonEc2InstanceDataPropertySource(&quot;xxx&quot;);\r\n\r\nString amiId = getInstanceDataProperty(amazonEc2InstanceDataPropertySource,&quot;ami-id&quot;, &quot;N/A&quot;);\r\n```\r\n\r\n..and so on for other properties.\r\n \r\nI have now upgraded this application to version 2 of the AWS Java SDK and version 3.0.2 of `io.awspring.cloud`. In the new version of `io.awspring.cloud` there is no class called `AmazonEc2InstanceDataPropertySource`.\r\n\r\nHow can I rewrite the existing code to work in the new version of this library to get EC2 instance metadata?","title":"How can I get EC2 instance metadata using Spring Cloud v3?","body":"<p>I am working on a Java / Spring Boot / Spring application which was using Version 1 of the AWS Java SDK and version 2.4.4 of io.awspring.cloud.</p>\n<p>This application is using the class <code>io.awspring.cloud.core.env.ec2.AmazonEc2InstanceDataPropertySource</code> like this, to get the AMI ID for the EC2 instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var amazonEc2InstanceDataPropertySource = new AmazonEc2InstanceDataPropertySource(&quot;xxx&quot;);\n\nString amiId = getInstanceDataProperty(amazonEc2InstanceDataPropertySource,&quot;ami-id&quot;, &quot;N/A&quot;);\n</code></pre>\n<p>..and so on for other properties.</p>\n<p>I have now upgraded this application to version 2 of the AWS Java SDK and version 3.0.2 of <code>io.awspring.cloud</code>. In the new version of <code>io.awspring.cloud</code> there is no class called <code>AmazonEc2InstanceDataPropertySource</code>.</p>\n<p>How can I rewrite the existing code to work in the new version of this library to get EC2 instance metadata?</p>\n"},{"tags":["java","encryption","certificate","public-key-encryption","pem"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1698431644,"post_id":77376276,"comment_id":136409587,"body_markdown":"You can import modulus and exponent with [`RSAPublicKeySpec()`](https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/security/spec/RSAPublicKeySpec.html), see e.g. [here](https://stackoverflow.com/a/2023634/9014097).","body":"You can import modulus and exponent with <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/security/spec/RSAPublicKeySpec.html\" rel=\"nofollow noreferrer\"><code>RSAPublicKeySpec()</code></a>, see e.g. <a href=\"https://stackoverflow.com/a/2023634/9014097\">here</a>."}],"owner":{"account_id":18477467,"reputation":57,"user_id":13460612,"display_name":"Home of Creation"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698430154,"creation_date":1698430154,"question_id":77376276,"body_markdown":"In Java (gradle) I need to encrypt JSON rest messages with the public key extracted from a TLS-2way certificate.pem. Like this:\r\n\r\n```\r\nLoad RSA PKCS#1 Public Keys\r\npkcs1PublicKey: Sun RSA public key, 2048 bits\r\n  params: null\r\n  modulus: 30333480050529072539152474433261825229175303911986187056546130987160889422922632165228273249976997833741424393377152058709551313162877595353675051556949998681388601725684016724167050111037861889500002806879899578986908702627237884089998121288607696752162223715667435607286689842713475938751449494999920670300421827737208147069624343973533326291094315256948284968840679921633097541211738122424891429452073949806872319418453594822983237338545978675594260211082913078702997218079517998196340177653632261614031770091082266225991043014081642881957716572923856737534043425399435601282335538921977379429228634484095086075971\r\n  public exponent: 65537\r\n```\r\nI know how to do it with a generated key pair, but I need to use this type of public  key.\r\nThanks in advance for your help.\r\n\r\nWJ","title":"Encrypting a Rest JSON message with a public key","body":"<p>In Java (gradle) I need to encrypt JSON rest messages with the public key extracted from a TLS-2way certificate.pem. Like this:</p>\n<pre><code>Load RSA PKCS#1 Public Keys\npkcs1PublicKey: Sun RSA public key, 2048 bits\n  params: null\n  modulus: 30333480050529072539152474433261825229175303911986187056546130987160889422922632165228273249976997833741424393377152058709551313162877595353675051556949998681388601725684016724167050111037861889500002806879899578986908702627237884089998121288607696752162223715667435607286689842713475938751449494999920670300421827737208147069624343973533326291094315256948284968840679921633097541211738122424891429452073949806872319418453594822983237338545978675594260211082913078702997218079517998196340177653632261614031770091082266225991043014081642881957716572923856737534043425399435601282335538921977379429228634484095086075971\n  public exponent: 65537\n</code></pre>\n<p>I know how to do it with a generated key pair, but I need to use this type of public  key.\nThanks in advance for your help.</p>\n<p>WJ</p>\n"},{"tags":["java","spring","amazon-web-services"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1698433078,"post_id":77376262,"comment_id":136409830,"body_markdown":"Generally you don&#39;t want to be explicit in this way. Instead, just remove with `.withCredentials` and allow the default provider chain to find the authentication method. This is especially useful as deployed services often authenticate in a different way (IAM roles) than you would for local development (IAM users). https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html","body":"Generally you don&#39;t want to be explicit in this way. Instead, just remove with <code>.withCredentials</code> and allow the default provider chain to find the authentication method. This is especially useful as deployed services often authenticate in a different way (IAM roles) than you would for local development (IAM users). <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/latest/developer-guide/&hellip;</a>"},{"owner":{"account_id":1176536,"reputation":4384,"user_id":1152410,"accept_rate":89,"display_name":"feco"},"score":0,"creation_date":1698463792,"post_id":77376262,"comment_id":136412414,"body_markdown":"@jordanm it‚Äôs impossible for the default provider chain to find out the authentication method. As mentioned in the question, the credentials are returned after authenticating a REST API.","body":"@jordanm it‚Äôs impossible for the default provider chain to find out the authentication method. As mentioned in the question, the credentials are returned after authenticating a REST API."},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698475171,"post_id":77376262,"comment_id":136413004,"body_markdown":"Try to use the `ProcessCredentialsProvider` in this [doc](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-process.html) provide it a command curl to fetch `credentails` from your rest-api.","body":"Try to use the <code>ProcessCredentialsProvider</code> in this <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-process.html\" rel=\"nofollow noreferrer\">doc</a> provide it a command curl to fetch <code>credentails</code> from your rest-api."}],"owner":{"account_id":1176536,"reputation":4384,"user_id":1152410,"accept_rate":89,"display_name":"feco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698430030,"creation_date":1698430030,"question_id":77376262,"body_markdown":"We have a vault that rotates AWS secret and access keys and we get them through an API (REST). I would like to retrieve the values through it, and use the refresh function when credentials expire or invalidate.\r\n\r\nI have looked all the credentials providers but couldnt find the best one,\r\nhttps://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/AwsCredentialsProvider.html\r\n\r\nAll the documentation in AWS uses hardcoded values, env profiles, local files etc.\r\n\r\nWe use **Java with Spring boot** and this is what I have tried so far,\r\n\r\n        public AmazonS3 initS3Client(){\r\n           AWSCredentials credentials = new BasicAWSCredentials(getAccessKeyFromRestAPI(), getSecretKeyFromRestAPI());\r\n           return AmazonS3ClientBuilder.standard()\r\n                   .withRegion(Regions.US_EAST_1)\r\n                   .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                   .build();\r\n       }\r\n\r\nThis is called everytime we need to access AWS, but I feels theres a way to make it a singleton or a bean. So we dont have to create multiple clients or call the REST API multiple times.","title":"How to provide AWS credentials from a external REST service","body":"<p>We have a vault that rotates AWS secret and access keys and we get them through an API (REST). I would like to retrieve the values through it, and use the refresh function when credentials expire or invalidate.</p>\n<p>I have looked all the credentials providers but couldnt find the best one,\n<a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/AwsCredentialsProvider.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/AwsCredentialsProvider.html</a></p>\n<p>All the documentation in AWS uses hardcoded values, env profiles, local files etc.</p>\n<p>We use <strong>Java with Spring boot</strong> and this is what I have tried so far,</p>\n<pre><code>    public AmazonS3 initS3Client(){\n       AWSCredentials credentials = new BasicAWSCredentials(getAccessKeyFromRestAPI(), getSecretKeyFromRestAPI());\n       return AmazonS3ClientBuilder.standard()\n               .withRegion(Regions.US_EAST_1)\n               .withCredentials(new AWSStaticCredentialsProvider(credentials))\n               .build();\n   }\n</code></pre>\n<p>This is called everytime we need to access AWS, but I feels theres a way to make it a singleton or a bean. So we dont have to create multiple clients or call the REST API multiple times.</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":20612404,"reputation":131,"user_id":15131279,"display_name":"Lanfix"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1698429681,"creation_date":1698429681,"answer_id":77376225,"question_id":77376067,"body_markdown":"`player.getHealth()` gets you the health of the player _before_ its modification.\r\nBy looking into [the event&#39;s documentation](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/event/entity/EntityDamageEvent.html) i found this solution :\r\n\r\nYou can calculate the new health with `event.getFinalDamage()` :\r\n\r\n    double newhealth = player.getHealth() - event.getFinalDamage();\r\n    player.setMaxHealth(newhealth);\r\n\r\nHope it will help you !\r\n\r\nPS: If you just want the player not to regenerate you can change the &#39;NaturalRegeneration&#39; gamerule (but it will still allow the regeneration effect)","title":"Permanently lose hearts when you take damage","body":"<p><code>player.getHealth()</code> gets you the health of the player <em>before</em> its modification.\nBy looking into <a href=\"https://hub.spigotmc.org/javadocs/spigot/org/bukkit/event/entity/EntityDamageEvent.html\" rel=\"noreferrer\">the event's documentation</a> i found this solution :</p>\n<p>You can calculate the new health with <code>event.getFinalDamage()</code> :</p>\n<pre><code>double newhealth = player.getHealth() - event.getFinalDamage();\nplayer.setMaxHealth(newhealth);\n</code></pre>\n<p>Hope it will help you !</p>\n<p>PS: If you just want the player not to regenerate you can change the 'NaturalRegeneration' gamerule (but it will still allow the regeneration effect)</p>\n"}],"owner":{"account_id":29769430,"reputation":27,"user_id":22815072,"display_name":"VoidCube_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1698429681,"creation_date":1698427971,"question_id":77376067,"body_markdown":"I want that if the player takes damage and the player permanently loses that hearts.\r\n\r\n```\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.entity.Entity;\r\nimport org.bukkit.event.entity.EntityDamageEvent;\r\nimport org.bukkit.event.EventHandler;\r\n\r\n\r\n@EventHandler\r\n    public void EntityDamage(EntityDamageEvent event) {\r\n        Entity e = event.getEntity();\r\n        if (e instanceof Player) {\r\n            Player player = (Player) e;\r\n            double newhealth = player.getHealth();\r\n            player.setMaxHealth(newhealth);\r\n        }\r\n    }\r\n```\r\n\r\ni use this code but this only reduces hearts after the second damage event","title":"Permanently lose hearts when you take damage","body":"<p>I want that if the player takes damage and the player permanently loses that hearts.</p>\n<pre><code>import org.bukkit.entity.Player;\nimport org.bukkit.entity.Entity;\nimport org.bukkit.event.entity.EntityDamageEvent;\nimport org.bukkit.event.EventHandler;\n\n\n@EventHandler\n    public void EntityDamage(EntityDamageEvent event) {\n        Entity e = event.getEntity();\n        if (e instanceof Player) {\n            Player player = (Player) e;\n            double newhealth = player.getHealth();\n            player.setMaxHealth(newhealth);\n        }\n    }\n</code></pre>\n<p>i use this code but this only reduces hearts after the second damage event</p>\n"},{"tags":["java","url","https","ssl-certificate","httpurlconnection"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1698370607,"post_id":77371006,"comment_id":136400034,"body_markdown":"You would have to ask the site webmaster why his redirects are like that.","body":"You would have to ask the site webmaster why his redirects are like that."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1698374413,"post_id":77371006,"comment_id":136400295,"body_markdown":"*So I guess here is my first question. Why is `http://bobaguys.com` not redirected* You just said it *was* redirected.","body":"<i>So I guess here is my first question. Why is <code>http:&#47;&#47;bobaguys.com</code> not redirected</i> You just said it <i>was</i> redirected."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1698374890,"post_id":77371006,"comment_id":136400340,"body_markdown":"`https://bobaguys.com` is also redirected, but the HTTP protocol never gets started because the TLS handshake fails because of server and/or certificate misconfiguration. The certificate needs to have `bobaguys.com` as one of its SANs, but it doesn&#39;t. If you ignore that error then you get a 301 redirect to `https://www.bobaguys.com`","body":"<code>https:&#47;&#47;bobaguys.com</code> is also redirected, but the HTTP protocol never gets started because the TLS handshake fails because of server and/or certificate misconfiguration. The certificate needs to have <code>bobaguys.com</code> as one of its SANs, but it doesn&#39;t. If you ignore that error then you get a 301 redirect to <code>https:&#47;&#47;www.bobaguys.com</code>"},{"owner":{"account_id":29763534,"reputation":1,"user_id":22810451,"display_name":"Watttttt"},"score":0,"creation_date":1698429711,"post_id":77371006,"comment_id":136409351,"body_markdown":"@PresidentJamesK.Polk Sorry, meant https://... edited","body":"@PresidentJamesK.Polk Sorry, meant https://... edited"}],"owner":{"account_id":29763534,"reputation":1,"user_id":22810451,"display_name":"Watttttt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698429673,"creation_date":1698369252,"question_id":77371006,"body_markdown":"I recently ran into an issue while trying use HttpURLConnection to get the response code of a website, specifically `https://bobaguys.com`\r\n\r\nHere is the code\r\n```\r\nURL url = new URL(&quot;https://bobaguys.com&quot;);\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.setRequestMethod(&quot;GET&quot;);\r\nconnection.connect();\r\nSystem.out.println(connection.getResponseCode());\r\n```\r\n\r\nAnd we see that we get an error `Caused by: java.security.cert.CertificateException: No subject alternative DNS name matching bobaguys.com found.` After a tiny bit of investigation however, I realized that if I changed the URL to `http://bobaguys.com` or `http://www.bobaguys.com`, I get a redirection response of 301, with it seemingly being permanently moved to `https://www.bobaguys.com`. So I guess here is my first question. Why is `http://bobaguys.com` not redirected? Does the web server of the original site have to set up that redirection and they just never set it for `https://bobaguys.com`? And my second question is, how should I handle cases like this? I want to consider all these URLs as valid strings to feed to my function and return that the site is valid. There&#39;s the brute force option of just trying all the combinations of the two http and https protocols with www. and without www., but I feel like there must be a better way right?","title":"Handling URL Redirections with HttpURLConnection or HttpsURLConnection","body":"<p>I recently ran into an issue while trying use HttpURLConnection to get the response code of a website, specifically <code>https://bobaguys.com</code></p>\n<p>Here is the code</p>\n<pre><code>URL url = new URL(&quot;https://bobaguys.com&quot;);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestMethod(&quot;GET&quot;);\nconnection.connect();\nSystem.out.println(connection.getResponseCode());\n</code></pre>\n<p>And we see that we get an error <code>Caused by: java.security.cert.CertificateException: No subject alternative DNS name matching bobaguys.com found.</code> After a tiny bit of investigation however, I realized that if I changed the URL to <code>http://bobaguys.com</code> or <code>http://www.bobaguys.com</code>, I get a redirection response of 301, with it seemingly being permanently moved to <code>https://www.bobaguys.com</code>. So I guess here is my first question. Why is <code>http://bobaguys.com</code> not redirected? Does the web server of the original site have to set up that redirection and they just never set it for <code>https://bobaguys.com</code>? And my second question is, how should I handle cases like this? I want to consider all these URLs as valid strings to feed to my function and return that the site is valid. There's the brute force option of just trying all the combinations of the two http and https protocols with www. and without www., but I feel like there must be a better way right?</p>\n"},{"tags":["java","im4java"],"answers":[{"tags":[],"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455198774,"creation_date":1455198774,"answer_id":35341214,"question_id":35341110,"body_markdown":"It is trying to run imagemagick&#39;s `convert` command but that is not there in the `PATH`. im4java is just an interface to run imagemagic&#39;s commmands from a java program. You need to have imagemagick in the `PATH`.","title":"Error in im4java, Cannot run program &quot;convert&quot;: error=2, No such file or directory","body":"<p>It is trying to run imagemagick's <code>convert</code> command but that is not there in the <code>PATH</code>. im4java is just an interface to run imagemagic's commmands from a java program. You need to have imagemagick in the <code>PATH</code>.</p>\n"},{"tags":[],"owner":{"account_id":13553465,"reputation":394,"user_id":9777668,"display_name":"Bruce Wilcox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698429472,"creation_date":1698429472,"answer_id":77376210,"question_id":35341110,"body_markdown":"This code worked for me on my Mac.\r\n\r\n```java\r\nimport org.im4java.core.ConvertCmd;\r\nimport org.im4java.core.IM4JavaException;\r\nimport org.im4java.core.IMOperation;\r\n\r\npublic class PngTrimMacWithBrew {\r\n\r\n    public static boolean trim(\r\n        String originalFile,\r\n        String outputFile\r\n    ) {\r\n\r\n        boolean success = false;\r\n\r\n        // convert $originalFile -trim -verbose $trimmedFile\r\n\r\n        // Create command\r\n        ConvertCmd cmd = new ConvertCmd( );\r\n        // Path to image magick\r\n        String imPath = &quot;/opt/homebrew/bin&quot;;\r\n        cmd.setSearchPath( imPath );\r\n\r\n        // Create the operation\r\n        IMOperation op = new IMOperation( );\r\n        op.addImage( originalFile );\r\n        op.trim( );\r\n        op.verbose( );\r\n        op.addImage( outputFile );\r\n\r\n        try {\r\n\r\n            // Execute the operation\r\n            cmd.run( op );\r\n\r\n            success = true;\r\n\r\n        } catch ( IOException e ) {\r\n            System.err.println( e.getMessage( ) );\r\n        } catch ( InterruptedException e ) {\r\n            System.err.println( e.getMessage( ) );\r\n        } catch ( IM4JavaException e ) {\r\n            System.err.println( &quot;IM4JavaException &quot; + e.getMessage( ) );\r\n        }\r\n\r\n        return success;\r\n\r\n    }\r\n\r\n```","title":"Error in im4java, Cannot run program &quot;convert&quot;: error=2, No such file or directory","body":"<p>This code worked for me on my Mac.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.im4java.core.ConvertCmd;\nimport org.im4java.core.IM4JavaException;\nimport org.im4java.core.IMOperation;\n\npublic class PngTrimMacWithBrew {\n\n    public static boolean trim(\n        String originalFile,\n        String outputFile\n    ) {\n\n        boolean success = false;\n\n        // convert $originalFile -trim -verbose $trimmedFile\n\n        // Create command\n        ConvertCmd cmd = new ConvertCmd( );\n        // Path to image magick\n        String imPath = &quot;/opt/homebrew/bin&quot;;\n        cmd.setSearchPath( imPath );\n\n        // Create the operation\n        IMOperation op = new IMOperation( );\n        op.addImage( originalFile );\n        op.trim( );\n        op.verbose( );\n        op.addImage( outputFile );\n\n        try {\n\n            // Execute the operation\n            cmd.run( op );\n\n            success = true;\n\n        } catch ( IOException e ) {\n            System.err.println( e.getMessage( ) );\n        } catch ( InterruptedException e ) {\n            System.err.println( e.getMessage( ) );\n        } catch ( IM4JavaException e ) {\n            System.err.println( &quot;IM4JavaException &quot; + e.getMessage( ) );\n        }\n\n        return success;\n\n    }\n\n</code></pre>\n"}],"owner":{"account_id":5237252,"reputation":435,"user_id":4185468,"accept_rate":32,"display_name":"uttam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698429472,"creation_date":1455198484,"question_id":35341110,"body_markdown":"I added gradle dependency for im4java 1.4.0. And trying to run the application in my linux system.\r\n\r\nHere&#39;s the Code \r\n\r\n       \r\n    public static void main(String[] args) throws Exception {\r\n        // TODO Auto-generated method stub\r\n        IMOperation op = new IMOperation();\r\n        op.addImage();  \r\n        op.resize(400, 500);// input\r\n        op.addImage(&quot;png:-&quot;);                 // output: stdout\r\n        BufferedImage image = ImageIO.read(new URL(&quot;http://pic.youmobile.org/imgcdn/google_icon_play_materiel.png&quot;)); \r\n        // set up command\r\n        ConvertCmd convert = new ConvertCmd();\r\n        Stream2BufferedImage s2b = new Stream2BufferedImage();\r\n        convert.setOutputConsumer(s2b);\r\n        \r\n       \r\n        // run command and extract BufferedImage from OutputConsumer\r\n        convert.run(op,image);\r\n      \r\n        BufferedImage img = s2b.getImage();\r\n        ImageIO.write(img, &quot;png&quot;, new File(&quot;output.png&quot;));\r\n      \r\n          }\r\n\r\nBut It was throwing the error \r\n\r\n\r\n         Exception in thread &quot;main&quot; org.im4java.core.CommandException: java.io.IOException: Cannot run program &quot;convert&quot;: error=2, No such file or directory\r\n\tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)\r\n\tat com.quixey.media.service.converter.Test.main(Test.java:33)\r\n         Caused by: java.io.IOException: Cannot run program &quot;convert&quot;: error=2, No such file or directory\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n\tat org.im4java.process.ProcessStarter.startProcess(ProcessStarter.java:407)\r\n\tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:312)\r\n\tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)\r\n\t... 1 more\r\n         Caused by: java.io.IOException: error=2, No such file or directory\r\n\tat java.lang.UNIXProcess.forkAndExec(Native Method)\r\n\tat java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:248)\r\n\tat java.lang.ProcessImpl.start(ProcessImpl.java:134)\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n\t... 4 more\r\n\r\nWhat was this error about ?How to fix it ?","title":"Error in im4java, Cannot run program &quot;convert&quot;: error=2, No such file or directory","body":"<p>I added gradle dependency for im4java 1.4.0. And trying to run the application in my linux system.</p>\n\n<p>Here's the Code </p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    // TODO Auto-generated method stub\n    IMOperation op = new IMOperation();\n    op.addImage();  \n    op.resize(400, 500);// input\n    op.addImage(\"png:-\");                 // output: stdout\n    BufferedImage image = ImageIO.read(new URL(\"http://pic.youmobile.org/imgcdn/google_icon_play_materiel.png\")); \n    // set up command\n    ConvertCmd convert = new ConvertCmd();\n    Stream2BufferedImage s2b = new Stream2BufferedImage();\n    convert.setOutputConsumer(s2b);\n\n\n    // run command and extract BufferedImage from OutputConsumer\n    convert.run(op,image);\n\n    BufferedImage img = s2b.getImage();\n    ImageIO.write(img, \"png\", new File(\"output.png\"));\n\n      }\n</code></pre>\n\n<p>But It was throwing the error </p>\n\n<pre><code>     Exception in thread \"main\" org.im4java.core.CommandException: java.io.IOException: Cannot run program \"convert\": error=2, No such file or directory\nat org.im4java.core.ImageCommand.run(ImageCommand.java:219)\nat com.quixey.media.service.converter.Test.main(Test.java:33)\n     Caused by: java.io.IOException: Cannot run program \"convert\": error=2, No such file or directory\nat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\nat org.im4java.process.ProcessStarter.startProcess(ProcessStarter.java:407)\nat org.im4java.process.ProcessStarter.run(ProcessStarter.java:312)\nat org.im4java.core.ImageCommand.run(ImageCommand.java:215)\n... 1 more\n     Caused by: java.io.IOException: error=2, No such file or directory\nat java.lang.UNIXProcess.forkAndExec(Native Method)\nat java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:248)\nat java.lang.ProcessImpl.start(ProcessImpl.java:134)\nat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n... 4 more\n</code></pre>\n\n<p>What was this error about ?How to fix it ?</p>\n"},{"tags":["java","android","flutter","android-studio","sdk"],"comments":[{"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"score":0,"creation_date":1698429201,"post_id":77376098,"comment_id":136409280,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":29048233,"reputation":1,"user_id":22251597,"display_name":"Hrithik Rajput"},"score":0,"creation_date":1698431844,"post_id":77376098,"comment_id":136409614,"body_markdown":"I used calendarView but I could not proceed further. Please tell how can I build this.","body":"I used calendarView but I could not proceed further. Please tell how can I build this."},{"owner":{"account_id":15019575,"reputation":1465,"user_id":10841432,"display_name":"Texv"},"score":0,"creation_date":1698481655,"post_id":77376098,"comment_id":136413518,"body_markdown":"You&#39;re basically asking someone to develop a complex app for you. You need to do your own research and ask more specific questions when you&#39;re able to show us a proper code sample of what you tried so far","body":"You&#39;re basically asking someone to develop a complex app for you. You need to do your own research and ask more specific questions when you&#39;re able to show us a proper code sample of what you tried so far"},{"owner":{"account_id":29048233,"reputation":1,"user_id":22251597,"display_name":"Hrithik Rajput"},"score":0,"creation_date":1698664561,"post_id":77376098,"comment_id":136429748,"body_markdown":"Can u please tell from where I can start? I tried every library and tutorial but none of them helped them.","body":"Can u please tell from where I can start? I tried every library and tutorial but none of them helped them."}],"owner":{"account_id":29048233,"reputation":1,"user_id":22251597,"display_name":"Hrithik Rajput"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698428302,"creation_date":1698428302,"question_id":77376098,"body_markdown":"currently I am working on a app where I have to build a custom calendar daywise attendance. Now I want to highlight the dates for absent, present and leave and I also want to disable navigation button for next and previous button. Can anyone please tell me how could I achieve this?","title":"How to build custom calendar in android studio?","body":"<p>currently I am working on a app where I have to build a custom calendar daywise attendance. Now I want to highlight the dates for absent, present and leave and I also want to disable navigation button for next and previous button. Can anyone please tell me how could I achieve this?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Micha≈Ç Krzywa≈Ñski"},"score":0,"creation_date":1559588163,"post_id":56433061,"comment_id":99460535,"body_markdown":"use a synchronized map. [ConcurrentHashMap](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html)","body":"use a synchronized map. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a>"},{"owner":{"account_id":2988067,"reputation":405,"user_id":2536324,"accept_rate":33,"display_name":"Deepanshu Arora"},"score":0,"creation_date":1559588385,"post_id":56433061,"comment_id":99460607,"body_markdown":"@michalk yes I&#39;m aware of ConcurrentHashMap but this does not still explains why it works when the refresh time is 30 seconds","body":"@michalk yes I&#39;m aware of ConcurrentHashMap but this does not still explains why it works when the refresh time is 30 seconds"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Micha≈Ç Krzywa≈Ñski"},"score":3,"creation_date":1559588544,"post_id":56433061,"comment_id":99460651,"body_markdown":"It might be just coincidence. If you reduce the time you just make it more probable that Threads will try to access the map and will break it because you are not using synchronized collection. There is also possibility that if you run your application enough times you will get it also for your 30seconds refresh time.","body":"It might be just coincidence. If you reduce the time you just make it more probable that Threads will try to access the map and will break it because you are not using synchronized collection. There is also possibility that if you run your application enough times you will get it also for your 30seconds refresh time."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1559588961,"post_id":56433061,"comment_id":99460801,"body_markdown":"Side note: `READER` should not be in uppercase because it&#39;s not a constant.","body":"Side note: <code>READER</code> should not be in uppercase because it&#39;s not a constant."},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1559615143,"post_id":56433061,"comment_id":99467210,"body_markdown":"never rely on time intervals to prove program correctness.","body":"never rely on time intervals to prove program correctness."}],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Micha≈Ç Krzywa≈Ñski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698427119,"creation_date":1559588819,"answer_id":56433213,"question_id":56433061,"body_markdown":"You should use a [ConcurrentHashMap](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html) if your map can be accessed by multiple Threads.\r\n\r\n&gt; Whenever I reduce the refresh time to 20 seconds, it starts throwing ConcurrentModificationException for some readers sporadically. Is it expected?\r\n\r\nIt might be just a coincidence. If you reduce the time, you just make it more probable that Threads will try to access the map and will break it because you are not using a synchronized collection. There is also the possibility that if you run your application enough times you will get the exception also for your 30 seconds refresh time. Debugging multithreaded applications is hard because you might think that your application is running okay - but in the end it turns out that for 1 out of 1000 you get an error because you handled multithreading the wrong way.\r\n\r\nAs Andy Turner pointed out correctly - you are lucky that `ConcurrentModificationException` appeared. If you receive no exception that does not mean the problem is not there. It would be worse if you received such error in your application when running in production.","title":"ComputeIfAbsent throwing concurrentModificationException","body":"<p>You should use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a> if your map can be accessed by multiple Threads.</p>\n<blockquote>\n<p>Whenever I reduce the refresh time to 20 seconds, it starts throwing ConcurrentModificationException for some readers sporadically. Is it expected?</p>\n</blockquote>\n<p>It might be just a coincidence. If you reduce the time, you just make it more probable that Threads will try to access the map and will break it because you are not using a synchronized collection. There is also the possibility that if you run your application enough times you will get the exception also for your 30 seconds refresh time. Debugging multithreaded applications is hard because you might think that your application is running okay - but in the end it turns out that for 1 out of 1000 you get an error because you handled multithreading the wrong way.</p>\n<p>As Andy Turner pointed out correctly - you are lucky that <code>ConcurrentModificationException</code> appeared. If you receive no exception that does not mean the problem is not there. It would be worse if you received such error in your application when running in production.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1559590094,"creation_date":1559590094,"answer_id":56433449,"question_id":56433061,"body_markdown":"&gt; Is it expected?\n\nAs it says in the [Javadoc of `HashMap`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/HashMap.html) (emphasis theirs):\n\n&gt; **Note that this implementation is not synchronized.**&#160;If multiple threads access a hash map concurrently, and at least one of the threads modifies the map structurally, it&#160;must&#160;be synchronized externally. (A structural modification is any operation that adds or deletes one or more mappings; merely changing the value associated with a key that an instance already contains is not a structural modification.)\n\nIn terms of whether a `ConcurrentModificiationException` specifically is expected, don&#39;t know. What should be expected is that *the behaviour is undefined*.\n\nIf you&#39;re lucky, an exception occurs. Exceptions are good: they tell you you&#39;re doing something wrong. If you&#39;re less lucky, it silently fails. Who knows what will happen in your specific circumstances? Maybe it will work correctly, maybe it doesn&#39;t.\n\nIf you want your code to behave correctly, use the classes as they are documented.","title":"ComputeIfAbsent throwing concurrentModificationException","body":"<blockquote>\n  <p>Is it expected?</p>\n</blockquote>\n\n<p>As it says in the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">Javadoc of <code>HashMap</code></a> (emphasis theirs):</p>\n\n<blockquote>\n  <p><strong>Note that this implementation is not synchronized.</strong>¬†If multiple threads access a hash map concurrently, and at least one of the threads modifies the map structurally, it¬†must¬†be synchronized externally. (A structural modification is any operation that adds or deletes one or more mappings; merely changing the value associated with a key that an instance already contains is not a structural modification.)</p>\n</blockquote>\n\n<p>In terms of whether a <code>ConcurrentModificiationException</code> specifically is expected, don't know. What should be expected is that <em>the behaviour is undefined</em>.</p>\n\n<p>If you're lucky, an exception occurs. Exceptions are good: they tell you you're doing something wrong. If you're less lucky, it silently fails. Who knows what will happen in your specific circumstances? Maybe it will work correctly, maybe it doesn't.</p>\n\n<p>If you want your code to behave correctly, use the classes as they are documented.</p>\n"}],"owner":{"account_id":2988067,"reputation":405,"user_id":2536324,"accept_rate":33,"display_name":"Deepanshu Arora"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1228,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":56433449,"answer_count":2,"score":3,"last_activity_date":1698427119,"creation_date":1559588099,"question_id":56433061,"body_markdown":"I have a Hashmap where I maintain mapping of different kinds of readers to their respective java class implementations. I have a multithreaded Java server which supports 32 types of readers.\r\n\r\n\r\nYou can assume every 30 seconds, getReader() is called internally by 1000s of objects for each type of reader.\r\n\r\nWhenever I reduce the refresh time to 20 seconds, it starts throwing ConcurrentModificationException for some readers sporadically. Is it expected?\r\n\r\nWhat difference does it make with decreasing the time period? \r\n\r\n```java\r\nclass Mapper {\r\n    Map&lt;String, Reader&gt; READER = new HashMap&lt;&gt;();\r\n\r\n    public static Reader getReader(type) {\r\n        Reader reader = READER.computeIfAbsent(type, k -&gt; new ReaderImpl());\r\n    }\r\n}\r\n\r\n```","title":"ComputeIfAbsent throwing concurrentModificationException","body":"<p>I have a Hashmap where I maintain mapping of different kinds of readers to their respective java class implementations. I have a multithreaded Java server which supports 32 types of readers.</p>\n\n<p>You can assume every 30 seconds, getReader() is called internally by 1000s of objects for each type of reader.</p>\n\n<p>Whenever I reduce the refresh time to 20 seconds, it starts throwing ConcurrentModificationException for some readers sporadically. Is it expected?</p>\n\n<p>What difference does it make with decreasing the time period? </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Mapper {\n    Map&lt;String, Reader&gt; READER = new HashMap&lt;&gt;();\n\n    public static Reader getReader(type) {\n        Reader reader = READER.computeIfAbsent(type, k -&gt; new ReaderImpl());\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","unity-game-engine","build.gradle"],"comments":[{"owner":{"account_id":6914793,"reputation":2511,"user_id":5309486,"display_name":"Ashok"},"score":0,"creation_date":1698425432,"post_id":77375783,"comment_id":136408696,"body_markdown":"Please check https://stackoverflow.com/questions/72544504/unity-2021-3-4f1-gradle-build-failed","body":"Please check <a href=\"https://stackoverflow.com/questions/72544504/unity-2021-3-4f1-gradle-build-failed\" title=\"unity 2021 3 4f1 gradle build failed\">stackoverflow.com/questions/72544504/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29633517,"reputation":53,"user_id":22711394,"display_name":"Emil Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698426983,"creation_date":1698426983,"answer_id":77375979,"question_id":77375783,"body_markdown":"First, download and install android studio: https://developer.android.com/studio\r\n\r\nGo to unity. Then on build settings select &quot;Export Project&quot;.\r\nThen click &quot;Export project&quot;.\r\n\r\nOpen android studio. Then open your newly exported project.\r\nBuild that projcet from android studio.\r\n\r\nIt might work &#128516;","title":"Gradle and SDK build failed","body":"<p>First, download and install android studio: <a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">https://developer.android.com/studio</a></p>\n<p>Go to unity. Then on build settings select &quot;Export Project&quot;.\nThen click &quot;Export project&quot;.</p>\n<p>Open android studio. Then open your newly exported project.\nBuild that projcet from android studio.</p>\n<p>It might work üòÑ</p>\n"}],"owner":{"account_id":29552986,"reputation":25,"user_id":22649194,"display_name":"clether"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77375979,"answer_count":1,"score":0,"last_activity_date":1698426983,"creation_date":1698424489,"question_id":77375783,"body_markdown":"Just started using unity, have no idea what to do with that:CommandInvokationFailure: Gradle build failed.\r\n\r\n```\r\nC:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-7.2.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleDebug&quot;\r\n```\r\n\r\nAlso i am getting another error with SDK:\r\n\r\n```\r\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\32.0.0\\package.xml. Probably the SDK is read-only\r\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml. Probably the SDK is read-only\r\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-31\\package.xml. Probably the SDK is read-only\r\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-32\\package.xml. Probably the SDK is read-only\r\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml. Probably the SDK is read-only\r\n```","title":"Gradle and SDK build failed","body":"<p>Just started using unity, have no idea what to do with that:CommandInvokationFailure: Gradle build failed.</p>\n<pre><code>C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-7.2.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleDebug&quot;\n</code></pre>\n<p>Also i am getting another error with SDK:</p>\n<pre><code>Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\32.0.0\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-31\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-32\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2022.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml. Probably the SDK is read-only\n</code></pre>\n"},{"tags":["java","set"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1698209002,"post_id":77356539,"comment_id":136374584,"body_markdown":"`set.stream().limit(30000).collect(toSet())`","body":"<code>set.stream().limit(30000).collect(toSet())</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1698214572,"post_id":77356539,"comment_id":136375113,"body_markdown":"What do you mean by &quot;first 30000&quot;? Sets are, in general, unordered. Do you just want to retain &quot;any&quot; 30k elements?","body":"What do you mean by &quot;first 30000&quot;? Sets are, in general, unordered. Do you just want to retain &quot;any&quot; 30k elements?"},{"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"score":0,"creation_date":1698296582,"post_id":77356539,"comment_id":136387736,"body_markdown":"correct, I meant any 30k elements","body":"correct, I meant any 30k elements"}],"answers":[{"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698207757,"creation_date":1698206809,"answer_id":77356559,"question_id":77356539,"body_markdown":"Use Guava library, we can use Lists.partition() method that splits the list into consecutive sublists, every list specified size\r\n\r\nJava Doc:\r\n\r\nhttps://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-\r\n\r\nYou can also use\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true#subList-int-int-\r\n\r\n\r\nFor set specifically\r\n\r\n    Set&lt;Integer&gt; subset = ImmutableSet.copyOf(Iterables.limit(set, 30000)); \r\n\r\nGuava Doc :\r\n\r\nhttps://guava.dev/releases/21.0/api/docs/com/google/common/collect/Iterables.html#limit-java.lang.Iterable-int-\r\n\r\nUser streams: \r\n\r\n    yourSet.stream().limit(30000).collect(Collectors.toSet());","title":"Split set in java","body":"<p>Use Guava library, we can use Lists.partition() method that splits the list into consecutive sublists, every list specified size</p>\n<p>Java Doc:</p>\n<p><a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-\" rel=\"nofollow noreferrer\">https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-</a></p>\n<p>You can also use</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true#subList-int-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true#subList-int-int-</a></p>\n<p>For set specifically</p>\n<pre><code>Set&lt;Integer&gt; subset = ImmutableSet.copyOf(Iterables.limit(set, 30000)); \n</code></pre>\n<p>Guava Doc :</p>\n<p><a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Iterables.html#limit-java.lang.Iterable-int-\" rel=\"nofollow noreferrer\">https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Iterables.html#limit-java.lang.Iterable-int-</a></p>\n<p>User streams:</p>\n<pre><code>yourSet.stream().limit(30000).collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29350761,"reputation":11,"user_id":22487965,"display_name":"Abdullah Al Mamun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698208588,"creation_date":1698208588,"answer_id":77356644,"question_id":77356539,"body_markdown":"There are no direct methods in Java&#39;s Set interface for slicing or keeping a particular section of the components. You can convert a set into a list, do the needed operation on the retained members, and then build a new set from the retained elements if you want to keep the first 30,000 elements from the set.\r\n\r\n```\r\n// Your original set with 60,000 elements\r\nSet&lt;YourElementType&gt; originalSet = new HashSet&lt;&gt;();\r\n\r\n// Convert the Set to a List\r\nList&lt;YourElementType&gt; originalList = new ArrayList&lt;&gt;(originalSet);\r\n\r\n// Retain the first 30,000 elements\r\nList&lt;YourElementType&gt; retainedList = originalList.subList(0, 30000);\r\n\r\n// Create a new Set from the retained elements\r\nSet&lt;YourElementType&gt; retainedSet = new HashSet&lt;&gt;(retainedList);\r\n```","title":"Split set in java","body":"<p>There are no direct methods in Java's Set interface for slicing or keeping a particular section of the components. You can convert a set into a list, do the needed operation on the retained members, and then build a new set from the retained elements if you want to keep the first 30,000 elements from the set.</p>\n<pre><code>// Your original set with 60,000 elements\nSet&lt;YourElementType&gt; originalSet = new HashSet&lt;&gt;();\n\n// Convert the Set to a List\nList&lt;YourElementType&gt; originalList = new ArrayList&lt;&gt;(originalSet);\n\n// Retain the first 30,000 elements\nList&lt;YourElementType&gt; retainedList = originalList.subList(0, 30000);\n\n// Create a new Set from the retained elements\nSet&lt;YourElementType&gt; retainedSet = new HashSet&lt;&gt;(retainedList);\n</code></pre>\n"}],"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77356559,"answer_count":2,"score":1,"last_activity_date":1698426812,"creation_date":1698206383,"question_id":77356539,"body_markdown":"I am trying to find the best way to retain the first half of a set in java. \r\nMy Set (java.util.Set) contains 60000 elements and I need to retain only 30000 of it. \r\n\r\nWhat&#39;s the best way of doing this? ","title":"Split set in java","body":"<p>I am trying to find the best way to retain the first half of a set in java.\nMy Set (java.util.Set) contains 60000 elements and I need to retain only 30000 of it.</p>\n<p>What's the best way of doing this?</p>\n"},{"tags":["java","authentication","ssl","x509certificate","keytool"],"comments":[{"owner":{"account_id":1357245,"reputation":874,"user_id":1295402,"display_name":"Sergio Pelin"},"score":0,"creation_date":1372927918,"post_id":17465108,"comment_id":25379439,"body_markdown":"Try to import first the CA root, then the CA intermediate and then, the last one, the trial SSL. I think it should work.","body":"Try to import first the CA root, then the CA intermediate and then, the last one, the trial SSL. I think it should work."},{"owner":{"account_id":282657,"reputation":21077,"user_id":579689,"accept_rate":54,"display_name":"Talespin_Kit"},"score":0,"creation_date":1501574055,"post_id":17465108,"comment_id":77824986,"body_markdown":"Were you able to solve this issue ?","body":"Were you able to solve this issue ?"},{"owner":{"account_id":49889,"reputation":4879,"user_id":148690,"accept_rate":92,"display_name":"TridenT"},"score":0,"creation_date":1503990529,"post_id":17465108,"comment_id":78823651,"body_markdown":"Possible answer here : https://stackoverflow.com/q/23611688/148690","body":"Possible answer here : <a href=\"https://stackoverflow.com/q/23611688/148690\">stackoverflow.com/q/23611688/148690</a>"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1548891460,"post_id":17465108,"comment_id":95710867,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/23611688.","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/23611688\">stackoverflow.com/q/23611688</a>."}],"answers":[{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372926853,"creation_date":1372926853,"answer_id":17465562,"question_id":17465108,"body_markdown":"You should keep your `trial_ca_ssl.cer` text on top of top `server.cer`. This will make a hierarchy of two certificate like this. Then you should import it.\r\n\r\n&gt; -----BEGIN CERTIFICATE----- MIIDSjCCAjKgAwIBAgIIEvabM2CgLZcwDQYJKoZIhvcNAQEFBQAwMzETMBEGA1UE\r\n&gt; AxMKV2FsdGVyIENBMTEPMA0GA1UEChMGV2FsdGVyMQswCQYDVQQGEwJTRTAeFw0w\r\n&gt; MzA5MjkwOTI2MzRaFw0wNDA5MjgwOTM2MzRaMDMxEzARBgNVBAMTCldhbHRlciBD\r\n&gt; QTExDzANBgNVBAoTBldhbHRlcjELMAkGA1UEBhMCU0UwggEgMA0GCSqGSIb3DQEB\r\n&gt; AQUAA4IBDQAwggEIAoIBAQC3hXksEud68WwPWWHLJQQkTCuX/K32KHPPn/uPUzab\r\n&gt; Cpc/FnaTmF9yEHmpFdAUr0v5ZPnxVQpcuwrDZc4YfaTLfyUHicQbkftsPAj/2hE4\r\n&gt; UukS2j+nQQcJEnIY0vSZOAOLU3j4bf/RlS6Jl7TPFFfWTxuQF8AruQ+YhaE52JFi\r\n&gt; SapGGXKQJxhsvKT91rLaWSFWNMTTLSDPaBXYEYFuFhLNclDJWf4whfxHSHHkARB/\r\n&gt; 3Z0XlT4sFj0fmqEQ6yQb6/WqMFK+1XAIBXZO2MXe26IigWkXw1GfkIx1+fbUPrzu\r\n&gt; 8EI2jb0TWl21j1+Mvh3APZtVj5FJNuZN9bgdbrq88hLXAgERo2QwYjAPBgNVHRMB\r\n&gt; Af8EBTADAQH/MA8GA1UdDwEB/wQFAwMHBgAwHQYDVR0OBBYEFNhHOtAwo8MOE/nI\r\n&gt; zzg9KFxCYs8YMB8GA1UdIwQYMBaAFNhHOtAwo8MOE/nIzzg9KFxCYs8YMA0GCSqG\r\n&gt; Sib3DQEBBQUAA4IBAQBHpvicbuJTACtpdwe6cF1nQ57FHnnYr+aAe+ZpH43R6R9d\r\n&gt; eMps02nFAMSs5o8sbPokrpwAtk2yYwCohEFDkZ5JPzIBkgNlNnVHNNRHQTRJ6v6Q\r\n&gt; F2MWUEPc1u5kxSjXEVMmZerG9oknMwpYFmkOnKF46vP3Njt/ExOeRAvCEQq2b8pz\r\n&gt; 2QGg8/IK6Omfi7IwxtVYUpgvhdcWekbFIlxkXZiEdlHNBIV1GzzPK1VEzg5kugD/\r\n&gt; h6jeykrsKASx+55AkkBPt2kI+ZikVtp3SVhfZQMGY86c5QMQGlPWYNsr4ociyhfX\r\n&gt; I52Qby+/HNG1ijpx66Z30lUMmXTtWtL4Cu8s7UvC\r\n&gt;  \r\n-----END CERTIFICATE-----\r\n&gt; \r\n-----BEGIN CERTIFICATE----- MIICxzCCAa+gAwIBAgIIBfqGjbQu14swDQYJKoZIhvcNAQEFBQAwMzETMBEGA1UE\r\n&gt; AxMKV2FsdGVyIENBMTEPMA0GA1UEChMGV2FsdGVyMQswCQYDVQQGEwJTRTAeFw0w\r\n&gt; MzA5MjkwOTMzMDFaFw0wNDAxMDcwOTQzMDFaMDQxETAPBgNVBAMTCER1ZGUgQ0Ex\r\n&gt; MRIwEAYDVQQKEwlEdWRlIEluYy4xCzAJBgNVBAYTAlNFMIGdMA0GCSqGSIb3DQEB\r\n&gt; AQUAA4GLADCBhwKBgQCM1hR/DYPXfKDa3oVJbppV4OcYtn2XP9W5Kc1d0+U4qLOm\r\n&gt; JsqIFHDWR07o1QFiPhc9z0UGtwYeE3CpQ8fG8zeur5e286PYptZIST77B9vOdQdl\r\n&gt; PA+dFKFIaEwdzcS7H3Lf38WTE4D1OnyRX5jsiUe+YIQRtjv/Bmem+kSR84G9TwIB\r\n&gt; EaNkMGIwDwYDVR0TAQH/BAUwAwEB/zAPBgNVHQ8BAf8EBQMDBwYAMB0GA1UdDgQW\r\n&gt; BBTDrXZGYXS9GyIUBOZrglhwNjjcnTAfBgNVHSMEGDAWgBTYRzrQMKPDDhP5yM84\r\n&gt; PshcQmLPGDANBgkqhkiG9w0BAQUFAAOCAQEAdmTP1qVUcAKOf+/zvb2lcLKvFwKT\r\n&gt; 6KqDlO5NofjqCIfNgCjO2mO176cslnFIbEZQqgGIUnJ3AwfHKHj+U3kM3n5T29kF\r\n&gt; xiLKxIDfjsY6qC03KHeGAgxI92XZyPsO1is6Y6qUnAmiwhIp5HS6E0+xIP1shmtJ\r\n&gt; ZvqU8bueKUWSjx3JDzq+UNLX5pFkK0P0R90TCUEkBx1FNWqoWwb8zfAuO5zcNTEj\r\n&gt; 5E9esLjwxJQnIVPiA2l3FfZN9yomK+q7kTZJkX2kMx7G850lPR8CneXZT6bIOfck\r\n&gt; Dw3PqQiroMNx2+gzC/f/wTXsF92aujyG+IZx1FIcNg/MoHXBWG7T8YrjnQ==\r\n&gt; \r\n-----END CERTIFICATE-----\r\n\r\nFor details read the User Guide of [EJBCA][1]. \r\n\r\n\r\n  [1]: http://www.ejbca.org/userguide.html","title":"Keytool error: Failed to establish chain from reply","body":"<p>You should keep your <code>trial_ca_ssl.cer</code> text on top of top <code>server.cer</code>. This will make a hierarchy of two certificate like this. Then you should import it.</p>\n\n<blockquote>\n  <p>-----BEGIN CERTIFICATE----- MIIDSjCCAjKgAwIBAgIIEvabM2CgLZcwDQYJKoZIhvcNAQEFBQAwMzETMBEGA1UE\n  AxMKV2FsdGVyIENBMTEPMA0GA1UEChMGV2FsdGVyMQswCQYDVQQGEwJTRTAeFw0w\n  MzA5MjkwOTI2MzRaFw0wNDA5MjgwOTM2MzRaMDMxEzARBgNVBAMTCldhbHRlciBD\n  QTExDzANBgNVBAoTBldhbHRlcjELMAkGA1UEBhMCU0UwggEgMA0GCSqGSIb3DQEB\n  AQUAA4IBDQAwggEIAoIBAQC3hXksEud68WwPWWHLJQQkTCuX/K32KHPPn/uPUzab\n  Cpc/FnaTmF9yEHmpFdAUr0v5ZPnxVQpcuwrDZc4YfaTLfyUHicQbkftsPAj/2hE4\n  UukS2j+nQQcJEnIY0vSZOAOLU3j4bf/RlS6Jl7TPFFfWTxuQF8AruQ+YhaE52JFi\n  SapGGXKQJxhsvKT91rLaWSFWNMTTLSDPaBXYEYFuFhLNclDJWf4whfxHSHHkARB/\n  3Z0XlT4sFj0fmqEQ6yQb6/WqMFK+1XAIBXZO2MXe26IigWkXw1GfkIx1+fbUPrzu\n  8EI2jb0TWl21j1+Mvh3APZtVj5FJNuZN9bgdbrq88hLXAgERo2QwYjAPBgNVHRMB\n  Af8EBTADAQH/MA8GA1UdDwEB/wQFAwMHBgAwHQYDVR0OBBYEFNhHOtAwo8MOE/nI\n  zzg9KFxCYs8YMB8GA1UdIwQYMBaAFNhHOtAwo8MOE/nIzzg9KFxCYs8YMA0GCSqG\n  Sib3DQEBBQUAA4IBAQBHpvicbuJTACtpdwe6cF1nQ57FHnnYr+aAe+ZpH43R6R9d\n  eMps02nFAMSs5o8sbPokrpwAtk2yYwCohEFDkZ5JPzIBkgNlNnVHNNRHQTRJ6v6Q\n  F2MWUEPc1u5kxSjXEVMmZerG9oknMwpYFmkOnKF46vP3Njt/ExOeRAvCEQq2b8pz\n  2QGg8/IK6Omfi7IwxtVYUpgvhdcWekbFIlxkXZiEdlHNBIV1GzzPK1VEzg5kugD/\n  h6jeykrsKASx+55AkkBPt2kI+ZikVtp3SVhfZQMGY86c5QMQGlPWYNsr4ociyhfX\n  I52Qby+/HNG1ijpx66Z30lUMmXTtWtL4Cu8s7UvC</p>\n  \n  <p>-----END CERTIFICATE-----</p>\n  \n  <p>-----BEGIN CERTIFICATE----- MIICxzCCAa+gAwIBAgIIBfqGjbQu14swDQYJKoZIhvcNAQEFBQAwMzETMBEGA1UE\n  AxMKV2FsdGVyIENBMTEPMA0GA1UEChMGV2FsdGVyMQswCQYDVQQGEwJTRTAeFw0w\n  MzA5MjkwOTMzMDFaFw0wNDAxMDcwOTQzMDFaMDQxETAPBgNVBAMTCER1ZGUgQ0Ex\n  MRIwEAYDVQQKEwlEdWRlIEluYy4xCzAJBgNVBAYTAlNFMIGdMA0GCSqGSIb3DQEB\n  AQUAA4GLADCBhwKBgQCM1hR/DYPXfKDa3oVJbppV4OcYtn2XP9W5Kc1d0+U4qLOm\n  JsqIFHDWR07o1QFiPhc9z0UGtwYeE3CpQ8fG8zeur5e286PYptZIST77B9vOdQdl\n  PA+dFKFIaEwdzcS7H3Lf38WTE4D1OnyRX5jsiUe+YIQRtjv/Bmem+kSR84G9TwIB\n  EaNkMGIwDwYDVR0TAQH/BAUwAwEB/zAPBgNVHQ8BAf8EBQMDBwYAMB0GA1UdDgQW\n  BBTDrXZGYXS9GyIUBOZrglhwNjjcnTAfBgNVHSMEGDAWgBTYRzrQMKPDDhP5yM84\n  PshcQmLPGDANBgkqhkiG9w0BAQUFAAOCAQEAdmTP1qVUcAKOf+/zvb2lcLKvFwKT\n  6KqDlO5NofjqCIfNgCjO2mO176cslnFIbEZQqgGIUnJ3AwfHKHj+U3kM3n5T29kF\n  xiLKxIDfjsY6qC03KHeGAgxI92XZyPsO1is6Y6qUnAmiwhIp5HS6E0+xIP1shmtJ\n  ZvqU8bueKUWSjx3JDzq+UNLX5pFkK0P0R90TCUEkBx1FNWqoWwb8zfAuO5zcNTEj\n  5E9esLjwxJQnIVPiA2l3FfZN9yomK+q7kTZJkX2kMx7G850lPR8CneXZT6bIOfck\n  Dw3PqQiroMNx2+gzC/f/wTXsF92aujyG+IZx1FIcNg/MoHXBWG7T8YrjnQ==</p>\n  \n  <p>-----END CERTIFICATE-----</p>\n</blockquote>\n\n<p>For details read the User Guide of <a href=\"http://www.ejbca.org/userguide.html\" rel=\"nofollow\">EJBCA</a>. </p>\n"},{"tags":[],"owner":{"account_id":3785398,"reputation":1401,"user_id":3143498,"accept_rate":82,"display_name":"Qing"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1423298260,"creation_date":1423298260,"answer_id":28380160,"question_id":17465108,"body_markdown":"one possibility is that you use the default openssl tool in Mac, but you copy \\openssl\\apps\\ca-cert.srl from a newer version openssl.","title":"Keytool error: Failed to establish chain from reply","body":"<p>one possibility is that you use the default openssl tool in Mac, but you copy \\openssl\\apps\\ca-cert.srl from a newer version openssl.</p>\n"}],"owner":{"account_id":236760,"reputation":3446,"user_id":504470,"accept_rate":61,"display_name":"iamtheexp01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11031,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698426090,"creation_date":1372925549,"question_id":17465108,"body_markdown":"I&#39;m having an error in importing the trial SSL certificate from CA. Below is my steps in creating the keystore. Please correct me if I&#39;m wrong. Thank you in advance!\r\n\r\n1.First, I created a keystore to be put in the server.\r\n\r\n&lt;pre&gt;&lt;code&gt;keytool -keystore server_keystore.jks -genkey -alias server -keyalg rsa -keysize 2048&lt;/code&gt;&lt;/pre&gt;\r\n\r\n2.Created a CSR.\r\n\r\n&lt;pre&gt;&lt;code&gt;keytool -keystore server_keystore.jks -certreq -alias server -keyalg rsa -file server.csr&lt;/code&gt;&lt;/pre&gt;\r\n\r\n* Sent the CSR to CA (Thawte) and replied with three trial certificate namely, CA root, CA intermediate and trial SSL. Saved it to a text file with file extension .cer. (trial_ca_ssl.cer, trial_ca_root.cer, trial_ca_intermediate.cer)\r\n\r\n\r\n3.Tried to import the trial_ca_ssl.cer in server_keystore.jks but I received an error.\r\n&lt;pre&gt;&lt;code&gt;keytool -import -keystore server_keystore.jks -file trial_ca_ssl.cer -alias server&lt;/code&gt;&lt;/pre&gt;\r\n\r\nError:\r\n&lt;pre&gt;&lt;code&gt;keytool error: java.lang.Exception: Failed to establish chain from reply&lt;/code&gt;&lt;/pre&gt;\r\n","title":"Keytool error: Failed to establish chain from reply","body":"<p>I'm having an error in importing the trial SSL certificate from CA. Below is my steps in creating the keystore. Please correct me if I'm wrong. Thank you in advance!</p>\n\n<p>1.First, I created a keystore to be put in the server.</p>\n\n<pre><code>keytool -keystore server_keystore.jks -genkey -alias server -keyalg rsa -keysize 2048</code></pre>\n\n<p>2.Created a CSR.</p>\n\n<pre><code>keytool -keystore server_keystore.jks -certreq -alias server -keyalg rsa -file server.csr</code></pre>\n\n<ul>\n<li>Sent the CSR to CA (Thawte) and replied with three trial certificate namely, CA root, CA intermediate and trial SSL. Saved it to a text file with file extension .cer. (trial_ca_ssl.cer, trial_ca_root.cer, trial_ca_intermediate.cer)</li>\n</ul>\n\n<p>3.Tried to import the trial_ca_ssl.cer in server_keystore.jks but I received an error.</p>\n\n<pre><code>keytool -import -keystore server_keystore.jks -file trial_ca_ssl.cer -alias server</code></pre>\n\n<p>Error:</p>\n\n<pre><code>keytool error: java.lang.Exception: Failed to establish chain from reply</code></pre>\n"},{"tags":["java","swing","jeditorpane"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1698420020,"post_id":77374597,"comment_id":136407681,"body_markdown":"I posted an answer for you. If I answered your question fully, don&#39;t forget to upvote and also to select my answer by clicking the checkmark right next to it. ;)","body":"I posted an answer for you. If I answered your question fully, don&#39;t forget to upvote and also to select my answer by clicking the checkmark right next to it. ;)"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698420171,"creation_date":1698417562,"answer_id":77375073,"question_id":77374597,"body_markdown":"The reason why your code outputs zero is because your editor kit, the string, and the document in the editor pane are disjointed. There are no relationship between them, especially between the editor kit and the document. Look at a simple example without an editor kit first. It will show the relationship between the string you want to set and the document. The process is simple:\r\n\r\n 1. Create the document\r\n 2. Set the document in the editor pane\r\n 3. Insert the string into the document (this example inserts the string at index 0)\r\n\r\n## Without Editor Kit ##\r\n```\r\npublic static void main(String[] args) throws IOException, BadLocationException {\r\n    String xxx  = &quot;This is my text sample&quot;;\r\n    javax.swing.JEditorPane p = new javax.swing.JEditorPane();\r\n    Document doc = new DefaultStyledDocument();\r\n    p.setDocument(doc);\r\n    doc.insertString(0, xxx, null);\r\n    System.out.println(p.getDocument().getLength());\r\n}\r\n```\r\nThis outputs 22.\r\n\r\nNow that you know how to connect the string to the document, let&#39;s add the editor kit. When using an editor kit, you got to make sure there is a relationship or association between the document and the editor kit. For this:\r\n\r\n 1. Create the editor kit\r\n 2. Use the editor kit to create the document you want to use. Since you wanted RTF, I created an RTF Editor, but for this issue, this is not relevant. You could create any type of editor kit.\r\n 3. Insert the String into the document and set the document into the editor pane.\r\n\r\n## With Editor Kit ##\r\n```\r\npublic static void main(String[] args) throws IOException, BadLocationException {\r\n    String xxx  = &quot;This is my text sample&quot;;\r\n    javax.swing.JEditorPane p = new javax.swing.JEditorPane();\r\n    EditorKit kitRtf = new RTFEditorKit();\r\n    Document doc = kitRtf.createDefaultDocument();\r\n    p.setDocument(doc);\r\n    doc.insertString(0, xxx, null);\r\n    System.out.println(p.getDocument().getLength());\r\n}\r\n```\r\nThis also outputs 22","title":"JEditorPane Document length return always 0","body":"<p>The reason why your code outputs zero is because your editor kit, the string, and the document in the editor pane are disjointed. There are no relationship between them, especially between the editor kit and the document. Look at a simple example without an editor kit first. It will show the relationship between the string you want to set and the document. The process is simple:</p>\n<ol>\n<li>Create the document</li>\n<li>Set the document in the editor pane</li>\n<li>Insert the string into the document (this example inserts the string at index 0)</li>\n</ol>\n<h2>Without Editor Kit</h2>\n<pre><code>public static void main(String[] args) throws IOException, BadLocationException {\n    String xxx  = &quot;This is my text sample&quot;;\n    javax.swing.JEditorPane p = new javax.swing.JEditorPane();\n    Document doc = new DefaultStyledDocument();\n    p.setDocument(doc);\n    doc.insertString(0, xxx, null);\n    System.out.println(p.getDocument().getLength());\n}\n</code></pre>\n<p>This outputs 22.</p>\n<p>Now that you know how to connect the string to the document, let's add the editor kit. When using an editor kit, you got to make sure there is a relationship or association between the document and the editor kit. For this:</p>\n<ol>\n<li>Create the editor kit</li>\n<li>Use the editor kit to create the document you want to use. Since you wanted RTF, I created an RTF Editor, but for this issue, this is not relevant. You could create any type of editor kit.</li>\n<li>Insert the String into the document and set the document into the editor pane.</li>\n</ol>\n<h2>With Editor Kit</h2>\n<pre><code>public static void main(String[] args) throws IOException, BadLocationException {\n    String xxx  = &quot;This is my text sample&quot;;\n    javax.swing.JEditorPane p = new javax.swing.JEditorPane();\n    EditorKit kitRtf = new RTFEditorKit();\n    Document doc = kitRtf.createDefaultDocument();\n    p.setDocument(doc);\n    doc.insertString(0, xxx, null);\n    System.out.println(p.getDocument().getLength());\n}\n</code></pre>\n<p>This also outputs 22</p>\n"}],"owner":{"account_id":5378847,"reputation":39,"user_id":4284764,"display_name":"Gerard Martinelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698425637,"creation_date":1698413713,"question_id":77374597,"body_markdown":"I&#39;m using a JEditorPane document to be filled from a String. I execute the following code, but I do not understand  why the following instruction returns always 0 for the document length.\r\n\r\nThank you in advance for your detailed explanations. \r\n\r\n        String xxx  = &quot;This is my text sample&quot;;\r\n\t\t\r\n\t\t\r\n\t\tjavax.swing.JEditorPane p = new javax.swing.JEditorPane();\r\n\t\tp.setContentType(&quot;text/rtf&quot;);\r\n\t    EditorKit kitRtf = p.getEditorKitForContentType(&quot;text/rtf&quot;);\r\n\t    java.io.InputStream stream = new java.io.ByteArrayInputStream(xxx.getBytes()); \r\n\t    kitRtf.read(stream, p.getDocument(), 0);\r\n\t    System.out.println(p.getDocument().getLength());\r\n\r\n","title":"JEditorPane Document length return always 0","body":"<p>I'm using a JEditorPane document to be filled from a String. I execute the following code, but I do not understand  why the following instruction returns always 0 for the document length.</p>\n<p>Thank you in advance for your detailed explanations.</p>\n<pre><code>    String xxx  = &quot;This is my text sample&quot;;\n    \n    \n    javax.swing.JEditorPane p = new javax.swing.JEditorPane();\n    p.setContentType(&quot;text/rtf&quot;);\n    EditorKit kitRtf = p.getEditorKitForContentType(&quot;text/rtf&quot;);\n    java.io.InputStream stream = new java.io.ByteArrayInputStream(xxx.getBytes()); \n    kitRtf.read(stream, p.getDocument(), 0);\n    System.out.println(p.getDocument().getLength());\n</code></pre>\n"},{"tags":["java","oracle","jdbc","arrays","prepared-statement"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1294280421,"creation_date":1294280421,"answer_id":4611204,"question_id":4611037,"body_markdown":"There the [`setBytes()`][1] method is for.\r\n\r\n    stmt.setBytes(1, bArray);\r\n\r\nClick the above `setBytes()` link for an overview of all methods of the `PreparedStatement` class. It&#39;s called *javadoc*. Start familarizing you with the javadocs. They are invaluable.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBytes%28int,%20byte%5B%5D%29","title":"writing byte array to a raw column in oracle","body":"<p>There the <a href=\"http://download.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBytes%28int,%20byte%5B%5D%29\" rel=\"nofollow\"><code>setBytes()</code></a> method is for.</p>\n\n<pre><code>stmt.setBytes(1, bArray);\n</code></pre>\n\n<p>Click the above <code>setBytes()</code> link for an overview of all methods of the <code>PreparedStatement</code> class. It's called <em>javadoc</em>. Start familarizing you with the javadocs. They are invaluable.</p>\n"}],"owner":{"account_id":91076,"reputation":6531,"user_id":250304,"accept_rate":42,"display_name":"codeObserver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1751,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4611204,"answer_count":1,"score":2,"last_activity_date":1698425592,"creation_date":1294277999,"question_id":4611037,"body_markdown":"I want to write a byte array to a raw column in oracle. \r\n\r\n    byte[] bArray = new byte[16];\r\n    stmt = fConnection.prepareStatement(query);\r\n\r\nI want to do something like:\r\n\r\n    stmt.setBinaryStream(1, bArray );\r\n\r\nHowever, I couldn&#39;t figure out an elegant way of doing it. Can some one please throw in some pointers.\r\n","title":"writing byte array to a raw column in oracle","body":"<p>I want to write a byte array to a raw column in oracle.</p>\n<pre><code>byte[] bArray = new byte[16];\nstmt = fConnection.prepareStatement(query);\n</code></pre>\n<p>I want to do something like:</p>\n<pre><code>stmt.setBinaryStream(1, bArray );\n</code></pre>\n<p>However, I couldn't figure out an elegant way of doing it. Can some one please throw in some pointers.</p>\n"},{"tags":["java","bukkit"],"answers":[{"tags":[],"owner":{"account_id":3288349,"reputation":23417,"user_id":2767207,"accept_rate":94,"display_name":"Jojodmo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1415228651,"creation_date":1400120380,"answer_id":23668210,"question_id":23667883,"body_markdown":"This is because you do not have a `plugin.yml` in your export:\r\n\r\n    Caused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\r\n\r\nFirst off, check your spelling, make sure that it is **EXACTLY** `plugin.yml`, which is *CasE-SEnSITivE*.\r\n\r\nNext, make sure that your `plugin.yml` is NOT in any packages, but in your `src` directory. I&#39;ve made that mistake before. Here&#39;s what it should look like if you&#39;re using Eclipse:\r\n\r\n![enter image description here][1]\r\n\r\nIf that isn&#39;t the problem, you may have a corrupted project, try copying all of your packages over to a new projecect (just drag and drop them if you&#39;re using eclipse)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Vlx58.png","title":"Java Bukkit - Invalid plugin.yml","body":"<p>This is because you do not have a <code>plugin.yml</code> in your export:</p>\n\n<pre><code>Caused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\n</code></pre>\n\n<p>First off, check your spelling, make sure that it is <strong>EXACTLY</strong> <code>plugin.yml</code>, which is <em>CasE-SEnSITivE</em>.</p>\n\n<p>Next, make sure that your <code>plugin.yml</code> is NOT in any packages, but in your <code>src</code> directory. I've made that mistake before. Here's what it should look like if you're using Eclipse:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Vlx58.png\" alt=\"enter image description here\"></p>\n\n<p>If that isn't the problem, you may have a corrupted project, try copying all of your packages over to a new projecect (just drag and drop them if you're using eclipse)</p>\n"},{"tags":[],"owner":{"account_id":4735024,"reputation":15,"user_id":3829656,"display_name":"TheJavaDeveloper"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1405087101,"creation_date":1405087101,"answer_id":24699529,"question_id":23667883,"body_markdown":"Where your plugin.yml says version: do 1.0 not 0.1 that should fix it also try what jojodmo said.","title":"Java Bukkit - Invalid plugin.yml","body":"<p>Where your plugin.yml says version: do 1.0 not 0.1 that should fix it also try what jojodmo said.</p>\n"},{"tags":[],"owner":{"account_id":1814846,"reputation":1857,"user_id":1650162,"accept_rate":90,"display_name":"Nicholas Post"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431003346,"creation_date":1431003346,"answer_id":30101714,"question_id":23667883,"body_markdown":"In your project you should see a folder called resources. Make sure that your plugin.yml is placed inside of that.\r\n\r\nFor example, you may see a folder structure like this: src/main/resources\r\n\r\nOnce you have it saved in that location, build the file and test it out. THis should resolve the error, but if not then you have something else wrong with the project. Which if that&#39;s the case, please post a screenshot of your folder structure for the project.","title":"Java Bukkit - Invalid plugin.yml","body":"<p>In your project you should see a folder called resources. Make sure that your plugin.yml is placed inside of that.</p>\n\n<p>For example, you may see a folder structure like this: src/main/resources</p>\n\n<p>Once you have it saved in that location, build the file and test it out. THis should resolve the error, but if not then you have something else wrong with the project. Which if that's the case, please post a screenshot of your folder structure for the project.</p>\n"},{"tags":[],"owner":{"display_name":"user4268046"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1433294463,"creation_date":1433294463,"answer_id":30609271,"question_id":23667883,"body_markdown":"As others have said, the plugin.yml is not actually in the jar.  If you are in eclipse make sure you check that you want to export with the plugin.yml ![Shows where to check to make sure you have the plugin.yml][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1esPx.png","title":"Java Bukkit - Invalid plugin.yml","body":"<p>As others have said, the plugin.yml is not actually in the jar.  If you are in eclipse make sure you check that you want to export with the plugin.yml <img src=\"https://i.stack.imgur.com/1esPx.png\" alt=\"Shows where to check to make sure you have the plugin.yml\"></p>\n"},{"tags":[],"owner":{"account_id":10020930,"reputation":35,"user_id":7410665,"display_name":"GoldShovel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484238909,"creation_date":1484238909,"answer_id":41618410,"question_id":23667883,"body_markdown":"Do not put it in the src/ folder, but in the project folder itself. ","title":"Java Bukkit - Invalid plugin.yml","body":"<p>Do not put it in the src/ folder, but in the project folder itself. </p>\n"},{"tags":[],"owner":{"account_id":6272716,"reputation":1,"user_id":9967466,"display_name":"Miki8500"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543202554,"creation_date":1543202554,"answer_id":53474395,"question_id":23667883,"body_markdown":"I used to get this error for several hours (when doing some basic code tests). I rearranged my plugin.xml (look picture) and when exporting I don&#39;t see plugin.xml in selections it but works(plugin loads without errors).\r\n\r\nhttps://i.stack.imgur.com/Wo6LN.jpg\r\n\r\nSome setting changes: \r\n\r\nChanged Eclipse text file encoding to UTF-8 and new text file line delimiter to other:  Unix. (toolbar -&gt; window -&gt; preferences -&gt; workspace)\r\n\r\nAlso used notepad++ EOL conversion to Unix (LF). Windows CRLF does not work it just gives an error with plugin.xml\r\n","title":"Java Bukkit - Invalid plugin.yml","body":"<p>I used to get this error for several hours (when doing some basic code tests). I rearranged my plugin.xml (look picture) and when exporting I don't see plugin.xml in selections it but works(plugin loads without errors).</p>\n\n<p><a href=\"https://i.stack.imgur.com/Wo6LN.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Wo6LN.jpg</a></p>\n\n<p>Some setting changes: </p>\n\n<p>Changed Eclipse text file encoding to UTF-8 and new text file line delimiter to other:  Unix. (toolbar -> window -> preferences -> workspace)</p>\n\n<p>Also used notepad++ EOL conversion to Unix (LF). Windows CRLF does not work it just gives an error with plugin.xml</p>\n"},{"tags":[],"owner":{"account_id":12618974,"reputation":113,"user_id":9550393,"display_name":"BrunnoFdc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560359277,"creation_date":1560359277,"answer_id":56567258,"question_id":23667883,"body_markdown":"If you are using Eclipse, before exporting your project, click on project folder in Eclipse Workspace and press F5. It will &quot;sync&quot; the files in your project and plugin.yml would be exported as well.","title":"Java Bukkit - Invalid plugin.yml","body":"<p>If you are using Eclipse, before exporting your project, click on project folder in Eclipse Workspace and press F5. It will \"sync\" the files in your project and plugin.yml would be exported as well.</p>\n"},{"tags":[],"owner":{"account_id":19139014,"reputation":11,"user_id":13979370,"display_name":"qtclone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595472787,"creation_date":1595464690,"answer_id":63045097,"question_id":23667883,"body_markdown":"i had the same problem and what i did was to drag the `plugin.yml` into your project again. this is an example how its not supposed to be \r\n\r\n[![enter image description here][1]][1]\r\n\r\nand if looks like that just drag it into your project as i said so it looks like this [![enter image description here][2]][2]\r\n\r\nand now when u export u will find `plugin.yml` there\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rlPXK.png\r\n  [2]: https://i.stack.imgur.com/58KXi.png","title":"Java Bukkit - Invalid plugin.yml","body":"<p>i had the same problem and what i did was to drag the <code>plugin.yml</code> into your project again. this is an example how its not supposed to be</p>\n<p><a href=\"https://i.stack.imgur.com/rlPXK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rlPXK.png\" alt=\"enter image description here\" /></a></p>\n<p>and if looks like that just drag it into your project as i said so it looks like this <a href=\"https://i.stack.imgur.com/58KXi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/58KXi.png\" alt=\"enter image description here\" /></a></p>\n<p>and now when u export u will find <code>plugin.yml</code> there</p>\n"},{"tags":[],"owner":{"account_id":20623860,"reputation":94,"user_id":15140233,"display_name":"draymone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698425545,"creation_date":1698425545,"answer_id":77375866,"question_id":23667883,"body_markdown":"Change `version: 0.1` to `version: 0.1.0` (it becomes a String instead an int), it should fix your problem","title":"Java Bukkit - Invalid plugin.yml","body":"<p>Change <code>version: 0.1</code> to <code>version: 0.1.0</code> (it becomes a String instead an int), it should fix your problem</p>\n"}],"owner":{"account_id":3831496,"reputation":35,"user_id":3176943,"accept_rate":0,"display_name":"user3176943"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10600,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":9,"score":1,"last_activity_date":1698425545,"creation_date":1400117912,"question_id":23667883,"body_markdown":"When I try to use this `plugin.yml` for a Bukkit plugin:\r\n\r\n    main: me.tommy.kit.Kit\r\n    name: Kit\r\n    version: 0.1\r\n    author: Tommywells123\r\n    description: Gives kits!\r\n\r\nI get the following error:\r\n\r\n    [11:35:18 ERROR]: Could not load &#39;plugins/Kit.jar&#39; in folder &#39;plugins&#39;\r\n    org.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\r\n\tat org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:150) ~[craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:133) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat org.bukkit.craftbukkit.v1_7_R3.CraftServer.loadPlugins(CraftServer.java:357) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat org.bukkit.craftbukkit.v1_7_R3.CraftServer.reload(CraftServer.java:799) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat org.bukkit.Bukkit.reload(Bukkit.java:288) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:23) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:180) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat org.bukkit.craftbukkit.v1_7_R3.CraftServer.dispatchCommand(CraftServer.java:703) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat org.bukkit.craftbukkit.v1_7_R3.CraftServer.dispatchServerCommand(CraftServer.java:690) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat net.minecraft.server.v1_7_R3.DedicatedServer.aB(DedicatedServer.java:296) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat net.minecraft.server.v1_7_R3.DedicatedServer.v(DedicatedServer.java:261) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat net.minecraft.server.v1_7_R3.MinecraftServer.u(MinecraftServer.java:558) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat net.minecraft.server.v1_7_R3.MinecraftServer.run(MinecraftServer.java:469) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n\tat net.minecraft.server.v1_7_R3.ThreadServerApplication.run(SourceFile:628) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\r\n    Caused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\r\n\t... 14 more\r\n\r\n","title":"Java Bukkit - Invalid plugin.yml","body":"<p>When I try to use this <code>plugin.yml</code> for a Bukkit plugin:</p>\n\n<pre><code>main: me.tommy.kit.Kit\nname: Kit\nversion: 0.1\nauthor: Tommywells123\ndescription: Gives kits!\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>[11:35:18 ERROR]: Could not load 'plugins/Kit.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\nat org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:150) ~[craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:133) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat org.bukkit.craftbukkit.v1_7_R3.CraftServer.loadPlugins(CraftServer.java:357) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat org.bukkit.craftbukkit.v1_7_R3.CraftServer.reload(CraftServer.java:799) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat org.bukkit.Bukkit.reload(Bukkit.java:288) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:23) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:180) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat org.bukkit.craftbukkit.v1_7_R3.CraftServer.dispatchCommand(CraftServer.java:703) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat org.bukkit.craftbukkit.v1_7_R3.CraftServer.dispatchServerCommand(CraftServer.java:690) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat net.minecraft.server.v1_7_R3.DedicatedServer.aB(DedicatedServer.java:296) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat net.minecraft.server.v1_7_R3.DedicatedServer.v(DedicatedServer.java:261) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat net.minecraft.server.v1_7_R3.MinecraftServer.u(MinecraftServer.java:558) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat net.minecraft.server.v1_7_R3.MinecraftServer.run(MinecraftServer.java:469) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nat net.minecraft.server.v1_7_R3.ThreadServerApplication.run(SourceFile:628) [craftbukkit.jar:git-Bukkit-1.7.2-R0.3-59-g6efeddf-b3074jnks]\nCaused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\n... 14 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1698328167,"post_id":77367562,"comment_id":136393645,"body_markdown":"Are you trying to load an environment variable from the build system *at runtime*? That&#39;s obviously not possible. If you are trying to generate a file at compile time that includes the parameter, that&#39;s possible, but it won&#39;t help you: The secret will still be in the compiled code, so you won&#39;t have achieved anything. You&#39;ll just need to specify the secret safely at runtime.","body":"Are you trying to load an environment variable from the build system <i>at runtime</i>? That&#39;s obviously not possible. If you are trying to generate a file at compile time that includes the parameter, that&#39;s possible, but it won&#39;t help you: The secret will still be in the compiled code, so you won&#39;t have achieved anything. You&#39;ll just need to specify the secret safely at runtime."},{"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"score":1,"creation_date":1698328304,"post_id":77367562,"comment_id":136393674,"body_markdown":"This can definitely be done using maven or gradle","body":"This can definitely be done using maven or gradle"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1698328477,"post_id":77367562,"comment_id":136393725,"body_markdown":"@Nick Feel free to be more specific. You&#39;ll have to save the variable *somewhere* which will always include it in the build artifact.","body":"@Nick Feel free to be more specific. You&#39;ll have to save the variable <i>somewhere</i> which will always include it in the build artifact."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1698329047,"post_id":77367562,"comment_id":136393853,"body_markdown":"Just a guess, but Nick likely meant filtering files to include desired `pom.xml` constants. But as you stated, you have to store it somewhere, and in this case it&#39;d be in two places. @OP This sounds like a user configuration task, not something for the software itself to set up. Moreso it reads like an [XY problem](https://xyproblem.info/): why do you need this? What are you hoping to solve by doing this? Environment variables are definitely not where I&#39;d look first.","body":"Just a guess, but Nick likely meant filtering files to include desired <code>pom.xml</code> constants. But as you stated, you have to store it somewhere, and in this case it&#39;d be in two places. @OP This sounds like a user configuration task, not something for the software itself to set up. Moreso it reads like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>: why do you need this? What are you hoping to solve by doing this? Environment variables are definitely not where I&#39;d look first."},{"owner":{"account_id":213468,"reputation":103463,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698329293,"post_id":77367562,"comment_id":136393934,"body_markdown":"@Rogue You can use environment variable names in value references in a pom.xml (e.g. `${env.VARIABLE_NAME}`), so you can use them to configure filtering. Similar access is available in Gradle as well.","body":"@Rogue You can use environment variable names in value references in a pom.xml (e.g. <code>${env.VARIABLE_NAME}</code>), so you can use them to configure filtering. Similar access is available in Gradle as well."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1698330147,"post_id":77367562,"comment_id":136394121,"body_markdown":"Is this your secret or theirs? Because if it&#39;s your secret, embedding a secret (such as an API key or authentication credentials) in a `.class` file is not hiding it. Any teenage script kiddie with a few minutes of time will be able to read that key, even in an obfuscated `.class` file.","body":"Is this your secret or theirs? Because if it&#39;s your secret, embedding a secret (such as an API key or authentication credentials) in a <code>.class</code> file is not hiding it. Any teenage script kiddie with a few minutes of time will be able to read that key, even in an obfuscated <code>.class</code> file."},{"owner":{"account_id":2928174,"reputation":1503,"user_id":2509099,"accept_rate":50,"display_name":"agent_bean"},"score":0,"creation_date":1698331045,"post_id":77367562,"comment_id":136394304,"body_markdown":"I guess my that is my only option each consumer of the library would need to provide the secret. I was hoping to avoid that scenario.","body":"I guess my that is my only option each consumer of the library would need to provide the secret. I was hoping to avoid that scenario."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1698427009,"post_id":77367562,"comment_id":136408978,"body_markdown":"Since there is no way you could possibly maintain the &quot;secret&quot; secret (with this idea) you might as well add in your library a properties file with it.","body":"Since there is no way you could possibly maintain the &quot;secret&quot; secret (with this idea) you might as well add in your library a properties file with it."}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698425408,"creation_date":1698425408,"answer_id":77375857,"question_id":77367562,"body_markdown":"It is a bit unclear what you have and what you want to achieve, but it seems like what you are looking for falls under the category of ***conditional compilation***, which consists of two parts:\r\n\r\n- How to selectively compile different pieces of code based on some external variable, (which might not apply to you,) but most importantly:\r\n\r\n- How to inject such an external variable into the compilation process. (Very much applies to you.)\r\n\r\nJava out of the box does not support such a construct, and it has been a conscious decision of the team that developed java to not have such a construct. Their rationale is that without such a construct, every java compilation unit has one and only one way in which it can be interpreted, and there is merit in this.\r\n\r\nOf course, for those who are hell-bent on nonetheless having such a construct, despite the fact that the language has explicitly chosen to not offer it, there exist workarounds.  You can perform a search for &quot;java conditional compilation&quot; or you can go directly to this Q&amp;A: https://stackoverflow.com/q/1922521/773113","title":"Include environment variable at compile time in Java","body":"<p>It is a bit unclear what you have and what you want to achieve, but it seems like what you are looking for falls under the category of <em><strong>conditional compilation</strong></em>, which consists of two parts:</p>\n<ul>\n<li><p>How to selectively compile different pieces of code based on some external variable, (which might not apply to you,) but most importantly:</p>\n</li>\n<li><p>How to inject such an external variable into the compilation process. (Very much applies to you.)</p>\n</li>\n</ul>\n<p>Java out of the box does not support such a construct, and it has been a conscious decision of the team that developed java to not have such a construct. Their rationale is that without such a construct, every java compilation unit has one and only one way in which it can be interpreted, and there is merit in this.</p>\n<p>Of course, for those who are hell-bent on nonetheless having such a construct, despite the fact that the language has explicitly chosen to not offer it, there exist workarounds.  You can perform a search for &quot;java conditional compilation&quot; or you can go directly to this Q&amp;A: <a href=\"https://stackoverflow.com/q/1922521/773113\">Conditional Java compilation</a></p>\n"}],"owner":{"account_id":2928174,"reputation":1503,"user_id":2509099,"accept_rate":50,"display_name":"agent_bean"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698425408,"creation_date":1698328025,"question_id":77367562,"body_markdown":"I have this scenario where I&#39;m picking up an environment variable from the pipeline.\r\n\r\n    export SECRET = testing\r\n\r\n### In the library code \r\n\r\n    private static final String SECRET = System.getenv(&quot;SECRET&quot;);\r\n    \r\n    public static String outputSecret() {\r\n        return SECRET\r\n    }\r\n\r\nI would like to compile the library and basically have the secret string as part of the library at compile time, so that the consumer of the library wouldn&#39;t need to care about the environment variable.\r\n\r\n### Consumer of library \r\n\r\n    Library.outputSecret(); // this would be testing\r\n\r\nat the moment if I don&#39;t pass the environment variable everything is initialized to null. Is this achievable?\r\n\r\nWhen building I use the command below. Unfortunately, the consumer of the library doesn&#39;t know what `SECRET` is.\r\n\r\n    export SECRET = testing\r\n    ./gradlew clean build","title":"Include environment variable at compile time in Java","body":"<p>I have this scenario where I'm picking up an environment variable from the pipeline.</p>\n<pre><code>export SECRET = testing\n</code></pre>\n<h3>In the library code</h3>\n<pre><code>private static final String SECRET = System.getenv(&quot;SECRET&quot;);\n\npublic static String outputSecret() {\n    return SECRET\n}\n</code></pre>\n<p>I would like to compile the library and basically have the secret string as part of the library at compile time, so that the consumer of the library wouldn't need to care about the environment variable.</p>\n<h3>Consumer of library</h3>\n<pre><code>Library.outputSecret(); // this would be testing\n</code></pre>\n<p>at the moment if I don't pass the environment variable everything is initialized to null. Is this achievable?</p>\n<p>When building I use the command below. Unfortunately, the consumer of the library doesn't know what <code>SECRET</code> is.</p>\n<pre><code>export SECRET = testing\n./gradlew clean build\n</code></pre>\n"},{"tags":["java","karate","junit5"],"comments":[{"owner":{"account_id":2016079,"reputation":1865,"user_id":1803356,"accept_rate":71,"display_name":"suiwenfeng"},"score":0,"creation_date":1698425796,"post_id":77375774,"comment_id":136408759,"body_markdown":"try @ParameterizedTest","body":"try @ParameterizedTest"},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1698490291,"post_id":77375774,"comment_id":136414262,"body_markdown":"this is certainly not supported. no other team has requested this - so your best bet is to contribute code via a PR","body":"this is certainly not supported. no other team has requested this - so your best bet is to contribute code via a PR"}],"owner":{"account_id":1215292,"reputation":1099,"user_id":1183016,"accept_rate":81,"display_name":"Alan Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698424383,"creation_date":1698424383,"question_id":77375774,"body_markdown":"I have a package in my **src/test/java** directory called **com/example/alan/test**.  Inside that package I have my KarateTest.java file and a **features** directory, which is full of .feature files.  Each feature file has exactly one tag at the very top e.g. @Feature1, @Feature2, and so on.\r\n\r\nIs there a way to use [JUnit5&#39;s dynamic tests][1] to run each tag/.feature file as individual tests?\r\n\r\nI ask as I want to have a config.yaml file that lists what tags I want to run in a given test run e.g.\r\n```\r\ntags:\r\n  - &#39;@Feature1&#39;\r\n  - &#39;@Feature3&#39;\r\n```  \r\nI read this file in and am attempting to run a test per tag e.g.\r\n\r\n```\r\n  public class KarateTest {\r\n\r\n    @TestFactory\r\n    Stream&lt;DynamicTest&gt; runKarateTestsDynamically() {\r\n        List&lt;String&gt; tags = ConfigUtils.getTags(); //read the tags in from the yaml config file\r\n        return tags.stream().map(this::createDynamicTest);\r\n    }\r\n\r\n    private DynamicTest createDynamicTest(String tag) {\r\n        return dynamicTest(&quot;Run Karate Test with Tag: &quot; + tag, () -&gt; {\r\n            System.out.println(&quot;Running Karate Test with Tag: &quot; + tag);\r\n            Karate.run(&quot;classpath:com/example/alan/test/features&quot;).tags(tag).outputHtmlReport(true);\r\n        });\r\n    }\r\n}\r\n```\r\nNot sure if this would be a way to do it, but I don&#39;t get any test output at all and the features aren&#39;t running.  Thanks\r\n\r\n  [1]: https://www.baeldung.com/junit5-dynamic-tests","title":"Is there a way to run tags as individual tests?","body":"<p>I have a package in my <strong>src/test/java</strong> directory called <strong>com/example/alan/test</strong>.  Inside that package I have my KarateTest.java file and a <strong>features</strong> directory, which is full of .feature files.  Each feature file has exactly one tag at the very top e.g. @Feature1, @Feature2, and so on.</p>\n<p>Is there a way to use <a href=\"https://www.baeldung.com/junit5-dynamic-tests\" rel=\"nofollow noreferrer\">JUnit5's dynamic tests</a> to run each tag/.feature file as individual tests?</p>\n<p>I ask as I want to have a config.yaml file that lists what tags I want to run in a given test run e.g.</p>\n<pre><code>tags:\n  - '@Feature1'\n  - '@Feature3'\n</code></pre>\n<p>I read this file in and am attempting to run a test per tag e.g.</p>\n<pre><code>  public class KarateTest {\n\n    @TestFactory\n    Stream&lt;DynamicTest&gt; runKarateTestsDynamically() {\n        List&lt;String&gt; tags = ConfigUtils.getTags(); //read the tags in from the yaml config file\n        return tags.stream().map(this::createDynamicTest);\n    }\n\n    private DynamicTest createDynamicTest(String tag) {\n        return dynamicTest(&quot;Run Karate Test with Tag: &quot; + tag, () -&gt; {\n            System.out.println(&quot;Running Karate Test with Tag: &quot; + tag);\n            Karate.run(&quot;classpath:com/example/alan/test/features&quot;).tags(tag).outputHtmlReport(true);\n        });\n    }\n}\n</code></pre>\n<p>Not sure if this would be a way to do it, but I don't get any test output at all and the features aren't running.  Thanks</p>\n"},{"tags":["java","charset"],"comments":[{"owner":{"account_id":2663825,"reputation":21866,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":1,"creation_date":1698400175,"post_id":77373102,"comment_id":136403556,"body_markdown":"Does this answer your question? [How to convert a char from an alphabetical character to a hexadecimal number in Java?](https://stackoverflow.com/questions/4477714/how-to-convert-a-char-from-an-alphabetical-character-to-a-hexadecimal-number-in)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4477714/how-to-convert-a-char-from-an-alphabetical-character-to-a-hexadecimal-number-in\">How to convert a char from an alphabetical character to a hexadecimal number in Java?</a>"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1698400229,"post_id":77373102,"comment_id":136403566,"body_markdown":"Does this answer your question? [Converting A String To Hexadecimal In Java](https://stackoverflow.com/questions/923863/converting-a-string-to-hexadecimal-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/923863/converting-a-string-to-hexadecimal-in-java\">Converting A String To Hexadecimal In Java</a>"},{"owner":{"account_id":213468,"reputation":103463,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1698403854,"post_id":77373102,"comment_id":136404194,"body_markdown":"If you want the original byte values in the text file, you should use an `InputStream`, not a `Reader`. The problem with using a reader is that it will have already applied some transformation. If your file contained byte combinations not valid in ISO 8859-1 (though in practice that is no longer possible with that character set, for others it might be a valid concern), they would be transformed to a `?` or the Unicode replacement character. You can then no longer obtain the original byte value it had in the file.","body":"If you want the original byte values in the text file, you should use an <code>InputStream</code>, not a <code>Reader</code>. The problem with using a reader is that it will have already applied some transformation. If your file contained byte combinations not valid in ISO 8859-1 (though in practice that is no longer possible with that character set, for others it might be a valid concern), they would be transformed to a <code>?</code> or the Unicode replacement character. You can then no longer obtain the original byte value it had in the file."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1698405084,"post_id":77373102,"comment_id":136404430,"body_markdown":"@MarkRotteveel that&#39;s good advice, but how do you read one line at a time into a byte array using just an InputStream?","body":"@MarkRotteveel that&#39;s good advice, but how do you read one line at a time into a byte array using just an InputStream?"},{"owner":{"account_id":213468,"reputation":103463,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1698406071,"post_id":77373102,"comment_id":136404625,"body_markdown":"@k314159 You&#39;d need to scan for end-of-line markers yourself. That is the trade-off here: either you want the original bytes, or you want to read as string, you can&#39;t have both (or at least, not always).","body":"@k314159 You&#39;d need to scan for end-of-line markers yourself. That is the trade-off here: either you want the original bytes, or you want to read as string, you can&#39;t have both (or at least, not always)."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698424409,"post_id":77373102,"comment_id":136408505,"body_markdown":"Edit to make clear whether you are trying to examine the octets in your file as stored, or whether you want to see how Java represents the text in memory (the code points).","body":"Edit to make clear whether you are trying to examine the octets in your file as stored, or whether you want to see how Java represents the text in memory (the code points)."}],"answers":[{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698400174,"creation_date":1698400174,"answer_id":77373165,"question_id":77373102,"body_markdown":"In order to get the binary representation of the string, you use the `getBytes` method on the string:\r\n\r\n```java\r\nbyte[] bytes = row.getBytes(&quot;ISO-8859-1&quot;);\r\n```\r\n\r\nOnce you have a raw byte array, there are [various ways][1] to display it as a hex string.\r\n\r\n  [1]: https://stackoverflow.com/questions/9655181/java-convert-a-byte-array-to-a-hex-string","title":"How to get hex out of the string?","body":"<p>In order to get the binary representation of the string, you use the <code>getBytes</code> method on the string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = row.getBytes(&quot;ISO-8859-1&quot;);\n</code></pre>\n<p>Once you have a raw byte array, there are <a href=\"https://stackoverflow.com/questions/9655181/java-convert-a-byte-array-to-a-hex-string\">various ways</a> to display it as a hex string.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698405561,"creation_date":1698400718,"answer_id":77373218,"question_id":77373102,"body_markdown":"Since you have already read the line as a string, the easiest way should be to use [`String.codePoints()`][1] to get an `IntStream`.\r\n```\r\nString hexedRow = row.codePoints()\r\n  .mapToObj(Integer::toHexString)\r\n  .map(String::toUpperCase)\r\n  .collect(Collectors.joining(&quot; &quot;));\r\nSystem.out.println(row + &quot; = &quot; + hexedRow);\r\n```\r\nFor `&#228;pple` prints:\r\n```\r\n&#228;pple = E4 70 70 6C 65\r\n```\r\nIf you are not yet on java 9, you can simply iterate the characters and cast them to int before &#39;hex&#39;-ing them.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#codePoints()","title":"How to get hex out of the string?","body":"<p>Since you have already read the line as a string, the easiest way should be to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#codePoints()\" rel=\"nofollow noreferrer\"><code>String.codePoints()</code></a> to get an <code>IntStream</code>.</p>\n<pre><code>String hexedRow = row.codePoints()\n  .mapToObj(Integer::toHexString)\n  .map(String::toUpperCase)\n  .collect(Collectors.joining(&quot; &quot;));\nSystem.out.println(row + &quot; = &quot; + hexedRow);\n</code></pre>\n<p>For <code>√§pple</code> prints:</p>\n<pre><code>√§pple = E4 70 70 6C 65\n</code></pre>\n<p>If you are not yet on java 9, you can simply iterate the characters and cast them to int before 'hex'-ing them.</p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698424148,"creation_date":1698404790,"answer_id":77373664,"question_id":77373102,"body_markdown":"For something with good flexibility, you can use the new [`HexFormat`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html) class introduced in Java 17:\r\n\r\n\r\n```\r\nvar inputCharset = StandardCharsets.ISO_8859_1;\r\nvar hexFormat = HexFormat.ofDelimiter(&quot; &quot;).withUpperCase();\r\ntry (var in = Files.newBufferedReader(Path.of(fi), inputCharset))) {\r\n    String row;\r\n    while ((row = in.readLine()) != null) {\r\n        System.out.println(row + &quot; = &quot; + hexFormat.formatHex(row.getBytes(inputCharset));\r\n    }\r\n}\r\n```","title":"How to get hex out of the string?","body":"<p>For something with good flexibility, you can use the new <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"nofollow noreferrer\"><code>HexFormat</code></a> class introduced in Java 17:</p>\n<pre><code>var inputCharset = StandardCharsets.ISO_8859_1;\nvar hexFormat = HexFormat.ofDelimiter(&quot; &quot;).withUpperCase();\ntry (var in = Files.newBufferedReader(Path.of(fi), inputCharset))) {\n    String row;\n    while ((row = in.readLine()) != null) {\n        System.out.println(row + &quot; = &quot; + hexFormat.formatHex(row.getBytes(inputCharset));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8872127,"reputation":173,"user_id":6625547,"display_name":"user6625547"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698424148,"creation_date":1698399681,"question_id":77373102,"body_markdown":"I am reading a text file in Java line by line. For debugging purpose, I would like to get the hex value of the string to check how it is encoded. \r\n\r\nFor example:\r\n\r\nThis is my text-file:\r\n\r\n    &#228;pple\r\n    tree\r\n\r\nThis is how I read the file:\r\n\r\n    inputCharset = Charset.forName(&quot;ISO-8859-1&quot;)\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(new FileInputStream(fi), inputCharset));\r\n    while ( in.ready() ) {\r\n          String row = in.readLine();\r\n          System.out.println(row + &quot; = &quot; + toHex(row));\r\n    }\r\n\r\nThe result must be for first line\r\n\r\n    &#228;pple = E4 70 70 6C 65\r\n\r\nHow can I convert the chars of the string to the appropriate hex value? \r\n\r\n  ","title":"How to get hex out of the string?","body":"<p>I am reading a text file in Java line by line. For debugging purpose, I would like to get the hex value of the string to check how it is encoded.</p>\n<p>For example:</p>\n<p>This is my text-file:</p>\n<pre><code>√§pple\ntree\n</code></pre>\n<p>This is how I read the file:</p>\n<pre><code>inputCharset = Charset.forName(&quot;ISO-8859-1&quot;)\nBufferedReader in = new BufferedReader(new InputStreamReader(new FileInputStream(fi), inputCharset));\nwhile ( in.ready() ) {\n      String row = in.readLine();\n      System.out.println(row + &quot; = &quot; + toHex(row));\n}\n</code></pre>\n<p>The result must be for first line</p>\n<pre><code>√§pple = E4 70 70 6C 65\n</code></pre>\n<p>How can I convert the chars of the string to the appropriate hex value?</p>\n"},{"tags":["java","android","google-maps","google-maps-api-2"],"comments":[{"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"score":0,"creation_date":1698424494,"post_id":77375723,"comment_id":136408520,"body_markdown":"Background Location Permission: Google Maps requests the &quot;background location&quot; permission, which is a special permission introduced in Android 10 (API level 29) and later. This permission allows the app to access location even when it&#39;s running in the background. Users are prompted to grant this permission when installing or updating the app.","body":"Background Location Permission: Google Maps requests the &quot;background location&quot; permission, which is a special permission introduced in Android 10 (API level 29) and later. This permission allows the app to access location even when it&#39;s running in the background. Users are prompted to grant this permission when installing or updating the app."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1698425185,"post_id":77375723,"comment_id":136408665,"body_markdown":"A certified android device has google play services which has system permissions granted by the device vendor to record location without a foreground service. Google only does that if you enable the location history. So google maps doesn&#39;t do any tracking, it simply ask google&#39;s servers for your history. You can see the same result on google maps on the web when logged in.","body":"A certified android device has google play services which has system permissions granted by the device vendor to record location without a foreground service. Google only does that if you enable the location history. So google maps doesn&#39;t do any tracking, it simply ask google&#39;s servers for your history. You can see the same result on google maps on the web when logged in."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698574772,"post_id":77375723,"comment_id":136420644,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29768872,"reputation":1,"user_id":22814644,"display_name":"j_ol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698423741,"creation_date":1698423741,"question_id":77375723,"body_markdown":"Im building an app that tracks your location.\r\n\r\n\r\n\r\nIm currently using a foreground service that logs the location on a database, this means that while my service is running a notification is showing to let the user know that their location is being logged, even when the app is closed.\r\nIve checked many apps that do something similar and they all work like that, except for google maps, on the &quot;history&quot; page it tells you the route you took even if you didnt have the app open nor it shows a notification letting you know that the location is being tracked.\r\n\r\nDoes anyone know how google achieve that? ","title":"How does google maps keep track of your location history?","body":"<p>Im building an app that tracks your location.</p>\n<p>Im currently using a foreground service that logs the location on a database, this means that while my service is running a notification is showing to let the user know that their location is being logged, even when the app is closed.\nIve checked many apps that do something similar and they all work like that, except for google maps, on the &quot;history&quot; page it tells you the route you took even if you didnt have the app open nor it shows a notification letting you know that the location is being tracked.</p>\n<p>Does anyone know how google achieve that?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5395612,"reputation":89,"user_id":4296932,"accept_rate":0,"display_name":"Lorenzo Notaro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417022890,"creation_date":1417022890,"answer_id":27155379,"question_id":27155195,"body_markdown":"For example, you can make a &quot;resources&quot; &lt;b&gt;source folder&lt;/b&gt;, put files in it, then use `Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;abc.txt&quot;);`  \r\nI always use this method.","title":"How getClassLoader().getResourceAsStream() works in java","body":"<p>For example, you can make a \"resources\" <b>source folder</b>, put files in it, then use <code>Thread.currentThread().getContextClassLoader().getResourceAsStream(\"abc.txt\");</code><br>\nI always use this method.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1698419177,"creation_date":1417023244,"answer_id":27155505,"question_id":27155195,"body_markdown":"&gt; I google how below code loads the resource\r\n&gt; Abc.class.getClassLoader().getResourceAsStream(&quot;abc.txt&quot;) and find\r\n&gt; that it searchs the resource in all jar file and zip file in class\r\n&gt; path.\r\n\r\nThat&#39;s correct when you work only with a single ClassLoader (most non-OSGi/ non-modular environments). Then, all content of all JARs can be seen as one big tree, where classes and resources of JARs, which occur prior in the class path, win over those of JARS, which occur further behind. \r\n\r\n&gt; But when i tried it I am not able to loads it but if i give package\r\n&gt; path then I am able to loads it can someone tell me how\r\n&gt; getResourceAsStream search the class path\r\n\r\n    Abc.class.getClassLoader().getResourceAsStream(&quot;abc.txt&quot;)\r\n\r\nsearches at root of the tree while:\r\n\r\n    Abc.class.getResourceAsStream(&quot;abc.txt&quot;)\r\n\r\nsearches relative to the package of Abc.\r\n\r\n    Abc.class.getResourceAsStream(&quot;/abc.txt&quot;)\r\n\r\nsearches at the root of the tree again.\r\n\r\nAll these methods will only search in the specified directory (or the root directory) and won&#39;t traverse and search the whole tree.\r\n\r\nPersonally, I almost always use the latter two versions (`Class.getResourceAsStream`) and rarely use the `ClassLoader.getResourceAsStream` method directly.\r\n","title":"How getClassLoader().getResourceAsStream() works in java","body":"<blockquote>\n<p>I google how below code loads the resource\nAbc.class.getClassLoader().getResourceAsStream(&quot;abc.txt&quot;) and find\nthat it searchs the resource in all jar file and zip file in class\npath.</p>\n</blockquote>\n<p>That's correct when you work only with a single ClassLoader (most non-OSGi/ non-modular environments). Then, all content of all JARs can be seen as one big tree, where classes and resources of JARs, which occur prior in the class path, win over those of JARS, which occur further behind.</p>\n<blockquote>\n<p>But when i tried it I am not able to loads it but if i give package\npath then I am able to loads it can someone tell me how\ngetResourceAsStream search the class path</p>\n</blockquote>\n<pre><code>Abc.class.getClassLoader().getResourceAsStream(&quot;abc.txt&quot;)\n</code></pre>\n<p>searches at root of the tree while:</p>\n<pre><code>Abc.class.getResourceAsStream(&quot;abc.txt&quot;)\n</code></pre>\n<p>searches relative to the package of Abc.</p>\n<pre><code>Abc.class.getResourceAsStream(&quot;/abc.txt&quot;)\n</code></pre>\n<p>searches at the root of the tree again.</p>\n<p>All these methods will only search in the specified directory (or the root directory) and won't traverse and search the whole tree.</p>\n<p>Personally, I almost always use the latter two versions (<code>Class.getResourceAsStream</code>) and rarely use the <code>ClassLoader.getResourceAsStream</code> method directly.</p>\n"},{"tags":[],"owner":{"account_id":18757913,"reputation":31,"user_id":13677476,"display_name":"Karthi C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591250595,"creation_date":1591248991,"answer_id":62187522,"question_id":27155195,"body_markdown":"I used this:\r\n```                                                                  \r\nInputStream file = YOURCLASSNAME.class.getClassLoader().getResourceAsStream(&quot;app.properties&quot;);\r\n```\r\nIf I am using this, it doesn&#39;t show *file not found* and read the exact file with our any path, but you should put your *app.properties* file into main/resources inside in the project package folder.\r\n","title":"How getClassLoader().getResourceAsStream() works in java","body":"<p>I used this:</p>\n\n<pre><code>InputStream file = YOURCLASSNAME.class.getClassLoader().getResourceAsStream(\"app.properties\");\n</code></pre>\n\n<p>If I am using this, it doesn't show <em>file not found</em> and read the exact file with our any path, but you should put your <em>app.properties</em> file into main/resources inside in the project package folder.</p>\n"}],"owner":{"account_id":5223851,"reputation":133,"user_id":4176431,"accept_rate":25,"display_name":"yoga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36663,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":27155505,"answer_count":3,"score":10,"last_activity_date":1698423513,"creation_date":1417022288,"question_id":27155195,"body_markdown":"I google how below code loads the resource \r\n    Abc.class.getClassLoader().getResourceAsStream(&quot;abc.txt&quot;)   \r\nand find that it searchs the resource in all jar file and zip file in class path.\r\n\r\nBut when i tried it I am not able to loads it but if i give package path then I am able to loads it\r\ncan someone tell me how getResourceAsStream search the class path\r\n\r\nThanks\r\n\r\none scenario is :-\r\nMy below code is a simple program and my resource file abc.txt is inside com.abc package. when i specify path of package it worked and when i did not it does not work.\r\n\r\n    package com.abc;\r\n    \r\n    public class ResourceExp {\r\n    \t\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tnew ResourceExp().getResource();\r\n    \t}\r\n    \t\r\n    \tpublic void getResource()\r\n    \t{\r\n    \t\tString name = &quot;abc.txt&quot;;\r\n    \t\t// worked\r\n    \t\tSystem.out.println(ResourceExp.class.getClassLoader().getResourceAsStream(&quot;com/abc/&quot;+name));\r\n    \t\t//not workded\r\n    \t\t//System.out.println(ResourceExp.class.getClassLoader().getResourceAsStream(name));\r\n    \t\t\r\n    \t}\r\n    \r\n    }    \r\n\r\nif getResourceAsStream looks the resource in all jar file and directory then why i have to specify the package path \r\n\r\n\r\n  ","title":"How getClassLoader().getResourceAsStream() works in java","body":"<p>I google how below code loads the resource \n    Abc.class.getClassLoader().getResourceAsStream(\"abc.txt\")<br>\nand find that it searchs the resource in all jar file and zip file in class path.</p>\n\n<p>But when i tried it I am not able to loads it but if i give package path then I am able to loads it\ncan someone tell me how getResourceAsStream search the class path</p>\n\n<p>Thanks</p>\n\n<p>one scenario is :-\nMy below code is a simple program and my resource file abc.txt is inside com.abc package. when i specify path of package it worked and when i did not it does not work.</p>\n\n<pre><code>package com.abc;\n\npublic class ResourceExp {\n\n    public static void main(String args[])\n    {\n        new ResourceExp().getResource();\n    }\n\n    public void getResource()\n    {\n        String name = \"abc.txt\";\n        // worked\n        System.out.println(ResourceExp.class.getClassLoader().getResourceAsStream(\"com/abc/\"+name));\n        //not workded\n        //System.out.println(ResourceExp.class.getClassLoader().getResourceAsStream(name));\n\n    }\n\n}    \n</code></pre>\n\n<p>if getResourceAsStream looks the resource in all jar file and directory then why i have to specify the package path </p>\n"},{"tags":["java","android","rfid"],"owner":{"account_id":10666004,"reputation":1,"user_id":7852585,"display_name":"Palak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698422667,"creation_date":1698339134,"question_id":77368969,"body_markdown":"I am trying to achieve communication with Android Application to CAEN RFID reader, referencing to all the manuals, I am able to set the connection, but after connection is made I am unable to make communication with the reader. All of the commands like getting reader info, getEventMode, call to InventoryTag gives same communication error\r\n\r\n```\r\npublic void makeConnection(UsbDevice device){\r\n    myReader = new CAENRFIDReader();\r\n    \r\n    try {\r\n        myReader.Connect((VCPSerialPort) (VCPSerialPort.findVCPDevice(this)).get(0));\r\n        startReading();\r\n    } catch (CAENRFIDException e) {\r\n        if(e.getMessage().equals(&quot;Already Connected&quot;)){\r\n            startReading();\r\n        } else {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\npublic void startReading(){\r\n    try {\r\n        mySource = myReader.GetSource(&quot;Source_0&quot;);\r\n        \r\n        mySource.SetQ_EPC_C1G2(3);\r\n        CAENRFIDTag[] MyTags = mySource.InventoryTag();\r\n        if (MyTags.length &gt; 0) {\r\n            for (int i = 0; i &lt; MyTags.length; i++) {\r\n                String s = new String(MyTags[i].GetId(), StandardCharsets.US_ASCII);\r\n                Toast.makeText(this,&quot;ID: &quot; + s,Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n        //Toast.makeText(this,my[enter image description here](https://i.stack.imgur.com/JdLe1.png)Reader.GetEventMode().toString(),Toast.LENGTH_LONG).show();\r\n        //Log.d(&quot;eventMode&quot;,myReader.GetEventMode().toString());\r\n        //myReader.GetEventMode();\r\n        //readerInfo = myReader.GetReaderInfo();\r\n    } catch (CAENRFIDException e) {\r\n        Log.d(&quot;error&quot;,e.toString());\r\n    }\r\n}\r\n```","title":"CAEN Reader R1270C Quarkup Communication Error","body":"<p>I am trying to achieve communication with Android Application to CAEN RFID reader, referencing to all the manuals, I am able to set the connection, but after connection is made I am unable to make communication with the reader. All of the commands like getting reader info, getEventMode, call to InventoryTag gives same communication error</p>\n<pre><code>public void makeConnection(UsbDevice device){\n    myReader = new CAENRFIDReader();\n    \n    try {\n        myReader.Connect((VCPSerialPort) (VCPSerialPort.findVCPDevice(this)).get(0));\n        startReading();\n    } catch (CAENRFIDException e) {\n        if(e.getMessage().equals(&quot;Already Connected&quot;)){\n            startReading();\n        } else {\n            throw new RuntimeException(e);\n        }\n    }\n    \n}\n\npublic void startReading(){\n    try {\n        mySource = myReader.GetSource(&quot;Source_0&quot;);\n        \n        mySource.SetQ_EPC_C1G2(3);\n        CAENRFIDTag[] MyTags = mySource.InventoryTag();\n        if (MyTags.length &gt; 0) {\n            for (int i = 0; i &lt; MyTags.length; i++) {\n                String s = new String(MyTags[i].GetId(), StandardCharsets.US_ASCII);\n                Toast.makeText(this,&quot;ID: &quot; + s,Toast.LENGTH_SHORT).show();\n            }\n        }\n        //Toast.makeText(this,my[enter image description here](https://i.stack.imgur.com/JdLe1.png)Reader.GetEventMode().toString(),Toast.LENGTH_LONG).show();\n        //Log.d(&quot;eventMode&quot;,myReader.GetEventMode().toString());\n        //myReader.GetEventMode();\n        //readerInfo = myReader.GetReaderInfo();\n    } catch (CAENRFIDException e) {\n        Log.d(&quot;error&quot;,e.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","mysql","jdbc"],"comments":[{"owner":{"account_id":39846,"reputation":991123,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1698335705,"post_id":77368552,"comment_id":136395368,"body_markdown":"Please [reconsider your use of JDBC directly in an Android app](https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android?r=Saves_AllUserSaves).","body":"Please <a href=\"https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android?r=Saves_AllUserSaves\">reconsider your use of JDBC directly in an Android app</a>."},{"owner":{"account_id":16034800,"reputation":1,"user_id":11572794,"display_name":"Ayush Sharma"},"score":0,"creation_date":1698336309,"post_id":77368552,"comment_id":136395510,"body_markdown":"YEs, but I&#39;m learning Android and for learning only I&#39;m trying to connect with JDBC but getting this CommunicationsException","body":"YEs, but I&#39;m learning Android and for learning only I&#39;m trying to connect with JDBC but getting this CommunicationsException"},{"owner":{"account_id":39846,"reputation":991123,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1698336692,"post_id":77368552,"comment_id":136395590,"body_markdown":"&quot;I&#39;m learning Android&quot; -- have you considered learning Android using approaches that are perhaps more appropriate for Android?","body":"&quot;I&#39;m learning Android&quot; -- have you considered learning Android using approaches that are perhaps more appropriate for Android?"},{"owner":{"account_id":16034800,"reputation":1,"user_id":11572794,"display_name":"Ayush Sharma"},"score":0,"creation_date":1698336970,"post_id":77368552,"comment_id":136395642,"body_markdown":"Thanks for your response sir, I&#39;m learning other approaches as well but this just makes me curious as I have tried a bunch of things but still this is not working, so just looking for a solution.","body":"Thanks for your response sir, I&#39;m learning other approaches as well but this just makes me curious as I have tried a bunch of things but still this is not working, so just looking for a solution."},{"owner":{"account_id":1225662,"reputation":12141,"user_id":1191247,"accept_rate":75,"display_name":"user1191247"},"score":1,"creation_date":1698344964,"post_id":77368552,"comment_id":136397099,"body_markdown":"I notice you are trying to use the local loopback address to connect to MySQL. Where is your Android code running  and where is your MySQL server? If you are trying to connect to MySQL on host PC from emulator you can use [`10.0.2.2`](https://developer.android.com/studio/run/emulator-networking).","body":"I notice you are trying to use the local loopback address to connect to MySQL. Where is your Android code running  and where is your MySQL server? If you are trying to connect to MySQL on host PC from emulator you can use <a href=\"https://developer.android.com/studio/run/emulator-networking\" rel=\"nofollow noreferrer\"><code>10.0.2.2</code></a>."},{"owner":{"account_id":213468,"reputation":103463,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698422683,"post_id":77368552,"comment_id":136408215,"body_markdown":"Your MySQL server is **not** running on your Android mobile (or emulator), so using 127.0.0.1 is not the correct host.","body":"Your MySQL server is <b>not</b> running on your Android mobile (or emulator), so using 127.0.0.1 is not the correct host."}],"owner":{"account_id":16034800,"reputation":1,"user_id":11572794,"display_name":"Ayush Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698503044,"answer_count":0,"score":0,"last_activity_date":1698422619,"creation_date":1698335548,"question_id":77368552,"body_markdown":"I&#39;m trying to connect an Android app with a MySQL database using JDBC. I&#39;m getting a Communication Link failure exception. I have added the MySQL JDBC connector jar file as a library and the MySQL server is on.\r\n\r\n```java\r\npackage com.example.androidmysqlconnectionjdbc;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button btn_login, btn_register;\r\n    EditText et_username, et_password;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btn_login = findViewById(R.id.btn_login);\r\n        btn_register = findViewById(R.id.btn_register);\r\n        et_password = findViewById(R.id.et_password);\r\n        et_username = findViewById(R.id.et_username);\r\n        btn_login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                new RetrieveDataFromServer().execute();\r\n            }\r\n        });\r\n    }\r\n\r\n    private class RetrieveDataFromServer extends AsyncTask&lt;Void, Void, Boolean&gt; {\r\n        String url = &quot;jdbc:mysql://127.0.0.1:3306/testing?useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\r\n        String username = &quot;XXX&quot;;\r\n        String password = &quot;XXX&quot;;\r\n        Connection connection;\r\n//implementation files(&#39;libs/mysql-connector-java-5.1.7-bin.jar&#39;)\r\n\r\n        @Override\r\n        protected Boolean doInBackground(Void... voids) {\r\n            try {\r\n                connection = DriverManager.getConnection(url, username, password);\r\n                return true;\r\n            } catch (Exception e) {\r\n                Log.e(&quot;Exception is&quot;, e.toString());\r\n            }\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Boolean isConnected) {\r\n\r\n            if (isConnected) {\r\n                Log.d(&quot;ConnectionStatus&quot;, &quot;Connection successful&quot;);\r\n                // You can perform database operations here\r\n            } else {\r\n                Log.e(&quot;ConnectionStatus&quot;, &quot;Connection failed&quot;);\r\n                // Display an error message to the user\r\n                Toast.makeText(MainActivity.this, &quot;Connection to the database failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe Exception I&#39;m getting \r\n\r\n\r\n2023-10-26 19:33:54.205 10198-10198 ConnectionStatus        com...le.androidmysqlconnectionjdbc  E  Connection failed\r\n2023-10-26 19:37:57.741 10198-10241 Exception is            com...le.androidmysqlconnectionjdbc  E  com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\nLast packet sent to the server was 0 ms ago\r\n","title":"Getting Exception &#39;com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure&#39;","body":"<p>I'm trying to connect an Android app with a MySQL database using JDBC. I'm getting a Communication Link failure exception. I have added the MySQL JDBC connector jar file as a library and the MySQL server is on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.androidmysqlconnectionjdbc;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class MainActivity extends AppCompatActivity {\n    Button btn_login, btn_register;\n    EditText et_username, et_password;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btn_login = findViewById(R.id.btn_login);\n        btn_register = findViewById(R.id.btn_register);\n        et_password = findViewById(R.id.et_password);\n        et_username = findViewById(R.id.et_username);\n        btn_login.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                new RetrieveDataFromServer().execute();\n            }\n        });\n    }\n\n    private class RetrieveDataFromServer extends AsyncTask&lt;Void, Void, Boolean&gt; {\n        String url = &quot;jdbc:mysql://127.0.0.1:3306/testing?useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\n        String username = &quot;XXX&quot;;\n        String password = &quot;XXX&quot;;\n        Connection connection;\n//implementation files('libs/mysql-connector-java-5.1.7-bin.jar')\n\n        @Override\n        protected Boolean doInBackground(Void... voids) {\n            try {\n                connection = DriverManager.getConnection(url, username, password);\n                return true;\n            } catch (Exception e) {\n                Log.e(&quot;Exception is&quot;, e.toString());\n            }\n            return false;\n        }\n\n        @Override\n        protected void onPostExecute(Boolean isConnected) {\n\n            if (isConnected) {\n                Log.d(&quot;ConnectionStatus&quot;, &quot;Connection successful&quot;);\n                // You can perform database operations here\n            } else {\n                Log.e(&quot;ConnectionStatus&quot;, &quot;Connection failed&quot;);\n                // Display an error message to the user\n                Toast.makeText(MainActivity.this, &quot;Connection to the database failed&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>The Exception I'm getting</p>\n<p>2023-10-26 19:33:54.205 10198-10198 ConnectionStatus        com...le.androidmysqlconnectionjdbc  E  Connection failed\n2023-10-26 19:37:57.741 10198-10241 Exception is            com...le.androidmysqlconnectionjdbc  E  com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\nLast packet sent to the server was 0 ms ago</p>\n"},{"tags":["java","csv","annotations","javabeans","opencsv"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1472097230,"post_id":39136431,"comment_id":65617690,"body_markdown":"Failing as in, an exception? Or failing as in not working as expected.","body":"Failing as in, an exception? Or failing as in not working as expected."},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1472100329,"post_id":39136431,"comment_id":65618394,"body_markdown":"have you ignored the header? it seems error on line 1 i.e. header","body":"have you ignored the header? it seems error on line 1 i.e. header"},{"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"score":0,"creation_date":1472123304,"post_id":39136431,"comment_id":65631281,"body_markdown":"Thank you for your suggestion.  When I skip line one, the mapper cannot find the bean field based upon column.  What happens is the JavaBean is created but none of the fields are populated.","body":"Thank you for your suggestion.  When I skip line one, the mapper cannot find the bean field based upon column.  What happens is the JavaBean is created but none of the fields are populated."},{"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"score":0,"creation_date":1472214584,"post_id":39136431,"comment_id":65674937,"body_markdown":"Okay, I have walked through the code several times.  What I have discovered is the AbstractConverter class is not handling the &quot;&quot; String properly when it attempts to convert to a java.util.Date.  The useDefault variable is set to false.  The defaultValue equals null.  The handleMissing method is throwing a ConversionException.","body":"Okay, I have walked through the code several times.  What I have discovered is the AbstractConverter class is not handling the &quot;&quot; String properly when it attempts to convert to a java.util.Date.  The useDefault variable is set to false.  The defaultValue equals null.  The handleMissing method is throwing a ConversionException."}],"answers":[{"tags":[],"owner":{"account_id":4836940,"reputation":985,"user_id":3903279,"display_name":"Scott Conway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472409045,"creation_date":1472409045,"answer_id":39194509,"question_id":39136431,"body_markdown":"We identified the issue you are seeing as an issue in the opencsv code.  A contributor is in the process of rewriting the date handling code the 3.9 release so we will make sure that the code fixes your issue.  \r\n\r\nWe have not set a date for the 3.9 release so if you need something immediately and you have or can build the code yourself go to the BeanFieldDate class and in the convert method and replace:\r\n\r\n        if (required &amp;&amp; StringUtils.isEmpty(value)) {\r\n            throw new CsvRequiredFieldEmptyException();\r\n        }\r\n\r\nwith something like\r\n\r\n        if (required &amp;&amp; StringUtils.isEmpty(value)) {\r\n            if (required) {\r\n                throw new CsvRequiredFieldEmptyException();\r\n            } else {\r\n                return null;   // or maybe empty string\r\n            }\r\n        }\r\n\r\nand see if that would help.","title":"OpenCSV not mapping JavaBeans with annotations","body":"<p>We identified the issue you are seeing as an issue in the opencsv code.  A contributor is in the process of rewriting the date handling code the 3.9 release so we will make sure that the code fixes your issue.  </p>\n\n<p>We have not set a date for the 3.9 release so if you need something immediately and you have or can build the code yourself go to the BeanFieldDate class and in the convert method and replace:</p>\n\n<pre><code>    if (required &amp;&amp; StringUtils.isEmpty(value)) {\n        throw new CsvRequiredFieldEmptyException();\n    }\n</code></pre>\n\n<p>with something like</p>\n\n<pre><code>    if (required &amp;&amp; StringUtils.isEmpty(value)) {\n        if (required) {\n            throw new CsvRequiredFieldEmptyException();\n        } else {\n            return null;   // or maybe empty string\n        }\n    }\n</code></pre>\n\n<p>and see if that would help.</p>\n"}],"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698422575,"creation_date":1472097163,"question_id":39136431,"body_markdown":"I am using version 3.8 of OpenCSV library.  I am using annotation to map the bean fields to the columns in the CSV file.  I have it working to a point.  It is failing when a date field is blank.  \r\n\r\n\r\n    java.lang.RuntimeException: Error parsing CSV line: 1 \r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\n     **Caused by: com.opencsv.exceptions.CsvDataTypeMismatchException**\r\n\tat com.opencsv.bean.BeanFieldDate.convertLocaleInspecific(BeanFieldDate.java:216)\r\n\tat com.opencsv.bean.BeanFieldDate.convert(BeanFieldDate.java:242)\r\n\tat com.opencsv.bean.AbstractBeanField.setFieldValue(AbstractBeanField.java:70)\r\n\tat com.opencsv.bean.CsvToBean.processField(CsvToBean.java:245)\r\n\tat com.opencsv.bean.CsvToBean.processLine(CsvToBean.java:220)\r\n\tat com.opencsv.bean.CsvToBean.processLine(CsvToBean.java:189)\r\n\tat com.opencsv.bean.CsvToBean.parse(CsvToBean.java:166)\r\n\t... 26 more\r\n    **Caused by: org.apache.commons.beanutils.ConversionException: No value specified for &#39;Date&#39;\r\n\tat** org.apache.commons.beanutils.converters.AbstractConverter.handleMissing(AbstractConverter.java:327)\r\n\tat org.apache.commons.beanutils.converters.DateTimeConverter.convertToType(DateTimeConverter.java:327)\r\n\tat org.apache.commons.beanutils.converters.AbstractConverter.convert(AbstractConverter.java:169)\r\n\tat com.opencsv.bean.BeanFieldDate.convertLocaleInspecific(BeanFieldDate.java:214)\r\n\t... 32 more\r\n\r\n\r\n\r\nThe annotation for the specific bean field as &quot;required=false&quot; but it still does not work. Here is the JavaBean annotation where I am using the Java.Util.Date class:\r\n\r\n    @CsvBindByName(column=&quot;Sent On&quot;, required=true)\r\n\t@CsvDate(value=&quot;MM/dd/yyyy HH:mm:ss a z&quot;)\r\n\tprivate Date sentOn;\r\n\r\n    @CsvBindByName(column=&quot;Last Activity&quot;, required=false)\r\n    @CsvDate(value=&quot;MM/dd/yyyy HH:mm:ss a z&quot;)\r\n    private Date lastActivity;\r\n\r\n    @CsvBindByName(column=&quot;Completed On&quot;, required=false)\r\n    @CsvDate(value=&quot;MM/dd/yyyy HH:mm:ss a z&quot;)\r\n    private Date completedOn; \r\n\r\n\r\nThis is how I have created the CSV reader and parser:\r\n\r\n        final char QUOTE_CHARACTER = &#39;&quot;&#39;;\r\n\t\tClassLoader classLoader = getClass().getClassLoader();\r\n\t\tFile newFile = new File(classLoader.getResource(fileName).getFile());\r\n\t\tCSVReader reader2 = null;\r\n\t\t\r\n\t\tFileReader fileReader2 = null;\r\n\t\t\r\n\t\tList&lt;My_Data&gt; myList = null;\r\n\t\t\r\n\t\t try {\r\n\t\r\n\t\t\tHeaderColumnNameMappingStrategy&lt;My_Data&gt; strat = new HeaderColumnNameMappingStrategy&lt;My_Data&gt;();\r\n\t\t\tstrat.setType(My_Data.class);\r\n\r\n\t\t\tCsvToBean&lt;My_Data&gt; csv = new CsvToBean&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfinal CSVParser csvParser = new CSVParserBuilder().withSeparator(delimiter)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      .withQuoteChar(QUOTE_CHARACTER)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      .withStrictQuotes(true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      .build();\r\n\t\t\t\r\n\t\t\tfileReader2 = new FileReader(newFile);\r\n\t\t\t\r\n\t\t\treader2 = new CSVReaderBuilder(fileReader2).withCSVParser(csvParser)\r\n\t\t\t\t\t                                   .withVerifyReader(true)\r\n\t\t\t\t\t                                   .withKeepCarriageReturn(false)\r\n\t\t\t\t\t                                   .build();\r\n\t\r\n\r\n\t\t\t myList = csv.parse(strat, reader2);\r\n\r\nHere is CSV file data:\r\n\r\n    &quot;Subject&quot;,&quot;Status&quot;,&quot;Sender Name&quot;,&quot;Recipient&quot;,&quot;Sent On&quot;,&quot;Last Activity&quot;,&quot;Completed On&quot;,&quot;Completion Time (DD:HH:MM)&quot;,&quot;Created Date&quot;,&quot;Declined Date&quot;,&quot;Document ID&quot;,&quot;Reason for Declining&quot;,&quot;Expiration Date&quot;,&quot;Date Signed&quot;\r\n    &quot;MyCompany: Plan RCP Endorsements Select Bundle&quot;,&quot;Sent&quot;,&quot;ENV_PROD&quot;,&quot;SANDRA BULLOCK&quot;,&quot;7/21/2016 10:49:38 AM EST&quot;,&quot;7/21/2016 10:49:38 AM EST&quot;,&quot;&quot;,&quot;&quot;,&quot;7/21/2016 10:49:37 AM EST&quot;,&quot;&quot;,&quot;e05e53d8-e8bd-469e-a774-c0dec98481b2&quot;,&quot;&quot;,&quot;9/4/2016 10:49:38 AM EST&quot;,&quot;&quot;\r\n\r\nHow I discovered this fault is walking through the source code.  I am hoping others have face a similar issue and can give me a suggestion on how to get around this issue.  I like this mapping approach as it saves me time and effort. The process is working by just reading the file into a List&lt;String[]&gt;.  The problem with this approach is I would have to write the factory process for the JavaBeans. \r\n\r\nSuggestions are welcomed. \r\n\r\nThanks,\r\n\r\nRuss\r\n","title":"OpenCSV not mapping JavaBeans with annotations","body":"<p>I am using version 3.8 of OpenCSV library.  I am using annotation to map the bean fields to the columns in the CSV file.  I have it working to a point.  It is failing when a date field is blank.  </p>\n\n<pre><code>java.lang.RuntimeException: Error parsing CSV line: 1 \nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n\n **Caused by: com.opencsv.exceptions.CsvDataTypeMismatchException**\nat com.opencsv.bean.BeanFieldDate.convertLocaleInspecific(BeanFieldDate.java:216)\nat com.opencsv.bean.BeanFieldDate.convert(BeanFieldDate.java:242)\nat com.opencsv.bean.AbstractBeanField.setFieldValue(AbstractBeanField.java:70)\nat com.opencsv.bean.CsvToBean.processField(CsvToBean.java:245)\nat com.opencsv.bean.CsvToBean.processLine(CsvToBean.java:220)\nat com.opencsv.bean.CsvToBean.processLine(CsvToBean.java:189)\nat com.opencsv.bean.CsvToBean.parse(CsvToBean.java:166)\n... 26 more\n**Caused by: org.apache.commons.beanutils.ConversionException: No value specified for 'Date'\nat** org.apache.commons.beanutils.converters.AbstractConverter.handleMissing(AbstractConverter.java:327)\nat org.apache.commons.beanutils.converters.DateTimeConverter.convertToType(DateTimeConverter.java:327)\nat org.apache.commons.beanutils.converters.AbstractConverter.convert(AbstractConverter.java:169)\nat com.opencsv.bean.BeanFieldDate.convertLocaleInspecific(BeanFieldDate.java:214)\n... 32 more\n</code></pre>\n\n<p>The annotation for the specific bean field as \"required=false\" but it still does not work. Here is the JavaBean annotation where I am using the Java.Util.Date class:</p>\n\n<pre><code>@CsvBindByName(column=\"Sent On\", required=true)\n@CsvDate(value=\"MM/dd/yyyy HH:mm:ss a z\")\nprivate Date sentOn;\n\n@CsvBindByName(column=\"Last Activity\", required=false)\n@CsvDate(value=\"MM/dd/yyyy HH:mm:ss a z\")\nprivate Date lastActivity;\n\n@CsvBindByName(column=\"Completed On\", required=false)\n@CsvDate(value=\"MM/dd/yyyy HH:mm:ss a z\")\nprivate Date completedOn; \n</code></pre>\n\n<p>This is how I have created the CSV reader and parser:</p>\n\n<pre><code>    final char QUOTE_CHARACTER = '\"';\n    ClassLoader classLoader = getClass().getClassLoader();\n    File newFile = new File(classLoader.getResource(fileName).getFile());\n    CSVReader reader2 = null;\n\n    FileReader fileReader2 = null;\n\n    List&lt;My_Data&gt; myList = null;\n\n     try {\n\n        HeaderColumnNameMappingStrategy&lt;My_Data&gt; strat = new HeaderColumnNameMappingStrategy&lt;My_Data&gt;();\n        strat.setType(My_Data.class);\n\n        CsvToBean&lt;My_Data&gt; csv = new CsvToBean&lt;&gt;();\n\n        final CSVParser csvParser = new CSVParserBuilder().withSeparator(delimiter)\n                                                          .withQuoteChar(QUOTE_CHARACTER)\n                                                          .withStrictQuotes(true)\n                                                          .build();\n\n        fileReader2 = new FileReader(newFile);\n\n        reader2 = new CSVReaderBuilder(fileReader2).withCSVParser(csvParser)\n                                                   .withVerifyReader(true)\n                                                   .withKeepCarriageReturn(false)\n                                                   .build();\n\n\n         myList = csv.parse(strat, reader2);\n</code></pre>\n\n<p>Here is CSV file data:</p>\n\n<pre><code>\"Subject\",\"Status\",\"Sender Name\",\"Recipient\",\"Sent On\",\"Last Activity\",\"Completed On\",\"Completion Time (DD:HH:MM)\",\"Created Date\",\"Declined Date\",\"Document ID\",\"Reason for Declining\",\"Expiration Date\",\"Date Signed\"\n\"MyCompany: Plan RCP Endorsements Select Bundle\",\"Sent\",\"ENV_PROD\",\"SANDRA BULLOCK\",\"7/21/2016 10:49:38 AM EST\",\"7/21/2016 10:49:38 AM EST\",\"\",\"\",\"7/21/2016 10:49:37 AM EST\",\"\",\"e05e53d8-e8bd-469e-a774-c0dec98481b2\",\"\",\"9/4/2016 10:49:38 AM EST\",\"\"\n</code></pre>\n\n<p>How I discovered this fault is walking through the source code.  I am hoping others have face a similar issue and can give me a suggestion on how to get around this issue.  I like this mapping approach as it saves me time and effort. The process is working by just reading the file into a List.  The problem with this approach is I would have to write the factory process for the JavaBeans. </p>\n\n<p>Suggestions are welcomed. </p>\n\n<p>Thanks,</p>\n\n<p>Russ</p>\n"},{"tags":["java","apache-camel","aes","quarkus","urlencode"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1700652670,"post_id":77375537,"comment_id":136680349,"body_markdown":"Take a look at RAW\nhttps://camel.apache.org/manual/faq/how-do-i-configure-endpoints.html#HowdoIconfigureendpoints-Configuringparametervaluesusingrawvalues","body":"Take a look at RAW <a href=\"https://camel.apache.org/manual/faq/how-do-i-configure-endpoints.html#HowdoIconfigureendpoints-Configuringparametervaluesusingrawvalues\" rel=\"nofollow noreferrer\">camel.apache.org/manual/faq/&hellip;</a>"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698422137,"creation_date":1698422137,"question_id":77375537,"body_markdown":"\r\nGood afternoon, I am currently working with Apache Camel in Quarkus and I am working with an API that has the following url structure:\r\n\r\n    https://ip:port/userProfile/v3/users/{user_id}\r\n\r\nThe **user_id** is a value that must be encrypted, in this case AES encryption was used, which uses special characters, example of AES encryption:\r\n\r\n    RIF-J756621232 --&gt; WKqxB/qNPQUz6wRbHZrpBQ==\r\n\r\nExample above when encrypting the value RIF-J756621232, the encryption described above is obtained, the issue is that when passing this encrypted value in the mentioned url I get an error due to the special characters that are sent, when sending in the URL:\r\n\r\n\r\n    https://ip:port/userProfile/v3/users/WKqxB/qNPQUz6wRbHZrpBQ==  --&gt; Not Working&#39;\r\n\r\nSo what I did was apply a url encoding, leaving the url to send as follows:\r\n\r\n    https://ip:port/userProfile/v3/users/WKqxB%2FqNPQUz6wRbHZrpBQ%3D%3D --&gt; Working&#39;\r\nThe problem that happens is the following, this userId value is sent by a client that obtains it from a system unknown to me, in turn this unknown system receives it from another service called **NewUserId**, this **NewUserId** should send the value of the **user_id** encrypted with AES and in turn with url encoding, the main idea of ‚Äã‚Äãall this is that the client does not have to apply the encoding so that it can pass through the url, it is a transparent step for it, what is happening is that upon receiving the value in my **UserProfile** service (the one with the URL), the user_id value is automatically decoded using URL decoding and the value is returned in AES encryption, which I wouldn&#39;t like, I would like the received value to persist with the AES encryption and URL encoding to be synchronized with the external client, the main idea is to keep the value **WKqxB%2FqNPQUz6wRbHZrpBQ%3D%3D**, however, I am seeing that Apache Camel is decoding the url value defautl, it is possible to change this configuration?\r\n\r\n","title":"How to keep a value encoded using URL encoding when receiving it in Apache Camel","body":"<p>Good afternoon, I am currently working with Apache Camel in Quarkus and I am working with an API that has the following url structure:</p>\n<pre><code>https://ip:port/userProfile/v3/users/{user_id}\n</code></pre>\n<p>The <strong>user_id</strong> is a value that must be encrypted, in this case AES encryption was used, which uses special characters, example of AES encryption:</p>\n<pre><code>RIF-J756621232 --&gt; WKqxB/qNPQUz6wRbHZrpBQ==\n</code></pre>\n<p>Example above when encrypting the value RIF-J756621232, the encryption described above is obtained, the issue is that when passing this encrypted value in the mentioned url I get an error due to the special characters that are sent, when sending in the URL:</p>\n<pre><code>https://ip:port/userProfile/v3/users/WKqxB/qNPQUz6wRbHZrpBQ==  --&gt; Not Working'\n</code></pre>\n<p>So what I did was apply a url encoding, leaving the url to send as follows:</p>\n<pre><code>https://ip:port/userProfile/v3/users/WKqxB%2FqNPQUz6wRbHZrpBQ%3D%3D --&gt; Working'\n</code></pre>\n<p>The problem that happens is the following, this userId value is sent by a client that obtains it from a system unknown to me, in turn this unknown system receives it from another service called <strong>NewUserId</strong>, this <strong>NewUserId</strong> should send the value of the <strong>user_id</strong> encrypted with AES and in turn with url encoding, the main idea of ‚Äã‚Äãall this is that the client does not have to apply the encoding so that it can pass through the url, it is a transparent step for it, what is happening is that upon receiving the value in my <strong>UserProfile</strong> service (the one with the URL), the user_id value is automatically decoded using URL decoding and the value is returned in AES encryption, which I wouldn't like, I would like the received value to persist with the AES encryption and URL encoding to be synchronized with the external client, the main idea is to keep the value <strong>WKqxB%2FqNPQUz6wRbHZrpBQ%3D%3D</strong>, however, I am seeing that Apache Camel is decoding the url value defautl, it is possible to change this configuration?</p>\n"},{"tags":["java","maven","memory"],"comments":[{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":0,"creation_date":1598625606,"post_id":63635895,"comment_id":112528998,"body_markdown":"I think your question is answered in great detail at https://stackoverflow.com/q/23701207/1523342.","body":"I think your question is answered in great detail at <a href=\"https://stackoverflow.com/q/23701207/1523342\">stackoverflow.com/q/23701207/1523342</a>."},{"owner":{"account_id":3598482,"reputation":178,"user_id":3002425,"display_name":"noNihongo"},"score":0,"creation_date":1598626318,"post_id":63635895,"comment_id":112529369,"body_markdown":"You know this `-Xmx102400m` mean `102GB`, because each `1m` it is equal to `1 MB`. Do you have `102 GB` of memory in your computer?","body":"You know this <code>-Xmx102400m</code> mean <code>102GB</code>, because each <code>1m</code> it is equal to <code>1 MB</code>. Do you have <code>102 GB</code> of memory in your computer?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1598630121,"post_id":63635895,"comment_id":112531281,"body_markdown":"Why don&#39;t you just build an executable jar and then run it with `java`?","body":"Why don&#39;t you just build an executable jar and then run it with <code>java</code>?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1598638122,"post_id":63635895,"comment_id":112534381,"body_markdown":"Really using such an extreme old version of maven-surefire-plugin?","body":"Really using such an extreme old version of maven-surefire-plugin?"}],"answers":[{"tags":[],"owner":{"account_id":9031021,"reputation":63,"user_id":6728618,"display_name":"Richard Marto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598625780,"creation_date":1598625780,"answer_id":63635999,"question_id":63635895,"body_markdown":"This argument should do the trick: `-Drun.jvmArguments=&quot;-Xmx512m -xms1024&quot;`","title":"Maven - increase memory for JVM","body":"<p>This argument should do the trick: <code>-Drun.jvmArguments=&quot;-Xmx512m -xms1024&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":12061826,"reputation":624,"user_id":8820559,"display_name":"Linden X. Quan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698421758,"creation_date":1698421758,"answer_id":77375492,"question_id":63635895,"body_markdown":"Since Maven 3.1 you can add jvm options to file `./.mvn/jvm.config`\r\nFor example:\r\n\r\n    -Xmx4G -Xms4G -Djava.awt.headless=true\r\n    --show-version\r\n\r\nFor all Maven versions you can do this\r\n\r\n    export MAVEN_OPTS=&quot;-Xmx4G -Xms4G&quot;","title":"Maven - increase memory for JVM","body":"<p>Since Maven 3.1 you can add jvm options to file <code>./.mvn/jvm.config</code>\nFor example:</p>\n<pre><code>-Xmx4G -Xms4G -Djava.awt.headless=true\n--show-version\n</code></pre>\n<p>For all Maven versions you can do this</p>\n<pre><code>export MAVEN_OPTS=&quot;-Xmx4G -Xms4G&quot;\n</code></pre>\n"}],"owner":{"account_id":7741543,"reputation":21,"user_id":5861086,"display_name":"wewep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4836,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698421758,"creation_date":1598625389,"question_id":63635895,"body_markdown":"I have tried multiple ways to increase the given memory for the JVM.  \r\nThe OS is: Ubuntu 18.04.03 LTS       \r\nTo start the program I use the *exec-maven-plugin*.\r\nI start it with following command: ```mvn clean compile exec:java```.   \r\n\r\nHowever I need more memory.    \r\nTo check the given memory for the jvm I use: ```Runtime.getRuntime().maxMemory()```. (Currently it&#39;s 32gb, 120gb are on the system)\r\n\r\nTo increase it I have tried multiple things. \r\n1) Using the surefire plugin:\r\n```\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;argLine&gt;-Xmx102400m&lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nSystem.out.println(Runtime.getRuntime().maxMemory()) still prints 32gb.\r\n\r\n2) ```set MAVEN_OPTS=&quot;-Xmx102400m&quot;```\r\n3) ```mvn clean install -DargLine=&quot;-Xmx102400m&quot;```   \r\n(To be honest I don&#39;t even have an idea why this should work.)\r\n\r\nI can&#39;t use intellij or eclipse to increase the jvm memory, since the program runs on a server.   \r\nI don&#39;t have any idea left and I can&#39;t find an other solution on the web.","title":"Maven - increase memory for JVM","body":"<p>I have tried multiple ways to increase the given memory for the JVM.<br />\nThe OS is: Ubuntu 18.04.03 LTS<br />\nTo start the program I use the <em>exec-maven-plugin</em>.\nI start it with following command: <code>mvn clean compile exec:java</code>.</p>\n<p>However I need more memory.<br />\nTo check the given memory for the jvm I use: <code>Runtime.getRuntime().maxMemory()</code>. (Currently it's 32gb, 120gb are on the system)</p>\n<p>To increase it I have tried multiple things.</p>\n<ol>\n<li>Using the surefire plugin:</li>\n</ol>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;argLine&gt;-Xmx102400m&lt;/argLine&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>System.out.println(Runtime.getRuntime().maxMemory()) still prints 32gb.</p>\n<ol start=\"2\">\n<li><code>set MAVEN_OPTS=&quot;-Xmx102400m&quot;</code></li>\n<li><code>mvn clean install -DargLine=&quot;-Xmx102400m&quot;</code><br />\n(To be honest I don't even have an idea why this should work.)</li>\n</ol>\n<p>I can't use intellij or eclipse to increase the jvm memory, since the program runs on a server.<br />\nI don't have any idea left and I can't find an other solution on the web.</p>\n"},{"tags":["java","scala","serialization","ipc"],"comments":[{"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"score":2,"creation_date":1698400402,"post_id":77373159,"comment_id":136403598,"body_markdown":"Why are you using process rather than threads?","body":"Why are you using process rather than threads?"},{"owner":{"account_id":7339964,"reputation":455,"user_id":5589918,"accept_rate":46,"display_name":"Da Mike"},"score":0,"creation_date":1698400762,"post_id":77373159,"comment_id":136403659,"body_markdown":"@Tim Because I want to have two `SparkContext`s and only one can exist per JVM. Two threads share the same jvm but two processes don&#39;t.","body":"@Tim Because I want to have two <code>SparkContext</code>s and only one can exist per JVM. Two threads share the same jvm but two processes don&#39;t."},{"owner":{"account_id":3982633,"reputation":124,"user_id":3284193,"display_name":"Bartek"},"score":1,"creation_date":1698492210,"post_id":77373159,"comment_id":136414436,"body_markdown":"In my opinion serialization will be needed anyway, it&#39;s essential thing in jvm languages.","body":"In my opinion serialization will be needed anyway, it&#39;s essential thing in jvm languages."}],"owner":{"account_id":7339964,"reputation":455,"user_id":5589918,"accept_rate":46,"display_name":"Da Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698421665,"creation_date":1698400083,"question_id":77373159,"body_markdown":"I want to have one-way communication from a Scala parent process that spawns two child processes and passes some data to them. Then the child processes just read the data and do not communicate back again. \r\n\r\nI looked into ways of serializing the data and writing it to temporary files for them to read, but it seems difficult because of its complex structure, circular dependencies and also they are in external libraries so its impossible to tweak the classes themselves or add type annotations that are used by some serialization libraries. \r\n\r\nWhat would be ideal is to have some kind of C fork type behavior that copies the memory space. But from what I read this isn&#39;t possible in Scala, right? \r\n\r\nAre there ways to achieve what I want to do without serializing the data? Any help would be appreciated.","title":"Scala: Ways of parent to child process communication","body":"<p>I want to have one-way communication from a Scala parent process that spawns two child processes and passes some data to them. Then the child processes just read the data and do not communicate back again.</p>\n<p>I looked into ways of serializing the data and writing it to temporary files for them to read, but it seems difficult because of its complex structure, circular dependencies and also they are in external libraries so its impossible to tweak the classes themselves or add type annotations that are used by some serialization libraries.</p>\n<p>What would be ideal is to have some kind of C fork type behavior that copies the memory space. But from what I read this isn't possible in Scala, right?</p>\n<p>Are there ways to achieve what I want to do without serializing the data? Any help would be appreciated.</p>\n"},{"tags":["java","maven","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698413604,"post_id":77374278,"comment_id":136406136,"body_markdown":"For SonarQube you don&#39;t need to create an aggregate report... SonarQube uses the `*.exec` files...","body":"For SonarQube you don&#39;t need to create an aggregate report... SonarQube uses the <code>*.exec</code> files..."},{"owner":{"account_id":6629323,"reputation":2067,"user_id":5118465,"accept_rate":75,"display_name":"Henning Luther"},"score":0,"creation_date":1698414182,"post_id":77374278,"comment_id":136406284,"body_markdown":"are you trying to do coverage on jars you have in the &quot;aggregate&quot; project?","body":"are you trying to do coverage on jars you have in the &quot;aggregate&quot; project?"},{"owner":{"account_id":22382268,"reputation":13,"user_id":16595669,"display_name":"HelloWorld888"},"score":0,"creation_date":1698414664,"post_id":77374278,"comment_id":136406433,"body_markdown":"@khmarbaise yes it was working like that with the *.exec file before but I don&#39;t see any coverage on sonaQube and I have a warning that reportPath is no longer supported and I need to use xmlReportPath with xml format. (But it&#39;s not clear when the change was done and it&#39;s officially stated on SonarQube)","body":"@khmarbaise yes it was working like that with the *.exec file before but I don&#39;t see any coverage on sonaQube and I have a warning that reportPath is no longer supported and I need to use xmlReportPath with xml format. (But it&#39;s not clear when the change was done and it&#39;s officially stated on SonarQube)"},{"owner":{"account_id":22382268,"reputation":13,"user_id":16595669,"display_name":"HelloWorld888"},"score":0,"creation_date":1698414720,"post_id":77374278,"comment_id":136406449,"body_markdown":"@HenningLuther yes I am trying to cover the lines/methods/classes I have on my different folder (child1, common etc...)","body":"@HenningLuther yes I am trying to cover the lines/methods/classes I have on my different folder (child1, common etc...)"},{"owner":{"account_id":6629323,"reputation":2067,"user_id":5118465,"accept_rate":75,"display_name":"Henning Luther"},"score":0,"creation_date":1698414832,"post_id":77374278,"comment_id":136406466,"body_markdown":"ok. so i guess there should be some jacoco.exec be generated for the child modules which than gets aggregated with the aggregate. you are sure your tests did run and can you see specific files for those childs","body":"ok. so i guess there should be some jacoco.exec be generated for the child modules which than gets aggregated with the aggregate. you are sure your tests did run and can you see specific files for those childs"},{"owner":{"account_id":22382268,"reputation":13,"user_id":16595669,"display_name":"HelloWorld888"},"score":0,"creation_date":1698415123,"post_id":77374278,"comment_id":136406536,"body_markdown":"yes I can see the jacoco exec for my different child modules, but when i try to aggregate them in the coverage module, the jacoco-aggregate folder gave me an aggregate report with empty results for each of my child modules","body":"yes I can see the jacoco exec for my different child modules, but when i try to aggregate them in the coverage module, the jacoco-aggregate folder gave me an aggregate report with empty results for each of my child modules"}],"owner":{"account_id":22382268,"reputation":13,"user_id":16595669,"display_name":"HelloWorld888"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698421209,"creation_date":1698410862,"question_id":77374278,"body_markdown":"I am trying to do a jacoco-aggregate to send it to sonarqube according to this post:\r\nhttps://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151\r\n\r\nApparently it is needed to use the xml format aggregated now because SonarQube does not use the exec file anymore according to this warning on SonarQube (But I can&#39;t see where it is officially stated besides a forum post and it was working some months ago on my project with exec files)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy pom architecture is like this:\r\n\r\n```\r\n-root\r\n  --child1\r\n  -- common\r\n  -- coverage\r\n  -- etc\r\n```\r\n\r\nMy root pom look like this (only the interesting part about jacoco)\r\n\r\n```\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;root&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nMy child1 and common pom look like this\r\n\r\n```\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;child1&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n     &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- need to add this in order for the correct to be passed, and create the jacoco.exec --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nMy coverage pom look like this:\r\n\r\n```\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;coverage&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n&lt;!-- Used to determine which module should be aggregated --&gt;\r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;child1&lt;/artifactId&gt;\r\n            &lt;version1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report-aggregate&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nWhen I run a mvn clean install I see the following result in folders:\r\n```\r\n- root\r\n  -- child1\r\n  ----target\r\n  ------jacoco.exec\r\n  --common\r\n  ----target\r\n  ------jacoco.exec\r\n  --coverage\r\n  --- target\r\n  -----site\r\n  -------jacoco-aggregate\r\n  ---------jacoco.xml (The famous file I need to pass to sonarqube)\r\n```\r\n\r\nI do a mvn verify on the root parent and in debug mode I see that I pass in jacoco-aggregate method in the createRepport. However the result is empty and I don&#39;t understand why. If I open the index.html in the coverage part, I get the following result:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/vnRsQ.png)](https://i.stack.imgur.com/vnRsQ.png)\r\n\r\nThere is no coverage added and I don&#39;t understand why, the jacoco.exec have info in it so I don&#39;t understand why it&#39;s not aggregated correctly in the jacoco-aggregate. I make sure to be as close as the jacoco-example at: https://github.com/jacoco/jacoco/tree/master/jacoco-maven-plugin.test/it/it-report-aggregate and when I try this test I can see the following result:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xdfCv.png)](https://i.stack.imgur.com/xdfCv.png)\r\n\r\nBut I can&#39;t get the same result on my end\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qiHLo.png","title":"jacoco-aggregate give an empty report","body":"<p>I am trying to do a jacoco-aggregate to send it to sonarqube according to this post:\n<a href=\"https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151\" rel=\"nofollow noreferrer\">https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151</a></p>\n<p>Apparently it is needed to use the xml format aggregated now because SonarQube does not use the exec file anymore according to this warning on SonarQube (But I can't see where it is officially stated besides a forum post and it was working some months ago on my project with exec files)</p>\n<p><a href=\"https://i.stack.imgur.com/qiHLo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qiHLo.png\" alt=\"enter image description here\" /></a></p>\n<p>My pom architecture is like this:</p>\n<pre><code>-root\n  --child1\n  -- common\n  -- coverage\n  -- etc\n</code></pre>\n<p>My root pom look like this (only the interesting part about jacoco)</p>\n<pre><code>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\n    &lt;artifactId&gt;root&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>My child1 and common pom look like this</p>\n<pre><code>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\n    &lt;artifactId&gt;child1&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n     &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;!-- need to add this in order for the correct to be passed, and create the jacoco.exec --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>My coverage pom look like this:</p>\n<pre><code>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\n    &lt;artifactId&gt;coverage&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n&lt;!-- Used to determine which module should be aggregated --&gt;\n        &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\n            &lt;artifactId&gt;child1&lt;/artifactId&gt;\n            &lt;version1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;com.toto.example&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n\n        &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report-aggregate&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>When I run a mvn clean install I see the following result in folders:</p>\n<pre><code>- root\n  -- child1\n  ----target\n  ------jacoco.exec\n  --common\n  ----target\n  ------jacoco.exec\n  --coverage\n  --- target\n  -----site\n  -------jacoco-aggregate\n  ---------jacoco.xml (The famous file I need to pass to sonarqube)\n</code></pre>\n<p>I do a mvn verify on the root parent and in debug mode I see that I pass in jacoco-aggregate method in the createRepport. However the result is empty and I don't understand why. If I open the index.html in the coverage part, I get the following result:</p>\n<p><a href=\"https://i.stack.imgur.com/vnRsQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vnRsQ.png\" alt=\"enter image description here\" /></a></p>\n<p>There is no coverage added and I don't understand why, the jacoco.exec have info in it so I don't understand why it's not aggregated correctly in the jacoco-aggregate. I make sure to be as close as the jacoco-example at: <a href=\"https://github.com/jacoco/jacoco/tree/master/jacoco-maven-plugin.test/it/it-report-aggregate\" rel=\"nofollow noreferrer\">https://github.com/jacoco/jacoco/tree/master/jacoco-maven-plugin.test/it/it-report-aggregate</a> and when I try this test I can see the following result:</p>\n<p><a href=\"https://i.stack.imgur.com/xdfCv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xdfCv.png\" alt=\"enter image description here\" /></a></p>\n<p>But I can't get the same result on my end</p>\n"},{"tags":["java","arrays","random"],"comments":[{"owner":{"account_id":4339882,"reputation":973,"user_id":3543416,"accept_rate":92,"display_name":"DarkHorse"},"score":0,"creation_date":1444349654,"post_id":33027899,"comment_id":53878163,"body_markdown":"Your if statement on the second line will say  `No seats available` after the first booking. You have to check whether the whole array is full, not just the the specific value. Add the statement specified here to fix that problem:  [here](http://stackoverflow.com/questions/1128723/how-can-i-test-if-an-array-contains-a-certain-value)","body":"Your if statement on the second line will say  <code>No seats available</code> after the first booking. You have to check whether the whole array is full, not just the the specific value. Add the statement specified here to fix that problem:  <a href=\"http://stackoverflow.com/questions/1128723/how-can-i-test-if-an-array-contains-a-certain-value\">here</a>"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1444349772,"post_id":33027899,"comment_id":53878187,"body_markdown":"What do you mean with `if(seats.equals(null) &gt; passengerGroup)` in your pseudo-code? It would not compile (and by [definition](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29), `anything.equals(null)` is always `false`).","body":"What do you mean with <code>if(seats.equals(null) &gt; passengerGroup)</code> in your pseudo-code? It would not compile (and by <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\">definition</a>, <code>anything.equals(null)</code> is always <code>false</code>)."},{"owner":{"account_id":3416514,"reputation":2399,"user_id":2865240,"accept_rate":75,"display_name":"aleksandar"},"score":1,"creation_date":1444349862,"post_id":33027899,"comment_id":53878212,"body_markdown":"Whats the problem here? The algorithm/steps are explained very well in the explanation you provided. You just need to translate that to java code.","body":"Whats the problem here? The algorithm/steps are explained very well in the explanation you provided. You just need to translate that to java code."},{"owner":{"account_id":6966675,"reputation":644,"user_id":5344433,"accept_rate":75,"display_name":"ekeith"},"score":0,"creation_date":1444349939,"post_id":33027899,"comment_id":53878232,"body_markdown":"I was just trying to understand the questions properly. I&#39;m still trying to get ahold of this question &amp; java properly @MickMnemonic.","body":"I was just trying to understand the questions properly. I&#39;m still trying to get ahold of this question &amp; java properly @MickMnemonic."},{"owner":{"account_id":6966675,"reputation":644,"user_id":5344433,"accept_rate":75,"display_name":"ekeith"},"score":0,"creation_date":1444350063,"post_id":33027899,"comment_id":53878267,"body_markdown":"The problem is I can&#39;t translate it to java properly. Perhaps, you can help translate it algorithmically? @wazaaaap The question gets even more confusing to me in the first two steps because i&#39;m still learning the language","body":"The problem is I can&#39;t translate it to java properly. Perhaps, you can help translate it algorithmically? @wazaaaap The question gets even more confusing to me in the first two steps because i&#39;m still learning the language"},{"owner":{"account_id":5309069,"reputation":2033,"user_id":4236028,"display_name":"sam"},"score":0,"creation_date":1444350134,"post_id":33027899,"comment_id":53878284,"body_markdown":"In for loops iterator index variable names have to be different.","body":"In for loops iterator index variable names have to be different."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":1,"creation_date":1444350142,"post_id":33027899,"comment_id":53878286,"body_markdown":"@girlCoder, really, you simply need to fire up your IDE and _start coding_. When you run into compilation / run-time problems, you can post a more specific question and will be assisted by the community.","body":"@girlCoder, really, you simply need to fire up your IDE and <i>start coding</i>. When you run into compilation / run-time problems, you can post a more specific question and will be assisted by the community."},{"owner":{"account_id":6966675,"reputation":644,"user_id":5344433,"accept_rate":75,"display_name":"ekeith"},"score":0,"creation_date":1444350459,"post_id":33027899,"comment_id":53878359,"body_markdown":"I have a problem understanding the first two steps especially searching the arrays consecutively, @MickMnemonic","body":"I have a problem understanding the first two steps especially searching the arrays consecutively, @MickMnemonic"},{"owner":{"account_id":6966675,"reputation":644,"user_id":5344433,"accept_rate":75,"display_name":"ekeith"},"score":0,"creation_date":1444350544,"post_id":33027899,"comment_id":53878384,"body_markdown":"Any contribution on how to get through would be appreciated, thanks","body":"Any contribution on how to get through would be appreciated, thanks"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1444351522,"post_id":33027899,"comment_id":53878614,"body_markdown":"You could do this: Define two counter variables. Counting `int emptySeats`, you loop through `seats` and simply increment it for each `if(seats[i] == null)`. For `int emptyConsecutiveSeats`, you also need to loop through `seats`, but break out when you find an occupied seat; you can declare `boolean previousSeatEmpty = true;` which you use in the looping condition: `for(int i =0; i&lt;seats.length &amp;&amp; previousSeatEmpty; i++)`. Then amend `if(seats[i] == null) {emptyConsecutiveSeats++;}` with `else {previousSeatEmpty = false;}`.","body":"You could do this: Define two counter variables. Counting <code>int emptySeats</code>, you loop through <code>seats</code> and simply increment it for each <code>if(seats[i] == null)</code>. For <code>int emptyConsecutiveSeats</code>, you also need to loop through <code>seats</code>, but break out when you find an occupied seat; you can declare <code>boolean previousSeatEmpty = true;</code> which you use in the looping condition: <code>for(int i =0; i&lt;seats.length &amp;&amp; previousSeatEmpty; i++)</code>. Then amend <code>if(seats[i] == null) {emptyConsecutiveSeats++;}</code> with <code>else {previousSeatEmpty = false;}</code>."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1444351846,"post_id":33027899,"comment_id":53878700,"body_markdown":"For the random seat assignment part, you could also declare an `int[] availableSeats` array (or better, a `List` if you can use dynamic data structures) which keeps track of array indices of `seats` which are available (and which you populate while looping). Then you could use `java.util.Random` for selecting a seat from `availableSeats` randomly.","body":"For the random seat assignment part, you could also declare an <code>int[] availableSeats</code> array (or better, a <code>List</code> if you can use dynamic data structures) which keeps track of array indices of <code>seats</code> which are available (and which you populate while looping). Then you could use <code>java.util.Random</code> for selecting a seat from <code>availableSeats</code> randomly."},{"owner":{"account_id":6966675,"reputation":644,"user_id":5344433,"accept_rate":75,"display_name":"ekeith"},"score":0,"creation_date":1444352409,"post_id":33027899,"comment_id":53878843,"body_markdown":"that&#39;s what I used to write the code just that i used a method and I used the math.random function instead since I&#39;ve only learnt up to that level. Can you use it in the comment section instead? Thanks :) @MickMnemonic","body":"that&#39;s what I used to write the code just that i used a method and I used the math.random function instead since I&#39;ve only learnt up to that level. Can you use it in the comment section instead? Thanks :) @MickMnemonic"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1444352809,"post_id":33027899,"comment_id":53878949,"body_markdown":"Yes, `Math.random()` internally uses `java.util.Random` so it&#39;s equivalent (but with less functionality). One final note: you will be better off modeling `seats` with a `boolean` array (`boolean[] seats`) because that way the value of `seat[i]` could explicitly indicate whether the seat is occupied (`true`) or available (`false`). If you do it this way, you need to check for `if (!seats[i])` instead of `if(seats[i] == null)` for seat availability within the loop. Good luck!","body":"Yes, <code>Math.random()</code> internally uses <code>java.util.Random</code> so it&#39;s equivalent (but with less functionality). One final note: you will be better off modeling <code>seats</code> with a <code>boolean</code> array (<code>boolean[] seats</code>) because that way the value of <code>seat[i]</code> could explicitly indicate whether the seat is occupied (<code>true</code>) or available (<code>false</code>). If you do it this way, you need to check for <code>if (!seats[i])</code> instead of <code>if(seats[i] == null)</code> for seat availability within the loop. Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":5884082,"reputation":6273,"user_id":4632627,"accept_rate":71,"display_name":"Richard Dunn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698420129,"creation_date":1444351256,"answer_id":33028149,"question_id":33027899,"body_markdown":"Break down the problem before writing loops; counters are the easiest way to keep track of availability in this situation. \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint numSeats = 20;\r\n\t\tint available = numSeats;\r\n\t\tint numGroups = 6;\r\n\t\t\r\n\t\tint groupSizes[] = new int[numGroups];\r\n\t\t\r\n\t\tgroupSizes[0] = 2;\r\n\t\tgroupSizes[1] = 1;\r\n\t\tgroupSizes[2] = 5;\r\n\t\tgroupSizes[3] = 3;\r\n\t\tgroupSizes[4] = 10;\r\n\t\tgroupSizes[5] = 2;\r\n\t\t\r\n\t\tfor (int i=0; i &lt; groupSizes.length; i++) {\r\n\t\t\t\r\n\t\t\tif (available &gt; groupSizes[i]){\r\n\t\t\t\tavailable -= groupSizes[i];\r\n\t\t\t\tSystem.out.println(&quot;Group: &quot; + i + &quot; has been book on!&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Not enough seats for group: &quot; + i);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(available + &quot; Seats remaining&quot;);\r\n\t}\r\n\r\n","title":"How to randomly seat groups of passengers in an airline in java? Step-by-Step","body":"<p>Break down the problem before writing loops; counters are the easiest way to keep track of availability in this situation.</p>\n<pre><code>public static void main(String[] args) {\n    \n    int numSeats = 20;\n    int available = numSeats;\n    int numGroups = 6;\n    \n    int groupSizes[] = new int[numGroups];\n    \n    groupSizes[0] = 2;\n    groupSizes[1] = 1;\n    groupSizes[2] = 5;\n    groupSizes[3] = 3;\n    groupSizes[4] = 10;\n    groupSizes[5] = 2;\n    \n    for (int i=0; i &lt; groupSizes.length; i++) {\n        \n        if (available &gt; groupSizes[i]){\n            available -= groupSizes[i];\n            System.out.println(&quot;Group: &quot; + i + &quot; has been book on!&quot;);\n        }\n        \n        else {\n            System.out.println(&quot;Not enough seats for group: &quot; + i);\n        }\n        \n    }\n    System.out.println(available + &quot; Seats remaining&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":6966675,"reputation":644,"user_id":5344433,"accept_rate":75,"display_name":"ekeith"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5073,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33028149,"answer_count":1,"score":3,"last_activity_date":1698420129,"creation_date":1444349202,"question_id":33027899,"body_markdown":"\r\nI&#39;m new to Java and I have this program i&#39;m working on about seating groups of passengers in an airline. ( I would try to make my question simple and easy to understand)\r\n  \r\nSo, I am supposed to seat passengers in an airline in groups. I get the information on how they are being seated by a booking class.\r\n\r\n    public class Bookings {\r\n    public Bookings() {\r\n    }\r\n\r\n    public static void main(String[] var0) {\r\n        System.out.println(&quot;Do not run this program.&quot;);\r\n        System.out.println(&quot;Call the method as follows:&quot;);\r\n        System.out.println(&quot;  String[] bookings = Bookings.getBookings()&quot;);\r\n    }\r\n\r\n        public static String[] getBookings() {\r\n            return new String[]{&quot;38&quot;, &quot;2&quot;, &quot;Gurganus, Erik&quot;, &quot;Gurganus, Fernando&quot;, &quot;1&quot;, &quot;Cahn, Lance&quot;, &quot;1&quot;, &quot;Burrough, Jamie&quot;, &quot;3&quot;, &quot;Riney, Christian&quot;, &quot;Marceau, Hillary&quot;, &quot;Marceau, Julio&quot;, &quot;3&quot;, &quot;Gariepy, Noemi&quot;, &quot;Gariepy, Louisa&quot;, &quot;Gariepy, Nelson&quot;, &quot;2&quot;, &quot;Mazzoni, Max&quot;, &quot;Fiorita, Tyrone&quot;, &quot;3&quot;, &quot;Ehle, Clinton&quot;, &quot;Minnifield, Clinton&quot;, &quot;Blinn, Jamie&quot;, &quot;2&quot;, &quot;Sokolowski, Kurt&quot;, &quot;Sokolowski, Sofia&quot;, &quot;2&quot;, &quot;Secord, Hugh&quot;, &quot;McVeigh, Karina&quot;, &quot;1&quot;, &quot;McMonagle, Christian&quot;, &quot;1&quot;, &quot;Canchola, Clayton&quot;, &quot;2&quot;, &quot;Duer, Julio&quot;, &quot;Danos, Ted&quot;, &quot;3&quot;, &quot;Regal, Christian&quot;, &quot;Mun, Allan&quot;, &quot;Mun, Lakisha&quot;, &quot;2&quot;, &quot;Noblitt, Karina&quot;, &quot;Tussey, Clayton&quot;, &quot;1&quot;, &quot;Seckman, Jamie&quot;, &quot;2&quot;, &quot;Folmar, Edwina&quot;, &quot;Lokey, Clayton&quot;, &quot;2&quot;, &quot;Pippen, Javier&quot;, &quot;Saba, Earlene&quot;, &quot;4&quot;, &quot;Tippit, Lorrie&quot;, &quot;Tippit, Harriett&quot;, &quot;Tippit, Clare&quot;, &quot;Tippit, Lance&quot;, &quot;3&quot;, &quot;Mazurek, Mallory&quot;, &quot;Mazurek, Stefan&quot;, &quot;Mazurek, Ihor&quot;, &quot;2&quot;, &quot;Saini, Amie&quot;, &quot;Peavler, Darcy&quot;};\r\n        }\r\n       }\r\n\r\nwith this information I created a String array called seats and a bookings array that calls the class to retrieve all the information in it\r\n\r\n    String[] seats = new String[38];\r\n    String[] bookings = Bookings.getBookings();\r\n\r\n The first value indicates the number of seats available on my flight and the remaining values indicates the numbers of groups to be assigned and their names.\r\n\r\n# For more clarification, the steps to follow for this procedure is: #\r\n\r\n&gt;**Your program will seat passengers as follows:**\r\n&gt;It will create a &quot;seats&quot; array of the appropriate size (given in the first &gt;position of the &quot;bookings&quot; array). **DONE**\r\n\r\n&gt;It will process the remaining items in the &quot;bookings&quot; array of strings. &gt;For each group of passengers it will attempt to seat\r\n&gt;them as follows: **DONE**\r\n\r\n\r\n&gt; - First, it will see if there are enough seats remaining on the flight for everyone in the group; if not, it will display an\r\nerror message and not assign seats to anyone in the group.\r\n&gt; - Secondly, it will go through the &quot;seats&quot; array to determine if a block of empty seats large enough to seat the entire group together\r\n   is available (for example, if the group size is 3, it will see if\r\n   there are 3 consecutive empty seats).\r\n   \r\n &gt;  If there is at least one such block of seats anywhere in the array,\r\n   randomly assign the group to one of these blocks by randomly\r\n   selecting an element in the &quot;seats&quot; array.\r\n   \r\n &gt;   If that seat is empty, determine if enough successive array elements\r\n   (seats) are also empty to seat the entire group; if so, seat them\r\n   there.\r\n   \r\n &gt;  Otherwise, randomly try another seat, repeating until successful.\r\n   \r\n &gt;  If there is no such block, randomly assign each passenger in the\r\n   group individually to a seat (i.e., the group will be split up). For\r\n   each passenger, pick random seat numbers until you find an empty\r\n   seat.\r\n\r\nMy problem now are these two steps, I wrote this step for solving it down on a sheet of paper but i&#39;m not sure whether or not i&#39;m on the right track. Any contribution/help would be very much appreciated. I can provide more information on the problem if needed.\r\n\r\n\r\n    for(int i =0; i&lt;seats.length; i++) {\r\n            if(seats[i] == null) {\r\n                for(int i =0; i&lt;seats.length; i++) {\r\n                    if(seats.equals(null) &gt; passengerGroup) {\r\n                        (randomly seat them consecutively);\r\n                    } else {\r\n                        (randomly seat them anywhere)\r\n                    }\r\n                }\r\n            } else {\r\n                system.out.println( &quot;No seats available&quot;);\r\n            }\r\n        }\r\n\r\n","title":"How to randomly seat groups of passengers in an airline in java? Step-by-Step","body":"<p>I'm new to Java and I have this program i'm working on about seating groups of passengers in an airline. ( I would try to make my question simple and easy to understand)</p>\n\n<p>So, I am supposed to seat passengers in an airline in groups. I get the information on how they are being seated by a booking class.</p>\n\n<pre><code>public class Bookings {\npublic Bookings() {\n}\n\npublic static void main(String[] var0) {\n    System.out.println(\"Do not run this program.\");\n    System.out.println(\"Call the method as follows:\");\n    System.out.println(\"  String[] bookings = Bookings.getBookings()\");\n}\n\n    public static String[] getBookings() {\n        return new String[]{\"38\", \"2\", \"Gurganus, Erik\", \"Gurganus, Fernando\", \"1\", \"Cahn, Lance\", \"1\", \"Burrough, Jamie\", \"3\", \"Riney, Christian\", \"Marceau, Hillary\", \"Marceau, Julio\", \"3\", \"Gariepy, Noemi\", \"Gariepy, Louisa\", \"Gariepy, Nelson\", \"2\", \"Mazzoni, Max\", \"Fiorita, Tyrone\", \"3\", \"Ehle, Clinton\", \"Minnifield, Clinton\", \"Blinn, Jamie\", \"2\", \"Sokolowski, Kurt\", \"Sokolowski, Sofia\", \"2\", \"Secord, Hugh\", \"McVeigh, Karina\", \"1\", \"McMonagle, Christian\", \"1\", \"Canchola, Clayton\", \"2\", \"Duer, Julio\", \"Danos, Ted\", \"3\", \"Regal, Christian\", \"Mun, Allan\", \"Mun, Lakisha\", \"2\", \"Noblitt, Karina\", \"Tussey, Clayton\", \"1\", \"Seckman, Jamie\", \"2\", \"Folmar, Edwina\", \"Lokey, Clayton\", \"2\", \"Pippen, Javier\", \"Saba, Earlene\", \"4\", \"Tippit, Lorrie\", \"Tippit, Harriett\", \"Tippit, Clare\", \"Tippit, Lance\", \"3\", \"Mazurek, Mallory\", \"Mazurek, Stefan\", \"Mazurek, Ihor\", \"2\", \"Saini, Amie\", \"Peavler, Darcy\"};\n    }\n   }\n</code></pre>\n\n<p>with this information I created a String array called seats and a bookings array that calls the class to retrieve all the information in it</p>\n\n<pre><code>String[] seats = new String[38];\nString[] bookings = Bookings.getBookings();\n</code></pre>\n\n<p>The first value indicates the number of seats available on my flight and the remaining values indicates the numbers of groups to be assigned and their names.</p>\n\n<h1>For more clarification, the steps to follow for this procedure is:</h1>\n\n<blockquote>\n  <p><strong>Your program will seat passengers as follows:</strong>\n  It will create a \"seats\" array of the appropriate size (given in the first >position of the \"bookings\" array). <strong>DONE</strong></p>\n  \n  <p>It will process the remaining items in the \"bookings\" array of strings. >For each group of passengers it will attempt to seat\n  them as follows: <strong>DONE</strong></p>\n  \n  <ul>\n  <li>First, it will see if there are enough seats remaining on the flight for everyone in the group; if not, it will display an\n  error message and not assign seats to anyone in the group.</li>\n  <li><p>Secondly, it will go through the \"seats\" array to determine if a block of empty seats large enough to seat the entire group together\n  is available (for example, if the group size is 3, it will see if\n  there are 3 consecutive empty seats).</p>\n  \n  <p>If there is at least one such block of seats anywhere in the array,\n  randomly assign the group to one of these blocks by randomly\n  selecting an element in the \"seats\" array.</p>\n  \n  <p>If that seat is empty, determine if enough successive array elements\n  (seats) are also empty to seat the entire group; if so, seat them\n  there.</p>\n  \n  <p>Otherwise, randomly try another seat, repeating until successful.</p>\n  \n  <p>If there is no such block, randomly assign each passenger in the\n  group individually to a seat (i.e., the group will be split up). For\n  each passenger, pick random seat numbers until you find an empty\n  seat.</p></li>\n  </ul>\n</blockquote>\n\n<p>My problem now are these two steps, I wrote this step for solving it down on a sheet of paper but i'm not sure whether or not i'm on the right track. Any contribution/help would be very much appreciated. I can provide more information on the problem if needed.</p>\n\n<pre><code>for(int i =0; i&lt;seats.length; i++) {\n        if(seats[i] == null) {\n            for(int i =0; i&lt;seats.length; i++) {\n                if(seats.equals(null) &gt; passengerGroup) {\n                    (randomly seat them consecutively);\n                } else {\n                    (randomly seat them anywhere)\n                }\n            }\n        } else {\n            system.out.println( \"No seats available\");\n        }\n    }\n</code></pre>\n"},{"tags":["java","html","css","spring","thymeleaf"],"comments":[{"owner":{"account_id":17696076,"reputation":733,"user_id":12846804,"display_name":"OCa"},"score":0,"creation_date":1698919553,"post_id":77375329,"comment_id":136466399,"body_markdown":"Welcome. Related? [Thymeleaf content assistant not working with Spring Boot](https://stackoverflow.com/q/55879751/12846804) [Github Content Assist Doesn&#39;t appear to be working](https://github.com/thymeleaf/thymeleaf-extras-eclipse-plugin/issues/25)","body":"Welcome. Related? <a href=\"https://stackoverflow.com/q/55879751/12846804\">Thymeleaf content assistant not working with Spring Boot</a> <a href=\"https://github.com/thymeleaf/thymeleaf-extras-eclipse-plugin/issues/25\" rel=\"nofollow noreferrer\">Github Content Assist Doesn&#39;t appear to be working</a>"}],"owner":{"account_id":29768436,"reputation":1,"user_id":22814278,"display_name":"hein htet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698420063,"creation_date":1698420063,"question_id":77375329,"body_markdown":"I installed thymeleaf plugins from eclipse market place.I can use thymeleaf nature in my project.But thymeleaf content assist is&#39;nt showing in html file.I used eclipse version 2023-09 and thymeleaf 3.1.0.\r\nHow can I fix this issue? ","title":"Thymeleaf content assist not working in Eclipse 2023-09 version","body":"<p>I installed thymeleaf plugins from eclipse market place.I can use thymeleaf nature in my project.But thymeleaf content assist is'nt showing in html file.I used eclipse version 2023-09 and thymeleaf 3.1.0.\nHow can I fix this issue?</p>\n"},{"tags":["java","oauth","api-design"],"owner":{"account_id":29768360,"reputation":1,"user_id":22814218,"display_name":"meriem dj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698420045,"creation_date":1698419808,"question_id":77375309,"body_markdown":"I am new to API development and iI encountered a situation that made me question some of the practices in API development.\r\nThe context is as follow, I have a web application where users can register client-id that they can use to consume different API later on.\r\nWhen creating a client-id, the credentials are created through the backend app that communicates with the authorization server to store it. \r\nbut we provide the user the secret so he can generate the token later on.\r\nI was wondering would it be ok to store the secret in a collection (map for example) in one of the backend classes, for an unknown amount of time and then retrieve it from the collection when the user asks for the secret.\r\n\r\n\r\n\r\nI feel like, this should be avoided as the secret should not be stored in the backend application?\r\n","title":"OAuth credential management","body":"<p>I am new to API development and iI encountered a situation that made me question some of the practices in API development.\nThe context is as follow, I have a web application where users can register client-id that they can use to consume different API later on.\nWhen creating a client-id, the credentials are created through the backend app that communicates with the authorization server to store it.\nbut we provide the user the secret so he can generate the token later on.\nI was wondering would it be ok to store the secret in a collection (map for example) in one of the backend classes, for an unknown amount of time and then retrieve it from the collection when the user asks for the secret.</p>\n<p>I feel like, this should be avoided as the secret should not be stored in the backend application?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4564811,"reputation":2763,"user_id":3706101,"accept_rate":20,"display_name":"Yaje"},"score":2,"creation_date":1484212362,"post_id":41609058,"comment_id":70419785,"body_markdown":"Hi, could you atleast post what you have tried so far?","body":"Hi, could you atleast post what you have tried so far?"},{"owner":{"account_id":23671,"reputation":9709,"user_id":59492,"accept_rate":73,"display_name":"Benjamin Podszun"},"score":1,"creation_date":1484212415,"post_id":41609058,"comment_id":70419828,"body_markdown":"The last digit is what remains after dividing the number by 10. Repeat the step with the integer (i.e. round down, floor) that number / 10 gives you.","body":"The last digit is what remains after dividing the number by 10. Repeat the step with the integer (i.e. round down, floor) that number / 10 gives you."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1484212468,"post_id":41609058,"comment_id":70419862,"body_markdown":"Probably you get confused with the word *pattern*. I guess he meant: &quot;algorithm&quot;, or math-only based computation.","body":"Probably you get confused with the word <i>pattern</i>. I guess he meant: &quot;algorithm&quot;, or math-only based computation."},{"owner":{"account_id":6136348,"reputation":63,"user_id":4785067,"display_name":"Gary Fishell"},"score":0,"creation_date":1484264517,"post_id":41609058,"comment_id":70451285,"body_markdown":"@BenjaminPodszun Hi, using integer % 10 gives me the last digit but then what? Little confused with what you mean by round down, floor. Thank you","body":"@BenjaminPodszun Hi, using integer % 10 gives me the last digit but then what? Little confused with what you mean by round down, floor. Thank you"},{"owner":{"account_id":23671,"reputation":9709,"user_id":59492,"accept_rate":73,"display_name":"Benjamin Podszun"},"score":0,"creation_date":1484294487,"post_id":41609058,"comment_id":70459804,"body_markdown":"@GaryFishell Integer division (int divided by int) returns an integer. 13/10==1. If you apply this to my earlier comment you note that you get the first part &#39;give me the last digit&#39; by using the % operator, the second part &#39;give me all digits except the last one&#39;) are provided by a simple division by ten.","body":"@GaryFishell Integer division (int divided by int) returns an integer. 13/10==1. If you apply this to my earlier comment you note that you get the first part &#39;give me the last digit&#39; by using the % operator, the second part &#39;give me all digits except the last one&#39;) are provided by a simple division by ten."}],"answers":[{"tags":[],"owner":{"account_id":1112393,"reputation":10496,"user_id":1102626,"display_name":"John Bupit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484212413,"creation_date":1484212413,"answer_id":41609106,"question_id":41609058,"body_markdown":"Print the last digit (modulo 10), and then divide by 10. Repeat this until the original number becomes 0.\r\n\r\n    int number = 14325;\r\n    \r\n    while(number &gt; 0) {\r\n        System.out.println(number % 10);\r\n        number /= 10;\r\n    }","title":"How to use a pattern to spit out an integer backwards","body":"<p>Print the last digit (modulo 10), and then divide by 10. Repeat this until the original number becomes 0.</p>\n\n<pre><code>int number = 14325;\n\nwhile(number &gt; 0) {\n    System.out.println(number % 10);\n    number /= 10;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6067411,"reputation":291,"user_id":4737255,"display_name":"Che-Chia Chang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484212630,"creation_date":1484212630,"answer_id":41609168,"question_id":41609058,"body_markdown":"Use `String.toCharArray`\r\n\r\n        String number = 12345 + &quot;&quot;;\r\n        char[] chars = number.toCharArray();\r\n        for(int i = chars.length - 1; i &gt;= 0 ; i--){\r\n            System.out.println(chars[i]);\r\n        }","title":"How to use a pattern to spit out an integer backwards","body":"<p>Use <code>String.toCharArray</code></p>\n\n<pre><code>    String number = 12345 + \"\";\n    char[] chars = number.toCharArray();\n    for(int i = chars.length - 1; i &gt;= 0 ; i--){\n        System.out.println(chars[i]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698420025,"creation_date":1484874095,"answer_id":41754405,"question_id":41609058,"body_markdown":"If you know the integer is always 5 digits, it is possible without a loop.\r\n\r\n\t\tif (number &lt; 10000 || number &gt; 99999) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Requiring five digits, got &quot; + number);\r\n\t\t}\r\n\t\tSystem.out.println(number % 10);\r\n\t\tSystem.out.println(number / 10 % 10);\r\n\t\tSystem.out.println(number / 100 % 10);\r\n\t\tSystem.out.println(number / 1000 % 10);\r\n\t\tSystem.out.println(number / 10000 % 10);\r\n\r\nIf `number` is `14325`, this prints:\r\n\r\n    5\r\n    2\r\n    3\r\n    4\r\n    1\r\n\r\nAttempting just a bit of mind-reading here (certainly not my home field), the ‚Äòpattern‚Äô your teacher talked about could be this that the number to divide by (the divisor) gets an extra 0 for each digit (you might even write the first line as `System.out.println(number / 1 % 10);` if you wanted it to fit into the pattern, but really‚Ä¶). So no design pattern or regexp pattern, as some could have construed that word.\r\n\r\nThe `% 10` in the last statement is superfluous. I‚Äôm leaving it there for the sake of the pattern.","title":"How to use a pattern to spit out an integer backwards","body":"<p>If you know the integer is always 5 digits, it is possible without a loop.</p>\n<pre><code>    if (number &lt; 10000 || number &gt; 99999) {\n        throw new IllegalArgumentException(&quot;Requiring five digits, got &quot; + number);\n    }\n    System.out.println(number % 10);\n    System.out.println(number / 10 % 10);\n    System.out.println(number / 100 % 10);\n    System.out.println(number / 1000 % 10);\n    System.out.println(number / 10000 % 10);\n</code></pre>\n<p>If <code>number</code> is <code>14325</code>, this prints:</p>\n<pre><code>5\n2\n3\n4\n1\n</code></pre>\n<p>Attempting just a bit of mind-reading here (certainly not my home field), the ‚Äòpattern‚Äô your teacher talked about could be this that the number to divide by (the divisor) gets an extra 0 for each digit (you might even write the first line as <code>System.out.println(number / 1 % 10);</code> if you wanted it to fit into the pattern, but really‚Ä¶). So no design pattern or regexp pattern, as some could have construed that word.</p>\n<p>The <code>% 10</code> in the last statement is superfluous. I‚Äôm leaving it there for the sake of the pattern.</p>\n"}],"owner":{"account_id":6136348,"reputation":63,"user_id":4785067,"display_name":"Gary Fishell"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1698420025,"creation_date":1484212273,"question_id":41609058,"body_markdown":"So with my online class, it&#39;s asking for me to write a program that prints any 5 digit integer backwards each digit one by one so like:\r\n\r\n`14325` would print as\r\n\r\n    5\r\n    2\r\n    3\r\n    4\r\n    1\r\n\r\nThe teacher wants us to use integer arithmetic to accomplish this and says that there is a pattern.\r\n\r\nI have sat here for the last half hour trying to look for an answer but everyone seems to be doing it without integer arithmetic that I find.\r\n\r\nI&#39;m not asking for like a full solution to this problem, just asking for someone to please point me in the right direction. Many thanks! \r\n ","title":"How to use a pattern to spit out an integer backwards","body":"<p>So with my online class, it's asking for me to write a program that prints any 5 digit integer backwards each digit one by one so like:</p>\n\n<p><code>14325</code> would print as</p>\n\n<pre><code>5\n2\n3\n4\n1\n</code></pre>\n\n<p>The teacher wants us to use integer arithmetic to accomplish this and says that there is a pattern.</p>\n\n<p>I have sat here for the last half hour trying to look for an answer but everyone seems to be doing it without integer arithmetic that I find.</p>\n\n<p>I'm not asking for like a full solution to this problem, just asking for someone to please point me in the right direction. Many thanks! </p>\n"},{"tags":["java","list","collections","hashmap","double-brace-initialize"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1494416963,"post_id":43891568,"comment_id":74817122,"body_markdown":"If you want to use a variable, why don&#39;t  you just do it?","body":"If you want to use a variable, why don&#39;t  you just do it?"},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1494417984,"post_id":43891568,"comment_id":74817901,"body_markdown":"I‚Äôm afraid I haven‚Äôt fully understood your problem. Could you [create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve), please?","body":"I‚Äôm afraid I haven‚Äôt fully understood your problem. Could you <a href=\"http://stackoverflow.com/help/mcve\">create a Minimal, Complete, and Verifiable example</a>, please?"},{"owner":{"account_id":140477,"reputation":356,"user_id":346820,"display_name":"Marc"},"score":0,"creation_date":1494419126,"post_id":43891568,"comment_id":74818743,"body_markdown":"This code is scary at least, you should have objects instead of so many collections. This is just unmaintainable.","body":"This code is scary at least, you should have objects instead of so many collections. This is just unmaintainable."},{"owner":{"account_id":10653453,"reputation":71,"user_id":7843645,"display_name":"kaattaalan"},"score":0,"creation_date":1494419523,"post_id":43891568,"comment_id":74819072,"body_markdown":"I&#39;m just using it inside a spring controller so that i can pass a list of errors to populate an Error table in the view(jsp). The scope is within that controller method and view. I figured this data object would grant me large flexibility in the view side.","body":"I&#39;m just using it inside a spring controller so that i can pass a list of errors to populate an Error table in the view(jsp). The scope is within that controller method and view. I figured this data object would grant me large flexibility in the view side."},{"owner":{"account_id":10653453,"reputation":71,"user_id":7843645,"display_name":"kaattaalan"},"score":0,"creation_date":1496211679,"post_id":43891568,"comment_id":75561304,"body_markdown":"Possible duplicate of [Efficiency of Java &quot;Double Brace Initialization&quot;?](https://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization\">Efficiency of Java &quot;Double Brace Initialization&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1698419795,"creation_date":1494417924,"answer_id":43892006,"question_id":43891568,"body_markdown":"Instead of:\r\n\r\n    new ArrayList&lt;String&gt;() {{ add(&quot;Y&quot;); add(&quot;Upload Success&quot;); }}\r\n\r\nyou may use:\r\n\r\n    Arrays.asList(&quot;Y&quot;, &quot;Upload Success&quot;)\r\n\r\nThis gives you a fixed-size list.\r\n\r\nOr since Java 9 just:\r\n\r\n    List.of(&quot;Y&quot;, &quot;Upload Success&quot;)\r\n\r\nThis gives you a completely immutable list.\r\n\r\nIf you want to be able to modify the list later (in the former case if you want to be able to add or remove elements), convert it into an `ArrayList`:\r\n\r\n    new ArrayList&lt;&gt;(Arrays.asList(&quot;Y&quot;, &quot;Upload Success&quot;))\r\n\r\nor\r\n\r\n    new ArrayList&lt;&gt;(List.of(&quot;Y&quot;, &quot;Upload Success&quot;))\r\n\r\nAnd of course you can put this list into its own variable before putting it into your map structure.\r\n\r\nIf you want to put either `[Y, Upload Success]` or `[N, Upload Failed]` and make sure the lists aren‚Äôt shared between map entries, here‚Äôs a suggestion: First, outside your loop:\r\n\r\n    final List&lt;String&gt; successList = List.of(&quot;Y&quot;, &quot;Upload Success&quot;);\r\n    final List&lt;String&gt; failureList = List.of(&quot;N&quot;, &quot;Upload Failed&quot;);\r\n\r\nThen inside your loop:\r\n\r\n    if (wasSuccessful) {\r\n        errorList.put(tempName,\r\n                      Collections.singletonMap(&quot;upl&quot;, new ArrayList&lt;&gt;(successList)));\r\n    } else {\r\n        errorList.put(tempName,\r\n                      Collections.singletonMap(&quot;upl&quot;, new ArrayList&lt;&gt;(failureList)));\r\n    }\r\n\r\nOr since Java 9 use `Map.of()`:\r\n\r\n    if (wasSuccessful) {\r\n        errorList.put(tempName,\r\n                      Map.of(&quot;upl&quot;, new ArrayList&lt;&gt;(successList)));\r\n    } else {\r\n        errorList.put(tempName,\r\n                      Map.of(&quot;upl&quot;, new ArrayList&lt;&gt;(failureList)));\r\n    }\r\n\r\nYou may take the idea one step further and build the maps outside the loop. And again, if you want the inner map to be a `HashMap`, just convert into one: `new HashMap&lt;&gt;(Map.of(&quot;upl&quot;, new ArrayList&lt;&gt;(successList)))`.\r\n\r\nYou notice I have avoided the double brace initialization completely. While it‚Äôs brief, it has an overhead both conceptually and performancewise. You are creating a new anonymous subclass each time, which I don‚Äôt find warranted.","title":"Alternative to double brace initialization","body":"<p>Instead of:</p>\n<pre><code>new ArrayList&lt;String&gt;() {{ add(&quot;Y&quot;); add(&quot;Upload Success&quot;); }}\n</code></pre>\n<p>you may use:</p>\n<pre><code>Arrays.asList(&quot;Y&quot;, &quot;Upload Success&quot;)\n</code></pre>\n<p>This gives you a fixed-size list.</p>\n<p>Or since Java 9 just:</p>\n<pre><code>List.of(&quot;Y&quot;, &quot;Upload Success&quot;)\n</code></pre>\n<p>This gives you a completely immutable list.</p>\n<p>If you want to be able to modify the list later (in the former case if you want to be able to add or remove elements), convert it into an <code>ArrayList</code>:</p>\n<pre><code>new ArrayList&lt;&gt;(Arrays.asList(&quot;Y&quot;, &quot;Upload Success&quot;))\n</code></pre>\n<p>or</p>\n<pre><code>new ArrayList&lt;&gt;(List.of(&quot;Y&quot;, &quot;Upload Success&quot;))\n</code></pre>\n<p>And of course you can put this list into its own variable before putting it into your map structure.</p>\n<p>If you want to put either <code>[Y, Upload Success]</code> or <code>[N, Upload Failed]</code> and make sure the lists aren‚Äôt shared between map entries, here‚Äôs a suggestion: First, outside your loop:</p>\n<pre><code>final List&lt;String&gt; successList = List.of(&quot;Y&quot;, &quot;Upload Success&quot;);\nfinal List&lt;String&gt; failureList = List.of(&quot;N&quot;, &quot;Upload Failed&quot;);\n</code></pre>\n<p>Then inside your loop:</p>\n<pre><code>if (wasSuccessful) {\n    errorList.put(tempName,\n                  Collections.singletonMap(&quot;upl&quot;, new ArrayList&lt;&gt;(successList)));\n} else {\n    errorList.put(tempName,\n                  Collections.singletonMap(&quot;upl&quot;, new ArrayList&lt;&gt;(failureList)));\n}\n</code></pre>\n<p>Or since Java 9 use <code>Map.of()</code>:</p>\n<pre><code>if (wasSuccessful) {\n    errorList.put(tempName,\n                  Map.of(&quot;upl&quot;, new ArrayList&lt;&gt;(successList)));\n} else {\n    errorList.put(tempName,\n                  Map.of(&quot;upl&quot;, new ArrayList&lt;&gt;(failureList)));\n}\n</code></pre>\n<p>You may take the idea one step further and build the maps outside the loop. And again, if you want the inner map to be a <code>HashMap</code>, just convert into one: <code>new HashMap&lt;&gt;(Map.of(&quot;upl&quot;, new ArrayList&lt;&gt;(successList)))</code>.</p>\n<p>You notice I have avoided the double brace initialization completely. While it‚Äôs brief, it has an overhead both conceptually and performancewise. You are creating a new anonymous subclass each time, which I don‚Äôt find warranted.</p>\n"}],"owner":{"account_id":10653453,"reputation":71,"user_id":7843645,"display_name":"kaattaalan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2554,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":43892006,"answer_count":1,"score":4,"last_activity_date":1698419795,"creation_date":1494416752,"question_id":43891568,"body_markdown":"I have a nested collection in the form:\r\n\r\n    HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt; errorList;\r\n\r\nNow I initialize it inline using double braces like this\r\n\r\n    errorList.put(tempName, new HashMap&lt;String, List&lt;String&gt;&gt;() {{\r\n        put(&quot;upl&quot;, new ArrayList&lt;String&gt;() {{ add(&quot;Y&quot;); add(&quot;Upload Success&quot;); }});\r\n    }});\r\n\r\nThis lies in a foreach loop with the value of `tempName` changing in every iteration. \r\nI did this because i couldn&#39;t use instances of `List&lt;String&gt;` or `HashMap&lt;String,List&lt;String&gt;&gt;` because every time i changed the value in that instance it is reflected in the collection it is nested in. So i am forced to create new instances with double brace initialization.\r\n\r\nThing is: I want to use a list object. Instead of \r\n\r\n    new ArrayList&lt;String&gt;() {{ add(&quot;Y&quot;); add(&quot;Upload Success&quot;); }}\r\n\r\nI want to use a variable.\r\n\r\nHow can I do this?","title":"Alternative to double brace initialization","body":"<p>I have a nested collection in the form:</p>\n\n<pre><code>HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt; errorList;\n</code></pre>\n\n<p>Now I initialize it inline using double braces like this</p>\n\n<pre><code>errorList.put(tempName, new HashMap&lt;String, List&lt;String&gt;&gt;() {{\n    put(\"upl\", new ArrayList&lt;String&gt;() {{ add(\"Y\"); add(\"Upload Success\"); }});\n}});\n</code></pre>\n\n<p>This lies in a foreach loop with the value of <code>tempName</code> changing in every iteration. \nI did this because i couldn't use instances of <code>List&lt;String&gt;</code> or <code>HashMap&lt;String,List&lt;String&gt;&gt;</code> because every time i changed the value in that instance it is reflected in the collection it is nested in. So i am forced to create new instances with double brace initialization.</p>\n\n<p>Thing is: I want to use a list object. Instead of </p>\n\n<pre><code>new ArrayList&lt;String&gt;() {{ add(\"Y\"); add(\"Upload Success\"); }}\n</code></pre>\n\n<p>I want to use a variable.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":2,"creation_date":1487547379,"post_id":42334250,"comment_id":71820977,"body_markdown":"the title and structure is unpleasing.....","body":"the title and structure is unpleasing....."},{"owner":{"account_id":10180918,"reputation":31,"user_id":7517738,"display_name":"Himani Patel"},"score":0,"creation_date":1487547521,"post_id":42334250,"comment_id":71821022,"body_markdown":"how to do using classes and structures","body":"how to do using classes and structures"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":3,"creation_date":1487547605,"post_id":42334250,"comment_id":71821053,"body_markdown":"I am referring to your questions layout and structure..","body":"I am referring to your questions layout and structure.."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1487550915,"post_id":42334250,"comment_id":71821874,"body_markdown":"It‚Äôs like there is no question in your question? Assuming you meant to ask for help fixing a program that doesn‚Äôt behave as desired, you should specify precisely how the behaviour differs from the required. ‚ÄúQuestions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include ‚Ä¶ a specific problem or error‚Ä¶ Questions without a clear problem statement are not useful to other readers.‚Äù Quoted from http://stackoverflow.com/help/on-topic.","body":"It‚Äôs like there is no question in your question? Assuming you meant to ask for help fixing a program that doesn‚Äôt behave as desired, you should specify precisely how the behaviour differs from the required. ‚ÄúQuestions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include ‚Ä¶ a specific problem or error‚Ä¶ Questions without a clear problem statement are not useful to other readers.‚Äù Quoted from <a href=\"http://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a>."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1487548322,"creation_date":1487547622,"answer_id":42334299,"question_id":42334250,"body_markdown":"In addition to a number of typos and syntax errors, you are replacing the characters you then test for replacement. I think it would be better to eschew a regex here, and use a `Map&lt;Character, Character&gt;` and `StringBuilder` like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Enter String:&quot;);\r\n\t\tScanner kb = new Scanner(System.in);\r\n\t\tString old = kb.nextLine();\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tMap&lt;Character, Character&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&#39;i&#39;, &#39;e&#39;);\r\n\t\tmap.put(&#39;e&#39;, &#39;a&#39;);\r\n\t\tmap.put(&#39;a&#39;, &#39;i&#39;);\r\n\r\n\t\tfor (char ch : old.toCharArray()) {\r\n\t\t\tif (map.containsKey(ch)) {\r\n\t\t\t\tsb.append(map.get(ch));\r\n\t\t\t} else {\r\n\t\t\t\tsb.append(ch);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\n The Output is=&quot; + sb.toString());\r\n\t}\r\n\r\nAnd add the appropriate `import`(s) after `package` at the top.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n\r\n","title":"Using java i m trying to replace i for e ;e for a and a for i from user input","body":"<p>In addition to a number of typos and syntax errors, you are replacing the characters you then test for replacement. I think it would be better to eschew a regex here, and use a <code>Map&lt;Character, Character&gt;</code> and <code>StringBuilder</code> like</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"Enter String:\");\n    Scanner kb = new Scanner(System.in);\n    String old = kb.nextLine();\n    StringBuilder sb = new StringBuilder();\n    Map&lt;Character, Character&gt; map = new HashMap&lt;&gt;();\n    map.put('i', 'e');\n    map.put('e', 'a');\n    map.put('a', 'i');\n\n    for (char ch : old.toCharArray()) {\n        if (map.containsKey(ch)) {\n            sb.append(map.get(ch));\n        } else {\n            sb.append(ch);\n        }\n    }\n    System.out.println(\"\\n The Output is=\" + sb.toString());\n}\n</code></pre>\n\n<p>And add the appropriate <code>import</code>(s) after <code>package</code> at the top.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n</code></pre>\n"}],"owner":{"account_id":10180918,"reputation":31,"user_id":7517738,"display_name":"Himani Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1487586886,"accepted_answer_id":42334299,"answer_count":1,"score":-2,"last_activity_date":1698419638,"creation_date":1487547254,"question_id":42334250,"body_markdown":"Using Java I‚Äôm trying to replace i for e ;e for a and a for i from user input. For example, input:\r\n\r\n    The ear is big. \r\n\r\noutput from the program is:\r\n\r\n    Tha air es beg.\r\n\r\nBoth upper case and lower case of aforementioned letters must be encrypted.  \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class test{\r\n     \r\n        public static void main(String[]  Args);\r\n    \r\n            System.out.println(&quot;Enter String:&quot;);\r\n            new Scanner=Scanner kb(System.in);\r\n            String old=kb.nextLine();\r\n    \r\n            String modified=old.replaceAll(&quot;i&quot;,&quot;e&quot;).replaceAll(&quot;e&quot;,&quot;a&quot;).replaceAll(&quot;a&quot;,&quot;i&quot;).trim();\r\n            System.out.println( &quot;\\n The Output is=&quot;+modified );\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Using java i m trying to replace i for e ;e for a and a for i from user input","body":"<p>Using Java I‚Äôm trying to replace i for e ;e for a and a for i from user input. For example, input:</p>\n\n<pre><code>The ear is big. \n</code></pre>\n\n<p>output from the program is:</p>\n\n<pre><code>Tha air es beg.\n</code></pre>\n\n<p>Both upper case and lower case of aforementioned letters must be encrypted.  </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class test{\n\n    public static void main(String[]  Args);\n\n        System.out.println(\"Enter String:\");\n        new Scanner=Scanner kb(System.in);\n        String old=kb.nextLine();\n\n        String modified=old.replaceAll(\"i\",\"e\").replaceAll(\"e\",\"a\").replaceAll(\"a\",\"i\").trim();\n        System.out.println( \"\\n The Output is=\"+modified );\n    }\n}\n</code></pre>\n"},{"tags":["java","date","hashmap"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1572777321,"post_id":58679299,"comment_id":103658722,"body_markdown":"I think it&#39;s clear what needs to be done, what&#39;s unclear is what you&#39;re having trouble with.","body":"I think it&#39;s clear what needs to be done, what&#39;s unclear is what you&#39;re having trouble with."}],"answers":[{"tags":[],"owner":{"account_id":5303869,"reputation":639,"user_id":4232523,"display_name":"Hadi Moloodi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572780542,"creation_date":1572780542,"answer_id":58679710,"question_id":58679299,"body_markdown":"First of all, getMonth is zero-based. meaning January is zero and December is 11. second of all you can not remove from map when you using foreach. you have to change your code to be like this:\r\n\r\n    public class BirthdayTest {\r\n        public static void main(String[] args) throws ParseException {\r\n            BirthdayTest b = new BirthdayTest();\r\n            Map map = createMap();\r\n            removeAllSummerPeople(map);\r\n        }\r\n    \r\n        public static HashMap&lt;String, Date&gt; createMap() throws ParseException {\r\n            DateFormat df = new SimpleDateFormat(&quot;MMMMM d yyyy&quot;, Locale.ENGLISH);\r\n            HashMap&lt;String, Date&gt; map = new HashMap&lt;String, Date&gt;();\r\n            map.put(&quot;Stallone&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n    \r\n            //write your code here\r\n            map.put(&quot;a&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n            map.put(&quot;b&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n            map.put(&quot;c&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n            map.put(&quot;d&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n            map.put(&quot;e&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n            map.put(&quot;f&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n            map.put(&quot;g&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n            map.put(&quot;h&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n            map.put(&quot;i&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n    \r\n            return map;\r\n    \r\n        }\r\n    \r\n        public static void removeAllSummerPeople(Map&lt;String, Date&gt; map) {\r\n            Set&lt;String&gt; tobeDeleted = new HashSet&lt;&gt;();\r\n            //write your code here\r\n            for (HashMap.Entry&lt;String, Date&gt; pair : map.entrySet()) {\r\n                int x = pair.getValue().getMonth() + 1;\r\n                if (x &gt;= 6 &amp;&amp; x &lt;= 8) {\r\n                    tobeDeleted.add(pair.getKey());\r\n                }\r\n            }\r\n            for (String str : tobeDeleted)\r\n                map.remove(str);\r\n        }\r\n    }","title":"Removing elements from a Hashmap","body":"<p>First of all, getMonth is zero-based. meaning January is zero and December is 11. second of all you can not remove from map when you using foreach. you have to change your code to be like this:</p>\n\n<pre><code>public class BirthdayTest {\n    public static void main(String[] args) throws ParseException {\n        BirthdayTest b = new BirthdayTest();\n        Map map = createMap();\n        removeAllSummerPeople(map);\n    }\n\n    public static HashMap&lt;String, Date&gt; createMap() throws ParseException {\n        DateFormat df = new SimpleDateFormat(\"MMMMM d yyyy\", Locale.ENGLISH);\n        HashMap&lt;String, Date&gt; map = new HashMap&lt;String, Date&gt;();\n        map.put(\"Stallone\", df.parse(\"JUNE 1 1980\"));\n\n        //write your code here\n        map.put(\"a\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"b\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"c\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"d\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"e\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"f\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"g\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"h\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"i\", df.parse(\"JUNE 1 1980\"));\n\n        return map;\n\n    }\n\n    public static void removeAllSummerPeople(Map&lt;String, Date&gt; map) {\n        Set&lt;String&gt; tobeDeleted = new HashSet&lt;&gt;();\n        //write your code here\n        for (HashMap.Entry&lt;String, Date&gt; pair : map.entrySet()) {\n            int x = pair.getValue().getMonth() + 1;\n            if (x &gt;= 6 &amp;&amp; x &lt;= 8) {\n                tobeDeleted.add(pair.getKey());\n            }\n        }\n        for (String str : tobeDeleted)\n            map.remove(str);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15784263,"reputation":1,"user_id":11389582,"display_name":"carlos oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639371793,"creation_date":1637910721,"answer_id":70120687,"question_id":58679299,"body_markdown":"You have committed a primary error trying to remove a key from the object map that you are iterating. You must to create a copy first for the object map you want to remove and than iterate over the copy. for the date stuff put it in a String variable and check if contains the month you are looking for and delete it. No need to change anything on the method signature date.","title":"Removing elements from a Hashmap","body":"<p>You have committed a primary error trying to remove a key from the object map that you are iterating. You must to create a copy first for the object map you want to remove and than iterate over the copy. for the date stuff put it in a String variable and check if contains the month you are looking for and delete it. No need to change anything on the method signature date.</p>\n"}],"owner":{"account_id":16547770,"reputation":21,"user_id":11956876,"display_name":"Anthony Chalk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":887,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698419588,"creation_date":1572777204,"question_id":58679299,"body_markdown":"Remove elements from a HashMap\r\n\r\n\r\nI need to add 10 elements to a HashMap; name and DOB.\r\n\r\nThe removeAllSummerPeople should remove all those born in June, July, or August.\r\n\r\nVery unclear what needs to be done.\r\n\r\n```\r\n    public static HashMap&lt;String, Date&gt; createMap() throws ParseException {\r\n        DateFormat df = new SimpleDateFormat(&quot;MMMMM d yyyy&quot;, Locale.ENGLISH);\r\n        HashMap&lt;String, Date&gt; map = new HashMap&lt;String, Date&gt;();\r\n        map.put(&quot;Stallone&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n\r\n        //write your code here\r\n        map.put(&quot;a&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n        map.put(&quot;b&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n        map.put(&quot;c&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n        map.put(&quot;d&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n        map.put(&quot;e&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n        map.put(&quot;f&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n        map.put(&quot;g&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n        map.put(&quot;h&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n        map.put(&quot;i&quot;, df.parse(&quot;JUNE 1 1980&quot;));\r\n\r\n\r\n        return map;\r\n\r\n    }\r\n\r\n    public static void removeAllSummerPeople(HashMap&lt;String, Date&gt; map) {\r\n        //write your code here\r\n        for(HashMap.Entry&lt;String, Date&gt; pair : map.entrySet()){\r\n            int x = pair.getValue().getMonth();\r\n            if (x&gt;=6 &amp;&amp; x&lt;=8){\r\n                map.remove(pair.getKey());\r\n            }\r\n\r\n        }\r\n        \r\n\r\n    }\r\n```","title":"Removing elements from a Hashmap","body":"<p>Remove elements from a HashMap</p>\n\n<p>I need to add 10 elements to a HashMap; name and DOB.</p>\n\n<p>The removeAllSummerPeople should remove all those born in June, July, or August.</p>\n\n<p>Very unclear what needs to be done.</p>\n\n<pre><code>    public static HashMap&lt;String, Date&gt; createMap() throws ParseException {\n        DateFormat df = new SimpleDateFormat(\"MMMMM d yyyy\", Locale.ENGLISH);\n        HashMap&lt;String, Date&gt; map = new HashMap&lt;String, Date&gt;();\n        map.put(\"Stallone\", df.parse(\"JUNE 1 1980\"));\n\n        //write your code here\n        map.put(\"a\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"b\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"c\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"d\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"e\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"f\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"g\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"h\", df.parse(\"JUNE 1 1980\"));\n        map.put(\"i\", df.parse(\"JUNE 1 1980\"));\n\n\n        return map;\n\n    }\n\n    public static void removeAllSummerPeople(HashMap&lt;String, Date&gt; map) {\n        //write your code here\n        for(HashMap.Entry&lt;String, Date&gt; pair : map.entrySet()){\n            int x = pair.getValue().getMonth();\n            if (x&gt;=6 &amp;&amp; x&lt;=8){\n                map.remove(pair.getKey());\n            }\n\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","jtable","tabular"],"comments":[{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1488793690,"post_id":42621743,"comment_id":72373000,"body_markdown":"I don‚Äôt quite get your requirement. Could you indicate precisely how you would like your data to appear in your `JTable`, please?","body":"I don‚Äôt quite get your requirement. Could you indicate precisely how you would like your data to appear in your <code>JTable</code>, please?"},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1488793779,"post_id":42621743,"comment_id":72373064,"body_markdown":"Resetting `i` ‚Äî your loop control variable ‚Äî to 0 is dangerous and sure to produce unreadable code. Will your loop ever terminate?","body":"Resetting <code>i</code> ‚Äî your loop control variable ‚Äî to 0 is dangerous and sure to produce unreadable code. Will your loop ever terminate?"},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1488793884,"post_id":42621743,"comment_id":72373131,"body_markdown":"Also how is your code‚Äôs current behaviour different from the desired? Please be specific.","body":"Also how is your code‚Äôs current behaviour different from the desired? Please be specific."}],"owner":{"account_id":9785957,"reputation":1,"user_id":7665411,"display_name":"sitl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698419554,"creation_date":1488792002,"question_id":42621743,"body_markdown":"I have 9 columns and I calculate some data in loop and I want write data in different columns, how I can precise for which column data is? I want change column if (wynik &lt;2), but table.setValueAt isn&#39;t helpful because it&#39;s writing date in the same cell\r\n\r\nThis is what I want: \r\n\r\n![https://imgur.com/a/vHIiN](https://i.stack.imgur.com/xAs3f.jpg)\r\n\r\nThis is what I get: \r\n\r\n![https://imgur.com/a/qG3pv](https://i.stack.imgur.com/bSC70.jpg) \r\n\r\nThere is section from my code:\r\n\r\n    int[] arr = { 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19,\r\n                  20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\r\n                  36, 37, 38, 39, 40 };\r\n    \t            \r\n    double[] walce = { 257.175, 263.525, 304.8, 323.85, 333.375, 396.875, 415.925,\r\n                       454.025, 638.175 };\r\n    int w = 0;\r\n    \t            \r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        wynik = (walce[w]/arr[i])-wartoscWysokoscEtykiety;\r\n    \t            \t\r\n    \tmodel.addRow(new Object[]{\r\n    \t    wynik,\r\n        });\r\n    \t            \t\r\n    \tif (wynik &lt; 2) {\r\n    \t    table.setValueAt(wynik, i, w);\r\n    \t\tw = w +1;\r\n    \t\ti=0;\r\n    \t}\r\n\r\nThere is my whole code: [wklej.org/id/3057183/](http://wklej.org/id/3057183/).","title":"Precise columns to write data","body":"<p>I have 9 columns and I calculate some data in loop and I want write data in different columns, how I can precise for which column data is? I want change column if (wynik &lt;2), but table.setValueAt isn't helpful because it's writing date in the same cell</p>\n\n<p>This is what I want: </p>\n\n<p><img src=\"https://i.stack.imgur.com/xAs3f.jpg\" alt=\"https://imgur.com/a/vHIiN\"></p>\n\n<p>This is what I get: </p>\n\n<p><img src=\"https://i.stack.imgur.com/bSC70.jpg\" alt=\"https://imgur.com/a/qG3pv\"> </p>\n\n<p>There is section from my code:</p>\n\n<pre><code>int[] arr = { 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19,\n              20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n              36, 37, 38, 39, 40 };\n\ndouble[] walce = { 257.175, 263.525, 304.8, 323.85, 333.375, 396.875, 415.925,\n                   454.025, 638.175 };\nint w = 0;\n\nfor (int i = 0; i &lt; arr.length; i++) {\n    wynik = (walce[w]/arr[i])-wartoscWysokoscEtykiety;\n\n    model.addRow(new Object[]{\n        wynik,\n    });\n\n    if (wynik &lt; 2) {\n        table.setValueAt(wynik, i, w);\n        w = w +1;\n        i=0;\n    }\n</code></pre>\n\n<p>There is my whole code: <a href=\"http://wklej.org/id/3057183/\" rel=\"nofollow noreferrer\">wklej.org/id/3057183/</a>.</p>\n"},{"tags":["java","date","integer"],"comments":[{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1519209752,"post_id":48903676,"comment_id":84813080,"body_markdown":"The normal solution would be to use the standard `LocalDate` class. Is there anything preventing you from doing so? Asking because it may sound like homework, and homework assignments sometimes have funny unnatural restrictions.","body":"The normal solution would be to use the standard <code>LocalDate</code> class. Is there anything preventing you from doing so? Asking because it may sound like homework, and homework assignments sometimes have funny unnatural restrictions."},{"owner":{"account_id":2006972,"reputation":43172,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1519209795,"post_id":48903676,"comment_id":84813111,"body_markdown":"At least, one would normally write a method that compares two dates. Why can&#39;t you use methods?","body":"At least, one would normally write a method that compares two dates. Why can&#39;t you use methods?"},{"owner":{"account_id":2006972,"reputation":43172,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1519209999,"post_id":48903676,"comment_id":84813243,"body_markdown":"It is rather unclear what you have to do in each case. There are three possible cases: before 1950, between 1950 and 1975, and after 1975.","body":"It is rather unclear what you have to do in each case. There are three possible cases: before 1950, between 1950 and 1975, and after 1975."},{"owner":{"account_id":9967362,"reputation":581,"user_id":7374648,"display_name":"Rafael Paulino"},"score":0,"creation_date":1519210571,"post_id":48903676,"comment_id":84813705,"body_markdown":"Can you use math? Like summing and multiplying.","body":"Can you use math? Like summing and multiplying."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1693420820,"post_id":48903676,"comment_id":135760214,"body_markdown":"@OleVV &quot;Funny unnatural restrictions&quot; LOL","body":"@OleVV &quot;Funny unnatural restrictions&quot; LOL"}],"answers":[{"tags":[],"owner":{"account_id":9967362,"reputation":581,"user_id":7374648,"display_name":"Rafael Paulino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519210921,"creation_date":1519210921,"answer_id":48904231,"question_id":48903676,"body_markdown":"I&#39;ll give you the code for your first IF. You should do something similar in the second one.\r\n\r\nIf you can use math, it becomes lot easier:\r\n\r\n    if (bdyyyy * 10000 + bdmm * 100 + bddd &lt; 19751015) {\r\n\r\nBut if you can&#39;t do that, you have to:\r\n\r\n    if (\r\n        (bdyyyy &lt; 1975) ||\r\n        (bdyyyy == 1975 &amp;&amp; bdmm &lt; 10) ||\r\n        (bdyyyy == 1975 &amp;&amp; bdmm == 10 &amp;&amp; bddd &lt; 15)\r\n       ) {\r\n\r\nThat could also be simplified a bit,\r\n\r\n    if (\r\n        (bdyyyy &lt; 1975) ||\r\n        (bdyyyy == 1975 &amp;&amp; (\r\n             bdmm &lt; 10 ||\r\n             (bdmm == 10 &amp;&amp; bddd &lt; 15)\r\n        )\r\n       ) {\r\n","title":"How can I compare dates with 3 x primitive int dd mm yyyy?","body":"<p>I'll give you the code for your first IF. You should do something similar in the second one.</p>\n\n<p>If you can use math, it becomes lot easier:</p>\n\n<pre><code>if (bdyyyy * 10000 + bdmm * 100 + bddd &lt; 19751015) {\n</code></pre>\n\n<p>But if you can't do that, you have to:</p>\n\n<pre><code>if (\n    (bdyyyy &lt; 1975) ||\n    (bdyyyy == 1975 &amp;&amp; bdmm &lt; 10) ||\n    (bdyyyy == 1975 &amp;&amp; bdmm == 10 &amp;&amp; bddd &lt; 15)\n   ) {\n</code></pre>\n\n<p>That could also be simplified a bit,</p>\n\n<pre><code>if (\n    (bdyyyy &lt; 1975) ||\n    (bdyyyy == 1975 &amp;&amp; (\n         bdmm &lt; 10 ||\n         (bdmm == 10 &amp;&amp; bddd &lt; 15)\n    )\n   ) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519211842,"creation_date":1519211842,"answer_id":48904503,"question_id":48903676,"body_markdown":"This is one way to do it, though probably not what your assignment expects:\r\n\r\n    int compare = Arrays.compare(new int[] {bdyyyy, bdmm, bddd}, new int[] {1950, 10, 15});\r\n    if (compare &gt; 0) {\r\n        // It&#39;s after that date.\r\n        compare = Arrays.compare(new int[] {bdyyyy, bdmm, bddd}, new int[] {1975, 10, 15});\r\n        if (compare &lt; 0) {\r\n            // It&#39;s before this date.\r\n        }\r\n    }\r\n","title":"How can I compare dates with 3 x primitive int dd mm yyyy?","body":"<p>This is one way to do it, though probably not what your assignment expects:</p>\n\n<pre><code>int compare = Arrays.compare(new int[] {bdyyyy, bdmm, bddd}, new int[] {1950, 10, 15});\nif (compare &gt; 0) {\n    // It's after that date.\n    compare = Arrays.compare(new int[] {bdyyyy, bdmm, bddd}, new int[] {1975, 10, 15});\n    if (compare &lt; 0) {\n        // It's before this date.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12989775,"reputation":1,"user_id":9389331,"display_name":"Old Man Poh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698419528,"creation_date":1519209177,"question_id":48903676,"body_markdown":"I have a Java assignment yet one condition is I have to use 3 int dd mm yyyy to compare dates with another 3 int ddd mmm yyyy. \r\nI have to check whether someone&#39;s birthday is earlier than 15 Oct 1950, but if his BD is later, need to check whether if it is between 15 Oct 1950 and 16 Oct 1975. If yes continue with main conditions and stuff and if no, exit. And if his BD is older, proceed with main conditions. \r\nI can&#39;t use method or array, can&#39;t call class, only comparing primitive Int... \r\n\r\n\r\n    int bddd = kb.nextInt(); \r\n    int bdmm = kb.nextInt(); \r\n    int bdyyyy = kb.nextInt();\r\n\r\n    //how do I check dates with int?? \r\n    if(bdyyyy&lt;=1975 &amp;&amp; bdmm&lt;=10 &amp;&amp; bddd&lt;=15) {\r\n      int ddd = kb.nextInt(); \r\n      int mmm = kb.nextInt(); \r\n      int yyy = kb.nextInt();\r\n \r\n      if(yyy&gt;1950||(yyy&gt;=1950 &amp;&amp; mmm&lt;=10 &amp;&amp; ddd&lt;=16)){\r\n            // do another date check,\r\n               if(//date check true) {\r\n                   //  go back to main stuff\r\n               else\r\n                  System.out.println //end my misery\r\n    \r\n    \r\n    // main stuffs\r\n\r\n                               \r\n\t}\r\n","title":"How can I compare dates with 3 x primitive int dd mm yyyy?","body":"<p>I have a Java assignment yet one condition is I have to use 3 int dd mm yyyy to compare dates with another 3 int ddd mmm yyyy.\nI have to check whether someone's birthday is earlier than 15 Oct 1950, but if his BD is later, need to check whether if it is between 15 Oct 1950 and 16 Oct 1975. If yes continue with main conditions and stuff and if no, exit. And if his BD is older, proceed with main conditions.\nI can't use method or array, can't call class, only comparing primitive Int...</p>\n<pre><code>int bddd = kb.nextInt(); \nint bdmm = kb.nextInt(); \nint bdyyyy = kb.nextInt();\n\n//how do I check dates with int?? \nif(bdyyyy&lt;=1975 &amp;&amp; bdmm&lt;=10 &amp;&amp; bddd&lt;=15) {\n  int ddd = kb.nextInt(); \n  int mmm = kb.nextInt(); \n  int yyy = kb.nextInt();\n\n  if(yyy&gt;1950||(yyy&gt;=1950 &amp;&amp; mmm&lt;=10 &amp;&amp; ddd&lt;=16)){\n        // do another date check,\n           if(//date check true) {\n               //  go back to main stuff\n           else\n              System.out.println //end my misery\n\n\n// main stuffs\n\n                           \n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","entitymanager"],"answers":[{"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698403357,"creation_date":1698403357,"answer_id":77373518,"question_id":77372756,"body_markdown":"Please refer [EntityManager link](https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html) \r\n\r\n&gt; An EntityManager instance is associated with a persistence context. A persistence context is a set of entity instances in which for any persistent entity identity there is a unique entity instance. Within the persistence context, the entity instances and their lifecycle are managed. The EntityManager API is used to create and remove persistent entity instances, to find entities by their primary key, and to query over entities. \r\n\r\nYour configuration looks fine. refer this [github repository link](https://github.com/eugenp/tutorials/tree/master/persistence-modules/spring-data-jdbc/src/main/java/com/baeldung/springmultipledatasources)\r\n\r\nWe can define entity, repository and invoke inthe service layer.\r\n\r\nEntity:\r\n```\r\npackage eu.example.domain.entity.ds1.model;\r\n@Entity\r\npublic class Customer implements Serializable {\r\n// getter setters\r\n}\r\n```\r\nRepository:\r\n```\r\npackage eu.example.domain.entity.ds1.repository;\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Integer&gt; {}\r\n```\r\nService:\r\n```\r\npackage eu.example.domain.entity.ds1.service;\r\n@Service\r\npublic class CustomerServiceImpl implements CustomerService {\r\n\r\n    @Autowired\r\n    CustomerRepository customerRepository;\r\n\r\n    @Override\r\n    public List&lt;ClientSetting&gt; findClientDataSourceSettings() {\r\n\r\n        return customerRepository.findAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlternative \r\n```\r\n@Repository\r\npublic class CustomerInfoRepository {\r\n\r\n\t@Autowired\r\n\t@Qualifier(&quot;ds1EntityManagerFactoryBean&quot;)\r\n\tprivate EntityManager entityManager;\r\n\r\n\tpublic List&lt;Customer&gt; getCustomerInfo() {\r\n\r\n\t\tQuery query = entityManager.createNativeQuery(....);\r\n\t\treturn  query.getResultList();\r\n\r\n\t}\r\n\r\n\t@Transactional(&quot;ds1TransactionManager&quot;)\r\n\tpublic void updateCustomerInfo(String name, Long id) {\r\n\t\tQuery query = entityManager.createQuery(....);\r\n\t\t query.executeUpdate();\r\n\t}\r\n}\r\n```","title":"How to use specific EntityManagerFactory from multiple datasource configuration","body":"<p>Please refer <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html\" rel=\"nofollow noreferrer\">EntityManager link</a></p>\n<blockquote>\n<p>An EntityManager instance is associated with a persistence context. A persistence context is a set of entity instances in which for any persistent entity identity there is a unique entity instance. Within the persistence context, the entity instances and their lifecycle are managed. The EntityManager API is used to create and remove persistent entity instances, to find entities by their primary key, and to query over entities.</p>\n</blockquote>\n<p>Your configuration looks fine. refer this <a href=\"https://github.com/eugenp/tutorials/tree/master/persistence-modules/spring-data-jdbc/src/main/java/com/baeldung/springmultipledatasources\" rel=\"nofollow noreferrer\">github repository link</a></p>\n<p>We can define entity, repository and invoke inthe service layer.</p>\n<p>Entity:</p>\n<pre><code>package eu.example.domain.entity.ds1.model;\n@Entity\npublic class Customer implements Serializable {\n// getter setters\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>package eu.example.domain.entity.ds1.repository;\n@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Integer&gt; {}\n</code></pre>\n<p>Service:</p>\n<pre><code>package eu.example.domain.entity.ds1.service;\n@Service\npublic class CustomerServiceImpl implements CustomerService {\n\n    @Autowired\n    CustomerRepository customerRepository;\n\n    @Override\n    public List&lt;ClientSetting&gt; findClientDataSourceSettings() {\n\n        return customerRepository.findAll();\n    }\n\n}\n</code></pre>\n<p>Alternative</p>\n<pre><code>@Repository\npublic class CustomerInfoRepository {\n\n    @Autowired\n    @Qualifier(&quot;ds1EntityManagerFactoryBean&quot;)\n    private EntityManager entityManager;\n\n    public List&lt;Customer&gt; getCustomerInfo() {\n\n        Query query = entityManager.createNativeQuery(....);\n        return  query.getResultList();\n\n    }\n\n    @Transactional(&quot;ds1TransactionManager&quot;)\n    public void updateCustomerInfo(String name, Long id) {\n        Query query = entityManager.createQuery(....);\n         query.executeUpdate();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13902030,"reputation":67,"user_id":10037413,"display_name":"Minez97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77373518,"answer_count":1,"score":0,"last_activity_date":1698419437,"creation_date":1698396851,"question_id":77372756,"body_markdown":"I have a multiple datasource configuration and I&#39;m trying to use the EntityManagerFactory of the secondary DB.\r\nCurrently, when calling EntityManagerFactory, it only reference to primary DB configuration by retrieving error &quot;Not an Entity&quot;.\r\nThis is my configuration:\r\n\r\n**application.properties**\r\n```\r\nspring.ds.datasource1.url=jdbc:postgresql:x\r\nspring.ds.datasource1.username=user\r\nspring.ds.datasource1.password=\r\n\r\nspring.ds.datasource2.url=jdbc:postgresql:x\r\nspring.ds.datasource2.username=user\r\nspring.ds.datasource2.password=\r\n```\r\n**Datasource 1 configuration:**\r\n```\r\n@EnableJpaRepositories(basePackages = &quot;eu.example&quot;, entityManagerFactoryRef = &quot;ds1EntityManagerFactory&quot;, transactionManagerRef = &quot;ds1TransactionManager&quot;)\r\n@Configuration\r\npublic class Ds1DataSourceConfiguration {\r\n\r\n\tprivate static final String DS1_ENTITY_MANAGER_FACTORY = &quot;ds1EntityManagerFactory&quot;;\r\n\tprivate static final String DS1_TRANSACTION_MANAGER = &quot;ds1TransactionManager&quot;;\r\n\r\n\t@Primary\r\n\t@Bean\r\n\t@ConfigurationProperties(prefix = &quot;spring.ds.datasource1&quot;)\r\n\tpublic DataSourceProperties ds1DataSourceProperties() {\r\n\t\treturn new DataSourceProperties();\r\n\t}\r\n\r\n\t@Primary\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;spring.ds.datasource1&quot;)\r\n\tpublic DataSource ds1DataSource(DataSourceProperties properties) {\r\n\t\treturn properties\r\n\t\t\t\t.initializeDataSourceBuilder()\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Primary\r\n\t@Bean(name = DS1_ENTITY_MANAGER_FACTORY)\r\n\tpublic LocalContainerEntityManagerFactoryBean ds1EntityManagerFactoryBean(\r\n\t\t\tEntityManagerFactoryBuilder factoryBuilder, DataSource ds1Ds) {\r\n\t\treturn factoryBuilder\r\n\t\t\t\t.dataSource(ds1Ds)\r\n\t\t\t\t.packages(&quot;eu.example.domain.entity.ds1&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Primary\r\n\t@Bean(name = DS1_TRANSACTION_MANAGER)\r\n\tpublic PlatformTransactionManager ds1TransactionManager(\r\n\t\t\t@Qualifier(DS1_ENTITY_MANAGER_FACTORY) LocalContainerEntityManagerFactoryBean managerFactoryBean) {\r\n\t\tJpaTransactionManager jpaTransactionManager = new JpaTransactionManager();\r\n\t\tjpaTransactionManager.setEntityManagerFactory(managerFactoryBean.getObject());\r\n\t\treturn jpaTransactionManager;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Datasource 2 configuration** is similar to the configuration above without Primary annotation\r\n\r\n**Service class:**\r\n```\r\n@Service\r\npublic class TestService{\r\n\r\n    private final EntityManagerFactory et2;\r\n    \r\n    ...\r\n\r\n}\r\n```\r\n\r\n\r\nHow can we reference et2 inside Service class to Datasource 2 EntityManagerFactory without using Persistence Unit?\r\n\r\n\r\n\r\n","title":"How to use specific EntityManagerFactory from multiple datasource configuration","body":"<p>I have a multiple datasource configuration and I'm trying to use the EntityManagerFactory of the secondary DB.\nCurrently, when calling EntityManagerFactory, it only reference to primary DB configuration by retrieving error &quot;Not an Entity&quot;.\nThis is my configuration:</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.ds.datasource1.url=jdbc:postgresql:x\nspring.ds.datasource1.username=user\nspring.ds.datasource1.password=\n\nspring.ds.datasource2.url=jdbc:postgresql:x\nspring.ds.datasource2.username=user\nspring.ds.datasource2.password=\n</code></pre>\n<p><strong>Datasource 1 configuration:</strong></p>\n<pre><code>@EnableJpaRepositories(basePackages = &quot;eu.example&quot;, entityManagerFactoryRef = &quot;ds1EntityManagerFactory&quot;, transactionManagerRef = &quot;ds1TransactionManager&quot;)\n@Configuration\npublic class Ds1DataSourceConfiguration {\n\n    private static final String DS1_ENTITY_MANAGER_FACTORY = &quot;ds1EntityManagerFactory&quot;;\n    private static final String DS1_TRANSACTION_MANAGER = &quot;ds1TransactionManager&quot;;\n\n    @Primary\n    @Bean\n    @ConfigurationProperties(prefix = &quot;spring.ds.datasource1&quot;)\n    public DataSourceProperties ds1DataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Primary\n    @Bean\n    @ConfigurationProperties(&quot;spring.ds.datasource1&quot;)\n    public DataSource ds1DataSource(DataSourceProperties properties) {\n        return properties\n                .initializeDataSourceBuilder()\n                .build();\n    }\n\n    @Primary\n    @Bean(name = DS1_ENTITY_MANAGER_FACTORY)\n    public LocalContainerEntityManagerFactoryBean ds1EntityManagerFactoryBean(\n            EntityManagerFactoryBuilder factoryBuilder, DataSource ds1Ds) {\n        return factoryBuilder\n                .dataSource(ds1Ds)\n                .packages(&quot;eu.example.domain.entity.ds1&quot;)\n                .build();\n    }\n\n    @Primary\n    @Bean(name = DS1_TRANSACTION_MANAGER)\n    public PlatformTransactionManager ds1TransactionManager(\n            @Qualifier(DS1_ENTITY_MANAGER_FACTORY) LocalContainerEntityManagerFactoryBean managerFactoryBean) {\n        JpaTransactionManager jpaTransactionManager = new JpaTransactionManager();\n        jpaTransactionManager.setEntityManagerFactory(managerFactoryBean.getObject());\n        return jpaTransactionManager;\n    }\n\n}\n</code></pre>\n<p><strong>Datasource 2 configuration</strong> is similar to the configuration above without Primary annotation</p>\n<p><strong>Service class:</strong></p>\n<pre><code>@Service\npublic class TestService{\n\n    private final EntityManagerFactory et2;\n    \n    ...\n\n}\n</code></pre>\n<p>How can we reference et2 inside Service class to Datasource 2 EntityManagerFactory without using Persistence Unit?</p>\n"},{"tags":["java","arrays","string","arraylist"],"comments":[{"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"score":1,"creation_date":1584850531,"post_id":60795819,"comment_id":107563261,"body_markdown":"instead of IF-Else ..try using IF- ELSE IF - ELSE IF - ELSE ..code will be cleaner","body":"instead of IF-Else ..try using IF- ELSE IF - ELSE IF - ELSE ..code will be cleaner"},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1584850780,"post_id":60795819,"comment_id":107563305,"body_markdown":"Shouldn‚Äôt `db` become `{ &quot;d1b1&quot;, &quot;d2b1&quot;, &quot;d3b1&quot;, &quot;d4b1&quot;, &quot;d1b2&quot;, &quot;d2b2&quot;, &quot;d3b2&quot;, &quot;d4b2&quot; }`?","body":"Shouldn‚Äôt <code>db</code> become <code>{ &quot;d1b1&quot;, &quot;d2b1&quot;, &quot;d3b1&quot;, &quot;d4b1&quot;, &quot;d1b2&quot;, &quot;d2b2&quot;, &quot;d3b2&quot;, &quot;d4b2&quot; }</code>?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1584873428,"post_id":60795819,"comment_id":107567463,"body_markdown":"I can&#39;t tell from your problem description whether a letter repeats because of its position in the String, or repeats because of its position in the alphabet?","body":"I can&#39;t tell from your problem description whether a letter repeats because of its position in the String, or repeats because of its position in the alphabet?"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639403263,"creation_date":1639403263,"answer_id":70335706,"question_id":60795819,"body_markdown":"This is one of the rare occasions I&#39;ll answer homework, though Ole V.V. is right.\r\nWhen we do the homework, the learning effect is relative, and it is not honest with respect to those wo struggled.\r\n\r\n    public static String[] translate_string(String s) {\r\n        Set&lt;String&gt; translations = new HashSet&lt;&gt;();\r\n        if (!s.isEmpty()) {\r\n            s.codePoints(cp -&gt; {\r\n                String letter = new String(new int[] {cp}, 0, 1);\r\n                String[] more = translate_letter(letter);\r\n                if (more.length == 0) {\r\n                } else if (more.length == 1) {\r\n                    translations.add(more[0]);\r\n                } else {\r\n                    Set&lt;String&gt; prior_translations = new HashSet&lt;&gt;(translations);\r\n                    translations.clear();\r\n                    for (String prior: prior_translations) {\r\n                        for (String letter: letter_translations) {\r\n                            translations.add(prior + letter);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return translations.toArray(new String[0]);\r\n    }\r\n\r\nThe trick is: when having **N** translations and getting for a next letter **L** letter translations, the result is **N&#215;L** translations.\r\n\r\nThe answer of Ole V.V. explains things better.","title":"Tricky Java problem to split and manipulate String","body":"<p>This is one of the rare occasions I'll answer homework, though Ole V.V. is right.\nWhen we do the homework, the learning effect is relative, and it is not honest with respect to those wo struggled.</p>\n<pre><code>public static String[] translate_string(String s) {\n    Set&lt;String&gt; translations = new HashSet&lt;&gt;();\n    if (!s.isEmpty()) {\n        s.codePoints(cp -&gt; {\n            String letter = new String(new int[] {cp}, 0, 1);\n            String[] more = translate_letter(letter);\n            if (more.length == 0) {\n            } else if (more.length == 1) {\n                translations.add(more[0]);\n            } else {\n                Set&lt;String&gt; prior_translations = new HashSet&lt;&gt;(translations);\n                translations.clear();\n                for (String prior: prior_translations) {\n                    for (String letter: letter_translations) {\n                        translations.add(prior + letter);\n                    }\n                }\n            }\n        });\n    }\n    return translations.toArray(new String[0]);\n}\n</code></pre>\n<p>The trick is: when having <strong>N</strong> translations and getting for a next letter <strong>L</strong> letter translations, the result is <strong>N√óL</strong> translations.</p>\n<p>The answer of Ole V.V. explains things better.</p>\n"}],"owner":{"account_id":13831663,"reputation":11,"user_id":9984355,"display_name":"P Frank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698419434,"creation_date":1584849771,"question_id":60795819,"body_markdown":"I need to create a function in Java translate_string(),\r\nwhich is doing &quot;translation&quot; of the string letter by letter.\r\nFunction takes String as arg, and returns array of String[]:\r\n```\r\npublic static String[] translate_string(String string) \r\n```\r\n\r\nGiven existing function translate_letter(),\r\nwhich takes String as arg and returns array of String[]\r\n```\r\npublic static String[] translate_letter(String letter) \r\n```\r\nand it translating each letter, I need to sequentially translate\r\nthe whole string letter by letter into combination of output strings.\r\nComplexity is, that one character could be translated to multiple\r\nsets of characters, it is not one-to-one relationship between \r\ninput string and output string, it is - one-to-many relationship,\r\nwhere one letter as input could produce multiple combinations\r\n(i.e. arrays) as output.\r\n\r\nN.B.: Term translation has nothing to do with actual translation from \r\none language to another, it is just substitution of one character\r\nto set of other characters.\r\n\r\nBelow is exact code id simplified version of function\r\ntranslate_letter() (no modification is required):\r\n\r\n```\r\n//------------------------------------------------------------\r\n// translate letters - return array of diff combinations\r\npublic static String[] translate_letter(String s) {\r\n\r\n\tArrayList&lt;String&gt; o = new ArrayList&lt;&gt;(1);\r\n\r\n\tif ( s.equals(&quot;a&quot;) ) { // if a \r\n\t\to.add(&quot;a1&quot;);\r\n\t} else {\r\n\r\n\t\tif ( s.equals(&quot;b&quot;) ) { // if b\r\n\t\t\to.add(&quot;b1&quot;); o.add(&quot;b2&quot;);\r\n\t\t} else {\r\n\r\n\t\t\tif ( s.equals(&quot;c&quot;) ) { // if c \r\n\t\t\t\to.add(&quot;c1&quot;); o.add(&quot;c2&quot;); o.add(&quot;c3&quot;);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( s.equals(&quot;d&quot;) ) { // if d \r\n\t\t\t\t\to.add(&quot;d1&quot;); o.add(&quot;d2&quot;); o.add(&quot;d3&quot;); o.add(&quot;d4&quot;);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\to.add(s); // s = def add (if nothing above matches)\r\n\r\n\t\t\t\t} // end if d \r\n\r\n\t\t\t} // end if c\r\n\r\n\t\t} // end if b\r\n\r\n\t} // end if a\r\n\r\n\t//Convert ArrayList o to string array[]\r\n\tString[] array = o.toArray(new String[o.size()]);\r\n\r\n\treturn array;\r\n\r\n} // end translate_letter()\r\n//------------------------------------------------------------\r\n```\r\n\r\nSo, how to translate the string?\r\nLet&#39;s have a look at simple version of translate - when \r\ntranslate_letter() return just string.\r\nSo, letter &quot;a&quot; will be translated to &quot;a1&quot;, letter &quot;b&quot; \r\nwill be translated to &quot;b1&quot;, &quot;c&quot; - to &quot;c1&quot;.\r\nInput string &quot;a&quot; will be translated as &quot;a1&quot;, simple.\r\nInput string &quot;ab&quot; will be translated as &quot;a1b1&quot;, simple.\r\nInput string &quot;abc&quot; will be translated as &quot;a1b1c1&quot;, simple.\r\nI don&#39;t need to create this simple version - it is nothing to do here,\r\njust split the input string and translate each letter by letter.\r\n\r\nWhat I want to write (and I cannot do this) - is complicated version of translate_string(),\r\nwhen function translate_letter() returns multiple combinations,\r\ni.e. - array of output combinations.\r\n\r\nFor example (according to the code of translate_letter() above,\r\nletter &quot;a&quot; will be translated to &quot;a1&quot;, simple.\r\nBut letter &quot;b&quot; will be translated by translate_letter() to 2 combinations: \r\n&quot;b1&quot; and &quot;b2&quot;, \r\nand output is String[] array = {&quot;b1&quot;, &quot;b2&quot; }\r\n\r\nSo, string &quot;a&quot; will be translated by translate_string() as array of \r\njust 1 element R[] = { &quot;a1&quot; }\r\n\r\n\r\n```\r\nString &quot;ab&quot; will be translated as array of 2 elements \r\nR[] = { &quot;a1b1&quot;, &quot;a1b2&quot; }\r\n\r\nString &quot;abc&quot; will be translated as: \r\nR[] = { &quot;a1b1c1&quot;, &quot;a1b1c2&quot;, &quot;a1b1c3&quot;, &quot;a1b2c1&quot;, &quot;a1b2c2&quot;, &quot;a1b2c3&quot; }\r\n\r\nString &quot;db&quot; will be translated as: \r\nR[] = { &quot;d1b1&quot;, &quot;d2b1&quot;, &quot;d3b1&quot;, &quot;d4b1&quot;, &quot;d1b2&quot;, &quot;d2b2&quot;, &quot;d3b2&quot;, &quot;d4b2&quot; }\r\n\r\n```\r\n\r\nThis task is more complicated, than it seems initially just by\r\nlook at it. I have tried and failed with 2 approaches - simple Arrays[]\r\nand Array[] of ArrayList - cannot loop through two array (with different\r\nindexes) at once and need some external help or ideas - how to accomplish this.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Tricky Java problem to split and manipulate String","body":"<p>I need to create a function in Java translate_string(),\nwhich is doing \"translation\" of the string letter by letter.\nFunction takes String as arg, and returns array of String[]:</p>\n\n<pre><code>public static String[] translate_string(String string) \n</code></pre>\n\n<p>Given existing function translate_letter(),\nwhich takes String as arg and returns array of String[]</p>\n\n<pre><code>public static String[] translate_letter(String letter) \n</code></pre>\n\n<p>and it translating each letter, I need to sequentially translate\nthe whole string letter by letter into combination of output strings.\nComplexity is, that one character could be translated to multiple\nsets of characters, it is not one-to-one relationship between \ninput string and output string, it is - one-to-many relationship,\nwhere one letter as input could produce multiple combinations\n(i.e. arrays) as output.</p>\n\n<p>N.B.: Term translation has nothing to do with actual translation from \none language to another, it is just substitution of one character\nto set of other characters.</p>\n\n<p>Below is exact code id simplified version of function\ntranslate_letter() (no modification is required):</p>\n\n<pre><code>//------------------------------------------------------------\n// translate letters - return array of diff combinations\npublic static String[] translate_letter(String s) {\n\n    ArrayList&lt;String&gt; o = new ArrayList&lt;&gt;(1);\n\n    if ( s.equals(\"a\") ) { // if a \n        o.add(\"a1\");\n    } else {\n\n        if ( s.equals(\"b\") ) { // if b\n            o.add(\"b1\"); o.add(\"b2\");\n        } else {\n\n            if ( s.equals(\"c\") ) { // if c \n                o.add(\"c1\"); o.add(\"c2\"); o.add(\"c3\");\n            } else {\n\n                if ( s.equals(\"d\") ) { // if d \n                    o.add(\"d1\"); o.add(\"d2\"); o.add(\"d3\"); o.add(\"d4\");\n                } else {\n\n                    o.add(s); // s = def add (if nothing above matches)\n\n                } // end if d \n\n            } // end if c\n\n        } // end if b\n\n    } // end if a\n\n    //Convert ArrayList o to string array[]\n    String[] array = o.toArray(new String[o.size()]);\n\n    return array;\n\n} // end translate_letter()\n//------------------------------------------------------------\n</code></pre>\n\n<p>So, how to translate the string?\nLet's have a look at simple version of translate - when \ntranslate_letter() return just string.\nSo, letter \"a\" will be translated to \"a1\", letter \"b\" \nwill be translated to \"b1\", \"c\" - to \"c1\".\nInput string \"a\" will be translated as \"a1\", simple.\nInput string \"ab\" will be translated as \"a1b1\", simple.\nInput string \"abc\" will be translated as \"a1b1c1\", simple.\nI don't need to create this simple version - it is nothing to do here,\njust split the input string and translate each letter by letter.</p>\n\n<p>What I want to write (and I cannot do this) - is complicated version of translate_string(),\nwhen function translate_letter() returns multiple combinations,\ni.e. - array of output combinations.</p>\n\n<p>For example (according to the code of translate_letter() above,\nletter \"a\" will be translated to \"a1\", simple.\nBut letter \"b\" will be translated by translate_letter() to 2 combinations: \n\"b1\" and \"b2\", \nand output is String[] array = {\"b1\", \"b2\" }</p>\n\n<p>So, string \"a\" will be translated by translate_string() as array of \njust 1 element R[] = { \"a1\" }</p>\n\n<pre><code>String \"ab\" will be translated as array of 2 elements \nR[] = { \"a1b1\", \"a1b2\" }\n\nString \"abc\" will be translated as: \nR[] = { \"a1b1c1\", \"a1b1c2\", \"a1b1c3\", \"a1b2c1\", \"a1b2c2\", \"a1b2c3\" }\n\nString \"db\" will be translated as: \nR[] = { \"d1b1\", \"d2b1\", \"d3b1\", \"d4b1\", \"d1b2\", \"d2b2\", \"d3b2\", \"d4b2\" }\n\n</code></pre>\n\n<p>This task is more complicated, than it seems initially just by\nlook at it. I have tried and failed with 2 approaches - simple Arrays[]\nand Array[] of ArrayList - cannot loop through two array (with different\nindexes) at once and need some external help or ideas - how to accomplish this.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693450580,"creation_date":1693450580,"answer_id":77012604,"question_id":77011420,"body_markdown":"Please make sure that you are saving the both side of the reference since it is a bi-directional relationship.\r\n\r\nIn `Customer` class create a method like this:\r\n\r\n    public void addAddresses(Address address) {\r\n        addresses.add(address);\r\n        address.setCustomer(this);\r\n    }\r\n\r\nThen, create `Customer` and add `addresses`:\r\n\r\n    Customer c = new Customer();\r\n    c.addAddresses(new Address());\r\n    customerRepository.save(customer);","title":"Problem with bidirectional onetomany relationship in jpa (missing the id of one of the entities when created)","body":"<p>Please make sure that you are saving the both side of the reference since it is a bi-directional relationship.</p>\n<p>In <code>Customer</code> class create a method like this:</p>\n<pre><code>public void addAddresses(Address address) {\n    addresses.add(address);\n    address.setCustomer(this);\n}\n</code></pre>\n<p>Then, create <code>Customer</code> and add <code>addresses</code>:</p>\n<pre><code>Customer c = new Customer();\nc.addAddresses(new Address());\ncustomerRepository.save(customer);\n</code></pre>\n"}],"owner":{"account_id":29332714,"reputation":1,"user_id":22473807,"display_name":"Davide Aprea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698419318,"creation_date":1693428353,"question_id":77011420,"body_markdown":"So, I have a **OneToMany** relationship between two classes called **Customer** and **Address**.\r\n\r\nIn the **Customer** class I have:  \r\n```\r\n@OneToMany(mappedBy=&quot;customer&quot;, cascade = CascadeType.ALL)\r\nprivate Set&lt;Address&gt; addresses;\r\n```\r\n\r\nAnd in **Address** I have:  \r\n```\r\n@ManyToOne(optional=false)\r\nprivate Customer customer;\r\n```\r\n\r\nNow, when I try to create a new customer with its address everything works just fine, but in the Addresses table on my database, the column customer_id is null and I don&#39;t know why.  \r\nI thought **CascadeType.ALL** would&#39;ve done all of this linking job. I&#39;ve also tried adding a JoinColumn on the relationship on the Address side, but that didn&#39;t work either.  \r\nWhat should I do? I hope I&#39;ve been clear enough.","title":"Problem with bidirectional onetomany relationship in jpa (missing the id of one of the entities when created)","body":"<p>So, I have a <strong>OneToMany</strong> relationship between two classes called <strong>Customer</strong> and <strong>Address</strong>.</p>\n<p>In the <strong>Customer</strong> class I have:</p>\n<pre><code>@OneToMany(mappedBy=&quot;customer&quot;, cascade = CascadeType.ALL)\nprivate Set&lt;Address&gt; addresses;\n</code></pre>\n<p>And in <strong>Address</strong> I have:</p>\n<pre><code>@ManyToOne(optional=false)\nprivate Customer customer;\n</code></pre>\n<p>Now, when I try to create a new customer with its address everything works just fine, but in the Addresses table on my database, the column customer_id is null and I don't know why.<br />\nI thought <strong>CascadeType.ALL</strong> would've done all of this linking job. I've also tried adding a JoinColumn on the relationship on the Address side, but that didn't work either.<br />\nWhat should I do? I hope I've been clear enough.</p>\n"},{"tags":["java","date","for-loop","while-loop","leap-year"],"comments":[{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1602669808,"post_id":64344955,"comment_id":113791721,"body_markdown":"You may also accept your own answer (after a time, I think 12 hours).","body":"You may also accept your own answer (after a time, I think 12 hours)."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1602669925,"post_id":64344955,"comment_id":113791778,"body_markdown":"If this is an exercise, it‚Äôs a good one. For production code one would not and should not make one‚Äôs own leap year calculation, but should leave it to [`Year.isLeap()](https://docs.oracle.com/javase/9/docs/api/java/time/Year.html#isLeap--) or another good library method.","body":"If this is an exercise, it‚Äôs a good one. For production code one would not and should not make one‚Äôs own leap year calculation, but should leave it to <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Year.html#isLeap--\" rel=\"nofollow noreferrer\">`Year.isLeap()</a> or another good library method."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602635900,"creation_date":1602635900,"answer_id":64345004,"question_id":64344955,"body_markdown":"Your code is broken in multiple ways:\r\n\r\n1. You say: If the given year is a leap year, then the next leap year will be 4 years later. __This is false__. If you pass in 1896, your algorithm returns 1900, but this is wrong; whilst 1896 is a leap year, 1900 is not.\r\n\r\n2. Your isLeapYear code would be miles easier to read if you early-exit. That method should have a lot of return statements and fall less indentation.\r\n\r\n3. Your while loop will keep asking the same question over and over, and if you ask the same question to a stable method (and your isLeapYear method is stable), you get the same answer, resulting in an infinite loop. Presumably, you don&#39;t want `while(!leapYear(year))`, you want `while(!leapYear(year + nextLeap))`, and you don&#39;t want to increment nextLeap once more after the while loop.\r\n\r\n4. in fact, your edge case of: If the stated year is already a year, add 4 - is not necessary at all. Think about it: You can just eliminate that if/else part. Your code will just be `nextLeap`, that while loop, and a return statement. a 3-liner, if you do right.\r\n","title":"finding next leap year java","body":"<p>Your code is broken in multiple ways:</p>\n<ol>\n<li><p>You say: If the given year is a leap year, then the next leap year will be 4 years later. <strong>This is false</strong>. If you pass in 1896, your algorithm returns 1900, but this is wrong; whilst 1896 is a leap year, 1900 is not.</p>\n</li>\n<li><p>Your isLeapYear code would be miles easier to read if you early-exit. That method should have a lot of return statements and fall less indentation.</p>\n</li>\n<li><p>Your while loop will keep asking the same question over and over, and if you ask the same question to a stable method (and your isLeapYear method is stable), you get the same answer, resulting in an infinite loop. Presumably, you don't want <code>while(!leapYear(year))</code>, you want <code>while(!leapYear(year + nextLeap))</code>, and you don't want to increment nextLeap once more after the while loop.</p>\n</li>\n<li><p>in fact, your edge case of: If the stated year is already a year, add 4 - is not necessary at all. Think about it: You can just eliminate that if/else part. Your code will just be <code>nextLeap</code>, that while loop, and a return statement. a 3-liner, if you do right.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19729907,"reputation":1,"user_id":14445623,"display_name":"ayojava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602637481,"creation_date":1602637481,"answer_id":64345186,"question_id":64344955,"body_markdown":"EDIT: I figured it out yay!\r\n\r\nfor anybody struggling w/ this, this is what worked for me :)\r\n\r\n    public static boolean leapYear(int year) {\r\n        if(year % 4 == 0)\r\n        {\r\n            if( year % 100 == 0)\r\n            {\r\n                // year is divisible by 400, hence the year is a leap year\r\n                if ( year % 400 == 0)\r\n                    return true;\r\n                else\r\n                    return false;\r\n            }\r\n            else\r\n                return true;\r\n        }\r\n        else\r\n            return false;\r\n\t\t}\r\n\t\r\n\r\n\r\n\tpublic static int nextLeapYear (int year) {\r\n\t\tint nextLeap = 0;\r\n\t\t     while(leapYear(year + nextLeap) == false){\r\n\t\t    \t nextLeap++;\r\n\t\t    \r\n\t\t     }\r\n\t\t\t\r\n\t\t\tif(leapYear(year) == true)\r\n\t\t\t\tnextLeap += 4;\r\n\t\t\t\r\n\t\t\tyear += nextLeap;\r\n\t\t\treturn year;\r\n\r\n\t\t}","title":"finding next leap year java","body":"<p>EDIT: I figured it out yay!</p>\n<p>for anybody struggling w/ this, this is what worked for me :)</p>\n<pre><code>public static boolean leapYear(int year) {\n    if(year % 4 == 0)\n    {\n        if( year % 100 == 0)\n        {\n            // year is divisible by 400, hence the year is a leap year\n            if ( year % 400 == 0)\n                return true;\n            else\n                return false;\n        }\n        else\n            return true;\n    }\n    else\n        return false;\n    }\n\n\n\npublic static int nextLeapYear (int year) {\n    int nextLeap = 0;\n         while(leapYear(year + nextLeap) == false){\n             nextLeap++;\n        \n         }\n        \n        if(leapYear(year) == true)\n            nextLeap += 4;\n        \n        year += nextLeap;\n        return year;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602677859,"creation_date":1602642677,"answer_id":64345786,"question_id":64344955,"body_markdown":"Granted this doesn&#39;t take much processing.  But if you want to increase the efficiency of your program you might consider the following:\r\n\r\n- All leap years must be divisible by 4.  But not all years divisible by 4 are leap years.  So first, check for not divisible by 4. That will be 75% of the cases. In that event, return `false`.\r\n```\r\n   if (year % 4 != 0) {\r\n        return false;\r\n   }\r\n```\r\n- As you continue, the `year must be divisible by 4` so just make certain it is **not** a century year.  This will be evaluated 25% of the time and will return true 24% of the time. \r\n```\r\n   if (year % 100 != 0) {\r\n       return true;\r\n   }\r\n```\r\n\r\n- lastly, the only category not checked are years divided by 400. If we got here in the logic, then it must be a century year.  So return accordingly. This will evaluate to true .25% of the time.\r\n```\r\n  return year % 400 == 0;\r\n\r\n","title":"finding next leap year java","body":"<p>Granted this doesn't take much processing.  But if you want to increase the efficiency of your program you might consider the following:</p>\n<ul>\n<li>All leap years must be divisible by 4.  But not all years divisible by 4 are leap years.  So first, check for not divisible by 4. That will be 75% of the cases. In that event, return <code>false</code>.</li>\n</ul>\n<pre><code>   if (year % 4 != 0) {\n        return false;\n   }\n</code></pre>\n<ul>\n<li>As you continue, the <code>year must be divisible by 4</code> so just make certain it is <strong>not</strong> a century year.  This will be evaluated 25% of the time and will return true 24% of the time.</li>\n</ul>\n<pre><code>   if (year % 100 != 0) {\n       return true;\n   }\n</code></pre>\n<ul>\n<li>lastly, the only category not checked are years divided by 400. If we got here in the logic, then it must be a century year.  So return accordingly. This will evaluate to true .25% of the time.</li>\n</ul>\n<pre><code>  return year % 400 == 0;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612715965,"creation_date":1602665878,"answer_id":64349877,"question_id":64344955,"body_markdown":"&gt; Every year that is exactly divisible by four is a leap year, except\r\n&gt; for years that are exactly divisible by 100, but these centurial years\r\n&gt; are leap years if they are exactly divisible by 400. For example, the\r\n&gt; years 1700, 1800, and 1900 are not leap years, but the years 1600 and\r\n&gt; 2000 are.\r\n&gt; [- United States Naval Observatory][1]\r\n\r\nYou can greatly simplify the function, `leapYear` as shown below:\r\n\r\n    public static boolean leapYear(int year) {\r\n      return year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\r\n    }\r\n**Demo:**\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(leapYear(1999));\r\n    \t\tSystem.out.println(leapYear(2000));\r\n    \t\tSystem.out.println(leapYear(1900));\r\n    \t\tSystem.out.println(leapYear(1904));\r\n    \t}\r\n    \r\n    \tpublic static boolean leapYear(int year) {\r\n    \t\treturn year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    false\r\n    true\r\n    false\r\n    true\r\n\r\nThen, you can use it in the function, `nextLeapYear` as shown below:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(nextLeapYear(1999));\r\n    \t\tSystem.out.println(nextLeapYear(2000));\r\n    \t\tSystem.out.println(nextLeapYear(2001));\r\n    \t}\r\n    \r\n    \tpublic static int nextLeapYear(int year) {\r\n    \t\t// If year is already a leap year, return year + 4\r\n    \t\tif (leapYear(year)) {\r\n    \t\t\treturn year + 4;\r\n    \t\t}\r\n    \r\n    \t\t// Otherwise, keep incrementing year by one until you find a leap year\r\n    \t\twhile (!leapYear(year)) {\r\n    \t\t\tyear++;\r\n    \t\t}\r\n    \r\n    \t\treturn year;\r\n    \t}\r\n    \r\n    \tpublic static boolean leapYear(int year) {\r\n    \t\treturn year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2000\r\n    2004\r\n    2004\r\n\r\nIn production code, you should use the OOTB (Out-Of-The-Box) class, [`java.time.Year`][2] to deal with a year.\r\n\r\n    import java.time.Year;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(nextLeapYear(1999));\r\n    \t\tSystem.out.println(nextLeapYear(2000));\r\n    \t\tSystem.out.println(nextLeapYear(2001));\r\n    \t}\r\n    \r\n    \tpublic static int nextLeapYear(int year) {\r\n    \t\tYear yr = Year.of(year);\r\n    \t\t// If year is already a leap year, return year + 4\r\n    \t\tif (yr.isLeap()) {\r\n    \t\t\treturn yr.plusYears(4).getValue();\r\n    \t\t}\r\n    \r\n    \t\t// Otherwise, keep incrementing year by one until you find a leap year\r\n    \t\twhile (!yr.isLeap()) {\r\n    \t\t\tyr = yr.plusYears(1);\r\n    \t\t}\r\n    \r\n    \t\treturn yr.getValue();\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2000\r\n    2004\r\n    2004\r\n\r\nLearn more about the modern date-time API at **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gregorian_calendar\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Year.html","title":"finding next leap year java","body":"<blockquote>\n<p>Every year that is exactly divisible by four is a leap year, except\nfor years that are exactly divisible by 100, but these centurial years\nare leap years if they are exactly divisible by 400. For example, the\nyears 1700, 1800, and 1900 are not leap years, but the years 1600 and\n2000 are.\n<a href=\"https://en.wikipedia.org/wiki/Gregorian_calendar\" rel=\"nofollow noreferrer\">- United States Naval Observatory</a></p>\n</blockquote>\n<p>You can greatly simplify the function, <code>leapYear</code> as shown below:</p>\n<pre><code>public static boolean leapYear(int year) {\n  return year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\n}\n</code></pre>\n<p><strong>Demo:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // Test\n        System.out.println(leapYear(1999));\n        System.out.println(leapYear(2000));\n        System.out.println(leapYear(1900));\n        System.out.println(leapYear(1904));\n    }\n\n    public static boolean leapYear(int year) {\n        return year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>false\ntrue\nfalse\ntrue\n</code></pre>\n<p>Then, you can use it in the function, <code>nextLeapYear</code> as shown below:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // Test\n        System.out.println(nextLeapYear(1999));\n        System.out.println(nextLeapYear(2000));\n        System.out.println(nextLeapYear(2001));\n    }\n\n    public static int nextLeapYear(int year) {\n        // If year is already a leap year, return year + 4\n        if (leapYear(year)) {\n            return year + 4;\n        }\n\n        // Otherwise, keep incrementing year by one until you find a leap year\n        while (!leapYear(year)) {\n            year++;\n        }\n\n        return year;\n    }\n\n    public static boolean leapYear(int year) {\n        return year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2000\n2004\n2004\n</code></pre>\n<p>In production code, you should use the OOTB (Out-Of-The-Box) class, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.Year</code></a> to deal with a year.</p>\n<pre><code>import java.time.Year;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        System.out.println(nextLeapYear(1999));\n        System.out.println(nextLeapYear(2000));\n        System.out.println(nextLeapYear(2001));\n    }\n\n    public static int nextLeapYear(int year) {\n        Year yr = Year.of(year);\n        // If year is already a leap year, return year + 4\n        if (yr.isLeap()) {\n            return yr.plusYears(4).getValue();\n        }\n\n        // Otherwise, keep incrementing year by one until you find a leap year\n        while (!yr.isLeap()) {\n            yr = yr.plusYears(1);\n        }\n\n        return yr.getValue();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2000\n2004\n2004\n</code></pre>\n<p>Learn more about the modern date-time API at <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":19729907,"reputation":1,"user_id":14445623,"display_name":"ayojava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1698419150,"creation_date":1602635464,"question_id":64344955,"body_markdown":"The code works when the first year is a leap year so if I said the year was 2004 it would return 2008, but when the starting year is not a leap year, it returns nothing. How would I output that if, for ex: the given year was 2001, 2002, or 2003, the next leap year would be 2004. I know the while loop makes sense but I don&#39;t know what to put inside it. ALSO I can only use basic java formatting so no inputted classes like  java.time.Year\r\n\r\n\r\n```\r\npublic static boolean leapYear(int year) {\r\n  boolean isLeap = true;\r\n  if (year % 4 == 0) {\r\n    if (year % 100 == 0) {\r\n      if (year % 400 == 0)\r\n        isLeap = true;\r\n      else\r\n        isLeap = false;\r\n    } else\r\n      isLeap = true;\r\n  } else {\r\n    isLeap = false;\r\n  }\r\n  return isLeap;\r\n}\r\n\r\npublic static int nextLeapYear(int year) {\r\n  int nextLeap = 0;\r\n\r\n  if (leapYear(year)) {\r\n    nextLeap = nextLeap + 4;\r\n  } else {\r\n    while (!leapYear(year)) {\r\n      nextLeap++;\r\n    }\r\n    nextLeap += 1;\r\n  }\r\n  year += nextLeap;\r\n  return year;\r\n}\r\n```","title":"finding next leap year java","body":"<p>The code works when the first year is a leap year so if I said the year was 2004 it would return 2008, but when the starting year is not a leap year, it returns nothing. How would I output that if, for ex: the given year was 2001, 2002, or 2003, the next leap year would be 2004. I know the while loop makes sense but I don't know what to put inside it. ALSO I can only use basic java formatting so no inputted classes like  java.time.Year</p>\n<pre><code>public static boolean leapYear(int year) {\n  boolean isLeap = true;\n  if (year % 4 == 0) {\n    if (year % 100 == 0) {\n      if (year % 400 == 0)\n        isLeap = true;\n      else\n        isLeap = false;\n    } else\n      isLeap = true;\n  } else {\n    isLeap = false;\n  }\n  return isLeap;\n}\n\npublic static int nextLeapYear(int year) {\n  int nextLeap = 0;\n\n  if (leapYear(year)) {\n    nextLeap = nextLeap + 4;\n  } else {\n    while (!leapYear(year)) {\n      nextLeap++;\n    }\n    nextLeap += 1;\n  }\n  year += nextLeap;\n  return year;\n}\n</code></pre>\n"},{"tags":["java","apache-spark","spark-streaming","nats.io","nats-streaming-server"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1698419113,"post_id":77373826,"comment_id":136407504,"body_markdown":"Removed Hadoop tags since question is about Spark setup, not Hadoop itself.","body":"Removed Hadoop tags since question is about Spark setup, not Hadoop itself."},{"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"score":0,"creation_date":1698643255,"post_id":77373826,"comment_id":136426639,"body_markdown":"@OneCricketeer sure thanks.","body":"@OneCricketeer sure thanks."}],"answers":[{"tags":[],"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698417065,"creation_date":1698417065,"answer_id":77374999,"question_id":77373826,"body_markdown":"After adding **HADOOP_HOME** environment variable and added it&#39;s bin folder to Path I hadn&#39;t restarted my system. After restarting it, above error was gone ! However I was getting another error `java.lang.NoSuchMethodError` which was related to spark version mismatch which got resolved after I changed spark version to `&lt;spark.version&gt;3.3.3&lt;/spark.version&gt;` Finally was able to fetch message from Nats JetStream into my spark code !","title":"nats-spark-connector with Java giving an error","body":"<p>After adding <strong>HADOOP_HOME</strong> environment variable and added it's bin folder to Path I hadn't restarted my system. After restarting it, above error was gone ! However I was getting another error <code>java.lang.NoSuchMethodError</code> which was related to spark version mismatch which got resolved after I changed spark version to <code>&lt;spark.version&gt;3.3.3&lt;/spark.version&gt;</code> Finally was able to fetch message from Nats JetStream into my spark code !</p>\n"}],"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77374999,"answer_count":1,"score":1,"last_activity_date":1698419079,"creation_date":1698406413,"question_id":77373826,"body_markdown":"I&#39;m using nats-spark-connector ( https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced ) to connect to NATS Jetstream and consume the message and process using Spark Java code. Below is the code snippet\r\n\r\n\r\n     private static void sparkNatsTester() {\r\n    \t\tSparkSession spark = SparkSession.builder()\r\n    \t\t\t\t.appName(&quot;spark-with-nats&quot;)\r\n    \t\t\t\t.master(&quot;local&quot;)\r\n    //\t\t\t\t.config(&quot;spark.logConf&quot;, &quot;false&quot;)\r\n    \t\t\t\t  .config(&quot;spark.jars&quot;,\r\n    \t\t\t\t  &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\r\n    \t\t\t\t  )\r\n    //\t\t\t\t  .config(&quot;spark.executor.instances&quot;, &quot;2&quot;)\r\n    //\t\t\t\t  .config(&quot;spark.cores.max&quot;, &quot;4&quot;)\r\n    //\t\t\t\t  .config(&quot;spark.executor.memory&quot;, &quot;2g&quot;)\r\n    \t\t\t\t  .getOrCreate();\r\n    \t\tSystem.out.println(&quot;sparkSession : &quot;+ spark);\r\n    \t\tDataset&lt;Row&gt; df = spark.readStream()\r\n    \t\t\t    .format(&quot;nats&quot;)\r\n    \t\t\t    .option(&quot;nats.host&quot;, &quot;localhost&quot;)\r\n    \t\t\t    .option(&quot;nats.port&quot;, 4222)\r\n    \t\t\t    .option(&quot;nats.stream.name&quot;, &quot;my_stream&quot;)\r\n    \t\t\t    .option(&quot;nats.stream.subjects&quot;, &quot;my_sub&quot;)\r\n    \t\t\t    // wait 90 seconds for an ack before resending a message\r\n    \t\t\t    .option(&quot;nats.msg.ack.wait.secs&quot;, 1)\r\n    \t\t\t    //.option(&quot;nats.num.listeners&quot;, 2)\r\n    \t\t\t    // Each listener will fetch 10 messages at a time\r\n    \t\t\t   // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\r\n    \t\t\t    .load();\r\n    \t\tSystem.out.println(&quot;Successfully read nats stream !&quot;);\r\n    \t\t\r\n    \t\tStreamingQuery query;\r\n    \t\ttry {\r\n    \t\t\tquery = df.writeStream()\r\n    \t\t\t\t\t  .outputMode(&quot;append&quot;)\r\n    \t\t\t\t\t  .format(&quot;console&quot;)\r\n    \t\t\t\t\t  .start();\r\n    \t\t\tquery.awaitTermination();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t} \r\n\r\nIt successfully prints spark session object and &quot;Successfully read nats stream ! &quot; . After that it prints below two lines and then gives exception \r\n\r\n    Successfully read nats stream !\r\n    Status change nats: connection opened\r\n    Status change nats: connection closed\r\n\r\nException is `Caused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z`\r\n\r\nFull exception below : \r\n\r\n    Exception in thread &quot;stream execution thread for [id = 3ac2d1ac-4876-4c2a-a501-9f94e7e11300, runId = f72897c4-180d-4272-abe2-df9f3838e54b]&quot; org.apache.spark.sql.streaming.StreamingQueryException: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n    === Streaming Query ===\r\n    Identifier: [id = 3ac2d1ac-4876-4c2a-a501-9f94e7e11300, runId = f72897c4-180d-4272-abe2-df9f3838e54b]\r\n    Current Committed Offsets: {}\r\n    Current Available Offsets: {}\r\n    \r\n    Current State: ACTIVE\r\n    Thread State: RUNNABLE\r\n    \r\n    Logical Plan:\r\n    WriteToMicroBatchDataSource org.apache.spark.sql.execution.streaming.ConsoleTable$@16cfe41b, 3ac2d1ac-4876-4c2a-a501-9f94e7e11300, Append\r\n    +- StreamingExecutionRelation natsconnector.spark.NatsStreamingSource@4b0f9a63, [subject#3, dateTime#4, content#5]\r\n    \r\n    \tat org.apache.spark.sql.execution.streaming.StreamExecution.org$apache$spark$sql$execution$streaming$StreamExecution$$runStream(StreamExecution.scala:332)\r\n    \tat org.apache.spark.sql.execution.streaming.StreamExecution$$anon$1.$anonfun$run$1(StreamExecution.scala:211)\r\n    \tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n    \tat org.apache.spark.JobArtifactSet$.withActiveJobArtifactState(JobArtifactSet.scala:94)\r\n    \tat org.apache.spark.sql.execution.streaming.StreamExecution$$anon$1.run(StreamExecution.scala:211)\r\n    Caused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n    \tat org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\r\n    \tat org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:793)\r\n    \tat org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1249)\r\n    \tat org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1454)\r\n    \tat org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:601)\r\n    \tat org.apache.hadoop.fs.DelegateToFileSystem.listStatus(DelegateToFileSystem.java:177)\r\n    \tat org.apache.hadoop.fs.ChecksumFs.listStatus(ChecksumFs.java:548)\r\n    \tat org.apache.hadoop.fs.FileContext$Util$1.next(FileContext.java:1915)\r\n    \tat org.apache.hadoop.fs.FileContext$Util$1.next(FileContext.java:1911)\r\n    \tat org.apache.hadoop.fs.FSLinkResolver.resolve(FSLinkResolver.java:90)\r\n    \tat org.apache.hadoop.fs.FileContext$Util.listStatus(FileContext.java:1917)\r\n    \tat org.apache.hadoop.fs.FileContext$Util.listStatus(FileContext.java:1876)\r\n    \tat org.apache.hadoop.fs.FileContext$Util.listStatus(FileContext.java:1835)\r\n    \tat org.apache.spark.sql.execution.streaming.AbstractFileContextBasedCheckpointFileManager.list(CheckpointFileManager.scala:315)\r\n    \tat org.apache.spark.sql.execution.streaming.HDFSMetadataLog.listBatches(HDFSMetadataLog.scala:327)\r\n    \tat org.apache.spark.sql.execution.streaming.HDFSMetadataLog.getLatest(HDFSMetadataLog.scala:265)\r\n    \tat org.apache.spark.sql.execution.streaming.MicroBatchExecution.$anonfun$runActivatedStream$2(MicroBatchExecution.scala:253)\r\n    \tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n    \tat org.apache.spark.sql.execution.streaming.ProgressReporter.reportTimeTaken(ProgressReporter.scala:427)\r\n    \tat org.apache.spark.sql.execution.streaming.ProgressReporter.reportTimeTaken$(ProgressReporter.scala:425)\r\n    \tat org.apache.spark.sql.execution.streaming.StreamExecution.reportTimeTaken(StreamExecution.scala:67)\r\n    \tat org.apache.spark.sql.execution.streaming.MicroBatchExecution.$anonfun$runActivatedStream$1(MicroBatchExecution.scala:249)\r\n    \tat org.apache.spark.sql.execution.streaming.ProcessingTimeExecutor.execute(TriggerExecutor.scala:67)\r\n    \tat org.apache.spark.sql.execution.streaming.MicroBatchExecution.runActivatedStream(MicroBatchExecution.scala:239)\r\n    \tat org.apache.spark.sql.execution.streaming.StreamExecution.$anonfun$runStream$1(StreamExecution.scala:311)\r\n    \tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.execution.streaming.StreamExecution.org$apache$spark$sql$execution$streaming$StreamExecution$$runStream(StreamExecution.scala:289)\r\n    \t... 4 more\r\n\r\npom.xml snippet below for spark related dependencies : \r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;scala.version&gt;2.12&lt;/scala.version&gt;\r\n    \t\t&lt;spark.version&gt;3.5.0&lt;/spark.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-core_${scala.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spark.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-sql_${scala.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spark.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nI&#39;m setting below property before executing above method without which it was giving an error : \r\n\r\n    System.setProperty(&quot;hadoop.home.dir&quot;, &quot;C:\\\\Program Files\\\\Hadoop\\\\winutils-master\\\\hadoop-3.3.1\\\\&quot;);\r\n\r\nAnd also I&#39;ve set **HADOOP_HOME** environment variable and added it&#39;s bin folder to Path as per previous questions suggestions. \r\n\r\nIn the maven dependencies I can see hadoop related jar version is **3.3.4**. I tried to match its version with **winutils-master** hadoop version but still getting same error. \r\nCan you please let me know how to fix this error.","title":"nats-spark-connector with Java giving an error","body":"<p>I'm using nats-spark-connector ( <a href=\"https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced\" rel=\"nofollow noreferrer\">https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced</a> ) to connect to NATS Jetstream and consume the message and process using Spark Java code. Below is the code snippet</p>\n<pre><code> private static void sparkNatsTester() {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;spark-with-nats&quot;)\n                .master(&quot;local&quot;)\n//              .config(&quot;spark.logConf&quot;, &quot;false&quot;)\n                  .config(&quot;spark.jars&quot;,\n                  &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\n                  )\n//                .config(&quot;spark.executor.instances&quot;, &quot;2&quot;)\n//                .config(&quot;spark.cores.max&quot;, &quot;4&quot;)\n//                .config(&quot;spark.executor.memory&quot;, &quot;2g&quot;)\n                  .getOrCreate();\n        System.out.println(&quot;sparkSession : &quot;+ spark);\n        Dataset&lt;Row&gt; df = spark.readStream()\n                .format(&quot;nats&quot;)\n                .option(&quot;nats.host&quot;, &quot;localhost&quot;)\n                .option(&quot;nats.port&quot;, 4222)\n                .option(&quot;nats.stream.name&quot;, &quot;my_stream&quot;)\n                .option(&quot;nats.stream.subjects&quot;, &quot;my_sub&quot;)\n                // wait 90 seconds for an ack before resending a message\n                .option(&quot;nats.msg.ack.wait.secs&quot;, 1)\n                //.option(&quot;nats.num.listeners&quot;, 2)\n                // Each listener will fetch 10 messages at a time\n               // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\n                .load();\n        System.out.println(&quot;Successfully read nats stream !&quot;);\n        \n        StreamingQuery query;\n        try {\n            query = df.writeStream()\n                      .outputMode(&quot;append&quot;)\n                      .format(&quot;console&quot;)\n                      .start();\n            query.awaitTermination();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n    } \n</code></pre>\n<p>It successfully prints spark session object and &quot;Successfully read nats stream ! &quot; . After that it prints below two lines and then gives exception</p>\n<pre><code>Successfully read nats stream !\nStatus change nats: connection opened\nStatus change nats: connection closed\n</code></pre>\n<p>Exception is <code>Caused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z</code></p>\n<p>Full exception below :</p>\n<pre><code>Exception in thread &quot;stream execution thread for [id = 3ac2d1ac-4876-4c2a-a501-9f94e7e11300, runId = f72897c4-180d-4272-abe2-df9f3838e54b]&quot; org.apache.spark.sql.streaming.StreamingQueryException: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\n=== Streaming Query ===\nIdentifier: [id = 3ac2d1ac-4876-4c2a-a501-9f94e7e11300, runId = f72897c4-180d-4272-abe2-df9f3838e54b]\nCurrent Committed Offsets: {}\nCurrent Available Offsets: {}\n\nCurrent State: ACTIVE\nThread State: RUNNABLE\n\nLogical Plan:\nWriteToMicroBatchDataSource org.apache.spark.sql.execution.streaming.ConsoleTable$@16cfe41b, 3ac2d1ac-4876-4c2a-a501-9f94e7e11300, Append\n+- StreamingExecutionRelation natsconnector.spark.NatsStreamingSource@4b0f9a63, [subject#3, dateTime#4, content#5]\n\n    at org.apache.spark.sql.execution.streaming.StreamExecution.org$apache$spark$sql$execution$streaming$StreamExecution$$runStream(StreamExecution.scala:332)\n    at org.apache.spark.sql.execution.streaming.StreamExecution$$anon$1.$anonfun$run$1(StreamExecution.scala:211)\n    at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\n    at org.apache.spark.JobArtifactSet$.withActiveJobArtifactState(JobArtifactSet.scala:94)\n    at org.apache.spark.sql.execution.streaming.StreamExecution$$anon$1.run(StreamExecution.scala:211)\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:793)\n    at org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1249)\n    at org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1454)\n    at org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:601)\n    at org.apache.hadoop.fs.DelegateToFileSystem.listStatus(DelegateToFileSystem.java:177)\n    at org.apache.hadoop.fs.ChecksumFs.listStatus(ChecksumFs.java:548)\n    at org.apache.hadoop.fs.FileContext$Util$1.next(FileContext.java:1915)\n    at org.apache.hadoop.fs.FileContext$Util$1.next(FileContext.java:1911)\n    at org.apache.hadoop.fs.FSLinkResolver.resolve(FSLinkResolver.java:90)\n    at org.apache.hadoop.fs.FileContext$Util.listStatus(FileContext.java:1917)\n    at org.apache.hadoop.fs.FileContext$Util.listStatus(FileContext.java:1876)\n    at org.apache.hadoop.fs.FileContext$Util.listStatus(FileContext.java:1835)\n    at org.apache.spark.sql.execution.streaming.AbstractFileContextBasedCheckpointFileManager.list(CheckpointFileManager.scala:315)\n    at org.apache.spark.sql.execution.streaming.HDFSMetadataLog.listBatches(HDFSMetadataLog.scala:327)\n    at org.apache.spark.sql.execution.streaming.HDFSMetadataLog.getLatest(HDFSMetadataLog.scala:265)\n    at org.apache.spark.sql.execution.streaming.MicroBatchExecution.$anonfun$runActivatedStream$2(MicroBatchExecution.scala:253)\n    at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\n    at org.apache.spark.sql.execution.streaming.ProgressReporter.reportTimeTaken(ProgressReporter.scala:427)\n    at org.apache.spark.sql.execution.streaming.ProgressReporter.reportTimeTaken$(ProgressReporter.scala:425)\n    at org.apache.spark.sql.execution.streaming.StreamExecution.reportTimeTaken(StreamExecution.scala:67)\n    at org.apache.spark.sql.execution.streaming.MicroBatchExecution.$anonfun$runActivatedStream$1(MicroBatchExecution.scala:249)\n    at org.apache.spark.sql.execution.streaming.ProcessingTimeExecutor.execute(TriggerExecutor.scala:67)\n    at org.apache.spark.sql.execution.streaming.MicroBatchExecution.runActivatedStream(MicroBatchExecution.scala:239)\n    at org.apache.spark.sql.execution.streaming.StreamExecution.$anonfun$runStream$1(StreamExecution.scala:311)\n    at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.streaming.StreamExecution.org$apache$spark$sql$execution$streaming$StreamExecution$$runStream(StreamExecution.scala:289)\n    ... 4 more\n</code></pre>\n<p>pom.xml snippet below for spark related dependencies :</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;scala.version&gt;2.12&lt;/scala.version&gt;\n        &lt;spark.version&gt;3.5.0&lt;/spark.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_${scala.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_${scala.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I'm setting below property before executing above method without which it was giving an error :</p>\n<pre><code>System.setProperty(&quot;hadoop.home.dir&quot;, &quot;C:\\\\Program Files\\\\Hadoop\\\\winutils-master\\\\hadoop-3.3.1\\\\&quot;);\n</code></pre>\n<p>And also I've set <strong>HADOOP_HOME</strong> environment variable and added it's bin folder to Path as per previous questions suggestions.</p>\n<p>In the maven dependencies I can see hadoop related jar version is <strong>3.3.4</strong>. I tried to match its version with <strong>winutils-master</strong> hadoop version but still getting same error.\nCan you please let me know how to fix this error.</p>\n"},{"tags":["java","spring-boot","performance","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1698373160,"post_id":77368807,"comment_id":136400213,"body_markdown":"JMX should be supported, as well as JFR. Here are [some guides](https://www.graalvm.org/latest/guides/?topic=monitor). Did you build your image with `--enable-monitoring`?","body":"JMX should be supported, as well as JFR. Here are <a href=\"https://www.graalvm.org/latest/guides/?topic=monitor\" rel=\"nofollow noreferrer\">some guides</a>. Did you build your image with <code>--enable-monitoring</code>?"},{"owner":{"account_id":17316076,"reputation":26,"user_id":16473218,"display_name":"Saugat Thapaliya"},"score":0,"creation_date":1698376246,"post_id":77368807,"comment_id":136400455,"body_markdown":"I&#39;ve generated an image of a Spring Boot application using Gradle&#39;s nativeCompile. Could you please guide me on how to utilize the &#39;--enable-monitoring&#39; option?","body":"I&#39;ve generated an image of a Spring Boot application using Gradle&#39;s nativeCompile. Could you please guide me on how to utilize the &#39;--enable-monitoring&#39; option?"}],"answers":[{"tags":[],"owner":{"account_id":13620499,"reputation":111,"user_id":10628628,"display_name":"Alina Yurenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698418942,"creation_date":1698418942,"answer_id":77375227,"question_id":77368807,"body_markdown":"what is available in Native Image in terms of monitoring is the following:\r\n- JFR\r\n- jvmstat\r\n- JMX (experimental)\r\n- heap dump.\r\n\r\nYou need to enable monitoring with a flag, for example `--enable-monitoring=jvmstat`. For what you are looking to monitor, jvmstat and VisualVM would be a good fit. \r\n\r\n[Micrometer][1] should work with GraalVM as well.\r\n\r\nDepending on how exactly you want to monitor these metrics, you can also use external tooling, such as [psrecord][2].\r\n\r\n\r\n  [1]: https://micrometer.io/\r\n  [2]: https://github.com/astrofrog/psrecord","title":"Trouble Monitoring Performance Metrics for Native Executables Built with GraalVM","body":"<p>what is available in Native Image in terms of monitoring is the following:</p>\n<ul>\n<li>JFR</li>\n<li>jvmstat</li>\n<li>JMX (experimental)</li>\n<li>heap dump.</li>\n</ul>\n<p>You need to enable monitoring with a flag, for example <code>--enable-monitoring=jvmstat</code>. For what you are looking to monitor, jvmstat and VisualVM would be a good fit.</p>\n<p><a href=\"https://micrometer.io/\" rel=\"nofollow noreferrer\">Micrometer</a> should work with GraalVM as well.</p>\n<p>Depending on how exactly you want to monitor these metrics, you can also use external tooling, such as <a href=\"https://github.com/astrofrog/psrecord\" rel=\"nofollow noreferrer\">psrecord</a>.</p>\n"}],"owner":{"account_id":17316076,"reputation":26,"user_id":16473218,"display_name":"Saugat Thapaliya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698418942,"creation_date":1698337790,"question_id":77368807,"body_markdown":"I&#39;m currently working with native executables created using GraalVM, and I&#39;m interested in monitoring various performance metrics, such as CPU usage, thread activity, and memory usage. However, when I run the application, it doesn&#39;t appear in VisualVM&#39;s local application list. \r\n\r\nWhen i attempt to establish a manual connection using &quot;Add JMX Connection,&quot; the following stack trace was displayed in the application&#39;s running terminal.\r\n\r\n```\r\n2023-10-26T21:58:48.560+05:45  INFO 15900 --- [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n\r\njava.lang.IllegalArgumentException: Invalid character found in method name [JRMI0x000x02K...]. HTTP method names must be tokens\r\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:407) ~[na:na]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:264) ~[na:na]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[graalvm.exe:10.1.15]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[na:na]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[na:na]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[graalvm.exe:10.1.15]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[na:na]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[na:na]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[na:na]\r\n        at java.base@17.0.8/java.lang.Thread.run(Thread.java:833) ~[graalvm.exe:na]\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807) ~[graalvm.exe:na]\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.windows.WindowsPlatformThreads.osThreadStartRoutine(WindowsPlatformThreads.java:179) ~[na:na]\r\n```\r\n\r\nI&#39;d like to understand how to effectively monitor the performance of GraalVM native images. What tools and approaches can I use to achieve this? Any insights or guidance would be greatly appreciated.","title":"Trouble Monitoring Performance Metrics for Native Executables Built with GraalVM","body":"<p>I'm currently working with native executables created using GraalVM, and I'm interested in monitoring various performance metrics, such as CPU usage, thread activity, and memory usage. However, when I run the application, it doesn't appear in VisualVM's local application list.</p>\n<p>When i attempt to establish a manual connection using &quot;Add JMX Connection,&quot; the following stack trace was displayed in the application's running terminal.</p>\n<pre><code>2023-10-26T21:58:48.560+05:45  INFO 15900 --- [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name [JRMI0x000x02K...]. HTTP method names must be tokens\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:407) ~[na:na]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:264) ~[na:na]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[graalvm.exe:10.1.15]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[na:na]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[na:na]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[graalvm.exe:10.1.15]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[na:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[na:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[na:na]\n        at java.base@17.0.8/java.lang.Thread.run(Thread.java:833) ~[graalvm.exe:na]\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807) ~[graalvm.exe:na]\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.windows.WindowsPlatformThreads.osThreadStartRoutine(WindowsPlatformThreads.java:179) ~[na:na]\n</code></pre>\n<p>I'd like to understand how to effectively monitor the performance of GraalVM native images. What tools and approaches can I use to achieve this? Any insights or guidance would be greatly appreciated.</p>\n"},{"tags":["java","android","usb","ioio"],"comments":[{"owner":{"account_id":93151,"reputation":16435,"user_id":254973,"display_name":"Steven V"},"score":1,"creation_date":1410200897,"post_id":25730749,"comment_id":40227992,"body_markdown":"Possibly a [partial wake lock](https://developer.android.com/training/scheduling/wakelock.html#cpu)?","body":"Possibly a <a href=\"https://developer.android.com/training/scheduling/wakelock.html#cpu\" rel=\"nofollow noreferrer\">partial wake lock</a>?"},{"owner":{"account_id":4928534,"reputation":249,"user_id":3969091,"accept_rate":30,"display_name":"Majid ff"},"score":0,"creation_date":1410201398,"post_id":25730749,"comment_id":40228253,"body_markdown":"I will take a look for this, thanks Steven.","body":"I will take a look for this, thanks Steven."}],"answers":[{"tags":[],"owner":{"account_id":4885246,"reputation":462,"user_id":3937913,"display_name":"Tihomir Nedev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412178227,"creation_date":1412178227,"answer_id":26145220,"question_id":25730749,"body_markdown":"Option 1) Lock the screen so it always stays awake\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n\r\nOption 2) Fix your response to onPause().\r\n\r\nWhen the screen goes off the onPause() method is called and you should handle it as otherwise your activity will be closed. \r\n\r\n    @Override\r\n    protected void onPause() {\r\n        // Your code\r\n        super.onPause();\r\n    }\r\n\r\nThe onPause() normally calls the ioio.disconnect() so this should be overrode. ","title":"How to keep IOIO connected when android screen goes off?","body":"<p>Option 1) Lock the screen so it always stays awake</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n</code></pre>\n\n<p>Option 2) Fix your response to onPause().</p>\n\n<p>When the screen goes off the onPause() method is called and you should handle it as otherwise your activity will be closed. </p>\n\n<pre><code>@Override\nprotected void onPause() {\n    // Your code\n    super.onPause();\n}\n</code></pre>\n\n<p>The onPause() normally calls the ioio.disconnect() so this should be overrode. </p>\n"},{"tags":[],"owner":{"account_id":1639868,"reputation":1734,"user_id":1512532,"accept_rate":100,"display_name":"Isaac Gonzalez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422333831,"creation_date":1422333831,"answer_id":28163406,"question_id":25730749,"body_markdown":"[IOIOService][1] let&#180;s you run your code on the background even if application goes to the background.\r\n\r\n\r\n  [1]: https://github.com/ytai/ioio/tree/master/software/applications/HelloIOIOService","title":"How to keep IOIO connected when android screen goes off?","body":"<p><a href=\"https://github.com/ytai/ioio/tree/master/software/applications/HelloIOIOService\" rel=\"nofollow\">IOIOService</a> let¬¥s you run your code on the background even if application goes to the background.</p>\n"}],"owner":{"account_id":4928534,"reputation":249,"user_id":3969091,"accept_rate":30,"display_name":"Majid ff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698418343,"creation_date":1410200742,"question_id":25730749,"body_markdown":"I am using the following code with IOIO to act as a motion detector, the problem is the IOIO is disconnected whenever my phone screen goes off! I do not want the screen to stay on all the time to keep the IOIO connected!\r\n\r\n any solution please?\r\n\r\n```\r\n    package com.LookHin.ioio_pir_motion_sensor;\r\n\t\r\n\timport ioio.lib.api.AnalogInput;\r\n\timport ioio.lib.api.DigitalOutput;\r\n\timport ioio.lib.api.exception.ConnectionLostException;\r\n\timport ioio.lib.util.BaseIOIOLooper;\r\n\timport ioio.lib.util.IOIOLooper;\r\n\timport ioio.lib.util.android.IOIOActivity;\r\n\timport android.content.Intent;\r\n\timport android.graphics.Color;\r\n\timport android.media.Ringtone;\r\n\timport android.media.RingtoneManager;\r\n\timport android.net.Uri;\r\n\timport android.os.Bundle;\r\n\timport android.view.Menu;\r\n\timport android.view.MenuItem;\r\n\timport android.widget.TextView;\r\n\timport android.widget.Toast;\r\n\timport android.widget.ToggleButton;\r\n\t\r\n\tpublic class MainActivity extends IOIOActivity {\r\n\t\r\n\tprivate ToggleButton toggleButton1;\r\n\tprivate TextView textView1;\r\n\r\n\t@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        textView1 = (TextView) findViewById(R.id.textView1);\r\n        toggleButton1 = (ToggleButton) findViewById(R.id.toggleButton1);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n    \r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item)\r\n    {\r\n        switch (item.getItemId())\r\n        {\r\n        case R.id.action_about:\r\n        \t//Toast.makeText(getApplicationContext(), &quot;Show About&quot;, Toast.LENGTH_SHORT).show();\r\n        \t\r\n        \tIntent about = new Intent(this, AboutActivity.class);\r\n    \t\tstartActivity(about);\r\n    \t\t\r\n            return true;\r\n        default:\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    } \r\n    \r\n    \r\n    class Looper extends BaseIOIOLooper {\r\n\t\t\r\n    \tprivate DigitalOutput digital_led0;\r\n    \tprivate AnalogInput deigital_input;\r\n    \tint i = 0;\r\n    \t\r\n    \tprivate float InputStatus;\r\n    \t\r\n\t\t@Override\r\n\t\tprotected void setup() throws ConnectionLostException {\r\n\t\t\t\r\n\t\t\tdigital_led0 = ioio_.openDigitalOutput(0,true);\r\n\t\t\tdeigital_input = ioio_.openAnalogInput(45);\r\n\t\t\t\t\t\t\t\r\n\t\t\trunOnUiThread(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tToast.makeText(getApplicationContext(), &quot;IOIO Connect&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void loop() throws ConnectionLostException {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttry{\r\n\t\t\t\tdigital_led0.write(!toggleButton1.isChecked());\r\n\r\n\t\t\t\tInputStatus = deigital_input.getVoltage();\r\n\t\t\t\t\r\n\t\t\t\trunOnUiThread(new Runnable() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttextView1.setText(String.format(&quot;%.02f&quot;,InputStatus)+&quot; v.&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(InputStatus &gt;= 3.0){\r\n\t\t\t\t\t\t\ttextView1.setBackgroundColor(Color.RED);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (i == 0){\r\n\t\t\t\t\t\t\tUri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n\t\t\t\t\t\t    Ringtone r = RingtoneManager.getRingtone(getApplicationContext(), notification);\r\n\t\t\t\t\t\t    r.play();\r\n\t\t\t\t\t\t    i = 1;\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ttextView1.setBackgroundColor(Color.TRANSPARENT);\r\n\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tThread.sleep(100);\r\n\t\r\n\t\t\t}catch(InterruptedException e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n    \r\n\r\n\t@Override\r\n\tprotected IOIOLooper createIOIOLooper() {\r\n\t\treturn new Looper();\r\n\t}\r\n\t    \r\n}\r\n```","title":"How to keep IOIO connected when android screen goes off?","body":"<p>I am using the following code with IOIO to act as a motion detector, the problem is the IOIO is disconnected whenever my phone screen goes off! I do not want the screen to stay on all the time to keep the IOIO connected!</p>\n<p>any solution please?</p>\n<pre><code>    package com.LookHin.ioio_pir_motion_sensor;\n    \n    import ioio.lib.api.AnalogInput;\n    import ioio.lib.api.DigitalOutput;\n    import ioio.lib.api.exception.ConnectionLostException;\n    import ioio.lib.util.BaseIOIOLooper;\n    import ioio.lib.util.IOIOLooper;\n    import ioio.lib.util.android.IOIOActivity;\n    import android.content.Intent;\n    import android.graphics.Color;\n    import android.media.Ringtone;\n    import android.media.RingtoneManager;\n    import android.net.Uri;\n    import android.os.Bundle;\n    import android.view.Menu;\n    import android.view.MenuItem;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    import android.widget.ToggleButton;\n    \n    public class MainActivity extends IOIOActivity {\n    \n    private ToggleButton toggleButton1;\n    private TextView textView1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        textView1 = (TextView) findViewById(R.id.textView1);\n        toggleButton1 = (ToggleButton) findViewById(R.id.toggleButton1);\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n    \n    @Override\n    public boolean onOptionsItemSelected(MenuItem item)\n    {\n        switch (item.getItemId())\n        {\n        case R.id.action_about:\n            //Toast.makeText(getApplicationContext(), &quot;Show About&quot;, Toast.LENGTH_SHORT).show();\n            \n            Intent about = new Intent(this, AboutActivity.class);\n            startActivity(about);\n            \n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n        }\n    } \n    \n    \n    class Looper extends BaseIOIOLooper {\n        \n        private DigitalOutput digital_led0;\n        private AnalogInput deigital_input;\n        int i = 0;\n        \n        private float InputStatus;\n        \n        @Override\n        protected void setup() throws ConnectionLostException {\n            \n            digital_led0 = ioio_.openDigitalOutput(0,true);\n            deigital_input = ioio_.openAnalogInput(45);\n                            \n            runOnUiThread(new Runnable() {\n                public void run() {\n                    Toast.makeText(getApplicationContext(), &quot;IOIO Connect&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n            \n        }\n\n        @Override\n        public void loop() throws ConnectionLostException {\n            \n            \n            try{\n                digital_led0.write(!toggleButton1.isChecked());\n\n                InputStatus = deigital_input.getVoltage();\n                \n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        \n                        textView1.setText(String.format(&quot;%.02f&quot;,InputStatus)+&quot; v.&quot;);\n                        \n                        if(InputStatus &gt;= 3.0){\n                            textView1.setBackgroundColor(Color.RED);\n                            \n                            if (i == 0){\n                            Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n                            Ringtone r = RingtoneManager.getRingtone(getApplicationContext(), notification);\n                            r.play();\n                            i = 1;\n                            };\n                            \n                        }else{\n                            textView1.setBackgroundColor(Color.TRANSPARENT);\n                            i = 0;\n                        }\n                        \n                    }\n                });\n                \n                Thread.sleep(100);\n    \n            }catch(InterruptedException e){\n                e.printStackTrace();\n            }\n            \n        }\n    }\n    \n\n    @Override\n    protected IOIOLooper createIOIOLooper() {\n        return new Looper();\n    }\n        \n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1583358333,"post_id":60520607,"comment_id":107093602,"body_markdown":"FWIW, see https://github.com/bakdata/fluent-kafka-streams-tests","body":"FWIW, see <a href=\"https://github.com/bakdata/fluent-kafka-streams-tests\" rel=\"nofollow noreferrer\">github.com/bakdata/fluent-kafka-streams-tests</a>"},{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":1,"creation_date":1583815260,"post_id":60520607,"comment_id":107232774,"body_markdown":"Not 100% sure what the issue how. For a working example with TTD, Avro, SR, and mocking see: https://github.com/confluentinc/kafka-streams-examples/blob/5.4.1-post/src/test/java/io/confluent/examples/streams/GenericAvroIntegrationTest.java","body":"Not 100% sure what the issue how. For a working example with TTD, Avro, SR, and mocking see: <a href=\"https://github.com/confluentinc/kafka-streams-examples/blob/5.4.1-post/src/test/java/io/confluent/examples/streams/GenericAvroIntegrationTest.java\" rel=\"nofollow noreferrer\">github.com/confluentinc/kafka-streams-examples/blob/5.4.1-po&zwnj;&#8203;st/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583371874,"creation_date":1583371874,"answer_id":60537028,"question_id":60520607,"body_markdown":"I haven&#39;t tried with GenericAvroSerde, but with SpecificAvroSerde it has a constructor takes a param of the SchemaRegistryClient.\r\n\r\nWhen you create GenericAvroSerde, pass in your instance of mockSchemaRegistryClient so that it uses your mock, to force it to not use the SchemaRegistryClient that it will create itself (with the no arg constructor).\r\n\r\nAlso, remove the property for default.value.serde=GenericAvroSerde - if you configure this in your test like you normally would in your code under test, you configure an instance of GenericAvroSerde without the mock again, and at runtime it still attempts to connect to the schema.registry.url \r\n\r\nI don&#39;t know if this is how MockSchemaRegistryClient is intended to be used, but this approach worked for me when used with SpecificAvroSerde ","title":"Schema Registery Issue with Kafka Streams TopologyTestDriver with Avro record","body":"<p>I haven't tried with GenericAvroSerde, but with SpecificAvroSerde it has a constructor takes a param of the SchemaRegistryClient.</p>\n\n<p>When you create GenericAvroSerde, pass in your instance of mockSchemaRegistryClient so that it uses your mock, to force it to not use the SchemaRegistryClient that it will create itself (with the no arg constructor).</p>\n\n<p>Also, remove the property for default.value.serde=GenericAvroSerde - if you configure this in your test like you normally would in your code under test, you configure an instance of GenericAvroSerde without the mock again, and at runtime it still attempts to connect to the schema.registry.url </p>\n\n<p>I don't know if this is how MockSchemaRegistryClient is intended to be used, but this approach worked for me when used with SpecificAvroSerde </p>\n"}],"owner":{"account_id":17251583,"reputation":383,"user_id":12491669,"display_name":"abc_spark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1844,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1698417959,"creation_date":1583305246,"question_id":60520607,"body_markdown":"I am trying to test the kafka streams using the TopologyTestDriver. \r\nI am sharing the code snippet and the error I am facing.\r\n\r\n    public class ToplogyTest extends AvroSourceJsonTopologyTestSupport {\r\n        private static final String MOCK_SCHEMA_REGISTRY_URL = &quot;mock://test:8081&quot;;\r\n        private TopologyTestDriver testDriver;\r\n        private TestInputTopic&lt;String, GenericRecord&gt; inputTopic;\r\n        private MockSchemaRegistryClient schemaRegistryClient;\r\n    }\r\n\r\n      private final Properties props;\r\n\r\n    public ToplogyTest () {\r\n        super();\r\n         props = new Properties();\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;streamsTest&quot;);\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;dummy:1234&quot;);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\r\n        props.put(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, MOCK_SCHEMA_REGISTRY_URL); \r\n        schemaRegistryClient = new MockSchemaRegistryClient();\r\n    }\r\n\r\n     @BeforeEach\r\n       public void setup() throws Exception {\r\n    // Created the topology\r\n     // Create test driver\r\n            testDriver = new TopologyTestDriver(topology, props);\r\n            // Create Serdes used for test record keys and values\r\n            Serde&lt;String&gt; stringSerde = Serdes.String();\r\n            Serde&lt;GenericRecord&gt; avroSerde = new GenericAvroSerde();\r\n    final Map&lt;String,String&gt; avroSerdeConfig = new HashMap&lt;&gt;();\r\n            avroSerdeConfig.put(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, MOCK_SCHEMA_REGISTRY_URL);\r\n            avroSerde.configure(avroSerdeConfig, false);\r\n            usersTopic = testDriver.createInputTopic(\r\n                    &quot;input-topic&quot;,\r\n                    stringSerde.serializer(),\r\n                    avroSerde.serializer());\r\n    }\r\n      @Test\r\n      public void Test(){\r\n     usersTopic.pipeInput(&quot;null&quot;,record);\r\n    }\r\n\r\n&gt; Error org.apache.kafka.common.errors.SerializationException: Error\r\n&gt; serializing Avro message  Suppressed:\r\n&gt; java.lang.IllegalArgumentException: Please always:   Initialize the\r\n&gt; test driver at the end of setup before each test using provided\r\n&gt; method;   Close the test driver after each test using provided method.\r\n&gt; Caused by: java.net.MalformedURLException: unknown protocol: mock at\r\n&gt; java.net.URL.&lt;init&gt;(URL.java:618) at java.net.URL.&lt;init&gt;(URL.java:508)\r\n&gt; at java.net.URL.&lt;init&gt;(URL.java:457) at\r\n&gt; io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:\r\n&gt; 152)\r\n\r\nWhat i understood here is I am not able to register the mock schema registry. Is there anyone faced similar issue ? ","title":"Schema Registery Issue with Kafka Streams TopologyTestDriver with Avro record","body":"<p>I am trying to test the kafka streams using the TopologyTestDriver. \nI am sharing the code snippet and the error I am facing.</p>\n\n<pre><code>public class ToplogyTest extends AvroSourceJsonTopologyTestSupport {\n    private static final String MOCK_SCHEMA_REGISTRY_URL = \"mock://test:8081\";\n    private TopologyTestDriver testDriver;\n    private TestInputTopic&lt;String, GenericRecord&gt; inputTopic;\n    private MockSchemaRegistryClient schemaRegistryClient;\n}\n\n  private final Properties props;\n\npublic ToplogyTest () {\n    super();\n     props = new Properties();\n    props.put(StreamsConfig.APPLICATION_ID_CONFIG, \"streamsTest\");\n    props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"dummy:1234\");\n    props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n    props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\n    props.put(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, MOCK_SCHEMA_REGISTRY_URL); \n    schemaRegistryClient = new MockSchemaRegistryClient();\n}\n\n @BeforeEach\n   public void setup() throws Exception {\n// Created the topology\n // Create test driver\n        testDriver = new TopologyTestDriver(topology, props);\n        // Create Serdes used for test record keys and values\n        Serde&lt;String&gt; stringSerde = Serdes.String();\n        Serde&lt;GenericRecord&gt; avroSerde = new GenericAvroSerde();\nfinal Map&lt;String,String&gt; avroSerdeConfig = new HashMap&lt;&gt;();\n        avroSerdeConfig.put(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, MOCK_SCHEMA_REGISTRY_URL);\n        avroSerde.configure(avroSerdeConfig, false);\n        usersTopic = testDriver.createInputTopic(\n                \"input-topic\",\n                stringSerde.serializer(),\n                avroSerde.serializer());\n}\n  @Test\n  public void Test(){\n usersTopic.pipeInput(\"null\",record);\n}\n</code></pre>\n\n<blockquote>\n  <p>Error org.apache.kafka.common.errors.SerializationException: Error\n  serializing Avro message  Suppressed:\n  java.lang.IllegalArgumentException: Please always:   Initialize the\n  test driver at the end of setup before each test using provided\n  method;   Close the test driver after each test using provided method.\n  Caused by: java.net.MalformedURLException: unknown protocol: mock at\n  java.net.URL.(URL.java:618) at java.net.URL.(URL.java:508)\n  at java.net.URL.(URL.java:457) at\n  io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:\n  152)</p>\n</blockquote>\n\n<p>What i understood here is I am not able to register the mock schema registry. Is there anyone faced similar issue ? </p>\n"},{"tags":["java","ssl","openssl","keytool"],"answers":[{"tags":[],"owner":{"account_id":2416078,"reputation":745,"user_id":2110052,"display_name":"ijrandom"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1361895246,"creation_date":1361895246,"answer_id":15093933,"question_id":15093440,"body_markdown":"Add -storepass to keytool arguments.\r\n\r\n    keytool -storepasswd -storepass &#39;&#39; -keystore mykeystore.jks\r\n\r\nBut also notice that -list command does not always require a password. I could execute follow command in both cases: without password or with valid password \r\n\r\n    $JAVA_HOME/bin/keytool -list -keystore $JAVA_HOME/jre/lib/security/cacerts","title":"Change keystore password from no password to a non blank password","body":"<p>Add -storepass to keytool arguments.</p>\n\n<pre><code>keytool -storepasswd -storepass '' -keystore mykeystore.jks\n</code></pre>\n\n<p>But also notice that -list command does not always require a password. I could execute follow command in both cases: without password or with valid password </p>\n\n<pre><code>$JAVA_HOME/bin/keytool -list -keystore $JAVA_HOME/jre/lib/security/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97993,"reputation":90061,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1441270490,"creation_date":1441270490,"answer_id":32371148,"question_id":15093440,"body_markdown":"If you&#39;re trying to do stuff with the Java default system keystore (`cacerts`), then the default password is `changeit`.\r\n\r\nYou can list keys without needing the password (even if it prompts you) so don&#39;t take that as an indication that it is blank.\r\n\r\n(Incidentally who in the history of Java ever has changed the default keystore password? They should have left it blank.)","title":"Change keystore password from no password to a non blank password","body":"<p>If you're trying to do stuff with the Java default system keystore (<code>cacerts</code>), then the default password is <code>changeit</code>.</p>\n\n<p>You can list keys without needing the password (even if it prompts you) so don't take that as an indication that it is blank.</p>\n\n<p>(Incidentally who in the history of Java ever has changed the default keystore password? They should have left it blank.)</p>\n"},{"tags":[],"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580316679,"creation_date":1580316679,"answer_id":59971945,"question_id":15093440,"body_markdown":"On my system the password is &#39;changeit&#39;. On blank if I hit enter then it complains about short password. Hope this helps\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a77kq.png","title":"Change keystore password from no password to a non blank password","body":"<p>On my system the password is 'changeit'. On blank if I hit enter then it complains about short password. Hope this helps</p>\n\n<p><a href=\"https://i.stack.imgur.com/a77kq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a77kq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7562862,"reputation":836,"user_id":5739647,"display_name":"Eduardo Cerqueira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612978644,"creation_date":1612978644,"answer_id":66142080,"question_id":15093440,"body_markdown":"this way worked better for me:\r\n\r\n```\r\necho y | keytool -storepasswd -storepass 123456 -keystore /tmp/IT-Root-CA.keystore -import -alias IT-Root-CA -file /etc/pki/ca-trust/source/anchors/IT-Root-CA.crt\r\n```\r\nmachine running:\r\n```\r\n[root@rhel80-68]# cat /etc/redhat-release \r\nRed Hat Enterprise Linux release 8.1 (Ootpa)\r\n```\r\n","title":"Change keystore password from no password to a non blank password","body":"<p>this way worked better for me:</p>\n<pre><code>echo y | keytool -storepasswd -storepass 123456 -keystore /tmp/IT-Root-CA.keystore -import -alias IT-Root-CA -file /etc/pki/ca-trust/source/anchors/IT-Root-CA.crt\n</code></pre>\n<p>machine running:</p>\n<pre><code>[root@rhel80-68]# cat /etc/redhat-release \nRed Hat Enterprise Linux release 8.1 (Ootpa)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22747498,"reputation":61,"user_id":16908097,"display_name":"collers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657103081,"creation_date":1657103081,"answer_id":72881863,"question_id":15093440,"body_markdown":"Mine did actually have no password (rather than a blank password) so the solution above didn&#39;t work. The solution was to import the keystore to a new keystore:\r\n\r\n    keytool -importkeystore -srckeystore KeystoreWithNoPassword.jks -destkeystore NewKeystore.jks -deststorepass newPassword\r\n","title":"Change keystore password from no password to a non blank password","body":"<p>Mine did actually have no password (rather than a blank password) so the solution above didn't work. The solution was to import the keystore to a new keystore:</p>\n<pre><code>keytool -importkeystore -srckeystore KeystoreWithNoPassword.jks -destkeystore NewKeystore.jks -deststorepass newPassword\n</code></pre>\n"}],"owner":{"account_id":743291,"reputation":4158,"user_id":726047,"accept_rate":87,"display_name":"Matthew Kirkley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193751,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":15093933,"answer_count":5,"score":56,"last_activity_date":1698416860,"creation_date":1361893834,"question_id":15093440,"body_markdown":"I have a jks keystore with no password.  When I run the command\r\n\r\n```none\r\nkeytool -list -keystore mykeystore.jks\r\n```\r\n\r\nAnd it prompts me for the keystore password, I simply hit &#39;enter&#39;.\r\n\r\nPlease note that the keystore password IS NOT the default java password of &#39;changeit&#39;. It is blank\r\n\r\nWhen I try to run\r\n\r\n```none\r\nkeytool -storepasswd -keystore mykeystore.jks\r\n```\r\n\r\nto change the password to a non blank string. It firsts prompts me for the current password. Simply hitting enter since it is blank says\r\n\r\n```none\r\nkeytool -storepasswd -keystore mykeystore.jks\r\nEnter keystore password:\r\nKeystore password is too short - must be at least 6 characters \r\n```\r\n\r\nJust to confirm with everyone that the password is not &#39;changeit&#39;\r\n\r\n```none\r\nkeytool -storepasswd -keystore mykeystore.jks\r\nEnter keystore password:  changeit\r\nkeytool error: java.io.IOException: Keystore was tampered with, or password was incorrect\r\n```\r\n\r\nAny idea how I can change the keystore password if the existing password is blank?\r\n","title":"Change keystore password from no password to a non blank password","body":"<p>I have a jks keystore with no password.  When I run the command</p>\n<pre class=\"lang-none prettyprint-override\"><code>keytool -list -keystore mykeystore.jks\n</code></pre>\n<p>And it prompts me for the keystore password, I simply hit 'enter'.</p>\n<p>Please note that the keystore password IS NOT the default java password of 'changeit'. It is blank</p>\n<p>When I try to run</p>\n<pre class=\"lang-none prettyprint-override\"><code>keytool -storepasswd -keystore mykeystore.jks\n</code></pre>\n<p>to change the password to a non blank string. It firsts prompts me for the current password. Simply hitting enter since it is blank says</p>\n<pre class=\"lang-none prettyprint-override\"><code>keytool -storepasswd -keystore mykeystore.jks\nEnter keystore password:\nKeystore password is too short - must be at least 6 characters \n</code></pre>\n<p>Just to confirm with everyone that the password is not 'changeit'</p>\n<pre class=\"lang-none prettyprint-override\"><code>keytool -storepasswd -keystore mykeystore.jks\nEnter keystore password:  changeit\nkeytool error: java.io.IOException: Keystore was tampered with, or password was incorrect\n</code></pre>\n<p>Any idea how I can change the keystore password if the existing password is blank?</p>\n"},{"tags":["java","unit-testing","apache-kafka","mockito","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1698416419,"creation_date":1565703005,"answer_id":57478836,"question_id":57475464,"body_markdown":"You can mock the template but it&#39;s better to mock the interface.\r\n\r\n\t\tMySender sender = new MySender();\r\n\t\tKafkaOperations template = mock(KafkaOperations.class);\r\n\t\tSettableListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new SettableListenableFuture&lt;&gt;();\r\n\t\twhen(template.send(anyString(), any(Message.class))).thenReturn(future);\r\n  \t\tsender.setTemplate(template);\r\n        sender.send(...);\r\n    \r\n\t\tfuture.set(new SendResult&lt;&gt;(...));\r\n\t\t\r\n        ...or...\r\n\r\n\t\tfuture.setException(...\r\n\r\n\r\n__EDIT__\r\n\r\nUpdated to `CompletableFuture` (Spring for Apache Kafka 3.0.x and later)...\r\n\r\n```java\r\npublic class MySender {\r\n\r\n\tprivate  KafkaOperations&lt;String, String&gt; template;\r\n\r\n\tpublic void setTemplate(KafkaOperations&lt;String, String&gt; template) {\r\n\t\tthis.template = template;\r\n\t}\r\n\r\n\tpublic void send(String topic, Message&lt;?&gt; data) {\r\n\t\tCompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future = this.template.send(data);\r\n\t\tfuture.whenComplete((result, ex) -&gt; {\r\n\t\t\tif (ex == null) {\r\n\t\t\t\tSystem.out.println(result);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(ex.getClass().getSimpleName() + &quot;(&quot; + ex.getMessage() + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\n@ExtendWith(OutputCaptureExtension.class)\r\npublic class So57475464ApplicationTests {\r\n\r\n\t@Test\r\n\tpublic void test(CapturedOutput captureOutput) {\r\n\t\tMessage message = new GenericMessage&lt;&gt;(&quot;foo&quot;);\r\n\t\tMySender sender = new MySender();\r\n\t\tKafkaOperations template = mock(KafkaOperations.class);\r\n\t\tCompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new CompletableFuture&lt;&gt;();\r\n\t\tgiven(template.send(any(Message.class))).willReturn(future);\r\n\t\tsender.setTemplate(template);\r\n\t\tsender.send(&quot;foo&quot;, message);\r\n\t\tfuture.completeExceptionally(new RuntimeException(&quot;foo&quot;));\r\n\t\tassertThat(captureOutput).contains(&quot;RuntimeException(foo)&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to mock result from KafkaTemplate","body":"<p>You can mock the template but it's better to mock the interface.</p>\n<pre><code>    MySender sender = new MySender();\n    KafkaOperations template = mock(KafkaOperations.class);\n    SettableListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new SettableListenableFuture&lt;&gt;();\n    when(template.send(anyString(), any(Message.class))).thenReturn(future);\n    sender.setTemplate(template);\n    sender.send(...);\n\n    future.set(new SendResult&lt;&gt;(...));\n    \n    ...or...\n\n    future.setException(...\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Updated to <code>CompletableFuture</code> (Spring for Apache Kafka 3.0.x and later)...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySender {\n\n    private  KafkaOperations&lt;String, String&gt; template;\n\n    public void setTemplate(KafkaOperations&lt;String, String&gt; template) {\n        this.template = template;\n    }\n\n    public void send(String topic, Message&lt;?&gt; data) {\n        CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future = this.template.send(data);\n        future.whenComplete((result, ex) -&gt; {\n            if (ex == null) {\n                System.out.println(result);\n            }\n            else {\n                System.out.println(ex.getClass().getSimpleName() + &quot;(&quot; + ex.getMessage() + &quot;)&quot;);\n            }\n        });\n    }\n\n}\n\n@ExtendWith(OutputCaptureExtension.class)\npublic class So57475464ApplicationTests {\n\n    @Test\n    public void test(CapturedOutput captureOutput) {\n        Message message = new GenericMessage&lt;&gt;(&quot;foo&quot;);\n        MySender sender = new MySender();\n        KafkaOperations template = mock(KafkaOperations.class);\n        CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new CompletableFuture&lt;&gt;();\n        given(template.send(any(Message.class))).willReturn(future);\n        sender.setTemplate(template);\n        sender.send(&quot;foo&quot;, message);\n        future.completeExceptionally(new RuntimeException(&quot;foo&quot;));\n        assertThat(captureOutput).contains(&quot;RuntimeException(foo)&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13244227,"reputation":715,"user_id":9563846,"display_name":"Bali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18017,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":57478836,"answer_count":1,"score":15,"last_activity_date":1698416419,"creation_date":1565690545,"question_id":57475464,"body_markdown":"I have a method for sending kafka message like this: \r\n\r\n \r\n\r\n    @Async\r\n    public void sendMessage(String topicName, Message message) {\r\n        ListenableFuture&lt;SendResult&lt;String, Message &gt;&gt; future = kafkaTemplate.send(topicName, message);\r\n\r\n        future.addCallback(new ListenableFutureCallback&lt;&gt;() {\r\n\r\n            @Override\r\n            public void onSuccess(SendResult&lt;String, Message &gt; result) {\r\n                //do nothing\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable ex) {\r\n                log.error(&quot;something wrong happened&quot;!);\r\n            }\r\n        });\r\n    }\r\n\r\nAnd now I am writing unit tests for it. I would like to test also the two callback methods `onSuccess` and `onFailure` methods, so my I idea is to mock the KafkaTemplate, something like : \r\n \r\n\r\n    KafkaTemplate kafkaTemplate = Mockito.mock(KafkaTemplate.class);\r\n\r\nBut now I am getting stuck on the mocking result for these two cases:\r\n\r\n    when(kafkaTemplate.send(anyString(), any(Message.class))).thenReturn(????);\r\n\r\nwhat should I put in the `thenReturn` method for the case success and for the case failure? Does anyone have an idea please? Thank you very much!","title":"How to mock result from KafkaTemplate","body":"<p>I have a method for sending kafka message like this: </p>\n\n<pre><code>@Async\npublic void sendMessage(String topicName, Message message) {\n    ListenableFuture&lt;SendResult&lt;String, Message &gt;&gt; future = kafkaTemplate.send(topicName, message);\n\n    future.addCallback(new ListenableFutureCallback&lt;&gt;() {\n\n        @Override\n        public void onSuccess(SendResult&lt;String, Message &gt; result) {\n            //do nothing\n        }\n\n        @Override\n        public void onFailure(Throwable ex) {\n            log.error(\"something wrong happened\"!);\n        }\n    });\n}\n</code></pre>\n\n<p>And now I am writing unit tests for it. I would like to test also the two callback methods <code>onSuccess</code> and <code>onFailure</code> methods, so my I idea is to mock the KafkaTemplate, something like : </p>\n\n<pre><code>KafkaTemplate kafkaTemplate = Mockito.mock(KafkaTemplate.class);\n</code></pre>\n\n<p>But now I am getting stuck on the mocking result for these two cases:</p>\n\n<pre><code>when(kafkaTemplate.send(anyString(), any(Message.class))).thenReturn(????);\n</code></pre>\n\n<p>what should I put in the <code>thenReturn</code> method for the case success and for the case failure? Does anyone have an idea please? Thank you very much!</p>\n"},{"tags":["java","avro"],"comments":[{"owner":{"account_id":2016079,"reputation":1865,"user_id":1803356,"accept_rate":71,"display_name":"suiwenfeng"},"score":0,"creation_date":1698418978,"post_id":77374887,"comment_id":136407470,"body_markdown":"no such issue in my repo, paste more details on the description, such as avro version, jdk version, two compared schema...","body":"no such issue in my repo, paste more details on the description, such as avro version, jdk version, two compared schema..."}],"owner":{"account_id":1412218,"reputation":9144,"user_id":1338588,"accept_rate":64,"display_name":"Kulasangar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698416216,"creation_date":1698416216,"question_id":77374887,"body_markdown":"I&#39;ve been recently trying to compare two Avro Schemas using the SchemaCompatibility.[checkReaderWriterCompatibility][1] method and I&#39;m being returned with the following exception, which I cannot understand. Yes I do understand the meaning of the exception, but I&#39;m not sure why is it happening.\r\n\r\n&gt; org.apache.avro.AvroRuntimeException: Reader record field offerUid\r\n&gt; type:UNION pos:1 matches multiple fields in writer record schema\r\n\r\n\r\n\r\nWhen I compare the [schemas][2], there&#39;s a column named `offerUid` in both without any differences. The only difference I see in the schema, which is expected, since I added a new description for a column. But the exception that throws is nothing related to the description that I updated. \r\n\r\nThis is the piece of line where it throws the exception:\r\n\r\n    SchemaCompatibility.SchemaPairCompatibility backwardsCompatibility = SchemaCompatibility.checkReaderWriterCompatibility(newSchema, existingSchema);\r\n\r\nHas anyone faced the same? Any help is appreciated.\r\n\r\n\r\n\r\n\r\n  [1]: https://avro.apache.org/docs/1.7.7/api/java/org/apache/avro/SchemaCompatibility.html\r\n  [2]: https://avro.apache.org/docs/1.7.7/api/java/org/apache/avro/Schema.html","title":"org.apache.avro.AvroRuntimeException: Reader record field type:UNION pos:1 matches multiple fields in writer record schema","body":"<p>I've been recently trying to compare two Avro Schemas using the SchemaCompatibility.<a href=\"https://avro.apache.org/docs/1.7.7/api/java/org/apache/avro/SchemaCompatibility.html\" rel=\"nofollow noreferrer\">checkReaderWriterCompatibility</a> method and I'm being returned with the following exception, which I cannot understand. Yes I do understand the meaning of the exception, but I'm not sure why is it happening.</p>\n<blockquote>\n<p>org.apache.avro.AvroRuntimeException: Reader record field offerUid\ntype:UNION pos:1 matches multiple fields in writer record schema</p>\n</blockquote>\n<p>When I compare the <a href=\"https://avro.apache.org/docs/1.7.7/api/java/org/apache/avro/Schema.html\" rel=\"nofollow noreferrer\">schemas</a>, there's a column named <code>offerUid</code> in both without any differences. The only difference I see in the schema, which is expected, since I added a new description for a column. But the exception that throws is nothing related to the description that I updated.</p>\n<p>This is the piece of line where it throws the exception:</p>\n<pre><code>SchemaCompatibility.SchemaPairCompatibility backwardsCompatibility = SchemaCompatibility.checkReaderWriterCompatibility(newSchema, existingSchema);\n</code></pre>\n<p>Has anyone faced the same? Any help is appreciated.</p>\n"},{"tags":["java","github","sonarqube","github-actions","sonarqube-scan"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698415607,"creation_date":1698415607,"answer_id":77374813,"question_id":77373748,"body_markdown":"I&#39;d simply use Maven (or Gradle if you&#39;re already using that) and use its SonarQube plugin. I&#39;ve done that for dozens of repositories successfully.\r\n\r\nAn example from my own actions (so don&#39;t forget to replace the organization if you copy-paste this):\r\n```yaml\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n          cache: &#39;maven&#39;\r\n      - name: SonarQube Scan\r\n        run: |\r\n          mvn clean \\\r\n              -Dcheckstyle.skip=true \\\r\n              -Dmaven.javadoc.skip=true \\\r\n              org.jacoco:jacoco-maven-plugin:prepare-agent \\\r\n              package \\\r\n              verify -Dgpg.skip=true \\\r\n              org.jacoco:jacoco-maven-plugin:report \\\r\n              org.sonarsource.scanner.maven:sonar-maven-plugin:sonar \\\r\n              -Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml \\\r\n              -Dsonar.organization=robtimus-github \\\r\n              --file pom.xml -B --no-transfer-progress\r\n        env:\r\n          SONAR_TOKEN: ${{ secrets.SonarCloudToken }}\r\n          SONAR_HOST_URL: https://sonarcloud.io\r\n      - name: SonarQube Quality Gate check\r\n        uses: sonarsource/sonarqube-quality-gate-action@master\r\n        timeout-minutes: 5\r\n        env:\r\n          SONAR_TOKEN: ${{ secrets.SonarCloudToken }}\r\n          SONAR_HOST_URL: https://sonarcloud.io\r\n        with:\r\n          scanMetadataReportFile: target/sonar/report-task.txt\r\n```\r\nThe two skip arguments are because I don&#39;t need any Checkstyle or GPG just to run SonarQube.\r\nThe JaCoCo stuff is there for getting code coverage reported in SonarQube.\r\nMy POM and its parent do not contain anything related to SonarQube or JaCoCo, all that&#39;s done through these command-line settings.\r\n\r\n(I can probably get rid of the `package` goal as it&#39;s implied by `verify`)","title":"Unable to run sonarqube scan for my java repository using github actions","body":"<p>I'd simply use Maven (or Gradle if you're already using that) and use its SonarQube plugin. I've done that for dozens of repositories successfully.</p>\n<p>An example from my own actions (so don't forget to replace the organization if you copy-paste this):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n          cache: 'maven'\n      - name: SonarQube Scan\n        run: |\n          mvn clean \\\n              -Dcheckstyle.skip=true \\\n              -Dmaven.javadoc.skip=true \\\n              org.jacoco:jacoco-maven-plugin:prepare-agent \\\n              package \\\n              verify -Dgpg.skip=true \\\n              org.jacoco:jacoco-maven-plugin:report \\\n              org.sonarsource.scanner.maven:sonar-maven-plugin:sonar \\\n              -Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml \\\n              -Dsonar.organization=robtimus-github \\\n              --file pom.xml -B --no-transfer-progress\n        env:\n          SONAR_TOKEN: ${{ secrets.SonarCloudToken }}\n          SONAR_HOST_URL: https://sonarcloud.io\n      - name: SonarQube Quality Gate check\n        uses: sonarsource/sonarqube-quality-gate-action@master\n        timeout-minutes: 5\n        env:\n          SONAR_TOKEN: ${{ secrets.SonarCloudToken }}\n          SONAR_HOST_URL: https://sonarcloud.io\n        with:\n          scanMetadataReportFile: target/sonar/report-task.txt\n</code></pre>\n<p>The two skip arguments are because I don't need any Checkstyle or GPG just to run SonarQube.\nThe JaCoCo stuff is there for getting code coverage reported in SonarQube.\nMy POM and its parent do not contain anything related to SonarQube or JaCoCo, all that's done through these command-line settings.</p>\n<p>(I can probably get rid of the <code>package</code> goal as it's implied by <code>verify</code>)</p>\n"}],"owner":{"account_id":15446251,"reputation":3033,"user_id":11143113,"display_name":"Ashar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77374813,"answer_count":1,"score":-2,"last_activity_date":1698415607,"creation_date":1698405678,"question_id":77373748,"body_markdown":"Below is my github actions call to help sonarqube scan my repository\r\n\r\n\r\n      - name: SonarQube Scanner-Windows\r\n\r\n        if: ${{ inputs.runsonar ==&#39;true&#39; }}\r\n\r\n        uses: jimseiwert/sonarqube-scanner-windows@v1.0\r\n\r\n        with:\r\n\r\n          host-url: http://sonar-rm.mybank.com:9000/\r\n\r\n          token: ${{ secrets.SONAR_TOKEN }}\r\n\r\n          project-key: &#39;MY_WEB&#39;\r\n\r\n          project-name: ${{ inputs.repo }}\r\n\r\n \r\n\r\nOutput:\r\n\r\n \r\n\r\n&gt; D:\\Git-Runners\\mycomp\\_work\\_actions\\jimseiwert\\sonarqube-scanner-windows\\v1.0\\scanner\\bin\\sonar-scanner.bat\r\n&gt; --define sonar.host.url=http://sonar-rm.mybank.com:9000/ --define sonar.login=&quot;***&quot; --define sonar.projectKey=&quot;My_WEB&quot; --define\r\n&gt; sonar.projectName=&quot;mybank/myrepo&quot;\r\n\r\n \r\n\r\nand then fails as below:\r\n\r\n     \r\n    \r\n    NFO: Project configuration:\r\n    INFO:   Excluded sources: **/*jquery*, **/*kendo*/**/*, **/node_modules/**, **/*kendo*/**/*, **/*jquery*, **/node_modules/**\r\n\r\n \r\n\r\n    ERROR: Error during SonarScanner execution\r\n    \r\n    INFO: ------------------------------------------------------------------------\r\n    \r\n    org.sonar.java.AnalysisException: Your project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property.\r\n    \r\n                  at org.sonar.java.classpath.ClasspathForMain.init(ClasspathForMain.java:75)\r\n    \r\n                  at org.sonar.java.classpath.AbstractClasspath.getElements(AbstractClasspath.java:319)\r\n    \r\n                  at org.sonar.java.SonarComponents.getJavaClasspath(SonarComponents.java:205)\r\n\r\n \r\n\r\nI m not sure how can i get this sonarqube scanner to scan my java project.\r\n\r\nI&#39;m fine with other solutions if any.\r\n\r\nI would also like to know whatever the solution be where would i be able to find the scan reports?\r\n\r\nI do not have sonar scanner installed on my runner and i m looking for a market place solution. Incase there is no solution i would appreciate if you can guide me on how to use my self hosted runner to do the sonar scans.\r\n\r\nI&#39;m also open to sonarqube scanning using Maven.\r\n","title":"Unable to run sonarqube scan for my java repository using github actions","body":"<p>Below is my github actions call to help sonarqube scan my repository</p>\n<pre><code>  - name: SonarQube Scanner-Windows\n\n    if: ${{ inputs.runsonar =='true' }}\n\n    uses: jimseiwert/sonarqube-scanner-windows@v1.0\n\n    with:\n\n      host-url: http://sonar-rm.mybank.com:9000/\n\n      token: ${{ secrets.SONAR_TOKEN }}\n\n      project-key: 'MY_WEB'\n\n      project-name: ${{ inputs.repo }}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>D:\\Git-Runners\\mycomp_work_actions\\jimseiwert\\sonarqube-scanner-windows\\v1.0\\scanner\\bin\\sonar-scanner.bat\n--define sonar.host.url=http://sonar-rm.mybank.com:9000/ --define sonar.login=&quot;***&quot; --define sonar.projectKey=&quot;My_WEB&quot; --define\nsonar.projectName=&quot;mybank/myrepo&quot;</p>\n</blockquote>\n<p>and then fails as below:</p>\n<pre><code>NFO: Project configuration:\nINFO:   Excluded sources: **/*jquery*, **/*kendo*/**/*, **/node_modules/**, **/*kendo*/**/*, **/*jquery*, **/node_modules/**\n\n\n\nERROR: Error during SonarScanner execution\n\nINFO: ------------------------------------------------------------------------\n\norg.sonar.java.AnalysisException: Your project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property.\n\n              at org.sonar.java.classpath.ClasspathForMain.init(ClasspathForMain.java:75)\n\n              at org.sonar.java.classpath.AbstractClasspath.getElements(AbstractClasspath.java:319)\n\n              at org.sonar.java.SonarComponents.getJavaClasspath(SonarComponents.java:205)\n</code></pre>\n<p>I m not sure how can i get this sonarqube scanner to scan my java project.</p>\n<p>I'm fine with other solutions if any.</p>\n<p>I would also like to know whatever the solution be where would i be able to find the scan reports?</p>\n<p>I do not have sonar scanner installed on my runner and i m looking for a market place solution. Incase there is no solution i would appreciate if you can guide me on how to use my self hosted runner to do the sonar scans.</p>\n<p>I'm also open to sonarqube scanning using Maven.</p>\n"},{"tags":["java","android","react-native","kotlin"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1698420647,"post_id":77374729,"comment_id":136407817,"body_markdown":"You can try it yourself. Install the app on a device, then change capitalisation of packageName and install that app. You should end up with the app installed twice.","body":"You can try it yourself. Install the app on a device, then change capitalisation of packageName and install that app. You should end up with the app installed twice."}],"owner":{"account_id":11778189,"reputation":5288,"user_id":8618818,"accept_rate":78,"display_name":"Onyx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698420559,"answer_count":0,"score":0,"last_activity_date":1698415331,"creation_date":1698414883,"question_id":77374729,"body_markdown":"So I have a React Native Android application with applicationId of com.example.exampleApp, however, react-native-auth0 is not working because of the capitalisation in the applicationId, which is why I am wondering if changing the capitalisation of the applicationId of an already published application would cause issues?\r\n\r\nAccording to the Android documentation, once I&#39;ve published my app, I should never change the application ID. If I change the application ID, Google Play Store would treat the upload as a completely different app.\r\n\r\nIs this valid if I&#39;m just changing the capitalisation of the applicationId?","title":"Would changing the applicationId of a published Android application from com.example.exampleApp to com.example.exampleapp cause issues?","body":"<p>So I have a React Native Android application with applicationId of com.example.exampleApp, however, react-native-auth0 is not working because of the capitalisation in the applicationId, which is why I am wondering if changing the capitalisation of the applicationId of an already published application would cause issues?</p>\n<p>According to the Android documentation, once I've published my app, I should never change the application ID. If I change the application ID, Google Play Store would treat the upload as a completely different app.</p>\n<p>Is this valid if I'm just changing the capitalisation of the applicationId?</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":17270161,"reputation":190,"user_id":12506059,"display_name":"Kristian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698415116,"creation_date":1698414496,"question_id":77374684,"body_markdown":"I&#39;ve created a foreground service notification and now I am trying to update the toolbar icon without affecting the content icon of notication (showed when toolbar is expanded). \r\n\r\nHere&#39;s the [example of desired behaviour][1] I am trying to achieve.\r\n\r\nI tried doing this with an update call of new notification with a different small icon (`setSmallIcon()`) however this method changes both icons. The only way I found working was to set the small icon and then setting `setCustomContentView()`. However this approach seemed like too much of a workaround based on what I am trying to achieve, and raised some issues with mirroring of the original notifiction like:\r\n\r\n 1. the `setSmallIcon()` method changes the size of the notification to fit the display params. In custom layout I have to specify width and height of imageView and even tho I provide xml file as image the params won&#39;t be automatically adjusted. \r\n\r\n 2. The notification look may change on diffrent devices. \r\n\r\nSo **is there** a way to set the notification &quot;content/extended toolbar&quot; icon without the need of using `setCustomContentView()`. **If not**, what&#39;s the best way to mirror the original notification layout on each device?\r\n\r\nThanks for any help in advance.\r\n\r\nNotification builder for reference:\r\n\r\n    private Notification createForegroundNotification() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            final NotificationChannel channel = new NotificationChannel(this.getString(R.string.channel_name),\r\n                    NotificationChannel.class.getSimpleName(), NotificationManager.IMPORTANCE_HIGH);\r\n            channel.enableLights(true);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n\r\n        return new NotificationCompat.Builder(this, this.getString(R.string.channel_name))\r\n                .setSmallIcon(R.drawable.icon_time)\r\n                .setCustomContentView(new RemoteViews(getPackageName(), R.layout.segment_notification))\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setDefaults(NotificationCompat.DEFAULT_LIGHTS)\r\n                .build();\r\n    }\r\n\r\n  [1]: https://www.kapwing.com/videos/653bb508f6382c89c7187222","title":"How to edit notification toolbar icon without affecting content icon","body":"<p>I've created a foreground service notification and now I am trying to update the toolbar icon without affecting the content icon of notication (showed when toolbar is expanded).</p>\n<p>Here's the <a href=\"https://www.kapwing.com/videos/653bb508f6382c89c7187222\" rel=\"nofollow noreferrer\">example of desired behaviour</a> I am trying to achieve.</p>\n<p>I tried doing this with an update call of new notification with a different small icon (<code>setSmallIcon()</code>) however this method changes both icons. The only way I found working was to set the small icon and then setting <code>setCustomContentView()</code>. However this approach seemed like too much of a workaround based on what I am trying to achieve, and raised some issues with mirroring of the original notifiction like:</p>\n<ol>\n<li><p>the <code>setSmallIcon()</code> method changes the size of the notification to fit the display params. In custom layout I have to specify width and height of imageView and even tho I provide xml file as image the params won't be automatically adjusted.</p>\n</li>\n<li><p>The notification look may change on diffrent devices.</p>\n</li>\n</ol>\n<p>So <strong>is there</strong> a way to set the notification &quot;content/extended toolbar&quot; icon without the need of using <code>setCustomContentView()</code>. <strong>If not</strong>, what's the best way to mirror the original notification layout on each device?</p>\n<p>Thanks for any help in advance.</p>\n<p>Notification builder for reference:</p>\n<pre><code>private Notification createForegroundNotification() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        final NotificationChannel channel = new NotificationChannel(this.getString(R.string.channel_name),\n                NotificationChannel.class.getSimpleName(), NotificationManager.IMPORTANCE_HIGH);\n        channel.enableLights(true);\n        notificationManager.createNotificationChannel(channel);\n    }\n\n    return new NotificationCompat.Builder(this, this.getString(R.string.channel_name))\n            .setSmallIcon(R.drawable.icon_time)\n            .setCustomContentView(new RemoteViews(getPackageName(), R.layout.segment_notification))\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setDefaults(NotificationCompat.DEFAULT_LIGHTS)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1587392417,"post_id":61323485,"comment_id":108486311,"body_markdown":"What hibernate version and hibernate dialect do you use?","body":"What hibernate version and hibernate dialect do you use?"},{"owner":{"account_id":6443312,"reputation":10278,"user_id":4992594,"accept_rate":100,"display_name":"Titulum"},"score":0,"creation_date":1587393985,"post_id":61323485,"comment_id":108487313,"body_markdown":"Dialect is `org.hibernate.dialect.SQLServer2012Dialect`. We are using Spring Boot `2.1.12.RELEASE`, and from the [maven central page I can see that the Hibernate version for that release is 5.3.15.Final](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/2.1.12.RELEASE)","body":"Dialect is <code>org.hibernate.dialect.SQLServer2012Dialect</code>. We are using Spring Boot <code>2.1.12.RELEASE</code>, and from the <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/2.1.12.RELEASE\" rel=\"nofollow noreferrer\">maven central page I can see that the Hibernate version for that release is 5.3.15.Final</a>"},{"owner":{"account_id":422580,"reputation":9188,"user_id":801434,"accept_rate":79,"display_name":"Mr.J4mes"},"score":0,"creation_date":1587395561,"post_id":61323485,"comment_id":108488345,"body_markdown":"May I know how you know Spring data passes these parameters as NVARCHAR instead of VARCHAR.?","body":"May I know how you know Spring data passes these parameters as NVARCHAR instead of VARCHAR.?"},{"owner":{"account_id":6443312,"reputation":10278,"user_id":4992594,"accept_rate":100,"display_name":"Titulum"},"score":0,"creation_date":1587397350,"post_id":61323485,"comment_id":108489450,"body_markdown":"Sure, I&#39;m using SQL Profiler. I added the information to the question.","body":"Sure, I&#39;m using SQL Profiler. I added the information to the question."}],"answers":[{"tags":[],"owner":{"account_id":6443312,"reputation":10278,"user_id":4992594,"accept_rate":100,"display_name":"Titulum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1587539889,"creation_date":1587539889,"answer_id":61359345,"question_id":61323485,"body_markdown":"I managed to circumvent the expensive conversion by changing the column types in the database to `NVARCHAR`, but then I also had to add a `@Type` annotation to the `Name` instance variable on my `Customer` entity:\r\n\r\n```java\r\npublic class Customer {\r\n  @Type(type=&quot;org.hibernate.type.StringNVarcharType&quot;)\r\n  Name name;\r\n  // ...\r\n}\r\n```\r\n\r\nThis works, but it&#39;s not the preferred solution, as it is not part of the JPA specification.","title":"Spring Data @Query use VARCHAR instead of NVARCHAR","body":"<p>I managed to circumvent the expensive conversion by changing the column types in the database to <code>NVARCHAR</code>, but then I also had to add a <code>@Type</code> annotation to the <code>Name</code> instance variable on my <code>Customer</code> entity:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Customer {\n  @Type(type=\"org.hibernate.type.StringNVarcharType\")\n  Name name;\n  // ...\n}\n</code></pre>\n\n<p>This works, but it's not the preferred solution, as it is not part of the JPA specification.</p>\n"},{"tags":[],"owner":{"account_id":2838318,"reputation":6068,"user_id":2438446,"accept_rate":100,"display_name":"Kent Munthe Caspersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640691020,"creation_date":1640691020,"answer_id":70506413,"question_id":61323485,"body_markdown":"You can use the `@Nationalized` annotation on `Name name` in the `Customer` entity","title":"Spring Data @Query use VARCHAR instead of NVARCHAR","body":"<p>You can use the <code>@Nationalized</code> annotation on <code>Name name</code> in the <code>Customer</code> entity</p>\n"},{"tags":[],"owner":{"account_id":29682380,"reputation":1,"user_id":22748752,"display_name":"Sergei Malinin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698414991,"creation_date":1698414991,"answer_id":77374746,"question_id":61323485,"body_markdown":"You can set property `sendStringParametersAsUnicode=false` in `spring.datasource.url` inside application.properties file.\r\nParameter will be pass like:\r\n`(@P0 varchar(8000))` not `(@P0 nvarchar(4000))`","title":"Spring Data @Query use VARCHAR instead of NVARCHAR","body":"<p>You can set property <code>sendStringParametersAsUnicode=false</code> in <code>spring.datasource.url</code> inside application.properties file.\nParameter will be pass like:\n<code>(@P0 varchar(8000))</code> not <code>(@P0 nvarchar(4000))</code></p>\n"}],"owner":{"account_id":6443312,"reputation":10278,"user_id":4992594,"accept_rate":100,"display_name":"Titulum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2079,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61359345,"answer_count":3,"score":2,"last_activity_date":1698414991,"creation_date":1587388760,"question_id":61323485,"body_markdown":"The code that I posted is not the code that our companies uses, it is just example code to correctly illustrate the problem. \r\n\r\nI have the following Spring Data Query:\r\n\r\n```java\r\n@Query(value = &quot;FROM CustomerTable WHERE Name.firstName = ?1 AND Name.lastName = ?2&quot;)\r\nList&lt;Customer&gt; findByName(String firstName, String lastName);\r\n```\r\n\r\nFor entity `Customer`:\r\n\r\n```java\r\npublic class Customer {\r\n  Name name;\r\n  // ...\r\n}\r\n```\r\n\r\nand `Name`:\r\n```java\r\npublic class Name {\r\n  String firstName;\r\n  String lastName;\r\n  // ...\r\n}\r\n```\r\n\r\nThis works okay, but Spring data passes these parameters as `NVARCHAR` instead of `VARCHAR`. Therefore, the DB has to perform expensive conversion that is very expensive. \r\n\r\nHow can I make sure that Spring Data passes these parameters as `VARCHAR` instead of `NVARCHAR`?\r\n\r\n\r\nEDIT: The way I know that it is being sent in as NVARCHAR is by using the SQL Profiler. This provides me with this info:\r\n\r\n```\r\nexec sp_executesql N&#39;select customer.id as id1_7_, ...\r\nfrom customers custome0_ where custome0_.first_name=@P0 and custome0_.last_name=@P1&#39;,N&#39;@P0 nvarchar(4000),@P1 nvarchar(4000)&#39;,N&#39;Tom&#39;,N&#39;Cruise&#39;\r\n```","title":"Spring Data @Query use VARCHAR instead of NVARCHAR","body":"<p>The code that I posted is not the code that our companies uses, it is just example code to correctly illustrate the problem. </p>\n\n<p>I have the following Spring Data Query:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = \"FROM CustomerTable WHERE Name.firstName = ?1 AND Name.lastName = ?2\")\nList&lt;Customer&gt; findByName(String firstName, String lastName);\n</code></pre>\n\n<p>For entity <code>Customer</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Customer {\n  Name name;\n  // ...\n}\n</code></pre>\n\n<p>and <code>Name</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Name {\n  String firstName;\n  String lastName;\n  // ...\n}\n</code></pre>\n\n<p>This works okay, but Spring data passes these parameters as <code>NVARCHAR</code> instead of <code>VARCHAR</code>. Therefore, the DB has to perform expensive conversion that is very expensive. </p>\n\n<p>How can I make sure that Spring Data passes these parameters as <code>VARCHAR</code> instead of <code>NVARCHAR</code>?</p>\n\n<p>EDIT: The way I know that it is being sent in as NVARCHAR is by using the SQL Profiler. This provides me with this info:</p>\n\n<pre><code>exec sp_executesql N'select customer.id as id1_7_, ...\nfrom customers custome0_ where custome0_.first_name=@P0 and custome0_.last_name=@P1',N'@P0 nvarchar(4000),@P1 nvarchar(4000)',N'Tom',N'Cruise'\n</code></pre>\n"},{"tags":["java","multithreading","swing","jtextfield"],"comments":[{"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"score":0,"creation_date":1649857328,"post_id":71858270,"comment_id":126982009,"body_markdown":"you could check using .equalsIgnoreCase and for more accuracy use .trim() to both the texts used for checking ...i hope you understood if not i will post the a complete solution","body":"you could check using .equalsIgnoreCase and for more accuracy use .trim() to both the texts used for checking ...i hope you understood if not i will post the a complete solution"},{"owner":{"account_id":20561105,"reputation":25,"user_id":15091594,"display_name":"HelpIsNeeded"},"score":0,"creation_date":1649857954,"post_id":71858270,"comment_id":126982286,"body_markdown":"@daksh Sorry I&#39;m not completely sure what you mean. My code is currently comparing a Thread(the EnemyTextField object) with the user input String, which obviously doesn&#39;t work and i&#39;m looking for some guidance to learn how to make it work.","body":"@daksh Sorry I&#39;m not completely sure what you mean. My code is currently comparing a Thread(the EnemyTextField object) with the user input String, which obviously doesn&#39;t work and i&#39;m looking for some guidance to learn how to make it work."},{"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"score":0,"creation_date":1649862251,"post_id":71858270,"comment_id":126984293,"body_markdown":"I Have Posted An Answer , I Hope You Find The Solution And Understand , If Not Feel Free To Ask Your Queries !","body":"I Have Posted An Answer , I Hope You Find The Solution And Understand , If Not Feel Free To Ask Your Queries !"}],"answers":[{"tags":[],"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698414710,"creation_date":1649862123,"answer_id":71859712,"question_id":71858270,"body_markdown":"If you are using array-list to store the data then use this method\r\n\r\n    ArrayList&lt;String&gt; JtextFiels = new ArrayList&lt;String&gt;();\r\n    JtextFiels.add(&quot;flowers&quot;);\r\n    JtextFiels.add(&quot;skillful&quot;);\r\n    JtextFiels.add(&quot;home&quot;);\r\n    JtextFiels.add(&quot;channel&quot;);\r\n    \r\n    // I assume that user input is stored in a variable and for this case it is store in &quot; userInput &quot; variable\r\n\r\nnow here you have your array-list and user input store in a variable\r\n\r\n    if(JtextFiels.contains(userInput.trim())//here JtextFiels are your arraylist and userInput has the data stored which was entered by user\r\n    {\r\n      //here you can continue your code ..for example - &quot;show a message that the user entered word is there in the falling words&quot;\r\n    }\r\n\r\nHere you can face a problem if the user entered data is in capital or a single letter that is in capital \r\n\r\nSo what you can do it\r\n\r\n    if(JtextFiels.contains(userInput.trim().toLowerCase())// Or .toUpperCase()\r\n    { \r\n       // here the user entered text is converted to lower case ...you can change it upper case according to your requirement \r\n    }\r\n\r\n**OR**\r\n\r\nYou can use an array to store the data, I will tell you the difference at the end.\r\n\r\n    String[] JtextFiels=new String[100];//here 100 is the size of the array\r\n    JtextFiels[0]=&quot;flowers&quot;;//index 0\r\n    JtextFiels[1]=&quot;skillful&quot;;//index 1\r\n    JtextFiels[2]=&quot;home&quot;;//index 2\r\n    JtextFiels[3]=&quot;channel&quot;;//index 3\r\n    //arrays start from the index 0\r\n\r\n    //same as above you have the user entered data with you stored in a variable ..in this case let the variable be userInput\r\n    \r\nHere you have an array and user entered data\r\n\r\n    for(int i=0;i&lt;JtextFiels.length;i++)//here a loop is used to iterate over each index of array\r\n    {\r\n      if(JtextFiels[i]!=null)//checks if the index exists or not \r\n      {\r\n         if(JtextFiels[i].trim().equalsIgnoreCase(userInput.trim()))\r\n         {\r\n           //here you can continue your code ..for example - &quot;show a message that the user inputed word is there in the falling words&quot;\r\n          }\r\n       }\r\n    }\r\n\r\nThe difference between the two is:\r\n\r\n*ArrayList*\r\n- The size is not fixed\r\n\r\n*Array*\r\n- The size is fixed by the use \r\n\r\nMany more differences but for now this much is enough.\r\n\r\nWhat should you choose? Arraylist or array?\r\n\r\nIt depends on your data:\r\n\r\n- if the number of falling words are fixed or you know the maximum words .. then use the array\r\n\r\n- if then number of falling words are not fixed or limit and you don&#39;t know how many words u use and if the words are dynamically changing then use arraylist\r\n\r\nIf hope you understood this! If not feel free to ask your questions","title":"Creating a typing-game in java swing, i&#39;m having issues with checking if player input equals the falling words","body":"<p>If you are using array-list to store the data then use this method</p>\n<pre><code>ArrayList&lt;String&gt; JtextFiels = new ArrayList&lt;String&gt;();\nJtextFiels.add(&quot;flowers&quot;);\nJtextFiels.add(&quot;skillful&quot;);\nJtextFiels.add(&quot;home&quot;);\nJtextFiels.add(&quot;channel&quot;);\n\n// I assume that user input is stored in a variable and for this case it is store in &quot; userInput &quot; variable\n</code></pre>\n<p>now here you have your array-list and user input store in a variable</p>\n<pre><code>if(JtextFiels.contains(userInput.trim())//here JtextFiels are your arraylist and userInput has the data stored which was entered by user\n{\n  //here you can continue your code ..for example - &quot;show a message that the user entered word is there in the falling words&quot;\n}\n</code></pre>\n<p>Here you can face a problem if the user entered data is in capital or a single letter that is in capital</p>\n<p>So what you can do it</p>\n<pre><code>if(JtextFiels.contains(userInput.trim().toLowerCase())// Or .toUpperCase()\n{ \n   // here the user entered text is converted to lower case ...you can change it upper case according to your requirement \n}\n</code></pre>\n<p><strong>OR</strong></p>\n<p>You can use an array to store the data, I will tell you the difference at the end.</p>\n<pre><code>String[] JtextFiels=new String[100];//here 100 is the size of the array\nJtextFiels[0]=&quot;flowers&quot;;//index 0\nJtextFiels[1]=&quot;skillful&quot;;//index 1\nJtextFiels[2]=&quot;home&quot;;//index 2\nJtextFiels[3]=&quot;channel&quot;;//index 3\n//arrays start from the index 0\n\n//same as above you have the user entered data with you stored in a variable ..in this case let the variable be userInput\n</code></pre>\n<p>Here you have an array and user entered data</p>\n<pre><code>for(int i=0;i&lt;JtextFiels.length;i++)//here a loop is used to iterate over each index of array\n{\n  if(JtextFiels[i]!=null)//checks if the index exists or not \n  {\n     if(JtextFiels[i].trim().equalsIgnoreCase(userInput.trim()))\n     {\n       //here you can continue your code ..for example - &quot;show a message that the user inputed word is there in the falling words&quot;\n      }\n   }\n}\n</code></pre>\n<p>The difference between the two is:</p>\n<p><em>ArrayList</em></p>\n<ul>\n<li>The size is not fixed</li>\n</ul>\n<p><em>Array</em></p>\n<ul>\n<li>The size is fixed by the use</li>\n</ul>\n<p>Many more differences but for now this much is enough.</p>\n<p>What should you choose? Arraylist or array?</p>\n<p>It depends on your data:</p>\n<ul>\n<li><p>if the number of falling words are fixed or you know the maximum words .. then use the array</p>\n</li>\n<li><p>if then number of falling words are not fixed or limit and you don't know how many words u use and if the words are dynamically changing then use arraylist</p>\n</li>\n</ul>\n<p>If hope you understood this! If not feel free to ask your questions</p>\n"}],"owner":{"account_id":20561105,"reputation":25,"user_id":15091594,"display_name":"HelpIsNeeded"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71859712,"answer_count":1,"score":1,"last_activity_date":1698414710,"creation_date":1649856322,"question_id":71858270,"body_markdown":"I have created a game where I summon JTextFields at random X-position at the top of the screen with random words added to the fields.\r\n\r\nI don&#39;t know how to properly setup a method to check if the input from the user equals the JTextFields words on the board. I&#39;m looking for any ideas to change the &quot;checkWordSpelling&quot; method inside of my &quot;GamePanel&quot; class to make the comparison between the JTextFields word and the users input viable.\r\n\r\nRight now I store the object in:\r\n```\r\n ArrayList&lt;EnemyTextFields&gt; textFieldsCurrentlyOnBoard = new ArrayList&lt;&gt;(); \r\n```\r\nto begin with I thought this would be a good idea because I could track the current object to the String it has but since it&#39;s a thread(and I want each JTextField to be a thread) I could not  compare them(?).\r\n\r\nI&#39;ve tried replacing my ArrayList with a HashMap which takes the currentThread and String(k,v) but the way i implemented it, neither did that work. I&#39;ve tried alot of different stuff but I can&#39;t name them all.\r\n\r\nThe game looks like this: \r\n[![Topleft white label is amount of points. Every green rectangle is a JTextField waiting to get eliminated. Bottom white rectangle is the TextArea which the user will input the words to remove them.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8pRwG.png\r\n\r\n\r\nI have the &quot;EnemyTextField&quot; private class inside of the &quot;GamePanel&quot; class. This is where each JTextField is a separate Thread: \r\n``` \r\n \r\nprivate class EnemyTextField extends Thread {\r\n\r\n        private Random rng;\r\n        private int xPlace, yPlace;\r\n        private JTextField txtField;\r\n        private String currWord;\r\n        private int velocityOfTextField;\r\n\r\n        public EnemyTextField(String currWord,int velocityOfTextField) {\r\n            this.currWord = currWord;\r\n            this.velocityOfTextField = velocityOfTextField;\r\n\r\n            rng = new Random();\r\n            xPlace = rng.nextInt(600);\r\n            txtField = new JTextField(currWord);\r\n        }\r\n\r\n        /**\r\n         * Check if the textfield hits the bottom of the screen, and if it does, the application ends\r\n         * @return\r\n         */\r\n        public boolean hitBottomOfScreen() {\r\n            if(yPlace &gt;= height){\r\n                endGame();\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Increments the textfield which belongs to the thread by 10.\r\n         */\r\n\r\n        public void updateEnemyTextField() {\r\n            yPlace = yPlace +10;\r\n            txtField.setLocation(xPlace, yPlace);\r\n        }\r\n\r\n        /**\r\n         * adding the textfield to the JPanel(UI)\r\n         */\r\n        public void createTextField(){\r\n            txtField.setLocation(xPlace, yPlace);\r\n            txtField.setSize(50+(currWord.length()*2), 50);\r\n            txtField.setBackground(Color.GREEN);\r\n            add(txtField);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n\r\n            while(!hitBottomOfScreen()) {\r\n                try {\r\n                    //Sleeping for 1 second(1000milliseconds) between each &quot;tick&quot; or &quot;refresh/update&quot;.\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                createTextField();\r\n                updateEnemyTextField();\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nHere i have the JPanel code which the JTextFields are created on:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.io.IOException;\r\nimport java.util.*;\r\nimport java.util.Timer;\r\n\r\npublic class GamePanel extends JPanel {\r\n\r\n    private JTextField guessingTextField;\r\n\r\n    private Label pointLabel;\r\n    private Label timeLabel;\r\n\r\n    private int width = 800;\r\n    private int height = 600;\r\n    private int currentTime;\r\n    private int points;\r\n\r\n    //Here is the Array of all the words from the textfile\r\n    ArrayList&lt;String&gt; listOfWordsFromFile;\r\n    //Here is where i save the k,v for the different JTextFields\r\n    ArrayList&lt;EnemyTextField&gt; textFieldsCurrentlyOnBoard;\r\n\r\n    private Timer timer;\r\n\r\n    public GamePanel() throws IOException {\r\n\r\n        setSize(width, height);\r\n        setLayout(null);\r\n        setBackground(Color.LIGHT_GRAY);\r\n\r\n        guessingTextField = new JTextField();\r\n        guessingTextField.setSize(120, 30);\r\n        guessingTextField.setLocation(width / 2 - 60, 530);\r\n        guessingTextField.setForeground(Color.BLACK);\r\n        guessingTextField.setBackground(Color.WHITE);\r\n\r\n        pointLabel = new Label();\r\n        pointLabel.setBackground(Color.WHITE);\r\n        pointLabel.setForeground(Color.BLACK);\r\n        pointLabel.setSize(120, 30);\r\n        pointLabel.setLocation(140, 1);\r\n\r\n        timeLabel = new Label();\r\n        timeLabel.setBackground(Color.WHITE);\r\n        timeLabel.setForeground(Color.BLACK);\r\n        timeLabel.setSize(30,30);\r\n        timeLabel.setLocation(155,1);\r\n        timeLabel.setText(&quot;1&quot;);\r\n\r\n        add(timeLabel);\r\n        add(pointLabel);\r\n        add(guessingTextField);\r\n\r\n        //inserts the ArrayList of words into &quot;words&quot; array.\r\n        listOfWordsFromFile = WordBox.getRandomWord(&quot;resources/Random words.txt&quot;);\r\n        setVisible(true);\r\n\r\n        guessingTextField.addActionListener(e -&gt; {\r\n            //checkWord();\r\n        });\r\n        startTheGameAndResetValues();\r\n        checkWordSpelling();\r\n    }\r\n\r\n    /**\r\n     *This is the Method im struggling with.\r\n     */\r\n    public void checkWordSpelling(){\r\n\r\n        Thread thread = new Thread(() -&gt; {\r\n\r\n            while(true) {\r\n                try {\r\n                    System.out.println(guessingTextField.getText());\r\n                    java.util.Iterator&lt;EnemyTextField&gt; iterator = textFieldsCurrentlyOnBoard.iterator();\r\n                        while(iterator.hasNext()){\r\n                            EnemyTextField currentWord = iterator.next();\r\n                            System.out.println(currentWord);\r\n                            //\r\n                            if(currentWord.equals(guessingTextField.getText())){\r\n                                remove(currentWord.txtField);\r\n                                iterator.remove();\r\n                            }\r\n                        }\r\n\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        thread.start();\r\n    }\r\n\r\n    /*private void removeWord(EnemyTextField entry) {\r\n        java.util.Iterator&lt;EnemyTextField&gt; iterator = textFieldsCurrentlyOnBoard.values().iterator();\r\n\r\n        while (iterator.hasNext()){\r\n            EnemyTextField current = iterator.next();\r\n            if (textFieldsCurrentlyOnBoard.containsKey(entry)) {\r\n                remove(current.txtField);\r\n                iterator.remove();\r\n\r\n            }\r\n        }\r\n    }*/\r\n\r\n    /**\r\n     * gets called when game is over, displays an ending &quot;popup&quot;.\r\n     */\r\n    public void endGame() {\r\n        //cancel the while loop and make the game stop\r\n        JOptionPane.showInputDialog(null,&quot;You lost, Game over.&quot;);\r\n        timer.cancel();\r\n    }\r\n\r\n    /**\r\n     * Method to reset all the values from what the previous round had.\r\n     *\r\n     * Creates a TimerTask which acts as the measurement of difficulty\r\n     * set to 3000milliseconds(3seconds), lower it to have words appear\r\n     * more frequently and higher it if you want the words to appear slower\r\n     */\r\n    public void startTheGameAndResetValues() {\r\n        currentTime = 0;\r\n        points = 0;\r\n        textFieldsCurrentlyOnBoard = new ArrayList&lt;&gt;();\r\n\r\n        TimerTask timerTask = new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                while(true){\r\n                    initNewWord();\r\n                    try {\r\n                        Thread.sleep(3000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        Timer time = new Timer();\r\n        time.schedule(timerTask,3000);\r\n    }\r\n\r\n    /**\r\n     * starts the &quot;threading&quot;\r\n     */\r\n    public void initNewWord(){\r\n        String rngWord = randomWord();\r\n        EnemyTextField newWordForTextField = new EnemyTextField(rngWord,2);\r\n        //textFieldsCurrentlyOnBoard.add(newWordForTextField);\r\n        textFieldsCurrentlyOnBoard.add(newWordForTextField);\r\n\r\n\r\n        newWordForTextField.start();\r\n    }\r\n\r\n    /**\r\n     * Picks a random word from the ArrayList words.\r\n     * @return\r\n     */\r\n    public String randomWord() {\r\n        Random rng = new Random();\r\n        System.out.println(listOfWordsFromFile);\r\n        int rngIndex = rng.nextInt(listOfWordsFromFile.size());\r\n        return listOfWordsFromFile.get(rngIndex);\r\n    }\r\n```\r\nHere is the &quot;WordBox&quot; class which grabs the words from &quot;Random words.txt&quot; in resource directory:\r\n```\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class WordBox {\r\n\r\n    static ArrayList&lt;String&gt; listWords = new ArrayList&lt;&gt;();\r\n\r\n    /**\r\n     * Grabs all the words and puts each word\r\n     * @param filePath Grabs filepath from GamePanel\r\n     * @return ArrayList of all the words in the textfile.\r\n     * @throws IOException\r\n     */\r\n    public static ArrayList&lt;String&gt; getRandomWord(String filePath) throws IOException {\r\n\r\n        try {\r\n            File file = new File(filePath);\r\n            BufferedReader br = new BufferedReader(new FileReader(file));\r\n            listWords = new ArrayList&lt;&gt;();\r\n            String strTemp;\r\n\r\n            while((strTemp = br.readLine())!= null) {\r\n                listWords.add(strTemp);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(listWords);\r\n        return listWords;\r\n    }\r\n}\r\n```\r\nAnd here is my Main method:\r\n```\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new GameFrame();\r\n    }\r\n}\r\n```\r\nHere are some random words that you can put into the &quot;Random words.txt&quot; file for anyone interested in testing my code:\r\n```\r\n    flowers\r\n    skillful\r\n    home\r\n    channel\r\n    delirious\r\n    muddled\r\n    aware\r\n    blushing\r\n    unpack\r\n    neck\r\n    animated\r\n    supreme\r\n    snow\r\n    connect\r\n    skin\r\n```\r\nBesides the problem if anyone finds any way I could improve my code, i&#39;m very open to suggestions and guidelines!","title":"Creating a typing-game in java swing, i&#39;m having issues with checking if player input equals the falling words","body":"<p>I have created a game where I summon JTextFields at random X-position at the top of the screen with random words added to the fields.</p>\n<p>I don't know how to properly setup a method to check if the input from the user equals the JTextFields words on the board. I'm looking for any ideas to change the &quot;checkWordSpelling&quot; method inside of my &quot;GamePanel&quot; class to make the comparison between the JTextFields word and the users input viable.</p>\n<p>Right now I store the object in:</p>\n<pre><code> ArrayList&lt;EnemyTextFields&gt; textFieldsCurrentlyOnBoard = new ArrayList&lt;&gt;(); \n</code></pre>\n<p>to begin with I thought this would be a good idea because I could track the current object to the String it has but since it's a thread(and I want each JTextField to be a thread) I could not  compare them(?).</p>\n<p>I've tried replacing my ArrayList with a HashMap which takes the currentThread and String(k,v) but the way i implemented it, neither did that work. I've tried alot of different stuff but I can't name them all.</p>\n<p>The game looks like this:\n<a href=\"https://i.stack.imgur.com/8pRwG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8pRwG.png\" alt=\"Topleft white label is amount of points. Every green rectangle is a JTextField waiting to get eliminated. Bottom white rectangle is the TextArea which the user will input the words to remove them.\" /></a></p>\n<p>I have the &quot;EnemyTextField&quot; private class inside of the &quot;GamePanel&quot; class. This is where each JTextField is a separate Thread:</p>\n<pre><code> \nprivate class EnemyTextField extends Thread {\n\n        private Random rng;\n        private int xPlace, yPlace;\n        private JTextField txtField;\n        private String currWord;\n        private int velocityOfTextField;\n\n        public EnemyTextField(String currWord,int velocityOfTextField) {\n            this.currWord = currWord;\n            this.velocityOfTextField = velocityOfTextField;\n\n            rng = new Random();\n            xPlace = rng.nextInt(600);\n            txtField = new JTextField(currWord);\n        }\n\n        /**\n         * Check if the textfield hits the bottom of the screen, and if it does, the application ends\n         * @return\n         */\n        public boolean hitBottomOfScreen() {\n            if(yPlace &gt;= height){\n                endGame();\n                return true;\n            }\n            return false;\n        }\n\n        /**\n         * Increments the textfield which belongs to the thread by 10.\n         */\n\n        public void updateEnemyTextField() {\n            yPlace = yPlace +10;\n            txtField.setLocation(xPlace, yPlace);\n        }\n\n        /**\n         * adding the textfield to the JPanel(UI)\n         */\n        public void createTextField(){\n            txtField.setLocation(xPlace, yPlace);\n            txtField.setSize(50+(currWord.length()*2), 50);\n            txtField.setBackground(Color.GREEN);\n            add(txtField);\n        }\n\n        @Override\n        public void run() {\n\n            while(!hitBottomOfScreen()) {\n                try {\n                    //Sleeping for 1 second(1000milliseconds) between each &quot;tick&quot; or &quot;refresh/update&quot;.\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                createTextField();\n                updateEnemyTextField();\n\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here i have the JPanel code which the JTextFields are created on:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.io.IOException;\nimport java.util.*;\nimport java.util.Timer;\n\npublic class GamePanel extends JPanel {\n\n    private JTextField guessingTextField;\n\n    private Label pointLabel;\n    private Label timeLabel;\n\n    private int width = 800;\n    private int height = 600;\n    private int currentTime;\n    private int points;\n\n    //Here is the Array of all the words from the textfile\n    ArrayList&lt;String&gt; listOfWordsFromFile;\n    //Here is where i save the k,v for the different JTextFields\n    ArrayList&lt;EnemyTextField&gt; textFieldsCurrentlyOnBoard;\n\n    private Timer timer;\n\n    public GamePanel() throws IOException {\n\n        setSize(width, height);\n        setLayout(null);\n        setBackground(Color.LIGHT_GRAY);\n\n        guessingTextField = new JTextField();\n        guessingTextField.setSize(120, 30);\n        guessingTextField.setLocation(width / 2 - 60, 530);\n        guessingTextField.setForeground(Color.BLACK);\n        guessingTextField.setBackground(Color.WHITE);\n\n        pointLabel = new Label();\n        pointLabel.setBackground(Color.WHITE);\n        pointLabel.setForeground(Color.BLACK);\n        pointLabel.setSize(120, 30);\n        pointLabel.setLocation(140, 1);\n\n        timeLabel = new Label();\n        timeLabel.setBackground(Color.WHITE);\n        timeLabel.setForeground(Color.BLACK);\n        timeLabel.setSize(30,30);\n        timeLabel.setLocation(155,1);\n        timeLabel.setText(&quot;1&quot;);\n\n        add(timeLabel);\n        add(pointLabel);\n        add(guessingTextField);\n\n        //inserts the ArrayList of words into &quot;words&quot; array.\n        listOfWordsFromFile = WordBox.getRandomWord(&quot;resources/Random words.txt&quot;);\n        setVisible(true);\n\n        guessingTextField.addActionListener(e -&gt; {\n            //checkWord();\n        });\n        startTheGameAndResetValues();\n        checkWordSpelling();\n    }\n\n    /**\n     *This is the Method im struggling with.\n     */\n    public void checkWordSpelling(){\n\n        Thread thread = new Thread(() -&gt; {\n\n            while(true) {\n                try {\n                    System.out.println(guessingTextField.getText());\n                    java.util.Iterator&lt;EnemyTextField&gt; iterator = textFieldsCurrentlyOnBoard.iterator();\n                        while(iterator.hasNext()){\n                            EnemyTextField currentWord = iterator.next();\n                            System.out.println(currentWord);\n                            //\n                            if(currentWord.equals(guessingTextField.getText())){\n                                remove(currentWord.txtField);\n                                iterator.remove();\n                            }\n                        }\n\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        thread.start();\n    }\n\n    /*private void removeWord(EnemyTextField entry) {\n        java.util.Iterator&lt;EnemyTextField&gt; iterator = textFieldsCurrentlyOnBoard.values().iterator();\n\n        while (iterator.hasNext()){\n            EnemyTextField current = iterator.next();\n            if (textFieldsCurrentlyOnBoard.containsKey(entry)) {\n                remove(current.txtField);\n                iterator.remove();\n\n            }\n        }\n    }*/\n\n    /**\n     * gets called when game is over, displays an ending &quot;popup&quot;.\n     */\n    public void endGame() {\n        //cancel the while loop and make the game stop\n        JOptionPane.showInputDialog(null,&quot;You lost, Game over.&quot;);\n        timer.cancel();\n    }\n\n    /**\n     * Method to reset all the values from what the previous round had.\n     *\n     * Creates a TimerTask which acts as the measurement of difficulty\n     * set to 3000milliseconds(3seconds), lower it to have words appear\n     * more frequently and higher it if you want the words to appear slower\n     */\n    public void startTheGameAndResetValues() {\n        currentTime = 0;\n        points = 0;\n        textFieldsCurrentlyOnBoard = new ArrayList&lt;&gt;();\n\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                while(true){\n                    initNewWord();\n                    try {\n                        Thread.sleep(3000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        };\n        Timer time = new Timer();\n        time.schedule(timerTask,3000);\n    }\n\n    /**\n     * starts the &quot;threading&quot;\n     */\n    public void initNewWord(){\n        String rngWord = randomWord();\n        EnemyTextField newWordForTextField = new EnemyTextField(rngWord,2);\n        //textFieldsCurrentlyOnBoard.add(newWordForTextField);\n        textFieldsCurrentlyOnBoard.add(newWordForTextField);\n\n\n        newWordForTextField.start();\n    }\n\n    /**\n     * Picks a random word from the ArrayList words.\n     * @return\n     */\n    public String randomWord() {\n        Random rng = new Random();\n        System.out.println(listOfWordsFromFile);\n        int rngIndex = rng.nextInt(listOfWordsFromFile.size());\n        return listOfWordsFromFile.get(rngIndex);\n    }\n</code></pre>\n<p>Here is the &quot;WordBox&quot; class which grabs the words from &quot;Random words.txt&quot; in resource directory:</p>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class WordBox {\n\n    static ArrayList&lt;String&gt; listWords = new ArrayList&lt;&gt;();\n\n    /**\n     * Grabs all the words and puts each word\n     * @param filePath Grabs filepath from GamePanel\n     * @return ArrayList of all the words in the textfile.\n     * @throws IOException\n     */\n    public static ArrayList&lt;String&gt; getRandomWord(String filePath) throws IOException {\n\n        try {\n            File file = new File(filePath);\n            BufferedReader br = new BufferedReader(new FileReader(file));\n            listWords = new ArrayList&lt;&gt;();\n            String strTemp;\n\n            while((strTemp = br.readLine())!= null) {\n                listWords.add(strTemp);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(listWords);\n        return listWords;\n    }\n}\n</code></pre>\n<p>And here is my Main method:</p>\n<pre><code>import java.io.IOException;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        new GameFrame();\n    }\n}\n</code></pre>\n<p>Here are some random words that you can put into the &quot;Random words.txt&quot; file for anyone interested in testing my code:</p>\n<pre><code>    flowers\n    skillful\n    home\n    channel\n    delirious\n    muddled\n    aware\n    blushing\n    unpack\n    neck\n    animated\n    supreme\n    snow\n    connect\n    skin\n</code></pre>\n<p>Besides the problem if anyone finds any way I could improve my code, i'm very open to suggestions and guidelines!</p>\n"},{"tags":["java","unit-testing","testing"],"answers":[{"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698414532,"creation_date":1537845036,"answer_id":52490043,"question_id":52488471,"body_markdown":"You should start with reading the [JUnit User Guide](https://junit.org/junit5/docs/current/user-guide/).\r\n\r\nBasically what you want to do is create a JUnit class that will test your `FindValues` class. Typically you would name this class after the one that is being tested. For example, `FindValuesTest`.\r\n\r\nI&#39;ll get you started with a very basic test containing a basic assertion: \r\n    \r\n    import static org.junit.Assert.*;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class FindValuesTest {\r\n    \r\n    \t@Test\r\n    \tpublic void test() {\r\n    \t\tint actualResult = FindValues.findLast(new int[]{1,2,3,4,2,5,8,2,9}, 2);\r\n    \t\tassertEquals(7, actualResult);\r\n    \t}\r\n    \r\n    }\r\n\r\nNote that I removed your hard-coded parameter values within `findLast`: \r\n\r\n    public static int findLast(int[] x, int y) {\r\n\t\tfor (int i = x.length - 1; i &gt;= 0; i--) {\r\n\t\t\tif (x[i] == y) {\r\n\t\t\t\t// System.out.println(i);\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t} \r\n\r\n\r\nSee how the test is providing inputs to your method and asserting that the output matches the expectation - this is what JUnit is meant to do. You execute some code you want to test and you verify the behavior of that code based on the input your test provided.","title":"J-unit with java","body":"<p>You should start with reading the <a href=\"https://junit.org/junit5/docs/current/user-guide/\" rel=\"nofollow noreferrer\">JUnit User Guide</a>.</p>\n<p>Basically what you want to do is create a JUnit class that will test your <code>FindValues</code> class. Typically you would name this class after the one that is being tested. For example, <code>FindValuesTest</code>.</p>\n<p>I'll get you started with a very basic test containing a basic assertion:</p>\n<pre><code>import static org.junit.Assert.*;\n\nimport org.junit.Test;\n\npublic class FindValuesTest {\n\n    @Test\n    public void test() {\n        int actualResult = FindValues.findLast(new int[]{1,2,3,4,2,5,8,2,9}, 2);\n        assertEquals(7, actualResult);\n    }\n\n}\n</code></pre>\n<p>Note that I removed your hard-coded parameter values within <code>findLast</code>:</p>\n<pre><code>public static int findLast(int[] x, int y) {\n    for (int i = x.length - 1; i &gt;= 0; i--) {\n        if (x[i] == y) {\n            // System.out.println(i);\n            return i;\n        }\n    }\n    return -1;\n} \n</code></pre>\n<p>See how the test is providing inputs to your method and asserting that the output matches the expectation - this is what JUnit is meant to do. You execute some code you want to test and you verify the behavior of that code based on the input your test provided.</p>\n"}],"owner":{"account_id":14411849,"reputation":1,"user_id":10410406,"display_name":"boohz1212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698414532,"creation_date":1537830388,"question_id":52488471,"body_markdown":"I&#39;m trying to create j-unit tests for each function below, but I don&#39;t know how to get started. In my case, it&#39;s really hard to use the function itself and test it within the unit case. I only know how to test specific values/lists. I need help with understanding how to test the functions themselves.\r\n\r\n\r\n    public class FindValues {    \t    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {  \t\t\r\n    \t\tint[] x = new int[] {2,5,6};\r\n    \t\tint y = 2;\r\n    \t\tfindLast(x, y);\r\n    \t\tint[] x1 = new int[] {1,2,0};\r\n    \t\tlastZero(x1,y);\r\n    \t\tint[] x2  = new int[] {-3, 3, 5, 0};\r\n    \t\tcountPositive(x2,y);\r\n    \t\tint[] x3  = new int[] {-6, 2, -1, 1};\r\n    \t\toddOrPos(x3);\r\n    \t}   \r\n    \t\r\n    \t// findlast(int [] x, int y) takes an array of integers and should return the index of\r\n    \t// the last element in the array that is equal to y.\r\n    \tpublic static int findLast(int [] x, int y) {\r\n    \t\tx = new int[]{2,5,6};\r\n    \t\ty = 2;\r\n    \t\tfor (int i=x.length-1; i &gt;= 0; i--) { \r\n    \t\t\tif (x[i] == y) { \r\n    \t\t\t\t// System.out.println(i);\r\n    \t\t\t\treturn i;\r\n    \t\t\t} \r\n    \t\t}\r\n    \t\treturn -1;    \t\t\r\n    \t} //end FindLast\r\n        \t\r\n    // lastZero(int [] x) takes an array of integers and should return the index of the last//0 in x.\r\n    \tpublic static int lastZero (int[] x, int y) {\r\n    \t\tx = new int[]{1,2,0};\r\n    \t    for (int i = 0; i &lt; x.length; i++)\r\n    \t    {\r\n    \t        if (x[i] == 0)\r\n    \t        {\r\n    \t    \t    System.out.println(i);\r\n    \t        }\r\n    \t    }\r\n    \t    return -1;\r\n    \t}\r\n       \r\n    \tpublic static int countPositive (int[] x, int y) {\r\n    \t\t//Returns the number of positive elements in Xint count = 0;\r\n    \t\tx = new int[]{-3, 3, 5, 0};\r\n    \t\tint count = 0;\r\n    \t\tfor (int i=0; i &lt; x.length; i++) {\r\n    \t\t\tif (x[i] &gt; 0) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(count);\r\n    \t\treturn count;    \t\t\r\n    \t}\r\n        \r\n    \tpublic static int oddOrPos(int[] x) {\r\n    \t\t//Return numbers in x that are either odd or positive or both int count = 0;\r\n    \t\tint count = 0;\r\n    \t\tx = new int[]{-6, 2, -1, 1};\r\n    \t\tfor (int i = 0; i &lt; x.length; i++) {\r\n    \t\t\tif (x[i]% 2 == -1 || x[i]% 2 == 1 || x[i] &gt; 0) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(count);\r\n    \t\treturn count;\r\n    \t\t}\r\n    \t}","title":"J-unit with java","body":"<p>I'm trying to create j-unit tests for each function below, but I don't know how to get started. In my case, it's really hard to use the function itself and test it within the unit case. I only know how to test specific values/lists. I need help with understanding how to test the functions themselves.</p>\n\n<pre><code>public class FindValues {           \n    /**\n     * @param args\n     */\n    public static void main(String[] args) {        \n        int[] x = new int[] {2,5,6};\n        int y = 2;\n        findLast(x, y);\n        int[] x1 = new int[] {1,2,0};\n        lastZero(x1,y);\n        int[] x2  = new int[] {-3, 3, 5, 0};\n        countPositive(x2,y);\n        int[] x3  = new int[] {-6, 2, -1, 1};\n        oddOrPos(x3);\n    }   \n\n    // findlast(int [] x, int y) takes an array of integers and should return the index of\n    // the last element in the array that is equal to y.\n    public static int findLast(int [] x, int y) {\n        x = new int[]{2,5,6};\n        y = 2;\n        for (int i=x.length-1; i &gt;= 0; i--) { \n            if (x[i] == y) { \n                // System.out.println(i);\n                return i;\n            } \n        }\n        return -1;          \n    } //end FindLast\n\n// lastZero(int [] x) takes an array of integers and should return the index of the last//0 in x.\n    public static int lastZero (int[] x, int y) {\n        x = new int[]{1,2,0};\n        for (int i = 0; i &lt; x.length; i++)\n        {\n            if (x[i] == 0)\n            {\n                System.out.println(i);\n            }\n        }\n        return -1;\n    }\n\n    public static int countPositive (int[] x, int y) {\n        //Returns the number of positive elements in Xint count = 0;\n        x = new int[]{-3, 3, 5, 0};\n        int count = 0;\n        for (int i=0; i &lt; x.length; i++) {\n            if (x[i] &gt; 0) {\n                count++;\n            }\n        }\n        System.out.println(count);\n        return count;           \n    }\n\n    public static int oddOrPos(int[] x) {\n        //Return numbers in x that are either odd or positive or both int count = 0;\n        int count = 0;\n        x = new int[]{-6, 2, -1, 1};\n        for (int i = 0; i &lt; x.length; i++) {\n            if (x[i]% 2 == -1 || x[i]% 2 == 1 || x[i] &gt; 0) {\n                count++;\n            }\n        }\n        System.out.println(count);\n        return count;\n        }\n    }\n</code></pre>\n"},{"tags":["java","class","clone"],"comments":[{"owner":{"account_id":63479,"reputation":5810,"user_id":187883,"accept_rate":100,"display_name":"NateS"},"score":4,"creation_date":1339728186,"post_id":64036,"comment_id":14459635,"body_markdown":"Kryo has built-in support for [copying/cloning](https://code.google.com/p/kryo/#Copying/cloning). This is direct copying from object to object, not object-&gt;bytes-&gt;object.","body":"Kryo has built-in support for <a href=\"https://code.google.com/p/kryo/#Copying/cloning\" rel=\"nofollow noreferrer\">copying/cloning</a>. This is direct copying from object to object, not object-&gt;bytes-&gt;object."},{"owner":{"account_id":50932,"reputation":6550,"user_id":152061,"accept_rate":80,"display_name":"Brad Cupit"},"score":1,"creation_date":1367421789,"post_id":64036,"comment_id":23371238,"body_markdown":"Here&#39;s a related question that was asked later: [Deep clone utility recomendation](http://stackoverflow.com/q/665860/152061)","body":"Here&#39;s a related question that was asked later: <a href=\"http://stackoverflow.com/q/665860/152061\">Deep clone utility recomendation</a>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1536749316,"post_id":64036,"comment_id":91534475,"body_markdown":"Using cloning library saved the day for me!  https://github.com/kostaskougios/cloning","body":"Using cloning library saved the day for me!  <a href=\"https://github.com/kostaskougios/cloning\" rel=\"nofollow noreferrer\">github.com/kostaskougios/cloning</a>"}],"answers":[{"tags":[],"owner":{"account_id":3416,"reputation":81767,"user_id":4926,"accept_rate":85,"display_name":"Jason Cohen"},"down_vote_count":4,"up_vote_count":192,"is_accepted":true,"score":188,"last_activity_date":1615455339,"creation_date":1221493343,"answer_id":64066,"question_id":64036,"body_markdown":"A safe way is to serialize the object, then deserialize.  This ensures everything is a brand new reference.\r\n\r\n[Here&#39;s an article][1] about how to do this efficiently.\r\n\r\nCaveats: It&#39;s possible for classes to override serialization such that new instances are *not* created, e.g. for singletons.  Also this of course doesn&#39;t work if your classes aren&#39;t Serializable.\r\n\r\n\r\n  [1]: http://javatechniques.com/blog/low-memory-deep-copy-technique-for-java-objects/","title":"How do you make a deep copy of an object?","body":"<p>A safe way is to serialize the object, then deserialize.  This ensures everything is a brand new reference.</p>\n<p><a href=\"http://javatechniques.com/blog/low-memory-deep-copy-technique-for-java-objects/\" rel=\"noreferrer\">Here's an article</a> about how to do this efficiently.</p>\n<p>Caveats: It's possible for classes to override serialization such that new instances are <em>not</em> created, e.g. for singletons.  Also this of course doesn't work if your classes aren't Serializable.</p>\n"},{"tags":[],"owner":{"account_id":4975,"reputation":19183,"user_id":7756,"accept_rate":81,"display_name":"Orion Adrian"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1221493472,"creation_date":1221493472,"answer_id":64082,"question_id":64036,"body_markdown":"Deep copying can only be done with each class&#39;s consent. If you have control over the class hierarchy then you can implement the clonable interface and implement the Clone method. Otherwise doing a deep copy is impossible to do safely because the object may also be sharing non-data resources (e.g. database connections). In general however deep copying is considered bad practice in the Java environment and should be avoided via the appropriate design practices.","title":"How do you make a deep copy of an object?","body":"<p>Deep copying can only be done with each class's consent. If you have control over the class hierarchy then you can implement the clonable interface and implement the Clone method. Otherwise doing a deep copy is impossible to do safely because the object may also be sharing non-data resources (e.g. database connections). In general however deep copying is considered bad practice in the Java environment and should be avoided via the appropriate design practices.</p>\n"},{"tags":[],"owner":{"account_id":5409,"reputation":481,"user_id":8690,"display_name":"user8690"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1525877992,"creation_date":1221497338,"answer_id":64611,"question_id":64036,"body_markdown":"You can do a serialization-based deep clone using [`org.apache.commons.lang3.SerializationUtils.clone(T)`][1] in Apache Commons Lang, but be careful‚Äîthe performance is abysmal.\r\n\r\nIn general, it is best practice to write your own clone methods for each class of an object in the object graph needing cloning.  \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SerializationUtils.html#clone(T)","title":"How do you make a deep copy of an object?","body":"<p>You can do a serialization-based deep clone using <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SerializationUtils.html#clone(T)\" rel=\"noreferrer\"><code>org.apache.commons.lang3.SerializationUtils.clone(T)</code></a> in Apache Commons Lang, but be careful‚Äîthe performance is abysmal.</p>\n\n<p>In general, it is best practice to write your own clone methods for each class of an object in the object graph needing cloning.  </p>\n"},{"tags":[],"owner":{"account_id":6563,"reputation":5210,"user_id":11092,"accept_rate":100,"display_name":"Adisesha"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1472816100,"creation_date":1221541715,"answer_id":69534,"question_id":64036,"body_markdown":"Use XStream(http://x-stream.github.io/). You can even control which properties you can ignore through annotations or explicitly specifying the property name to XStream class. Moreover you do not need to implement clonable interface. ","title":"How do you make a deep copy of an object?","body":"<p>Use XStream(<a href=\"http://x-stream.github.io/\" rel=\"nofollow noreferrer\">http://x-stream.github.io/</a>). You can even control which properties you can ignore through annotations or explicitly specifying the property name to XStream class. Moreover you do not need to implement clonable interface. </p>\n"},{"tags":[],"owner":{"account_id":5214,"reputation":359,"user_id":8286,"display_name":"sankara"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1224748988,"creation_date":1224748988,"answer_id":228900,"question_id":64036,"body_markdown":"XStream is really useful in such instances. Here is a simple code to do cloning\r\n\r\n    private static final XStream XSTREAM = new XStream();\r\n    ...\r\n    \r\n    Object newObject = XSTREAM.fromXML(XSTREAM.toXML(obj));","title":"How do you make a deep copy of an object?","body":"<p>XStream is really useful in such instances. Here is a simple code to do cloning</p>\n\n<pre><code>private static final XStream XSTREAM = new XStream();\n...\n\nObject newObject = XSTREAM.fromXML(XSTREAM.toXML(obj));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"down_vote_count":3,"up_vote_count":84,"is_accepted":false,"score":81,"last_activity_date":1499932246,"creation_date":1228862302,"answer_id":354504,"question_id":64036,"body_markdown":" A few people have mentioned using or overriding `Object.clone()`. Don&#39;t do it. `Object.clone()` has some major problems, and its use is discouraged in most cases. Please see Item 11, from &quot;[Effective Java][1]&quot; by Joshua Bloch for a complete answer. I believe you can safely use `Object.clone()` on primitive type arrays, but apart from that you need to be judicious about properly using and overriding clone. \r\n\r\nThe schemes that rely on serialization (XML or otherwise) are kludgy.\r\n\r\nThere is no easy answer here. If you want to deep copy an object you will have to traverse the object graph and copy each child object explicitly via the object&#39;s copy constructor or a static factory method that in turn deep copies the child object. Immutables (e.g. `String`s) do not need to be copied. As an aside, you should favor immutability for this reason.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/effective/","title":"How do you make a deep copy of an object?","body":"<p>A few people have mentioned using or overriding <code>Object.clone()</code>. Don't do it. <code>Object.clone()</code> has some major problems, and its use is discouraged in most cases. Please see Item 11, from \"<a href=\"http://java.sun.com/docs/books/effective/\" rel=\"noreferrer\">Effective Java</a>\" by Joshua Bloch for a complete answer. I believe you can safely use <code>Object.clone()</code> on primitive type arrays, but apart from that you need to be judicious about properly using and overriding clone. </p>\n\n<p>The schemes that rely on serialization (XML or otherwise) are kludgy.</p>\n\n<p>There is no easy answer here. If you want to deep copy an object you will have to traverse the object graph and copy each child object explicitly via the object's copy constructor or a static factory method that in turn deep copies the child object. Immutables (e.g. <code>String</code>s) do not need to be copied. As an aside, you should favor immutability for this reason.</p>\n"},{"tags":[],"owner":{"display_name":"user946968"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1424480315,"creation_date":1316094943,"answer_id":7432044,"question_id":64036,"body_markdown":"    import com.thoughtworks.xstream.XStream;\r\n    \r\n    public class deepCopy {\r\n    \tprivate static  XStream xstream = new XStream();\r\n    \t\r\n    \t//serialize with Xstream them deserialize ...\r\n    \tpublic static Object deepCopy(Object obj){\r\n    \t\treturn xstream.fromXML(xstream.toXML(obj));\r\n    \t}\r\n    }","title":"How do you make a deep copy of an object?","body":"<pre><code>import com.thoughtworks.xstream.XStream;\n\npublic class deepCopy {\n    private static  XStream xstream = new XStream();\n\n    //serialize with Xstream them deserialize ...\n    public static Object deepCopy(Object obj){\n        return xstream.fromXML(xstream.toXML(obj));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":943267,"reputation":1872,"user_id":970985,"accept_rate":67,"display_name":"Thargor"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1633074079,"creation_date":1317295073,"answer_id":7596565,"question_id":64036,"body_markdown":"You can make a deep copy with serialization without creating files.\r\n\r\nYour object you wish to deep copy will need to `implement serializable`.  If the class isn&#39;t final or can&#39;t be modified, extend the class and implement serializable.\r\n\r\nConvert your class to a stream of bytes:\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    ObjectOutputStream oos = new ObjectOutputStream(bos);\r\n    oos.writeObject(object);\r\n    oos.flush();\r\n    oos.close();\r\n    bos.close();\r\n    byte[] byteData = bos.toByteArray();\r\n\r\nRestore your class from a stream of bytes:\r\n\r\n    ByteArrayInputStream bais = new ByteArrayInputStream(byteData);\r\n    Object object = new ObjectInputStream(bais).readObject();\r\n\r\n\r\n\r\n","title":"How do you make a deep copy of an object?","body":"<p>You can make a deep copy with serialization without creating files.</p>\n<p>Your object you wish to deep copy will need to <code>implement serializable</code>.  If the class isn't final or can't be modified, extend the class and implement serializable.</p>\n<p>Convert your class to a stream of bytes:</p>\n<pre><code>ByteArrayOutputStream bos = new ByteArrayOutputStream();\nObjectOutputStream oos = new ObjectOutputStream(bos);\noos.writeObject(object);\noos.flush();\noos.close();\nbos.close();\nbyte[] byteData = bos.toByteArray();\n</code></pre>\n<p>Restore your class from a stream of bytes:</p>\n<pre><code>ByteArrayInputStream bais = new ByteArrayInputStream(byteData);\nObject object = new ObjectInputStream(bais).readObject();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1630335049,"creation_date":1317297434,"answer_id":7596965,"question_id":64036,"body_markdown":"One way to implement deep copy is to add copy constructors to each associated class. A copy constructor takes an instance of &#39;this&#39; as its single argument and copies all the values from it. Quite some work, but pretty straightforward and safe.\r\n\r\nEDIT: note that you don&#39;t need to use accessor methods to read fields. You can access all fields directly because the source instance is always of the same type as the instance with the copy constructor. Obvious but might be overlooked.\r\n\r\nExample:\r\n\r\n\tpublic class Order {\r\n\t\r\n\t\tprivate long number;\r\n\t\r\n\t\tpublic Order() {\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Copy constructor\r\n\t\t */\r\n\t\tpublic Order(Order source) {\r\n\t\t\tnumber = source.number;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic class Customer {\r\n\t\r\n\t\tprivate String name;\r\n\t\tprivate List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;();\r\n\t\r\n\t\tpublic Customer() {\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Copy constructor\r\n\t\t */\r\n\t\tpublic Customer(Customer source) {\r\n\t\t\tname = source.name;\r\n\t\t\tfor (Order sourceOrder : source.orders) {\r\n\t\t\t\torders.add(new Order(sourceOrder));\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t}\r\n\r\nEdit: Note that copy constructors don&#39;t take inheritance into account. For example: If you pass an OnlineOrder (a subclass of Order) to a copy constructor a regular Order instance will be created in the copy, unless you  solve this explicitly. You could use reflection to look up a copy constructor in the runtime type of the argument. But I would suggest to not go this route and look for another solution if inheritance needs to be covered in a general way.\r\n\r\n","title":"How do you make a deep copy of an object?","body":"<p>One way to implement deep copy is to add copy constructors to each associated class. A copy constructor takes an instance of 'this' as its single argument and copies all the values from it. Quite some work, but pretty straightforward and safe.</p>\n<p>EDIT: note that you don't need to use accessor methods to read fields. You can access all fields directly because the source instance is always of the same type as the instance with the copy constructor. Obvious but might be overlooked.</p>\n<p>Example:</p>\n<pre><code>public class Order {\n\n    private long number;\n\n    public Order() {\n    }\n\n    /**\n     * Copy constructor\n     */\n    public Order(Order source) {\n        number = source.number;\n    }\n}\n\n\npublic class Customer {\n\n    private String name;\n    private List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;();\n\n    public Customer() {\n    }\n\n    /**\n     * Copy constructor\n     */\n    public Customer(Customer source) {\n        name = source.name;\n        for (Order sourceOrder : source.orders) {\n            orders.add(new Order(sourceOrder));\n        }\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>Edit: Note that copy constructors don't take inheritance into account. For example: If you pass an OnlineOrder (a subclass of Order) to a copy constructor a regular Order instance will be created in the copy, unless you  solve this explicitly. You could use reflection to look up a copy constructor in the runtime type of the argument. But I would suggest to not go this route and look for another solution if inheritance needs to be covered in a general way.</p>\n"},{"tags":[],"owner":{"account_id":333921,"reputation":165,"user_id":660029,"accept_rate":100,"display_name":"Ravi Chinoy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1602476355,"creation_date":1328586691,"answer_id":9170760,"question_id":64036,"body_markdown":"One very easy and simple approach is to use Jackson JSON to serialize complex Java Object to JSON and read it back.\r\n\r\nFrom https://github.com/FasterXML/jackson-databind/#5-minute-tutorial-streaming-parser-generator :\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    JsonFactory f = mapper.getFactory(); // may alternatively construct directly too\r\n    \r\n    // First: write simple JSON output\r\n    File jsonFile = new File(&quot;test.json&quot;);\r\n    JsonGenerator g = f.createGenerator(jsonFile);\r\n    // write JSON: { &quot;message&quot; : &quot;Hello world!&quot; }\r\n    g.writeStartObject();\r\n    g.writeStringField(&quot;message&quot;, &quot;Hello world!&quot;);\r\n    g.writeEndObject();\r\n    g.close();\r\n    \r\n    // Second: read file back\r\n    JsonParser p = f.createParser(jsonFile);\r\n    \r\n    JsonToken t = p.nextToken(); // Should be JsonToken.START_OBJECT\r\n    t = p.nextToken(); // JsonToken.FIELD_NAME\r\n    if ((t != JsonToken.FIELD_NAME) || !&quot;message&quot;.equals(p.getCurrentName())) {\r\n       // handle error\r\n    }\r\n    t = p.nextToken();\r\n    if (t != JsonToken.VALUE_STRING) {\r\n       // similarly\r\n    }\r\n    String msg = p.getText();\r\n    System.out.printf(&quot;My message to you is: %s!\\n&quot;, msg);\r\n    p.close();\r\n\r\n","title":"How do you make a deep copy of an object?","body":"<p>One very easy and simple approach is to use Jackson JSON to serialize complex Java Object to JSON and read it back.</p>\n<p>From <a href=\"https://github.com/FasterXML/jackson-databind/#5-minute-tutorial-streaming-parser-generator\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/#5-minute-tutorial-streaming-parser-generator</a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonFactory f = mapper.getFactory(); // may alternatively construct directly too\n\n// First: write simple JSON output\nFile jsonFile = new File(&quot;test.json&quot;);\nJsonGenerator g = f.createGenerator(jsonFile);\n// write JSON: { &quot;message&quot; : &quot;Hello world!&quot; }\ng.writeStartObject();\ng.writeStringField(&quot;message&quot;, &quot;Hello world!&quot;);\ng.writeEndObject();\ng.close();\n\n// Second: read file back\nJsonParser p = f.createParser(jsonFile);\n\nJsonToken t = p.nextToken(); // Should be JsonToken.START_OBJECT\nt = p.nextToken(); // JsonToken.FIELD_NAME\nif ((t != JsonToken.FIELD_NAME) || !&quot;message&quot;.equals(p.getCurrentName())) {\n   // handle error\n}\nt = p.nextToken();\nif (t != JsonToken.VALUE_STRING) {\n   // similarly\n}\nString msg = p.getText();\nSystem.out.printf(&quot;My message to you is: %s!\\n&quot;, msg);\np.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1380055,"reputation":17338,"user_id":1313268,"accept_rate":88,"display_name":"CorayThan"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1499932268,"creation_date":1395355929,"answer_id":22546839,"question_id":64036,"body_markdown":"You can [use a library](https://github.com/kostaskougios/cloning) that has a simple API, and performs relatively fast cloning with reflection (should be faster than serialization methods).\r\n\r\n    Cloner cloner = new Cloner();\r\n    \r\n    MyClass clone = cloner.deepClone(o);\r\n    // clone is a deep-clone of o","title":"How do you make a deep copy of an object?","body":"<p>You can <a href=\"https://github.com/kostaskougios/cloning\" rel=\"noreferrer\">use a library</a> that has a simple API, and performs relatively fast cloning with reflection (should be faster than serialization methods).</p>\n\n<pre><code>Cloner cloner = new Cloner();\n\nMyClass clone = cloner.deepClone(o);\n// clone is a deep-clone of o\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1413511739,"creation_date":1413511739,"answer_id":26416825,"question_id":64036,"body_markdown":"I used [Dozer][1] for cloning java objects and it&#39;s great at that , [Kryo][2] library is another great alternative.\r\n\r\n\r\n  [1]: https://github.com/DozerMapper/dozer\r\n  [2]: https://github.com/EsotericSoftware/kryo","title":"How do you make a deep copy of an object?","body":"<p>I used <a href=\"https://github.com/DozerMapper/dozer\" rel=\"nofollow noreferrer\">Dozer</a> for cloning java objects and it's great at that , <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo</a> library is another great alternative.</p>\n"},{"tags":[],"owner":{"account_id":4196046,"reputation":1396,"user_id":3437443,"accept_rate":83,"display_name":"TheByeByeMan"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1422456804,"creation_date":1422456804,"answer_id":28195274,"question_id":64036,"body_markdown":"Apache commons offers a fast way to deep clone an object.\r\n\r\n    My_Object object2= org.apache.commons.lang.SerializationUtils.clone(object1);","title":"How do you make a deep copy of an object?","body":"<p>Apache commons offers a fast way to deep clone an object.</p>\n\n<pre><code>My_Object object2= org.apache.commons.lang.SerializationUtils.clone(object1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1373772,"reputation":5563,"user_id":1308202,"accept_rate":84,"display_name":"Alfergon"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1455618248,"creation_date":1455618248,"answer_id":35429885,"question_id":64036,"body_markdown":"[BeanUtils][1] does a really good job deep cloning beans.\r\n\r\n    BeanUtils.cloneBean(obj);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-beanutils/","title":"How do you make a deep copy of an object?","body":"<p><a href=\"http://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow\">BeanUtils</a> does a really good job deep cloning beans.</p>\n\n<pre><code>BeanUtils.cloneBean(obj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3975707,"reputation":1021,"user_id":3278943,"display_name":"Arun"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1478875913,"creation_date":1478875913,"answer_id":40550518,"question_id":64036,"body_markdown":"1)\r\n \r\n\r\n    public static Object deepClone(Object object) {\r\n       try {\r\n         ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n         ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n         oos.writeObject(object);\r\n         ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n         ObjectInputStream ois = new ObjectInputStream(bais);\r\n         return ois.readObject();\r\n       }\r\n       catch (Exception e) {\r\n         e.printStackTrace();\r\n         return null;\r\n       }\r\n     }\r\n    \r\n    2)\r\n    \r\n        // (1) create a MyPerson object named Al\r\n        MyAddress address = new MyAddress(&quot;Vishrantwadi &quot;, &quot;Pune&quot;, &quot;India&quot;);\r\n        MyPerson al = new MyPerson(&quot;Al&quot;, &quot;Arun&quot;, address);\r\n        \r\n        // (2) make a deep clone of Al\r\n        MyPerson neighbor = (MyPerson)deepClone(al);\r\n\r\nHere your MyPerson and MyAddress class must implement serilazable interface\r\n\r\n\r\n","title":"How do you make a deep copy of an object?","body":"<p>1)</p>\n\n<pre><code>public static Object deepClone(Object object) {\n   try {\n     ByteArrayOutputStream baos = new ByteArrayOutputStream();\n     ObjectOutputStream oos = new ObjectOutputStream(baos);\n     oos.writeObject(object);\n     ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n     ObjectInputStream ois = new ObjectInputStream(bais);\n     return ois.readObject();\n   }\n   catch (Exception e) {\n     e.printStackTrace();\n     return null;\n   }\n }\n\n2)\n\n    // (1) create a MyPerson object named Al\n    MyAddress address = new MyAddress(\"Vishrantwadi \", \"Pune\", \"India\");\n    MyPerson al = new MyPerson(\"Al\", \"Arun\", address);\n\n    // (2) make a deep clone of Al\n    MyPerson neighbor = (MyPerson)deepClone(al);\n</code></pre>\n\n<p>Here your MyPerson and MyAddress class must implement serilazable interface</p>\n"},{"tags":[],"owner":{"account_id":104821,"reputation":8403,"user_id":280041,"accept_rate":84,"display_name":"zeroboo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1549037724,"creation_date":1480404254,"answer_id":40859968,"question_id":64036,"body_markdown":"For complicated objects and when performance is not significant i use a json library, like [gson][1]\r\n  [1]: https://github.com/google/gson\r\nto serialize the object to json text, then deserialize the text to get new object.\r\n    \r\ngson which based on reflection will works in most cases, except that `transient` fields will not be copied and objects with circular reference with cause `StackOverflowError`.\r\n\r\n    public static &lt;T&gt; T copy(T anObject, Class&lt;T&gt; classInfo) {\r\n\t\tGson gson = new GsonBuilder().create();\r\n\t\tString text = gson.toJson(anObject);\r\n\t\tT newObject = gson.fromJson(text, classInfo);\r\n\t\treturn newObject;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tString originalObject = &quot;hello&quot;;\r\n\t\tString copiedObject = copy(originalObject, String.class);\r\n\t}","title":"How do you make a deep copy of an object?","body":"<p>For complicated objects and when performance is not significant i use a json library, like <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">gson</a>\nto serialize the object to json text, then deserialize the text to get new object.</p>\n\n<p>gson which based on reflection will works in most cases, except that <code>transient</code> fields will not be copied and objects with circular reference with cause <code>StackOverflowError</code>.</p>\n\n<pre><code>public static &lt;T&gt; T copy(T anObject, Class&lt;T&gt; classInfo) {\n    Gson gson = new GsonBuilder().create();\n    String text = gson.toJson(anObject);\n    T newObject = gson.fromJson(text, classInfo);\n    return newObject;\n}\npublic static void main(String[] args) {\n    String originalObject = \"hello\";\n    String copiedObject = copy(originalObject, String.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7667256,"reputation":3111,"user_id":5810648,"accept_rate":75,"display_name":"Ihor Rybak"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1500502518,"creation_date":1500502518,"answer_id":45201944,"question_id":64036,"body_markdown":"For **Spring Framework** users. Using class `org.springframework.util.SerializationUtils`:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T extends Serializable&gt; T clone(T object) {\r\n         return (T) SerializationUtils.deserialize(SerializationUtils.serialize(object));\r\n    }","title":"How do you make a deep copy of an object?","body":"<p>For <strong>Spring Framework</strong> users. Using class <code>org.springframework.util.SerializationUtils</code>:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;T extends Serializable&gt; T clone(T object) {\n     return (T) SerializationUtils.deserialize(SerializationUtils.serialize(object));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2482082,"reputation":219,"user_id":2164335,"display_name":"Karthik Rao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586804706,"creation_date":1574311416,"answer_id":58967446,"question_id":64036,"body_markdown":"  Using Jackson to serialize and deserialize the object. This implementation does not require the object to implement the Serializable class.\r\n\r\n```\r\n  &lt;T&gt; T clone(T object, Class&lt;T&gt; clazzType) throws IOException {\r\n    \r\n    final ObjectMapper objMapper = new ObjectMapper();\r\n    String jsonStr= objMapper.writeValueAsString(object);\r\n\r\n    return objMapper.readValue(jsonStr, clazzType);\r\n\r\n  }\r\n```\r\n","title":"How do you make a deep copy of an object?","body":"<p>Using Jackson to serialize and deserialize the object. This implementation does not require the object to implement the Serializable class.</p>\n\n<pre><code>  &lt;T&gt; T clone(T object, Class&lt;T&gt; clazzType) throws IOException {\n\n    final ObjectMapper objMapper = new ObjectMapper();\n    String jsonStr= objMapper.writeValueAsString(object);\n\n    return objMapper.readValue(jsonStr, clazzType);\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13303863,"reputation":483,"user_id":9604444,"display_name":"mastercool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598644853,"creation_date":1598644853,"answer_id":63640212,"question_id":64036,"body_markdown":"Here is an easy example on how to deep clone any object:\r\nImplement serializable first\r\n```\r\npublic class CSVTable implements Serializable{\r\n    Table&lt;Integer, Integer, String&gt; table; \r\n\tpublic CSVTable() {\r\n\t\tthis.table = HashBasedTable.create();\r\n\t}\r\n\t\r\n\tpublic CSVTable deepClone() {\r\n\t\ttry {\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tObjectOutputStream oos = new ObjectOutputStream(baos);\r\n\t\t\toos.writeObject(this);\r\n\r\n\t\t\tByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n\t\t\tObjectInputStream ois = new ObjectInputStream(bais);\r\n\t\t\treturn (CSVTable) ois.readObject();\r\n\t\t} catch (IOException e) {\r\n\t\t\treturn null;\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nAnd then \r\n```\r\nCSVTable table = new CSVTable();\r\nCSVTable tempTable = table.deepClone();\r\n``` \r\nis how you get the clone.\r\n","title":"How do you make a deep copy of an object?","body":"<p>Here is an easy example on how to deep clone any object:\nImplement serializable first</p>\n<pre><code>public class CSVTable implements Serializable{\n    Table&lt;Integer, Integer, String&gt; table; \n    public CSVTable() {\n        this.table = HashBasedTable.create();\n    }\n    \n    public CSVTable deepClone() {\n        try {\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\n            oos.writeObject(this);\n\n            ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n            ObjectInputStream ois = new ObjectInputStream(bais);\n            return (CSVTable) ois.readObject();\n        } catch (IOException e) {\n            return null;\n        } catch (ClassNotFoundException e) {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n<p>And then</p>\n<pre><code>CSVTable table = new CSVTable();\nCSVTable tempTable = table.deepClone();\n</code></pre>\n<p>is how you get the clone.</p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609873132,"creation_date":1609873132,"answer_id":65584955,"question_id":64036,"body_markdown":"Here is a generic deep cloning method using object serialization and deserialization with byte array streams (to avoid writing to a file).\r\n\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.Serializable;\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic static &lt;T extends Serializable&gt; T deepClone(T t) {\r\n    try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            ObjectOutputStream oos = new ObjectOutputStream(baos);) {\r\n        oos.writeObject(t);\r\n        byte[] bytes = baos.toByteArray();\r\n        try (ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bytes))) {\r\n            return (T) ois.readObject();\r\n        }\r\n    } catch (IOException | ClassNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```","title":"How do you make a deep copy of an object?","body":"<p>Here is a generic deep cloning method using object serialization and deserialization with byte array streams (to avoid writing to a file).</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T extends Serializable&gt; T deepClone(T t) {\n    try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            ObjectOutputStream oos = new ObjectOutputStream(baos);) {\n        oos.writeObject(t);\n        byte[] bytes = baos.toByteArray();\n        try (ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bytes))) {\n            return (T) ois.readObject();\n        }\n    } catch (IOException | ClassNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12592909,"reputation":1061,"user_id":9158840,"display_name":"Fahad Israr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649066574,"creation_date":1649066574,"answer_id":71735351,"question_id":64036,"body_markdown":"A very quick and simple one-liner solution could be to use Jackson. \r\n\r\nHave a look at the example snippet :\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n    MyClass deepCopyObject = objectMapper\r\n      .readValue(objectMapper.writeValueAsString(originalObject), MyClass.class);\r\n\r\n*In the above example : &quot;**MyClass**&quot; refers to the class of the object you want to be copied .* \r\n\r\n - **Explanation** : We are simply trying to serialize the original object to string and then de-serialize the string back to object and thus getting a deep copy.\r\n- Learn More about ObjectMapper here : https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html","title":"How do you make a deep copy of an object?","body":"<p>A very quick and simple one-liner solution could be to use Jackson.</p>\n<p>Have a look at the example snippet :</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\nMyClass deepCopyObject = objectMapper\n  .readValue(objectMapper.writeValueAsString(originalObject), MyClass.class);\n</code></pre>\n<p><em>In the above example : &quot;<strong>MyClass</strong>&quot; refers to the class of the object you want to be copied .</em></p>\n<ul>\n<li><strong>Explanation</strong> : We are simply trying to serialize the original object to string and then de-serialize the string back to object and thus getting a deep copy.</li>\n<li>Learn More about ObjectMapper here : <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698414324,"creation_date":1698414324,"answer_id":77374660,"question_id":64036,"body_markdown":"I am surprised people are not mentioning this, but sometimes [mapstruct][1] can be used for these purposes. For instance, in out code we often have smth like that:\r\n\r\n```\r\n@Mapping(target = &quot;status&quot;, constant = &quot;DRAFT&quot;)\r\n@Mapping(target = &quot;versionNumber&quot;, constant = &quot;1&quot;)\r\nContract create(Contract contract);\r\n```\r\n\r\nAnd `mapstruct` is intelligent enough to create a brand new copy with values from the old object, maybe with some modifications like in this case above. \r\n\r\nI agree that this is not ideal and there are cases when it does not work. But in an overwhelming amount of cases, it really helps. So check it out.\r\n\r\n\r\n  [1]: https://mapstruct.org/","title":"How do you make a deep copy of an object?","body":"<p>I am surprised people are not mentioning this, but sometimes <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct</a> can be used for these purposes. For instance, in out code we often have smth like that:</p>\n<pre><code>@Mapping(target = &quot;status&quot;, constant = &quot;DRAFT&quot;)\n@Mapping(target = &quot;versionNumber&quot;, constant = &quot;1&quot;)\nContract create(Contract contract);\n</code></pre>\n<p>And <code>mapstruct</code> is intelligent enough to create a brand new copy with values from the old object, maybe with some modifications like in this case above.</p>\n<p>I agree that this is not ideal and there are cases when it does not work. But in an overwhelming amount of cases, it really helps. So check it out.</p>\n"}],"owner":{"account_id":2762,"reputation":8545,"user_id":3885,"accept_rate":67,"display_name":"Andrei Savu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446321,"favorite_count":0,"down_vote_count":0,"up_vote_count":361,"accepted_answer_id":64066,"answer_count":22,"score":361,"last_activity_date":1698414324,"creation_date":1221493144,"question_id":64036,"body_markdown":"It&#39;s a bit difficult to implement a deep object copy function. What steps you take to ensure the original object and the cloned one share no reference? ","title":"How do you make a deep copy of an object?","body":"<p>It's a bit difficult to implement a deep object copy function. What steps you take to ensure the original object and the cloned one share no reference? </p>\n"},{"tags":["java","spring","spring-mvc","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":322156,"reputation":557,"user_id":641429,"display_name":"alacambra"},"score":0,"creation_date":1439543664,"post_id":32006351,"comment_id":51915299,"body_markdown":"are you using maven?","body":"are you using maven?"},{"owner":{"account_id":1303463,"reputation":1137,"user_id":1252933,"accept_rate":76,"display_name":"stevey"},"score":0,"creation_date":1439543710,"post_id":32006351,"comment_id":51915336,"body_markdown":"yes, i&#39;m using maven. @albert","body":"yes, i&#39;m using maven. @albert"},{"owner":{"account_id":322156,"reputation":557,"user_id":641429,"display_name":"alacambra"},"score":0,"creation_date":1439543816,"post_id":32006351,"comment_id":51915411,"body_markdown":"could that help? http://maven.apache.org/surefire/maven-surefire-plugin/examples/skipping-test.html","body":"could that help? <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/skipping-test.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"},{"owner":{"account_id":6752218,"reputation":307,"user_id":5201906,"display_name":"BadK"},"score":0,"creation_date":1439543837,"post_id":32006351,"comment_id":51915422,"body_markdown":"what i have guessed too, but then its not a specific intellij question.\nhttp://maven.apache.org/general.html#skip-test","body":"what i have guessed too, but then its not a specific intellij question. <a href=\"http://maven.apache.org/general.html#skip-test\" rel=\"nofollow noreferrer\">maven.apache.org/general.html#skip-test</a>"}],"answers":[{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1439543898,"creation_date":1439543898,"answer_id":32006543,"question_id":32006351,"body_markdown":"In case you are using `Maven`, on the `View` &gt; `Tool Windows` &gt; `Maven Projects` click on the button shown below ( called `Skip Tests Mode`). Essentially it is taking the `test` phase out of the lifecycle when you say run `package`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/NuWtb.png","title":"IntelliJ IDEA 14: How to skip tests while deploying project into Tomcat","body":"<p>In case you are using <code>Maven</code>, on the <code>View</code> > <code>Tool Windows</code> > <code>Maven Projects</code> click on the button shown below ( called <code>Skip Tests Mode</code>). Essentially it is taking the <code>test</code> phase out of the lifecycle when you say run <code>package</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NuWtb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NuWtb.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1542806993,"creation_date":1542806993,"answer_id":53413144,"question_id":32006351,"body_markdown":"When creating a maven configuration for the project. On the ***Runner tab*** you can click on skip test checkbox as below :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3O2Fo.png\r\n\r\nIt helped me a lot!","title":"IntelliJ IDEA 14: How to skip tests while deploying project into Tomcat","body":"<p>When creating a maven configuration for the project. On the <strong><em>Runner tab</em></strong> you can click on skip test checkbox as below :</p>\n\n<p><a href=\"https://i.stack.imgur.com/3O2Fo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3O2Fo.png\" alt=\"enter image description here\"></a></p>\n\n<p>It helped me a lot!</p>\n"},{"tags":[],"owner":{"account_id":7369581,"reputation":129,"user_id":5610214,"display_name":"Iv&#225;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618089999,"creation_date":1618089999,"answer_id":67039418,"question_id":32006351,"body_markdown":"In the Tomcat Run/Debug configurations you can specify in the *Before launch* section a maven task with this parameter:\r\n\r\n`-Dmaven.test.skip=true`","title":"IntelliJ IDEA 14: How to skip tests while deploying project into Tomcat","body":"<p>In the Tomcat Run/Debug configurations you can specify in the <em>Before launch</em> section a maven task with this parameter:</p>\n<p><code>-Dmaven.test.skip=true</code></p>\n"},{"tags":[],"owner":{"account_id":19542302,"reputation":445,"user_id":14492099,"display_name":"Dzmitry Darashuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660034157,"creation_date":1660034157,"answer_id":73288812,"question_id":32006351,"body_markdown":"mvn -DskipTests=true clean install (or other command)","title":"IntelliJ IDEA 14: How to skip tests while deploying project into Tomcat","body":"<p>mvn -DskipTests=true clean install (or other command)</p>\n"},{"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669288318,"creation_date":1669288318,"answer_id":74559829,"question_id":32006351,"body_markdown":"Even I faced this same issue as I have newly started using IntelliJ starting today. So I have trouble to find that logo in the screenshot shared in the post shared by `dimitrisli` and also accepted answer. Let me share my solution to this issue with latest IntelliJ version.\r\n\r\nOpen IntelliJ IDE, press `Ctrl + Alt + S`, this will open settings window, now look at the screenshot I shared and do the same settings and you are done. Make sure you click the check box for `Skip Tests`.\r\n\r\nMy IntelliJ IDE version:  \r\n`IntelliJ IDEA 2022.2.4 (Community Edition)`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ifLOY.png","title":"IntelliJ IDEA 14: How to skip tests while deploying project into Tomcat","body":"<p>Even I faced this same issue as I have newly started using IntelliJ starting today. So I have trouble to find that logo in the screenshot shared in the post shared by <code>dimitrisli</code> and also accepted answer. Let me share my solution to this issue with latest IntelliJ version.</p>\n<p>Open IntelliJ IDE, press <code>Ctrl + Alt + S</code>, this will open settings window, now look at the screenshot I shared and do the same settings and you are done. Make sure you click the check box for <code>Skip Tests</code>.</p>\n<p>My IntelliJ IDE version:<br />\n<code>IntelliJ IDEA 2022.2.4 (Community Edition)</code></p>\n<p><a href=\"https://i.stack.imgur.com/ifLOY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ifLOY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":541362,"reputation":595,"user_id":4182956,"display_name":"Mustapha GANGA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676759278,"creation_date":1676759278,"answer_id":75496777,"question_id":32006351,"body_markdown":"Edit Run configuration &gt; Java Options and Modify &gt; Select &quot;Skip tests&quot; and Save\r\n\r\n[![Maven Run/Debug Configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7wGVO.png","title":"IntelliJ IDEA 14: How to skip tests while deploying project into Tomcat","body":"<p>Edit Run configuration &gt; Java Options and Modify &gt; Select &quot;Skip tests&quot; and Save</p>\n<p><a href=\"https://i.stack.imgur.com/7wGVO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7wGVO.png\" alt=\"Maven Run/Debug Configuration\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22355702,"reputation":1,"user_id":19256703,"display_name":"Vladimir Petrovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698414274,"creation_date":1697887613,"answer_id":77335769,"question_id":32006351,"body_markdown":"Toggle &#39;Skip Tests&#39; Mode.\r\n\r\nThis button will help you\r\n\r\n![][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yAmFw.png\r\n\r\n","title":"IntelliJ IDEA 14: How to skip tests while deploying project into Tomcat","body":"<p>Toggle 'Skip Tests' Mode.</p>\n<p>This button will help you</p>\n<p><img src=\"https://i.stack.imgur.com/yAmFw.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":1303463,"reputation":1137,"user_id":1252933,"accept_rate":76,"display_name":"stevey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71849,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":32006543,"answer_count":7,"score":42,"last_activity_date":1698414274,"creation_date":1439543309,"question_id":32006351,"body_markdown":"I have a [Spring MVC][1] project using [IntelliJ IDEA][2] 14 as my IDE (I&#39;m new to IntelliJ IDEA; I used [Eclipse][3]).\r\n\r\nMy main Java code is in folder `src/main`, and the unit test code is in `src/test`. While deploying the project, I found that all the unit tests are executed.\r\n\r\nHow can I skip all the unit tests while deploying the project into Tomcat?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spring_Framework#Model-view-controller_framework\r\n  [2]: http://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [3]: http://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n","title":"IntelliJ IDEA 14: How to skip tests while deploying project into Tomcat","body":"<p>I have a <a href=\"http://en.wikipedia.org/wiki/Spring_Framework#Model-view-controller_framework\" rel=\"noreferrer\">Spring MVC</a> project using <a href=\"http://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"noreferrer\">IntelliJ IDEA</a> 14 as my IDE (I'm new to IntelliJ IDEA; I used <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"noreferrer\">Eclipse</a>).</p>\n\n<p>My main Java code is in folder <code>src/main</code>, and the unit test code is in <code>src/test</code>. While deploying the project, I found that all the unit tests are executed.</p>\n\n<p>How can I skip all the unit tests while deploying the project into Tomcat?</p>\n"},{"tags":["java","apache-kafka"],"owner":{"account_id":1290069,"reputation":703,"user_id":1242336,"display_name":"Kiran K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698414239,"creation_date":1698414239,"question_id":77374651,"body_markdown":"I am completely baffled at a behaviour I am seeing and wondering why this might be manifesting. \r\nI have the following components : \r\n\r\nKafka Consumer\r\n\r\n    Properties properties = new Properties();\r\n    properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBootStrapServer);\r\n    properties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    properties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n    properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n    properties.setProperty(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n    properties.setProperty(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, StickyAssignor.class.getName());\r\n    return new KafkaConsumer&lt;&gt;(properties);\r\n\r\nOn rebalance occurring due to a new consumer joining the group : \r\n\r\n\r\n    @Override\r\n      public void onPartitionsRevoked(Collection&lt;TopicPartition&gt; partitions) {\r\n        log.info(&quot;Rebalance occurring, partitions revoked: {}&quot;, partitions);\r\n        stopAllWorkGracefully();\r\n        commitOffsets();\r\n      }\r\n    \r\n    private void commitOffsets(){\r\n    \r\n      //Map&lt;TopicPartition, OffsetAndMetadata&gt; toCommit\r\n      try{\r\n        consumer.commitSync(toCommit);\r\n        log.info(&quot;Commit complete&quot;);\r\n      }catch (Exception e){\r\n        log.error(&quot;Error while committing&quot;, e);\r\n        retry.set(true);\r\n      }\r\n}\r\n\r\nI can clearly see in the logs the log line for &quot;Commit Complete&quot; however the offsets do not get committed on the kafka topic and after the new partitions get assigned the same messages for which the commit was made are getting picked up again.\r\nAm I misunderstanding something here ? Isn&#39;t commit during partitions revoke an expected mechanism ?\r\n","title":"Kafka Consumer commitSync(offsets) does not work when invoked during partition revoke in a rebalance","body":"<p>I am completely baffled at a behaviour I am seeing and wondering why this might be manifesting.\nI have the following components :</p>\n<p>Kafka Consumer</p>\n<pre><code>Properties properties = new Properties();\nproperties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBootStrapServer);\nproperties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\nproperties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\nproperties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);\nproperties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\nproperties.setProperty(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\nproperties.setProperty(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, StickyAssignor.class.getName());\nreturn new KafkaConsumer&lt;&gt;(properties);\n</code></pre>\n<p>On rebalance occurring due to a new consumer joining the group :</p>\n<pre><code>@Override\n  public void onPartitionsRevoked(Collection&lt;TopicPartition&gt; partitions) {\n    log.info(&quot;Rebalance occurring, partitions revoked: {}&quot;, partitions);\n    stopAllWorkGracefully();\n    commitOffsets();\n  }\n\nprivate void commitOffsets(){\n\n  //Map&lt;TopicPartition, OffsetAndMetadata&gt; toCommit\n  try{\n    consumer.commitSync(toCommit);\n    log.info(&quot;Commit complete&quot;);\n  }catch (Exception e){\n    log.error(&quot;Error while committing&quot;, e);\n    retry.set(true);\n  }\n</code></pre>\n<p>}</p>\n<p>I can clearly see in the logs the log line for &quot;Commit Complete&quot; however the offsets do not get committed on the kafka topic and after the new partitions get assigned the same messages for which the commit was made are getting picked up again.\nAm I misunderstanding something here ? Isn't commit during partitions revoke an expected mechanism ?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":9619387,"reputation":312,"user_id":7141123,"display_name":"sminmgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625411847,"creation_date":1625411847,"answer_id":68246139,"question_id":68246038,"body_markdown":"I think this can be achieved by following:\r\nAdding `:id` in your native query and passing `id` in function.\r\n\r\n\r\n    @Query(value = &quot;SELECT transiction.user_id, transiction.quantity, transiction.instrument_name, \r\n    transiction.Price, instrument.LTP, instrument.jo_caps FROM instrument INNER JOIN transiction ON instrument.instrument = transiction.instrument_name \r\n    where transiction.User= :id&quot;, nativeQuery = true)\r\n    List&lt;TransictionProjection&gt; getTransictionsAndInstruments(Long id);","title":"How to pass path variable to JPA repository from controller","body":"<p>I think this can be achieved by following:\nAdding <code>:id</code> in your native query and passing <code>id</code> in function.</p>\n<pre><code>@Query(value = &quot;SELECT transiction.user_id, transiction.quantity, transiction.instrument_name, \ntransiction.Price, instrument.LTP, instrument.jo_caps FROM instrument INNER JOIN transiction ON instrument.instrument = transiction.instrument_name \nwhere transiction.User= :id&quot;, nativeQuery = true)\nList&lt;TransictionProjection&gt; getTransictionsAndInstruments(Long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22627567,"reputation":1,"user_id":16805448,"display_name":"juan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698340240,"creation_date":1698307672,"answer_id":77365186,"question_id":68246038,"body_markdown":"    @Query(&quot;Your query WHERE id = :userId&quot;)\r\n\r\n    List&lt;Result&gt; Method(@Param(&quot;userId&quot;) Long userId);","title":"How to pass path variable to JPA repository from controller","body":"<pre><code>@Query(&quot;Your query WHERE id = :userId&quot;)\n\nList&lt;Result&gt; Method(@Param(&quot;userId&quot;) Long userId);\n</code></pre>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68246139,"answer_count":2,"score":0,"last_activity_date":1698413809,"creation_date":1625411120,"question_id":68246038,"body_markdown":"How to pass a path variable to `JPA` repository from controller.\r\n\r\n\r\nI have a controller here and from the front End I am getting a variable. \r\n\r\nHere is my controller : \r\n\r\n\t\r\n\r\n    @GetMapping(&quot;/getTransictionsAndInstruments/{id}&quot;)\r\n    \tpublic List&lt;TransictionProjection&gt; getTransitionInstrument(@PathVariable Long id){\r\n    \t\treturn transictionrepository.getTransictionsAndInstruments();\r\n    \t}\r\n\t\r\n\t\r\n\t\r\nBased on this id I want some alteration in my result. I have already a query and  want to use this id in the repository. So how can I pass that in the repository. \r\n\r\n\r\n\r\n\r\n    @Repository\r\n    public interface TransictionRepository extends JpaRepository&lt;Transictions, Long&gt;{\r\n    \t\r\n    \t@Query(value = &quot;SELECT transiction.user_id, transiction.quantity, transiction.instrument_name, transiction.Price, instrument.LTP, instrument.jo_caps FROM instrument INNER JOIN transiction ON instrument.instrument = transiction.instrument_name where transiction.User= id&quot;, nativeQuery = true)\r\n        \r\n    \t\r\n        List&lt;TransictionProjection&gt; getTransictionsAndInstruments();\r\n    }\r\n\r\n\r\nI want to include this line in my query \t\t`where transiction.User= id`\r\n\r\nAny help how to achieve this.","title":"How to pass path variable to JPA repository from controller","body":"<p>How to pass a path variable to <code>JPA</code> repository from controller.</p>\n<p>I have a controller here and from the front End I am getting a variable.</p>\n<p>Here is my controller :</p>\n<pre><code>@GetMapping(&quot;/getTransictionsAndInstruments/{id}&quot;)\n    public List&lt;TransictionProjection&gt; getTransitionInstrument(@PathVariable Long id){\n        return transictionrepository.getTransictionsAndInstruments();\n    }\n</code></pre>\n<p>Based on this id I want some alteration in my result. I have already a query and  want to use this id in the repository. So how can I pass that in the repository.</p>\n<pre><code>@Repository\npublic interface TransictionRepository extends JpaRepository&lt;Transictions, Long&gt;{\n    \n    @Query(value = &quot;SELECT transiction.user_id, transiction.quantity, transiction.instrument_name, transiction.Price, instrument.LTP, instrument.jo_caps FROM instrument INNER JOIN transiction ON instrument.instrument = transiction.instrument_name where transiction.User= id&quot;, nativeQuery = true)\n    \n    \n    List&lt;TransictionProjection&gt; getTransictionsAndInstruments();\n}\n</code></pre>\n<p>I want to include this line in my query         <code>where transiction.User= id</code></p>\n<p>Any help how to achieve this.</p>\n"},{"tags":["java","algorithm","mathematical-optimization","cplex","decomposition"],"answers":[{"tags":[],"owner":{"account_id":4592706,"reputation":9381,"user_id":3725596,"display_name":"Alex Fleischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663132353,"creation_date":1663073294,"answer_id":73703341,"question_id":73702313,"body_markdown":"For manual annotation, you have an example in CPLEX_Studio221\\cplex\\examples\\src\\java : Facility.java\r\n\r\nwhere we can see\r\n\r\n    cplex.newLongAnnotation(IloCplex.CPX_BENDERS_ANNOTATION,\r\n                                           IloCplex.CPX_BENDERS_MASTERVALUE + 1);\r\n                for (int j = 0; j &lt; nbLocations; ++j)\r\n                   cplex.setAnnotation(decomp, open[j], IloCplex.CPX_BENDERS_MASTERVALUE);\r\n\r\nI do not think you can directly get the submodel but you can get the [annotation][1]:\r\n\r\n    cpx.writeBendersAnnotation(&quot;benders.ann&quot;);\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/icos/20.1.0?topic=cplex-ann-annotations-modeling-elements\r\n\r\nNb : Same question at \r\n\r\nhttps://community.ibm.com/community/user/datascience/discussion/variables-annotations-in-cplex-for-automatic-benders-decomposition-java-api#bm337e8cc3-0332-4ddd-98ee-9bf8aba83801","title":"Variables annotations in CPLEX for Automatic Benders decomposition Java API","body":"<p>For manual annotation, you have an example in CPLEX_Studio221\\cplex\\examples\\src\\java : Facility.java</p>\n<p>where we can see</p>\n<pre><code>cplex.newLongAnnotation(IloCplex.CPX_BENDERS_ANNOTATION,\n                                       IloCplex.CPX_BENDERS_MASTERVALUE + 1);\n            for (int j = 0; j &lt; nbLocations; ++j)\n               cplex.setAnnotation(decomp, open[j], IloCplex.CPX_BENDERS_MASTERVALUE);\n</code></pre>\n<p>I do not think you can directly get the submodel but you can get the <a href=\"https://www.ibm.com/docs/en/icos/20.1.0?topic=cplex-ann-annotations-modeling-elements\" rel=\"nofollow noreferrer\">annotation</a>:</p>\n<pre><code>cpx.writeBendersAnnotation(&quot;benders.ann&quot;);\n</code></pre>\n<p>Nb : Same question at</p>\n<p><a href=\"https://community.ibm.com/community/user/datascience/discussion/variables-annotations-in-cplex-for-automatic-benders-decomposition-java-api#bm337e8cc3-0332-4ddd-98ee-9bf8aba83801\" rel=\"nofollow noreferrer\">https://community.ibm.com/community/user/datascience/discussion/variables-annotations-in-cplex-for-automatic-benders-decomposition-java-api#bm337e8cc3-0332-4ddd-98ee-9bf8aba83801</a></p>\n"}],"owner":{"account_id":16284398,"reputation":41,"user_id":11759504,"display_name":"CHE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698413378,"creation_date":1663068965,"question_id":73702313,"body_markdown":"I am trying to implement the automatic benders decomposition to my problem using CPLEX version 20.10. I want to use USER strategy where CPLEX attempts to decompose the model according to my annotations.\r\n\r\nSo first I initialize the strategy of benders algorithm and cplex.newLongAnnotation to specify cpxBendersPartition of variables. \r\n\r\n    cplex.setParam(IloCplex.Param.Benders.Strategy, IloCplex.BendersStrategy.User);\t\t\r\n    IloCplex.LongAnnotation benders = cplex.newLongAnnotation(&quot;cpxBendersPartition&quot;);\r\n\r\nThen after initializing the integer variable $x \\in X$\r\n\r\n    IloIntVar [] x  = new IloIntVar[NumofX]; //integer \r\n\r\n I tried to annotate it as following and add it to the master problem (value = 0)\r\n\r\n    for(int k=0; k &lt; x.length; k++) {\t\t\r\n\t\tx[k] = cplex.intVar(0,UB,&quot;x_&quot;+k);\r\n\t\tcplex.setAnnotation(benders, x[k], 0);\t\r\n\t}\r\n\r\nHowever at this point I got this following error:\r\n\r\n&gt; ilog.cplex.IloCplex$UnknownObjectException: CPLEX Error: object is unknown to IloCplex &lt;br&gt;\r\n&gt; at ilog.cplex.IloCplex.getIndexOrException(IloCplex.java:11470) &lt;br&gt;\r\n&gt; at ilog.cplex.IloCplex.access$7400(IloCplex.java:453) &lt;br&gt;\r\n&gt; at ilog.cplex.IloCplex$AnnotationList.getIndexAndType(IloCplex.java:22273) &lt;br&gt;\r\n&gt; at ilog.cplex.IloCplex$AnnotationList.setAnnotation(IloCplex.java:22302)&lt;br&gt;\r\n&gt; at ilog.cplex.IloCplex.setAnnotation(IloCplex.java:22851)&lt;br&gt;\r\n\r\n\r\nSo my questions are why am I getting this error ? and how to annotate the variables to use in an annotated decomposition for Benders algorithm? \r\n\r\nIs there a way to export the .LP files of the master and the sub-problem(s) ? \r\n\r\n\r\n\r\n","title":"Variables annotations in CPLEX for Automatic Benders decomposition Java API","body":"<p>I am trying to implement the automatic benders decomposition to my problem using CPLEX version 20.10. I want to use USER strategy where CPLEX attempts to decompose the model according to my annotations.</p>\n<p>So first I initialize the strategy of benders algorithm and cplex.newLongAnnotation to specify cpxBendersPartition of variables.</p>\n<pre><code>cplex.setParam(IloCplex.Param.Benders.Strategy, IloCplex.BendersStrategy.User);     \nIloCplex.LongAnnotation benders = cplex.newLongAnnotation(&quot;cpxBendersPartition&quot;);\n</code></pre>\n<p>Then after initializing the integer variable $x \\in X$</p>\n<pre><code>IloIntVar [] x  = new IloIntVar[NumofX]; //integer \n</code></pre>\n<p>I tried to annotate it as following and add it to the master problem (value = 0)</p>\n<pre><code>for(int k=0; k &lt; x.length; k++) {       \n    x[k] = cplex.intVar(0,UB,&quot;x_&quot;+k);\n    cplex.setAnnotation(benders, x[k], 0);  \n}\n</code></pre>\n<p>However at this point I got this following error:</p>\n<blockquote>\n<p>ilog.cplex.IloCplex$UnknownObjectException: CPLEX Error: object is unknown to IloCplex <br>\nat ilog.cplex.IloCplex.getIndexOrException(IloCplex.java:11470) <br>\nat ilog.cplex.IloCplex.access$7400(IloCplex.java:453) <br>\nat ilog.cplex.IloCplex$AnnotationList.getIndexAndType(IloCplex.java:22273) <br>\nat ilog.cplex.IloCplex$AnnotationList.setAnnotation(IloCplex.java:22302)<br>\nat ilog.cplex.IloCplex.setAnnotation(IloCplex.java:22851)<br></p>\n</blockquote>\n<p>So my questions are why am I getting this error ? and how to annotate the variables to use in an annotated decomposition for Benders algorithm?</p>\n<p>Is there a way to export the .LP files of the master and the sub-problem(s) ?</p>\n"},{"tags":["java","android","imageview","gallery","save-image"],"comments":[{"owner":{"account_id":3906796,"reputation":279,"user_id":3233280,"accept_rate":40,"display_name":"user3233280"},"score":0,"creation_date":1393062785,"post_id":8560501,"comment_id":33258767,"body_markdown":"have you resolved this issue ? can u please share with me","body":"have you resolved this issue ? can u please share with me"},{"owner":{"account_id":3906796,"reputation":279,"user_id":3233280,"accept_rate":40,"display_name":"user3233280"},"score":0,"creation_date":1393062865,"post_id":8560501,"comment_id":33258788,"body_markdown":"i am also having same problem http://stackoverflow.com/questions/21951558/failed-to-save-image-from-app-assets-folder-to-gallery-folder-in-android/21951643?noredirect=1#21951643","body":"i am also having same problem <a href=\"http://stackoverflow.com/questions/21951558/failed-to-save-image-from-app-assets-folder-to-gallery-folder-in-android/21951643?noredirect=1#21951643\" title=\"failed to save image from app assets folder to gallery folder in android\">stackoverflow.com/questions/21951558/&hellip;</a>"},{"owner":{"account_id":1455279,"reputation":1694,"user_id":1371041,"accept_rate":100,"display_name":"ChallengeAccepted"},"score":0,"creation_date":1416952730,"post_id":8560501,"comment_id":42773086,"body_markdown":"For those of you who are still having issues saving the file, it might be because your url contains illegal characters such as &quot;?&quot;, &quot;:&quot;, and &quot;-&quot; Remove those and it should work. This is a common error in foreign devices and the android emulators. See more about it here: http://stackoverflow.com/questions/11394616/java-io-ioexception-open-failed-einval-invalid-argument-when-saving-a-image","body":"For those of you who are still having issues saving the file, it might be because your url contains illegal characters such as &quot;?&quot;, &quot;:&quot;, and &quot;-&quot; Remove those and it should work. This is a common error in foreign devices and the android emulators. See more about it here: <a href=\"http://stackoverflow.com/questions/11394616/java-io-ioexception-open-failed-einval-invalid-argument-when-saving-a-image\" title=\"java io ioexception open failed einval invalid argument when saving a image\">stackoverflow.com/questions/11394616/&hellip;</a>"},{"owner":{"account_id":1108258,"reputation":3565,"user_id":1099193,"display_name":"Bao Lei"},"score":0,"creation_date":1564469114,"post_id":8560501,"comment_id":101030172,"body_markdown":"The accepted answer is a little outdated in 2019. I have written an updated answer here: https://stackoverflow.com/questions/36624756/how-to-save-bitmap-to-android-gallery/57265702#57265702","body":"The accepted answer is a little outdated in 2019. I have written an updated answer here: <a href=\"https://stackoverflow.com/questions/36624756/how-to-save-bitmap-to-android-gallery/57265702#57265702\" title=\"how to save bitmap to android gallery\">stackoverflow.com/questions/36624756/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":370590,"reputation":79096,"user_id":718618,"display_name":"C&#233;dric Julien"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1544759175,"creation_date":1324293734,"answer_id":8560582,"question_id":8560501,"body_markdown":"According to [this course](https://developer.android.com/training/camera/photobasics.html), the correct way to do this is:\r\n\r\n    Environment.getExternalStoragePublicDirectory(\r\n            Environment.DIRECTORY_PICTURES\r\n        )\r\n\r\nThis will give you the root path for the gallery directory.","title":"android - save image into gallery","body":"<p>According to <a href=\"https://developer.android.com/training/camera/photobasics.html\" rel=\"noreferrer\">this course</a>, the correct way to do this is:</p>\n\n<pre><code>Environment.getExternalStoragePublicDirectory(\n        Environment.DIRECTORY_PICTURES\n    )\n</code></pre>\n\n<p>This will give you the root path for the gallery directory.</p>\n"},{"tags":[],"owner":{"account_id":283183,"reputation":9890,"user_id":580552,"accept_rate":52,"display_name":"sebastianf182"},"down_vote_count":1,"up_vote_count":189,"is_accepted":true,"score":188,"last_activity_date":1428071720,"creation_date":1325655511,"answer_id":8722494,"question_id":8560501,"body_markdown":"    MediaStore.Images.Media.insertImage(getContentResolver(), yourBitmap, yourTitle , yourDescription);\r\n\r\nThe former code will add the image at the end of the gallery. If you want to modify the date so it appears at the beginning or any other metadata, see the code below (Cortesy of S-K, *samkirton*):\r\n\r\nhttps://gist.github.com/samkirton/0242ba81d7ca00b475b9\r\n\r\n    /**\r\n     * Android internals have been modified to store images in the media folder with \r\n     * the correct date meta data\r\n     * @author samuelkirton\r\n     */\r\n    public class CapturePhotoUtils {\r\n    \t\r\n    \t/**\r\n    \t * A copy of the Android internals  insertImage method, this method populates the \r\n    \t * meta data with DATE_ADDED and DATE_TAKEN. This fixes a common problem where media \r\n    \t * that is inserted manually gets saved at the end of the gallery (because date is not populated).\r\n    \t * @see android.provider.MediaStore.Images.Media#insertImage(ContentResolver, Bitmap, String, String)\r\n    \t */\r\n    \tpublic static final String insertImage(ContentResolver cr, \r\n    \t\t\tBitmap source, \r\n    \t\t\tString title, \r\n    \t\t\tString description) {\r\n    \t\t\r\n    \t\tContentValues values = new ContentValues();\r\n    \t\tvalues.put(Images.Media.TITLE, title);\r\n    \t\tvalues.put(Images.Media.DISPLAY_NAME, title);\r\n    \t\tvalues.put(Images.Media.DESCRIPTION, description);\r\n    \t\tvalues.put(Images.Media.MIME_TYPE, &quot;image/jpeg&quot;);\r\n    \t\t// Add the date meta data to ensure the image is added at the front of the gallery\r\n    \t\tvalues.put(Images.Media.DATE_ADDED, System.currentTimeMillis());\r\n    \t\tvalues.put(Images.Media.DATE_TAKEN, System.currentTimeMillis());\r\n     \r\n            Uri url = null;\r\n            String stringUrl = null;    /* value to be returned */\r\n     \r\n            try {\r\n                url = cr.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\r\n     \r\n                if (source != null) {\r\n                    OutputStream imageOut = cr.openOutputStream(url);\r\n                    try {\r\n                        source.compress(Bitmap.CompressFormat.JPEG, 50, imageOut);\r\n                    } finally {\r\n                        imageOut.close();\r\n                    }\r\n     \r\n                    long id = ContentUris.parseId(url);\r\n                    // Wait until MINI_KIND thumbnail is generated.\r\n                    Bitmap miniThumb = Images.Thumbnails.getThumbnail(cr, id, Images.Thumbnails.MINI_KIND, null);\r\n                    // This is for backward compatibility.\r\n                    storeThumbnail(cr, miniThumb, id, 50F, 50F,Images.Thumbnails.MICRO_KIND);\r\n                } else {\r\n                    cr.delete(url, null, null);\r\n                    url = null;\r\n                }\r\n            } catch (Exception e) {\r\n                if (url != null) {\r\n                    cr.delete(url, null, null);\r\n                    url = null;\r\n                }\r\n            }\r\n     \r\n            if (url != null) {\r\n                stringUrl = url.toString();\r\n            }\r\n     \r\n            return stringUrl;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * A copy of the Android internals StoreThumbnail method, it used with the insertImage to\r\n    \t * populate the android.provider.MediaStore.Images.Media#insertImage with all the correct\r\n    \t * meta data. The StoreThumbnail method is private so it must be duplicated here.\r\n    \t * @see android.provider.MediaStore.Images.Media (StoreThumbnail private method)\r\n    \t */\r\n    \tprivate static final Bitmap storeThumbnail(\r\n    \t\t\tContentResolver cr,\r\n    \t\t\tBitmap source,\r\n    \t\t\tlong id,\r\n    \t\t\tfloat width, \r\n    \t\t\tfloat height,\r\n    \t\t\tint kind) {\r\n    \t\t\r\n    \t\t// create the matrix to scale it\r\n    \t\tMatrix matrix = new Matrix();\r\n     \r\n    \t\tfloat scaleX = width / source.getWidth();\r\n    \t\tfloat scaleY = height / source.getHeight();\r\n     \r\n    \t\tmatrix.setScale(scaleX, scaleY);\r\n     \r\n    \t\tBitmap thumb = Bitmap.createBitmap(source, 0, 0,\r\n    \t\t\tsource.getWidth(),\r\n    \t\t\tsource.getHeight(), matrix,\r\n    \t\t\ttrue\r\n    \t\t);\r\n     \r\n    \t\tContentValues values = new ContentValues(4);\r\n    \t\tvalues.put(Images.Thumbnails.KIND,kind);\r\n    \t\tvalues.put(Images.Thumbnails.IMAGE_ID,(int)id);\r\n    \t\tvalues.put(Images.Thumbnails.HEIGHT,thumb.getHeight());\r\n    \t\tvalues.put(Images.Thumbnails.WIDTH,thumb.getWidth());\r\n     \r\n    \t\tUri url = cr.insert(Images.Thumbnails.EXTERNAL_CONTENT_URI, values);\r\n     \r\n    \t\ttry {\r\n    \t\t\tOutputStream thumbOut = cr.openOutputStream(url);\r\n    \t\t\tthumb.compress(Bitmap.CompressFormat.JPEG, 100, thumbOut);\r\n    \t\t\tthumbOut.close();\r\n    \t\t\treturn thumb;\r\n    \t\t} catch (FileNotFoundException ex) {\r\n    \t\t\treturn null;\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n        }\r\n    }","title":"android - save image into gallery","body":"<pre><code>MediaStore.Images.Media.insertImage(getContentResolver(), yourBitmap, yourTitle , yourDescription);\n</code></pre>\n\n<p>The former code will add the image at the end of the gallery. If you want to modify the date so it appears at the beginning or any other metadata, see the code below (Cortesy of S-K, <em>samkirton</em>):</p>\n\n<p><a href=\"https://gist.github.com/samkirton/0242ba81d7ca00b475b9\" rel=\"noreferrer\">https://gist.github.com/samkirton/0242ba81d7ca00b475b9</a></p>\n\n<pre><code>/**\n * Android internals have been modified to store images in the media folder with \n * the correct date meta data\n * @author samuelkirton\n */\npublic class CapturePhotoUtils {\n\n    /**\n     * A copy of the Android internals  insertImage method, this method populates the \n     * meta data with DATE_ADDED and DATE_TAKEN. This fixes a common problem where media \n     * that is inserted manually gets saved at the end of the gallery (because date is not populated).\n     * @see android.provider.MediaStore.Images.Media#insertImage(ContentResolver, Bitmap, String, String)\n     */\n    public static final String insertImage(ContentResolver cr, \n            Bitmap source, \n            String title, \n            String description) {\n\n        ContentValues values = new ContentValues();\n        values.put(Images.Media.TITLE, title);\n        values.put(Images.Media.DISPLAY_NAME, title);\n        values.put(Images.Media.DESCRIPTION, description);\n        values.put(Images.Media.MIME_TYPE, \"image/jpeg\");\n        // Add the date meta data to ensure the image is added at the front of the gallery\n        values.put(Images.Media.DATE_ADDED, System.currentTimeMillis());\n        values.put(Images.Media.DATE_TAKEN, System.currentTimeMillis());\n\n        Uri url = null;\n        String stringUrl = null;    /* value to be returned */\n\n        try {\n            url = cr.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n\n            if (source != null) {\n                OutputStream imageOut = cr.openOutputStream(url);\n                try {\n                    source.compress(Bitmap.CompressFormat.JPEG, 50, imageOut);\n                } finally {\n                    imageOut.close();\n                }\n\n                long id = ContentUris.parseId(url);\n                // Wait until MINI_KIND thumbnail is generated.\n                Bitmap miniThumb = Images.Thumbnails.getThumbnail(cr, id, Images.Thumbnails.MINI_KIND, null);\n                // This is for backward compatibility.\n                storeThumbnail(cr, miniThumb, id, 50F, 50F,Images.Thumbnails.MICRO_KIND);\n            } else {\n                cr.delete(url, null, null);\n                url = null;\n            }\n        } catch (Exception e) {\n            if (url != null) {\n                cr.delete(url, null, null);\n                url = null;\n            }\n        }\n\n        if (url != null) {\n            stringUrl = url.toString();\n        }\n\n        return stringUrl;\n    }\n\n    /**\n     * A copy of the Android internals StoreThumbnail method, it used with the insertImage to\n     * populate the android.provider.MediaStore.Images.Media#insertImage with all the correct\n     * meta data. The StoreThumbnail method is private so it must be duplicated here.\n     * @see android.provider.MediaStore.Images.Media (StoreThumbnail private method)\n     */\n    private static final Bitmap storeThumbnail(\n            ContentResolver cr,\n            Bitmap source,\n            long id,\n            float width, \n            float height,\n            int kind) {\n\n        // create the matrix to scale it\n        Matrix matrix = new Matrix();\n\n        float scaleX = width / source.getWidth();\n        float scaleY = height / source.getHeight();\n\n        matrix.setScale(scaleX, scaleY);\n\n        Bitmap thumb = Bitmap.createBitmap(source, 0, 0,\n            source.getWidth(),\n            source.getHeight(), matrix,\n            true\n        );\n\n        ContentValues values = new ContentValues(4);\n        values.put(Images.Thumbnails.KIND,kind);\n        values.put(Images.Thumbnails.IMAGE_ID,(int)id);\n        values.put(Images.Thumbnails.HEIGHT,thumb.getHeight());\n        values.put(Images.Thumbnails.WIDTH,thumb.getWidth());\n\n        Uri url = cr.insert(Images.Thumbnails.EXTERNAL_CONTENT_URI, values);\n\n        try {\n            OutputStream thumbOut = cr.openOutputStream(url);\n            thumb.compress(Bitmap.CompressFormat.JPEG, 100, thumbOut);\n            thumbOut.close();\n            return thumb;\n        } catch (FileNotFoundException ex) {\n            return null;\n        } catch (IOException ex) {\n            return null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454686,"reputation":1461,"user_id":852412,"display_name":"Sigrist"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1349113557,"creation_date":1349113557,"answer_id":12678282,"question_id":8560501,"body_markdown":"Actually, you can save you picture at any place. If you want to save in a public space, so any other application can access, use this code:\r\n\r\n    storageDir = new File(\r\n        Environment.getExternalStoragePublicDirectory(\r\n            Environment.DIRECTORY_PICTURES\r\n        ), \r\n        getAlbumName()\r\n    );\r\n\r\nThe picture doesn&#39;t go to the album. To do this, you need to call a scan:\r\n\r\n    private void galleryAddPic() {\r\n        Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n        File f = new File(mCurrentPhotoPath);\r\n        Uri contentUri = Uri.fromFile(f);\r\n        mediaScanIntent.setData(contentUri);\r\n        this.sendBroadcast(mediaScanIntent);\r\n    }\r\n\r\nYou can found more info at https://developer.android.com/training/camera/photobasics.html#TaskGallery\r\n\r\n\r\n\r\n","title":"android - save image into gallery","body":"<p>Actually, you can save you picture at any place. If you want to save in a public space, so any other application can access, use this code:</p>\n\n<pre><code>storageDir = new File(\n    Environment.getExternalStoragePublicDirectory(\n        Environment.DIRECTORY_PICTURES\n    ), \n    getAlbumName()\n);\n</code></pre>\n\n<p>The picture doesn't go to the album. To do this, you need to call a scan:</p>\n\n<pre><code>private void galleryAddPic() {\n    Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n    File f = new File(mCurrentPhotoPath);\n    Uri contentUri = Uri.fromFile(f);\n    mediaScanIntent.setData(contentUri);\n    this.sendBroadcast(mediaScanIntent);\n}\n</code></pre>\n\n<p>You can found more info at <a href=\"https://developer.android.com/training/camera/photobasics.html#TaskGallery\" rel=\"noreferrer\">https://developer.android.com/training/camera/photobasics.html#TaskGallery</a></p>\n"},{"tags":[],"owner":{"account_id":3364894,"reputation":121,"user_id":2825779,"display_name":"nitin Sol"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1382612417,"creation_date":1382611405,"answer_id":19563716,"question_id":8560501,"body_markdown":"    private void galleryAddPic() {\r\n        Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n        File f = new File(mCurrentPhotoPath);\r\n        Uri contentUri = Uri.fromFile(f);\r\n        mediaScanIntent.setData(contentUri);\r\n        this.sendBroadcast(mediaScanIntent);\r\n    }\r\n\r\n","title":"android - save image into gallery","body":"<pre><code>private void galleryAddPic() {\n    Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n    File f = new File(mCurrentPhotoPath);\n    Uri contentUri = Uri.fromFile(f);\n    mediaScanIntent.setData(contentUri);\n    this.sendBroadcast(mediaScanIntent);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1585923319,"creation_date":1447280001,"answer_id":33660845,"question_id":8560501,"body_markdown":"I&#39;ve tried a lot of things to let this work on Marshmallow and Lollipop.\r\nFinally i ended up moving the saved picture to the DCIM folder (new Google Photo app scan images only if they are inside this folder apparently)\r\n\r\n    public static File createImageFile() throws IOException {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;)\r\n             .format(System.currentTimeInMillis());\r\n        File storageDir = new File(Environment\r\n             .getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM) + &quot;/Camera/&quot;);\r\n        if (!storageDir.exists())\r\n            storageDir.mkdirs();\r\n        File image = File.createTempFile(\r\n                timeStamp,                   /* prefix */\r\n                &quot;.jpeg&quot;,                     /* suffix */\r\n                storageDir                   /* directory */\r\n        );\r\n        return image;\r\n    }\r\n\r\nAnd then the standard code for scanning files which you can find in the [Google Developers site too](https://developer.android.com/training/camera/photobasics.html#TaskGallery).\r\n\r\n    public static void addPicToGallery(Context context, String photoPath) {\r\n        Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n        File f = new File(photoPath);\r\n        Uri contentUri = Uri.fromFile(f);\r\n        mediaScanIntent.setData(contentUri);\r\n        context.sendBroadcast(mediaScanIntent);\r\n    }\r\n\r\nPlease remember that this folder could not be present in every device in the world and that starting from Marshmallow (API 23), you need to request the permission to WRITE_EXTERNAL_STORAGE to the user.","title":"android - save image into gallery","body":"<p>I've tried a lot of things to let this work on Marshmallow and Lollipop.\nFinally i ended up moving the saved picture to the DCIM folder (new Google Photo app scan images only if they are inside this folder apparently)</p>\n\n<pre><code>public static File createImageFile() throws IOException {\n    // Create an image file name\n    String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\")\n         .format(System.currentTimeInMillis());\n    File storageDir = new File(Environment\n         .getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM) + \"/Camera/\");\n    if (!storageDir.exists())\n        storageDir.mkdirs();\n    File image = File.createTempFile(\n            timeStamp,                   /* prefix */\n            \".jpeg\",                     /* suffix */\n            storageDir                   /* directory */\n    );\n    return image;\n}\n</code></pre>\n\n<p>And then the standard code for scanning files which you can find in the <a href=\"https://developer.android.com/training/camera/photobasics.html#TaskGallery\" rel=\"noreferrer\">Google Developers site too</a>.</p>\n\n<pre><code>public static void addPicToGallery(Context context, String photoPath) {\n    Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n    File f = new File(photoPath);\n    Uri contentUri = Uri.fromFile(f);\n    mediaScanIntent.setData(contentUri);\n    context.sendBroadcast(mediaScanIntent);\n}\n</code></pre>\n\n<p>Please remember that this folder could not be present in every device in the world and that starting from Marshmallow (API 23), you need to request the permission to WRITE_EXTERNAL_STORAGE to the user.</p>\n"},{"tags":[],"owner":{"account_id":2159325,"reputation":613,"user_id":1913859,"display_name":"Slaters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486745500,"creation_date":1486745500,"answer_id":42164604,"question_id":8560501,"body_markdown":"I come here with the same doubt but for Xamarin for Android, I have used the Sigrist answer to do this method after save my file:\r\n\r\n    private void UpdateGallery()\r\n    {\r\n        Intent mediaScanIntent = new Intent(Intent.ActionMediaScannerScanFile);\r\n        Java.IO.File file = new Java.IO.File(_path);\r\n        Android.Net.Uri contentUri = Android.Net.Uri.FromFile(file);\r\n        mediaScanIntent.SetData(contentUri);\r\n        Application.Context.SendBroadcast(mediaScanIntent);\r\n    } \r\n\r\nand it solved my problem, Thx Sigrist. I put it here becouse i did not found an answare about this for Xamarin and i hope it can help other people.","title":"android - save image into gallery","body":"<p>I come here with the same doubt but for Xamarin for Android, I have used the Sigrist answer to do this method after save my file:</p>\n\n<pre><code>private void UpdateGallery()\n{\n    Intent mediaScanIntent = new Intent(Intent.ActionMediaScannerScanFile);\n    Java.IO.File file = new Java.IO.File(_path);\n    Android.Net.Uri contentUri = Android.Net.Uri.FromFile(file);\n    mediaScanIntent.SetData(contentUri);\n    Application.Context.SendBroadcast(mediaScanIntent);\n} \n</code></pre>\n\n<p>and it solved my problem, Thx Sigrist. I put it here becouse i did not found an answare about this for Xamarin and i hope it can help other people.</p>\n"},{"tags":[],"owner":{"account_id":470275,"reputation":2158,"user_id":877383,"accept_rate":45,"display_name":"dc10"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487171797,"creation_date":1487165981,"answer_id":42250982,"question_id":8560501,"body_markdown":"In my case the solutions above did not work I had to do the following:\r\n\r\n    sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, Uri.fromFile(f)));\r\n\r\n","title":"android - save image into gallery","body":"<p>In my case the solutions above did not work I had to do the following:</p>\n\n<pre><code>sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, Uri.fromFile(f)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11037708,"reputation":11,"user_id":8106824,"display_name":"Bhavik Mehta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499435070,"creation_date":1499435070,"answer_id":44972380,"question_id":8560501,"body_markdown":"     String filePath=&quot;/storage/emulated/0/DCIM&quot;+app_name;\r\n        File dir=new File(filePath);\r\n        if(!dir.exists()){\r\n            dir.mkdir();\r\n        }\r\nThis code is in onCreate method.This code is for creating a directory of app_name.\r\nNow,this directory can be accessed using default file manager app in android.\r\nUse this string filePath wherever required to set your destination folder.\r\nI am sure this method works on Android 7 too because I tested on it.Hence,it can work on other versions of android too.\r\n\r\n","title":"android - save image into gallery","body":"<pre><code> String filePath=\"/storage/emulated/0/DCIM\"+app_name;\n    File dir=new File(filePath);\n    if(!dir.exists()){\n        dir.mkdir();\n    }\n</code></pre>\n\n<p>This code is in onCreate method.This code is for creating a directory of app_name.\nNow,this directory can be accessed using default file manager app in android.\nUse this string filePath wherever required to set your destination folder.\nI am sure this method works on Android 7 too because I tested on it.Hence,it can work on other versions of android too.</p>\n"},{"tags":[],"owner":{"account_id":4379635,"reputation":1332,"user_id":3571603,"accept_rate":44,"display_name":"javatar"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1580325364,"creation_date":1501476985,"answer_id":45407717,"question_id":8560501,"body_markdown":"You can create a directory inside the camera folder and save the image. After that,  you can simply perform your scan. It will instantly show your image in the gallery.\r\n\r\n \r\n\r\n    String root = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString()+ &quot;/Camera/Your_Directory_Name&quot;;\r\n    File myDir = new File(root);\r\n    myDir.mkdirs();\r\n    String fname = &quot;Image-&quot; + image_name + &quot;.png&quot;;\r\n    File file = new File(myDir, fname);\r\n    System.out.println(file.getAbsolutePath());\r\n    if (file.exists()) file.delete();\r\n        Log.i(&quot;LOAD&quot;, root + fname);\r\n        try {\r\n            FileOutputStream out = new FileOutputStream(file);\r\n            finalBitmap.compress(Bitmap.CompressFormat.PNG, 90, out);\r\n            out.flush();\r\n            out.close();\r\n        } catch (Exception e) {\r\n           e.printStackTrace();\r\n        }\r\n\r\n    MediaScannerConnection.scanFile(context, new String[]{file.getPath()}, new String[]{&quot;image/jpeg&quot;}, null);\r\n","title":"android - save image into gallery","body":"<p>You can create a directory inside the camera folder and save the image. After that,  you can simply perform your scan. It will instantly show your image in the gallery.</p>\n\n<pre><code>String root = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString()+ \"/Camera/Your_Directory_Name\";\nFile myDir = new File(root);\nmyDir.mkdirs();\nString fname = \"Image-\" + image_name + \".png\";\nFile file = new File(myDir, fname);\nSystem.out.println(file.getAbsolutePath());\nif (file.exists()) file.delete();\n    Log.i(\"LOAD\", root + fname);\n    try {\n        FileOutputStream out = new FileOutputStream(file);\n        finalBitmap.compress(Bitmap.CompressFormat.PNG, 90, out);\n        out.flush();\n        out.close();\n    } catch (Exception e) {\n       e.printStackTrace();\n    }\n\nMediaScannerConnection.scanFile(context, new String[]{file.getPath()}, new String[]{\"image/jpeg\"}, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18900681,"reputation":219,"user_id":13788736,"display_name":"kevincodes_"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620330490,"creation_date":1620330490,"answer_id":67425070,"question_id":8560501,"body_markdown":"Here&#39;s what worked for me:\r\n\r\n     private fun saveBitmapAsImageToDevice(bitmap: Bitmap?) {\r\n        // Add a specific media item.\r\n        val resolver = this.contentResolver\r\n\r\n        val imageStorageAddress = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n        } else {\r\n            MediaStore.Images.Media.EXTERNAL_CONTENT_URI\r\n        }\r\n\r\n        val imageDetails = ContentValues().apply {\r\n            put(MediaStore.Images.Media.DISPLAY_NAME, &quot;my_app_${System.currentTimeMillis()}.jpg&quot;)\r\n            put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;)\r\n            put(MediaStore.MediaColumns.DATE_ADDED, System.currentTimeMillis())\r\n        }\r\n\r\n        try {\r\n            // Save the image.\r\n            val contentUri: Uri? = resolver.insert(imageStorageAddress, imageDetails)\r\n            contentUri?.let { uri -&gt;\r\n                // Don&#39;t leave an orphan entry in the MediaStore\r\n                if (bitmap == null) resolver.delete(contentUri, null, null)\r\n                val outputStream: OutputStream? = resolver.openOutputStream(uri)\r\n                outputStream?.let { outStream -&gt;\r\n                    val isBitmapCompressed =\r\n                        bitmap?.compress(Bitmap.CompressFormat.JPEG, 95, outStream)\r\n                    if (isBitmapCompressed == true) {\r\n                        outStream.flush()\r\n                        outStream.close()\r\n                    }\r\n                } ?: throw IOException(&quot;Failed to get output stream.&quot;)\r\n            } ?: throw IOException(&quot;Failed to create new MediaStore record.&quot;)\r\n        } catch (e: IOException) {\r\n            throw e\r\n        }\r\n    }","title":"android - save image into gallery","body":"<p>Here's what worked for me:</p>\n<pre><code> private fun saveBitmapAsImageToDevice(bitmap: Bitmap?) {\n    // Add a specific media item.\n    val resolver = this.contentResolver\n\n    val imageStorageAddress = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n    } else {\n        MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n    }\n\n    val imageDetails = ContentValues().apply {\n        put(MediaStore.Images.Media.DISPLAY_NAME, &quot;my_app_${System.currentTimeMillis()}.jpg&quot;)\n        put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;)\n        put(MediaStore.MediaColumns.DATE_ADDED, System.currentTimeMillis())\n    }\n\n    try {\n        // Save the image.\n        val contentUri: Uri? = resolver.insert(imageStorageAddress, imageDetails)\n        contentUri?.let { uri -&gt;\n            // Don't leave an orphan entry in the MediaStore\n            if (bitmap == null) resolver.delete(contentUri, null, null)\n            val outputStream: OutputStream? = resolver.openOutputStream(uri)\n            outputStream?.let { outStream -&gt;\n                val isBitmapCompressed =\n                    bitmap?.compress(Bitmap.CompressFormat.JPEG, 95, outStream)\n                if (isBitmapCompressed == true) {\n                    outStream.flush()\n                    outStream.close()\n                }\n            } ?: throw IOException(&quot;Failed to get output stream.&quot;)\n        } ?: throw IOException(&quot;Failed to create new MediaStore record.&quot;)\n    } catch (e: IOException) {\n        throw e\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16398182,"reputation":748,"user_id":11845013,"display_name":"Md. Al-Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621730600,"creation_date":1621730600,"answer_id":67655257,"question_id":8560501,"body_markdown":"Just you need to scan your Media After Saving finished.\r\n\r\n     BitmapDrawable drawable = (BitmapDrawable) imageView.getDrawable();\r\n                Bitmap bitmap = drawable.getBitmap();\r\n\r\n                File filepath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n                File dir = new File(filepath.getAbsolutePath()+&quot;/Pro Scanner/&quot;);\r\n                if(!dir.exists()){\r\n                    dir.mkdir();\r\n                }\r\n                File file = new File(dir,System.currentTimeMillis()+&quot;_Pro_Scanner.png&quot;);\r\n                try {\r\n                    outputStream = new FileOutputStream(file);\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                    downloadQRCode.setVisibility(View.VISIBLE);\r\n                    loadingBar.setVisibility(View.INVISIBLE);\r\n                }\r\n                bitmap.compress(Bitmap.CompressFormat.PNG,100,outputStream);\r\n                Toast.makeText(GenerateQRCodeActivity.this, &quot;QR image saved successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                try {\r\n                    outputStream.flush();\r\n                    outputStream.close();\r\n                    loadingBar.setVisibility(View.INVISIBLE);\r\n                    downloadDone.setVisibility(View.VISIBLE);\r\n                    downloadDone.setAnimation(bottomAnimation);\r\n                } catch (IOException e) {\r\n                    downloadQRCode.setVisibility(View.VISIBLE);\r\n                    loadingBar.setVisibility(View.INVISIBLE);\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                MediaScannerConnection.scanFile(GenerateQRCodeActivity.this,new String[]{file.getPath()},new String[] {&quot;image/jpeg&quot;},null);\r\n\r\n\r\nThese code are same as everyone .If you try the bellow code after this it will work. You just need these one line of code:\r\n\r\n**MediaScannerConnection.scanFile(GenerateQRCodeActivity.this,new String[]{file.getPath()},new String[] {&quot;image/jpeg&quot;},null);**\r\n\r\n\r\nBoom!!! Yo can now get your saved image on your Gallery.","title":"android - save image into gallery","body":"<p>Just you need to scan your Media After Saving finished.</p>\n<pre><code> BitmapDrawable drawable = (BitmapDrawable) imageView.getDrawable();\n            Bitmap bitmap = drawable.getBitmap();\n\n            File filepath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n            File dir = new File(filepath.getAbsolutePath()+&quot;/Pro Scanner/&quot;);\n            if(!dir.exists()){\n                dir.mkdir();\n            }\n            File file = new File(dir,System.currentTimeMillis()+&quot;_Pro_Scanner.png&quot;);\n            try {\n                outputStream = new FileOutputStream(file);\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n                downloadQRCode.setVisibility(View.VISIBLE);\n                loadingBar.setVisibility(View.INVISIBLE);\n            }\n            bitmap.compress(Bitmap.CompressFormat.PNG,100,outputStream);\n            Toast.makeText(GenerateQRCodeActivity.this, &quot;QR image saved successfully&quot;, Toast.LENGTH_SHORT).show();\n            try {\n                outputStream.flush();\n                outputStream.close();\n                loadingBar.setVisibility(View.INVISIBLE);\n                downloadDone.setVisibility(View.VISIBLE);\n                downloadDone.setAnimation(bottomAnimation);\n            } catch (IOException e) {\n                downloadQRCode.setVisibility(View.VISIBLE);\n                loadingBar.setVisibility(View.INVISIBLE);\n                e.printStackTrace();\n            }\n\n            MediaScannerConnection.scanFile(GenerateQRCodeActivity.this,new String[]{file.getPath()},new String[] {&quot;image/jpeg&quot;},null);\n</code></pre>\n<p>These code are same as everyone .If you try the bellow code after this it will work. You just need these one line of code:</p>\n<p><strong>MediaScannerConnection.scanFile(GenerateQRCodeActivity.this,new String[]{file.getPath()},new String[] {&quot;image/jpeg&quot;},null);</strong></p>\n<p>Boom!!! Yo can now get your saved image on your Gallery.</p>\n"},{"tags":[],"owner":{"account_id":5297962,"reputation":474,"user_id":4228589,"display_name":"Michael N"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631970989,"creation_date":1631967039,"answer_id":69234520,"question_id":8560501,"body_markdown":"**Note:** For Build.VERSION.SDK_INT &lt; 29, the image has to be saved locally on disk first, which will increase the app size as the user saves more images. The user can delete the image later, in the Files app, but the local image has to sync with Google Photos or Amazon Photos in the cloud.\r\n\r\nSaving the image to the cloud is accomplished by having the user open their Google Photos or Amazon Photos app after exporting and before deleting your app APK. If the user of &lt; 29 deletes your APK before opening Google Photos or Amazon Photos, the photo will be lost.\r\n\r\nThis is a bug with Android Builds before Q (Level 29). Level 29 and later save directly to the Photo Library.\r\n\r\n**Android Manifest XML**\r\n\r\n    &lt;!-- Adding Read External Storage Permission --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n**Save Function**\r\n\r\n\r\n    // - Save Image -\r\n\r\n    @Throws(FileNotFoundException::class)\r\n    private fun saveImage(\r\n        bitmap: Bitmap,\r\n        context: Context,\r\n        folderName: String\r\n    ) {\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= 29) {\r\n\r\n            val values = ContentValues()\r\n            values.put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/$folderName&quot;)\r\n            values.put(MediaStore.Images.Media.IS_PENDING, true)\r\n\r\n            // RELATIVE_PATH and IS_PENDING are introduced in API 29.\r\n\r\n            val uri: Uri? = context.contentResolver\r\n                .insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)\r\n\r\n            if (uri != null) {\r\n                saveImageToStream(bitmap, context.contentResolver.openOutputStream(uri))\r\n                values.put(MediaStore.Images.Media.IS_PENDING, false)\r\n                context.contentResolver.update(uri, values, null, null)\r\n            }\r\n\r\n        } else {\r\n\r\n            var dir = File(\r\n                applicationContext.getExternalFilesDir(Environment.DIRECTORY_PICTURES),\r\n                &quot;&quot;\r\n            )\r\n\r\n            // getExternalStorageDirectory is deprecated in API 29\r\n\r\n            if (!dir.exists()) {\r\n\r\n                dir.mkdirs()\r\n\r\n            }\r\n\r\n            val date = Date()\r\n\r\n            val fullFileName = &quot;myFileName.jpeg&quot;\r\n\r\n            val fileName = fullFileName?.substring(0, fullFileName.lastIndexOf(&quot;.&quot;))\r\n            val extension = fullFileName?.substring(fullFileName.lastIndexOf(&quot;.&quot;))\r\n\r\n            var imageFile = File(\r\n                dir.absolutePath\r\n                    .toString() + File.separator\r\n                        + fileName + &quot;_&quot; + Timestamp(date.time).toString()\r\n                        + &quot;.jpg&quot;\r\n            )\r\n\r\n            println(&quot;imageFile: $imageFile&quot;)\r\n\r\n            saveImageToStream(bitmap, FileOutputStream(imageFile))\r\n\r\n            if (imageFile.getAbsolutePath() != null) {\r\n\r\n                val values = ContentValues()\r\n\r\n                values.put(MediaStore.Images.Media.DATA, imageFile.absolutePath)\r\n\r\n                // .DATA is deprecated in API 29\r\n\r\n                context.contentResolver\r\n                    .insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private fun contentValues(): ContentValues? {\r\n\r\n        val values = ContentValues()\r\n\r\n        values.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)\r\n        values.put(MediaStore.Images.Media.DATE_ADDED, System.currentTimeMillis() / 1000)\r\n        values.put(MediaStore.Images.Media.DATE_TAKEN, System.currentTimeMillis())\r\n\r\n        return values\r\n\r\n    }\r\n\r\n    private fun saveImageToStream(bitmap: Bitmap, outputStream: OutputStream?) {\r\n\r\n        println(&quot;saveImageToStream&quot;)\r\n\r\n        if (outputStream != null) {\r\n\r\n            try {\r\n\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream)\r\n                outputStream.close()\r\n\r\n                // success dialog\r\n\r\n                runOnUiThread {\r\n\r\n                    val successDialog = SuccessDialog.getInstance(null)\r\n                    successDialog.show(supportFragmentManager, SuccessDialog.TAG)\r\n\r\n                }\r\n\r\n            } catch (e: Exception) {\r\n\r\n                e.printStackTrace()\r\n\r\n                // warning dialog\r\n\r\n                runOnUiThread {\r\n\r\n                    val warningDialog = WarningDialog.getInstance(null)\r\n                    warningDialog.show(supportFragmentManager, WarningDialog.TAG)\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n","title":"android - save image into gallery","body":"<p><strong>Note:</strong> For Build.VERSION.SDK_INT &lt; 29, the image has to be saved locally on disk first, which will increase the app size as the user saves more images. The user can delete the image later, in the Files app, but the local image has to sync with Google Photos or Amazon Photos in the cloud.</p>\n<p>Saving the image to the cloud is accomplished by having the user open their Google Photos or Amazon Photos app after exporting and before deleting your app APK. If the user of &lt; 29 deletes your APK before opening Google Photos or Amazon Photos, the photo will be lost.</p>\n<p>This is a bug with Android Builds before Q (Level 29). Level 29 and later save directly to the Photo Library.</p>\n<p><strong>Android Manifest XML</strong></p>\n<pre><code>&lt;!-- Adding Read External Storage Permission --&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p><strong>Save Function</strong></p>\n<pre><code>// - Save Image -\n\n@Throws(FileNotFoundException::class)\nprivate fun saveImage(\n    bitmap: Bitmap,\n    context: Context,\n    folderName: String\n) {\n\n    if (Build.VERSION.SDK_INT &gt;= 29) {\n\n        val values = ContentValues()\n        values.put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/$folderName&quot;)\n        values.put(MediaStore.Images.Media.IS_PENDING, true)\n\n        // RELATIVE_PATH and IS_PENDING are introduced in API 29.\n\n        val uri: Uri? = context.contentResolver\n            .insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)\n\n        if (uri != null) {\n            saveImageToStream(bitmap, context.contentResolver.openOutputStream(uri))\n            values.put(MediaStore.Images.Media.IS_PENDING, false)\n            context.contentResolver.update(uri, values, null, null)\n        }\n\n    } else {\n\n        var dir = File(\n            applicationContext.getExternalFilesDir(Environment.DIRECTORY_PICTURES),\n            &quot;&quot;\n        )\n\n        // getExternalStorageDirectory is deprecated in API 29\n\n        if (!dir.exists()) {\n\n            dir.mkdirs()\n\n        }\n\n        val date = Date()\n\n        val fullFileName = &quot;myFileName.jpeg&quot;\n\n        val fileName = fullFileName?.substring(0, fullFileName.lastIndexOf(&quot;.&quot;))\n        val extension = fullFileName?.substring(fullFileName.lastIndexOf(&quot;.&quot;))\n\n        var imageFile = File(\n            dir.absolutePath\n                .toString() + File.separator\n                    + fileName + &quot;_&quot; + Timestamp(date.time).toString()\n                    + &quot;.jpg&quot;\n        )\n\n        println(&quot;imageFile: $imageFile&quot;)\n\n        saveImageToStream(bitmap, FileOutputStream(imageFile))\n\n        if (imageFile.getAbsolutePath() != null) {\n\n            val values = ContentValues()\n\n            values.put(MediaStore.Images.Media.DATA, imageFile.absolutePath)\n\n            // .DATA is deprecated in API 29\n\n            context.contentResolver\n                .insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)\n\n        }\n\n    }\n\n}\n\nprivate fun contentValues(): ContentValues? {\n\n    val values = ContentValues()\n\n    values.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)\n    values.put(MediaStore.Images.Media.DATE_ADDED, System.currentTimeMillis() / 1000)\n    values.put(MediaStore.Images.Media.DATE_TAKEN, System.currentTimeMillis())\n\n    return values\n\n}\n\nprivate fun saveImageToStream(bitmap: Bitmap, outputStream: OutputStream?) {\n\n    println(&quot;saveImageToStream&quot;)\n\n    if (outputStream != null) {\n\n        try {\n\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream)\n            outputStream.close()\n\n            // success dialog\n\n            runOnUiThread {\n\n                val successDialog = SuccessDialog.getInstance(null)\n                successDialog.show(supportFragmentManager, SuccessDialog.TAG)\n\n            }\n\n        } catch (e: Exception) {\n\n            e.printStackTrace()\n\n            // warning dialog\n\n            runOnUiThread {\n\n                val warningDialog = WarningDialog.getInstance(null)\n                warningDialog.show(supportFragmentManager, WarningDialog.TAG)\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24564822,"reputation":21,"user_id":18472094,"display_name":"Abhishek Garala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698413166,"creation_date":1698413166,"answer_id":77374545,"question_id":8560501,"body_markdown":"### Kotlin Code for Saving an Image to Internal Storage\r\n\r\nYou can optimize the code for saving an image to internal storage in Android using Kotlin with the following improved code:\r\n\r\n```kotlin\r\nprivate fun saveToInternalStorage(imageUri: Uri) {\r\n\r\n        val contentResolver = this.contentResolver\r\n\r\n        val contentValues = ContentValues().apply {\r\n            put(MediaStore.Images.Media.TITLE, imageUri.toString())\r\n            put(MediaStore.Images.Media.DISPLAY_NAME, imageUri.toString())\r\n            put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)\r\n        }\r\n\r\n\r\n        // check android version and provide require uri to contentResolver\r\n\r\n        val uri = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            contentResolver.insert(MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY),contentValues)\r\n        } else {\r\n            contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,contentValues)\r\n        }\r\n\r\n        uri?.let {\r\n            val fileDescriptor = contentResolver.openFileDescriptor(it, &quot;w&quot;)?.fileDescriptor\r\n            val inputStream: InputStream? = this.getUriInputStream(imageUri)\r\n\r\n            inputStream?.use { input -&gt;\r\n                fileDescriptor?.let { descriptor -&gt;\r\n                    val outputStream = FileOutputStream(descriptor)\r\n                    val buffer = ByteArray(4096)\r\n                    var bytesRead: Int\r\n\r\n                    while (input.read(buffer).also { bytesRead = it } != -1) {\r\n                        outputStream.write(buffer, 0, bytesRead)\r\n                    }\r\n\r\n                    outputStream.flush()\r\n                    outputStream.close()\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n// An inline function to convert an imageUri to an InputStream\r\nprivate fun Context.getUriInputStream(imageUri: Uri): InputStream? {\r\n        val contentResolver: ContentResolver = this.contentResolver\r\n        return try {\r\n            contentResolver.openInputStream(imageUri)\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n            null\r\n        }\r\n    }","title":"android - save image into gallery","body":"<h3>Kotlin Code for Saving an Image to Internal Storage</h3>\n<p>You can optimize the code for saving an image to internal storage in Android using Kotlin with the following improved code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun saveToInternalStorage(imageUri: Uri) {\n\n        val contentResolver = this.contentResolver\n\n        val contentValues = ContentValues().apply {\n            put(MediaStore.Images.Media.TITLE, imageUri.toString())\n            put(MediaStore.Images.Media.DISPLAY_NAME, imageUri.toString())\n            put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)\n        }\n\n\n        // check android version and provide require uri to contentResolver\n\n        val uri = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            contentResolver.insert(MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY),contentValues)\n        } else {\n            contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,contentValues)\n        }\n\n        uri?.let {\n            val fileDescriptor = contentResolver.openFileDescriptor(it, &quot;w&quot;)?.fileDescriptor\n            val inputStream: InputStream? = this.getUriInputStream(imageUri)\n\n            inputStream?.use { input -&gt;\n                fileDescriptor?.let { descriptor -&gt;\n                    val outputStream = FileOutputStream(descriptor)\n                    val buffer = ByteArray(4096)\n                    var bytesRead: Int\n\n                    while (input.read(buffer).also { bytesRead = it } != -1) {\n                        outputStream.write(buffer, 0, bytesRead)\n                    }\n\n                    outputStream.flush()\n                    outputStream.close()\n                }\n            }\n        }\n\n    }\n\n// An inline function to convert an imageUri to an InputStream\nprivate fun Context.getUriInputStream(imageUri: Uri): InputStream? {\n        val contentResolver: ContentResolver = this.contentResolver\n        return try {\n            contentResolver.openInputStream(imageUri)\n        } catch (e: Exception) {\n            e.printStackTrace()\n            null\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":139902,"reputation":7468,"user_id":345812,"accept_rate":77,"display_name":"Christian Giupponi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237317,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":8722494,"answer_count":13,"score":111,"last_activity_date":1698413166,"creation_date":1324293318,"question_id":8560501,"body_markdown":"i have an app with a gallery of images and i want that the user can save it into his own gallery.\r\nI&#39;ve created an option menu with a single voice &quot;save&quot; to allow that but the problem is...how can i save the image into the gallery?\r\n\r\nthis is my code:\r\n\r\n    @Override\r\n    \t\tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n    \t\t    // Handle item selection\r\n    \t\t    switch (item.getItemId()) {\r\n    \t\t    case R.id.menuFinale:\r\n    \t\t    \t\r\n    \t\t    \timgView.setDrawingCacheEnabled(true);\r\n    \t\t    \tBitmap bitmap = imgView.getDrawingCache();\r\n    \t\t    \tFile root = Environment.getExternalStorageDirectory();\r\n    \t\t        File file = new File(root.getAbsolutePath()+&quot;/DCIM/Camera/img.jpg&quot;);\r\n    \t\t        try \r\n    \t\t        {\r\n    \t\t            file.createNewFile();\r\n    \t\t            FileOutputStream ostream = new FileOutputStream(file);\r\n    \t\t            bitmap.compress(CompressFormat.JPEG, 100, ostream);\r\n    \t\t            ostream.close();\r\n    \t\t        } \r\n    \t\t        catch (Exception e) \r\n    \t\t        {\r\n    \t\t            e.printStackTrace();\r\n    \t\t        }\r\n    \r\n    \r\n    \r\n    \t\t        return true;\r\n    \t\t    default:\r\n    \t\t        return super.onOptionsItemSelected(item);\r\n    \t\t    }\r\n    \t\t}\r\n\r\ni&#39;m not sure of this part of code:\r\n\r\n    File root = Environment.getExternalStorageDirectory();\r\n                    File file = new File(root.getAbsolutePath()+&quot;/DCIM/Camera/img.jpg&quot;);\r\n\r\nis it correct to save into the gallery?\r\nunfortunately the code doesn&#39;t work :(\r\n","title":"android - save image into gallery","body":"<p>i have an app with a gallery of images and i want that the user can save it into his own gallery.\nI've created an option menu with a single voice \"save\" to allow that but the problem is...how can i save the image into the gallery?</p>\n\n<p>this is my code:</p>\n\n<pre><code>@Override\n        public boolean onOptionsItemSelected(MenuItem item) {\n            // Handle item selection\n            switch (item.getItemId()) {\n            case R.id.menuFinale:\n\n                imgView.setDrawingCacheEnabled(true);\n                Bitmap bitmap = imgView.getDrawingCache();\n                File root = Environment.getExternalStorageDirectory();\n                File file = new File(root.getAbsolutePath()+\"/DCIM/Camera/img.jpg\");\n                try \n                {\n                    file.createNewFile();\n                    FileOutputStream ostream = new FileOutputStream(file);\n                    bitmap.compress(CompressFormat.JPEG, 100, ostream);\n                    ostream.close();\n                } \n                catch (Exception e) \n                {\n                    e.printStackTrace();\n                }\n\n\n\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n            }\n        }\n</code></pre>\n\n<p>i'm not sure of this part of code:</p>\n\n<pre><code>File root = Environment.getExternalStorageDirectory();\n                File file = new File(root.getAbsolutePath()+\"/DCIM/Camera/img.jpg\");\n</code></pre>\n\n<p>is it correct to save into the gallery?\nunfortunately the code doesn't work :(</p>\n"},{"tags":["java","clean-architecture","onion-architecture","hexagonal-architecture","archunit"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684143548,"post_id":76252658,"comment_id":134468407,"body_markdown":"Wasn&#39;t the same question already asked yesterday?","body":"Wasn&#39;t the same question already asked yesterday?"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1684144433,"post_id":76252658,"comment_id":134468629,"body_markdown":"Yes I deleted the old one because I wanted to add forgotten tags &quot;clean-architecture&quot;, &quot;onion-architecture&quot;, and &quot;hexagonal-architecture&quot;","body":"Yes I deleted the old one because I wanted to add forgotten tags &quot;clean-architecture&quot;, &quot;onion-architecture&quot;, and &quot;hexagonal-architecture&quot;"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684144841,"post_id":76252658,"comment_id":134468718,"body_markdown":"You know that you can edit questions and their tags, right?","body":"You know that you can edit questions and their tags, right?"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1684145001,"post_id":76252658,"comment_id":134468758,"body_markdown":"Oh ok, I thought it hadn&#39;t the same effect as recreating with new tags.","body":"Oh ok, I thought it hadn&#39;t the same effect as recreating with new tags."}],"answers":[{"tags":[],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684144238,"creation_date":1684144238,"answer_id":76252854,"question_id":76252658,"body_markdown":"I made it work by :\r\n 1. putting domain models in the same &quot;domainModels(...)&quot;\r\n 2. adding mappers and spi interfaces to respectively &quot;applicationServices(...)&quot; and &quot;domainServices(...)&quot;\r\n\r\n```\r\n@AnalyzeClasses(packages =&quot;fr.tristan.demoassurance&quot;, importOptions = {ImportOption.DoNotIncludeTests.class, ExcludeConfig.class, ExcludeTestFactory.class})\r\npublic class ArchitectureTest {\r\n\r\n\r\n    @ArchTest\r\n    public static final ArchRule onionArchitectureRule = onionArchitecture()\r\n        .domainModels(&quot;fr.tristan.demoassurance.domain.entity..&quot;, &quot;fr.tristan.demoassurance.domain.event..&quot;)\r\n        .domainServices(&quot;fr.tristan.demoassurance.domain.api..&quot;, &quot;fr.tristan.demoassurance.domain.spi..&quot;)\r\n        .applicationServices(&quot;fr.tristan.demoassurance.application.controller..&quot;, &quot;fr.tristan.demoassurance.application.mapper..&quot;)\r\n        .adapter(&quot;message&quot;, &quot;fr.tristan.demoassurance.infrastructure.message..&quot;)\r\n        .adapter(&quot;persistence-mongodb&quot;, &quot;fr.tristan.demoassurance.infrastructure.repository.mongodb..&quot;)\r\n        .adapter(&quot;persistence-mysql&quot;, &quot;fr.tristan.demoassurance.infrastructure.repository.mysql..&quot;)\r\n        ;\r\n}\r\n```","title":"Why does this ArchUnit test fail?","body":"<p>I made it work by :</p>\n<ol>\n<li>putting domain models in the same &quot;domainModels(...)&quot;</li>\n<li>adding mappers and spi interfaces to respectively &quot;applicationServices(...)&quot; and &quot;domainServices(...)&quot;</li>\n</ol>\n<pre><code>@AnalyzeClasses(packages =&quot;fr.tristan.demoassurance&quot;, importOptions = {ImportOption.DoNotIncludeTests.class, ExcludeConfig.class, ExcludeTestFactory.class})\npublic class ArchitectureTest {\n\n\n    @ArchTest\n    public static final ArchRule onionArchitectureRule = onionArchitecture()\n        .domainModels(&quot;fr.tristan.demoassurance.domain.entity..&quot;, &quot;fr.tristan.demoassurance.domain.event..&quot;)\n        .domainServices(&quot;fr.tristan.demoassurance.domain.api..&quot;, &quot;fr.tristan.demoassurance.domain.spi..&quot;)\n        .applicationServices(&quot;fr.tristan.demoassurance.application.controller..&quot;, &quot;fr.tristan.demoassurance.application.mapper..&quot;)\n        .adapter(&quot;message&quot;, &quot;fr.tristan.demoassurance.infrastructure.message..&quot;)\n        .adapter(&quot;persistence-mongodb&quot;, &quot;fr.tristan.demoassurance.infrastructure.repository.mongodb..&quot;)\n        .adapter(&quot;persistence-mysql&quot;, &quot;fr.tristan.demoassurance.infrastructure.repository.mysql..&quot;)\n        ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684178501,"creation_date":1684178501,"answer_id":76257355,"question_id":76252658,"body_markdown":"[As you found out](https://stackoverflow.com/a/76252854/), `domainModels` [behaves like a setter](https://github.com/TNG/ArchUnit/blob/v1.0.1/archunit/src/main/java/com/tngtech/archunit/library/Architectures.java#L805-L828), i.e. does not extend the internal `domainModelPredicate` (and likewiese for `domainServices` and `applicationServices`). That is, when calling the methods multiple times, previous package identifiers are simply overwritten.","title":"Why does this ArchUnit test fail?","body":"<p><a href=\"https://stackoverflow.com/a/76252854/\">As you found out</a>, <code>domainModels</code> <a href=\"https://github.com/TNG/ArchUnit/blob/v1.0.1/archunit/src/main/java/com/tngtech/archunit/library/Architectures.java#L805-L828\" rel=\"nofollow noreferrer\">behaves like a setter</a>, i.e. does not extend the internal <code>domainModelPredicate</code> (and likewiese for <code>domainServices</code> and <code>applicationServices</code>). That is, when calling the methods multiple times, previous package identifiers are simply overwritten.</p>\n"}],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698412704,"creation_date":1684142863,"question_id":76252658,"body_markdown":"I have a demo project which tries to respect strictly clean/onion/hexagonal architecture.\r\nHere is how I configure ArchUnit test :\r\n\r\n        @AnalyzeClasses(packages =&quot;fr.tristan.demoassurance&quot;, importOptions = {ImportOption.DoNotIncludeTests.class, ExcludeConfig.class})\r\n    public class ArchitectureTest {\r\n    \r\n        @ArchTest\r\n        public static final ArchRule onionArchitectureRule = onionArchitecture()\r\n            .domainModels(&quot;fr.tristan.demoassurance.domain.entity..&quot;)\r\n            .domainModels(&quot;fr.tristan.demoassurance.domain.event..&quot;)\r\n            .domainServices(&quot;fr.tristan.demoassurance.domain.api..&quot;)\r\n            .applicationServices(&quot;fr.tristan.demoassurance.application.controller&quot;)\r\n            .adapter(&quot;message&quot;, &quot;fr.tristan.demoassurance.infrastructure.message..&quot;)\r\n            .adapter(&quot;persistence-mongodb&quot;, &quot;fr.tristan.demoassurance.infrastructure.repository.mongodb..&quot;)\r\n            .adapter(&quot;persistence-mysql&quot;, &quot;fr.tristan.demoassurance.infrastructure.repository.mysql..&quot;)\r\n            ;\r\n    }\r\n\r\nArchUnit complains about one parameter :\r\n\r\n    was violated (1 times):\r\n    Method &lt;fr.tristan.demoassurance.domain.spi.message.MessageQueueSpi.send(fr.tristan.demoassurance.domain.event.PoliceAssuranceEvent)&gt; has parameter of type &lt;fr.tristan.demoassurance.domain.event.PoliceAssuranceEvent&gt; in (MessageQueueSpi.java:0)\r\n\r\nHere is the &quot;guilty&quot; method :\r\n\r\n    package fr.tristan.demoassurance.domain.spi.message;\r\n    \r\n    import fr.tristan.demoassurance.domain.event.PoliceAssuranceEvent;\r\n    \r\n    public interface MessageQueueSpi {\r\n        void send(PoliceAssuranceEvent policeAssuranceCreatedEvent);\r\n    }\r\n\r\nThis makes no sense for me because :\r\n\r\n1. I don&#39;t see which rule is violated, it&#39;s just not explained why a SPI interface should not have a parameter of a domain model type.\r\n\r\n2. I have an other interface in the same `fr.tristan.demoassurance.domain.spi` parent package with a `save`method which also have a parameter `PoliceAssurance` from &quot;domain models&quot; and ArchUnit doesn&#39;t complain about it :\r\n\r\n```\r\npackage fr.tristan.demoassurance.domain.spi.repository;\r\n\r\nimport java.util.List;\r\n\r\nimport fr.tristan.demoassurance.domain.entity.PoliceAssurance;\r\nimport fr.tristan.demoassurance.domain.exception.PoliceAssuranceException;\r\n\r\npublic interface PoliceAssuranceRepositorySpi {\r\n\r\n\tList&lt;PoliceAssurance&gt; findAll();\r\n\tPoliceAssurance save(PoliceAssurance policeAssurance) throws PoliceAssuranceException;\r\n\tPoliceAssurance findById(Integer id) throws PoliceAssuranceException;\r\n\tvoid deleteById(Integer id) throws PoliceAssuranceException;\t\r\n}\r\n```\r\n\r\n","title":"Why does this ArchUnit test fail?","body":"<p>I have a demo project which tries to respect strictly clean/onion/hexagonal architecture.\nHere is how I configure ArchUnit test :</p>\n<pre><code>    @AnalyzeClasses(packages =&quot;fr.tristan.demoassurance&quot;, importOptions = {ImportOption.DoNotIncludeTests.class, ExcludeConfig.class})\npublic class ArchitectureTest {\n\n    @ArchTest\n    public static final ArchRule onionArchitectureRule = onionArchitecture()\n        .domainModels(&quot;fr.tristan.demoassurance.domain.entity..&quot;)\n        .domainModels(&quot;fr.tristan.demoassurance.domain.event..&quot;)\n        .domainServices(&quot;fr.tristan.demoassurance.domain.api..&quot;)\n        .applicationServices(&quot;fr.tristan.demoassurance.application.controller&quot;)\n        .adapter(&quot;message&quot;, &quot;fr.tristan.demoassurance.infrastructure.message..&quot;)\n        .adapter(&quot;persistence-mongodb&quot;, &quot;fr.tristan.demoassurance.infrastructure.repository.mongodb..&quot;)\n        .adapter(&quot;persistence-mysql&quot;, &quot;fr.tristan.demoassurance.infrastructure.repository.mysql..&quot;)\n        ;\n}\n</code></pre>\n<p>ArchUnit complains about one parameter :</p>\n<pre><code>was violated (1 times):\nMethod &lt;fr.tristan.demoassurance.domain.spi.message.MessageQueueSpi.send(fr.tristan.demoassurance.domain.event.PoliceAssuranceEvent)&gt; has parameter of type &lt;fr.tristan.demoassurance.domain.event.PoliceAssuranceEvent&gt; in (MessageQueueSpi.java:0)\n</code></pre>\n<p>Here is the &quot;guilty&quot; method :</p>\n<pre><code>package fr.tristan.demoassurance.domain.spi.message;\n\nimport fr.tristan.demoassurance.domain.event.PoliceAssuranceEvent;\n\npublic interface MessageQueueSpi {\n    void send(PoliceAssuranceEvent policeAssuranceCreatedEvent);\n}\n</code></pre>\n<p>This makes no sense for me because :</p>\n<ol>\n<li><p>I don't see which rule is violated, it's just not explained why a SPI interface should not have a parameter of a domain model type.</p>\n</li>\n<li><p>I have an other interface in the same <code>fr.tristan.demoassurance.domain.spi</code> parent package with a <code>save</code>method which also have a parameter <code>PoliceAssurance</code> from &quot;domain models&quot; and ArchUnit doesn't complain about it :</p>\n</li>\n</ol>\n<pre><code>package fr.tristan.demoassurance.domain.spi.repository;\n\nimport java.util.List;\n\nimport fr.tristan.demoassurance.domain.entity.PoliceAssurance;\nimport fr.tristan.demoassurance.domain.exception.PoliceAssuranceException;\n\npublic interface PoliceAssuranceRepositorySpi {\n\n    List&lt;PoliceAssurance&gt; findAll();\n    PoliceAssurance save(PoliceAssurance policeAssurance) throws PoliceAssuranceException;\n    PoliceAssurance findById(Integer id) throws PoliceAssuranceException;\n    void deleteById(Integer id) throws PoliceAssuranceException;    \n}\n</code></pre>\n"},{"tags":["java","azure"],"comments":[{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1698390551,"post_id":77369745,"comment_id":136401745,"body_markdown":"You can set environment variables for each environment and use them in your code. For example, you can set an environment variable for the connection string and use it in your code. Check this [link](https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=bash%2Cconsumption) it may help you.","body":"You can set environment variables for each environment and use them in your code. For example, you can set an environment variable for the connection string and use it in your code. Check this <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=bash%2Cconsumption\" rel=\"nofollow noreferrer\">link</a> it may help you."}],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698412590,"creation_date":1698412590,"answer_id":77374461,"question_id":77369745,"body_markdown":"Configuration without hardcoding values using Jakarta EE Config in a Jakarta EE application.\r\n\r\n- Create an interface for your configuration properties, such as `MyConfig.java`. This interface defines the properties you want to configure.\r\n\r\n```\r\nimport org.eclipse.microprofile.config.inject.ConfigProperty;\r\n\r\npublic interface MyConfig {\r\n    @ConfigProperty(name = &quot;my.property&quot;)\r\n    String myProperty();\r\n}\r\n```\r\n\r\nYou can access your environmental variables like this below. check this [link](https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=bash%2Cconsumption#environment-variables).\r\n\r\n![enter image description here](https://i.imgur.com/on8ZKcD.png)\r\n\r\n- Create property files for each environment you want to support. For example, I have created two property files as `application-dev.properties` and `application-prod.properties`.\r\n\r\n![enter image description here](https://i.imgur.com/K5hMOZ4.png)\r\n\r\nInject the configuration properties:\r\n\r\n```java\r\nimport javax.inject.Inject;\r\n\r\npublic class MyService {\r\n    @Inject\r\n    private MyConfig myConfig;\r\n\r\n    public String getMyProperty() {\r\n        return myConfig.myProperty();\r\n    }\r\n}\r\n```\r\n\r\nJakarta EE application can dynamically switch configurations by changing the environment-specific property files or by modifying the active profile.","title":"Java and Azure functions Declarative settings for multiple environments dev/test/prod","body":"<p>Configuration without hardcoding values using Jakarta EE Config in a Jakarta EE application.</p>\n<ul>\n<li>Create an interface for your configuration properties, such as <code>MyConfig.java</code>. This interface defines the properties you want to configure.</li>\n</ul>\n<pre><code>import org.eclipse.microprofile.config.inject.ConfigProperty;\n\npublic interface MyConfig {\n    @ConfigProperty(name = &quot;my.property&quot;)\n    String myProperty();\n}\n</code></pre>\n<p>You can access your environmental variables like this below. check this <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=bash%2Cconsumption#environment-variables\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p><img src=\"https://i.imgur.com/on8ZKcD.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Create property files for each environment you want to support. For example, I have created two property files as <code>application-dev.properties</code> and <code>application-prod.properties</code>.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/K5hMOZ4.png\" alt=\"enter image description here\" /></p>\n<p>Inject the configuration properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.inject.Inject;\n\npublic class MyService {\n    @Inject\n    private MyConfig myConfig;\n\n    public String getMyProperty() {\n        return myConfig.myProperty();\n    }\n}\n</code></pre>\n<p>Jakarta EE application can dynamically switch configurations by changing the environment-specific property files or by modifying the active profile.</p>\n"}],"owner":{"account_id":10164227,"reputation":33,"user_id":7506700,"display_name":"Gerry Askefalk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698412590,"creation_date":1698347276,"question_id":77369745,"body_markdown":"So\r\nWe are planning to use Azure Functions to connect to Azure Service Bus and trigger on Topics (the question however applies basically to all azure parts)\r\n\r\nMS has created Java Libs and code that use Annotations that one applies to the code.\r\n\r\n\r\n\r\n    @FunctionName(&quot;sbtopicprocessor&quot;)\r\n    public void run(\r\n            @ServiceBusTopicTrigger(\r\n                    name = &quot;message&quot;,\r\n                    topicName = &quot;topic&quot;,\r\n                    subscriptionName = &quot;mysubscription&quot;,\r\n                    connection = &quot;ServiceBusConnection&quot;\r\n            ) String message,\r\n            final ExecutionContext context\r\n    ) {\r\n        context.getLogger().info(message);\r\n    }\r\n\r\nThe problem is to get these annotation to be set at runtime.\r\nThis is not supported by Java and this makes injecting values\r\nat runtime impossible.\r\n\r\nHow should i go about this to avoid having different code for the different environments?\r\n\r\nThe only way i have found so far is to actually have ALL topics active on ALL environments.\r\n\r\np.s.\r\nI would like to avoid using Spring as we are a Jakarta team.\r\nd.s.","title":"Java and Azure functions Declarative settings for multiple environments dev/test/prod","body":"<p>So\nWe are planning to use Azure Functions to connect to Azure Service Bus and trigger on Topics (the question however applies basically to all azure parts)</p>\n<p>MS has created Java Libs and code that use Annotations that one applies to the code.</p>\n<pre><code>@FunctionName(&quot;sbtopicprocessor&quot;)\npublic void run(\n        @ServiceBusTopicTrigger(\n                name = &quot;message&quot;,\n                topicName = &quot;topic&quot;,\n                subscriptionName = &quot;mysubscription&quot;,\n                connection = &quot;ServiceBusConnection&quot;\n        ) String message,\n        final ExecutionContext context\n) {\n    context.getLogger().info(message);\n}\n</code></pre>\n<p>The problem is to get these annotation to be set at runtime.\nThis is not supported by Java and this makes injecting values\nat runtime impossible.</p>\n<p>How should i go about this to avoid having different code for the different environments?</p>\n<p>The only way i have found so far is to actually have ALL topics active on ALL environments.</p>\n<p>p.s.\nI would like to avoid using Spring as we are a Jakarta team.\nd.s.</p>\n"},{"tags":["java","spring-boot","openfeign"],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698412482,"creation_date":1698409736,"question_id":77374151,"body_markdown":"I&#39;m implementing JWT-token interception and bypassing from incoming REST request into request executed by Feign client. The issue I ran into is about injection of `NativeWebRequest`: I can reach it within `@Service`-annotated class, but not from `@Configuration`.\r\n\r\nThis code is fine:\r\n```java\r\n@FeignClient(name = &quot;client&quot;, url = &quot;${url}&quot;)\r\npublic interface AccountClient {\r\n  @GetMapping\r\n  ResponseEntity&lt;Accounts&gt; getAccounts(@RequestParam(&quot;customerXRef&quot;) String customerXRef, @RequestHeader(HttpHeaders.AUTHORIZATION) String bearerToken);\r\n}\r\n\r\n@Service\r\npublic class AccountInformationService{\r\n    private final AccountClient accountClient;\r\n    private final NativeWebRequest request;\r\n\r\n    public Accounts getAccounts(AccountDetailsRequestParams accountDetailsRequestParams) {\r\n        var customerXRef = accountDetailsRequestParams.getCustomerXRefID();\r\n\r\n        var response = accountClient.getAccounts(customerXRef, request.getHeader(HttpHeaders.AUTHORIZATION));\r\n\r\n        return accountFilteringHandler.filter(accountDetailsRequestParams, response.getBody());\r\n    }\r\n}\r\n```\r\n\r\nBut as soon as I reafactor it to\r\n```java\r\n@Configuration\r\npublic class InternalAccountFeignConfiguration {\r\n    @Bean\r\n    RequestInterceptor authInterceptor(@Lazy NativeWebRequest request) {\r\n        return template -&gt; template.header(HttpHeaders.AUTHORIZATION, request.getHeader(HttpHeaders.AUTHORIZATION));\r\n    }\r\n}\r\n\r\n@FeignClient(name = &quot;client&quot;, url = &quot;${url}&quot;, configuration = InternalAccountFeignConfiguration.class)\r\npublic interface AccountClient {\r\n    @GetMapping\r\n    ResponseEntity&lt;Accounts&gt; getAccounts(@RequestParam(&quot;customerXRef&quot;) String customerXRef);\r\n}\r\n\r\n@Service\r\npublic class AccountInformationService{\r\n    private final AccountClient accountClient;\r\n\r\n    public Accounts getAccounts(AccountDetailsRequestParams accountDetailsRequestParams) {\r\n        var customerXRef = accountDetailsRequestParams.getCustomerXRefID();\r\n\r\n        var response = accountClient.getAccounts(customerXRef);\r\n\r\n        return accountFilteringHandler.filter(accountDetailsRequestParams, response.getBody());\r\n    }\r\n}\r\n```\r\nit&#39;s not working any more. At runtime in the log I see\r\n```\r\nResolved org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;j.s.h.HttpServletRequest&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@o.s.c.a.Lazy(true)}\r\n```\r\n\r\nAm I missing something here?","title":"Is NativeWebRequest available in @Configuration class","body":"<p>I'm implementing JWT-token interception and bypassing from incoming REST request into request executed by Feign client. The issue I ran into is about injection of <code>NativeWebRequest</code>: I can reach it within <code>@Service</code>-annotated class, but not from <code>@Configuration</code>.</p>\n<p>This code is fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(name = &quot;client&quot;, url = &quot;${url}&quot;)\npublic interface AccountClient {\n  @GetMapping\n  ResponseEntity&lt;Accounts&gt; getAccounts(@RequestParam(&quot;customerXRef&quot;) String customerXRef, @RequestHeader(HttpHeaders.AUTHORIZATION) String bearerToken);\n}\n\n@Service\npublic class AccountInformationService{\n    private final AccountClient accountClient;\n    private final NativeWebRequest request;\n\n    public Accounts getAccounts(AccountDetailsRequestParams accountDetailsRequestParams) {\n        var customerXRef = accountDetailsRequestParams.getCustomerXRefID();\n\n        var response = accountClient.getAccounts(customerXRef, request.getHeader(HttpHeaders.AUTHORIZATION));\n\n        return accountFilteringHandler.filter(accountDetailsRequestParams, response.getBody());\n    }\n}\n</code></pre>\n<p>But as soon as I reafactor it to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class InternalAccountFeignConfiguration {\n    @Bean\n    RequestInterceptor authInterceptor(@Lazy NativeWebRequest request) {\n        return template -&gt; template.header(HttpHeaders.AUTHORIZATION, request.getHeader(HttpHeaders.AUTHORIZATION));\n    }\n}\n\n@FeignClient(name = &quot;client&quot;, url = &quot;${url}&quot;, configuration = InternalAccountFeignConfiguration.class)\npublic interface AccountClient {\n    @GetMapping\n    ResponseEntity&lt;Accounts&gt; getAccounts(@RequestParam(&quot;customerXRef&quot;) String customerXRef);\n}\n\n@Service\npublic class AccountInformationService{\n    private final AccountClient accountClient;\n\n    public Accounts getAccounts(AccountDetailsRequestParams accountDetailsRequestParams) {\n        var customerXRef = accountDetailsRequestParams.getCustomerXRefID();\n\n        var response = accountClient.getAccounts(customerXRef);\n\n        return accountFilteringHandler.filter(accountDetailsRequestParams, response.getBody());\n    }\n}\n</code></pre>\n<p>it's not working any more. At runtime in the log I see</p>\n<pre><code>Resolved org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'j.s.h.HttpServletRequest' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@o.s.c.a.Lazy(true)}\n</code></pre>\n<p>Am I missing something here?</p>\n"},{"tags":["java","android","android-studio","android-fragments","android-activity"],"answers":[{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698412376,"creation_date":1698412376,"answer_id":77374434,"question_id":77374380,"body_markdown":"It looks like you want to pass string arrays name and firstname to your `PersonFragment` when you create an instance of it. To do that, you need to modify the newInstance method to accept these arrays as parameters. Here&#39;s how you can do it:\r\n\r\nIn your `PersonFragment` class, modify the newInstance method as follows:\r\n\r\n\r\n    public static PersonFragment newInstance(String[] name, String[] firstname) {\r\n        PersonFragment fragment = new PersonFragment();\r\n        Bundle args = new Bundle();\r\n        args.putStringArray(ARG_NAME, name);\r\n        args.putStringArray(ARG_FIRSTNAME, firstname);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n\r\nNow, in your `MainActivity`, you can call this method with your string arrays as parameters like this:\r\n\r\n    PersonFragment fragment = PersonFragment.newInstance(name, firstname);\r\n    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, fragment).addToBackStack(null).commit();\r\n\r\n\r\nThis way, you are passing the name and firstname arrays to the PersonFragment when you create an instance of it, and these values will be accessible within the fragment. Your code should work correctly with this modification.","title":"How to Call properly Fragment from MainActivity?","body":"<p>It looks like you want to pass string arrays name and firstname to your <code>PersonFragment</code> when you create an instance of it. To do that, you need to modify the newInstance method to accept these arrays as parameters. Here's how you can do it:</p>\n<p>In your <code>PersonFragment</code> class, modify the newInstance method as follows:</p>\n<pre><code>public static PersonFragment newInstance(String[] name, String[] firstname) {\n    PersonFragment fragment = new PersonFragment();\n    Bundle args = new Bundle();\n    args.putStringArray(ARG_NAME, name);\n    args.putStringArray(ARG_FIRSTNAME, firstname);\n    fragment.setArguments(args);\n    return fragment;\n}\n</code></pre>\n<p>Now, in your <code>MainActivity</code>, you can call this method with your string arrays as parameters like this:</p>\n<pre><code>PersonFragment fragment = PersonFragment.newInstance(name, firstname);\ngetSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, fragment).addToBackStack(null).commit();\n</code></pre>\n<p>This way, you are passing the name and firstname arrays to the PersonFragment when you create an instance of it, and these values will be accessible within the fragment. Your code should work correctly with this modification.</p>\n"}],"owner":{"account_id":14734409,"reputation":13,"user_id":10640833,"display_name":"Antonely93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698412376,"creation_date":1698411895,"question_id":77374380,"body_markdown":"I have Fragment which i call from the MainActivity Class :-) .\r\n\r\nHere is the fragment code :\r\n\r\n```\r\npublic class PersonFragment extends Fragment {\r\n\r\nprivate static final String ARG_NAME = &quot;name&quot;;\r\nprivate static final String ARG_FIRSTNAME = &quot;firstname&quot;;\r\n\r\nListView lst;\r\n\r\n\r\nString[] name = {&quot;Dockar&quot;,&quot;Nilson&quot;};\r\n\r\nString[] firstname = {&quot;Jack&quot;,&quot;Michel&quot;};\r\n\r\n\r\npublic static PersonFragment newInstance(String[] name, String[] firstname) {\r\n    PersonFragment fragment = new PersonFragment();\r\n    Bundle args = new Bundle();\r\n    args.putStringArray(ARG_NAME, name);\r\n    args.putStringArray(ARG_FIRSTNAME, firstname);\r\n    fragment.setArguments(args);\r\n    return fragment;\r\n\r\n}\r\n\r\nActivity mainActivity;\r\n\r\n@Nullable\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n    View view =  inflater.inflate(R.layout.person_fragment, container, false);\r\n\r\n    lst = view.findViewById(R.id.listviewperson);\r\n    CustomeListviewAdapterTest customeListview = new CustomeListviewAdapterTest(this.mainActivity,name,firtname);\r\n    lst.setAdapter(customeListview);\r\n\r\n    lst.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n            if(position == 0) {\r\n                Intent intent = new Intent(getContext(),Jack.class);\r\n                startActivity(intent);\r\n            }if(position == 1) {\r\n                Intent intent = new Intent(getContext(),Michel.class);\r\n                startActivity(intent);\r\n            } \r\n        }\r\n    });\r\n\r\n    if (getArguments() != null) {\r\n        name = getArguments().getStringArray(ARG_NAME);\r\n        firstname = getArguments().getStringArray(ARG_FIRSTNAME);\r\n\r\n    }\r\n\r\n    return view;\r\n}\r\n```\r\n\r\nI don&#39;t know if everything is OK, i don&#39;t have error on Android Studio IDE.\r\n\r\nNow i want to call it from the MainActivity. So i Put this one on a Menu :\r\n\r\n```\r\n@Override\r\npublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n    switch (item.getItemId()) {\r\n        case R.id.drawer_person:\r\n            PersonFragment fragment = PersonFragment.newInstance(HAVE ERROR HERE);\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, fragment).addToBackStack(null).commit();\r\n\r\n            break;\r\n```\r\n\r\nOn the newInstance(), i don&#39;t know how to call the String Data from my Array :\r\n\r\nString[] name\r\n\r\nAnd\r\n\r\nString[] firstname\r\n\r\nCan someone help how i can do that ?\r\n\r\nRegards,","title":"How to Call properly Fragment from MainActivity?","body":"<p>I have Fragment which i call from the MainActivity Class :-) .</p>\n<p>Here is the fragment code :</p>\n<pre><code>public class PersonFragment extends Fragment {\n\nprivate static final String ARG_NAME = &quot;name&quot;;\nprivate static final String ARG_FIRSTNAME = &quot;firstname&quot;;\n\nListView lst;\n\n\nString[] name = {&quot;Dockar&quot;,&quot;Nilson&quot;};\n\nString[] firstname = {&quot;Jack&quot;,&quot;Michel&quot;};\n\n\npublic static PersonFragment newInstance(String[] name, String[] firstname) {\n    PersonFragment fragment = new PersonFragment();\n    Bundle args = new Bundle();\n    args.putStringArray(ARG_NAME, name);\n    args.putStringArray(ARG_FIRSTNAME, firstname);\n    fragment.setArguments(args);\n    return fragment;\n\n}\n\nActivity mainActivity;\n\n@Nullable\n@Override\npublic View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view =  inflater.inflate(R.layout.person_fragment, container, false);\n\n    lst = view.findViewById(R.id.listviewperson);\n    CustomeListviewAdapterTest customeListview = new CustomeListviewAdapterTest(this.mainActivity,name,firtname);\n    lst.setAdapter(customeListview);\n\n    lst.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\n            if(position == 0) {\n                Intent intent = new Intent(getContext(),Jack.class);\n                startActivity(intent);\n            }if(position == 1) {\n                Intent intent = new Intent(getContext(),Michel.class);\n                startActivity(intent);\n            } \n        }\n    });\n\n    if (getArguments() != null) {\n        name = getArguments().getStringArray(ARG_NAME);\n        firstname = getArguments().getStringArray(ARG_FIRSTNAME);\n\n    }\n\n    return view;\n}\n</code></pre>\n<p>I don't know if everything is OK, i don't have error on Android Studio IDE.</p>\n<p>Now i want to call it from the MainActivity. So i Put this one on a Menu :</p>\n<pre><code>@Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.drawer_person:\n            PersonFragment fragment = PersonFragment.newInstance(HAVE ERROR HERE);\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, fragment).addToBackStack(null).commit();\n\n            break;\n</code></pre>\n<p>On the newInstance(), i don't know how to call the String Data from my Array :</p>\n<p>String[] name</p>\n<p>And</p>\n<p>String[] firstname</p>\n<p>Can someone help how i can do that ?</p>\n<p>Regards,</p>\n"},{"tags":["java","mysql","apache-calcite"],"owner":{"account_id":25381751,"reputation":181,"user_id":19194034,"display_name":"Radwa Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698412348,"creation_date":1698411782,"question_id":77374369,"body_markdown":"I&#39;m encountering an issue when attempting to connect to a MySQL database and execute a simple query using Apache Calcite. The error message suggests that the table is not found. However, I&#39;ve verified that the table exists, and I&#39;ve successfully executed the same query using standard Java code without Calcite.\r\n\r\nHere&#39;s the relevant code snippet:\r\n\r\n    public class Main {\r\n    \r\n        private static final String MYSQL_SCHEMA = &quot;tpch&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            // Build our connection\r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:calcite:&quot;);\r\n    \r\n            // Unwrap our connection using the CalciteConnection\r\n            CalciteConnection calciteConnection = connection.unwrap(CalciteConnection.class);\r\n    \r\n            // Get a pointer to our root schema for our Calcite Connection\r\n            SchemaPlus rootSchema = calciteConnection.getRootSchema()\r\n    \r\n            // Instantiate a data source, this can be autowired in using Spring as well\r\n            DataSource mysqlDataSource = JdbcSchema.dataSource(\r\n                    &quot;jdbc:mysql://localhost:3306/tpch&quot;,\r\n                    &quot;com.mysql.jdbc.Driver&quot;, // Change this if you want to use something like MySQL, Oracle, etc.\r\n                    &quot;username&quot;, // username\r\n                    &quot;password&quot;   // password\r\n            );\r\n    \r\n            // Attach our MySQL Jdbc Datasource to our Root Schema\r\n            rootSchema.add(MYSQL_SCHEMA, JdbcSchema.create(rootSchema, MYSQL_SCHEMA, mysqlDataSource, null, null));\r\n    \r\n    \r\n            // Build a framework config to attach to our Calcite Planners and  Optimizers\r\n            FrameworkConfig config = Frameworks.newConfigBuilder()\r\n                    .defaultSchema(rootSchema)\r\n                    .build();\r\n    \r\n            RelBuilder rb = RelBuilder.create(config);\r\n    \r\n            RelNode node = rb.scan(&quot;customer&quot;)\r\n                    .project(\r\n                            rb.field(&quot;c_name&quot;),\r\n                            rb.field(&quot;c_address&quot;)\r\n                    )\r\n                    .limit(0, 5)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nI&#39;ve ensured that the schema name, classpath, and database connection details are correct. Can anyone please provide insights into what might be causing this issue when using Calcite? ","title":"Apache Calcite Error: &quot;Table Not Found&quot; When Connecting to MySQL Database","body":"<p>I'm encountering an issue when attempting to connect to a MySQL database and execute a simple query using Apache Calcite. The error message suggests that the table is not found. However, I've verified that the table exists, and I've successfully executed the same query using standard Java code without Calcite.</p>\n<p>Here's the relevant code snippet:</p>\n<pre><code>public class Main {\n\n    private static final String MYSQL_SCHEMA = &quot;tpch&quot;;\n\n    public static void main(String[] args) throws Exception {\n\n        // Build our connection\n        Connection connection = DriverManager.getConnection(&quot;jdbc:calcite:&quot;);\n\n        // Unwrap our connection using the CalciteConnection\n        CalciteConnection calciteConnection = connection.unwrap(CalciteConnection.class);\n\n        // Get a pointer to our root schema for our Calcite Connection\n        SchemaPlus rootSchema = calciteConnection.getRootSchema()\n\n        // Instantiate a data source, this can be autowired in using Spring as well\n        DataSource mysqlDataSource = JdbcSchema.dataSource(\n                &quot;jdbc:mysql://localhost:3306/tpch&quot;,\n                &quot;com.mysql.jdbc.Driver&quot;, // Change this if you want to use something like MySQL, Oracle, etc.\n                &quot;username&quot;, // username\n                &quot;password&quot;   // password\n        );\n\n        // Attach our MySQL Jdbc Datasource to our Root Schema\n        rootSchema.add(MYSQL_SCHEMA, JdbcSchema.create(rootSchema, MYSQL_SCHEMA, mysqlDataSource, null, null));\n\n\n        // Build a framework config to attach to our Calcite Planners and  Optimizers\n        FrameworkConfig config = Frameworks.newConfigBuilder()\n                .defaultSchema(rootSchema)\n                .build();\n\n        RelBuilder rb = RelBuilder.create(config);\n\n        RelNode node = rb.scan(&quot;customer&quot;)\n                .project(\n                        rb.field(&quot;c_name&quot;),\n                        rb.field(&quot;c_address&quot;)\n                )\n                .limit(0, 5)\n                .build();\n    }\n}\n</code></pre>\n<p>I've ensured that the schema name, classpath, and database connection details are correct. Can anyone please provide insights into what might be causing this issue when using Calcite?</p>\n"},{"tags":["java","oauth-2.0","outlook","office365"],"owner":{"account_id":29767460,"reputation":1,"user_id":22813510,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698412235,"creation_date":1698412235,"question_id":77374414,"body_markdown":"currently i am working on a java program, which should be able to fetch mails via IMAP and OAuth-2.0. I get the following error message: A1 NO AUTHENTICATE failed. \r\nI am using Java 21.\r\nHopefully somebody could help me with that.\r\n\r\nThis is the code i have yet:\r\n\r\n```\r\nimport com.azure.identity.ClientSecretCredential;\r\nimport com.microsoft.aad.msal4j.*;\r\nimport java.util.Collections;\r\nimport java.util.Properties;\r\nimport java.util.Set;\r\nimport javax.mail.Session;\r\nimport javax.mail.Store;\r\n\r\npublic class Main {\r\n\r\n    private final static String clientId = &quot;CLIENT_ID&quot;;\r\n    private final static String authority = &quot;https://login.microsoftonline.com/TENANT_ID&quot;;\r\n    private final static String clientSecret = &quot;CLIENT_SECRET&quot;;\r\n    private final static Set&lt;String&gt; SCOPE = Collections.singleton(&quot;https://outlook.office365.com/.default&quot;);\r\n    private final static String mailAddress = &quot;EMAIL&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        IClientCredential credential = ClientCredentialFactory.createFromSecret(clientSecret);\r\n        IConfidentialClientApplication app = ConfidentialClientApplication\r\n                        .builder(clientId, credential)\r\n                        .authority(authority)\r\n                        .build();\r\n\r\n        ClientCredentialParameters parameters =\r\n                ClientCredentialParameters\r\n                        .builder(SCOPE)\r\n                        .build();\r\n\r\n        IAuthenticationResult result = app.acquireToken(parameters).join();\r\n\r\n        String accessToken = result.accessToken();\r\n        System.out.println(accessToken);\r\n\r\n        Properties props = getProperties();\r\n\r\n        // open mailbox....\r\n        Session session = Session.getInstance(props);\r\n        session.setDebug(true);\r\n        Store store = session.getStore(&quot;imap&quot;);\r\n        store.connect(&quot;outlook.office365.com&quot;, mailAddress, accessToken);\r\n    }\r\n\r\n    private static Properties getProperties() {\r\n        Properties props = new Properties();\r\n\r\n        props.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n        props.put(&quot;mail.imap.host&quot;, &quot;outlook.office365.com&quot;);\r\n        props.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\n        props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.imap.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n        props.put(&quot;mail.imap.user&quot;, mailAddress);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n        return props;\r\n    }\r\n}\r\n```\r\n\r\nI tried to modify the code.","title":"Java Microsoft 365 IMAP OAuth-2.0: A1 NO AUTHENTICATE failed","body":"<p>currently i am working on a java program, which should be able to fetch mails via IMAP and OAuth-2.0. I get the following error message: A1 NO AUTHENTICATE failed.\nI am using Java 21.\nHopefully somebody could help me with that.</p>\n<p>This is the code i have yet:</p>\n<pre><code>import com.azure.identity.ClientSecretCredential;\nimport com.microsoft.aad.msal4j.*;\nimport java.util.Collections;\nimport java.util.Properties;\nimport java.util.Set;\nimport javax.mail.Session;\nimport javax.mail.Store;\n\npublic class Main {\n\n    private final static String clientId = &quot;CLIENT_ID&quot;;\n    private final static String authority = &quot;https://login.microsoftonline.com/TENANT_ID&quot;;\n    private final static String clientSecret = &quot;CLIENT_SECRET&quot;;\n    private final static Set&lt;String&gt; SCOPE = Collections.singleton(&quot;https://outlook.office365.com/.default&quot;);\n    private final static String mailAddress = &quot;EMAIL&quot;;\n\n    public static void main(String[] args) throws Exception {\n\n        IClientCredential credential = ClientCredentialFactory.createFromSecret(clientSecret);\n        IConfidentialClientApplication app = ConfidentialClientApplication\n                        .builder(clientId, credential)\n                        .authority(authority)\n                        .build();\n\n        ClientCredentialParameters parameters =\n                ClientCredentialParameters\n                        .builder(SCOPE)\n                        .build();\n\n        IAuthenticationResult result = app.acquireToken(parameters).join();\n\n        String accessToken = result.accessToken();\n        System.out.println(accessToken);\n\n        Properties props = getProperties();\n\n        // open mailbox....\n        Session session = Session.getInstance(props);\n        session.setDebug(true);\n        Store store = session.getStore(&quot;imap&quot;);\n        store.connect(&quot;outlook.office365.com&quot;, mailAddress, accessToken);\n    }\n\n    private static Properties getProperties() {\n        Properties props = new Properties();\n\n        props.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n        props.put(&quot;mail.imap.host&quot;, &quot;outlook.office365.com&quot;);\n        props.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\n        props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\n        props.put(&quot;mail.imap.user&quot;, mailAddress);\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n        props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n        return props;\n    }\n}\n</code></pre>\n<p>I tried to modify the code.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698354985,"creation_date":1698354985,"answer_id":77370344,"question_id":77369978,"body_markdown":"Unless you are explicitly querying for product lines like order.getProducts() a FetchType.LAZY will defer the fetch for your Order object. Try FetchType.EAGER to see if that works or just call order.getProducts() and see if that triggers the fetch. ","title":"@OneToMany returning null for List&lt;&gt; field","body":"<p>Unless you are explicitly querying for product lines like order.getProducts() a FetchType.LAZY will defer the fetch for your Order object. Try FetchType.EAGER to see if that works or just call order.getProducts() and see if that triggers the fetch.</p>\n"},{"tags":[],"owner":{"account_id":18290323,"reputation":11,"user_id":13317256,"display_name":"Cobos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698360473,"creation_date":1698360473,"answer_id":77370666,"question_id":77369978,"body_markdown":"Given the fact that you are using a bi-directional relationship, I think you might be missing to add the ProductLine object(s) into the products List from Order. Something like this\r\n```\r\n    Order orderToBeSaved = Order.builder()\r\n                .user_id(existingUser.get())\r\n                .build();\r\n        \r\n    Order savedOrder = orderRepository.save(orderToBeSaved);\r\n\r\n    List&lt;ProductLine&gt; productLines = new ArrayList&lt;&gt;();\r\n            ProductLine productLine = ProductLine.builder()\r\n                    .product(product)\r\n                    .quantity(value)\r\n                    .order(savedOrder)\r\n                    .build();\r\n            productLines.add(productLine);\r\n        });\r\n        //this\r\n        productLines.forEach(\r\n            (ProductLineEntity) -&gt;{\r\n                savedOrder.getProducts.add(ProductLineEntity) \r\n        });\r\n        orderRepository.save(savedOrder);\r\n        productLineRepository.saveAll(productLines);\r\n    }\r\n```","title":"@OneToMany returning null for List&lt;&gt; field","body":"<p>Given the fact that you are using a bi-directional relationship, I think you might be missing to add the ProductLine object(s) into the products List from Order. Something like this</p>\n<pre><code>    Order orderToBeSaved = Order.builder()\n                .user_id(existingUser.get())\n                .build();\n        \n    Order savedOrder = orderRepository.save(orderToBeSaved);\n\n    List&lt;ProductLine&gt; productLines = new ArrayList&lt;&gt;();\n            ProductLine productLine = ProductLine.builder()\n                    .product(product)\n                    .quantity(value)\n                    .order(savedOrder)\n                    .build();\n            productLines.add(productLine);\n        });\n        //this\n        productLines.forEach(\n            (ProductLineEntity) -&gt;{\n                savedOrder.getProducts.add(ProductLineEntity) \n        });\n        orderRepository.save(savedOrder);\n        productLineRepository.saveAll(productLines);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698412080,"creation_date":1698412080,"answer_id":77374399,"question_id":77369978,"body_markdown":"This is caused by Hibernate&#39;s first level cache. Hibernate tries to look for the entity in the cache first, if it is not found then it is loaded from the database.\r\n\r\nInitially the newly created order has the list of `ProductLine` as null. Doing the save operation puts the object into hibernate&#39;s cache, still with the null list of `ProductLine`. \r\n\r\nWhen `findOrderById` is called, hibernate finds the entity `Order` in the cache and returns it.\r\n\r\nThis reference check can be done to prove the above.\r\n\r\n    // both objects are pointing to the same memory location\r\n    if(savedOrder == orderRepository.findOrderById(savedOrder.getId()).get()){\r\n        log.info(&quot;Same order object!&quot;)\r\n    }\r\n\r\nUnfortunately to overcome the first level cache, the `EntityManager` needs to be autowired to the class.\r\n\r\nFirstly perform a `EntityManager#flush` which will save all the entities into the database followed by `EntityManager#clear` which clears the hibernate&#39;s first level cache hence forcing the next queries to fetch data from the database.\r\n\r\n\tOrder savedOrder = orderRepository.save(orderToBeSaved);\r\n\tList&lt;ProductLine&gt; productLines = new ArrayList&lt;&gt;();\r\n\t\tProductLine productLine = ProductLine.builder()\r\n\t\t\t\t.product(product)\r\n\t\t\t\t.quantity(value)\r\n\t\t\t\t.order(savedOrder)\r\n\t\t\t\t.build();\r\n\t\tproductLines.add(productLine);\r\n\t});\r\n\tproductLineRepository.saveAll(productLines);\r\n\r\n\tentityManager.flush();\r\n\tentityManager.clear();\r\n\r\n\torderRepository.findOrderById(savedOrder.getId()).get().getProducts();","title":"@OneToMany returning null for List&lt;&gt; field","body":"<p>This is caused by Hibernate's first level cache. Hibernate tries to look for the entity in the cache first, if it is not found then it is loaded from the database.</p>\n<p>Initially the newly created order has the list of <code>ProductLine</code> as null. Doing the save operation puts the object into hibernate's cache, still with the null list of <code>ProductLine</code>.</p>\n<p>When <code>findOrderById</code> is called, hibernate finds the entity <code>Order</code> in the cache and returns it.</p>\n<p>This reference check can be done to prove the above.</p>\n<pre><code>// both objects are pointing to the same memory location\nif(savedOrder == orderRepository.findOrderById(savedOrder.getId()).get()){\n    log.info(&quot;Same order object!&quot;)\n}\n</code></pre>\n<p>Unfortunately to overcome the first level cache, the <code>EntityManager</code> needs to be autowired to the class.</p>\n<p>Firstly perform a <code>EntityManager#flush</code> which will save all the entities into the database followed by <code>EntityManager#clear</code> which clears the hibernate's first level cache hence forcing the next queries to fetch data from the database.</p>\n<pre><code>Order savedOrder = orderRepository.save(orderToBeSaved);\nList&lt;ProductLine&gt; productLines = new ArrayList&lt;&gt;();\n    ProductLine productLine = ProductLine.builder()\n            .product(product)\n            .quantity(value)\n            .order(savedOrder)\n            .build();\n    productLines.add(productLine);\n});\nproductLineRepository.saveAll(productLines);\n\nentityManager.flush();\nentityManager.clear();\n\norderRepository.findOrderById(savedOrder.getId()).get().getProducts();\n</code></pre>\n"}],"owner":{"account_id":19821320,"reputation":336,"user_id":14517835,"display_name":"Kwaku Biney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77374399,"answer_count":3,"score":0,"last_activity_date":1698412080,"creation_date":1698350062,"question_id":77369978,"body_markdown":"It seems that I run into an issue with regards to how I am modelling a particular problem with Spring entities.  \r\nSo I have `orders` , `product` and `product_line` as three separate entities.  \r\nAn order can have multiple `product_lines`. For context, a `product_line` essentially is of the form `id, product_id, quantity`.  \r\nNow I want a situation where, when I retrieve an order from the database, it should pull all `product_lines` associated with the order.  \r\nWhen I try to retrieve an order , the products field is always `null`. The way I see it is, because an `Order` can have multiple `ProductLines`, I use the `List&lt;ProductLine&gt;` on the `Order` but seems to not work. \r\n\r\n```\r\n@Table(name = &quot;orders&quot;)\r\npublic class Order{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;order&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private List&lt;ProductLine&gt; products;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;user_id&quot;)\r\n    private User user_id;\r\n}\r\n\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @Column(nullable = false)\r\n    private String name;\r\n}\r\n\r\npublic class ProductLine {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @ManyToOne\r\n    private Product product;\r\n    @Column(nullable = false)\r\n    private int quantity;\r\n    @JoinColumn(name=&quot;order_id&quot;)\r\n    @ManyToOne\r\n    private Order order;\r\n}\r\n```\r\n\r\nFor extra clarity, this is how I am saving orders (some lines have been ommitted):\r\n```\r\nOrder orderToBeSaved = Order.builder().user_id(existingUser.get())\r\n                .build();\r\n        Order savedOrder = orderRepository.save(orderToBeSaved);\r\n        List&lt;ProductLine&gt; productLines = new ArrayList&lt;&gt;();\r\n            ProductLine productLine = ProductLine.builder()\r\n                    .product(product)\r\n                    .quantity(value)\r\n                    .order(savedOrder)\r\n                    .build();\r\n            productLines.add(productLine);\r\n        });\r\n        productLineRepository.saveAll(productLines);\r\n//Just for verification purposes\r\n//x is null for some reason\r\n        var x = orderRepository.findOrderById(savedOrder.getId()).get().getProducts();\r\n    }\r\n```","title":"@OneToMany returning null for List&lt;&gt; field","body":"<p>It seems that I run into an issue with regards to how I am modelling a particular problem with Spring entities.<br />\nSo I have <code>orders</code> , <code>product</code> and <code>product_line</code> as three separate entities.<br />\nAn order can have multiple <code>product_lines</code>. For context, a <code>product_line</code> essentially is of the form <code>id, product_id, quantity</code>.<br />\nNow I want a situation where, when I retrieve an order from the database, it should pull all <code>product_lines</code> associated with the order.<br />\nWhen I try to retrieve an order , the products field is always <code>null</code>. The way I see it is, because an <code>Order</code> can have multiple <code>ProductLines</code>, I use the <code>List&lt;ProductLine&gt;</code> on the <code>Order</code> but seems to not work.</p>\n<pre><code>@Table(name = &quot;orders&quot;)\npublic class Order{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;order&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;ProductLine&gt; products;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;)\n    private User user_id;\n}\n\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @Column(nullable = false)\n    private String name;\n}\n\npublic class ProductLine {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @ManyToOne\n    private Product product;\n    @Column(nullable = false)\n    private int quantity;\n    @JoinColumn(name=&quot;order_id&quot;)\n    @ManyToOne\n    private Order order;\n}\n</code></pre>\n<p>For extra clarity, this is how I am saving orders (some lines have been ommitted):</p>\n<pre><code>Order orderToBeSaved = Order.builder().user_id(existingUser.get())\n                .build();\n        Order savedOrder = orderRepository.save(orderToBeSaved);\n        List&lt;ProductLine&gt; productLines = new ArrayList&lt;&gt;();\n            ProductLine productLine = ProductLine.builder()\n                    .product(product)\n                    .quantity(value)\n                    .order(savedOrder)\n                    .build();\n            productLines.add(productLine);\n        });\n        productLineRepository.saveAll(productLines);\n//Just for verification purposes\n//x is null for some reason\n        var x = orderRepository.findOrderById(savedOrder.getId()).get().getProducts();\n    }\n</code></pre>\n"},{"tags":["java","javafx","java-web-start","openwebstart","icedtea-web"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1698277718,"post_id":77358792,"comment_id":136386368,"body_markdown":"Show us your JNLP file","body":"Show us your JNLP file"},{"owner":{"account_id":19301594,"reputation":43,"user_id":14109359,"display_name":"Shipra Shahi"},"score":1,"creation_date":1698299172,"post_id":77358792,"comment_id":136387977,"body_markdown":"Updated question with jnlp file.","body":"Updated question with jnlp file."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1698302389,"post_id":77358792,"comment_id":136388419,"body_markdown":"Ok, ty. And does this work with normal Java WebStart, but fails on OpenWebStart? Or does it fail in both?","body":"Ok, ty. And does this work with normal Java WebStart, but fails on OpenWebStart? Or does it fail in both?"},{"owner":{"account_id":19301594,"reputation":43,"user_id":14109359,"display_name":"Shipra Shahi"},"score":0,"creation_date":1698302809,"post_id":77358792,"comment_id":136388477,"body_markdown":"Works with javaws. Failing with OpenWebStart.","body":"Works with javaws. Failing with OpenWebStart."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1698305805,"post_id":77358792,"comment_id":136389075,"body_markdown":"Hmmmmmm, something doesn&#39;t add up. I tried to run this myself using a fresh install, and I got further than you did. It failed because I can&#39;t fetch the JAR dependencies from the given url (must be a private network). I would try redownloading, because I am not sure that you have the correct version. What version is your OpenWebStart? Mine is OpenWebStart 1.8.0 (not to be confused with Java 1.8.0).","body":"Hmmmmmm, something doesn&#39;t add up. I tried to run this myself using a fresh install, and I got further than you did. It failed because I can&#39;t fetch the JAR dependencies from the given url (must be a private network). I would try redownloading, because I am not sure that you have the correct version. What version is your OpenWebStart? Mine is OpenWebStart 1.8.0 (not to be confused with Java 1.8.0)."},{"owner":{"account_id":19301594,"reputation":43,"user_id":14109359,"display_name":"Shipra Shahi"},"score":0,"creation_date":1698307081,"post_id":77358792,"comment_id":136389301,"body_markdown":"Yes, same OpenWebStart_windows-x64_1_8_0. Is there some other ocnfiguration windows which needs to be changed in order to run jnlp using ows?","body":"Yes, same OpenWebStart_windows-x64_1_8_0. Is there some other ocnfiguration windows which needs to be changed in order to run jnlp using ows?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1698355058,"post_id":77358792,"comment_id":136398642,"body_markdown":"Not to my knowledge. That should be everything. I would add a bounty to the question some point tomorrow. I&#39;ll also edit your tags to make them a bit more relevant.","body":"Not to my knowledge. That should be everything. I would add a bounty to the question some point tomorrow. I&#39;ll also edit your tags to make them a bit more relevant."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1698406937,"post_id":77358792,"comment_id":136404779,"body_markdown":"In fact, I&#39;ll start the bounty for you.","body":"In fact, I&#39;ll start the bounty for you."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1698645419,"post_id":77358792,"comment_id":136426812,"body_markdown":"Don&#39;t forget to respond to the answer that meets your needs. I can&#39;t do that for you because I cannot reproduce the issue that you are running into.","body":"Don&#39;t forget to respond to the answer that meets your needs. I can&#39;t do that for you because I cannot reproduce the issue that you are running into."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698649292,"post_id":77358792,"comment_id":136427224,"body_markdown":"@ShipraShahi I need help to reproduce this on local to fix this quickly. I have done the required setup for openwebstart. I need a good jnlp to run. I&#39;m facing issue to run on my local.","body":"@ShipraShahi I need help to reproduce this on local to fix this quickly. I have done the required setup for openwebstart. I need a good jnlp to run. I&#39;m facing issue to run on my local."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698649434,"post_id":77358792,"comment_id":136427247,"body_markdown":"I&#39;m getting a different error when I execute your jnlp file.","body":"I&#39;m getting a different error when I execute your jnlp file."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698649525,"post_id":77358792,"comment_id":136427260,"body_markdown":"Can you create a simple jnlp file with the error that you are having ?","body":"Can you create a simple jnlp file with the error that you are having ?"}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698411883,"creation_date":1698411883,"answer_id":77374378,"question_id":77358792,"body_markdown":"As far as I know IcedTea-Web, which is used under the hood of OpenWebStart does not have support for `jfx:javafx-desc`.\r\n\r\nInstead you need to have an `application-desc` that defines the main class.\r\n\r\nAlso see this OpenWebStart FAQ entry: https://openwebstart.com/docs/FAQ.html#_how_to_run_openjfx_based_javafx_applications_with_openwebstar","title":"Unable to run jnlp using Open Webstart Java 8","body":"<p>As far as I know IcedTea-Web, which is used under the hood of OpenWebStart does not have support for <code>jfx:javafx-desc</code>.</p>\n<p>Instead you need to have an <code>application-desc</code> that defines the main class.</p>\n<p>Also see this OpenWebStart FAQ entry: <a href=\"https://openwebstart.com/docs/FAQ.html#_how_to_run_openjfx_based_javafx_applications_with_openwebstar\" rel=\"nofollow noreferrer\">https://openwebstart.com/docs/FAQ.html#_how_to_run_openjfx_based_javafx_applications_with_openwebstar</a></p>\n"}],"owner":{"account_id":19301594,"reputation":43,"user_id":14109359,"display_name":"Shipra Shahi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77374378,"answer_count":1,"score":3,"last_activity_date":1698411883,"creation_date":1698230868,"question_id":77358792,"body_markdown":"My application is developed on oracle jdk8 and UI is written in javafx. UI runs with javaws however, it openWebstart fails to launch same UI with error &quot;Application Error: Not a launchable JNLP file&quot;. \r\nBelow are log snippets:\r\n\r\n```none\r\n[ITW-CORE][2023-10-25 16:00:51.610 IST][INFO ][net.sourceforge.jnlp.Parser] good - your JRE - 1.8.0_372 - match requested JRE - 1.8+\r\n[ITW-CORE][2023-10-25 16:00:51.630 IST][ERROR][net.sourceforge.jnlp.AbstractLaunchHandler]\r\nnetx: Application Error: Not a launchable JNLP file.\r\nnet.sourceforge.jnlp.LaunchException: Fatal: Application Error: Not a launchable JNLP file. File must be a JNLP application, applet, or installer type.\r\n\tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:670)\r\n[ITW-CORE][2023-10-25 16:00:51.631 IST][ERROR][net.sourceforge.jnlp.Launcher]\r\nLaunch exception\r\nnet.sourceforge.jnlp.LaunchException: Fatal: Application Error: Not a launchable JNLP file. File must be a JNLP application, applet, or installer type.\r\n\tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:670)\r\n[ITW-CORE][2023-10-25 16:00:59.350 IST][INFO ][net.sourceforge.jnlp.util.logging.OutputController] Increase polling interval for shutdown phase\r\n[ITW-CORE][2023-10-25 16:00:59.357 IST][INFO ][net.adoptopenjdk.icedteaweb.resources.cache.CacheImpl] No other instances of javaws are running\r\n```\r\n\r\nDownloaded OWS from their official site. Made it as a default application for opening jnlp files. Added Java 1.8 in JVM Manager in OWS settings\r\n\r\n\r\nJnlp file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n&lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;http://172.17.147.60:18080/pwui&quot; href=&quot;pwui.jnlp&quot;&gt;\r\n   &lt;information&gt;\r\n      &lt;title&gt;Management Client&lt;/title&gt;\r\n      &lt;icon kind=&quot;shortcut&quot; href=&quot;image.jpg&quot;/&gt; \r\n      &lt;shortcut online=&quot;true&quot;&gt;\r\n         &lt;desktop/&gt;\r\n      &lt;/shortcut&gt;\r\n   &lt;/information&gt;\r\n   &lt;resources&gt;\r\n      &lt;j2se version=&quot;1.8+&quot; java-vm-args=&quot;-XX:MaxPermSize=256m&quot; /&gt;\r\n      &lt;jar href=&quot;Client.jar&quot; main=&quot;true&quot; /&gt;\r\n      &lt;jar href=&quot;Common.jar&quot; main=&quot;false&quot; /&gt;\r\n      &lt;jar href=&quot;EJBClient.jar&quot; main=&quot;false&quot; /&gt;\r\n      &lt;jar href=&quot;jnlp.jar&quot; main=&quot;false&quot; /&gt;\r\n      &lt;jar href=&quot;jbossall-client.jar&quot; main=&quot;false&quot; /&gt;\r\n      &lt;jar href=&quot;FXExperienceControls.jar&quot; main=&quot;false&quot; /&gt;\r\n      &lt;jar href=&quot;commons-codec-1.7.jar&quot; main=&quot;false&quot; /&gt;\r\n      &lt;jar href=&quot;commons-io.jar&quot; main=&quot;false&quot; /&gt;\r\n      &lt;jar href=&quot;itextpdf-5.4.1.jar&quot; main=&quot;false&quot; /&gt;\r\n   &lt;/resources&gt;\r\n   &lt;security&gt;&lt;all-permissions/&gt;&lt;/security&gt;\r\n   &lt;jfx:javafx-desc  main-class=&quot;com.client.fx.login.LoginScreen&quot; /&gt;\r\n   &lt;update check=&quot;always&quot; policy=&quot;always&quot; /&gt;\r\n&lt;/jnlp&gt;\r\n```\r\n","title":"Unable to run jnlp using Open Webstart Java 8","body":"<p>My application is developed on oracle jdk8 and UI is written in javafx. UI runs with javaws however, it openWebstart fails to launch same UI with error &quot;Application Error: Not a launchable JNLP file&quot;.\nBelow are log snippets:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ITW-CORE][2023-10-25 16:00:51.610 IST][INFO ][net.sourceforge.jnlp.Parser] good - your JRE - 1.8.0_372 - match requested JRE - 1.8+\n[ITW-CORE][2023-10-25 16:00:51.630 IST][ERROR][net.sourceforge.jnlp.AbstractLaunchHandler]\nnetx: Application Error: Not a launchable JNLP file.\nnet.sourceforge.jnlp.LaunchException: Fatal: Application Error: Not a launchable JNLP file. File must be a JNLP application, applet, or installer type.\n    at net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:670)\n[ITW-CORE][2023-10-25 16:00:51.631 IST][ERROR][net.sourceforge.jnlp.Launcher]\nLaunch exception\nnet.sourceforge.jnlp.LaunchException: Fatal: Application Error: Not a launchable JNLP file. File must be a JNLP application, applet, or installer type.\n    at net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:670)\n[ITW-CORE][2023-10-25 16:00:59.350 IST][INFO ][net.sourceforge.jnlp.util.logging.OutputController] Increase polling interval for shutdown phase\n[ITW-CORE][2023-10-25 16:00:59.357 IST][INFO ][net.adoptopenjdk.icedteaweb.resources.cache.CacheImpl] No other instances of javaws are running\n</code></pre>\n<p>Downloaded OWS from their official site. Made it as a default application for opening jnlp files. Added Java 1.8 in JVM Manager in OWS settings</p>\n<p>Jnlp file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\n&lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;http://172.17.147.60:18080/pwui&quot; href=&quot;pwui.jnlp&quot;&gt;\n   &lt;information&gt;\n      &lt;title&gt;Management Client&lt;/title&gt;\n      &lt;icon kind=&quot;shortcut&quot; href=&quot;image.jpg&quot;/&gt; \n      &lt;shortcut online=&quot;true&quot;&gt;\n         &lt;desktop/&gt;\n      &lt;/shortcut&gt;\n   &lt;/information&gt;\n   &lt;resources&gt;\n      &lt;j2se version=&quot;1.8+&quot; java-vm-args=&quot;-XX:MaxPermSize=256m&quot; /&gt;\n      &lt;jar href=&quot;Client.jar&quot; main=&quot;true&quot; /&gt;\n      &lt;jar href=&quot;Common.jar&quot; main=&quot;false&quot; /&gt;\n      &lt;jar href=&quot;EJBClient.jar&quot; main=&quot;false&quot; /&gt;\n      &lt;jar href=&quot;jnlp.jar&quot; main=&quot;false&quot; /&gt;\n      &lt;jar href=&quot;jbossall-client.jar&quot; main=&quot;false&quot; /&gt;\n      &lt;jar href=&quot;FXExperienceControls.jar&quot; main=&quot;false&quot; /&gt;\n      &lt;jar href=&quot;commons-codec-1.7.jar&quot; main=&quot;false&quot; /&gt;\n      &lt;jar href=&quot;commons-io.jar&quot; main=&quot;false&quot; /&gt;\n      &lt;jar href=&quot;itextpdf-5.4.1.jar&quot; main=&quot;false&quot; /&gt;\n   &lt;/resources&gt;\n   &lt;security&gt;&lt;all-permissions/&gt;&lt;/security&gt;\n   &lt;jfx:javafx-desc  main-class=&quot;com.client.fx.login.LoginScreen&quot; /&gt;\n   &lt;update check=&quot;always&quot; policy=&quot;always&quot; /&gt;\n&lt;/jnlp&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mybatis"],"answers":[{"tags":[],"owner":{"account_id":14976280,"reputation":174,"user_id":10883090,"display_name":"Matteo Tomai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547134521,"creation_date":1547134521,"answer_id":54132044,"question_id":54131818,"body_markdown":"You have to put in **&lt; resultmap** **type** the CanonicalName of the class\r\n\r\nex. MyBean pkg is : org.mypkg.MyBean : \r\n\r\n\r\n     &lt;resultMap id=&quot;MyBean&quot; type=&quot;org.mypkg.MyBean&quot;&gt;\r\n        &lt;id property=&quot;myData &quot; column=&quot;myData &quot; /&gt;\r\n    &lt;/resultMap&gt;","title":"MyBatis with Spring: Could not find result map","body":"<p>You have to put in <strong>&lt; resultmap</strong> <strong>type</strong> the CanonicalName of the class</p>\n\n<p>ex. MyBean pkg is : org.mypkg.MyBean : </p>\n\n<pre><code> &lt;resultMap id=\"MyBean\" type=\"org.mypkg.MyBean\"&gt;\n    &lt;id property=\"myData \" column=\"myData \" /&gt;\n&lt;/resultMap&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10966372,"reputation":535,"user_id":8057985,"display_name":"DeooK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547197896,"creation_date":1547197896,"answer_id":54143374,"question_id":54131818,"body_markdown":"Found the solution: I&#39;ve used, for the xml mapper files, a dotted path (identical to the java mapper package name) but the path needs to be a normal path (with slashes and not dots).","title":"MyBatis with Spring: Could not find result map","body":"<p>Found the solution: I've used, for the xml mapper files, a dotted path (identical to the java mapper package name) but the path needs to be a normal path (with slashes and not dots).</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624364467,"creation_date":1624363128,"answer_id":68083150,"question_id":54131818,"body_markdown":"1st thing is your bean class should have the getters and setters.\r\n\r\nif you want to use an inner class as the bean, you have to use the ```$``` sign to the path of your inner class like below.\r\n```xml\r\n&lt;mapper namespace=&quot;myPackage.MyMapper&quot;&gt;\r\n    &lt;resultMap id=&quot;MyBean&quot; type=&quot;MainClass$MyBean&quot;&gt;\r\n        &lt;id property=&quot;myData &quot; column=&quot;myData &quot; /&gt;\r\n    &lt;/resultMap&gt;\r\n&lt;/mapper&gt;\r\n``` \r\n\r\n```\r\nMainClassName$MyBean\r\n```\r\n\r\n```java\r\npublic class MainClassName{\r\n   \r\n   public static class MyBean{\r\n     private String myData;\r\n     //getters\r\n     //setters\r\n   \r\n   }\r\n}\r\n```    \r\nthe reason is that Mybatits check your ben files after compiled. the MyBatis can&#39;t find a class file named ```MyBean.class```. your class file name after compiling like this ```MainClassName$MyBean.class``` so we have to use the ```$``` for that. \r\n","title":"MyBatis with Spring: Could not find result map","body":"<p>1st thing is your bean class should have the getters and setters.</p>\n<p>if you want to use an inner class as the bean, you have to use the <code>$</code> sign to the path of your inner class like below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mapper namespace=&quot;myPackage.MyMapper&quot;&gt;\n    &lt;resultMap id=&quot;MyBean&quot; type=&quot;MainClass$MyBean&quot;&gt;\n        &lt;id property=&quot;myData &quot; column=&quot;myData &quot; /&gt;\n    &lt;/resultMap&gt;\n&lt;/mapper&gt;\n</code></pre>\n<pre><code>MainClassName$MyBean\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClassName{\n   \n   public static class MyBean{\n     private String myData;\n     //getters\n     //setters\n   \n   }\n}\n</code></pre>\n<p>the reason is that Mybatits check your ben files after compiled. the MyBatis can't find a class file named <code>MyBean.class</code>. your class file name after compiling like this <code>MainClassName$MyBean.class</code> so we have to use the <code>$</code> for that.</p>\n"}],"owner":{"account_id":10966372,"reputation":535,"user_id":8057985,"display_name":"DeooK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698411785,"creation_date":1547133726,"question_id":54131818,"body_markdown":"I cannot map the result of a query to a bean with MyBatis and Spring Boot using an xml file.\r\n\r\nIf I try to map the result with the annotation @ResultType(ResultBean.class) everything works, but I don&#39;t know how to map inner class, so I&#39;m trying to map the result with the xml mapper.\r\n\r\n\r\nI have this interface:\r\n\r\n    public interface MyMapper {\r\n        @ResultMap(&quot;MyBean&quot;)\r\n        @Select(&quot;SELECT myData as myData FROM myTable&quot;)\r\n        public List&lt;MyMapper&gt; getMappedData();\r\n    }\r\n\r\nAnd I have this MyMapper.xml file on the same package (the java class is in src/main/java/myPackage and the xml file is in /src/main/resources/myPackage).\r\n\r\n    &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n    \r\n    &lt;mapper namespace=&quot;myPackage.MyMapper&quot;&gt;\r\n    \t&lt;resultMap id=&quot;MyBean&quot; type=&quot;MyBean&quot;&gt;\r\n    \t\t&lt;id property=&quot;myData &quot; column=&quot;myData &quot; /&gt;\r\n    \t&lt;/resultMap&gt;\r\n    &lt;/mapper&gt;\r\n\r\n\r\n This is the my SpringBootServletInitializer class:\r\n\r\n    @SpringBootApplication\r\n    @EnableTransactionManagement\r\n    @MapperScan(&quot;myPackage&quot;)\r\n    @PropertySource(value = &quot;classpath:application.properties&quot;)\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n    \t\r\n    \t@Value(&quot;${spring.datasource.jndi-name}&quot;)\r\n    \tprivate String jndiName;\r\n    \r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\tfinal JndiDataSourceLookup dsLookup = new JndiDataSourceLookup();\r\n    \t\tDataSource dataSource = dsLookup.getDataSource(jndiName);\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DataSource jndiObjectFactoryBean() {\r\n    \t\tJndiObjectFactoryBean jofb = new JndiObjectFactoryBean();\r\n    \t\tjofb.setJndiName(jndiName);\r\n    \t\treturn (DataSource) jofb.getObject();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DataSourceTransactionManager transactionManager(DataSource dataSource) {\r\n    \t\treturn new DataSourceTransactionManager(dataSource);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ManagedTransactionFactory transactionFactory() {\r\n    \t\treturn new ManagedTransactionFactory();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SqlSessionFactoryBean sqlSessionFactory(DataSource dataSource) throws Exception {\r\n    \t\tSqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();\r\n    \t\tsessionFactory.setDataSource(dataSource);\r\n    \t\tsessionFactory.setTypeAliasesPackage(&quot;beansPackage&quot;);\r\n    \t\treturn sessionFactory;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n        public SqlSessionFactory sqlSessionFactory() throws Exception {\r\n          SqlSessionFactoryBean sqlSessionFactory = new SqlSessionFactoryBean();\r\n          sqlSessionFactory.setDataSource(dataSource());\r\n          return (SqlSessionFactory) sqlSessionFactory.getObject();\r\n        }\r\n    \t\r\n    }\r\n\r\nThe bean is \r\n\r\n    @Alias(&quot;MyBean&quot;)\r\n    public class MyBeanimplements Serializable {\r\n    \tprivate static final long serialVersionUID = 3143220123058683967L;\r\n    \tprivate String myData;\r\n    }\r\n\r\nBut it seems that MyBatis cannot find the xml mapper so it cannot map the result on the right bean. The error I receive is:\r\n\r\n&gt; 16:02:56,074 ERROR\r\n&gt; [org.springframework.boot.web.servlet.support.ErrorPageFilter]\r\n&gt; (default task-1) Forwarding to error page from request\r\n&gt; [/MyPage/getData] due to exception [Could not find result map\r\n&gt; myPackage.MyMapper.MyBean]:\r\n&gt; org.apache.ibatis.builder.IncompleteElementException: Could not find\r\n&gt; result map myPackage.MyMapper.MyBean\r\n\r\nI&#39;m missing some configuration? Maybe on the application.property file?\r\n\r\n\r\n","title":"MyBatis with Spring: Could not find result map","body":"<p>I cannot map the result of a query to a bean with MyBatis and Spring Boot using an xml file.</p>\n\n<p>If I try to map the result with the annotation @ResultType(ResultBean.class) everything works, but I don't know how to map inner class, so I'm trying to map the result with the xml mapper.</p>\n\n<p>I have this interface:</p>\n\n<pre><code>public interface MyMapper {\n    @ResultMap(\"MyBean\")\n    @Select(\"SELECT myData as myData FROM myTable\")\n    public List&lt;MyMapper&gt; getMappedData();\n}\n</code></pre>\n\n<p>And I have this MyMapper.xml file on the same package (the java class is in src/main/java/myPackage and the xml file is in /src/main/resources/myPackage).</p>\n\n<pre><code>&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;\n\n&lt;mapper namespace=\"myPackage.MyMapper\"&gt;\n    &lt;resultMap id=\"MyBean\" type=\"MyBean\"&gt;\n        &lt;id property=\"myData \" column=\"myData \" /&gt;\n    &lt;/resultMap&gt;\n&lt;/mapper&gt;\n</code></pre>\n\n<p>This is the my SpringBootServletInitializer class:</p>\n\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement\n@MapperScan(\"myPackage\")\n@PropertySource(value = \"classpath:application.properties\")\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    @Value(\"${spring.datasource.jndi-name}\")\n    private String jndiName;\n\n    @Bean\n    public DataSource dataSource() {\n        final JndiDataSourceLookup dsLookup = new JndiDataSourceLookup();\n        DataSource dataSource = dsLookup.getDataSource(jndiName);\n        return dataSource;\n    }\n\n    @Bean\n    public DataSource jndiObjectFactoryBean() {\n        JndiObjectFactoryBean jofb = new JndiObjectFactoryBean();\n        jofb.setJndiName(jndiName);\n        return (DataSource) jofb.getObject();\n    }\n\n    @Bean\n    public DataSourceTransactionManager transactionManager(DataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n    }\n\n    @Bean\n    public ManagedTransactionFactory transactionFactory() {\n        return new ManagedTransactionFactory();\n    }\n\n    @Bean\n    public SqlSessionFactoryBean sqlSessionFactory(DataSource dataSource) throws Exception {\n        SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource);\n        sessionFactory.setTypeAliasesPackage(\"beansPackage\");\n        return sessionFactory;\n    }\n\n    @Bean\n    public SqlSessionFactory sqlSessionFactory() throws Exception {\n      SqlSessionFactoryBean sqlSessionFactory = new SqlSessionFactoryBean();\n      sqlSessionFactory.setDataSource(dataSource());\n      return (SqlSessionFactory) sqlSessionFactory.getObject();\n    }\n\n}\n</code></pre>\n\n<p>The bean is </p>\n\n<pre><code>@Alias(\"MyBean\")\npublic class MyBeanimplements Serializable {\n    private static final long serialVersionUID = 3143220123058683967L;\n    private String myData;\n}\n</code></pre>\n\n<p>But it seems that MyBatis cannot find the xml mapper so it cannot map the result on the right bean. The error I receive is:</p>\n\n<blockquote>\n  <p>16:02:56,074 ERROR\n  [org.springframework.boot.web.servlet.support.ErrorPageFilter]\n  (default task-1) Forwarding to error page from request\n  [/MyPage/getData] due to exception [Could not find result map\n  myPackage.MyMapper.MyBean]:\n  org.apache.ibatis.builder.IncompleteElementException: Could not find\n  result map myPackage.MyMapper.MyBean</p>\n</blockquote>\n\n<p>I'm missing some configuration? Maybe on the application.property file?</p>\n"},{"tags":["java","eclipse","maven","pom.xml"],"comments":[{"owner":{"account_id":1183535,"reputation":14118,"user_id":1157935,"accept_rate":83,"display_name":"gipinani"},"score":0,"creation_date":1393448707,"post_id":22053213,"comment_id":33438502,"body_markdown":"Have you looked in Problems view?","body":"Have you looked in Problems view?"},{"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"score":0,"creation_date":1393448959,"post_id":22053213,"comment_id":33438644,"body_markdown":"Invalidate casches in your IDE and reimport project then rebuild it.","body":"Invalidate casches in your IDE and reimport project then rebuild it."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1393449062,"post_id":22053213,"comment_id":33438693,"body_markdown":"right click on that error and do quick fix, probably some eclipse conf issue","body":"right click on that error and do quick fix, probably some eclipse conf issue"},{"owner":{"account_id":2442116,"reputation":445,"user_id":2130312,"accept_rate":59,"display_name":"abaratham"},"score":0,"creation_date":1393449076,"post_id":22053213,"comment_id":33438701,"body_markdown":"Just looked and it says &quot;Description\tResource\tPath\tLocation\tType\nCannot read lifecycle mapping metadata for artifact org.apache.maven.plugins:maven-deploy-plugin:maven-plugin:2.8.1:runtime Cause: error in opening zip file\tpom.xml\t/ardor3d-animation\tline 1\tMaven Project Build Lifecycle Mapping Problem&quot;","body":"Just looked and it says &quot;Description\tResource\tPath\tLocation\tType Cannot read lifecycle mapping metadata for artifact org.apache.maven.plugins:maven-deploy-plugin:maven-plugin:2.&zwnj;&#8203;8.1:runtime Cause: error in opening zip file\tpom.xml\t/ardor3d-animation\tline 1\tMaven Project Build Lifecycle Mapping Problem&quot;"},{"owner":{"account_id":3727995,"reputation":516,"user_id":7767332,"accept_rate":50,"display_name":"Ammar Akouri"},"score":0,"creation_date":1559304767,"post_id":22053213,"comment_id":99388223,"body_markdown":"Possible duplicate of [Why am I getting Unknown error in line 1 of pom.xml?](https://stackoverflow.com/questions/56142369/why-am-i-getting-unknown-error-in-line-1-of-pom-xml)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/56142369/why-am-i-getting-unknown-error-in-line-1-of-pom-xml\">Why am I getting Unknown error in line 1 of pom.xml?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601174406,"creation_date":1601174406,"answer_id":64084270,"question_id":22053213,"body_markdown":"Check this link:\r\n\r\nhttps://stackoverflow.com/questions/56142369/why-am-i-getting-unknown-error-in-line-1-of-pom-xml\r\n\r\n\r\n----------\r\n\r\n\r\nFor me, after I hit this problem, I upgrade my STS from 4.0 to 4.7.1 and problem goes away, like someone also mentioned in that link.","title":"Eclipse Maven: Unknown errors in pom.xml","body":"<p>Check this link:</p>\n<p><a href=\"https://stackoverflow.com/questions/56142369/why-am-i-getting-unknown-error-in-line-1-of-pom-xml\">Why am I getting Unknown error in line 1 of pom.xml?</a></p>\n<hr />\n<p>For me, after I hit this problem, I upgrade my STS from 4.0 to 4.7.1 and problem goes away, like someone also mentioned in that link.</p>\n"}],"owner":{"account_id":2442116,"reputation":445,"user_id":2130312,"accept_rate":59,"display_name":"abaratham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10733,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1698411785,"creation_date":1393448631,"question_id":22053213,"body_markdown":"I recently imported a bunch of Maven projects(Ardor3D if it helps) into Eclipse, and for some reason, in all but the first project, there is a little red x mark next to the pom.xml file in the Package Explorer window indicating there is an error, however when I open the pom.xml, I can&#39;t find any error...thanks for any help!","title":"Eclipse Maven: Unknown errors in pom.xml","body":"<p>I recently imported a bunch of Maven projects(Ardor3D if it helps) into Eclipse, and for some reason, in all but the first project, there is a little red x mark next to the pom.xml file in the Package Explorer window indicating there is an error, however when I open the pom.xml, I can't find any error...thanks for any help!</p>\n"},{"tags":["java","integration","aop","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1698549496,"post_id":77374366,"comment_id":136419052,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."}],"owner":{"account_id":16222663,"reputation":1,"user_id":22360492,"display_name":"Serw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698411754,"creation_date":1698411754,"question_id":77374366,"body_markdown":"Some library &quot;X&quot; is used by many clients. Clients are Spring Boot apps.\r\n\r\nI want to aspect this library &quot;X&quot; and use by condition in clients as jar dependency so each time when client is invoking library X it should invoke my aspected code. How can I make it?\r\n\r\nPlease, help. If you have another ideas how to mock library without adding extra code then suggest\r\n\r\nFirstly I thought about Spring AOP but library &quot;X&quot; is just simple java classes without beans.\r\n\r\nSo, secondly I thought about Load-time weaving but I am not sure If my aspected dependecy will weave inside clients dependecy on library X.","title":"Aspect library in project using jar dependency","body":"<p>Some library &quot;X&quot; is used by many clients. Clients are Spring Boot apps.</p>\n<p>I want to aspect this library &quot;X&quot; and use by condition in clients as jar dependency so each time when client is invoking library X it should invoke my aspected code. How can I make it?</p>\n<p>Please, help. If you have another ideas how to mock library without adding extra code then suggest</p>\n<p>Firstly I thought about Spring AOP but library &quot;X&quot; is just simple java classes without beans.</p>\n<p>So, secondly I thought about Load-time weaving but I am not sure If my aspected dependecy will weave inside clients dependecy on library X.</p>\n"},{"tags":["java","eclipse","error-handling"],"comments":[{"owner":{"account_id":1537656,"reputation":1577,"user_id":1433187,"accept_rate":40,"display_name":"Khobaib"},"score":1,"creation_date":1391004026,"post_id":18609160,"comment_id":32337078,"body_markdown":"Check this - https://bugs.eclipse.org/bugs/show_bug.cgi?id=333227","body":"Check this - <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=333227\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=333227</a>"},{"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"score":2,"creation_date":1401794962,"post_id":18609160,"comment_id":37012790,"body_markdown":"Had a similar issue once, where the error was not caused by the java version, rather it missed the library for some java-agent. Should anyone ever get to this problem :)","body":"Had a similar issue once, where the error was not caused by the java version, rather it missed the library for some java-agent. Should anyone ever get to this problem :)"},{"owner":{"account_id":3511610,"reputation":3120,"user_id":2935802,"display_name":"Sudhakar"},"score":3,"creation_date":1404301496,"post_id":18609160,"comment_id":37983405,"body_markdown":"I also having the same issue. When i installed the 64 bit JDK, this error is no longer able reproduced.","body":"I also having the same issue. When i installed the 64 bit JDK, this error is no longer able reproduced."}],"answers":[{"tags":[],"owner":{"account_id":1584912,"reputation":4202,"user_id":1469503,"display_name":"Calon"},"down_vote_count":2,"up_vote_count":313,"is_accepted":true,"score":311,"last_activity_date":1516628829,"creation_date":1378303223,"answer_id":18615931,"question_id":18609160,"body_markdown":"The error message points to a problem with your Java version. Do you have a JDK installed?\r\n\r\nTry adding the following (noting the new line):\r\n&gt;**/!\\ make sure, that the `-vm` option occurs _before_ the `-vmargs` command**. \r\n&gt; Everything after `-vmargs` is passed directly to the JVM.\r\n\r\n    -vm \r\n    c:/wherever/java/jdk1.6.0_21/jre/bin/server/jvm.dll\r\n    -vmargs... \r\n\r\n...to your `eclipse.ini` file, pointing to the JDK you want to use, and check that the required Java version is at least as new as your JDK. This is the path for a Windows system. More on paths can be found [here][1] (scroll down).\r\n\r\n\r\nIf you don&#39;t know where the `eclipse.ini` file is: regularly it is in the folder of your `eclipse.exe`. \r\n\r\n**Edit2:** *@KadoLakatt*: the reason why installing the latest Java Version worked for you is because Eclipse checks the standard path for a JVM if it doesn&#39;t find a `-vm` entry (see [here][1]). However I&#39;d not recommend that, since you might be wrong guessing the JVM used. If you update Java (automatically?) you might run into problems in your Eclipse wondering what you might have changed. Better set it to a specific folder in your `eclipse.ini` to be certain. \r\n\r\n  [1]: https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>The error message points to a problem with your Java version. Do you have a JDK installed?</p>\n\n<p>Try adding the following (noting the new line):</p>\n\n<blockquote>\n  <p><strong>/!\\ make sure, that the <code>-vm</code> option occurs <em>before</em> the <code>-vmargs</code> command</strong>. \n  Everything after <code>-vmargs</code> is passed directly to the JVM.</p>\n</blockquote>\n\n<pre><code>-vm \nc:/wherever/java/jdk1.6.0_21/jre/bin/server/jvm.dll\n-vmargs... \n</code></pre>\n\n<p>...to your <code>eclipse.ini</code> file, pointing to the JDK you want to use, and check that the required Java version is at least as new as your JDK. This is the path for a Windows system. More on paths can be found <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"noreferrer\">here</a> (scroll down).</p>\n\n<p>If you don't know where the <code>eclipse.ini</code> file is: regularly it is in the folder of your <code>eclipse.exe</code>. </p>\n\n<p><strong>Edit2:</strong> <em>@KadoLakatt</em>: the reason why installing the latest Java Version worked for you is because Eclipse checks the standard path for a JVM if it doesn't find a <code>-vm</code> entry (see <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"noreferrer\">here</a>). However I'd not recommend that, since you might be wrong guessing the JVM used. If you update Java (automatically?) you might run into problems in your Eclipse wondering what you might have changed. Better set it to a specific folder in your <code>eclipse.ini</code> to be certain. </p>\n"},{"tags":[],"owner":{"account_id":3499373,"reputation":51,"user_id":2926494,"display_name":"Bernie"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382925829,"creation_date":1382925829,"answer_id":19626152,"question_id":18609160,"body_markdown":"I&#39;ve encountered similar problems. The reason is that the path to my eclipse includes Chinese characters. Once those characters are deleted, the problem is solved. Please check if there are characters other than English in your path.","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>I've encountered similar problems. The reason is that the path to my eclipse includes Chinese characters. Once those characters are deleted, the problem is solved. Please check if there are characters other than English in your path.</p>\n"},{"tags":[],"owner":{"account_id":3896947,"reputation":21,"user_id":3225734,"display_name":"Vivek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390434802,"creation_date":1390434802,"answer_id":21296605,"question_id":18609160,"body_markdown":"This can be resolved by adding the following line to the eclipse.ini file\r\n-XX:-UseCompressedOops","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>This can be resolved by adding the following line to the eclipse.ini file\n-XX:-UseCompressedOops</p>\n"},{"tags":[],"owner":{"account_id":1564186,"reputation":1884,"user_id":1453339,"accept_rate":40,"display_name":"Abu Shumon"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1391992960,"creation_date":1391992960,"answer_id":21667279,"question_id":18609160,"body_markdown":"it can be like this as well:    \r\n\r\n    -vm \r\n    C:\\Program Files\\Java\\jre6\\bin\\server\\jvm.dll","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>it can be like this as well:    </p>\n\n<pre><code>-vm \nC:\\Program Files\\Java\\jre6\\bin\\server\\jvm.dll\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392011765,"creation_date":1392011765,"answer_id":21670015,"question_id":18609160,"body_markdown":"just to add here...&lt;br&gt;For the guys those who still couldn&#39;t start eclipse due same error, please check eclipse.ini file again and see have you forgot to put `M` after memory size.\r\nFor example:&lt;br&gt;\r\n\r\n    -Xmx1024\r\n    or\r\n    -Xmx1024MB\r\n    or\r\n    -Xmx1024 M\r\n    or\r\n    -Xmx1024 mb\r\n    or\r\n    -Xmx1024mb\r\n\r\nare incorrect, it should be `-Xmx1024M`. I have been trying different ideas from SOF and from other forums, and in this cut/paste I forgot that I missed `M` (such a little thing to miss), so I thought I should share. If it works for some of you please up-vote.","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>just to add here...<br>For the guys those who still couldn't start eclipse due same error, please check eclipse.ini file again and see have you forgot to put <code>M</code> after memory size.\nFor example:<br></p>\n\n<pre><code>-Xmx1024\nor\n-Xmx1024MB\nor\n-Xmx1024 M\nor\n-Xmx1024 mb\nor\n-Xmx1024mb\n</code></pre>\n\n<p>are incorrect, it should be <code>-Xmx1024M</code>. I have been trying different ideas from SOF and from other forums, and in this cut/paste I forgot that I missed <code>M</code> (such a little thing to miss), so I thought I should share. If it works for some of you please up-vote.</p>\n"},{"tags":[],"owner":{"account_id":4060969,"reputation":1,"user_id":3337536,"display_name":"user3337536"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1392991993,"creation_date":1392991686,"answer_id":21936711,"question_id":18609160,"body_markdown":"if it says\r\nc:/program files/java/jre/bin/server/jvm.dll not found\r\nthen copy the jre from jdk folder and paste it outside the jdk folder . and then try again...","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>if it says\nc:/program files/java/jre/bin/server/jvm.dll not found\nthen copy the jre from jdk folder and paste it outside the jdk folder . and then try again...</p>\n"},{"tags":[],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1405607781,"creation_date":1395955075,"answer_id":22699405,"question_id":18609160,"body_markdown":"I received this error out of the blue. Eclipse stopped working even though I made no config changes and did not install any new jdk&#39;s.\r\n\r\nHere was my eclipse.ini file : \r\n\r\n    --clean\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20130807-1835\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.XXMaxPermSize\r\n    256M\r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.XXMaxPermSize\r\n    256m\r\n    --launcher.defaultAction\r\n    openFile\r\n    -vm\r\n    C:/Program Files (x86)/Java/jre7/bin/javaw.exe\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.6\r\n    -Xms40m\r\n    -Xmx1024m\r\n\r\nTo get Eclipse to start successfully I removed \r\n\r\n        -vmargs\r\n        -Dosgi.requiredJavaVersion=1.6\r\n        -vm \r\n    C:/Program Files (x86)/Java/jre7/bin/javaw.exe\r\n\r\nSo here is my updated file : \r\n\r\n    --clean\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20130807-1835\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.XXMaxPermSize\r\n    256M\r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.XXMaxPermSize\r\n    256m\r\n    --launcher.defaultAction\r\n    openFile\r\n    -Xms40m\r\n    -Xmx1024m\r\n\r\nI have no idea why removing osgi.requiredJavaVersion=1.6 fixed this as my jvm version is 1.6. From the doc http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Fruntime-options.html \r\n\r\n    osgi.requiredJavaVersion\r\n    The minimum java version that is required to launch Eclipse. The default value is &quot;1.4.1&quot;.\r\n\r\nI think my java version was set correctly. Anyway Eclipse starts and runs for me now......\r\n\r\n\r\n\r\n","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>I received this error out of the blue. Eclipse stopped working even though I made no config changes and did not install any new jdk's.</p>\n\n<p>Here was my eclipse.ini file : </p>\n\n<pre><code>--clean\n-startup\nplugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20130807-1835\n-product\norg.eclipse.epp.package.jee.product\n--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n256M\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n256m\n--launcher.defaultAction\nopenFile\n-vm\nC:/Program Files (x86)/Java/jre7/bin/javaw.exe\n--launcher.appendVmargs\n-vmargs\n-Dosgi.requiredJavaVersion=1.6\n-Xms40m\n-Xmx1024m\n</code></pre>\n\n<p>To get Eclipse to start successfully I removed </p>\n\n<pre><code>    -vmargs\n    -Dosgi.requiredJavaVersion=1.6\n    -vm \nC:/Program Files (x86)/Java/jre7/bin/javaw.exe\n</code></pre>\n\n<p>So here is my updated file : </p>\n\n<pre><code>--clean\n-startup\nplugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20130807-1835\n-product\norg.eclipse.epp.package.jee.product\n--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n256M\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n256m\n--launcher.defaultAction\nopenFile\n-Xms40m\n-Xmx1024m\n</code></pre>\n\n<p>I have no idea why removing osgi.requiredJavaVersion=1.6 fixed this as my jvm version is 1.6. From the doc <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Fruntime-options.html\">http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Fruntime-options.html</a> </p>\n\n<pre><code>osgi.requiredJavaVersion\nThe minimum java version that is required to launch Eclipse. The default value is \"1.4.1\".\n</code></pre>\n\n<p>I think my java version was set correctly. Anyway Eclipse starts and runs for me now......</p>\n"},{"tags":[],"owner":{"account_id":477917,"reputation":4706,"user_id":889688,"display_name":"user_CC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434516254,"creation_date":1423851665,"answer_id":28506152,"question_id":18609160,"body_markdown":"I had this issue recently, but I hadn&#39;t changed any java or updated the java version, May be this issue happened because of crash shutdown of the system.\r\n\r\nAnd after reading a couple of answers here I decided to change the java version from 1.6 to 1.7 in the eclipse.ini file.\r\n\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.6  \r\n\r\nAfter this change the Eclipse started well and it worked. Since I didnt had changed anything i decided to change it back to 1.6 to what it was originally. \r\n\r\nThen I started eclipse and guess what it worked. So Looks like in my case just touching/modifiying the eclipse.ini file worked.\r\n\r\nI hope this answer is helpful to somebody.\r\n\r\n\r\n\r\n","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>I had this issue recently, but I hadn't changed any java or updated the java version, May be this issue happened because of crash shutdown of the system.</p>\n\n<p>And after reading a couple of answers here I decided to change the java version from 1.6 to 1.7 in the eclipse.ini file.</p>\n\n<pre><code>-vmargs\n-Dosgi.requiredJavaVersion=1.6  \n</code></pre>\n\n<p>After this change the Eclipse started well and it worked. Since I didnt had changed anything i decided to change it back to 1.6 to what it was originally. </p>\n\n<p>Then I started eclipse and guess what it worked. So Looks like in my case just touching/modifiying the eclipse.ini file worked.</p>\n\n<p>I hope this answer is helpful to somebody.</p>\n"},{"tags":[],"owner":{"account_id":1175298,"reputation":196,"user_id":1151445,"display_name":"Lalit Narayan Mishra"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1434516244,"creation_date":1433263786,"answer_id":30601999,"question_id":18609160,"body_markdown":"Adding `-vm` parameters works for me. \r\n\r\n    -vm \r\n    C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\bin\\server\\jvm.dll\r\n","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>Adding <code>-vm</code> parameters works for me. </p>\n\n<pre><code>-vm \nC:\\Program Files\\Java\\jdk1.7.0_45\\jre\\bin\\server\\jvm.dll\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3664704,"reputation":1349,"user_id":3226997,"accept_rate":46,"display_name":"CRM"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1438771850,"creation_date":1438771850,"answer_id":31830400,"question_id":18609160,"body_markdown":"I had same issue in my windows 7, 64-bit machine. Then I downloaded and installed 64 bit jdk for Java(which includes jre). This solved the issue.","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>I had same issue in my windows 7, 64-bit machine. Then I downloaded and installed 64 bit jdk for Java(which includes jre). This solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465875387,"creation_date":1465875387,"answer_id":37802543,"question_id":18609160,"body_markdown":"Directly changing eclipse file is not a good idea, no matter facet or ini, unless it could be changed in eclipse. Had the same problem, with jdk1.8 installed. Change it to jdk 1.7.[![enter image description here][1]][1]\r\n\r\nBesides, according to [https://wiki.eclipse.org/Eclipse/Installation][2], both LUNA and MARS need 1.7. So just ensure you have it installed.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SksXg.png\r\n  [2]: https://wiki.eclipse.org/Eclipse/Installation","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>Directly changing eclipse file is not a good idea, no matter facet or ini, unless it could be changed in eclipse. Had the same problem, with jdk1.8 installed. Change it to jdk 1.7.<a href=\"https://i.stack.imgur.com/SksXg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SksXg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Besides, according to <a href=\"https://wiki.eclipse.org/Eclipse/Installation\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Eclipse/Installation</a>, both LUNA and MARS need 1.7. So just ensure you have it installed.</p>\n"},{"tags":[],"owner":{"account_id":2882532,"reputation":327,"user_id":2473061,"display_name":"Sumiya"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1479505150,"creation_date":1479505150,"answer_id":40686333,"question_id":18609160,"body_markdown":"For those of you who tried all the above answers without any success, try lowering your -Xms value. I am required to support an older Eclipse (Weblogic Eclipse 10.3.6) - I had the following .ini on my Windows 7 machine and my Windows Server 2008 R2 Enterprise VM (the Java version below points to a 32-bit Java) that had worked and were working perfectly, respectively.\r\n\r\n    -vm\r\n    C:/Java/Java7/jdk1.7.0_79/bin/javaw.exe\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20120522-1813\r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.defaultAction\r\n    openFile\r\n    -vmargs\r\n    -Xms1024m\r\n    -Xmx1024m\r\n    -XX:MaxPermSize=256m\r\n    -Dsun.lang.ClassLoader.allowArraySyntax=true\r\n    -Dweblogic.home=C:/Oracle/Middleware/wlserver_10.3\r\n\r\nSo a 32-bit Java for a 32-bit Eclipse, but still exit code 1. Based on all answers I had seen here, and the only change being a new laptop with Windows 10, the only possible explanation was that the new OS and the Eclipse were disagreeing on something. So I started playing around with each of the values, and it worked when I lowered both Xms and Xmx to 512m. I have a hunch that possibly the new Windows OS is preventing a higher initial heap size based on some run condition (the higher -Xms does work on Windows 10 on all other similar devices I came across) - so any other explanation is welcome. Meanwhile following is the only value I tweaked to successfully launch Eclipse.\r\n\r\n    -Xms512m ","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>For those of you who tried all the above answers without any success, try lowering your -Xms value. I am required to support an older Eclipse (Weblogic Eclipse 10.3.6) - I had the following .ini on my Windows 7 machine and my Windows Server 2008 R2 Enterprise VM (the Java version below points to a 32-bit Java) that had worked and were working perfectly, respectively.</p>\n\n<pre><code>-vm\nC:/Java/Java7/jdk1.7.0_79/bin/javaw.exe\n-startup\nplugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20120522-1813\n-showsplash\norg.eclipse.platform\n--launcher.defaultAction\nopenFile\n-vmargs\n-Xms1024m\n-Xmx1024m\n-XX:MaxPermSize=256m\n-Dsun.lang.ClassLoader.allowArraySyntax=true\n-Dweblogic.home=C:/Oracle/Middleware/wlserver_10.3\n</code></pre>\n\n<p>So a 32-bit Java for a 32-bit Eclipse, but still exit code 1. Based on all answers I had seen here, and the only change being a new laptop with Windows 10, the only possible explanation was that the new OS and the Eclipse were disagreeing on something. So I started playing around with each of the values, and it worked when I lowered both Xms and Xmx to 512m. I have a hunch that possibly the new Windows OS is preventing a higher initial heap size based on some run condition (the higher -Xms does work on Windows 10 on all other similar devices I came across) - so any other explanation is welcome. Meanwhile following is the only value I tweaked to successfully launch Eclipse.</p>\n\n<pre><code>-Xms512m \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1483440737,"creation_date":1483440737,"answer_id":41441829,"question_id":18609160,"body_markdown":"Working combinations of OS, JDK and eclipse bitness. \r\n\r\n - 32-bit OS , 32-bit JDK , 32-bit Eclipse (32-bit only)\r\n - 64-bit OS , 32-bit JDK , 32-bit Eclipse\r\n - 64-bit OS , 64-bit JDK , 64bit Eclipse (64-bit only)\r\n\r\n**Kindly use 1 of the above combinations.**","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>Working combinations of OS, JDK and eclipse bitness. </p>\n\n<ul>\n<li>32-bit OS , 32-bit JDK , 32-bit Eclipse (32-bit only)</li>\n<li>64-bit OS , 32-bit JDK , 32-bit Eclipse</li>\n<li>64-bit OS , 64-bit JDK , 64bit Eclipse (64-bit only)</li>\n</ul>\n\n<p><strong>Kindly use 1 of the above combinations.</strong></p>\n"},{"tags":[],"owner":{"account_id":1605545,"reputation":93,"user_id":1485724,"accept_rate":57,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492610208,"creation_date":1492610208,"answer_id":43497863,"question_id":18609160,"body_markdown":"If none of the solutions works, please check if you have more than one version of java installed on your machine. Please keep only one version which you prefer and everything should work fine.","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>If none of the solutions works, please check if you have more than one version of java installed on your machine. Please keep only one version which you prefer and everything should work fine.</p>\n"},{"tags":[],"owner":{"account_id":5169775,"reputation":1532,"user_id":4138684,"display_name":"Jajikanth pydimarla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495723706,"creation_date":1495723706,"answer_id":44183479,"question_id":18609160,"body_markdown":"I too faced the similar issue , not solved after adding the command in eclipse.ini file. My root cause is different. I was experimenting on sequence diagrams using objectaid. This is throwing an exception and disturbed my workspace. You may have different issue when working on new plugins. Better you check the log file located in your project work-space `C:\\path\\to\\workspace\\.metadata\\.log`","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>I too faced the similar issue , not solved after adding the command in eclipse.ini file. My root cause is different. I was experimenting on sequence diagrams using objectaid. This is throwing an exception and disturbed my workspace. You may have different issue when working on new plugins. Better you check the log file located in your project work-space <code>C:\\path\\to\\workspace\\.metadata\\.log</code></p>\n"},{"tags":[],"owner":{"account_id":2047180,"reputation":456,"user_id":1827020,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499863012,"creation_date":1499863012,"answer_id":45057897,"question_id":18609160,"body_markdown":"None of the above answers helped for me. I discovered that, in general, an error like that could mean that your eclipse.ini has an invalid entry. So, all the above answers could be correct, depending on your particular case. In my case, it turned out I added a locale argument with a typo in it.","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>None of the above answers helped for me. I discovered that, in general, an error like that could mean that your eclipse.ini has an invalid entry. So, all the above answers could be correct, depending on your particular case. In my case, it turned out I added a locale argument with a typo in it.</p>\n"},{"tags":[],"owner":{"account_id":964056,"reputation":313,"user_id":987829,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516800598,"creation_date":1516800598,"answer_id":48423683,"question_id":18609160,"body_markdown":"I had the same issue which was caused due to crash shutdown of my windows 10. Earlier in the path I had Oracle path ie the path inserted by Oracle at the time of installation of JDK. I removed it and changed the path to the JDK location. This solved the problem.","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>I had the same issue which was caused due to crash shutdown of my windows 10. Earlier in the path I had Oracle path ie the path inserted by Oracle at the time of installation of JDK. I removed it and changed the path to the JDK location. This solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":1868108,"reputation":1012,"user_id":1691125,"display_name":"Koss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531331525,"creation_date":1531331525,"answer_id":51291595,"question_id":18609160,"body_markdown":"I tried to change the path in the parameter -vm, but it did not help. Then I deleted the parameter -vm and -vmargs from the eclipse.ini.\r\nIt worked for me","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>I tried to change the path in the parameter -vm, but it did not help. Then I deleted the parameter -vm and -vmargs from the eclipse.ini.\nIt worked for me</p>\n"},{"tags":[],"owner":{"account_id":1690555,"reputation":1708,"user_id":1552998,"accept_rate":60,"display_name":"stormfield"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536881915,"creation_date":1536881915,"answer_id":52323112,"question_id":18609160,"body_markdown":"Mine is a 64 bit system with 64bit java installation.\r\nwhat worked for me was the following:\r\n\r\n 1. Goto the eclipse installation directory\r\n 2. right click the eclipse icon and click &quot;send to desktop as shortcut&quot;\r\n 4. Then right click on the shortcut icon in the desktop and then &gt;  properties &gt; shortcut tab\r\n 5. In the target field point it to the correct java 64 bit installations home path using the vm argument with the java_home path enclosed in quotes like so :\r\n\r\n    D:\\Scala_eclipse\\eclipse.exe -vm &quot;C:\\Program Files\\Java\\jdk1.8.0_11&quot;\r\n\r\n    [![scala eclipse shortcut icon][1]][1]\r\n\r\nThis almost always solves all my Eclipse (scala eclipse as well) related problems.\r\nAs mentioned in the [answer][2]  , please make sure you are using the right combination of eclipse and java \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YwFPo.jpg\r\n  [2]: https://stackoverflow.com/a/41441829/1552998","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>Mine is a 64 bit system with 64bit java installation.\nwhat worked for me was the following:</p>\n\n<ol>\n<li>Goto the eclipse installation directory</li>\n<li>right click the eclipse icon and click \"send to desktop as shortcut\"</li>\n<li>Then right click on the shortcut icon in the desktop and then >  properties > shortcut tab</li>\n<li><p>In the target field point it to the correct java 64 bit installations home path using the vm argument with the java_home path enclosed in quotes like so :</p>\n\n<p>D:\\Scala_eclipse\\eclipse.exe -vm \"C:\\Program Files\\Java\\jdk1.8.0_11\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/YwFPo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YwFPo.jpg\" alt=\"scala eclipse shortcut icon\"></a></p></li>\n</ol>\n\n<p>This almost always solves all my Eclipse (scala eclipse as well) related problems.\nAs mentioned in the <a href=\"https://stackoverflow.com/a/41441829/1552998\">answer</a>  , please make sure you are using the right combination of eclipse and java </p>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563839448,"creation_date":1563839448,"answer_id":57155048,"question_id":18609160,"body_markdown":"1 ) Open the **SpringToolSuite4.ini** File.&lt;br&gt; \r\n2 ) Search For the **openFile**.&lt;br&gt;\r\n3 ) Provide the jvm.dll file location in **SpringToolSuite4.ini** &lt;br&gt;\r\n4 ) Note : Provide the New Line between -vm and your jvm.dll file location path.as shown below.&lt;br&gt;\r\n\r\n    openFile\r\n    -vm \r\n    C:\\Program Files\\Java\\jre8\\bin\\server\\jvm.dll\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.8\r\n    -Xms256m\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lNAPl.jpg","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>1 ) Open the <strong>SpringToolSuite4.ini</strong> File.<br> \n2 ) Search For the <strong>openFile</strong>.<br>\n3 ) Provide the jvm.dll file location in <strong>SpringToolSuite4.ini</strong> <br>\n4 ) Note : Provide the New Line between -vm and your jvm.dll file location path.as shown below.<br></p>\n\n<pre><code>openFile\n-vm \nC:\\Program Files\\Java\\jre8\\bin\\server\\jvm.dll\n-vmargs\n-Dosgi.requiredJavaVersion=1.8\n-Xms256m\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lNAPl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lNAPl.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596685896,"creation_date":1578445161,"answer_id":59638115,"question_id":18609160,"body_markdown":"Please check your computer and if Java JRE not install download and install it.\r\n\r\n- https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html\r\n\r\nIf install please check is it 32 bit or 64 bit as per your operating system\r\n\r\nTo check for 32 or 64-bit JVM, run:\r\n\r\n    $ java -d64 -version\r\n\r\n    $ java -d32 -version\r\n    \r\nError: This Java instance does not support a X-bit JVM.\r\nPlease install the desired version.\r\n","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>Please check your computer and if Java JRE not install download and install it.</p>\n<ul>\n<li><a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html</a></li>\n</ul>\n<p>If install please check is it 32 bit or 64 bit as per your operating system</p>\n<p>To check for 32 or 64-bit JVM, run:</p>\n<pre><code>$ java -d64 -version\n\n$ java -d32 -version\n</code></pre>\n<p>Error: This Java instance does not support a X-bit JVM.\nPlease install the desired version.</p>\n"},{"tags":[],"owner":{"account_id":2995755,"reputation":1183,"user_id":2542332,"accept_rate":100,"display_name":"sergeyan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579951154,"creation_date":1579951154,"answer_id":59908717,"question_id":18609160,"body_markdown":"If you have java 8 installed it might be related to the following issue:\r\nhttps://support.oracle.com/knowledge/Middleware/2412304_1.html\r\n\r\nSimply removing/renaming the &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot; worked for me.","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>If you have java 8 installed it might be related to the following issue:\n<a href=\"https://support.oracle.com/knowledge/Middleware/2412304_1.html\" rel=\"nofollow noreferrer\">https://support.oracle.com/knowledge/Middleware/2412304_1.html</a></p>\n\n<p>Simply removing/renaming the \"C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\" worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8032453,"reputation":344,"user_id":6056881,"display_name":"shreyansh pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583477205,"creation_date":1583477205,"answer_id":60558874,"question_id":18609160,"body_markdown":"My path of -javaagent argument was having Spacial characters like &#39;&amp;&#39;. I placed the Lambok jar in different place and gave the path to that place. It worked for me.\r\n\r\npreviously it was \r\n\r\n-javaagent:C:\\Software &amp; Tool\\lambok.jar\r\n\r\ni changed it to \r\n\r\n-javaagent:C:\\Labmok\\lambok.jar","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>My path of -javaagent argument was having Spacial characters like '&amp;'. I placed the Lambok jar in different place and gave the path to that place. It worked for me.</p>\n\n<p>previously it was </p>\n\n<p>-javaagent:C:\\Software &amp; Tool\\lambok.jar</p>\n\n<p>i changed it to </p>\n\n<p>-javaagent:C:\\Labmok\\lambok.jar</p>\n"},{"tags":[],"owner":{"account_id":13740304,"reputation":959,"user_id":9915594,"display_name":"Ishaq Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598857844,"creation_date":1598857844,"answer_id":63666291,"question_id":18609160,"body_markdown":"1) Open the Eclipse Installation Folder on Windows Machine\r\n\r\n2) Find the eclipse.ini \r\n\r\n3) Open the eclipse.ini File and add the below two lines before -vmargs\r\n\r\n       -vm \r\n       C:\\Users\\IshaqKhan\\jdk1.8.0_173\\bin\\javaw.exe","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<ol>\n<li><p>Open the Eclipse Installation Folder on Windows Machine</p>\n</li>\n<li><p>Find the eclipse.ini</p>\n</li>\n<li><p>Open the eclipse.ini File and add the below two lines before -vmargs</p>\n<pre><code>-vm \nC:\\Users\\IshaqKhan\\jdk1.8.0_173\\bin\\javaw.exe\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1010958,"reputation":65,"user_id":1023540,"display_name":"And"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600168094,"creation_date":1600168094,"answer_id":63900563,"question_id":18609160,"body_markdown":"This work for me in eclipse js and eclipse php:\r\n\r\n     -vm\r\n     C:/java/jdk-11.0.1/bin/javaw.exe\r\n     --launcher.appendVmargs\r\n     -vmargs\r\n","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>This work for me in eclipse js and eclipse php:</p>\n<pre><code> -vm\n C:/java/jdk-11.0.1/bin/javaw.exe\n --launcher.appendVmargs\n -vmargs\n</code></pre>\n"},{"tags":[],"owner":{"account_id":397957,"reputation":126,"user_id":2435551,"display_name":"TranceVibes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617200677,"creation_date":1617200677,"answer_id":66889728,"question_id":18609160,"body_markdown":"I had a similar issue. I opened my eclipse.ini file and noticed that I configured at the end some lines for the lombok library in the past. The path to my lombok jar file was no more valid. After correcting it, my eclipse was working like a charm again. In conclusion, my piece of advice would be to verify that all the paths configured in this file are valid.\r\n\r\neclipse.ini :\r\n```\r\n-...\r\n-javaagent:C:\\some\\path\\to\\lombok.jar\r\n-Xbootclasspath/a:C:\\some\\path\\to\\lombok.jar\r\n```","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>I had a similar issue. I opened my eclipse.ini file and noticed that I configured at the end some lines for the lombok library in the past. The path to my lombok jar file was no more valid. After correcting it, my eclipse was working like a charm again. In conclusion, my piece of advice would be to verify that all the paths configured in this file are valid.</p>\n<p>eclipse.ini :</p>\n<pre><code>-...\n-javaagent:C:\\some\\path\\to\\lombok.jar\n-Xbootclasspath/a:C:\\some\\path\\to\\lombok.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2840572,"reputation":31,"user_id":2440277,"display_name":"Vaibhavraj Jadhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623151222,"creation_date":1623151222,"answer_id":67885991,"question_id":18609160,"body_markdown":"i had Java Run time environment and Java SDK both on my machine. I removed Java Run time environment and it resolved my error. \r\nEarlier this error, i was using elipse with Java SDK only and later had installed JRE specifically for one need.","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>i had Java Run time environment and Java SDK both on my machine. I removed Java Run time environment and it resolved my error.\nEarlier this error, i was using elipse with Java SDK only and later had installed JRE specifically for one need.</p>\n"},{"tags":[],"owner":{"account_id":4374787,"reputation":475,"user_id":3568094,"accept_rate":60,"display_name":"priyanka_rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630560470,"creation_date":1630560470,"answer_id":69024611,"question_id":18609160,"body_markdown":"**JAVA Path could be incorrect**\r\n\r\nTrying above solution didn&#39;t help me.\r\nSo i checked java --version on command prompt, which gave virtualization conflict. It seemed installation of virtualization software on system had messed up environment variables.\r\n\r\nHence I checked **JAVA_HOME** which was on correct path, then checked *system variable* **PATH** which had correct JAVA bin path as well, so removed ***&#39;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&#39;*** and checked java --version on command prompt again, which gave correct value and also fixed above issue of eclipse start.\r\n","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p><strong>JAVA Path could be incorrect</strong></p>\n<p>Trying above solution didn't help me.\nSo i checked java --version on command prompt, which gave virtualization conflict. It seemed installation of virtualization software on system had messed up environment variables.</p>\n<p>Hence I checked <strong>JAVA_HOME</strong> which was on correct path, then checked <em>system variable</em> <strong>PATH</strong> which had correct JAVA bin path as well, so removed <em><strong>'C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath'</strong></em> and checked java --version on command prompt again, which gave correct value and also fixed above issue of eclipse start.</p>\n"},{"tags":[],"owner":{"account_id":14760520,"reputation":81,"user_id":10659995,"display_name":"robwill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650577435,"creation_date":1650577435,"answer_id":71961200,"question_id":18609160,"body_markdown":"On Windows 10, removing\r\n\r\n    -XstartOnFirstThread\r\n\r\nfrom the eclipse.ini fixed the issue for me","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>On Windows 10, removing</p>\n<pre><code>-XstartOnFirstThread\n</code></pre>\n<p>from the eclipse.ini fixed the issue for me</p>\n"},{"tags":[],"owner":{"account_id":7795457,"reputation":145,"user_id":5896734,"display_name":"Ashish Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668592404,"creation_date":1668592404,"answer_id":74458391,"question_id":18609160,"body_markdown":"Go to eclipse folder and then go Configuration Setting file\r\n\r\nchange the below path under -vm tag in config file\r\nNote- you need to mention new java path with bin and then javaw.exe like below\r\n\r\n-vm\r\njava path/bin/javaw.exe\r\n\r\nIt should work. Thanks.\r\n","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p>Go to eclipse folder and then go Configuration Setting file</p>\n<p>change the below path under -vm tag in config file\nNote- you need to mention new java path with bin and then javaw.exe like below</p>\n<p>-vm\njava path/bin/javaw.exe</p>\n<p>It should work. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6162,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698411507,"creation_date":1698389926,"answer_id":77372054,"question_id":18609160,"body_markdown":"**To fix this error, you can try the following:** \r\n1. Reinstall Java\r\n2. Make sure you have installed jre/jdk and Eclipse with the same Bit-Version\r\n3. Install a 64-bit JDK\r\n4. Open the Eclipse Installation Folder on Windows Machine\r\n5. Find the eclipse.ini\r\n6. Open the eclipse.ini File and add the below two lines before -vmargs -vm C:\\Users\\XXX\\jdk1.6\\bin\\javaw.exe","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p><strong>To fix this error, you can try the following:</strong></p>\n<ol>\n<li>Reinstall Java</li>\n<li>Make sure you have installed jre/jdk and Eclipse with the same Bit-Version</li>\n<li>Install a 64-bit JDK</li>\n<li>Open the Eclipse Installation Folder on Windows Machine</li>\n<li>Find the eclipse.ini</li>\n<li>Open the eclipse.ini File and add the below two lines before -vmargs -vm C:\\Users\\XXX\\jdk1.6\\bin\\javaw.exe</li>\n</ol>\n"}],"owner":{"account_id":409655,"reputation":1891,"user_id":781038,"accept_rate":33,"display_name":"Vladislav Bogdanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431267,"favorite_count":0,"down_vote_count":0,"up_vote_count":179,"accepted_answer_id":18615931,"answer_count":31,"score":179,"last_activity_date":1698411507,"creation_date":1378284105,"question_id":18609160,"body_markdown":"[This is a picture of the error code][1]\r\n\r\nHere is the content of the error message:\r\n```\r\nJava was started but returned exit code=1\r\n\r\nC:\\WINDOWS\\system32\\javaw.exe\r\n-Dosgi.requiredJavaVersion=1.6\r\n-Xms40m\r\n-Xmx768m\r\n-Declipse.buildId=v22.0.5-757759\r\n-XX:MaxPermSize=256m\r\n-jar\r\nD:\\Programming\\adt-bundle-windows-x86_64-20130729\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar\r\n-os win32\r\n-ws win32\r\n-arch x86_64\r\n-showsplash\r\n-launcher\r\nD:\\Programming\\adt-bundle-windows-x86_64-20130729\\eclipse\\eclipse.exe\r\n-name Eclipse\r\n--launcher.library\r\nD:\\Programming\\adt-bundle-windows-x86_64-20130729\\eclipse\\\\plugins/org.ecl\r\nipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20120913-144807\\eclipse_1503\r\n.dll\r\n-startup\r\nD:\\Programming\\adt-bundle-windows-x86_64-20130729\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar\r\n--launcher.overrideVmargs\r\n-exitdata 1c50_48\r\n-product com.android.ide.eclipse.adt.package.product\r\n-vm C:\\WINDOWS\\system32\\javaw.exe\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=1.6\r\n-Xms40m\r\n-Xmx768m\r\n-Declipse.buildId=v22.0,5-757759\r\n-XX:MaxPermSize=256m\r\n-jar\r\nD:\\Pragramming\\adt-bundle-windows-x86_64-20130729\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar\r\n```\r\nI just downloaded and dearchived android SDK for Windows. I`m currently using W8 64x.\r\n\r\n  [1]: http://i.stack.imgur.com/GKc00.jpg","title":"Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;","body":"<p><a href=\"https://i.stack.imgur.com/GKc00.jpg\" rel=\"nofollow noreferrer\">This is a picture of the error code</a></p>\n<p>Here is the content of the error message:</p>\n<pre><code>Java was started but returned exit code=1\n\nC:\\WINDOWS\\system32\\javaw.exe\n-Dosgi.requiredJavaVersion=1.6\n-Xms40m\n-Xmx768m\n-Declipse.buildId=v22.0.5-757759\n-XX:MaxPermSize=256m\n-jar\nD:\\Programming\\adt-bundle-windows-x86_64-20130729\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar\n-os win32\n-ws win32\n-arch x86_64\n-showsplash\n-launcher\nD:\\Programming\\adt-bundle-windows-x86_64-20130729\\eclipse\\eclipse.exe\n-name Eclipse\n--launcher.library\nD:\\Programming\\adt-bundle-windows-x86_64-20130729\\eclipse\\\\plugins/org.ecl\nipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20120913-144807\\eclipse_1503\n.dll\n-startup\nD:\\Programming\\adt-bundle-windows-x86_64-20130729\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar\n--launcher.overrideVmargs\n-exitdata 1c50_48\n-product com.android.ide.eclipse.adt.package.product\n-vm C:\\WINDOWS\\system32\\javaw.exe\n-vmargs\n-Dosgi.requiredJavaVersion=1.6\n-Xms40m\n-Xmx768m\n-Declipse.buildId=v22.0,5-757759\n-XX:MaxPermSize=256m\n-jar\nD:\\Pragramming\\adt-bundle-windows-x86_64-20130729\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar\n</code></pre>\n<p>I just downloaded and dearchived android SDK for Windows. I`m currently using W8 64x.</p>\n"},{"tags":["java","keycloak","registration"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698504377,"post_id":77374341,"comment_id":136415621,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29767393,"reputation":1,"user_id":22813456,"display_name":"fivetulips"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698411488,"creation_date":1698411488,"question_id":77374341,"body_markdown":"We create users with rest api in Keycloak. Before creating a user (immediately after receiving the creation data), we need keycloak go to our service and decrypt the login and password, which transfer encypted . After received a response with decrypted data it can create user. How can we add such functionality to the keycloak code and where should it be done?\r\n\r\nCustom registration flow works only with self registration(","title":"Create user in Keycloak rest api custom logic","body":"<p>We create users with rest api in Keycloak. Before creating a user (immediately after receiving the creation data), we need keycloak go to our service and decrypt the login and password, which transfer encypted . After received a response with decrypted data it can create user. How can we add such functionality to the keycloak code and where should it be done?</p>\n<p>Custom registration flow works only with self registration(</p>\n"},{"tags":["java","ssl","ssl-certificate","mtls"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1698423352,"post_id":77374333,"comment_id":136408320,"body_markdown":"No. The server certificate goes in the server‚Äôs key store and the client‚Äôs truststore, and the client certificate goes in the client‚Äôs key store and the server‚Äôs truststore. Don‚Äôt conflate these entities. They have different purposes and different security regimes.","body":"No. The server certificate goes in the server‚Äôs key store and the client‚Äôs truststore, and the client certificate goes in the client‚Äôs key store and the server‚Äôs truststore. Don‚Äôt conflate these entities. They have different purposes and different security regimes."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1698442082,"post_id":77374333,"comment_id":136411057,"body_markdown":"You did NOT &#39;add client cert with key&#39;. `keytool -import` CANNOT import a key. But your current problem is happening before client-auth is even attempted and is with the truststore not the keystore -- if the server&#39;s CA is not well-known, as apparently it isn&#39;t, you need to load (a file containing) either the server cert or better the server&#39;s _CA_ cert, as `loadTrustMaterial` or equivalent.","body":"You did NOT &#39;add client cert with key&#39;. <code>keytool -import</code> CANNOT import a key. But your current problem is happening before client-auth is even attempted and is with the truststore not the keystore -- if the server&#39;s CA is not well-known, as apparently it isn&#39;t, you need to load (a file containing) either the server cert or better the server&#39;s <i>CA</i> cert, as <code>loadTrustMaterial</code> or equivalent."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1698576995,"post_id":77374333,"comment_id":136420837,"body_markdown":"What currently is happening is that no trust path can be build for the server authentication. That likely happens because of the following reasons: 1. the (root) CA certificate is not trusted or 2. the other party is lazy and doesn&#39;t send the full chain (possibly excluding root) to you, and one or more intermediate CA certificates cannot be found.","body":"What currently is happening is that no trust path can be build for the server authentication. That likely happens because of the following reasons: 1. the (root) CA certificate is not trusted or 2. the other party is lazy and doesn&#39;t send the full chain (possibly excluding root) to you, and one or more intermediate CA certificates cannot be found."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1698578788,"post_id":77374333,"comment_id":136421013,"body_markdown":"(but yes, you&#39;d need `loadTrustMaterial` for this, likely the trust store is currently not configured at all; it&#39;ll just use the default `cacerts` file, and in the end you&#39;ll need *both* methods even if you&#39;d use the same store).","body":"(but yes, you&#39;d need <code>loadTrustMaterial</code> for this, likely the trust store is currently not configured at all; it&#39;ll just use the default <code>cacerts</code> file, and in the end you&#39;ll need <i>both</i> methods even if you&#39;d use the same store)."}],"owner":{"account_id":10443846,"reputation":43,"user_id":10674244,"display_name":"SanjayK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698411368,"creation_date":1698411368,"question_id":77374333,"body_markdown":"First I created my client JKS file using below commands:\r\n\r\nAdding the server certs:\r\n```\r\nkeytool -import -alias &lt;server cert alias&gt; -file &lt;server cert&gt; -keystore &lt;jks file&gt;\r\n```\r\n\r\nAdding the Client cert with Key:\r\n```\r\nkeytool -import -trustcacerts -file &lt;client certificate pem&gt; -keypass &lt;client key pass&gt; -storepass &lt;truststore pass&gt; -keystore &lt;jks file&gt;\r\n```\r\n\r\nthen added the code just like proposed here:\r\nhttps://stackoverflow.com/questions/21223084/how-do-i-use-an-ssl-client-certificate-with-apache-httpclient\r\n\r\nThe SSL connection protocol here is mTLS and that is why I need to add the client certificates so that client certificate can be verified by the server during the handshake.\r\n\r\nWhen I am trying to call the REST API I get following error:\r\n```\r\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nFrom the suggested link I am trying to execute below code:\r\n\r\n```\r\n    private static final String KEYSTOREPATH = &quot;keystore.jks&quot;;\r\n    private static final String KEYSTOREPASS = &quot;keystorepass&quot;;\r\n    private static final String KEYPASS = &quot;keypass&quot;;\r\n\r\n    KeyStore readStore() throws Exception {\r\n        try (InputStream keyStoreStream = this.getClass().getResourceAsStream(KEYSTOREPATH)) {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            keyStore.load(keyStoreStream, KEYSTOREPASS.toCharArray());\r\n            return keyStore;    \r\n       }\r\n    }\r\n\r\n    SSLContext sslContext = SSLContexts.custom().loadKeyMaterial(readStore(), KEYPASS.toCharArray()).build();\r\n    HttpClient httpClient = HttpClients.custom().setSSLContext(sslContext).build();\r\n    HttpPost postReq = new HttpPost(&quot;REST API URL&quot;);\r\n    &lt;set payload&gt;\r\n    &lt;set headers&gt;\r\n    HttpResponse response = httpClient.execute(postReq);\r\n    assertEquals(200, response.getStatusLine().getStatusCode());\r\n    HttpEntity entity = response.getEntity();\r\n\r\n    System.out.println(&quot;----------------------------------------&quot;);\r\n    System.out.println(response.getStatusLine());\r\n    EntityUtils.consume(entity);\r\n```\r\n\r\n","title":"Is it right to add server certs and client certs with key to same keystore and provide it to the Java program using &quot;javax.net.ssl.keyStore&quot;","body":"<p>First I created my client JKS file using below commands:</p>\n<p>Adding the server certs:</p>\n<pre><code>keytool -import -alias &lt;server cert alias&gt; -file &lt;server cert&gt; -keystore &lt;jks file&gt;\n</code></pre>\n<p>Adding the Client cert with Key:</p>\n<pre><code>keytool -import -trustcacerts -file &lt;client certificate pem&gt; -keypass &lt;client key pass&gt; -storepass &lt;truststore pass&gt; -keystore &lt;jks file&gt;\n</code></pre>\n<p>then added the code just like proposed here:\n<a href=\"https://stackoverflow.com/questions/21223084/how-do-i-use-an-ssl-client-certificate-with-apache-httpclient\">How do I use an SSL client certificate with Apache HttpClient?</a></p>\n<p>The SSL connection protocol here is mTLS and that is why I need to add the client certificates so that client certificate can be verified by the server during the handshake.</p>\n<p>When I am trying to call the REST API I get following error:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>From the suggested link I am trying to execute below code:</p>\n<pre><code>    private static final String KEYSTOREPATH = &quot;keystore.jks&quot;;\n    private static final String KEYSTOREPASS = &quot;keystorepass&quot;;\n    private static final String KEYPASS = &quot;keypass&quot;;\n\n    KeyStore readStore() throws Exception {\n        try (InputStream keyStoreStream = this.getClass().getResourceAsStream(KEYSTOREPATH)) {\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n            keyStore.load(keyStoreStream, KEYSTOREPASS.toCharArray());\n            return keyStore;    \n       }\n    }\n\n    SSLContext sslContext = SSLContexts.custom().loadKeyMaterial(readStore(), KEYPASS.toCharArray()).build();\n    HttpClient httpClient = HttpClients.custom().setSSLContext(sslContext).build();\n    HttpPost postReq = new HttpPost(&quot;REST API URL&quot;);\n    &lt;set payload&gt;\n    &lt;set headers&gt;\n    HttpResponse response = httpClient.execute(postReq);\n    assertEquals(200, response.getStatusLine().getStatusCode());\n    HttpEntity entity = response.getEntity();\n\n    System.out.println(&quot;----------------------------------------&quot;);\n    System.out.println(response.getStatusLine());\n    EntityUtils.consume(entity);\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot","spring-boot-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1512227173,"creation_date":1490905746,"answer_id":43127732,"question_id":43124852,"body_markdown":"The solution was to add the MODULE layout for the plugin in the pom.xml file\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;layout&gt;MODULE&lt;/layout&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Spring Boot Maven Plugin - No BOOT-INF directory","body":"<p>The solution was to add the MODULE layout for the plugin in the pom.xml file</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;layout&gt;MODULE&lt;/layout&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1728426,"reputation":1069,"user_id":1582586,"display_name":"Eric Manley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566485668,"creation_date":1566485113,"answer_id":57611971,"question_id":43124852,"body_markdown":"For me, the solution was a bit more insidious....I had the spring-boot-maven-plugin nested under pluginManagement, (see below). Doh!    \r\n\r\nThe nasty thing, is that when I&#39;d run mvn spring-boot:run, spring boot comes up just fine, and runs app!  It wasn&#39;t until we tried to deploy to PCF (as a spring-boot JAR), that we&#39;d get an error that there was something wrong with format of the binary....\r\n\r\n    &lt;build&gt;\r\n      \r\n      &lt;!-- \r\n        DON&#39;T DO THIS!! \r\n      --&gt;\r\n      &lt;pluginManagement&gt;\r\n\r\n  \t\t&lt;plugins&gt;  \t\t\t  \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;            \r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;goal&gt;build-info&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;                        \r\n          &lt;/plugin&gt;              \t\t\t            \r\n        &lt;/plugins&gt;\r\n\r\n      &lt;/pluginManagement&gt;\r\n      \r\n      &lt;!-- \r\n        DO THIS INSTEAD!! \r\n      --&gt;      \r\n\t&lt;plugins&gt;\r\n\t\t\t  \r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring.boot.version}&lt;/version&gt;            \r\n          &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                  &lt;goals&gt;\r\n                      &lt;goal&gt;repackage&lt;/goal&gt;\r\n                      &lt;goal&gt;build-info&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n          &lt;/executions&gt;                        \r\n        &lt;/plugin&gt;              \t\t\t  \r\n        \r\n      &lt;/plugins&gt;\r\n\r\n    &lt;/build&gt;\r\n\r\nOnce I removed the pluginManagement tags from the POM, I would now get the ./BOOT-INF structure.  Please keep in mind that pluginManagement is typically for a parent-pom structure, where you want that plugin&#39;s config used across other modules.  \r\n\r\n","title":"Spring Boot Maven Plugin - No BOOT-INF directory","body":"<p>For me, the solution was a bit more insidious....I had the spring-boot-maven-plugin nested under pluginManagement, (see below). Doh!    </p>\n\n<p>The nasty thing, is that when I'd run mvn spring-boot:run, spring boot comes up just fine, and runs app!  It wasn't until we tried to deploy to PCF (as a spring-boot JAR), that we'd get an error that there was something wrong with format of the binary....</p>\n\n<pre><code>&lt;build&gt;\n\n  &lt;!-- \n    DON'T DO THIS!! \n  --&gt;\n  &lt;pluginManagement&gt;\n\n    &lt;plugins&gt;             \n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;            \n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;goal&gt;build-info&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;                        \n      &lt;/plugin&gt;                                     \n    &lt;/plugins&gt;\n\n  &lt;/pluginManagement&gt;\n\n  &lt;!-- \n    DO THIS INSTEAD!! \n  --&gt;      \n&lt;plugins&gt;\n\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${spring.boot.version}&lt;/version&gt;            \n      &lt;executions&gt;\n          &lt;execution&gt;\n              &lt;goals&gt;\n                  &lt;goal&gt;repackage&lt;/goal&gt;\n                  &lt;goal&gt;build-info&lt;/goal&gt;\n              &lt;/goals&gt;\n          &lt;/execution&gt;\n      &lt;/executions&gt;                        \n    &lt;/plugin&gt;                         \n\n  &lt;/plugins&gt;\n\n&lt;/build&gt;\n</code></pre>\n\n<p>Once I removed the pluginManagement tags from the POM, I would now get the ./BOOT-INF structure.  Please keep in mind that pluginManagement is typically for a parent-pom structure, where you want that plugin's config used across other modules.  </p>\n"},{"tags":[],"owner":{"account_id":5305508,"reputation":69,"user_id":4233587,"display_name":"unawaz"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1566917424,"creation_date":1566917424,"answer_id":57677311,"question_id":43124852,"body_markdown":"The answer above with \r\n```\r\n&lt;layout&gt;MODULE&lt;/layout&gt;\r\n```\r\ndoes not work anymore, this is because *layout* element is deprecated in Spring Boot 2.x. \r\nI am using Spring Boot 2.0.x, I found this helpful comment on github: \r\n\r\n&gt; Support for the module layout was removed in Spring Boot 2.0 having been deprecated in 1.5. Unfortunately, the updates to the Maven Plugin&#39;s documentation were missed so we can use this issue to sort that out. You should use a [custom LayoutFactory](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.5-Release-Notes#custom-fat-jar-layouts) instead. \r\n\r\nBut as I did not want to implement LayoutFactory I tried this second solution below that actually repackage and creates an extra jar with a classifier given name: \r\n\r\n&gt; This is due to the change in layout of executable jars in Spring Boot 1.4. Application classes are now packaging in BOOT-INF/classes.\r\nYour client module depends on the repackaged, fat jar of your web module. Due to the new layout that means that the client module can no longer load the web module&#39;s classes. If you want to use your web module as a dependency, you should configure Boot&#39;s repackaging to apply a classifier to the fat jar. For example:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\nDoing so will allow other modules to depend on the original jar that does not embed the module&#39;s dependencies and has the classes at the root of the jar.\r\n\r\nOne original jar have the same structure as I wanted like \r\n```\r\ncom.my-package.foo.bar\r\nMETA-INF\r\n```\r\nand the second classifier have the newer structure with BOOT-INF/ etc. \r\n\r\n","title":"Spring Boot Maven Plugin - No BOOT-INF directory","body":"<p>The answer above with </p>\n\n<pre><code>&lt;layout&gt;MODULE&lt;/layout&gt;\n</code></pre>\n\n<p>does not work anymore, this is because <em>layout</em> element is deprecated in Spring Boot 2.x. \nI am using Spring Boot 2.0.x, I found this helpful comment on github: </p>\n\n<blockquote>\n  <p>Support for the module layout was removed in Spring Boot 2.0 having been deprecated in 1.5. Unfortunately, the updates to the Maven Plugin's documentation were missed so we can use this issue to sort that out. You should use a <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.5-Release-Notes#custom-fat-jar-layouts\" rel=\"noreferrer\">custom LayoutFactory</a> instead. </p>\n</blockquote>\n\n<p>But as I did not want to implement LayoutFactory I tried this second solution below that actually repackage and creates an extra jar with a classifier given name: </p>\n\n<blockquote>\n  <p>This is due to the change in layout of executable jars in Spring Boot 1.4. Application classes are now packaging in BOOT-INF/classes.\n  Your client module depends on the repackaged, fat jar of your web module. Due to the new layout that means that the client module can no longer load the web module's classes. If you want to use your web module as a dependency, you should configure Boot's repackaging to apply a classifier to the fat jar. For example:</p>\n</blockquote>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Doing so will allow other modules to depend on the original jar that does not embed the module's dependencies and has the classes at the root of the jar.</p>\n\n<p>One original jar have the same structure as I wanted like </p>\n\n<pre><code>com.my-package.foo.bar\nMETA-INF\n</code></pre>\n\n<p>and the second classifier have the newer structure with BOOT-INF/ etc. </p>\n"},{"tags":[],"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1576599080,"creation_date":1576599080,"answer_id":59378094,"question_id":43124852,"body_markdown":"In my case I&#39;m using spring boot 2.X and I declared the `spring-boot-maven-plugin` after the `maven-dependency-plugin` (which I used to unpack and create exploded app in Docker) and it must be before the unpack, makes sense, it was unpacking before the spring boot maven plugin executed. Next time I&#39;ll declare it first thing in the plugin chain, lost more than 1 hour on this. Hope it helps someone.\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;${spring.boot.mainClass}&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;unpack&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;unpack&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;artifactItems&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t\t\t\t&lt;/artifactItems&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"Spring Boot Maven Plugin - No BOOT-INF directory","body":"<p>In my case I'm using spring boot 2.X and I declared the <code>spring-boot-maven-plugin</code> after the <code>maven-dependency-plugin</code> (which I used to unpack and create exploded app in Docker) and it must be before the unpack, makes sense, it was unpacking before the spring boot maven plugin executed. Next time I'll declare it first thing in the plugin chain, lost more than 1 hour on this. Hope it helps someone.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;${spring.boot.mainClass}&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;unpack&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;unpack&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                                &lt;version&gt;${project.version}&lt;/version&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":962518,"reputation":1,"user_id":8615206,"display_name":"Jorge Arias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590253966,"creation_date":1590253966,"answer_id":61975757,"question_id":43124852,"body_markdown":"I was using Gradle, instead of Maven, and this is what I had to do:\r\n\r\n1- In my build.gradle, I added the following properties as defined in https://spring.io/guides/gs/spring-boot-Docker/.\r\n\r\n    buildscript {\r\n        ...\r\n        dependencies {\r\n            ...\r\n            classpath(&#39;gradle.plugin.com.palantir.gradle.docker:gradle-docker:0.13.0&#39;)\r\n        }\r\n    }\r\n    \r\n    group = &#39;springio&#39;\r\n    \r\n    ...\r\n    apply plugin: &#39;com.palantir.docker&#39;\r\n    \r\n    task unpack(type: Copy) {\r\n        dependsOn bootJar\r\n        from(zipTree(tasks.bootJar.outputs.files.singleFile))\r\n        into(&quot;build/dependency&quot;)\r\n    }\r\n    docker {\r\n        name &quot;${project.group}/${bootJar.baseName}&quot;\r\n        copySpec.from(tasks.unpack.outputs).into(&quot;dependency&quot;)\r\n        buildArgs([&#39;DEPENDENCY&#39;: &quot;dependency&quot;])\r\n    }\r\n\r\n2- My dependency folder was not being written to\r\n\r\n    ARG DEPENDENCY=target/dependency\r\n\r\ninstead, I located it in another folder, so I changed this property in the Dockerfile:\r\n\r\n    ARG DEPENDENCY=build/dependency\r\n\r\nWith this I got a successful build.\r\n","title":"Spring Boot Maven Plugin - No BOOT-INF directory","body":"<p>I was using Gradle, instead of Maven, and this is what I had to do:</p>\n\n<p>1- In my build.gradle, I added the following properties as defined in <a href=\"https://spring.io/guides/gs/spring-boot-Docker/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot-Docker/</a>.</p>\n\n<pre><code>buildscript {\n    ...\n    dependencies {\n        ...\n        classpath('gradle.plugin.com.palantir.gradle.docker:gradle-docker:0.13.0')\n    }\n}\n\ngroup = 'springio'\n\n...\napply plugin: 'com.palantir.docker'\n\ntask unpack(type: Copy) {\n    dependsOn bootJar\n    from(zipTree(tasks.bootJar.outputs.files.singleFile))\n    into(\"build/dependency\")\n}\ndocker {\n    name \"${project.group}/${bootJar.baseName}\"\n    copySpec.from(tasks.unpack.outputs).into(\"dependency\")\n    buildArgs(['DEPENDENCY': \"dependency\"])\n}\n</code></pre>\n\n<p>2- My dependency folder was not being written to</p>\n\n<pre><code>ARG DEPENDENCY=target/dependency\n</code></pre>\n\n<p>instead, I located it in another folder, so I changed this property in the Dockerfile:</p>\n\n<pre><code>ARG DEPENDENCY=build/dependency\n</code></pre>\n\n<p>With this I got a successful build.</p>\n"},{"tags":[],"owner":{"account_id":19430143,"reputation":65,"user_id":14210786,"display_name":"Stefan Ss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698411257,"creation_date":1698411257,"answer_id":77374323,"question_id":43124852,"body_markdown":"How can we achieve the same result using gradle ? I&#39;ve switched from spring-boot-gradle-plugin 1.2.5 to 1.4.0 and now the jar structure has changed. Does this solution `&lt;layout&gt;MODULE&lt;/layout&gt;` has an equivalent in gradle ?","title":"Spring Boot Maven Plugin - No BOOT-INF directory","body":"<p>How can we achieve the same result using gradle ? I've switched from spring-boot-gradle-plugin 1.2.5 to 1.4.0 and now the jar structure has changed. Does this solution <code>&lt;layout&gt;MODULE&lt;/layout&gt;</code> has an equivalent in gradle ?</p>\n"}],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26486,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43127732,"answer_count":6,"score":13,"last_activity_date":1698411257,"creation_date":1490895679,"question_id":43124852,"body_markdown":"Between version 1.3.8.RELEASE of the spring-boot-maven-plugin and version 1.4.0.RELEASE - there has been a change in the generated package structure (if you extract the uber jar file)\r\n1.3.8.RELEASE com, lib, META-INF and org directories\r\n1.4.0.RELEASE has a BOOT-INF, META-INF and org directories\r\nBasically from 1.4.0.RELEASE onwards - all the classes and libs are in the BOOT-INF directory.\r\nDue to this - when you try to run a Spring Boot project on Amazon Lambda - it says that there is a jar not found as it cannot read the new Spring Boot Uber jar structure\r\n\r\nMy question is - is it possible in the newer versions of the Spring Boot Maven Plugin to get it to generate the uber jar to be the same structure as in version 1.3.9.RELEASE?\r\n\r\nI tried the maven-shade-plugin - but that leads to other issues\r\n\r\nAny help is greatly appreciated\r\n\r\nThanks\r\nDamien","title":"Spring Boot Maven Plugin - No BOOT-INF directory","body":"<p>Between version 1.3.8.RELEASE of the spring-boot-maven-plugin and version 1.4.0.RELEASE - there has been a change in the generated package structure (if you extract the uber jar file)\n1.3.8.RELEASE com, lib, META-INF and org directories\n1.4.0.RELEASE has a BOOT-INF, META-INF and org directories\nBasically from 1.4.0.RELEASE onwards - all the classes and libs are in the BOOT-INF directory.\nDue to this - when you try to run a Spring Boot project on Amazon Lambda - it says that there is a jar not found as it cannot read the new Spring Boot Uber jar structure</p>\n\n<p>My question is - is it possible in the newer versions of the Spring Boot Maven Plugin to get it to generate the uber jar to be the same structure as in version 1.3.9.RELEASE?</p>\n\n<p>I tried the maven-shade-plugin - but that leads to other issues</p>\n\n<p>Any help is greatly appreciated</p>\n\n<p>Thanks\nDamien</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":1792159,"reputation":465,"user_id":1632289,"display_name":"Nicholas Adams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698411224,"creation_date":1698411224,"answer_id":77374320,"question_id":77299667,"body_markdown":"It looks like you are running out of open files in Tomcat. This is causing, presumably, the Riak Java client, to not be able to connect to Riak because it can&#39;t open a socket as it has no free files.\r\n\r\nAs you mentioned that a Tomcat restart seemed to fix the problem, this does suggest that the files limit is the issue. You probably want to either increase the number of open files for your server or make sure that files are closed when possible.\r\n\r\nThe problem is most probably within the application you are running on Tomcat. However, in the offchance that it is the Riak Java client, can you share the Riak Java client and Riak KV version so we can check whether there are any known issues with the combination you are using?","title":"Error : Unable to connect successfully to server. Trying another node...Too many open files","body":"<p>It looks like you are running out of open files in Tomcat. This is causing, presumably, the Riak Java client, to not be able to connect to Riak because it can't open a socket as it has no free files.</p>\n<p>As you mentioned that a Tomcat restart seemed to fix the problem, this does suggest that the files limit is the issue. You probably want to either increase the number of open files for your server or make sure that files are closed when possible.</p>\n<p>The problem is most probably within the application you are running on Tomcat. However, in the offchance that it is the Riak Java client, can you share the Riak Java client and Riak KV version so we can check whether there are any known issues with the combination you are using?</p>\n"}],"owner":{"account_id":16113351,"reputation":11,"user_id":11631077,"display_name":"Ramakanth Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698411224,"creation_date":1697436264,"question_id":77299667,"body_markdown":"We got reports of API failures . While investigating it appears the  servers was logging nothing but errors like: \r\n\r\nLogs :\r\n```\r\n2023-10-05 03:15:14.087+0000|pool-2-thread-1|INFO|AttachmentManagerImpl|Running executeAttachmentScheduler at Thu Oct 05 03:15:14 UTC 2023\r\n2023-10-05 03:15:14.087+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to {{Server}}. Trying another node...Too many open files\r\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to {{Server}}. Trying another node...Too many open files\r\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to  {{Server}}. Trying another node...Too many open files\r\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to  {{Server}} . Trying another node...Too many open files\r\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to  {{Server}}. Trying another node...Too many open files\r\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to  {{Server}}. Trying another node...Too many open files\r\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|WARN|ClusterClientImpl|All nodes in the riak cluster are unreachable!\r\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|INFO|AttachmentManagerImpl|Riak cluset is down, so attachment outbound is not sending.\r\n```\r\ntomcat status before restart : \r\n```\r\n  jws5-tomcat.service - Apache Tomcat Web Application Container\r\n   Loaded: loaded (/usr/lib/systemd/system/jws5-tomcat.service; enabled; vendor preset: disabled)\r\n  Drop-In: /etc/systemd/system/jws5-tomcat.service.d\r\n           ‚îî‚îÄoverride.conf\r\n   Active: active (running) since Mon 2023-09-25 13:14:31 UTC; 1 weeks 2 days ago\r\n Main PID: 64480 (java)\r\n    Tasks: 215\r\n   Memory: 9.4G\r\n   CGroup: /system.slice/jws5-tomcat.service\r\n           ‚îî‚îÄ64480 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.382.b05-1.el7_9.x86_64/jre/bin/java -Dhydra.logdir=/opt/rh/jws5/root/usr/share/tomcat/logs/ -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/heapd...\r\n\r\nOct 05 12:53:35 server[64480]: at java.lang.Thread.run(Thread.java:750)\r\nOct 05 12:53:36 server[64480]: 05-Oct-2023 12:53:36.132 SEVERE [https-jsse-nio-8443-Acceptor] org.apache.tomcat.util.net.Acceptor.run Socket accept failed\r\nOct 05 12:53:36 server[64480]: java.io.IOException: Too many open files\r\nOct 05 12:53:36 server[64480]: at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\r\nOct 05 12:53:36 server[64480]: at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:421)\r\nOct 05 12:53:36 server[64480]: at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:249)\r\nOct 05 12:53:36 server[64480]: at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:546)\r\nOct 05 12:53:36 server[64480]: at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:79)\r\nOct 05 12:53:36 server[64480]: at org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:129)\r\nOct 05 12:53:36 server[64480]: at java.lang.Thread.run(Thread.java:750)\r\n```\r\nI gathered some data from server and restarted tomcat . After restart it appears to be processing things normally again. \r\nKindly help me to find the root cause and fix this in future.","title":"Error : Unable to connect successfully to server. Trying another node...Too many open files","body":"<p>We got reports of API failures . While investigating it appears the  servers was logging nothing but errors like:</p>\n<p>Logs :</p>\n<pre><code>2023-10-05 03:15:14.087+0000|pool-2-thread-1|INFO|AttachmentManagerImpl|Running executeAttachmentScheduler at Thu Oct 05 03:15:14 UTC 2023\n2023-10-05 03:15:14.087+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to {{Server}}. Trying another node...Too many open files\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to {{Server}}. Trying another node...Too many open files\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to  {{Server}}. Trying another node...Too many open files\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to  {{Server}} . Trying another node...Too many open files\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to  {{Server}}. Trying another node...Too many open files\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|ERROR|ClusterClientImpl|Unable to connect successfully to  {{Server}}. Trying another node...Too many open files\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|WARN|ClusterClientImpl|All nodes in the riak cluster are unreachable!\n2023-10-05 03:15:14.088+0000|pool-2-thread-1|INFO|AttachmentManagerImpl|Riak cluset is down, so attachment outbound is not sending.\n</code></pre>\n<p>tomcat status before restart :</p>\n<pre><code>  jws5-tomcat.service - Apache Tomcat Web Application Container\n   Loaded: loaded (/usr/lib/systemd/system/jws5-tomcat.service; enabled; vendor preset: disabled)\n  Drop-In: /etc/systemd/system/jws5-tomcat.service.d\n           ‚îî‚îÄoverride.conf\n   Active: active (running) since Mon 2023-09-25 13:14:31 UTC; 1 weeks 2 days ago\n Main PID: 64480 (java)\n    Tasks: 215\n   Memory: 9.4G\n   CGroup: /system.slice/jws5-tomcat.service\n           ‚îî‚îÄ64480 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.382.b05-1.el7_9.x86_64/jre/bin/java -Dhydra.logdir=/opt/rh/jws5/root/usr/share/tomcat/logs/ -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/heapd...\n\nOct 05 12:53:35 server[64480]: at java.lang.Thread.run(Thread.java:750)\nOct 05 12:53:36 server[64480]: 05-Oct-2023 12:53:36.132 SEVERE [https-jsse-nio-8443-Acceptor] org.apache.tomcat.util.net.Acceptor.run Socket accept failed\nOct 05 12:53:36 server[64480]: java.io.IOException: Too many open files\nOct 05 12:53:36 server[64480]: at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\nOct 05 12:53:36 server[64480]: at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:421)\nOct 05 12:53:36 server[64480]: at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:249)\nOct 05 12:53:36 server[64480]: at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:546)\nOct 05 12:53:36 server[64480]: at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:79)\nOct 05 12:53:36 server[64480]: at org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:129)\nOct 05 12:53:36 server[64480]: at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>I gathered some data from server and restarted tomcat . After restart it appears to be processing things normally again.\nKindly help me to find the root cause and fix this in future.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":15750954,"reputation":315,"user_id":11365529,"display_name":"berkancetin"},"score":0,"creation_date":1560258703,"post_id":55879751,"comment_id":99670638,"body_markdown":"have you found the solution to this problem?","body":"have you found the solution to this problem?"},{"owner":{"account_id":6384435,"reputation":145,"user_id":4952812,"display_name":"Kate"},"score":0,"creation_date":1652618097,"post_id":55879751,"comment_id":127644495,"body_markdown":"Hi, Did you find a solution? I&#39;m working with Eclipse 2022","body":"Hi, Did you find a solution? I&#39;m working with Eclipse 2022"}],"answers":[{"tags":[],"owner":{"account_id":14355952,"reputation":31,"user_id":10369830,"display_name":"S.H."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600677852,"creation_date":1600676688,"answer_id":63988624,"question_id":55879751,"body_markdown":"I was facing the same issue I done the following steps.\r\n1. Open .log file under .metadata of the work-space\r\n2. Open the Thymeleaf template (html) after th: press Ctrl+sapce\r\n3. Check the exception in .log file \r\nIn my case it was groovy runtime exception so I un-install and installed groovy plug-in\r\nRestart eclipse and thymeleaf content assistant stared working.\r\n\r\n\r\n    [ groovy.lang.GroovyRuntimeException: Could not find matching constructor for: org.thymeleaf.extras.eclipse.contentassist.autocomplete.proposals.AttributeProcessorCompletionProposal(org.thymeleaf.extras.eclipse.dialect.xml.ElementProcessor, Integer, Integer, Boolean) ]\r\n\r\n[Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gaZig.png\r\n","title":"Thymeleaf content assistant not working with Spring Boot","body":"<p>I was facing the same issue I done the following steps.</p>\n<ol>\n<li><p>Open .log file under .metadata of the work-space</p>\n</li>\n<li><p>Open the Thymeleaf template (html) after th: press Ctrl+sapce</p>\n</li>\n<li><p>Check the exception in .log file\nIn my case it was groovy runtime exception so I un-install and installed groovy plug-in\nRestart eclipse and thymeleaf content assistant stared working.</p>\n<p>[ groovy.lang.GroovyRuntimeException: Could not find matching constructor for: org.thymeleaf.extras.eclipse.contentassist.autocomplete.proposals.AttributeProcessorCompletionProposal(org.thymeleaf.extras.eclipse.dialect.xml.ElementProcessor, Integer, Integer, Boolean) ]</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/gaZig.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"},{"tags":[],"owner":{"account_id":5987036,"reputation":394,"user_id":4704305,"display_name":"RSG"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1603393942,"creation_date":1603393942,"answer_id":64489016,"question_id":55879751,"body_markdown":"Got same problem but it went away after upgrade Spring Tools 4.","title":"Thymeleaf content assistant not working with Spring Boot","body":"<p>Got same problem but it went away after upgrade Spring Tools 4.</p>\n"},{"tags":[],"owner":{"account_id":13927811,"reputation":3,"user_id":10056674,"display_name":"RVP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630702002,"creation_date":1630651882,"answer_id":69040641,"question_id":55879751,"body_markdown":"I also faced the same, and tried a lot of things, then I saw below error in .log file inside .metadata/ folder:\r\n\r\n```\r\n!ENTRY org.eclipse.equinox.p2.repository 2 0 2021-09-03 12:04:19.422\r\n!MESSAGE Server returned lastModified &lt;= 0 for https://raw.githubusercontent.com/thymeleaf/thymeleaf-extras-eclipse-plugin/update-site/2.1.2/content.jar\r\n```\r\nSo I basically downloaded jar from link:\r\nhttps://raw.githubusercontent.com/thymeleaf/thymeleaf-extras-eclipse-plugin/update-site/2.1.2/content.jar\r\n\r\nand installed this plugin in STS via: Help-&gt; Install New Software -&gt;Add -&gt; &lt;enter name and Select downloaded jar(content.jar) after clicking on Archive&gt;\r\n \r\nI Installed the plugin using above steps and it worked for me.\r\n\r\n[Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6NRqk.png\r\n\r\nAlso one more point I have observed, that it is not working with jdk16, it is working fine with jdk8.","title":"Thymeleaf content assistant not working with Spring Boot","body":"<p>I also faced the same, and tried a lot of things, then I saw below error in .log file inside .metadata/ folder:</p>\n<pre><code>!ENTRY org.eclipse.equinox.p2.repository 2 0 2021-09-03 12:04:19.422\n!MESSAGE Server returned lastModified &lt;= 0 for https://raw.githubusercontent.com/thymeleaf/thymeleaf-extras-eclipse-plugin/update-site/2.1.2/content.jar\n</code></pre>\n<p>So I basically downloaded jar from link:\n<a href=\"https://raw.githubusercontent.com/thymeleaf/thymeleaf-extras-eclipse-plugin/update-site/2.1.2/content.jar\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/thymeleaf/thymeleaf-extras-eclipse-plugin/update-site/2.1.2/content.jar</a></p>\n<p>and installed this plugin in STS via: Help-&gt; Install New Software -&gt;Add -&gt; &lt;enter name and Select downloaded jar(content.jar) after clicking on Archive&gt;</p>\n<p>I Installed the plugin using above steps and it worked for me.</p>\n<p><a href=\"https://i.stack.imgur.com/6NRqk.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n<p>Also one more point I have observed, that it is not working with jdk16, it is working fine with jdk8.</p>\n"},{"tags":[],"owner":{"account_id":25806054,"reputation":1,"user_id":19547572,"display_name":"user19547572"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657785274,"creation_date":1657785274,"answer_id":72977056,"question_id":55879751,"body_markdown":"After appending the following line to the eclipse.ini, adding the Thymeleaf Nature doesn&#39;t fail any more and the content assist works:\r\n\r\n--add-opens=java.base/java.lang=ALL-UNNAMED","title":"Thymeleaf content assistant not working with Spring Boot","body":"<p>After appending the following line to the eclipse.ini, adding the Thymeleaf Nature doesn't fail any more and the content assist works:</p>\n<p>--add-opens=java.base/java.lang=ALL-UNNAMED</p>\n"},{"tags":[],"owner":{"account_id":27957132,"reputation":1,"user_id":21349734,"display_name":"Piyush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678199406,"creation_date":1678199406,"answer_id":75663279,"question_id":55879751,"body_markdown":"It may get fixed in future releases until you can use thymeleaf extension on vscode editor as an alternative.","title":"Thymeleaf content assistant not working with Spring Boot","body":"<p>It may get fixed in future releases until you can use thymeleaf extension on vscode editor as an alternative.</p>\n"}],"owner":{"account_id":2840840,"reputation":283,"user_id":2440495,"display_name":"ArL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4939,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1698411223,"creation_date":1556362093,"question_id":55879751,"body_markdown":"The thymeleaf content assist is not working, when I type th: prefix in the HTML files, only a th:block proposal is showing.\r\n\r\n    &lt;th:block\r\n\r\nI have tried to move up the Thymeleaf Processor Proposals to the top in the STS/elipse settings for HTML files but not work.\r\n\r\nThe project is Spring Boot + Thymeleaf, Gradle snippet:\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.1.4.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;\r\n    \timplementation &quot;org.springframework.boot:spring-boot-devtools&quot;\r\n    }\r\n\r\nI have added html namespace:\r\n\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\nchange the th namespace to another does not work;\r\n\r\nwell, the only working time is that th just replaces the HTML th posotion...\r\n   \r\n\r\n    &lt;table&gt;\r\n    \t\t&lt;tbody&gt;\r\n    \t\t\t&lt;tr th:","title":"Thymeleaf content assistant not working with Spring Boot","body":"<p>The thymeleaf content assist is not working, when I type th: prefix in the HTML files, only a th:block proposal is showing.</p>\n\n<pre><code>&lt;th:block\n</code></pre>\n\n<p>I have tried to move up the Thymeleaf Processor Proposals to the top in the STS/elipse settings for HTML files but not work.</p>\n\n<p>The project is Spring Boot + Thymeleaf, Gradle snippet:</p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.4.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation \"org.springframework.boot:spring-boot-starter-thymeleaf\"\n    implementation \"org.springframework.boot:spring-boot-devtools\"\n}\n</code></pre>\n\n<p>I have added html namespace:</p>\n\n<pre><code>&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n</code></pre>\n\n<p>change the th namespace to another does not work;</p>\n\n<p>well, the only working time is that th just replaces the HTML th posotion...</p>\n\n<pre><code>&lt;table&gt;\n        &lt;tbody&gt;\n            &lt;tr th:\n</code></pre>\n"},{"tags":["java","video","webview","androidx"],"owner":{"account_id":28899694,"reputation":1,"user_id":22134954,"display_name":"Matin Javid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698410919,"creation_date":1698410919,"question_id":77374285,"body_markdown":"I am developing an android browser using webview!\r\nWhen I enter the YouTube site in my browser and click on the full screen video, nothing happens!\r\nI want when I click on the full screen option, the video will be displayed in a separate section, full screen and horizontally!\r\n\r\nImage of my browser\r\n[enter image description here][1]\r\n\r\n\r\nOther people&#39;s browser image\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/20V6u.jpg\r\n  [2]: https://i.stack.imgur.com/OccDC.jpg","title":"Full screen video display in Android webview","body":"<p>I am developing an android browser using webview!\nWhen I enter the YouTube site in my browser and click on the full screen video, nothing happens!\nI want when I click on the full screen option, the video will be displayed in a separate section, full screen and horizontally!</p>\n<p>Image of my browser\n<a href=\"https://i.stack.imgur.com/20V6u.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Other people's browser image\n<a href=\"https://i.stack.imgur.com/OccDC.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","proxy"],"answers":[{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698410711,"creation_date":1698410094,"answer_id":77374194,"question_id":77372570,"body_markdown":"Java&#39;s proxies cannot extend a class, because they already extend `java.lang.reflect.Proxy`. They can only implement interfaces, so you&#39;ll never be able to get a `BigDecimal` instance, only a `Comparable`. If you need more capabilities, you have to look into ByteBuddy, CGLib (this is what Spring uses when it has to proxy concrete classes, but it&#39;s barely maintained these days) or similars libs, they can produce what you&#39;re after.\r\n\r\nHere&#39;s one way to do it using ByteBuddy (note that I&#39;m not exactly familiar with ByteBuddy, so I may have done something wrong):\r\n\r\n```java\r\npublic class Test {\r\n\r\n    //No need to generate a new class for each proxy instance\r\n    private static final Class&lt;? extends BigDecimal&gt; PROXY_TYPE = generateProxy();\r\n\r\n    private static Class&lt;? extends BigDecimal&gt; generateProxy() {\r\n        return new ByteBuddy()\r\n                .subclass(BigDecimal.class)\r\n                .method(ElementMatchers.isEquals())\r\n                .intercept(MethodDelegation.to(Interceptor.class))\r\n                .make()\r\n                .load(Test.class.getClassLoader()) //BigDecimal classloader won&#39;t know where to find Interceptor.class\r\n                .getLoaded();\r\n    }\r\n\r\n    public static class Interceptor {\r\n        @RuntimeType\r\n        public static boolean intercept(@This BigDecimal _this, @AllArguments Object[] args) throws Throwable {\r\n            Object that = args[0];\r\n            return that instanceof BigDecimal &amp;&amp; _this.compareTo((BigDecimal) that) == 0;\r\n        }\r\n    }\r\n\r\n    public static BigDecimal getScaleObliviousProxy(BigDecimal scaleAwareBigDecimal) {\r\n        try {\r\n            return PROXY_TYPE.getConstructor(String.class).newInstance(scaleAwareBigDecimal.toString());\r\n        } catch (ReflectiveOperationException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void testCustomBigDecimal() {\r\n        BigDecimal ten = BigDecimal.TEN;\r\n        BigDecimal x = getScaleObliviousProxy(new BigDecimal(&quot;10.0&quot;));\r\n        assertTrue(x.equals(ten));\r\n    }\r\n}\r\n```","title":"ClassCastException when trying to make a class proxy","body":"<p>Java's proxies cannot extend a class, because they already extend <code>java.lang.reflect.Proxy</code>. They can only implement interfaces, so you'll never be able to get a <code>BigDecimal</code> instance, only a <code>Comparable</code>. If you need more capabilities, you have to look into ByteBuddy, CGLib (this is what Spring uses when it has to proxy concrete classes, but it's barely maintained these days) or similars libs, they can produce what you're after.</p>\n<p>Here's one way to do it using ByteBuddy (note that I'm not exactly familiar with ByteBuddy, so I may have done something wrong):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    //No need to generate a new class for each proxy instance\n    private static final Class&lt;? extends BigDecimal&gt; PROXY_TYPE = generateProxy();\n\n    private static Class&lt;? extends BigDecimal&gt; generateProxy() {\n        return new ByteBuddy()\n                .subclass(BigDecimal.class)\n                .method(ElementMatchers.isEquals())\n                .intercept(MethodDelegation.to(Interceptor.class))\n                .make()\n                .load(Test.class.getClassLoader()) //BigDecimal classloader won't know where to find Interceptor.class\n                .getLoaded();\n    }\n\n    public static class Interceptor {\n        @RuntimeType\n        public static boolean intercept(@This BigDecimal _this, @AllArguments Object[] args) throws Throwable {\n            Object that = args[0];\n            return that instanceof BigDecimal &amp;&amp; _this.compareTo((BigDecimal) that) == 0;\n        }\n    }\n\n    public static BigDecimal getScaleObliviousProxy(BigDecimal scaleAwareBigDecimal) {\n        try {\n            return PROXY_TYPE.getConstructor(String.class).newInstance(scaleAwareBigDecimal.toString());\n        } catch (ReflectiveOperationException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Test\n    public void testCustomBigDecimal() {\n        BigDecimal ten = BigDecimal.TEN;\n        BigDecimal x = getScaleObliviousProxy(new BigDecimal(&quot;10.0&quot;));\n        assertTrue(x.equals(ten));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698410711,"creation_date":1698395072,"question_id":77372570,"body_markdown":"Why doesn&#39;t it work (specifically, the cast)? I thought a proxy extends the original class so it should go smoothly since casting to a superclass is always fine\r\n```\r\npublic class BigDecimalUtils {\r\n    /**\r\n     * Compares two instances of &lt;code&gt;BigDecimal&lt;/code&gt; ignoring scale\r\n     * @return &lt;code&gt;true&lt;/code&gt; if two decimals are equal, &lt;code&gt;false&lt;/code&gt; otherwise\r\n     */\r\n    public static boolean areEqual(BigDecimal firstDecimal, BigDecimal secondDecimal) {\r\n        return firstDecimal.compareTo(secondDecimal) == 0;\r\n    }\r\n\r\n    /**\r\n     * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; proxy with an overriden &lt;code&gt;equals()&lt;/code&gt; method that doesn&#39;t take scale into account\r\n     * @param scaleAwareBigDecimal &lt;code&gt;BigDecimal&lt;/code&gt; that needs to be proxied\r\n     * @return new &lt;code&gt;BigDecimal&lt;/code&gt; proxy instance\r\n     */\r\n    public static BigDecimal getScaleObliviousProxy(BigDecimal scaleAwareBigDecimal) {\r\n        return (BigDecimal) Proxy.newProxyInstance(\r\n                scaleAwareBigDecimal.getClass().getClassLoader(),\r\n                scaleAwareBigDecimal.getClass().getInterfaces(),\r\n                (proxy, method, args) -&gt; {\r\n                    if (isEquals(method)) {\r\n                        BigDecimal bigDecimalEqualsWasCalledOn = (BigDecimal) proxy;\r\n                        BigDecimal bigDecimalPassedToEquals = (BigDecimal) args[0];\r\n                        return areEqual(bigDecimalEqualsWasCalledOn, bigDecimalPassedToEquals);\r\n                    } else {\r\n                        return invokeAsUsual(proxy, method, args);\r\n                    }\r\n                });\r\n    }\r\n\r\n    private static boolean isEquals(Method method) {\r\n        return method.getName().equals(&quot;equals&quot;);\r\n    }\r\n\r\n    private static Object invokeAsUsual(Object proxy, Method method, Object[] args) throws IllegalAccessException, InvocationTargetException {\r\n        return method.invoke(proxy, args);\r\n    }\r\n}\r\n```\r\n```\r\njava.lang.ClassCastException: class jdk.proxy1.$Proxy8 cannot be cast to class java.math.BigDecimal (jdk.proxy1.$Proxy8 is in module jdk.proxy1 of loader &#39;bootstrap&#39;; java.math.BigDecimal is in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\nSuppose, the proxy simply implemented the same interfaces (in this case, `Comparable` since it&#39;s the only interface implemented by `BigDecimal`). I tried to fool it:\r\n```java\r\n    public static BigDecimal getScaleObliviousProxy(BigDecimal scaleAwareBigDecimal) {\r\n        return (BigDecimal) Proxy.newProxyInstance(\r\n                scaleAwareBigDecimal.getClass().getClassLoader(),\r\n                new Class&lt;?&gt;[0], // &quot;You know what, it doesn&#39;t implement anything! Go extend&quot;\r\n                (proxy, method, args) -&gt; {\r\n```\r\nbut I got the same exception\r\n\r\nHow do I solve this problem? Is there any way to force it to use extension-based proxying, not interface-based one?\r\n\r\n**P.S.:** Surely, I can do something like this\r\n```java\r\n    public static BigDecimal getScaleObliviousProxy(BigDecimal scaleAwareBigDecimal) {\r\n        return new BigDecimal(scaleAwareBigDecimal.toString()) {\r\n            @Override\r\n            public boolean equals(Object otherObject) {\r\n                return otherObject instanceof BigDecimal &amp;&amp;\r\n                        areEqual(this, (BigDecimal) otherObject);\r\n            }\r\n        };\r\n    }\r\n```\r\nbut imagine I want to perform some runtime post-processing","title":"ClassCastException when trying to make a class proxy","body":"<p>Why doesn't it work (specifically, the cast)? I thought a proxy extends the original class so it should go smoothly since casting to a superclass is always fine</p>\n<pre><code>public class BigDecimalUtils {\n    /**\n     * Compares two instances of &lt;code&gt;BigDecimal&lt;/code&gt; ignoring scale\n     * @return &lt;code&gt;true&lt;/code&gt; if two decimals are equal, &lt;code&gt;false&lt;/code&gt; otherwise\n     */\n    public static boolean areEqual(BigDecimal firstDecimal, BigDecimal secondDecimal) {\n        return firstDecimal.compareTo(secondDecimal) == 0;\n    }\n\n    /**\n     * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; proxy with an overriden &lt;code&gt;equals()&lt;/code&gt; method that doesn't take scale into account\n     * @param scaleAwareBigDecimal &lt;code&gt;BigDecimal&lt;/code&gt; that needs to be proxied\n     * @return new &lt;code&gt;BigDecimal&lt;/code&gt; proxy instance\n     */\n    public static BigDecimal getScaleObliviousProxy(BigDecimal scaleAwareBigDecimal) {\n        return (BigDecimal) Proxy.newProxyInstance(\n                scaleAwareBigDecimal.getClass().getClassLoader(),\n                scaleAwareBigDecimal.getClass().getInterfaces(),\n                (proxy, method, args) -&gt; {\n                    if (isEquals(method)) {\n                        BigDecimal bigDecimalEqualsWasCalledOn = (BigDecimal) proxy;\n                        BigDecimal bigDecimalPassedToEquals = (BigDecimal) args[0];\n                        return areEqual(bigDecimalEqualsWasCalledOn, bigDecimalPassedToEquals);\n                    } else {\n                        return invokeAsUsual(proxy, method, args);\n                    }\n                });\n    }\n\n    private static boolean isEquals(Method method) {\n        return method.getName().equals(&quot;equals&quot;);\n    }\n\n    private static Object invokeAsUsual(Object proxy, Method method, Object[] args) throws IllegalAccessException, InvocationTargetException {\n        return method.invoke(proxy, args);\n    }\n}\n</code></pre>\n<pre><code>java.lang.ClassCastException: class jdk.proxy1.$Proxy8 cannot be cast to class java.math.BigDecimal (jdk.proxy1.$Proxy8 is in module jdk.proxy1 of loader 'bootstrap'; java.math.BigDecimal is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>Suppose, the proxy simply implemented the same interfaces (in this case, <code>Comparable</code> since it's the only interface implemented by <code>BigDecimal</code>). I tried to fool it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static BigDecimal getScaleObliviousProxy(BigDecimal scaleAwareBigDecimal) {\n        return (BigDecimal) Proxy.newProxyInstance(\n                scaleAwareBigDecimal.getClass().getClassLoader(),\n                new Class&lt;?&gt;[0], // &quot;You know what, it doesn't implement anything! Go extend&quot;\n                (proxy, method, args) -&gt; {\n</code></pre>\n<p>but I got the same exception</p>\n<p>How do I solve this problem? Is there any way to force it to use extension-based proxying, not interface-based one?</p>\n<p><strong>P.S.:</strong> Surely, I can do something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static BigDecimal getScaleObliviousProxy(BigDecimal scaleAwareBigDecimal) {\n        return new BigDecimal(scaleAwareBigDecimal.toString()) {\n            @Override\n            public boolean equals(Object otherObject) {\n                return otherObject instanceof BigDecimal &amp;&amp;\n                        areEqual(this, (BigDecimal) otherObject);\n            }\n        };\n    }\n</code></pre>\n<p>but imagine I want to perform some runtime post-processing</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9991,"page":96,"page_size":100}
