{"items":[{"tags":["java","spring-boot","microservices","spring-cloud-circuitbreaker"],"owner":{"account_id":21279406,"reputation":29,"user_id":15658042,"display_name":"đằng dương"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680233727,"creation_date":1680233727,"question_id":75894657,"body_markdown":"I am building a microservices application using java spring boot. Currently, there are 4 services: Discovery server, api-gateway, portfolio-service, market-data-service. I want to make use of the Circuit Breaker for fault tolerant. However when I create a circuit breaker for this getPortfolio() method and set up the fallbackForGetPortfolio method, this fall back method is not being called. \r\n\r\n    package com.personalfinanceapplication.portfolioservice.controller;\r\n    \r\n    import com.personalfinanceapplication.portfolioservice.dto.PortfolioRequest;\r\n    import com.personalfinanceapplication.portfolioservice.dto.PortfolioResponse;\r\n    import com.personalfinanceapplication.portfolioservice.model.Portfolio;\r\n    import com.personalfinanceapplication.portfolioservice.service.PortfolioService;\r\n    import io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;\r\n    import io.github.resilience4j.retry.annotation.Retry;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;api/portfolio&quot;)\r\n    @RequiredArgsConstructor\r\n    \r\n    \r\n    public class PortfolioController {\r\n        private final PortfolioService portfolioService;\r\n        @PostMapping\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public void createPortfolio(@RequestBody PortfolioRequest portfolioRequest){\r\n            portfolioService.createPortfolio(portfolioRequest);\r\n        }\r\n    \r\n        @GetMapping\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public List&lt;PortfolioResponse&gt; getAllPortfolios(){\r\n            return portfolioService.getAllPortfolios();\r\n        }\r\n    \r\n        @GetMapping(&quot;/{pid}&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        @CircuitBreaker(name=&quot;portfolio-service&quot;, fallbackMethod = &quot;fallbackForGetPortfolio&quot;)\r\n        public Portfolio getPortfolio(@PathVariable String pid){\r\n            return portfolioService.getPortfolio(pid);\r\n        }\r\n    \r\n        public String fallbackForGetPortfolio(String pid, Exception exception){\r\n            // return a default Portfolio object or a cached value\r\n            return &quot;oops, service is down&quot;;\r\n        }\r\n        @PostMapping(&quot;/{pid}/{asset}/{quantity}&quot;)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n    \r\n        public void addNewAssetToPortfolio(@PathVariable String pid, @PathVariable String asset, @PathVariable int quantity){\r\n            portfolioService.addNewAssetToPortfolio(pid, asset, quantity);\r\n    \r\n        }\r\n    }\r\n\r\nThis is my application.properties file \r\n\r\n    eureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n    spring.application.name=portfolio-service\r\n    server.port=8081\r\n    \r\n    resilience4j.circuitbreaker.instances.portfolio-service.register-health-indicator=true\r\n    resilience4j.circuitbreaker.instances.portfolio-service.sliding-window-type=count_based\r\n    resilience4j.circuitbreaker.instances.portfolio-service.sliding-window-size=5\r\n    resilience4j.circuitbreaker.instances.portfolio-service.failure-rate-threshold=40\r\n    resilience4j.circuitbreaker.instances.portfolio-service.slow-call-rate-threshold=40\r\n    resilience4j.circuitbreaker.instances.portfolio-service.permitted-number-of-calls-in-half-open-state=1\r\n    resilience4j.circuitbreaker.instances.portfolio-service.max-wait-duration-in-half-open-state=10s\r\n    resilience4j.circuitbreaker.instances.portfolio-service.wait-duration-in-open-state=10s\r\n    resilience4j.circuitbreaker.instances.portfolio-service.slow-call-duration-threshold=2s\r\n    resilience4j.circuitbreaker.instances.portfolio-service.writable-stack-trace-enabled=true\r\n    resilience4j.circuitbreaker.instances.portfolio-service.automatic-transition-from-open-to-half-open-enabled=true\r\n    \r\n    resilience4j.circuitbreaker.instances.portfolio-service.base-config=shared\r\n\r\n\r\n\r\n","title":"CircuitBreaker fallbackMethod not being called","body":"<p>I am building a microservices application using java spring boot. Currently, there are 4 services: Discovery server, api-gateway, portfolio-service, market-data-service. I want to make use of the Circuit Breaker for fault tolerant. However when I create a circuit breaker for this getPortfolio() method and set up the fallbackForGetPortfolio method, this fall back method is not being called.</p>\n<pre><code>package com.personalfinanceapplication.portfolioservice.controller;\n\nimport com.personalfinanceapplication.portfolioservice.dto.PortfolioRequest;\nimport com.personalfinanceapplication.portfolioservice.dto.PortfolioResponse;\nimport com.personalfinanceapplication.portfolioservice.model.Portfolio;\nimport com.personalfinanceapplication.portfolioservice.service.PortfolioService;\nimport io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;\nimport io.github.resilience4j.retry.annotation.Retry;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;api/portfolio&quot;)\n@RequiredArgsConstructor\n\n\npublic class PortfolioController {\n    private final PortfolioService portfolioService;\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void createPortfolio(@RequestBody PortfolioRequest portfolioRequest){\n        portfolioService.createPortfolio(portfolioRequest);\n    }\n\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;PortfolioResponse&gt; getAllPortfolios(){\n        return portfolioService.getAllPortfolios();\n    }\n\n    @GetMapping(&quot;/{pid}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    @CircuitBreaker(name=&quot;portfolio-service&quot;, fallbackMethod = &quot;fallbackForGetPortfolio&quot;)\n    public Portfolio getPortfolio(@PathVariable String pid){\n        return portfolioService.getPortfolio(pid);\n    }\n\n    public String fallbackForGetPortfolio(String pid, Exception exception){\n        // return a default Portfolio object or a cached value\n        return &quot;oops, service is down&quot;;\n    }\n    @PostMapping(&quot;/{pid}/{asset}/{quantity}&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n\n    public void addNewAssetToPortfolio(@PathVariable String pid, @PathVariable String asset, @PathVariable int quantity){\n        portfolioService.addNewAssetToPortfolio(pid, asset, quantity);\n\n    }\n}\n</code></pre>\n<p>This is my application.properties file</p>\n<pre><code>eureka.client.service-url.defaultZone=http://localhost:8761/eureka\nspring.application.name=portfolio-service\nserver.port=8081\n\nresilience4j.circuitbreaker.instances.portfolio-service.register-health-indicator=true\nresilience4j.circuitbreaker.instances.portfolio-service.sliding-window-type=count_based\nresilience4j.circuitbreaker.instances.portfolio-service.sliding-window-size=5\nresilience4j.circuitbreaker.instances.portfolio-service.failure-rate-threshold=40\nresilience4j.circuitbreaker.instances.portfolio-service.slow-call-rate-threshold=40\nresilience4j.circuitbreaker.instances.portfolio-service.permitted-number-of-calls-in-half-open-state=1\nresilience4j.circuitbreaker.instances.portfolio-service.max-wait-duration-in-half-open-state=10s\nresilience4j.circuitbreaker.instances.portfolio-service.wait-duration-in-open-state=10s\nresilience4j.circuitbreaker.instances.portfolio-service.slow-call-duration-threshold=2s\nresilience4j.circuitbreaker.instances.portfolio-service.writable-stack-trace-enabled=true\nresilience4j.circuitbreaker.instances.portfolio-service.automatic-transition-from-open-to-half-open-enabled=true\n\nresilience4j.circuitbreaker.instances.portfolio-service.base-config=shared\n</code></pre>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1680215022,"post_id":75893410,"comment_id":133865198,"body_markdown":"&quot;Best way&quot; is hard to know without more context.  You might find a tutorial on lambdas and pick what is closest to your use case and ask about that, if you can&#39;t reveal any information.","body":"&quot;Best way&quot; is hard to know without more context.  You might find a tutorial on lambdas and pick what is closest to your use case and ask about that, if you can&#39;t reveal any information."},{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1680215221,"post_id":75893410,"comment_id":133865237,"body_markdown":"You can try to create an object and pass it to the lambda, inside the lambda, you can  change its states","body":"You can try to create an object and pass it to the lambda, inside the lambda, you can  change its states"},{"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"score":0,"creation_date":1680215305,"post_id":75893410,"comment_id":133865255,"body_markdown":"@0xh3xa but the object has to be final right, which means I can&#39;t change it&#39;s states from within lambda right?","body":"@0xh3xa but the object has to be final right, which means I can&#39;t change it&#39;s states from within lambda right?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1680215560,"post_id":75893410,"comment_id":133865294,"body_markdown":"@S.Dan as per [Trying my best&#39;s answer](https://stackoverflow.com/a/75893448/256196), the reference to `AtomicObject` is *effectively final* (it doesn&#39;t change), but its *value* can be changed.","body":"@S.Dan as per <a href=\"https://stackoverflow.com/a/75893448/256196\">Trying my best&#39;s answer</a>, the reference to <code>AtomicObject</code> is <i>effectively final</i> (it doesn&#39;t change), but its <i>value</i> can be changed."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":3,"creation_date":1680215588,"post_id":75893410,"comment_id":133865298,"body_markdown":"Wrong.   An argument of &#39;final Thing thing&#39; simply means the value of &#39;thing&#39; (a reference) cannot be changed. The Thing itself can. As usual, it hinges on understanding the difference between varaibles and objects.","body":"Wrong.   An argument of &#39;final Thing thing&#39; simply means the value of &#39;thing&#39; (a reference) cannot be changed. The Thing itself can. As usual, it hinges on understanding the difference between varaibles and objects."},{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1680216165,"post_id":75893410,"comment_id":133865390,"body_markdown":"@S.Dan The reference object refers to the same object, which will not change, but its internal state can. for example, you have a  class  called `Myobject` that contains `String stage` inside Lambda you can change `stage`","body":"@S.Dan The reference object refers to the same object, which will not change, but its internal state can. for example, you have a  class  called <code>Myobject</code> that contains <code>String stage</code> inside Lambda you can change <code>stage</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680216177,"post_id":75893410,"comment_id":133865391,"body_markdown":"Keep in mind, that when you access `stage` outside of the lambda (say, after `})` line), it will not have the value you may expect.","body":"Keep in mind, that when you access <code>stage</code> outside of the lambda (say, after <code>})</code> line), it will not have the value you may expect."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1680217636,"post_id":75893410,"comment_id":133865567,"body_markdown":"That comment is potentially true, and the reason why more context is needed.  All of the answers (and comments) provide ways to reinvent `Future`, or method return values, or exception processing.  With the expected caveats that it won&#39;t work as well as any of those.  That&#39;s why we need more info on what is being done so we can direct the OP to a proper answer.","body":"That comment is potentially true, and the reason why more context is needed.  All of the answers (and comments) provide ways to reinvent <code>Future</code>, or method return values, or exception processing.  With the expected caveats that it won&#39;t work as well as any of those.  That&#39;s why we need more info on what is being done so we can direct the OP to a proper answer."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680215279,"creation_date":1680215279,"answer_id":75893448,"question_id":75893410,"body_markdown":"You can use Atomic variables:\r\n\r\n    AtomicRefence&lt;String&gt; string = new AtomicReference&lt;&gt;();\r\n    string.set(&quot;Validating&quot;);\r\n    \r\n    // some code \r\n    \r\n    string.get();\r\n\r\nmore info here -&gt; [atomic][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-atomic-variables","title":"How to update a variable from inside lambda","body":"<p>You can use Atomic variables:</p>\n<pre><code>AtomicRefence&lt;String&gt; string = new AtomicReference&lt;&gt;();\nstring.set(&quot;Validating&quot;);\n\n// some code \n\nstring.get();\n</code></pre>\n<p>more info here -&gt; <a href=\"https://www.baeldung.com/java-atomic-variables\" rel=\"nofollow noreferrer\">atomic</a></p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680216384,"creation_date":1680216384,"answer_id":75893534,"question_id":75893410,"body_markdown":"Generally, I recommend you use callbacks\r\n\r\n```\r\ninterface StageListener {\r\n  void onStateChange(String state);\r\n}\r\n```\r\n\r\nThen implement that in some &quot;State Machine&quot; logic. \r\n\r\n```\r\nclass MyStateMachine implements StageListener {\r\n  public void onStateChange(String stage) {\r\n    switch(stage) {\r\n      case &quot;Validating&quot;:\r\n        // some code\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n``` \r\nfinal StageListener machine = new MyStateMachine();\r\n\r\nfoo.example(() -&gt; {\r\n    machine.onStateChange(&quot;Validating&quot;);\r\n    /// some code\r\n    machine.onStateChange(&quot;Creating&quot;);\r\n});\r\n\r\n// This way, you do not accidentally try to use &quot;stage&quot; out here, where the value is not set. \r\n```\r\n\r\nThen, ideally, you use an `enum`, not a plain string. ","title":"How to update a variable from inside lambda","body":"<p>Generally, I recommend you use callbacks</p>\n<pre><code>interface StageListener {\n  void onStateChange(String state);\n}\n</code></pre>\n<p>Then implement that in some &quot;State Machine&quot; logic.</p>\n<pre><code>class MyStateMachine implements StageListener {\n  public void onStateChange(String stage) {\n    switch(stage) {\n      case &quot;Validating&quot;:\n        // some code\n        break;\n      default:\n        break;\n    }\n  }\n}\n</code></pre>\n<pre><code>final StageListener machine = new MyStateMachine();\n\nfoo.example(() -&gt; {\n    machine.onStateChange(&quot;Validating&quot;);\n    /// some code\n    machine.onStateChange(&quot;Creating&quot;);\n});\n\n// This way, you do not accidentally try to use &quot;stage&quot; out here, where the value is not set. \n</code></pre>\n<p>Then, ideally, you use an <code>enum</code>, not a plain string.</p>\n"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680233145,"accepted_answer_id":75893448,"answer_count":2,"score":0,"last_activity_date":1680233203,"creation_date":1680214810,"question_id":75893410,"body_markdown":"I&#39;ve got a function like the following where I need to update a variable from inside lambda (This is the minimal viable example I could think of without giving our private info so it might not make much sense, but the lambda and stage variables are there). \r\n\r\nBut as expected, I can&#39;t update the variable since I get the error `Variable used in lambda expression should be final or effectively final`. What is the best way to update an external variable from within the lambda. The purpose of the variable is to know which stage the process failed in case something goes wrong, which means it can fail without returning anything.\r\n\r\n```\r\n(() -&gt; {\r\n\r\n            stage = &quot;Validating&quot;;\r\n            //do something\r\n            stage = &quot;Creating x&quot;;\r\n            // do something\r\n            stage = &quot;Creating y&quot;;\r\n            // .....\r\n            stage = &quot;finalising&quot;;\r\n            // do something\r\n        })\r\n```\r\n","title":"How to update a variable from inside lambda","body":"<p>I've got a function like the following where I need to update a variable from inside lambda (This is the minimal viable example I could think of without giving our private info so it might not make much sense, but the lambda and stage variables are there).</p>\n<p>But as expected, I can't update the variable since I get the error <code>Variable used in lambda expression should be final or effectively final</code>. What is the best way to update an external variable from within the lambda. The purpose of the variable is to know which stage the process failed in case something goes wrong, which means it can fail without returning anything.</p>\n<pre><code>(() -&gt; {\n\n            stage = &quot;Validating&quot;;\n            //do something\n            stage = &quot;Creating x&quot;;\n            // do something\n            stage = &quot;Creating y&quot;;\n            // .....\n            stage = &quot;finalising&quot;;\n            // do something\n        })\n</code></pre>\n"},{"tags":["java","activemq","broker"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680190527,"post_id":75886990,"comment_id":133859637,"body_markdown":"If you&#39;re using MQTT you might consider using [ActiveMQ Artemis](https://activemq.apache.org/components/artemis/) rather than &quot;Classic&quot; (i.e. 5.x) because, among other things, Artemis has support for MQTT 5 and &quot;Classic&quot; does not. You can find more details in [the documentation](https://activemq.apache.org/components/artemis/documentation/latest/mqtt.html).","body":"If you&#39;re using MQTT you might consider using <a href=\"https://activemq.apache.org/components/artemis/\" rel=\"nofollow noreferrer\">ActiveMQ Artemis</a> rather than &quot;Classic&quot; (i.e. 5.x) because, among other things, Artemis has support for MQTT 5 and &quot;Classic&quot; does not. You can find more details in <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/mqtt.html\" rel=\"nofollow noreferrer\">the documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184489,"creation_date":1680184489,"answer_id":75889178,"question_id":75886990,"body_markdown":"In step #3 you should be using this command:\r\n```\r\nkeytool -genkey -alias client -keyalg RSA -keystore client.ts\r\n```\r\nNotice that this command uses `client.ts` rather than `amq-server.ks`. This will be the truststore that you use on MQTT.fx.\r\n\r\nAlso, if you&#39;re using MQTT with and without SSL you should add the proper `transportConnector` elements and use those from your MQTT application(s), e.g.:\r\n```xml\r\n&lt;transportConnector name=&quot;mqtt+nio&quot; uri=&quot;mqtt+nio://0.0.0.0:1883&quot;/&gt;\r\n&lt;transportConnector name=&quot;mqtt+nio&quot; uri=&quot;mqtt+nio+ssl://0.0.0.0:8883&quot;/&gt;\r\n```\r\nYour `sslContext` should be configured as follows:\r\n```xml\r\n&lt;sslContext&gt;\r\n    &lt;sslContext keyStore=&quot;file:${activemq.conf}/amq-server.ks&quot; keyStorePassword=&quot;password&quot;/&gt;\r\n&lt;/sslContext&gt;\r\n```","title":"Connecting to ActiveMQ &quot;Classic&quot; using SSL with self-signed certs","body":"<p>In step #3 you should be using this command:</p>\n<pre><code>keytool -genkey -alias client -keyalg RSA -keystore client.ts\n</code></pre>\n<p>Notice that this command uses <code>client.ts</code> rather than <code>amq-server.ks</code>. This will be the truststore that you use on MQTT.fx.</p>\n<p>Also, if you're using MQTT with and without SSL you should add the proper <code>transportConnector</code> elements and use those from your MQTT application(s), e.g.:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transportConnector name=&quot;mqtt+nio&quot; uri=&quot;mqtt+nio://0.0.0.0:1883&quot;/&gt;\n&lt;transportConnector name=&quot;mqtt+nio&quot; uri=&quot;mqtt+nio+ssl://0.0.0.0:8883&quot;/&gt;\n</code></pre>\n<p>Your <code>sslContext</code> should be configured as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sslContext&gt;\n    &lt;sslContext keyStore=&quot;file:${activemq.conf}/amq-server.ks&quot; keyStorePassword=&quot;password&quot;/&gt;\n&lt;/sslContext&gt;\n</code></pre>\n"}],"owner":{"account_id":28166985,"reputation":1,"user_id":21526050,"display_name":"activemq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680232939,"creation_date":1680171791,"question_id":75886990,"body_markdown":"How can I setup SSL on ActiveMQ server?\r\n\r\nI followed [this tutorial][1] to create certificate for ActiveMQ. \r\n\r\n 1. Using keytool, create a certificate for the broker:\r\n    ```\r\n    keytool -genkey -alias broker -keyalg RSA -keystore amq-server.ks\r\n    ```\r\n 2. Export the broker’s certificate so it can be shared with clients:\r\n    ```\r\n    keytool -export -alias broker -keystore broker.ks -file amq- server_cert\r\n    ```\r\n 3. Create a certificate/keystore for the client:\r\n    ```\r\n    keytool -genkey -alias client -keyalg RSA -keystore amq-server.ks\r\n    ```\r\n 4. Create a truststore for the client, and import the broker’s certificate. This establishes that client &quot;trusts&quot; the broker:\r\n    ```\r\n    keytool -import -alias broker -keystore client.ts -file amq-server_cert\r\n    ```\r\nI have Ubuntu Server with ActiveMQ and Windows Machine with MQTT.fx.\r\n\r\nI added that setting in ActiveMQ config:\r\n```xml\r\n&lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:1883?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n&lt;transportConnector name=&quot;ssl&quot; uri=&quot;ssl://0.0.0.0:61714?transport.enabledProtocols=TLSv1.2&quot;/`\r\n```\r\nI installed now on a machine MQTT.fx, and I&#39;m trying to connect over SSL. I created 2 configs - one with a certificate and other without a certificate. Connecting works without certificate. Connection with certificate does not work. I have selected the server certificate or the client certificate does not work.\r\n\r\nIf I add this setting to ActiveMQ config then nothing works anymore \r\n```xml\r\n&lt;sslContext&gt; \r\n   &lt;sslContext keyStore=&quot;file:${activemq.base}/conf/amq-server.ks&quot; \r\n               keyStorePassword=&quot;password&quot;\r\n               trustStore=&quot;file:${activemq.base}/conf/amq-server.ts&quot;\r\n               trustStorePassword=&quot;password&quot;/&gt; \r\n&lt;/sslContext&gt;\r\n```\r\nI have tried all combinations does not work. \r\n\r\nCan someone help me? How can I just set up SSL on ActiveMQ and communicate with certificate. Maybe one way SSL?\r\n\r\n\r\n  [1]: https://activemq.apache.org/how-do-i-use-ssl","title":"Connecting to ActiveMQ &quot;Classic&quot; using SSL with self-signed certs","body":"<p>How can I setup SSL on ActiveMQ server?</p>\n<p>I followed <a href=\"https://activemq.apache.org/how-do-i-use-ssl\" rel=\"nofollow noreferrer\">this tutorial</a> to create certificate for ActiveMQ.</p>\n<ol>\n<li>Using keytool, create a certificate for the broker:\n<pre><code>keytool -genkey -alias broker -keyalg RSA -keystore amq-server.ks\n</code></pre>\n</li>\n<li>Export the broker’s certificate so it can be shared with clients:\n<pre><code>keytool -export -alias broker -keystore broker.ks -file amq- server_cert\n</code></pre>\n</li>\n<li>Create a certificate/keystore for the client:\n<pre><code>keytool -genkey -alias client -keyalg RSA -keystore amq-server.ks\n</code></pre>\n</li>\n<li>Create a truststore for the client, and import the broker’s certificate. This establishes that client &quot;trusts&quot; the broker:\n<pre><code>keytool -import -alias broker -keystore client.ts -file amq-server_cert\n</code></pre>\n</li>\n</ol>\n<p>I have Ubuntu Server with ActiveMQ and Windows Machine with MQTT.fx.</p>\n<p>I added that setting in ActiveMQ config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:1883?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\n&lt;transportConnector name=&quot;ssl&quot; uri=&quot;ssl://0.0.0.0:61714?transport.enabledProtocols=TLSv1.2&quot;/`\n</code></pre>\n<p>I installed now on a machine MQTT.fx, and I'm trying to connect over SSL. I created 2 configs - one with a certificate and other without a certificate. Connecting works without certificate. Connection with certificate does not work. I have selected the server certificate or the client certificate does not work.</p>\n<p>If I add this setting to ActiveMQ config then nothing works anymore</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sslContext&gt; \n   &lt;sslContext keyStore=&quot;file:${activemq.base}/conf/amq-server.ks&quot; \n               keyStorePassword=&quot;password&quot;\n               trustStore=&quot;file:${activemq.base}/conf/amq-server.ts&quot;\n               trustStorePassword=&quot;password&quot;/&gt; \n&lt;/sslContext&gt;\n</code></pre>\n<p>I have tried all combinations does not work.</p>\n<p>Can someone help me? How can I just set up SSL on ActiveMQ and communicate with certificate. Maybe one way SSL?</p>\n"},{"tags":["java","android","serversocket","urlconnection"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680253615,"post_id":75891536,"comment_id":133870416,"body_markdown":"How is your setup? Where is the server running? On which device is the client running.","body":"How is your setup? Where is the server running? On which device is the client running."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680254032,"post_id":75891536,"comment_id":133870502,"body_markdown":"`inputStream = new BufferedInputStream(socket.getInputStream());\n                    byteArrayOS = new ByteArrayOutputStream(initialArraySize);` Place that code before the while loop.","body":"<code>inputStream = new BufferedInputStream(socket.getInputStream());                     byteArrayOS = new ByteArrayOutputStream(initialArraySize);</code> Place that code before the while loop."}],"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680232417,"creation_date":1680199385,"question_id":75891536,"body_markdown":"The following classes are running as threads, invoked from a fairly empty Android application (i.e., the app is really only being used to spawn the threads and then post a message to URLSender). The observed behavior is that the connection is made (i.e., a call to `socket.isConnected()` returns true), but `while(socket.isConnected){}` simply loops without any content ever being received on `inputStream.read()`, so `while (bytesRead != -1){}` is never entered.\r\n\r\n**Add Note:**\r\n\r\nI moved `ServerSocketHost` and `URLSender` into a vanilla Java console driver, and the behavior appears to be the same. So, the issue appears to be the actual transfer from the `URLConnection` sender to the `ServerSocket` receiver.\r\n\r\nAny suggestions?\r\n\r\nImplementation of the server receiving communication from the client...\r\n```\r\npublic class ServerSocketHost implements Runnable {\r\n\r\n    public  static final int         HOST_PORT   = 45000;\r\n    public  static final byte[]      HOST_IP     = new byte[]{127, 0, 0, 1};\r\n    private static InetSocketAddress hostAddress = null;\r\n\r\n    private static final int DEFAULT_TIMEOUT = 5000;\r\n    private static final int CONNECT_BACKLOG = 50;\r\n\r\n    private boolean      okToRun      = true;\r\n    private ServerSocket serverSocket = null;\r\n    private int          timeoutValue = -1;\r\n\r\n    public ServerSocketHost() throws IOException {\r\n        this(DEFAULT_TIMEOUT);\r\n    }\r\n\r\n    public ServerSocketHost(int timeoutValue) throws IOException {\r\n        this.timeoutValue = timeoutValue;\r\n        getServerAddress();\r\n        openServerSocket();\r\n    }\r\n\r\n    private void openServerSocket() throws IOException {\r\n        serverSocket = new ServerSocket(HOST_PORT);\r\n        serverSocket.setSoTimeout(timeoutValue);\r\n    }\r\n\r\n    public void shutdown() {\r\n        /* will cause run() to terminate execution on evaluation of &quot;while (okToRun)&quot;, either after\r\n             input has been read or a timeout has occurred\r\n         */\r\n        okToRun = false;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        BufferedInputStream   inputStream      = null;\r\n        ByteArrayOutputStream byteArrayOS      = null;\r\n        int                   initialArraySize = 1024;\r\n        byte[]                byteInput        = new byte[8]; // &#39;8&#39; is an arbitrary number\r\n        int                   bytesRead        = -1;\r\n\r\n        while (okToRun) {\r\n            Socket socket = null;\r\n            try {\r\n                if(serverSocket.isClosed()) {\r\n                    // ServerSocket is closed on timeout, so reopen if needed\r\n                    openServerSocket();\r\n                }\r\n\r\n                socket = serverSocket.accept();\r\n                while (socket.isConnected()) {\r\n                    inputStream = new BufferedInputStream(socket.getInputStream());\r\n                    byteArrayOS = new ByteArrayOutputStream(initialArraySize);\r\n                    /* BEGIN CONSTRAINED IMPLEMENTATION\r\n                        the following implementation (using InputStream.read() vice readAllBytes()) is\r\n                      constrained by the target Android API. InputStream.readAllBytes() is not supported\r\n                      until API 33, and this implementation targets API 29.\r\n                     */\r\n                    bytesRead = inputStream.read(byteInput);\r\n                    while (bytesRead != -1) {\r\n                        byteArrayOS.write(byteInput, 0, bytesRead);\r\n                        bytesRead = inputStream.read(byteInput);\r\n                    }\r\n                    byteArrayOS.flush();\r\n                }\r\n            } catch(IOException e) {\r\n                // should handle the exception, but for now just swallow it\r\n                e.printStackTrace();\r\n            } \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nImplementation of the client, which is posting messages to an internal queue and then posting those messages to the server/host...\r\n```\r\npublic class URLSender implements Runnable {\r\n\r\n    private boolean           okToRun          = true;\r\n    private URL               hostURL          = null;\r\n    private List&lt;String&gt;      synchronizedList = null;\r\n\r\n    public URLSender() throws MalformedURLException {\r\n        this.hostURL          = new URL( &quot;http://127.0.0.1:45000&quot;);\r\n        this.synchronizedList = Collections.synchronizedList(new LinkedList&lt;String&gt;());\r\n    }\r\n\r\n    public void shutdown() {\r\n        okToRun = false;\r\n    }\r\n\r\n    public void postMessage(String message) {\r\n        synchronized (synchronizedList) {\r\n            synchronizedList.add(message + &quot; (1)\\n&quot;);\r\n            synchronizedList.add(message + &quot; (2)\\n&quot;);\r\n            synchronizedList.add(message + &quot; (3)\\n&quot;);\r\n            synchronizedList.notify();\r\n        }\r\n    }\r\n\r\n    public void run() {\r\n        URLConnection      urlConnection      = null;\r\n        OutputStreamWriter outputStreamWriter = null;\r\n\r\n        try {\r\n            while (okToRun) {\r\n                if (synchronizedList.isEmpty()) {\r\n                    synchronized (synchronizedList) {\r\n                        synchronizedList.wait();\r\n                    }\r\n                }\r\n\r\n                try {\r\n                    urlConnection = hostURL.openConnection();\r\n                    urlConnection.setDoOutput(true);\r\n                    outputStreamWriter = new OutputStreamWriter(urlConnection.getOutputStream());\r\n                } catch(IOException e) {\r\n                    // should handle the exception, but for now just swallow it\r\n                    e.printStackTrace();\r\n                }\r\n                while (synchronizedList.size() &gt; 0) {\r\n                    try {\r\n                        String localMessage = synchronizedList.remove(0);\r\n                        byte[] bytes2write  = localMessage.getBytes();\r\n\r\n                        outputStreamWriter.write(localMessage);\r\n                        outputStreamWriter.flush();\r\n                    } catch (MalformedURLException e) {\r\n                        // ?? okay to swallow this exception, as it should have been thrown in constructor\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        // should handle the exception, but for now just swallow it\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                try {\r\n                    outputStreamWriter.close();\r\n                    ((HttpURLConnection) urlConnection).disconnect();\r\n                } catch(IOException e) {\r\n                    // should handle the exception, but for now just swallow it\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } catch(InterruptedException e) {\r\n            // swallow the exception (i.e., assume thread is being stopped)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAndroid manifest, with entries to support cleartext using HTTP\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n\r\n    &lt;!--\r\n          Entries &quot;android:networkSecurityConfig&quot; and &quot;android:usesCleartextTraffic&quot; added to\r\n          support use of http communications\r\n      --&gt;\r\n    &lt;application\r\n        android:networkSecurityConfig=&quot;@xml/xml_security_config&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.URLConnect&quot;\r\n        tools:targetApi=&quot;29&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.URLConnect.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nAssociated network-security-config...\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n    &lt;!-- * * *  FOR DEMONSTRATION PURPOSES ONLY  * * *\r\n      Network configuration exists solely to allow the URL socket to be used with plain HTTP\r\n      protocol. In a real-world implementation, communication using HTTPS protocol should be\r\n      employed, with appropriate certificates.\r\n      --&gt;\r\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;&lt;/base-config&gt;\r\n\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;127.0.0.1&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n&lt;/network-security-config&gt;\r\n```","title":"Unable to receive content from URLConnection client on ServerSocket host in Android","body":"<p>The following classes are running as threads, invoked from a fairly empty Android application (i.e., the app is really only being used to spawn the threads and then post a message to URLSender). The observed behavior is that the connection is made (i.e., a call to <code>socket.isConnected()</code> returns true), but <code>while(socket.isConnected){}</code> simply loops without any content ever being received on <code>inputStream.read()</code>, so <code>while (bytesRead != -1){}</code> is never entered.</p>\n<p><strong>Add Note:</strong></p>\n<p>I moved <code>ServerSocketHost</code> and <code>URLSender</code> into a vanilla Java console driver, and the behavior appears to be the same. So, the issue appears to be the actual transfer from the <code>URLConnection</code> sender to the <code>ServerSocket</code> receiver.</p>\n<p>Any suggestions?</p>\n<p>Implementation of the server receiving communication from the client...</p>\n<pre><code>public class ServerSocketHost implements Runnable {\n\n    public  static final int         HOST_PORT   = 45000;\n    public  static final byte[]      HOST_IP     = new byte[]{127, 0, 0, 1};\n    private static InetSocketAddress hostAddress = null;\n\n    private static final int DEFAULT_TIMEOUT = 5000;\n    private static final int CONNECT_BACKLOG = 50;\n\n    private boolean      okToRun      = true;\n    private ServerSocket serverSocket = null;\n    private int          timeoutValue = -1;\n\n    public ServerSocketHost() throws IOException {\n        this(DEFAULT_TIMEOUT);\n    }\n\n    public ServerSocketHost(int timeoutValue) throws IOException {\n        this.timeoutValue = timeoutValue;\n        getServerAddress();\n        openServerSocket();\n    }\n\n    private void openServerSocket() throws IOException {\n        serverSocket = new ServerSocket(HOST_PORT);\n        serverSocket.setSoTimeout(timeoutValue);\n    }\n\n    public void shutdown() {\n        /* will cause run() to terminate execution on evaluation of &quot;while (okToRun)&quot;, either after\n             input has been read or a timeout has occurred\n         */\n        okToRun = false;\n    }\n\n    @Override\n    public void run() {\n        BufferedInputStream   inputStream      = null;\n        ByteArrayOutputStream byteArrayOS      = null;\n        int                   initialArraySize = 1024;\n        byte[]                byteInput        = new byte[8]; // '8' is an arbitrary number\n        int                   bytesRead        = -1;\n\n        while (okToRun) {\n            Socket socket = null;\n            try {\n                if(serverSocket.isClosed()) {\n                    // ServerSocket is closed on timeout, so reopen if needed\n                    openServerSocket();\n                }\n\n                socket = serverSocket.accept();\n                while (socket.isConnected()) {\n                    inputStream = new BufferedInputStream(socket.getInputStream());\n                    byteArrayOS = new ByteArrayOutputStream(initialArraySize);\n                    /* BEGIN CONSTRAINED IMPLEMENTATION\n                        the following implementation (using InputStream.read() vice readAllBytes()) is\n                      constrained by the target Android API. InputStream.readAllBytes() is not supported\n                      until API 33, and this implementation targets API 29.\n                     */\n                    bytesRead = inputStream.read(byteInput);\n                    while (bytesRead != -1) {\n                        byteArrayOS.write(byteInput, 0, bytesRead);\n                        bytesRead = inputStream.read(byteInput);\n                    }\n                    byteArrayOS.flush();\n                }\n            } catch(IOException e) {\n                // should handle the exception, but for now just swallow it\n                e.printStackTrace();\n            } \n        }\n    }\n}\n</code></pre>\n<p>Implementation of the client, which is posting messages to an internal queue and then posting those messages to the server/host...</p>\n<pre><code>public class URLSender implements Runnable {\n\n    private boolean           okToRun          = true;\n    private URL               hostURL          = null;\n    private List&lt;String&gt;      synchronizedList = null;\n\n    public URLSender() throws MalformedURLException {\n        this.hostURL          = new URL( &quot;http://127.0.0.1:45000&quot;);\n        this.synchronizedList = Collections.synchronizedList(new LinkedList&lt;String&gt;());\n    }\n\n    public void shutdown() {\n        okToRun = false;\n    }\n\n    public void postMessage(String message) {\n        synchronized (synchronizedList) {\n            synchronizedList.add(message + &quot; (1)\\n&quot;);\n            synchronizedList.add(message + &quot; (2)\\n&quot;);\n            synchronizedList.add(message + &quot; (3)\\n&quot;);\n            synchronizedList.notify();\n        }\n    }\n\n    public void run() {\n        URLConnection      urlConnection      = null;\n        OutputStreamWriter outputStreamWriter = null;\n\n        try {\n            while (okToRun) {\n                if (synchronizedList.isEmpty()) {\n                    synchronized (synchronizedList) {\n                        synchronizedList.wait();\n                    }\n                }\n\n                try {\n                    urlConnection = hostURL.openConnection();\n                    urlConnection.setDoOutput(true);\n                    outputStreamWriter = new OutputStreamWriter(urlConnection.getOutputStream());\n                } catch(IOException e) {\n                    // should handle the exception, but for now just swallow it\n                    e.printStackTrace();\n                }\n                while (synchronizedList.size() &gt; 0) {\n                    try {\n                        String localMessage = synchronizedList.remove(0);\n                        byte[] bytes2write  = localMessage.getBytes();\n\n                        outputStreamWriter.write(localMessage);\n                        outputStreamWriter.flush();\n                    } catch (MalformedURLException e) {\n                        // ?? okay to swallow this exception, as it should have been thrown in constructor\n                        e.printStackTrace();\n                    } catch (IOException e) {\n                        // should handle the exception, but for now just swallow it\n                        e.printStackTrace();\n                    }\n                }\n                try {\n                    outputStreamWriter.close();\n                    ((HttpURLConnection) urlConnection).disconnect();\n                } catch(IOException e) {\n                    // should handle the exception, but for now just swallow it\n                    e.printStackTrace();\n                }\n            }\n        } catch(InterruptedException e) {\n            // swallow the exception (i.e., assume thread is being stopped)\n        }\n    }\n}\n</code></pre>\n<p>Android manifest, with entries to support cleartext using HTTP</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n\n    &lt;!--\n          Entries &quot;android:networkSecurityConfig&quot; and &quot;android:usesCleartextTraffic&quot; added to\n          support use of http communications\n      --&gt;\n    &lt;application\n        android:networkSecurityConfig=&quot;@xml/xml_security_config&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.URLConnect&quot;\n        tools:targetApi=&quot;29&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.URLConnect.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Associated network-security-config...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;!-- * * *  FOR DEMONSTRATION PURPOSES ONLY  * * *\n      Network configuration exists solely to allow the URL socket to be used with plain HTTP\n      protocol. In a real-world implementation, communication using HTTPS protocol should be\n      employed, with appropriate certificates.\n      --&gt;\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;&lt;/base-config&gt;\n\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;127.0.0.1&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":22788286,"reputation":26,"user_id":16943027,"display_name":"Yu seafee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680232340,"creation_date":1680232278,"answer_id":75894561,"question_id":75894191,"body_markdown":"In order to debug the response that comes back before it is converted into Response.class, you can add a .log() operator to your reactive stream. This will log the events (such as requests, responses, etc.) that occur during the stream&#39;s execution. You can then set a breakpoint after the .log() operator and inspect the contents of the response.\r\n\r\nHere&#39;s an updated version of your method with the .log() operator added:\r\n\r\n    public Mono&lt;Response&gt; sendFile(final MultipartFile multipartFile) {\r\n        MultiValueMap&lt;String, Object&gt; multiValueMap = new LinkedMultiValueMap&lt;&gt;();\r\n        multiValueMap.add(&quot;file&quot;, new ByteArrayResource(multipartFile.getBytes()));\r\n    return webClient.post()\r\n            .uri(new URI(&quot;someurl&quot;))\r\n            .body(BodyInserters.fromMultipartData(multiValueMap))\r\n            .retrieve()\r\n            .bodyToMono(Response.class)\r\n            .log(); // Add the log() operator here\r\n}\r\n\r\n After running this code in debug mode and hitting the breakpoint, you can inspect the contents of the response by hovering over the response variable or expanding it in the variables tab of the debugger. You can also use the Evaluate Expression feature in IntelliJ to print out the contents of the response using something like response.block().","title":"How can I debug the content of the response of WebClient in IntelliJ","body":"<p>In order to debug the response that comes back before it is converted into Response.class, you can add a .log() operator to your reactive stream. This will log the events (such as requests, responses, etc.) that occur during the stream's execution. You can then set a breakpoint after the .log() operator and inspect the contents of the response.</p>\n<p>Here's an updated version of your method with the .log() operator added:</p>\n<pre><code>public Mono&lt;Response&gt; sendFile(final MultipartFile multipartFile) {\n    MultiValueMap&lt;String, Object&gt; multiValueMap = new LinkedMultiValueMap&lt;&gt;();\n    multiValueMap.add(&quot;file&quot;, new ByteArrayResource(multipartFile.getBytes()));\nreturn webClient.post()\n        .uri(new URI(&quot;someurl&quot;))\n        .body(BodyInserters.fromMultipartData(multiValueMap))\n        .retrieve()\n        .bodyToMono(Response.class)\n        .log(); // Add the log() operator here\n</code></pre>\n<p>}</p>\n<p>After running this code in debug mode and hitting the breakpoint, you can inspect the contents of the response by hovering over the response variable or expanding it in the variables tab of the debugger. You can also use the Evaluate Expression feature in IntelliJ to print out the contents of the response using something like response.block().</p>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75894561,"answer_count":1,"score":1,"last_activity_date":1680232340,"creation_date":1680226883,"question_id":75894191,"body_markdown":"I have the following method:\r\n\r\n    public Mono&lt;Response&gt; sendFile(final MultipartFile multipartFile) {\r\n        Mono&lt;Response&gt; response = webClient.post()\r\n                    .uri(new URI(&quot;someurl&quot;))\r\n                    .body(BodyInserters.fromMultipartData(multiValueMap))\r\n                    .retrieve()\r\n                    .bodyToMono(Response.class);\r\n        return response;\r\n    }\r\n\r\nand I want to put a break point and debug the response that comes back before webClient converts the response into a Mono&lt;Response&gt;. I am using IntelliJ but not sure how to see the response that comes back before it tries to convert into the `Response.class`.","title":"How can I debug the content of the response of WebClient in IntelliJ","body":"<p>I have the following method:</p>\n<pre><code>public Mono&lt;Response&gt; sendFile(final MultipartFile multipartFile) {\n    Mono&lt;Response&gt; response = webClient.post()\n                .uri(new URI(&quot;someurl&quot;))\n                .body(BodyInserters.fromMultipartData(multiValueMap))\n                .retrieve()\n                .bodyToMono(Response.class);\n    return response;\n}\n</code></pre>\n<p>and I want to put a break point and debug the response that comes back before webClient converts the response into a Mono. I am using IntelliJ but not sure how to see the response that comes back before it tries to convert into the <code>Response.class</code>.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1422459947,"post_id":28196074,"comment_id":44759445,"body_markdown":"have you seen http://stackoverflow.com/questions/8693991/java-ignore-expired-ssl-sertificate/8694377#8694377 ?","body":"have you seen <a href=\"http://stackoverflow.com/questions/8693991/java-ignore-expired-ssl-sertificate/8694377#8694377\" title=\"java ignore expired ssl sertificate\">stackoverflow.com/questions/8693991/&hellip;</a> ?"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1422507657,"post_id":28196074,"comment_id":44779709,"body_markdown":"@EpicPandaForce, Yes but how can I verify certificate. Means the one which is came from server with the one that I have.","body":"@EpicPandaForce, Yes but how can I verify certificate. Means the one which is came from server with the one that I have."}],"answers":[{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1423210558,"creation_date":1422521789,"answer_id":28210524,"question_id":28196074,"body_markdown":"Technically, seeing as you are using Apache HttpClient 4.x, a simpler solution would be the following: \r\n\r\n        SSLContext sslcontext = null;\r\n        try {\r\n            SSLContextBuilder sslContextBuilder = SSLContexts.custom()\r\n                .loadTrustMaterial(trustStore, new TrustSelfSignedStrategy());\r\n            sslcontext = sslContextBuilder.build();\r\n\r\nWhere `trustStore` is initialized like this\r\n\r\n        KeyStore keyStore = null;\r\n        try {\r\n            keyStore = KeyStore.getInstance(&quot;BKS&quot;, BouncyCastleProvider.PROVIDER_NAME); //you can use JKS if that is what you have\r\n            InputStream inputStream = new File(&quot;pathtoyourkeystore&quot;);\r\n            try {\r\n                keyStore.load(inputStream, &quot;password&quot;.toCharArray());\r\n            } finally {\r\n                inputStream.close();\r\n            }\r\n        } catch(Exception e) {\r\n            System.out.println(&quot;Loading keystore failed.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return keyStore;\r\n    }\r\n\r\nAnd then create the HttpClient\r\n\r\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);\r\n    httpclient = HttpClients\r\n                    .custom()\r\n                    .setSSLSocketFactory(sslsf).build();\r\n\r\n\r\nEDIT: Exact code for me was this:\r\n\r\n            SSLContextBuilder sslContextBuilder = SSLContexts.custom()\r\n                .loadTrustMaterial(trustStore, new TrustSelfSignedStrategy());\r\n            sslcontext = sslContextBuilder.build();\r\n\r\n            SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\r\n                sslcontext, new String[] {&quot;TLSv1&quot;}, null,\r\n                SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER\r\n            );\r\n            httpclient = HttpClients\r\n                .custom()\r\n                .setHostnameVerifier(SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER)\r\n                .setSSLSocketFactory(sslsf).build();","title":"Peer not authenticated in java","body":"<p>Technically, seeing as you are using Apache HttpClient 4.x, a simpler solution would be the following: </p>\n\n<pre><code>    SSLContext sslcontext = null;\n    try {\n        SSLContextBuilder sslContextBuilder = SSLContexts.custom()\n            .loadTrustMaterial(trustStore, new TrustSelfSignedStrategy());\n        sslcontext = sslContextBuilder.build();\n</code></pre>\n\n<p>Where <code>trustStore</code> is initialized like this</p>\n\n<pre><code>    KeyStore keyStore = null;\n    try {\n        keyStore = KeyStore.getInstance(\"BKS\", BouncyCastleProvider.PROVIDER_NAME); //you can use JKS if that is what you have\n        InputStream inputStream = new File(\"pathtoyourkeystore\");\n        try {\n            keyStore.load(inputStream, \"password\".toCharArray());\n        } finally {\n            inputStream.close();\n        }\n    } catch(Exception e) {\n        System.out.println(\"Loading keystore failed.\");\n        e.printStackTrace();\n    }\n    return keyStore;\n}\n</code></pre>\n\n<p>And then create the HttpClient</p>\n\n<pre><code>SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);\nhttpclient = HttpClients\n                .custom()\n                .setSSLSocketFactory(sslsf).build();\n</code></pre>\n\n<p>EDIT: Exact code for me was this:</p>\n\n<pre><code>        SSLContextBuilder sslContextBuilder = SSLContexts.custom()\n            .loadTrustMaterial(trustStore, new TrustSelfSignedStrategy());\n        sslcontext = sslContextBuilder.build();\n\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\n            sslcontext, new String[] {\"TLSv1\"}, null,\n            SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER\n        );\n        httpclient = HttpClients\n            .custom()\n            .setHostnameVerifier(SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER)\n            .setSSLSocketFactory(sslsf).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8864769,"reputation":81,"user_id":6620233,"display_name":"Victor Lv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680231869,"creation_date":1680231869,"answer_id":75894531,"question_id":28196074,"body_markdown":"I fixed it by this setting:\r\n\r\n    final SSLConnectionSocketFactory sslsf;\r\n\r\n        try {\r\n            TrustStrategy acceptingTrustStrategy = (cert, authType) -&gt; true;\r\n            SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\r\n            sslsf = new SSLConnectionSocketFactory(sslContext,\r\n                    NoopHostnameVerifier.INSTANCE);\r\n        } catch (NoSuchAlgorithmException | KeyStoreException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (KeyManagementException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        final Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                .register(&quot;http&quot;, new PlainConnectionSocketFactory())\r\n                .register(&quot;https&quot;, sslsf)\r\n                .build();","title":"Peer not authenticated in java","body":"<p>I fixed it by this setting:</p>\n<pre><code>final SSLConnectionSocketFactory sslsf;\n\n    try {\n        TrustStrategy acceptingTrustStrategy = (cert, authType) -&gt; true;\n        SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\n        sslsf = new SSLConnectionSocketFactory(sslContext,\n                NoopHostnameVerifier.INSTANCE);\n    } catch (NoSuchAlgorithmException | KeyStoreException e) {\n        throw new RuntimeException(e);\n    } catch (KeyManagementException e) {\n        throw new RuntimeException(e);\n    }\n    final Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n            .register(&quot;http&quot;, new PlainConnectionSocketFactory())\n            .register(&quot;https&quot;, sslsf)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12515,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":28210524,"answer_count":2,"score":2,"last_activity_date":1680231869,"creation_date":1422458916,"question_id":28196074,"body_markdown":"I have gone to almost all the post related to this exception. Actually my problem is I have an java application through which I am hitting an URL and getting response from it.\r\n\r\ncode to hit URL is :\r\n\r\n    HttpGet getRequest = new HttpGet(&quot;https://urlto.esb.com&quot;);\r\n    HttpResponse httpResponse = null;\t\t\r\n\tDefaultHttpClient httpClient = new DefaultHttpClient();\r\n\thttpResponse = httpClient.execute(getRequest); \r\n\r\nHere I am getting `javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated`\r\n\r\nSo after some Google search I come to know that I can import certificate in keystore of java where the application is running. so I imported certificate in keystore and this code is working. but i don&#39;t want this solution so after some more searching I come to know that I can use `TrustManager` for the same thing without importing certificate into keystore. So I have written code like:\r\n\r\n    @Test\r\n\t    public void withTrustManeger() throws Exception {\r\n\t        DefaultHttpClient httpclient = buildhttpClient();\r\n\t        HttpGet httpGet = new HttpGet(&quot;https://urlto.esb.com&quot;);\r\n\t        HttpResponse response = httpclient.execute( httpGet );\r\n\t        \r\n\t        HttpEntity httpEntity = response.getEntity();\r\n\t\t\tInputStream inputStream = httpEntity.getContent();\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\tinputStream));\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t\tinputStream.close();\r\n\t\t\tString jsonText = sb.toString();\r\n\t\t\tSystem.out.println(jsonText);\r\n\t    }\r\n\r\n\t    private DefaultHttpClient buildhttpClient() throws Exception {\r\n\t        DefaultHttpClient httpclient = new DefaultHttpClient();\r\n\r\n\t        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t        sc.init(null, getTrustingManager(), new java.security.SecureRandom());\r\n\r\n\t        SSLSocketFactory socketFactory = new SSLSocketFactory(sc);\r\n\t        Scheme sch = new Scheme(&quot;https&quot;, 443, socketFactory);\r\n\t        httpclient.getConnectionManager().getSchemeRegistry().register(sch);\r\n\t        return httpclient;\r\n\t    }\r\n\r\n\t    private TrustManager[] getTrustingManager() {\r\n\t        TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n\t            @Override\r\n\t            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n\t                return null;\r\n\t            }\r\n\r\n\t            @Override\r\n\t            public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n\t                // Do nothing\t            \r\n\t            }\r\n\r\n\t            @Override\r\n\t            public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n\t            \t// Do nothing\r\n\t            }\r\n\r\n\t        } };\r\n\t        return trustAllCerts;\r\n\t    }\r\n\r\nThis code is also working but My question is I am not checking anything related to certificates then how connection is trusted. after debugging I come to know that only `checkServerTrusted` is hitting. So I have write something in `checkServerTrusted` to validate certificates that come in `certs` and the one which is in my application like some .cer or .crt file.\r\n\r\nEvery Help will be appreciated.\r\n\r\nUpdate after @EpicPandaForce (Using Apache HttpClient 4.3)\r\n\r\n            try \r\n\t        {\r\n\t            keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t            InputStream inputStream = new FileInputStream(&quot;E:\\\\Desktop\\\\esbcert\\\\keystore.jks&quot;);\r\n                keyStore.load(inputStream, &quot;key&quot;.toCharArray());\r\n                SSLContextBuilder sslContextBuilder = SSLContexts.custom().loadTrustMaterial(keyStore, new TrustSelfSignedStrategy());\r\n                sslcontext = sslContextBuilder.build();\r\n                SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);\r\n                HttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n                HttpGet httpGet = new HttpGet(&quot;https://url.esb.com&quot;);\r\n    \t        HttpResponse response = httpclient.execute( httpGet );\r\n    \t        \r\n    \t        HttpEntity httpEntity = response.getEntity();\r\n    \t\t\tInputStream httpStram = httpEntity.getContent();\r\n    \t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\thttpStram));\r\n    \t\t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\tString line = null;\r\n    \t\t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\thttpStram.close();\r\n    \t\t\tinputStream.close();\r\n    \t\t\tString jsonText = sb.toString();\r\n    \t\t\tSystem.out.println(jsonText);\r\n\r\n\t        } \r\n\t        catch(Exception e) \r\n\t        {\r\n\t            System.out.println(&quot;Loading keystore failed.&quot;);\r\n\t            e.printStackTrace();\r\n\t        }","title":"Peer not authenticated in java","body":"<p>I have gone to almost all the post related to this exception. Actually my problem is I have an java application through which I am hitting an URL and getting response from it.</p>\n\n<p>code to hit URL is :</p>\n\n<pre><code>HttpGet getRequest = new HttpGet(\"https://urlto.esb.com\");\nHttpResponse httpResponse = null;       \nDefaultHttpClient httpClient = new DefaultHttpClient();\nhttpResponse = httpClient.execute(getRequest); \n</code></pre>\n\n<p>Here I am getting <code>javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated</code></p>\n\n<p>So after some Google search I come to know that I can import certificate in keystore of java where the application is running. so I imported certificate in keystore and this code is working. but i don't want this solution so after some more searching I come to know that I can use <code>TrustManager</code> for the same thing without importing certificate into keystore. So I have written code like:</p>\n\n<pre><code>@Test\n    public void withTrustManeger() throws Exception {\n        DefaultHttpClient httpclient = buildhttpClient();\n        HttpGet httpGet = new HttpGet(\"https://urlto.esb.com\");\n        HttpResponse response = httpclient.execute( httpGet );\n\n        HttpEntity httpEntity = response.getEntity();\n        InputStream inputStream = httpEntity.getContent();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                inputStream));\n        StringBuilder sb = new StringBuilder();\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line + \"\\n\");\n        }\n        inputStream.close();\n        String jsonText = sb.toString();\n        System.out.println(jsonText);\n    }\n\n    private DefaultHttpClient buildhttpClient() throws Exception {\n        DefaultHttpClient httpclient = new DefaultHttpClient();\n\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, getTrustingManager(), new java.security.SecureRandom());\n\n        SSLSocketFactory socketFactory = new SSLSocketFactory(sc);\n        Scheme sch = new Scheme(\"https\", 443, socketFactory);\n        httpclient.getConnectionManager().getSchemeRegistry().register(sch);\n        return httpclient;\n    }\n\n    private TrustManager[] getTrustingManager() {\n        TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n            @Override\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n\n            @Override\n            public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                // Do nothing               \n            }\n\n            @Override\n            public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                // Do nothing\n            }\n\n        } };\n        return trustAllCerts;\n    }\n</code></pre>\n\n<p>This code is also working but My question is I am not checking anything related to certificates then how connection is trusted. after debugging I come to know that only <code>checkServerTrusted</code> is hitting. So I have write something in <code>checkServerTrusted</code> to validate certificates that come in <code>certs</code> and the one which is in my application like some .cer or .crt file.</p>\n\n<p>Every Help will be appreciated.</p>\n\n<p>Update after @EpicPandaForce (Using Apache HttpClient 4.3)</p>\n\n<pre><code>        try \n        {\n            keyStore = KeyStore.getInstance(\"JKS\");\n            InputStream inputStream = new FileInputStream(\"E:\\\\Desktop\\\\esbcert\\\\keystore.jks\");\n            keyStore.load(inputStream, \"key\".toCharArray());\n            SSLContextBuilder sslContextBuilder = SSLContexts.custom().loadTrustMaterial(keyStore, new TrustSelfSignedStrategy());\n            sslcontext = sslContextBuilder.build();\n            SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext);\n            HttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n            HttpGet httpGet = new HttpGet(\"https://url.esb.com\");\n            HttpResponse response = httpclient.execute( httpGet );\n\n            HttpEntity httpEntity = response.getEntity();\n            InputStream httpStram = httpEntity.getContent();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(\n                    httpStram));\n            StringBuilder sb = new StringBuilder();\n            String line = null;\n            while ((line = reader.readLine()) != null) {\n                sb.append(line + \"\\n\");\n            }\n            httpStram.close();\n            inputStream.close();\n            String jsonText = sb.toString();\n            System.out.println(jsonText);\n\n        } \n        catch(Exception e) \n        {\n            System.out.println(\"Loading keystore failed.\");\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","jpa"],"comments":[{"owner":{"account_id":18061143,"reputation":41,"user_id":13128245,"display_name":"JoneNa"},"score":0,"creation_date":1680235380,"post_id":75894520,"comment_id":133867388,"body_markdown":"Sort sort = user.by(User::getName).ascending();","body":"Sort sort = user.by(User::getName).ascending();"}],"owner":{"account_id":18061143,"reputation":41,"user_id":13128245,"display_name":"JoneNa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680231738,"creation_date":1680231738,"question_id":75894520,"body_markdown":"elasticsearch-java-8.5.3 used\r\n\r\nspring-data-elasticsearch-5.0.4 used\r\n\r\nI am testing elasticsearch data through spring jpa.\r\n\r\nNormally\r\n\r\n    List&lt;User&gt; findAllByName(String name); \r\n\r\n\r\nfetches the information without problems, but\r\n\r\n    List&lt;User&gt; findAllByName(String name, Sort sort);\r\n\r\n or\r\n\r\n    List&lt;User&gt; findByName(String name, Sort sort); \r\n\r\nAt times, the following problems arise:\r\n\r\n\r\n    [es/search] failed: [search_phase_execution_exception] all shards failed\r\n\r\nAs a result of searching in various ways, it was said that it could be a problem with the cluster, so I looked at the status value, but it is normal green.\r\n\r\nWhy does the problem only occur when sorting? help any hints?\r\n\r\n","title":"es/search failed: search_phase_execution_exception all shards failed","body":"<p>elasticsearch-java-8.5.3 used</p>\n<p>spring-data-elasticsearch-5.0.4 used</p>\n<p>I am testing elasticsearch data through spring jpa.</p>\n<p>Normally</p>\n<pre><code>List&lt;User&gt; findAllByName(String name); \n</code></pre>\n<p>fetches the information without problems, but</p>\n<pre><code>List&lt;User&gt; findAllByName(String name, Sort sort);\n</code></pre>\n<p>or</p>\n<pre><code>List&lt;User&gt; findByName(String name, Sort sort); \n</code></pre>\n<p>At times, the following problems arise:</p>\n<pre><code>[es/search] failed: [search_phase_execution_exception] all shards failed\n</code></pre>\n<p>As a result of searching in various ways, it was said that it could be a problem with the cluster, so I looked at the status value, but it is normal green.</p>\n<p>Why does the problem only occur when sorting? help any hints?</p>\n"},{"tags":["java","esapi"],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675536773,"creation_date":1675536773,"answer_id":75347533,"question_id":75344918,"body_markdown":"The root cause of this is Eclipse can&#39;t find the class \r\n\r\n    org.apache.commons.configuration.ConfigurationException\r\nas evidenced by this **ClassNotFoundException**:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.configuration.ConfigurationException\r\n\r\nThat means that you are missing whatever Apache Commons jar contains that class. (There are several Apache Commons libraries that ESAPI uses, so I can&#39;t be more specific without doing extra research and I&#39;m in a hurry at the moment.) Given that you mentioned that you explicitly added the Log4J jar (in step 2 you mention &#39;put &quot;esapi-2.1.0.1.jar&quot; &amp; &quot;log4j-1.2.12.jar&quot; into folder WebContent/WEB-INF/lib&#39;), it appears that you don&#39;t have your Eclipse project configured as a Maven or Gradle project. Reconfigure your Eclipse project as a Maven or Gradle project and those transitive dependencies jars should get downloaded and pulled in for you automatically. If you don&#39;t take that approach, you are going to keep on running into similar problems.\r\n\r\nOne last important point... please use ESAPI 2.5.1.0, which is the latest version as of this posting. Because of the small size of the ESAPI team, we can only actively address issues that arise in the latest version at the time the question is posted. (In this case, I don&#39;t think your problem has anything to do with what version of ESAPI you are using, which is why I responded.)  Also if you plan to uses ESAPI for anything serious, you need to use a version that doesn&#39;t have any know vulnerabilities. Note that 2.1.0.1 has 2 known CVEs; see https://mvnrepository.com/artifact/org.owasp.esapi/esapi for details and available versions.\r\n\r\nHope this helps.","title":"Failed to use ESAPI 2.1.0.1: AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception","body":"<p>The root cause of this is Eclipse can't find the class</p>\n<pre><code>org.apache.commons.configuration.ConfigurationException\n</code></pre>\n<p>as evidenced by this <strong>ClassNotFoundException</strong>:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.apache.commons.configuration.ConfigurationException\n</code></pre>\n<p>That means that you are missing whatever Apache Commons jar contains that class. (There are several Apache Commons libraries that ESAPI uses, so I can't be more specific without doing extra research and I'm in a hurry at the moment.) Given that you mentioned that you explicitly added the Log4J jar (in step 2 you mention 'put &quot;esapi-2.1.0.1.jar&quot; &amp; &quot;log4j-1.2.12.jar&quot; into folder WebContent/WEB-INF/lib'), it appears that you don't have your Eclipse project configured as a Maven or Gradle project. Reconfigure your Eclipse project as a Maven or Gradle project and those transitive dependencies jars should get downloaded and pulled in for you automatically. If you don't take that approach, you are going to keep on running into similar problems.</p>\n<p>One last important point... please use ESAPI 2.5.1.0, which is the latest version as of this posting. Because of the small size of the ESAPI team, we can only actively address issues that arise in the latest version at the time the question is posted. (In this case, I don't think your problem has anything to do with what version of ESAPI you are using, which is why I responded.)  Also if you plan to uses ESAPI for anything serious, you need to use a version that doesn't have any know vulnerabilities. Note that 2.1.0.1 has 2 known CVEs; see <a href=\"https://mvnrepository.com/artifact/org.owasp.esapi/esapi\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.owasp.esapi/esapi</a> for details and available versions.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680231525,"creation_date":1680231525,"answer_id":75894504,"question_id":75344918,"body_markdown":"if anyone face this problem because you need the commons-configuration.jar along with the library. I recommend anyone want to use it search for the installation guide and see the requirements.\r\nthis is the guide for version 2.* say: `if you will be using the reference implementations provided with ESAPI, \r\nthere are additional dependencies you must provide in your project. (For \r\nMaven users, the ESAPI pom.xml will include them automatically as \r\ntransitive dependencies).\r\nMost jar dependencies can be found under the lib/required directory of \r\nthe ESAPI zip, and should be added to the classpath in the same manner \r\nas above. URLs are provided for those not packed with ESAPI.\r\n\r\n    Configuration files (xml or .properties) can be found under the \r\n    configuration/.esapi directory, and should be added to the .esapi \r\n    configuration directory created above.\r\n    For DefaultAccessController: \r\n    commons-configuration.jar: \r\n    commons-lang.jar:\r\n    commons-collections.jar\r\n    ESAPI-AccessControlPolicy.xml\r\n\r\n`","title":"Failed to use ESAPI 2.1.0.1: AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception","body":"<p>if anyone face this problem because you need the commons-configuration.jar along with the library. I recommend anyone want to use it search for the installation guide and see the requirements.\nthis is the guide for version 2.* say: `if you will be using the reference implementations provided with ESAPI,\nthere are additional dependencies you must provide in your project. (For\nMaven users, the ESAPI pom.xml will include them automatically as\ntransitive dependencies).\nMost jar dependencies can be found under the lib/required directory of\nthe ESAPI zip, and should be added to the classpath in the same manner\nas above. URLs are provided for those not packed with ESAPI.</p>\n<pre><code>Configuration files (xml or .properties) can be found under the \nconfiguration/.esapi directory, and should be added to the .esapi \nconfiguration directory created above.\nFor DefaultAccessController: \ncommons-configuration.jar: \ncommons-lang.jar:\ncommons-collections.jar\nESAPI-AccessControlPolicy.xml\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":26489915,"reputation":11,"user_id":20128021,"display_name":"Anstice Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680231525,"creation_date":1675511751,"question_id":75344918,"body_markdown":"I am encounting a problem in using esapi-2.1.0.1.jar.\r\n\r\nMy develop environment:&lt;br&gt;\r\nJdk 1.8&lt;br&gt;\r\neclipse 2018-12&lt;br&gt;\r\n\r\nESAPI works fine in method A, but fialed in method B.\r\n\r\n```\r\npackage com;\r\n\r\nimport org.owasp.esapi.ESAPI;\r\n\r\npublic class MainEntryPoint {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tSystem.out.println(&quot;A&quot;);\r\n\t\tSystem.out.println(ESAPI.encoder().encodeForHTML(&quot;&lt;li&gt;ABC some html here&quot;));\r\n\t\tSystem.out.println(&quot;A end&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;B&quot;);\r\n\t\tSystem.out.println(ESAPI.accessController().toString());\r\n\t\tSystem.out.println(&quot;B end&quot;);\r\n\t}\r\n\r\n}\r\n```\r\nconsole:\r\n\r\n```\r\nA\r\nSystem property [org.owasp.esapi.opsteam] is not set\r\nSystem property [org.owasp.esapi.devteam] is not set\r\nAttempting to load ESAPI.properties via file I/O.\r\nAttempting to load ESAPI.properties as resource file via file I/O.\r\nFound in &#39;org.owasp.esapi.resources&#39; directory: C:\\Users\\Ansticelee\\.esapi\\2101\\ESAPI.properties\r\nLoaded &#39;ESAPI.properties&#39; properties file\r\nSecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\r\nAttempting to load validation.properties via file I/O.\r\nAttempting to load validation.properties as resource file via file I/O.\r\nFound in &#39;org.owasp.esapi.resources&#39; directory: C:\\Users\\Ansticelee\\.esapi\\2101\\validation.properties\r\nLoaded &#39;validation.properties&#39; properties file\r\n&amp;lt;li&amp;gt;ABC some html here\r\nA end\r\nB\r\nException in thread &quot;main&quot; org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception.\r\n\tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\r\n\tat org.owasp.esapi.ESAPI.accessController(ESAPI.java:85)\r\n\tat com.MainEntryPoint.main(MainEntryPoint.java:20)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:86)\r\n\t... 2 more\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/configuration/ConfigurationException\r\n\tat org.owasp.esapi.reference.DefaultAccessController.&lt;init&gt;(DefaultAccessController.java:32)\r\n\tat org.owasp.esapi.reference.DefaultAccessController.getInstance(DefaultAccessController.java:22)\r\n\t... 7 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.configuration.ConfigurationException\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 9 more\r\n```\r\n\r\nWhat did I done? :\r\n1. create a new Project in eclipse (Dynamic Web Project)\r\n2. put &quot;esapi-2.1.0.1.jar&quot; &amp; &quot;log4j-1.2.12.jar&quot; into folder WebContent/WEB-INF/lib\r\n3. put &quot;ESAPI.properties&quot; &amp; &quot;validation.properties&quot; into folder C:\\Users\\Ansticelee\\.esapi\\2101\r\n4. set VM arguments :\r\n`-Dorg.owasp.esapi.resources=&quot;C:\\Users\\Ansticelee\\.esapi\\2101&quot;`\r\n5. right click on MainEntryPoint.java &gt; Run As &gt; Java Application\r\n&lt;br&gt;(remind :  MainEntryPoint.java is my java file)\r\n\r\n(detail of 4.:&lt;br&gt; in eclipse, right click on my project (Run As &gt; Run Configurations... &gt; Java Application &gt; esapi2101 &gt; Arguments &gt; VM arguments)\r\n\r\ndetail of 2. &amp; 3.&lt;br&gt;\r\nI downloaded esapi-2.1.0.1.jar from https://repo1.maven.org/maven2/org/owasp/esapi/esapi/2.1.0.1/&lt;br&gt;\r\nI downloaded log4j-1.2.12.jar from https://mvnrepository.com/artifact/log4j/log4j/1.2.12&lt;br&gt;\r\nI downloaded 2 properties from https://github.com/ESAPI/esapi-java-legacy/tree/2.1/configuration/.esapi\r\n\r\ndetail of method B:&lt;br&gt;\r\nI saw it in page.16 (step 5) from https://owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf\r\n\r\n\r\nIt is my first time of posting a question. &lt;br&gt;Thanks for your patience of reading.&lt;br&gt;\r\nHow could I make the method B mentioned above works fine?","title":"Failed to use ESAPI 2.1.0.1: AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception","body":"<p>I am encounting a problem in using esapi-2.1.0.1.jar.</p>\n<p>My develop environment:<br>\nJdk 1.8<br>\neclipse 2018-12<br></p>\n<p>ESAPI works fine in method A, but fialed in method B.</p>\n<pre><code>package com;\n\nimport org.owasp.esapi.ESAPI;\n\npublic class MainEntryPoint {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        System.out.println(&quot;A&quot;);\n        System.out.println(ESAPI.encoder().encodeForHTML(&quot;&lt;li&gt;ABC some html here&quot;));\n        System.out.println(&quot;A end&quot;);\n        \n        System.out.println(&quot;B&quot;);\n        System.out.println(ESAPI.accessController().toString());\n        System.out.println(&quot;B end&quot;);\n    }\n\n}\n</code></pre>\n<p>console:</p>\n<pre><code>A\nSystem property [org.owasp.esapi.opsteam] is not set\nSystem property [org.owasp.esapi.devteam] is not set\nAttempting to load ESAPI.properties via file I/O.\nAttempting to load ESAPI.properties as resource file via file I/O.\nFound in 'org.owasp.esapi.resources' directory: C:\\Users\\Ansticelee\\.esapi\\2101\\ESAPI.properties\nLoaded 'ESAPI.properties' properties file\nSecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\nAttempting to load validation.properties via file I/O.\nAttempting to load validation.properties as resource file via file I/O.\nFound in 'org.owasp.esapi.resources' directory: C:\\Users\\Ansticelee\\.esapi\\2101\\validation.properties\nLoaded 'validation.properties' properties file\n&amp;lt;li&amp;gt;ABC some html here\nA end\nB\nException in thread &quot;main&quot; org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException AccessController class (org.owasp.esapi.reference.DefaultAccessController) CTOR threw exception.\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\n    at org.owasp.esapi.ESAPI.accessController(ESAPI.java:85)\n    at com.MainEntryPoint.main(MainEntryPoint.java:20)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:86)\n    ... 2 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/configuration/ConfigurationException\n    at org.owasp.esapi.reference.DefaultAccessController.&lt;init&gt;(DefaultAccessController.java:32)\n    at org.owasp.esapi.reference.DefaultAccessController.getInstance(DefaultAccessController.java:22)\n    ... 7 more\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.configuration.ConfigurationException\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 9 more\n</code></pre>\n<p>What did I done? :</p>\n<ol>\n<li>create a new Project in eclipse (Dynamic Web Project)</li>\n<li>put &quot;esapi-2.1.0.1.jar&quot; &amp; &quot;log4j-1.2.12.jar&quot; into folder WebContent/WEB-INF/lib</li>\n<li>put &quot;ESAPI.properties&quot; &amp; &quot;validation.properties&quot; into folder C:\\Users\\Ansticelee.esapi\\2101</li>\n<li>set VM arguments :\n<code>-Dorg.owasp.esapi.resources=&quot;C:\\Users\\Ansticelee\\.esapi\\2101&quot;</code></li>\n<li>right click on MainEntryPoint.java &gt; Run As &gt; Java Application\n<br>(remind :  MainEntryPoint.java is my java file)</li>\n</ol>\n<p>(detail of 4.:<br> in eclipse, right click on my project (Run As &gt; Run Configurations... &gt; Java Application &gt; esapi2101 &gt; Arguments &gt; VM arguments)</p>\n<p>detail of 2. &amp; 3.<br>\nI downloaded esapi-2.1.0.1.jar from <a href=\"https://repo1.maven.org/maven2/org/owasp/esapi/esapi/2.1.0.1/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/owasp/esapi/esapi/2.1.0.1/</a><br>\nI downloaded log4j-1.2.12.jar from <a href=\"https://mvnrepository.com/artifact/log4j/log4j/1.2.12\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/log4j/log4j/1.2.12</a><br>\nI downloaded 2 properties from <a href=\"https://github.com/ESAPI/esapi-java-legacy/tree/2.1/configuration/.esapi\" rel=\"nofollow noreferrer\">https://github.com/ESAPI/esapi-java-legacy/tree/2.1/configuration/.esapi</a></p>\n<p>detail of method B:<br>\nI saw it in page.16 (step 5) from <a href=\"https://owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf\" rel=\"nofollow noreferrer\">https://owasp.org/www-pdf-archive/JavaEE-ESAPI_2.0a_install.pdf</a></p>\n<p>It is my first time of posting a question. <br>Thanks for your patience of reading.<br>\nHow could I make the method B mentioned above works fine?</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1435487544,"post_id":31097667,"comment_id":50212958,"body_markdown":"likely the question is why is Spring &quot;StoredProcedureJpaQuery.newAdhocStoredProcedureQuery&quot; calling &quot;StoredProcedureQuery.registerStoredProcedureParameter&quot; if there are no parameters? Perhaps you should delve through Spring source code and debug it?","body":"likely the question is why is Spring &quot;StoredProcedureJpaQuery.newAdhocStoredProcedureQuery&quot; calling &quot;StoredProcedureQuery.registerStoredProcedureParameter&quot; if there are no parameters? Perhaps you should delve through Spring source code and debug it?"},{"owner":{"account_id":1014607,"reputation":4573,"user_id":1026453,"accept_rate":83,"display_name":"DuncanKinnear"},"score":0,"creation_date":1435529602,"post_id":31097667,"comment_id":50225731,"body_markdown":"Have you tried removing the (optional) `parameters` in the `@NamedStoredProcedureQuery` definition?","body":"Have you tried removing the (optional) <code>parameters</code> in the <code>@NamedStoredProcedureQuery</code> definition?"},{"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"score":0,"creation_date":1435560894,"post_id":31097667,"comment_id":50233015,"body_markdown":"Yes, I tried to remove them and I have the same result. Is it required to have a parameter? I have a feeling that the system expects a parameter like an `OUT` or `REF_CURSOR`.","body":"Yes, I tried to remove them and I have the same result. Is it required to have a parameter? I have a feeling that the system expects a parameter like an <code>OUT</code> or <code>REF_CURSOR</code>."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1435583153,"post_id":31097667,"comment_id":50246243,"body_markdown":"it is obviously NOT required to have a parameter, hence why the default is NOT to have parameters in that annotation. As already said, resolve why Spring is calling that method and you have your answer. I&#39;ve used stored procedures in DataNucleus and I&#39;m sure I had at least one with no parameter","body":"it is obviously NOT required to have a parameter, hence why the default is NOT to have parameters in that annotation. As already said, resolve why Spring is calling that method and you have your answer. I&#39;ve used stored procedures in DataNucleus and I&#39;m sure I had at least one with no parameter"},{"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"score":0,"creation_date":1436045664,"post_id":31097667,"comment_id":50450456,"body_markdown":"@NeilStockton I updated my issue. Please take a look. This may be relevant. I couldn&#39;t find the real problem.","body":"@NeilStockton I updated my issue. Please take a look. This may be relevant. I couldn&#39;t find the real problem."},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":1,"creation_date":1476219655,"post_id":31097667,"comment_id":67252118,"body_markdown":"Did you ever find a solution to this issue?","body":"Did you ever find a solution to this issue?"},{"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"score":1,"creation_date":1476277467,"post_id":31097667,"comment_id":67276372,"body_markdown":"No, I haven&#39;t. After encountering this issue and trying to find a solution for about one week I decided to go for pure JDBC.","body":"No, I haven&#39;t. After encountering this issue and trying to find a solution for about one week I decided to go for pure JDBC."},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1620579554,"post_id":31097667,"comment_id":119237085,"body_markdown":"Damn, I have a Stored procedure in an Oracle DB that takes in one IN parameter (Long) and outputs two OUT parameters (both user-defined custom types) and I tried mapping to the Entity for the StoredProc in my Java just like you and i &#39;m getting the same error!! If I get a solution I will update here.","body":"Damn, I have a Stored procedure in an Oracle DB that takes in one IN parameter (Long) and outputs two OUT parameters (both user-defined custom types) and I tried mapping to the Entity for the StoredProc in my Java just like you and i &#39;m getting the same error!! If I get a solution I will update here."}],"answers":[{"tags":[],"owner":{"account_id":7852679,"reputation":59,"user_id":5935659,"display_name":"Andr&#233;s Marianetti"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1455634204,"creation_date":1455634204,"answer_id":35435618,"question_id":31097667,"body_markdown":"Problem seems to be while mapping your results (resulting entity can&#39;t be typed).\r\n\r\nTry changing:\r\n\r\n    @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n    List&lt;ResourceType&gt; getResourceTypes();\r\n\r\nto\r\n\r\n    @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n    Object[] getResourceTypes();\r\n\r\nand remove the resultClasses in your NamedStoredProcedureQuery.\r\n\r\nHope that helps.","title":"IllegalArgumentException: Type cannot be null","body":"<p>Problem seems to be while mapping your results (resulting entity can't be typed).</p>\n\n<p>Try changing:</p>\n\n<pre><code>@Procedure(\"ResourceType.getResourceTypes\")\nList&lt;ResourceType&gt; getResourceTypes();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Procedure(\"ResourceType.getResourceTypes\")\nObject[] getResourceTypes();\n</code></pre>\n\n<p>and remove the resultClasses in your NamedStoredProcedureQuery.</p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":254663,"reputation":1477,"user_id":534217,"accept_rate":100,"display_name":"Dima Korobskiy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495737170,"creation_date":1493318777,"answer_id":43665737,"question_id":31097667,"body_markdown":"Spring Data JPA as of 1.11.1 does not support SPs returning result sets. I filed [a corresponding defect][1] with Spring Data.\r\n\r\nThe solution is to descend an API level and just use JPA. Here is a generic class that I wrote that works with MS SQL SPs.\r\n  \r\n    import com.google.common.base.Strings;\r\n    import java.util.List;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.ParameterMode;\r\n    import javax.persistence.Query;\r\n    import javax.persistence.StoredProcedureQuery;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class StoredProcRepository {\r\n    \r\n      //region Injected beans (via a RequiredArgsConstructor)\r\n      private final EntityManager em;\r\n      //endregion \r\n    \r\n      /**\r\n       * Calls a stored procedure via JPA and retrieves a single implicit result set (in DBs that\r\n       * support them e.g. MS SQL or MySQL). The call is not dependent on a DB dialect. Be\r\n       * aware that large result sets should be paginated and not entirely read to memory. Recreates\r\n       * StoredProcedureQuery instance and its parameters on each call.\r\n       * To execute MS SQL SPs performing multiple queries, SET NOCOUNT ON.\r\n       *\r\n       * @param procedureName stored procedure name, optionally qualified per DB syntax\r\n       * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\r\n       * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\r\n       * end of the list could be omitted)\r\n       * @param &lt;T&gt; class of row instances converted per JPA\r\n       * @return the entire result set\r\n       */\r\n      public &lt;T&gt; List&lt;T&gt; queryViaStoredProc(String procedureName, Class&lt;T&gt; resultClass,\r\n          Object... spArgs) {\r\n        StoredProcedureQuery spq = em.createStoredProcedureQuery(procedureName, resultClass);\r\n        int pos = 0;\r\n        for (Object arg : spArgs) {\r\n          spq.registerStoredProcedureParameter(++pos, arg.getClass(), ParameterMode.IN);\r\n          spq.setParameter(pos, arg);\r\n        }\r\n        return spq.getResultList();\r\n      }\r\n    \r\n      /**\r\n       * Calls a stored procedure via JPA and retrieves only the top row of a single implicit result\r\n       * set (in DBs that support them e.g. MS SQL or MySQL).\r\n       * Assumes that result set has at least one row.\r\n       * The call is not dependent on a DB dialect.\r\n       * Be aware that large result sets should be paginated and not entirely read to memory.\r\n       * Recreates StoredProcedureQuery instance and its parameters on each call.\r\n       * To execute MS SQL SPs performing multiple queries, SET NOCOUNT ON.\r\n       *\r\n       * @param procedureName stored procedure name, optionally qualified per DB syntax\r\n       * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\r\n       * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\r\n       * end of the list could be omitted)\r\n       * @param &lt;T&gt; class of row instances converted per JPA\r\n       * @return the entire result set\r\n       */\r\n      public &lt;T&gt; T queryTopRowViaStoredProc(String procedureName, Class&lt;T&gt; resultClass,\r\n          Object... spArgs) {\r\n        return queryViaStoredProc(procedureName, resultClass, spArgs).get(0);\r\n      }\r\n    }\r\n\r\nFor MS SQL SPs, the additional requirement is to have `SET NOCOUNT ON` for all SPs executing more than one query. This could be set in one of at least three ways:\r\n\r\n1. In a generic Java wrapper using JPA (see code below). This approach works only with jTDS JDBC driver. [A corresponding issue][2] has been filed with MS JDBC driver project.\r\n2. In the beginning of each SP.\r\n3. [Globally in your database][3].\r\n\r\nHer is code for #1: corresponding methods for the same `StoredProcRepository` class.\r\n\r\n      /**\r\n       * Calls an MS SQL stored procedure via JPA and retrieves a single implicit result set.\r\n       * Protects against lack of SET NOCOUNT in stored procedures.\r\n       * This works with jTDS JDBC driver, but not with MS JDBC driver.\r\n       * Be aware that large result sets should be paginated and not entirely read to memory.\r\n       *\r\n       * @param procedureName stored procedure name, optionally qualified per DB syntax\r\n       * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\r\n       * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\r\n       * end of the list could be omitted)\r\n       * @param &lt;T&gt; class of row instances converted per JPA\r\n       * @return the entire result set\r\n       */\r\n      public &lt;T&gt; List&lt;T&gt; queryViaMsSqlStoredProc(String procedureName, Class&lt;T&gt; resultClass,\r\n          Object... spArgs) {\r\n        String spBindParams = (spArgs.length == 0) ? &quot;&quot; : &quot;?&quot; + Strings.repeat(&quot;,?&quot;, spArgs.length - 1);\r\n\r\n        // The following works with jTDS driver, but not with MS driver\r\n        String spQuery = String.format(&quot;EXEC %s %s&quot;, procedureName, spBindParams);\r\n\r\n        // The following works with jTDS driver, but not with MS driver\r\n        /*\r\n        String spQuery = String.format(&quot;{call %s(%s)}&quot;, procedureName, spBindParams);\r\n        Query q = em.createNativeQuery(&quot;SET NOCOUNT ON; &quot; + spQuery, resultClass)\r\n            .setHint(&quot;org.hibernate.readOnly&quot;, true);\r\n        */\r\n\r\n        Query q = em.createNativeQuery(spQuery, resultClass);\r\n        int pos = 0;\r\n        for (Object arg : spArgs) {\r\n          q.setParameter(++pos, arg);\r\n        }\r\n        return q.getResultList();\r\n      }    \r\n    \r\n      /**\r\n       * Calls an MS SQL stored procedure via JPA and retrieves only the top row of a single implicit\r\n       * result set.\r\n       * Assumes that result set has at least one row.\r\n       * The call sets the &quot;NOCOUNT ON&quot; MS SQL batch option.\r\n       * Be aware that large result sets should be paginated and not entirely read to memory.\r\n       *\r\n       * @param procedureName stored procedure name, optionally qualified per DB syntax\r\n       * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\r\n       * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\r\n       * end of the list could be omitted)\r\n       * @param &lt;T&gt; class of row instances converted per JPA\r\n       * @return the entire result set\r\n       */\r\n      public &lt;T&gt; T queryTopRowViaMsSqlStoredProc(String procedureName, Class&lt;T&gt; resultClass,\r\n          Object... spArgs) {\r\n        return queryViaMsSqlStoredProc(procedureName, resultClass, spArgs).get(0);\r\n      }\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/DATAJPA-1092\r\n  [2]: https://github.com/Microsoft/mssql-jdbc/issues/313\r\n  [3]: https://learn.microsoft.com/en-us/sql/t-sql/statements/set-statements-transact-sql","title":"IllegalArgumentException: Type cannot be null","body":"<p>Spring Data JPA as of 1.11.1 does not support SPs returning result sets. I filed <a href=\"https://jira.spring.io/browse/DATAJPA-1092\" rel=\"nofollow noreferrer\">a corresponding defect</a> with Spring Data.</p>\n\n<p>The solution is to descend an API level and just use JPA. Here is a generic class that I wrote that works with MS SQL SPs.</p>\n\n<pre><code>import com.google.common.base.Strings;\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport javax.persistence.ParameterMode;\nimport javax.persistence.Query;\nimport javax.persistence.StoredProcedureQuery;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class StoredProcRepository {\n\n  //region Injected beans (via a RequiredArgsConstructor)\n  private final EntityManager em;\n  //endregion \n\n  /**\n   * Calls a stored procedure via JPA and retrieves a single implicit result set (in DBs that\n   * support them e.g. MS SQL or MySQL). The call is not dependent on a DB dialect. Be\n   * aware that large result sets should be paginated and not entirely read to memory. Recreates\n   * StoredProcedureQuery instance and its parameters on each call.\n   * To execute MS SQL SPs performing multiple queries, SET NOCOUNT ON.\n   *\n   * @param procedureName stored procedure name, optionally qualified per DB syntax\n   * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\n   * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\n   * end of the list could be omitted)\n   * @param &lt;T&gt; class of row instances converted per JPA\n   * @return the entire result set\n   */\n  public &lt;T&gt; List&lt;T&gt; queryViaStoredProc(String procedureName, Class&lt;T&gt; resultClass,\n      Object... spArgs) {\n    StoredProcedureQuery spq = em.createStoredProcedureQuery(procedureName, resultClass);\n    int pos = 0;\n    for (Object arg : spArgs) {\n      spq.registerStoredProcedureParameter(++pos, arg.getClass(), ParameterMode.IN);\n      spq.setParameter(pos, arg);\n    }\n    return spq.getResultList();\n  }\n\n  /**\n   * Calls a stored procedure via JPA and retrieves only the top row of a single implicit result\n   * set (in DBs that support them e.g. MS SQL or MySQL).\n   * Assumes that result set has at least one row.\n   * The call is not dependent on a DB dialect.\n   * Be aware that large result sets should be paginated and not entirely read to memory.\n   * Recreates StoredProcedureQuery instance and its parameters on each call.\n   * To execute MS SQL SPs performing multiple queries, SET NOCOUNT ON.\n   *\n   * @param procedureName stored procedure name, optionally qualified per DB syntax\n   * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\n   * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\n   * end of the list could be omitted)\n   * @param &lt;T&gt; class of row instances converted per JPA\n   * @return the entire result set\n   */\n  public &lt;T&gt; T queryTopRowViaStoredProc(String procedureName, Class&lt;T&gt; resultClass,\n      Object... spArgs) {\n    return queryViaStoredProc(procedureName, resultClass, spArgs).get(0);\n  }\n}\n</code></pre>\n\n<p>For MS SQL SPs, the additional requirement is to have <code>SET NOCOUNT ON</code> for all SPs executing more than one query. This could be set in one of at least three ways:</p>\n\n<ol>\n<li>In a generic Java wrapper using JPA (see code below). This approach works only with jTDS JDBC driver. <a href=\"https://github.com/Microsoft/mssql-jdbc/issues/313\" rel=\"nofollow noreferrer\">A corresponding issue</a> has been filed with MS JDBC driver project.</li>\n<li>In the beginning of each SP.</li>\n<li><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/statements/set-statements-transact-sql\" rel=\"nofollow noreferrer\">Globally in your database</a>.</li>\n</ol>\n\n<p>Her is code for #1: corresponding methods for the same <code>StoredProcRepository</code> class.</p>\n\n<pre><code>  /**\n   * Calls an MS SQL stored procedure via JPA and retrieves a single implicit result set.\n   * Protects against lack of SET NOCOUNT in stored procedures.\n   * This works with jTDS JDBC driver, but not with MS JDBC driver.\n   * Be aware that large result sets should be paginated and not entirely read to memory.\n   *\n   * @param procedureName stored procedure name, optionally qualified per DB syntax\n   * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\n   * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\n   * end of the list could be omitted)\n   * @param &lt;T&gt; class of row instances converted per JPA\n   * @return the entire result set\n   */\n  public &lt;T&gt; List&lt;T&gt; queryViaMsSqlStoredProc(String procedureName, Class&lt;T&gt; resultClass,\n      Object... spArgs) {\n    String spBindParams = (spArgs.length == 0) ? \"\" : \"?\" + Strings.repeat(\",?\", spArgs.length - 1);\n\n    // The following works with jTDS driver, but not with MS driver\n    String spQuery = String.format(\"EXEC %s %s\", procedureName, spBindParams);\n\n    // The following works with jTDS driver, but not with MS driver\n    /*\n    String spQuery = String.format(\"{call %s(%s)}\", procedureName, spBindParams);\n    Query q = em.createNativeQuery(\"SET NOCOUNT ON; \" + spQuery, resultClass)\n        .setHint(\"org.hibernate.readOnly\", true);\n    */\n\n    Query q = em.createNativeQuery(spQuery, resultClass);\n    int pos = 0;\n    for (Object arg : spArgs) {\n      q.setParameter(++pos, arg);\n    }\n    return q.getResultList();\n  }    \n\n  /**\n   * Calls an MS SQL stored procedure via JPA and retrieves only the top row of a single implicit\n   * result set.\n   * Assumes that result set has at least one row.\n   * The call sets the \"NOCOUNT ON\" MS SQL batch option.\n   * Be aware that large result sets should be paginated and not entirely read to memory.\n   *\n   * @param procedureName stored procedure name, optionally qualified per DB syntax\n   * @param resultClass converts (maps) each result set row into instances of resultClass via JPA\n   * @param spArgs stored procedure arguments, supplied positionally (optional SP arguments at the\n   * end of the list could be omitted)\n   * @param &lt;T&gt; class of row instances converted per JPA\n   * @return the entire result set\n   */\n  public &lt;T&gt; T queryTopRowViaMsSqlStoredProc(String procedureName, Class&lt;T&gt; resultClass,\n      Object... spArgs) {\n    return queryViaMsSqlStoredProc(procedureName, resultClass, spArgs).get(0);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6311315,"reputation":566,"user_id":4902751,"accept_rate":50,"display_name":"Shweta Gulati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594386600,"creation_date":1594386600,"answer_id":62835030,"question_id":31097667,"body_markdown":"I had the same error which got resolved by changing ParameterMode.OUT to \r\nParameterMode.REF_CURSOR.\r\nI had written this mistakenly.\r\n\r\n```query.registerStoredProcedureParameter(12, ResultSet.class, ParameterMode.OUT);```\r\n\r\n```query.registerStoredProcedureParameter(12, ResultSet.class, ParameterMode.REF_CURSOR);```","title":"IllegalArgumentException: Type cannot be null","body":"<p>I had the same error which got resolved by changing ParameterMode.OUT to\nParameterMode.REF_CURSOR.\nI had written this mistakenly.</p>\n<p><code>query.registerStoredProcedureParameter(12, ResultSet.class, ParameterMode.OUT);</code></p>\n<p><code>query.registerStoredProcedureParameter(12, ResultSet.class, ParameterMode.REF_CURSOR);</code></p>\n"},{"tags":[],"owner":{"account_id":19953971,"reputation":11,"user_id":14622972,"display_name":"saiprem31"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605154544,"creation_date":1605147202,"answer_id":64796938,"question_id":31097667,"body_markdown":"You can try these two ways\r\n\r\n1) Change below lines \r\n\r\n    @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n    List&lt;ResourceType&gt; getResourceTypes();\r\n\r\nlike this \r\n\r\n    List&lt;ResourceType&gt; getResourceTypes();  // because as per JPA if your method name matches with the @NamedStoredProcedure -&gt; name then no need to mention @Procedure annotation.\r\n\r\n2) If you want to use @Procedure annotation then change the below lines\r\n\r\n    @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n    List&lt;ResourceType&gt; getResourceTypes();\r\n\r\nlike this \r\n\r\n    @Procedure(name=&quot;getResourceTypes&quot;)\r\n    List&lt;ResourceType&gt; getResourceTypes();\r\n\r\n","title":"IllegalArgumentException: Type cannot be null","body":"<p>You can try these two ways</p>\n<ol>\n<li><p>Change below lines</p>\n<p>@Procedure(&quot;ResourceType.getResourceTypes&quot;)\nList getResourceTypes();</p>\n</li>\n</ol>\n<p>like this</p>\n<pre><code>List&lt;ResourceType&gt; getResourceTypes();  // because as per JPA if your method name matches with the @NamedStoredProcedure -&gt; name then no need to mention @Procedure annotation.\n</code></pre>\n<ol start=\"2\">\n<li><p>If you want to use @Procedure annotation then change the below lines</p>\n<p>@Procedure(&quot;ResourceType.getResourceTypes&quot;)\nList getResourceTypes();</p>\n</li>\n</ol>\n<p>like this</p>\n<pre><code>@Procedure(name=&quot;getResourceTypes&quot;)\nList&lt;ResourceType&gt; getResourceTypes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12701375,"reputation":95,"user_id":9227989,"display_name":"Babad00k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680231099,"creation_date":1680231099,"answer_id":75894479,"question_id":31097667,"body_markdown":"I had the same error `org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null`\r\n\r\nIn my case, I have a Postgres function with an array of text as a parameter. Tried a bunch of solution but nothing works.\r\n\r\nIn the end I decided to use a workaround and changed the function parameter from array of text to just text and convert it to array. \r\n\r\n`CREATE FUNCTION fn_funcName(IN arrAsString TEXT)`\r\n\r\nInside the function convert text to array using STRING_TO_ARRAY\r\n\r\n`arr := STRING_TO_ARRAY(arrAsString, &#39;,&#39;);`\r\n\r\nAlso, might actually worth noting when using the function. Converting a list to array using toString() may not work because of the brackets []. I use `String.join(&quot;,&quot;, listOfText);` instead of listOfText.toString()","title":"IllegalArgumentException: Type cannot be null","body":"<p>I had the same error <code>org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null</code></p>\n<p>In my case, I have a Postgres function with an array of text as a parameter. Tried a bunch of solution but nothing works.</p>\n<p>In the end I decided to use a workaround and changed the function parameter from array of text to just text and convert it to array.</p>\n<p><code>CREATE FUNCTION fn_funcName(IN arrAsString TEXT)</code></p>\n<p>Inside the function convert text to array using STRING_TO_ARRAY</p>\n<p><code>arr := STRING_TO_ARRAY(arrAsString, ',');</code></p>\n<p>Also, might actually worth noting when using the function. Converting a list to array using toString() may not work because of the brackets []. I use <code>String.join(&quot;,&quot;, listOfText);</code> instead of listOfText.toString()</p>\n"}],"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38679,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1680231099,"creation_date":1435480662,"question_id":31097667,"body_markdown":"I am confronting with an issue and it seems that many people encountered it and probably couldn&#39;t solve it.\r\n\r\nI have the following MYSQL stored procedure. This is just a sample to see if everything works fine, then I would&#39;ve start adding parameters like `inactive`.\r\n\r\n    CREATE DEFINER=`root`@`localhost` PROCEDURE `get_resource_types`()\r\n    BEGIN\r\n    \tSELECT *\r\n    \tFROM resource_types\r\n    \tWHERE inactive = 0;\r\n    END\r\n\r\nThe entity which maps the `resource_types` table and the named stored procedure query.\r\n\r\n    @NamedStoredProcedureQuery(\r\n            name=&quot;getResourceTypes&quot;,\r\n            procedureName=&quot;get_resource_types&quot;,\r\n            resultClasses = ResourceType.class,\r\n            parameters = {}\r\n    )\r\n    @Entity\r\n    @Table(name = &quot;resource_types&quot;)\r\n    public class ResourceType {\r\n        ... fields with annotations used for validation + getters and setters ...\r\n    }\r\n\r\nAnd here is my `JpaRepository` from which I make the call to the stored procedure\r\n\r\n    @Repository\r\n    public interface ResourceTypeRepository extends JpaRepository&lt;ResourceType, Long&gt; {\r\n        @Procedure(&quot;ResourceType.getResourceTypes&quot;)\r\n        List&lt;ResourceType&gt; getResourceTypes();\r\n    \r\n    }\r\n\r\nThe `getAll()` method which resides in a `@Service`\r\n\r\n    public List&lt;ResourceType&gt; getAll(){\r\n        final List&lt;ResourceType&gt; resourceTypes = resourceTypeRepository.getResourceTypes();\r\n        return resourceTypes;\r\n    }\r\n\r\nWhen I try to run this I get the following stack trace:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null; nested exception is java.lang.IllegalArgumentException: Type cannot be null\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:618)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n    \tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\r\n    \tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n    \tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:144)\r\n    \tat com.test.ihbs.controller.ResourceTypeControllerTest.test_getAll(ResourceTypeControllerTest.java:111)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:64)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:50)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\r\n    \tat org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:106)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)\r\n    \tat org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null; nested exception is java.lang.IllegalArgumentException: Type cannot be null\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:381)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:223)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tat com.sun.proxy.$Proxy87.getResourceTypes(Unknown Source)\r\n    \tat com.ihbs.service.ResourceTypeService.getAll(ResourceTypeService.java:34)\r\n    \tat com.ihbs.controller.ResourceTypeController.getAllResourceTypes(ResourceTypeController.java:44)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n    \t... 58 more\r\n    Caused by: java.lang.IllegalArgumentException: Type cannot be null\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.setHibernateType(AbstractParameterRegistrationImpl.java:182)\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:131)\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:140)\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:77)\r\n    \tat org.hibernate.procedure.internal.PositionalParameterRegistration.&lt;init&gt;(PositionalParameterRegistration.java:41)\r\n    \tat org.hibernate.procedure.internal.ProcedureCallImpl.registerParameter(ProcedureCallImpl.java:275)\r\n    \tat org.hibernate.jpa.internal.StoredProcedureQueryImpl.registerStoredProcedureParameter(StoredProcedureQueryImpl.java:128)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.newAdhocStoredProcedureQuery(StoredProcedureJpaQuery.java:147)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.createStoredProcedure(StoredProcedureJpaQuery.java:110)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.doCreateQuery(StoredProcedureJpaQuery.java:68)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.createQuery(StoredProcedureJpaQuery.java:58)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$ProcedureExecution.doExecute(JpaQueryExecution.java:295)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:74)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:97)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:88)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:395)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:373)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$DefaultMethodInvokingMethodInterceptor.invoke(RepositoryFactorySupport.java:486)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \t... 80 more\r\n\r\nAny ideas why is this happening and how to fix it?\r\n\r\nThe documentation for `InvalidDataAccessApiUsageException` says:\r\n\r\n&gt; Exception thrown on incorrect usage of the API, such as failing to\r\n&gt; &quot;compile&quot; a query object that needed compilation before execution.\r\n&gt; This represents a problem in our Java data access framework, not the\r\n&gt; underlying data access infrastructure.\r\n\r\n**UPDATE 1**\r\n\r\nIf I change the repository into the following code, it will work, which means there are issues with name procedure query. I still need to make the stored procedure way to work. \r\n\r\n    @Repository\r\n    public interface ResourceTypeRepository extends JpaRepository&lt;ResourceType, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT rt FROM ResourceType rt WHERE rt.inactive = 0&quot;)\r\n        List&lt;ResourceType&gt; getResourceTypes();\r\n    \r\n    }\r\n\r\n**UPDATE 2**\r\n\r\nI am not using EclipseLink (or at least I don&#39;t know about his existence)\r\n\r\n**UPDATE 3**\r\n\r\nI could not found the cause of this problem even if I went through the code, debugging. But I found something that may help in finding the issue.\r\n\r\nI found this piece of code in `org/springframework/data/jpa/repository/query/StoredProcedureJpaQuery.java` and if you may notice that on the last line there is a call to a function where it gets the total number of parameters and adds an extra one. Here may be the problem, the extra parameter. Still, this may not be the issue because I suppose it can follow another path under different circumstances.\r\n\r\n    /**\r\n\t * Extracts the output value from the given {@link StoredProcedureQuery}.\r\n\t * \r\n\t * @param storedProcedureQuery must not be {@literal null}.\r\n\t * @return\r\n\t */\r\n\tObject extractOutputValue(StoredProcedureQuery storedProcedureQuery) {\r\n\r\n\t\tAssert.notNull(storedProcedureQuery, &quot;StoredProcedureQuery must not be null!&quot;);\r\n\r\n\t\tif (!procedureAttributes.hasReturnValue()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (StringUtils.hasText(procedureAttributes.getOutputParameterName())) {\r\n\t\t\treturn storedProcedureQuery.getOutputParameterValue(procedureAttributes.getOutputParameterName());\r\n\t\t}\r\n\r\n\t\treturn storedProcedureQuery.getOutputParameterValue(getQueryMethod().getParameters().getNumberOfParameters() + 1);\r\n\t}","title":"IllegalArgumentException: Type cannot be null","body":"<p>I am confronting with an issue and it seems that many people encountered it and probably couldn't solve it.</p>\n\n<p>I have the following MYSQL stored procedure. This is just a sample to see if everything works fine, then I would've start adding parameters like <code>inactive</code>.</p>\n\n<pre><code>CREATE DEFINER=`root`@`localhost` PROCEDURE `get_resource_types`()\nBEGIN\n    SELECT *\n    FROM resource_types\n    WHERE inactive = 0;\nEND\n</code></pre>\n\n<p>The entity which maps the <code>resource_types</code> table and the named stored procedure query.</p>\n\n<pre><code>@NamedStoredProcedureQuery(\n        name=\"getResourceTypes\",\n        procedureName=\"get_resource_types\",\n        resultClasses = ResourceType.class,\n        parameters = {}\n)\n@Entity\n@Table(name = \"resource_types\")\npublic class ResourceType {\n    ... fields with annotations used for validation + getters and setters ...\n}\n</code></pre>\n\n<p>And here is my <code>JpaRepository</code> from which I make the call to the stored procedure</p>\n\n<pre><code>@Repository\npublic interface ResourceTypeRepository extends JpaRepository&lt;ResourceType, Long&gt; {\n    @Procedure(\"ResourceType.getResourceTypes\")\n    List&lt;ResourceType&gt; getResourceTypes();\n\n}\n</code></pre>\n\n<p>The <code>getAll()</code> method which resides in a <code>@Service</code></p>\n\n<pre><code>public List&lt;ResourceType&gt; getAll(){\n    final List&lt;ResourceType&gt; resourceTypes = resourceTypeRepository.getResourceTypes();\n    return resourceTypes;\n}\n</code></pre>\n\n<p>When I try to run this I get the following stack trace:</p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null; nested exception is java.lang.IllegalArgumentException: Type cannot be null\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:618)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:144)\n    at com.test.ihbs.controller.ResourceTypeControllerTest.test_getAll(ResourceTypeControllerTest.java:111)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:64)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:50)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\n    at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:106)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)\n    at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: Type cannot be null; nested exception is java.lang.IllegalArgumentException: Type cannot be null\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:381)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:223)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at com.sun.proxy.$Proxy87.getResourceTypes(Unknown Source)\n    at com.ihbs.service.ResourceTypeService.getAll(ResourceTypeService.java:34)\n    at com.ihbs.controller.ResourceTypeController.getAllResourceTypes(ResourceTypeController.java:44)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\n    ... 58 more\nCaused by: java.lang.IllegalArgumentException: Type cannot be null\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.setHibernateType(AbstractParameterRegistrationImpl.java:182)\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:131)\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:140)\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.&lt;init&gt;(AbstractParameterRegistrationImpl.java:77)\n    at org.hibernate.procedure.internal.PositionalParameterRegistration.&lt;init&gt;(PositionalParameterRegistration.java:41)\n    at org.hibernate.procedure.internal.ProcedureCallImpl.registerParameter(ProcedureCallImpl.java:275)\n    at org.hibernate.jpa.internal.StoredProcedureQueryImpl.registerStoredProcedureParameter(StoredProcedureQueryImpl.java:128)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.newAdhocStoredProcedureQuery(StoredProcedureJpaQuery.java:147)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.createStoredProcedure(StoredProcedureJpaQuery.java:110)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.doCreateQuery(StoredProcedureJpaQuery.java:68)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.createQuery(StoredProcedureJpaQuery.java:58)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$ProcedureExecution.doExecute(JpaQueryExecution.java:295)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:74)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:97)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:88)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:395)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:373)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$DefaultMethodInvokingMethodInterceptor.invoke(RepositoryFactorySupport.java:486)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    ... 80 more\n</code></pre>\n\n<p>Any ideas why is this happening and how to fix it?</p>\n\n<p>The documentation for <code>InvalidDataAccessApiUsageException</code> says:</p>\n\n<blockquote>\n  <p>Exception thrown on incorrect usage of the API, such as failing to\n  \"compile\" a query object that needed compilation before execution.\n  This represents a problem in our Java data access framework, not the\n  underlying data access infrastructure.</p>\n</blockquote>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>If I change the repository into the following code, it will work, which means there are issues with name procedure query. I still need to make the stored procedure way to work. </p>\n\n<pre><code>@Repository\npublic interface ResourceTypeRepository extends JpaRepository&lt;ResourceType, Long&gt; {\n\n    @Query(\"SELECT rt FROM ResourceType rt WHERE rt.inactive = 0\")\n    List&lt;ResourceType&gt; getResourceTypes();\n\n}\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>I am not using EclipseLink (or at least I don't know about his existence)</p>\n\n<p><strong>UPDATE 3</strong></p>\n\n<p>I could not found the cause of this problem even if I went through the code, debugging. But I found something that may help in finding the issue.</p>\n\n<p>I found this piece of code in <code>org/springframework/data/jpa/repository/query/StoredProcedureJpaQuery.java</code> and if you may notice that on the last line there is a call to a function where it gets the total number of parameters and adds an extra one. Here may be the problem, the extra parameter. Still, this may not be the issue because I suppose it can follow another path under different circumstances.</p>\n\n<pre><code>/**\n * Extracts the output value from the given {@link StoredProcedureQuery}.\n * \n * @param storedProcedureQuery must not be {@literal null}.\n * @return\n */\nObject extractOutputValue(StoredProcedureQuery storedProcedureQuery) {\n\n    Assert.notNull(storedProcedureQuery, \"StoredProcedureQuery must not be null!\");\n\n    if (!procedureAttributes.hasReturnValue()) {\n        return null;\n    }\n\n    if (StringUtils.hasText(procedureAttributes.getOutputParameterName())) {\n        return storedProcedureQuery.getOutputParameterValue(procedureAttributes.getOutputParameterName());\n    }\n\n    return storedProcedureQuery.getOutputParameterValue(getQueryMethod().getParameters().getNumberOfParameters() + 1);\n}\n</code></pre>\n"},{"tags":["java","minecraft","aspectj","minecraft-forge"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680243770,"post_id":75892151,"comment_id":133868333,"body_markdown":"My guess is that not AspectJ is the problem but class-loading. Probably whatever plugin you are developing is, when in action, isolated from other plugins in the same JVM with regard to the dependency tree of class-loaders. Furthermore, AspectJ cannot be used to change already loaded classes. Load-time weaving, as the name implies, can only instrument classes while they are being loaded.","body":"My guess is that not AspectJ is the problem but class-loading. Probably whatever plugin you are developing is, when in action, isolated from other plugins in the same JVM with regard to the dependency tree of class-loaders. Furthermore, AspectJ cannot be used to change already loaded classes. Load-time weaving, as the name implies, can only instrument classes while they are being loaded."},{"owner":{"account_id":19891598,"reputation":13,"user_id":14573544,"display_name":"JohnCesario"},"score":0,"creation_date":1680270549,"post_id":75892151,"comment_id":133874537,"body_markdown":"@kriegaex Thank you for your answer. Although I don&#39;t fully understand how FML loads the .jars into the game, I suspect that this might be the problem as well. I&#39;m currently researching the FML docs to see if there is any Mod Lifecyle event I can use instead of weaving. In the meantime, would post-compile weaving be viable in this scenario, assuming the FML loads the other .jars before mine?","body":"@kriegaex Thank you for your answer. Although I don&#39;t fully understand how FML loads the .jars into the game, I suspect that this might be the problem as well. I&#39;m currently researching the FML docs to see if there is any Mod Lifecyle event I can use instead of weaving. In the meantime, would post-compile weaving be viable in this scenario, assuming the FML loads the other .jars before mine?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680273487,"post_id":75892151,"comment_id":133875393,"body_markdown":"Compile-time or post-compile weaving require that you have access to what you want to weave during build time. This is even less likely to work with binaries not under your control during runtime. Why what you want is difficult or even impossible, is easy to understand: If your plugin is part of a public platform, the owners of course want to avoid you hacking the main application or other modules. What you want to do at first glance looks like a hack, though. So good luck with that.","body":"Compile-time or post-compile weaving require that you have access to what you want to weave during build time. This is even less likely to work with binaries not under your control during runtime. Why what you want is difficult or even impossible, is easy to understand: If your plugin is part of a public platform, the owners of course want to avoid you hacking the main application or other modules. What you want to do at first glance looks like a hack, though. So good luck with that."},{"owner":{"account_id":19891598,"reputation":13,"user_id":14573544,"display_name":"JohnCesario"},"score":0,"creation_date":1680274029,"post_id":75892151,"comment_id":133875541,"body_markdown":"@kriegaex makes sense, I didn&#39;t see it that way at first. I&#39;ll try and rely on methods supported by the FML instead to find a new solution. Thanks again!","body":"@kriegaex makes sense, I didn&#39;t see it that way at first. I&#39;ll try and rely on methods supported by the FML instead to find a new solution. Thanks again!"}],"owner":{"account_id":19891598,"reputation":13,"user_id":14573544,"display_name":"JohnCesario"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680230456,"creation_date":1680203850,"question_id":75892151,"body_markdown":"**Context:**\r\nI&#39;ve been working on a fork for the RecipeStages mod https://github.com/DrainBread/RecipeStages/tree/1.16\r\n\r\nThe purpose of my modification is to allow this mod to work with any other mod that adds custom recipes and/or use custom and vanilla working stations.\r\n\r\nAfter attempting different solutions, I found that it would be easier to intercept the invocation of the IRecipe assemble() method implementation to verify if a recipe can be crafted. To do so, I&#39;m using AspectJ.\r\n\r\nHowever I found that the aspect that I developed only works when the method is invoked within the RecipeStages mod and nowhere else.\r\n\r\n**The Question:**\r\nIs it possible to use AspectJ to intercept the invocation of this method across all of the mods installed? if so, how?\r\n\r\nFrom what I&#39;ve learned about AspectJ (which isn&#39;t much, this is my first time ever using it), this would be possible if Load Time Weaving was enabled for the entire project, which in my understanding, that would be the FML. If that is the case, would it be necessary to modify FML to allow this?\r\n\r\n**What I have tried:**\r\nAside from AspectJ, I&#39;ve tried using JavaAssist (with ProxyFactory), however that requires the &quot;reconstruction&quot; of the recipe object, which didn&#39;t go very well - since this is supposed to work with any mod, there is no way to recreate an object that is not declared in this project.\r\nI have researched for a couple of days but there aren&#39;t a lot of info I could find related to AspectJ without Spring and using Gradle. No other mods to my knowledge use this approach either, so I&#39;m starting to question if this is even viable.","title":"AspectJ Load Time Weaving For Any Minecraft Forge Mod Installed","body":"<p><strong>Context:</strong>\nI've been working on a fork for the RecipeStages mod <a href=\"https://github.com/DrainBread/RecipeStages/tree/1.16\" rel=\"nofollow noreferrer\">https://github.com/DrainBread/RecipeStages/tree/1.16</a></p>\n<p>The purpose of my modification is to allow this mod to work with any other mod that adds custom recipes and/or use custom and vanilla working stations.</p>\n<p>After attempting different solutions, I found that it would be easier to intercept the invocation of the IRecipe assemble() method implementation to verify if a recipe can be crafted. To do so, I'm using AspectJ.</p>\n<p>However I found that the aspect that I developed only works when the method is invoked within the RecipeStages mod and nowhere else.</p>\n<p><strong>The Question:</strong>\nIs it possible to use AspectJ to intercept the invocation of this method across all of the mods installed? if so, how?</p>\n<p>From what I've learned about AspectJ (which isn't much, this is my first time ever using it), this would be possible if Load Time Weaving was enabled for the entire project, which in my understanding, that would be the FML. If that is the case, would it be necessary to modify FML to allow this?</p>\n<p><strong>What I have tried:</strong>\nAside from AspectJ, I've tried using JavaAssist (with ProxyFactory), however that requires the &quot;reconstruction&quot; of the recipe object, which didn't go very well - since this is supposed to work with any mod, there is no way to recreate an object that is not declared in this project.\nI have researched for a couple of days but there aren't a lot of info I could find related to AspectJ without Spring and using Gradle. No other mods to my knowledge use this approach either, so I'm starting to question if this is even viable.</p>\n"},{"tags":["java","lombok","annotation-processing"],"comments":[{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687693122,"post_id":75890334,"comment_id":134969445,"body_markdown":"Did u find the solution?","body":"Did u find the solution?"}],"owner":{"account_id":25679443,"reputation":1,"user_id":19442427,"display_name":"Forsteri123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680230178,"creation_date":1680190910,"question_id":75890334,"body_markdown":"I have been trying to do something like The Lombok Project and tried to make com.sun.tools.javac visible but everything I tried didn&#39;t work out.\r\n\r\nTried compiler args in build.gradle\r\n\r\n```\r\ncompileJava{\r\n    options.compilerArgs += [\r\n        &quot;--add-modules&quot;, &quot;jdk.compiler&quot;,\r\n        &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&quot;,\r\n    ]\r\n}\r\n```\r\n\r\n\r\n\r\nTried compilerArgs in pom.xml *(yes, directly ctrl-ced from the lombok project)*\r\n```\r\n&lt;compilerArgs&gt;\r\n    &lt;arg&gt;-Werror&lt;/arg&gt;\r\n    &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n&lt;/compilerArgs&gt;\r\n``` \r\n\r\nBut what did work is `javac --add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED net/forsteri/jsynt/core/Capitalify.java` and did outputs a working class file, but that does not met what I want.\r\n\r\nFull build.gradle: https://pastebin.com/6ugDzQ2g\r\nFull pom.xml: https://pastebin.com/AUzxJcLU","title":"Getting access to com.sun.tools.javac with Java 8+","body":"<p>I have been trying to do something like The Lombok Project and tried to make com.sun.tools.javac visible but everything I tried didn't work out.</p>\n<p>Tried compiler args in build.gradle</p>\n<pre><code>compileJava{\n    options.compilerArgs += [\n        &quot;--add-modules&quot;, &quot;jdk.compiler&quot;,\n        &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&quot;,\n    ]\n}\n</code></pre>\n<p>Tried compilerArgs in pom.xml <em>(yes, directly ctrl-ced from the lombok project)</em></p>\n<pre><code>&lt;compilerArgs&gt;\n    &lt;arg&gt;-Werror&lt;/arg&gt;\n    &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n&lt;/compilerArgs&gt;\n</code></pre>\n<p>But what did work is <code>javac --add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED net/forsteri/jsynt/core/Capitalify.java</code> and did outputs a working class file, but that does not met what I want.</p>\n<p>Full build.gradle: <a href=\"https://pastebin.com/6ugDzQ2g\" rel=\"nofollow noreferrer\">https://pastebin.com/6ugDzQ2g</a>\nFull pom.xml: <a href=\"https://pastebin.com/AUzxJcLU\" rel=\"nofollow noreferrer\">https://pastebin.com/AUzxJcLU</a></p>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680220729,"post_id":75893737,"comment_id":133865868,"body_markdown":"So, change `double max = 0;` to `final double max = 600.00;` and delete the `max = account.balance;` line.","body":"So, change <code>double max = 0;</code> to <code>final double max = 600.00;</code> and delete the <code>max = account.balance;</code> line."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680220908,"post_id":75893737,"comment_id":133865883,"body_markdown":"600 is just an example from the OPs test data, not the value they want to use","body":"600 is just an example from the OPs test data, not the value they want to use"}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680220520,"creation_date":1680220520,"answer_id":75893789,"question_id":75893737,"body_markdown":"Your code is wrong because it saves any account that is the max so far.  The easiest way is to have two passes.\r\n\r\n      public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts) {\r\n            // Find maximum balance of all accounts\r\n            double max = 0;\r\n            for (Account account : accounts) {\r\n                if (account.getBalance() &gt;= max) {\r\n                    max = account.balance;\r\n                }\r\n            }\r\n            // Select accounts whose balance is maximal\r\n            ArrayList&lt;Account&gt; maxBalanceAccounts = new ArrayList&lt;&gt;();\r\n            for (Account account : accounts) {\r\n                if (account.getBalance() &gt;= max) {\r\n                    maxBalanceAccounts.add(account);\r\n                }\r\n            }\r\n            return maxBalanceAccounts;\r\n        }\r\n\r\nThere are other ways to express this, but this seems to be closest to your original formulation, and is conceptually quite simple.\r\n","title":"Trying to fix a method that gives me back the account(s) in the list that have the max value (600)","body":"<p>Your code is wrong because it saves any account that is the max so far.  The easiest way is to have two passes.</p>\n<pre><code>  public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts) {\n        // Find maximum balance of all accounts\n        double max = 0;\n        for (Account account : accounts) {\n            if (account.getBalance() &gt;= max) {\n                max = account.balance;\n            }\n        }\n        // Select accounts whose balance is maximal\n        ArrayList&lt;Account&gt; maxBalanceAccounts = new ArrayList&lt;&gt;();\n        for (Account account : accounts) {\n            if (account.getBalance() &gt;= max) {\n                maxBalanceAccounts.add(account);\n            }\n        }\n        return maxBalanceAccounts;\n    }\n</code></pre>\n<p>There are other ways to express this, but this seems to be closest to your original formulation, and is conceptually quite simple.</p>\n"},{"tags":[],"owner":{"account_id":21776732,"reputation":46,"user_id":16079033,"display_name":"ProgrammingSolver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680229884,"creation_date":1680229884,"answer_id":75894393,"question_id":75893737,"body_markdown":"This returns an ArrayList of the accounts that are equal to or more than the max value.\r\n````\r\npublic static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts) {\r\n    ArrayList&lt;Account&gt; correctAccounts = new ArrayList&lt;&gt;();\r\n    double max = 600.0;\r\n    for (Account selected: accounts){\r\n        if(selected.getBalance() &gt;= max){\r\n            correctAccounts.add(selected);\r\n        }\r\n    }\r\n    return correctAccounts;\r\n}\r\n````\r\nAdditionally, to make your code easier to modify in the future, you should make max either an attribute within class Account or a parameter of maxBalanceAccounts.","title":"Trying to fix a method that gives me back the account(s) in the list that have the max value (600)","body":"<p>This returns an ArrayList of the accounts that are equal to or more than the max value.</p>\n<pre><code>public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts) {\n    ArrayList&lt;Account&gt; correctAccounts = new ArrayList&lt;&gt;();\n    double max = 600.0;\n    for (Account selected: accounts){\n        if(selected.getBalance() &gt;= max){\n            correctAccounts.add(selected);\n        }\n    }\n    return correctAccounts;\n}\n</code></pre>\n<p>Additionally, to make your code easier to modify in the future, you should make max either an attribute within class Account or a parameter of maxBalanceAccounts.</p>\n"}],"owner":{"display_name":"user19382080"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680229884,"creation_date":1680219459,"question_id":75893737,"body_markdown":"Trying to fix some code I&#39;m having trouble with, it&#39;s giving me an unwanted account object in the array.\r\n\r\n    public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts){\r\n            ArrayList&lt;Account&gt; maxBalanceAccounts = new ArrayList&lt;&gt;();\r\n            double max = 0;\r\n            for(Account account : accounts){\r\n                if(account.getBalance()&gt;=max){\r\n                    max = account.balance;\r\n                    maxBalanceAccounts.add(account);\r\n                }\r\n            }\r\n            return maxBalanceAccounts;\r\n        }\r\n\r\nThe outcome is [Checking{accountNumber=1, balance=200.0}, Savings{accountNumber=2, balance=600.0}, Savings{accountNumber=4, balance=600.0}]\r\nI want to remove the account with 200.0.","title":"Trying to fix a method that gives me back the account(s) in the list that have the max value (600)","body":"<p>Trying to fix some code I'm having trouble with, it's giving me an unwanted account object in the array.</p>\n<pre><code>public static ArrayList&lt;Account&gt; maxBalanceAccounts(ArrayList&lt;Account&gt; accounts){\n        ArrayList&lt;Account&gt; maxBalanceAccounts = new ArrayList&lt;&gt;();\n        double max = 0;\n        for(Account account : accounts){\n            if(account.getBalance()&gt;=max){\n                max = account.balance;\n                maxBalanceAccounts.add(account);\n            }\n        }\n        return maxBalanceAccounts;\n    }\n</code></pre>\n<p>The outcome is [Checking{accountNumber=1, balance=200.0}, Savings{accountNumber=2, balance=600.0}, Savings{accountNumber=4, balance=600.0}]\nI want to remove the account with 200.0.</p>\n"},{"tags":["java","ssl-certificate","keytool","jks"],"answers":[{"tags":[],"owner":{"account_id":224322,"reputation":451,"user_id":5647851,"display_name":"C&#233;sar Alves"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641956075,"creation_date":1630427751,"answer_id":69002376,"question_id":69002199,"body_markdown":"Basically it&#39;s saying that if you don&#39;t specify which key to import, you can&#39;t specify which alias you want for the key; it will import all keys.\r\n\r\nMaybe it is a mistype and you are specifying `-destalias` twice instead of `-destalias` and `-srcalias`","title":"Java keytool importkeystore and set alias","body":"<p>Basically it's saying that if you don't specify which key to import, you can't specify which alias you want for the key; it will import all keys.</p>\n<p>Maybe it is a mistype and you are specifying <code>-destalias</code> twice instead of <code>-destalias</code> and <code>-srcalias</code></p>\n"},{"tags":[],"owner":{"account_id":2172254,"reputation":548,"user_id":2396732,"accept_rate":100,"display_name":"JCM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655220214,"creation_date":1655220214,"answer_id":72619581,"question_id":69002199,"body_markdown":"\r\nYou need to specify both parameters (ensure you are only importing one cert.):\r\n\r\n    -alias &quot;IMPORT_ALIAS&quot; -destalias &quot;YOUR_ALIAS&quot;","title":"Java keytool importkeystore and set alias","body":"<p>You need to specify both parameters (ensure you are only importing one cert.):</p>\n<pre><code>-alias &quot;IMPORT_ALIAS&quot; -destalias &quot;YOUR_ALIAS&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6567415,"reputation":71,"user_id":5083423,"display_name":"hongwei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680228842,"creation_date":1680228842,"answer_id":75894325,"question_id":69002199,"body_markdown":"the &quot;srcalias&quot; parameter uses &quot;1&quot;\r\n```shell\r\nkeytool -importkeystore -srcalias 1 -destalias &quot;DEST&quot;\r\n```\r\n\r\n","title":"Java keytool importkeystore and set alias","body":"<p>the &quot;srcalias&quot; parameter uses &quot;1&quot;</p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -importkeystore -srcalias 1 -destalias &quot;DEST&quot;\n</code></pre>\n"}],"owner":{"account_id":22611501,"reputation":31,"user_id":16791596,"display_name":"user16791596"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680228842,"creation_date":1630426903,"question_id":69002199,"body_markdown":"I try to import certificate and private key from p12 to keystore and set alias:\r\n\r\n    keytool -destalias point_4432 -importkeystore -deststorepass changeit -destkeypass changeit -destkeystore MY_KEYSTORE.jks -srckeystore point_4432.p12 -srcstoretype PKCS12 -srcstorepass pass123\r\n\r\nbut I get and error:\r\n\r\n&gt; keytool error: java.lang.Exception: if alias not specified, destalias\r\n&gt; and srckeypass must not be specified\r\n\r\nplease, help, how to set alias in time export? thanks!","title":"Java keytool importkeystore and set alias","body":"<p>I try to import certificate and private key from p12 to keystore and set alias:</p>\n<pre><code>keytool -destalias point_4432 -importkeystore -deststorepass changeit -destkeypass changeit -destkeystore MY_KEYSTORE.jks -srckeystore point_4432.p12 -srcstoretype PKCS12 -srcstorepass pass123\n</code></pre>\n<p>but I get and error:</p>\n<blockquote>\n<p>keytool error: java.lang.Exception: if alias not specified, destalias\nand srckeypass must not be specified</p>\n</blockquote>\n<p>please, help, how to set alias in time export? thanks!</p>\n"},{"tags":["java","reactjs","spring","spring-boot","cors"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1658659559,"post_id":73097587,"comment_id":129101544,"body_markdown":"What is your version of Spring Boot and/or Spring Framework? Post all class, not just method.","body":"What is your version of Spring Boot and/or Spring Framework? Post all class, not just method."},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":1,"creation_date":1658660321,"post_id":73097587,"comment_id":129101661,"body_markdown":"Post full import packages... I cannot detect you use Spring use Servlet or Reactive.","body":"Post full import packages... I cannot detect you use Spring use Servlet or Reactive."},{"owner":{"account_id":18600625,"reputation":36,"user_id":13555533,"display_name":"Arpit Awasthi"},"score":0,"creation_date":1658660902,"post_id":73097587,"comment_id":129101767,"body_markdown":"pasted all the imports","body":"pasted all the imports"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658660498,"creation_date":1658660110,"answer_id":73097755,"question_id":73097587,"body_markdown":"Because Required type is `CorsConfigurationSource` , but you provided `UrlBasedCorsConfigurationSource` . You also cannot cast in this case (I tried).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you want create your own Filter, use like this\r\n\r\n```java\r\npackage com.example.security;\r\n\r\nimport org.springframework.web.filter.GenericFilterBean;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport java.io.IOException;\r\n\r\npublic class CustomFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\nthen use like this\r\n\r\n```java\r\npackage com.example.security;\r\n\r\nimport com.example.security.jwt.AuthEntryPointJwt;\r\nimport com.example.security.jwt.AuthTokenFilter;\r\nimport com.example.security.services.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\nimport org.springframework.security.web.server.SecurityWebFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        // securedEnabled = true,\r\n        // jsr250Enabled = true,\r\n        prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        //;\r\n\r\n       // .addFilterAfter(new CustomFilter(), BasicAuthenticationFilter.class); // &lt;-- Add filter.\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YyphX.png","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>Because Required type is <code>CorsConfigurationSource</code> , but you provided <code>UrlBasedCorsConfigurationSource</code> . You also cannot cast in this case (I tried).</p>\n<p><a href=\"https://i.stack.imgur.com/YyphX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YyphX.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want create your own Filter, use like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.security;\n\nimport org.springframework.web.filter.GenericFilterBean;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport java.io.IOException;\n\npublic class CustomFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>then use like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.security;\n\nimport com.example.security.jwt.AuthEntryPointJwt;\nimport com.example.security.jwt.AuthTokenFilter;\nimport com.example.security.services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\nimport org.springframework.security.web.server.SecurityWebFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        // securedEnabled = true,\n        // jsr250Enabled = true,\n        prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\n                .anyRequest().authenticated();\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n        //;\n\n       // .addFilterAfter(new CustomFilter(), BasicAuthenticationFilter.class); // &lt;-- Add filter.\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18600625,"reputation":36,"user_id":13555533,"display_name":"Arpit Awasthi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658665729,"creation_date":1658665729,"answer_id":73098404,"question_id":73097587,"body_markdown":"Resolved:\r\n\r\npackage should be org.springframework.web.cors.UrlBasedCorsConfigurationSource and not org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>Resolved:</p>\n<p>package should be org.springframework.web.cors.UrlBasedCorsConfigurationSource and not org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource</p>\n"},{"tags":[],"owner":{"account_id":21494437,"reputation":1,"user_id":15839659,"display_name":"Sachin Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678937038,"creation_date":1678937038,"answer_id":75751893,"question_id":73097587,"body_markdown":"It is because some modules in SpringBoot 6 have been **deprecated**. Replace the old code with the **following code** in your **Config file**.\r\n\r\n    \tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\tregistry.addMapping(&quot;/**&quot;)\r\n\t\t\t.allowedOrigins(&quot;*&quot;)\r\n\t\t\t.allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;)\r\n\t\t\t.allowedHeaders(&quot;Authorization&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;)\r\n\t\t\t.allowCredentials(true).maxAge(3600);\r\n\t}\r\n","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>It is because some modules in SpringBoot 6 have been <strong>deprecated</strong>. Replace the old code with the <strong>following code</strong> in your <strong>Config file</strong>.</p>\n<pre><code>    public void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;)\n        .allowedOrigins(&quot;*&quot;)\n        .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;)\n        .allowedHeaders(&quot;Authorization&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;)\n        .allowCredentials(true).maxAge(3600);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23097958,"reputation":61,"user_id":17207769,"display_name":"Mike En"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680227117,"creation_date":1680227117,"answer_id":75894204,"question_id":73097587,"body_markdown":"org.springframework.web.cors.UrlBasedCorsConfigurationSource and not org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource\r\n\r\nThis worked for me. Change your import to \r\norg.springframework.web.cors.UrlBasedCorsConfigurationSource \r\n","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>org.springframework.web.cors.UrlBasedCorsConfigurationSource and not org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource</p>\n<p>This worked for me. Change your import to\norg.springframework.web.cors.UrlBasedCorsConfigurationSource</p>\n"}],"owner":{"account_id":18600625,"reputation":36,"user_id":13555533,"display_name":"Arpit Awasthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1680227117,"creation_date":1658658609,"question_id":73097587,"body_markdown":"While creating the object of `FilterRegistrationBean` in Spring Noot, I am facing the error\r\n \r\n```\r\nThe constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined.\r\n```\r\n\r\nBelow is the code snippet for the same.\r\n```java\r\n@Bean\r\npublic FilterRegistrationBean coresFilter()\r\n{\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();    \r\n    CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n    corsConfiguration.setAllowCredentials(true);\r\n    corsConfiguration.addAllowedOriginPattern(&quot;*&quot;);\r\n    corsConfiguration.addAllowedHeader(&quot;Authorization&quot;);\r\n    corsConfiguration.addAllowedHeader(&quot;Content-Type&quot;);\r\n    corsConfiguration.addAllowedHeader(&quot;Accept&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;POST&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;GET&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;DELETE&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;PUT&quot;);\r\n    corsConfiguration.addAllowedMethod(&quot;OPTIONS&quot;);\r\n    corsConfiguration.setMaxAge(3600L);    \r\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);    \r\n    FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));  //getting error in this line\r\n    return bean;\r\n}\r\n```\r\n\r\nI don&#39;t know what is going wrong here, need help.\r\n\r\n\r\nThe entire class is pasted below:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableWebMvc\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\tpublic static final String[] PUBLIC_URLS = {\r\n\t\t\t&quot;/api/v1/auth/**&quot;, \r\n\t\t\t&quot;/v3/api-docs&quot;,\r\n\t\t\t&quot;/v2/api-docs&quot;,\r\n\t\t\t&quot;/swagger-resources/**&quot;,\r\n\t\t\t&quot;/swagger-ui/**&quot;,\r\n\t\t\t&quot;/webjars/**&quot;\r\n\t\t\t};\r\n\t\r\n\t@Autowired\r\n\tprivate CustomUserDetailService customUserDetailService;\r\n\t\r\n\t@Autowired\r\n\tprivate JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n\t\r\n\t@Autowired\r\n\tprivate JwtAuthenticationFilter authenticationFilter;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp\r\n\t\t.csrf()\r\n\t\t.disable()\r\n\t\t.authorizeHttpRequests()\r\n\t\t.antMatchers(PUBLIC_URLS).permitAll()\r\n\t\t.antMatchers(HttpMethod.GET).permitAll()\r\n\t\t.anyRequest()\r\n\t\t.authenticated()\r\n\t\t.and()\r\n\t\t.exceptionHandling().authenticationEntryPoint(this.authenticationEntryPoint)\r\n\t\t.and()\r\n\t\t.sessionManagement()\r\n\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\t\r\n\t\thttp.addFilterBefore(this.authenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(this.customUserDetailService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic FilterRegistrationBean coresFilter()\r\n\t{\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\t\r\n\t\tCorsConfiguration corsConfiguration = new CorsConfiguration();\r\n\t\tcorsConfiguration.setAllowCredentials(true);\r\n\t\tcorsConfiguration.addAllowedOriginPattern(&quot;*&quot;);\r\n\t\tcorsConfiguration.addAllowedHeader(&quot;Authorization&quot;);\r\n\t\tcorsConfiguration.addAllowedHeader(&quot;Content-Type&quot;);\r\n\t\tcorsConfiguration.addAllowedHeader(&quot;Accept&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;POST&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;GET&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;DELETE&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;PUT&quot;);\r\n\t\tcorsConfiguration.addAllowedMethod(&quot;OPTIONS&quot;);\r\n\t\tcorsConfiguration.setMaxAge(3600L);\r\n\t\t\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\t\t\r\n\t\t\r\n\t\tFilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\r\n\t\treturn bean;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\nHere are all the import packages:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;\r\n    import org.springframework.web.filter.CorsFilter;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n\r\n    import com.springboot.blog.security.CustomUserDetailService;\r\n    import com.springboot.blog.security.JwtAuthenticationEntryPoint;\r\n    import com.springboot.blog.security.JwtAuthenticationFilter;","title":"Getting &quot;The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined&quot; error","body":"<p>While creating the object of <code>FilterRegistrationBean</code> in Spring Noot, I am facing the error</p>\n<pre><code>The constructor CorsFilter(UrlBasedCorsConfigurationSource) is undefined.\n</code></pre>\n<p>Below is the code snippet for the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FilterRegistrationBean coresFilter()\n{\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();    \n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    corsConfiguration.setAllowCredentials(true);\n    corsConfiguration.addAllowedOriginPattern(&quot;*&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Authorization&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Content-Type&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Accept&quot;);\n    corsConfiguration.addAllowedMethod(&quot;POST&quot;);\n    corsConfiguration.addAllowedMethod(&quot;GET&quot;);\n    corsConfiguration.addAllowedMethod(&quot;DELETE&quot;);\n    corsConfiguration.addAllowedMethod(&quot;PUT&quot;);\n    corsConfiguration.addAllowedMethod(&quot;OPTIONS&quot;);\n    corsConfiguration.setMaxAge(3600L);    \n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);    \n    FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));  //getting error in this line\n    return bean;\n}\n</code></pre>\n<p>I don't know what is going wrong here, need help.</p>\n<p>The entire class is pasted below:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableWebMvc\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\npublic static final String[] PUBLIC_URLS = {\n        &quot;/api/v1/auth/**&quot;, \n        &quot;/v3/api-docs&quot;,\n        &quot;/v2/api-docs&quot;,\n        &quot;/swagger-resources/**&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/webjars/**&quot;\n        };\n\n@Autowired\nprivate CustomUserDetailService customUserDetailService;\n\n@Autowired\nprivate JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n@Autowired\nprivate JwtAuthenticationFilter authenticationFilter;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    \n    http\n    .csrf()\n    .disable()\n    .authorizeHttpRequests()\n    .antMatchers(PUBLIC_URLS).permitAll()\n    .antMatchers(HttpMethod.GET).permitAll()\n    .anyRequest()\n    .authenticated()\n    .and()\n    .exceptionHandling().authenticationEntryPoint(this.authenticationEntryPoint)\n    .and()\n    .sessionManagement()\n    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    \n    http.addFilterBefore(this.authenticationFilter, UsernamePasswordAuthenticationFilter.class);\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(this.customUserDetailService).passwordEncoder(passwordEncoder());\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder()\n{\n    return new BCryptPasswordEncoder();\n}\n\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    // TODO Auto-generated method stub\n    return super.authenticationManagerBean();\n}\n\n@Bean\npublic FilterRegistrationBean coresFilter()\n{\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    \n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    corsConfiguration.setAllowCredentials(true);\n    corsConfiguration.addAllowedOriginPattern(&quot;*&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Authorization&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Content-Type&quot;);\n    corsConfiguration.addAllowedHeader(&quot;Accept&quot;);\n    corsConfiguration.addAllowedMethod(&quot;POST&quot;);\n    corsConfiguration.addAllowedMethod(&quot;GET&quot;);\n    corsConfiguration.addAllowedMethod(&quot;DELETE&quot;);\n    corsConfiguration.addAllowedMethod(&quot;PUT&quot;);\n    corsConfiguration.addAllowedMethod(&quot;OPTIONS&quot;);\n    corsConfiguration.setMaxAge(3600L);\n    \n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n    \n    \n    FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n    return bean;\n}\n</code></pre>\n<p>}</p>\n<p>Here are all the import packages:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\nimport com.springboot.blog.security.CustomUserDetailService;\nimport com.springboot.blog.security.JwtAuthenticationEntryPoint;\nimport com.springboot.blog.security.JwtAuthenticationFilter;\n</code></pre>\n"},{"tags":["java","spring","forms","thymeleaf","http-request-parameters"],"comments":[{"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"score":0,"creation_date":1680224153,"post_id":75893931,"comment_id":133866221,"body_markdown":"Your question is duplicated. Please [see](https://stackoverflow.com/questions/43305607/request-parameter-with-thymeleaf)","body":"Your question is duplicated. Please <a href=\"https://stackoverflow.com/questions/43305607/request-parameter-with-thymeleaf\">see</a>"},{"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"score":0,"creation_date":1680224213,"post_id":75893931,"comment_id":133866231,"body_markdown":"The answer to that question uses a GET mapping for a form. I want to get the data after the submit button is clicked, so a POST mapping","body":"The answer to that question uses a GET mapping for a form. I want to get the data after the submit button is clicked, so a POST mapping"}],"answers":[{"tags":[],"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680226642,"creation_date":1680226218,"answer_id":75894152,"question_id":75893931,"body_markdown":"To send data from a Thymeleaf form to a Spring REST controller as request parameters and POST mapping, you can follow these example:\r\n\r\n    &lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\r\n    &lt;label&gt;Username: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;label&gt;Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\r\n    &lt;/form&gt;\r\nand for Controller\r\n\r\n\r\n       @Controller\r\n       public class LoginController {\r\n        @PostMapping(&quot;/login&quot;)\r\n        public String login(@RequestParam String username, @RequestParam String password, Model model) {\r\n            if (&quot;admin&quot;.equals(username) &amp;&amp; &quot;admin&quot;.equals(password)) {\r\n                System.out.printf(&quot;username:%s and password:%s&quot;, username, password);\r\n                model.addAttribute(&quot;username&quot;, username);\r\n                return &quot;redirect:/success&quot;;\r\n            }\r\n    \r\n            model.addAttribute(&quot;error&quot;, &quot;Invalid username or password&quot;);\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\nand you can post data with\r\n\r\n    http://localhost:8080/login?username=admin&amp;password=admin\r\n\r\n    \r\n\r\n","title":"How to send a Thymeleaf input value as a request parameter to controller in Java Spring?","body":"<p>To send data from a Thymeleaf form to a Spring REST controller as request parameters and POST mapping, you can follow these example:</p>\n<pre><code>&lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\n&lt;label&gt;Username: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/label&gt;&lt;br&gt;\n&lt;label&gt;Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;/label&gt;&lt;br&gt;\n&lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>and for Controller</p>\n<pre><code>   @Controller\n   public class LoginController {\n    @PostMapping(&quot;/login&quot;)\n    public String login(@RequestParam String username, @RequestParam String password, Model model) {\n        if (&quot;admin&quot;.equals(username) &amp;&amp; &quot;admin&quot;.equals(password)) {\n            System.out.printf(&quot;username:%s and password:%s&quot;, username, password);\n            model.addAttribute(&quot;username&quot;, username);\n            return &quot;redirect:/success&quot;;\n        }\n\n        model.addAttribute(&quot;error&quot;, &quot;Invalid username or password&quot;);\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>and you can post data with</p>\n<pre><code>http://localhost:8080/login?username=admin&amp;password=admin\n</code></pre>\n"}],"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75894152,"answer_count":1,"score":-1,"last_activity_date":1680226642,"creation_date":1680222732,"question_id":75893931,"body_markdown":"I am using Thymeleaf forms and traditional Spring rest controllers to make API requests to an external platform.\r\n\r\nThe Thymeleaf form is a simple login form with 2 fields and a submit button. After the user presses submit, the data from the 2 fields needs to be sent as request parameters to a GET mapping method inside the controller. \r\n\r\nWhat&#39;s the easiest way to achieve this?\r\n\r\nThanks","title":"How to send a Thymeleaf input value as a request parameter to controller in Java Spring?","body":"<p>I am using Thymeleaf forms and traditional Spring rest controllers to make API requests to an external platform.</p>\n<p>The Thymeleaf form is a simple login form with 2 fields and a submit button. After the user presses submit, the data from the 2 fields needs to be sent as request parameters to a GET mapping method inside the controller.</p>\n<p>What's the easiest way to achieve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","generics","design-patterns","interface"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1680226858,"post_id":75894019,"comment_id":133866518,"body_markdown":"IMHO having a service just frontiend-ending a repository (and not adding anything to that) is bad practice, adding code for no reason.   Instead, the repository can be thought of AS a service - ie no problem having the controller call the repository directly.   For further discussion, see https://softwareengineering.stackexchange.com/questions/306890/is-it-bad-practice-that-a-controller-calls-a-repository-instead-of-a-service","body":"IMHO having a service just frontiend-ending a repository (and not adding anything to that) is bad practice, adding code for no reason.   Instead, the repository can be thought of AS a service - ie no problem having the controller call the repository directly.   For further discussion, see <a href=\"https://softwareengineering.stackexchange.com/questions/306890/is-it-bad-practice-that-a-controller-calls-a-repository-instead-of-a-service\" title=\"is it bad practice that a controller calls a repository instead of a service\">softwareengineering.stackexchange.com/questions/306890/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680226593,"creation_date":1680226593,"answer_id":75894175,"question_id":75894019,"body_markdown":"This is not a good idea.\r\n\r\nHaving a number of classes which implement an interface is a good idea when you want to use instances of classes which implement the interface without knowing their concrete class.\r\n\r\nIf you had a collection of all your `XxxServiceImpl` classes, and wanted to run a method from `BaseCommonOperationInterface` on each of them, then the interface would be useful. But that&#39;s not typically how services are used -- they are injected explicitly into the controller classes which need them.\r\n\r\nHaving a common interface means that when you add a method to one service you need to add it to all -- but perhaps the services are different.\r\n\r\nYou propose an abstract base class so that you can have a no-operation implementation for some services, but this just makes your services confusing -- should we expect calling this method to do something or not? Users of the services will wonder why a particular service has a method on it which it doesn&#39;t need, not knowing that the interface requires it, and the implementation does nothing.\r\n\r\nFinally, if you do have a good reason for enforcing that a method exists on all your services, then yes, use an interface, but *don&#39;t* put an empty implementation in an abstract class.\r\n\r\nWithout that abstract class, you will be forced to consider: what implementation does this service need for the new method? If a default implementation exists, ir will be very easy to miss thinking about a service when a new method is added.","title":"Is good Idea Apply a generic common functions to all services using interfaces an abstracts?","body":"<p>This is not a good idea.</p>\n<p>Having a number of classes which implement an interface is a good idea when you want to use instances of classes which implement the interface without knowing their concrete class.</p>\n<p>If you had a collection of all your <code>XxxServiceImpl</code> classes, and wanted to run a method from <code>BaseCommonOperationInterface</code> on each of them, then the interface would be useful. But that's not typically how services are used -- they are injected explicitly into the controller classes which need them.</p>\n<p>Having a common interface means that when you add a method to one service you need to add it to all -- but perhaps the services are different.</p>\n<p>You propose an abstract base class so that you can have a no-operation implementation for some services, but this just makes your services confusing -- should we expect calling this method to do something or not? Users of the services will wonder why a particular service has a method on it which it doesn't need, not knowing that the interface requires it, and the implementation does nothing.</p>\n<p>Finally, if you do have a good reason for enforcing that a method exists on all your services, then yes, use an interface, but <em>don't</em> put an empty implementation in an abstract class.</p>\n<p>Without that abstract class, you will be forced to consider: what implementation does this service need for the new method? If a default implementation exists, ir will be very easy to miss thinking about a service when a new method is added.</p>\n"}],"owner":{"account_id":13552333,"reputation":449,"user_id":9776852,"display_name":"Alexander Bravo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680619241,"answer_count":1,"score":0,"last_activity_date":1680226593,"creation_date":1680224282,"question_id":75894019,"body_markdown":"I am starting a new project using Spring Boot 3. We are still at an early stage of the project and still defining things. so, being said that. Here is my question:\r\n\r\n**The problem I want to solve:** the service layer which is meant to handle all the business logic shares common functions among the entities, eg: CRUD functions and others.\r\n\r\n**Proposal:** Create a Generic interface with all common functions. then: creates an Abstract class that will implement this interface and override; why an Abstract because I want to prevent the paint of adding new functions to the parent interface and going through all the implemented cases.\r\n\r\n**Here is an example I implemented:**\r\n```java\r\n// Project stucture.\r\nmain-project\r\n|-src\r\n   |--main\r\n       |-java\r\n          |-com.project\r\n               |-entities\r\n               |-repositories\r\n               |-service\r\n               |    |-implementation    \r\n               |-rest\r\n```\r\n**now**\r\nWe all know what is inside entities, repositories and rest package, here is my service package implementation:\r\n\r\n**BaseCommonOperationInterface**\r\n```java\r\npublic interface BaseCommonOperationInterface&lt;E, V&gt; {\r\n\r\n  E createItemOf(V requestDto);\r\n  E updateItemfrom(final Long identifier, V requestDto);\r\n  void deleteItem(final Long identifier);\r\n  Optional&lt;E&gt; findSingleRecordByIdentifier(Long skillDicCategoryId);\r\n  List&lt;E&gt; listAllItems();\r\n//more common function...\r\n}\r\n```\r\n**BusinessBaseAbstract**\r\n\r\n```java\r\npuiblic abstract class BusinessBaseAbstract&lt;E, V&gt; implements BaseCommonOperationInterface&lt;E, V&gt;{\r\n//Here override all methods from interface...\r\n @Override\r\n  public List&lt;E&gt; listAllItems() {\r\n    return Collections.emptyList();\r\n  }\r\n//...\r\n}\r\n```\r\n**DictionaryService**\r\n```java\r\npublic interface DictionaryService implement BaseCommonOperationInterface&lt;DictionaryEntity, DictionaryrequestDto&gt;{}\r\n```\r\n\r\n**DictionaryServiveImpl**\r\n```java\r\n\r\n@RequieredArgConstructor\r\n@Service\r\npublic class DictionaryServiveImpl extends BusinessBaseAbstract&lt;DictionaryEntity, DictionaryrequestDto&gt; implements DictionaryService{\r\nprivate final DictionaryRepository dictionaryRepository;\r\n\r\n//I can override eather single common function or all of them\r\n@override\r\npublic List&lt;DictionaryEntity&gt; listAllItems(){\r\n return dictionaryRepository.findAll()\r\n}\r\n// all the methods I need overrided here...\r\n}\r\n```\r\n\r\n**DictionaryController**\r\n```java\r\n@RestController\r\npublic class DictionaryController{\r\n\r\nprivate final DictionaryService service;\r\n\r\n@GetMapping(&quot;/dictionary&quot;)\r\npublic List&lt;DictionarEntity&gt; getAllofThem(){\r\nreturn service.listAllItems();\r\n}\r\n//Here rest of implementations...\r\n}\r\n```\r\nWhy no call the DictionaryRepository from the controller beacause we want to keep the Rest Controller clean as much as possible and delegate all business logic to Service package.\r\n\r\nDoes this pattern make sense?\r\nare there advantages and disavantages?\r\nare there others pattern that I can apply to abstract common function?","title":"Is good Idea Apply a generic common functions to all services using interfaces an abstracts?","body":"<p>I am starting a new project using Spring Boot 3. We are still at an early stage of the project and still defining things. so, being said that. Here is my question:</p>\n<p><strong>The problem I want to solve:</strong> the service layer which is meant to handle all the business logic shares common functions among the entities, eg: CRUD functions and others.</p>\n<p><strong>Proposal:</strong> Create a Generic interface with all common functions. then: creates an Abstract class that will implement this interface and override; why an Abstract because I want to prevent the paint of adding new functions to the parent interface and going through all the implemented cases.</p>\n<p><strong>Here is an example I implemented:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Project stucture.\nmain-project\n|-src\n   |--main\n       |-java\n          |-com.project\n               |-entities\n               |-repositories\n               |-service\n               |    |-implementation    \n               |-rest\n</code></pre>\n<p><strong>now</strong>\nWe all know what is inside entities, repositories and rest package, here is my service package implementation:</p>\n<p><strong>BaseCommonOperationInterface</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BaseCommonOperationInterface&lt;E, V&gt; {\n\n  E createItemOf(V requestDto);\n  E updateItemfrom(final Long identifier, V requestDto);\n  void deleteItem(final Long identifier);\n  Optional&lt;E&gt; findSingleRecordByIdentifier(Long skillDicCategoryId);\n  List&lt;E&gt; listAllItems();\n//more common function...\n}\n</code></pre>\n<p><strong>BusinessBaseAbstract</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>puiblic abstract class BusinessBaseAbstract&lt;E, V&gt; implements BaseCommonOperationInterface&lt;E, V&gt;{\n//Here override all methods from interface...\n @Override\n  public List&lt;E&gt; listAllItems() {\n    return Collections.emptyList();\n  }\n//...\n}\n</code></pre>\n<p><strong>DictionaryService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DictionaryService implement BaseCommonOperationInterface&lt;DictionaryEntity, DictionaryrequestDto&gt;{}\n</code></pre>\n<p><strong>DictionaryServiveImpl</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RequieredArgConstructor\n@Service\npublic class DictionaryServiveImpl extends BusinessBaseAbstract&lt;DictionaryEntity, DictionaryrequestDto&gt; implements DictionaryService{\nprivate final DictionaryRepository dictionaryRepository;\n\n//I can override eather single common function or all of them\n@override\npublic List&lt;DictionaryEntity&gt; listAllItems(){\n return dictionaryRepository.findAll()\n}\n// all the methods I need overrided here...\n}\n</code></pre>\n<p><strong>DictionaryController</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class DictionaryController{\n\nprivate final DictionaryService service;\n\n@GetMapping(&quot;/dictionary&quot;)\npublic List&lt;DictionarEntity&gt; getAllofThem(){\nreturn service.listAllItems();\n}\n//Here rest of implementations...\n}\n</code></pre>\n<p>Why no call the DictionaryRepository from the controller beacause we want to keep the Rest Controller clean as much as possible and delegate all business logic to Service package.</p>\n<p>Does this pattern make sense?\nare there advantages and disavantages?\nare there others pattern that I can apply to abstract common function?</p>\n"},{"tags":["java","algorithm","sorting","merge"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680226544,"creation_date":1680055317,"answer_id":75872491,"question_id":75872104,"body_markdown":"The issue with the algorithm you wrote was that when it went to merge things the `numbers` List wasn&#39;t an empty List.  Therefore, calling `add` was expanding the numbers array with duplicates from `left` and `right`.  I&#39;d suggest calling `numbers.clear()` before you start the merging process, or use `List.set` to overwrite what number is at each location.  If you did something like this:\r\n\r\n```\r\nint i = 0, j = 0;\r\nfor( int k = 0; k &lt; numbers.size(); k++ ) {\r\n    if( j &lt; right.size() &amp;&amp; i &lt; left.size() ) {\r\n       if( left.get(i) &lt; right.get(j) ) {\r\n           numbers.set(k, left.get(i));\r\n           i++;\r\n       } else {\r\n           numbers.set(k, right.get(j));\r\n           j++;\r\n       }\r\n    } else if( i &lt; left.size() ) {\r\n       numbers.set( k, left.get(i) );\r\n       i++;\r\n    } else if( j &lt; right.size() ) {\r\n       numbers.set( k, right.get(j) );\r\n       j++;\r\n    }\r\n}\r\n```\r\n\r\nThat cleans it up a bit by making it happen in a single loop.\r\n\r\nWhen creating left and right here is a simple one line way to copy List:\r\n\r\n```\r\nList&lt;Integer&gt; left = new ArrayList&lt;&gt;( numbers.subList( 0, mid ) );\r\nList&lt;Integer&gt; right = new ArrayList&lt;&gt;( numbers.subList( mid, numbers.size() );\r\n```\r\n\r\nI&#39;d suggest printing out the array on each call of mergeSort so you can see what the algorithm is doing:\r\n\r\n```\r\npublic void printArray( List&lt;Integer&gt; arr ) {\r\n   System.out.print(&quot;[ &quot;);\r\n   boolean first = true;\r\n   for( Integer i : arr ) {\r\n      if( !first ) print(&quot;, &quot;)\r\n      System.out.print( i );\r\n      first = false;\r\n   }\r\n   System.out.println(&quot; ]&quot;);\r\n}\r\n```\r\n\r\nAlso understand the relation between `java.util.List` and `java.util.ArrayList`, and make effective use of `List` where you can (pretty much everywhere).  This isn&#39;t a merge sort thing, but an important step in understanding Java.\r\n\r\n  [1]: https://www.geeksforgeeks.org/arraylist-sublist-method-in-java-with-examples/","title":"Why is this merge sort algorithm in Java printing random output and not sorting the Arraylist?","body":"<p>The issue with the algorithm you wrote was that when it went to merge things the <code>numbers</code> List wasn't an empty List.  Therefore, calling <code>add</code> was expanding the numbers array with duplicates from <code>left</code> and <code>right</code>.  I'd suggest calling <code>numbers.clear()</code> before you start the merging process, or use <code>List.set</code> to overwrite what number is at each location.  If you did something like this:</p>\n<pre><code>int i = 0, j = 0;\nfor( int k = 0; k &lt; numbers.size(); k++ ) {\n    if( j &lt; right.size() &amp;&amp; i &lt; left.size() ) {\n       if( left.get(i) &lt; right.get(j) ) {\n           numbers.set(k, left.get(i));\n           i++;\n       } else {\n           numbers.set(k, right.get(j));\n           j++;\n       }\n    } else if( i &lt; left.size() ) {\n       numbers.set( k, left.get(i) );\n       i++;\n    } else if( j &lt; right.size() ) {\n       numbers.set( k, right.get(j) );\n       j++;\n    }\n}\n</code></pre>\n<p>That cleans it up a bit by making it happen in a single loop.</p>\n<p>When creating left and right here is a simple one line way to copy List:</p>\n<pre><code>List&lt;Integer&gt; left = new ArrayList&lt;&gt;( numbers.subList( 0, mid ) );\nList&lt;Integer&gt; right = new ArrayList&lt;&gt;( numbers.subList( mid, numbers.size() );\n</code></pre>\n<p>I'd suggest printing out the array on each call of mergeSort so you can see what the algorithm is doing:</p>\n<pre><code>public void printArray( List&lt;Integer&gt; arr ) {\n   System.out.print(&quot;[ &quot;);\n   boolean first = true;\n   for( Integer i : arr ) {\n      if( !first ) print(&quot;, &quot;)\n      System.out.print( i );\n      first = false;\n   }\n   System.out.println(&quot; ]&quot;);\n}\n</code></pre>\n<p>Also understand the relation between <code>java.util.List</code> and <code>java.util.ArrayList</code>, and make effective use of <code>List</code> where you can (pretty much everywhere).  This isn't a merge sort thing, but an important step in understanding Java.</p>\n"}],"owner":{"account_id":8309108,"reputation":11,"user_id":6244980,"display_name":"A Tong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680226544,"creation_date":1680049752,"question_id":75872104,"body_markdown":"I&#39;m trying to implement the merge sort algorithm in Java but keep getting random outputs possibly due to a recursion error. Below is the code which is causing the issue.\r\n\r\nThanks.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n\r\n    public class Merging {\r\n        private static ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        public static void main(String[] args) {\r\n            Collections.addAll(numbers,7,6,3,1,9,8);\r\n            mergeSort(numbers);\r\n            for (int x: numbers){\r\n                System.out.println(x);\r\n            }\r\n        }\r\n        public static void mergeSort(ArrayList&lt;Integer&gt; numbers){\r\n            // System.out.println(numbers.size());\r\n            if (numbers.size()&gt;1){\r\n                int mid = (numbers.size()%2==0 ? numbers.size()/2 : ((int)Math.floor(numbers.size()/2)));\r\n                //System.out.println(mid);\r\n                ArrayList&lt;Integer&gt; left=new ArrayList&lt;Integer&gt;();\r\n                ArrayList&lt;Integer&gt; right=new ArrayList&lt;Integer&gt;();\r\n                for (int i=0;i&lt;mid;i++){\r\n                    left.add(numbers.get(i));\r\n                }\r\n                for (int i=mid;i&lt;numbers.size();i++){\r\n                    right.add(numbers.get(i));\r\n                }\r\n                mergeSort(left);\r\n                mergeSort(right);\r\n                int i,j;\r\n                i=j=0;\r\n                while (i&lt;left.size() &amp;&amp; j&lt;right.size()){\r\n                    if (left.get(i)&lt;=right.get(j)){\r\n                        numbers.add(left.get(i));\r\n                        i+=1;\r\n                    }else{\r\n                        numbers.add(right.get(j));\r\n                        j+=1;\r\n                    }\r\n                }\r\n                while (i&lt;left.size()){\r\n                    numbers.add(left.get(i));\r\n                    i+=1;\r\n                }\r\n                while (j&lt;right.size()){\r\n                    numbers.add(right.get(j));\r\n                    j+=1;\r\n                }\r\n            }\r\n        }        \r\n    }`\r\n    \r\n\r\n\r\nI&#39;ve tried modifying the mid variable in a few ways and logged outputs but nothing has helped in solving it.","title":"Why is this merge sort algorithm in Java printing random output and not sorting the Arraylist?","body":"<p>I'm trying to implement the merge sort algorithm in Java but keep getting random outputs possibly due to a recursion error. Below is the code which is causing the issue.</p>\n<p>Thanks.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Merging {\n    private static ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    public static void main(String[] args) {\n        Collections.addAll(numbers,7,6,3,1,9,8);\n        mergeSort(numbers);\n        for (int x: numbers){\n            System.out.println(x);\n        }\n    }\n    public static void mergeSort(ArrayList&lt;Integer&gt; numbers){\n        // System.out.println(numbers.size());\n        if (numbers.size()&gt;1){\n            int mid = (numbers.size()%2==0 ? numbers.size()/2 : ((int)Math.floor(numbers.size()/2)));\n            //System.out.println(mid);\n            ArrayList&lt;Integer&gt; left=new ArrayList&lt;Integer&gt;();\n            ArrayList&lt;Integer&gt; right=new ArrayList&lt;Integer&gt;();\n            for (int i=0;i&lt;mid;i++){\n                left.add(numbers.get(i));\n            }\n            for (int i=mid;i&lt;numbers.size();i++){\n                right.add(numbers.get(i));\n            }\n            mergeSort(left);\n            mergeSort(right);\n            int i,j;\n            i=j=0;\n            while (i&lt;left.size() &amp;&amp; j&lt;right.size()){\n                if (left.get(i)&lt;=right.get(j)){\n                    numbers.add(left.get(i));\n                    i+=1;\n                }else{\n                    numbers.add(right.get(j));\n                    j+=1;\n                }\n            }\n            while (i&lt;left.size()){\n                numbers.add(left.get(i));\n                i+=1;\n            }\n            while (j&lt;right.size()){\n                numbers.add(right.get(j));\n                j+=1;\n            }\n        }\n    }        \n}`\n</code></pre>\n<p>I've tried modifying the mid variable in a few ways and logged outputs but nothing has helped in solving it.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680210399,"post_id":75892831,"comment_id":133864401,"body_markdown":"`exported` needs to be true for other apps to be able to successfully reach that activity.","body":"<code>exported</code> needs to be true for other apps to be able to successfully reach that activity."}],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680226357,"creation_date":1680226357,"answer_id":75894160,"question_id":75892831,"body_markdown":"Use the below code with your package name to launch that app :\r\n\r\n    val launchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.example.abc&quot;);\r\n    startActivity( launchIntent );","title":"Android - How to implicit intent from one app of my own to choose another 2 apps of my own?","body":"<p>Use the below code with your package name to launch that app :</p>\n<pre><code>val launchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.example.abc&quot;);\nstartActivity( launchIntent );\n</code></pre>\n"}],"owner":{"account_id":25127662,"reputation":1,"user_id":18975285,"display_name":"Mostfa Mostfa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680226357,"creation_date":1680208878,"question_id":75892831,"body_markdown":"I have two apps of my own that are clone of each other just with different names. and a 3rd app that jumps between those two. by clicking on a button from 3rd app i wanna to open up app chooser and just between the 2 and jump immediately to 2nd activity not the main one. \r\n\r\n\r\n\r\nI added this intent filter to the original two apps so it jumps to the 2nd activity \r\n\r\n\r\n```\r\n&lt;activity\r\n            android:name=&quot;.MainActivity2&quot;\r\n            android:exported=&quot;false&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.action.ex3.register&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n```\r\n\r\n\r\nThen on 3rd client app i added this to the button\r\n\r\n \r\n\r\n```\r\n findViewById&lt;Button&gt;(R.id.reg_btn).setOnClickListener {\r\n            val intent = Intent()\r\n           intent.setAction(&quot;com.action.ex3.register&quot;) // Action for what intent called for\r\n\r\n            startActivityForResult(intent,2)\r\n```\r\n\r\nnote: I know that startActivityforResult is deprecated, but the lecturer still wants this method","title":"Android - How to implicit intent from one app of my own to choose another 2 apps of my own?","body":"<p>I have two apps of my own that are clone of each other just with different names. and a 3rd app that jumps between those two. by clicking on a button from 3rd app i wanna to open up app chooser and just between the 2 and jump immediately to 2nd activity not the main one.</p>\n<p>I added this intent filter to the original two apps so it jumps to the 2nd activity</p>\n<pre><code>&lt;activity\n            android:name=&quot;.MainActivity2&quot;\n            android:exported=&quot;false&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.action.ex3.register&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n</code></pre>\n<p>Then on 3rd client app i added this to the button</p>\n<pre><code> findViewById&lt;Button&gt;(R.id.reg_btn).setOnClickListener {\n            val intent = Intent()\n           intent.setAction(&quot;com.action.ex3.register&quot;) // Action for what intent called for\n\n            startActivityForResult(intent,2)\n</code></pre>\n<p>note: I know that startActivityforResult is deprecated, but the lecturer still wants this method</p>\n"},{"tags":["java","resources","jlink"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680210412,"post_id":75892330,"comment_id":133864405,"body_markdown":"Loading of directories is not supported for any Class.getResource* or ClassLoader.getResource* method.  The fact that it happened to work in one case does not mean it is behavior you can rely on.  The correct way to do this is to hard-code the list of known files, or generate a listing at build time and include the list file as another resource in your application.","body":"Loading of directories is not supported for any Class.getResource* or ClassLoader.getResource* method.  The fact that it happened to work in one case does not mean it is behavior you can rely on.  The correct way to do this is to hard-code the list of known files, or generate a listing at build time and include the list file as another resource in your application."},{"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1680212080,"post_id":75892330,"comment_id":133864719,"body_markdown":"@VGR Is this documented anywhere? Many tools, such as Flyway, use a classpath-driven plugin mechanism. How would they replace something like this? https://flywaydb.org/documentation/concepts/migrations.html#discovery","body":"@VGR Is this documented anywhere? Many tools, such as Flyway, use a classpath-driven plugin mechanism. How would they replace something like this? <a href=\"https://flywaydb.org/documentation/concepts/migrations.html#discovery\" rel=\"nofollow noreferrer\">flywaydb.org/documentation/concepts/migrations.html#discover&zwnj;&#8203;y</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680229624,"post_id":75892330,"comment_id":133866811,"body_markdown":"You can use plugins.  In fact Java SE has its own class for that, java.util.ServiceLoader.  Finding resources on the classpath is fine.  Trying to list a *directory* of resources is not fine and should not be attempted.  I have never found documentation that outright forbids directories as resource paths, but it should be noted that most classpath entries are .jars, which have “directory entries” which are not actually listable directories, just zero-length archive entries whose names end with a slash. No getResource* method’s documentation specifies what content is returned for those entries.","body":"You can use plugins.  In fact Java SE has its own class for that, java.util.ServiceLoader.  Finding resources on the classpath is fine.  Trying to list a <i>directory</i> of resources is not fine and should not be attempted.  I have never found documentation that outright forbids directories as resource paths, but it should be noted that most classpath entries are .jars, which have “directory entries” which are not actually listable directories, just zero-length archive entries whose names end with a slash. No getResource* method’s documentation specifies what content is returned for those entries."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680230010,"post_id":75892330,"comment_id":133866847,"body_markdown":"Beware of third-party libraries that claim to list directories in a classpath. They usually rely on the assumption that every classpath entry is a local .jar file. But there’s a reason ClassLoader and URLClassLoader are separate classes—ClassLoaders do not have to make use of .jar files! Any library which assumes otherwise will eventually break when used with advanced class loaders—a current example being all the tools that depended on tools.jar in the JDK, which was never a guaranteed feature and now no longer exists. ‘Happens to work’ is not the same as ’guaranteed to work.’","body":"Beware of third-party libraries that claim to list directories in a classpath. They usually rely on the assumption that every classpath entry is a local .jar file. But there’s a reason ClassLoader and URLClassLoader are separate classes—ClassLoaders do not have to make use of .jar files! Any library which assumes otherwise will eventually break when used with advanced class loaders—a current example being all the tools that depended on tools.jar in the JDK, which was never a guaranteed feature and now no longer exists. ‘Happens to work’ is not the same as ’guaranteed to work.’"},{"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1680322334,"post_id":75892330,"comment_id":133882999,"body_markdown":"@VGR The mechanism uncovered by ClassGraph looks bulletproof to me. The API explicitly covers listing all resources in a directory: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html#list()","body":"@VGR The mechanism uncovered by ClassGraph looks bulletproof to me. The API explicitly covers listing all resources in a directory: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html#list()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680350847,"post_id":75892330,"comment_id":133885768,"body_markdown":"That method doesn’t actually list a single directory;  it lists every resource and class file in the module, much like JarFile.stream() does.  You can use a filter to restrict the Stream to entries in a certain directory, which I suppose will work reliably, though it seems a bit inefficient since you have to skip over all the entries which aren’t in the desired directory.","body":"That method doesn’t actually list a single directory;  it lists every resource and class file in the module, much like JarFile.stream() does.  You can use a filter to restrict the Stream to entries in a certain directory, which I suppose will work reliably, though it seems a bit inefficient since you have to skip over all the entries which aren’t in the desired directory."}],"answers":[{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680225829,"creation_date":1680225829,"answer_id":75894133,"question_id":75892330,"body_markdown":"While it is still not clear why `ClassLoader.getResources(String)` behaves different inside `jlink` and out, ClassGraph provides a [mechanism](https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\r\n) that works inside jlink as well.","title":"ClassLoader.getResources() works inside module-path, fails inside jlink","body":"<p>While it is still not clear why <code>ClassLoader.getResources(String)</code> behaves different inside <code>jlink</code> and out, ClassGraph provides a <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"nofollow noreferrer\">mechanism</a> that works inside jlink as well.</p>\n"}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680225829,"creation_date":1680205173,"question_id":75892330,"body_markdown":"In the following testcase, we execute `ClassLoader.getResources()` on the module path. When running outside `jlink`, the method returns one entry. When running inside `jlink` the method returns zero entries. Is this a JDK bug?\r\n\r\nYou can download the testcase from GitHub: https://github.com/cowwoc/jlink-testcase/\r\n\r\nAlternatively, you can recreate it by hand:\r\n\r\nsrc/main/java/module-info.java\r\n```\r\nmodule jlink.testcase {\r\n    opens database.migration;\r\n}\r\n```\r\n\r\nsrc/main/java/testcase/Main.java\r\n```\r\npackage testcase;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        List&lt;URL&gt; resources = Collections.list(Main.class.getClassLoader().getResources(&quot;database/migration&quot;));\r\n        System.out.println(&quot;Found: &quot; + resources);\r\n    }\r\n}\r\n```\r\n\r\nsrc/main/resources/database/migration/V1__placeholder.sql (empty file)\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jlink-testcase&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                            &lt;mainClass&gt;testcase.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\ngood.bat\r\n```\r\n@echo off\r\njava -ea --module-path &quot;%JAVA_HOME%\\bin\\jmods;target\\jlink-testcase-1.0-SNAPSHOT.jar&quot; --module jlink.testcase\r\n```\r\n\r\nbad.bat\r\n```\r\n@echo off\r\n\r\nrd /s /q target\\jlink\r\nset JDK_JAVA_OPTIONS=-ea\r\njlink --add-modules jlink.testcase --module-path &quot;%JAVA_HOME%\\bin\\jmods;target\\jlink-testcase-1.0-SNAPSHOT.jar&quot; --output target\\jlink --launcher testcase=jlink.testcase\r\ntarget\\jlink\\bin\\java --module-path target\\jlink-resources-1.0-SNAPSHOT.jar --module jlink.testcase\r\n```","title":"ClassLoader.getResources() works inside module-path, fails inside jlink","body":"<p>In the following testcase, we execute <code>ClassLoader.getResources()</code> on the module path. When running outside <code>jlink</code>, the method returns one entry. When running inside <code>jlink</code> the method returns zero entries. Is this a JDK bug?</p>\n<p>You can download the testcase from GitHub: <a href=\"https://github.com/cowwoc/jlink-testcase/\" rel=\"nofollow noreferrer\">https://github.com/cowwoc/jlink-testcase/</a></p>\n<p>Alternatively, you can recreate it by hand:</p>\n<p>src/main/java/module-info.java</p>\n<pre><code>module jlink.testcase {\n    opens database.migration;\n}\n</code></pre>\n<p>src/main/java/testcase/Main.java</p>\n<pre><code>package testcase;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        List&lt;URL&gt; resources = Collections.list(Main.class.getClassLoader().getResources(&quot;database/migration&quot;));\n        System.out.println(&quot;Found: &quot; + resources);\n    }\n}\n</code></pre>\n<p>src/main/resources/database/migration/V1__placeholder.sql (empty file)</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jlink-testcase&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                            &lt;mainClass&gt;testcase.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>good.bat</p>\n<pre><code>@echo off\njava -ea --module-path &quot;%JAVA_HOME%\\bin\\jmods;target\\jlink-testcase-1.0-SNAPSHOT.jar&quot; --module jlink.testcase\n</code></pre>\n<p>bad.bat</p>\n<pre><code>@echo off\n\nrd /s /q target\\jlink\nset JDK_JAVA_OPTIONS=-ea\njlink --add-modules jlink.testcase --module-path &quot;%JAVA_HOME%\\bin\\jmods;target\\jlink-testcase-1.0-SNAPSHOT.jar&quot; --output target\\jlink --launcher testcase=jlink.testcase\ntarget\\jlink\\bin\\java --module-path target\\jlink-resources-1.0-SNAPSHOT.jar --module jlink.testcase\n</code></pre>\n"},{"tags":["java","string","date","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":12936775,"reputation":625,"user_id":9353852,"display_name":"Tuom"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1680225760,"creation_date":1585206550,"answer_id":60862399,"question_id":60836103,"body_markdown":"MapStruct takes care of `String` to `Date` conversions automatically. If you need to specify format of your date you can do it like this:\r\n```java\r\n@Mapping(target = &quot;date&quot;, dateFormat = &quot;yyyy-MM-dd&quot;)\r\nDestination map(Source source);\r\n\r\n//For datetime\r\n@Mapping(target = &quot;date&quot;, dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\nDestination map(Source source);\r\n```\r\nWhere `target = &quot;date&quot;` is the name of your property.\r\nYou can find more about this in [MapStruct documentation](https://mapstruct.org/documentation/stable/reference/html/#datatype-conversions).","title":"How to Convert String to Date using MapStruct in Java?","body":"<p>MapStruct takes care of <code>String</code> to <code>Date</code> conversions automatically. If you need to specify format of your date you can do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;date&quot;, dateFormat = &quot;yyyy-MM-dd&quot;)\nDestination map(Source source);\n\n//For datetime\n@Mapping(target = &quot;date&quot;, dateFormat = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\nDestination map(Source source);\n</code></pre>\n<p>Where <code>target = &quot;date&quot;</code> is the name of your property.\nYou can find more about this in <a href=\"https://mapstruct.org/documentation/stable/reference/html/#datatype-conversions\" rel=\"nofollow noreferrer\">MapStruct documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":2114210,"reputation":1539,"user_id":1878854,"accept_rate":78,"display_name":"Accollativo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657723914,"creation_date":1657723914,"answer_id":72968318,"question_id":60836103,"body_markdown":"[From the official guide][1], if you have multiple dates, you can use this: \r\n\r\n    public class DateMapper {\r\n    \r\n        public String asString(Date date) {\r\n            return date != null ? new SimpleDateFormat( &quot;yyyy-MM-dd&quot; )\r\n                .format( date ) : null;\r\n        }\r\n    \r\n        public Date asDate(String date) {\r\n            try {\r\n                return date != null ? new SimpleDateFormat( &quot;yyyy-MM-dd&quot; )\r\n                    .parse( date ) : null;\r\n            }\r\n            catch ( ParseException e ) {\r\n                throw new RuntimeException( e );\r\n            }\r\n        }\r\n    }\r\n\r\nAnd after in your mapper:\r\n\r\n    @Mapper(uses=DateMapper.class)\r\n    public interface CarMapper {\r\n    \r\n        CarDto carToCarDto(Car car);\r\n    }\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#invoking-other-mappers","title":"How to Convert String to Date using MapStruct in Java?","body":"<p><a href=\"https://mapstruct.org/documentation/stable/reference/html/#invoking-other-mappers\" rel=\"nofollow noreferrer\">From the official guide</a>, if you have multiple dates, you can use this:</p>\n<pre><code>public class DateMapper {\n\n    public String asString(Date date) {\n        return date != null ? new SimpleDateFormat( &quot;yyyy-MM-dd&quot; )\n            .format( date ) : null;\n    }\n\n    public Date asDate(String date) {\n        try {\n            return date != null ? new SimpleDateFormat( &quot;yyyy-MM-dd&quot; )\n                .parse( date ) : null;\n        }\n        catch ( ParseException e ) {\n            throw new RuntimeException( e );\n        }\n    }\n}\n</code></pre>\n<p>And after in your mapper:</p>\n<pre><code>@Mapper(uses=DateMapper.class)\npublic interface CarMapper {\n\n    CarDto carToCarDto(Car car);\n}\n</code></pre>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24830,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1680225760,"creation_date":1585070432,"question_id":60836103,"body_markdown":"I am using MapStruct to map values from a source to a target class. The source class has a String property and the target class has a java.util.Date property. The source property is like this: &quot;yyyy-mm-dd&quot;. And I want to convert this String property to a Date property. How can I do that using MapStruct? Thank you!","title":"How to Convert String to Date using MapStruct in Java?","body":"<p>I am using MapStruct to map values from a source to a target class. The source class has a String property and the target class has a java.util.Date property. The source property is like this: \"yyyy-mm-dd\". And I want to convert this String property to a Date property. How can I do that using MapStruct? Thank you!</p>\n"},{"tags":["java","url","java-11"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680231222,"post_id":75894002,"comment_id":133866986,"body_markdown":"Despite the name, URLDecoder is not for decoding URLs—it’s for decoding HTML form data submitted using the application/x-www-form-urlencoded format.  To decode a URL, using the [URI](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URI.html) class.  (A URL is a type of URI.)  For example, `new URI(url).toURL()`","body":"Despite the name, URLDecoder is not for decoding URLs—it’s for decoding HTML form data submitted using the application/x-www-form-urlencoded format.  To decode a URL, using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URI.html\" rel=\"nofollow noreferrer\">URI</a> class.  (A URL is a type of URI.)  For example, <code>new URI(url).toURL()</code>"}],"answers":[{"tags":[],"owner":{"account_id":12849113,"reputation":409,"user_id":9294564,"display_name":"josev.junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680224944,"creation_date":1680224944,"answer_id":75894074,"question_id":75894002,"body_markdown":"The `URL.getPath()` method does not include the query paramater as the result. You will need to access it separatelly.\r\n\r\nExample:\r\n\r\n```\r\nStringBuilder fullPath = new StringBuilder(url.getPath());\r\nif(url.getQuery() != null) {\r\n      fullPath.append(&quot;?&quot;).append(url.getQuery());\r\n}\r\n```","title":"Decoding a URL with valid query","body":"<p>The <code>URL.getPath()</code> method does not include the query paramater as the result. You will need to access it separatelly.</p>\n<p>Example:</p>\n<pre><code>StringBuilder fullPath = new StringBuilder(url.getPath());\nif(url.getQuery() != null) {\n      fullPath.append(&quot;?&quot;).append(url.getQuery());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7353793,"reputation":50,"user_id":5599126,"display_name":"halfdark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680225356,"creation_date":1680225356,"answer_id":75894105,"question_id":75894002,"body_markdown":"First of all, when I run your code locally, I got exception with ```java.net.MalformedURLException: no protocol```\r\n\r\nThen I add `https://` to the example url.\r\n\r\nFinally I got the right result, the diff of codes is the charset param\r\nso I think maybe it&#39;s the wrong import of URLDecoder class?\r\n\r\n```java\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLDecoder;\r\n\r\n\r\npublic void test() throws Exception{\r\n        System.out.println(decodeURL(&quot;https://path/to/testurl/encoding?param=1&amp;encodedQueryParam=table%3Dtask&quot; +\r\n                &quot;%5EORtableISEMPTY&quot;));\r\n    }\r\n\r\n    public URL decodeURL(String url) {\r\n        try {\r\n            return new URL(URLDecoder.decode(url, &quot;UTF-8&quot;));\r\n        } catch (MalformedURLException e) {\r\n            throw new IllegalArgumentException(e.getMessage());\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n```\r\n\r\nconsole log follows:\r\n\r\n    https://path/to/testurl/encoding?param=1&amp;encodedQueryParam=table=task^ORtableISEMPTY","title":"Decoding a URL with valid query","body":"<p>First of all, when I run your code locally, I got exception with <code>java.net.MalformedURLException: no protocol</code></p>\n<p>Then I add <code>https://</code> to the example url.</p>\n<p>Finally I got the right result, the diff of codes is the charset param\nso I think maybe it's the wrong import of URLDecoder class?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.UnsupportedEncodingException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLDecoder;\n\n\npublic void test() throws Exception{\n        System.out.println(decodeURL(&quot;https://path/to/testurl/encoding?param=1&amp;encodedQueryParam=table%3Dtask&quot; +\n                &quot;%5EORtableISEMPTY&quot;));\n    }\n\n    public URL decodeURL(String url) {\n        try {\n            return new URL(URLDecoder.decode(url, &quot;UTF-8&quot;));\n        } catch (MalformedURLException e) {\n            throw new IllegalArgumentException(e.getMessage());\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n</code></pre>\n<p>console log follows:</p>\n<pre><code>https://path/to/testurl/encoding?param=1&amp;encodedQueryParam=table=task^ORtableISEMPTY\n</code></pre>\n"}],"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680225738,"creation_date":1680224001,"question_id":75894002,"body_markdown":"I have the following code snippet that decodes URLs in Java:\r\n\r\n    public URL decodeURL(String url) {\r\n        try {\r\n        \treturn new URL(URLDecoder.decode(url, StandardCharsets.UTF_8));\r\n        } catch (MalformedURLException e) {\r\n        \tthrow new IllegalArgumentException(e.getMessage());\r\n        }\r\n    }\r\n\r\nSo for the following URL `&quot;path/to/testurl/encoding?param=1&amp;encodedQueryParam=table%3Dtask%5EORtableISEMPTY&quot;` I&#39;m supposed to get `&quot;path/to/testurl/encoding?param=1&amp;encodedQueryParam=table=task^ORtableISEMPTY&quot;` but I&#39;m getting `&quot;/path/to/testurl/encoding&quot;`. \r\n\r\nHow can I get the correct result? ","title":"Decoding a URL with valid query","body":"<p>I have the following code snippet that decodes URLs in Java:</p>\n<pre><code>public URL decodeURL(String url) {\n    try {\n        return new URL(URLDecoder.decode(url, StandardCharsets.UTF_8));\n    } catch (MalformedURLException e) {\n        throw new IllegalArgumentException(e.getMessage());\n    }\n}\n</code></pre>\n<p>So for the following URL <code>&quot;path/to/testurl/encoding?param=1&amp;encodedQueryParam=table%3Dtask%5EORtableISEMPTY&quot;</code> I'm supposed to get <code>&quot;path/to/testurl/encoding?param=1&amp;encodedQueryParam=table=task^ORtableISEMPTY&quot;</code> but I'm getting <code>&quot;/path/to/testurl/encoding&quot;</code>.</p>\n<p>How can I get the correct result?</p>\n"},{"tags":["java","eclipse","maven","build","spring-validation"],"answers":[{"tags":[],"owner":{"account_id":12249238,"reputation":31,"user_id":8940101,"display_name":"sponsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680224418,"creation_date":1680224418,"answer_id":75894029,"question_id":75881831,"body_markdown":"I discovered that Eclipse sometimes has a default setting in the build options that excludes the resources folder.  It&#39;s already been answered[in this thread][1]. I just didn&#39;t know what kind of problem I was looking at, but once I found this solution it ended up being the right one for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3846354/files-in-src-main-resources-not-copied-when-using-maven-and-eclipse","title":"Eclipse (Maven) Changes not being compiled/built by auto-reloader","body":"<p>I discovered that Eclipse sometimes has a default setting in the build options that excludes the resources folder.  It's already been answered<a href=\"https://stackoverflow.com/questions/3846354/files-in-src-main-resources-not-copied-when-using-maven-and-eclipse\">in this thread</a>. I just didn't know what kind of problem I was looking at, but once I found this solution it ended up being the right one for me.</p>\n"}],"owner":{"account_id":12249238,"reputation":31,"user_id":8940101,"display_name":"sponsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680224418,"creation_date":1680121204,"question_id":75881831,"body_markdown":"I have the automatic reload enabled in Eclipse with the Maven project I&#39;m currently working on.  I&#39;ve noticed that changes to the application.properties file almost never trigger an automatic reload, and when it does, it appears totally random. However, I&#39;ve noticed that sometimes changes to a .jsp file aren&#39;t getting pulled into the project somehow.  I actually ended up chasing a bug for the better part of an hour trying to figure out what it was from the dump on the webpage, only to find out that somehow Eclipse or Maven was not loading the most recent version of either the JSP file, or the class associated with it.  \r\n\r\nTo fix the application.properties issue, i have to run a **Run as =&gt; Maven Install** every single time. I just happened to run it again as I was poking around trying to bugfix, and running Maven Install fixed the error I had in my webpage (It was a ModelAttributeMethodProcessor error). Is there some sort of configuration issue in how my project is building or something? That&#39;s the only thing I can think of, but honestly I&#39;m not that familiar with Eclipse/Maven to really know.  Thanks!","title":"Eclipse (Maven) Changes not being compiled/built by auto-reloader","body":"<p>I have the automatic reload enabled in Eclipse with the Maven project I'm currently working on.  I've noticed that changes to the application.properties file almost never trigger an automatic reload, and when it does, it appears totally random. However, I've noticed that sometimes changes to a .jsp file aren't getting pulled into the project somehow.  I actually ended up chasing a bug for the better part of an hour trying to figure out what it was from the dump on the webpage, only to find out that somehow Eclipse or Maven was not loading the most recent version of either the JSP file, or the class associated with it.</p>\n<p>To fix the application.properties issue, i have to run a <strong>Run as =&gt; Maven Install</strong> every single time. I just happened to run it again as I was poking around trying to bugfix, and running Maven Install fixed the error I had in my webpage (It was a ModelAttributeMethodProcessor error). Is there some sort of configuration issue in how my project is building or something? That's the only thing I can think of, but honestly I'm not that familiar with Eclipse/Maven to really know.  Thanks!</p>\n"},{"tags":["java","android","react-native","azure-devops"],"comments":[{"owner":{"account_id":16244454,"reputation":290,"user_id":11729971,"display_name":"Stefani Toto"},"score":0,"creation_date":1680113708,"post_id":75880724,"comment_id":133844060,"body_markdown":"Is JAVA_HOME  pointing correctly ? Maybe you have several versions installed ?","body":"Is JAVA_HOME  pointing correctly ? Maybe you have several versions installed ?"},{"owner":{"account_id":18939487,"reputation":223,"user_id":13819875,"display_name":"Before The Empire"},"score":0,"creation_date":1680114324,"post_id":75880724,"comment_id":133844207,"body_markdown":"As far as I&#39;m aware?  ```me@MYMAC~ % echo $JAVA_HOME \n/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home```","body":"As far as I&#39;m aware?  <code>me@MYMAC~ % echo $JAVA_HOME  &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;zulu-11.jdk&#47;Contents&#47;Home</code>"}],"answers":[{"tags":[],"owner":{"account_id":18939487,"reputation":223,"user_id":13819875,"display_name":"Before The Empire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680223406,"creation_date":1680223406,"answer_id":75893975,"question_id":75880724,"body_markdown":"This is strictly a Azure Pipeline Issue. \r\n\r\nThere is a Java tool installer plugin that wasnt being leveraged.\r\n\r\nAdded YAML as follows:\r\n```steps:\r\n- task: JavaToolInstaller@0\r\n  displayName: &#39;Use Java 11&#39;\r\n  inputs:\r\n    versionSpec: 11\r\n    jdkArchitectureOption: x64\r\n    jdkSourceOption: PreInstalled\r\n","title":"Upgrading from React Native .67.5 to .68.6 - Android Bundle Release failing Java 1.8 vs 1.11","body":"<p>This is strictly a Azure Pipeline Issue.</p>\n<p>There is a Java tool installer plugin that wasnt being leveraged.</p>\n<p>Added YAML as follows:</p>\n<pre><code>- task: JavaToolInstaller@0\n  displayName: 'Use Java 11'\n  inputs:\n    versionSpec: 11\n    jdkArchitectureOption: x64\n    jdkSourceOption: PreInstalled\n</code></pre>\n"}],"owner":{"account_id":18939487,"reputation":223,"user_id":13819875,"display_name":"Before The Empire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75893975,"answer_count":1,"score":0,"last_activity_date":1680223406,"creation_date":1680113421,"question_id":75880724,"body_markdown":"I&#39;ve upgraded using the React Native Upgrade Helper - Android app is building locally, but failing in pipeline with with cd android\r\n./gradlew bundleRelease\r\n\r\nI have 1.11 java installed locally. Android Studio gradle also pointed to 1.11\r\n\r\n\r\n\r\n ```Task :react-native-gradle-plugin:compileJava\r\nNote: /Users/runner/work/1/s/node_modules/react-native-gradle-plugin/src/main/java/com/facebook/react/codegen/generator/SchemaJsonParser.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n&gt; Task :react-native-gradle-plugin:pluginDescriptors\r\n&gt; Task :react-native-gradle-plugin:processResources\r\n&gt; Task :react-native-gradle-plugin:classes\r\n&gt; Task :react-native-gradle-plugin:inspectClassesForKotlinIC\r\n&gt; Task :react-native-gradle-plugin:jar\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/Users/runner/work/1/s/android/app/build.gradle&#39; line: 1\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n     You can try some of the following options:\r\n       - changing the IDE settings.\r\n       - changing the JAVA_HOME environment variable.\r\n       - changing `org.gradle.java.home` in `gradle.properties`.```","title":"Upgrading from React Native .67.5 to .68.6 - Android Bundle Release failing Java 1.8 vs 1.11","body":"<p>I've upgraded using the React Native Upgrade Helper - Android app is building locally, but failing in pipeline with with cd android\n./gradlew bundleRelease</p>\n<p>I have 1.11 java installed locally. Android Studio gradle also pointed to 1.11</p>\n<pre><code>Note: /Users/runner/work/1/s/node_modules/react-native-gradle-plugin/src/main/java/com/facebook/react/codegen/generator/SchemaJsonParser.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n&gt; Task :react-native-gradle-plugin:pluginDescriptors\n&gt; Task :react-native-gradle-plugin:processResources\n&gt; Task :react-native-gradle-plugin:classes\n&gt; Task :react-native-gradle-plugin:inspectClassesForKotlinIC\n&gt; Task :react-native-gradle-plugin:jar\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/runner/work/1/s/android/app/build.gradle' line: 1\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Failed to apply plugin 'com.android.internal.application'.\n  &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n    You can try some of the following options:\n      - changing the IDE settings.\n      - changing the JAVA_HOME environment variable.\n      - changing `org.gradle.java.home` in `gradle.properties`.```\n</code></pre>\n"},{"tags":["java","amazon-web-services","unit-testing","secret-manager"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1595011325,"post_id":62959838,"comment_id":111337928,"body_markdown":"I don&#39;t see any use of &quot;Mockito and EasyMock&quot; in the code you posted.","body":"I don&#39;t see any use of &quot;Mockito and EasyMock&quot; in the code you posted."},{"owner":{"account_id":3885544,"reputation":43,"user_id":3217014,"display_name":"user3217014"},"score":0,"creation_date":1595011581,"post_id":62959838,"comment_id":111337998,"body_markdown":"@Mark B, When I write unit test for the method that is calling this code, it is throwing the above exception, that is the reason to post this question","body":"@Mark B, When I write unit test for the method that is calling this code, it is throwing the above exception, that is the reason to post this question"}],"answers":[{"tags":[],"owner":{"account_id":28131350,"reputation":1,"user_id":21495834,"display_name":"king05"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680222407,"creation_date":1679854990,"answer_id":75849723,"question_id":62959838,"body_markdown":"You are creating an instance of `GetSecretValueRequest` instead of creating a mock for it. \r\n\r\nYour test is trying to communicate with the real object thereby asking for your AWS credentials.","title":"unit testing AWS secret manager java","body":"<p>You are creating an instance of <code>GetSecretValueRequest</code> instead of creating a mock for it.</p>\n<p>Your test is trying to communicate with the real object thereby asking for your AWS credentials.</p>\n"}],"owner":{"account_id":3885544,"reputation":43,"user_id":3217014,"display_name":"user3217014"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680222407,"creation_date":1595010420,"question_id":62959838,"body_markdown":"I need to unit test AWS secret manager that is in Java and am using Mockito and EasyMock to do that and whenever I call client.getSecretValue(), it is trowing the exception\r\n**Code to be tested** \r\n\r\n    AWSSecretsManagerClient client =\r\n                (AWSSecretsManagerClient) \r\n    AWSSecretsManagerClientBuilder.standard().withRegion(region).build();\r\n\r\n        String secret = null, decodedBinarySecret = null;\r\n        GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest().withSecretId(secretName);\r\n        GetSecretValueResult getSecretValueResult = null;\r\n        AWSSecrets awsSecrets = null;\r\n        try {\r\n            getSecretValueResult = client.getSecretValue(getSecretValueRequest);\r\n        } catch (DecryptionFailureException e) {\r\n\r\n**Exception**\r\n\r\n```\r\n &quot;com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)), SystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey), com.amazonaws.auth.profile.ProfileCredentialsProvider@28ce75ec: Unable to load credentials into profile [default]: AWS Access Key ID is not specified., WebIdentityTokenCredentialsProvider: To use assume role profiles the aws-java-sdk-sts module must be on the class path., com.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@4db728df: Unable to load credentials from service endpoint]&quot;.\r\n```\r\nCan anybody help me with this?","title":"unit testing AWS secret manager java","body":"<p>I need to unit test AWS secret manager that is in Java and am using Mockito and EasyMock to do that and whenever I call client.getSecretValue(), it is trowing the exception\n<strong>Code to be tested</strong></p>\n<pre><code>AWSSecretsManagerClient client =\n            (AWSSecretsManagerClient) \nAWSSecretsManagerClientBuilder.standard().withRegion(region).build();\n\n    String secret = null, decodedBinarySecret = null;\n    GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest().withSecretId(secretName);\n    GetSecretValueResult getSecretValueResult = null;\n    AWSSecrets awsSecrets = null;\n    try {\n        getSecretValueResult = client.getSecretValue(getSecretValueRequest);\n    } catch (DecryptionFailureException e) {\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code> &quot;com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)), SystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey), com.amazonaws.auth.profile.ProfileCredentialsProvider@28ce75ec: Unable to load credentials into profile [default]: AWS Access Key ID is not specified., WebIdentityTokenCredentialsProvider: To use assume role profiles the aws-java-sdk-sts module must be on the class path., com.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@4db728df: Unable to load credentials from service endpoint]&quot;.\n</code></pre>\n<p>Can anybody help me with this?</p>\n"},{"tags":["java","jenkins","java-12"],"answers":[{"tags":[],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1554512806,"creation_date":1554483744,"answer_id":55540294,"question_id":55540287,"body_markdown":"The tar file has a directory called jdk-12 inside it, so when Jenkins extracts it, the named jdk folder is not the direct parent of the bin directory.\r\n\r\n`/var/jenkins_home/tools/hudson.model.JDK/Java12/jdk-12/bin`\r\n\r\nshould be\r\n\r\n`/var/jenkins_home/tools/hudson.model.JDK/Java12/bin`\r\n\r\nTo fix this, extract the tar file, go into the jdk-12 folder, `tar czf openjdk-12_linux-x64_bin.tar.gz *`, upload it somewhere accessible to Jenkins and put the URL in the &quot;Download URL for binary archive&quot; field in the Global Tool Configuration-&gt;JDK installations... installer.","title":"Jenkins failure Java 12 OpenJDK - The JAVA_HOME environment variable is not defined correctly","body":"<p>The tar file has a directory called jdk-12 inside it, so when Jenkins extracts it, the named jdk folder is not the direct parent of the bin directory.</p>\n\n<p><code>/var/jenkins_home/tools/hudson.model.JDK/Java12/jdk-12/bin</code></p>\n\n<p>should be</p>\n\n<p><code>/var/jenkins_home/tools/hudson.model.JDK/Java12/bin</code></p>\n\n<p>To fix this, extract the tar file, go into the jdk-12 folder, <code>tar czf openjdk-12_linux-x64_bin.tar.gz *</code>, upload it somewhere accessible to Jenkins and put the URL in the \"Download URL for binary archive\" field in the Global Tool Configuration->JDK installations... installer.</p>\n"},{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680221953,"creation_date":1680216449,"answer_id":75893542,"question_id":55540287,"body_markdown":"As [Robert Bain][1] states, it is because there is a sub folder in the JDK archive.\r\n\r\nUsing more recent versions of Jenkins (2.375.1 in this instance), you can specify this sub folder in the Jenkins setup in the &quot;Subdirectory of extracted archive&quot; option.  Eg:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55540294/418057\r\n  [2]: https://i.stack.imgur.com/aaARv.png","title":"Jenkins failure Java 12 OpenJDK - The JAVA_HOME environment variable is not defined correctly","body":"<p>As <a href=\"https://stackoverflow.com/a/55540294/418057\">Robert Bain</a> states, it is because there is a sub folder in the JDK archive.</p>\n<p>Using more recent versions of Jenkins (2.375.1 in this instance), you can specify this sub folder in the Jenkins setup in the &quot;Subdirectory of extracted archive&quot; option.  Eg:</p>\n<p><a href=\"https://i.stack.imgur.com/aaARv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aaARv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4821,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55540294,"answer_count":2,"score":2,"last_activity_date":1680221953,"creation_date":1554483701,"question_id":55540287,"body_markdown":"Configuring Jenkins (2.121.3) to use [JDK 12][1] in the Global Tool Configuration-&gt;JDK installations... menu using &quot;Download URL for binary archive&quot; produces the following error when performing a build:\r\n\r\n    The JAVA_HOME environment variable is not defined correctly\r\n    This environment variable is needed to run this program\r\n    NB: JAVA_HOME should point to a JDK not a JRE\r\n    Build step &#39;Invoke top-level Maven targets&#39; marked build as failure\r\n    Finished: FAILURE\r\n\r\nHow can I resolve this issue?\r\n\r\n  [1]: https://download.java.net/java/GA/jdk12/GPL/openjdk-12_linux-x64_bin.tar.gz","title":"Jenkins failure Java 12 OpenJDK - The JAVA_HOME environment variable is not defined correctly","body":"<p>Configuring Jenkins (2.121.3) to use <a href=\"https://download.java.net/java/GA/jdk12/GPL/openjdk-12_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">JDK 12</a> in the Global Tool Configuration->JDK installations... menu using \"Download URL for binary archive\" produces the following error when performing a build:</p>\n\n<pre><code>The JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE\nBuild step 'Invoke top-level Maven targets' marked build as failure\nFinished: FAILURE\n</code></pre>\n\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","android","xamarin","xamarin.android","uri"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1437562070,"post_id":31560803,"comment_id":51077712,"body_markdown":"for android http://developer.android.com/reference/android/net/Uri.html","body":"for android <a href=\"http://developer.android.com/reference/android/net/Uri.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/net/Uri.html</a>"},{"owner":{"account_id":4745411,"reputation":29,"user_id":3836909,"accept_rate":20,"display_name":"mayyo"},"score":0,"creation_date":1437562131,"post_id":31560803,"comment_id":51077754,"body_markdown":"similar question and answer here :\r\n\r\nhttp://stackoverflow.com/questions/12649530/convert-java-net-uri-to-android-net-uri","body":"similar question and answer here :    <a href=\"http://stackoverflow.com/questions/12649530/convert-java-net-uri-to-android-net-uri\" title=\"convert java net uri to android net uri\">stackoverflow.com/questions/12649530/&hellip;</a>"},{"owner":{"account_id":3578311,"reputation":18342,"user_id":2987066,"accept_rate":96,"display_name":"JKennedy"},"score":3,"creation_date":1437562228,"post_id":31560803,"comment_id":51077818,"body_markdown":"@mayyo I don&#39;t see how that question is related? It talks about converting between the two not what the difference is / When they should be used","body":"@mayyo I don&#39;t see how that question is related? It talks about converting between the two not what the difference is / When they should be used"}],"answers":[{"tags":[],"owner":{"account_id":153257,"reputation":24181,"user_id":368379,"accept_rate":89,"display_name":"Cheesebaron"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1437657120,"creation_date":1437656613,"answer_id":31588179,"question_id":31560803,"body_markdown":"The difference is that `Android.Net.Uri` is Google&#39;s own implementation of RFC 2396.\r\n\r\n`Android.Net.Uri` is immutable, hence it is thread-safe. Their implementation is also, according to the [comments in the source][1], more forgiving. So while `Java.Net.Uri` would throw an `Exception` you attempt to use a garbage Uri, the Android implementation would just return you a Uri with that garbage.\r\n\r\nAs far as I can tell, `Android.Net.Uri` will only throw NullPointerException and seemingly no other exceptions. While the `Java.Net.Uri` implementation will throw other exceptions such as `URISyntaxException` and `IllegalArgumentException`\r\n\r\nOtherwise they seem very similar.\r\n\r\nThe Uri you get `file:/sdcard/MyFolder/MyFile.txt` is valid, and when throwing it through `java.net.URI` I get following:\r\n\r\n    java&gt; String uri = &quot;file:/sdcard/MyFolder/MyFile.txt&quot;;\r\n    java&gt; import java.net.*\r\n    java&gt; URI urr = new URI(uri);\r\n    java.net.URI urr = file:/sdcard/MyFolder/MyFile.txt\r\n    java&gt; urr.getScheme();\r\n    java.lang.String res2 = &quot;file&quot;\r\n    java&gt; urr.getPath();\r\n    java.lang.String res3 = &quot;/sdcard/MyFolder/MyFile.txt&quot;\r\n\r\n\r\n[1]: http://grepcode.com/file/repo1.maven.org/maven2/org.robolectric/android-all/5.0.0_r2-robolectric-1/android/net/Uri.java/","title":"Whats the difference between Java.Net.Uri and Android.Net.Uri","body":"<p>The difference is that <code>Android.Net.Uri</code> is Google's own implementation of RFC 2396.</p>\n\n<p><code>Android.Net.Uri</code> is immutable, hence it is thread-safe. Their implementation is also, according to the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.robolectric/android-all/5.0.0_r2-robolectric-1/android/net/Uri.java/\" rel=\"noreferrer\">comments in the source</a>, more forgiving. So while <code>Java.Net.Uri</code> would throw an <code>Exception</code> you attempt to use a garbage Uri, the Android implementation would just return you a Uri with that garbage.</p>\n\n<p>As far as I can tell, <code>Android.Net.Uri</code> will only throw NullPointerException and seemingly no other exceptions. While the <code>Java.Net.Uri</code> implementation will throw other exceptions such as <code>URISyntaxException</code> and <code>IllegalArgumentException</code></p>\n\n<p>Otherwise they seem very similar.</p>\n\n<p>The Uri you get <code>file:/sdcard/MyFolder/MyFile.txt</code> is valid, and when throwing it through <code>java.net.URI</code> I get following:</p>\n\n<pre><code>java&gt; String uri = \"file:/sdcard/MyFolder/MyFile.txt\";\njava&gt; import java.net.*\njava&gt; URI urr = new URI(uri);\njava.net.URI urr = file:/sdcard/MyFolder/MyFile.txt\njava&gt; urr.getScheme();\njava.lang.String res2 = \"file\"\njava&gt; urr.getPath();\njava.lang.String res3 = \"/sdcard/MyFolder/MyFile.txt\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331450,"reputation":4555,"user_id":656132,"accept_rate":38,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1492788243,"creation_date":1492788243,"answer_id":43546500,"question_id":31560803,"body_markdown":"Here is one practical difference:\r\n\r\njava.net.uri supports IPv4 and IPv6 addresses whereas [android.net.uri only support IPv4](https://ctrl.blog/entry/android-uri-ipv6).","title":"Whats the difference between Java.Net.Uri and Android.Net.Uri","body":"<p>Here is one practical difference:</p>\n\n<p>java.net.uri supports IPv4 and IPv6 addresses whereas <a href=\"https://ctrl.blog/entry/android-uri-ipv6\" rel=\"noreferrer\">android.net.uri only support IPv4</a>.</p>\n"},{"tags":[],"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680220527,"creation_date":1680220527,"answer_id":75893790,"question_id":31560803,"body_markdown":"Another difference:\r\n\r\n- `android.net.Uri` has [`getQueryParameter(String)`](https://developer.android.com/reference/android/net/Uri#getQueryParameter(java.lang.String)) (and a few related methods) to get separate query parameters.\r\n- `java.net.URI` only has [`getRawQuery()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/URI.html#getRawQuery()) and [`getQuery()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/URI.html#getQuery()). These methods return the whole query string, e.g. `foo=1&amp;bar=2`.\r\n\r\nSo if you need to access separate query parameters, `android.net.Uri` may be more convenient.","title":"Whats the difference between Java.Net.Uri and Android.Net.Uri","body":"<p>Another difference:</p>\n<ul>\n<li><code>android.net.Uri</code> has <a href=\"https://developer.android.com/reference/android/net/Uri#getQueryParameter(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getQueryParameter(String)</code></a> (and a few related methods) to get separate query parameters.</li>\n<li><code>java.net.URI</code> only has <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/URI.html#getRawQuery()\" rel=\"nofollow noreferrer\"><code>getRawQuery()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/URI.html#getQuery()\" rel=\"nofollow noreferrer\"><code>getQuery()</code></a>. These methods return the whole query string, e.g. <code>foo=1&amp;bar=2</code>.</li>\n</ul>\n<p>So if you need to access separate query parameters, <code>android.net.Uri</code> may be more convenient.</p>\n"}],"owner":{"account_id":3578311,"reputation":18342,"user_id":2987066,"accept_rate":96,"display_name":"JKennedy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9270,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":31588179,"answer_count":3,"score":48,"last_activity_date":1680220527,"creation_date":1437561710,"question_id":31560803,"body_markdown":"I am trying to get a `Uri` from a `file` object like so:\r\n\r\n    File file = new File(&quot;/sdcard/MyFolder/MyFile.txt&quot;);\r\n    var androidUri = Android.Net.Uri.FromFile(file).ToString();\r\n    var javaUri = file.ToURI().ToString();\r\n\r\nthis returns the following values:\r\n\r\n    androidUri = &quot;file:///sdcard/MyFolder/MyFile.txt&quot;\r\n    javaUri = &quot;file:/sdcard/MyFolder/MyFile.txt&quot;\r\n\r\nso my question is whats the difference between the `Java.Net.Uri` and `Android.Net.Uri` are these two values supposed to be different? When should they be used?\r\n\r\n**Update**\r\n\r\nI found the two documentation pages [Java.Net.Uri][1] and [Android.Net.Uri][2] and both say:\r\n\r\n&gt; Builds and parses URI references which conform to [RFC 2396][3].\r\n\r\nTherefore surely this is a bug and they should return the same string?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/net/URI.html\r\n  [2]: http://developer.android.com/reference/android/net/Uri.html\r\n  [3]: http://www.faqs.org/rfcs/rfc2396.html","title":"Whats the difference between Java.Net.Uri and Android.Net.Uri","body":"<p>I am trying to get a <code>Uri</code> from a <code>file</code> object like so:</p>\n\n<pre><code>File file = new File(\"/sdcard/MyFolder/MyFile.txt\");\nvar androidUri = Android.Net.Uri.FromFile(file).ToString();\nvar javaUri = file.ToURI().ToString();\n</code></pre>\n\n<p>this returns the following values:</p>\n\n<pre><code>androidUri = \"file:///sdcard/MyFolder/MyFile.txt\"\njavaUri = \"file:/sdcard/MyFolder/MyFile.txt\"\n</code></pre>\n\n<p>so my question is whats the difference between the <code>Java.Net.Uri</code> and <code>Android.Net.Uri</code> are these two values supposed to be different? When should they be used?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I found the two documentation pages <a href=\"http://developer.android.com/reference/java/net/URI.html\" rel=\"noreferrer\">Java.Net.Uri</a> and <a href=\"http://developer.android.com/reference/android/net/Uri.html\" rel=\"noreferrer\">Android.Net.Uri</a> and both say:</p>\n\n<blockquote>\n  <p>Builds and parses URI references which conform to <a href=\"http://www.faqs.org/rfcs/rfc2396.html\" rel=\"noreferrer\">RFC 2396</a>.</p>\n</blockquote>\n\n<p>Therefore surely this is a bug and they should return the same string?</p>\n"},{"tags":["java","spring","spring-boot","backend"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680219306,"post_id":75893705,"comment_id":133865734,"body_markdown":"If you&#39;re expecting a list, the empty JSON should be `[]`.","body":"If you&#39;re expecting a list, the empty JSON should be <code>[]</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680219686,"post_id":75893705,"comment_id":133865770,"body_markdown":"What do you want to happen? Possibly related: [How to tell Jackson to ignore empty object during deserialization?](https://stackoverflow.com/q/40366524/12567365).","body":"What do you want to happen? Possibly related: <a href=\"https://stackoverflow.com/q/40366524/12567365\">How to tell Jackson to ignore empty object during deserialization?</a>."}],"owner":{"account_id":8647787,"reputation":29,"user_id":6474497,"display_name":"BDehylz Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680218963,"creation_date":1680218963,"question_id":75893705,"body_markdown":"how do I handle a submission of a supposedly empty JSON, this way ==&gt; {} ? I can&#39;t catch this error. It does not appear as null or as empty.\r\n\r\nI have been getting this error message: &quot;JSON parse error: Cannot deserialize value of type&quot;&quot; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException&quot; \r\n\r\nThis JASON goes to a &quot;List&quot; ","title":"Treatment for sending a supposedly empty json","body":"<p>how do I handle a submission of a supposedly empty JSON, this way ==&gt; {} ? I can't catch this error. It does not appear as null or as empty.</p>\n<p>I have been getting this error message: &quot;JSON parse error: Cannot deserialize value of type&quot;&quot; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException&quot;</p>\n<p>This JASON goes to a &quot;List&quot;</p>\n"},{"tags":["java","json","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1627327336,"post_id":68532105,"comment_id":121122066,"body_markdown":"1) Why are you consuming strings and not using ByteArrayDeserializer? 2) `DecoderFactory` wont work with Confluent serialized Avro messages","body":"1) Why are you consuming strings and not using ByteArrayDeserializer? 2) <code>DecoderFactory</code> wont work with Confluent serialized Avro messages"},{"owner":{"account_id":7391826,"reputation":291,"user_id":5624990,"accept_rate":80,"display_name":"Ravi Maurya"},"score":0,"creation_date":1627354037,"post_id":68532105,"comment_id":121127400,"body_markdown":"@OneCricketeer I changed it to ByteArrayDeserializer and now I am getting it as byte[]. the code looks as below.\n\nBut as you mentioned in point 2, DecoderFactory wont work, can you help me in how can I change my avroToJson function?\n\n\n\n\n\n@KafkaListener(topics = &quot;#{&#39;${kafka.consumer.topics}&#39;.split(&#39;,&#39;)}&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n\tvoid listener(byte[] message, Acknowledgment acknowledgment, @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) throws CacheServiceException, JsonProcessingException {","body":"@OneCricketeer I changed it to ByteArrayDeserializer and now I am getting it as byte[]. the code looks as below.  But as you mentioned in point 2, DecoderFactory wont work, can you help me in how can I change my avroToJson function?      @KafkaListener(topics = &quot;#{&#39;${kafka.consumer.topics}&#39;.split(&#39;,&#39;)}&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;) \tvoid listener(byte[] message, Acknowledgment acknowledgment, @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) throws CacheServiceException, JsonProcessingException {"},{"owner":{"account_id":7391826,"reputation":291,"user_id":5624990,"accept_rate":80,"display_name":"Ravi Maurya"},"score":0,"creation_date":1627355791,"post_id":68532105,"comment_id":121127705,"body_markdown":"Also, when using ByteArrayDeserializer to read data as byte array, its reading same as when i try doing message.getBytes() in my earlier code;","body":"Also, when using ByteArrayDeserializer to read data as byte array, its reading same as when i try doing message.getBytes() in my earlier code;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1627396031,"post_id":68532105,"comment_id":121141860,"body_markdown":"My point is that you don&#39;t need `.getBytes()` if you already receive `byte[]`. You need to manually parse out the byte array where the raw avro data exists. https://docs.confluent.io/platform/current/schema-registry/serdes-develop/index.html#wire-format Or you can consume the data using KafkaAvroDeserializer into GenericRecord objects, which `toString` method is JSON-like","body":"My point is that you don&#39;t need <code>.getBytes()</code> if you already receive <code>byte[]</code>. You need to manually parse out the byte array where the raw avro data exists. <a href=\"https://docs.confluent.io/platform/current/schema-registry/serdes-develop/index.html#wire-format\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/schema-registry/&hellip;</a> Or you can consume the data using KafkaAvroDeserializer into GenericRecord objects, which <code>toString</code> method is JSON-like"}],"answers":[{"tags":[],"owner":{"account_id":3846251,"reputation":27,"user_id":3187699,"display_name":"Raja Bhowmick"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1627343453,"creation_date":1627343453,"answer_id":68537453,"question_id":68532105,"body_markdown":"Avro is used to validate your data against the schema. if you don&#39;t want this, simply remove Avro and use only Kafka. From the producer, side send json data instead of avro serialized data.","title":"Avro to json converter in java","body":"<p>Avro is used to validate your data against the schema. if you don't want this, simply remove Avro and use only Kafka. From the producer, side send json data instead of avro serialized data.</p>\n"},{"tags":[],"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680217727,"creation_date":1680217727,"answer_id":75893623,"question_id":68532105,"body_markdown":"There might be some good answers [here][1], but here is how I was able to do this for specific records.\r\n\r\n    MyAvroType avroPojo = ...\r\n    var writer = new SpecificDatumWriter&lt;MyAvroType&gt;(avroPojo.getSchema());\r\n    var outputStream = new ByteArrayOutputStream();\r\n    var encoder = EncoderFactory.get().jsonEncoder(avroPojo.getSchema(), outputStream);\r\n    writer.write(event, encoder);\r\n    encoder.flush(); // If you get null strings this may be what you&#39;re missing\r\n    String s = outputStream.toString();\r\n\r\nIn addition to the &quot;normal&quot; binary encoding, the JSON encoding is also part of Avro&#39;s [specification][2] but there just don&#39;t seem to be as many examples of it around.\r\n\r\n&gt; I want to avoid reading data as AVRO from kafka as I am reading data from different topics with different Schemas in same kafka.\r\n\r\nAvro is not a &quot;self describing&quot; format like JSON is. Put simply that means that the serialized (binary) format does not have field names. Something like `{name: Bob, age: 30}` is encoded something like `Bob30`. It&#39;s not quite that simple of course, but the point remains that without the schema there is no way to get the field names from a binary Avro record. So there is no way to skip &quot;reading data as Avro&quot; and go straight to JSON because the information is simply not there.\r\n\r\n[1]: https://stackoverflow.com/a/24460234/1858327\r\n[2]: https://avro.apache.org/docs/1.11.1/specification/#json-encoding","title":"Avro to json converter in java","body":"<p>There might be some good answers <a href=\"https://stackoverflow.com/a/24460234/1858327\">here</a>, but here is how I was able to do this for specific records.</p>\n<pre><code>MyAvroType avroPojo = ...\nvar writer = new SpecificDatumWriter&lt;MyAvroType&gt;(avroPojo.getSchema());\nvar outputStream = new ByteArrayOutputStream();\nvar encoder = EncoderFactory.get().jsonEncoder(avroPojo.getSchema(), outputStream);\nwriter.write(event, encoder);\nencoder.flush(); // If you get null strings this may be what you're missing\nString s = outputStream.toString();\n</code></pre>\n<p>In addition to the &quot;normal&quot; binary encoding, the JSON encoding is also part of Avro's <a href=\"https://avro.apache.org/docs/1.11.1/specification/#json-encoding\" rel=\"nofollow noreferrer\">specification</a> but there just don't seem to be as many examples of it around.</p>\n<blockquote>\n<p>I want to avoid reading data as AVRO from kafka as I am reading data from different topics with different Schemas in same kafka.</p>\n</blockquote>\n<p>Avro is not a &quot;self describing&quot; format like JSON is. Put simply that means that the serialized (binary) format does not have field names. Something like <code>{name: Bob, age: 30}</code> is encoded something like <code>Bob30</code>. It's not quite that simple of course, but the point remains that without the schema there is no way to get the field names from a binary Avro record. So there is no way to skip &quot;reading data as Avro&quot; and go straight to JSON because the information is simply not there.</p>\n"}],"owner":{"account_id":7391826,"reputation":291,"user_id":5624990,"accept_rate":80,"display_name":"Ravi Maurya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680217727,"creation_date":1627311331,"question_id":68532105,"body_markdown":"I am reading Avro from kafka as a string and I am trying to convert the String avro to Json using java code.\r\n\r\n\r\n\r\n\r\n        @KafkaListener(topics = &quot;#{&#39;${kafka.consumer.topics}&#39;.split(&#39;,&#39;)}&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n    \tvoid listener(String message, Acknowledgment acknowledgment, @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) throws CacheServiceException, JsonProcessingException {\r\n    \r\n    //some code here\r\n    byte[] data = message.getBytes(); //This seems to be the issue\r\n    \r\n    avroToJson(schema,data)\r\n    \r\n    \r\n    }\r\n    \r\n    //Code to convert avro to json\r\n    public String avroToJson(Schema schema, byte[] avroBinary) throws IOException {\r\n    \t\tDatumReader&lt;Object&gt; datumReader = new GenericDatumReader&lt;&gt;(schema);\r\n    \t\tDecoder decoder = DecoderFactory.get().binaryDecoder(avroBinary, null);\r\n    \t\tObject avroDatum = datumReader.read(null, decoder);\r\n    \t\tSystem.out.println(&quot;Initiating loop&quot;);\r\n    \t\ttry (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n    \t\t\tDatumWriter&lt;Object&gt; writer = new GenericDatumWriter&lt;&gt;(schema);\r\n    \t\t\tJsonEncoder encoder = EncoderFactory.get().jsonEncoder(schema, baos, false);\r\n    \t\t\twriter.write(avroDatum, encoder);\r\n    \t\t\tencoder.flush();\r\n    \t\t\tbaos.flush();\r\n    \t\t\treturn new String(baos.toByteArray(), StandardCharsets.UTF_8);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n    \r\n\r\n\r\n\r\nI want to avoid reading data as AVRO from kafka as I am reading data from different topics with different Schemas in same kafka.","title":"Avro to json converter in java","body":"<p>I am reading Avro from kafka as a string and I am trying to convert the String avro to Json using java code.</p>\n<pre><code>    @KafkaListener(topics = &quot;#{'${kafka.consumer.topics}'.split(',')}&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    void listener(String message, Acknowledgment acknowledgment, @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) throws CacheServiceException, JsonProcessingException {\n\n//some code here\nbyte[] data = message.getBytes(); //This seems to be the issue\n\navroToJson(schema,data)\n\n\n}\n\n//Code to convert avro to json\npublic String avroToJson(Schema schema, byte[] avroBinary) throws IOException {\n        DatumReader&lt;Object&gt; datumReader = new GenericDatumReader&lt;&gt;(schema);\n        Decoder decoder = DecoderFactory.get().binaryDecoder(avroBinary, null);\n        Object avroDatum = datumReader.read(null, decoder);\n        System.out.println(&quot;Initiating loop&quot;);\n        try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n            DatumWriter&lt;Object&gt; writer = new GenericDatumWriter&lt;&gt;(schema);\n            JsonEncoder encoder = EncoderFactory.get().jsonEncoder(schema, baos, false);\n            writer.write(avroDatum, encoder);\n            encoder.flush();\n            baos.flush();\n            return new String(baos.toByteArray(), StandardCharsets.UTF_8);\n        }\n    }\n</code></pre>\n<p>I want to avoid reading data as AVRO from kafka as I am reading data from different topics with different Schemas in same kafka.</p>\n"},{"tags":["java","spring-boot","spring-mvc","inputstream","response-entity"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680216790,"post_id":75893540,"comment_id":133865471,"body_markdown":"By the way, you should read this: https://stackoverflow.com/questions/66637127/is-the-charset-parameter-allowed-on-application-octet-stream-mime-type","body":"By the way, you should read this: <a href=\"https://stackoverflow.com/questions/66637127/is-the-charset-parameter-allowed-on-application-octet-stream-mime-type\" title=\"is the charset parameter allowed on application octet stream mime type\">stackoverflow.com/questions/66637127/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680216853,"post_id":75893540,"comment_id":133865476,"body_markdown":"And this may help: https://stackoverflow.com/questions/38975718/how-to-download-excel-xls-file-from-api-in-postman","body":"And this may help: <a href=\"https://stackoverflow.com/questions/38975718/how-to-download-excel-xls-file-from-api-in-postman\" title=\"how to download excel xls file from api in postman\">stackoverflow.com/questions/38975718/&hellip;</a>"}],"owner":{"account_id":28173331,"reputation":1,"user_id":21531507,"display_name":"Lalisa Daniella"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680216441,"creation_date":1680216441,"question_id":75893540,"body_markdown":"So I have a method\r\n\r\n```\r\n@GetMapping(\r\n            value = &quot;/download/{fileId}&quot;,\r\n            produces = { MediaType.APPLICATION_OCTET_STREAM_VALUE }\r\n    )\r\n    public ResponseEntity&lt;InputStreamResource&gt; download(@Valid @PathVariable(value = &quot;fileId&quot;) String fileId) {\r\n        InputStreamResource file = new InputStreamResource(service.download(fileId));\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(new MediaType(MediaType.APPLICATION_OCTET_STREAM, Charset.forName(&quot;UTF-8&quot;)));\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, fileId+&quot;.doc&quot;);\r\n        headers.add(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n\r\n        return ResponseEntity.ok()\r\n                .headers(headers)\r\n                .body(file);\r\n    }\r\n```\r\n\r\nand when I hit the API from postman, it returns :\r\n[enter image description here](https://i.stack.imgur.com/SzSoT.png)\r\n\r\nHow can I make the output readable and downloadable from postman?","title":"How to return an InputStreamResource so it can readable from postman?","body":"<p>So I have a method</p>\n<pre><code>@GetMapping(\n            value = &quot;/download/{fileId}&quot;,\n            produces = { MediaType.APPLICATION_OCTET_STREAM_VALUE }\n    )\n    public ResponseEntity&lt;InputStreamResource&gt; download(@Valid @PathVariable(value = &quot;fileId&quot;) String fileId) {\n        InputStreamResource file = new InputStreamResource(service.download(fileId));\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(new MediaType(MediaType.APPLICATION_OCTET_STREAM, Charset.forName(&quot;UTF-8&quot;)));\n        headers.setContentDispositionFormData(&quot;attachment&quot;, fileId+&quot;.doc&quot;);\n        headers.add(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\n\n        return ResponseEntity.ok()\n                .headers(headers)\n                .body(file);\n    }\n</code></pre>\n<p>and when I hit the API from postman, it returns :\n<a href=\"https://i.stack.imgur.com/SzSoT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How can I make the output readable and downloadable from postman?</p>\n"},{"tags":["java","json","binary","arrays","avro"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1393208540,"post_id":21977704,"comment_id":33304118,"body_markdown":"For what it&#39;s worth, the [Apache Avro spec](http://avro.apache.org/docs/1.7.6/spec.html).","body":"For what it&#39;s worth, the <a href=\"http://avro.apache.org/docs/1.7.6/spec.html\" rel=\"nofollow noreferrer\">Apache Avro spec</a>."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1393208640,"post_id":21977704,"comment_id":33304144,"body_markdown":"It&#39;s not clear what converting JSON &quot;to Avro&quot; would imply, since Avro notation is, per the spec, just a particular set of constraints placed on the format of a JSON string.","body":"It&#39;s not clear what converting JSON &quot;to Avro&quot; would imply, since Avro notation is, per the spec, just a particular set of constraints placed on the format of a JSON string."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1393208956,"post_id":21977704,"comment_id":33304213,"body_markdown":"In any event, Apache appears to provide a [set of utilities](http://avro.apache.org/docs/current/api/java/index.html), so it&#39;s not clear why you&#39;d need to write your own.","body":"In any event, Apache appears to provide a <a href=\"http://avro.apache.org/docs/current/api/java/index.html\" rel=\"nofollow noreferrer\">set of utilities</a>, so it&#39;s not clear why you&#39;d need to write your own."},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1393211121,"post_id":21977704,"comment_id":33304726,"body_markdown":"hmmm.. Not sure I understand that correctly.. I have a JSON string which I am supposed to encode into Avro Binary.. How should I do that? The way I am doing is not correct?","body":"hmmm.. Not sure I understand that correctly.. I have a JSON string which I am supposed to encode into Avro Binary.. How should I do that? The way I am doing is not correct?"},{"owner":{"account_id":15549476,"reputation":111,"user_id":11217621,"display_name":"diegoruizbarbero"},"score":0,"creation_date":1591955035,"post_id":21977704,"comment_id":110256575,"body_markdown":"@HotLicks I&#39;ve found myself having the same issue, would you mind to point on where to look for these Apache utilities to find the equivalent function/method?","body":"@HotLicks I&#39;ve found myself having the same issue, would you mind to point on where to look for these Apache utilities to find the equivalent function/method?"}],"answers":[{"tags":[],"owner":{"account_id":53593,"reputation":11553,"user_id":160256,"display_name":"Keegan"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1680216347,"creation_date":1403900665,"answer_id":24460234,"question_id":21977704,"body_markdown":"I think OP is correct. This will write Avro records themselves without the schema that would be present if this were an Avro data file.\r\n\r\nHere&#39;s a couple examples within Avro itself (useful if you are working with files.&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;bull; From JSON to Avro: [DataFileWriteTool][1]&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;bull; From Avro to JSON: [DataFileReadTool][2]\r\n\r\nHere&#39;s a complete example going both ways.\r\n\r\n    @Grapes([\r\n        @Grab(group=&#39;org.apache.avro&#39;, module=&#39;avro&#39;, version=&#39;1.7.7&#39;)\r\n    ])\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataInputStream;\r\n    import java.io.EOFException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericDatumReader;\r\n    import org.apache.avro.generic.GenericDatumWriter;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.DatumWriter;\r\n    import org.apache.avro.io.Decoder;\r\n    import org.apache.avro.io.DecoderFactory;\r\n    import org.apache.avro.io.Encoder;\r\n    import org.apache.avro.io.EncoderFactory;\r\n    import org.apache.avro.io.JsonEncoder;\r\n\r\n    String schema = &#39;&#39;&#39;{\r\n      &quot;type&quot;:&quot;record&quot;,\r\n      &quot;namespace&quot;:&quot;foo&quot;,\r\n      &quot;name&quot;:&quot;Person&quot;,\r\n      &quot;fields&quot;:[\r\n        {\r\n          &quot;name&quot;:&quot;name&quot;,\r\n          &quot;type&quot;:&quot;string&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;:&quot;age&quot;,\r\n          &quot;type&quot;:&quot;int&quot;\r\n        }\r\n      ]\r\n    }&#39;&#39;&#39;\r\n    String json = &quot;{&quot; +\r\n      &quot;\\&quot;name\\&quot;:\\&quot;Frank\\&quot;,&quot; +\r\n      &quot;\\&quot;age\\&quot;:47&quot; +\r\n    &quot;}&quot;\r\n\r\n    assert avroToJson(jsonToAvro(json, schema), schema) == json\r\n\r\n\r\n    public static byte[] jsonToAvro(String json, String schemaStr) throws IOException {\r\n        InputStream input = null;\r\n        GenericDatumWriter&lt;GenericRecord&gt; writer = null;\r\n        Encoder encoder = null;\r\n        ByteArrayOutputStream output = null;\r\n        try {\r\n            Schema schema = new Schema.Parser().parse(schemaStr);\r\n            DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\r\n            input = new ByteArrayInputStream(json.getBytes());\r\n            output = new ByteArrayOutputStream();\r\n            DataInputStream din = new DataInputStream(input);\r\n            writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\r\n            Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\r\n            encoder = EncoderFactory.get().binaryEncoder(output, null);\r\n            GenericRecord datum;\r\n            while (true) {\r\n                try {\r\n                    datum = reader.read(null, decoder);\r\n                } catch (EOFException eofe) {\r\n                    break;\r\n                }\r\n                writer.write(datum, encoder);\r\n            }\r\n            encoder.flush();\r\n            return output.toByteArray();\r\n        } finally {\r\n            try { input.close(); } catch (Exception e) { }\r\n        }\r\n    }\r\n\r\n    public static String avroToJson(byte[] avro, String schemaStr) throws IOException {\r\n        boolean pretty = false;\r\n        GenericDatumReader&lt;GenericRecord&gt; reader = null;\r\n        JsonEncoder encoder = null;\r\n        ByteArrayOutputStream output = null;\r\n        try {\r\n            Schema schema = new Schema.Parser().parse(schemaStr);\r\n            reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\r\n            InputStream input = new ByteArrayInputStream(avro);\r\n            output = new ByteArrayOutputStream();\r\n            DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\r\n            encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\r\n            Decoder decoder = DecoderFactory.get().binaryDecoder(input, null);\r\n            GenericRecord datum;\r\n            while (true) {\r\n                try {\r\n                    datum = reader.read(null, decoder);\r\n                } catch (EOFException eofe) {\r\n                    break;\r\n                }\r\n                writer.write(datum, encoder);\r\n            }\r\n            encoder.flush();\r\n            output.flush();\r\n            return new String(output.toByteArray());\r\n        } finally {\r\n            try { if (output != null) output.close(); } catch (Exception e) { }\r\n        }\r\n    }\r\n\r\nFor the sake of completeness, here&#39;s an example if you were working with streams (Avro calls these [container files][3]) instead of records.  Note that when you go back from JSON to Avro, you don&#39;t need to pass the schema.  This is because it is present in the stream.\r\n\r\n    @Grapes([\r\n        @Grab(group=&#39;org.apache.avro&#39;, module=&#39;avro&#39;, version=&#39;1.7.7&#39;)\r\n    ])\r\n\r\n    // writes Avro as a http://avro.apache.org/docs/current/spec.html#Object+Container+Files rather than a sequence of records\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataInputStream;\r\n    import java.io.EOFException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.file.DataFileStream;\r\n    import org.apache.avro.file.DataFileWriter;\r\n    import org.apache.avro.generic.GenericDatumReader;\r\n    import org.apache.avro.generic.GenericDatumWriter;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.DatumWriter;\r\n    import org.apache.avro.io.Decoder;\r\n    import org.apache.avro.io.DecoderFactory;\r\n    import org.apache.avro.io.Encoder;\r\n    import org.apache.avro.io.EncoderFactory;\r\n    import org.apache.avro.io.JsonEncoder;\r\n\r\n\r\n    String schema = &#39;&#39;&#39;{\r\n      &quot;type&quot;:&quot;record&quot;,\r\n      &quot;namespace&quot;:&quot;foo&quot;,\r\n      &quot;name&quot;:&quot;Person&quot;,\r\n      &quot;fields&quot;:[\r\n        {\r\n          &quot;name&quot;:&quot;name&quot;,\r\n          &quot;type&quot;:&quot;string&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;:&quot;age&quot;,\r\n          &quot;type&quot;:&quot;int&quot;\r\n        }\r\n      ]\r\n    }&#39;&#39;&#39;\r\n    String json = &quot;{&quot; +\r\n      &quot;\\&quot;name\\&quot;:\\&quot;Frank\\&quot;,&quot; +\r\n      &quot;\\&quot;age\\&quot;:47&quot; +\r\n    &quot;}&quot;\r\n\r\n    assert avroToJson(jsonToAvro(json, schema)) == json\r\n\r\n\r\n    public static byte[] jsonToAvro(String json, String schemaStr) throws IOException {\r\n        InputStream input = null;\r\n        DataFileWriter&lt;GenericRecord&gt; writer = null;\r\n        Encoder encoder = null;\r\n        ByteArrayOutputStream output = null;\r\n        try {\r\n            Schema schema = new Schema.Parser().parse(schemaStr);\r\n            DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\r\n            input = new ByteArrayInputStream(json.getBytes());\r\n            output = new ByteArrayOutputStream();\r\n            DataInputStream din = new DataInputStream(input);\r\n            writer = new DataFileWriter&lt;GenericRecord&gt;(new GenericDatumWriter&lt;GenericRecord&gt;());\r\n            writer.create(schema, output);\r\n            Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\r\n            GenericRecord datum;\r\n            while (true) {\r\n                try {\r\n                    datum = reader.read(null, decoder);\r\n                } catch (EOFException eofe) {\r\n                    break;\r\n                }\r\n                writer.append(datum);\r\n            }\r\n            writer.flush();\r\n            return output.toByteArray();\r\n        } finally {\r\n            try { input.close(); } catch (Exception e) { }\r\n        }\r\n    }\r\n\r\n    public static String avroToJson(byte[] avro) throws IOException {\r\n        boolean pretty = false;\r\n        GenericDatumReader&lt;GenericRecord&gt; reader = null;\r\n        JsonEncoder encoder = null;\r\n        ByteArrayOutputStream output = null;\r\n        try {\r\n            reader = new GenericDatumReader&lt;GenericRecord&gt;();\r\n            InputStream input = new ByteArrayInputStream(avro);\r\n            DataFileStream&lt;GenericRecord&gt; streamReader = new DataFileStream&lt;GenericRecord&gt;(input, reader);\r\n            output = new ByteArrayOutputStream();\r\n            Schema schema = streamReader.getSchema();\r\n            DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\r\n            encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\r\n            for (GenericRecord datum : streamReader) {\r\n                writer.write(datum, encoder);\r\n            }\r\n            encoder.flush();\r\n            output.flush();\r\n            return new String(output.toByteArray());\r\n        } finally {\r\n            try { if (output != null) output.close(); } catch (Exception e) { }\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileWriteTool.java\r\n  [2]: https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileReadTool.java\r\n  [3]: http://avro.apache.org/docs/current/spec.html#Object+Container+Files","title":"How to Avro Binary encode the JSON String using Apache Avro?","body":"<p>I think OP is correct. This will write Avro records themselves without the schema that would be present if this were an Avro data file.</p>\n<p>Here's a couple examples within Avro itself (useful if you are working with files.<br>\n    • From JSON to Avro: <a href=\"https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileWriteTool.java\" rel=\"nofollow noreferrer\">DataFileWriteTool</a><br>\n    • From Avro to JSON: <a href=\"https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileReadTool.java\" rel=\"nofollow noreferrer\">DataFileReadTool</a></p>\n<p>Here's a complete example going both ways.</p>\n<pre><code>@Grapes([\n    @Grab(group='org.apache.avro', module='avro', version='1.7.7')\n])\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataInputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericDatumReader;\nimport org.apache.avro.generic.GenericDatumWriter;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.Decoder;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.avro.io.Encoder;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.io.JsonEncoder;\n\nString schema = '''{\n  &quot;type&quot;:&quot;record&quot;,\n  &quot;namespace&quot;:&quot;foo&quot;,\n  &quot;name&quot;:&quot;Person&quot;,\n  &quot;fields&quot;:[\n    {\n      &quot;name&quot;:&quot;name&quot;,\n      &quot;type&quot;:&quot;string&quot;\n    },\n    {\n      &quot;name&quot;:&quot;age&quot;,\n      &quot;type&quot;:&quot;int&quot;\n    }\n  ]\n}'''\nString json = &quot;{&quot; +\n  &quot;\\&quot;name\\&quot;:\\&quot;Frank\\&quot;,&quot; +\n  &quot;\\&quot;age\\&quot;:47&quot; +\n&quot;}&quot;\n\nassert avroToJson(jsonToAvro(json, schema), schema) == json\n\n\npublic static byte[] jsonToAvro(String json, String schemaStr) throws IOException {\n    InputStream input = null;\n    GenericDatumWriter&lt;GenericRecord&gt; writer = null;\n    Encoder encoder = null;\n    ByteArrayOutputStream output = null;\n    try {\n        Schema schema = new Schema.Parser().parse(schemaStr);\n        DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\n        input = new ByteArrayInputStream(json.getBytes());\n        output = new ByteArrayOutputStream();\n        DataInputStream din = new DataInputStream(input);\n        writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\n        Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\n        encoder = EncoderFactory.get().binaryEncoder(output, null);\n        GenericRecord datum;\n        while (true) {\n            try {\n                datum = reader.read(null, decoder);\n            } catch (EOFException eofe) {\n                break;\n            }\n            writer.write(datum, encoder);\n        }\n        encoder.flush();\n        return output.toByteArray();\n    } finally {\n        try { input.close(); } catch (Exception e) { }\n    }\n}\n\npublic static String avroToJson(byte[] avro, String schemaStr) throws IOException {\n    boolean pretty = false;\n    GenericDatumReader&lt;GenericRecord&gt; reader = null;\n    JsonEncoder encoder = null;\n    ByteArrayOutputStream output = null;\n    try {\n        Schema schema = new Schema.Parser().parse(schemaStr);\n        reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\n        InputStream input = new ByteArrayInputStream(avro);\n        output = new ByteArrayOutputStream();\n        DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\n        encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\n        Decoder decoder = DecoderFactory.get().binaryDecoder(input, null);\n        GenericRecord datum;\n        while (true) {\n            try {\n                datum = reader.read(null, decoder);\n            } catch (EOFException eofe) {\n                break;\n            }\n            writer.write(datum, encoder);\n        }\n        encoder.flush();\n        output.flush();\n        return new String(output.toByteArray());\n    } finally {\n        try { if (output != null) output.close(); } catch (Exception e) { }\n    }\n}\n</code></pre>\n<p>For the sake of completeness, here's an example if you were working with streams (Avro calls these <a href=\"http://avro.apache.org/docs/current/spec.html#Object+Container+Files\" rel=\"nofollow noreferrer\">container files</a>) instead of records.  Note that when you go back from JSON to Avro, you don't need to pass the schema.  This is because it is present in the stream.</p>\n<pre><code>@Grapes([\n    @Grab(group='org.apache.avro', module='avro', version='1.7.7')\n])\n\n// writes Avro as a http://avro.apache.org/docs/current/spec.html#Object+Container+Files rather than a sequence of records\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataInputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.file.DataFileStream;\nimport org.apache.avro.file.DataFileWriter;\nimport org.apache.avro.generic.GenericDatumReader;\nimport org.apache.avro.generic.GenericDatumWriter;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.Decoder;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.avro.io.Encoder;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.io.JsonEncoder;\n\n\nString schema = '''{\n  &quot;type&quot;:&quot;record&quot;,\n  &quot;namespace&quot;:&quot;foo&quot;,\n  &quot;name&quot;:&quot;Person&quot;,\n  &quot;fields&quot;:[\n    {\n      &quot;name&quot;:&quot;name&quot;,\n      &quot;type&quot;:&quot;string&quot;\n    },\n    {\n      &quot;name&quot;:&quot;age&quot;,\n      &quot;type&quot;:&quot;int&quot;\n    }\n  ]\n}'''\nString json = &quot;{&quot; +\n  &quot;\\&quot;name\\&quot;:\\&quot;Frank\\&quot;,&quot; +\n  &quot;\\&quot;age\\&quot;:47&quot; +\n&quot;}&quot;\n\nassert avroToJson(jsonToAvro(json, schema)) == json\n\n\npublic static byte[] jsonToAvro(String json, String schemaStr) throws IOException {\n    InputStream input = null;\n    DataFileWriter&lt;GenericRecord&gt; writer = null;\n    Encoder encoder = null;\n    ByteArrayOutputStream output = null;\n    try {\n        Schema schema = new Schema.Parser().parse(schemaStr);\n        DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\n        input = new ByteArrayInputStream(json.getBytes());\n        output = new ByteArrayOutputStream();\n        DataInputStream din = new DataInputStream(input);\n        writer = new DataFileWriter&lt;GenericRecord&gt;(new GenericDatumWriter&lt;GenericRecord&gt;());\n        writer.create(schema, output);\n        Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\n        GenericRecord datum;\n        while (true) {\n            try {\n                datum = reader.read(null, decoder);\n            } catch (EOFException eofe) {\n                break;\n            }\n            writer.append(datum);\n        }\n        writer.flush();\n        return output.toByteArray();\n    } finally {\n        try { input.close(); } catch (Exception e) { }\n    }\n}\n\npublic static String avroToJson(byte[] avro) throws IOException {\n    boolean pretty = false;\n    GenericDatumReader&lt;GenericRecord&gt; reader = null;\n    JsonEncoder encoder = null;\n    ByteArrayOutputStream output = null;\n    try {\n        reader = new GenericDatumReader&lt;GenericRecord&gt;();\n        InputStream input = new ByteArrayInputStream(avro);\n        DataFileStream&lt;GenericRecord&gt; streamReader = new DataFileStream&lt;GenericRecord&gt;(input, reader);\n        output = new ByteArrayOutputStream();\n        Schema schema = streamReader.getSchema();\n        DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\n        encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\n        for (GenericRecord datum : streamReader) {\n            writer.write(datum, encoder);\n        }\n        encoder.flush();\n        output.flush();\n        return new String(output.toByteArray());\n    } finally {\n        try { if (output != null) output.close(); } catch (Exception e) { }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203770,"reputation":2732,"user_id":451617,"display_name":"ppearcy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438277888,"creation_date":1438277888,"answer_id":31730520,"question_id":21977704,"body_markdown":"To add to Keegan&#39;s answer, this discussion is likely useful:\r\n\r\nhttp://mail-archives.apache.org/mod_mbox/avro-user/201209.mbox/%3CCALEq1Z8s1sfaAVB7YE2rpZ=v3q1V_h7Vm39h0HsOzxJ+qfQRSg@mail.gmail.com%3E\r\n\r\nThe gist is that there is a special Json schema and you can use JsonReader/Writer to get to and from that. The Json schema you should use is defined here:\r\n\r\nhttps://github.com/apache/avro/blob/trunk/share/schemas/org/apache/avro/data/Json.avsc","title":"How to Avro Binary encode the JSON String using Apache Avro?","body":"<p>To add to Keegan's answer, this discussion is likely useful:</p>\n\n<p><a href=\"http://mail-archives.apache.org/mod_mbox/avro-user/201209.mbox/%3CCALEq1Z8s1sfaAVB7YE2rpZ=v3q1V_h7Vm39h0HsOzxJ+qfQRSg@mail.gmail.com%3E\" rel=\"nofollow\">http://mail-archives.apache.org/mod_mbox/avro-user/201209.mbox/%3CCALEq1Z8s1sfaAVB7YE2rpZ=v3q1V_h7Vm39h0HsOzxJ+qfQRSg@mail.gmail.com%3E</a></p>\n\n<p>The gist is that there is a special Json schema and you can use JsonReader/Writer to get to and from that. The Json schema you should use is defined here:</p>\n\n<p><a href=\"https://github.com/apache/avro/blob/trunk/share/schemas/org/apache/avro/data/Json.avsc\" rel=\"nofollow\">https://github.com/apache/avro/blob/trunk/share/schemas/org/apache/avro/data/Json.avsc</a></p>\n"},{"tags":[],"owner":{"account_id":7341176,"reputation":762,"user_id":5590649,"accept_rate":83,"display_name":"StrongYoung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482828295,"creation_date":1482828295,"answer_id":41341810,"question_id":21977704,"body_markdown":"You can use the `avro-tools` to convert the json file(`{input_file}.json`) to avro file(`{output_file}.avro`) when you know the schema(`{schema_file}.avsc`) of the json file. Just like below:\r\n\r\n    java -jar the/path/of/avro-tools-1.8.1.jar fromjson {input_file}.json   --schema-file {schema_file}.avsc &gt; {output_file}.avro\r\n\r\nBy the way, the contents of `{schema_file}.avsc` file is as belows:\r\n\r\n    {&quot;type&quot;: &quot;record&quot;,\r\n     &quot;name&quot;: &quot;User&quot;,\r\n      &quot;fields&quot;: [\r\n          {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},\r\n          {&quot;name&quot;: &quot;favorite_number&quot;,  &quot;type&quot;: [&quot;int&quot;, &quot;null&quot;]},\r\n          {&quot;name&quot;: &quot;favorite_color&quot;, &quot;type&quot;: [&quot;string&quot;, &quot;null&quot;]}\r\n      ]\r\n     }\r\n\r\n[Download avro-tools-1.8.1][1]\r\n\r\n[Download others avro-tools][2]\r\n\r\n\r\n  [1]: http://central.maven.org/maven2/org/apache/avro/avro-tools/1.8.1/avro-tools-1.8.1.jar\r\n  [2]: http://central.maven.org/maven2/org/apache/avro/avro-tools/","title":"How to Avro Binary encode the JSON String using Apache Avro?","body":"<p>You can use the <code>avro-tools</code> to convert the json file(<code>{input_file}.json</code>) to avro file(<code>{output_file}.avro</code>) when you know the schema(<code>{schema_file}.avsc</code>) of the json file. Just like below:</p>\n\n<pre><code>java -jar the/path/of/avro-tools-1.8.1.jar fromjson {input_file}.json   --schema-file {schema_file}.avsc &gt; {output_file}.avro\n</code></pre>\n\n<p>By the way, the contents of <code>{schema_file}.avsc</code> file is as belows:</p>\n\n<pre><code>{\"type\": \"record\",\n \"name\": \"User\",\n  \"fields\": [\n      {\"name\": \"name\", \"type\": \"string\"},\n      {\"name\": \"favorite_number\",  \"type\": [\"int\", \"null\"]},\n      {\"name\": \"favorite_color\", \"type\": [\"string\", \"null\"]}\n  ]\n }\n</code></pre>\n\n<p><a href=\"http://central.maven.org/maven2/org/apache/avro/avro-tools/1.8.1/avro-tools-1.8.1.jar\" rel=\"nofollow noreferrer\">Download avro-tools-1.8.1</a></p>\n\n<p><a href=\"http://central.maven.org/maven2/org/apache/avro/avro-tools/\" rel=\"nofollow noreferrer\">Download others avro-tools</a></p>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38744,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1680216347,"creation_date":1393207787,"question_id":21977704,"body_markdown":"I am trying to avro binary encode my JSON String. Below is my JSON String and I have created a simple method which will do the conversion but I am not sure whether the way I am doing is correct or not? \r\n\r\n    public static void main(String args[]) throws Exception{\r\n\ttry{\r\n\t    Schema schema = new Parser().parse((TestExample.class.getResourceAsStream(&quot;/3233.avsc&quot;)));\r\n\t    String json=&quot;{&quot;+\r\n\t\t    &quot;  \\&quot;location\\&quot; : {&quot;+\r\n\t\t    &quot;    \\&quot;devices\\&quot;:[&quot;+\r\n\t\t    &quot;      {&quot;+\r\n\t\t    &quot;        \\&quot;did\\&quot;:\\&quot;9abd09-439bcd-629a8f\\&quot;,&quot;+\r\n\t\t    &quot;        \\&quot;dt\\&quot;:\\&quot;browser\\&quot;,&quot;+\r\n\t\t    &quot;        \\&quot;usl\\&quot;:{&quot;+\r\n\t\t    &quot;          \\&quot;pos\\&quot;:{&quot;+\r\n\t\t    &quot;            \\&quot;source\\&quot;:\\&quot;GPS\\&quot;,&quot;+\r\n\t\t    &quot;            \\&quot;lat\\&quot;:90.0,&quot;+\r\n\t\t    &quot;            \\&quot;long\\&quot;:101.0,&quot;+\r\n\t\t    &quot;            \\&quot;acc\\&quot;:100&quot;+\r\n\t\t    &quot;          },&quot;+\r\n\t\t    &quot;          \\&quot;addSource\\&quot;:\\&quot;LL\\&quot;,&quot;+\r\n\t\t    &quot;          \\&quot;add\\&quot;:[&quot;+\r\n\t\t    &quot;            {&quot;+\r\n\t\t    &quot;              \\&quot;val\\&quot;:\\&quot;2123\\&quot;,&quot;+\r\n\t\t    &quot;              \\&quot;type\\&quot; : \\&quot;NUM\\&quot;&quot;+\r\n\t\t    &quot;            },&quot;+\r\n\t\t    &quot;            {&quot;+\r\n\t\t    &quot;              \\&quot;val\\&quot;:\\&quot;Harris ST\\&quot;,&quot;+\r\n\t\t    &quot;              \\&quot;type\\&quot; : \\&quot;ST\\&quot;&quot;+\r\n\t\t    &quot;            }&quot;+\r\n\t\t    &quot;          ],&quot;+\r\n\t\t    &quot;          \\&quot;ei\\&quot;:{&quot;+\r\n\t\t    &quot;            \\&quot;ibm\\&quot;:true,&quot;+\r\n\t\t    &quot;            \\&quot;sr\\&quot;:10,&quot;+\r\n\t\t    &quot;            \\&quot;ienz\\&quot;:true,&quot;+\r\n\t\t    &quot;            \\&quot;enz\\&quot;:100,&quot;+\r\n\t\t    &quot;            \\&quot;enr\\&quot;:10&quot;+\r\n\t\t    &quot;          },&quot;+\r\n\t\t    &quot;          \\&quot;lm\\&quot;:1390598086120&quot;+\r\n\t\t    &quot;        }&quot;+\r\n\t\t    &quot;      }&quot;+\r\n\t\t    &quot;    ],&quot;+\r\n\t\t    &quot;    \\&quot;ver\\&quot; : \\&quot;1.0\\&quot;&quot;+\r\n\t\t    &quot;  }&quot;+\r\n\t\t    &quot;}&quot;;\r\n\r\n\t    byte[] avroByteArray = fromJsonToAvro(json,schema);\r\n\t\t\r\n\t} catch (Exception ex) {\r\n\t\t// log an exception\r\n\t}\r\n\t\r\n\t\r\nBelow method will convert my JSON String to Avro Binary encoded - \r\n\t\r\n\tprivate static byte[] fromJsonToAvro(String json, Schema schema) throws Exception {\r\n\r\n\t\tInputStream input = new ByteArrayInputStream(json.getBytes());\r\n\t\tDataInputStream din = new DataInputStream(input);\t\r\n\r\n\t\tDecoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\r\n\r\n\t\tDatumReader&lt;Object&gt; reader = new GenericDatumReader&lt;Object&gt;(schema);\r\n\t\tObject datum = reader.read(null, decoder);\r\n\r\n\r\n\t\tGenericDatumWriter&lt;Object&gt;  w = new GenericDatumWriter&lt;Object&gt;(schema);\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n\t\tEncoder e = EncoderFactory.get().binaryEncoder(outputStream, null);\r\n\r\n\t\tw.write(datum, e);\r\n\t\te.flush();\r\n\r\n\t\treturn outputStream.toByteArray();\r\n    }\r\n\r\n\t\r\nCan anyone take a look and let me know whether the way I am trying to avro binary my JSON String is correct or not?","title":"How to Avro Binary encode the JSON String using Apache Avro?","body":"<p>I am trying to avro binary encode my JSON String. Below is my JSON String and I have created a simple method which will do the conversion but I am not sure whether the way I am doing is correct or not? </p>\n\n<pre><code>public static void main(String args[]) throws Exception{\ntry{\n    Schema schema = new Parser().parse((TestExample.class.getResourceAsStream(\"/3233.avsc\")));\n    String json=\"{\"+\n        \"  \\\"location\\\" : {\"+\n        \"    \\\"devices\\\":[\"+\n        \"      {\"+\n        \"        \\\"did\\\":\\\"9abd09-439bcd-629a8f\\\",\"+\n        \"        \\\"dt\\\":\\\"browser\\\",\"+\n        \"        \\\"usl\\\":{\"+\n        \"          \\\"pos\\\":{\"+\n        \"            \\\"source\\\":\\\"GPS\\\",\"+\n        \"            \\\"lat\\\":90.0,\"+\n        \"            \\\"long\\\":101.0,\"+\n        \"            \\\"acc\\\":100\"+\n        \"          },\"+\n        \"          \\\"addSource\\\":\\\"LL\\\",\"+\n        \"          \\\"add\\\":[\"+\n        \"            {\"+\n        \"              \\\"val\\\":\\\"2123\\\",\"+\n        \"              \\\"type\\\" : \\\"NUM\\\"\"+\n        \"            },\"+\n        \"            {\"+\n        \"              \\\"val\\\":\\\"Harris ST\\\",\"+\n        \"              \\\"type\\\" : \\\"ST\\\"\"+\n        \"            }\"+\n        \"          ],\"+\n        \"          \\\"ei\\\":{\"+\n        \"            \\\"ibm\\\":true,\"+\n        \"            \\\"sr\\\":10,\"+\n        \"            \\\"ienz\\\":true,\"+\n        \"            \\\"enz\\\":100,\"+\n        \"            \\\"enr\\\":10\"+\n        \"          },\"+\n        \"          \\\"lm\\\":1390598086120\"+\n        \"        }\"+\n        \"      }\"+\n        \"    ],\"+\n        \"    \\\"ver\\\" : \\\"1.0\\\"\"+\n        \"  }\"+\n        \"}\";\n\n    byte[] avroByteArray = fromJsonToAvro(json,schema);\n\n} catch (Exception ex) {\n    // log an exception\n}\n</code></pre>\n\n<p>Below method will convert my JSON String to Avro Binary encoded - </p>\n\n<pre><code>private static byte[] fromJsonToAvro(String json, Schema schema) throws Exception {\n\n    InputStream input = new ByteArrayInputStream(json.getBytes());\n    DataInputStream din = new DataInputStream(input);   \n\n    Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\n\n    DatumReader&lt;Object&gt; reader = new GenericDatumReader&lt;Object&gt;(schema);\n    Object datum = reader.read(null, decoder);\n\n\n    GenericDatumWriter&lt;Object&gt;  w = new GenericDatumWriter&lt;Object&gt;(schema);\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    Encoder e = EncoderFactory.get().binaryEncoder(outputStream, null);\n\n    w.write(datum, e);\n    e.flush();\n\n    return outputStream.toByteArray();\n}\n</code></pre>\n\n<p>Can anyone take a look and let me know whether the way I am trying to avro binary my JSON String is correct or not?</p>\n"},{"tags":["java","eclipse","gradle","java-resources"],"answers":[{"tags":[],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680215252,"creation_date":1680215252,"answer_id":75893447,"question_id":75837704,"body_markdown":"I found this can be achieved by redefining `sourceSets`. Eclipse will copy the entire directory tree including any non-java source files from both `src/test/java` as well as `src/test/resources` into the classpath used for the tests. To have gradle do the same, add this to `build.gradle`:\r\n\r\n    sourceSets {\r\n        test {\r\n            resources.srcDirs = [&#39;src/test/java&#39;,&#39;src/test/resources&#39;]\r\n            resources.excludes = [&#39;**/*.java&#39;]\r\n        }\r\n    }\r\n\r\n","title":"Gradle does not copy package-local test resources","body":"<p>I found this can be achieved by redefining <code>sourceSets</code>. Eclipse will copy the entire directory tree including any non-java source files from both <code>src/test/java</code> as well as <code>src/test/resources</code> into the classpath used for the tests. To have gradle do the same, add this to <code>build.gradle</code>:</p>\n<pre><code>sourceSets {\n    test {\n        resources.srcDirs = ['src/test/java','src/test/resources']\n        resources.excludes = ['**/*.java']\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75893447,"answer_count":1,"score":0,"last_activity_date":1680215371,"creation_date":1679687868,"question_id":75837704,"body_markdown":"I&#39;d like gradle to behave like Eclipse when it executes the tests. Here is a minimal setup:\r\n\r\n    plugins {\r\n        id &#39;eclipse&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.8.1&#39;\r\n    }\r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nThe source tree is:\r\n\r\n    └───src\r\n        └───test\r\n            └───java\r\n                └───abc\r\n                        package-local.txt\r\n                        ResourceTest.java\r\n\r\nAnd the actual test looks like this:\r\n\r\n    package abc;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class ResourceTest {\r\n    \r\n    \t@Test\r\n    \tvoid loadResource() {\r\n    \t\tassertNotNull(getClass().getResource(&quot;package-local.txt&quot;));\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis works when run from Eclipse, but fails with `gradlew test` because gradle will not copy `src/test/java/abc/package-local.txt` into the classpath that is used for test execution. Why is that and what do I need to do to get the same behavior as in Eclipse?\r\n","title":"Gradle does not copy package-local test resources","body":"<p>I'd like gradle to behave like Eclipse when it executes the tests. Here is a minimal setup:</p>\n<pre><code>plugins {\n    id 'eclipse'\n    id 'java'\n}\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.8.1'\n}\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>The source tree is:</p>\n<pre><code>└───src\n    └───test\n        └───java\n            └───abc\n                    package-local.txt\n                    ResourceTest.java\n</code></pre>\n<p>And the actual test looks like this:</p>\n<pre><code>package abc;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport org.junit.jupiter.api.Test;\n\npublic class ResourceTest {\n\n    @Test\n    void loadResource() {\n        assertNotNull(getClass().getResource(&quot;package-local.txt&quot;));\n    }\n    \n}\n</code></pre>\n<p>This works when run from Eclipse, but fails with <code>gradlew test</code> because gradle will not copy <code>src/test/java/abc/package-local.txt</code> into the classpath that is used for test execution. Why is that and what do I need to do to get the same behavior as in Eclipse?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680212154,"post_id":75893156,"comment_id":133864734,"body_markdown":"Setting aside some bad practices in your code, including using null layouts and over-use of static fields and such, your default table model creation seems in error. You are passing in an array with 7 column names but your data rows only have one data item per row. How can this work?","body":"Setting aside some bad practices in your code, including using null layouts and over-use of static fields and such, your default table model creation seems in error. You are passing in an array with 7 column names but your data rows only have one data item per row. How can this work?"},{"owner":{"account_id":24451408,"reputation":35,"user_id":18373605,"display_name":"Jakub Zak"},"score":0,"creation_date":1680212635,"post_id":75893156,"comment_id":133864800,"body_markdown":"@HovercraftFullOfEels - This is my first ever Java project so, I apologize for the bad practices. I ran the code and the table is created just fine, all the columns are blank except for the Item ID columns, which are the only ones I am interested in.","body":"@HovercraftFullOfEels - This is my first ever Java project so, I apologize for the bad practices. I ran the code and the table is created just fine, all the columns are blank except for the Item ID columns, which are the only ones I am interested in."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680212928,"post_id":75893156,"comment_id":133864854,"body_markdown":"But where are you putting in the real data into the JTable though? I&#39;m confused by this code and your question as it seems incomplete. Is this your entire code? If not, can you instead consider creating and posting a viable [mre] code post with your question?","body":"But where are you putting in the real data into the JTable though? I&#39;m confused by this code and your question as it seems incomplete. Is this your entire code? If not, can you instead consider creating and posting a viable <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with your question?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1680213139,"post_id":75893156,"comment_id":133864896,"body_markdown":"You need to make use of both the &quot;row&quot; and &quot;column&quot; selection models or make use of [`JTable#getSelectedColumn`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedColumn()); [`JTable#getSelectedColumns`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedColumns()); [`JTable#getSelectedRow`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedRow());","body":"You need to make use of both the &quot;row&quot; and &quot;column&quot; selection models or make use of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedColumn()\" rel=\"nofollow noreferrer\"><code>JTable#getSelectedColumn</code></a>; <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedColumns()\" rel=\"nofollow noreferrer\"><code>JTable#getSelectedColumns</code></a>; <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedRow()\" rel=\"nofollow noreferrer\"><code>JTable#getSelectedRow</code></a>;"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680213183,"post_id":75893156,"comment_id":133864900,"body_markdown":"[`JTable#getSelectedRows`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedRows()) or just use [`JTable#getValueAt`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getValueAt(int,int)); much of which is demonstrated at [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getSelectedRows()\" rel=\"nofollow noreferrer\"><code>JTable#getSelectedRows</code></a> or just use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#getValueAt(int,int)\" rel=\"nofollow noreferrer\"><code>JTable#getValueAt</code></a>; much of which is demonstrated at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680213283,"post_id":75893156,"comment_id":133864916,"body_markdown":"`panel.setLayout(null);` is a bad idea; `frame.setSize(800,600);` should be avoid in favour of `pack`; `tableScroll.setBounds(30, 60, 740, 400);` is unadvisable, see the first point and instead make use of [Appropriate layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","body":"<code>panel.setLayout(null);</code> is a bad idea; <code>frame.setSize(800,600);</code> should be avoid in favour of <code>pack</code>; <code>tableScroll.setBounds(30, 60, 740, 400);</code> is unadvisable, see the first point and instead make use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Appropriate layout managers</a>"},{"owner":{"account_id":24451408,"reputation":35,"user_id":18373605,"display_name":"Jakub Zak"},"score":0,"creation_date":1680214084,"post_id":75893156,"comment_id":133865042,"body_markdown":"@MadProgrammer - Thanks a lot! I think i was a bit stuck because i used the same variable for both model types, so i changed that and go access to the default model functions which you mentioned. All works now","body":"@MadProgrammer - Thanks a lot! I think i was a bit stuck because i used the same variable for both model types, so i changed that and go access to the default model functions which you mentioned. All works now"}],"answers":[{"tags":[],"owner":{"account_id":24451408,"reputation":35,"user_id":18373605,"display_name":"Jakub Zak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680214561,"creation_date":1680214561,"answer_id":75893389,"question_id":75893156,"body_markdown":"I made sure to change `model` variable for `ListSelectionModel` to a different name (`model2`).\r\n\r\nThen I used the `model.getValueAt(rowInt, columnInt)`\r\n\r\nThis code now prints out the row index as well as the value from the cell in the first column where the selection is made by the user:\r\n```\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    \r\n    import java.awt.Color;\r\n    \r\n    public class App {\r\n    \r\n        private static JTable loanedItemsTable;\r\n        private static JScrollPane tableScroll;\r\n        private static DefaultTableModel model;\r\n        private static int selectedRow;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            JFrame frame = new JFrame();\r\n            JPanel panel = new JPanel();\r\n    \r\n            frame.setSize(800,600);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setTitle(&quot;table&quot;);\r\n            frame.setResizable(false);\r\n            \r\n            panel.setLayout(null);\r\n            panel.setBackground(Color.gray);\r\n            \r\n            frame.add(panel);\r\n            \r\n    \r\n            //Items on loan table\r\n    \r\n            String loanTableColumns [] = {\r\n    \r\n                &quot;item ID&quot;,\r\n                &quot;Item Loaned&quot;,\r\n                &quot;Loan Start Date&quot;,\r\n                &quot;Return Date&quot;,\r\n                &quot;State&quot;,\r\n                &quot;Fee to pay&quot;,\r\n                &quot;Customer Name&quot;\r\n            };\r\n    \r\n            String loanTableData [] [] = {\r\n    \r\n                {&quot;1&quot;},\r\n                {&quot;2&quot;} \r\n            }\r\n            \r\n            ;\r\n    \r\n            // adding loan table using a sroll pane\r\n    \r\n            model = new DefaultTableModel(loanTableData, loanTableColumns);\r\n            \r\n            loanedItemsTable = new JTable(model){\r\n            public boolean editCellAt(int row, int column, java.util.EventObject e) {\r\n                return false;\r\n             }\r\n            };\r\n    \r\n            tableScroll = new JScrollPane(loanedItemsTable);\r\n            tableScroll.setBounds(30, 60, 740, 400);\r\n            panel.add(tableScroll);\r\n    \r\n            ListSelectionModel model2 = loanedItemsTable.getSelectionModel();\r\n            model2.addListSelectionListener(new ListSelectionListener() {\r\n    \r\n                @Override\r\n                public void valueChanged(ListSelectionEvent e) {\r\n                    \r\n                    if(! model2.isSelectionEmpty()){\r\n                        selectedRow = model2.getMinSelectionIndex();\r\n                        String selectedCell = model.getValueAt(selectedRow, 0).toString();\r\n                        System.out.println(&quot;The row selected is at index: &quot;+selectedRow+&quot; and the item ID is &quot;+selectedCell);\r\n                        \r\n                        \r\n                    }\r\n                }\r\n                \r\n            });\r\n    \r\n            frame.setVisible(true);\r\n        }\r\n    } ```","title":"Using a ListSelectionModel, how do I get the value of a specific cell when a row is selected?","body":"<p>I made sure to change <code>model</code> variable for <code>ListSelectionModel</code> to a different name (<code>model2</code>).</p>\n<p>Then I used the <code>model.getValueAt(rowInt, columnInt)</code></p>\n<p>This code now prints out the row index as well as the value from the cell in the first column where the selection is made by the user:</p>\n<pre><code>    import javax.swing.JFrame;\n    import javax.swing.JPanel;\n    import javax.swing.JScrollPane;\n    import javax.swing.JTable;\n    import javax.swing.table.DefaultTableModel;\n    import javax.swing.ListSelectionModel;\n    import javax.swing.event.ListSelectionEvent;\n    import javax.swing.event.ListSelectionListener;\n    \n    import java.awt.Color;\n    \n    public class App {\n    \n        private static JTable loanedItemsTable;\n        private static JScrollPane tableScroll;\n        private static DefaultTableModel model;\n        private static int selectedRow;\n    \n        public static void main(String[] args) throws Exception {\n    \n            JFrame frame = new JFrame();\n            JPanel panel = new JPanel();\n    \n            frame.setSize(800,600);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setTitle(&quot;table&quot;);\n            frame.setResizable(false);\n            \n            panel.setLayout(null);\n            panel.setBackground(Color.gray);\n            \n            frame.add(panel);\n            \n    \n            //Items on loan table\n    \n            String loanTableColumns [] = {\n    \n                &quot;item ID&quot;,\n                &quot;Item Loaned&quot;,\n                &quot;Loan Start Date&quot;,\n                &quot;Return Date&quot;,\n                &quot;State&quot;,\n                &quot;Fee to pay&quot;,\n                &quot;Customer Name&quot;\n            };\n    \n            String loanTableData [] [] = {\n    \n                {&quot;1&quot;},\n                {&quot;2&quot;} \n            }\n            \n            ;\n    \n            // adding loan table using a sroll pane\n    \n            model = new DefaultTableModel(loanTableData, loanTableColumns);\n            \n            loanedItemsTable = new JTable(model){\n            public boolean editCellAt(int row, int column, java.util.EventObject e) {\n                return false;\n             }\n            };\n    \n            tableScroll = new JScrollPane(loanedItemsTable);\n            tableScroll.setBounds(30, 60, 740, 400);\n            panel.add(tableScroll);\n    \n            ListSelectionModel model2 = loanedItemsTable.getSelectionModel();\n            model2.addListSelectionListener(new ListSelectionListener() {\n    \n                @Override\n                public void valueChanged(ListSelectionEvent e) {\n                    \n                    if(! model2.isSelectionEmpty()){\n                        selectedRow = model2.getMinSelectionIndex();\n                        String selectedCell = model.getValueAt(selectedRow, 0).toString();\n                        System.out.println(&quot;The row selected is at index: &quot;+selectedRow+&quot; and the item ID is &quot;+selectedCell);\n                        \n                        \n                    }\n                }\n                \n            });\n    \n            frame.setVisible(true);\n        }\n    } ```\n</code></pre>\n"}],"owner":{"account_id":24451408,"reputation":35,"user_id":18373605,"display_name":"Jakub Zak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680214561,"creation_date":1680211874,"question_id":75893156,"body_markdown":"In my Java GUI, I have a table which displays various rows of data. I want the functionality of this to be so that the user clicks on a row and then clicks a button do delete the row (this part works)\r\n\r\nBehind the scenes, I need to get the Item ID cell for the selected row, so that I can update my database (using MySQL).\r\n\r\nI am still looking through the documentation found here: \r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html\r\n\r\nHere is the code I am using to create the table. You can select the rows, and the row index is printed out. I assume this index will be used to access the specific cell I need to also print out the number in the Item ID cell for the current selected row: \r\n\r\n``` import javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.ListSelectionModel;\r\nimport javax.swing.event.ListSelectionEvent;\r\nimport javax.swing.event.ListSelectionListener;\r\n\r\nimport java.awt.Color;\r\n\r\npublic class App {\r\n\r\n    private static JTable loanedItemsTable;\r\n    private static JScrollPane tableScroll;\r\n    private static DefaultTableModel model;\r\n    private static int selectedRow;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        JFrame frame = new JFrame();\r\n        JPanel panel = new JPanel();\r\n\r\n        frame.setSize(800,600);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setTitle(&quot;table&quot;);\r\n        frame.setResizable(false);\r\n        \r\n        panel.setLayout(null);\r\n        panel.setBackground(Color.gray);\r\n        \r\n        frame.add(panel);\r\n        \r\n\r\n        //Items on loan table\r\n\r\n        String loanTableColumns [] = {\r\n\r\n            &quot;item ID&quot;,\r\n            &quot;Item Loaned&quot;,\r\n            &quot;Loan Start Date&quot;,\r\n            &quot;Return Date&quot;,\r\n            &quot;State&quot;,\r\n            &quot;Fee to pay&quot;,\r\n            &quot;Customer Name&quot;\r\n        };\r\n\r\n        String loanTableData [] [] = {\r\n\r\n            {&quot;1&quot;},\r\n            {&quot;2&quot;} \r\n        }\r\n        \r\n        ;\r\n\r\n        // adding loan table using a sroll pane\r\n\r\n        model = new DefaultTableModel(loanTableData, loanTableColumns);\r\n        \r\n        loanedItemsTable = new JTable(model){\r\n        public boolean editCellAt(int row, int column, java.util.EventObject e) {\r\n            return false;\r\n         }\r\n        };\r\n\r\n        tableScroll = new JScrollPane(loanedItemsTable);\r\n        tableScroll.setBounds(30, 60, 740, 400);\r\n        panel.add(tableScroll);\r\n\r\n        ListSelectionModel model = loanedItemsTable.getSelectionModel();\r\n        model.addListSelectionListener(new ListSelectionListener() {\r\n\r\n            @Override\r\n            public void valueChanged(ListSelectionEvent e) {\r\n                \r\n                if(! model.isSelectionEmpty()){\r\n                    selectedRow = model.getMinSelectionIndex();\r\n\r\n                    System.out.println(selectedRow);\r\n                }\r\n            }\r\n            \r\n        });\r\n\r\n        frame.setVisible(true);\r\n    }\r\n}```","title":"Using a ListSelectionModel, how do I get the value of a specific cell when a row is selected?","body":"<p>In my Java GUI, I have a table which displays various rows of data. I want the functionality of this to be so that the user clicks on a row and then clicks a button do delete the row (this part works)</p>\n<p>Behind the scenes, I need to get the Item ID cell for the selected row, so that I can update my database (using MySQL).</p>\n<p>I am still looking through the documentation found here:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html</a></p>\n<p>Here is the code I am using to create the table. You can select the rows, and the row index is printed out. I assume this index will be used to access the specific cell I need to also print out the number in the Item ID cell for the current selected row:</p>\n<pre><code>import javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\n\nimport java.awt.Color;\n\npublic class App {\n\n    private static JTable loanedItemsTable;\n    private static JScrollPane tableScroll;\n    private static DefaultTableModel model;\n    private static int selectedRow;\n\n    public static void main(String[] args) throws Exception {\n\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n\n        frame.setSize(800,600);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;table&quot;);\n        frame.setResizable(false);\n        \n        panel.setLayout(null);\n        panel.setBackground(Color.gray);\n        \n        frame.add(panel);\n        \n\n        //Items on loan table\n\n        String loanTableColumns [] = {\n\n            &quot;item ID&quot;,\n            &quot;Item Loaned&quot;,\n            &quot;Loan Start Date&quot;,\n            &quot;Return Date&quot;,\n            &quot;State&quot;,\n            &quot;Fee to pay&quot;,\n            &quot;Customer Name&quot;\n        };\n\n        String loanTableData [] [] = {\n\n            {&quot;1&quot;},\n            {&quot;2&quot;} \n        }\n        \n        ;\n\n        // adding loan table using a sroll pane\n\n        model = new DefaultTableModel(loanTableData, loanTableColumns);\n        \n        loanedItemsTable = new JTable(model){\n        public boolean editCellAt(int row, int column, java.util.EventObject e) {\n            return false;\n         }\n        };\n\n        tableScroll = new JScrollPane(loanedItemsTable);\n        tableScroll.setBounds(30, 60, 740, 400);\n        panel.add(tableScroll);\n\n        ListSelectionModel model = loanedItemsTable.getSelectionModel();\n        model.addListSelectionListener(new ListSelectionListener() {\n\n            @Override\n            public void valueChanged(ListSelectionEvent e) {\n                \n                if(! model.isSelectionEmpty()){\n                    selectedRow = model.getMinSelectionIndex();\n\n                    System.out.println(selectedRow);\n                }\n            }\n            \n        });\n\n        frame.setVisible(true);\n    }\n}```\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":8152308,"reputation":278,"user_id":6138927,"display_name":"AlieneilA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528971181,"creation_date":1528971181,"answer_id":50855021,"question_id":50854573,"body_markdown":"This problem comes from the Thymeleaf.\r\nIt is telling you that it cannot find &quot;login&quot; page in the &quot;templates&quot; directory.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uis6s.png\r\n\r\nAlso check if page has correct configuration: \r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring boot custom login: &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>This problem comes from the Thymeleaf.\nIt is telling you that it cannot find \"login\" page in the \"templates\" directory.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Uis6s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uis6s.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also check if page has correct configuration: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14301114,"reputation":65,"user_id":10330415,"display_name":"Rok Klancar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680214483,"creation_date":1680214483,"answer_id":75893381,"question_id":50854573,"body_markdown":"AlieneilA is right.\r\nI had the same problem. As error message suggests, it is Thymeleaf&#39;s error. So to make it work, you can use the template in [https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html][1].\r\nThis is the official documentation, up to date, and at the end of the page you can see a simple implementation of a custom login page (luckily it&#39;s Thymeleaf template in the example).\r\n\r\nJust follow the example in documentation\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","title":"Spring boot custom login: &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>AlieneilA is right.\nI had the same problem. As error message suggests, it is Thymeleaf's error. So to make it work, you can use the template in <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html</a>.\nThis is the official documentation, up to date, and at the end of the page you can see a simple implementation of a custom login page (luckily it's Thymeleaf template in the example).</p>\n<p>Just follow the example in documentation</p>\n"}],"owner":{"account_id":2566601,"reputation":3012,"user_id":2226468,"accept_rate":50,"display_name":"Rose18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680214483,"creation_date":1528969902,"question_id":50854573,"body_markdown":"I am trying to implement custom login with spring security. So I added below maven dependencies.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd my Security Config class\r\n\r\n\tpackage it.mine.my.web.config;\r\n\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n\t@EnableWebSecurity\r\n\tpublic class SecurityConfig extends WebSecurityConfigurerAdapter\r\n\t{\r\n\r\n\t\t@Override\r\n\t\tprotected void configure( HttpSecurity http ) throws Exception\r\n\t\t{\r\n\t\t\thttp\r\n\t\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.antMatchers( &quot;/login&quot; )\r\n\t\t\t\t\t.permitAll()\r\n\t\t\t\t\t.anyRequest()\r\n\t\t\t\t\t.authenticated()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginProcessingUrl( &quot;/process&quot; )\r\n\t\t\t\t\t.loginPage( &quot;/login&quot; )\r\n\t\t\t\t\t.usernameParameter( &quot;username&quot; )\r\n\t\t\t\t\t.passwordParameter( &quot;password&quot; )\r\n\t\t\t\t\t.defaultSuccessUrl( &quot;/test&quot;, true )\r\n\t\t\t\t\t.permitAll();\r\n\t\t}\r\n\t}\r\n\r\n\r\nThen I created a LoginController as below.\r\n\r\n\tpackage it.mine.my.web.controller;\r\n\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.ui.Model;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMethod;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.servlet.ModelAndView;\r\n\r\n\timport java.util.Locale;\r\n\r\n\t@Controller\r\n\tpublic class LoginController\r\n\t{\r\n\r\n\t\t@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.GET)\r\n\t\tpublic String login( @RequestParam(value = &quot;error&quot;, required = false) String error, @RequestParam(value = &quot;successMsg&quot;, required = false) String success, Model model, Locale loale )\r\n\t\t{\r\n\t\t\tmodel.addAttribute( &quot;error&quot;, error != null );\r\n\t\t\tmodel.addAttribute( &quot;errorMsg&quot;, error );\r\n\r\n\t\t\tmodel.addAttribute( &quot;success&quot;, success != null );\r\n\t\t\tmodel.addAttribute( &quot;successMsg&quot;, success );\r\n\r\n\t\t\tmodel.addAttribute( &quot;locale&quot;, loale.getLanguage() );\r\n\r\n\t\t\treturn &quot;login&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nProject structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOnce run this application and hit http://localhost:8080/login in browser it prompt following error.\r\n\r\nIntellijIDEA console says,\r\n\r\n    org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers\r\n\r\nAny suggestions are appreciated!\r\n\r\nThank You!\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9fFF4.png\r\n  [2]: https://i.stack.imgur.com/7DhDo.png","title":"Spring boot custom login: &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>I am trying to implement custom login with spring security. So I added below maven dependencies.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And my Security Config class</p>\n\n<pre><code>package it.mine.my.web.config;\n\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n\n    @Override\n    protected void configure( HttpSecurity http ) throws Exception\n    {\n        http\n                .authorizeRequests()\n                .antMatchers( \"/login\" )\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginProcessingUrl( \"/process\" )\n                .loginPage( \"/login\" )\n                .usernameParameter( \"username\" )\n                .passwordParameter( \"password\" )\n                .defaultSuccessUrl( \"/test\", true )\n                .permitAll();\n    }\n}\n</code></pre>\n\n<p>Then I created a LoginController as below.</p>\n\n<pre><code>package it.mine.my.web.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport java.util.Locale;\n\n@Controller\npublic class LoginController\n{\n\n    @RequestMapping(value = \"/login\", method = RequestMethod.GET)\n    public String login( @RequestParam(value = \"error\", required = false) String error, @RequestParam(value = \"successMsg\", required = false) String success, Model model, Locale loale )\n    {\n        model.addAttribute( \"error\", error != null );\n        model.addAttribute( \"errorMsg\", error );\n\n        model.addAttribute( \"success\", success != null );\n        model.addAttribute( \"successMsg\", success );\n\n        model.addAttribute( \"locale\", loale.getLanguage() );\n\n        return \"login\";\n    }\n\n}\n</code></pre>\n\n<p>Project structure</p>\n\n<p><a href=\"https://i.stack.imgur.com/9fFF4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fFF4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Once run this application and hit <a href=\"http://localhost:8080/login\" rel=\"nofollow noreferrer\">http://localhost:8080/login</a> in browser it prompt following error.</p>\n\n<p>IntellijIDEA console says,</p>\n\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: Error resolving template \"login\", template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n\n<p>Any suggestions are appreciated!</p>\n\n<p>Thank You!</p>\n\n<p><a href=\"https://i.stack.imgur.com/7DhDo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7DhDo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","exception","memory-leaks","out-of-memory","stack-overflow"],"comments":[{"owner":{"account_id":5727086,"reputation":610,"user_id":4523773,"display_name":"Danial Jalalnouri"},"score":0,"creation_date":1537329695,"post_id":214741,"comment_id":91739893,"body_markdown":"Stack size in java is small. And some times such as many recursive call you face this problem. You can redesign your code by loop. You can find general design pattern to do it in this url: http://www.jndanial.com/73/","body":"Stack size in java is small. And some times such as many recursive call you face this problem. You can redesign your code by loop. You can find general design pattern to do it in this url: <a href=\"http://www.jndanial.com/73/\" rel=\"nofollow noreferrer\">jndanial.com/73</a>"},{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":0,"creation_date":1543889009,"post_id":214741,"comment_id":94071604,"body_markdown":"One non-obvious way to get it: add the line `new Object() {{getClass().newInstance();}};` to some static context (e.g. `main` method). Doesn&#39;t work from instance context (throws only `InstantiationException`).","body":"One non-obvious way to get it: add the line <code>new Object() {{getClass().newInstance();}};</code> to some static context (e.g. <code>main</code> method). Doesn&#39;t work from instance context (throws only <code>InstantiationException</code>)."}],"answers":[{"tags":[],"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1224317839,"creation_date":1224317839,"answer_id":214743,"question_id":214741,"body_markdown":"Like you say, you need to show some code. :-)\r\n\r\nA stack overflow error usually happens when your function calls nest too deeply. See the [Stack Overflow Code Golf](https://stackoverflow.com/questions/62188/stack-overflow-code-golf-closed) thread for some examples of how this happens (though in the case of that question, the answers intentionally cause stack overflow).","title":"What is a StackOverflowError?","body":"<p>Like you say, you need to show some code. :-)</p>\n\n<p>A stack overflow error usually happens when your function calls nest too deeply. See the <a href=\"https://stackoverflow.com/questions/62188/stack-overflow-code-golf-closed\">Stack Overflow Code Golf</a> thread for some examples of how this happens (though in the case of that question, the answers intentionally cause stack overflow).</p>\n"},{"tags":[],"owner":{"account_id":12317,"reputation":317670,"user_id":24181,"accept_rate":77,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1224317955,"creation_date":1224317955,"answer_id":214745,"question_id":214741,"body_markdown":"A stack overflow is usually called by nesting function calls too deeply (especially easy when using recursion, i.e. a function that calls itself) or allocating a large amount of memory on the stack where using the heap would be more appropriate.","title":"What is a StackOverflowError?","body":"<p>A stack overflow is usually called by nesting function calls too deeply (especially easy when using recursion, i.e. a function that calls itself) or allocating a large amount of memory on the stack where using the heap would be more appropriate.</p>\n"},{"tags":[],"owner":{"account_id":10853,"reputation":13098,"user_id":20686,"display_name":"Khoth"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1224318696,"creation_date":1224318696,"answer_id":214756,"question_id":214741,"body_markdown":"If you have a function like:\r\n\r\n    int foo()\r\n    {\r\n        // more stuff\r\n        foo();\r\n    }\r\n\r\nThen foo() will keep calling itself, getting deeper and deeper, and when the space used to keep track of what functions you&#39;re in is filled up, you get the stack overflow error.","title":"What is a StackOverflowError?","body":"<p>If you have a function like:</p>\n\n<pre><code>int foo()\n{\n    // more stuff\n    foo();\n}\n</code></pre>\n\n<p>Then foo() will keep calling itself, getting deeper and deeper, and when the space used to keep track of what functions you're in is filled up, you get the stack overflow error.</p>\n"},{"tags":[],"owner":{"account_id":13088,"reputation":61347,"user_id":26095,"accept_rate":83,"display_name":"Sean"},"down_vote_count":1,"up_vote_count":462,"is_accepted":true,"score":461,"last_activity_date":1560716727,"creation_date":1224318871,"answer_id":214758,"question_id":214741,"body_markdown":"Parameters and local variables are allocated on the **stack** (with reference types, the object lives on the **heap** and a variable in the stack references that object on the heap). The stack typically lives at the **upper** end of your address space and as it is used up it heads towards the **bottom** of the address space (i.e. towards zero).\r\n\r\nYour process also has a **heap**, which lives at the **bottom** end of your process. As you allocate memory, this heap can grow towards the upper end of your address space. As you can see, there is a potential for the heap to **&quot;collide&quot;** with the stack (a bit like tectonic plates!!!).\r\n\r\nThe common cause for a stack overflow is a **bad recursive call**. Typically, this is caused when your recursive functions doesn&#39;t have the correct termination condition, so it ends up calling itself forever. Or when the termination condition is fine, it can be caused by requiring too many recursive calls before fulfilling it.\r\n\r\nHowever, with GUI programming, it&#39;s possible to generate **indirect recursion**. For example, your app may be handling paint messages, and, whilst processing them, it may call a function that causes the system to send another paint message. Here you&#39;ve not explicitly called yourself, but the OS/VM has done it for you.\r\n\r\nTo deal with them, you&#39;ll need to examine your code. If you&#39;ve got functions that call themselves then check that you&#39;ve got a terminating condition. If you have, then check that when calling the function you have at least modified one of the arguments, otherwise there&#39;ll be no visible change for the recursively called function and the terminating condition is useless. Also mind that your stack space can run out of memory before reaching a valid terminating condition, thus make sure your method can handle input values requiring more recursive calls.\r\n\r\nIf you&#39;ve got no obvious recursive functions then check to see if you&#39;re calling any library functions that **indirectly** will cause your function to be called (like the implicit case above).","title":"What is a StackOverflowError?","body":"<p>Parameters and local variables are allocated on the <strong>stack</strong> (with reference types, the object lives on the <strong>heap</strong> and a variable in the stack references that object on the heap). The stack typically lives at the <strong>upper</strong> end of your address space and as it is used up it heads towards the <strong>bottom</strong> of the address space (i.e. towards zero).</p>\n\n<p>Your process also has a <strong>heap</strong>, which lives at the <strong>bottom</strong> end of your process. As you allocate memory, this heap can grow towards the upper end of your address space. As you can see, there is a potential for the heap to <strong>\"collide\"</strong> with the stack (a bit like tectonic plates!!!).</p>\n\n<p>The common cause for a stack overflow is a <strong>bad recursive call</strong>. Typically, this is caused when your recursive functions doesn't have the correct termination condition, so it ends up calling itself forever. Or when the termination condition is fine, it can be caused by requiring too many recursive calls before fulfilling it.</p>\n\n<p>However, with GUI programming, it's possible to generate <strong>indirect recursion</strong>. For example, your app may be handling paint messages, and, whilst processing them, it may call a function that causes the system to send another paint message. Here you've not explicitly called yourself, but the OS/VM has done it for you.</p>\n\n<p>To deal with them, you'll need to examine your code. If you've got functions that call themselves then check that you've got a terminating condition. If you have, then check that when calling the function you have at least modified one of the arguments, otherwise there'll be no visible change for the recursively called function and the terminating condition is useless. Also mind that your stack space can run out of memory before reaching a valid terminating condition, thus make sure your method can handle input values requiring more recursive calls.</p>\n\n<p>If you've got no obvious recursive functions then check to see if you're calling any library functions that <strong>indirectly</strong> will cause your function to be called (like the implicit case above).</p>\n"},{"tags":[],"owner":{"account_id":4331,"reputation":103076,"user_id":6461,"accept_rate":83,"display_name":"splattne"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1224319411,"creation_date":1224319411,"answer_id":214770,"question_id":214741,"body_markdown":"The most common cause of stack overflows is **excessively deep or infinite recursion**. If this is your problem, [this tutorial about Java Recursion][1] could help understand the problem.\r\n\r\n\r\n  [1]: http://danzig.jct.ac.il/java_class/recursion.html","title":"What is a StackOverflowError?","body":"<p>The most common cause of stack overflows is <strong>excessively deep or infinite recursion</strong>. If this is your problem, <a href=\"http://danzig.jct.ac.il/java_class/recursion.html\" rel=\"noreferrer\">this tutorial about Java Recursion</a> could help understand the problem.</p>\n"},{"tags":[],"owner":{"account_id":11298,"reputation":24833,"user_id":21711,"accept_rate":91,"display_name":"Cheery"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1224324362,"creation_date":1224324362,"answer_id":214839,"question_id":214741,"body_markdown":"Stack overflow means exactly that: a stack overflows. Usually there&#39;s a one stack in the program that contains local-scope variables and addresses where to return when execution of a routine ends. That stack tends to be a fixed memory range somewhere in the memory, therefore it&#39;s limited how much it can contain values.\r\n\r\nIf the stack is empty you can&#39;t pop, if you do you&#39;ll get stack underflow error.\r\n\r\nIf the stack is full you can&#39;t push, if you do you&#39;ll get stack overflow error.\r\n\r\nSo stack overflow appears where you allocate too much into the stack. For instance, in the mentioned recursion.\r\n\r\nSome implementations optimize out some forms of recursions. Tail recursion in particular. Tail recursive routines are form of routines where the recursive call appears as a final thing what the routine does. Such routine call gets simply reduced into a jump.\r\n\r\nSome implementations go so far as implement their own stacks for recursion, therefore they allow the recursion to continue until the system runs out of memory.\r\n\r\nEasiest thing you could try would be to increase your stack size if you can. If you can&#39;t do that though, the second best thing would be to look whether there&#39;s something that clearly causes the stack overflow. Try it by printing something before and after the call into routine. This helps you to find out the failing routine.","title":"What is a StackOverflowError?","body":"<p>Stack overflow means exactly that: a stack overflows. Usually there's a one stack in the program that contains local-scope variables and addresses where to return when execution of a routine ends. That stack tends to be a fixed memory range somewhere in the memory, therefore it's limited how much it can contain values.</p>\n\n<p>If the stack is empty you can't pop, if you do you'll get stack underflow error.</p>\n\n<p>If the stack is full you can't push, if you do you'll get stack overflow error.</p>\n\n<p>So stack overflow appears where you allocate too much into the stack. For instance, in the mentioned recursion.</p>\n\n<p>Some implementations optimize out some forms of recursions. Tail recursion in particular. Tail recursive routines are form of routines where the recursive call appears as a final thing what the routine does. Such routine call gets simply reduced into a jump.</p>\n\n<p>Some implementations go so far as implement their own stacks for recursion, therefore they allow the recursion to continue until the system runs out of memory.</p>\n\n<p>Easiest thing you could try would be to increase your stack size if you can. If you can't do that though, the second best thing would be to look whether there's something that clearly causes the stack overflow. Try it by printing something before and after the call into routine. This helps you to find out the failing routine.</p>\n"},{"tags":[],"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1526486260,"creation_date":1342560224,"answer_id":11531095,"question_id":214741,"body_markdown":"`StackOverflowError` is to the stack as `OutOfMemoryError` is to the heap.\r\n\r\nUnbounded recursive calls result in stack space being used up. \r\n\r\nThe following example produces `StackOverflowError`:\r\n\r\n    class  StackOverflowDemo\r\n    {\r\n        public static void unboundedRecursiveCall() {\r\n    \t unboundedRecursiveCall();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tunboundedRecursiveCall();\r\n    \t}\r\n    }\r\n\r\n`StackOverflowError` is avoidable if recursive calls are bounded to prevent the aggregate total of incomplete in-memory calls (in bytes) from exceeding the stack size (in bytes).\r\n\r\n","title":"What is a StackOverflowError?","body":"<p><code>StackOverflowError</code> is to the stack as <code>OutOfMemoryError</code> is to the heap.</p>\n\n<p>Unbounded recursive calls result in stack space being used up. </p>\n\n<p>The following example produces <code>StackOverflowError</code>:</p>\n\n<pre><code>class  StackOverflowDemo\n{\n    public static void unboundedRecursiveCall() {\n     unboundedRecursiveCall();\n    }\n\n    public static void main(String[] args) \n    {\n        unboundedRecursiveCall();\n    }\n}\n</code></pre>\n\n<p><code>StackOverflowError</code> is avoidable if recursive calls are bounded to prevent the aggregate total of incomplete in-memory calls (in bytes) from exceeding the stack size (in bytes).</p>\n"},{"tags":[],"owner":{"account_id":1252576,"reputation":2885,"user_id":1212682,"display_name":"Yiling"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633419041,"creation_date":1358365792,"answer_id":14366600,"question_id":214741,"body_markdown":"Here is an example of a recursive algorithm for reversing a singly linked list. On a laptop (with the specifications 4&amp;nbsp;GB memory, Intel [Core&amp;nbsp;i5][1] 2.3&amp;nbsp;GHz CPU 64 bit and Windows 7), this function will run into StackOverflow error for a linked list of size close to 10,000.\r\n\r\nMy point is that we should use recursion judiciously, always taking into account of the scale of the system.\r\n\r\nOften recursion can be converted to iterative program, which scales better. (One iterative version of the same algorithm is given at the bottom of the page. It reverses a singly linked list of size 1 million in 9 milliseconds.)\r\n\r\n    private static LinkedListNode doReverseRecursively(LinkedListNode x, LinkedListNode first){\r\n\r\n        LinkedListNode second = first.next;\r\n\r\n        first.next = x;\r\n\r\n        if(second != null){\r\n            return doReverseRecursively(first, second);\r\n        }else{\r\n            return first;\r\n        }\r\n    }\r\n\r\n\r\n    public static LinkedListNode reverseRecursively(LinkedListNode head){\r\n        return doReverseRecursively(null, head);\r\n    }\r\n\r\n**Iterative Version of the Same Algorithm:**\r\n\r\n    public static LinkedListNode reverseIteratively(LinkedListNode head){\r\n        return doReverseIteratively(null, head);\r\n    }\r\n\r\n\r\n    private static LinkedListNode doReverseIteratively(LinkedListNode x, LinkedListNode first) {\r\n\r\n        while (first != null) {\r\n            LinkedListNode second = first.next;\r\n            first.next = x;\r\n            x = first;\r\n\r\n            if (second == null) {\r\n                break;\r\n            } else {\r\n                first = second;\r\n            }\r\n        }\r\n        return first;\r\n    }\r\n\r\n\r\n    public static LinkedListNode reverseIteratively(LinkedListNode head){\r\n        return doReverseIteratively(null, head);\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Intel_Core#Core_i5\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>Here is an example of a recursive algorithm for reversing a singly linked list. On a laptop (with the specifications 4 GB memory, Intel <a href=\"https://en.wikipedia.org/wiki/Intel_Core#Core_i5\" rel=\"nofollow noreferrer\">Core i5</a> 2.3 GHz CPU 64 bit and Windows 7), this function will run into StackOverflow error for a linked list of size close to 10,000.</p>\n<p>My point is that we should use recursion judiciously, always taking into account of the scale of the system.</p>\n<p>Often recursion can be converted to iterative program, which scales better. (One iterative version of the same algorithm is given at the bottom of the page. It reverses a singly linked list of size 1 million in 9 milliseconds.)</p>\n<pre><code>private static LinkedListNode doReverseRecursively(LinkedListNode x, LinkedListNode first){\n\n    LinkedListNode second = first.next;\n\n    first.next = x;\n\n    if(second != null){\n        return doReverseRecursively(first, second);\n    }else{\n        return first;\n    }\n}\n\n\npublic static LinkedListNode reverseRecursively(LinkedListNode head){\n    return doReverseRecursively(null, head);\n}\n</code></pre>\n<p><strong>Iterative Version of the Same Algorithm:</strong></p>\n<pre><code>public static LinkedListNode reverseIteratively(LinkedListNode head){\n    return doReverseIteratively(null, head);\n}\n\n\nprivate static LinkedListNode doReverseIteratively(LinkedListNode x, LinkedListNode first) {\n\n    while (first != null) {\n        LinkedListNode second = first.next;\n        first.next = x;\n        x = first;\n\n        if (second == null) {\n            break;\n        } else {\n            first = second;\n        }\n    }\n    return first;\n}\n\n\npublic static LinkedListNode reverseIteratively(LinkedListNode head){\n    return doReverseIteratively(null, head);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6418544,"reputation":636,"user_id":4975918,"accept_rate":100,"display_name":"John S."},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1455231753,"creation_date":1455231753,"answer_id":35351814,"question_id":214741,"body_markdown":"Here&#39;s an example\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(add5(1));\r\n    }\r\n\t\r\n    public static int add5(int a) {\r\n        return add5(a) + 5;\r\n    }\r\n\r\nA StackOverflowError basically is when you try to do something, that most likely calls itself, and goes on for infinity (or until it gives a StackOverflowError).\r\n\r\n`add5(a)` will call itself, and then call itself again, and so on.","title":"What is a StackOverflowError?","body":"<p>Here's an example</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(add5(1));\n}\n\npublic static int add5(int a) {\n    return add5(a) + 5;\n}\n</code></pre>\n\n<p>A StackOverflowError basically is when you try to do something, that most likely calls itself, and goes on for infinity (or until it gives a StackOverflowError).</p>\n\n<p><code>add5(a)</code> will call itself, and then call itself again, and so on.</p>\n"},{"tags":[],"owner":{"account_id":5694835,"reputation":329,"user_id":4501631,"accept_rate":44,"display_name":"Rahul Sah"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633419194,"creation_date":1490872137,"answer_id":43116131,"question_id":214741,"body_markdown":"A `StackOverflowError` is a runtime error in Java.\r\n\r\nIt is thrown when the amount of call stack memory allocated by the JVM is exceeded.\r\n\r\nA common case of a `StackOverflowError` being thrown, is when the call stack exceeds due to excessive deep or infinite recursion.\r\n\r\nExample:\r\n\r\n    public class Factorial {\r\n        public static int factorial(int n){\r\n            if(n == 1){\r\n                return 1;\r\n            }\r\n            else{\r\n                return n * factorial(n-1);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args){\r\n             System.out.println(&quot;Main method started&quot;);\r\n            int result = Factorial.factorial(-1);\r\n            System.out.println(&quot;Factorial ==&gt;&quot;+result);\r\n            System.out.println(&quot;Main method ended&quot;);\r\n        }\r\n    }\r\n\r\nStack trace:\r\n\r\n```lang-none\r\nMain method started\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\r\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\r\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\r\n```\r\n\r\nIn the above case, it can be avoided by doing programmatic changes.\r\nBut if the program logic is correct and it still occurs then your stack size needs to be increased.\r\n\r\n\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>A <code>StackOverflowError</code> is a runtime error in Java.</p>\n<p>It is thrown when the amount of call stack memory allocated by the JVM is exceeded.</p>\n<p>A common case of a <code>StackOverflowError</code> being thrown, is when the call stack exceeds due to excessive deep or infinite recursion.</p>\n<p>Example:</p>\n<pre><code>public class Factorial {\n    public static int factorial(int n){\n        if(n == 1){\n            return 1;\n        }\n        else{\n            return n * factorial(n-1);\n        }\n    }\n\n    public static void main(String[] args){\n         System.out.println(&quot;Main method started&quot;);\n        int result = Factorial.factorial(-1);\n        System.out.println(&quot;Factorial ==&gt;&quot;+result);\n        System.out.println(&quot;Main method ended&quot;);\n    }\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Main method started\nException in thread &quot;main&quot; java.lang.StackOverflowError\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\nat com.program.stackoverflow.Factorial.factorial(Factorial.java:9)\n</code></pre>\n<p>In the above case, it can be avoided by doing programmatic changes.\nBut if the program logic is correct and it still occurs then your stack size needs to be increased.</p>\n"},{"tags":[],"owner":{"display_name":"user8389458"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1633418161,"creation_date":1522672573,"answer_id":49611422,"question_id":214741,"body_markdown":"This is a typical case of `java.lang.StackOverflowError`... The method is recursively calling itself with no exit in `doubleValue()`, `floatValue()`, etc.\r\n\r\n### File *Rational.java*\r\n\r\n```lang-java\r\npublic class Rational extends Number implements Comparable&lt;Rational&gt; {\r\n    private int num;\r\n    private int denom;\r\n\r\n    public Rational(int num, int denom) {\r\n        this.num = num;\r\n        this.denom = denom;\r\n    }\r\n\r\n    public int compareTo(Rational r) {\r\n        if ((num / denom) - (r.num / r.denom) &gt; 0) {\r\n            return +1;\r\n        } else if ((num / denom) - (r.num / r.denom) &lt; 0) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public Rational add(Rational r) {\r\n        return new Rational(num + r.num, denom + r.denom);\r\n    }\r\n\r\n    public Rational sub(Rational r) {\r\n        return new Rational(num - r.num, denom - r.denom);\r\n    }\r\n\r\n    public Rational mul(Rational r) {\r\n        return new Rational(num * r.num, denom * r.denom);\r\n    }\r\n\r\n    public Rational div(Rational r) {\r\n        return new Rational(num * r.denom, denom * r.num);\r\n    }\r\n\r\n    public int gcd(Rational r) {\r\n        int i = 1;\r\n        while (i != 0) {\r\n            i = denom % r.denom;\r\n            denom = r.denom;\r\n            r.denom = i;\r\n        }\r\n        return denom;\r\n    }\r\n\r\n    public String toString() {\r\n        String a = num + &quot;/&quot; + denom;\r\n        return a;\r\n    }\r\n\r\n    public double doubleValue() {\r\n        return (double) doubleValue();\r\n    }\r\n\r\n    public float floatValue() {\r\n        return (float) floatValue();\r\n    }\r\n\r\n    public int intValue() {\r\n        return (int) intValue();\r\n    }\r\n\r\n    public long longValue() {\r\n        return (long) longValue();\r\n    }\r\n}\r\n```\r\n\r\n### File *Main.java*\r\n\r\n```lang-java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Rational a = new Rational(2, 4);\r\n        Rational b = new Rational(2, 6);\r\n\r\n        System.out.println(a + &quot; + &quot; + b + &quot; = &quot; + a.add(b));\r\n        System.out.println(a + &quot; - &quot; + b + &quot; = &quot; + a.sub(b));\r\n        System.out.println(a + &quot; * &quot; + b + &quot; = &quot; + a.mul(b));\r\n        System.out.println(a + &quot; / &quot; + b + &quot; = &quot; + a.div(b));\r\n\r\n        Rational[] arr = {new Rational(7, 1), new Rational(6, 1),\r\n                new Rational(5, 1), new Rational(4, 1),\r\n                new Rational(3, 1), new Rational(2, 1),\r\n                new Rational(1, 1), new Rational(1, 2),\r\n                new Rational(1, 3), new Rational(1, 4),\r\n                new Rational(1, 5), new Rational(1, 6),\r\n                new Rational(1, 7), new Rational(1, 8),\r\n                new Rational(1, 9), new Rational(0, 1)};\r\n\r\n        selectSort(arr);\r\n\r\n        for (int i = 0; i &lt; arr.length - 1; ++i) {\r\n            if (arr[i].compareTo(arr[i + 1]) &gt; 0) {\r\n                System.exit(1);\r\n            }\r\n        }\r\n\r\n\r\n        Number n = new Rational(3, 2);\r\n\r\n        System.out.println(n.doubleValue());\r\n        System.out.println(n.floatValue());\r\n        System.out.println(n.intValue());\r\n        System.out.println(n.longValue());\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void selectSort(T[] array) {\r\n\r\n        T temp;\r\n        int mini;\r\n\r\n        for (int i = 0; i &lt; array.length - 1; ++i) {\r\n\r\n            mini = i;\r\n\r\n            for (int j = i + 1; j &lt; array.length; ++j) {\r\n                if (array[j].compareTo(array[mini]) &lt; 0) {\r\n                    mini = j;\r\n                }\r\n            }\r\n\r\n            if (i != mini) {\r\n                temp = array[i];\r\n                array[i] = array[mini];\r\n                array[mini] = temp;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Result\r\n\r\n```lang-none\r\n2/4 + 2/6 = 4/10\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n2/4 - 2/6 = 0/-2\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n2/4 * 2/6 = 4/24\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n2/4 / 2/6 = 12/8\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\r\n```\r\n\r\n[Here is the source code of `StackOverflowError` in OpenJDK 7][1].\r\n\r\n  [1]: https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/StackOverflowError.java\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>This is a typical case of <code>java.lang.StackOverflowError</code>... The method is recursively calling itself with no exit in <code>doubleValue()</code>, <code>floatValue()</code>, etc.</p>\n<h3>File <em>Rational.java</em></h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Rational extends Number implements Comparable&lt;Rational&gt; {\n    private int num;\n    private int denom;\n\n    public Rational(int num, int denom) {\n        this.num = num;\n        this.denom = denom;\n    }\n\n    public int compareTo(Rational r) {\n        if ((num / denom) - (r.num / r.denom) &gt; 0) {\n            return +1;\n        } else if ((num / denom) - (r.num / r.denom) &lt; 0) {\n            return -1;\n        }\n        return 0;\n    }\n\n    public Rational add(Rational r) {\n        return new Rational(num + r.num, denom + r.denom);\n    }\n\n    public Rational sub(Rational r) {\n        return new Rational(num - r.num, denom - r.denom);\n    }\n\n    public Rational mul(Rational r) {\n        return new Rational(num * r.num, denom * r.denom);\n    }\n\n    public Rational div(Rational r) {\n        return new Rational(num * r.denom, denom * r.num);\n    }\n\n    public int gcd(Rational r) {\n        int i = 1;\n        while (i != 0) {\n            i = denom % r.denom;\n            denom = r.denom;\n            r.denom = i;\n        }\n        return denom;\n    }\n\n    public String toString() {\n        String a = num + &quot;/&quot; + denom;\n        return a;\n    }\n\n    public double doubleValue() {\n        return (double) doubleValue();\n    }\n\n    public float floatValue() {\n        return (float) floatValue();\n    }\n\n    public int intValue() {\n        return (int) intValue();\n    }\n\n    public long longValue() {\n        return (long) longValue();\n    }\n}\n</code></pre>\n<h3>File <em>Main.java</em></h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n\n        Rational a = new Rational(2, 4);\n        Rational b = new Rational(2, 6);\n\n        System.out.println(a + &quot; + &quot; + b + &quot; = &quot; + a.add(b));\n        System.out.println(a + &quot; - &quot; + b + &quot; = &quot; + a.sub(b));\n        System.out.println(a + &quot; * &quot; + b + &quot; = &quot; + a.mul(b));\n        System.out.println(a + &quot; / &quot; + b + &quot; = &quot; + a.div(b));\n\n        Rational[] arr = {new Rational(7, 1), new Rational(6, 1),\n                new Rational(5, 1), new Rational(4, 1),\n                new Rational(3, 1), new Rational(2, 1),\n                new Rational(1, 1), new Rational(1, 2),\n                new Rational(1, 3), new Rational(1, 4),\n                new Rational(1, 5), new Rational(1, 6),\n                new Rational(1, 7), new Rational(1, 8),\n                new Rational(1, 9), new Rational(0, 1)};\n\n        selectSort(arr);\n\n        for (int i = 0; i &lt; arr.length - 1; ++i) {\n            if (arr[i].compareTo(arr[i + 1]) &gt; 0) {\n                System.exit(1);\n            }\n        }\n\n\n        Number n = new Rational(3, 2);\n\n        System.out.println(n.doubleValue());\n        System.out.println(n.floatValue());\n        System.out.println(n.intValue());\n        System.out.println(n.longValue());\n    }\n\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void selectSort(T[] array) {\n\n        T temp;\n        int mini;\n\n        for (int i = 0; i &lt; array.length - 1; ++i) {\n\n            mini = i;\n\n            for (int j = i + 1; j &lt; array.length; ++j) {\n                if (array[j].compareTo(array[mini]) &lt; 0) {\n                    mini = j;\n                }\n            }\n\n            if (i != mini) {\n                temp = array[i];\n                array[i] = array[mini];\n                array[mini] = temp;\n            }\n        }\n    }\n}\n</code></pre>\n<h3>Result</h3>\n<pre class=\"lang-none prettyprint-override\"><code>2/4 + 2/6 = 4/10\nException in thread &quot;main&quot; java.lang.StackOverflowError\n2/4 - 2/6 = 0/-2\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n2/4 * 2/6 = 4/24\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n2/4 / 2/6 = 12/8\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n    at com.xetrasu.Rational.doubleValue(Rational.java:64)\n</code></pre>\n<p><a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/StackOverflowError.java\" rel=\"nofollow noreferrer\">Here is the source code of <code>StackOverflowError</code> in OpenJDK 7</a>.</p>\n"},{"tags":[],"owner":{"account_id":2105859,"reputation":650,"user_id":1872207,"accept_rate":60,"display_name":"Kaliappan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633417558,"creation_date":1582728029,"answer_id":60416391,"question_id":214741,"body_markdown":"In a crunch, the below situation will bring a stack overflow error.\r\n\r\n    public class Example3 {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            main(new String[1]);\r\n        }\r\n\r\n    }\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>In a crunch, the below situation will bring a stack overflow error.</p>\n<pre><code>public class Example3 {\n\n    public static void main(String[] args) {\n\n        main(new String[1]);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18780810,"reputation":108,"user_id":13695519,"display_name":"MrIo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679923748,"creation_date":1594293340,"answer_id":62813612,"question_id":214741,"body_markdown":"The stack has a space limit that depends on the operating system. The normal size is 8&amp;nbsp;MB (in [Ubuntu][1] (Linux), you can check that limit with `$ ulimit -u` and it can be checked in other OS similarly). Any program makes use of the stack at runtime, but to fully know when it is used you need to check the assembly language. In x86_64 for example, the stack is used to:\r\n\r\n1. Save the return address when making a procedure call\r\n2. Save local variables\r\n3. Save special registers to restore them later\r\n4. Pass arguments to a procedure call (when there are more than 6 integers parameters and/or more than 8 floating-point parameters)\r\n5. Other: random unused stack base, canary values, padding, ... etc.\r\n\r\nIf you don&#39;t know x86_64 (normal case) you only need to know when the specific high-level programming language you are using compile to those actions. For example in C:\r\n- (1) → a function call\r\n- (2) → local variables in function calls (including main)\r\n- (3) → local variables in function calls (not main)\r\n- (4) → a function call\r\n- (5) → normally a function call, it is generally irrelevant for a stack overflow.\r\n\r\nSo, in C, **only local variables and function calls make use of the stack**. The two (unique?) ways of making a stack overflow are:\r\n- Declaring too large local variables in main or in any function that it&#39;s called in (`int array[10000][10000];`)\r\n- A very deep or infinite recursion (too many function calls at the same time).\r\n\r\nTo avoid a `StackOverflowError` you can:\r\n\r\n- check if local variables are too big (order of 1 MB) → use the heap (malloc/calloc calls) or global variables.\r\n\r\n- check for infinite recursion → you know what to do... correct it!\r\n\r\n- check for normal too deep recursion → the easiest approach is to just change the implementation to be iterative.\r\n\r\nNotice also that global variables, include libraries, etc... don&#39;t make use of the stack.\r\n\r\nOnly if the above does not work, change the stack size to the maximum on the specific OS. With Ubuntu for example: `ulimit -s 32768` (32 MB). (This has never been the solution for any of my stack overflow errors, but I also don&#39;t have much experience.)\r\n\r\nI have omitted special and/or not standard cases in C (such as usage of `alloc()` and similar) because if you are using them you should already know exactly what you are doing. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>The stack has a space limit that depends on the operating system. The normal size is 8 MB (in <a href=\"https://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\" rel=\"nofollow noreferrer\">Ubuntu</a> (Linux), you can check that limit with <code>$ ulimit -u</code> and it can be checked in other OS similarly). Any program makes use of the stack at runtime, but to fully know when it is used you need to check the assembly language. In x86_64 for example, the stack is used to:</p>\n<ol>\n<li>Save the return address when making a procedure call</li>\n<li>Save local variables</li>\n<li>Save special registers to restore them later</li>\n<li>Pass arguments to a procedure call (when there are more than 6 integers parameters and/or more than 8 floating-point parameters)</li>\n<li>Other: random unused stack base, canary values, padding, ... etc.</li>\n</ol>\n<p>If you don't know x86_64 (normal case) you only need to know when the specific high-level programming language you are using compile to those actions. For example in C:</p>\n<ul>\n<li>(1) → a function call</li>\n<li>(2) → local variables in function calls (including main)</li>\n<li>(3) → local variables in function calls (not main)</li>\n<li>(4) → a function call</li>\n<li>(5) → normally a function call, it is generally irrelevant for a stack overflow.</li>\n</ul>\n<p>So, in C, <strong>only local variables and function calls make use of the stack</strong>. The two (unique?) ways of making a stack overflow are:</p>\n<ul>\n<li>Declaring too large local variables in main or in any function that it's called in (<code>int array[10000][10000];</code>)</li>\n<li>A very deep or infinite recursion (too many function calls at the same time).</li>\n</ul>\n<p>To avoid a <code>StackOverflowError</code> you can:</p>\n<ul>\n<li><p>check if local variables are too big (order of 1 MB) → use the heap (malloc/calloc calls) or global variables.</p>\n</li>\n<li><p>check for infinite recursion → you know what to do... correct it!</p>\n</li>\n<li><p>check for normal too deep recursion → the easiest approach is to just change the implementation to be iterative.</p>\n</li>\n</ul>\n<p>Notice also that global variables, include libraries, etc... don't make use of the stack.</p>\n<p>Only if the above does not work, change the stack size to the maximum on the specific OS. With Ubuntu for example: <code>ulimit -s 32768</code> (32 MB). (This has never been the solution for any of my stack overflow errors, but I also don't have much experience.)</p>\n<p>I have omitted special and/or not standard cases in C (such as usage of <code>alloc()</code> and similar) because if you are using them you should already know exactly what you are doing.</p>\n"},{"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633417475,"creation_date":1612083190,"answer_id":65977273,"question_id":214741,"body_markdown":"A simple Java example that causes java.lang.StackOverflowError because of a bad recursive call:\r\n\r\n    class Human {\r\n        Human(){\r\n            new Animal();\r\n        }\r\n    }\r\n\r\n    class Animal extends Human {\r\n        Animal(){\r\n            super();\r\n        }\r\n    }\r\n\r\n    public class Test01 {\r\n        public static void main(String[] args) {\r\n            new Animal();\r\n        }\r\n    }\r\n\r\n\r\n","title":"What is a StackOverflowError?","body":"<p>A simple Java example that causes java.lang.StackOverflowError because of a bad recursive call:</p>\n<pre><code>class Human {\n    Human(){\n        new Animal();\n    }\n}\n\nclass Animal extends Human {\n    Animal(){\n        super();\n    }\n}\n\npublic class Test01 {\n    public static void main(String[] args) {\n        new Animal();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21638781,"reputation":3636,"user_id":15963573,"display_name":"F1ko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671061878,"creation_date":1671061878,"answer_id":74805420,"question_id":214741,"body_markdown":"Many answers to this question are good. However, I would like to take a slightly different approach and give some more insight into how memory works and also a (simplified) visualization to better understand StackOverflow errors. This understanding does not only apply to Java but all processes alike.\r\n\r\nOn modern systems all new processes get their own [virtual address space (VAS)][1]. In essence VAS is an abstraction layer provided by the operating system on top of physical memory in order to ensure processes do not interfere with each others memory. It&#39;s the kernels job to then map the virtual addresses provided to to the actual physical addresses.\r\n\r\n---\r\n\r\nVAS can be divided into a couple of sections:\r\n\r\nIn order to let the CPU know what it is supposed to do machine instructions must be loaded into memory. This is usually referred to as the **code or text segment** and of static size.\r\n\r\nOn top of that one can find the **data segment** and **heap**. The data segment is of fixed size and contains global or static variables. \r\nAs a program runs into special conditions it may need to additionally allocate data, which is where the heap comes into play and is therefore able to dynamically grow in size.\r\n\r\nThe **stack** is located on the other side of the virtual address space and (among other things) keeps track of all function calls using a LIFO data structure. Similar to the heap a program may need additional space during runtime to keep track of new function calls being invoked. Since the stack is located on the other side of the VAS it is growing into the opposite direction i.e. towards the heap.\r\n\r\n[![Virtual address space][2]][2]\r\n\r\n**TL;DR**\r\n\r\nThis is where the **StackOverflow error** comes into play.\r\n\r\nSince the stack grows down (towards the heap) it may so happen that at some point in time it cannot grow further as it would overlap with the heap address space. Once that happens the StackOverflow error occurs.\r\n\r\nThe most common reason as to why this happens is due to a bug in the program making recursive calls that do not terminate properly.\r\n\r\n---\r\n\r\nNote that on some systems VAS may behave slightly different an can be divided into even more segments, however, this general understanding applies to all UNIX systems.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Virtual_address_space\r\n  [2]: https://i.stack.imgur.com/wh7D9.jpg","title":"What is a StackOverflowError?","body":"<p>Many answers to this question are good. However, I would like to take a slightly different approach and give some more insight into how memory works and also a (simplified) visualization to better understand StackOverflow errors. This understanding does not only apply to Java but all processes alike.</p>\n<p>On modern systems all new processes get their own <a href=\"https://en.wikipedia.org/wiki/Virtual_address_space\" rel=\"nofollow noreferrer\">virtual address space (VAS)</a>. In essence VAS is an abstraction layer provided by the operating system on top of physical memory in order to ensure processes do not interfere with each others memory. It's the kernels job to then map the virtual addresses provided to to the actual physical addresses.</p>\n<hr />\n<p>VAS can be divided into a couple of sections:</p>\n<p>In order to let the CPU know what it is supposed to do machine instructions must be loaded into memory. This is usually referred to as the <strong>code or text segment</strong> and of static size.</p>\n<p>On top of that one can find the <strong>data segment</strong> and <strong>heap</strong>. The data segment is of fixed size and contains global or static variables.\nAs a program runs into special conditions it may need to additionally allocate data, which is where the heap comes into play and is therefore able to dynamically grow in size.</p>\n<p>The <strong>stack</strong> is located on the other side of the virtual address space and (among other things) keeps track of all function calls using a LIFO data structure. Similar to the heap a program may need additional space during runtime to keep track of new function calls being invoked. Since the stack is located on the other side of the VAS it is growing into the opposite direction i.e. towards the heap.</p>\n<p><a href=\"https://i.stack.imgur.com/wh7D9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wh7D9.jpg\" alt=\"Virtual address space\" /></a></p>\n<p><strong>TL;DR</strong></p>\n<p>This is where the <strong>StackOverflow error</strong> comes into play.</p>\n<p>Since the stack grows down (towards the heap) it may so happen that at some point in time it cannot grow further as it would overlap with the heap address space. Once that happens the StackOverflow error occurs.</p>\n<p>The most common reason as to why this happens is due to a bug in the program making recursive calls that do not terminate properly.</p>\n<hr />\n<p>Note that on some systems VAS may behave slightly different an can be divided into even more segments, however, this general understanding applies to all UNIX systems.</p>\n"}],"owner":{"account_id":14259,"reputation":21955,"user_id":29182,"accept_rate":89,"display_name":"Ziggy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841922,"favorite_count":0,"down_vote_count":3,"up_vote_count":530,"accepted_answer_id":214758,"answer_count":15,"score":527,"last_activity_date":1680213422,"creation_date":1224317635,"question_id":214741,"body_markdown":"What is a `StackOverflowError`, what causes it, and how should I deal with them?","title":"What is a StackOverflowError?","body":"<p>What is a <code>StackOverflowError</code>, what causes it, and how should I deal with them?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1503898962,"post_id":45912332,"comment_id":78783255,"body_markdown":"Does this answer your question?\nhttps://stackoverflow.com/questions/30435688/getting-java-lang-noclassdeffounderror-com-beust-jcommander-parameterexception","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30435688/getting-java-lang-noclassdeffounderror-com-beust-jcommander-parameterexception\" title=\"getting java lang noclassdeffounderror com beust jcommander parameterexception\">stackoverflow.com/questions/30435688/&hellip;</a>"},{"owner":{"account_id":6104899,"reputation":37,"user_id":4762863,"display_name":"Kyaw Kyaw"},"score":0,"creation_date":1503899192,"post_id":45912332,"comment_id":78785644,"body_markdown":"There is something wrong with your parameter. Should be **@Test()**. If there is a problem see this link. https://stackoverflow.com/questions/30435688/getting-java-lang-noclassdeffounderror-com-beust-jcommander-parameterexception","body":"There is something wrong with your parameter. Should be <b>@Test()</b>. If there is a problem see this link. <a href=\"https://stackoverflow.com/questions/30435688/getting-java-lang-noclassdeffounderror-com-beust-jcommander-parameterexception\" title=\"getting java lang noclassdeffounderror com beust jcommander parameterexception\">stackoverflow.com/questions/30435688/&hellip;</a>"},{"owner":{"account_id":11243443,"reputation":31,"user_id":8246890,"display_name":"inlusion"},"score":0,"creation_date":1503900136,"post_id":45912332,"comment_id":78785645,"body_markdown":"the question you linked does not work for me . and it&#39;s not sth wrong with my parameter,i tried @Test(description = &quot;tttttt&quot;),but it&#39;s the same.    i ran the same code on another computer,and it&#39;s fine . so i&#39;m comfused ....","body":"the question you linked does not work for me . and it&#39;s not sth wrong with my parameter,i tried @Test(description = &quot;tttttt&quot;),but it&#39;s the same.    i ran the same code on another computer,and it&#39;s fine . so i&#39;m comfused ...."},{"owner":{"account_id":6104899,"reputation":37,"user_id":4762863,"display_name":"Kyaw Kyaw"},"score":0,"creation_date":1503902639,"post_id":45912332,"comment_id":78785646,"body_markdown":"Sorry. You should learn this page. https://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror. I hope this may help you.","body":"Sorry. You should learn this page. <a href=\"https://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror\" title=\"how to solve java lang noclassdeffounderror\">stackoverflow.com/questions/17973970/&hellip;</a>. I hope this may help you."}],"answers":[{"tags":[],"owner":{"account_id":28173030,"reputation":1,"user_id":21531253,"display_name":"Anveshsai Vemuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680212971,"creation_date":1680212920,"answer_id":75893266,"question_id":45912332,"body_markdown":"Download jcommander jar file from the maven repository and add it to the dependencies just like testng jar file \r\n\r\nGo to projectstructure-&gt;Modules-&gt;depenencies-&gt;add jcommander jar file-&gt; click apply\r\n\r\n[dependencies in projectStructure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PzOFO.png","title":"Run testNG with IDEA, throws java.lang.NoClassDefFoundError: com/beust/jcommander/ParameterException","body":"<p>Download jcommander jar file from the maven repository and add it to the dependencies just like testng jar file</p>\n<p>Go to projectstructure-&gt;Modules-&gt;depenencies-&gt;add jcommander jar file-&gt; click apply</p>\n<p><a href=\"https://i.stack.imgur.com/PzOFO.png\" rel=\"nofollow noreferrer\">dependencies in projectStructure</a></p>\n"}],"owner":{"account_id":11243443,"reputation":31,"user_id":8246890,"display_name":"inlusion"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3847,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680212971,"creation_date":1503898747,"question_id":45912332,"body_markdown":"I just run a simple test with testNG(version 6.8). All code is like this. \r\n\r\n    import org.testng.annotations.*;\r\n    public class TestNGtest {\r\n        @Test\r\n        public void test(){\r\n            System.out.print(&quot;123&quot;);\r\n        }\r\n    }\r\n\r\nI run it but it returns :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/beust/jcommander/ParameterException\r\n    \tat org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:119)\r\n    Caused by: java.lang.ClassNotFoundException: com.beust.jcommander.ParameterException\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 1 more\r\n\r\nBUT there is jcommander.jar in my classpath（in my java/jre/lib） already. someboby has the same problem?\r\n\r\nIt is a maven project, i have added jcommander ,testng dependencies in my pom.xml ; these code is all fine when run on other computers ,but only throws this error on my computer(i cloneed it from git). Can anybody help me?","title":"Run testNG with IDEA, throws java.lang.NoClassDefFoundError: com/beust/jcommander/ParameterException","body":"<p>I just run a simple test with testNG(version 6.8). All code is like this. </p>\n\n<pre><code>import org.testng.annotations.*;\npublic class TestNGtest {\n    @Test\n    public void test(){\n        System.out.print(\"123\");\n    }\n}\n</code></pre>\n\n<p>I run it but it returns :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/beust/jcommander/ParameterException\n    at org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:119)\nCaused by: java.lang.ClassNotFoundException: com.beust.jcommander.ParameterException\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n\n<p>BUT there is jcommander.jar in my classpath（in my java/jre/lib） already. someboby has the same problem?</p>\n\n<p>It is a maven project, i have added jcommander ,testng dependencies in my pom.xml ; these code is all fine when run on other computers ,but only throws this error on my computer(i cloneed it from git). Can anybody help me?</p>\n"},{"tags":["java","datetime","java-time"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":2,"creation_date":1662333341,"post_id":73603358,"comment_id":129975674,"body_markdown":"Overlap happens when time moves back, e.g. when going from -4 (DST in NY) to -5, means that November 6th 1:00 AM - 2:00 AM will happen twice, the time is overlapping.","body":"Overlap happens when time moves back, e.g. when going from -4 (DST in NY) to -5, means that November 6th 1:00 AM - 2:00 AM will happen twice, the time is overlapping."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1662333553,"post_id":73603358,"comment_id":129975701,"body_markdown":"Please carefully read the section at the top of the Javadoc for `ZonedDateTime`.  It explains very clearly what an &quot;overlap&quot; is.","body":"Please carefully read the section at the top of the Javadoc for <code>ZonedDateTime</code>.  It explains very clearly what an &quot;overlap&quot; is."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1662335494,"post_id":73603358,"comment_id":129975920,"body_markdown":"_&quot;Overlap, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.&quot;_ [source](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/time/ZonedDateTime.html). Many countries do not implement [daylight saving time](https://en.wikipedia.org/wiki/Daylight_saving_time), so this may perhaps be a less familiar concept.","body":"<i>&quot;Overlap, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.&quot;</i> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">source</a>. Many countries do not implement <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">daylight saving time</a>, so this may perhaps be a less familiar concept."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662395256,"creation_date":1662346166,"answer_id":73604140,"question_id":73603358,"body_markdown":"# Political time presents anomalies\r\n\r\n`ZonedDateTime` is *political* time. Politicians define time zones and set the rules. \r\n\r\nPoliticians around the world have shown a surprisingly common prediliction for fiddling with these rules. And they do so unpredictably, often with little or no warning. \r\n\r\nPoliticians can decide that everyone should rise an hour early in the morning, and then in half a year reverse their decision, mandating that people open their shops an hour later — this wacky plan is known as [Daylight Saving Time (DST)][1]. \r\n\r\nThe newest fad: Politicians deciding that the people of their jurisdiction should stay on DST year-round. So then the sun is *never* overhead at noon, defying the definition of &quot;noon&quot;. \r\n\r\nMartial victors, colonizers, and occupiers may choose to impose a time zone that suits their home country.\r\n\r\nPoliticians may change the offset of their jurisdictions to annoy their neighbor(s), or to appease their neighbor(s), as a diplomatic move.\r\n\r\n## Spring forward; Fall back\r\n\r\nDuring any of these anomalies, the hands of the clock must jump ahead or fall back some amount of time, some number of hours-minutes-seconds. \r\n\r\nFor example, many places in the US observing DST change their clocks twice a year. They jump ahead an hour at 2 AM on a particular day in the Spring. So the offset in use changes an hour, such as `America/Los_Angeles` changing from an offset of -08:00 to -07:00. Those places later fall back an hour at 2AM on a particular day in the Autumn. The offset in use changes by an hour, such as `America/Los_Angeles` changing from an offset of -07:00 to -08:00.\r\n\r\n - In the first case, clocks jumping ahead, the hour of **02:00 - 03:00 never exists**, for a 23-hour day. \r\n - In the second case, clocks falling back, the hour of **01:00 - 02:00 happens *twice***, for a 25-hour day. \r\n\r\nIn the first case, when jumping ahead, we skip an hour. So the day is shorter, only 23 hours long. &#128073; This skipped hour is what “the gap” refers to in that Javadoc. \r\n\r\nIn that second case, **when the clock falls back an hour, there is an ambiguity** of how to recognize a time-of-day such as 01:30. Does &quot;01:30&quot; refer to the middle of the *first* hour occurrence or the middle of the *second* hour occurrence? &#128073; This repeated hour with its ambiguity is what &quot;the overlap&quot; refers to in that Javadoc.\r\n\r\nI expect reasonable people could disagree on how best to resolve this ambiguity. The *java.time* classes, specifically [`ZonedDateTime`][2], has its algorithm for resolving the ambiguity. It is crucial that you understand its chosen scheme so you know how to work with it.\r\n\r\n[The Javadoc][2] does cover this. To quote:\r\n\r\n&gt;There are three cases:\r\n&gt;\r\n&gt; - **Normal**, with one valid offset. For the vast majority of the year, the normal case applies, where there is a single valid offset for the local date-time.\r\n&gt; - **Gap**, with zero valid offsets. This is when clocks jump forward typically due to the spring daylight savings change from &quot;winter&quot; to &quot;summer&quot;. In a gap there are local date-time values with no valid offset.\r\n&gt; - **Overlap**, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nAs a reminder of definitions:\r\n\r\n - *Offset* means merely a number of hours-minutes-seconds ahead of, or behind, the temporal prime meridian of UTC (or GMT). \r\n - *Time zone* means much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html","title":"Understanding javadoc for ZonedDateTime::plusDays","body":"<h1>Political time presents anomalies</h1>\n<p><code>ZonedDateTime</code> is <em>political</em> time. Politicians define time zones and set the rules.</p>\n<p>Politicians around the world have shown a surprisingly common prediliction for fiddling with these rules. And they do so unpredictably, often with little or no warning.</p>\n<p>Politicians can decide that everyone should rise an hour early in the morning, and then in half a year reverse their decision, mandating that people open their shops an hour later — this wacky plan is known as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>.</p>\n<p>The newest fad: Politicians deciding that the people of their jurisdiction should stay on DST year-round. So then the sun is <em>never</em> overhead at noon, defying the definition of &quot;noon&quot;.</p>\n<p>Martial victors, colonizers, and occupiers may choose to impose a time zone that suits their home country.</p>\n<p>Politicians may change the offset of their jurisdictions to annoy their neighbor(s), or to appease their neighbor(s), as a diplomatic move.</p>\n<h2>Spring forward; Fall back</h2>\n<p>During any of these anomalies, the hands of the clock must jump ahead or fall back some amount of time, some number of hours-minutes-seconds.</p>\n<p>For example, many places in the US observing DST change their clocks twice a year. They jump ahead an hour at 2 AM on a particular day in the Spring. So the offset in use changes an hour, such as <code>America/Los_Angeles</code> changing from an offset of -08:00 to -07:00. Those places later fall back an hour at 2AM on a particular day in the Autumn. The offset in use changes by an hour, such as <code>America/Los_Angeles</code> changing from an offset of -07:00 to -08:00.</p>\n<ul>\n<li>In the first case, clocks jumping ahead, the hour of <strong>02:00 - 03:00 never exists</strong>, for a 23-hour day.</li>\n<li>In the second case, clocks falling back, the hour of <strong>01:00 - 02:00 happens <em>twice</em></strong>, for a 25-hour day.</li>\n</ul>\n<p>In the first case, when jumping ahead, we skip an hour. So the day is shorter, only 23 hours long. 👉 This skipped hour is what “the gap” refers to in that Javadoc.</p>\n<p>In that second case, <strong>when the clock falls back an hour, there is an ambiguity</strong> of how to recognize a time-of-day such as 01:30. Does &quot;01:30&quot; refer to the middle of the <em>first</em> hour occurrence or the middle of the <em>second</em> hour occurrence? 👉 This repeated hour with its ambiguity is what &quot;the overlap&quot; refers to in that Javadoc.</p>\n<p>I expect reasonable people could disagree on how best to resolve this ambiguity. The <em>java.time</em> classes, specifically <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>, has its algorithm for resolving the ambiguity. It is crucial that you understand its chosen scheme so you know how to work with it.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">The Javadoc</a> does cover this. To quote:</p>\n<blockquote>\n<p>There are three cases:</p>\n<ul>\n<li><strong>Normal</strong>, with one valid offset. For the vast majority of the year, the normal case applies, where there is a single valid offset for the local date-time.</li>\n<li><strong>Gap</strong>, with zero valid offsets. This is when clocks jump forward typically due to the spring daylight savings change from &quot;winter&quot; to &quot;summer&quot;. In a gap there are local date-time values with no valid offset.</li>\n<li><strong>Overlap</strong>, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.</li>\n</ul>\n</blockquote>\n<hr />\n<p>As a reminder of definitions:</p>\n<ul>\n<li><em>Offset</em> means merely a number of hours-minutes-seconds ahead of, or behind, the temporal prime meridian of UTC (or GMT).</li>\n<li><em>Time zone</em> means much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662350596,"creation_date":1662349531,"answer_id":73604362,"question_id":73603358,"body_markdown":"The &quot;gap&quot; and &quot;overlap&quot; terms are defined in the class-level Javadoc of the [`ZonedDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html) class:\r\n\r\n&gt; This class handles conversion from the local time-line of `LocalDateTime` to the instant time-line of `Instant`. The difference between the two time-lines is the offset from `UTC/Greenwich`, represented by a `ZoneOffset`.\r\n&gt; \r\n&gt; Converting between the two time-lines involves calculating the offset using the rules accessed from the ZoneId. Obtaining the offset for an instant is simple, as there is exactly one valid offset for each instant. By contrast, obtaining the offset for a local date-time is not straightforward. There are three cases:\r\n&gt; \r\n&gt; * Normal, with one valid offset. For the vast majority of the year, the normal case applies, where there is a single valid offset for the local date-time.\r\n&gt; * Gap, with zero valid offsets. This is when clocks jump forward typically due to the spring daylight savings change from &quot;winter&quot; to &quot;summer&quot;. In a gap there are local date-time values with no valid offset.\r\n&gt; * Overlap, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.\r\n\r\n## Example\r\n\r\nLet&#39;s use your specific example of the `America/New_York` time zone.  Per [timeanddate.com](https://www.timeanddate.com/time/change/usa/new-york-state?year=2022), the daylight saving time changes in New York for 2022 are:\r\n\r\n&gt; ## Mar 13, 2022 - Daylight Saving Time Started\r\n&gt; When local standard time was about to reach  \r\n&gt; Sunday, March 13, 2022, **2:00:00** am clocks were turned **forward** 1 hour to  \r\n&gt; Sunday, March 13, 2022, **3:00:00** am local daylight time instead.\r\n&gt;\r\n&gt; ## Nov 6, 2022 - Daylight Saving Time Ends\r\n&gt; When local daylight time is about to reach  \r\n&gt; Sunday, November 6, 2022, **2:00:00** am clocks are turned **backward** 1 hour to  \r\n&gt; Sunday, November 6, 2022, **1:00:00** am local standard time instead.\r\n\r\nTherefore, there are no times between 2:00 and 2:59 on March 13 in the New York time zone.  1:59 occurs in standard time.  When that minute ends, no 2:00 hour occurs, and instead the local time jumps to 3:00 daylight time.\r\n\r\nAdditionally, the times between 1:00 and 1:59 occur twice on November 6: one in daylight time and then one in standard time.\r\n\r\n### Java `ZonedDateTime` example\r\n\r\n```lang-java\r\nZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n\r\n// 2022-03-13T03:15:30-04:00[America/New_York] (no 2:15)\r\nSystem.out.println(\r\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-03-12T02:15:30&quot;), zone)\r\n        .plusDays(1));\r\n```\r\n\r\nSince 2:15 AM on March 12 doesn&#39;t exist and is within a 1-hour gap, the following logic you quoted applies, adding 1 hour to the local time:\r\n\r\n&gt; If in a gap, the local date-time will be adjusted forward by the length of the gap.\r\n\r\nTherefore, 3:15 AM is used when adding 1 day to March 11 at 1:15 AM.\r\n\r\n```lang-java\r\nZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n\r\n// 2022-11-06T01:15:30-04:00[America/New_York] (First 1:15)\r\nSystem.out.println(\r\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-11-05T01:15:30&quot;), zone)\r\n        .plusDays(1));\r\n\r\n// 2022-11-06T01:15:30-05:00[America/New_York] (Second 1:15)\r\nSystem.out.println(\r\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-11-05T01:15:30&quot;), zone)\r\n        .plusDays(1).plusHours(1));\r\n```\r\n\r\nSince 1:15 AM is during an overlap — 1:15 AM occurs twice on November 6 — the following logic you quoted applies, using the same -04:00 zone offset as 1:15 AM on November 5:\r\n\r\n&gt; if the local date-time is in an overlap, then the offset will be retained if possible\r\n\r\nTherefore, adding 1 day to November 5 at 1:15 uses the first 1:15 on November 6.  This is made more evident by the second call, which shows that adding an hour to this timestamp returns the second 1:15 of November 6.  The fact that these are different points on the timeline despite both being 1:15 local time is evident by their differing zone offsets: -04:00 &amp; -05:00.","title":"Understanding javadoc for ZonedDateTime::plusDays","body":"<p>The &quot;gap&quot; and &quot;overlap&quot; terms are defined in the class-level Javadoc of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> class:</p>\n<blockquote>\n<p>This class handles conversion from the local time-line of <code>LocalDateTime</code> to the instant time-line of <code>Instant</code>. The difference between the two time-lines is the offset from <code>UTC/Greenwich</code>, represented by a <code>ZoneOffset</code>.</p>\n<p>Converting between the two time-lines involves calculating the offset using the rules accessed from the ZoneId. Obtaining the offset for an instant is simple, as there is exactly one valid offset for each instant. By contrast, obtaining the offset for a local date-time is not straightforward. There are three cases:</p>\n<ul>\n<li>Normal, with one valid offset. For the vast majority of the year, the normal case applies, where there is a single valid offset for the local date-time.</li>\n<li>Gap, with zero valid offsets. This is when clocks jump forward typically due to the spring daylight savings change from &quot;winter&quot; to &quot;summer&quot;. In a gap there are local date-time values with no valid offset.</li>\n<li>Overlap, with two valid offsets. This is when clocks are set back typically due to the autumn daylight savings change from &quot;summer&quot; to &quot;winter&quot;. In an overlap there are local date-time values with two valid offsets.</li>\n</ul>\n</blockquote>\n<h2>Example</h2>\n<p>Let's use your specific example of the <code>America/New_York</code> time zone.  Per <a href=\"https://www.timeanddate.com/time/change/usa/new-york-state?year=2022\" rel=\"nofollow noreferrer\">timeanddate.com</a>, the daylight saving time changes in New York for 2022 are:</p>\n<blockquote>\n<h2>Mar 13, 2022 - Daylight Saving Time Started</h2>\n<p>When local standard time was about to reach<br />\nSunday, March 13, 2022, <strong>2:00:00</strong> am clocks were turned <strong>forward</strong> 1 hour to<br />\nSunday, March 13, 2022, <strong>3:00:00</strong> am local daylight time instead.</p>\n<h2>Nov 6, 2022 - Daylight Saving Time Ends</h2>\n<p>When local daylight time is about to reach<br />\nSunday, November 6, 2022, <strong>2:00:00</strong> am clocks are turned <strong>backward</strong> 1 hour to<br />\nSunday, November 6, 2022, <strong>1:00:00</strong> am local standard time instead.</p>\n</blockquote>\n<p>Therefore, there are no times between 2:00 and 2:59 on March 13 in the New York time zone.  1:59 occurs in standard time.  When that minute ends, no 2:00 hour occurs, and instead the local time jumps to 3:00 daylight time.</p>\n<p>Additionally, the times between 1:00 and 1:59 occur twice on November 6: one in daylight time and then one in standard time.</p>\n<h3>Java <code>ZonedDateTime</code> example</h3>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n// 2022-03-13T03:15:30-04:00[America/New_York] (no 2:15)\nSystem.out.println(\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-03-12T02:15:30&quot;), zone)\n        .plusDays(1));\n</code></pre>\n<p>Since 2:15 AM on March 12 doesn't exist and is within a 1-hour gap, the following logic you quoted applies, adding 1 hour to the local time:</p>\n<blockquote>\n<p>If in a gap, the local date-time will be adjusted forward by the length of the gap.</p>\n</blockquote>\n<p>Therefore, 3:15 AM is used when adding 1 day to March 11 at 1:15 AM.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n// 2022-11-06T01:15:30-04:00[America/New_York] (First 1:15)\nSystem.out.println(\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-11-05T01:15:30&quot;), zone)\n        .plusDays(1));\n\n// 2022-11-06T01:15:30-05:00[America/New_York] (Second 1:15)\nSystem.out.println(\n        ZonedDateTime.of(LocalDateTime.parse(&quot;2022-11-05T01:15:30&quot;), zone)\n        .plusDays(1).plusHours(1));\n</code></pre>\n<p>Since 1:15 AM is during an overlap — 1:15 AM occurs twice on November 6 — the following logic you quoted applies, using the same -04:00 zone offset as 1:15 AM on November 5:</p>\n<blockquote>\n<p>if the local date-time is in an overlap, then the offset will be retained if possible</p>\n</blockquote>\n<p>Therefore, adding 1 day to November 5 at 1:15 uses the first 1:15 on November 6.  This is made more evident by the second call, which shows that adding an hour to this timestamp returns the second 1:15 of November 6.  The fact that these are different points on the timeline despite both being 1:15 local time is evident by their differing zone offsets: -04:00 &amp; -05:00.</p>\n"}],"owner":{"account_id":7066348,"reputation":2543,"user_id":5468701,"accept_rate":50,"display_name":"shiva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":73604362,"answer_count":2,"score":6,"last_activity_date":1680212531,"creation_date":1662332946,"question_id":73603358,"body_markdown":"I am not able to understand one specific part of doc provided for the plusDays() method in ZonedDateTimeClass. Doc states:\r\n\r\n&gt; Returns a copy of this ZonedDateTime with the specified number of days\r\n&gt; added.\r\n&gt; \r\n&gt; This operates on the local time-line, adding days to the local\r\n&gt; date-time. This is then converted back to a ZonedDateTime, using the\r\n&gt; zone ID to obtain the offset.\r\n&gt; \r\n&gt; When converting back to ZonedDateTime, if the local date-time is in an\r\n&gt; overlap, then the offset will be retained if possible, otherwise the\r\n&gt; earlier offset will be used. If in a gap, the local date-time will be\r\n&gt; adjusted forward by the length of the gap.\r\n&gt; \r\n&gt; This instance is immutable and unaffected by this method call.\r\n&gt; \r\n&gt; Params: days – the days to add, may be negative\r\n&gt; \r\n&gt; Returns: a ZonedDateTime based on this date-time with the days added,\r\n&gt; not null\r\n&gt; \r\n&gt; Throws: DateTimeException – if the result exceeds the supported date\r\n&gt; range\r\n\r\nHow I understand this: Assume we have ZonedDateTime object representing `September 4, 2022 6 PM in America/New_York TimeZone`. So this method will first convert it to LocalDateTime, that is, it will lose timezone information and just retain `September 4, 2022 6 PM`. It will add some number of days to it, let&#39;s say 7, so that the result is `September 11, 2022 6 PM`, and now it will convert it back to ZonedDateTime object by providing back the information related to timezone.\r\n\r\nHowever, I am not able to understand the latter part of documentation, that is,\r\n\r\n&gt; When converting back to ZonedDateTime, if the local date-time is in an\r\n&gt; overlap, then the offset will be retained if possible, otherwise the\r\n&gt; earlier offset will be used. If in a gap, the local date-time will be\r\n&gt; adjusted forward by the length of the gap.\r\n\r\nWhat do they mean by `local date-time is in an overlap`? `...then the offset will be retained if possible, otherwise the earlier offset will be used.` - what are these two different offsets? `If in a gap...` - what is this gap?\r\n","title":"Understanding javadoc for ZonedDateTime::plusDays","body":"<p>I am not able to understand one specific part of doc provided for the plusDays() method in ZonedDateTimeClass. Doc states:</p>\n<blockquote>\n<p>Returns a copy of this ZonedDateTime with the specified number of days\nadded.</p>\n<p>This operates on the local time-line, adding days to the local\ndate-time. This is then converted back to a ZonedDateTime, using the\nzone ID to obtain the offset.</p>\n<p>When converting back to ZonedDateTime, if the local date-time is in an\noverlap, then the offset will be retained if possible, otherwise the\nearlier offset will be used. If in a gap, the local date-time will be\nadjusted forward by the length of the gap.</p>\n<p>This instance is immutable and unaffected by this method call.</p>\n<p>Params: days – the days to add, may be negative</p>\n<p>Returns: a ZonedDateTime based on this date-time with the days added,\nnot null</p>\n<p>Throws: DateTimeException – if the result exceeds the supported date\nrange</p>\n</blockquote>\n<p>How I understand this: Assume we have ZonedDateTime object representing <code>September 4, 2022 6 PM in America/New_York TimeZone</code>. So this method will first convert it to LocalDateTime, that is, it will lose timezone information and just retain <code>September 4, 2022 6 PM</code>. It will add some number of days to it, let's say 7, so that the result is <code>September 11, 2022 6 PM</code>, and now it will convert it back to ZonedDateTime object by providing back the information related to timezone.</p>\n<p>However, I am not able to understand the latter part of documentation, that is,</p>\n<blockquote>\n<p>When converting back to ZonedDateTime, if the local date-time is in an\noverlap, then the offset will be retained if possible, otherwise the\nearlier offset will be used. If in a gap, the local date-time will be\nadjusted forward by the length of the gap.</p>\n</blockquote>\n<p>What do they mean by <code>local date-time is in an overlap</code>? <code>...then the offset will be retained if possible, otherwise the earlier offset will be used.</code> - what are these two different offsets? <code>If in a gap...</code> - what is this gap?</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":1379167,"reputation":369,"user_id":1312546,"accept_rate":90,"display_name":"Arnaud Courtecuisse"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1680212026,"creation_date":1530539563,"answer_id":51137822,"question_id":51098848,"body_markdown":"If you have an idea, try it. And if your project environment does not allow you to try, sandbox it. I&#39;ll give it a go, but my Java is rusty, and I don’t have the JDK on this computer. Start with this:\r\n\r\n    public class MongoSandbox {\r\n\r\n        public static void main(String[] args) throws UnknownHostException {\r\n\r\n            // Connect to the local test db\r\n            MongoClientURI uri = new MongoClientURI(&quot;mongodb://localhost:27017/test&quot;);\r\n            MongoClient client = new MongoClient(uri);\r\n            MongoDatabase db = client.getDatabase(uri.getDatabase());\r\n\r\n            // Get a test collection\r\n            MongoCollection&lt;Document&gt; docs = db.getCollection(&quot;docs&quot;);\r\n\r\n            // Create a dummy list of events\r\n            List&lt;Document&gt; events = new ArrayList&lt;Document&gt;();\r\n            events.add(new Document(&quot;random&quot;, &quot;data&quot;));\r\n            events.add(new Document(&quot;random&quot;, &quot;data2&quot;));\r\n            events.add(new Document(&quot;random&quot;, &quot;data3&quot;));\r\n\r\n            // Create your main document\r\n            Document mainDoc = new Document(&quot;events&quot;, events);\r\n            docs.insert(mainDoc);\r\n\r\n            client.close();\r\n        }\r\n    }\r\n\r\n","title":"Create MongoDB document that has a list of documents in Java","body":"<p>If you have an idea, try it. And if your project environment does not allow you to try, sandbox it. I'll give it a go, but my Java is rusty, and I don’t have the JDK on this computer. Start with this:</p>\n<pre><code>public class MongoSandbox {\n\n    public static void main(String[] args) throws UnknownHostException {\n\n        // Connect to the local test db\n        MongoClientURI uri = new MongoClientURI(&quot;mongodb://localhost:27017/test&quot;);\n        MongoClient client = new MongoClient(uri);\n        MongoDatabase db = client.getDatabase(uri.getDatabase());\n\n        // Get a test collection\n        MongoCollection&lt;Document&gt; docs = db.getCollection(&quot;docs&quot;);\n\n        // Create a dummy list of events\n        List&lt;Document&gt; events = new ArrayList&lt;Document&gt;();\n        events.add(new Document(&quot;random&quot;, &quot;data&quot;));\n        events.add(new Document(&quot;random&quot;, &quot;data2&quot;));\n        events.add(new Document(&quot;random&quot;, &quot;data3&quot;));\n\n        // Create your main document\n        Document mainDoc = new Document(&quot;events&quot;, events);\n        docs.insert(mainDoc);\n\n        client.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2291405,"reputation":65,"user_id":2014100,"display_name":"mohdhamm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4379,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"closed_date":1653257464,"accepted_answer_id":51137822,"answer_count":1,"score":3,"last_activity_date":1680212026,"creation_date":1530265376,"question_id":51098848,"body_markdown":"I would like to create a MongoDB document in Java to insert into my MongoDB collection. Currently, the MongoDB document I am using has no list of documents in it and I want to add one to it.\r\n\r\nMy document should look something like this:\r\n\r\n    {\r\n     id : 1,\r\n     events : [\r\n               { event_id : 1, processed : false},\r\n               { event_id : 2, processed : false},\r\n               .\r\n               .\r\n              ],\r\n     assigned_user : 32\r\n    }\r\n\r\nTo create the MongoDB document, I am forced to create a\r\n\r\n    Map&lt;String, Object&gt; dataFields\r\n\r\nAnd then transform it to a MongoDB document.\r\n\r\nSo to add the list of Documents I need, I thought of creating\r\n\r\n     List&lt;Document&gt; events\r\n\r\nThen creating a document for each event I need, and then add it to the list of `events`.\r\n\r\nFinally, I would simply add the list `events` to the map `dataFields`, and then create the final MongoDB document.\r\n\r\nWould this work? If not, what is the flaw? Logic or implementation?\r\n","title":"Create MongoDB document that has a list of documents in Java","body":"<p>I would like to create a MongoDB document in Java to insert into my MongoDB collection. Currently, the MongoDB document I am using has no list of documents in it and I want to add one to it.</p>\n<p>My document should look something like this:</p>\n<pre><code>{\n id : 1,\n events : [\n           { event_id : 1, processed : false},\n           { event_id : 2, processed : false},\n           .\n           .\n          ],\n assigned_user : 32\n}\n</code></pre>\n<p>To create the MongoDB document, I am forced to create a</p>\n<pre><code>Map&lt;String, Object&gt; dataFields\n</code></pre>\n<p>And then transform it to a MongoDB document.</p>\n<p>So to add the list of Documents I need, I thought of creating</p>\n<pre><code> List&lt;Document&gt; events\n</code></pre>\n<p>Then creating a document for each event I need, and then add it to the list of <code>events</code>.</p>\n<p>Finally, I would simply add the list <code>events</code> to the map <code>dataFields</code>, and then create the final MongoDB document.</p>\n<p>Would this work? If not, what is the flaw? Logic or implementation?</p>\n"},{"tags":["java","android","batch-file","apk"],"answers":[{"tags":[],"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501393654,"creation_date":1501393654,"answer_id":45396773,"question_id":45395706,"body_markdown":"You can get the package name with `aapt.exe`. For example:\r\n\r\n    aapt dump badging path\\to\\file.apk | findstr /C:&quot;package: name&quot;\r\n\r\nTo iterate over files, you can use `FOR` (in command prompt itself, otherwise double percent sign):\r\n\r\n    for %i in (C:\\apks\\*.apk) do @echo %i\r\n\r\nSo combined, your batch file should look like:\r\n\r\n    @for %%i in (C:\\apks\\*.apk) do @aapt dump badging &quot;%%i&quot; | findstr /C:&quot;package: name&quot;\r\n\r\nTo write this to a file:\r\n\r\n    my_batch_file_that_calls_aapt.bat &gt; my_text_file.txt\r\n\r\nOr a bit more generic:\r\n\r\n    @echo off\r\n    SET FOLDER=%1\r\n    SET OUTPUT=%2\r\n    break&gt;%OUTPUT%\r\n    for %%i in (%FOLDER%\\*.apk) do aapt dump badging &quot;%%i&quot; | findstr /C:&quot;package: name&quot; &gt;&gt; %OUTPUT%\r\n\r\nMake sure `aapt.exe` is in your `PATH` before trying any of these.\r\n\r\n---\r\n\r\nAnd just for a full picture, this is how you do it on Linux/MacOS X:\r\n\r\n    ls /path/to/my/apks/*.apk | xargs -L 1 aapt dump badging | grep package:\\ name","title":"How to list package names of multiple apks?","body":"<p>You can get the package name with <code>aapt.exe</code>. For example:</p>\n\n<pre><code>aapt dump badging path\\to\\file.apk | findstr /C:\"package: name\"\n</code></pre>\n\n<p>To iterate over files, you can use <code>FOR</code> (in command prompt itself, otherwise double percent sign):</p>\n\n<pre><code>for %i in (C:\\apks\\*.apk) do @echo %i\n</code></pre>\n\n<p>So combined, your batch file should look like:</p>\n\n<pre><code>@for %%i in (C:\\apks\\*.apk) do @aapt dump badging \"%%i\" | findstr /C:\"package: name\"\n</code></pre>\n\n<p>To write this to a file:</p>\n\n<pre><code>my_batch_file_that_calls_aapt.bat &gt; my_text_file.txt\n</code></pre>\n\n<p>Or a bit more generic:</p>\n\n<pre><code>@echo off\nSET FOLDER=%1\nSET OUTPUT=%2\nbreak&gt;%OUTPUT%\nfor %%i in (%FOLDER%\\*.apk) do aapt dump badging \"%%i\" | findstr /C:\"package: name\" &gt;&gt; %OUTPUT%\n</code></pre>\n\n<p>Make sure <code>aapt.exe</code> is in your <code>PATH</code> before trying any of these.</p>\n\n<hr>\n\n<p>And just for a full picture, this is how you do it on Linux/MacOS X:</p>\n\n<pre><code>ls /path/to/my/apks/*.apk | xargs -L 1 aapt dump badging | grep package:\\ name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28172904,"reputation":1,"user_id":21531146,"display_name":"FliphoneBochur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680211845,"creation_date":1680211845,"answer_id":75893153,"question_id":45395706,"body_markdown":"First, you need to [download aapt][1], and add it to path.\r\nNext, you need to open cmd in that folder.\r\nThen, you could run this command to list all the package names:\r\n\r\n    for /f &quot;delims=&quot; %i in (&#39;dir /b /on *.apk&#39;) do for /f &quot;tokens=2 delims=: &quot; %j in (&#39;aapt dump badging &quot;%i&quot; ^| findstr /r /c:&quot;^package: name=&quot;&#39;) do echo %j &gt;&gt; output.txt\r\n\r\nIf you want to list the filenames and package names in one file, use this command:\r\n\r\n    for /f &quot;delims=&quot; %i in (&#39;dir /b /on *.apk&#39;) do for /f &quot;tokens=2 delims=: &quot; %j in (&#39;aapt dump badging &quot;%i&quot; ^| findstr /r /c:&quot;^package: name=&quot;&#39;) do echo %~ni %j &gt;&gt; output.txt\r\n\r\n\r\n  [1]: https://dl.androidaapt.com/aapt-windows.zip","title":"How to list package names of multiple apks?","body":"<p>First, you need to <a href=\"https://dl.androidaapt.com/aapt-windows.zip\" rel=\"nofollow noreferrer\">download aapt</a>, and add it to path.\nNext, you need to open cmd in that folder.\nThen, you could run this command to list all the package names:</p>\n<pre><code>for /f &quot;delims=&quot; %i in ('dir /b /on *.apk') do for /f &quot;tokens=2 delims=: &quot; %j in ('aapt dump badging &quot;%i&quot; ^| findstr /r /c:&quot;^package: name=&quot;') do echo %j &gt;&gt; output.txt\n</code></pre>\n<p>If you want to list the filenames and package names in one file, use this command:</p>\n<pre><code>for /f &quot;delims=&quot; %i in ('dir /b /on *.apk') do for /f &quot;tokens=2 delims=: &quot; %j in ('aapt dump badging &quot;%i&quot; ^| findstr /r /c:&quot;^package: name=&quot;') do echo %~ni %j &gt;&gt; output.txt\n</code></pre>\n"}],"owner":{"account_id":7971991,"reputation":33,"user_id":6016342,"accept_rate":25,"display_name":"Ali bizaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680211845,"creation_date":1501380444,"question_id":45395706,"body_markdown":"a `.bat` code to list package_names of multiple `.apk` files in a folder, into a `.txt` file with this structure:\r\n\r\n    com.a.a\r\n    \r\n    com.b.b\r\n\r\nJust by sending the folder path to my bat file. for example `b.bat &quot;C:\\apks&quot;` which contains some `.apk` files, must create a `.txt` file and write all package_names of all files. \r\n\r\nI tried to find a way, but wasn&#39;t able for windows, and for multiple apk files. \r\n\r\nso how can I do that? ","title":"How to list package names of multiple apks?","body":"<p>a <code>.bat</code> code to list package_names of multiple <code>.apk</code> files in a folder, into a <code>.txt</code> file with this structure:</p>\n\n<pre><code>com.a.a\n\ncom.b.b\n</code></pre>\n\n<p>Just by sending the folder path to my bat file. for example <code>b.bat \"C:\\apks\"</code> which contains some <code>.apk</code> files, must create a <code>.txt</code> file and write all package_names of all files. </p>\n\n<p>I tried to find a way, but wasn't able for windows, and for multiple apk files. </p>\n\n<p>so how can I do that? </p>\n"},{"tags":["java","android","crash"],"comments":[{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1537556885,"post_id":52449788,"comment_id":91842593,"body_markdown":"Reported the bug to Google: https://issuetracker.google.com/issues/116246633","body":"Reported the bug to Google: <a href=\"https://issuetracker.google.com/issues/116246633\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/116246633</a>"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":1,"creation_date":1537557055,"post_id":52449788,"comment_id":91842663,"body_markdown":"Why not just check the bounds and return null if the passed index is outside?","body":"Why not just check the bounds and return null if the passed index is outside?"},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1537557526,"post_id":52449788,"comment_id":91842878,"body_markdown":"@TheWanderer, that is the likely work around we will use, but it was done this way original for performance reasons.  Java checks the bounds faster than we can, and if it is in bounds, the bounds will be checked twice.","body":"@TheWanderer, that is the likely work around we will use, but it was done this way original for performance reasons.  Java checks the bounds faster than we can, and if it is in bounds, the bounds will be checked twice."},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1537557602,"post_id":52449788,"comment_id":91842913,"body_markdown":"you&#39;re not really supposed to rely on exceptions for integral logic. I doubt there&#39;s a significant time difference.","body":"you&#39;re not really supposed to rely on exceptions for integral logic. I doubt there&#39;s a significant time difference."},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1537558274,"post_id":52449788,"comment_id":91843185,"body_markdown":"@TheWanderer You doubt was proven wrong a few years ago during our profiling (on a PC).  It may not matter anymore as hardware has improved over time and our Android app is newer and simpler than our PC app.  As for relying on exceptions for logic, I generally agree, but sometimes it is necessary.  Either way, Android shouldn&#39;t be crashing because we did something that caused an exception.","body":"@TheWanderer You doubt was proven wrong a few years ago during our profiling (on a PC).  It may not matter anymore as hardware has improved over time and our Android app is newer and simpler than our PC app.  As for relying on exceptions for logic, I generally agree, but sometimes it is necessary.  Either way, Android shouldn&#39;t be crashing because we did something that caused an exception."},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1537558501,"post_id":52449788,"comment_id":91843284,"body_markdown":"@TheWanderer Posted a clarification on what my question is.  Thanks for your thoughts.","body":"@TheWanderer Posted a clarification on what my question is.  Thanks for your thoughts."}],"answers":[{"tags":[],"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543950946,"creation_date":1543950946,"answer_id":53619952,"question_id":52449788,"body_markdown":"I turns out it is an Android bug:\r\n\r\nhttps://issuetracker.google.com/issues/116246633\r\n\r\nUsed bounds checking as a work around instead of relying on Android to properly throw an ArrayIndexOutOfBoundsException.","title":"Android ART Crash trying to throw ArrayOutOfBoundsException","body":"<p>I turns out it is an Android bug:</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/116246633\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/116246633</a></p>\n\n<p>Used bounds checking as a work around instead of relying on Android to properly throw an ArrayIndexOutOfBoundsException.</p>\n"}],"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53619952,"answer_count":1,"score":3,"last_activity_date":1680210914,"creation_date":1537556866,"question_id":52449788,"body_markdown":"We are seeing a crash from time to time from Android&#39;s ART code.  We are indexing into an int array without bounds checking and then catching Java&#39;s ArrayIndexOutOfBoundsException and handling that correctly.\r\n\r\nWe run this code on numerous PCs with various versions of Java and it works correctly.  However, on Android the code occasionally explodes.\r\n\r\nSome of our source code:\r\n\r\n    class IdToIndexData {\r\n       private final int tmap[]; // Contents are set elsewhere\r\n    \r\n        int getTraitsIndexUnchecked(int id) {\r\n            return tmap[id];\r\n        }\r\n    }\r\n\r\n    class DataObjectInfo {\r\n       public Integer getFieldTraits(Class1 map, int id) {\r\n                int traitsIndex=map.getTraitsIndexUnchecked(id);\r\n                return traitsIndex;\r\n            } catch (ArrayIndexOutOfBoundsException e) {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nI was unable to create a simple test case as I expect some sort of multi-threading race condition in the Android ART library.\r\n\r\nThe &quot;I/ObjectDBSet: changesComplete&quot; are from a different thread (see &quot;Message Processor&quot; thread), but could touch one of the objects calling getFieldTraits().  The int tmp[] is final, so would not be changed.  Also, the DataObjectInfo and IdToIndexData objects would not be replaced or altered.\r\n\r\nEither way, another thread should not cause a crash from Android&#39;s ART library.\r\n\r\nAndroid Version/Device:\r\n\r\nSamsung Galaxy Tab A with Android 7.0 build number NRD90M.T580UEU2BQL1.\r\n\r\nFrom Android Studio:\r\n\r\nBuild: 3.1.4, AI-173.4907809, 201807232114, \r\n\r\nAI-173.4907809, JRE 1.8.0_152-release-1024-b01x64 JetBrains s.r.o, OS Linux(amd64) v4.15.0-34-generic unknown, screens 1920x1080, 2560x1600\r\n\r\nAndroid Gradle Plugin: 3.1.4\r\nGradle: 4.4\r\nNDK: from local.properties: (not specified); latest from SDK: (not found); \r\nLLDB: pinned revision 3.1 not found; latest from SDK: (package not found); \r\nCMake: from local.properties: (not specified); latest from SDK: (not found); from PATH: (not found); \r\n\r\nFull output from the crash:\r\n\r\n    A/art: art/runtime/stack.cc:205] Check failed: success Failed to read the this object in int com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(int)\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    I/ObjectDBSet: changesComplete\r\n    A/art: art/runtime/runtime.cc:419] Runtime aborting...\r\n           art/runtime/runtime.cc:419] Aborting thread:\r\n           art/runtime/runtime.cc:419] &quot;main&quot; prio=5 tid=1 Runnable\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=0 dsCount=0 obj=0x7546a770 self=0xe4a85400\r\n           art/runtime/runtime.cc:419]   | sysTid=10759 nice=0 cgrp=default sched=0/0 handle=0xe7cf0534\r\n           art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=1113 stm=15 core=1 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xff5be000-0xff5c0000 stackSize=8MB\r\n           art/runtime/runtime.cc:419]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\r\n    A/art: art/runtime/runtime.cc:419]   native: #02 pc 003251b1  /system/lib/libart.so (_ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+24)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 00324ffb  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+362)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 0031bdc7  /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 000b4dcb  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 00328df5  /system/lib/libart.so (_ZNK3art12StackVisitor13GetThisObjectEv+488)\r\n           art/runtime/runtime.cc:419]   native: #07 pc 00125457  /system/lib/libart.so (_ZN3art19CatchLocationFinder10VisitFrameEv+50)\r\n           art/runtime/runtime.cc:419]   native: #08 pc 00329d71  /system/lib/libart.so (_ZN3art12StackVisitor9WalkStackEb+440)\r\n           art/runtime/runtime.cc:419]   native: #09 pc 0011b18d  /system/lib/libart.so (_ZN3art3Dbg13PostExceptionEPNS_6mirror9ThrowableE+108)\r\n           art/runtime/runtime.cc:419]   native: #10 pc 001c0bb1  /system/lib/libart.so (_ZNK3art15instrumentation15Instrumentation20ExceptionCaughtEventEPNS_6ThreadEPNS_6mirror9ThrowableE+48)\r\n           art/runtime/runtime.cc:419]   native: #11 pc 0033944d  /system/lib/libart.so (_ZN3art6Thread21QuickDeliverExceptionEv+504)\r\n           art/runtime/runtime.cc:419]   native: #12 pc 003f67f9  /system/lib/libart.so (artThrowArrayBoundsFromCode+10)\r\n           art/runtime/runtime.cc:419]   native: #13 pc 0002bab7  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (Java_com_hcs_orc_datatype_IdToIndexData_getTraitsIndexUnchecked__I+38)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(IdToIndexData.java:81)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectInfo.getFieldTraits(DataObjectInfo.java:202)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectBase.getTraits(DataObjectBase.java:114)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.table.config.OutputProfileBase.formatLine(OutputProfileBase.java:141)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment.lambda$updateView$0$FutureProcedureFragment(FutureProcedureFragment.java:174)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment$$Lambda$0.run(unavailable:-1)\r\n           art/runtime/runtime.cc:419]   at android.os.Handler.handleCallback(Handler.java:751)\r\n           art/runtime/runtime.cc:419]   at android.os.Handler.dispatchMessage(Handler.java:95)\r\n           art/runtime/runtime.cc:419]   at android.os.Looper.loop(Looper.java:154)\r\n           art/runtime/runtime.cc:419]   at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n           art/runtime/runtime.cc:419]   at java.lang.reflect.Method.invoke!(Native method)\r\n           art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\r\n           art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\r\n           art/runtime/runtime.cc:419] Dumping all threads without appropriate locks held: thread list lock\r\n           art/runtime/runtime.cc:419] All threads:\r\n           art/runtime/runtime.cc:419] DALVIK THREADS (29):\r\n           art/runtime/runtime.cc:419] &quot;main&quot; prio=5 tid=1 Runnable\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=0 dsCount=0 obj=0x7546a770 self=0xe4a85400\r\n           art/runtime/runtime.cc:419]   | sysTid=10759 nice=0 cgrp=default sched=0/0 handle=0xe7cf0534\r\n           art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=1115 stm=17 core=3 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xff5be000-0xff5c0000 stackSize=8MB\r\n           art/runtime/runtime.cc:419]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 0033e0e1  /system/lib/libart.so (_ZN3art10ThreadList13RunCheckpointEPNS_7ClosureE+336)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 0033de01  /system/lib/libart.so (_ZN3art10ThreadList4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEb+180)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 00325005  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+372)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 0031bdc7  /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90)\r\n           art/runtime/runtime.cc:419]   native: #07 pc 000b4dcb  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866)\r\n           art/runtime/runtime.cc:419]   native: #08 pc 00328df5  /system/lib/libart.so (_ZNK3art12StackVisitor13GetThisObjectEv+488)\r\n           art/runtime/runtime.cc:419]   native: #09 pc 00125457  /system/lib/libart.so (_ZN3art19CatchLocationFinder10VisitFrameEv+50)\r\n           art/runtime/runtime.cc:419]   native: #10 pc 00329d71  /system/lib/libart.so (_ZN3art12StackVisitor9WalkStackEb+440)\r\n           art/runtime/runtime.cc:419]   native: #11 pc 0011b18d  /system/lib/libart.so (_ZN3art3Dbg13PostExceptionEPNS_6mirror9ThrowableE+108)\r\n           art/runtime/runtime.cc:419]   native: #12 pc 001c0bb1  /system/lib/libart.so (_ZNK3art15instrumentation15Instrumentation20ExceptionCaughtEventEPNS_6ThreadEPNS_6mirror9ThrowableE+48)\r\n           art/runtime/runtime.cc:419]   native: #13 pc 0033944d  /system/lib/libart.so (_ZN3art6Thread21QuickDeliverExceptionEv+504)\r\n           art/runtime/runtime.cc:419]   native: #14 pc 003f67f9  /system/lib/libart.so (artThrowArrayBoundsFromCode+10)\r\n           art/runtime/runtime.cc:419]   native: #15 pc 0002bab7  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (Java_com_hcs_orc_datatype_IdToIndexData_getTraitsIndexUnchecked__I+38)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(IdToIndexData.java:81)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectInfo.getFieldTraits(DataObjectInfo.java:202)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectBase.getTraits(DataObjectBase.java:114)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.table.config.OutputProfileBase.formatLine(OutputProfileBase.java:141)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment.lambda$updateView$0$FutureProcedureFragment(FutureProcedureFragment.java:174)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment$$Lambda$0.run(unavailable:-1)\r\n           art/runtime/runtime.cc:419]   at android.os.Handler.handleCallback(Handler.java:751)\r\n           art/runtime/runtime.cc:419]   at android.os.Handler.dispatchMessage(Handler.java:95)\r\n           art/runtime/runtime.cc:419]   at android.os.Looper.loop(Looper.java:154)\r\n           art/runtime/runtime.cc:419]   at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n           art/runtime/runtime.cc:419]   at java.lang.reflect.Method.invoke!(Native method)\r\n           art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\r\n           art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;Jit thread pool worker thread 0&quot; prio=5 tid=2 Runnable (still starting up)\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=0 dsCount=0 obj=0x0 self=0xdb843000\r\n           art/runtime/runtime.cc:419]   | sysTid=10764 nice=9 cgrp=default sched=0/0 handle=0xe41a7920\r\n           art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=225 stm=25 core=0 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xe40a9000-0xe40ab000 stackSize=1022KB\r\n           art/runtime/runtime.cc:419]   | held mutexes= &quot;mutator lock&quot;(shared held)\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 00332d95  /system/lib/libart.so (_ZN3art6Thread21RunCheckpointFunctionEv+144)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 000f042d  /system/lib/libart-compiler.so (???)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 00136655  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder22BuildStaticFieldAccessERKNS_11InstructionEjb+2608)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 0012e5dd  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder21ProcessDexInstructionERKNS_11InstructionEj+580)\r\n           art/runtime/runtime.cc:419]   native: #07 pc 0012de5d  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder5BuildEv+1176)\r\n           art/runtime/runtime.cc:419]   native: #08 pc 00112c9d  /system/lib/libart-compiler.so (_ZN3art13HGraphBuilder10BuildGraphEv+84)\r\n           art/runtime/runtime.cc:419]   native: #09 pc 0015720b  /system/lib/libart-compiler.so (_ZNK3art18OptimizingCompiler10TryCompileEPNS_14ArenaAllocatorEPNS_19CodeVectorAllocatorEPKNS_7DexFile8CodeItemEjNS_10InvokeTypeEtjP8_jobjectRKS5_NS_6HandleINS_6mirror8DexCacheEEEPNS_9ArtMethodEb+2454)\r\n           art/runtime/runtime.cc:419]   native: #10 pc 00158e47  /system/lib/libart-compiler.so (_ZN3art18OptimizingCompiler10JitCompileEPNS_6ThreadEPNS_3jit12JitCodeCacheEPNS_9ArtMethodEb+330)\r\n           art/runtime/runtime.cc:419]   native: #11 pc 00107f1f  /system/lib/libart-compiler.so (_ZN3art3jit11JitCompiler13CompileMethodEPNS_6ThreadEPNS_9ArtMethodEb+194)\r\n           art/runtime/runtime.cc:419]   native: #12 pc 002506a3  /system/lib/libart.so (_ZN3art3jit3Jit13CompileMethodEPNS_9ArtMethodEPNS_6ThreadEb+318)\r\n           art/runtime/runtime.cc:419]   native: #13 pc 00251dc7  /system/lib/libart.so (_ZN3art3jit14JitCompileTask3RunEPNS_6ThreadE+430)\r\n           art/runtime/runtime.cc:419]   native: #14 pc 003450c9  /system/lib/libart.so (_ZN3art16ThreadPoolWorker3RunEv+44)\r\n           art/runtime/runtime.cc:419]   native: #15 pc 00344c01  /system/lib/libart.so (_ZN3art16ThreadPoolWorker8CallbackEPv+64)\r\n           art/runtime/runtime.cc:419]   native: #16 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\r\n           art/runtime/runtime.cc:419]   native: #17 pc 0001a161  /system/lib/libc.so (__start_thread+6)\r\n           art/runtime/runtime.cc:419]   (no managed stack frames)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;Signal Catcher&quot; prio=5 tid=3 WaitingInMainSignalCatcherLoop\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=1 dsCount=0 obj=0x12c44670 self=0xd9b98900\r\n           art/runtime/runtime.cc:419]   | sysTid=10765 nice=0 cgrp=default sched=0/0 handle=0xe40a6920\r\n           art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=0 stm=0 core=1 HZ=100\r\n    A/art: art/runtime/runtime.cc:419]   | stack=0xe3faa000-0xe3fac000 stackSize=1014KB\r\n           art/runtime/runtime.cc:419]   | held mutexes=\r\n           art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\r\n           art/runtime/runtime.cc:419]   kernel: do_sigtimedwait+0xdc/0x1bc\r\n           art/runtime/runtime.cc:419]   kernel: compat_SyS_rt_sigtimedwait+0x98/0xd8\r\n           art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00049780  /system/lib/libc.so (__rt_sigtimedwait+12)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 0001e933  /system/lib/libc.so (sigwait+34)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 003282df  /system/lib/libart.so (_ZN3art9SignalSet4WaitEv+22)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 00327ed9  /system/lib/libart.so (_ZN3art13SignalCatcher13WaitForSignalEPNS_6ThreadERNS_9SignalSetE+168)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 00326b1b  /system/lib/libart.so (_ZN3art13SignalCatcher3RunEPv+302)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 0001a161  /system/lib/libc.so (__start_thread+6)\r\n           art/runtime/runtime.cc:419]   (no managed stack frames)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;JDWP&quot; prio=5 tid=4 WaitingInMainDebuggerLoop\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=1 dsCount=0 obj=0x12c445e0 self=0xdb844400\r\n           art/runtime/runtime.cc:419]   | sysTid=10766 nice=0 cgrp=default sched=0/0 handle=0xe3fa7920\r\n           art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=44 stm=15 core=0 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xe3eab000-0xe3ead000 stackSize=1014KB\r\n           art/runtime/runtime.cc:419]   | held mutexes=\r\n           art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\r\n           art/runtime/runtime.cc:419]   kernel: poll_schedule_timeout+0x40/0x68\r\n           art/runtime/runtime.cc:419]   kernel: do_select+0x4bc/0x500\r\n           art/runtime/runtime.cc:419]   kernel: compat_core_sys_select+0x158/0x20c\r\n           art/runtime/runtime.cc:419]   kernel: compat_SyS_pselect6+0x174/0x210\r\n           art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00049658  /system/lib/libc.so (__pselect6+20)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 0001d539  /system/lib/libc.so (select+88)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 003fe093  /system/lib/libart.so (_ZN3art4JDWP12JdwpAdbState15ProcessIncomingEv+302)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 002497ef  /system/lib/libart.so (_ZN3art4JDWP9JdwpState3RunEv+654)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 00248f8f  /system/lib/libart.so (_ZN3art4JDWPL15StartJdwpThreadEPv+22)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 0001a161  /system/lib/libc.so (__start_thread+6)\r\n           art/runtime/runtime.cc:419]   (no managed stack frames)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;MessageProcessor&quot; prio=5 tid=17 Runnable\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=0 dsCount=0 obj=0x12ce11a0 self=0xde362d00\r\n           art/runtime/runtime.cc:419]   | sysTid=11066 nice=0 cgrp=default sched=0/0 handle=0xc561e920\r\n           art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=388 stm=5 core=2 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xc551c000-0xc551e000 stackSize=1038KB\r\n           art/runtime/runtime.cc:419]   | held mutexes= &quot;mutator lock&quot;(shared held)\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 00332d95  /system/lib/libart.so (_ZN3art6Thread21RunCheckpointFunctionEv+144)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 0020dea3  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+51530)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\r\n           art/runtime/runtime.cc:419]   native: #06 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\r\n           art/runtime/runtime.cc:419]   native: #07 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\r\n           art/runtime/runtime.cc:419]   native: #08 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\r\n           art/runtime/runtime.cc:419]   native: #09 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\r\n           art/runtime/runtime.cc:419]   native: #10 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\r\n           art/runtime/runtime.cc:419]   native: #11 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\r\n           art/runtime/runtime.cc:419]   native: #12 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\r\n           art/runtime/runtime.cc:419]   native: #13 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\r\n           art/runtime/runtime.cc:419]   native: #14 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\r\n           art/runtime/runtime.cc:419]   native: #15 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\r\n           art/runtime/runtime.cc:419]   native: #16 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\r\n           art/runtime/runtime.cc:419]   native: #17 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\r\n           art/runtime/runtime.cc:419]   native: #18 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\r\n           art/runtime/runtime.cc:419]   native: #19 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\r\n           art/runtime/runtime.cc:419]   native: #20 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\r\n           art/runtime/runtime.cc:419]   native: #21 pc 001d07b9  /system/lib/libart.so (_ZN3art11interpreter30EnterInterpreterFromEntryPointEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameE+92)\r\n           art/runtime/runtime.cc:419]   native: #22 pc 003f6dbd  /system/lib/libart.so (artQuickToInterpreterBridge+716)\r\n           art/runtime/runtime.cc:419]   native: #23 pc 000add93  /system/lib/libart.so (art_quick_to_interpreter_bridge+34)\r\n           art/runtime/runtime.cc:419]   native: #24 pc 0001b4b1  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (???)\r\n           art/runtime/runtime.cc:419]   at java.lang.Boolean.booleanValue(Boolean.java:132)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.Parameter.isFeatureSchedulingEnabled(Parameter.java:1349)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.logic.ProcedureLogic.isAppointmentRequest(ProcedureLogic.java:439)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.datatype.Procedure.isAppointmentRequest(Procedure.java:260)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureComparator.compare(ProcedureComparator.java:83)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureComparator.compare(ProcedureComparator.java:32)\r\n           art/runtime/runtime.cc:419]   at java.util.TimSort.countRunAndMakeAscending(TimSort.java:360)\r\n           art/runtime/runtime.cc:419]   at java.util.TimSort.sort(TimSort.java:220)\r\n           art/runtime/runtime.cc:419]   at java.util.Arrays.sort(Arrays.java:1450)\r\n           art/runtime/runtime.cc:419]   at java.util.Collections.sort(Collections.java:243)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.IndexedVector.sort(IndexedVector.java:216)\r\n           art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureDBLogic.sort(ProcedureDBLogic.java:61)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.datatype.Procedure$DB.sort(Procedure.java:583)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.data.ObjectDBSet.publishChangesComplete(ObjectDBSet.java:212)\r\n           art/runtime/runtime.cc:419]   - locked &lt;0x08c86602&gt; (a com.hcs.android.orc.service.data.ObjectDBSet)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.DataMessageHandler.handle(DataMessageHandler.java:77)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.MessageProcessor.processMessage(MessageProcessor.java:119)\r\n           art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.MessageProcessor.work(MessageProcessor.java:95)\r\n           art/runtime/runtime.cc:419]   at com.hcs.util.OAThread.run(OAThread.java:45)\r\n           art/runtime/runtime.cc:419] \r\n           art/runtime/runtime.cc:419] &quot;Thread-8&quot; prio=5 tid=25 Native\r\n           art/runtime/runtime.cc:419]   | group=&quot;&quot; sCount=1 dsCount=0 obj=0x12fa7d30 self=0xde363700\r\n           art/runtime/runtime.cc:419]   | sysTid=11075 nice=0 cgrp=default sched=0/0 handle=0xc3d71920\r\n           art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=4210 stm=328 core=0 HZ=100\r\n           art/runtime/runtime.cc:419]   | stack=0xc3c6f000-0xc3c71000 stackSize=1038KB\r\n           art/runtime/runtime.cc:419]   | held mutexes=\r\n           art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\r\n           art/runtime/runtime.cc:419]   kernel: futex_wait_queue_me+0xe0/0x144\r\n           art/runtime/runtime.cc:419]   kernel: futex_wait+0xe8/0x1d8\r\n           art/runtime/runtime.cc:419]   kernel: do_futex+0xc8/0x860\r\n           art/runtime/runtime.cc:419]   kernel: compat_SyS_futex+0xc8/0x144\r\n           art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\r\n           art/runtime/runtime.cc:419]   native: #00 pc 00017530  /system/lib/libc.so (syscall+28)\r\n           art/runtime/runtime.cc:419]   native: #01 pc 00076bbf  /system/lib/libmedia.so (_ZN7android11ClientProxy12obtainBufferEPNS_5Proxy6BufferEPK8timespecPS4_+554)\r\n           art/runtime/runtime.cc:419]   native: #02 pc 000870d7  /system/lib/libmedia.so (_ZN7android11AudioRecord12obtainBufferEPNS0_6BufferEPK8timespecPS3_Pj+202)\r\n           art/runtime/runtime.cc:419]   native: #03 pc 0008728b  /system/lib/libmedia.so (_ZN7android11AudioRecord4readEPvjb+150)\r\n           art/runtime/runtime.cc:419]   native: #04 pc 000b08df  /system/lib/libandroid_runtime.so (???)\r\n           art/runtime/runtime.cc:419]   native: #05 pc 004cf95f  /system/framework/arm/boot-framework.oat (Java_android_media_AudioRecord_native_1read_1in_1short_1array___3SIIZ+122)\r\n           art/runtime/runtime.cc:419]   at android.media.AudioRecord.native_read_in_short_array(Native method)\r\n           art/runtime/runtime.cc:419]   at android.media.AudioRecord.read(AudioRecord.java:1243)\r\n           art/runtime/runtime.cc:419]   at android.media.AudioRecord.read(AudioRecord.java:1197)\r\n           art/runtime/runtime.cc:419]   at edu.cmu.pocketsphinx.SpeechRecognizer$RecognizerThread.run(SpeechRecognizer.java:344)\r\n           art/runtime/runtime.cc:419]\r\n\r\n    A/libc: Fatal signal 6 (SIGABRT), code -6 in tid 10759 (android.orpanel)\r\n\r\nNote: Removed some threads that were just waiting to get under the 30,000 char limit on StackOverFlow.\r\n\r\n**UPDATE 1**\r\n\r\nMy question is **not** looking for work around (we can implement our own bounds checking, but do not do so because profiling several years ago showed that we needed to improve this code and this was a way to do it).\r\n\r\nInstead, I&#39;m looking for an explanation of how my code might be causing this problem (i.e. it is really my bug) or if it is a known Android bug.","title":"Android ART Crash trying to throw ArrayOutOfBoundsException","body":"<p>We are seeing a crash from time to time from Android's ART code.  We are indexing into an int array without bounds checking and then catching Java's ArrayIndexOutOfBoundsException and handling that correctly.</p>\n\n<p>We run this code on numerous PCs with various versions of Java and it works correctly.  However, on Android the code occasionally explodes.</p>\n\n<p>Some of our source code:</p>\n\n<pre><code>class IdToIndexData {\n   private final int tmap[]; // Contents are set elsewhere\n\n    int getTraitsIndexUnchecked(int id) {\n        return tmap[id];\n    }\n}\n\nclass DataObjectInfo {\n   public Integer getFieldTraits(Class1 map, int id) {\n            int traitsIndex=map.getTraitsIndexUnchecked(id);\n            return traitsIndex;\n        } catch (ArrayIndexOutOfBoundsException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>I was unable to create a simple test case as I expect some sort of multi-threading race condition in the Android ART library.</p>\n\n<p>The \"I/ObjectDBSet: changesComplete\" are from a different thread (see \"Message Processor\" thread), but could touch one of the objects calling getFieldTraits().  The int tmp[] is final, so would not be changed.  Also, the DataObjectInfo and IdToIndexData objects would not be replaced or altered.</p>\n\n<p>Either way, another thread should not cause a crash from Android's ART library.</p>\n\n<p>Android Version/Device:</p>\n\n<p>Samsung Galaxy Tab A with Android 7.0 build number NRD90M.T580UEU2BQL1.</p>\n\n<p>From Android Studio:</p>\n\n<p>Build: 3.1.4, AI-173.4907809, 201807232114, </p>\n\n<p>AI-173.4907809, JRE 1.8.0_152-release-1024-b01x64 JetBrains s.r.o, OS Linux(amd64) v4.15.0-34-generic unknown, screens 1920x1080, 2560x1600</p>\n\n<p>Android Gradle Plugin: 3.1.4\nGradle: 4.4\nNDK: from local.properties: (not specified); latest from SDK: (not found); \nLLDB: pinned revision 3.1 not found; latest from SDK: (package not found); \nCMake: from local.properties: (not specified); latest from SDK: (not found); from PATH: (not found); </p>\n\n<p>Full output from the crash:</p>\n\n<pre><code>A/art: art/runtime/stack.cc:205] Check failed: success Failed to read the this object in int com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(int)\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nI/ObjectDBSet: changesComplete\nA/art: art/runtime/runtime.cc:419] Runtime aborting...\n       art/runtime/runtime.cc:419] Aborting thread:\n       art/runtime/runtime.cc:419] \"main\" prio=5 tid=1 Runnable\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=0 dsCount=0 obj=0x7546a770 self=0xe4a85400\n       art/runtime/runtime.cc:419]   | sysTid=10759 nice=0 cgrp=default sched=0/0 handle=0xe7cf0534\n       art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=1113 stm=15 core=1 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xff5be000-0xff5c0000 stackSize=8MB\n       art/runtime/runtime.cc:419]   | held mutexes= \"abort lock\" \"mutator lock\"(shared held)\n       art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\n       art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\nA/art: art/runtime/runtime.cc:419]   native: #02 pc 003251b1  /system/lib/libart.so (_ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+24)\n       art/runtime/runtime.cc:419]   native: #03 pc 00324ffb  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+362)\n       art/runtime/runtime.cc:419]   native: #04 pc 0031bdc7  /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90)\n       art/runtime/runtime.cc:419]   native: #05 pc 000b4dcb  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866)\n       art/runtime/runtime.cc:419]   native: #06 pc 00328df5  /system/lib/libart.so (_ZNK3art12StackVisitor13GetThisObjectEv+488)\n       art/runtime/runtime.cc:419]   native: #07 pc 00125457  /system/lib/libart.so (_ZN3art19CatchLocationFinder10VisitFrameEv+50)\n       art/runtime/runtime.cc:419]   native: #08 pc 00329d71  /system/lib/libart.so (_ZN3art12StackVisitor9WalkStackEb+440)\n       art/runtime/runtime.cc:419]   native: #09 pc 0011b18d  /system/lib/libart.so (_ZN3art3Dbg13PostExceptionEPNS_6mirror9ThrowableE+108)\n       art/runtime/runtime.cc:419]   native: #10 pc 001c0bb1  /system/lib/libart.so (_ZNK3art15instrumentation15Instrumentation20ExceptionCaughtEventEPNS_6ThreadEPNS_6mirror9ThrowableE+48)\n       art/runtime/runtime.cc:419]   native: #11 pc 0033944d  /system/lib/libart.so (_ZN3art6Thread21QuickDeliverExceptionEv+504)\n       art/runtime/runtime.cc:419]   native: #12 pc 003f67f9  /system/lib/libart.so (artThrowArrayBoundsFromCode+10)\n       art/runtime/runtime.cc:419]   native: #13 pc 0002bab7  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (Java_com_hcs_orc_datatype_IdToIndexData_getTraitsIndexUnchecked__I+38)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(IdToIndexData.java:81)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectInfo.getFieldTraits(DataObjectInfo.java:202)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectBase.getTraits(DataObjectBase.java:114)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.table.config.OutputProfileBase.formatLine(OutputProfileBase.java:141)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment.lambda$updateView$0$FutureProcedureFragment(FutureProcedureFragment.java:174)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment$$Lambda$0.run(unavailable:-1)\n       art/runtime/runtime.cc:419]   at android.os.Handler.handleCallback(Handler.java:751)\n       art/runtime/runtime.cc:419]   at android.os.Handler.dispatchMessage(Handler.java:95)\n       art/runtime/runtime.cc:419]   at android.os.Looper.loop(Looper.java:154)\n       art/runtime/runtime.cc:419]   at android.app.ActivityThread.main(ActivityThread.java:6776)\n       art/runtime/runtime.cc:419]   at java.lang.reflect.Method.invoke!(Native method)\n       art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\n       art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\n       art/runtime/runtime.cc:419] Dumping all threads without appropriate locks held: thread list lock\n       art/runtime/runtime.cc:419] All threads:\n       art/runtime/runtime.cc:419] DALVIK THREADS (29):\n       art/runtime/runtime.cc:419] \"main\" prio=5 tid=1 Runnable\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=0 dsCount=0 obj=0x7546a770 self=0xe4a85400\n       art/runtime/runtime.cc:419]   | sysTid=10759 nice=0 cgrp=default sched=0/0 handle=0xe7cf0534\n       art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=1115 stm=17 core=3 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xff5be000-0xff5c0000 stackSize=8MB\n       art/runtime/runtime.cc:419]   | held mutexes= \"abort lock\" \"mutator lock\"(shared held)\n       art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\n       art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\n       art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\n       art/runtime/runtime.cc:419]   native: #03 pc 0033e0e1  /system/lib/libart.so (_ZN3art10ThreadList13RunCheckpointEPNS_7ClosureE+336)\n       art/runtime/runtime.cc:419]   native: #04 pc 0033de01  /system/lib/libart.so (_ZN3art10ThreadList4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEb+180)\n       art/runtime/runtime.cc:419]   native: #05 pc 00325005  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+372)\n       art/runtime/runtime.cc:419]   native: #06 pc 0031bdc7  /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90)\n       art/runtime/runtime.cc:419]   native: #07 pc 000b4dcb  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866)\n       art/runtime/runtime.cc:419]   native: #08 pc 00328df5  /system/lib/libart.so (_ZNK3art12StackVisitor13GetThisObjectEv+488)\n       art/runtime/runtime.cc:419]   native: #09 pc 00125457  /system/lib/libart.so (_ZN3art19CatchLocationFinder10VisitFrameEv+50)\n       art/runtime/runtime.cc:419]   native: #10 pc 00329d71  /system/lib/libart.so (_ZN3art12StackVisitor9WalkStackEb+440)\n       art/runtime/runtime.cc:419]   native: #11 pc 0011b18d  /system/lib/libart.so (_ZN3art3Dbg13PostExceptionEPNS_6mirror9ThrowableE+108)\n       art/runtime/runtime.cc:419]   native: #12 pc 001c0bb1  /system/lib/libart.so (_ZNK3art15instrumentation15Instrumentation20ExceptionCaughtEventEPNS_6ThreadEPNS_6mirror9ThrowableE+48)\n       art/runtime/runtime.cc:419]   native: #13 pc 0033944d  /system/lib/libart.so (_ZN3art6Thread21QuickDeliverExceptionEv+504)\n       art/runtime/runtime.cc:419]   native: #14 pc 003f67f9  /system/lib/libart.so (artThrowArrayBoundsFromCode+10)\n       art/runtime/runtime.cc:419]   native: #15 pc 0002bab7  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (Java_com_hcs_orc_datatype_IdToIndexData_getTraitsIndexUnchecked__I+38)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.IdToIndexData.getTraitsIndexUnchecked(IdToIndexData.java:81)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectInfo.getFieldTraits(DataObjectInfo.java:202)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.DataObjectBase.getTraits(DataObjectBase.java:114)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.table.config.OutputProfileBase.formatLine(OutputProfileBase.java:141)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment.lambda$updateView$0$FutureProcedureFragment(FutureProcedureFragment.java:174)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orpanel.fragments.FutureProcedureFragment$$Lambda$0.run(unavailable:-1)\n       art/runtime/runtime.cc:419]   at android.os.Handler.handleCallback(Handler.java:751)\n       art/runtime/runtime.cc:419]   at android.os.Handler.dispatchMessage(Handler.java:95)\n       art/runtime/runtime.cc:419]   at android.os.Looper.loop(Looper.java:154)\n       art/runtime/runtime.cc:419]   at android.app.ActivityThread.main(ActivityThread.java:6776)\n       art/runtime/runtime.cc:419]   at java.lang.reflect.Method.invoke!(Native method)\n       art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\n       art/runtime/runtime.cc:419]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"Jit thread pool worker thread 0\" prio=5 tid=2 Runnable (still starting up)\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=0 dsCount=0 obj=0x0 self=0xdb843000\n       art/runtime/runtime.cc:419]   | sysTid=10764 nice=9 cgrp=default sched=0/0 handle=0xe41a7920\n       art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=225 stm=25 core=0 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xe40a9000-0xe40ab000 stackSize=1022KB\n       art/runtime/runtime.cc:419]   | held mutexes= \"mutator lock\"(shared held)\n       art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\n       art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\n       art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\n       art/runtime/runtime.cc:419]   native: #03 pc 00332d95  /system/lib/libart.so (_ZN3art6Thread21RunCheckpointFunctionEv+144)\n       art/runtime/runtime.cc:419]   native: #04 pc 000f042d  /system/lib/libart-compiler.so (???)\n       art/runtime/runtime.cc:419]   native: #05 pc 00136655  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder22BuildStaticFieldAccessERKNS_11InstructionEjb+2608)\n       art/runtime/runtime.cc:419]   native: #06 pc 0012e5dd  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder21ProcessDexInstructionERKNS_11InstructionEj+580)\n       art/runtime/runtime.cc:419]   native: #07 pc 0012de5d  /system/lib/libart-compiler.so (_ZN3art19HInstructionBuilder5BuildEv+1176)\n       art/runtime/runtime.cc:419]   native: #08 pc 00112c9d  /system/lib/libart-compiler.so (_ZN3art13HGraphBuilder10BuildGraphEv+84)\n       art/runtime/runtime.cc:419]   native: #09 pc 0015720b  /system/lib/libart-compiler.so (_ZNK3art18OptimizingCompiler10TryCompileEPNS_14ArenaAllocatorEPNS_19CodeVectorAllocatorEPKNS_7DexFile8CodeItemEjNS_10InvokeTypeEtjP8_jobjectRKS5_NS_6HandleINS_6mirror8DexCacheEEEPNS_9ArtMethodEb+2454)\n       art/runtime/runtime.cc:419]   native: #10 pc 00158e47  /system/lib/libart-compiler.so (_ZN3art18OptimizingCompiler10JitCompileEPNS_6ThreadEPNS_3jit12JitCodeCacheEPNS_9ArtMethodEb+330)\n       art/runtime/runtime.cc:419]   native: #11 pc 00107f1f  /system/lib/libart-compiler.so (_ZN3art3jit11JitCompiler13CompileMethodEPNS_6ThreadEPNS_9ArtMethodEb+194)\n       art/runtime/runtime.cc:419]   native: #12 pc 002506a3  /system/lib/libart.so (_ZN3art3jit3Jit13CompileMethodEPNS_9ArtMethodEPNS_6ThreadEb+318)\n       art/runtime/runtime.cc:419]   native: #13 pc 00251dc7  /system/lib/libart.so (_ZN3art3jit14JitCompileTask3RunEPNS_6ThreadE+430)\n       art/runtime/runtime.cc:419]   native: #14 pc 003450c9  /system/lib/libart.so (_ZN3art16ThreadPoolWorker3RunEv+44)\n       art/runtime/runtime.cc:419]   native: #15 pc 00344c01  /system/lib/libart.so (_ZN3art16ThreadPoolWorker8CallbackEPv+64)\n       art/runtime/runtime.cc:419]   native: #16 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\n       art/runtime/runtime.cc:419]   native: #17 pc 0001a161  /system/lib/libc.so (__start_thread+6)\n       art/runtime/runtime.cc:419]   (no managed stack frames)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"Signal Catcher\" prio=5 tid=3 WaitingInMainSignalCatcherLoop\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=1 dsCount=0 obj=0x12c44670 self=0xd9b98900\n       art/runtime/runtime.cc:419]   | sysTid=10765 nice=0 cgrp=default sched=0/0 handle=0xe40a6920\n       art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=0 stm=0 core=1 HZ=100\nA/art: art/runtime/runtime.cc:419]   | stack=0xe3faa000-0xe3fac000 stackSize=1014KB\n       art/runtime/runtime.cc:419]   | held mutexes=\n       art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\n       art/runtime/runtime.cc:419]   kernel: do_sigtimedwait+0xdc/0x1bc\n       art/runtime/runtime.cc:419]   kernel: compat_SyS_rt_sigtimedwait+0x98/0xd8\n       art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\n       art/runtime/runtime.cc:419]   native: #00 pc 00049780  /system/lib/libc.so (__rt_sigtimedwait+12)\n       art/runtime/runtime.cc:419]   native: #01 pc 0001e933  /system/lib/libc.so (sigwait+34)\n       art/runtime/runtime.cc:419]   native: #02 pc 003282df  /system/lib/libart.so (_ZN3art9SignalSet4WaitEv+22)\n       art/runtime/runtime.cc:419]   native: #03 pc 00327ed9  /system/lib/libart.so (_ZN3art13SignalCatcher13WaitForSignalEPNS_6ThreadERNS_9SignalSetE+168)\n       art/runtime/runtime.cc:419]   native: #04 pc 00326b1b  /system/lib/libart.so (_ZN3art13SignalCatcher3RunEPv+302)\n       art/runtime/runtime.cc:419]   native: #05 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\n       art/runtime/runtime.cc:419]   native: #06 pc 0001a161  /system/lib/libc.so (__start_thread+6)\n       art/runtime/runtime.cc:419]   (no managed stack frames)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"JDWP\" prio=5 tid=4 WaitingInMainDebuggerLoop\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=1 dsCount=0 obj=0x12c445e0 self=0xdb844400\n       art/runtime/runtime.cc:419]   | sysTid=10766 nice=0 cgrp=default sched=0/0 handle=0xe3fa7920\n       art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=44 stm=15 core=0 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xe3eab000-0xe3ead000 stackSize=1014KB\n       art/runtime/runtime.cc:419]   | held mutexes=\n       art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\n       art/runtime/runtime.cc:419]   kernel: poll_schedule_timeout+0x40/0x68\n       art/runtime/runtime.cc:419]   kernel: do_select+0x4bc/0x500\n       art/runtime/runtime.cc:419]   kernel: compat_core_sys_select+0x158/0x20c\n       art/runtime/runtime.cc:419]   kernel: compat_SyS_pselect6+0x174/0x210\n       art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\n       art/runtime/runtime.cc:419]   native: #00 pc 00049658  /system/lib/libc.so (__pselect6+20)\n       art/runtime/runtime.cc:419]   native: #01 pc 0001d539  /system/lib/libc.so (select+88)\n       art/runtime/runtime.cc:419]   native: #02 pc 003fe093  /system/lib/libart.so (_ZN3art4JDWP12JdwpAdbState15ProcessIncomingEv+302)\n       art/runtime/runtime.cc:419]   native: #03 pc 002497ef  /system/lib/libart.so (_ZN3art4JDWP9JdwpState3RunEv+654)\n       art/runtime/runtime.cc:419]   native: #04 pc 00248f8f  /system/lib/libart.so (_ZN3art4JDWPL15StartJdwpThreadEPv+22)\n       art/runtime/runtime.cc:419]   native: #05 pc 00047f93  /system/lib/libc.so (_ZL15__pthread_startPv+22)\n       art/runtime/runtime.cc:419]   native: #06 pc 0001a161  /system/lib/libc.so (__start_thread+6)\n       art/runtime/runtime.cc:419]   (no managed stack frames)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"MessageProcessor\" prio=5 tid=17 Runnable\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=0 dsCount=0 obj=0x12ce11a0 self=0xde362d00\n       art/runtime/runtime.cc:419]   | sysTid=11066 nice=0 cgrp=default sched=0/0 handle=0xc561e920\n       art/runtime/runtime.cc:419]   | state=R schedstat=( 0 0 0 ) utm=388 stm=5 core=2 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xc551c000-0xc551e000 stackSize=1038KB\n       art/runtime/runtime.cc:419]   | held mutexes= \"mutator lock\"(shared held)\n       art/runtime/runtime.cc:419]   native: #00 pc 00351ce9  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128)\n       art/runtime/runtime.cc:419]   native: #01 pc 00332205  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304)\n       art/runtime/runtime.cc:419]   native: #02 pc 00344357  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+622)\n       art/runtime/runtime.cc:419]   native: #03 pc 00332d95  /system/lib/libart.so (_ZN3art6Thread21RunCheckpointFunctionEv+144)\n       art/runtime/runtime.cc:419]   native: #04 pc 0020dea3  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+51530)\n       art/runtime/runtime.cc:419]   native: #05 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\n       art/runtime/runtime.cc:419]   native: #06 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\n       art/runtime/runtime.cc:419]   native: #07 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\n       art/runtime/runtime.cc:419]   native: #08 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\n       art/runtime/runtime.cc:419]   native: #09 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\n       art/runtime/runtime.cc:419]   native: #10 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\n       art/runtime/runtime.cc:419]   native: #11 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\n       art/runtime/runtime.cc:419]   native: #12 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\n       art/runtime/runtime.cc:419]   native: #13 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\n       art/runtime/runtime.cc:419]   native: #14 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\n       art/runtime/runtime.cc:419]   native: #15 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\n       art/runtime/runtime.cc:419]   native: #16 pc 001d084f  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+114)\n       art/runtime/runtime.cc:419]   native: #17 pc 001e7f67  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450)\n       art/runtime/runtime.cc:419]   native: #18 pc 001fff3d  /system/lib/libart.so (_ZN3art11interpreterL20DoInvokeVirtualQuickILb0EEEbPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+304)\n       art/runtime/runtime.cc:419]   native: #19 pc 002055db  /system/lib/libart.so (_ZN3art11interpreter17ExecuteSwitchImplILb0ELb0EEENS_6JValueEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameES2_b+16514)\n       art/runtime/runtime.cc:419]   native: #20 pc 001cbded  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+368)\n       art/runtime/runtime.cc:419]   native: #21 pc 001d07b9  /system/lib/libart.so (_ZN3art11interpreter30EnterInterpreterFromEntryPointEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameE+92)\n       art/runtime/runtime.cc:419]   native: #22 pc 003f6dbd  /system/lib/libart.so (artQuickToInterpreterBridge+716)\n       art/runtime/runtime.cc:419]   native: #23 pc 000add93  /system/lib/libart.so (art_quick_to_interpreter_bridge+34)\n       art/runtime/runtime.cc:419]   native: #24 pc 0001b4b1  /dev/ashmem/dalvik-jit-code-cache_10759_10759 (deleted) (???)\n       art/runtime/runtime.cc:419]   at java.lang.Boolean.booleanValue(Boolean.java:132)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.Parameter.isFeatureSchedulingEnabled(Parameter.java:1349)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.datatype.logic.ProcedureLogic.isAppointmentRequest(ProcedureLogic.java:439)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.datatype.Procedure.isAppointmentRequest(Procedure.java:260)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureComparator.compare(ProcedureComparator.java:83)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureComparator.compare(ProcedureComparator.java:32)\n       art/runtime/runtime.cc:419]   at java.util.TimSort.countRunAndMakeAscending(TimSort.java:360)\n       art/runtime/runtime.cc:419]   at java.util.TimSort.sort(TimSort.java:220)\n       art/runtime/runtime.cc:419]   at java.util.Arrays.sort(Arrays.java:1450)\n       art/runtime/runtime.cc:419]   at java.util.Collections.sort(Collections.java:243)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.IndexedVector.sort(IndexedVector.java:216)\n       art/runtime/runtime.cc:419]   at com.hcs.orc.data.odb.ProcedureDBLogic.sort(ProcedureDBLogic.java:61)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.datatype.Procedure$DB.sort(Procedure.java:583)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.data.ObjectDBSet.publishChangesComplete(ObjectDBSet.java:212)\n       art/runtime/runtime.cc:419]   - locked &lt;0x08c86602&gt; (a com.hcs.android.orc.service.data.ObjectDBSet)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.DataMessageHandler.handle(DataMessageHandler.java:77)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.MessageProcessor.processMessage(MessageProcessor.java:119)\n       art/runtime/runtime.cc:419]   at com.hcs.android.orc.service.message.MessageProcessor.work(MessageProcessor.java:95)\n       art/runtime/runtime.cc:419]   at com.hcs.util.OAThread.run(OAThread.java:45)\n       art/runtime/runtime.cc:419] \n       art/runtime/runtime.cc:419] \"Thread-8\" prio=5 tid=25 Native\n       art/runtime/runtime.cc:419]   | group=\"\" sCount=1 dsCount=0 obj=0x12fa7d30 self=0xde363700\n       art/runtime/runtime.cc:419]   | sysTid=11075 nice=0 cgrp=default sched=0/0 handle=0xc3d71920\n       art/runtime/runtime.cc:419]   | state=S schedstat=( 0 0 0 ) utm=4210 stm=328 core=0 HZ=100\n       art/runtime/runtime.cc:419]   | stack=0xc3c6f000-0xc3c71000 stackSize=1038KB\n       art/runtime/runtime.cc:419]   | held mutexes=\n       art/runtime/runtime.cc:419]   kernel: __switch_to+0x80/0x8c\n       art/runtime/runtime.cc:419]   kernel: futex_wait_queue_me+0xe0/0x144\n       art/runtime/runtime.cc:419]   kernel: futex_wait+0xe8/0x1d8\n       art/runtime/runtime.cc:419]   kernel: do_futex+0xc8/0x860\n       art/runtime/runtime.cc:419]   kernel: compat_SyS_futex+0xc8/0x144\n       art/runtime/runtime.cc:419]   kernel: __sys_trace+0x48/0x4c\n       art/runtime/runtime.cc:419]   native: #00 pc 00017530  /system/lib/libc.so (syscall+28)\n       art/runtime/runtime.cc:419]   native: #01 pc 00076bbf  /system/lib/libmedia.so (_ZN7android11ClientProxy12obtainBufferEPNS_5Proxy6BufferEPK8timespecPS4_+554)\n       art/runtime/runtime.cc:419]   native: #02 pc 000870d7  /system/lib/libmedia.so (_ZN7android11AudioRecord12obtainBufferEPNS0_6BufferEPK8timespecPS3_Pj+202)\n       art/runtime/runtime.cc:419]   native: #03 pc 0008728b  /system/lib/libmedia.so (_ZN7android11AudioRecord4readEPvjb+150)\n       art/runtime/runtime.cc:419]   native: #04 pc 000b08df  /system/lib/libandroid_runtime.so (???)\n       art/runtime/runtime.cc:419]   native: #05 pc 004cf95f  /system/framework/arm/boot-framework.oat (Java_android_media_AudioRecord_native_1read_1in_1short_1array___3SIIZ+122)\n       art/runtime/runtime.cc:419]   at android.media.AudioRecord.native_read_in_short_array(Native method)\n       art/runtime/runtime.cc:419]   at android.media.AudioRecord.read(AudioRecord.java:1243)\n       art/runtime/runtime.cc:419]   at android.media.AudioRecord.read(AudioRecord.java:1197)\n       art/runtime/runtime.cc:419]   at edu.cmu.pocketsphinx.SpeechRecognizer$RecognizerThread.run(SpeechRecognizer.java:344)\n       art/runtime/runtime.cc:419]\n\nA/libc: Fatal signal 6 (SIGABRT), code -6 in tid 10759 (android.orpanel)\n</code></pre>\n\n<p>Note: Removed some threads that were just waiting to get under the 30,000 char limit on StackOverFlow.</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>My question is <strong>not</strong> looking for work around (we can implement our own bounds checking, but do not do so because profiling several years ago showed that we needed to improve this code and this was a way to do it).</p>\n\n<p>Instead, I'm looking for an explanation of how my code might be causing this problem (i.e. it is really my bug) or if it is a known Android bug.</p>\n"},{"tags":["java","sql","arrays","oracle","blob"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680188446,"creation_date":1680188093,"answer_id":75889798,"question_id":75888744,"body_markdown":"To read from a BLOB, use the `getBinaryStream()` method of an oracle.sql.BLOB object to retrieve the entire BLOB as an input stream. This returns a `java.io.InputStream` object.\r\nAs with any `InputStream` object, use one of the overloaded `read()` methods to read the LOB data, and use the `close()` method when you finish. (Or from Java 9 use `readAllBytes()`)\r\n\r\nIn your case the following should work:\r\n\r\n    byte[] blobAsByte = blob.getBinaryStream().readAllBytes();","title":"Blob Object returns prefetchdata instead of bytecode via blob.getBytes()","body":"<p>To read from a BLOB, use the <code>getBinaryStream()</code> method of an oracle.sql.BLOB object to retrieve the entire BLOB as an input stream. This returns a <code>java.io.InputStream</code> object.\nAs with any <code>InputStream</code> object, use one of the overloaded <code>read()</code> methods to read the LOB data, and use the <code>close()</code> method when you finish. (Or from Java 9 use <code>readAllBytes()</code>)</p>\n<p>In your case the following should work:</p>\n<pre><code>byte[] blobAsByte = blob.getBinaryStream().readAllBytes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680210701,"creation_date":1680210701,"answer_id":75893037,"question_id":75888744,"body_markdown":"You can disable the prefetching of BLOB data entirely with\r\n\r\n    oracle.jdbc.defaultLobPrefetchSize=-1\r\n\r\nor set it to the desired size in bytes, example for 4k\r\n\r\n    oracle.jdbc.defaultLobPrefetchSize=4000","title":"Blob Object returns prefetchdata instead of bytecode via blob.getBytes()","body":"<p>You can disable the prefetching of BLOB data entirely with</p>\n<pre><code>oracle.jdbc.defaultLobPrefetchSize=-1\n</code></pre>\n<p>or set it to the desired size in bytes, example for 4k</p>\n<pre><code>oracle.jdbc.defaultLobPrefetchSize=4000\n</code></pre>\n"}],"owner":{"account_id":12824218,"reputation":87,"user_id":9277946,"display_name":"herrenkuchen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680210701,"creation_date":1680182130,"question_id":75888744,"body_markdown":"I am retrieving a BLOB from an Oracle (SQL) DB within a batch tasklet.\r\nTo get the underlying File as Byte[] I was using something like this:\r\n\r\n    byte[] blobAsByte = blob.getBytes(1l, (int) blob.length());\r\n\r\nAnd passing this, with the appropriate mime-type into a datasource.\r\n\r\nThe problem is, the returned length as well as the returned bytes represent the content of the &quot;prefetchdata&quot;, not the actual data is what i found, while debugging and looking at what the blob object contains.\r\n\r\nCan you tell me, how I can retrieve the actual data?\r\n\r\nAnd does this structure represent a proper blob object in java:\r\n\r\n    Name: blob\r\n    Value: $Proxy377\r\n    \tName: h\r\n    \tValue: SerializableBlobProxy\r\n    \t\tName: blob\r\n    \t\tDelegate: DelegatingBlob\r\n    \t\t\tName: delegate\r\n    \t\t\tValue: BLOB\r\n    \t\t\t\tName: OjiOracleBlob\r\n    \t\t\t\t\tName: data\r\n    \t\t\t\t\tValue:[0]...[113]\r\n                        Name: prefetchData\r\n                    \tValue:[0]...[5]\r\n\r\n","title":"Blob Object returns prefetchdata instead of bytecode via blob.getBytes()","body":"<p>I am retrieving a BLOB from an Oracle (SQL) DB within a batch tasklet.\nTo get the underlying File as Byte[] I was using something like this:</p>\n<pre><code>byte[] blobAsByte = blob.getBytes(1l, (int) blob.length());\n</code></pre>\n<p>And passing this, with the appropriate mime-type into a datasource.</p>\n<p>The problem is, the returned length as well as the returned bytes represent the content of the &quot;prefetchdata&quot;, not the actual data is what i found, while debugging and looking at what the blob object contains.</p>\n<p>Can you tell me, how I can retrieve the actual data?</p>\n<p>And does this structure represent a proper blob object in java:</p>\n<pre><code>Name: blob\nValue: $Proxy377\n    Name: h\n    Value: SerializableBlobProxy\n        Name: blob\n        Delegate: DelegatingBlob\n            Name: delegate\n            Value: BLOB\n                Name: OjiOracleBlob\n                    Name: data\n                    Value:[0]...[113]\n                    Name: prefetchData\n                    Value:[0]...[5]\n</code></pre>\n"},{"tags":["java","primes"],"answers":[{"tags":[],"owner":{"account_id":4463542,"reputation":2889,"user_id":3631743,"accept_rate":81,"display_name":"BSeitkazin"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1424231399,"creation_date":1424230681,"answer_id":28575532,"question_id":28575416,"body_markdown":"       \r\n    package stack;\r\n\r\n    import java.util.Scanner; //To read data from console\r\n\r\n    /**\r\n    *\r\n    * @author base\r\n    */\r\n    public class Stack {\r\n\r\n        /**\r\n        * @param args the command line arguments\r\n        */\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in); // with Scanner we can read data\r\n            int a = in.nextInt(); //first variable\r\n            int b = in.nextInt(); //second variable\r\n            int max; // to store maximum value from a or b\r\n            //Let&#39;s find maximum value\r\n            if (a &gt;= b) {\r\n                max = a;\r\n            } else {\r\n                max = b;\r\n            }\r\n            int count = 0; // We count divisible number\r\n            for (int i=2; i&lt;=max; i++) { // we start from 2, because we can&#39;t divide on 0, and every number divisible on 1\r\n                if (a % i == 0 &amp;&amp; b % i==0) {\r\n                    count++; //count them\r\n                }\r\n            }\r\n            if (count == 0) { // if there is no divisible numbers\r\n                System.out.println(&quot;Prime&quot;); // that&#39;s our solutions\r\n            } else {\r\n                System.out.println(&quot;Not Prime&quot;); //otherwise\r\n            }\r\n        }\r\n    }\r\nI think that, this is the simple solution. Ask questions in comments.\r\n","title":"How to find out if two numbers are relatively prime?","body":"<pre><code>package stack;\n\nimport java.util.Scanner; //To read data from console\n\n/**\n*\n* @author base\n*/\npublic class Stack {\n\n    /**\n    * @param args the command line arguments\n    */\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in); // with Scanner we can read data\n        int a = in.nextInt(); //first variable\n        int b = in.nextInt(); //second variable\n        int max; // to store maximum value from a or b\n        //Let's find maximum value\n        if (a &gt;= b) {\n            max = a;\n        } else {\n            max = b;\n        }\n        int count = 0; // We count divisible number\n        for (int i=2; i&lt;=max; i++) { // we start from 2, because we can't divide on 0, and every number divisible on 1\n            if (a % i == 0 &amp;&amp; b % i==0) {\n                count++; //count them\n            }\n        }\n        if (count == 0) { // if there is no divisible numbers\n            System.out.println(\"Prime\"); // that's our solutions\n        } else {\n            System.out.println(\"Not Prime\"); //otherwise\n        }\n    }\n}\n</code></pre>\n\n<p>I think that, this is the simple solution. Ask questions in comments.</p>\n"},{"tags":[],"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1680210321,"creation_date":1424230821,"answer_id":28575558,"question_id":28575416,"body_markdown":"Well in case they are relatively prime, the greatest common divider is one, because - if otherwise - both numbers could be devided by that number. So we only need an algorithm to calculate the greatest common divider, for instance [*Euclid&#39;s method*](http://en.wikipedia.org/wiki/Euclidean_algorithm):\r\n\r\n    private static int gcd(int a, int b) {\r\n        int t;\r\n        if(b &lt; a) {\r\n            t = b;\r\n            b = a;\r\n            a = t;\r\n        }\r\n        while(b != 0){\r\n            t = a;\r\n            a = b;\r\n            b = t%b;\r\n        }\r\n        return a;\r\n    }\r\n\r\nAnd then:\r\n\r\n    private static boolean relativelyPrime(int a, int b) {\r\n        return gcd(a,b) == 1;\r\n    }\r\n\r\n*Euclid&#39;s algorithm* works in *O(log n)* which thus is way faster than enumerating over all potential divisors which can be optimized to *O(sqrt n)*.","title":"How to find out if two numbers are relatively prime?","body":"<p>Well in case they are relatively prime, the greatest common divider is one, because - if otherwise - both numbers could be devided by that number. So we only need an algorithm to calculate the greatest common divider, for instance <a href=\"http://en.wikipedia.org/wiki/Euclidean_algorithm\" rel=\"nofollow noreferrer\"><em>Euclid's method</em></a>:</p>\n<pre><code>private static int gcd(int a, int b) {\n    int t;\n    if(b &lt; a) {\n        t = b;\n        b = a;\n        a = t;\n    }\n    while(b != 0){\n        t = a;\n        a = b;\n        b = t%b;\n    }\n    return a;\n}\n</code></pre>\n<p>And then:</p>\n<pre><code>private static boolean relativelyPrime(int a, int b) {\n    return gcd(a,b) == 1;\n}\n</code></pre>\n<p><em>Euclid's algorithm</em> works in <em>O(log n)</em> which thus is way faster than enumerating over all potential divisors which can be optimized to <em>O(sqrt n)</em>.</p>\n"},{"tags":[],"owner":{"account_id":9454480,"reputation":1723,"user_id":7030209,"display_name":"Celil Bozkurt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512828872,"creation_date":1512828872,"answer_id":47729454,"question_id":28575416,"body_markdown":"**Swift 4** code for @williem-van-onsem answer;\r\n\r\n    func gcd(a: Int, b: Int) -&gt; Int {\r\n        var b = b\r\n        var a = a\r\n        var t: Int!\r\n        \r\n        while(b != 0){\r\n            t = a;\r\n            a = b;\r\n            b = t%b;\r\n        }\r\n        return a\r\n    }\r\n    \r\n    func relativelyPrime(a : Int, b: Int) -&gt; Bool{\r\n        return gcd(a: a, b: b) == 1\r\n    }\r\n\r\n\r\nUsage;\r\n\r\n    print(relativelyPrime(a: 2, b: 4)) // false","title":"How to find out if two numbers are relatively prime?","body":"<p><strong>Swift 4</strong> code for @williem-van-onsem answer;</p>\n\n<pre><code>func gcd(a: Int, b: Int) -&gt; Int {\n    var b = b\n    var a = a\n    var t: Int!\n\n    while(b != 0){\n        t = a;\n        a = b;\n        b = t%b;\n    }\n    return a\n}\n\nfunc relativelyPrime(a : Int, b: Int) -&gt; Bool{\n    return gcd(a: a, b: b) == 1\n}\n</code></pre>\n\n<p>Usage;</p>\n\n<pre><code>print(relativelyPrime(a: 2, b: 4)) // false\n</code></pre>\n"}],"owner":{"account_id":5221741,"reputation":137,"user_id":4174978,"accept_rate":75,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31979,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":28575558,"answer_count":3,"score":13,"last_activity_date":1680210321,"creation_date":1424229768,"question_id":28575416,"body_markdown":"I&#39;m trying to write a method that will calculate if two numbers are relatively prime for an assignment. I&#39;m primarily looking for answers on where to start. I know there is a method `gcd()` that will do a lot of it for me, but the assignment is pretty much making me do it without gcd or arrays.\r\n\r\nI kind of have it started, because I know that I will have to use the `%` operator in a for loop.\r\n\r\n    public static boolean relativeNumber(int input4, int input5){\r\n\t\tfor(int i = 1; i &lt;= input4; i++)\r\n\t\t\t\r\nObviously this method is only going to return `true` or `false` because the `main` function is only going to print a specific line depending on if the two numbers are relatively prime or not.\r\n\r\nI&#39;m thinking I will probably have to write two `for` loops, both for `input4`, and `input5`, and possibly some kind of `if` statement with a logical `&amp;&amp;` operand, but I&#39;m not sure.","title":"How to find out if two numbers are relatively prime?","body":"<p>I'm trying to write a method that will calculate if two numbers are relatively prime for an assignment. I'm primarily looking for answers on where to start. I know there is a method <code>gcd()</code> that will do a lot of it for me, but the assignment is pretty much making me do it without gcd or arrays.</p>\n\n<p>I kind of have it started, because I know that I will have to use the <code>%</code> operator in a for loop.</p>\n\n<pre><code>public static boolean relativeNumber(int input4, int input5){\n    for(int i = 1; i &lt;= input4; i++)\n</code></pre>\n\n<p>Obviously this method is only going to return <code>true</code> or <code>false</code> because the <code>main</code> function is only going to print a specific line depending on if the two numbers are relatively prime or not.</p>\n\n<p>I'm thinking I will probably have to write two <code>for</code> loops, both for <code>input4</code>, and <code>input5</code>, and possibly some kind of <code>if</code> statement with a logical <code>&amp;&amp;</code> operand, but I'm not sure.</p>\n"},{"tags":["java","jpa","eclipselink","jpql"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680210649,"post_id":75892890,"comment_id":133864461,"body_markdown":"(select.......) as vam1    (select......) as vam2        Perhaps?","body":"(select.......) as vam1    (select......) as vam2        Perhaps?"}],"owner":{"account_id":26956514,"reputation":1,"user_id":20524780,"display_name":"Alx0793"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680209458,"creation_date":1680209458,"question_id":75892890,"body_markdown":"I&#39;m trying to generate the next query with JPQL but the SQL generated doesn&#39;t work\r\n\r\n```\r\nSELECT NEW AccountingReconciliationBalance(da, \r\n(SELECT sum(v1.amountPaid) FROM Voucher v1 WHERE v1.reinsurer = da.reinsurer and v1.currency = da.dashboardAggregatePK.currency and v1.year = da.dashboardAggregatePK.year and v1.trimester = da.trimester and v1.contract = da.contract and v1.rol.dbid = :adminRol), \r\n(SELECT sum(v2.amountPaid) FROM Voucher v2 WHERE v2.reinsurer = da.reinsurer and v2.currency = da.dashboardAggregatePK.currency and v2.year = da.dashboardAggregatePK.year and v2.trimester = da.trimester and v2.contract = da.contract and v2.rol.dbid = :reinsurerRol)) arb \r\nFROM DashboardAggregate da WHERE da.rol.dbid = :adminRol and da.dashboardAggregatePK.year = :year\r\n```\r\n\r\nThe sql generated:\r\n\r\n\r\n```\r\nSELECT t0.change_by, t0.change_date, t0.COMMISION, t0.created_by, t0.creation_date, t0.OTHER, t0.PRIME, t0.PUBLISHED, t0.SALVAGE, t0.SINISTER, t0.TAX, t0.version, t0.YEAR, t0.CONTRACT, t0.CURRENCY, t0.REINSURER, t0.trimester, t0.ROL, (SELECT SUM(t1.amount_paid) FROM value_list t4, value_list t3, reinsurer t2, voucher t1 WHERE (((((((t1.reinsurer = t2.dbid) AND (t1.currency = t0.CURRENCY)) AND (t1.year = t0.YEAR)) AND (t1.trimester = t3.dbid)) AND (t1.contract = t4.dbid)) AND (t1.rol = ?)) AND (((t2.dbid = t0.REINSURER) AND (t3.dbid = t0.trimester)) AND (t4.dbid = t0.CONTRACT)))), (SELECT SUM(t5.amount_paid) FROM voucher t5 WHERE ((((((t5.reinsurer = t2.dbid) AND (t5.currency = t0.CURRENCY)) AND (t5.year = t0.YEAR)) AND (t5.trimester = t3.dbid)) AND (t5.contract = t4.dbid)) AND (t5.rol = ?))) FROM dashboard_aggregate t0 WHERE ((t0.ROL = ?) AND (t0.YEAR = ?))\r\n```\r\n\r\n\r\nIt seems because the way JPA trying to &quot;reuse&quot; the elements in the query. Both subqueries are the same with the only difference of the rol, both use the dashboard&#39;s colums table to make the sum, but the first use it and the second try to use tables from the first subquery.\r\n\r\n\r\n\r\nHow can I avoid this behaivor in the JPQL?","title":"JPQL generates subqueries in select statement incorrectly","body":"<p>I'm trying to generate the next query with JPQL but the SQL generated doesn't work</p>\n<pre><code>SELECT NEW AccountingReconciliationBalance(da, \n(SELECT sum(v1.amountPaid) FROM Voucher v1 WHERE v1.reinsurer = da.reinsurer and v1.currency = da.dashboardAggregatePK.currency and v1.year = da.dashboardAggregatePK.year and v1.trimester = da.trimester and v1.contract = da.contract and v1.rol.dbid = :adminRol), \n(SELECT sum(v2.amountPaid) FROM Voucher v2 WHERE v2.reinsurer = da.reinsurer and v2.currency = da.dashboardAggregatePK.currency and v2.year = da.dashboardAggregatePK.year and v2.trimester = da.trimester and v2.contract = da.contract and v2.rol.dbid = :reinsurerRol)) arb \nFROM DashboardAggregate da WHERE da.rol.dbid = :adminRol and da.dashboardAggregatePK.year = :year\n</code></pre>\n<p>The sql generated:</p>\n<pre><code>SELECT t0.change_by, t0.change_date, t0.COMMISION, t0.created_by, t0.creation_date, t0.OTHER, t0.PRIME, t0.PUBLISHED, t0.SALVAGE, t0.SINISTER, t0.TAX, t0.version, t0.YEAR, t0.CONTRACT, t0.CURRENCY, t0.REINSURER, t0.trimester, t0.ROL, (SELECT SUM(t1.amount_paid) FROM value_list t4, value_list t3, reinsurer t2, voucher t1 WHERE (((((((t1.reinsurer = t2.dbid) AND (t1.currency = t0.CURRENCY)) AND (t1.year = t0.YEAR)) AND (t1.trimester = t3.dbid)) AND (t1.contract = t4.dbid)) AND (t1.rol = ?)) AND (((t2.dbid = t0.REINSURER) AND (t3.dbid = t0.trimester)) AND (t4.dbid = t0.CONTRACT)))), (SELECT SUM(t5.amount_paid) FROM voucher t5 WHERE ((((((t5.reinsurer = t2.dbid) AND (t5.currency = t0.CURRENCY)) AND (t5.year = t0.YEAR)) AND (t5.trimester = t3.dbid)) AND (t5.contract = t4.dbid)) AND (t5.rol = ?))) FROM dashboard_aggregate t0 WHERE ((t0.ROL = ?) AND (t0.YEAR = ?))\n</code></pre>\n<p>It seems because the way JPA trying to &quot;reuse&quot; the elements in the query. Both subqueries are the same with the only difference of the rol, both use the dashboard's colums table to make the sum, but the first use it and the second try to use tables from the first subquery.</p>\n<p>How can I avoid this behaivor in the JPQL?</p>\n"},{"tags":["java","file","ibm-midrange","cobol","rpgle"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1680204470,"post_id":75892060,"comment_id":133863073,"body_markdown":"X&#39;40&#39; is the EBCDIC space character, which converts to an ASCII space (x&#39;20&#39;).  X&#39;41&#39; is undefined in EBCDIC, but the original COBOL coders (I&#39;m guessing) used the character to represent a horizontal space.  In other words, drop to the next line on a terminal.  I have no idea what your ASCII to EBCDIC converter does with an x&#39;41&#39;.","body":"X&#39;40&#39; is the EBCDIC space character, which converts to an ASCII space (x&#39;20&#39;).  X&#39;41&#39; is undefined in EBCDIC, but the original COBOL coders (I&#39;m guessing) used the character to represent a horizontal space.  In other words, drop to the next line on a terminal.  I have no idea what your ASCII to EBCDIC converter does with an x&#39;41&#39;."},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680204591,"post_id":75892060,"comment_id":133863107,"body_markdown":"Thank you! But then what should I do? Because I can&#39;t seem to find the EBCDIC and ASCII side by side!\nAlso I was trying to have those xA0 when I open as a text file for that XLS file!","body":"Thank you! But then what should I do? Because I can&#39;t seem to find the EBCDIC and ASCII side by side! Also I was trying to have those xA0 when I open as a text file for that XLS file!"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1680204921,"post_id":75892060,"comment_id":133863180,"body_markdown":"I used [Decimal - HEXadecimal - EBCDIC - ASCII - Bit Conversion Tables](https://www.ibm.com/support/pages/decimal-hexadecimal-ebcdic-ascii-bit-conversion-tables).  But you have to be careful.  This table shows what happens if there is no conversion at all.  Every EBCDIC to ASCII conversion program will have its own list.  One obvious example is A (x&#39;C1&#39;) to A (x&#39;41&#39;), which might be what you&#39;re seeing if the x&#39;41&#39; comes across as unconverted.","body":"I used <a href=\"https://www.ibm.com/support/pages/decimal-hexadecimal-ebcdic-ascii-bit-conversion-tables\" rel=\"nofollow noreferrer\">Decimal - HEXadecimal - EBCDIC - ASCII - Bit Conversion Tables</a>.  But you have to be careful.  This table shows what happens if there is no conversion at all.  Every EBCDIC to ASCII conversion program will have its own list.  One obvious example is A (x&#39;C1&#39;) to A (x&#39;41&#39;), which might be what you&#39;re seeing if the x&#39;41&#39; comes across as unconverted."},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680204957,"post_id":75892060,"comment_id":133863187,"body_markdown":"Ok so I tried a white space already but then when I open the XLS file as a text file. The character xA0 doesn&#39;t show up like the file that is generated by the IBM I(AS400)","body":"Ok so I tried a white space already but then when I open the XLS file as a text file. The character xA0 doesn&#39;t show up like the file that is generated by the IBM I(AS400)"},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680205056,"post_id":75892060,"comment_id":133863212,"body_markdown":"This is exactly what I&#39;m scared. I also aware that there is some characters that is not converted, but I&#39;m just really trying! :(","body":"This is exactly what I&#39;m scared. I also aware that there is some characters that is not converted, but I&#39;m just really trying! :("},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1680205452,"post_id":75892060,"comment_id":133863299,"body_markdown":"ASCII x&#39;A0&quot; is an undefined ASCII character.  You can try doing a `replaceAll` on x&#39;A0&#39; and see what happens.  Try the null `String` &quot;&quot; and a space `String` &quot; &quot; separately and see if either works.","body":"ASCII x&#39;A0&quot; is an undefined ASCII character.  You can try doing a <code>replaceAll</code> on x&#39;A0&#39; and see what happens.  Try the null <code>String</code> &quot;&quot; and a space <code>String</code> &quot; &quot; separately and see if either works."},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680205564,"post_id":75892060,"comment_id":133863321,"body_markdown":"Sorry, I don&#39;t really understand so I will change. Ex: \ndata.add(new Object[]{&quot;AS1&quot;, &quot;185914&quot;, &quot;NETHERLANDS&quot;,\n\nThen \nwriter.write(&quot;\\&quot;&quot; + &quot; &quot; +row[i].toString() + &quot;\\&quot;&quot;);\n\nIs that what you are trying to say?","body":"Sorry, I don&#39;t really understand so I will change. Ex:  data.add(new Object[]{&quot;AS1&quot;, &quot;185914&quot;, &quot;NETHERLANDS&quot;,  Then  writer.write(&quot;\\&quot;&quot; + &quot; &quot; +row[i].toString() + &quot;\\&quot;&quot;);  Is that what you are trying to say?"},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1680206494,"post_id":75892060,"comment_id":133863540,"body_markdown":"Try opening file with charset `windows-1252`, because the file in Google docs is not encoded with utf-8, and replacing \\&quot; with \\u00a0.","body":"Try opening file with charset <code>windows-1252</code>, because the file in Google docs is not encoded with utf-8, and replacing \\&quot; with \\u00a0."},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680206663,"post_id":75892060,"comment_id":133863577,"body_markdown":"You may misunderstand because \\&quot; is to represent the double quote in text file in java. Ex: &quot;Hello&quot; \nI just realize that the google docs automatically stripped away my double quotation! Sorry because I don&#39;t have a way to send it for you guys. But if someone has recommendation. I would follow!","body":"You may misunderstand because \\&quot; is to represent the double quote in text file in java. Ex: &quot;Hello&quot;  I just realize that the google docs automatically stripped away my double quotation! Sorry because I don&#39;t have a way to send it for you guys. But if someone has recommendation. I would follow!"},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1680206997,"post_id":75892060,"comment_id":133863661,"body_markdown":"OK so place \\u00A0 where you want to see XAO when notepad++ show the file as utf-8, but user windows-1252 charset","body":"OK so place \\u00A0 where you want to see XAO when notepad++ show the file as utf-8, but user windows-1252 charset"},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680207140,"post_id":75892060,"comment_id":133863690,"body_markdown":"I was trying to let you guys notice that hidden characters. Because in windows, all you see is a white space. However, when you open it in notepad++ and encode it as utf8. You can see the xA0 clearly as a hidden character. Sorry for the confusion!\n\nAs long as when I open the .xls file I see a white space, and that white space is xA0 in notepad++ encoding utf8. It is what I&#39;m trying to do!","body":"I was trying to let you guys notice that hidden characters. Because in windows, all you see is a white space. However, when you open it in notepad++ and encode it as utf8. You can see the xA0 clearly as a hidden character. Sorry for the confusion!  As long as when I open the .xls file I see a white space, and that white space is xA0 in notepad++ encoding utf8. It is what I&#39;m trying to do!"},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1680207384,"post_id":75892060,"comment_id":133863737,"body_markdown":"And that&#39;s what you want to see with the file you write, isn&#39;t it ?","body":"And that&#39;s what you want to see with the file you write, isn&#39;t it ?"},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680207418,"post_id":75892060,"comment_id":133863745,"body_markdown":"By the way, @GilbertLeBlanc I tried to add one of the content from &quot;AS1&quot; to &quot; AS1&quot;. It never adds the xA0 for me like the file generated by the IBM i","body":"By the way, @GilbertLeBlanc I tried to add one of the content from &quot;AS1&quot; to &quot; AS1&quot;. It never adds the xA0 for me like the file generated by the IBM i"},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680207455,"post_id":75892060,"comment_id":133863757,"body_markdown":"@nfgl yes sir yes sir","body":"@nfgl yes sir yes sir"},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1680207601,"post_id":75892060,"comment_id":133863793,"body_markdown":"So just try `new FileWriter(&quot;output.XLS&quot;, &quot;windows-1252&quot;);` and write a line with \\u00a0, I think you will have what you want","body":"So just try <code>new FileWriter(&quot;output.XLS&quot;, &quot;windows-1252&quot;);</code> and write a line with \\u00a0, I think you will have what you want"},{"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"score":0,"creation_date":1680208196,"post_id":75892060,"comment_id":133863946,"body_markdown":"@nfgl oh wao!!!! I just tried it! It now is shows up on the file. Thank you so much!\nBut can you explain to me about when I put &quot;windows-1252&quot; in, then I can see it, please?","body":"@nfgl oh wao!!!! I just tried it! It now is shows up on the file. Thank you so much! But can you explain to me about when I put &quot;windows-1252&quot; in, then I can see it, please?"},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1680208723,"post_id":75892060,"comment_id":133864067,"body_markdown":"just added and answer with a short explanation","body":"just added and answer with a short explanation"}],"answers":[{"tags":[],"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680209240,"creation_date":1680208683,"answer_id":75892807,"question_id":75892060,"body_markdown":"The file produce by AS400 is encoded (probably) with windows 1252 charset, notepad++ names it ansi. When you display it as utf8 you see XA0 because the way it is encode is illegal in utf-8.\r\n\r\nSo to produce a similar file you have to write it with charset 1252 too and use \\u00A0 in your java strings, so that when writen java nio translates it from \\u00a0 to \\xa0\r\n\r\n```\r\nFileWriter writer = new FileWriter(&quot;output.XLS&quot;, Charset.forName(&quot;windows-1252&quot;));\r\nwriter.write(&quot;\\u00a0&quot;);\r\n```","title":"Create Java file with special hidden (non-printable and invisible?) characters of IBM I series (AS400) problem","body":"<p>The file produce by AS400 is encoded (probably) with windows 1252 charset, notepad++ names it ansi. When you display it as utf8 you see XA0 because the way it is encode is illegal in utf-8.</p>\n<p>So to produce a similar file you have to write it with charset 1252 too and use \\u00A0 in your java strings, so that when writen java nio translates it from \\u00a0 to \\xa0</p>\n<pre><code>FileWriter writer = new FileWriter(&quot;output.XLS&quot;, Charset.forName(&quot;windows-1252&quot;));\nwriter.write(&quot;\\u00a0&quot;);\n</code></pre>\n"}],"owner":{"account_id":16843998,"reputation":55,"user_id":12178675,"display_name":"EthanP"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75892807,"answer_count":1,"score":2,"last_activity_date":1680209240,"creation_date":1680203071,"question_id":75892060,"body_markdown":"I&#39;m trying to create an &quot;XLS&quot; file, but it will be available as txt file. (It means when you right click and select open with in windows and choose notepad it will show as tab separated file)\r\n\r\nThis is the sample file that I&#39;m trying to create (I have to remove some entry because it is big). When you turn it into UTF-8 in notepad++, you will see &quot;hidden characters&quot;\r\nhttps://docs.google.com/spreadsheets/d/1q_AkGaQK8Glc6OzmVl4gRmItO4Ojnq7G/edit?usp=sharing&amp;ouid=113904619378239546124&amp;rtpof=true&amp;sd=true\r\n\r\nWhen you download this file and open it in notepad++. Choose the encoding as UTF-8. You will able to see those hidden characters:\r\n[![Sample file][1]][1]\r\n\r\n\r\nThis is what it looks like if you open it with excel:\r\n[![enter image description here][2]][2]\r\nAs you can see at the beginning of the content you will see those xA0 as the hidden characters. \r\nNow I know that AS400 use EBCDIC characters code.\r\n\r\nThis is the code that they put in the cobol program:\r\n\r\n    HSPACE PIC X VALUE X&#39;41&#39;\r\n\r\nWhat are the equivalent of that hidden characters in Java?\r\n\r\nI have create a test program below:\r\n\r\n     List&lt;Object[]&gt; data = new ArrayList&lt;&gt;();\r\n    \t        data.add(new Object[]{&quot;\\u0020 AS1&quot;, &quot;185914&quot;, &quot;\\u0020 NETHERLANDS&quot;, &quot;NL&quot;, &quot;A0&quot;, &quot;\\u00202023714&quot;, &quot;\\u00A02023714&quot;, &quot;27-AUG-2022&quot;, &quot;03-FEB-2023&quot;, &quot;\\u00A0&quot;, &quot;\\u00A04&quot;, &quot;00000000&quot;, &quot;\\u00A0IF-ADAMAS&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0PTF166091NL00&quot;, &quot;\\u00A0P166091NL00&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0IF ADAMAS B V&quot;});\r\n    \t        data.add(new Object[]{&quot;\\u0020 AS1&quot;, &quot;\\u0020200893&quot;, &quot;\\u0020 GERMANY&quot;, &quot;DE&quot;, &quot;\\u00A0&quot;, &quot;\\u00A013801864.3&quot;, &quot;\\u00A02915188&quot;, &quot;05-NOV-2022&quot;, &quot;22-FEB-2023&quot;, &quot;\\u00A0R80049&quot;, &quot;\\u00A010&quot;, &quot;00000434&quot;, &quot;\\u00A0MICRONIT M&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0PTF124241DEEP&quot;, &quot;\\u00A0P118354DEEP&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0MICRONIT MICROFLUIDICS B.V.&quot;});\r\n    \r\n    \t        FileWriter writer = new FileWriter(&quot;output.XLS&quot;, StandardCharsets.UTF_8);\r\n    \t        \r\n    \t        writer.write(&quot;\\&quot;Client\\&quot;\\t\\&quot;Case Number\\&quot;\\t\\&quot;Country\\&quot;\\t\\&quot;WIPO\\&quot;\\t\\&quot;Subcase\\&quot;\\t\\&quot;Application Number\\&quot;\\t\\&quot;Patent Number\\&quot;\\t\\&quot;Due Date\\&quot;\\t\\&quot;Paid Date\\&quot;\\t\\&quot;Invoice Number\\&quot;\\t\\&quot;Annuity Number\\&quot;\\t\\&quot;Invoice Amount\\&quot;\\t\\&quot;Client/Division\\&quot;\\t\\&quot;Client Ref(Inv)\\&quot;\\t\\&quot;Client Ref#1(Ctry)\\&quot;\\t\\&quot;Client Ref#2(Ctry)\\&quot;\\t\\&quot;Attorney(Inv)\\&quot;\\t\\&quot;Attorney(Ctry)\\&quot;\\t\\&quot;Remarks\\&quot;\\t\\&quot;Local Title\\&quot;\\t\\&quot;Title Holder\\&quot;\\n&quot;);\r\n    \r\n    \t        for (Object[] row : data) {\r\n    \t            for (int i = 0; i &lt; row.length; i++) {\r\n    \t                writer.write(&quot;\\&quot;&quot; + row[i].toString() + &quot;\\&quot;&quot;);\r\n    \t                if (i &lt; row.length - 1) {\r\n    \t                    writer.write(&quot;\\t&quot;);\r\n    \t                }\r\n    \t            }\r\n    \t            writer.write(&quot;\\n&quot;);\r\n    \t        }\r\n    \r\n    \t        writer.close();\r\n    \t        System.out.println(&quot;Done&quot;);\r\nHowever, the file when I open in notepad++ with encoding UTF-8, I see nothing\r\n[![enter image description here][3]][3]\r\n\r\n\r\nAlthough you will see there is white space like in that text file. However, if you open this file in my generated file in excel:\r\n[![enter image description here][4]][4]\r\nYou can see it has weird characters that I put in my code!\r\nHow can I create a text file in Java that output a &quot;XLS / TXT&quot; file like the IBM I series(AS400) cobol program? Can someone help me with this, please?\r\n\r\n  [1]: https://i.stack.imgur.com/kd8pz.png\r\n  [2]: https://i.stack.imgur.com/r1Tcv.png\r\n  [3]: https://i.stack.imgur.com/BB3d7.png\r\n  [4]: https://i.stack.imgur.com/1p9XF.png","title":"Create Java file with special hidden (non-printable and invisible?) characters of IBM I series (AS400) problem","body":"<p>I'm trying to create an &quot;XLS&quot; file, but it will be available as txt file. (It means when you right click and select open with in windows and choose notepad it will show as tab separated file)</p>\n<p>This is the sample file that I'm trying to create (I have to remove some entry because it is big). When you turn it into UTF-8 in notepad++, you will see &quot;hidden characters&quot;\n<a href=\"https://docs.google.com/spreadsheets/d/1q_AkGaQK8Glc6OzmVl4gRmItO4Ojnq7G/edit?usp=sharing&amp;ouid=113904619378239546124&amp;rtpof=true&amp;sd=true\" rel=\"nofollow noreferrer\">https://docs.google.com/spreadsheets/d/1q_AkGaQK8Glc6OzmVl4gRmItO4Ojnq7G/edit?usp=sharing&amp;ouid=113904619378239546124&amp;rtpof=true&amp;sd=true</a></p>\n<p>When you download this file and open it in notepad++. Choose the encoding as UTF-8. You will able to see those hidden characters:\n<a href=\"https://i.stack.imgur.com/kd8pz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kd8pz.png\" alt=\"Sample file\" /></a></p>\n<p>This is what it looks like if you open it with excel:\n<a href=\"https://i.stack.imgur.com/r1Tcv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1Tcv.png\" alt=\"enter image description here\" /></a>\nAs you can see at the beginning of the content you will see those xA0 as the hidden characters.\nNow I know that AS400 use EBCDIC characters code.</p>\n<p>This is the code that they put in the cobol program:</p>\n<pre><code>HSPACE PIC X VALUE X'41'\n</code></pre>\n<p>What are the equivalent of that hidden characters in Java?</p>\n<p>I have create a test program below:</p>\n<pre><code> List&lt;Object[]&gt; data = new ArrayList&lt;&gt;();\n            data.add(new Object[]{&quot;\\u0020 AS1&quot;, &quot;185914&quot;, &quot;\\u0020 NETHERLANDS&quot;, &quot;NL&quot;, &quot;A0&quot;, &quot;\\u00202023714&quot;, &quot;\\u00A02023714&quot;, &quot;27-AUG-2022&quot;, &quot;03-FEB-2023&quot;, &quot;\\u00A0&quot;, &quot;\\u00A04&quot;, &quot;00000000&quot;, &quot;\\u00A0IF-ADAMAS&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0PTF166091NL00&quot;, &quot;\\u00A0P166091NL00&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0IF ADAMAS B V&quot;});\n            data.add(new Object[]{&quot;\\u0020 AS1&quot;, &quot;\\u0020200893&quot;, &quot;\\u0020 GERMANY&quot;, &quot;DE&quot;, &quot;\\u00A0&quot;, &quot;\\u00A013801864.3&quot;, &quot;\\u00A02915188&quot;, &quot;05-NOV-2022&quot;, &quot;22-FEB-2023&quot;, &quot;\\u00A0R80049&quot;, &quot;\\u00A010&quot;, &quot;00000434&quot;, &quot;\\u00A0MICRONIT M&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0PTF124241DEEP&quot;, &quot;\\u00A0P118354DEEP&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0&quot;, &quot;\\u00A0MICRONIT MICROFLUIDICS B.V.&quot;});\n\n            FileWriter writer = new FileWriter(&quot;output.XLS&quot;, StandardCharsets.UTF_8);\n            \n            writer.write(&quot;\\&quot;Client\\&quot;\\t\\&quot;Case Number\\&quot;\\t\\&quot;Country\\&quot;\\t\\&quot;WIPO\\&quot;\\t\\&quot;Subcase\\&quot;\\t\\&quot;Application Number\\&quot;\\t\\&quot;Patent Number\\&quot;\\t\\&quot;Due Date\\&quot;\\t\\&quot;Paid Date\\&quot;\\t\\&quot;Invoice Number\\&quot;\\t\\&quot;Annuity Number\\&quot;\\t\\&quot;Invoice Amount\\&quot;\\t\\&quot;Client/Division\\&quot;\\t\\&quot;Client Ref(Inv)\\&quot;\\t\\&quot;Client Ref#1(Ctry)\\&quot;\\t\\&quot;Client Ref#2(Ctry)\\&quot;\\t\\&quot;Attorney(Inv)\\&quot;\\t\\&quot;Attorney(Ctry)\\&quot;\\t\\&quot;Remarks\\&quot;\\t\\&quot;Local Title\\&quot;\\t\\&quot;Title Holder\\&quot;\\n&quot;);\n\n            for (Object[] row : data) {\n                for (int i = 0; i &lt; row.length; i++) {\n                    writer.write(&quot;\\&quot;&quot; + row[i].toString() + &quot;\\&quot;&quot;);\n                    if (i &lt; row.length - 1) {\n                        writer.write(&quot;\\t&quot;);\n                    }\n                }\n                writer.write(&quot;\\n&quot;);\n            }\n\n            writer.close();\n            System.out.println(&quot;Done&quot;);\n</code></pre>\n<p>However, the file when I open in notepad++ with encoding UTF-8, I see nothing\n<a href=\"https://i.stack.imgur.com/BB3d7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BB3d7.png\" alt=\"enter image description here\" /></a></p>\n<p>Although you will see there is white space like in that text file. However, if you open this file in my generated file in excel:\n<a href=\"https://i.stack.imgur.com/1p9XF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1p9XF.png\" alt=\"enter image description here\" /></a>\nYou can see it has weird characters that I put in my code!\nHow can I create a text file in Java that output a &quot;XLS / TXT&quot; file like the IBM I series(AS400) cobol program? Can someone help me with this, please?</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680206009,"post_id":75892252,"comment_id":133863423,"body_markdown":"Asking for software recommendations is expressly off-topic for Stack Overflow. If you want help with your SQLite problem, quickly re-phrase this Question before it gets closed","body":"Asking for software recommendations is expressly off-topic for Stack Overflow. If you want help with your SQLite problem, quickly re-phrase this Question before it gets closed"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680206029,"post_id":75892252,"comment_id":133863433,"body_markdown":"For software recommendations, see sister site: https://softwarerecs.stackexchange.com/","body":"For software recommendations, see sister site: <a href=\"https://softwarerecs.stackexchange.com/\">softwarerecs.stackexchange.com</a>"}],"owner":{"account_id":7519898,"reputation":11,"user_id":5712179,"display_name":"Beginner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680209170,"creation_date":1680204519,"question_id":75892252,"body_markdown":"I am doing a small project/test, where I take a **large** text input and process it to create a text output.\r\nFor this purpose I started with using a local **SQLite db** and JDBC lib (since I am doing this in **Java**).\r\n\r\nThe problem is that *(for some reason)* the memory (RAM usage) keeps increasing as the input increases, however I need the program to work with a very limited HEAP.\r\n\r\nAlthough the program works for my test cases, it isn&#39;t working optimally, that is to say as intended.\r\n\r\n[![graph from Intellij Profiler](https://i.stack.imgur.com/uLlXL.png)](https://i.stack.imgur.com/uLlXL.png)\r\n[![Graph made from the data given by the profiler](https://i.stack.imgur.com/6ufWw.png)](https://i.stack.imgur.com/6ufWw.png)\r\n[![Usage by methods graph](https://i.stack.imgur.com/JDppZ.png)](https://i.stack.imgur.com/JDppZ.png)\r\n\r\nThe reason why the above graphs are bad is because my db is stored locally, and I only pull a selected amount of (100) db entries when I need them, so the HEAP nor it&#39;s usage should increase for whatever reason.\r\nI&#39;d also like to add threading later to increase the processing speed as when I switched from writing to RAM to writing to a local file, the execution speed plummeted from 14s to 10min.\r\nclasses:\r\nmain -&gt; https://pastebin.com/rh27xsqr\r\n```\r\nimport java.io.*;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n \r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(&quot;input.txt&quot;));\r\n             BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;output.txt&quot;));\r\n             Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite:temp.db&quot;)) {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            Table table = new Table(connection);\r\n            String line = reader.readLine();\r\n            while (line != null) {\r\n                String[] command = line.split(&quot;,&quot;);\r\n                switch (command[0]) {\r\n                    case &quot;u&quot;:\r\n                        int apples = Integer.parseInt(command[1]);\r\n                        int size = Integer.parseInt(command[2]);\r\n                        switch (command[3]) {\r\n                            case &quot;bid&quot;:\r\n                                table.setBids(apples, size);\r\n                                break;\r\n                            case &quot;ask&quot;:\r\n                                table.setAsks(apples, size);\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case &quot;q&quot;:\r\n                        String data = &quot;&quot;;\r\n                        switch (command[1]) {\r\n                            case &quot;best_bid&quot;:\r\n                                data = table.getBestbid();\r\n                                break;\r\n                            case &quot;best_ask&quot;:\r\n                                data = table.getBestask();\r\n                                break;\r\n                            case &quot;size&quot;:\r\n                                data = table.getDesiredSize(Integer.parseInt(command[2]));\r\n                                break;\r\n                        }\r\n \r\n                        if (!data.equals(&quot;&quot;)) {\r\n                            writer.append(data).append(&quot;\\n&quot;);\r\n                        }\r\n \r\n                        break;\r\n \r\n                    case &quot;o&quot;:\r\n                        int size2 = Integer.parseInt(command[2]);\r\n                        switch (command[1]) {\r\n                            case &quot;buy&quot;:\r\n                                table.buy(size2);\r\n                                break;\r\n                            case &quot;sell&quot;:\r\n                                table.sell(size2);\r\n                                break;\r\n                        }\r\n                        break;\r\n                    default:\r\n                        System.err.println(&quot;Error: unknown command - \\&quot;&quot; + command[0] + &quot;\\&quot;&quot;);\r\n                        break;\r\n                }\r\n                line = reader.readLine();\r\n            }\r\n        } catch (IOException | SQLException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nsmalldb -&gt; https://pastebin.com/PdkqgPZT\r\n\r\n```\r\nimport java.sql.*;\r\nimport java.util.Collections;\r\nimport java.util.Objects;\r\nimport java.util.TreeMap;\r\n \r\npublic class Smalldb {\r\n    private Connection connection;\r\n    private PreparedStatement preparedStatement;\r\n    private Statement statement;\r\n    private ResultSet resultSet;\r\n \r\n    public Smalldb(Connection connection) {\r\n        try {\r\n            this.connection = connection;\r\n            //create db\r\n            statement = connection.createStatement();\r\n            statement.execute(&quot;CREATE TABLE IF NOT EXISTS asks (id INTEGER PRIMARY KEY, apples INT, amount INT)&quot;);\r\n            statement.execute(&quot;CREATE TABLE IF NOT EXISTS bids (id INTEGER PRIMARY KEY, apples INT, amount INT)&quot;);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            throw new Error(&quot;Problem&quot;, e);\r\n        }\r\n    }\r\n    public void updateAsks(int apples, int amount) throws SQLException {\r\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM asks WHERE apples=?&quot;);\r\n        preparedStatement.setInt(1, apples);\r\n        resultSet = preparedStatement.executeQuery();\r\n        if (resultSet.next()) {\r\n            preparedStatement = this.connection.prepareStatement(&quot;UPDATE asks SET amount=? WHERE apples = ?&quot;);\r\n            preparedStatement.setInt(1, amount);\r\n            preparedStatement.setInt(2, apples);\r\n            preparedStatement.executeUpdate();\r\n        } else {\r\n            preparedStatement = this.connection.prepareStatement(&quot;INSERT INTO asks (apples, amount) VALUES (?, ?)&quot;);\r\n            preparedStatement.setInt(1, apples);\r\n            preparedStatement.setInt(2, amount);\r\n            preparedStatement.executeUpdate();\r\n        }\r\n        resultSet.close();\r\n        preparedStatement.close();\r\n    }\r\n \r\n    public void updateBids(int apples, int amount) throws SQLException {\r\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM bids WHERE apples=?&quot;);\r\n        preparedStatement.setInt(1, apples);\r\n        resultSet = preparedStatement.executeQuery();\r\n        if(resultSet.next()) {\r\n            preparedStatement = this.connection.prepareStatement(&quot;UPDATE bids SET amount=? WHERE apples = ?&quot;);\r\n            preparedStatement.setInt(1, amount);\r\n            preparedStatement.setInt(2, apples);\r\n            preparedStatement.executeUpdate();\r\n        } else {\r\n            preparedStatement = this.connection.prepareStatement(&quot;INSERT INTO bids (apples, amount) VALUES (?, ?)&quot;);\r\n            preparedStatement.setInt(1, apples);\r\n            preparedStatement.setInt(2, amount);\r\n            preparedStatement.executeUpdate();\r\n        }\r\n        resultSet.close();\r\n        preparedStatement.close();\r\n    }\r\n \r\n    public String getBestASK() throws SQLException {\r\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM asks WHERE apples=(SELECT MIN(apples) FROM asks WHERE amount != 0)&quot;);\r\n        resultSet = preparedStatement.executeQuery();\r\n        resultSet.next();\r\n        String best_ask = resultSet.getInt(&quot;apples&quot;) + &quot;,&quot; + resultSet.getInt(&quot;amount&quot;);\r\n        resultSet.close();\r\n        preparedStatement.close();\r\n        return best_ask;\r\n    }\r\n \r\n    public String getBestBID() throws SQLException {\r\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM bids WHERE apples=(SELECT MAX(apples) FROM bids WHERE amount != 0)&quot;);\r\n        resultSet = preparedStatement.executeQuery();\r\n        resultSet.next();\r\n        String best_bid = resultSet.getInt(&quot;apples&quot;) + &quot;,&quot; + resultSet.getInt(&quot;amount&quot;);\r\n        resultSet.close();\r\n        preparedStatement.close();\r\n        return best_bid;\r\n    }\r\n \r\n    public String getDesiredSize(int apples) throws SQLException {\r\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM bids WHERE apples=?&quot;);\r\n        preparedStatement.setInt(1, apples);\r\n        resultSet = preparedStatement.executeQuery();\r\n        if (!resultSet.next()) {\r\n            preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM asks WHERE apples=?&quot;);\r\n            preparedStatement.setInt(1, apples);\r\n            resultSet = preparedStatement.executeQuery();\r\n            resultSet.next();\r\n        }\r\n        String desired_size = resultSet.getString(&quot;amount&quot;);\r\n        resultSet.close();\r\n        preparedStatement.close();\r\n        return desired_size != null &amp;&amp; !Objects.equals(desired_size, &quot;&quot;) ? desired_size : &quot;0&quot;;\r\n    }\r\n \r\n    public TreeMap&lt;Integer, Integer&gt; get100bestasks() throws SQLException {\r\n        TreeMap&lt;Integer, Integer&gt; data = new TreeMap&lt;&gt;();\r\n        statement = this.connection.createStatement();\r\n        resultSet = statement.executeQuery(&quot;SELECT * FROM asks ORDER BY apples LIMIT 100&quot;);\r\n        while (resultSet.next()) {\r\n            int apples = resultSet.getInt(&quot;apples&quot;);\r\n            int amount = resultSet.getInt(&quot;amount&quot;);\r\n            data.put(apples, amount);\r\n        }\r\n        resultSet.close();\r\n        statement.close();\r\n        return data;\r\n    }\r\n \r\n    public TreeMap&lt;Integer, Integer&gt; get100bestbids() throws SQLException {\r\n        TreeMap&lt;Integer, Integer&gt; data = new TreeMap&lt;&gt;(Collections.reverseOrder());\r\n        statement = this.connection.createStatement();\r\n        resultSet = statement.executeQuery(&quot;SELECT * FROM bids ORDER BY apples DESC LIMIT 100&quot;);\r\n        while (resultSet.next()) {\r\n            int apples = resultSet.getInt(&quot;apples&quot;);\r\n            int amount = resultSet.getInt(&quot;amount&quot;);\r\n            data.put(apples, amount);\r\n        }\r\n        resultSet.close();\r\n        statement.close();\r\n        return data;\r\n    }\r\n}\r\n```\r\n\r\ntable -&gt;  https://pastebin.com/Ytwn5raM\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.util.Collections;\r\nimport java.util.TreeMap;\r\n \r\npublic class Table {\r\n    Smalldb db;\r\n    private TreeMap&lt;Integer, Integer&gt; bids = new TreeMap&lt;&gt;(Collections.reverseOrder());\r\n    private TreeMap&lt;Integer, Integer&gt; asks = new TreeMap&lt;&gt;();\r\n    public Table(Connection connection) throws SQLException {\r\n        this.db = new Smalldb(connection);\r\n    }\r\n    public void setBids(Integer apples, Integer amount) throws SQLException {\r\n            this.db.updateBids(apples,amount);\r\n    }\r\n    public void setAsks(Integer apples, Integer amount) throws SQLException {\r\n        this.db.updateAsks(apples,amount);\r\n    }\r\n    public void buy(Integer size) throws SQLException {\r\n        int check=size;\r\n        while(size&gt;0){\r\n            asks = db.get100bestasks();\r\n            for (Integer key:this.asks.keySet()) {\r\n                if (size&lt;=0) break;\r\n                Integer value = this.asks.get(key);\r\n                if(value &gt;=size) {\r\n                    this.asks.replace(key, value-size);\r\n                    db.updateAsks(key,value-size);\r\n                }\r\n                else if (value &lt;size) {\r\n                    this.asks.replace(key,0);\r\n                    db.updateAsks(key,0);\r\n                }\r\n                size-=value;\r\n            }//100 entries passed\r\n            if(check==size || this.asks.size()&lt;=100) size=0;//bad input checker\r\n        }\r\n    }\r\n    public void sell(Integer size) throws SQLException {\r\n        int check=size;\r\n        while(size&gt;0){\r\n            bids = db.get100bestbids();\r\n            for (Integer key:this.bids.keySet()) {\r\n                if (size&lt;=0) break;\r\n                Integer value = this.bids.get(key);\r\n                if(value &gt;=size) {\r\n                    this.bids.replace(key, value-size);\r\n                    db.updateBids(key,value-size);\r\n                }\r\n                else if (value &lt;size) {\r\n                    this.bids.replace(key,0);\r\n                    db.updateBids(key,0);\r\n                }\r\n                size-=value;\r\n            }//100 entries passed\r\n            if(check==size || this.bids.size()&lt;=100) size=0;//bad input checker\r\n        }\r\n    }\r\n    public String getBestbid() throws SQLException {\r\n        String data;\r\n        data=this.db.getBestBID();\r\n        return data;\r\n    }\r\n \r\n    public String getBestask() throws SQLException {\r\n        String data;\r\n        data=this.db.getBestASK();\r\n        return data;\r\n    }\r\n \r\n    public String getDesiredSize(Integer s) throws SQLException {\r\n        return this.db.getDesiredSize(s);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI also tried solutions from the following website: [https://www.sqlite.org/inmemorydb.html](https://stackoverflow.com)\r\n\r\nHowever that only creates the db inside the memory the opposite of what I want.\r\n\r\nAll tips, and answers are appreciated.","title":"SQLite jdbc db causes memory to clog up with big inputs","body":"<p>I am doing a small project/test, where I take a <strong>large</strong> text input and process it to create a text output.\nFor this purpose I started with using a local <strong>SQLite db</strong> and JDBC lib (since I am doing this in <strong>Java</strong>).</p>\n<p>The problem is that <em>(for some reason)</em> the memory (RAM usage) keeps increasing as the input increases, however I need the program to work with a very limited HEAP.</p>\n<p>Although the program works for my test cases, it isn't working optimally, that is to say as intended.</p>\n<p><a href=\"https://i.stack.imgur.com/uLlXL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uLlXL.png\" alt=\"graph from Intellij Profiler\" /></a>\n<a href=\"https://i.stack.imgur.com/6ufWw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ufWw.png\" alt=\"Graph made from the data given by the profiler\" /></a>\n<a href=\"https://i.stack.imgur.com/JDppZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDppZ.png\" alt=\"Usage by methods graph\" /></a></p>\n<p>The reason why the above graphs are bad is because my db is stored locally, and I only pull a selected amount of (100) db entries when I need them, so the HEAP nor it's usage should increase for whatever reason.\nI'd also like to add threading later to increase the processing speed as when I switched from writing to RAM to writing to a local file, the execution speed plummeted from 14s to 10min.\nclasses:\nmain -&gt; <a href=\"https://pastebin.com/rh27xsqr\" rel=\"nofollow noreferrer\">https://pastebin.com/rh27xsqr</a></p>\n<pre><code>import java.io.*;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n \npublic class Main {\n    public static void main(String[] args) {\n        try (BufferedReader reader = new BufferedReader(new FileReader(&quot;input.txt&quot;));\n             BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;output.txt&quot;));\n             Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite:temp.db&quot;)) {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            Table table = new Table(connection);\n            String line = reader.readLine();\n            while (line != null) {\n                String[] command = line.split(&quot;,&quot;);\n                switch (command[0]) {\n                    case &quot;u&quot;:\n                        int apples = Integer.parseInt(command[1]);\n                        int size = Integer.parseInt(command[2]);\n                        switch (command[3]) {\n                            case &quot;bid&quot;:\n                                table.setBids(apples, size);\n                                break;\n                            case &quot;ask&quot;:\n                                table.setAsks(apples, size);\n                                break;\n                        }\n                        break;\n                    case &quot;q&quot;:\n                        String data = &quot;&quot;;\n                        switch (command[1]) {\n                            case &quot;best_bid&quot;:\n                                data = table.getBestbid();\n                                break;\n                            case &quot;best_ask&quot;:\n                                data = table.getBestask();\n                                break;\n                            case &quot;size&quot;:\n                                data = table.getDesiredSize(Integer.parseInt(command[2]));\n                                break;\n                        }\n \n                        if (!data.equals(&quot;&quot;)) {\n                            writer.append(data).append(&quot;\\n&quot;);\n                        }\n \n                        break;\n \n                    case &quot;o&quot;:\n                        int size2 = Integer.parseInt(command[2]);\n                        switch (command[1]) {\n                            case &quot;buy&quot;:\n                                table.buy(size2);\n                                break;\n                            case &quot;sell&quot;:\n                                table.sell(size2);\n                                break;\n                        }\n                        break;\n                    default:\n                        System.err.println(&quot;Error: unknown command - \\&quot;&quot; + command[0] + &quot;\\&quot;&quot;);\n                        break;\n                }\n                line = reader.readLine();\n            }\n        } catch (IOException | SQLException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>smalldb -&gt; <a href=\"https://pastebin.com/PdkqgPZT\" rel=\"nofollow noreferrer\">https://pastebin.com/PdkqgPZT</a></p>\n<pre><code>import java.sql.*;\nimport java.util.Collections;\nimport java.util.Objects;\nimport java.util.TreeMap;\n \npublic class Smalldb {\n    private Connection connection;\n    private PreparedStatement preparedStatement;\n    private Statement statement;\n    private ResultSet resultSet;\n \n    public Smalldb(Connection connection) {\n        try {\n            this.connection = connection;\n            //create db\n            statement = connection.createStatement();\n            statement.execute(&quot;CREATE TABLE IF NOT EXISTS asks (id INTEGER PRIMARY KEY, apples INT, amount INT)&quot;);\n            statement.execute(&quot;CREATE TABLE IF NOT EXISTS bids (id INTEGER PRIMARY KEY, apples INT, amount INT)&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n            throw new Error(&quot;Problem&quot;, e);\n        }\n    }\n    public void updateAsks(int apples, int amount) throws SQLException {\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM asks WHERE apples=?&quot;);\n        preparedStatement.setInt(1, apples);\n        resultSet = preparedStatement.executeQuery();\n        if (resultSet.next()) {\n            preparedStatement = this.connection.prepareStatement(&quot;UPDATE asks SET amount=? WHERE apples = ?&quot;);\n            preparedStatement.setInt(1, amount);\n            preparedStatement.setInt(2, apples);\n            preparedStatement.executeUpdate();\n        } else {\n            preparedStatement = this.connection.prepareStatement(&quot;INSERT INTO asks (apples, amount) VALUES (?, ?)&quot;);\n            preparedStatement.setInt(1, apples);\n            preparedStatement.setInt(2, amount);\n            preparedStatement.executeUpdate();\n        }\n        resultSet.close();\n        preparedStatement.close();\n    }\n \n    public void updateBids(int apples, int amount) throws SQLException {\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM bids WHERE apples=?&quot;);\n        preparedStatement.setInt(1, apples);\n        resultSet = preparedStatement.executeQuery();\n        if(resultSet.next()) {\n            preparedStatement = this.connection.prepareStatement(&quot;UPDATE bids SET amount=? WHERE apples = ?&quot;);\n            preparedStatement.setInt(1, amount);\n            preparedStatement.setInt(2, apples);\n            preparedStatement.executeUpdate();\n        } else {\n            preparedStatement = this.connection.prepareStatement(&quot;INSERT INTO bids (apples, amount) VALUES (?, ?)&quot;);\n            preparedStatement.setInt(1, apples);\n            preparedStatement.setInt(2, amount);\n            preparedStatement.executeUpdate();\n        }\n        resultSet.close();\n        preparedStatement.close();\n    }\n \n    public String getBestASK() throws SQLException {\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM asks WHERE apples=(SELECT MIN(apples) FROM asks WHERE amount != 0)&quot;);\n        resultSet = preparedStatement.executeQuery();\n        resultSet.next();\n        String best_ask = resultSet.getInt(&quot;apples&quot;) + &quot;,&quot; + resultSet.getInt(&quot;amount&quot;);\n        resultSet.close();\n        preparedStatement.close();\n        return best_ask;\n    }\n \n    public String getBestBID() throws SQLException {\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM bids WHERE apples=(SELECT MAX(apples) FROM bids WHERE amount != 0)&quot;);\n        resultSet = preparedStatement.executeQuery();\n        resultSet.next();\n        String best_bid = resultSet.getInt(&quot;apples&quot;) + &quot;,&quot; + resultSet.getInt(&quot;amount&quot;);\n        resultSet.close();\n        preparedStatement.close();\n        return best_bid;\n    }\n \n    public String getDesiredSize(int apples) throws SQLException {\n        preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM bids WHERE apples=?&quot;);\n        preparedStatement.setInt(1, apples);\n        resultSet = preparedStatement.executeQuery();\n        if (!resultSet.next()) {\n            preparedStatement = this.connection.prepareStatement(&quot;SELECT * FROM asks WHERE apples=?&quot;);\n            preparedStatement.setInt(1, apples);\n            resultSet = preparedStatement.executeQuery();\n            resultSet.next();\n        }\n        String desired_size = resultSet.getString(&quot;amount&quot;);\n        resultSet.close();\n        preparedStatement.close();\n        return desired_size != null &amp;&amp; !Objects.equals(desired_size, &quot;&quot;) ? desired_size : &quot;0&quot;;\n    }\n \n    public TreeMap&lt;Integer, Integer&gt; get100bestasks() throws SQLException {\n        TreeMap&lt;Integer, Integer&gt; data = new TreeMap&lt;&gt;();\n        statement = this.connection.createStatement();\n        resultSet = statement.executeQuery(&quot;SELECT * FROM asks ORDER BY apples LIMIT 100&quot;);\n        while (resultSet.next()) {\n            int apples = resultSet.getInt(&quot;apples&quot;);\n            int amount = resultSet.getInt(&quot;amount&quot;);\n            data.put(apples, amount);\n        }\n        resultSet.close();\n        statement.close();\n        return data;\n    }\n \n    public TreeMap&lt;Integer, Integer&gt; get100bestbids() throws SQLException {\n        TreeMap&lt;Integer, Integer&gt; data = new TreeMap&lt;&gt;(Collections.reverseOrder());\n        statement = this.connection.createStatement();\n        resultSet = statement.executeQuery(&quot;SELECT * FROM bids ORDER BY apples DESC LIMIT 100&quot;);\n        while (resultSet.next()) {\n            int apples = resultSet.getInt(&quot;apples&quot;);\n            int amount = resultSet.getInt(&quot;amount&quot;);\n            data.put(apples, amount);\n        }\n        resultSet.close();\n        statement.close();\n        return data;\n    }\n}\n</code></pre>\n<p>table -&gt;  <a href=\"https://pastebin.com/Ytwn5raM\" rel=\"nofollow noreferrer\">https://pastebin.com/Ytwn5raM</a></p>\n<pre><code>import java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.Collections;\nimport java.util.TreeMap;\n \npublic class Table {\n    Smalldb db;\n    private TreeMap&lt;Integer, Integer&gt; bids = new TreeMap&lt;&gt;(Collections.reverseOrder());\n    private TreeMap&lt;Integer, Integer&gt; asks = new TreeMap&lt;&gt;();\n    public Table(Connection connection) throws SQLException {\n        this.db = new Smalldb(connection);\n    }\n    public void setBids(Integer apples, Integer amount) throws SQLException {\n            this.db.updateBids(apples,amount);\n    }\n    public void setAsks(Integer apples, Integer amount) throws SQLException {\n        this.db.updateAsks(apples,amount);\n    }\n    public void buy(Integer size) throws SQLException {\n        int check=size;\n        while(size&gt;0){\n            asks = db.get100bestasks();\n            for (Integer key:this.asks.keySet()) {\n                if (size&lt;=0) break;\n                Integer value = this.asks.get(key);\n                if(value &gt;=size) {\n                    this.asks.replace(key, value-size);\n                    db.updateAsks(key,value-size);\n                }\n                else if (value &lt;size) {\n                    this.asks.replace(key,0);\n                    db.updateAsks(key,0);\n                }\n                size-=value;\n            }//100 entries passed\n            if(check==size || this.asks.size()&lt;=100) size=0;//bad input checker\n        }\n    }\n    public void sell(Integer size) throws SQLException {\n        int check=size;\n        while(size&gt;0){\n            bids = db.get100bestbids();\n            for (Integer key:this.bids.keySet()) {\n                if (size&lt;=0) break;\n                Integer value = this.bids.get(key);\n                if(value &gt;=size) {\n                    this.bids.replace(key, value-size);\n                    db.updateBids(key,value-size);\n                }\n                else if (value &lt;size) {\n                    this.bids.replace(key,0);\n                    db.updateBids(key,0);\n                }\n                size-=value;\n            }//100 entries passed\n            if(check==size || this.bids.size()&lt;=100) size=0;//bad input checker\n        }\n    }\n    public String getBestbid() throws SQLException {\n        String data;\n        data=this.db.getBestBID();\n        return data;\n    }\n \n    public String getBestask() throws SQLException {\n        String data;\n        data=this.db.getBestASK();\n        return data;\n    }\n \n    public String getDesiredSize(Integer s) throws SQLException {\n        return this.db.getDesiredSize(s);\n    }\n}\n</code></pre>\n<p>I also tried solutions from the following website: <a href=\"https://stackoverflow.com\">https://www.sqlite.org/inmemorydb.html</a></p>\n<p>However that only creates the db inside the memory the opposite of what I want.</p>\n<p>All tips, and answers are appreciated.</p>\n"},{"tags":["java","thermal-printer","openhtmltopdf"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680211917,"post_id":75892755,"comment_id":133864686,"body_markdown":"Appears to be something like a &quot;page foot&quot; size setting, they seem to be added together.","body":"Appears to be something like a &quot;page foot&quot; size setting, they seem to be added together."},{"owner":{"account_id":937989,"reputation":3834,"user_id":966572,"accept_rate":52,"display_name":"Pejman"},"score":0,"creation_date":1680252006,"post_id":75892755,"comment_id":133870010,"body_markdown":"@SamuelMarchant I have checked, and there is no such thing as a &#39;page foot&#39; there. Additionally, the extra space does not increase with every added page; rather, it increases every three pages, at least to the amount I have tested!","body":"@SamuelMarchant I have checked, and there is no such thing as a &#39;page foot&#39; there. Additionally, the extra space does not increase with every added page; rather, it increases every three pages, at least to the amount I have tested!"},{"owner":{"account_id":937989,"reputation":3834,"user_id":966572,"accept_rate":52,"display_name":"Pejman"},"score":0,"creation_date":1680252288,"post_id":75892755,"comment_id":133870078,"body_markdown":"@KJ Actually it is part of a large system, and almost everything is already done, and making changes at this stage wouldn&#39;t be a good idea. That&#39;s why I am focusing on getting this thing to work for now.","body":"@KJ Actually it is part of a large system, and almost everything is already done, and making changes at this stage wouldn&#39;t be a good idea. That&#39;s why I am focusing on getting this thing to work for now."}],"owner":{"account_id":937989,"reputation":3834,"user_id":966572,"accept_rate":52,"display_name":"Pejman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680208994,"creation_date":1680208301,"question_id":75892755,"body_markdown":"I am using [openhtmltopdf][1] (1.0.10) to get a PDF printout to be printed by thermal printers (with roll paper).\r\n\r\nI have not set any CSS width or height values to any of the HTML elements, instead I am setting the `PdfRendererBuilder#useDefaultPageSize` method with my desired width and height values in MM.\r\n\r\nThe width is fixed and set to 80mm, but I need to calculate the rendered height of the document to give it to the above-mentioned method, to avoid splitting my printout into several pages, resulting in the printer cutting the paper at the end of every page. In other words I need a long continious one page PDF.\r\n\r\nTo achieve this I used the suggestions mentioned [here](https://github.com/danfickle/openhtmltopdf/issues/427), and it works, but not in all cases and as precisely as I expect.\r\n\r\n**The problem is that** only when the content fits in one page (`PageBox`) (a default page height is internally set, regardless of HTML page having no heights set, resulting in generation of multiple pages when the content is large), the calculated height works correctly, but **when it is greater that one page, I get an extra blank space** (space between the bottom of my `.container` HTML element and the bottom of the `body` element) added to the bottom of the rendered PDF, which grows in height every couple of pages being added (3 to be more precise).\r\n\r\nI will share with you a simplified snippet of my HTML and the code, and also a simple visual representation of what I get as the result.\r\n\r\n**HTML to be rendered (I have added the red body bg to be visible in visual outcome):**\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;Printout&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n\r\n    &lt;style&gt;\r\n        @page {\r\n            margin: 0;\r\n        }\r\n\r\n        body {\r\n            background-color: #ff0000;\r\n        }\r\n\r\n        .container * {\r\n            page-break-inside: avoid;\r\n        }\r\n\r\n        .container {\r\n            padding: 5mm;\r\n            overflow: hidden;\r\n            page-break-inside: avoid;\r\n            background-color: white;\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;section class=&quot;container&quot;&gt;\r\n\r\n        &lt;header&gt;\r\n            HEADER CONTENT\r\n        &lt;/header&gt;\r\n\r\n        &lt;section&gt;\r\n            MAIN CONTENT\r\n        &lt;/section&gt;\r\n\r\n        &lt;footer&gt;\r\n            FOOTER CONTENT\r\n        &lt;/footer&gt;\r\n\r\n    &lt;/section&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n**Calculation of the rendered height and assigning it to the builder:**\r\n```\r\nprivate static void createPdfForPrinting(OutputStream outputStream, Document document)\r\nthrows IOException {\r\n\r\nPdfRendererBuilder pdfBuilder = new PdfRendererBuilder();\r\n\r\ntry (PdfBoxRenderer pdfRenderer = pdfBuilder\r\n    .withW3cDocument(document, &quot;/&quot;)\r\n    .useFastMode()\r\n    .toStream(outputStream)\r\n    .buildPdfRenderer()) {\r\n\r\n    pdfRenderer.layout();\r\n    Layer mainLayer = pdfRenderer.getRootBox().getContainingLayer();\r\n    float renderedHeight = findMaxLayerY(mainLayer);\r\n    float pageHeight = convertToMillimeters(renderedHeight);\r\n\r\n    pdfBuilder.useDefaultPageSize(80, pageHeight, BaseRendererBuilder.PageSizeUnits.MM)\r\n        .run();\r\n  }\r\n}\r\n\r\nprivate static int findMaxLayerY(Layer layer) {\r\n    int maxLayerY = layer.getMaster().getAbsY() + layer.getMaster().getHeight();\r\n\r\n    int maxChildY = layer.getChildren()\r\n        .stream()\r\n        .mapToInt(RendererUtil::findMaxLayerY)\r\n        .max()\r\n        .orElse(0);\r\n\r\n    return Math.max(maxChildY, maxLayerY);\r\n} \r\n\r\nprivate static float convertToMillimeters(float pixels) {\r\n    final float PDF_DOTS_PER_PIXEL = 20.0f;\r\n    final float MM_PER_INCH = 25.4f;\r\n    final int PIXELS_PER_INCH = 96;\r\n    return (pixels / PDF_DOTS_PER_PIXEL) * MM_PER_INCH / PIXELS_PER_INCH;\r\n}\r\n```\r\n**Simple visual representation of the problem:**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/danfickle/openhtmltopdf\r\n  [2]: https://i.stack.imgur.com/6Xyaj.jpg","title":"Calculated rendered height of html document in &#39;openhtmltopdf&#39; a bit off when more than one page","body":"<p>I am using <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">openhtmltopdf</a> (1.0.10) to get a PDF printout to be printed by thermal printers (with roll paper).</p>\n<p>I have not set any CSS width or height values to any of the HTML elements, instead I am setting the <code>PdfRendererBuilder#useDefaultPageSize</code> method with my desired width and height values in MM.</p>\n<p>The width is fixed and set to 80mm, but I need to calculate the rendered height of the document to give it to the above-mentioned method, to avoid splitting my printout into several pages, resulting in the printer cutting the paper at the end of every page. In other words I need a long continious one page PDF.</p>\n<p>To achieve this I used the suggestions mentioned <a href=\"https://github.com/danfickle/openhtmltopdf/issues/427\" rel=\"nofollow noreferrer\">here</a>, and it works, but not in all cases and as precisely as I expect.</p>\n<p><strong>The problem is that</strong> only when the content fits in one page (<code>PageBox</code>) (a default page height is internally set, regardless of HTML page having no heights set, resulting in generation of multiple pages when the content is large), the calculated height works correctly, but <strong>when it is greater that one page, I get an extra blank space</strong> (space between the bottom of my <code>.container</code> HTML element and the bottom of the <code>body</code> element) added to the bottom of the rendered PDF, which grows in height every couple of pages being added (3 to be more precise).</p>\n<p>I will share with you a simplified snippet of my HTML and the code, and also a simple visual representation of what I get as the result.</p>\n<p><strong>HTML to be rendered (I have added the red body bg to be visible in visual outcome):</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Printout&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n\n    &lt;style&gt;\n        @page {\n            margin: 0;\n        }\n\n        body {\n            background-color: #ff0000;\n        }\n\n        .container * {\n            page-break-inside: avoid;\n        }\n\n        .container {\n            padding: 5mm;\n            overflow: hidden;\n            page-break-inside: avoid;\n            background-color: white;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;section class=&quot;container&quot;&gt;\n\n        &lt;header&gt;\n            HEADER CONTENT\n        &lt;/header&gt;\n\n        &lt;section&gt;\n            MAIN CONTENT\n        &lt;/section&gt;\n\n        &lt;footer&gt;\n            FOOTER CONTENT\n        &lt;/footer&gt;\n\n    &lt;/section&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p><strong>Calculation of the rendered height and assigning it to the builder:</strong></p>\n<pre><code>private static void createPdfForPrinting(OutputStream outputStream, Document document)\nthrows IOException {\n\nPdfRendererBuilder pdfBuilder = new PdfRendererBuilder();\n\ntry (PdfBoxRenderer pdfRenderer = pdfBuilder\n    .withW3cDocument(document, &quot;/&quot;)\n    .useFastMode()\n    .toStream(outputStream)\n    .buildPdfRenderer()) {\n\n    pdfRenderer.layout();\n    Layer mainLayer = pdfRenderer.getRootBox().getContainingLayer();\n    float renderedHeight = findMaxLayerY(mainLayer);\n    float pageHeight = convertToMillimeters(renderedHeight);\n\n    pdfBuilder.useDefaultPageSize(80, pageHeight, BaseRendererBuilder.PageSizeUnits.MM)\n        .run();\n  }\n}\n\nprivate static int findMaxLayerY(Layer layer) {\n    int maxLayerY = layer.getMaster().getAbsY() + layer.getMaster().getHeight();\n\n    int maxChildY = layer.getChildren()\n        .stream()\n        .mapToInt(RendererUtil::findMaxLayerY)\n        .max()\n        .orElse(0);\n\n    return Math.max(maxChildY, maxLayerY);\n} \n\nprivate static float convertToMillimeters(float pixels) {\n    final float PDF_DOTS_PER_PIXEL = 20.0f;\n    final float MM_PER_INCH = 25.4f;\n    final int PIXELS_PER_INCH = 96;\n    return (pixels / PDF_DOTS_PER_PIXEL) * MM_PER_INCH / PIXELS_PER_INCH;\n}\n</code></pre>\n<p><strong>Simple visual representation of the problem:</strong>\n<a href=\"https://i.stack.imgur.com/6Xyaj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Xyaj.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows","keytool"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680211148,"post_id":75892818,"comment_id":133864551,"body_markdown":"There are versions of java usually openJDK you could &quot;unzip&quot; onto the drive rather than install, the clause however is on that machine to use full path to any executable. If it&#39;s network connected, I don&#39;t know why it does not simply operate to exec over the network from an admin machine.","body":"There are versions of java usually openJDK you could &quot;unzip&quot; onto the drive rather than install, the clause however is on that machine to use full path to any executable. If it&#39;s network connected, I don&#39;t know why it does not simply operate to exec over the network from an admin machine."}],"owner":{"account_id":25338042,"reputation":11,"user_id":19156858,"display_name":"tommy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680208792,"creation_date":1680208792,"question_id":75892818,"body_markdown":"I am writing a powershell script to audit java keystores that have been deployed to a remote system that may or may not have java installed yet.  It will be there eventually but may not at the time I need to audit the keystores.  In the case of java not being installed yet is there a way to copy keytool.exe and any required supporting dlls over to the remote box and remove after I finish the audit?\r\n\r\nOn a machine with java, I have tried copying keytool.exe with the jli.ddl and removing java from the path variable and it works.  If copy these two files to a remote host without java they error out because java.dll isn&#39;t found and there is an issue with java not being in the registry.  When I copy over java.dll as well it still complains about the registry issue.\r\n\r\nIs it possible to make a transportable version of keytool from the contents of java without installing java.","title":"Using Keytool Without Installing JAVA - Windows","body":"<p>I am writing a powershell script to audit java keystores that have been deployed to a remote system that may or may not have java installed yet.  It will be there eventually but may not at the time I need to audit the keystores.  In the case of java not being installed yet is there a way to copy keytool.exe and any required supporting dlls over to the remote box and remove after I finish the audit?</p>\n<p>On a machine with java, I have tried copying keytool.exe with the jli.ddl and removing java from the path variable and it works.  If copy these two files to a remote host without java they error out because java.dll isn't found and there is an issue with java not being in the registry.  When I copy over java.dll as well it still complains about the registry issue.</p>\n<p>Is it possible to make a transportable version of keytool from the contents of java without installing java.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","h2"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680196530,"post_id":75890558,"comment_id":133861267,"body_markdown":"What does UserDao look like? Set a break point at userdao.save(user) to see that user has an Id and name.","body":"What does UserDao look like? Set a break point at userdao.save(user) to see that user has an Id and name."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680208041,"creation_date":1680207459,"answer_id":75892638,"question_id":75890558,"body_markdown":"As I understand your question you want to let Spring Boot create a database table according to the implemented entity *User*. The table should be named USER and should have two columns: ID and NAME.\r\n\r\nCurrent application.properties are\r\n\r\n    spring.h2.console.enabled= true\r\n    spring.datasource.platform= h2\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n\r\nPlease use this instead\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.username=sa  \r\n    spring.datasource.password=\r\n    spring.jpa.generate-ddl=true\r\n    spring.h2.console.enabled= true    \r\n    spring.jpa.properties.hibernate.show_sql=true\r\n","title":"Table not created in H2 database using spring tool suite @Entity is not working as intended","body":"<p>As I understand your question you want to let Spring Boot create a database table according to the implemented entity <em>User</em>. The table should be named USER and should have two columns: ID and NAME.</p>\n<p>Current application.properties are</p>\n<pre><code>spring.h2.console.enabled= true\nspring.datasource.platform= h2\nspring.datasource.url=jdbc:h2:mem:testdb\n</code></pre>\n<p>Please use this instead</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.username=sa  \nspring.datasource.password=\nspring.jpa.generate-ddl=true\nspring.h2.console.enabled= true    \nspring.jpa.properties.hibernate.show_sql=true\n</code></pre>\n"}],"owner":{"account_id":27203730,"reputation":1,"user_id":20735612,"display_name":"Manigandan R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680208713,"creation_date":1680192245,"question_id":75890558,"body_markdown":"[This is the H2 Console](https://i.stack.imgur.com/NOHvY.png)\r\nI&#39;m a rookie trying to learn spring boot from youtube. I&#39;ve been following a step by step process from a channel to connect a db in spring boot. So the problem is The name and Id part in my User.java file is not created here even after using @Entity and @Id.I&#39;m not able to do it even after replicating the same steps. Can somebody explain what I&#39;m missing.\r\n\r\nThis is my Application.java file\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DbApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DbApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nThis is my User.java file\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\n\r\nimport jakarta.persistence.Id;\r\n\r\n\r\n\r\n@Entity\r\npublic class User {\r\n\t\r\n\t@Id\r\n\tprivate int id;\r\n\tprivate String name;\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn name+ &quot; : &quot; + id ;\r\n\t}\r\n\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n\r\n```\r\nThis is my Controller file\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\n@Controller\r\npublic class UserController {\r\n\t@Autowired\r\n\tUserDAO userdao;\r\n\t\r\n\t@RequestMapping(&quot;index&quot;)\r\n\tpublic String user() {\r\n\t\treturn &quot;index.jsp&quot;;\r\n\t}\r\n\t@RequestMapping(&quot;addUser&quot;)\r\n\tpublic String addUser(User user) {\r\n\t\tuserdao.save(user);\r\n\t\treturn &quot;index.jsp&quot;;\r\n\t}\r\n\t@RequestMapping(&quot;getUser&quot;)\r\n\tpublic ModelAndView getUser(@RequestParam int id) {\r\n\t\tModelAndView mav = new ModelAndView(&quot;showUser.jsp&quot;);\r\n\t\tUser user = userdao.findById(id).orElse(null);\r\n\t\tmav.addObject(user);\r\n\t\treturn mav;\r\n\t}\r\n}\r\n```\r\nThis is my application.properties\r\n```\r\nspring.h2.console.enabled= true\r\nspring.datasource.platform= h2\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\n```\r\nMy pom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.manigandan&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;DB&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;DB&lt;/name&gt;\r\n\t&lt;description&gt;demo website&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    &lt;version&gt;10.1.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Table not created in H2 database using spring tool suite @Entity is not working as intended","body":"<p><a href=\"https://i.stack.imgur.com/NOHvY.png\" rel=\"nofollow noreferrer\">This is the H2 Console</a>\nI'm a rookie trying to learn spring boot from youtube. I've been following a step by step process from a channel to connect a db in spring boot. So the problem is The name and Id part in my User.java file is not created here even after using @Entity and @Id.I'm not able to do it even after replicating the same steps. Can somebody explain what I'm missing.</p>\n<p>This is my Application.java file</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DbApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DbApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>This is my User.java file</p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\n\nimport jakarta.persistence.Id;\n\n\n\n@Entity\npublic class User {\n    \n    @Id\n    private int id;\n    private String name;\n    \n    public String toString() {\n        return name+ &quot; : &quot; + id ;\n    }\n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n</code></pre>\n<p>This is my Controller file</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class UserController {\n    @Autowired\n    UserDAO userdao;\n    \n    @RequestMapping(&quot;index&quot;)\n    public String user() {\n        return &quot;index.jsp&quot;;\n    }\n    @RequestMapping(&quot;addUser&quot;)\n    public String addUser(User user) {\n        userdao.save(user);\n        return &quot;index.jsp&quot;;\n    }\n    @RequestMapping(&quot;getUser&quot;)\n    public ModelAndView getUser(@RequestParam int id) {\n        ModelAndView mav = new ModelAndView(&quot;showUser.jsp&quot;);\n        User user = userdao.findById(id).orElse(null);\n        mav.addObject(user);\n        return mav;\n    }\n}\n</code></pre>\n<p>This is my application.properties</p>\n<pre><code>spring.h2.console.enabled= true\nspring.datasource.platform= h2\nspring.datasource.url=jdbc:h2:mem:testdb\n</code></pre>\n<p>My pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.manigandan&lt;/groupId&gt;\n    &lt;artifactId&gt;DB&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;DB&lt;/name&gt;\n    &lt;description&gt;demo website&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    \n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n    &lt;version&gt;10.1.7&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1680201305,"post_id":75891760,"comment_id":133862346,"body_markdown":"[`Mono#map`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-)","body":"<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Mono#map</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680208638,"creation_date":1680201417,"answer_id":75891837,"question_id":75891760,"body_markdown":"You have to use [map][1] to transform the emitted data by Mono into another Mono\r\n\r\n&gt;Transform the item emitted by this Mono by applying a synchronous function to it.\r\n\r\nso the logic will be\r\n\r\n    public Mono&lt;String&gt; sendFile(final MultipartFile multipartFile) {\r\n    Mono&lt;Response&gt; response = webClient.post()\r\n                .uri(new URI(&quot;someurl&quot;))\r\n                .body(BodyInserters.fromMultipartData(multiValueMap))\r\n                .retrieve()\r\n                .bodyToMono(Response.class)\r\n                .map(data-&gt;data.getRequestID().getRequestID());\r\n\r\n      return response;\r\n\r\n    }\r\n\r\nIn the controller also use `map` method for data transformation into `Mono&lt;ResponseEntity&gt;`\r\n\r\n    @PostMapping(&quot;/request&quot;)\r\n    public Mono&lt;ResponseEntity&gt; sendRequest(@RequestPart(value = &quot;file&quot;) final MultipartFile multipartFile) {\r\n        Mono&lt;RequestID&gt; request =  service.sendFile(multipartFile);\r\n        \r\n        return request.map(id-&gt;ResponseEntity.body(new Response&lt;&gt;(id, true, &quot;SUCCESS&quot;)).status(HttpStatus.CREATED)));\r\n    }\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-","title":"How to convert Mono&lt;PojoResponseObject&gt; to a Mono&lt;ResponseEntity&gt; using webclient","body":"<p>You have to use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">map</a> to transform the emitted data by Mono into another Mono</p>\n<blockquote>\n<p>Transform the item emitted by this Mono by applying a synchronous function to it.</p>\n</blockquote>\n<p>so the logic will be</p>\n<pre><code>public Mono&lt;String&gt; sendFile(final MultipartFile multipartFile) {\nMono&lt;Response&gt; response = webClient.post()\n            .uri(new URI(&quot;someurl&quot;))\n            .body(BodyInserters.fromMultipartData(multiValueMap))\n            .retrieve()\n            .bodyToMono(Response.class)\n            .map(data-&gt;data.getRequestID().getRequestID());\n\n  return response;\n\n}\n</code></pre>\n<p>In the controller also use <code>map</code> method for data transformation into <code>Mono&lt;ResponseEntity&gt;</code></p>\n<pre><code>@PostMapping(&quot;/request&quot;)\npublic Mono&lt;ResponseEntity&gt; sendRequest(@RequestPart(value = &quot;file&quot;) final MultipartFile multipartFile) {\n    Mono&lt;RequestID&gt; request =  service.sendFile(multipartFile);\n    \n    return request.map(id-&gt;ResponseEntity.body(new Response&lt;&gt;(id, true, &quot;SUCCESS&quot;)).status(HttpStatus.CREATED)));\n}\n</code></pre>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75891837,"answer_count":1,"score":1,"last_activity_date":1680208638,"creation_date":1680200903,"question_id":75891760,"body_markdown":"I have the following webclient call\r\n\r\n```\r\npublic Mono&lt;String&gt; sendFile(final MultipartFile multipartFile) {\r\n    Mono&lt;Response&gt; response = webClient.post()\r\n                .uri(new URI(&quot;someurl&quot;))\r\n                .body(BodyInserters.fromMultipartData(multiValueMap))\r\n                .retrieve()\r\n                .bodyToMono(Response.class);\r\n\r\n    // Need to implement additional logic here to convert the Mono&lt;Response&gt; into Mono&lt;RequestID&gt;\r\n\r\n}\r\n\r\npublic class Response {\r\n\r\n    private RequestID requestID;\r\n\r\n}\r\n\r\npublic class RequestID {\r\n\r\n    private String requestID;\r\n\r\n}\r\n```\r\nThe call to the API gets returned back into a JSON Response POJO object however I am only interested in the requestID which lives in my RequestID POJO so I want to convert my Mono &lt; Response &gt; into a Mono&lt; RequestId &gt; but not sure how to do that?\r\n\r\nSo for my controller I basically want something similar to this:\r\n\r\n```\r\n@PostMapping(&quot;/request&quot;)\r\n    public Mono&lt;ResponseEntity&gt; sendRequest(@RequestPart(value = &quot;file&quot;) final MultipartFile multipartFile) {\r\n        Mono&lt;RequestID&gt; request =  service.sendFile(multipartFile);\r\n        Response2&lt;String&gt; response = new Response&lt;&gt;(request.getRequestID, true, &quot;SUCCESS&quot;); // Response2 is just a POJO with three fields\r\n        return new Mono&lt;ResponseEntity&lt;&gt;&gt;(response, HttpStatus.CREATED);\r\n    }\r\n```","title":"How to convert Mono&lt;PojoResponseObject&gt; to a Mono&lt;ResponseEntity&gt; using webclient","body":"<p>I have the following webclient call</p>\n<pre><code>public Mono&lt;String&gt; sendFile(final MultipartFile multipartFile) {\n    Mono&lt;Response&gt; response = webClient.post()\n                .uri(new URI(&quot;someurl&quot;))\n                .body(BodyInserters.fromMultipartData(multiValueMap))\n                .retrieve()\n                .bodyToMono(Response.class);\n\n    // Need to implement additional logic here to convert the Mono&lt;Response&gt; into Mono&lt;RequestID&gt;\n\n}\n\npublic class Response {\n\n    private RequestID requestID;\n\n}\n\npublic class RequestID {\n\n    private String requestID;\n\n}\n</code></pre>\n<p>The call to the API gets returned back into a JSON Response POJO object however I am only interested in the requestID which lives in my RequestID POJO so I want to convert my Mono &lt; Response &gt; into a Mono&lt; RequestId &gt; but not sure how to do that?</p>\n<p>So for my controller I basically want something similar to this:</p>\n<pre><code>@PostMapping(&quot;/request&quot;)\n    public Mono&lt;ResponseEntity&gt; sendRequest(@RequestPart(value = &quot;file&quot;) final MultipartFile multipartFile) {\n        Mono&lt;RequestID&gt; request =  service.sendFile(multipartFile);\n        Response2&lt;String&gt; response = new Response&lt;&gt;(request.getRequestID, true, &quot;SUCCESS&quot;); // Response2 is just a POJO with three fields\n        return new Mono&lt;ResponseEntity&lt;&gt;&gt;(response, HttpStatus.CREATED);\n    }\n</code></pre>\n"},{"tags":["java","android","sql"],"comments":[{"owner":{"account_id":6361458,"reputation":1545,"user_id":4936833,"display_name":"Kapta"},"score":1,"creation_date":1583593833,"post_id":60578738,"comment_id":107173109,"body_markdown":"why you are not using Room? it&#39;s easy to use and very help full","body":"why you are not using Room? it&#39;s easy to use and very help full"},{"owner":{"account_id":17808087,"reputation":37,"user_id":12933357,"display_name":"Fotis Pozoglou"},"score":0,"creation_date":1583594754,"post_id":60578738,"comment_id":107173414,"body_markdown":"I could use that but i already have thoose 2 databases in 4 activities for adding,editing and deleting them, will it be worth to restart this part?Is it really that easy to use?","body":"I could use that but i already have thoose 2 databases in 4 activities for adding,editing and deleting them, will it be worth to restart this part?Is it really that easy to use?"},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":1,"creation_date":1583605538,"post_id":60578738,"comment_id":107176584,"body_markdown":"Did you really create *2 databases* or do you mean **2 tables**? If you created 2 database then you found the problem.","body":"Did you really create <i>2 databases</i> or do you mean <b>2 tables</b>? If you created 2 database then you found the problem."},{"owner":{"account_id":17808087,"reputation":37,"user_id":12933357,"display_name":"Fotis Pozoglou"},"score":0,"creation_date":1583648535,"post_id":60578738,"comment_id":107184130,"body_markdown":"I think i have 2 tables.I have the 2 files with the tables names 1 and 2 in my app folder in my phone called databases.If i created 2 different databases wouldn&#39;t they(The tables) be on  a separately folder?Do i need to create those 2 tables in the onCreate of 1 class?","body":"I think i have 2 tables.I have the 2 files with the tables names 1 and 2 in my app folder in my phone called databases.If i created 2 different databases wouldn&#39;t they(The tables) be on  a separately folder?Do i need to create those 2 tables in the onCreate of 1 class?"},{"owner":{"account_id":17808087,"reputation":37,"user_id":12933357,"display_name":"Fotis Pozoglou"},"score":0,"creation_date":1583652514,"post_id":60578738,"comment_id":107184658,"body_markdown":"Yeah that&#39;s it i just changed the onCreate so it creates the tables in 1 database and i add edit and delete data from this 1 class.thank you @forpas making me think the right way.","body":"Yeah that&#39;s it i just changed the onCreate so it creates the tables in 1 database and i add edit and delete data from this 1 class.thank you @forpas making me think the right way."}],"owner":{"account_id":17808087,"reputation":37,"user_id":12933357,"display_name":"Fotis Pozoglou"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680208339,"creation_date":1583592440,"question_id":60578738,"body_markdown":"I&#39;m creating an app in android studio and i have some questions stored in a database which is created when the user opens the app for the first time and i created another database so the user can add his questions and i need to take a random question from out of these 2 databases.Each database have 3 same columns 1.question 2.heat 3.gender\r\nHere&#39;s what i already tried but don&#39;t work.\r\n\r\n```\r\n    public Cursor getQuestion(int HeatLevel, int Gender) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            String query = &quot;SELECT question, heat, gender FROM &quot; + TABLE_NAME +\r\n                    &quot; WHERE heat = &quot; + HeatLevel + &quot; AND  gender = &quot; + Gender +\r\n                    &quot; UNION ALL&quot; +\r\n                    &quot; SELECT question, heat, gender FROM &quot; + SECOND_TABLE_NAME +\r\n                    &quot; WHERE heat = &quot; + HeatLevel + &quot; AND gender = &quot; + Gender +\r\n                    &quot; ORDER BY RANDOM() LIMIT 1&quot;;\r\n            Cursor data = db.rawQuery(query, null);\r\n            return data;\r\n        }\r\n```\r\n\r\nSo the app chooses a question from the database based on the difficulty and the players gender.\r\nThe above code produces an error saying &quot;No such table&quot; and the name of the second database like it can&#39;t find it.\r\n\r\ni get the question in another activity using this\r\n\r\n```\r\n    public void getQuestion(int HeatLevel, int Gender) {\r\n            Cursor question = QuestionDB.getQuestion(HeatLevel, Gender);\r\n            if (question.moveToNext()) {\r\n                QuestionTextView.setText(question.getString(0));\r\n            }\r\n        }\r\n```\r\n\r\nI&#39;m new to sql so maybe the query is wrong.","title":"How to get results from multiple local sql database tables?","body":"<p>I'm creating an app in android studio and i have some questions stored in a database which is created when the user opens the app for the first time and i created another database so the user can add his questions and i need to take a random question from out of these 2 databases.Each database have 3 same columns 1.question 2.heat 3.gender\nHere's what i already tried but don't work.</p>\n\n<pre><code>    public Cursor getQuestion(int HeatLevel, int Gender) {\n            SQLiteDatabase db = this.getWritableDatabase();\n            String query = \"SELECT question, heat, gender FROM \" + TABLE_NAME +\n                    \" WHERE heat = \" + HeatLevel + \" AND  gender = \" + Gender +\n                    \" UNION ALL\" +\n                    \" SELECT question, heat, gender FROM \" + SECOND_TABLE_NAME +\n                    \" WHERE heat = \" + HeatLevel + \" AND gender = \" + Gender +\n                    \" ORDER BY RANDOM() LIMIT 1\";\n            Cursor data = db.rawQuery(query, null);\n            return data;\n        }\n</code></pre>\n\n<p>So the app chooses a question from the database based on the difficulty and the players gender.\nThe above code produces an error saying \"No such table\" and the name of the second database like it can't find it.</p>\n\n<p>i get the question in another activity using this</p>\n\n<pre><code>    public void getQuestion(int HeatLevel, int Gender) {\n            Cursor question = QuestionDB.getQuestion(HeatLevel, Gender);\n            if (question.moveToNext()) {\n                QuestionTextView.setText(question.getString(0));\n            }\n        }\n</code></pre>\n\n<p>I'm new to sql so maybe the query is wrong.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1523835743,"post_id":49847791,"comment_id":86710574,"body_markdown":"Did you read the whole Javadoc? It goes into substantial detail, especially including *&quot;is acceptable for demos and getting started&quot;*.","body":"Did you read the whole Javadoc? It goes into substantial detail, especially including <i>&quot;is acceptable for demos and getting started&quot;</i>."},{"owner":{"account_id":13372694,"reputation":327,"user_id":9650527,"display_name":"sammyjjohnson71"},"score":0,"creation_date":1523836682,"post_id":49847791,"comment_id":86710759,"body_markdown":"I did, but when implementing this (without just pulling the repo), when i wrote the method, I kept getting the error message saying that  withDefaultPasswordEncoder() could not be resolved, and wouldn&#39;t let me run the program","body":"I did, but when implementing this (without just pulling the repo), when i wrote the method, I kept getting the error message saying that  withDefaultPasswordEncoder() could not be resolved, and wouldn&#39;t let me run the program"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1523836895,"post_id":49847791,"comment_id":86710796,"body_markdown":"There&#39;s a difference between deprecated (you&#39;ll get a warning) and unresolved, which is an error. This documentation is still in the 5.0 docs, so it shouldn&#39;t be gone; what version of the Spring Security dependency are you using?","body":"There&#39;s a difference between deprecated (you&#39;ll get a warning) and unresolved, which is an error. This documentation is still in the 5.0 docs, so it shouldn&#39;t be gone; what version of the Spring Security dependency are you using?"},{"owner":{"account_id":13372694,"reputation":327,"user_id":9650527,"display_name":"sammyjjohnson71"},"score":0,"creation_date":1523837250,"post_id":49847791,"comment_id":86710865,"body_markdown":"Using gradle which I assume is 5.0.4.RELEASE..... -&gt;   compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;)","body":"Using gradle which I assume is 5.0.4.RELEASE..... -&gt;   compile(&quot;org.springframework.boot:spring-boot-starter-securi&zwnj;&#8203;ty&quot;)"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1523838104,"post_id":49847791,"comment_id":86710998,"body_markdown":"Spring Boot 1.5 or 2.0?","body":"Spring Boot 1.5 or 2.0?"},{"owner":{"account_id":13372694,"reputation":327,"user_id":9650527,"display_name":"sammyjjohnson71"},"score":0,"creation_date":1523838867,"post_id":49847791,"comment_id":86711143,"body_markdown":"spring boot 1.5","body":"spring boot 1.5"}],"answers":[{"tags":[],"owner":{"account_id":5842375,"reputation":3614,"user_id":4603538,"display_name":"TwiN"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1667932185,"creation_date":1523835759,"answer_id":49847852,"question_id":49847791,"body_markdown":"**EDIT: deleted old answer, misunderstood the question. Here&#39;s the new one:**\r\n\r\n`User.withDefaultPasswordEncoder()` can still be used for demos, you don&#39;t have to worry if that&#39;s what you&#39;re doing - even if it&#39;s deprecated - but in production, you shouldn&#39;t have a plain text password in your source code.\r\n\r\nWhat you should be doing instead of using your current `userDetailsService()` method is the [following][1]:\r\n\r\n    private static final String ENCODED_PASSWORD = &quot;$2a$10$AIUufK8g6EFhBcumRRV2L.AQNz3Bjp7oDQVFiO5JJMBFZQ6x2/R/2&quot;;\r\n\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.inMemoryAuthentication()\r\n\t\t\t.passwordEncoder(passwordEncoder())\r\n\t\t\t.withUser(&quot;user&quot;).password(ENCODED_PASSWORD).roles(&quot;USER&quot;);\r\n\t}\r\n\t\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\nWhere `ENCODED_PASSWORD` is `secret123` encoded with BCrypt. You can also encode it programmatically like so: `passwordEncoder().encode(&quot;secret123&quot;)`.\r\n\r\nThat way, even if you push your code to a public repository, people won&#39;t know the password because `ENCODED_PASSWORD` only shows the encoded (and hashed) version of the password and not the plain text version, but because you know that `$2a$10$AIUufK8g6EFhBcumRRV2L.AQNz3Bjp7oDQVFiO5JJMBFZQ6x2/R/2` is actually the encoded password of the string `secret123` whereas others don&#39;t, your in-memory user with the credentials `user:secret123` won&#39;t be compromised.\r\n\r\nNote that I&#39;m using leaving it in a static variable for the sake of the example.\r\n\r\n\r\n  [1]: https://gist.github.com/TwinProduction/19f1c9e911af5837f5f53a8398c9df37","title":"Java Spring Security - User.withDefaultPasswordEncoder() is deprecated?","body":"<p><strong>EDIT: deleted old answer, misunderstood the question. Here's the new one:</strong></p>\n<p><code>User.withDefaultPasswordEncoder()</code> can still be used for demos, you don't have to worry if that's what you're doing - even if it's deprecated - but in production, you shouldn't have a plain text password in your source code.</p>\n<p>What you should be doing instead of using your current <code>userDetailsService()</code> method is the <a href=\"https://gist.github.com/TwinProduction/19f1c9e911af5837f5f53a8398c9df37\" rel=\"nofollow noreferrer\">following</a>:</p>\n<pre><code>private static final String ENCODED_PASSWORD = &quot;$2a$10$AIUufK8g6EFhBcumRRV2L.AQNz3Bjp7oDQVFiO5JJMBFZQ6x2/R/2&quot;;\n\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.inMemoryAuthentication()\n        .passwordEncoder(passwordEncoder())\n        .withUser(&quot;user&quot;).password(ENCODED_PASSWORD).roles(&quot;USER&quot;);\n}\n\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Where <code>ENCODED_PASSWORD</code> is <code>secret123</code> encoded with BCrypt. You can also encode it programmatically like so: <code>passwordEncoder().encode(&quot;secret123&quot;)</code>.</p>\n<p>That way, even if you push your code to a public repository, people won't know the password because <code>ENCODED_PASSWORD</code> only shows the encoded (and hashed) version of the password and not the plain text version, but because you know that <code>$2a$10$AIUufK8g6EFhBcumRRV2L.AQNz3Bjp7oDQVFiO5JJMBFZQ6x2/R/2</code> is actually the encoded password of the string <code>secret123</code> whereas others don't, your in-memory user with the credentials <code>user:secret123</code> won't be compromised.</p>\n<p>Note that I'm using leaving it in a static variable for the sake of the example.</p>\n"},{"tags":[],"owner":{"account_id":12954074,"reputation":804,"user_id":9365478,"display_name":"martosfre"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567728170,"creation_date":1567728170,"answer_id":57814216,"question_id":49847791,"body_markdown":"Using the passwordEncoder.encode() would be like this\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t   @Override\r\n\t   protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.inMemoryAuthentication()\r\n\t\t.passwordEncoder(passwordEncoder())\r\n\t\t.withUser(&quot;user&quot;)\r\n\t\t.password(passwordEncoder().encode(&quot;miClave&quot;))\r\n\t\t.roles(&quot;USER&quot;);\r\n\t   }\r\n\t\r\n\t   @Bean\r\n\t   public PasswordEncoder passwordEncoder() {\r\n\t       return new BCryptPasswordEncoder();\r\n\t   } \r\n\r\n    }","title":"Java Spring Security - User.withDefaultPasswordEncoder() is deprecated?","body":"<p>Using the passwordEncoder.encode() would be like this</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n   @Override\n   protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.inMemoryAuthentication()\n    .passwordEncoder(passwordEncoder())\n    .withUser(\"user\")\n    .password(passwordEncoder().encode(\"miClave\"))\n    .roles(\"USER\");\n   }\n\n   @Bean\n   public PasswordEncoder passwordEncoder() {\n       return new BCryptPasswordEncoder();\n   } \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2235815,"reputation":884,"user_id":1972234,"display_name":"sujith s"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1671623079,"creation_date":1661026124,"answer_id":73429813,"question_id":49847791,"body_markdown":"In spring security 5.7.3 WebSecurityConfigurerAdapter will be deprecated and so we have \r\n**to provide bean of UserDetailsService** interface.\r\n\r\n&gt; Sample code\r\n\r\n        @Configuration\r\n        @EnableWebSecurity\r\n        @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n        public class WebSecurity {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.formLogin(form -&gt; {\r\n                form.loginPage(&quot;/login&quot;)\r\n                        .permitAll();\r\n            }).authorizeRequests();\r\n            return http.build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @Description(&quot;In memory Userdetails service registered since DB doesn&#39;t have user table &quot;)\r\n        public UserDetailsService users() {\r\n            // The builder will ensure the passwords are encoded before saving in memory\r\n            UserDetails user = User.builder()\r\n                    .username(&quot;user&quot;)\r\n                    .password(&quot;password&quot;)\r\n                    .roles(&quot;USER&quot;)\r\n                    .build();\r\n            UserDetails admin = User.builder()\r\n                    .username(&quot;admin&quot;)\r\n                    .password(&quot;password&quot;)\r\n                    .roles(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                    .build();\r\n            return new InMemoryUserDetailsManager(user, admin);\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n    }\r\n","title":"Java Spring Security - User.withDefaultPasswordEncoder() is deprecated?","body":"<p>In spring security 5.7.3 WebSecurityConfigurerAdapter will be deprecated and so we have\n<strong>to provide bean of UserDetailsService</strong> interface.</p>\n<blockquote>\n<p>Sample code</p>\n</blockquote>\n<pre><code>    @Configuration\n    @EnableWebSecurity\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\n    public class WebSecurity {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.formLogin(form -&gt; {\n            form.loginPage(&quot;/login&quot;)\n                    .permitAll();\n        }).authorizeRequests();\n        return http.build();\n    }\n\n\n    @Bean\n    @Description(&quot;In memory Userdetails service registered since DB doesn't have user table &quot;)\n    public UserDetailsService users() {\n        // The builder will ensure the passwords are encoded before saving in memory\n        UserDetails user = User.builder()\n                .username(&quot;user&quot;)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n        UserDetails admin = User.builder()\n                .username(&quot;admin&quot;)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user, admin);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25128898,"reputation":99,"user_id":18976379,"display_name":"KarthiDreamr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675519284,"creation_date":1675519284,"answer_id":75345592,"question_id":49847791,"body_markdown":"The withDefaultPasswordEncoder() method is now deprecated in favor of passwordEncoder() which accepts a PasswordEncoder implementation. It&#39;s recommended to use a stronger password encoding mechanism such as bcrypt or scrypt. \r\nTo use bcrypt, you can do the following:\r\n\r\n\r\n\tpackage com.example.securingweb;\r\n\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.core.userdetails.User;\r\n\timport org.springframework.security.core.userdetails.UserDetails;\r\n\timport org.springframework.security.core.userdetails.UserDetailsService;\r\n\timport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n\timport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\timport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\tpublic class WebSecurityConfig {\r\n\r\n\t    @Bean\r\n\t    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t    .authorizeHttpRequests((requests) -&gt; requests\r\n\t\t        .requestMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n\t\t        .anyRequest().authenticated()\r\n\t\t    )\r\n\t\t    .formLogin((form) -&gt; form\r\n\t\t        .loginPage(&quot;/login&quot;)\r\n\t\t        .permitAll()\r\n\t\t    )\r\n\t\t    .logout((logout) -&gt; logout.permitAll());\r\n\r\n\t\treturn http.build();\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public UserDetailsService userDetailsService() {\r\n\t\tUserDetails user =\r\n\t\t     User.builder()\r\n\t\t        .username(&quot;user&quot;)\r\n\t\t        .password(passwordEncoder().encode(&quot;password&quot;))\r\n\t\t        .roles(&quot;USER&quot;)\r\n\t\t        .build();\r\n\r\n\t\treturn new InMemoryUserDetailsManager(user);\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t    }\r\n\t} \r\n         \r\nThe below code is the new implementation of WebSecurityConfig.java file https://spring.io/guides/gs/securing-web/\r\n","title":"Java Spring Security - User.withDefaultPasswordEncoder() is deprecated?","body":"<p>The withDefaultPasswordEncoder() method is now deprecated in favor of passwordEncoder() which accepts a PasswordEncoder implementation. It's recommended to use a stronger password encoding mechanism such as bcrypt or scrypt.\nTo use bcrypt, you can do the following:</p>\n<pre><code>package com.example.securingweb;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((requests) -&gt; requests\n            .requestMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\n            .anyRequest().authenticated()\n        )\n        .formLogin((form) -&gt; form\n            .loginPage(&quot;/login&quot;)\n            .permitAll()\n        )\n        .logout((logout) -&gt; logout.permitAll());\n\n    return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n    UserDetails user =\n         User.builder()\n            .username(&quot;user&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .roles(&quot;USER&quot;)\n            .build();\n\n    return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n    }\n} \n     \n</code></pre>\n<p>The below code is the new implementation of WebSecurityConfig.java file <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/securing-web/</a></p>\n"},{"tags":[],"owner":{"account_id":15585621,"reputation":9,"user_id":11244239,"display_name":"Emmaroland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680208303,"creation_date":1680208303,"answer_id":75892756,"question_id":49847791,"body_markdown":"With Spring Security 6x, WebSecurityConfigurerAdapter has been removed completely, you will be have to use a Bean for the InMemory User Details and also use another bean to encode your password using BcrypPasswordEncoder. Your code should look like this;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService() {\r\n        UserDetails user = User.builder().username(&quot;user&quot;)\r\n                .password(passwordEncoder().encode(&quot;password&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    private PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    }\r\n\r\n\r\n","title":"Java Spring Security - User.withDefaultPasswordEncoder() is deprecated?","body":"<p>With Spring Security 6x, WebSecurityConfigurerAdapter has been removed completely, you will be have to use a Bean for the InMemory User Details and also use another bean to encode your password using BcrypPasswordEncoder. Your code should look like this;</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n@Bean\npublic InMemoryUserDetailsManager userDetailsService() {\n    UserDetails user = User.builder().username(&quot;user&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .roles(&quot;USER&quot;)\n            .build();\n    return new InMemoryUserDetailsManager(user);\n}\n\n@Bean\nprivate PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n}\n</code></pre>\n"}],"owner":{"account_id":13372694,"reputation":327,"user_id":9650527,"display_name":"sammyjjohnson71"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32333,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"answer_count":5,"score":31,"last_activity_date":1680208303,"creation_date":1523835155,"question_id":49847791,"body_markdown":"I am very new to java spring security, and was following the Spring.io [tutorial guide][1].\r\nAs part of this, I edited the `WebSecurityConfig` class as required:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n          http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n            .logout()\r\n                .permitAll();\r\n        }\r\n\r\n        @Bean\r\n        @Override\r\n        public UserDetailsService userDetailsService() {\r\n            UserDetails user =\r\n             User.withDefaultPasswordEncoder()\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;password&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n        }\r\n    }\r\n\r\n\r\nWithin the `userDetailService()` method,  it uses `withDefaultPasswordEncoder()` which is now deprecated as seen in the docs: [withDefaultPasswordEncoder()][2]\r\n\r\nUnfortunately, I have not been able to find an alternative to this, to complete this tutorial without using the deprecated method.\r\nWould somebody be able to provide an alternative for this  if possible? \r\n\r\nThanks! \r\n\r\n***note:*** I have attached a couple of screen shots of my error, as well as my gradle file\r\n\r\n![image 1: The error I am receiving][3]\r\n\r\n![image 2: My gradle file][4]\r\n \r\n\r\n\r\n  [1]: https://spring.io/guides/gs/securing-web/\r\n  [2]: https://docs.spring.io/spring-security/site/docs/5.0.x/api/org/springframework/security/core/userdetails/User.html#withDefaultPasswordEncoder--\r\n  [3]: https://i.stack.imgur.com/PSwKD.png\r\n  [4]: https://i.stack.imgur.com/8lCU3.png","title":"Java Spring Security - User.withDefaultPasswordEncoder() is deprecated?","body":"<p>I am very new to java spring security, and was following the Spring.io <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"noreferrer\">tutorial guide</a>.\nAs part of this, I edited the <code>WebSecurityConfig</code> class as required:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n      http\n        .authorizeRequests()\n            .antMatchers(\"/\", \"/home\").permitAll()\n            .anyRequest().authenticated()\n            .and()\n        .formLogin()\n            .loginPage(\"/login\")\n            .permitAll()\n            .and()\n        .logout()\n            .permitAll();\n    }\n\n    @Bean\n    @Override\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n         User.withDefaultPasswordEncoder()\n            .username(\"user\")\n            .password(\"password\")\n            .roles(\"USER\")\n            .build();\n\n    return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n\n<p>Within the <code>userDetailService()</code> method,  it uses <code>withDefaultPasswordEncoder()</code> which is now deprecated as seen in the docs: <a href=\"https://docs.spring.io/spring-security/site/docs/5.0.x/api/org/springframework/security/core/userdetails/User.html#withDefaultPasswordEncoder--\" rel=\"noreferrer\">withDefaultPasswordEncoder()</a></p>\n\n<p>Unfortunately, I have not been able to find an alternative to this, to complete this tutorial without using the deprecated method.\nWould somebody be able to provide an alternative for this  if possible? </p>\n\n<p>Thanks! </p>\n\n<p><strong><em>note:</em></strong> I have attached a couple of screen shots of my error, as well as my gradle file</p>\n\n<p><img src=\"https://i.stack.imgur.com/PSwKD.png\" alt=\"image 1: The error I am receiving\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/8lCU3.png\" alt=\"image 2: My gradle file\"></p>\n"},{"tags":["java","spring-boot","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680207060,"creation_date":1680207060,"answer_id":75892592,"question_id":75855679,"body_markdown":"How does Log4j 2.x interpret the `(String, Object...)` parameters of a logging call is determined by the [`MessageFactory`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/message/MessageFactory.html) used by your logger.\r\n\r\nWhen you create a logger you can pass a `MessageFactory` as second parameter to the `LogManager#getLogger` call (e.g. [`LogManager#getLogger(Class&lt;?&gt;, MessageFactory)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getLogger-java.lang.Class-org.apache.logging.log4j.message.MessageFactory-).\r\n\r\nIn order to format your messages with a `MessageSource` you need to create:\r\n\r\n * a new type of [`Message`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/message/Message.html):\r\n\r\n    ```lang-java\r\n    public class MessageSourceMessage implements Message {\r\n        \r\n        private final MessageSource source;\r\n        private final String code;\r\n        private final Object[] args;\r\n    \r\n        public MessageSourceMessage(MessageSource source, String code, Object[] args) {\r\n            this.source = source;\r\n            this.code = code;\r\n            this.args = args;\r\n        }\r\n    \r\n        @Override\r\n        public String getFormattedMessage() {\r\n            return source.getMessage(code, args, Locale.getDefault());\r\n        }\r\n    \r\n        @Override\r\n        public String getFormat() {\r\n            return code;\r\n        }\r\n    \r\n        @Override\r\n        public Object[] getParameters() {\r\n            return args;\r\n        }\r\n    \r\n        @Override\r\n        public Throwable getThrowable() {\r\n            return null;\r\n        }\r\n    }\r\n    ```\r\n * and a matching message factory:\r\n\r\n    ```lang-java\r\n    public class MessageSourceMessageFactory extends AbstractMessageFactory {\r\n    \r\n        private final MessageSource source;\r\n    \r\n        public MessageSourceMessageFactory(MessageSource source) {\r\n            this.source = source;\r\n        }\r\n    \r\n        @Override\r\n        public Message newMessage(CharSequence message) {\r\n            return new MessageSourceMessage(source, message.toString(), null);\r\n        }\r\n    \r\n        @Override\r\n        public Message newMessage(String message) {\r\n            return new MessageSourceMessage(source, message, null);\r\n        }\r\n    \r\n        @Override\r\n        public Message newMessage(String message, Object... params) {\r\n            return new MessageSourceMessage(source, message, params);\r\n        }\r\n    }\r\n    ```\r\n\r\n * then you can use the message factory to instantiate your loggers:\r\n\r\n   ```lang-java\r\n   Logger logger = LogManager.getLogger(Example.class,\r\n                                        new MessageSourceMessageFactory(source));\r\n   ```\r\n\r\nThere are some disadvantages of the example above:\r\n\r\n * since &quot;code&quot; gives you no information about the number of parameters, if &quot;code&quot; resolves to &quot;Hello {0} and {1}&quot;, a call like\r\n\r\n   ```lang-java\r\n   logger.info(&quot;code&quot;, param0, param1, throwable);\r\n   ```\r\n   will just discard the `throwable` parameter instead of using it as the throwable of the message. You might consider encoding the number of parameters in your code, so that `MessageSourceMessage` can use the first additional parameter as throwable.\r\n\r\n * this messagefactory produces temporary objects. You might consider implementing [`ReusableMessage`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/message/ReusableMessage.html), so that most of the time the same instance of message is used.","title":"log4j2 messages from file like Spring MessageSource","body":"<p>How does Log4j 2.x interpret the <code>(String, Object...)</code> parameters of a logging call is determined by the <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/message/MessageFactory.html\" rel=\"nofollow noreferrer\"><code>MessageFactory</code></a> used by your logger.</p>\n<p>When you create a logger you can pass a <code>MessageFactory</code> as second parameter to the <code>LogManager#getLogger</code> call (e.g. <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getLogger-java.lang.Class-org.apache.logging.log4j.message.MessageFactory-\" rel=\"nofollow noreferrer\"><code>LogManager#getLogger(Class&lt;?&gt;, MessageFactory)</code></a>.</p>\n<p>In order to format your messages with a <code>MessageSource</code> you need to create:</p>\n<ul>\n<li><p>a new type of <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/message/Message.html\" rel=\"nofollow noreferrer\"><code>Message</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MessageSourceMessage implements Message {\n\n    private final MessageSource source;\n    private final String code;\n    private final Object[] args;\n\n    public MessageSourceMessage(MessageSource source, String code, Object[] args) {\n        this.source = source;\n        this.code = code;\n        this.args = args;\n    }\n\n    @Override\n    public String getFormattedMessage() {\n        return source.getMessage(code, args, Locale.getDefault());\n    }\n\n    @Override\n    public String getFormat() {\n        return code;\n    }\n\n    @Override\n    public Object[] getParameters() {\n        return args;\n    }\n\n    @Override\n    public Throwable getThrowable() {\n        return null;\n    }\n}\n</code></pre>\n</li>\n<li><p>and a matching message factory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MessageSourceMessageFactory extends AbstractMessageFactory {\n\n    private final MessageSource source;\n\n    public MessageSourceMessageFactory(MessageSource source) {\n        this.source = source;\n    }\n\n    @Override\n    public Message newMessage(CharSequence message) {\n        return new MessageSourceMessage(source, message.toString(), null);\n    }\n\n    @Override\n    public Message newMessage(String message) {\n        return new MessageSourceMessage(source, message, null);\n    }\n\n    @Override\n    public Message newMessage(String message, Object... params) {\n        return new MessageSourceMessage(source, message, params);\n    }\n}\n</code></pre>\n</li>\n<li><p>then you can use the message factory to instantiate your loggers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Logger logger = LogManager.getLogger(Example.class,\n                                     new MessageSourceMessageFactory(source));\n</code></pre>\n</li>\n</ul>\n<p>There are some disadvantages of the example above:</p>\n<ul>\n<li><p>since &quot;code&quot; gives you no information about the number of parameters, if &quot;code&quot; resolves to &quot;Hello {0} and {1}&quot;, a call like</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.info(&quot;code&quot;, param0, param1, throwable);\n</code></pre>\n<p>will just discard the <code>throwable</code> parameter instead of using it as the throwable of the message. You might consider encoding the number of parameters in your code, so that <code>MessageSourceMessage</code> can use the first additional parameter as throwable.</p>\n</li>\n<li><p>this messagefactory produces temporary objects. You might consider implementing <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/message/ReusableMessage.html\" rel=\"nofollow noreferrer\"><code>ReusableMessage</code></a>, so that most of the time the same instance of message is used.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":15647173,"reputation":135,"user_id":11289119,"display_name":"Stefano Riffaldi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680207060,"creation_date":1679919676,"question_id":75855679,"body_markdown":"I&#39;m using log4j2 2.20.0 with spring-boot 1.5.8 under Java 1.8, i&#39;m tring to simplify my software from bloatcode. To log messages I&#39;m currently use this way:\r\n\r\n    #message.properties\r\n    message-1=Current time is {0}\r\n    message-2=Message for supplier at {0}\r\n\r\n    @Configuration\r\n    public class BeanDefinition {\r\n    \t@Bean\r\n    \tpublic MessageSource messageSource() {\r\n    \t\tReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n    \t\tmessageSource.setBasenames(&quot;messages.poc&quot;);\r\n    \t\treturn messageSource;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic MessageSourceAccessor getMessageFormatAccessor(MessageSource messageSource) {\r\n    \t\treturn new MessageSourceAccessor(messageSource);\r\n    \t}\r\n    }\r\n\r\n    @Component\r\n    @Log4j2\r\n    public class MessageSourceAccessorRunner implements ApplicationRunner {\r\n    \t@Autowired\r\n    \tprivate MessageSourceAccessor accessor;\r\n    \r\n    \t@Override\r\n    \tpublic void run(ApplicationArguments args) throws Exception {\r\n    \t\tObject[] logArgs = {Instant.now()};\r\n    \t\tlog.info(accessor.getMessage(&quot;message-1&quot;, logArgs));\r\n    \t}\r\n    }\r\n\r\nwhat i&#39;m trying to do is to performing something like this, to save my code from a lot of bloatcode:\r\n\r\n    log.debug(&quot;message-2&quot;, logArgs);\r\n\r\nthat perform the same effect of\r\n\r\n    log.debug(() -&gt; accessor.getMessage(&quot;message-2&quot;, logArgs));\r\n\r\nmeaning to logs the message which constructed if the logging level is the DEBUG level, to save performance.\r\n\r\nsomeone can help me to toubleshoot this issue ? thanks !","title":"log4j2 messages from file like Spring MessageSource","body":"<p>I'm using log4j2 2.20.0 with spring-boot 1.5.8 under Java 1.8, i'm tring to simplify my software from bloatcode. To log messages I'm currently use this way:</p>\n<pre><code>#message.properties\nmessage-1=Current time is {0}\nmessage-2=Message for supplier at {0}\n\n@Configuration\npublic class BeanDefinition {\n    @Bean\n    public MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n        messageSource.setBasenames(&quot;messages.poc&quot;);\n        return messageSource;\n    }\n\n    @Bean\n    public MessageSourceAccessor getMessageFormatAccessor(MessageSource messageSource) {\n        return new MessageSourceAccessor(messageSource);\n    }\n}\n\n@Component\n@Log4j2\npublic class MessageSourceAccessorRunner implements ApplicationRunner {\n    @Autowired\n    private MessageSourceAccessor accessor;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        Object[] logArgs = {Instant.now()};\n        log.info(accessor.getMessage(&quot;message-1&quot;, logArgs));\n    }\n}\n</code></pre>\n<p>what i'm trying to do is to performing something like this, to save my code from a lot of bloatcode:</p>\n<pre><code>log.debug(&quot;message-2&quot;, logArgs);\n</code></pre>\n<p>that perform the same effect of</p>\n<pre><code>log.debug(() -&gt; accessor.getMessage(&quot;message-2&quot;, logArgs));\n</code></pre>\n<p>meaning to logs the message which constructed if the logging level is the DEBUG level, to save performance.</p>\n<p>someone can help me to toubleshoot this issue ? thanks !</p>\n"},{"tags":["java","error-handling"],"answers":[{"tags":[],"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1471320345,"creation_date":1471320345,"answer_id":38966499,"question_id":38966477,"body_markdown":"You need to pass a `File` instance like :\r\n\r\n    f1.renameTo(new File(&quot;../CPUInput.txt&quot;));","title":"Move files in java?","body":"<p>You need to pass a <code>File</code> instance like :</p>\n\n<pre><code>f1.renameTo(new File(\"../CPUInput.txt\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8943221,"reputation":301,"user_id":6671543,"display_name":"whyn0t"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471326202,"creation_date":1471320547,"answer_id":38966523,"question_id":38966477,"body_markdown":"try this out \r\n\r\n    public void renameFile(String strOldFileName, String strNewFileName) {\r\n        File oldName = new File(strFilePath + &quot;/&quot; + strOldFileName);\r\n        File newName = new File(strFilePath + &quot;/&quot; + strNewFileName);\r\n        if (oldName.renameTo(newName)) {\r\n            System.out.println(strOldFileName + &quot;renamed to &quot; + strNewFileName);\r\n        } else {\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n    }","title":"Move files in java?","body":"<p>try this out </p>\n\n<pre><code>public void renameFile(String strOldFileName, String strNewFileName) {\n    File oldName = new File(strFilePath + \"/\" + strOldFileName);\n    File newName = new File(strFilePath + \"/\" + strNewFileName);\n    if (oldName.renameTo(newName)) {\n        System.out.println(strOldFileName + \"renamed to \" + strNewFileName);\n    } else {\n        System.out.println(\"Error\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471321880,"creation_date":1471321880,"answer_id":38966693,"question_id":38966477,"body_markdown":"With JDK6\r\n---\r\n\r\nLet’s start with the plain Java, JDK6 solution:\r\n\r\n    @Test\r\n    public void givenUsingJDK6_whenMovingFile_thenCorrect() throws IOException {\r\n        File fileToMove = new File(&quot;src/test/resources/toMoveFile_jdk6.txt&quot;);\r\n        boolean isMoved = fileToMove.renameTo(new File(&quot;src/test/resources/movedFile_jdk6.txt&quot;));\r\n        if (!isMoved) {\r\n            throw new FileSystemException(&quot;src/test/resources/movedFile_jdk6.txt&quot;);\r\n        }\r\n    }\r\n\r\nWith NIO and JDK7\r\n---\r\nLet’s now look at how we can do the same using NIO and JDK 7:\r\n\r\n    @Test\r\n    public void givenUsingJDK7Nio2_whenMovingFile_thenCorrect() throws IOException {\r\n        Path fileToMovePath = \r\n          Files.createFile(Paths.get(&quot;src/test/resources/&quot; + randomAlphabetic(5) + &quot;.txt&quot;));\r\n        Path targetPath = Paths.get(&quot;src/main/resources/&quot;);\r\n     \r\n        Files.move(fileToMovePath, targetPath.resolve(fileToMovePath.getFileName()));\r\n    }\r\n\r\nWith Commons IO\r\n---\r\nFinally, let’s take a look at a solution with Apache Commons IO – probably the most simpler one:\r\n\r\n    @Test\r\n    public void givenUsingApache_whenMovingFile_thenCorrect() throws IOException {\r\n        FileUtils.moveFile(\r\n          FileUtils.getFile(&quot;src/test/resources/fileToMove.txt&quot;), \r\n          FileUtils.getFile(&quot;src/test/resources/fileMoved.txt&quot;));\r\n    }\r\n\r\nThis one lines will of course allow both moving or renaming – depending if the target directory is the same or not.\r\n\r\nAlternatively – here’s a solution for moving specifically, also allowing us to automatically create the target directory if it doesn’t already exist:\r\n\r\n    @Test\r\n    public void givenUsingApache_whenMovingFileApproach2_thenCorrect() throws IOException {\r\n        FileUtils.moveFileToDirectory(\r\n          FileUtils.getFile(&quot;src/test/resources/fileToMove.txt&quot;), \r\n          FileUtils.getFile(&quot;src/main/resources/&quot;), true);\r\n    }\r\n\r\nWe looked at renaming in these code snippets, but moving is of course exactly the same, only the target directory needs to be different.\r\n\r\nResource Link:\r\n---\r\n[Java – Rename or Move a File][1]\r\n\r\n\r\n  [1]: http://www.baeldung.com/java-how-to-rename-or-move-a-file","title":"Move files in java?","body":"<h2>With JDK6</h2>\n\n<p>Let’s start with the plain Java, JDK6 solution:</p>\n\n<pre><code>@Test\npublic void givenUsingJDK6_whenMovingFile_thenCorrect() throws IOException {\n    File fileToMove = new File(\"src/test/resources/toMoveFile_jdk6.txt\");\n    boolean isMoved = fileToMove.renameTo(new File(\"src/test/resources/movedFile_jdk6.txt\"));\n    if (!isMoved) {\n        throw new FileSystemException(\"src/test/resources/movedFile_jdk6.txt\");\n    }\n}\n</code></pre>\n\n<h2>With NIO and JDK7</h2>\n\n<p>Let’s now look at how we can do the same using NIO and JDK 7:</p>\n\n<pre><code>@Test\npublic void givenUsingJDK7Nio2_whenMovingFile_thenCorrect() throws IOException {\n    Path fileToMovePath = \n      Files.createFile(Paths.get(\"src/test/resources/\" + randomAlphabetic(5) + \".txt\"));\n    Path targetPath = Paths.get(\"src/main/resources/\");\n\n    Files.move(fileToMovePath, targetPath.resolve(fileToMovePath.getFileName()));\n}\n</code></pre>\n\n<h2>With Commons IO</h2>\n\n<p>Finally, let’s take a look at a solution with Apache Commons IO – probably the most simpler one:</p>\n\n<pre><code>@Test\npublic void givenUsingApache_whenMovingFile_thenCorrect() throws IOException {\n    FileUtils.moveFile(\n      FileUtils.getFile(\"src/test/resources/fileToMove.txt\"), \n      FileUtils.getFile(\"src/test/resources/fileMoved.txt\"));\n}\n</code></pre>\n\n<p>This one lines will of course allow both moving or renaming – depending if the target directory is the same or not.</p>\n\n<p>Alternatively – here’s a solution for moving specifically, also allowing us to automatically create the target directory if it doesn’t already exist:</p>\n\n<pre><code>@Test\npublic void givenUsingApache_whenMovingFileApproach2_thenCorrect() throws IOException {\n    FileUtils.moveFileToDirectory(\n      FileUtils.getFile(\"src/test/resources/fileToMove.txt\"), \n      FileUtils.getFile(\"src/main/resources/\"), true);\n}\n</code></pre>\n\n<p>We looked at renaming in these code snippets, but moving is of course exactly the same, only the target directory needs to be different.</p>\n\n<h2>Resource Link:</h2>\n\n<p><a href=\"http://www.baeldung.com/java-how-to-rename-or-move-a-file\" rel=\"nofollow\">Java – Rename or Move a File</a></p>\n"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38966499,"answer_count":3,"score":0,"last_activity_date":1680206981,"creation_date":1471320168,"question_id":38966477,"body_markdown":"I am trying to move a file from the directory `workspce/TextInput` to `workspace/CPUInput` using this code: \r\n\r\n    String direct = System.getProperty(&quot;user.dir&quot;);\r\n    File file = new File(direct + &quot;/FirstChar.txt&quot;);\r\n    file.renameTo(&quot;../CPUInput&quot;);\r\n\r\nbut on `file.renameTo(&quot;../CPUInput&quot;)` it give me a compiler error:\r\n\r\n    The method renameTo(File) in the type File is not applicable for the arguments (String)\r\n\r\nIf I can&#39;t use string arguments for `renameTo()`, then what arguments do I pass to the method?","title":"Move files in java?","body":"<p>I am trying to move a file from the directory <code>workspce/TextInput</code> to <code>workspace/CPUInput</code> using this code:</p>\n<pre><code>String direct = System.getProperty(&quot;user.dir&quot;);\nFile file = new File(direct + &quot;/FirstChar.txt&quot;);\nfile.renameTo(&quot;../CPUInput&quot;);\n</code></pre>\n<p>but on <code>file.renameTo(&quot;../CPUInput&quot;)</code> it give me a compiler error:</p>\n<pre><code>The method renameTo(File) in the type File is not applicable for the arguments (String)\n</code></pre>\n<p>If I can't use string arguments for <code>renameTo()</code>, then what arguments do I pass to the method?</p>\n"},{"tags":["java","swing","jframe","jlabel","imageicon"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1492835831,"post_id":43555261,"comment_id":74162407,"body_markdown":"1) For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) One way to get image(s) for an example is to hot link to images seen in [this Q&amp;A](http://stackoverflow.com/q/19209650/418556).","body":"1) For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) One way to get image(s) for an example is to hot link to images seen in <a href=\"http://stackoverflow.com/q/19209650/418556\">this Q&amp;A</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1492836146,"post_id":43555261,"comment_id":74162458,"body_markdown":"*&quot;is that required for it to be a good question..&quot;* That&#39;s fairly subjective. I&#39;d say yes. *&quot;.. or is it just advice?&quot;* I&#39;d say it&#39;s both. OTOH there is not one, but **two** close reasons that mention &#39;no MCVE&#39;, so the question you should be asking yourself is, just how much do you want an answer? I was almost tempted to turn that uncompilable code snippet into an MCVE to test further, but now I think I&#39;ll wait for your decision (&amp; MCVE).","body":"<i>&quot;is that required for it to be a good question..&quot;</i> That&#39;s fairly subjective. I&#39;d say yes. <i>&quot;.. or is it just advice?&quot;</i> I&#39;d say it&#39;s both. OTOH there is not one, but <b>two</b> close reasons that mention &#39;no MCVE&#39;, so the question you should be asking yourself is, just how much do you want an answer? I was almost tempted to turn that uncompilable code snippet into an MCVE to test further, but now I think I&#39;ll wait for your decision (&amp; MCVE)."}],"answers":[{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1492837303,"creation_date":1492835930,"answer_id":43555292,"question_id":43555261,"body_markdown":"Try using a different layout, like `BorderLayout`. `GridLayout` will force all the cells to have the same size.\r\n\r\n    frame.setLayout(new BorderLayout());\r\n    ...\r\n    frame.add(new JLabel(imageIcon), BorderLayout.WEST);\r\n    frame.add(label,                 BorderLayout.CENTER);\r\n\r\nedit:\r\n\r\nI see you already accepted my answer but I had put this together in the mean-time, just to see if the JLabel with a scaled image added some additional factor. (Which it didn&#39;t. It works fine.)\r\n\r\n[![image example][1]][1]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.net.*;\r\n    import javax.imageio.*;\r\n    \r\n    class ImageExample implements Runnable {\r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new ImageExample());\r\n        }\r\n        \r\n        @Override\r\n        public void run() {\r\n            JFrame frame = new JFrame();\r\n            JPanel content = new JPanel();\r\n            content.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n            content.setBackground(Color.white);\r\n            frame.setContentPane(content);\r\n            //\r\n            frame.setLayout(new BorderLayout(20, 20));\r\n            JLabel icon = new JLabel(new ImageIcon(img));\r\n            JLabel text = new JLabel(&quot;&lt;html&gt;&quot; +\r\n                &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; + &quot;&lt;br&gt;&quot; +\r\n                &quot;bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb&quot; + &quot;&lt;br&gt;&quot; +\r\n                &quot;cccccccccccccccccccccccccccccccccccccccccc&quot; + &quot;&lt;/html&gt;&quot;);\r\n            text.setFont(new Font(Font.MONOSPACED, Font.PLAIN, 12));\r\n            frame.add(icon, BorderLayout.WEST);\r\n            frame.add(text, BorderLayout.CENTER);\r\n            //\r\n            frame.pack();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n        \r\n        static final Image img;\r\n        static {\r\n            try {\r\n                URL url = new URL(&quot;https://i.stack.imgur.com/7bI1Y.jpg&quot;);\r\n                img = ImageIO.read(url).getScaledInstance(48, 48, Image.SCALE_SMOOTH);\r\n            } catch (Exception x) {\r\n                throw new RuntimeException(x);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zpJ97.png","title":"JLabel ImageIcon not smoothing properly","body":"<p>Try using a different layout, like <code>BorderLayout</code>. <code>GridLayout</code> will force all the cells to have the same size.</p>\n\n<pre><code>frame.setLayout(new BorderLayout());\n...\nframe.add(new JLabel(imageIcon), BorderLayout.WEST);\nframe.add(label,                 BorderLayout.CENTER);\n</code></pre>\n\n<p>edit:</p>\n\n<p>I see you already accepted my answer but I had put this together in the mean-time, just to see if the JLabel with a scaled image added some additional factor. (Which it didn't. It works fine.)</p>\n\n<p><a href=\"https://i.stack.imgur.com/zpJ97.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zpJ97.png\" alt=\"image example\"></a></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.net.*;\nimport javax.imageio.*;\n\nclass ImageExample implements Runnable {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new ImageExample());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        JPanel content = new JPanel();\n        content.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n        content.setBackground(Color.white);\n        frame.setContentPane(content);\n        //\n        frame.setLayout(new BorderLayout(20, 20));\n        JLabel icon = new JLabel(new ImageIcon(img));\n        JLabel text = new JLabel(\"&lt;html&gt;\" +\n            \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\" + \"&lt;br&gt;\" +\n            \"bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb\" + \"&lt;br&gt;\" +\n            \"cccccccccccccccccccccccccccccccccccccccccc\" + \"&lt;/html&gt;\");\n        text.setFont(new Font(Font.MONOSPACED, Font.PLAIN, 12));\n        frame.add(icon, BorderLayout.WEST);\n        frame.add(text, BorderLayout.CENTER);\n        //\n        frame.pack();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    static final Image img;\n    static {\n        try {\n            URL url = new URL(\"https://i.stack.imgur.com/7bI1Y.jpg\");\n            img = ImageIO.read(url).getScaledInstance(48, 48, Image.SCALE_SMOOTH);\n        } catch (Exception x) {\n            throw new RuntimeException(x);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43555292,"answer_count":1,"score":0,"last_activity_date":1680206867,"creation_date":1492835626,"question_id":43555261,"body_markdown":"I created a `JLabel` containing an `ImageIcon` and inserted it into a `JFrame` with a grid layout after smoothing it to a preferred size. \r\n\r\nIt mostly worked, but the blank horizontal areas around the `JLabel` hogged up most of the frame as seen in this image: [![Outcome][1]][1]\r\n\r\nWhy is the `JLabel` `ImageIcon` not giving me the following outcome?\r\n\r\n [![Desired Outcome][2]][2]\r\n\r\nThis is my renderer: \r\n\r\n    ImageIcon imageIcon = new ImageIcon(baseDir + dash + &quot;ErrIco.png&quot;);\r\n    Image image = imageIcon.getImage();\r\n    Image newimg = image.getScaledInstance(35, 35,  java.awt.Image.SCALE_SMOOTH);\r\n    imageIcon = new ImageIcon(newimg);\r\n\r\n  [1]: https://i.stack.imgur.com/kSgMe.png\r\n  [2]: https://i.stack.imgur.com/k2GIq.png\r\n","title":"JLabel ImageIcon not smoothing properly","body":"<p>I created a <code>JLabel</code> containing an <code>ImageIcon</code> and inserted it into a <code>JFrame</code> with a grid layout after smoothing it to a preferred size.</p>\n<p>It mostly worked, but the blank horizontal areas around the <code>JLabel</code> hogged up most of the frame as seen in this image: <a href=\"https://i.stack.imgur.com/kSgMe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSgMe.png\" alt=\"Outcome\" /></a></p>\n<p>Why is the <code>JLabel</code> <code>ImageIcon</code> not giving me the following outcome?</p>\n<p><a href=\"https://i.stack.imgur.com/k2GIq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2GIq.png\" alt=\"Desired Outcome\" /></a></p>\n<p>This is my renderer:</p>\n<pre><code>ImageIcon imageIcon = new ImageIcon(baseDir + dash + &quot;ErrIco.png&quot;);\nImage image = imageIcon.getImage();\nImage newimg = image.getScaledInstance(35, 35,  java.awt.Image.SCALE_SMOOTH);\nimageIcon = new ImageIcon(newimg);\n</code></pre>\n"},{"tags":["java","apache-spark","flatmap"],"comments":[{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1658262803,"post_id":73041490,"comment_id":129007372,"body_markdown":"Can you share your SQL queries, so we can understand the logic and transform it to code.","body":"Can you share your SQL queries, so we can understand the logic and transform it to code."},{"owner":{"account_id":20202037,"reputation":15,"user_id":14817486,"display_name":"Kush Rohra"},"score":0,"creation_date":1658340987,"post_id":73041490,"comment_id":129030257,"body_markdown":"I got some help from one of the answer and have posted the final solution I implemented @AbdennacerLachiheb","body":"I got some help from one of the answer and have posted the final solution I implemented @AbdennacerLachiheb"}],"answers":[{"tags":[],"owner":{"display_name":"user9276715"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658322097,"creation_date":1658259315,"answer_id":73042585,"question_id":73041490,"body_markdown":"Assuming that your dataset is called `data`, this:\r\n\r\n    data = data.select(\r\n      col(&quot;org_id&quot;), \r\n      col(&quot;user_id&quot;), \r\n      col(&quot;call_id&quot;),\r\n      expr(&quot;stack(3, &#39;audio&#39;, audio_bw, &#39;video&#39;, video_bw, &#39;share&#39;, share_bw) as (type, bw)&quot;)\r\n    )\r\n\r\ndoes what you want, the final output table:\r\n\r\n```\r\n+------+-------+-------+-----+---+\r\n|org_id|user_id|call_id| type| bw|\r\n+------+-------+-------+-----+---+\r\n|     1|      1|      1|audio|  2|\r\n|     1|      1|      1|video|  3|\r\n|     1|      1|      1|share|  4|\r\n+------+-------+-------+-----+---+\r\n```\r\n\r\nMore about `stack` can be found [here][1]!\r\n\r\n**EDIT:**\r\n\r\nIn case you have multiple columns to stack:\r\n\r\n    data\r\n      .select(\r\n        col(&quot;org_id&quot;),\r\n        col(&quot;user_id&quot;),\r\n        col(&quot;call_id&quot;),\r\n        // concatinate your data\r\n        expr(&quot;concat_ws(&#39; - &#39;, audio_rx_bw, audio_tx_bw)&quot;).as(&quot;audio&quot;),\r\n        expr(&quot;concat_ws(&#39; - &#39;, video_rx_bw, video_tx_bw)&quot;).as(&quot;video&quot;),\r\n        expr(&quot;concat_ws(&#39; - &#39;, share_rx_bw, share_tx_bw)&quot;).as(&quot;share&quot;)\r\n      )\r\n      .select(\r\n        col(&quot;org_id&quot;),\r\n        col(&quot;user_id&quot;),\r\n        col(&quot;call_id&quot;),\r\n        // stack again, but this time for the concatenated values\r\n        expr(&quot;stack(3, &#39;audio&#39;, audio, &#39;video&#39;, video, &#39;share&#39;, share) as (type, data)&quot;)\r\n      )\r\n      // once done with stacking, get the data in your desired format\r\n      .withColumn(&quot;rx_bw&quot;, split(col(&quot;data&quot;), &quot; - &quot;)(0))\r\n      .withColumn(&quot;tx_bw&quot;, split(col(&quot;data&quot;), &quot; - &quot;)(1))\r\n      .drop(&quot;data&quot;)\r\n\r\nInput:\r\n\r\n```\r\n+------+-------+-------+-----------+-----------+-----------+-----------+-----------+-----------+\r\n|org_id|user_id|call_id|audio_rx_bw|audio_tx_bw|video_rx_bw|video_tx_bw|share_rx_bw|share_tx_bw|\r\n+------+-------+-------+-----------+-----------+-----------+-----------+-----------+-----------+\r\n|     1|      1|      1|          2|          3|          4|          2|          4|          5|\r\n+------+-------+-------+-----------+-----------+-----------+-----------+-----------+-----------+\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n+------+-------+-------+-----+-----+-----+\r\n|org_id|user_id|call_id| type|rx_bw|tx_bw|\r\n+------+-------+-------+-----+-----+-----+\r\n|     1|      1|      1|audio|    2|    3|\r\n|     1|      1|      1|video|    4|    2|\r\n|     1|      1|      1|share|    4|    5|\r\n+------+-------+-------+-----+-----+-----+\r\n```\r\n\r\nfor this input:\r\n\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/latest/api/sql/index.html#stack\r\n\r\n","title":"Transpose multiple columns to rows in Java Dataset","body":"<p>Assuming that your dataset is called <code>data</code>, this:</p>\n<pre><code>data = data.select(\n  col(&quot;org_id&quot;), \n  col(&quot;user_id&quot;), \n  col(&quot;call_id&quot;),\n  expr(&quot;stack(3, 'audio', audio_bw, 'video', video_bw, 'share', share_bw) as (type, bw)&quot;)\n)\n</code></pre>\n<p>does what you want, the final output table:</p>\n<pre><code>+------+-------+-------+-----+---+\n|org_id|user_id|call_id| type| bw|\n+------+-------+-------+-----+---+\n|     1|      1|      1|audio|  2|\n|     1|      1|      1|video|  3|\n|     1|      1|      1|share|  4|\n+------+-------+-------+-----+---+\n</code></pre>\n<p>More about <code>stack</code> can be found <a href=\"https://spark.apache.org/docs/latest/api/sql/index.html#stack\" rel=\"nofollow noreferrer\">here</a>!</p>\n<p><strong>EDIT:</strong></p>\n<p>In case you have multiple columns to stack:</p>\n<pre><code>data\n  .select(\n    col(&quot;org_id&quot;),\n    col(&quot;user_id&quot;),\n    col(&quot;call_id&quot;),\n    // concatinate your data\n    expr(&quot;concat_ws(' - ', audio_rx_bw, audio_tx_bw)&quot;).as(&quot;audio&quot;),\n    expr(&quot;concat_ws(' - ', video_rx_bw, video_tx_bw)&quot;).as(&quot;video&quot;),\n    expr(&quot;concat_ws(' - ', share_rx_bw, share_tx_bw)&quot;).as(&quot;share&quot;)\n  )\n  .select(\n    col(&quot;org_id&quot;),\n    col(&quot;user_id&quot;),\n    col(&quot;call_id&quot;),\n    // stack again, but this time for the concatenated values\n    expr(&quot;stack(3, 'audio', audio, 'video', video, 'share', share) as (type, data)&quot;)\n  )\n  // once done with stacking, get the data in your desired format\n  .withColumn(&quot;rx_bw&quot;, split(col(&quot;data&quot;), &quot; - &quot;)(0))\n  .withColumn(&quot;tx_bw&quot;, split(col(&quot;data&quot;), &quot; - &quot;)(1))\n  .drop(&quot;data&quot;)\n</code></pre>\n<p>Input:</p>\n<pre><code>+------+-------+-------+-----------+-----------+-----------+-----------+-----------+-----------+\n|org_id|user_id|call_id|audio_rx_bw|audio_tx_bw|video_rx_bw|video_tx_bw|share_rx_bw|share_tx_bw|\n+------+-------+-------+-----------+-----------+-----------+-----------+-----------+-----------+\n|     1|      1|      1|          2|          3|          4|          2|          4|          5|\n+------+-------+-------+-----------+-----------+-----------+-----------+-----------+-----------+\n</code></pre>\n<p>Output:</p>\n<pre><code>+------+-------+-------+-----+-----+-----+\n|org_id|user_id|call_id| type|rx_bw|tx_bw|\n+------+-------+-------+-----+-----+-----+\n|     1|      1|      1|audio|    2|    3|\n|     1|      1|      1|video|    4|    2|\n|     1|      1|      1|share|    4|    5|\n+------+-------+-------+-----+-----+-----+\n</code></pre>\n<p>for this input:</p>\n"},{"tags":[],"owner":{"account_id":20202037,"reputation":15,"user_id":14817486,"display_name":"Kush Rohra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658340866,"creation_date":1658340866,"answer_id":73056399,"question_id":73041490,"body_markdown":"I used the following query and my issue was resolved\r\n```\r\nselect \r\n\r\n   timestamp, organization_id, cluster_safe_name, node_name, correlation_id, is_cascade, cascade_peer_reachability, \r\n\r\n   stack(4, &#39;audio&#39;, audio_main_bitrate, &#39;audio_slides&#39;, audio_slides_bitrate, &#39;video&#39;, video_main_bitrate, &#39;share&#39;, video_slides_bitrate) as (call_type, rtp_bytes) \r\nfrom (\r\n\tselect \r\n      timestamp, organization_id, cluster_safe_name, node_name, correlation_id, is_cascade, cascade_peer_reachability, \r\n\t  audio_main_rx_bitrate || &#39;/&#39; || audio_main_tx_bitrate as audio_main_bitrate, audio_slides_rx_bitrate  || &#39;/&#39; || audio_slides_tx_bitrate as audio_slides_bitrate, \r\n\t  video_main_rx_bitrate  || &#39;/&#39; || video_main_tx_bitrate as video_main_bitrate, video_slides_rx_bitrate  || &#39;/&#39; ||  video_slides_tx_bitrate as video_slides_bitrate \r\n\tfrom homer_cascade_bandwidth_usage_metrics_v2 \r\n\twhere timestamp &gt;= &#39;2022-07-20 10:20:00&#39; and timestamp &lt; &#39;2022-07-20 11:00:00&#39; \r\n) t\r\n\r\nORDER BY correlation_id \r\n```","title":"Transpose multiple columns to rows in Java Dataset","body":"<p>I used the following query and my issue was resolved</p>\n<pre><code>select \n\n   timestamp, organization_id, cluster_safe_name, node_name, correlation_id, is_cascade, cascade_peer_reachability, \n\n   stack(4, 'audio', audio_main_bitrate, 'audio_slides', audio_slides_bitrate, 'video', video_main_bitrate, 'share', video_slides_bitrate) as (call_type, rtp_bytes) \nfrom (\n    select \n      timestamp, organization_id, cluster_safe_name, node_name, correlation_id, is_cascade, cascade_peer_reachability, \n      audio_main_rx_bitrate || '/' || audio_main_tx_bitrate as audio_main_bitrate, audio_slides_rx_bitrate  || '/' || audio_slides_tx_bitrate as audio_slides_bitrate, \n      video_main_rx_bitrate  || '/' || video_main_tx_bitrate as video_main_bitrate, video_slides_rx_bitrate  || '/' ||  video_slides_tx_bitrate as video_slides_bitrate \n    from homer_cascade_bandwidth_usage_metrics_v2 \n    where timestamp &gt;= '2022-07-20 10:20:00' and timestamp &lt; '2022-07-20 11:00:00' \n) t\n\nORDER BY correlation_id \n</code></pre>\n"}],"owner":{"account_id":20202037,"reputation":15,"user_id":14817486,"display_name":"Kush Rohra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73042585,"answer_count":2,"score":0,"last_activity_date":1680206692,"creation_date":1658253210,"question_id":73041490,"body_markdown":"I have a dataset in spark which has values like\r\n\r\n| org_id | user_id | call_id | audio_bw | video_bw | share_bw|\r\n|--------|---------|---------|----------|----------|---------|\r\n| 1      | 1       | 1       | 2        | 3        | 4       |\r\n\r\nI am able to transpose it into the following using multiple SQL queries, bit wanted to do it using code, if possible using `flatMap`\r\n\r\n| org_id | user_id | call_id | type  | bw |\r\n|--------|---------|---------|-------|----|\r\n| 1      | 1       | 1       | audio | 2  |\r\n| 1      | 1       | 1       | video | 3  |\r\n| 1      | 1       | 1       | share | 4  |\r\n","title":"Transpose multiple columns to rows in Java Dataset","body":"<p>I have a dataset in spark which has values like</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>org_id</th>\n<th>user_id</th>\n<th>call_id</th>\n<th>audio_bw</th>\n<th>video_bw</th>\n<th>share_bw</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I am able to transpose it into the following using multiple SQL queries, bit wanted to do it using code, if possible using <code>flatMap</code></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>org_id</th>\n<th>user_id</th>\n<th>call_id</th>\n<th>type</th>\n<th>bw</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>audio</td>\n<td>2</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>video</td>\n<td>3</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>share</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","spring","sqlite","create-table","unique-constraint"],"answers":[{"tags":[],"owner":{"account_id":24733817,"reputation":56,"user_id":18621464,"display_name":"Kamii0909"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680201438,"creation_date":1680201438,"answer_id":75891841,"question_id":75891397,"body_markdown":"I suppose you are using Hibernate with `hbm2ddl.auto=update`. Spring does not manage your DDL. It is up to your JPA provider. It also has nothing to do with `SQLiteDialect`.\r\n\r\nIirc the Hibernate auto DDL parser has the following semantic (probably to fix some other bugs): if the database is already created, Hibernate won&#39;t include the `CREATE TABLE` with `UNIQUE`. Instead, it will issue `ALTER CONSTRAINT`. Drop the database yourself (in the case of SQLite, delete the file). Use `hbm2ddl.auto=update` to create everything back.\r\n\r\nIf you are not using production code, personally I do not recommend SQLite. SQLite has a lot of performance concerns which are mostly unnecessary for education and testing, thus limiting a lot of use cases. You can use the fully functional H2 (supports file backing like SQLite) instead. It should be as easy as changing your JDBC URL/Datasource configuration. \r\n\r\nOn the other hand, ideally you should provide your own DDL (hand written by the DBA) or use a Database migration tool like Flyway or Liquibase for automation.","title":"Spring SQLite unique column throws exception","body":"<p>I suppose you are using Hibernate with <code>hbm2ddl.auto=update</code>. Spring does not manage your DDL. It is up to your JPA provider. It also has nothing to do with <code>SQLiteDialect</code>.</p>\n<p>Iirc the Hibernate auto DDL parser has the following semantic (probably to fix some other bugs): if the database is already created, Hibernate won't include the <code>CREATE TABLE</code> with <code>UNIQUE</code>. Instead, it will issue <code>ALTER CONSTRAINT</code>. Drop the database yourself (in the case of SQLite, delete the file). Use <code>hbm2ddl.auto=update</code> to create everything back.</p>\n<p>If you are not using production code, personally I do not recommend SQLite. SQLite has a lot of performance concerns which are mostly unnecessary for education and testing, thus limiting a lot of use cases. You can use the fully functional H2 (supports file backing like SQLite) instead. It should be as easy as changing your JDBC URL/Datasource configuration.</p>\n<p>On the other hand, ideally you should provide your own DDL (hand written by the DBA) or use a Database migration tool like Flyway or Liquibase for automation.</p>\n"}],"owner":{"account_id":3896812,"reputation":591,"user_id":3225638,"display_name":"Lorenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75891841,"answer_count":1,"score":0,"last_activity_date":1680206568,"creation_date":1680198190,"question_id":75891397,"body_markdown":"I&#39;m uing spring boot with a SQLite DB and spring keeps trying to alter the column AFTER it created the table, however SQLite alter statements only support renaming a table and such. I thought it was obvious enough that the SQLiteDialect would support this by declaring the column as unique during the table&#39;s creation but I guess i was wrong. \r\nMy entity looks like this:\r\n```java\r\n@Entity\r\n@Table(name = &quot;my_entities&quot;)\r\npublic class MyEntity {\r\n    // usual Long id and stuff\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String word;\r\n\r\n    // other fields\r\n}\r\n```\r\n\r\nHere&#39;s the log output that shows the exception:\r\n```\r\nError executing DDL &quot;alter table my_entities add constraint UKegg5ipack6d4292p1uvwopxl6 unique (word)&quot; via JDBC Statement\r\n```\r\n\r\nI considered many options:\r\n - actually modifying SQLiteDialect myself since it&#39;s a community dialect anyways, but after looking into it a bit more I realized I would need to do a bit more than just modify a string somewhere &#128517;\r\n - creating some kind of `import.sql` that has a drop and create statement in it, but it would defy the whole point of having my DB managed for me: \r\n```sql\r\nDROP TABLE IF EXISTS my_entities;\r\nCREATE TABLE my_entities(\r\n    ...\r\n    word varchar(255) UNIQUE,\r\n    ...\r\n);\r\n```\r\n\r\nEventually, I don&#39;t understand why SQLiteDialect can&#39;t just create the table from the start with the unique modifier. Does anyone have a solution that makes spring or the dialect do that ?","title":"Spring SQLite unique column throws exception","body":"<p>I'm uing spring boot with a SQLite DB and spring keeps trying to alter the column AFTER it created the table, however SQLite alter statements only support renaming a table and such. I thought it was obvious enough that the SQLiteDialect would support this by declaring the column as unique during the table's creation but I guess i was wrong.\nMy entity looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;my_entities&quot;)\npublic class MyEntity {\n    // usual Long id and stuff\n\n    @Column(nullable = false, unique = true)\n    private String word;\n\n    // other fields\n}\n</code></pre>\n<p>Here's the log output that shows the exception:</p>\n<pre><code>Error executing DDL &quot;alter table my_entities add constraint UKegg5ipack6d4292p1uvwopxl6 unique (word)&quot; via JDBC Statement\n</code></pre>\n<p>I considered many options:</p>\n<ul>\n<li>actually modifying SQLiteDialect myself since it's a community dialect anyways, but after looking into it a bit more I realized I would need to do a bit more than just modify a string somewhere 😅</li>\n<li>creating some kind of <code>import.sql</code> that has a drop and create statement in it, but it would defy the whole point of having my DB managed for me:</li>\n</ul>\n<pre class=\"lang-sql prettyprint-override\"><code>DROP TABLE IF EXISTS my_entities;\nCREATE TABLE my_entities(\n    ...\n    word varchar(255) UNIQUE,\n    ...\n);\n</code></pre>\n<p>Eventually, I don't understand why SQLiteDialect can't just create the table from the start with the unique modifier. Does anyone have a solution that makes spring or the dialect do that ?</p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-cloud"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680205319,"post_id":75890178,"comment_id":133863266,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":19519078,"reputation":172,"user_id":14281350,"display_name":"Sidharth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680205703,"creation_date":1680205703,"answer_id":75892394,"question_id":75890178,"body_markdown":"For this use case, there might be multiple solutions depending on your requirements and the way you think and approach the problem at hand. I don&#39;t think microservices are really needed for the requirements that you have mentioned. But since it is a necessity here, you can do the following:\r\n\r\n 1. Build an UI\r\n 2. UI will connect to the Login microservice\r\n 3. Implement a Login microservice which will authenticate the user and return a response containing the role of the logged in user back to the UI.\r\n 4. Have another microservice named &#39;Task&#39;. Create and secure the respective APIs to perform all the mentioned tasks and secure the APIs with role based access (for supervisors, interns and admins). This can be achieved by Spring Security (there are multiple other libraries too).\r\n\r\nAdding more microservices will only increase the redundancy in my honest opinion. It is nice to keep it short and simple.\r\n\r\nHope this helps!","title":"defining a microservices architecture for an intern management system","body":"<p>For this use case, there might be multiple solutions depending on your requirements and the way you think and approach the problem at hand. I don't think microservices are really needed for the requirements that you have mentioned. But since it is a necessity here, you can do the following:</p>\n<ol>\n<li>Build an UI</li>\n<li>UI will connect to the Login microservice</li>\n<li>Implement a Login microservice which will authenticate the user and return a response containing the role of the logged in user back to the UI.</li>\n<li>Have another microservice named 'Task'. Create and secure the respective APIs to perform all the mentioned tasks and secure the APIs with role based access (for supervisors, interns and admins). This can be achieved by Spring Security (there are multiple other libraries too).</li>\n</ol>\n<p>Adding more microservices will only increase the redundancy in my honest opinion. It is nice to keep it short and simple.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":21351596,"reputation":1,"user_id":15721037,"display_name":"Sydsound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680205703,"creation_date":1680190055,"question_id":75890178,"body_markdown":"i have this project of developping An *intern management system* where **supervisors** can create and assign tasks to interns. **Interns** can update the status of their tasks. Another actor **Admin** can manage intern desks by assigning specific desks to interns. And using an authentication system” \r\n\r\ni don&#39;t have a large knowledge about spring microservices, I only developped monolothic app with MVC architecture. \r\n\r\nCan you please help me define each service. i don&#39;t want to break it down to a lot of services, just enough to validate my project. \r\n\r\nthank you  \r\n\r\ni did some research, i had this idea of break in it into an authentication service, an intern service, a task service and a desk service. but to start coding, i didn&#39;t know if it&#39;s right, what are the models for each services, because we can find the intern exists in all the services services... ","title":"defining a microservices architecture for an intern management system","body":"<p>i have this project of developping An <em>intern management system</em> where <strong>supervisors</strong> can create and assign tasks to interns. <strong>Interns</strong> can update the status of their tasks. Another actor <strong>Admin</strong> can manage intern desks by assigning specific desks to interns. And using an authentication system”</p>\n<p>i don't have a large knowledge about spring microservices, I only developped monolothic app with MVC architecture.</p>\n<p>Can you please help me define each service. i don't want to break it down to a lot of services, just enough to validate my project.</p>\n<p>thank you</p>\n<p>i did some research, i had this idea of break in it into an authentication service, an intern service, a task service and a desk service. but to start coding, i didn't know if it's right, what are the models for each services, because we can find the intern exists in all the services services...</p>\n"},{"tags":["java","spring-boot","unit-testing","intellij-idea","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675193360,"creation_date":1675193360,"answer_id":75302231,"question_id":75295797,"body_markdown":"I don&#39;t have a definitive answer, just some things that should be checked.\r\n\r\nIt&#39;s a little odd to use the &quot;clean&quot; goal on the same mvn command line you run &quot;sonar:sonar&quot;, but it&#39;s possible that can work.  Inspect the output from this command and verify that it&#39;s running all of your unit tests.\r\n\r\nWhen Jacoco and Surefire are properly integrated, it should generate an html page you can visit to inspect the Jacoco results.  It might be in &quot;target/jacoco_report&quot;.  If that is there (it&#39;s possible it might be in a different subdirectory), then view that in your browser and see if there are tests missing from that report.  SonarQube only integrates the jacoco data that is produced.\r\n\r\nIn the SonarQube results, you can also see the list of unit tests that are executed.  See if &quot;CategorieTest&quot; is in that list.","title":"SonarQube doesn&#39;t increase test coverage as I write more and more tests","body":"<p>I don't have a definitive answer, just some things that should be checked.</p>\n<p>It's a little odd to use the &quot;clean&quot; goal on the same mvn command line you run &quot;sonar:sonar&quot;, but it's possible that can work.  Inspect the output from this command and verify that it's running all of your unit tests.</p>\n<p>When Jacoco and Surefire are properly integrated, it should generate an html page you can visit to inspect the Jacoco results.  It might be in &quot;target/jacoco_report&quot;.  If that is there (it's possible it might be in a different subdirectory), then view that in your browser and see if there are tests missing from that report.  SonarQube only integrates the jacoco data that is produced.</p>\n<p>In the SonarQube results, you can also see the list of unit tests that are executed.  See if &quot;CategorieTest&quot; is in that list.</p>\n"},{"tags":[],"owner":{"account_id":25506206,"reputation":33,"user_id":19298633,"display_name":"justin goudon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675272036,"creation_date":1675272036,"answer_id":75313896,"question_id":75295797,"body_markdown":"So, to resolve my own problem I did nothing but testing my code &quot;less wrongly&quot; if I could say. \r\n\r\nThat&#39;s what the previous example of testing looks like now !\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.back.projetbdi_groupe1.Entities;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.BeforeAll;\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\n    class CategorieTest {\r\n        /**\r\n         * Methods under test:\r\n         *\r\n         * &lt;ul&gt;\r\n         *   &lt;li&gt;default or parameterless constructor of {@link Categorie}\r\n         *   &lt;li&gt;{@link Categorie#setIdCategorie(String)}\r\n         *   &lt;li&gt;{@link Categorie#setLibCateg(String)}\r\n         *   &lt;li&gt;{@link Categorie#getIdCategorie()}\r\n         *   &lt;li&gt;{@link Categorie#getLibCateg()}\r\n         * &lt;/ul&gt;\r\n         */\r\n        static Categorie actualCategorie;\r\n\r\n        @BeforeAll\r\n        public static void init() {\r\n            actualCategorie = new Categorie();\r\n            actualCategorie.setIdCategorie(&quot;1&quot;);\r\n            actualCategorie.setLibCateg(&quot;Lib Categ&quot;);\r\n        }\r\n\r\n        @Test\r\n        void testGetIdCategorie() {\r\n            assertEquals(&quot;1&quot;, actualCategorie.getIdCategorie());\r\n        }\r\n\r\n        @Test\r\n        void testGetLibCateg() {\r\n            assertEquals(&quot;Lib Categ&quot;, actualCategorie.getLibCateg());\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd in Sonar :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gN0zN.png\r\n\r\nEverything is green, im H A P P Y. ","title":"SonarQube doesn&#39;t increase test coverage as I write more and more tests","body":"<p>So, to resolve my own problem I did nothing but testing my code &quot;less wrongly&quot; if I could say.</p>\n<p>That's what the previous example of testing looks like now !</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.back.projetbdi_groupe1.Entities;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.BeforeAll;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nclass CategorieTest {\n    /**\n     * Methods under test:\n     *\n     * &lt;ul&gt;\n     *   &lt;li&gt;default or parameterless constructor of {@link Categorie}\n     *   &lt;li&gt;{@link Categorie#setIdCategorie(String)}\n     *   &lt;li&gt;{@link Categorie#setLibCateg(String)}\n     *   &lt;li&gt;{@link Categorie#getIdCategorie()}\n     *   &lt;li&gt;{@link Categorie#getLibCateg()}\n     * &lt;/ul&gt;\n     */\n    static Categorie actualCategorie;\n\n    @BeforeAll\n    public static void init() {\n        actualCategorie = new Categorie();\n        actualCategorie.setIdCategorie(\"1\");\n        actualCategorie.setLibCateg(\"Lib Categ\");\n    }\n\n    @Test\n    void testGetIdCategorie() {\n        assertEquals(\"1\", actualCategorie.getIdCategorie());\n    }\n\n    @Test\n    void testGetLibCateg() {\n        assertEquals(\"Lib Categ\", actualCategorie.getLibCateg());\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And in Sonar :\n<a href=\"https://i.stack.imgur.com/gN0zN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gN0zN.png\" alt=\"enter image description here\" /></a></p>\n<p>Everything is green, im H A P P Y.</p>\n"},{"tags":[],"owner":{"account_id":2806602,"reputation":66,"user_id":2413720,"display_name":"lkovalyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680205453,"creation_date":1680205453,"answer_id":75892370,"question_id":75295797,"body_markdown":"If you use Junit 5.0 you should replace **org.junit.Test** on to \r\n**org.junit.jupiter.api.Test** ","title":"SonarQube doesn&#39;t increase test coverage as I write more and more tests","body":"<p>If you use Junit 5.0 you should replace <strong>org.junit.Test</strong> on to\n<strong>org.junit.jupiter.api.Test</strong></p>\n"}],"owner":{"account_id":25506206,"reputation":33,"user_id":19298633,"display_name":"justin goudon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1800,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75313896,"answer_count":3,"score":2,"last_activity_date":1680205453,"creation_date":1675161018,"question_id":75295797,"body_markdown":"I&#39;ve been facing a really weird problem with a project and the use of SonarQube. \r\n\r\nAs you can see in the image below, my test coverage is 9.5% of my overall code which is pretty low regarding of the quantity of code I&#39;ve been writing and will be in the future. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/ZRmmx.png)](https://i.stack.imgur.com/ZRmmx.png)\r\n\r\nWhen I first tried to write tests, they were not detected, because I forgot a plugin inside my pom.xml, which I added and is the following\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n &lt;version&gt;0.8.8&lt;/version&gt;\r\n &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n    &lt;execution&gt;\r\n      &lt;id&gt;generate-code-coverage-report&lt;/id&gt;\r\n      &lt;phase&gt;test&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;report&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nAfter that, I got this window on SonarQube.\r\n \r\n[![enter image description here](https://i.stack.imgur.com/bbsxw.png)](https://i.stack.imgur.com/bbsxw.png)\r\n\r\nNice ! My test are detected and I went to 13.2% on new code and 9.5% overall ! \r\nBut that&#39;s where the real problem started, as I wrote more test and be pushing them to SonarQube, nothing more was shown. The percentage didn&#39;t increased, and the line that I thought the tests covered were not.\r\nAnd the weirdest part is that the test code was on SonarQube ! It was pushed to Sonar but not detected as test code or whatever it should be !\r\n\r\n\r\nSo, I tried to watch as many videos as I could but nothing seems to really work and I just had the feeling that I lost time. I&#39;ve been trying to code simple test classes on my simplest classes, for example : \r\nHere is my class : Categorie.java\r\n\r\n```\r\npackage com.back.projetbdi_groupe1.Entities;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Categorie {\r\n    @Id\r\n    private String idCategorie;\r\n\r\n    private String libCateg;\r\n\r\n    public String getIdCategorie() {\r\n        return idCategorie;\r\n    }\r\n\r\n    public void setIdCategorie(String idCategorie) {\r\n        this.idCategorie = idCategorie;\r\n    }\r\n\r\n    public String getLibCateg() {\r\n        return libCateg;\r\n    }\r\n\r\n    public void setLibCateg(String libCateg) {\r\n        this.libCateg = libCateg;\r\n    }\r\n}\r\n\r\n```\r\nAnd my test class : CategorieTest.java\r\n\r\n```\r\npackage com.back.projetbdi_groupe1.entities;\r\n\r\nimport com.back.projetbdi_groupe1.Entities.Categorie;\r\nimport org.junit.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class CategorieTest {\r\n\r\n    @Test\r\n    public void testGetIdCategorie(){\r\n        Categorie categorie = new Categorie();\r\n        categorie.setIdCategorie(&quot;1&quot;);\r\n        assertEquals(&quot;1&quot;,categorie.getIdCategorie());\r\n    }\r\n\r\n    @Test\r\n    public void testGetLibCateg(){\r\n        Categorie categorie = new Categorie();\r\n        categorie.setLibCateg(&quot;categ&quot;);\r\n        assertEquals(&quot;categ&quot;,categorie.getLibCateg());\r\n    }\r\n}\r\n```\r\n\r\nYou can see it in sonar : \r\n[![enter image description here](https://i.stack.imgur.com/3O4RO.png)](https://i.stack.imgur.com/3O4RO.png)\r\n\r\nBut : \r\n[![enter image description here](https://i.stack.imgur.com/VeVDF.png)](https://i.stack.imgur.com/VeVDF.png)\r\nYou can see that nothing is covered.\r\nSo, I wanted to know if I&#39;m not testing the right way, or is it a SonarQube bug ? Or my pom.xml is incomplete ? I will put what I found useful about the pom.xml below. \r\nOh, and to &quot; push &quot; to SonarQube the code, I&#39;m using the following command : mvn clean verify sonar:sonar -Dsonar.login=MyFabulousAndLongToken\r\n\r\nRest of the pom.xml : \r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;jettyVersion&gt;9.4.3.v20170317&lt;/jettyVersion&gt;\r\n        &lt;jettyServletVersion&gt;9.4.3.v20170317&lt;/jettyServletVersion&gt;\r\n        &lt;sonar.host.url&gt;http://im2ag-sonar.u-ga.fr:9000/&lt;/sonar.host.url&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n```\r\n\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n","title":"SonarQube doesn&#39;t increase test coverage as I write more and more tests","body":"<p>I've been facing a really weird problem with a project and the use of SonarQube.</p>\n<p>As you can see in the image below, my test coverage is 9.5% of my overall code which is pretty low regarding of the quantity of code I've been writing and will be in the future.</p>\n<p><a href=\"https://i.stack.imgur.com/ZRmmx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZRmmx.png\" alt=\"enter image description here\" /></a></p>\n<p>When I first tried to write tests, they were not detected, because I forgot a plugin inside my pom.xml, which I added and is the following</p>\n<pre><code>&lt;plugin&gt;\n &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n &lt;version&gt;0.8.8&lt;/version&gt;\n &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n      &lt;id&gt;generate-code-coverage-report&lt;/id&gt;\n      &lt;phase&gt;test&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;report&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>After that, I got this window on SonarQube.</p>\n<p><a href=\"https://i.stack.imgur.com/bbsxw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bbsxw.png\" alt=\"enter image description here\" /></a></p>\n<p>Nice ! My test are detected and I went to 13.2% on new code and 9.5% overall !\nBut that's where the real problem started, as I wrote more test and be pushing them to SonarQube, nothing more was shown. The percentage didn't increased, and the line that I thought the tests covered were not.\nAnd the weirdest part is that the test code was on SonarQube ! It was pushed to Sonar but not detected as test code or whatever it should be !</p>\n<p>So, I tried to watch as many videos as I could but nothing seems to really work and I just had the feeling that I lost time. I've been trying to code simple test classes on my simplest classes, for example :\nHere is my class : Categorie.java</p>\n<pre><code>package com.back.projetbdi_groupe1.Entities;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Categorie {\n    @Id\n    private String idCategorie;\n\n    private String libCateg;\n\n    public String getIdCategorie() {\n        return idCategorie;\n    }\n\n    public void setIdCategorie(String idCategorie) {\n        this.idCategorie = idCategorie;\n    }\n\n    public String getLibCateg() {\n        return libCateg;\n    }\n\n    public void setLibCateg(String libCateg) {\n        this.libCateg = libCateg;\n    }\n}\n\n</code></pre>\n<p>And my test class : CategorieTest.java</p>\n<pre><code>package com.back.projetbdi_groupe1.entities;\n\nimport com.back.projetbdi_groupe1.Entities.Categorie;\nimport org.junit.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class CategorieTest {\n\n    @Test\n    public void testGetIdCategorie(){\n        Categorie categorie = new Categorie();\n        categorie.setIdCategorie(&quot;1&quot;);\n        assertEquals(&quot;1&quot;,categorie.getIdCategorie());\n    }\n\n    @Test\n    public void testGetLibCateg(){\n        Categorie categorie = new Categorie();\n        categorie.setLibCateg(&quot;categ&quot;);\n        assertEquals(&quot;categ&quot;,categorie.getLibCateg());\n    }\n}\n</code></pre>\n<p>You can see it in sonar :\n<a href=\"https://i.stack.imgur.com/3O4RO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3O4RO.png\" alt=\"enter image description here\" /></a></p>\n<p>But :\n<a href=\"https://i.stack.imgur.com/VeVDF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VeVDF.png\" alt=\"enter image description here\" /></a>\nYou can see that nothing is covered.\nSo, I wanted to know if I'm not testing the right way, or is it a SonarQube bug ? Or my pom.xml is incomplete ? I will put what I found useful about the pom.xml below.\nOh, and to &quot; push &quot; to SonarQube the code, I'm using the following command : mvn clean verify sonar:sonar -Dsonar.login=MyFabulousAndLongToken</p>\n<p>Rest of the pom.xml :</p>\n<pre><code>    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;jettyVersion&gt;9.4.3.v20170317&lt;/jettyVersion&gt;\n        &lt;jettyServletVersion&gt;9.4.3.v20170317&lt;/jettyServletVersion&gt;\n        &lt;sonar.host.url&gt;http://im2ag-sonar.u-ga.fr:9000/&lt;/sonar.host.url&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":3211463,"reputation":638,"user_id":2711384,"display_name":"Zag"},"score":0,"creation_date":1680193065,"post_id":75890395,"comment_id":133860393,"body_markdown":"I suspect that there is no such attribute in the session.  Try using @SessionAttributes annotation on the method and pause it in the debugger.  You&#39;ll have a chance to look at the session attributes and see that there isn&#39;t one named &quot;email&quot;","body":"I suspect that there is no such attribute in the session.  Try using @SessionAttributes annotation on the method and pause it in the debugger.  You&#39;ll have a chance to look at the session attributes and see that there isn&#39;t one named &quot;email&quot;"}],"answers":[{"tags":[],"owner":{"account_id":11260582,"reputation":102,"user_id":8259045,"display_name":"T4puSD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680199777,"creation_date":1680199777,"answer_id":75891612,"question_id":75890395,"body_markdown":"The reason why you are getting &quot;HTTP Status 400 - Bad Request&quot; is that your email attribute saving logic into the session might not be working and that&#39;s why there is no `email` attribute present in the session.   \r\n\r\nAs a result, this annotation `@SessionAttribute(&quot;email&quot;)` is giving you a Bad Request error because no attribute named `email` is found in the session.   \r\n\r\nSet the required attribute to false like this `@SessionAttribute(name = &quot;email&quot;, required = false)` and your issue will be fixed. Now if there is any attribute in the session named `email` it will be picked up by spring and will be injected into the method otherwise, the email parameter will be a null value and spring won&#39;t throw any Bad Request error.\r\n\r\nSee the [official documentation][1] for `@SessionAttribute` to learn more.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/SessionAttribute.html","title":"Spring MVC: The request sent by the client is syntactically incorrect","body":"<p>The reason why you are getting &quot;HTTP Status 400 - Bad Request&quot; is that your email attribute saving logic into the session might not be working and that's why there is no <code>email</code> attribute present in the session.</p>\n<p>As a result, this annotation <code>@SessionAttribute(&quot;email&quot;)</code> is giving you a Bad Request error because no attribute named <code>email</code> is found in the session.</p>\n<p>Set the required attribute to false like this <code>@SessionAttribute(name = &quot;email&quot;, required = false)</code> and your issue will be fixed. Now if there is any attribute in the session named <code>email</code> it will be picked up by spring and will be injected into the method otherwise, the email parameter will be a null value and spring won't throw any Bad Request error.</p>\n<p>See the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/SessionAttribute.html\" rel=\"nofollow noreferrer\">official documentation</a> for <code>@SessionAttribute</code> to learn more.</p>\n"},{"tags":[],"owner":{"account_id":19519078,"reputation":172,"user_id":14281350,"display_name":"Sidharth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680204977,"creation_date":1680204977,"answer_id":75892308,"question_id":75890395,"body_markdown":"You are getting this error because there is no attribute named email found in the session. You can try to modify the controller class as below:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;login/&quot;)\r\n    public class LoginController {\r\n    \r\n      @GetMapping\r\n      public String Default(@SessionAttribute(name=&quot;email&quot;,required=false) String email) {\r\n          System.out.println(&quot;&quot;+email);\r\n          return &quot;login&quot;;\r\n      }\r\n    }\r\n\r\n\r\nThis will ensure that even if the session doesn&#39;t contains the &#39;email&#39; attribute, it won&#39;t cause your application to fail as spring will set a null value by default. And you can add a null check explicitly in the method to handle this scenario.","title":"Spring MVC: The request sent by the client is syntactically incorrect","body":"<p>You are getting this error because there is no attribute named email found in the session. You can try to modify the controller class as below:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;login/&quot;)\npublic class LoginController {\n\n  @GetMapping\n  public String Default(@SessionAttribute(name=&quot;email&quot;,required=false) String email) {\n      System.out.println(&quot;&quot;+email);\n      return &quot;login&quot;;\n  }\n}\n</code></pre>\n<p>This will ensure that even if the session doesn't contains the 'email' attribute, it won't cause your application to fail as spring will set a null value by default. And you can add a null check explicitly in the method to handle this scenario.</p>\n"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680204977,"creation_date":1680191287,"question_id":75890395,"body_markdown":"I have some problems when trying to use `@SessionAttribute` in Spring MVC Controller. I have already saved the session but when I show the session to the view again, it gives an error:\r\n\r\n&gt; HTTP Status 400 - Bad Request :The request sent by the client is\r\n&gt; syntactically incorrect.\r\n\r\nbut when i remove `@SessionAttribute` it works normally\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;login/&quot;)\r\n    public class LoginController {\r\n    \t\r\n    \t@GetMapping\r\n    \tpublic String Default(@SessionAttribute(&quot;email&quot;) String email) {\r\n    \t\tSystem.out.println(&quot;&quot;+email);\r\n    \t\treturn &quot;login&quot;;\r\n    \t}\r\n    }","title":"Spring MVC: The request sent by the client is syntactically incorrect","body":"<p>I have some problems when trying to use <code>@SessionAttribute</code> in Spring MVC Controller. I have already saved the session but when I show the session to the view again, it gives an error:</p>\n<blockquote>\n<p>HTTP Status 400 - Bad Request :The request sent by the client is\nsyntactically incorrect.</p>\n</blockquote>\n<p>but when i remove <code>@SessionAttribute</code> it works normally</p>\n<pre><code>@Controller\n@RequestMapping(&quot;login/&quot;)\npublic class LoginController {\n    \n    @GetMapping\n    public String Default(@SessionAttribute(&quot;email&quot;) String email) {\n        System.out.println(&quot;&quot;+email);\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":2,"creation_date":1680245051,"post_id":75891961,"comment_id":133868567,"body_markdown":"By the way: If you use recursion you are using a stack (internally).","body":"By the way: If you use recursion you are using a stack (internally)."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680204596,"creation_date":1680204265,"answer_id":75892217,"question_id":75891961,"body_markdown":"&gt; Check for balanced paranthesis using recursion without stack\r\n\r\nThe code does not use an explicit stack data structure, but it absolutely uses a stack: the *call* stack.  Each method call involves a push onto that stack (or perhaps more than one, depending on how you characterize things), and each method return involves a corresponding pop (or pops).\r\n\r\n&gt;        if(n==0)\r\n&gt;        return true ;\r\n&gt;        if(n==1)\r\n&gt;            return false;\r\n&gt;        if(arr[0]==&#39;)&#39; || arr[0]==&#39;}&#39; || arr[0]==&#39;]&#39;)\r\n&gt;            return false;\r\n\r\nIf the character (sub)sequence is empty then it is trivially balanced.  If it has only one element then it is trivially unbalanced.  If the first character is one of the closing delimiters considered then it is necessarily unbalanced.  These are the base cases for the recursion.\r\n\r\n&gt;        char closing =findClosing(arr[0]);\r\n\r\nDetermine which is the closing bracket matching the first character of the subsequence.\r\n\r\n&gt;         int i, count = 0;\r\n&gt;         for (i = 1; i &lt; n; i++) {\r\n&gt;             if (arr[i] == arr[0])\r\n&gt;                 count++;\r\n&gt;             if (arr[i] == closing) {\r\n&gt;                 if (count == 0)\r\n&gt;                     break;\r\n&gt;                 count--;\r\n&gt;             }\r\n&gt;         }\r\n\r\nScan forward through the character sequence to find the closing delimiter matched to the initial character of the sequence.  Variable `count` provides for handling nested bracket pairs of the same type as the one currently being handled.  Brackets of other types are ignored at this time.  When the loop terminates, `i` is the index of the matching close bracket, or it is equal to the length of the sequence, `n`, which is not a valid index into the array.\r\n\r\n&gt;         if (i == n)\r\n&gt;             return false;\r\n\r\nIn that case, no matching close bracket was found.\r\n\r\nOtherwise,\r\n\r\n&gt;         if (i == 1)\r\n&gt;             return checkBracket(Arrays.copyOfRange(arr, i + 1, n), n - 2);\r\n\r\nIf the matching close bracket is the very next character then there are no others between.  In that case, the overall sequence is balanced if and only if the tail of the sequence is balanced.  This is actually a special case of the following, and doesn&#39;t really need its own case.\r\n\r\nOtherwise,\r\n\r\n&gt;         return checkBracket(Arrays.copyOfRange(arr, 1, i), i - 1) &amp;&amp; checkBracket(Arrays.copyOfRange(arr, (i + 1), n), n - i - 1);\r\n\r\nthe overall sequence is balanced if and only if the subsequence between the current bracket pair is balanced *and* the tail of the sequence is balanced.","title":"Check for balanced paranthesis using recursion without stack","body":"<blockquote>\n<p>Check for balanced paranthesis using recursion without stack</p>\n</blockquote>\n<p>The code does not use an explicit stack data structure, but it absolutely uses a stack: the <em>call</em> stack.  Each method call involves a push onto that stack (or perhaps more than one, depending on how you characterize things), and each method return involves a corresponding pop (or pops).</p>\n<blockquote>\n<pre><code>   if(n==0)\n   return true ;\n   if(n==1)\n       return false;\n   if(arr[0]==')' || arr[0]=='}' || arr[0]==']')\n       return false;\n</code></pre>\n</blockquote>\n<p>If the character (sub)sequence is empty then it is trivially balanced.  If it has only one element then it is trivially unbalanced.  If the first character is one of the closing delimiters considered then it is necessarily unbalanced.  These are the base cases for the recursion.</p>\n<blockquote>\n<pre><code>   char closing =findClosing(arr[0]);\n</code></pre>\n</blockquote>\n<p>Determine which is the closing bracket matching the first character of the subsequence.</p>\n<blockquote>\n<pre><code>    int i, count = 0;\n    for (i = 1; i &lt; n; i++) {\n        if (arr[i] == arr[0])\n            count++;\n        if (arr[i] == closing) {\n            if (count == 0)\n                break;\n            count--;\n        }\n    }\n</code></pre>\n</blockquote>\n<p>Scan forward through the character sequence to find the closing delimiter matched to the initial character of the sequence.  Variable <code>count</code> provides for handling nested bracket pairs of the same type as the one currently being handled.  Brackets of other types are ignored at this time.  When the loop terminates, <code>i</code> is the index of the matching close bracket, or it is equal to the length of the sequence, <code>n</code>, which is not a valid index into the array.</p>\n<blockquote>\n<pre><code>    if (i == n)\n        return false;\n</code></pre>\n</blockquote>\n<p>In that case, no matching close bracket was found.</p>\n<p>Otherwise,</p>\n<blockquote>\n<pre><code>    if (i == 1)\n        return checkBracket(Arrays.copyOfRange(arr, i + 1, n), n - 2);\n</code></pre>\n</blockquote>\n<p>If the matching close bracket is the very next character then there are no others between.  In that case, the overall sequence is balanced if and only if the tail of the sequence is balanced.  This is actually a special case of the following, and doesn't really need its own case.</p>\n<p>Otherwise,</p>\n<blockquote>\n<pre><code>    return checkBracket(Arrays.copyOfRange(arr, 1, i), i - 1) &amp;&amp; checkBracket(Arrays.copyOfRange(arr, (i + 1), n), n - i - 1);\n</code></pre>\n</blockquote>\n<p>the overall sequence is balanced if and only if the subsequence between the current bracket pair is balanced <em>and</em> the tail of the sequence is balanced.</p>\n"}],"owner":{"account_id":26915015,"reputation":1,"user_id":20489939,"display_name":"Om Kumar Rath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680204596,"creation_date":1680202295,"question_id":75891961,"body_markdown":"```\r\n//Check for balanced parenthesis without using stack:  DOUBT\r\nstatic char findClosing(char c)\r\n{\r\n    if (c == &#39;(&#39;)\r\n        return &#39;)&#39;;\r\n    if (c == &#39;{&#39;)\r\n        return &#39;}&#39;;\r\n    if (c == &#39;[&#39;)\r\n        return &#39;]&#39;;\r\n    return Character.MIN_VALUE;\r\n}\r\nstatic boolean checkBracket(char [] arr,int n){\r\n       if(n==0)\r\n       return true ;\r\n       if(n==1)\r\n           return false;\r\n       if(arr[0]==&#39;)&#39; || arr[0]==&#39;}&#39; || arr[0]==&#39;]&#39;)\r\n           return false;\r\n       char closing =findClosing(arr[0]);\r\n    int i, count = 0;\r\n    for (i = 1; i &lt; n; i++) {\r\n        if (arr[i] == arr[0])\r\n            count++;\r\n        if (arr[i] == closing) {\r\n            if (count == 0)\r\n                break;\r\n            count--;\r\n        }\r\n    }\r\n    if (i == n)\r\n        return false;\r\n    if (i == 1)\r\n        return checkBracket(Arrays.copyOfRange(arr, i + 1, n), n - 2);\r\n    return checkBracket(Arrays.copyOfRange(arr, 1, i), i - 1) &amp;&amp; checkBracket(Arrays.copyOfRange(arr, (i + 1), n), n - i - 1);\r\n}\r\n```\r\n\r\nI cannot understand the logic that what is done after initializing the variables count and I.\r\n\r\nI know that a loop a written to traverse the array but I cannot get the logic that how it will find the closing brackets at appropriate positions.\r\n\r\nHelp.","title":"Check for balanced paranthesis using recursion without stack","body":"<pre><code>//Check for balanced parenthesis without using stack:  DOUBT\nstatic char findClosing(char c)\n{\n    if (c == '(')\n        return ')';\n    if (c == '{')\n        return '}';\n    if (c == '[')\n        return ']';\n    return Character.MIN_VALUE;\n}\nstatic boolean checkBracket(char [] arr,int n){\n       if(n==0)\n       return true ;\n       if(n==1)\n           return false;\n       if(arr[0]==')' || arr[0]=='}' || arr[0]==']')\n           return false;\n       char closing =findClosing(arr[0]);\n    int i, count = 0;\n    for (i = 1; i &lt; n; i++) {\n        if (arr[i] == arr[0])\n            count++;\n        if (arr[i] == closing) {\n            if (count == 0)\n                break;\n            count--;\n        }\n    }\n    if (i == n)\n        return false;\n    if (i == 1)\n        return checkBracket(Arrays.copyOfRange(arr, i + 1, n), n - 2);\n    return checkBracket(Arrays.copyOfRange(arr, 1, i), i - 1) &amp;&amp; checkBracket(Arrays.copyOfRange(arr, (i + 1), n), n - i - 1);\n}\n</code></pre>\n<p>I cannot understand the logic that what is done after initializing the variables count and I.</p>\n<p>I know that a loop a written to traverse the array but I cannot get the logic that how it will find the closing brackets at appropriate positions.</p>\n<p>Help.</p>\n"},{"tags":["java","angular","spring-boot","html-to-docx"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1680205942,"post_id":75892185,"comment_id":133863404,"body_markdown":"It depends on what information is in the HTML `String`.  You have to receive font and styling information to create a styled Word document with specific fonts.","body":"It depends on what information is in the HTML <code>String</code>.  You have to receive font and styling information to create a styled Word document with specific fonts."}],"owner":{"account_id":27543426,"reputation":11,"user_id":21019797,"display_name":"ScaryPotato123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680204072,"creation_date":1680204040,"question_id":75892185,"body_markdown":"I have a web application where user can maintain .docx files.\r\n\r\nUser can upload a .docx file which is saved using the Multipart in Java Spring. To display the uploaded file contents in frontend which uses Angular, the content is converted into html and is used as a string type. User can make changes in the application and I need to convert the HTML string content back to saveable byte array. The content has to be downloadable as .docx file aswell.\r\n\r\nDoes anybody have any experience with this kind of conversion. Are there any libraries that I can use for this?\r\n\r\nI tried the docx4 library but it had trouble parsing tables. I&#39;ve alos use the Apache POi options but I didn&#39;t find a way how can I maintain the proper format in the .docx file. It just saved it as plain text.","title":"How to convert a String with HTML code content into a .docx file content while maintaining the html code styling","body":"<p>I have a web application where user can maintain .docx files.</p>\n<p>User can upload a .docx file which is saved using the Multipart in Java Spring. To display the uploaded file contents in frontend which uses Angular, the content is converted into html and is used as a string type. User can make changes in the application and I need to convert the HTML string content back to saveable byte array. The content has to be downloadable as .docx file aswell.</p>\n<p>Does anybody have any experience with this kind of conversion. Are there any libraries that I can use for this?</p>\n<p>I tried the docx4 library but it had trouble parsing tables. I've alos use the Apache POi options but I didn't find a way how can I maintain the proper format in the .docx file. It just saved it as plain text.</p>\n"},{"tags":["java","android","android-room","access-modifiers"],"comments":[{"owner":{"account_id":4442363,"reputation":1060,"user_id":3616616,"display_name":"Akoya"},"score":1,"creation_date":1654465933,"post_id":72508332,"comment_id":128092002,"body_markdown":"i&#39;m currently starting out with android programming and got the same problem. after removing the unnecessary optional dependencies and only keeping the core (runtime &amp; compiler), everything worked fine for me. might worth a try for you","body":"i&#39;m currently starting out with android programming and got the same problem. after removing the unnecessary optional dependencies and only keeping the core (runtime &amp; compiler), everything worked fine for me. might worth a try for you"},{"owner":{"account_id":21401367,"reputation":342,"user_id":15763443,"display_name":"Unes"},"score":0,"creation_date":1663258987,"post_id":72508332,"comment_id":130202528,"body_markdown":"They must have the same version","body":"They must have the same version"}],"answers":[{"tags":[],"owner":{"account_id":19035605,"reputation":124,"user_id":13896760,"display_name":"Elizaveta Zalyaeva"},"down_vote_count":2,"up_vote_count":11,"is_accepted":true,"score":9,"last_activity_date":1654522035,"creation_date":1654522035,"answer_id":72518409,"question_id":72508332,"body_markdown":"To fix this error for Jetpack Compose and Paging 3 you only need to use only this libraries\r\n\r\n    //ROOM\r\n    implementation &quot;androidx.room:room-runtime:2.4.2&quot;\r\n    kapt &quot;androidx.room:room-compiler:2.4.2&quot;\r\n    implementation &quot;androidx.room:room-ktx:2.4.2&quot;\r\n    implementation &quot;androidx.room:room-paging:2.4.2&quot;\r\n    \r\n    // Paging 3.0\r\n    implementation &#39;androidx.paging:paging-compose:1.0.0-alpha15&#39;","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>To fix this error for Jetpack Compose and Paging 3 you only need to use only this libraries</p>\n<pre><code>//ROOM\nimplementation &quot;androidx.room:room-runtime:2.4.2&quot;\nkapt &quot;androidx.room:room-compiler:2.4.2&quot;\nimplementation &quot;androidx.room:room-ktx:2.4.2&quot;\nimplementation &quot;androidx.room:room-paging:2.4.2&quot;\n\n// Paging 3.0\nimplementation 'androidx.paging:paging-compose:1.0.0-alpha15'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17653706,"reputation":375,"user_id":12813717,"display_name":"Memduh Yılmaz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1666091252,"creation_date":1654605120,"answer_id":72531313,"question_id":72508332,"body_markdown":"By [Никандрова Елизавета&#39;s answer](https://stackoverflow.com/a/72518409), I have found that the source of the problem was one of the optional implementations that I have added from official website. \r\n\r\nThese dependencies was enough to run my code:\r\n```\r\n    def room_version = &quot;2.4.2&quot;\r\n\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n```\r\n\r\n","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>By <a href=\"https://stackoverflow.com/a/72518409\">Никандрова Елизавета's answer</a>, I have found that the source of the problem was one of the optional implementations that I have added from official website.</p>\n<p>These dependencies was enough to run my code:</p>\n<pre><code>    def room_version = &quot;2.4.2&quot;\n\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23967522,"reputation":801,"user_id":17956781,"display_name":"hash070"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658485491,"creation_date":1658485491,"answer_id":73078816,"question_id":72508332,"body_markdown":"Well, I have just encountered this problem too, seems that you are copying the code from the official guidance.\r\nIt seems to be the problem of &quot;androidx.room:room-paging:2.5.0-alpha02&quot; so the solution is to replace it with the latest stable version(2.4.2 currently) or just use the variable `room_version`\r\nAnd you can check the latest version on: https://androidx.tech/artifacts/room/room-paging/\r\nSo you just need to replace it with the following code to solve this problem\r\n```\r\ndependencies {\r\n    def room_version = &quot;2.4.2&quot;\r\n\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n    // optional - RxJava2 support for Room\r\n    implementation &quot;androidx.room:room-rxjava2:$room_version&quot;\r\n\r\n    // optional - RxJava3 support for Room\r\n    implementation &quot;androidx.room:room-rxjava3:$room_version&quot;\r\n\r\n    // optional - Guava support for Room, including Optional and ListenableFuture\r\n    implementation &quot;androidx.room:room-guava:$room_version&quot;\r\n\r\n    // optional - Test helpers\r\n    testImplementation &quot;androidx.room:room-testing:$room_version&quot;\r\n\r\n    // optional - Paging 3 Integration\r\n    implementation &quot;androidx.room:room-paging:$room_version&quot;\r\n}\r\n```","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>Well, I have just encountered this problem too, seems that you are copying the code from the official guidance.\nIt seems to be the problem of &quot;androidx.room:room-paging:2.5.0-alpha02&quot; so the solution is to replace it with the latest stable version(2.4.2 currently) or just use the variable <code>room_version</code>\nAnd you can check the latest version on: <a href=\"https://androidx.tech/artifacts/room/room-paging/\" rel=\"noreferrer\">https://androidx.tech/artifacts/room/room-paging/</a>\nSo you just need to replace it with the following code to solve this problem</p>\n<pre><code>dependencies {\n    def room_version = &quot;2.4.2&quot;\n\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n\n    // optional - RxJava2 support for Room\n    implementation &quot;androidx.room:room-rxjava2:$room_version&quot;\n\n    // optional - RxJava3 support for Room\n    implementation &quot;androidx.room:room-rxjava3:$room_version&quot;\n\n    // optional - Guava support for Room, including Optional and ListenableFuture\n    implementation &quot;androidx.room:room-guava:$room_version&quot;\n\n    // optional - Test helpers\n    testImplementation &quot;androidx.room:room-testing:$room_version&quot;\n\n    // optional - Paging 3 Integration\n    implementation &quot;androidx.room:room-paging:$room_version&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20419475,"reputation":255,"user_id":14980796,"display_name":"D.Y Won"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091191,"creation_date":1659351121,"answer_id":73192633,"question_id":72508332,"body_markdown":"I had same errors and I could solve issues doing as below in build.gradle(app).\r\n\r\nIn &#39;plugins&#39; block, below code was added;\r\n\r\n    id &#39;kotlin-kapt&#39;\r\n\r\nIn &#39;dependencies&#39; block, below codes were added;\r\n\r\n    def room_version = &quot;2.4.2&quot;\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n\r\n","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>I had same errors and I could solve issues doing as below in build.gradle(app).</p>\n<p>In 'plugins' block, below code was added;</p>\n<pre><code>id 'kotlin-kapt'\n</code></pre>\n<p>In 'dependencies' block, below codes were added;</p>\n<pre><code>def room_version = &quot;2.4.2&quot;\nimplementation &quot;androidx.room:room-ktx:$room_version&quot;\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":413639,"reputation":2040,"user_id":787399,"accept_rate":62,"display_name":"Abhinav Saxena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666091419,"creation_date":1666075071,"answer_id":74106661,"question_id":72508332,"body_markdown":"I tried to comment every dependency one by one; changed version one by one at a time.\r\n\r\n        def roomVersion = &quot;2.4.1&quot;\r\n    //    //def roomVersion = &quot;2.4.3&quot;\r\n    //    //noinspection GradleDependency\r\n    //    kapt &quot;androidx.room:room-compiler:$roomVersion&quot;\r\n    //    //noinspection GradleDependency\r\n        implementation &quot;androidx.room:room-runtime:$roomVersion&quot;\r\n    //    //noinspection GradleDependency\r\n        implementation &quot;androidx.room:room-ktx:$roomVersion&quot;\r\n\r\nIt occurred to me that:\r\n\r\n    //    kapt &quot;androidx.room:room-compiler:$roomVersion&quot;\r\n\r\nabove comment was responsible to generate the following exception:\r\n\r\n    \r\n\r\n&gt; Caused by: java.lang.RuntimeException: Cannot find implementation \r\n&gt; for com.safehaven.data.di.AppDatabase. AppDatabase_Impl does not exist\r\n\r\nHence this library that is commented is responsible in the generation of this file `AppDatabase_Impl` where this error is coming.\r\n\r\nSo now this library is to be dealt with.\r\n\r\nSecondly the `Delegate` class that is used in `RoomOpenHelper`\r\n\r\nhas these codes:\r\n\r\n            @Suppress(&quot;DEPRECATION&quot;)\r\n            open fun onValidateSchema(db: SupportSQLiteDatabase): ValidationResult {\r\n                validateMigration(db)\r\n                return ValidationResult(true, null)\r\n            }\r\n\r\nand \r\n\r\n    override fun onCreate(db: SupportSQLiteDatabase) {\r\n        val isEmptyDatabase = hasEmptySchema(db)\r\n        delegate.createAllTables(db)\r\n        if (!isEmptyDatabase) {\r\n            // A 0 version pre-populated database goes through the create path because the\r\n            // framework&#39;s SQLiteOpenHelper thinks the database was just created from scratch. If we\r\n            // find the database not to be empty, then it is a pre-populated, we must validate it to\r\n            // see if its suitable for usage.\r\n            val result = delegate.onValidateSchema(db)\r\n            if (!result.isValid) {\r\n                throw IllegalStateException(\r\n                    &quot;Pre-packaged database has an invalid schema: ${result.expectedFoundMsg}&quot;\r\n                )\r\n            }\r\n        }\r\n        updateIdentity(db)\r\n        delegate.onCreate(db)\r\n    }\r\n\r\nclearly both are public, while in `SupportSQLiteOpenHelper.Callback _openCallback` class that instantiates with this abstract class in `AppDatabase_Impl` class, exposes these methods with protected access modifier which lowers the visibility of the overridden methods.\r\n\r\nHence causing error.\r\n\r\nThis should be fixed.\r\nSurprisingly I got this error a week ago. It was resolved by using one of the answer (here, in the same question) as method (I am clueless, how it did), it has surfaced again and now not going away.\r\n\r\nFor this very reason I recommend at least myself, not to use Room Database. I will move to ORMLite or SQLite database as before.","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>I tried to comment every dependency one by one; changed version one by one at a time.</p>\n<pre><code>    def roomVersion = &quot;2.4.1&quot;\n//    //def roomVersion = &quot;2.4.3&quot;\n//    //noinspection GradleDependency\n//    kapt &quot;androidx.room:room-compiler:$roomVersion&quot;\n//    //noinspection GradleDependency\n    implementation &quot;androidx.room:room-runtime:$roomVersion&quot;\n//    //noinspection GradleDependency\n    implementation &quot;androidx.room:room-ktx:$roomVersion&quot;\n</code></pre>\n<p>It occurred to me that:</p>\n<pre><code>//    kapt &quot;androidx.room:room-compiler:$roomVersion&quot;\n</code></pre>\n<p>above comment was responsible to generate the following exception:</p>\n<blockquote>\n<p>Caused by: java.lang.RuntimeException: Cannot find implementation\nfor com.safehaven.data.di.AppDatabase. AppDatabase_Impl does not exist</p>\n</blockquote>\n<p>Hence this library that is commented is responsible in the generation of this file <code>AppDatabase_Impl</code> where this error is coming.</p>\n<p>So now this library is to be dealt with.</p>\n<p>Secondly the <code>Delegate</code> class that is used in <code>RoomOpenHelper</code></p>\n<p>has these codes:</p>\n<pre><code>        @Suppress(&quot;DEPRECATION&quot;)\n        open fun onValidateSchema(db: SupportSQLiteDatabase): ValidationResult {\n            validateMigration(db)\n            return ValidationResult(true, null)\n        }\n</code></pre>\n<p>and</p>\n<pre><code>override fun onCreate(db: SupportSQLiteDatabase) {\n    val isEmptyDatabase = hasEmptySchema(db)\n    delegate.createAllTables(db)\n    if (!isEmptyDatabase) {\n        // A 0 version pre-populated database goes through the create path because the\n        // framework's SQLiteOpenHelper thinks the database was just created from scratch. If we\n        // find the database not to be empty, then it is a pre-populated, we must validate it to\n        // see if its suitable for usage.\n        val result = delegate.onValidateSchema(db)\n        if (!result.isValid) {\n            throw IllegalStateException(\n                &quot;Pre-packaged database has an invalid schema: ${result.expectedFoundMsg}&quot;\n            )\n        }\n    }\n    updateIdentity(db)\n    delegate.onCreate(db)\n}\n</code></pre>\n<p>clearly both are public, while in <code>SupportSQLiteOpenHelper.Callback _openCallback</code> class that instantiates with this abstract class in <code>AppDatabase_Impl</code> class, exposes these methods with protected access modifier which lowers the visibility of the overridden methods.</p>\n<p>Hence causing error.</p>\n<p>This should be fixed.\nSurprisingly I got this error a week ago. It was resolved by using one of the answer (here, in the same question) as method (I am clueless, how it did), it has surfaced again and now not going away.</p>\n<p>For this very reason I recommend at least myself, not to use Room Database. I will move to ORMLite or SQLite database as before.</p>\n"},{"tags":[],"owner":{"account_id":9686627,"reputation":6334,"user_id":7200133,"display_name":"Gk Mohammad Emon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666379479,"creation_date":1666379479,"answer_id":74158224,"question_id":72508332,"body_markdown":"I removed the code - \r\n\r\n     def room_version = &quot;2.4.3&quot;\r\n            implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n            kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\nand replace with this one - \r\n\r\n     def room_version = &quot;2.4.3&quot;\r\n        implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n        implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n\r\n","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>I removed the code -</p>\n<pre><code> def room_version = &quot;2.4.3&quot;\n        implementation &quot;androidx.room:room-ktx:$room_version&quot;\n        kapt &quot;androidx.room:room-compiler:$room_version&quot;\n</code></pre>\n<p>and replace with this one -</p>\n<pre><code> def room_version = &quot;2.4.3&quot;\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306887,"reputation":830,"user_id":617889,"accept_rate":75,"display_name":"oleh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670505589,"creation_date":1670499262,"answer_id":74729676,"question_id":72508332,"body_markdown":"I had same error after upgrading to `compileSdk 33` using\r\n```\r\nimplementation &#39;androidx.room:room-runtime:2.4.3&#39;\r\nkapt &#39;androidx.room:room-compiler:2.4.3&#39;\r\n```\r\nI found that after the upgrade there is an implicit dependency to `2.5.0-beta01`:\r\n\r\n[![Dependencies in IDEA][1]][1]\r\n\r\nso I just upgraded to `2.5.0-beta01`\r\n\r\n```\r\nimplementation &#39;androidx.room:room-runtime:2.5.0-beta01&#39;\r\nkapt &#39;androidx.room:room-compiler:2.5.0-beta01&#39;\r\n```\r\n\r\nand the error was gone\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dA3KM.png","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>I had same error after upgrading to <code>compileSdk 33</code> using</p>\n<pre><code>implementation 'androidx.room:room-runtime:2.4.3'\nkapt 'androidx.room:room-compiler:2.4.3'\n</code></pre>\n<p>I found that after the upgrade there is an implicit dependency to <code>2.5.0-beta01</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/dA3KM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dA3KM.png\" alt=\"Dependencies in IDEA\" /></a></p>\n<p>so I just upgraded to <code>2.5.0-beta01</code></p>\n<pre><code>implementation 'androidx.room:room-runtime:2.5.0-beta01'\nkapt 'androidx.room:room-compiler:2.5.0-beta01'\n</code></pre>\n<p>and the error was gone</p>\n"},{"tags":[],"owner":{"account_id":9101667,"reputation":1622,"user_id":6773606,"display_name":"Zoran"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1670599998,"creation_date":1670594542,"answer_id":74744161,"question_id":72508332,"body_markdown":"I got this error because I used\r\n\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.8.0-rc01&#39;\r\nwith\r\n\r\n    implementation &#39;androidx.room:room-runtime:2.4.3&#39;\r\n    kapt &#39;androidx.room:room-compiler:2.4.3&#39;\r\n\r\n\r\nand library \r\n\r\n    androidx.work:work-runtime-ktx:2.8.0-rc01\r\n\r\nis dependent on \r\n\r\n    androidx.room:room-common:2.5.0-rc01\r\n\r\nso I finished with two same libraries but with different versions\r\n\r\n    androidx.room:room-common:2.5.0-rc01\r\n    androidx.room:room-common:2.4.3\r\n\r\nafter switching back to \r\n\r\n    androidx.work:work-runtime:2.7.1\r\n\r\nerror was gone.","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>I got this error because I used</p>\n<pre><code>implementation 'androidx.work:work-runtime-ktx:2.8.0-rc01'\n</code></pre>\n<p>with</p>\n<pre><code>implementation 'androidx.room:room-runtime:2.4.3'\nkapt 'androidx.room:room-compiler:2.4.3'\n</code></pre>\n<p>and library</p>\n<pre><code>androidx.work:work-runtime-ktx:2.8.0-rc01\n</code></pre>\n<p>is dependent on</p>\n<pre><code>androidx.room:room-common:2.5.0-rc01\n</code></pre>\n<p>so I finished with two same libraries but with different versions</p>\n<pre><code>androidx.room:room-common:2.5.0-rc01\nandroidx.room:room-common:2.4.3\n</code></pre>\n<p>after switching back to</p>\n<pre><code>androidx.work:work-runtime:2.7.1\n</code></pre>\n<p>error was gone.</p>\n"},{"tags":[],"owner":{"account_id":2788464,"reputation":614,"user_id":2399238,"display_name":"Codelicious"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672251304,"creation_date":1672251304,"answer_id":74943656,"question_id":72508332,"body_markdown":"Increasing room version fixed it for me\r\n\r\n    implementation &quot;androidx.room:room-runtime:2.5.0-rc01&quot;","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>Increasing room version fixed it for me</p>\n<pre><code>implementation &quot;androidx.room:room-runtime:2.5.0-rc01&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11279745,"reputation":653,"user_id":8272646,"accept_rate":75,"display_name":"Ahmed Rajab"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680204062,"creation_date":1680204062,"answer_id":75892189,"question_id":72508332,"body_markdown":"The problem occured after I changed the `androidx.work:work-runtime` implementation from version `2.7.1` to version `2.8.0` while having the following dependencies\r\n\r\n`\r\nimplementation &quot;androidx.room:room-runtime:2.4.3&quot;\r\n`\r\n\r\n`\r\nannotationProcessor &#39;androidx.room:room-compiler:2.4.3&#39;\r\n`\r\n\r\nI upgraded the room version to `2.5.0` and the problem is resolved","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>The problem occured after I changed the <code>androidx.work:work-runtime</code> implementation from version <code>2.7.1</code> to version <code>2.8.0</code> while having the following dependencies</p>\n<p><code>implementation &quot;androidx.room:room-runtime:2.4.3&quot;</code></p>\n<p><code>annotationProcessor 'androidx.room:room-compiler:2.4.3'</code></p>\n<p>I upgraded the room version to <code>2.5.0</code> and the problem is resolved</p>\n"}],"owner":{"account_id":17653706,"reputation":375,"user_id":12813717,"display_name":"Memduh Yılmaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9549,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":72518409,"answer_count":10,"score":20,"last_activity_date":1680204062,"creation_date":1654440532,"question_id":72508332,"body_markdown":"I am trying to implement room database, I have gone through steps on [Official Website](https://developer.android.com/training/data-storage/room), and &#39;AppDatabase.java&#39; file is like this:\r\n```\r\nimport android.content.Context;\r\nimport androidx.room.Database;\r\nimport androidx.room.Room;\r\nimport androidx.room.RoomDatabase;\r\n\r\n@Database(entities = {User.class}, version = 1)\r\npublic abstract class AppDatabase extends RoomDatabase {\r\n\r\n    public static AppDatabase instance;\r\n    public static synchronized AppDatabase getInstance(Context context){\r\n        if (instance==null){\r\n            instance = Room.databaseBuilder(context.getApplicationContext(),\r\n                    AppDatabase.class, &quot;app_database&quot;).fallbackToDestructiveMigration().build();\r\n        }\r\n        return instance;\r\n    }\r\n}\r\n```\r\nAnd dependencies I have used for room:\r\n```\r\n    // Room Database\r\n    def room_version = &quot;2.4.2&quot;\r\n\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n    // optional - RxJava2 support for Room\r\n    implementation &quot;androidx.room:room-rxjava2:$room_version&quot;\r\n\r\n    // optional - RxJava3 support for Room\r\n    implementation &quot;androidx.room:room-rxjava3:$room_version&quot;\r\n\r\n    // optional - Guava support for Room, including Optional and ListenableFuture\r\n    implementation &quot;androidx.room:room-guava:$room_version&quot;\r\n\r\n    // optional - Test helpers\r\n    testImplementation &quot;androidx.room:room-testing:$room_version&quot;\r\n\r\n    // optional - Paging 3 Integration\r\n    implementation &quot;androidx.room:room-paging:2.5.0-alpha02&quot;\r\n\r\n    // Room Database\r\n```\r\nIt returns 2 errors here:\r\n```\r\nonCreate(SupportSQLiteDatabase) in &lt;anonymous com.example.testdb1.room.AppDatabase_Impl$1&gt; cannot override onCreate(SupportSQLiteDatabase) in Delegate\r\nattempting to assign weaker access privileges; was public\r\n```\r\n```\r\nonValidateSchema(SupportSQLiteDatabase) in &lt;anonymous com.example.testdb1.room.AppDatabase_Impl$1&gt; cannot override onValidateSchema(SupportSQLiteDatabase) in Delegate\r\nattempting to assign weaker access privileges; was public\r\n```\r\n\r\nIt was working before the &#39;Chipmunk&#39; version (was working in &#39;Bumblebee&#39;), but it started throwing these errors.\r\n\r\nWhat is going on here?\r\n","title":"Android Studio: &quot;attempting to assign weaker access privileges&quot; error on Room Database implementation","body":"<p>I am trying to implement room database, I have gone through steps on <a href=\"https://developer.android.com/training/data-storage/room\" rel=\"noreferrer\">Official Website</a>, and 'AppDatabase.java' file is like this:</p>\n<pre><code>import android.content.Context;\nimport androidx.room.Database;\nimport androidx.room.Room;\nimport androidx.room.RoomDatabase;\n\n@Database(entities = {User.class}, version = 1)\npublic abstract class AppDatabase extends RoomDatabase {\n\n    public static AppDatabase instance;\n    public static synchronized AppDatabase getInstance(Context context){\n        if (instance==null){\n            instance = Room.databaseBuilder(context.getApplicationContext(),\n                    AppDatabase.class, &quot;app_database&quot;).fallbackToDestructiveMigration().build();\n        }\n        return instance;\n    }\n}\n</code></pre>\n<p>And dependencies I have used for room:</p>\n<pre><code>    // Room Database\n    def room_version = &quot;2.4.2&quot;\n\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n\n    // optional - RxJava2 support for Room\n    implementation &quot;androidx.room:room-rxjava2:$room_version&quot;\n\n    // optional - RxJava3 support for Room\n    implementation &quot;androidx.room:room-rxjava3:$room_version&quot;\n\n    // optional - Guava support for Room, including Optional and ListenableFuture\n    implementation &quot;androidx.room:room-guava:$room_version&quot;\n\n    // optional - Test helpers\n    testImplementation &quot;androidx.room:room-testing:$room_version&quot;\n\n    // optional - Paging 3 Integration\n    implementation &quot;androidx.room:room-paging:2.5.0-alpha02&quot;\n\n    // Room Database\n</code></pre>\n<p>It returns 2 errors here:</p>\n<pre><code>onCreate(SupportSQLiteDatabase) in &lt;anonymous com.example.testdb1.room.AppDatabase_Impl$1&gt; cannot override onCreate(SupportSQLiteDatabase) in Delegate\nattempting to assign weaker access privileges; was public\n</code></pre>\n<pre><code>onValidateSchema(SupportSQLiteDatabase) in &lt;anonymous com.example.testdb1.room.AppDatabase_Impl$1&gt; cannot override onValidateSchema(SupportSQLiteDatabase) in Delegate\nattempting to assign weaker access privileges; was public\n</code></pre>\n<p>It was working before the 'Chipmunk' version (was working in 'Bumblebee'), but it started throwing these errors.</p>\n<p>What is going on here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15710991,"reputation":364,"user_id":11336449,"display_name":"Farid Fakhry"},"score":1,"creation_date":1669213533,"post_id":74548319,"comment_id":131593738,"body_markdown":"what is the value you entered in the terminal?","body":"what is the value you entered in the terminal?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669213783,"post_id":74548319,"comment_id":131593853,"body_markdown":"My guess is that when you called `nextDouble();` first time (when you didn&#39;t have any problems) you provided some integer value like 20, but when you called `nextDouble();` again you provided some double value like `12.34`. Some Locales expect `,` and some `.` as *comma*. So if you wrote `.` try with `,` instead (or vice versa).","body":"My guess is that when you called <code>nextDouble();</code> first time (when you didn&#39;t have any problems) you provided some integer value like 20, but when you called <code>nextDouble();</code> again you provided some double value like <code>12.34</code>. Some Locales expect <code>,</code> and some <code>.</code> as <i>comma</i>. So if you wrote <code>.</code> try with <code>,</code> instead (or vice versa)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669214456,"post_id":74548319,"comment_id":131594159,"body_markdown":"Possibly related? [Scanner double value - InputMismatchException](https://stackoverflow.com/q/17150627)","body":"Possibly related? <a href=\"https://stackoverflow.com/q/17150627\">Scanner double value - InputMismatchException</a>"},{"owner":{"account_id":27025364,"reputation":11,"user_id":20582728,"display_name":"Sinosco"},"score":0,"creation_date":1669317953,"post_id":74548319,"comment_id":131622262,"body_markdown":"I&#39;m coding this on CodeHS for my comp sci class so whatever code I make has to pass through the website&#39;s grader. When I run the code on their terminal it works fine, whether I enter integers or doubles. It&#39;s just when I try to have it graded that it tells me there is an error. I tried adding &#39;.useLocale(Locale.US);&#39; as per the post you attached but it&#39;s still repeating the same error message.","body":"I&#39;m coding this on CodeHS for my comp sci class so whatever code I make has to pass through the website&#39;s grader. When I run the code on their terminal it works fine, whether I enter integers or doubles. It&#39;s just when I try to have it graded that it tells me there is an error. I tried adding &#39;.useLocale(Locale.US);&#39; as per the post you attached but it&#39;s still repeating the same error message."}],"answers":[{"tags":[],"owner":{"account_id":28171823,"reputation":1,"user_id":21530249,"display_name":"Dana D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680204001,"creation_date":1680204001,"answer_id":75892178,"question_id":74548319,"body_markdown":"The problem you are encountering is due to the type mismatch that happening from your nextLine, nextDouble, and nextBoolean lines. Keystrokes are stored in the keyboard buffer, which means hat sometimes the newline character gets left behind. To be able to access the next data, we have to consume this newline character with the Scanner&#39;s nextLine() statement before we can move forward.\r\n\r\nI would suggest adding the last line of code in the main Assignment Runner after these two lines:\r\n\r\n    System.out.print(&quot;how many points is assignment worth? &quot;);\r\n    double totPoints = input.nextDouble();\r\n    input.nextLine();  // Add this to consume the keyboard buffer\r\n\r\nand again here:\r\n\r\n    System.out.print(&quot;A presentation? &quot;);\r\n    boolean presentation = input.nextBoolean();\r\n    input.nextLine();  // Add this to consume the keyboard buffer.\r\n\r\nMaking these two changes to your code should align your inputs with the correct next Line/Double/Boolean methods.\r\n\r\nWhat happened was that when a user types keystrokes, they are stored in the keyboard buffer, as mentioned above. Pressing the &quot;Enter&quot; key causes a newline character to be stored in this keyboard buffer. So when the prompt &quot;How many points is the assignment worth? &quot; takes place, if someone enters 10, then the number 10 gets saved to total Points with the next Double, HOWEVER, the newline character still remains. You need to consume this with next Line method so that the newline character gets used up. The same happens below with nextBoolean method.\r\n\r\nHere is another Stack Overflow post that talks about this:  https://stackoverflow.com/questions/35687857/java-nextboolean-read-from-text-file","title":"Scanner expected different input then was given","body":"<p>The problem you are encountering is due to the type mismatch that happening from your nextLine, nextDouble, and nextBoolean lines. Keystrokes are stored in the keyboard buffer, which means hat sometimes the newline character gets left behind. To be able to access the next data, we have to consume this newline character with the Scanner's nextLine() statement before we can move forward.</p>\n<p>I would suggest adding the last line of code in the main Assignment Runner after these two lines:</p>\n<pre><code>System.out.print(&quot;how many points is assignment worth? &quot;);\ndouble totPoints = input.nextDouble();\ninput.nextLine();  // Add this to consume the keyboard buffer\n</code></pre>\n<p>and again here:</p>\n<pre><code>System.out.print(&quot;A presentation? &quot;);\nboolean presentation = input.nextBoolean();\ninput.nextLine();  // Add this to consume the keyboard buffer.\n</code></pre>\n<p>Making these two changes to your code should align your inputs with the correct next Line/Double/Boolean methods.</p>\n<p>What happened was that when a user types keystrokes, they are stored in the keyboard buffer, as mentioned above. Pressing the &quot;Enter&quot; key causes a newline character to be stored in this keyboard buffer. So when the prompt &quot;How many points is the assignment worth? &quot; takes place, if someone enters 10, then the number 10 gets saved to total Points with the next Double, HOWEVER, the newline character still remains. You need to consume this with next Line method so that the newline character gets used up. The same happens below with nextBoolean method.</p>\n<p>Here is another Stack Overflow post that talks about this:  <a href=\"https://stackoverflow.com/questions/35687857/java-nextboolean-read-from-text-file\">Java NextBoolean() read from text file</a></p>\n"}],"owner":{"account_id":27025364,"reputation":11,"user_id":20582728,"display_name":"Sinosco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2200,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680204001,"creation_date":1669213356,"question_id":74548319,"body_markdown":"I am doing an assignment on CodeHS(9.5.9 Assignments) and I am getting an error explained as &quot;AssignmentRunner.java: Line 20: Your scanner expected a different input then was given.&quot;\r\n\r\nThe variable and input method are both double. The class that it is later inputted into accepts doubles. Scanner is properly initialized, I don&#39;t understand the issue.\r\n\r\n\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class AssignmentRunner {\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n        ArrayList&lt;Assignment&gt; assignments= new ArrayList&lt;Assignment&gt;();\r\n        \r\n        while(true){\r\n            System.out.print(&quot;Enter the assignment&#39;s name (exit to quit): &quot;);\r\n                String name = input.nextLine();\r\n                if(name.equals(&quot;exit&quot;)) break;\r\n            System.out.print(&quot;Enter the due date: &quot;);\r\n                String dueDate = input.nextLine();\r\n            System.out.print(&quot;How many points is assignment worth? &quot;);\r\n                double totPoints = input.nextDouble();         //No issue.\r\n\r\n            System.out.print(&quot;How many points were earned? &quot;);\r\n                double earnedPoints = input.nextDouble();      //Issue here.\r\n                \r\n                input.nextLine();\r\n            System.out.print(&quot;Is this a (T)est or a (P)roject? &quot;);\r\n                String assignmentType = input.nextLine();\r\n                \r\n            if(assignmentType.equals(&quot;T&quot;))\r\n            {\r\n                System.out.print(&quot;What type of test is it? &quot;);\r\n                String testType = input.nextLine();\r\n                Assignment a = new Test(name, dueDate, totPoints, earnedPoints, testType);\r\n                assignments.add(a);\r\n            }\r\n            else\r\n            {\r\n                System.out.print(&quot;Does this project require(true/false) ...\\nGroups?&quot;);\r\n                boolean groups = input.nextBoolean();\r\n                input.nextLine();\r\n                System.out.print(&quot;A presentation? &quot;);\r\n                boolean presentation = input.nextBoolean();\r\n                Assignment b = new Project(name, dueDate, totPoints, earnedPoints, groups, presentation);\r\n                assignments.add(b);\r\n            }\r\n            input.nextLine();\r\n        }\r\n        \r\n        printSummary(assignments);\r\n    }\r\n\r\n    // Print due date and score percentage on the assignment\r\n    public static void printSummary(ArrayList&lt;Assignment&gt; assignments) {\r\n       for(Assignment assignment : assignments){\r\n            System.out.println(assignment.getName() + &quot; - &quot; + (assignment.getEarnedPoints()/assignment.getAvailablePoints()*100));\r\n        }\r\n\r\n       \r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Assignment\r\n{\r\n    private String name;\r\n    private String dueDate;\r\n    private double availablePoints;\r\n    private double earnedPoints;\r\n    \r\n    public Assignment(String name, String dueDate, double availablePoints, double earnedPoints){\r\n        this.name = name;\r\n        this.dueDate = dueDate;\r\n        this.availablePoints = availablePoints;\r\n        this.earnedPoints = earnedPoints;\r\n    }\r\n    \r\n    public String getName(){\r\n        return name;\r\n    }\r\n    public void setName(String name){\r\n        this.name = name;\r\n    }\r\n    \r\n    public String getDueDate(){\r\n        return dueDate;\r\n    }\r\n    public void setDueDate(String dueDate){\r\n        this.dueDate = dueDate;\r\n    }\r\n    \r\n    public double getAvailablePoints(){\r\n        return availablePoints;\r\n    }\r\n    public void setAvailablePoints(double avPts){\r\n        availablePoints = avPts;\r\n    }\r\n    \r\n    public double getEarnedPoints(){\r\n        return earnedPoints;\r\n    }\r\n    public void setEarnedPoints(double ePnts){\r\n        earnedPoints = ePnts;\r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\n\r\n```\r\npublic class Project extends Assignment \r\n{\r\n    private boolean groups;\r\n    private boolean presentation;\r\n    \r\n    public Project(String name, String dueDate, double availablePoints, double earnedPoints, boolean hasGroups, boolean hasPresentation){\r\n        super(name, dueDate, availablePoints, earnedPoints);\r\n        groups = hasGroups;\r\n        presentation = hasPresentation;\r\n    }\r\n    \r\n    public boolean hasGroups(){\r\n        return groups;\r\n    }\r\n    public void setGroups(boolean x){\r\n        groups = x;\r\n    }\r\n    \r\n    public boolean hasPresentation(){\r\n        return presentation;\r\n    }\r\n    public void setPresentation(boolean x){\r\n        presentation = x;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Test extends Assignment \r\n{\r\n    private String testType;\r\n    \r\n    public Test(String name, String dueDate, double availablePoints, double earnedPoints, String testType){\r\n        super(name, dueDate, availablePoints, earnedPoints);\r\n        this.testType = testType;\r\n    }\r\n    \r\n    public String getTestType(){\r\n        return testType;\r\n    }\r\n    public void setTestType(String x){\r\n        testType = x;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried to see if input.nextLine() after line 17 would help but the compiler is still focused on that single double earnedPoints = input.nextDouble(); I asked my teacher about it and he said it was some glitch/bug on CodeHS&#39;s part but I wanted to know if you guys could help.\r\n\r\nTried adding &#39;.useLocale(Locale.US);&#39; to the initial Scanner method but it did not help.","title":"Scanner expected different input then was given","body":"<p>I am doing an assignment on CodeHS(9.5.9 Assignments) and I am getting an error explained as &quot;AssignmentRunner.java: Line 20: Your scanner expected a different input then was given.&quot;</p>\n<p>The variable and input method are both double. The class that it is later inputted into accepts doubles. Scanner is properly initialized, I don't understand the issue.</p>\n<pre><code>import java.util.*;\n\npublic class AssignmentRunner {\n\n    public static void main(String[] args) \n    {\n        Scanner input = new Scanner(System.in);\n        ArrayList&lt;Assignment&gt; assignments= new ArrayList&lt;Assignment&gt;();\n        \n        while(true){\n            System.out.print(&quot;Enter the assignment's name (exit to quit): &quot;);\n                String name = input.nextLine();\n                if(name.equals(&quot;exit&quot;)) break;\n            System.out.print(&quot;Enter the due date: &quot;);\n                String dueDate = input.nextLine();\n            System.out.print(&quot;How many points is assignment worth? &quot;);\n                double totPoints = input.nextDouble();         //No issue.\n\n            System.out.print(&quot;How many points were earned? &quot;);\n                double earnedPoints = input.nextDouble();      //Issue here.\n                \n                input.nextLine();\n            System.out.print(&quot;Is this a (T)est or a (P)roject? &quot;);\n                String assignmentType = input.nextLine();\n                \n            if(assignmentType.equals(&quot;T&quot;))\n            {\n                System.out.print(&quot;What type of test is it? &quot;);\n                String testType = input.nextLine();\n                Assignment a = new Test(name, dueDate, totPoints, earnedPoints, testType);\n                assignments.add(a);\n            }\n            else\n            {\n                System.out.print(&quot;Does this project require(true/false) ...\\nGroups?&quot;);\n                boolean groups = input.nextBoolean();\n                input.nextLine();\n                System.out.print(&quot;A presentation? &quot;);\n                boolean presentation = input.nextBoolean();\n                Assignment b = new Project(name, dueDate, totPoints, earnedPoints, groups, presentation);\n                assignments.add(b);\n            }\n            input.nextLine();\n        }\n        \n        printSummary(assignments);\n    }\n\n    // Print due date and score percentage on the assignment\n    public static void printSummary(ArrayList&lt;Assignment&gt; assignments) {\n       for(Assignment assignment : assignments){\n            System.out.println(assignment.getName() + &quot; - &quot; + (assignment.getEarnedPoints()/assignment.getAvailablePoints()*100));\n        }\n\n       \n    }\n}\n</code></pre>\n<pre><code>public class Assignment\n{\n    private String name;\n    private String dueDate;\n    private double availablePoints;\n    private double earnedPoints;\n    \n    public Assignment(String name, String dueDate, double availablePoints, double earnedPoints){\n        this.name = name;\n        this.dueDate = dueDate;\n        this.availablePoints = availablePoints;\n        this.earnedPoints = earnedPoints;\n    }\n    \n    public String getName(){\n        return name;\n    }\n    public void setName(String name){\n        this.name = name;\n    }\n    \n    public String getDueDate(){\n        return dueDate;\n    }\n    public void setDueDate(String dueDate){\n        this.dueDate = dueDate;\n    }\n    \n    public double getAvailablePoints(){\n        return availablePoints;\n    }\n    public void setAvailablePoints(double avPts){\n        availablePoints = avPts;\n    }\n    \n    public double getEarnedPoints(){\n        return earnedPoints;\n    }\n    public void setEarnedPoints(double ePnts){\n        earnedPoints = ePnts;\n    }\n    \n    \n}\n</code></pre>\n<pre><code>public class Project extends Assignment \n{\n    private boolean groups;\n    private boolean presentation;\n    \n    public Project(String name, String dueDate, double availablePoints, double earnedPoints, boolean hasGroups, boolean hasPresentation){\n        super(name, dueDate, availablePoints, earnedPoints);\n        groups = hasGroups;\n        presentation = hasPresentation;\n    }\n    \n    public boolean hasGroups(){\n        return groups;\n    }\n    public void setGroups(boolean x){\n        groups = x;\n    }\n    \n    public boolean hasPresentation(){\n        return presentation;\n    }\n    public void setPresentation(boolean x){\n        presentation = x;\n    }\n}\n</code></pre>\n<pre><code>public class Test extends Assignment \n{\n    private String testType;\n    \n    public Test(String name, String dueDate, double availablePoints, double earnedPoints, String testType){\n        super(name, dueDate, availablePoints, earnedPoints);\n        this.testType = testType;\n    }\n    \n    public String getTestType(){\n        return testType;\n    }\n    public void setTestType(String x){\n        testType = x;\n    }\n}\n</code></pre>\n<p>I tried to see if input.nextLine() after line 17 would help but the compiler is still focused on that single double earnedPoints = input.nextDouble(); I asked my teacher about it and he said it was some glitch/bug on CodeHS's part but I wanted to know if you guys could help.</p>\n<p>Tried adding '.useLocale(Locale.US);' to the initial Scanner method but it did not help.</p>\n"},{"tags":["java","design-patterns","factory-pattern"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1680201755,"post_id":75891139,"comment_id":133862451,"body_markdown":"The *factory* pattern and the *factory method* pattern are two different design patterns. The reason why you think you want to apply the factory pattern here, is that code reuse? There may be yet other ways to obtain that. I can’t tell from what you write, but my feeling is that you are not *only* using inheritance for configuration but also because your GUIs have some similarity in what you can do with them?","body":"The <i>factory</i> pattern and the <i>factory method</i> pattern are two different design patterns. The reason why you think you want to apply the factory pattern here, is that code reuse? There may be yet other ways to obtain that. I can’t tell from what you write, but my feeling is that you are not <i>only</i> using inheritance for configuration but also because your GUIs have some similarity in what you can do with them?"},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1680208690,"post_id":75891139,"comment_id":133864054,"body_markdown":"Code reuse + being able to open 1 GUI from another one without passing its creation dependencies to the first GUI&#39;s constructor.\nI only used it for configuration, no GUI has any public methods in it.","body":"Code reuse + being able to open 1 GUI from another one without passing its creation dependencies to the first GUI&#39;s constructor. I only used it for configuration, no GUI has any public methods in it."},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1680210378,"post_id":75891139,"comment_id":133864395,"body_markdown":"@OleV.V. what is the source of &quot;the factory pattern&quot; you refer to? Is there a book or publication that defines it?","body":"@OleV.V. what is the source of &quot;the factory pattern&quot; you refer to? Is there a book or publication that defines it?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680230917,"post_id":75891139,"comment_id":133866952,"body_markdown":"@jaco0646 [One description here: Design Pattern - Factory Pattern](https://www.tutorialspoint.com/design_pattern/factory_pattern.htm).","body":"@jaco0646 <a href=\"https://www.tutorialspoint.com/design_pattern/factory_pattern.htm\" rel=\"nofollow noreferrer\">One description here: Design Pattern - Factory Pattern</a>."},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":3,"creation_date":1680271164,"post_id":75891139,"comment_id":133874716,"body_markdown":"@OleV.V. that page describes what Head First Design Patterns calls a &quot;Simple Factory&quot;. It&#39;s a pattern they published as a teaching aid, which in their own words is not intended for production use. I see the same fallacy is repeated in TP&#39;s Abstract Factory article, where they double down by combining two Simple Factories. TutorialsPoint is filled with misleading information and nonsense written by unqualified bloggers. It has been confusing developers for many years; but it is so widespread that its misinformation has been repeated many times even on SO, unfortunately.","body":"@OleV.V. that page describes what Head First Design Patterns calls a &quot;Simple Factory&quot;. It&#39;s a pattern they published as a teaching aid, which in their own words is not intended for production use. I see the same fallacy is repeated in TP&#39;s Abstract Factory article, where they double down by combining two Simple Factories. TutorialsPoint is filled with misleading information and nonsense written by unqualified bloggers. It has been confusing developers for many years; but it is so widespread that its misinformation has been repeated many times even on SO, unfortunately."}],"answers":[{"tags":[],"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680203658,"creation_date":1680201998,"answer_id":75891917,"question_id":75891139,"body_markdown":"Based on the given information, you could implement a **Factory Method** pattern like it is showed on a diagram below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would like to point out, this design pattern is called a *Factory **Method***, and it is different from a pattern called *Abstract Factory* or a pattern called *Builder*. Here is how you could implement this, based on the diagram above:\r\n\r\n```\r\npublic interface GUICreator {\r\n    public GameGUI createGUI();\r\n}  \r\n\r\npublic class SimpleGUICreator implements GUICreator {\r\n    @Override\r\n    public GameGUI createGUI() {\r\n        SimpleGUI simpleGUI = new SimpleGUI();\r\n        simpleGUI.addElements(new Button(&quot;Click Here&quot;));\r\n        \r\n        // Here you can add all of the custom elements for your GUI.\r\n        \r\n        return simpleGUI;\r\n    }\r\n} \r\n\r\npublic abstract class GameGUI\r\n{\r\n    private String title;\r\n    \r\n    public GameGUI(String title) {\r\n        this.title = title;\r\n    }\r\n    \r\n    public abstract void addElement(GameGuiElement element);\r\n}\r\n\r\npublic class SimpleGUI extends GameGUI\r\n{\r\n    public SimpleGUI()\r\n    {\r\n        super(&quot;Simple GUI Title&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public void addElement(GameGuiElement element) {\r\n        // Add you implementation here\r\n    }\r\n}\r\n```\r\nHowever, if you want to implement the default behavior of the `addElement` method for every GUI, you could do that by implementing the method inside the `GameGUI` class.\r\n```\r\npublic abstract class GameGUI\r\n{\r\n    public void addElement(GameGuiElement element) {\r\n        // Add you implementation here\r\n    }\r\n}\r\n```\r\nThen, there is no need to override `addElement` method in the child classes if all the GUIs will be using the same method when adding elements.\r\n\r\nPlease keep in mind that using the *Factory Method* inside a *Creator* class is one way of implementing this pattern. Another way would be using a Parameterized Factory Method, which would allow you to have one class for all the GUI classes instead of having a *Creator* class for every *GUI* class.\r\n\r\n---\r\nFor your specific case, I think a better fit would be a **Builder** Design Pattern. Here is how you could implement this design pattern using a *Director* class.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n```\r\n// Inside of this interface you will put all of the methods you will\r\n// need in order to build your GUI.\r\npublic interface GUIBuilder {\r\n    void buildButtons();\r\n    void buildLabels();\r\n    GameGui getGUI();\r\n}\r\n\r\npublic SimpleGUIBuilder implements GUIBuilder {\r\n    private GameGui gui;\r\n    \r\n    public SimpleGUIBuilder() {\r\n        gui = new GameGui(&quot;Simple GUI Title&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public void buildButtons() {\r\n        // Here you will add all of the buttons for you simple GUI.\r\n        // For example:\r\n        gui.addElement(new Button(&quot;Click Here&quot;));\r\n    }\r\n    \r\n    @Override\r\n    public void buildLabels() {\r\n        // Here you will add all of the labels for you simple GUI.\r\n    }\r\n    \r\n    @Override\r\n    public GameGui getGUI() {\r\n        return gui;\r\n    }\r\n}\r\n\r\npublic class Director {\r\n    private GUIBuilder builder;\r\n    \r\n    public Director(GUIBuilder builder) {\r\n        this.builder = builder;\r\n    }\r\n    \r\n    public GameGui getGUI() {\r\n        constructGUI();\r\n        return builder.getGui();\r\n    }\r\n    \r\n    private void constructGUI() {\r\n        // Build elements of your GUI in any order you need.\r\n        builder.buildButtons();\r\n        buildButtons.buildLabels();\r\n    }\r\n}\r\n```\r\nHere is how you would use this in your code:\r\n```\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tSimpleGUIBuilder builder = new SimpleGUIBuilder();\r\n\t\tDirector director = new Director(builder);\r\n\t\t\r\n\t\tGameGUI gui = director.getGUI();\r\n\t}\r\n}\r\n```\r\n\r\nHere you don&#39;t violate the **Single Responsibility Principle**. The *Director* class is responsible to know which parts (build methods) should be used in which order, and the *Builder* knows how to implement build methods that are called from the Director.\r\n\r\n  [1]: https://i.stack.imgur.com/73uES.png\r\n  [2]: https://i.stack.imgur.com/gHDaV.png","title":"How would I use the Factory method if I only have 1 class?","body":"<p>Based on the given information, you could implement a <strong>Factory Method</strong> pattern like it is showed on a diagram below:</p>\n<p><a href=\"https://i.stack.imgur.com/73uES.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/73uES.png\" alt=\"enter image description here\" /></a></p>\n<p>I would like to point out, this design pattern is called a <em>Factory <strong>Method</strong></em>, and it is different from a pattern called <em>Abstract Factory</em> or a pattern called <em>Builder</em>. Here is how you could implement this, based on the diagram above:</p>\n<pre><code>public interface GUICreator {\n    public GameGUI createGUI();\n}  \n\npublic class SimpleGUICreator implements GUICreator {\n    @Override\n    public GameGUI createGUI() {\n        SimpleGUI simpleGUI = new SimpleGUI();\n        simpleGUI.addElements(new Button(&quot;Click Here&quot;));\n        \n        // Here you can add all of the custom elements for your GUI.\n        \n        return simpleGUI;\n    }\n} \n\npublic abstract class GameGUI\n{\n    private String title;\n    \n    public GameGUI(String title) {\n        this.title = title;\n    }\n    \n    public abstract void addElement(GameGuiElement element);\n}\n\npublic class SimpleGUI extends GameGUI\n{\n    public SimpleGUI()\n    {\n        super(&quot;Simple GUI Title&quot;);\n    }\n    \n    @Override\n    public void addElement(GameGuiElement element) {\n        // Add you implementation here\n    }\n}\n</code></pre>\n<p>However, if you want to implement the default behavior of the <code>addElement</code> method for every GUI, you could do that by implementing the method inside the <code>GameGUI</code> class.</p>\n<pre><code>public abstract class GameGUI\n{\n    public void addElement(GameGuiElement element) {\n        // Add you implementation here\n    }\n}\n</code></pre>\n<p>Then, there is no need to override <code>addElement</code> method in the child classes if all the GUIs will be using the same method when adding elements.</p>\n<p>Please keep in mind that using the <em>Factory Method</em> inside a <em>Creator</em> class is one way of implementing this pattern. Another way would be using a Parameterized Factory Method, which would allow you to have one class for all the GUI classes instead of having a <em>Creator</em> class for every <em>GUI</em> class.</p>\n<hr />\n<p>For your specific case, I think a better fit would be a <strong>Builder</strong> Design Pattern. Here is how you could implement this design pattern using a <em>Director</em> class.</p>\n<p><a href=\"https://i.stack.imgur.com/gHDaV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gHDaV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>// Inside of this interface you will put all of the methods you will\n// need in order to build your GUI.\npublic interface GUIBuilder {\n    void buildButtons();\n    void buildLabels();\n    GameGui getGUI();\n}\n\npublic SimpleGUIBuilder implements GUIBuilder {\n    private GameGui gui;\n    \n    public SimpleGUIBuilder() {\n        gui = new GameGui(&quot;Simple GUI Title&quot;);\n    }\n    \n    @Override\n    public void buildButtons() {\n        // Here you will add all of the buttons for you simple GUI.\n        // For example:\n        gui.addElement(new Button(&quot;Click Here&quot;));\n    }\n    \n    @Override\n    public void buildLabels() {\n        // Here you will add all of the labels for you simple GUI.\n    }\n    \n    @Override\n    public GameGui getGUI() {\n        return gui;\n    }\n}\n\npublic class Director {\n    private GUIBuilder builder;\n    \n    public Director(GUIBuilder builder) {\n        this.builder = builder;\n    }\n    \n    public GameGui getGUI() {\n        constructGUI();\n        return builder.getGui();\n    }\n    \n    private void constructGUI() {\n        // Build elements of your GUI in any order you need.\n        builder.buildButtons();\n        buildButtons.buildLabels();\n    }\n}\n</code></pre>\n<p>Here is how you would use this in your code:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        SimpleGUIBuilder builder = new SimpleGUIBuilder();\n        Director director = new Director(builder);\n        \n        GameGUI gui = director.getGUI();\n    }\n}\n</code></pre>\n<p>Here you don't violate the <strong>Single Responsibility Principle</strong>. The <em>Director</em> class is responsible to know which parts (build methods) should be used in which order, and the <em>Builder</em> knows how to implement build methods that are called from the Director.</p>\n"}],"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680203658,"creation_date":1680196219,"question_id":75891139,"body_markdown":"Let me explain: I have a **concrete** GUI class for my game: \r\n```java\r\npublic class GameGUI\r\n{\r\n    public void addElement(GameGuiElement element) { ... }\r\n}\r\n```\r\nand classes that implement the `GameGuiElement` interface, such as `Button` and `TextBox`.\r\n\r\nUntil today, I always designed my GUIs like this:\r\n```java\r\npublic class SimpleGUI extends GameGUI\r\n{\r\n    public SimpleGUI()\r\n    {\r\n        super(&quot;Simple GUI Title&quot;);\r\n\r\n        addElement(new Button(&quot;Click Here&quot;));\r\n    }\r\n}\r\n\r\n\r\n//somewhere in another class\r\nnew SimpleGUI().display(player);\r\n```\r\nBut recently I read that it&#39;s bad practice to use inheritance *only for* configuration, so I did some research and found the Factory pattern; But how would I apply it if I only have the `GameGUI` class?\r\nI thought of creating this interface:\r\n```java\r\npublic interface GameGUIFactory\r\n{\r\n    GameGUI createFirstGUI();\r\n    GameGUI createSecondGUI();\r\n}\r\n```\r\nbut my instinct immediately rejects that because configuring even 1 GUI takes a lot of code.. and also doesn&#39;t it blatantly violate SRP by being responsible for creating more than 1 GUI?","title":"How would I use the Factory method if I only have 1 class?","body":"<p>Let me explain: I have a <strong>concrete</strong> GUI class for my game:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GameGUI\n{\n    public void addElement(GameGuiElement element) { ... }\n}\n</code></pre>\n<p>and classes that implement the <code>GameGuiElement</code> interface, such as <code>Button</code> and <code>TextBox</code>.</p>\n<p>Until today, I always designed my GUIs like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleGUI extends GameGUI\n{\n    public SimpleGUI()\n    {\n        super(&quot;Simple GUI Title&quot;);\n\n        addElement(new Button(&quot;Click Here&quot;));\n    }\n}\n\n\n//somewhere in another class\nnew SimpleGUI().display(player);\n</code></pre>\n<p>But recently I read that it's bad practice to use inheritance <em>only for</em> configuration, so I did some research and found the Factory pattern; But how would I apply it if I only have the <code>GameGUI</code> class?\nI thought of creating this interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface GameGUIFactory\n{\n    GameGUI createFirstGUI();\n    GameGUI createSecondGUI();\n}\n</code></pre>\n<p>but my instinct immediately rejects that because configuring even 1 GUI takes a lot of code.. and also doesn't it blatantly violate SRP by being responsible for creating more than 1 GUI?</p>\n"},{"tags":["java","swing","animation","physics"],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680203521,"creation_date":1680202946,"answer_id":75892042,"question_id":75891153,"body_markdown":"I made a few minor changes to your code.\r\n\r\n1.  I called the `SwingUtilities` `invokeLater` method to start the application.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\n2.  I moved the `simulationFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);` to its proper location.  The `JFrame` methods must be called in a specific order.\r\n\r\n3.  I decreased the speed of the points.  You should only move pixels or fractions of a pixel in a time period if you want smooth motion.  To make up for the slower speed, I decreased the Swing `Timer` time.  The minimum Swing `Timer` time is 5 milliseconds.\r\n\r\nHere&#39;s the complete runnable code.  I made your additional classes inner classes so I could compile, run, and post the code as one block.\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class SimulationFrame {\r\n    \r\n    \tpublic SimulationFrame() {\r\n    \t\tJFrame simulationFrame = new JFrame();\r\n    \t\tsimulationFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsimulationFrame.setContentPane(new SimulationPanel());\r\n    \t\tsimulationFrame.pack();\r\n    \t\tsimulationFrame.setLocation(0, 0);\r\n    \t\tsimulationFrame.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew SimulationFrame();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic class SimulationPanel extends JPanel implements ActionListener {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tpublic ArrayList&lt;Point&gt; listPoints = new ArrayList&lt;Point&gt;();\r\n    \r\n    \t\tprivate int width = 1000;\r\n    \t\tprivate int height = 1000;\r\n    \r\n    \t\tpublic SimulationPanel() {\r\n    \r\n    \t\t\tPoint p1 = new Point(10, 10);\r\n    \t\t\tPoint p2 = new Point(20, 20);\r\n    \t\t\tPoint p3 = new Point(30, 30);\r\n    \r\n    \t\t\tp1.modify_speed(2, 1);\r\n    \t\t\tp2.modify_speed(1, 2);\r\n    \t\t\tp3.modify_speed(2, 2);\r\n    \r\n    \t\t\tlistPoints.add(p1);\r\n    \t\t\tlistPoints.add(p2);\r\n    \t\t\tlistPoints.add(p3);\r\n    \t\t\tsetPreferredSize(new Dimension(width, height));\r\n    \t\t\tTimer timer = new Timer(20, this);\r\n    \t\t\ttimer.start();\r\n    \t\t}\r\n    \r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tif (e.getSource() instanceof Timer) {\r\n    \t\t\t\tfor (Point p : listPoints) {\r\n    \t\t\t\t\tp.add_position(p.get_speed()[0], p.get_speed()[1]);\r\n    \t\t\t\t}\r\n    \t\t\t\trepaint();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\tGraphics2D g2 = (Graphics2D) g.create();\r\n    \t\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\t\tg2.setColor(java.awt.Color.RED);\r\n    \t\t\tfor (Point p : listPoints) {\r\n    \t\t\t\tg2.fillOval(p.get_position()[0], p.get_position()[1], 10, 10);\r\n    \t\t\t}\r\n    \t\t\tg2.dispose();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic class Point {\r\n    \r\n    \t\tprivate int x;\r\n    \t\tprivate int y;\r\n    \t\tprivate int[] speed = new int[2];\r\n    \r\n    \t\tpublic Point(int x, int y) {\r\n    \t\t\tthis.x = x;\r\n    \t\t\tthis.y = y;\r\n    \t\t}\r\n    \r\n    \t\tpublic int[] get_position() {\r\n    \t\t\treturn new int[] { this.x, this.y };\r\n    \t\t}\r\n    \r\n    \t\tpublic int[] get_speed() {\r\n    \t\t\treturn this.speed;\r\n    \t\t}\r\n    \r\n    \t\tpublic void modify_position(int x, int y) {\r\n    \t\t\tthis.x = x;\r\n    \t\t\tthis.y = y;\r\n    \t\t}\r\n    \r\n    \t\tpublic void modify_speed(int speed_x, int speed_y) {\r\n    \t\t\tthis.speed[0] = speed_x;\r\n    \t\t\tthis.speed[1] = speed_y;\r\n    \t\t}\r\n    \r\n    \t\tpublic void add_position(int speed_x, int speed_y) {\r\n    \t\t\tthis.x += speed_x;\r\n    \t\t\tthis.y += speed_y;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"I try to make an animation with Java.Swing but the frame rate is very low and unconstant","body":"<p>I made a few minor changes to your code.</p>\n<ol>\n<li><p>I called the <code>SwingUtilities</code> <code>invokeLater</code> method to start the application.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n</li>\n<li><p>I moved the <code>simulationFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</code> to its proper location.  The <code>JFrame</code> methods must be called in a specific order.</p>\n</li>\n<li><p>I decreased the speed of the points.  You should only move pixels or fractions of a pixel in a time period if you want smooth motion.  To make up for the slower speed, I decreased the Swing <code>Timer</code> time.  The minimum Swing <code>Timer</code> time is 5 milliseconds.</p>\n</li>\n</ol>\n<p>Here's the complete runnable code.  I made your additional classes inner classes so I could compile, run, and post the code as one block.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class SimulationFrame {\n\n    public SimulationFrame() {\n        JFrame simulationFrame = new JFrame();\n        simulationFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        simulationFrame.setContentPane(new SimulationPanel());\n        simulationFrame.pack();\n        simulationFrame.setLocation(0, 0);\n        simulationFrame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new SimulationFrame();\n            }\n        });\n    }\n\n    public class SimulationPanel extends JPanel implements ActionListener {\n\n        private static final long serialVersionUID = 1L;\n\n        public ArrayList&lt;Point&gt; listPoints = new ArrayList&lt;Point&gt;();\n\n        private int width = 1000;\n        private int height = 1000;\n\n        public SimulationPanel() {\n\n            Point p1 = new Point(10, 10);\n            Point p2 = new Point(20, 20);\n            Point p3 = new Point(30, 30);\n\n            p1.modify_speed(2, 1);\n            p2.modify_speed(1, 2);\n            p3.modify_speed(2, 2);\n\n            listPoints.add(p1);\n            listPoints.add(p2);\n            listPoints.add(p3);\n            setPreferredSize(new Dimension(width, height));\n            Timer timer = new Timer(20, this);\n            timer.start();\n        }\n\n        public void actionPerformed(ActionEvent e) {\n            if (e.getSource() instanceof Timer) {\n                for (Point p : listPoints) {\n                    p.add_position(p.get_speed()[0], p.get_speed()[1]);\n                }\n                repaint();\n            }\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2 = (Graphics2D) g.create();\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                    RenderingHints.VALUE_ANTIALIAS_ON);\n            g2.setColor(java.awt.Color.RED);\n            for (Point p : listPoints) {\n                g2.fillOval(p.get_position()[0], p.get_position()[1], 10, 10);\n            }\n            g2.dispose();\n        }\n    }\n\n    public class Point {\n\n        private int x;\n        private int y;\n        private int[] speed = new int[2];\n\n        public Point(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public int[] get_position() {\n            return new int[] { this.x, this.y };\n        }\n\n        public int[] get_speed() {\n            return this.speed;\n        }\n\n        public void modify_position(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public void modify_speed(int speed_x, int speed_y) {\n            this.speed[0] = speed_x;\n            this.speed[1] = speed_y;\n        }\n\n        public void add_position(int speed_x, int speed_y) {\n            this.x += speed_x;\n            this.y += speed_y;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19711596,"reputation":1,"user_id":14431998,"display_name":"flibuste971"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680203521,"creation_date":1680196317,"question_id":75891153,"body_markdown":"I would like to simulate physic with entities that interacts with each other in jave. I would like to animate the simulation. I read a tutorial on how to make animation with Java.Swing Everything works fine but the frame rate of the simulation is to low even if I don&#39;t simulate many things. Even if my laptop in not the more powerful one, it&#39;s stills capable of calculate this simulation normally. \r\n\r\nHere is the entities that I simule\r\n\r\n```\r\npublic class Point {\r\n\r\n    private int x; \r\n    private int y;\r\n    private int[] speed = new int[2]; \r\n\r\n    public Point(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public int[] get_position() {\r\n        return new int[]{this.x, this.y};\r\n    }\r\n\r\n    public int[] get_speed() {\r\n        return this.speed;\r\n    }\r\n\r\n    public void modify_position(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public void modify_speed(int speed_x, int speed_y) {\r\n        this.speed[0] = speed_x;\r\n        this.speed[1] = speed_y;\r\n    }\r\n\r\n    public void add_position(int speed_x, int speed_y) {\r\n        this.x += speed_x;\r\n        this.y += speed_y;\r\n    }\r\n}\r\n```\r\n\r\nHere we have the JPanel code\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.event.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class SimulationPanel extends JPanel implements ActionListener {\r\n\r\n    public ArrayList&lt;Point&gt; listPoints = new ArrayList&lt;Point&gt;();\r\n\r\n    private int width = 1000;\r\n    private int height = 1000;\r\n\r\n    public SimulationPanel() {\r\n        \r\n        Point p1 = new Point(10, 10);\r\n        Point p2 = new Point(20, 20);\r\n        Point p3 = new Point(30, 30);\r\n\r\n        p1.modify_speed(5, 1);\r\n        p2.modify_speed(1, 5);\r\n        p3.modify_speed(5, 5);\r\n\r\n        listPoints.add(p1);\r\n        listPoints.add(p2);\r\n        listPoints.add(p3);\r\n        setPreferredSize(new Dimension(width, height));\r\n        Timer timer = new Timer(40, this);\r\n        timer.start();\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() instanceof Timer) {\r\n            for (Point p : listPoints) {\r\n                p.add_position(p.get_speed()[0], p.get_speed()[1]);\r\n            }\r\n            repaint();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g.create();\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2.setColor(java.awt.Color.RED);        \r\n        for (Point p : listPoints) {\r\n            g2.fillOval(p.get_position()[0], p.get_position()[1], 10, 10);\r\n        }\r\n        g2.dispose();\r\n    }\r\n}\r\n\r\n```\r\n\r\nand finaly the JFrame file\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class SimulationFrame {\r\n\r\n    public SimulationFrame() {\r\n        JFrame simulationFrame = new JFrame();\r\n        simulationFrame.setContentPane(new SimulationPanel());\r\n        simulationFrame.pack();\r\n        simulationFrame.setLocation(0, 0);\r\n        simulationFrame.setVisible(true);\r\n        simulationFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new SimulationFrame();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried to optimize my code to increase the frame rate level but nothing seems to work","title":"I try to make an animation with Java.Swing but the frame rate is very low and unconstant","body":"<p>I would like to simulate physic with entities that interacts with each other in jave. I would like to animate the simulation. I read a tutorial on how to make animation with Java.Swing Everything works fine but the frame rate of the simulation is to low even if I don't simulate many things. Even if my laptop in not the more powerful one, it's stills capable of calculate this simulation normally.</p>\n<p>Here is the entities that I simule</p>\n<pre><code>public class Point {\n\n    private int x; \n    private int y;\n    private int[] speed = new int[2]; \n\n    public Point(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int[] get_position() {\n        return new int[]{this.x, this.y};\n    }\n\n    public int[] get_speed() {\n        return this.speed;\n    }\n\n    public void modify_position(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public void modify_speed(int speed_x, int speed_y) {\n        this.speed[0] = speed_x;\n        this.speed[1] = speed_y;\n    }\n\n    public void add_position(int speed_x, int speed_y) {\n        this.x += speed_x;\n        this.y += speed_y;\n    }\n}\n</code></pre>\n<p>Here we have the JPanel code</p>\n<pre><code>import javax.swing.*;\n\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.event.*;\nimport java.util.ArrayList;\n\npublic class SimulationPanel extends JPanel implements ActionListener {\n\n    public ArrayList&lt;Point&gt; listPoints = new ArrayList&lt;Point&gt;();\n\n    private int width = 1000;\n    private int height = 1000;\n\n    public SimulationPanel() {\n        \n        Point p1 = new Point(10, 10);\n        Point p2 = new Point(20, 20);\n        Point p3 = new Point(30, 30);\n\n        p1.modify_speed(5, 1);\n        p2.modify_speed(1, 5);\n        p3.modify_speed(5, 5);\n\n        listPoints.add(p1);\n        listPoints.add(p2);\n        listPoints.add(p3);\n        setPreferredSize(new Dimension(width, height));\n        Timer timer = new Timer(40, this);\n        timer.start();\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() instanceof Timer) {\n            for (Point p : listPoints) {\n                p.add_position(p.get_speed()[0], p.get_speed()[1]);\n            }\n            repaint();\n        }\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g.create();\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setColor(java.awt.Color.RED);        \n        for (Point p : listPoints) {\n            g2.fillOval(p.get_position()[0], p.get_position()[1], 10, 10);\n        }\n        g2.dispose();\n    }\n}\n\n</code></pre>\n<p>and finaly the JFrame file</p>\n<pre><code>import javax.swing.*;\n\npublic class SimulationFrame {\n\n    public SimulationFrame() {\n        JFrame simulationFrame = new JFrame();\n        simulationFrame.setContentPane(new SimulationPanel());\n        simulationFrame.pack();\n        simulationFrame.setLocation(0, 0);\n        simulationFrame.setVisible(true);\n        simulationFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        new SimulationFrame();\n    }\n}\n\n</code></pre>\n<p>I tried to optimize my code to increase the frame rate level but nothing seems to work</p>\n"},{"tags":["java","http","java-8","httpurlconnection"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679787108,"post_id":75845092,"comment_id":133783730,"body_markdown":"I would use a [http proxy](https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html) if I needed that. [Fiddler](https://www.telerik.com/fiddler) for example.","body":"I would use a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">http proxy</a> if I needed that. <a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">Fiddler</a> for example."},{"owner":{"account_id":5092388,"reputation":5380,"user_id":4085019,"accept_rate":50,"display_name":"PseudoAj"},"score":0,"creation_date":1679787392,"post_id":75845092,"comment_id":133783753,"body_markdown":"Unfortunately proxy wouldn&#39;t suffice the use case.","body":"Unfortunately proxy wouldn&#39;t suffice the use case."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679815744,"post_id":75845092,"comment_id":133785754,"body_markdown":"Does this answer your question? [How to write a http proxy using netty](https://stackoverflow.com/questions/46157002/how-to-write-a-http-proxy-using-netty)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46157002/how-to-write-a-http-proxy-using-netty\">How to write a http proxy using netty</a>"},{"owner":{"account_id":5092388,"reputation":5380,"user_id":4085019,"accept_rate":50,"display_name":"PseudoAj"},"score":0,"creation_date":1679883950,"post_id":75845092,"comment_id":133795205,"body_markdown":"What I am looking for is an inproc solution. Out of proc proxy is something that works and not a solution for the original question.","body":"What I am looking for is an inproc solution. Out of proc proxy is something that works and not a solution for the original question."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680626085,"post_id":75845092,"comment_id":133928525,"body_markdown":"Random thought: Have you tried a call to `HttpURLConnection.super.connect()`? (That&#39;s how the line would be written as-is in the code).","body":"Random thought: Have you tried a call to <code>HttpURLConnection.super.connect()</code>? (That&#39;s how the line would be written as-is in the code)."}],"answers":[{"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680203405,"creation_date":1680202936,"answer_id":75892039,"question_id":75845092,"body_markdown":"What you can do is copy the existing implementation in the JDK and modify that.\r\n\r\nNote that this uses internal APIs and might only work on OpenJDK.\r\n\r\nI initially wrote this on OpenJDK 16 so the copied implementation is a bit fancier than the one in OpenJDK 8, but there&#39;s no harm in that.\r\n\r\n    public class Main {\r\n    \r\n        private static String PREFIX = &quot;sun.net.www.protocol.&quot;;\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n    \r\n            URL.setURLStreamHandlerFactory((protocol) -&gt; {\r\n                // Avoid using reflection during bootstrap\r\n                switch (protocol) {\r\n                    case &quot;file&quot;:\r\n                        return new sun.net.www.protocol.file.Handler();\r\n                    case &quot;jar&quot;:\r\n                        return new sun.net.www.protocol.jar.Handler();\r\n                   // Inject our own http and https handlers\r\n                    case &quot;http&quot;:\r\n                        return new HttpUrlHandler();\r\n                    case &quot;https&quot;:\r\n                        return new HttpsUrlHandler();\r\n                }\r\n                // The rest of this method is copied from the JDK 19 implementation\r\n                String name = PREFIX + protocol + &quot;.Handler&quot;;\r\n                try {\r\n                    Object o = Class.forName(name).getDeclaredConstructor().newInstance();\r\n                    return (URLStreamHandler)o;\r\n                } catch (Exception e) {\r\n                    // For compatibility, all Exceptions are ignored.\r\n                    // any number of exceptions can get thrown here\r\n                }\r\n                return null;\r\n            });\r\n    \r\n            byte[] buffer = new byte[1024];\r\n            new URL(&quot;http://stackoverflow.com&quot;).openStream().read(buffer);\r\n            System.out.println(new String(buffer, StandardCharsets.UTF_8));\r\n    \r\n            new URL(&quot;https://stackoverflow.com&quot;).openStream().read(buffer);\r\n            System.out.println(new String(buffer, StandardCharsets.UTF_8));\r\n        }\r\n    \r\n        private static class HttpUrlHandler extends sun.net.www.protocol.http.Handler {\r\n            @Override\r\n            protected URLConnection openConnection(URL u) throws IOException {\r\n                System.out.println(&quot;Overriding HTTP url&quot;);\r\n                return super.openConnection(new URL(&quot;http://httpbin.org/user-agent&quot;));\r\n            }\r\n        }\r\n    \r\n        private static class HttpsUrlHandler extends sun.net.www.protocol.https.Handler {\r\n            @Override\r\n            protected URLConnection openConnection(URL u) throws IOException {\r\n                System.out.println(&quot;Overriding HTTPS url&quot;);\r\n                return super.openConnection(new URL(&quot;https://httpbin.org/user-agent&quot;));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nWhat this does is extend the normal protocol handle by overriding `openConnection`. The new implementation prints a message to standard out and then replace the URL with _http(s)://httpbin.org/user-agent_ which responds with your user agent. The actual connection is then handled by the normal handler that we extend.\r\n\r\nNote that if you do this on more recent JDK you may have to handle the _jrt_ protocol in the `switch` and you definitely will have to run and compile your application with a bunch of `--add-exports` to enable access to the internal packages.\r\n\r\n    $ ./gradlew run\r\n\r\n    &gt; Task :compileJava\r\n    /home/raniz/src/playground/src/main/java/playground/Main.java:20: warning: sun.net.www.protocol.file.Handler is internal proprietary API and may be removed in a future release\r\n                        return new sun.net.www.protocol.file.Handler();\r\n                                                            ^\r\n    /home/raniz/src/playground/src/main/java/playground/Main.java:22: warning: sun.net.www.protocol.jar.Handler is internal proprietary API and may be removed in a future release\r\n                        return new sun.net.www.protocol.jar.Handler();\r\n                                                           ^\r\n    /home/raniz/src/playground/src/main/java/playground/Main.java:47: warning: sun.net.www.protocol.http.Handler is internal proprietary API and may be removed in a future release\r\n        private static class HttpUrlHandler extends sun.net.www.protocol.http.Handler {\r\n                                                                             ^\r\n    /home/raniz/src/playground/src/main/java/playground/Main.java:55: warning: sun.net.www.protocol.https.Handler is internal proprietary API and may be removed in a future release\r\n        private static class HttpsUrlHandler extends sun.net.www.protocol.https.Handler {\r\n                                                                               ^\r\n    4 warnings\r\n    \r\n    &gt; Task :run\r\n    Overriding HTTP url\r\n    {\r\n      &quot;user-agent&quot;: &quot;Java/1.8.0_362&quot;\r\n    }\r\n    \r\n    Overriding HTTPS url\r\n    {\r\n      &quot;user-agent&quot;: &quot;Java/1.8.0_362&quot;\r\n    }\r\n    \r\n    \r\n    BUILD SUCCESSFUL in 1s\r\n    2 actionable tasks: 2 executed\r\n\r\nAnother way to do this would be to use a HTTP client library that allows these kinds of extensions instead - Java&#39;s URL API is far from the most ergonomical.\r\n\r\nI found these examples with a quick search:\r\n\r\nhttps://stackoverflow.com/questions/47401545/modify-request-uri-before-it-is-sent-with-apache-http-client  \r\nhttps://stackoverflow.com/questions/32196424/how-to-add-headers-to-okhttp-request-interceptor (this one&#39;s for adding headers but the approach for changing the URL is the same)","title":"How to cleanly intercept a request URL over java.net.HttpURLConnection in Java 8?","body":"<p>What you can do is copy the existing implementation in the JDK and modify that.</p>\n<p>Note that this uses internal APIs and might only work on OpenJDK.</p>\n<p>I initially wrote this on OpenJDK 16 so the copied implementation is a bit fancier than the one in OpenJDK 8, but there's no harm in that.</p>\n<pre><code>public class Main {\n\n    private static String PREFIX = &quot;sun.net.www.protocol.&quot;;\n\n    public static void main(String[] args) throws IOException {\n\n\n        URL.setURLStreamHandlerFactory((protocol) -&gt; {\n            // Avoid using reflection during bootstrap\n            switch (protocol) {\n                case &quot;file&quot;:\n                    return new sun.net.www.protocol.file.Handler();\n                case &quot;jar&quot;:\n                    return new sun.net.www.protocol.jar.Handler();\n               // Inject our own http and https handlers\n                case &quot;http&quot;:\n                    return new HttpUrlHandler();\n                case &quot;https&quot;:\n                    return new HttpsUrlHandler();\n            }\n            // The rest of this method is copied from the JDK 19 implementation\n            String name = PREFIX + protocol + &quot;.Handler&quot;;\n            try {\n                Object o = Class.forName(name).getDeclaredConstructor().newInstance();\n                return (URLStreamHandler)o;\n            } catch (Exception e) {\n                // For compatibility, all Exceptions are ignored.\n                // any number of exceptions can get thrown here\n            }\n            return null;\n        });\n\n        byte[] buffer = new byte[1024];\n        new URL(&quot;http://stackoverflow.com&quot;).openStream().read(buffer);\n        System.out.println(new String(buffer, StandardCharsets.UTF_8));\n\n        new URL(&quot;https://stackoverflow.com&quot;).openStream().read(buffer);\n        System.out.println(new String(buffer, StandardCharsets.UTF_8));\n    }\n\n    private static class HttpUrlHandler extends sun.net.www.protocol.http.Handler {\n        @Override\n        protected URLConnection openConnection(URL u) throws IOException {\n            System.out.println(&quot;Overriding HTTP url&quot;);\n            return super.openConnection(new URL(&quot;http://httpbin.org/user-agent&quot;));\n        }\n    }\n\n    private static class HttpsUrlHandler extends sun.net.www.protocol.https.Handler {\n        @Override\n        protected URLConnection openConnection(URL u) throws IOException {\n            System.out.println(&quot;Overriding HTTPS url&quot;);\n            return super.openConnection(new URL(&quot;https://httpbin.org/user-agent&quot;));\n        }\n    }\n\n}\n</code></pre>\n<p>What this does is extend the normal protocol handle by overriding <code>openConnection</code>. The new implementation prints a message to standard out and then replace the URL with <em>http(s)://httpbin.org/user-agent</em> which responds with your user agent. The actual connection is then handled by the normal handler that we extend.</p>\n<p>Note that if you do this on more recent JDK you may have to handle the <em>jrt</em> protocol in the <code>switch</code> and you definitely will have to run and compile your application with a bunch of <code>--add-exports</code> to enable access to the internal packages.</p>\n<pre><code>$ ./gradlew run\n\n&gt; Task :compileJava\n/home/raniz/src/playground/src/main/java/playground/Main.java:20: warning: sun.net.www.protocol.file.Handler is internal proprietary API and may be removed in a future release\n                    return new sun.net.www.protocol.file.Handler();\n                                                        ^\n/home/raniz/src/playground/src/main/java/playground/Main.java:22: warning: sun.net.www.protocol.jar.Handler is internal proprietary API and may be removed in a future release\n                    return new sun.net.www.protocol.jar.Handler();\n                                                       ^\n/home/raniz/src/playground/src/main/java/playground/Main.java:47: warning: sun.net.www.protocol.http.Handler is internal proprietary API and may be removed in a future release\n    private static class HttpUrlHandler extends sun.net.www.protocol.http.Handler {\n                                                                         ^\n/home/raniz/src/playground/src/main/java/playground/Main.java:55: warning: sun.net.www.protocol.https.Handler is internal proprietary API and may be removed in a future release\n    private static class HttpsUrlHandler extends sun.net.www.protocol.https.Handler {\n                                                                           ^\n4 warnings\n\n&gt; Task :run\nOverriding HTTP url\n{\n  &quot;user-agent&quot;: &quot;Java/1.8.0_362&quot;\n}\n\nOverriding HTTPS url\n{\n  &quot;user-agent&quot;: &quot;Java/1.8.0_362&quot;\n}\n\n\nBUILD SUCCESSFUL in 1s\n2 actionable tasks: 2 executed\n</code></pre>\n<p>Another way to do this would be to use a HTTP client library that allows these kinds of extensions instead - Java's URL API is far from the most ergonomical.</p>\n<p>I found these examples with a quick search:</p>\n<p><a href=\"https://stackoverflow.com/questions/47401545/modify-request-uri-before-it-is-sent-with-apache-http-client\">Modify request URI before it is sent with apache http client</a><br />\n<a href=\"https://stackoverflow.com/questions/32196424/how-to-add-headers-to-okhttp-request-interceptor\">How to add headers to OkHttp request interceptor?</a> (this one's for adding headers but the approach for changing the URL is the same)</p>\n"}],"owner":{"account_id":5092388,"reputation":5380,"user_id":4085019,"accept_rate":50,"display_name":"PseudoAj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680203405,"creation_date":1679786935,"question_id":75845092,"body_markdown":"## About\r\n\r\nTrying to see if it&#39;s possible to rewrite/mutate the request URL along with ability to intercept the headers, request and response cleanly over `java.net.HttpURLConnection` in Java 8. Closest approach is to use `setURLStreamHandlerFactory` to register a custom handler at the `URL` level:\r\n\r\n```java\r\nURL.setURLStreamHandlerFactory(new URLStreamHandler() {\r\n    protected URLConnection openConnection(URL url) throws IOException {\r\n        // Mutate the URL object to reqrite\r\n        URL rewrittenUrl = new URL(urlEndpoint);\r\n\r\n        // Return a connection object with custom connect()\r\n        return new URLConnection(rewrittenUrl) {\r\n            public void connect() throws IOException {\r\n                // Let the default HttpUrlConnection take care rest of the flow\r\n            }\r\n        };\r\n    }\r\n});\r\n```\r\n\r\nThe existing usage of `URLConnection` can remain same:\r\n\r\n```java\r\n        HttpURLConnection httpConnection = (HttpURLConnection) requestUrl.openConnection();\r\n        httpConnection.setRequestMethod(&quot;GET&quot;);\r\n\r\n        // Pass Auth Header\r\n        httpConnection.setRequestProperty(&quot;Authorization&quot;, BEARER_TOKEN);\r\n\r\n        int status = httpConnection.getResponseCode();\r\n```\r\n\r\n\r\n## Problem Statement\r\n\r\nThe part that&#39;s not clear is how do we delegate the `connect()` method. Ideally, this should be handled by the existing http stack. Looks like `HttpURLConnection` is an abstract class and cannot to simply be delegated upon. \r\n\r\n\r\n## References\r\n\r\n* https://stackoverflow.com/questions/26363573/registering-and-using-a-custom-java-net-url-protocol\r\n* https://stackoverflow.com/questions/12764764/dont-understand-the-concept-of-extends-in-url-openconnection-in-java\r\n* https://stackoverflow.com/questions/34154572/where-is-connect-and-disconnect-implemented\r\n","title":"How to cleanly intercept a request URL over java.net.HttpURLConnection in Java 8?","body":"<h2>About</h2>\n<p>Trying to see if it's possible to rewrite/mutate the request URL along with ability to intercept the headers, request and response cleanly over <code>java.net.HttpURLConnection</code> in Java 8. Closest approach is to use <code>setURLStreamHandlerFactory</code> to register a custom handler at the <code>URL</code> level:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL.setURLStreamHandlerFactory(new URLStreamHandler() {\n    protected URLConnection openConnection(URL url) throws IOException {\n        // Mutate the URL object to reqrite\n        URL rewrittenUrl = new URL(urlEndpoint);\n\n        // Return a connection object with custom connect()\n        return new URLConnection(rewrittenUrl) {\n            public void connect() throws IOException {\n                // Let the default HttpUrlConnection take care rest of the flow\n            }\n        };\n    }\n});\n</code></pre>\n<p>The existing usage of <code>URLConnection</code> can remain same:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        HttpURLConnection httpConnection = (HttpURLConnection) requestUrl.openConnection();\n        httpConnection.setRequestMethod(&quot;GET&quot;);\n\n        // Pass Auth Header\n        httpConnection.setRequestProperty(&quot;Authorization&quot;, BEARER_TOKEN);\n\n        int status = httpConnection.getResponseCode();\n</code></pre>\n<h2>Problem Statement</h2>\n<p>The part that's not clear is how do we delegate the <code>connect()</code> method. Ideally, this should be handled by the existing http stack. Looks like <code>HttpURLConnection</code> is an abstract class and cannot to simply be delegated upon.</p>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/26363573/registering-and-using-a-custom-java-net-url-protocol\">Registering and using a custom java.net.URL protocol</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12764764/dont-understand-the-concept-of-extends-in-url-openconnection-in-java\">Dont understand the concept of extends in URL.openConnection() in JAVA</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34154572/where-is-connect-and-disconnect-implemented\">Where is connect() and disconnect() implemented?</a></li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19519078,"reputation":172,"user_id":14281350,"display_name":"Sidharth"},"score":0,"creation_date":1680204148,"post_id":75892093,"comment_id":133862992,"body_markdown":"You can take a look into the accepted answer of this post: https://stackoverflow.com/questions/2695214/convert-jar-to-an-osx-executable","body":"You can take a look into the accepted answer of this post: <a href=\"https://stackoverflow.com/questions/2695214/convert-jar-to-an-osx-executable\" title=\"convert jar to an osx executable\">stackoverflow.com/questions/2695214/&hellip;</a>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680204204,"post_id":75892093,"comment_id":133863007,"body_markdown":"Try this cool new thing - https://www.graalvm.org/latest/reference-manual/native-image/guides/build-native-executable-from-jar/","body":"Try this cool new thing - <a href=\"https://www.graalvm.org/latest/reference-manual/native-image/guides/build-native-executable-from-jar/\" rel=\"nofollow noreferrer\">graalvm.org/latest/reference-manual/native-image/guides/&hellip;</a>"}],"owner":{"account_id":20233707,"reputation":21,"user_id":14839535,"display_name":"Дмитро Городовенко"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680206090,"answer_count":0,"score":0,"last_activity_date":1680203380,"creation_date":1680203380,"question_id":75892093,"body_markdown":"I have code opened in intellij idea also I&#39;ve compiled .jar how I can convert this program into .app\r\nso It will be runnable as normal app?\r\nThanks\r\n\r\nI&#39;ve made jar file. ","title":"How to convert jar file into application for macOS","body":"<p>I have code opened in intellij idea also I've compiled .jar how I can convert this program into .app\nso It will be runnable as normal app?\nThanks</p>\n<p>I've made jar file.</p>\n"},{"tags":["java","mongodb","spring-boot","thymeleaf","sts"],"owner":{"account_id":28171587,"reputation":21,"user_id":21530053,"display_name":"Arun S Nair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680203068,"creation_date":1680200737,"question_id":75891736,"body_markdown":"Just started on **spring boot** and found out when using both **thymeleaf** and **mongoDB**, the order of the dependencies in pom file matters.\r\n\r\nIt works only if thymeleaf dependency is at the top of the Mongo dependency?\r\n\r\nAny Explanation why?","title":"Does the order of dependencies matter in Spring boot?","body":"<p>Just started on <strong>spring boot</strong> and found out when using both <strong>thymeleaf</strong> and <strong>mongoDB</strong>, the order of the dependencies in pom file matters.</p>\n<p>It works only if thymeleaf dependency is at the top of the Mongo dependency?</p>\n<p>Any Explanation why?</p>\n"},{"tags":["java"],"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680202018,"creation_date":1680150415,"question_id":75884127,"body_markdown":"**PROBLEM DESCRIPTION :**\r\n\r\nHello I was thinking of a fun algorithm. I try to detect if there&#39;s items in a Chest and if there&#39;s items in it I should be able to display them in the chat. I putted 1 apple in each slots of the chest but it still say the message &quot;empty&quot; \r\n\r\n**CODE :**\r\n\r\n\r\n   \r\n\r\n     public void onEvent(Event e) {\r\n    \t\tif (e instanceof EventUpdate) { \r\n    \t\t\t   \r\n    \t\t\tif (e.isPre()) {\r\n    \t\t\t\t\r\n    \t\t\t\t for (Object o : mc.theWorld.loadedTileEntityList) {\r\n    \t\t\t\t    if (o instanceof TileEntityChest &amp;&amp; mc.currentScreen instanceof GuiChest) { // If this is a Chest and If we are on the chest inventory\r\n    \t\t\t\t        TileEntityChest chest = (TileEntityChest) o;\r\n    \t\t\t\t    \t\r\n    \t\t\t\t        mc.thePlayer.sendChatMessage(&quot;Found chest at &quot; + chest.getPos().getX() + &quot;, &quot; + chest.getPos().getY() + &quot;, &quot; + chest.getPos().getZ());\r\n    \t\t\t\t        \r\n    \t\t\t\t        for (int i = 0; i &lt; chest.getSizeInventory(); i++) {\r\n    \t\t\t\t            ItemStack itemStack = chest.getStackInSlot(i); // Returns the stack in slot i\r\n    \t\t\t\t            if (itemStack != null &amp;&amp; itemStack.stackSize &gt; 0) {\r\n    \t\t\t\t                String itemName = itemStack.getDisplayName();\r\n    \t\t\t\t                mc.thePlayer.sendChatMessage(&quot;Slot &quot; + i + &quot;: &quot; + itemName);\r\n    \t\t\t\t            } else {\r\n    \t\t\t\t                mc.thePlayer.sendChatMessage(&quot;Slot &quot; + i + &quot;: Empty&quot;);\r\n    \t\t\t\t            }\r\n    \t\t\t\t        }\r\n    \t\t\t\t    }\r\n    \t\t\t\t} \r\n    \t\t\t\t\r\n            }\r\n    \t\t\r\n        }\r\n    \t\r\n    }\r\n\r\n\r\n**WHAT I&#39;VE TRIED/WHAT I KNOW :**\r\n\r\n - To detect the Chest and you see that there&#39;s the chest Coords in the chat \r\n - To detect the slots and It displays all the slots (27) but no element in it (that&#39;s the problem) ","title":"Can&#39;t detect items in a Chest on Minecraft version1.8 with MCP910","body":"<p><strong>PROBLEM DESCRIPTION :</strong></p>\n<p>Hello I was thinking of a fun algorithm. I try to detect if there's items in a Chest and if there's items in it I should be able to display them in the chat. I putted 1 apple in each slots of the chest but it still say the message &quot;empty&quot;</p>\n<p><strong>CODE :</strong></p>\n<pre><code> public void onEvent(Event e) {\n        if (e instanceof EventUpdate) { \n               \n            if (e.isPre()) {\n                \n                 for (Object o : mc.theWorld.loadedTileEntityList) {\n                    if (o instanceof TileEntityChest &amp;&amp; mc.currentScreen instanceof GuiChest) { // If this is a Chest and If we are on the chest inventory\n                        TileEntityChest chest = (TileEntityChest) o;\n                        \n                        mc.thePlayer.sendChatMessage(&quot;Found chest at &quot; + chest.getPos().getX() + &quot;, &quot; + chest.getPos().getY() + &quot;, &quot; + chest.getPos().getZ());\n                        \n                        for (int i = 0; i &lt; chest.getSizeInventory(); i++) {\n                            ItemStack itemStack = chest.getStackInSlot(i); // Returns the stack in slot i\n                            if (itemStack != null &amp;&amp; itemStack.stackSize &gt; 0) {\n                                String itemName = itemStack.getDisplayName();\n                                mc.thePlayer.sendChatMessage(&quot;Slot &quot; + i + &quot;: &quot; + itemName);\n                            } else {\n                                mc.thePlayer.sendChatMessage(&quot;Slot &quot; + i + &quot;: Empty&quot;);\n                            }\n                        }\n                    }\n                } \n                \n        }\n        \n    }\n    \n}\n</code></pre>\n<p><strong>WHAT I'VE TRIED/WHAT I KNOW :</strong></p>\n<ul>\n<li>To detect the Chest and you see that there's the chest Coords in the chat</li>\n<li>To detect the slots and It displays all the slots (27) but no element in it (that's the problem)</li>\n</ul>\n"},{"tags":["java","multithreading","scala","future"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":6,"creation_date":1680204750,"post_id":75891896,"comment_id":133863148,"body_markdown":"Well **Java** `Futures` are not really _&quot;cancellable&quot;_ in the most common meaning of the word, they just kill / interrupt the underlying thread possibly leaking resources; which may be the reason **Scala** `Future` didn&#39;t add that. - About mixing, I think it should be fine, both are just submitting things to the same thread pool. - BTW, if you really need cancellation, why not using something more powerful like `IO` from **cats-effect** or **ZIO**.","body":"Well <b>Java</b> <code>Futures</code> are not really <i>&quot;cancellable&quot;</i> in the most common meaning of the word, they just kill / interrupt the underlying thread possibly leaking resources; which may be the reason <b>Scala</b> <code>Future</code> didn&#39;t add that. - About mixing, I think it should be fine, both are just submitting things to the same thread pool. - BTW, if you really need cancellation, why not using something more powerful like <code>IO</code> from <b>cats-effect</b> or <b>ZIO</b>."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":1,"creation_date":1680479623,"post_id":75891896,"comment_id":133900890,"body_markdown":"That&#39;s part of the reason, the other main part is that the `Future` in Scala is just the read-side of the computation, as opposed to the write-side (aka `Promise`), so it&#39;s the responsibility of whatever owns the `Promise` to cancel the computation and fail (or not complete) the `Future`.\n\nAgreed that it should be fine to cancel a Java future executing on the same EC.","body":"That&#39;s part of the reason, the other main part is that the <code>Future</code> in Scala is just the read-side of the computation, as opposed to the write-side (aka <code>Promise</code>), so it&#39;s the responsibility of whatever owns the <code>Promise</code> to cancel the computation and fail (or not complete) the <code>Future</code>.  Agreed that it should be fine to cancel a Java future executing on the same EC."}],"owner":{"account_id":9236879,"reputation":3001,"user_id":6861219,"accept_rate":88,"display_name":"Ziqi Liu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680201828,"creation_date":1680201828,"question_id":75891896,"body_markdown":"I noticed that scala `ExecutionContext` has a `def fromExecutorService(e: ExecutorService)` which convert a Java ExecutorService to scala `ExecutionContext`.\r\n\r\nCan I mixed use these two? i.e.,:\r\n```\r\nval someExecutorService = ....\r\nval ec = ExecutionContext.fromExecutorService(someExecutorService)\r\n\r\nval javaFuture = someExecutorSerivce.submit(...\r\nval scalaFuture = ec.submit(...\r\n\r\n```\r\n\r\nThe reason I want to do this is that I need java Future&#39;s cancellation feature...but I&#39;m not sure whether the mixed usage will cause any trouble(my confusion is that why scala&#39;s future is not cancellable while it&#39;s using executor service under the hood and java Future is cancellable)","title":"Can I mixed use Scala ExecutionContext and Java ExecutorSerivce","body":"<p>I noticed that scala <code>ExecutionContext</code> has a <code>def fromExecutorService(e: ExecutorService)</code> which convert a Java ExecutorService to scala <code>ExecutionContext</code>.</p>\n<p>Can I mixed use these two? i.e.,:</p>\n<pre><code>val someExecutorService = ....\nval ec = ExecutionContext.fromExecutorService(someExecutorService)\n\nval javaFuture = someExecutorSerivce.submit(...\nval scalaFuture = ec.submit(...\n\n</code></pre>\n<p>The reason I want to do this is that I need java Future's cancellation feature...but I'm not sure whether the mixed usage will cause any trouble(my confusion is that why scala's future is not cancellable while it's using executor service under the hood and java Future is cancellable)</p>\n"},{"tags":["java","apache-kafka","openshift","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680212213,"post_id":75891888,"comment_id":133864743,"body_markdown":"Kafka is not an HTTP service. Why are you trying to make it available on port 80?","body":"Kafka is not an HTTP service. Why are you trying to make it available on port 80?"},{"owner":{"account_id":7126789,"reputation":127,"user_id":5449454,"display_name":"Daemon2017"},"score":0,"creation_date":1680244162,"post_id":75891888,"comment_id":133868395,"body_markdown":"@OneCricketeer, I&#39;ve forwarded the port 9092-&gt;80 as protocol=TCP, not HTTP. Can this create problems?","body":"@OneCricketeer, I&#39;ve forwarded the port 9092-&gt;80 as protocol=TCP, not HTTP. Can this create problems?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680283620,"post_id":75891888,"comment_id":133877919,"body_markdown":"Maybe? I&#39;ve not used OpenShift. Maybe read https://strimzi.io/blog/2019/04/30/accessing-kafka-part-3/ ; In any case, I&#39;ve seen this OOM error before when the wrong network protocol is used in the client-server negotiation","body":"Maybe? I&#39;ve not used OpenShift. Maybe read <a href=\"https://strimzi.io/blog/2019/04/30/accessing-kafka-part-3/\" rel=\"nofollow noreferrer\">strimzi.io/blog/2019/04/30/accessing-kafka-part-3</a> ; In any case, I&#39;ve seen this OOM error before when the wrong network protocol is used in the client-server negotiation"}],"owner":{"account_id":7126789,"reputation":127,"user_id":5449454,"display_name":"Daemon2017"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680201761,"creation_date":1680201761,"question_id":75891888,"body_markdown":"I&#39;m temporarily using an EmbeddedKafkaBroker hosted in a OpenShift-server&#39;s container.\r\n\r\nThis is what the server looks like:\r\n\r\n    EmbeddedKafkaBroker embeddedKafkaBroker = new EmbeddedKafkaBroker(1, false, 2);\r\n    embeddedKafkaBroker.kafkaPorts(8092);\r\n    embeddedKafkaBroker.addTopics(&quot;testTopic&quot;);\r\n    embeddedKafkaBroker.brokerProperty(&quot;listeners&quot;, &quot;INTERNAL://0.0.0.0:8092,EXTERNAL://0.0.0.0:9092&quot;);\r\n    embeddedKafkaBroker.brokerProperty(&quot;advertised.listeners&quot;, &quot;INTERNAL://localhost:8092,EXTERNAL://kafka-mock-daemon2017.apps.testing.soul:80&quot;);\r\n    embeddedKafkaBroker.brokerProperty(&quot;listener.security.protocol.map&quot;, &quot;INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT&quot;);\r\n    embeddedKafkaBroker.brokerProperty(&quot;inter.broker.listener.name&quot;, &quot;INTERNAL&quot;);\r\n    embeddedKafkaBroker.afterPropertiesSet();\r\n    log.info(&quot;EmbeddedKafkaBroker started!&quot;);\r\n\r\nInner port 9092 is mapped to outer port 80.\r\n\r\nVersions:\r\n\r\n    org.springframework.kafka:spring-kafka:2.7.10\r\n    org.springframework.kafka:spring-kafka-test:2.7.10\r\n\r\nIf I try to produce message to this server (kafka-mock-daemon2017.apps.testing.soul:80) from another application hosted in the same OpenShift namespace, then I get the error:\r\n\r\n&gt; 2023-03-30 21:11:46[kafka-producer-network-thread | producer-1]ERROR\r\n&gt; o.a.kafka.common.utils.KafkaThread - Uncaught exception in thread\r\n&gt; &#39;kafka-producer-network-thread | producer-1&#39;:\r\n&gt; java.lang.OutOfMemoryError: Java heap space \tat\r\n&gt; java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:61) \tat\r\n&gt; java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:348) \tat\r\n&gt; org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\r\n&gt; \tat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:328)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nIf I try to consume message from it (kafka-mock-daemon2017.apps.testing.soul:80) from another application hosted on my local computer, then I get the error:\r\n\r\n&gt; Java heap space java.lang.OutOfMemoryError: Java heap space \tat\r\n&gt; java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:61) \tat\r\n&gt; java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:349) \tat\r\n&gt; org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.Selector.attemptRead(Selector.java:678)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:580)\r\n&gt; \tat org.apache.kafka.common.network.Selector.poll(Selector.java:485)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:547)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:245)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1261)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1232)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1165)\r\n\r\nWhat am I doing wrong? Which host:port must I use, when connecting from OpenShift and when connecting from my computer - INTERNAL or EXTERNAL?","title":"Interaction with EmbeddedKafkaBroker inside/outside the OpenShift server","body":"<p>I'm temporarily using an EmbeddedKafkaBroker hosted in a OpenShift-server's container.</p>\n<p>This is what the server looks like:</p>\n<pre><code>EmbeddedKafkaBroker embeddedKafkaBroker = new EmbeddedKafkaBroker(1, false, 2);\nembeddedKafkaBroker.kafkaPorts(8092);\nembeddedKafkaBroker.addTopics(&quot;testTopic&quot;);\nembeddedKafkaBroker.brokerProperty(&quot;listeners&quot;, &quot;INTERNAL://0.0.0.0:8092,EXTERNAL://0.0.0.0:9092&quot;);\nembeddedKafkaBroker.brokerProperty(&quot;advertised.listeners&quot;, &quot;INTERNAL://localhost:8092,EXTERNAL://kafka-mock-daemon2017.apps.testing.soul:80&quot;);\nembeddedKafkaBroker.brokerProperty(&quot;listener.security.protocol.map&quot;, &quot;INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT&quot;);\nembeddedKafkaBroker.brokerProperty(&quot;inter.broker.listener.name&quot;, &quot;INTERNAL&quot;);\nembeddedKafkaBroker.afterPropertiesSet();\nlog.info(&quot;EmbeddedKafkaBroker started!&quot;);\n</code></pre>\n<p>Inner port 9092 is mapped to outer port 80.</p>\n<p>Versions:</p>\n<pre><code>org.springframework.kafka:spring-kafka:2.7.10\norg.springframework.kafka:spring-kafka-test:2.7.10\n</code></pre>\n<p>If I try to produce message to this server (kafka-mock-daemon2017.apps.testing.soul:80) from another application hosted in the same OpenShift namespace, then I get the error:</p>\n<blockquote>\n<p>2023-03-30 21:11:46[kafka-producer-network-thread | producer-1]ERROR\no.a.kafka.common.utils.KafkaThread - Uncaught exception in thread\n'kafka-producer-network-thread | producer-1':\njava.lang.OutOfMemoryError: Java heap space   at\njava.base/java.nio.HeapByteBuffer.(HeapByteBuffer.java:61)  at\njava.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:348)   at\norg.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\nat\norg.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\nat\norg.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\nat\norg.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\nat\norg.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\nat\norg.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\nat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\nat\norg.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\nat\norg.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:328)\nat\norg.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\nat java.base/java.lang.Thread.run(Thread.java:829)</p>\n</blockquote>\n<p>If I try to consume message from it (kafka-mock-daemon2017.apps.testing.soul:80) from another application hosted on my local computer, then I get the error:</p>\n<blockquote>\n<p>Java heap space java.lang.OutOfMemoryError: Java heap space   at\njava.base/java.nio.HeapByteBuffer.(HeapByteBuffer.java:61)  at\njava.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:349)   at\norg.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\nat\norg.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\nat\norg.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447)\nat\norg.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397)\nat\norg.apache.kafka.common.network.Selector.attemptRead(Selector.java:678)\nat\norg.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:580)\nat org.apache.kafka.common.network.Selector.poll(Selector.java:485)\nat\norg.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:547)\nat\norg.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\nat\norg.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\nat\norg.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\nat\norg.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:245)\nat\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480)\nat\norg.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1261)\nat\norg.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1232)\nat\norg.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1165)</p>\n</blockquote>\n<p>What am I doing wrong? Which host:port must I use, when connecting from OpenShift and when connecting from my computer - INTERNAL or EXTERNAL?</p>\n"},{"tags":["java","spring-boot","docker","docker-image"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680256414,"post_id":75890931,"comment_id":133871057,"body_markdown":"`https://hub.docker.com/_/eclipse-temurin/tags`, find different version, and differ OS base. some os base image is very small. you can find `17-jre-jammy` is 89 MB. (https://hub.docker.com/_/eclipse-temurin/tags?page=4)","body":"<code>https:&#47;&#47;hub.docker.com&#47;_&#47;eclipse-temurin&#47;tags</code>, find different version, and differ OS base. some os base image is very small. you can find <code>17-jre-jammy</code> is 89 MB. (<a href=\"https://hub.docker.com/_/eclipse-temurin/tags?page=4\" rel=\"nofollow noreferrer\">hub.docker.com/_/eclipse-temurin/tags?page=4</a>)"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680201757,"creation_date":1680194822,"question_id":75890931,"body_markdown":"I am using very simple Dockerfile:\r\n\r\n    FROM bellsoft/liberica-openjre-debian:17\r\n    COPY ./build/libs/emailsender.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n\r\nWhere app.jar is my spring-boot java application.\r\n\r\nResulting size of image after `docker build` is ~328MB. However when I use bellsoft/liberica-open**jdk**-debian:17 resulting size is ~300MB. Why is resulting image smaller with jdk? Jdk itself is always bigger than jre (when comparing same implementation) as [it contains more stuff than jre][1]. \r\n\r\nUsing docker Docker version 23.0.1 on Kubuntu.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/difference-between-jdk-and-jre-in-java/","title":"Why is docker image built with jdk smaller than jre (Liberica)?","body":"<p>I am using very simple Dockerfile:</p>\n<pre><code>FROM bellsoft/liberica-openjre-debian:17\nCOPY ./build/libs/emailsender.jar app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>Where app.jar is my spring-boot java application.</p>\n<p>Resulting size of image after <code>docker build</code> is ~328MB. However when I use bellsoft/liberica-open<strong>jdk</strong>-debian:17 resulting size is ~300MB. Why is resulting image smaller with jdk? Jdk itself is always bigger than jre (when comparing same implementation) as <a href=\"https://www.geeksforgeeks.org/difference-between-jdk-and-jre-in-java/\" rel=\"nofollow noreferrer\">it contains more stuff than jre</a>.</p>\n<p>Using docker Docker version 23.0.1 on Kubuntu.</p>\n"},{"tags":["java","apache-camel","ibm-mq","mq","camel-jms"],"answers":[{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680201363,"creation_date":1680190375,"answer_id":75890236,"question_id":75888014,"body_markdown":"First of all - MessageId is array of 24 bytes. And that is your error. You are trying to push String in byte array - [B. Once you fix this error, you will still not be able to successfully set MessageId. As MQ will completely ignore any value set by message producer, and it will always override your MessageId with arbitary value. \r\n\r\nBlame JMS API. It is little bit idiotic and it doesn&#39;t make distiction between end user interface and messaging driver programmer interface. There is more than one setter on javax.jms.Message which is not inteded to be used by everday Joe.\r\n\r\nSo what can you do about it? For start you can use different field: Message Type and CorrelationID headers are inteded to be used by end users. CorrelationID shares the same byte[24] design, and it is functionally identical to MessageID. Usually, CorrelationID is shared between couple different messages which are &quot;correleated&quot;, thus the name. You can also add arbitary header to message.\r\n\r\nBut if you really really need to know MessageID of sent message - because of audit, correlation or something else - you can first send message, and the read MessageID field back. It will contain generated value.\r\n","title":"How can I set the JMS_IBM_MQMD_MsgId header using Apache camel-jms","body":"<p>First of all - MessageId is array of 24 bytes. And that is your error. You are trying to push String in byte array - [B. Once you fix this error, you will still not be able to successfully set MessageId. As MQ will completely ignore any value set by message producer, and it will always override your MessageId with arbitary value.</p>\n<p>Blame JMS API. It is little bit idiotic and it doesn't make distiction between end user interface and messaging driver programmer interface. There is more than one setter on javax.jms.Message which is not inteded to be used by everday Joe.</p>\n<p>So what can you do about it? For start you can use different field: Message Type and CorrelationID headers are inteded to be used by end users. CorrelationID shares the same byte[24] design, and it is functionally identical to MessageID. Usually, CorrelationID is shared between couple different messages which are &quot;correleated&quot;, thus the name. You can also add arbitary header to message.</p>\n<p>But if you really really need to know MessageID of sent message - because of audit, correlation or something else - you can first send message, and the read MessageID field back. It will contain generated value.</p>\n"}],"owner":{"account_id":9784243,"reputation":11,"user_id":7251074,"display_name":"VerseBeCoding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680201363,"creation_date":1680177671,"question_id":75888014,"body_markdown":"So, I have a message that I&#39;m sending over an IBM mq queue and I would like to give it a customised MessageID. I&#39;ve implemented DestinationResolver with the below properties in order to enable MQMD properties:\r\n`queue.setBooleanProperty(WMQConstants.WMQ_MQMD_WRITE_ENABLED, true);`\r\n\r\nI&#39;m able to set the `JMS_IBM_MQMD_ApplIdentityData` header but I&#39;m struggling to set the `JMS_IBM_MQMD_MsgId` header.\r\n\r\nThis is the MessageID I&#39;m trying to set: `String messageID = &quot;ID:TESTYTEST&quot;;`\r\n\r\nIf I set `JMS_IBM_MQMD_MsgId` like this:\r\n\r\n`message.setAttribute(&quot;JMS_IBM_MQMD_MsgId&quot;, messageID.getBytes());`\r\n\r\nthen I get the below error\r\n\r\n`org.apache.camel.component.jms.JmsBinding - Ignoring non primitive header: JMS_IBM_MQMD_MsgId of class: [B`\r\n\r\nHowever, if I set `JMS_IBM_MQMD_MsgId` like this:\r\n`message.setAttribute(&quot;JMS_IBM_MQMD_MsgId&quot;, messageID);`\r\n\r\nthen I get the below error\r\n`com.ibm.msg.client.jms.DetailedMessageFormatException: JMSCC0051: The property &#39;JMS_IBM_MQMD_MsgId&#39; should be set using type &#39;[B&#39;, not &#39;java.lang.String&#39;.\r\nJMS_IBM properties may only be set using a specific variable type.\r\nCorrect application code to use the required variable type when setting this JMS_IBM property.`","title":"How can I set the JMS_IBM_MQMD_MsgId header using Apache camel-jms","body":"<p>So, I have a message that I'm sending over an IBM mq queue and I would like to give it a customised MessageID. I've implemented DestinationResolver with the below properties in order to enable MQMD properties:\n<code>queue.setBooleanProperty(WMQConstants.WMQ_MQMD_WRITE_ENABLED, true);</code></p>\n<p>I'm able to set the <code>JMS_IBM_MQMD_ApplIdentityData</code> header but I'm struggling to set the <code>JMS_IBM_MQMD_MsgId</code> header.</p>\n<p>This is the MessageID I'm trying to set: <code>String messageID = &quot;ID:TESTYTEST&quot;;</code></p>\n<p>If I set <code>JMS_IBM_MQMD_MsgId</code> like this:</p>\n<p><code>message.setAttribute(&quot;JMS_IBM_MQMD_MsgId&quot;, messageID.getBytes());</code></p>\n<p>then I get the below error</p>\n<p><code>org.apache.camel.component.jms.JmsBinding - Ignoring non primitive header: JMS_IBM_MQMD_MsgId of class: [B</code></p>\n<p>However, if I set <code>JMS_IBM_MQMD_MsgId</code> like this:\n<code>message.setAttribute(&quot;JMS_IBM_MQMD_MsgId&quot;, messageID);</code></p>\n<p>then I get the below error\n<code>com.ibm.msg.client.jms.DetailedMessageFormatException: JMSCC0051: The property 'JMS_IBM_MQMD_MsgId' should be set using type '[B', not 'java.lang.String'. JMS_IBM properties may only be set using a specific variable type. Correct application code to use the required variable type when setting this JMS_IBM property.</code></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680210531,"post_id":75891726,"comment_id":133864436,"body_markdown":"Follow the instructions for [JavaFX and Visual Studio Code](https://openjfx.io/openjfx-docs/#IDE-VSCode) at openjfx.io.","body":"Follow the instructions for <a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">JavaFX and Visual Studio Code</a> at openjfx.io."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680215367,"post_id":75891726,"comment_id":133865266,"body_markdown":"That error message does not include the path to `Stage`. Do you have an import `javafx.stage.Stage;` statement in your code?","body":"That error message does not include the path to <code>Stage</code>. Do you have an import <code>javafx.stage.Stage;</code> statement in your code?"},{"owner":{"account_id":28169302,"reputation":1,"user_id":21528082,"display_name":"Zentai P&#225;l"},"score":0,"creation_date":1680362187,"post_id":75891726,"comment_id":133887379,"body_markdown":"Yes, I have, but I still got this JavaFX runtime components are missing, and are required to run this application","body":"Yes, I have, but I still got this JavaFX runtime components are missing, and are required to run this application"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680386180,"post_id":75891726,"comment_id":133890655,"body_markdown":"The runtime components are missing error is not mentioned in your question.  There are [a hundred duplicate questions about missing JavaFX runtime components on this site](https://stackoverflow.com/search?q=“JavaFX+runtime+components”).   The primary answer is always the same, which is to follow the getting started instructions linked in my first comment.","body":"The runtime components are missing error is not mentioned in your question.  There are <a href=\"https://stackoverflow.com/search?q=%E2%80%9CJavaFX+runtime+components%E2%80%9D\">a hundred duplicate questions about missing JavaFX runtime components on this site</a>.   The primary answer is always the same, which is to follow the getting started instructions linked in my first comment."},{"owner":{"account_id":28169302,"reputation":1,"user_id":21528082,"display_name":"Zentai P&#225;l"},"score":0,"creation_date":1680534134,"post_id":75891726,"comment_id":133910601,"body_markdown":"Thank I got it, my bad. Thanks for your help, sorry for waste your time...","body":"Thank I got it, my bad. Thanks for your help, sorry for waste your time..."}],"owner":{"account_id":28169302,"reputation":1,"user_id":21528082,"display_name":"Zentai P&#225;l"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680200856,"creation_date":1680200622,"question_id":75891726,"body_markdown":"[![Error code][1]][1]\r\n\r\nYesterday I used vsc succesfully with my JAVA code, now I&#39;m getting an error, but I didn&#39;t change anything\r\nI&#39;m getting this if I&#39;m trying to run the code: \r\n&gt;Error: Unable to initialize main class App      \r\nCaused by: java.lang.NoClassDefFoundError: Stage\r\n\r\nI tried: \r\nClean Java Language Server Workspace,\r\nsearched for it online (found nothing useful).\r\n\r\nOn my other pc it&#39;s working fine.\r\n\r\n[1]: https://i.stack.imgur.com/ofrow.png","title":"Error: Unable to initialize main class App Caused by: java.lang.NoClassDefFoundError: Stage","body":"<p><a href=\"https://i.stack.imgur.com/ofrow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ofrow.png\" alt=\"Error code\" /></a></p>\n<p>Yesterday I used vsc succesfully with my JAVA code, now I'm getting an error, but I didn't change anything\nI'm getting this if I'm trying to run the code:</p>\n<blockquote>\n<p>Error: Unable to initialize main class App<br />\nCaused by: java.lang.NoClassDefFoundError: Stage</p>\n</blockquote>\n<p>I tried:\nClean Java Language Server Workspace,\nsearched for it online (found nothing useful).</p>\n<p>On my other pc it's working fine.</p>\n"},{"tags":["java","android","label","android-textinputlayout","android-textinputedittext"],"comments":[{"owner":{"account_id":5204603,"reputation":1934,"user_id":4162971,"accept_rate":39,"display_name":"Dibzmania"},"score":0,"creation_date":1576810149,"post_id":56009187,"comment_id":105025698,"body_markdown":"So did you get a solution to this ?","body":"So did you get a solution to this ?"}],"owner":{"account_id":3432341,"reputation":79,"user_id":2876392,"display_name":"user2876392"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1680199192,"creation_date":1557160494,"question_id":56009187,"body_markdown":"So I am trying to change the color of the background of the label on the `TextInputLayout/EditText`. Most other questions seem to be referring to the color of the text but the default functionality of the label I have observed is that the background of the label on the &quot;OutlinedBox&quot; style is it matches the background color of the layout **above it in the hierarchy**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAs you can see, in ex. 1, the layout above the `TextInputLayout` is a grayish color, so the Label `TextView` **background** also becomes grayish. \r\n\r\nIn Ex. 2, The layout above the `TextInputLayout` is a white color, so the Label Text **background** also becomes white. Since this is changing without any input from me (it&#39;s not using a color like &quot;colorAccent&quot; which it applies across the board, but instead is using a different color based on the layout background color). \r\n\r\nWhat I am trying to find out is, Is there a color attribute I can maintain/edit, preferably via style, that will allow me to choose that color instead of defaulting it to whatever the layout above it in the hierarchy has?\r\n\r\n\r\n\r\n\r\nI have tried setting various colors in Style to attempt to override the default behavior but have not found one that does so.\r\n\r\nHere is a TextInputLayout/EditText for amount.\r\n\r\n\r\n```\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n\tandroid:id=&quot;@+id/tilAmount&quot;\r\n\tstyle=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n\tandroid:layout_width=&quot;0dp&quot;\r\n\tandroid:layout_height=&quot;55dp&quot;\r\n\tandroid:layout_marginRight=&quot;@dimen/margin_between_boxes&quot;\r\n\tandroid:layout_weight=&quot;1&quot;\r\n\tandroid:hint=&quot;@string/et_amount&quot;\r\n\tapp:boxBackgroundColor=&quot;@color/white&quot;\r\n\tapp:boxStrokeColor=&quot;@color/editText_background&quot;\r\n\tapp:boxStrokeWidth=&quot;3dp&quot;\r\n\tapp:hintTextAppearance=&quot;@style/TextLabel&quot;&gt;\r\n\r\n\r\n\t\t&lt;com.google.android.material.textfield.TextInputEditText\r\n\t\t\tandroid:id=&quot;@+id/etAmount&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\t\tandroid:fontFamily=&quot;@font/neue_haas_grotesk_display_regular&quot;\r\n\t\t\tandroid:inputType=&quot;number&quot;\r\n\t\t\tandroid:maxLength=&quot;7&quot;\r\n\t\t\tandroid:paddingLeft=&quot;13dp&quot;\r\n\t\t\tandroid:textAlignment=&quot;viewStart&quot;\r\n\t\t\tandroid:textColorHint=&quot;@android:color/black&quot;\r\n\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\tandroid:layout_gravity=&quot;start&quot; /&gt;\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\n\r\nAnd here is the style used for hintTextAppearance\r\n\r\n    &lt;style name=&quot;TextLabel&quot; parent=&quot;TextAppearance.AppCompat&quot;&gt;\r\n        &lt;!-- Hint color and label color in FALSE state --&gt;\r\n        &lt;item name=&quot;android:textColorHint&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\r\n        &lt;!-- Label color in TRUE state and bar color FALSE and TRUE State --&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@android:color/black&lt;/item&gt;\r\n        &lt;item name=&quot;colorControlNormal&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;colorControlActivated&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:colorControlHighlight&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/label_text&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\n\r\nI expect to be able to edit the color of the background of the label `TextView` to whatever I choose.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qvIRn.png\r\n  [2]: https://i.stack.imgur.com/w6cN4.png","title":"Changing the background color of the TextInputLayout label TextView","body":"<p>So I am trying to change the color of the background of the label on the <code>TextInputLayout/EditText</code>. Most other questions seem to be referring to the color of the text but the default functionality of the label I have observed is that the background of the label on the &quot;OutlinedBox&quot; style is it matches the background color of the layout <strong>above it in the hierarchy</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/qvIRn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qvIRn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/w6cN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w6cN4.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, in ex. 1, the layout above the <code>TextInputLayout</code> is a grayish color, so the Label <code>TextView</code> <strong>background</strong> also becomes grayish.</p>\n<p>In Ex. 2, The layout above the <code>TextInputLayout</code> is a white color, so the Label Text <strong>background</strong> also becomes white. Since this is changing without any input from me (it's not using a color like &quot;colorAccent&quot; which it applies across the board, but instead is using a different color based on the layout background color).</p>\n<p>What I am trying to find out is, Is there a color attribute I can maintain/edit, preferably via style, that will allow me to choose that color instead of defaulting it to whatever the layout above it in the hierarchy has?</p>\n<p>I have tried setting various colors in Style to attempt to override the default behavior but have not found one that does so.</p>\n<p>Here is a TextInputLayout/EditText for amount.</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/tilAmount&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;55dp&quot;\n    android:layout_marginRight=&quot;@dimen/margin_between_boxes&quot;\n    android:layout_weight=&quot;1&quot;\n    android:hint=&quot;@string/et_amount&quot;\n    app:boxBackgroundColor=&quot;@color/white&quot;\n    app:boxStrokeColor=&quot;@color/editText_background&quot;\n    app:boxStrokeWidth=&quot;3dp&quot;\n    app:hintTextAppearance=&quot;@style/TextLabel&quot;&gt;\n\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/etAmount&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fontFamily=&quot;@font/neue_haas_grotesk_display_regular&quot;\n            android:inputType=&quot;number&quot;\n            android:maxLength=&quot;7&quot;\n            android:paddingLeft=&quot;13dp&quot;\n            android:textAlignment=&quot;viewStart&quot;\n            android:textColorHint=&quot;@android:color/black&quot;\n            android:textSize=&quot;14sp&quot;\n            android:layout_gravity=&quot;start&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>And here is the style used for hintTextAppearance</p>\n<pre><code>&lt;style name=&quot;TextLabel&quot; parent=&quot;TextAppearance.AppCompat&quot;&gt;\n    &lt;!-- Hint color and label color in FALSE state --&gt;\n    &lt;item name=&quot;android:textColorHint&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\n    &lt;!-- Label color in TRUE state and bar color FALSE and TRUE State --&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@android:color/black&lt;/item&gt;\n    &lt;item name=&quot;colorControlNormal&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;colorControlActivated&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:colorControlHighlight&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/label_text&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>I expect to be able to edit the color of the background of the label <code>TextView</code> to whatever I choose.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":1,"creation_date":1680168893,"post_id":75886278,"comment_id":133853539,"body_markdown":"have you checked this link https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView","body":"have you checked this link <a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView\" rel=\"nofollow noreferrer\">github.com/PhilJay/MPAndroidChart/wiki/MarkerView</a>"},{"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"score":0,"creation_date":1680169371,"post_id":75886278,"comment_id":133853641,"body_markdown":"And How to put city names on x axis","body":"And How to put city names on x axis"}],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680169555,"creation_date":1680169263,"answer_id":75886542,"question_id":75886278,"body_markdown":"`MPAndroidChart` provides a class called `MarkerView` to create a `customized popup`. All you need to do is create a custom class that extends the `MarkerView` class as follows:\r\n\r\n    public class MyMarkerView extends MarkerView { \r\n\r\n      private final TextView tvCity;\r\n\r\n      public MyMarkerView(Context context, ValueFormatter xAxisValueFormatter) {\r\n        super(context, R.layout.custom_marker_view);\r\n         ...\r\n         //bind your TextView contained in the layout over here\r\n         tvCity = (TextView)findViewById(R.id.tvCity);\r\n      }\r\n\r\n      // runs every time the MarkerView is redrawn, can be used to update \r\n      @Override\r\n      public void refreshContent(Entry e, Highlight highlight) {\r\n         //set your values to the view over here\r\n         tvCity.setText(&quot;Some value&quot;);\r\n         ...\r\n         super.refreshContent(e, highlight);\r\n      }\r\n\r\n    }\r\n\r\n\r\nReference link : [MarkerView ][1]\r\n\r\nYou can refer this [tutorial][2] as an example.\r\n\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView\r\n  [2]: https://www.codeplayon.com/android-bar-chart-with-tooltip-example/","title":"How to make line chart with more data in Android in Java?","body":"<p><code>MPAndroidChart</code> provides a class called <code>MarkerView</code> to create a <code>customized popup</code>. All you need to do is create a custom class that extends the <code>MarkerView</code> class as follows:</p>\n<pre><code>public class MyMarkerView extends MarkerView { \n\n  private final TextView tvCity;\n\n  public MyMarkerView(Context context, ValueFormatter xAxisValueFormatter) {\n    super(context, R.layout.custom_marker_view);\n     ...\n     //bind your TextView contained in the layout over here\n     tvCity = (TextView)findViewById(R.id.tvCity);\n  }\n\n  // runs every time the MarkerView is redrawn, can be used to update \n  @Override\n  public void refreshContent(Entry e, Highlight highlight) {\n     //set your values to the view over here\n     tvCity.setText(&quot;Some value&quot;);\n     ...\n     super.refreshContent(e, highlight);\n  }\n\n}\n</code></pre>\n<p>Reference link : <a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView\" rel=\"nofollow noreferrer\">MarkerView </a></p>\n<p>You can refer this <a href=\"https://www.codeplayon.com/android-bar-chart-with-tooltip-example/\" rel=\"nofollow noreferrer\">tutorial</a> as an example.</p>\n"}],"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680199168,"creation_date":1680167655,"question_id":75886278,"body_markdown":"I have to plot a line graph which shows no. of projects in talukas and when clicked on one point it shows more data as shown in this image: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zUFaq.png\r\n\r\nHow can I implement that? I tried MPAndroidChart but I don&#39;t know how to do this.\r\n\r\n","title":"How to make line chart with more data in Android in Java?","body":"<p>I have to plot a line graph which shows no. of projects in talukas and when clicked on one point it shows more data as shown in this image: <a href=\"https://i.stack.imgur.com/zUFaq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUFaq.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I implement that? I tried MPAndroidChart but I don't know how to do this.</p>\n"},{"tags":["java","spring","spring-mvc","websocket"],"answers":[{"tags":[],"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1526658083,"creation_date":1392400744,"answer_id":21786327,"question_id":21781667,"body_markdown":"This an be done with a connection handshake interceptor ([HttpSessionHandshakeInterceptor][1]), quoting the [documentation][2]:\r\n\r\n&gt; The easiest way to customize the initial HTTP WebSocket handshake\r\n&gt; request is through a HandshakeInterceptor, which exposes &quot;before&quot; and\r\n&gt; &quot;after&quot; the handshake methods.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.0.0.RC1/javadoc-api/org/springframework/web/socket/server/support/HttpSessionHandshakeInterceptor.html\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>This an be done with a connection handshake interceptor (<a href=\"http://docs.spring.io/spring/docs/4.0.0.RC1/javadoc-api/org/springframework/web/socket/server/support/HttpSessionHandshakeInterceptor.html\" rel=\"noreferrer\">HttpSessionHandshakeInterceptor</a>), quoting the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The easiest way to customize the initial HTTP WebSocket handshake\n  request is through a HandshakeInterceptor, which exposes \"before\" and\n  \"after\" the handshake methods.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1402914027,"creation_date":1402911701,"answer_id":24240729,"question_id":21781667,"body_markdown":"As I understand, the question with DISCONNECT event is not solved in this topic. Handshake interception gives you only connect info but not disconnect.\r\n\r\nI have achieved this with the interceptors of inbound channel:\r\n\r\n    &lt;websocket:message-broker&gt;\r\n        ...\r\n        &lt;websocket:client-inbound-channel&gt;\r\n            &lt;websocket:interceptors&gt;\r\n                &lt;bean class=&quot;com......MyChannelInterception&quot;&gt;&lt;/bean&gt;\r\n            &lt;/websocket:interceptors&gt;\r\n        &lt;/websocket:client-inbound-channel&gt;\r\n    &lt;/websocket:message-broker&gt;\r\n\r\n...and class...\r\n\r\n    \r\n    import java.security.Principal;\r\n\r\n    import org.apache.log4j.LogManager;\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.messaging.Message;\r\n    import org.springframework.messaging.MessageChannel;\r\n    import org.springframework.messaging.MessageHeaders;\r\n    import org.springframework.messaging.simp.SimpMessageType;\r\n    import org.springframework.messaging.support.ChannelInterceptorAdapter;\r\n    \r\n    public class MyChannelInterception extends ChannelInterceptorAdapter {\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger(WrcChannelInterception.class);\r\n\r\n    @Override\r\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n\r\n        MessageHeaders headers = message.getHeaders();\r\n        SimpMessageType type = (SimpMessageType) headers.get(&quot;simpMessageType&quot;);\r\n        String simpSessionId = (String) headers.get(&quot;simpSessionId&quot;);\r\n\r\n        if (type == SimpMessageType.CONNECT) {\r\n            Principal principal = (Principal) headers.get(&quot;simpUser&quot;);\r\n            LOGGER.debug(&quot;WsSession &quot; + simpSessionId + &quot; is connected for user &quot; + principal.getName());\r\n        } else if (type == SimpMessageType.DISCONNECT) {\r\n            LOGGER.debug(&quot;WsSession &quot; + simpSessionId + &quot; is disconnected&quot;);\r\n        }\r\n        return message;\r\n    }\r\n    }\r\n\r\nPlease note that Principal is available on CONNECT but not on DISCONNECT, however you have sweet Session ID","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>As I understand, the question with DISCONNECT event is not solved in this topic. Handshake interception gives you only connect info but not disconnect.</p>\n\n<p>I have achieved this with the interceptors of inbound channel:</p>\n\n<pre><code>&lt;websocket:message-broker&gt;\n    ...\n    &lt;websocket:client-inbound-channel&gt;\n        &lt;websocket:interceptors&gt;\n            &lt;bean class=\"com......MyChannelInterception\"&gt;&lt;/bean&gt;\n        &lt;/websocket:interceptors&gt;\n    &lt;/websocket:client-inbound-channel&gt;\n&lt;/websocket:message-broker&gt;\n</code></pre>\n\n<p>...and class...</p>\n\n<pre><code>import java.security.Principal;\n\nimport org.apache.log4j.LogManager;\nimport org.apache.log4j.Logger;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.MessageChannel;\nimport org.springframework.messaging.MessageHeaders;\nimport org.springframework.messaging.simp.SimpMessageType;\nimport org.springframework.messaging.support.ChannelInterceptorAdapter;\n\npublic class MyChannelInterception extends ChannelInterceptorAdapter {\n\nprivate static final Logger LOGGER = LogManager.getLogger(WrcChannelInterception.class);\n\n@Override\npublic Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n\n    MessageHeaders headers = message.getHeaders();\n    SimpMessageType type = (SimpMessageType) headers.get(\"simpMessageType\");\n    String simpSessionId = (String) headers.get(\"simpSessionId\");\n\n    if (type == SimpMessageType.CONNECT) {\n        Principal principal = (Principal) headers.get(\"simpUser\");\n        LOGGER.debug(\"WsSession \" + simpSessionId + \" is connected for user \" + principal.getName());\n    } else if (type == SimpMessageType.DISCONNECT) {\n        LOGGER.debug(\"WsSession \" + simpSessionId + \" is disconnected\");\n    }\n    return message;\n}\n}\n</code></pre>\n\n<p>Please note that Principal is available on CONNECT but not on DISCONNECT, however you have sweet Session ID</p>\n"},{"tags":[],"owner":{"account_id":125676,"reputation":8154,"user_id":2707251,"display_name":"Sergi Almar"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1647286963,"creation_date":1523365969,"answer_id":49754626,"question_id":21781667,"body_markdown":"Spring WebSocket publishes events when messages are received from the client, if you are using STOMP, these are the events published:\r\n\r\n - [SessionConnectedEvent][1]\r\n - [SessionConnectEvent][2]\r\n - [SessionDisconnectEvent][3]\r\n - [SessionSubscribeEvent][4]\r\n - [SessionUnsubscribeEvent][5]\r\n\r\nThe easiest way to detect connects and disconnects is by implementing an event listener for the mentioned events.\r\n\r\n    @Component\r\n    public class WebSocketEventListener {\r\n\r\n        @EventListener\r\n    \tprivate void handleSessionConnected(SessionConnectEvent event) {\r\n            ...\r\n        }\r\n    \r\n        @EventListener\r\n    \tprivate void handleSessionDisconnect(SessionDisconnectEvent event) {\r\n            ...\r\n        }\r\n    }\r\n\r\nHere&#39;s a sample implementation that keeps track of connected users: https://github.com/salmar/spring-websocket-chat/blob/master/src/main/java/com/sergialmar/wschat/event/PresenceEventListener.java\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionConnectedEvent.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionConnectEvent.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionDisconnectEvent.html\r\n  [4]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionSubscribeEvent.html\r\n  [5]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionUnsubscribeEvent.html","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>Spring WebSocket publishes events when messages are received from the client, if you are using STOMP, these are the events published:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionConnectedEvent.html\" rel=\"noreferrer\">SessionConnectedEvent</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionConnectEvent.html\" rel=\"noreferrer\">SessionConnectEvent</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionDisconnectEvent.html\" rel=\"noreferrer\">SessionDisconnectEvent</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionSubscribeEvent.html\" rel=\"noreferrer\">SessionSubscribeEvent</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionUnsubscribeEvent.html\" rel=\"noreferrer\">SessionUnsubscribeEvent</a></li>\n</ul>\n<p>The easiest way to detect connects and disconnects is by implementing an event listener for the mentioned events.</p>\n<pre><code>@Component\npublic class WebSocketEventListener {\n\n    @EventListener\n    private void handleSessionConnected(SessionConnectEvent event) {\n        ...\n    }\n\n    @EventListener\n    private void handleSessionDisconnect(SessionDisconnectEvent event) {\n        ...\n    }\n}\n</code></pre>\n<p>Here's a sample implementation that keeps track of connected users: <a href=\"https://github.com/salmar/spring-websocket-chat/blob/master/src/main/java/com/sergialmar/wschat/event/PresenceEventListener.java\" rel=\"noreferrer\">https://github.com/salmar/spring-websocket-chat/blob/master/src/main/java/com/sergialmar/wschat/event/PresenceEventListener.java</a></p>\n"},{"tags":[],"owner":{"account_id":74193,"reputation":4313,"user_id":213292,"accept_rate":40,"display_name":"JJ Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632562492,"creation_date":1632562492,"answer_id":69324886,"question_id":21781667,"body_markdown":"Although original question is about Spring 4 - which is well answered by Sergi. Here is a way to do it in Spring 5 or Spring Boot 2 (which uses Spring 5 under the hood). ApplicationListener needs to be implemented:\r\n\r\n    @Component\r\n    public class WebSocketEventListener implements ApplicationListener&lt;SessionConnectEvent&gt; {\r\n        Logger logger = LoggerFactory.getLogger(WebSocketEventListener.class);\r\n\r\n        @Override\r\n        public void onApplicationEvent(SessionConnectEvent event) {\r\n            logger.error(&quot;SessionConnectEvent = &quot; + event);\r\n        }\r\n    }","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>Although original question is about Spring 4 - which is well answered by Sergi. Here is a way to do it in Spring 5 or Spring Boot 2 (which uses Spring 5 under the hood). ApplicationListener needs to be implemented:</p>\n<pre><code>@Component\npublic class WebSocketEventListener implements ApplicationListener&lt;SessionConnectEvent&gt; {\n    Logger logger = LoggerFactory.getLogger(WebSocketEventListener.class);\n\n    @Override\n    public void onApplicationEvent(SessionConnectEvent event) {\n        logger.error(&quot;SessionConnectEvent = &quot; + event);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3750738,"reputation":1,"user_id":3118286,"display_name":"Bora Ciner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680199055,"creation_date":1679686044,"answer_id":75837487,"question_id":21781667,"body_markdown":"This code snippet may help you:\r\n\r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n        logger.info(&quot;afterConnectionEstablished called&quot;);\r\n    }\r\n","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>This code snippet may help you:</p>\n<pre><code>@Override\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\n    logger.info(&quot;afterConnectionEstablished called&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1668222,"reputation":475,"user_id":1535228,"accept_rate":71,"display_name":"Yamit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26746,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":21786327,"answer_count":5,"score":7,"last_activity_date":1680199055,"creation_date":1392387201,"question_id":21781667,"body_markdown":"I did a simple web socket communication with spring 4,STOMP and sock.js, following this https://github.com/rstoyanchev/spring-websocket-portfolio and this\r\nhttp://assets.spring.io/wp/WebSocketBlogPost.html\r\n\r\nwell, I want to know if is possible capture connection events like when a new client was connected to my server or when a client was disconnected, is that possible in Spring 4.0.0?\r\n","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>I did a simple web socket communication with spring 4,STOMP and sock.js, following this <a href=\"https://github.com/rstoyanchev/spring-websocket-portfolio\" rel=\"noreferrer\">https://github.com/rstoyanchev/spring-websocket-portfolio</a> and this\n<a href=\"http://assets.spring.io/wp/WebSocketBlogPost.html\" rel=\"noreferrer\">http://assets.spring.io/wp/WebSocketBlogPost.html</a></p>\n\n<p>well, I want to know if is possible capture connection events like when a new client was connected to my server or when a client was disconnected, is that possible in Spring 4.0.0?</p>\n"},{"tags":["java","android-studio","jts"],"comments":[{"owner":{"account_id":4338389,"reputation":1320,"user_id":3542319,"display_name":"GeoJim"},"score":0,"creation_date":1516741201,"post_id":48402726,"comment_id":83811129,"body_markdown":"Does the Maven section of the JTS usage guide (https://github.com/locationtech/jts/blob/master/USING.md#using-jts-with-maven) help at all?\n\n(Sadly, I have almost no experience with Android development.  I&#39;m part of the JTS team, and I&#39;d like to make sure you we document JTS use on Android.)","body":"Does the Maven section of the JTS usage guide (<a href=\"https://github.com/locationtech/jts/blob/master/USING.md#using-jts-with-maven\" rel=\"nofollow noreferrer\">github.com/locationtech/jts/blob/master/&hellip;</a>) help at all?  (Sadly, I have almost no experience with Android development.  I&#39;m part of the JTS team, and I&#39;d like to make sure you we document JTS use on Android.)"},{"owner":{"account_id":12434786,"reputation":1,"user_id":9055644,"display_name":"Charu Manivannan"},"score":0,"creation_date":1517243305,"post_id":48402726,"comment_id":84005660,"body_markdown":"@GeoMesaJim Thanks a lot. :) it certainly helped.. Could you please also let me know if JTS has an integration for Web Feature Service ?","body":"@GeoMesaJim Thanks a lot. :) it certainly helped.. Could you please also let me know if JTS has an integration for Web Feature Service ?"},{"owner":{"account_id":4338389,"reputation":1320,"user_id":3542319,"display_name":"GeoJim"},"score":0,"creation_date":1517321423,"post_id":48402726,"comment_id":84041474,"body_markdown":"GeoServer is an open source server which implements the Web Feature Service using JTS and GeoTools.","body":"GeoServer is an open source server which implements the Web Feature Service using JTS and GeoTools."}],"answers":[{"tags":[],"owner":{"account_id":10168879,"reputation":41,"user_id":7509805,"display_name":"su00n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680126174,"creation_date":1680116950,"answer_id":75881241,"question_id":48402726,"body_markdown":"I came across same problem , I found a solution , hope this helps .\r\n\r\n 1. Add the following lines to your app module&#39;s build.gradle file to\r\n    include the JTS library in your project:\r\n\r\n        dependencies {\r\n               implementation &#39;org.locationtech.jts:jts-core:1.18.0&#39;\r\n        }\r\n\r\n 2. Sync your project with Gradle.\r\n\r\n 3. You can now use the JTS library in your Android project. In your\r\n    Java code, you can import the JTS classes as follows:\r\n\r\n        import com.vividsolutions.jts.geom.Circle;\r\n        import com.vividsolutions.jts.geom.Coordinate;\r\n        import com.vividsolutions.jts.geom.Geometry;\r\n        import com.vividsolutions.jts.geom.GeometryFactory;\r\n        import com.vividsolutions.jts.algorithm.CentroidArea;\r\n\r\n\r\n\r\n","title":"JTS Topology Suite in Android Studio","body":"<p>I came across same problem , I found a solution , hope this helps .</p>\n<ol>\n<li><p>Add the following lines to your app module's build.gradle file to\ninclude the JTS library in your project:</p>\n<pre><code>dependencies {\n       implementation 'org.locationtech.jts:jts-core:1.18.0'\n}\n</code></pre>\n</li>\n<li><p>Sync your project with Gradle.</p>\n</li>\n<li><p>You can now use the JTS library in your Android project. In your\nJava code, you can import the JTS classes as follows:</p>\n<pre><code>import com.vividsolutions.jts.geom.Circle;\nimport com.vividsolutions.jts.geom.Coordinate;\nimport com.vividsolutions.jts.geom.Geometry;\nimport com.vividsolutions.jts.geom.GeometryFactory;\nimport com.vividsolutions.jts.algorithm.CentroidArea;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":12434786,"reputation":1,"user_id":9055644,"display_name":"Charu Manivannan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680199006,"creation_date":1516713502,"question_id":48402726,"body_markdown":"I am currently developing and android application and require to do some spatial queries for which I ended up in deciding to use JTS topological suite. However, I could not find proper documentation of how to add the JTS Topological Suite in my Android Studio Project. Could anyone please let me know if there is a proper documentation for this or if you could tell me how to add JTS in android studio, then it would be of great help. Sorry, if its a very basic question as I am a new by in android development. ","title":"JTS Topology Suite in Android Studio","body":"<p>I am currently developing and android application and require to do some spatial queries for which I ended up in deciding to use JTS topological suite. However, I could not find proper documentation of how to add the JTS Topological Suite in my Android Studio Project. Could anyone please let me know if there is a proper documentation for this or if you could tell me how to add JTS in android studio, then it would be of great help. Sorry, if its a very basic question as I am a new by in android development. </p>\n"},{"tags":["java","cluster-computing","jboss7.x","jmx"],"owner":{"account_id":28170949,"reputation":1,"user_id":21529527,"display_name":"Rajeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680198934,"creation_date":1680198679,"question_id":75891456,"body_markdown":"Cluster view for JBoss 6 was printing all the cluster nodes info using JMX but after migrating to JBoss 7.4 it prints only localhost node details.\r\n\r\nBelow code with JBoss 6.4 prints both the node info(ex - [app1/web|0] [app1/web] [app2/web]) as cluster view of two node cluster and I am expecting same result after migrating to JBoss 7.4.\r\n\r\n    public void getClusterView(String host, String port) throws Exception {\r\n            try {\r\n                MBeanServerConnection mbeanServerConnection = this.getMBeanServerConnection(host, port);\r\n                ObjectName objectName = new ObjectName(&quot;jgroups:type=channel,cluster=\\&quot;web\\&quot;&quot;);\r\n                String clusterView = (String) mbeanServerConnection.getAttribute(objectName, &quot;view&quot;);\r\n                System.out.println(&quot;clusterView: &quot; + clusterView);\r\n            } catch (Exception e) {\r\n                throw e;\r\n            }\r\n        }\r\n\r\nFor JBoss 7.4 I am using ObjectName &quot;jgroups:type=channel,cluster=\\&quot;ee\\&quot;&quot; as &quot;cluster=web&quot; doesn&#39;t exist in ObjectName list but it prints only &quot;[app1|0] (1) [app1]&quot;.\r\n\r\nCan Anyone please suggest any alternate way to get cluster view with both the node for JBoss 7.4 ?\r\n","title":"How to get cluster view with all nodes for JBoss 7.4 server?","body":"<p>Cluster view for JBoss 6 was printing all the cluster nodes info using JMX but after migrating to JBoss 7.4 it prints only localhost node details.</p>\n<p>Below code with JBoss 6.4 prints both the node info(ex - [app1/web|0] [app1/web] [app2/web]) as cluster view of two node cluster and I am expecting same result after migrating to JBoss 7.4.</p>\n<pre><code>public void getClusterView(String host, String port) throws Exception {\n        try {\n            MBeanServerConnection mbeanServerConnection = this.getMBeanServerConnection(host, port);\n            ObjectName objectName = new ObjectName(&quot;jgroups:type=channel,cluster=\\&quot;web\\&quot;&quot;);\n            String clusterView = (String) mbeanServerConnection.getAttribute(objectName, &quot;view&quot;);\n            System.out.println(&quot;clusterView: &quot; + clusterView);\n        } catch (Exception e) {\n            throw e;\n        }\n    }\n</code></pre>\n<p>For JBoss 7.4 I am using ObjectName &quot;jgroups:type=channel,cluster=&quot;ee&quot;&quot; as &quot;cluster=web&quot; doesn't exist in ObjectName list but it prints only &quot;[app1|0] (1) [app1]&quot;.</p>\n<p>Can Anyone please suggest any alternate way to get cluster view with both the node for JBoss 7.4 ?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1680168825,"post_id":75883814,"comment_id":133853525,"body_markdown":"I am not sure where exactly you&#39;re getting NullPointerException?","body":"I am not sure where exactly you&#39;re getting NullPointerException?"},{"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"score":0,"creation_date":1680199009,"post_id":75883814,"comment_id":133861827,"body_markdown":"@AlexeyR. Apologies, I don&#39;t get a NullPointerException but the list of WebElements does not get stored in the &#39;names&#39; variable on the third call of the method. It works ok when called the first two times. Its on this line:                                                         \n names = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);","body":"@AlexeyR. Apologies, I don&#39;t get a NullPointerException but the list of WebElements does not get stored in the &#39;names&#39; variable on the third call of the method. It works ok when called the first two times. Its on this line:                                                           names = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);"}],"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680198762,"creation_date":1680146048,"question_id":75883814,"body_markdown":"I have some code which returns the indexes of `WebElements` whose text match a provided string. The `WebElements` are fetched and placed in a list called `names`. The method is called a few times and for some reason, on the third call, the `WebElements` are not retrieved. While in debug mode, when the line of code that attempts to fetch the `WebElements` is run, there is a short 3-4 second delay and then moves on to the next line without fetching anything. I&#39;m not sure why this is happening as there are no error messages. So `names` remains empty. I don&#39;t understand why this would happen, especially if it worked on the previous two method calls. I would be grateful for any help.  Here is my code:\r\n\r\nThis is the method I described:\r\n\r\n    public void getIndexOfItems(String ingredient) {\r\n    \t\tindexes = new ArrayList&lt;Integer&gt;();\r\n    \t\t//List&lt;WebElement&gt; names = product.products().get(0);\r\n    \t\tList&lt;WebElement&gt; names = null;\r\n    \t\tif(itemName.equalsIgnoreCase(&quot;Moisturiser&quot;)) {\r\n    \t\t\tnames = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);\r\n    \t\t} else {\r\n    \t\t\tnames = ((SunscreenPage)product).findAll(SunscreenPage.byNames);\r\n    \t\t}\r\n    \t\t\r\n    \t\t//List&lt;WebElement&gt; names = items.get(0);\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;names.size(); i++) {  \r\n    \t\t\tString name = names.get(i).getText().toLowerCase();\r\n    \t\t\tif(name.indexOf(ingredient) != -1) {\r\n    \t\t\t\tindexes.add(i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nThe issue where `findAll()` returns nothing when called for the third time happens here:\r\n\r\n    if(itemName.equalsIgnoreCase(&quot;Moisturiser&quot;)) {\r\n    \t\t\tnames = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);\r\n    \t\t} else {\r\n    \t\t\tnames = ((SunscreenPage)product).findAll(SunscreenPage.byNames);\r\n    \t\t}\r\n\r\nHere is the Interface for the page objects:\r\n\r\n    package com.weathershopper.pageobjects;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public interface IProductPage {\r\n    \tstatic By byNames = By.xpath(&quot;//div[@class=&#39;container&#39;]//p[@class=&#39;font-weight-bold top-space-10&#39;]&quot;);\r\n    \tBy byPrice = By.xpath(&quot;//div[@class=&#39;text-center col-4&#39;]/p[2]&quot;);\r\n    \tBy byAddBtn = By.xpath(&quot;//div[@class=&#39;text-center col-4&#39;]/button&quot;);\r\n    \tBy byCartBtn = By.xpath(&quot;//button[@class=&#39;thin-text nav-link&#39;]&quot;);\r\n    \tBy byCartText = By.xpath(&quot;//span[@id=&#39;cart&#39;]&quot;);\r\n    \t\r\n    \tList&lt;List&lt;WebElement&gt;&gt; products();\r\n    \tvoid clickCart();\r\n    \tvoid addToCart(Integer i);\r\n    \t\r\n    \r\n    }\r\n\r\nHere is the `findAll()` method:\r\n\r\n    public List&lt;WebElement&gt; findAll(By by) {\r\n    \t\treturn driver.findElements(by);\r\n    \t}","title":"List does not get populated with WebElements when method is called the third time","body":"<p>I have some code which returns the indexes of <code>WebElements</code> whose text match a provided string. The <code>WebElements</code> are fetched and placed in a list called <code>names</code>. The method is called a few times and for some reason, on the third call, the <code>WebElements</code> are not retrieved. While in debug mode, when the line of code that attempts to fetch the <code>WebElements</code> is run, there is a short 3-4 second delay and then moves on to the next line without fetching anything. I'm not sure why this is happening as there are no error messages. So <code>names</code> remains empty. I don't understand why this would happen, especially if it worked on the previous two method calls. I would be grateful for any help.  Here is my code:</p>\n<p>This is the method I described:</p>\n<pre><code>public void getIndexOfItems(String ingredient) {\n        indexes = new ArrayList&lt;Integer&gt;();\n        //List&lt;WebElement&gt; names = product.products().get(0);\n        List&lt;WebElement&gt; names = null;\n        if(itemName.equalsIgnoreCase(&quot;Moisturiser&quot;)) {\n            names = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);\n        } else {\n            names = ((SunscreenPage)product).findAll(SunscreenPage.byNames);\n        }\n        \n        //List&lt;WebElement&gt; names = items.get(0);\n        \n        \n        for(int i=0; i&lt;names.size(); i++) {  \n            String name = names.get(i).getText().toLowerCase();\n            if(name.indexOf(ingredient) != -1) {\n                indexes.add(i);\n            }\n        }\n    }\n</code></pre>\n<p>The issue where <code>findAll()</code> returns nothing when called for the third time happens here:</p>\n<pre><code>if(itemName.equalsIgnoreCase(&quot;Moisturiser&quot;)) {\n            names = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);\n        } else {\n            names = ((SunscreenPage)product).findAll(SunscreenPage.byNames);\n        }\n</code></pre>\n<p>Here is the Interface for the page objects:</p>\n<pre><code>package com.weathershopper.pageobjects;\n\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\n\npublic interface IProductPage {\n    static By byNames = By.xpath(&quot;//div[@class='container']//p[@class='font-weight-bold top-space-10']&quot;);\n    By byPrice = By.xpath(&quot;//div[@class='text-center col-4']/p[2]&quot;);\n    By byAddBtn = By.xpath(&quot;//div[@class='text-center col-4']/button&quot;);\n    By byCartBtn = By.xpath(&quot;//button[@class='thin-text nav-link']&quot;);\n    By byCartText = By.xpath(&quot;//span[@id='cart']&quot;);\n    \n    List&lt;List&lt;WebElement&gt;&gt; products();\n    void clickCart();\n    void addToCart(Integer i);\n    \n\n}\n</code></pre>\n<p>Here is the <code>findAll()</code> method:</p>\n<pre><code>public List&lt;WebElement&gt; findAll(By by) {\n        return driver.findElements(by);\n    }\n</code></pre>\n"},{"tags":["java","plugins","pmd"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":4,"creation_date":1285831381,"post_id":3828570,"comment_id":4064687,"body_markdown":"*I am damm confusing* That made my day, thanks :-)","body":"<i>I am damm confusing</i> That made my day, thanks :-)"}],"answers":[{"tags":[],"owner":{"account_id":46144,"reputation":7024,"user_id":136248,"accept_rate":100,"display_name":"Benoit Courtine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680198697,"creation_date":1285832145,"answer_id":3828671,"question_id":3828570,"body_markdown":"Where do you have a problem, in the official documentation?\r\n\r\n - [Introduction to writing PMD Rules](https://docs.pmd-code.org/latest/pmd_userdocs_extending_writing_rules_intro.html)\r\n - [Making Rulesets](https://docs.pmd-code.org/latest/pmd_userdocs_making_rulesets.html)","title":"How to create PMD custom rule in ruleset?","body":"<p>Where do you have a problem, in the official documentation?</p>\n<ul>\n<li><a href=\"https://docs.pmd-code.org/latest/pmd_userdocs_extending_writing_rules_intro.html\" rel=\"nofollow noreferrer\">Introduction to writing PMD Rules</a></li>\n<li><a href=\"https://docs.pmd-code.org/latest/pmd_userdocs_making_rulesets.html\" rel=\"nofollow noreferrer\">Making Rulesets</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14214280,"reputation":527,"user_id":10268617,"display_name":"Parthiban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583414053,"creation_date":1583414053,"answer_id":60546229,"question_id":3828570,"body_markdown":"You can use the designer to write own rules. Below articles might help you.\r\n\r\nhttps://www.javacodegeeks.com/2012/10/customize-pmd-in-eclipse-with-your-own.html\r\n\r\nhttps://pmd.github.io/latest/pmd_userdocs_extending_designer_reference.html","title":"How to create PMD custom rule in ruleset?","body":"<p>You can use the designer to write own rules. Below articles might help you.</p>\n\n<p><a href=\"https://www.javacodegeeks.com/2012/10/customize-pmd-in-eclipse-with-your-own.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2012/10/customize-pmd-in-eclipse-with-your-own.html</a></p>\n\n<p><a href=\"https://pmd.github.io/latest/pmd_userdocs_extending_designer_reference.html\" rel=\"nofollow noreferrer\">https://pmd.github.io/latest/pmd_userdocs_extending_designer_reference.html</a></p>\n"}],"owner":{"account_id":210761,"reputation":811,"user_id":462563,"accept_rate":69,"display_name":"janasainik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3346,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1680198697,"creation_date":1285831052,"question_id":3828570,"body_markdown":"I am damm confusing to create a new PMD rule in ruleset! \r\ncan anyone guide me to the approach to do so?\r\nthanks in advance!","title":"How to create PMD custom rule in ruleset?","body":"<p>I am damm confusing to create a new PMD rule in ruleset! \ncan anyone guide me to the approach to do so?\nthanks in advance!</p>\n"},{"tags":["java","eclipse","maven","hana"],"comments":[{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1419842478,"post_id":27684222,"comment_id":43785391,"body_markdown":"`If you don&#39;t develop a JCo scenario for HANA Cloud, you can ignore this issue.` Do you develop a JCO scenario? The error is thrown by eclipse (see `org.eclipse.osgi.framework...`), can you try to run your server outside Eclipse?","body":"<code>If you don&#39;t develop a JCo scenario for HANA Cloud, you can ignore this issue.</code> Do you develop a JCO scenario? The error is thrown by eclipse (see <code>org.eclipse.osgi.framework...</code>), can you try to run your server outside Eclipse?"}],"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1680198622,"creation_date":1419833673,"question_id":27684222,"body_markdown":"I installed Eclipse IDE JAVA EE edition and all other required plugins. I have created server instance(WEB JAVA)and pointed it to local directory C:\\dev\\hanacloud.sdk\\xyz using default settings.\r\n\r\n\r\nI ran project  by selecting(It contains pom file) `project(ESCMP-web) -&gt;RUN AS -&gt; RUN ON SERVER -&gt;choose an existing server -&gt; Web JAVA -&gt; finish ` , after few seconds it gives an error message as\r\n \r\n&gt; &#39;Publishing to Java Web Server...&#39; has encountered a problem.\r\n&gt;\r\n&gt; Publish failed: Server has been stopped during publish process.\r\n&gt;\r\n&gt; ![error][1]\r\n\r\nConsole message :\r\n\r\n     java version &quot;1.7.0_71&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_71-b14)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.71-b01, mixed mode)\r\n    C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config&gt;&quot;C:\\Program Files\\Java\\jdk1.7.0_71\\bin\\java&quot; -server  &quot;-Dhttp.proxyHost=172.30.0.14&quot; &quot;-Dhttp.proxyPort=3128&quot; &quot;-Dhttps.proxyHost=172.30.0.14&quot; &quot;-Dhttps.proxyPort=3128&quot; &quot;-Dhttp.nonProxyHosts=*.corp|localhost|127.0.0.1&quot; &quot;-Djava.rmi.server.hostname=127.0.0.1&quot;  -jar plugins/org.eclipse.equinox.launcher_1.1.0.v20100507.jar  -console -dev &quot;file:C:/dev/eclipse/workspace/Servers/Java Web Server-config/configuration/dev.properties&quot; \r\n    osgi&gt; Updating file with path [C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\.\\pickup\\espm-mobile-shopping-web.war]\r\n    \r\n    Update of file with path [C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\.\\pickup\\espm-mobile-shopping-web.war] is successful.\r\n    log4j:WARN No appenders could be found for logger (org.apache.cxf.common.logging.LogUtils).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    \r\n    \r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    An error has occurred. See the log file\r\n    C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\configuration\\1419836491312.log.\r\n\r\nServer log file for session:\r\n\r\n    !SESSION 2014-12-29 12:31:30.984 -----------------------------------------------\r\n    eclipse.buildId=unknown\r\n    java.version=1.7.0_71\r\n    java.vendor=Oracle Corporation\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\n    Command-line arguments:  -console -dev file:C:/dev/eclipse/workspace/Servers/Java Web Server-config/configuration/dev.properties\r\n    \r\n    !ENTRY com.sap.conn.jco.cloud 4 0 2014-12-29 12:31:34.250\r\n    !MESSAGE FrameworkEvent ERROR\r\n    !STACK 0\r\n    org.osgi.framework.BundleException: Exception in com.sap.conn.jco.NeoActivator.start() of bundle com.sap.conn.jco.cloud.\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:734)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1131)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n    Caused by: java.lang.RuntimeException: Cannot load the JCo native library. (exception java.lang.ExceptionInInitializerError: JCo initialization failed with java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path)\r\n    If you don&#39;t develop a JCo scenario for HANA Cloud, you can ignore this issue.\r\n    Check if you have installed the Visual Studio 2010 runtime libraries in the correct version. (vcredist.msi)\r\n    The 64bit msi can be downloaded from http://www.microsoft.com/download/en/details.aspx?id=14632\r\n    \r\n        at com.sap.conn.jco.NeoActivator.processLoadError(NeoActivator.java:73)\r\n        at com.sap.conn.jco.NeoActivator.start(NeoActivator.java:43)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\r\n        ... 12 more\r\n    Root exception:\r\n    java.lang.RuntimeException: Cannot load the JCo native library. (exception java.lang.ExceptionInInitializerError: JCo initialization failed with java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path)\r\n    If you don&#39;t develop a JCo scenario for HANA Cloud, you can ignore this issue.\r\n    Check if you have installed the Visual Studio 2010 runtime libraries in the correct version. (vcredist.msi)\r\n    The 64bit msi can be downloaded from http://www.microsoft.com/download/en/details.aspx?id=14632\r\n    \r\n        at com.sap.conn.jco.NeoActivator.processLoadError(NeoActivator.java:73)\r\n        at com.sap.conn.jco.NeoActivator.start(NeoActivator.java:43)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1131)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n    \r\n    !ENTRY org.eclipse.osgi 2 0 2014-12-29 12:32:04.007\r\n    !MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:\r\n    !SUBENTRY 1 org.eclipse.osgi 2 0 2014-12-29 12:32:04.007\r\n    !MESSAGE Bundle reference:file:plugins/com.sap.conn.jco.cloud.win32.x86_64_3.1.1.9.jar was not resolved.\r\n    !SUBENTRY 2 com.sap.conn.jco.cloud.win32.x86_64 2 0 2014-12-29 12:32:04.007\r\n    !MESSAGE Missing host null_0.0.0.\r\n    \r\n    !ENTRY org.eclipse.osgi 2 0 2014-12-29 12:32:04.367\r\n    !MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:\r\n    !SUBENTRY 1 org.eclipse.osgi 2 0 2014-12-29 12:32:04.367\r\n    !MESSAGE Bundle reference:file:plugins/com.sap.conn.jco.cloud.win32.x86_64_3.1.1.9.jar was not resolved.\r\n    !SUBENTRY 2 com.sap.conn.jco.cloud.win32.x86_64 2 0 2014-12-29 12:32:04.367\r\n    !MESSAGE Missing host null_0.0.0.\r\n    \r\n    !ENTRY org.eclipse.osgi 4 0 2014-12-29 12:32:04.367\r\n    !MESSAGE Application error\r\n    !STACK 1\r\n    java.lang.RuntimeException: No application id has been found.\r\n        at org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:242)\r\n        at org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:29)\r\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\r\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619)\r\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574)\r\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1407)\r\n        at org.eclipse.equinox.launcher.Main.main(Main.java:1383)\r\n\r\n\r\n\r\nOther information:\r\n\r\nServer: neo-java-web-sdk-1.58.18.1 downloaded from [SAP TOOL][2]&lt;br/&gt;\r\nEclipse: JAVA EE IDE LUNA-4.4. &lt;br/&gt;\r\nSysetm: Windows-8.1 pro 64 bit &lt;br/&gt;\r\nJDK : JDk-1.7.71&lt;br/&gt;\r\n\r\n\r\n\r\nHow to resolve this error ?\r\n\r\nEdit:\r\n\r\n**Sometime error doesn&#39;t occur .** I have no idea why it&#39;s happening even though visual studio 2010 run time library  x64 is installed . \r\n\r\n  [1]: http://i.stack.imgur.com/N1WTo.png\r\n  [2]: https://tools.hana.ondemand.com/#cloud\r\n\r\n\r\n","title":"Eclipse IDE error : Server has been stopped during publish process","body":"<p>I installed Eclipse IDE JAVA EE edition and all other required plugins. I have created server instance(WEB JAVA)and pointed it to local directory C:\\dev\\hanacloud.sdk\\xyz using default settings.</p>\n<p>I ran project  by selecting(It contains pom file) <code>project(ESCMP-web) -&gt;RUN AS -&gt; RUN ON SERVER -&gt;choose an existing server -&gt; Web JAVA -&gt; finish </code> , after few seconds it gives an error message as</p>\n<blockquote>\n<p>'Publishing to Java Web Server...' has encountered a problem.</p>\n<p>Publish failed: Server has been stopped during publish process.</p>\n<p><img src=\"https://i.stack.imgur.com/N1WTo.png\" alt=\"error\" /></p>\n</blockquote>\n<p>Console message :</p>\n<pre><code> java version &quot;1.7.0_71&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_71-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 24.71-b01, mixed mode)\nC:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config&gt;&quot;C:\\Program Files\\Java\\jdk1.7.0_71\\bin\\java&quot; -server  &quot;-Dhttp.proxyHost=172.30.0.14&quot; &quot;-Dhttp.proxyPort=3128&quot; &quot;-Dhttps.proxyHost=172.30.0.14&quot; &quot;-Dhttps.proxyPort=3128&quot; &quot;-Dhttp.nonProxyHosts=*.corp|localhost|127.0.0.1&quot; &quot;-Djava.rmi.server.hostname=127.0.0.1&quot;  -jar plugins/org.eclipse.equinox.launcher_1.1.0.v20100507.jar  -console -dev &quot;file:C:/dev/eclipse/workspace/Servers/Java Web Server-config/configuration/dev.properties&quot; \nosgi&gt; Updating file with path [C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\.\\pickup\\espm-mobile-shopping-web.war]\n\nUpdate of file with path [C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\.\\pickup\\espm-mobile-shopping-web.war] is successful.\nlog4j:WARN No appenders could be found for logger (org.apache.cxf.common.logging.LogUtils).\nlog4j:WARN Please initialize the log4j system properly.\n\n\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\nAn error has occurred. See the log file\nC:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\configuration\\1419836491312.log.\n</code></pre>\n<p>Server log file for session:</p>\n<pre><code>!SESSION 2014-12-29 12:31:30.984 -----------------------------------------------\neclipse.buildId=unknown\njava.version=1.7.0_71\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nCommand-line arguments:  -console -dev file:C:/dev/eclipse/workspace/Servers/Java Web Server-config/configuration/dev.properties\n\n!ENTRY com.sap.conn.jco.cloud 4 0 2014-12-29 12:31:34.250\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Exception in com.sap.conn.jco.NeoActivator.start() of bundle com.sap.conn.jco.cloud.\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:734)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)\n    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1131)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\nCaused by: java.lang.RuntimeException: Cannot load the JCo native library. (exception java.lang.ExceptionInInitializerError: JCo initialization failed with java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path)\nIf you don't develop a JCo scenario for HANA Cloud, you can ignore this issue.\nCheck if you have installed the Visual Studio 2010 runtime libraries in the correct version. (vcredist.msi)\nThe 64bit msi can be downloaded from http://www.microsoft.com/download/en/details.aspx?id=14632\n\n    at com.sap.conn.jco.NeoActivator.processLoadError(NeoActivator.java:73)\n    at com.sap.conn.jco.NeoActivator.start(NeoActivator.java:43)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\n    ... 12 more\nRoot exception:\njava.lang.RuntimeException: Cannot load the JCo native library. (exception java.lang.ExceptionInInitializerError: JCo initialization failed with java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path)\nIf you don't develop a JCo scenario for HANA Cloud, you can ignore this issue.\nCheck if you have installed the Visual Studio 2010 runtime libraries in the correct version. (vcredist.msi)\nThe 64bit msi can be downloaded from http://www.microsoft.com/download/en/details.aspx?id=14632\n\n    at com.sap.conn.jco.NeoActivator.processLoadError(NeoActivator.java:73)\n    at com.sap.conn.jco.NeoActivator.start(NeoActivator.java:43)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)\n    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1131)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n\n!ENTRY org.eclipse.osgi 2 0 2014-12-29 12:32:04.007\n!MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:\n!SUBENTRY 1 org.eclipse.osgi 2 0 2014-12-29 12:32:04.007\n!MESSAGE Bundle reference:file:plugins/com.sap.conn.jco.cloud.win32.x86_64_3.1.1.9.jar was not resolved.\n!SUBENTRY 2 com.sap.conn.jco.cloud.win32.x86_64 2 0 2014-12-29 12:32:04.007\n!MESSAGE Missing host null_0.0.0.\n\n!ENTRY org.eclipse.osgi 2 0 2014-12-29 12:32:04.367\n!MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:\n!SUBENTRY 1 org.eclipse.osgi 2 0 2014-12-29 12:32:04.367\n!MESSAGE Bundle reference:file:plugins/com.sap.conn.jco.cloud.win32.x86_64_3.1.1.9.jar was not resolved.\n!SUBENTRY 2 com.sap.conn.jco.cloud.win32.x86_64 2 0 2014-12-29 12:32:04.367\n!MESSAGE Missing host null_0.0.0.\n\n!ENTRY org.eclipse.osgi 4 0 2014-12-29 12:32:04.367\n!MESSAGE Application error\n!STACK 1\njava.lang.RuntimeException: No application id has been found.\n    at org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:242)\n    at org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:29)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1407)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1383)\n</code></pre>\n<p>Other information:</p>\n<p>Server: neo-java-web-sdk-1.58.18.1 downloaded from <a href=\"https://tools.hana.ondemand.com/#cloud\" rel=\"nofollow noreferrer\">SAP TOOL</a><br/>\nEclipse: JAVA EE IDE LUNA-4.4. <br/>\nSysetm: Windows-8.1 pro 64 bit <br/>\nJDK : JDk-1.7.71<br/></p>\n<p>How to resolve this error ?</p>\n<p>Edit:</p>\n<p><strong>Sometime error doesn't occur .</strong> I have no idea why it's happening even though visual studio 2010 run time library  x64 is installed .</p>\n"},{"tags":["java","format"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1505757424,"post_id":46285483,"comment_id":79533980,"body_markdown":"Have you considered doing this with string manipulation, taking a string with extra trailing zeroes and removing them there, rather than changing the format string?","body":"Have you considered doing this with string manipulation, taking a string with extra trailing zeroes and removing them there, rather than changing the format string?"},{"owner":{"account_id":3502382,"reputation":3469,"user_id":2928853,"accept_rate":83,"display_name":"jrook"},"score":0,"creation_date":1505758675,"post_id":46285483,"comment_id":79534591,"body_markdown":"Why are you saying `int(result) - result == 0` gives `false` for result = 127.00000f? It should be true.","body":"Why are you saying <code>int(result) - result == 0</code> gives <code>false</code> for result = 127.00000f? It should be true."},{"owner":{"account_id":10522757,"reputation":349,"user_id":7754692,"accept_rate":100,"display_name":"tgabb"},"score":0,"creation_date":1505761092,"post_id":46285483,"comment_id":79535834,"body_markdown":"@jrook it is false in my environment","body":"@jrook it is false in my environment"}],"answers":[{"tags":[],"owner":{"account_id":10974702,"reputation":351,"user_id":8063730,"display_name":"Roman Danilov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505757895,"creation_date":1505757895,"answer_id":46285602,"question_id":46285483,"body_markdown":"What about `NumberFormat`?\r\n\r\n    NumberFormat formatter = NumberFormat.getNumberInstance(Locale.ROOT);\r\n    formatter.setMinimumFractionDigits(1);\r\n    formatter.setMaximumFractionDigits(2);\r\n    String s1 = formatter.format(127.000000);\r\n    String s2 = formatter.format(0.000000);\r\n    String s3 = formatter.format(123.456);\r\n    System.out.println(s1);     //prints 127.0\r\n    System.out.println(s2);     //prints 0.0\r\n    System.out.println(s3);     //prints 123.46\r\n","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>What about <code>NumberFormat</code>?</p>\n\n<pre><code>NumberFormat formatter = NumberFormat.getNumberInstance(Locale.ROOT);\nformatter.setMinimumFractionDigits(1);\nformatter.setMaximumFractionDigits(2);\nString s1 = formatter.format(127.000000);\nString s2 = formatter.format(0.000000);\nString s3 = formatter.format(123.456);\nSystem.out.println(s1);     //prints 127.0\nSystem.out.println(s2);     //prints 0.0\nSystem.out.println(s3);     //prints 123.46\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3502382,"reputation":3469,"user_id":2928853,"accept_rate":83,"display_name":"jrook"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505758549,"creation_date":1505757938,"answer_id":46285611,"question_id":46285483,"body_markdown":"Since you want at most two digits after the decimal point, you can first cut the rest out and then decide if you want to keep the last digit or not.\r\n\r\n        float result = 127.8901f; //0.0000 \r\n        String output = String.format(&quot;%.2f&quot;, result);\r\n        if (output.endsWith(&quot;00&quot;)) output = output.substring(0,output.length()-1);","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>Since you want at most two digits after the decimal point, you can first cut the rest out and then decide if you want to keep the last digit or not.</p>\n\n<pre><code>    float result = 127.8901f; //0.0000 \n    String output = String.format(\"%.2f\", result);\n    if (output.endsWith(\"00\")) output = output.substring(0,output.length()-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505758389,"creation_date":1505758389,"answer_id":46285718,"question_id":46285483,"body_markdown":"You can convert it to string and look for `.` index\r\n\r\n\t\tString n1 = new String(&quot;127.000000&quot;);\r\n\t\tString output=null;\r\n\r\n\t\tif(n1.charAt(n1.indexOf(&quot;.&quot;)+2)&gt;&#39;0&#39;) //after decimal if non-zero at second position\r\n        {\r\n\t\t\toutput= n1.substring(0,n1.indexOf(&quot;.&quot;)+3);\r\n\t\t}\r\n\t\telse\r\n        {\r\n\t\t    output= n1.substring(0,n1.indexOf(&quot;.&quot;)+2);\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(output);","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>You can convert it to string and look for <code>.</code> index</p>\n\n<pre><code>    String n1 = new String(\"127.000000\");\n    String output=null;\n\n    if(n1.charAt(n1.indexOf(\".\")+2)&gt;'0') //after decimal if non-zero at second position\n    {\n        output= n1.substring(0,n1.indexOf(\".\")+3);\n    }\n    else\n    {\n        output= n1.substring(0,n1.indexOf(\".\")+2);  \n    }\n\n    System.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283914,"reputation":1031,"user_id":581702,"display_name":"kyleus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505765436,"creation_date":1505765436,"answer_id":46287449,"question_id":46285483,"body_markdown":"Here is a Regex that works:\r\n\r\n    public class DecimalTest {\r\n\r\n    private static Pattern PATTERN = Pattern.compile(&quot;(\\\\d+\\\\.)(0|\\\\d\\\\d)&quot;);\r\n    private static final String[] TEST_VALUES = {&quot;127.000000&quot;, &quot;0.0000000&quot;, &quot;123.456&quot;};\r\n\r\n    public static void main(String[] args) {\r\n\r\n        for (final String testValue : TEST_VALUES) {\r\n            final Matcher matcher = PATTERN.matcher(testValue);\r\n            if (matcher.find())\r\n                System.out.println(matcher.group(1) + matcher.group(2));\r\n            }\r\n        }\r\n    }","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>Here is a Regex that works:</p>\n\n<pre><code>public class DecimalTest {\n\nprivate static Pattern PATTERN = Pattern.compile(\"(\\\\d+\\\\.)(0|\\\\d\\\\d)\");\nprivate static final String[] TEST_VALUES = {\"127.000000\", \"0.0000000\", \"123.456\"};\n\npublic static void main(String[] args) {\n\n    for (final String testValue : TEST_VALUES) {\n        final Matcher matcher = PATTERN.matcher(testValue);\n        if (matcher.find())\n            System.out.println(matcher.group(1) + matcher.group(2));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262389,"reputation":135,"user_id":2747692,"display_name":"Magyar D&#225;vid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680198557,"creation_date":1680198557,"answer_id":75891437,"question_id":46285483,"body_markdown":"I know I&#39;m late from the party now 5 and a half years later, but someone might find it useful, as I&#39;ve found my way here too.\r\n\r\n## Method 1: NumberFormat \r\n\r\n```java\r\ndouble value = 1234.5678;\r\n\r\nNumberFormat formatter1 = new DecimalFormat(&quot;##.0&quot;);\r\nString text1 = formatter1.format(value); // &quot;1234.6&quot;\r\n\r\nNumberFormat formatter2 = new DecimalFormat(&quot;##.00&quot;);\r\nString text2 = formatter2.format(value); // &quot;1234.57&quot;\r\n```\r\n\r\nRounding approach is optionally configurable:\r\n\r\n```java\r\nformatter.setRoundingMode(RoundingMode.CEILING);\r\n// UP, DOWN, CEILING, FLOOR, HALF_UP, HALF_DOWN, HALF_EVEN, UNNECESSARY\r\n```\r\n\r\nUsing this, we can modify the code a little bit to achieve the desired behavior:\r\n\r\n```java\r\ndouble value = 127.12;\r\nNumberFormat formatter = new DecimalFormat(&quot;##.00&quot;);\r\nformatter.setRoundingMode(RoundingMode.FLOOR);\r\nString output = (value == (int) value)\r\n    ? Double.toString(value)\r\n    : formatter.format(value);\r\n```\r\n\r\nThis meets your requirements. One thing to mention, for `123.4` it returns `123.40`. If you&#39;d like to prevent this, we can do the integer comparison with a shifted decimal dot:\r\n\r\n```java\r\ndouble value = 127.12;\r\nNumberFormat formatter = new DecimalFormat(&quot;##.00&quot;);\r\nformatter.setRoundingMode(RoundingMode.FLOOR);\r\nString output = (value * 10 == (int) (value * 10))\r\n    ? Double.toString(value)\r\n    : formatter.format(value);\r\n```\r\n\r\nThis returns `&quot;127.0&quot;` for `127.000000`, `&quot;0.0&quot;` for `0.000000`, `&quot;123.45&quot;` for `123.456` and also `&quot;123.4&quot;` for `123.4`.\r\n\r\n\r\n## Method 2: Simple Java\r\n\r\nIt&#39;s not the nicest way, but maybe the shortest? Previously I just did:\r\n\r\n```java\r\ndouble value = 1234.56789;\r\nString text = Double.toString(Math.round(value * 10.0) / 10.0); // &quot;1234.6&quot;\r\n```\r\n\r\nSame with keeping at most 2 digits:\r\n\r\n```java\r\ndouble value = 1234.56789;\r\nString text = Double.toString(Math.round(value * 100.0) / 100.0); // &quot;1234.57&quot;\r\n```\r\n\r\nThis way we explicitly round the number to a desired precision. We can truncate it too:\r\n\r\n```java\r\ndouble value = 1234.56789;\r\nString text = Double.toString(((int) (value * 10.0) / 10.0)); // &quot;1234.5&quot;\r\n```\r\n\r\nOne could argue, that making a multiplication and a division is a waste of computational power, but I guess it&#39;s still faster than modifying the result string, removing trailing zeros, etc. Also, since floating points are stored in memory in binary format and not decimal, running `* 10.0 / 10.0` might not result the _exact same_ number.","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>I know I'm late from the party now 5 and a half years later, but someone might find it useful, as I've found my way here too.</p>\n<h2>Method 1: NumberFormat</h2>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 1234.5678;\n\nNumberFormat formatter1 = new DecimalFormat(&quot;##.0&quot;);\nString text1 = formatter1.format(value); // &quot;1234.6&quot;\n\nNumberFormat formatter2 = new DecimalFormat(&quot;##.00&quot;);\nString text2 = formatter2.format(value); // &quot;1234.57&quot;\n</code></pre>\n<p>Rounding approach is optionally configurable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>formatter.setRoundingMode(RoundingMode.CEILING);\n// UP, DOWN, CEILING, FLOOR, HALF_UP, HALF_DOWN, HALF_EVEN, UNNECESSARY\n</code></pre>\n<p>Using this, we can modify the code a little bit to achieve the desired behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 127.12;\nNumberFormat formatter = new DecimalFormat(&quot;##.00&quot;);\nformatter.setRoundingMode(RoundingMode.FLOOR);\nString output = (value == (int) value)\n    ? Double.toString(value)\n    : formatter.format(value);\n</code></pre>\n<p>This meets your requirements. One thing to mention, for <code>123.4</code> it returns <code>123.40</code>. If you'd like to prevent this, we can do the integer comparison with a shifted decimal dot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 127.12;\nNumberFormat formatter = new DecimalFormat(&quot;##.00&quot;);\nformatter.setRoundingMode(RoundingMode.FLOOR);\nString output = (value * 10 == (int) (value * 10))\n    ? Double.toString(value)\n    : formatter.format(value);\n</code></pre>\n<p>This returns <code>&quot;127.0&quot;</code> for <code>127.000000</code>, <code>&quot;0.0&quot;</code> for <code>0.000000</code>, <code>&quot;123.45&quot;</code> for <code>123.456</code> and also <code>&quot;123.4&quot;</code> for <code>123.4</code>.</p>\n<h2>Method 2: Simple Java</h2>\n<p>It's not the nicest way, but maybe the shortest? Previously I just did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 1234.56789;\nString text = Double.toString(Math.round(value * 10.0) / 10.0); // &quot;1234.6&quot;\n</code></pre>\n<p>Same with keeping at most 2 digits:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 1234.56789;\nString text = Double.toString(Math.round(value * 100.0) / 100.0); // &quot;1234.57&quot;\n</code></pre>\n<p>This way we explicitly round the number to a desired precision. We can truncate it too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 1234.56789;\nString text = Double.toString(((int) (value * 10.0) / 10.0)); // &quot;1234.5&quot;\n</code></pre>\n<p>One could argue, that making a multiplication and a division is a waste of computational power, but I guess it's still faster than modifying the result string, removing trailing zeros, etc. Also, since floating points are stored in memory in binary format and not decimal, running <code>* 10.0 / 10.0</code> might not result the <em>exact same</em> number.</p>\n"}],"owner":{"account_id":10522757,"reputation":349,"user_id":7754692,"accept_rate":100,"display_name":"tgabb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3976,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46285611,"answer_count":5,"score":3,"last_activity_date":1680198557,"creation_date":1505757357,"question_id":46285483,"body_markdown":"I&#39;m looking for a format specifier to limit the number of trailing zeros after a decimal to just 1, but if they aren&#39;t all zeros then truncate to two.\r\n\r\nLike so:\r\n\r\n    127.000000 -&gt; 127.0\r\n    \r\n    0.000000 -&gt; 0.0\r\n    \r\n    123.456 -&gt; 123.45\r\n\r\nI Have tried taking care of it with logic but it doesn&#39;t seem to work.\r\n\r\ncall my number `result` and use the following logic:\r\n\r\n        if(result - (int)result == 0){\r\n            output = String.format(&quot;%.1f\\n&quot;,result);\r\n        }\r\n        else{\r\n            output = String.format(&quot;%.2f\\n,result);\r\n        }\r\n\r\nsometimes this logic works, and sometimes it doesnt. For example\r\n\r\n`(int)result - result == 0`  is `true` for `0.000000`\r\n\r\n\r\nbut `false` for `127.000000`\r\n\r\nAny ideas?\r\n\r\n","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>I'm looking for a format specifier to limit the number of trailing zeros after a decimal to just 1, but if they aren't all zeros then truncate to two.</p>\n\n<p>Like so:</p>\n\n<pre><code>127.000000 -&gt; 127.0\n\n0.000000 -&gt; 0.0\n\n123.456 -&gt; 123.45\n</code></pre>\n\n<p>I Have tried taking care of it with logic but it doesn't seem to work.</p>\n\n<p>call my number <code>result</code> and use the following logic:</p>\n\n<pre><code>    if(result - (int)result == 0){\n        output = String.format(\"%.1f\\n\",result);\n    }\n    else{\n        output = String.format(\"%.2f\\n,result);\n    }\n</code></pre>\n\n<p>sometimes this logic works, and sometimes it doesnt. For example</p>\n\n<p><code>(int)result - result == 0</code>  is <code>true</code> for <code>0.000000</code></p>\n\n<p>but <code>false</code> for <code>127.000000</code></p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1680166429,"post_id":75885584,"comment_id":133852922,"body_markdown":"You can add permit to concrete address like this .antMatchers(&quot;/api/public&quot;).permitAll() or try to disable csrf for HttpSecurity like this .csrf().disable();","body":"You can add permit to concrete address like this .antMatchers(&quot;/api/public&quot;).permitAll() or try to disable csrf for HttpSecurity like this .csrf().disable();"},{"owner":{"account_id":23193397,"reputation":53,"user_id":17289413,"display_name":"eva_mila"},"score":0,"creation_date":1680167173,"post_id":75885584,"comment_id":133853107,"body_markdown":"@Yeras_QazaQ I have everything open to specific endpoints. And csrf disabled","body":"@Yeras_QazaQ I have everything open to specific endpoints. And csrf disabled"}],"answers":[{"tags":[],"owner":{"account_id":7837673,"reputation":467,"user_id":5925075,"display_name":"balazs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680198231,"creation_date":1680182679,"answer_id":75888849,"question_id":75885584,"body_markdown":"Currently your Filter is always executing, even before the non authenticated calls.\r\n\r\nTo solve it you have to say which request to handle by your Filter.\r\nFor that you have two options:\r\n 1. add the `shouldNotFilter` method to your `JwtAuthFilter`\r\n\r\n        @Override\r\n        protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n          return !request.getRequestURI().startsWith(&quot;/data/&quot;);\r\n        }\r\n\r\n 2. simply add the following if condition to the beginning of your `JwtAuthFilter.doFilterInternal`:\r\n\r\n        if (!request.getRequestURI().startsWith(&quot;/data/&quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n\r\n\r\nExactly the same issue has been discussed in the following video at 1:11:11 timestamp: [Spring Security, demystified by Daniel Garnier Moiroux][1]\r\n\r\n\r\n  [1]: https://youtu.be/iJ2muJniikY?t=4271","title":"PermitAll() not working, Unauthorized 401. Spring security config","body":"<p>Currently your Filter is always executing, even before the non authenticated calls.</p>\n<p>To solve it you have to say which request to handle by your Filter.\nFor that you have two options:</p>\n<ol>\n<li><p>add the <code>shouldNotFilter</code> method to your <code>JwtAuthFilter</code></p>\n<pre><code>@Override\nprotected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n  return !request.getRequestURI().startsWith(&quot;/data/&quot;);\n}\n</code></pre>\n</li>\n<li><p>simply add the following if condition to the beginning of your <code>JwtAuthFilter.doFilterInternal</code>:</p>\n<pre><code>if (!request.getRequestURI().startsWith(&quot;/data/&quot;)) {\n    filterChain.doFilter(request, response);\n    return;\n}\n</code></pre>\n</li>\n</ol>\n<p>Exactly the same issue has been discussed in the following video at 1:11:11 timestamp: <a href=\"https://youtu.be/iJ2muJniikY?t=4271\" rel=\"nofollow noreferrer\">Spring Security, demystified by Daniel Garnier Moiroux</a></p>\n"}],"owner":{"account_id":23193397,"reputation":53,"user_id":17289413,"display_name":"eva_mila"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75888849,"answer_count":1,"score":-2,"last_activity_date":1680198231,"creation_date":1680163395,"question_id":75885584,"body_markdown":"I have multiple entry points. One of them must be protected by a filter, the rest are completely open.\r\n\r\n    /data/** - filter protected\r\n    /callback/** - permitAll\r\n    /save/**     - permitAll\r\n    /oauth/**    - permitAll\r\n\r\n\r\nMy application is missing users, roles and database. I only need to check JWT that it is signed with the correct private key. \r\nSo, i use: \r\n\r\n    @SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})\r\n\r\nI tried many combinations, it either requires everyone to check the JWT for all input points using a filter, or 401 errors. Role anonymous set because there was a 403 error if set .authenticated()\r\n\r\nPls help me..\r\n\r\nMy configuration adapter:\r\n\r\n\r\n    @EnableWebSecurity\r\n    public class DataSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public JwtAuthFilter jwtAuthenticationFilter() {\r\n            return new JwtAuthFilter();\r\n        }\r\n    \r\n      @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and()\r\n                 \r\n                    .csrf().disable()\r\n                    .httpBasic().disable()\r\n                    .logout().disable()\r\n                    .formLogin().disable()\r\n                   \r\n                    .authorizeRequests().antMatchers(&quot;/data/**&quot;).hasAuthority(&quot;ROLE_ANONYMOUS&quot;)\r\n                    .and()\r\n                    .addFilterBefore(jwtAuthenticationFilter(), AuthorizationFilter.class)\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                   \r\n                    .authorizeRequests()\r\n                    .anyRequest().permitAll();\r\n        }\r\n    \r\n    @Override\r\n        public void configure(WebSecurity web){\r\n            web.ignoring().antMatchers(&quot;/oauth/**&quot;,&quot;/callback/**&quot;,&quot;/save/**&quot;);\r\n        }\r\n    }\r\n\r\n\r\nMy Filter:\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class JwtAuthFilter extends OncePerRequestFilter {\r\n        @Value(&quot;${auth-service.secret-key}&quot;)\r\n        private String jwtSecret;\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(JwtAuthFilter.class);\r\n    \r\n        @Override\r\n        protected void doFilterInternal(\r\n                @Nullable HttpServletRequest request,\r\n                @Nullable HttpServletResponse response,\r\n                @Nullable FilterChain filterChain\r\n        )\r\n                throws IOException, ServletException {\r\n            assert request != null;\r\n    \r\n            String jwt = parseJwt(request);\r\n            if (jwt!=null &amp;&amp; validateToken(jwt) ) {\r\n                assert filterChain != null;\r\n                filterChain.doFilter(request, response);\r\n            } else {\r\n                assert response != null;\r\n                response.sendError(HttpServletResponse.SC_UNAUTHORIZED);\r\n            }\r\n        }\r\n        private String parseJwt(HttpServletRequest request) {\r\n            String headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n    \r\n            if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n                return headerAuth.substring(7);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        private boolean validateToken(String authToken) {\r\n            try {\r\n                Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n                return true;\r\n            } catch (SignatureException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            } catch (MalformedJwtException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            } catch (ExpiredJwtException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            } catch (UnsupportedJwtException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            } catch (IllegalArgumentException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\nCall http://localhost:9088/oauth/test \r\n\r\nResponse:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-03-30T07:52:22.692+00:00&quot;,\r\n        &quot;status&quot;: 401,\r\n        &quot;error&quot;: &quot;Unauthorized&quot;,\r\n        &quot;path&quot;: &quot;/oauth/test&quot;\r\n    }\r\n\r\n\r\nTRACE:\r\n\r\n    2023-03-30 11:52:22.662 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Ant [pattern=&#39;/oauth/**&#39;], Filters=[]] (1/3)\r\n    2023-03-30 11:52:22.662 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Ant [pattern=&#39;/callback/**&#39;], Filters=[]] (2/3)\r\n    2023-03-30 11:52:22.663 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e807e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@7767bd4e, org.springframework.security.web.header.HeaderWriterFilter@1537e43, org.springframework.web.filter.CorsFilter@6c995c5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@433ef204, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@165614f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@203b953c, org.springframework.security.web.session.SessionManagementFilter@1304e0d7, org.springframework.security.web.access.ExceptionTranslationFilter@9a9aa68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@389a5022, com.test.authorization.configuration.security.JwtAuthFilter@1fdca564]] (3/3)\r\n    2023-03-30 11:52:22.663 DEBUG 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n    2023-03-30 11:52:22.664 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (1/11)\r\n    2023-03-30 11:52:22.664 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (2/11)\r\n    2023-03-30 11:52:22.665 DEBUG 6744 --- [nio-9092-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n    2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (3/11)\r\n    2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (4/11)\r\n    2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (5/11)\r\n    2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (6/11)\r\n    2023-03-30 11:52:22.666 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (7/11)\r\n    2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (8/11)\r\n    2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (9/11)\r\n    2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (10/11)\r\n    2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern=&#39;/data/**&#39;] - [hasAuthority(&#39;ROLE_ANONYMOUS&#39;)] (1/2)\r\n    2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing\r\n    2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /error] with attributes [permitAll]\r\n    2023-03-30 11:52:22.672 DEBUG 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /error] with attributes [permitAll]\r\n    2023-03-30 11:52:22.672 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null\r\n    2023-03-30 11:52:22.672 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthFilter (11/11)\r\n    2023-03-30 11:52:22.673 DEBUG 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n    2023-03-30 11:52:22.676 TRACE 6744 --- [nio-9092-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern=&#39;/data/**&#39;] - [hasAuthority(&#39;ROLE_ANONYMOUS&#39;)] (1/2)\r\n    2023-03-30 11:52:22.732 DEBUG 6744 --- [nio-9092-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n\r\ni just need to close /data/** , the rest are open.","title":"PermitAll() not working, Unauthorized 401. Spring security config","body":"<p>I have multiple entry points. One of them must be protected by a filter, the rest are completely open.</p>\n<pre><code>/data/** - filter protected\n/callback/** - permitAll\n/save/**     - permitAll\n/oauth/**    - permitAll\n</code></pre>\n<p>My application is missing users, roles and database. I only need to check JWT that it is signed with the correct private key.\nSo, i use:</p>\n<pre><code>@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})\n</code></pre>\n<p>I tried many combinations, it either requires everyone to check the JWT for all input points using a filter, or 401 errors. Role anonymous set because there was a 403 error if set .authenticated()</p>\n<p>Pls help me..</p>\n<p>My configuration adapter:</p>\n<pre><code>@EnableWebSecurity\npublic class DataSecurity extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public JwtAuthFilter jwtAuthenticationFilter() {\n        return new JwtAuthFilter();\n    }\n\n  @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and()\n             \n                .csrf().disable()\n                .httpBasic().disable()\n                .logout().disable()\n                .formLogin().disable()\n               \n                .authorizeRequests().antMatchers(&quot;/data/**&quot;).hasAuthority(&quot;ROLE_ANONYMOUS&quot;)\n                .and()\n                .addFilterBefore(jwtAuthenticationFilter(), AuthorizationFilter.class)\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n               \n                .authorizeRequests()\n                .anyRequest().permitAll();\n    }\n\n@Override\n    public void configure(WebSecurity web){\n        web.ignoring().antMatchers(&quot;/oauth/**&quot;,&quot;/callback/**&quot;,&quot;/save/**&quot;);\n    }\n}\n</code></pre>\n<p>My Filter:</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class JwtAuthFilter extends OncePerRequestFilter {\n    @Value(&quot;${auth-service.secret-key}&quot;)\n    private String jwtSecret;\n    private static final Logger LOGGER = LoggerFactory.getLogger(JwtAuthFilter.class);\n\n    @Override\n    protected void doFilterInternal(\n            @Nullable HttpServletRequest request,\n            @Nullable HttpServletResponse response,\n            @Nullable FilterChain filterChain\n    )\n            throws IOException, ServletException {\n        assert request != null;\n\n        String jwt = parseJwt(request);\n        if (jwt!=null &amp;&amp; validateToken(jwt) ) {\n            assert filterChain != null;\n            filterChain.doFilter(request, response);\n        } else {\n            assert response != null;\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED);\n        }\n    }\n    private String parseJwt(HttpServletRequest request) {\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\n\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\n            return headerAuth.substring(7);\n        }\n        return null;\n    }\n\n    private boolean validateToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>Call http://localhost:9088/oauth/test</p>\n<p>Response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-03-30T07:52:22.692+00:00&quot;,\n    &quot;status&quot;: 401,\n    &quot;error&quot;: &quot;Unauthorized&quot;,\n    &quot;path&quot;: &quot;/oauth/test&quot;\n}\n</code></pre>\n<p>TRACE:</p>\n<pre><code>2023-03-30 11:52:22.662 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Ant [pattern='/oauth/**'], Filters=[]] (1/3)\n2023-03-30 11:52:22.662 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Ant [pattern='/callback/**'], Filters=[]] (2/3)\n2023-03-30 11:52:22.663 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e807e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@7767bd4e, org.springframework.security.web.header.HeaderWriterFilter@1537e43, org.springframework.web.filter.CorsFilter@6c995c5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@433ef204, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@165614f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@203b953c, org.springframework.security.web.session.SessionManagementFilter@1304e0d7, org.springframework.security.web.access.ExceptionTranslationFilter@9a9aa68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@389a5022, com.test.authorization.configuration.security.JwtAuthFilter@1fdca564]] (3/3)\n2023-03-30 11:52:22.663 DEBUG 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-03-30 11:52:22.664 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (1/11)\n2023-03-30 11:52:22.664 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (2/11)\n2023-03-30 11:52:22.665 DEBUG 6744 --- [nio-9092-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (3/11)\n2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (4/11)\n2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (5/11)\n2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (6/11)\n2023-03-30 11:52:22.666 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (7/11)\n2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (8/11)\n2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (9/11)\n2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (10/11)\n2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/data/**'] - [hasAuthority('ROLE_ANONYMOUS')] (1/2)\n2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing\n2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /error] with attributes [permitAll]\n2023-03-30 11:52:22.672 DEBUG 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /error] with attributes [permitAll]\n2023-03-30 11:52:22.672 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null\n2023-03-30 11:52:22.672 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthFilter (11/11)\n2023-03-30 11:52:22.673 DEBUG 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\n2023-03-30 11:52:22.676 TRACE 6744 --- [nio-9092-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/data/**'] - [hasAuthority('ROLE_ANONYMOUS')] (1/2)\n2023-03-30 11:52:22.732 DEBUG 6744 --- [nio-9092-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n</code></pre>\n<p>i just need to close /data/** , the rest are open.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6137477,"reputation":830,"user_id":4785824,"accept_rate":27,"display_name":"quintin"},"score":3,"creation_date":1574841955,"post_id":27405713,"comment_id":104369692,"body_markdown":"https://www.baeldung.com/running-setup-logic-on-startup-in-spring","body":"<a href=\"https://www.baeldung.com/running-setup-logic-on-startup-in-spring\" rel=\"nofollow noreferrer\">baeldung.com/running-setup-logic-on-startup-in-spring</a>"},{"owner":{"account_id":1099811,"reputation":470,"user_id":1092497,"display_name":"Rahul Wagh"},"score":0,"creation_date":1583876260,"post_id":27405713,"comment_id":107259259,"body_markdown":"Spring boot provides two interfaces ApplicationRunner and CommandLineRunner which can be used when you want to run the code after the spring boot starts. You could refer to this article for implementation example - https://jhooq.com/applicationrunner-spring-boot/","body":"Spring boot provides two interfaces ApplicationRunner and CommandLineRunner which can be used when you want to run the code after the spring boot starts. You could refer to this article for implementation example - <a href=\"https://jhooq.com/applicationrunner-spring-boot/\" rel=\"nofollow noreferrer\">jhooq.com/applicationrunner-spring-boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":887546,"reputation":9293,"user_id":926620,"display_name":"Anton Bessonov"},"down_vote_count":12,"up_vote_count":168,"is_accepted":true,"score":156,"last_activity_date":1418228074,"creation_date":1418228074,"answer_id":27405775,"question_id":27405713,"body_markdown":"Try:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        public static void main(final String[] args) {\r\n            ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);\r\n    \r\n            context.getBean(Table.class).fillWithTestdata(); // &lt;-- here\r\n        }\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Try:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic class Application extends SpringBootServletInitializer {\n\n    @SuppressWarnings(\"resource\")\n    public static void main(final String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);\n\n        context.getBean(Table.class).fillWithTestdata(); // &lt;-- here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"down_vote_count":7,"up_vote_count":108,"is_accepted":false,"score":101,"last_activity_date":1418230180,"creation_date":1418230180,"answer_id":27406476,"question_id":27405713,"body_markdown":"Why not just create a bean that starts your monitor on initialization, something like:\r\n\r\n    @Component\r\n    public class Monitor {\r\n        @Autowired private SomeService service\r\n\r\n        @PostConstruct\r\n        public void init(){\r\n            // start your monitoring in here\r\n        }\r\n    }\r\n\r\nthe `init` method will not be called until any autowiring is done for the bean.","title":"Running code after Spring Boot starts","body":"<p>Why not just create a bean that starts your monitor on initialization, something like:</p>\n\n<pre><code>@Component\npublic class Monitor {\n    @Autowired private SomeService service\n\n    @PostConstruct\n    public void init(){\n        // start your monitoring in here\n    }\n}\n</code></pre>\n\n<p>the <code>init</code> method will not be called until any autowiring is done for the bean.</p>\n"},{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1418240583,"creation_date":1418240583,"answer_id":27409513,"question_id":27405713,"body_markdown":"The &quot;Spring Boot&quot; way is to use a `CommandLineRunner`. Just add beans of that type and you are good to go. In Spring 4.1 (Boot 1.2) there is also a `SmartInitializingBean` which gets a callback after everything has initialized. And there is `SmartLifecycle` (from Spring 3).","title":"Running code after Spring Boot starts","body":"<p>The \"Spring Boot\" way is to use a <code>CommandLineRunner</code>. Just add beans of that type and you are good to go. In Spring 4.1 (Boot 1.2) there is also a <code>SmartInitializingBean</code> which gets a callback after everything has initialized. And there is <code>SmartLifecycle</code> (from Spring 3).</p>\n"},{"tags":[],"owner":{"account_id":2900414,"reputation":5100,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1481328230,"creation_date":1469829998,"answer_id":38668148,"question_id":27405713,"body_markdown":"Have you tried ApplicationReadyEvent? \n\n    @Component\n    public class ApplicationStartup \n    implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n      /**\n       * This event is executed as late as conceivably possible to indicate that \n       * the application is ready to service requests.\n       */\n      @Override\n      public void onApplicationEvent(final ApplicationReadyEvent event) {\n \n        // here your code ...\n \n        return;\n      }\n    }\n\nCode from: http://blog.netgloo.com/2014/11/13/run-code-at-spring-boot-startup/\n\nThis is what the [documentation][1] mentions about the startup events:\n\n&gt;...\n&gt;\n&gt;Application events are sent in the following order, as your application runs:\n&gt;\n&gt; An ApplicationStartedEvent is sent at the start of a run, but before\n&gt; any processing except the registration of listeners and initializers.\n&gt;\n&gt; An ApplicationEnvironmentPreparedEvent is sent when the Environment to be used in the context is known, but before the context\n&gt; is created.\n&gt;\n&gt; An ApplicationPreparedEvent is sent just before the refresh is started, but after bean definitions have been loaded.\n&gt;\n&gt; An ApplicationReadyEvent is sent after the refresh and any related callbacks have been processed to indicate the application is ready to\n&gt; service requests.\n&gt;\n&gt; An ApplicationFailedEvent is sent if there is an exception on startup.\n&gt;\n&gt;...\n\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-spring-application.html#boot-features-application-events-and-listeners","title":"Running code after Spring Boot starts","body":"<p>Have you tried ApplicationReadyEvent?</p>\n<pre><code>@Component\npublic class ApplicationStartup \nimplements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n  /**\n   * This event is executed as late as conceivably possible to indicate that \n   * the application is ready to service requests.\n   */\n  @Override\n  public void onApplicationEvent(final ApplicationReadyEvent event) {\n\n    // here your code ...\n\n    return;\n  }\n}\n</code></pre>\n<p>Code from: <a href=\"http://blog.netgloo.com/2014/11/13/run-code-at-spring-boot-startup/\" rel=\"noreferrer\">http://blog.netgloo.com/2014/11/13/run-code-at-spring-boot-startup/</a></p>\n<p>This is what the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-spring-application.html#boot-features-application-events-and-listeners\" rel=\"noreferrer\">documentation</a> mentions about the startup events:</p>\n<blockquote>\n<p>...</p>\n<p>Application events are sent in the following order, as your application runs:</p>\n<p>An ApplicationStartedEvent is sent at the start of a run, but before\nany processing except the registration of listeners and initializers.</p>\n<p>An ApplicationEnvironmentPreparedEvent is sent when the Environment to be used in the context is known, but before the context\nis created.</p>\n<p>An ApplicationPreparedEvent is sent just before the refresh is started, but after bean definitions have been loaded.</p>\n<p>An ApplicationReadyEvent is sent after the refresh and any related callbacks have been processed to indicate the application is ready to\nservice requests.</p>\n<p>An ApplicationFailedEvent is sent if there is an exception on startup.</p>\n<p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6232328,"reputation":1338,"user_id":4848659,"display_name":"Gimhani"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1529380909,"creation_date":1478149884,"answer_id":40394259,"question_id":27405713,"body_markdown":"You can extend a class using [`ApplicationRunner`][1] , override the `run()` method and add the code there. \r\n\r\n    import org.springframework.boot.ApplicationRunner;\r\n    \r\n    @Component\r\n    public class ServerInitializer implements ApplicationRunner {\r\n        \r\n        @Override\r\n        public void run(ApplicationArguments applicationArguments) throws Exception {\r\n    \r\n            //code goes here\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html","title":"Running code after Spring Boot starts","body":"<p>You can extend a class using <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html\" rel=\"noreferrer\"><code>ApplicationRunner</code></a> , override the <code>run()</code> method and add the code there. </p>\n\n<pre><code>import org.springframework.boot.ApplicationRunner;\n\n@Component\npublic class ServerInitializer implements ApplicationRunner {\n\n    @Override\n    public void run(ApplicationArguments applicationArguments) throws Exception {\n\n        //code goes here\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1494771500,"creation_date":1494771500,"answer_id":43964942,"question_id":27405713,"body_markdown":"Providing an example for Dave Syer answer, which worked like a charm:\r\n\r\n    @Component\r\n    public class CommandLineAppStartupRunner implements CommandLineRunner {\r\n        private static final Logger logger = LoggerFactory.getLogger(CommandLineAppStartupRunner.class);\r\n    \r\n        @Override\r\n        public void run(String...args) throws Exception {\r\n            logger.info(&quot;Application started with command-line arguments: {} . \\n To kill this application, press Ctrl + C.&quot;, Arrays.toString(args));\r\n        }\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Providing an example for Dave Syer answer, which worked like a charm:</p>\n\n<pre><code>@Component\npublic class CommandLineAppStartupRunner implements CommandLineRunner {\n    private static final Logger logger = LoggerFactory.getLogger(CommandLineAppStartupRunner.class);\n\n    @Override\n    public void run(String...args) throws Exception {\n        logger.info(\"Application started with command-line arguments: {} . \\n To kill this application, press Ctrl + C.\", Arrays.toString(args));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308422,"reputation":1873,"user_id":620288,"accept_rate":100,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1496050970,"creation_date":1496050368,"answer_id":44239113,"question_id":27405713,"body_markdown":"Use a `SmartInitializingSingleton` bean in spring &gt; 4.1\r\n\r\n    @Bean\r\n    public SmartInitializingSingleton importProcessor() {\r\n        return () -&gt; {\r\n            doStuff();\r\n        };\r\n\r\n    }\r\n\r\nAs alternative a `CommandLineRunner` bean can be implemented or annotating a bean method with `@PostConstruct`.","title":"Running code after Spring Boot starts","body":"<p>Use a <code>SmartInitializingSingleton</code> bean in spring > 4.1</p>\n\n<pre><code>@Bean\npublic SmartInitializingSingleton importProcessor() {\n    return () -&gt; {\n        doStuff();\n    };\n\n}\n</code></pre>\n\n<p>As alternative a <code>CommandLineRunner</code> bean can be implemented or annotating a bean method with <code>@PostConstruct</code>.</p>\n"},{"tags":[],"owner":{"account_id":2228996,"reputation":15977,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"down_vote_count":0,"up_vote_count":688,"is_accepted":false,"score":688,"last_activity_date":1540371303,"creation_date":1499249882,"answer_id":44923402,"question_id":27405713,"body_markdown":"It is as simple as this:   \r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void doSomethingAfterStartup() {\r\n        System.out.println(&quot;hello world, I have just started up&quot;);\r\n    }\r\n\r\nTested on version `1.5.1.RELEASE`\r\n","title":"Running code after Spring Boot starts","body":"<p>It is as simple as this:   </p>\n\n<pre><code>@EventListener(ApplicationReadyEvent.class)\npublic void doSomethingAfterStartup() {\n    System.out.println(\"hello world, I have just started up\");\n}\n</code></pre>\n\n<p>Tested on version <code>1.5.1.RELEASE</code></p>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1518541050,"creation_date":1518541050,"answer_id":48771885,"question_id":27405713,"body_markdown":"`ApplicationReadyEvent` is really only useful if the task you want to perform is not a requirement for correct server operation. Starting an async task to monitor something for changes is a good example.\r\n\r\nIf, however your server is in a &#39;not ready&#39; state until the task is completed then it&#39;s better to implement `SmartInitializingSingleton` because you&#39;ll get the callback _before_ your REST port has been opened and your server is open for business.\r\n\r\nDon&#39;t be tempted to use `@PostConstruct` for tasks that should only happen once ever. You&#39;ll get a rude surprise when you notice it being called multiple times...","title":"Running code after Spring Boot starts","body":"<p><code>ApplicationReadyEvent</code> is really only useful if the task you want to perform is not a requirement for correct server operation. Starting an async task to monitor something for changes is a good example.</p>\n\n<p>If, however your server is in a 'not ready' state until the task is completed then it's better to implement <code>SmartInitializingSingleton</code> because you'll get the callback <em>before</em> your REST port has been opened and your server is open for business.</p>\n\n<p>Don't be tempted to use <code>@PostConstruct</code> for tasks that should only happen once ever. You'll get a rude surprise when you notice it being called multiple times...</p>\n"},{"tags":[],"owner":{"account_id":5569186,"reputation":831,"user_id":4415231,"accept_rate":50,"display_name":"prasad kp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540790630,"creation_date":1540790630,"answer_id":53039193,"question_id":27405713,"body_markdown":"just implement CommandLineRunner for spring boot application.\r\nYou need to implement run method,\r\n\r\n    public classs SpringBootApplication implements CommandLineRunner{\r\n    \r\n        @Override\r\n        \tpublic void run(String... arg0) throws Exception {\r\n        \t// write your logic here \r\n        \t\t\r\n        \t}\r\n    }","title":"Running code after Spring Boot starts","body":"<p>just implement CommandLineRunner for spring boot application.\nYou need to implement run method,</p>\n\n<pre><code>public classs SpringBootApplication implements CommandLineRunner{\n\n    @Override\n        public void run(String... arg0) throws Exception {\n        // write your logic here \n\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11819659,"reputation":1022,"user_id":8752733,"display_name":"Kalifornium"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1540820369,"creation_date":1540820369,"answer_id":53046750,"question_id":27405713,"body_markdown":" Try this one and it will run your code when the application context has fully started.\r\n\r\n   \r\n\r\n     @Component\r\n    public class OnStartServer implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void onApplicationEvent(ContextRefreshedEvent arg0) {\r\n    \t\t\t\t// EXECUTE YOUR CODE HERE \r\n    \t}\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Try this one and it will run your code when the application context has fully started.</p>\n\n<pre><code> @Component\npublic class OnStartServer implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent arg0) {\n                // EXECUTE YOUR CODE HERE \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12535990,"reputation":1549,"user_id":9122660,"display_name":"Ostecke"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1557170583,"creation_date":1557170583,"answer_id":56011179,"question_id":27405713,"body_markdown":"I really like the suggestion for usage of the `EventListener` annotation by @cahen (https://stackoverflow.com/a/44923402/9122660) since it is very clean. Unfortunately I could not get this to work in a Spring + Kotlin setup. What does work for Kotlin is adding the class as a method parameter: \r\n\r\n    @EventListener \r\n    fun doSomethingAfterStartup(event: ApplicationReadyEvent) {\r\n        System.out.println(&quot;hello world, I have just started up&quot;);\r\n    }\r\n","title":"Running code after Spring Boot starts","body":"<p>I really like the suggestion for usage of the <code>EventListener</code> annotation by @cahen (<a href=\"https://stackoverflow.com/a/44923402/9122660\">https://stackoverflow.com/a/44923402/9122660</a>) since it is very clean. Unfortunately I could not get this to work in a Spring + Kotlin setup. What does work for Kotlin is adding the class as a method parameter: </p>\n\n<pre><code>@EventListener \nfun doSomethingAfterStartup(event: ApplicationReadyEvent) {\n    System.out.println(\"hello world, I have just started up\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8196165,"reputation":293,"user_id":6628739,"accept_rate":75,"display_name":"Naresh Bhadke"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1566392208,"creation_date":1566392208,"answer_id":57592172,"question_id":27405713,"body_markdown":"Best way to execute block of code after Spring Boot application started is using PostConstruct annotation.Or also you can use command line runner for the same.\r\n\r\n**1. Using PostConstruct annotation**\r\n\r\n    @Configuration\r\n    public class InitialDataConfiguration {\r\n    \t\r\n    \t@PostConstruct\r\n    \tpublic void postConstruct() {\r\n    \t\tSystem.out.println(&quot;Started after Spring boot application !&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**2. Using command line runner bean**\r\n\r\n    \r\n    @Configuration\r\n    public class InitialDataConfiguration {\r\n    \r\n    \t@Bean\r\n    \tCommandLineRunner runner() {\r\n    \t\treturn args -&gt; {\r\n    \t\t\tSystem.out.println(&quot;CommandLineRunner running in the UnsplashApplication class...&quot;);\r\n    \t\t};\r\n    \t}\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Best way to execute block of code after Spring Boot application started is using PostConstruct annotation.Or also you can use command line runner for the same.</p>\n\n<p><strong>1. Using PostConstruct annotation</strong></p>\n\n<pre><code>@Configuration\npublic class InitialDataConfiguration {\n\n    @PostConstruct\n    public void postConstruct() {\n        System.out.println(\"Started after Spring boot application !\");\n    }\n\n}\n</code></pre>\n\n<p><strong>2. Using command line runner bean</strong></p>\n\n<pre><code>@Configuration\npublic class InitialDataConfiguration {\n\n    @Bean\n    CommandLineRunner runner() {\n        return args -&gt; {\n            System.out.println(\"CommandLineRunner running in the UnsplashApplication class...\");\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18033506,"reputation":37,"user_id":13107483,"display_name":"Rushi Vanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592623423,"creation_date":1592623423,"answer_id":62481246,"question_id":27405713,"body_markdown":"Best way you use CommandLineRunner or ApplicationRunner\r\nThe only difference between is run() method\r\nCommandLineRunner accepts array of string and ApplicationRunner accepts  ApplicationArugument.","title":"Running code after Spring Boot starts","body":"<p>Best way you use CommandLineRunner or ApplicationRunner\nThe only difference between is run() method\nCommandLineRunner accepts array of string and ApplicationRunner accepts  ApplicationArugument.</p>\n"},{"tags":[],"owner":{"account_id":9608243,"reputation":87,"user_id":7133567,"display_name":"BRAIEK AYEMN"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596459198,"creation_date":1596459198,"answer_id":63229828,"question_id":27405713,"body_markdown":"you can use @Component \r\n\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    @Slf4j\r\n    public class BeerLoader implements CommandLineRunner {\r\n        //declare \r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            //some code here \r\n    \r\n        }","title":"Running code after Spring Boot starts","body":"<p>you can use @Component</p>\n<pre><code>@RequiredArgsConstructor\n@Component\n@Slf4j\npublic class BeerLoader implements CommandLineRunner {\n    //declare \n\n    @Override\n    public void run(String... args) throws Exception {\n        //some code here \n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1620989363,"creation_date":1620989363,"answer_id":67533089,"question_id":27405713,"body_markdown":"You have several choices:\r\n\r\n**Using `CommandLineRunner` or `ApplicationRunner` as a Bean definition:**\r\n\r\nSpring Boot executes these towards the end of the application startup process. In most circumstances, the `CommandLineRunner` will do the job. Following is an example of a CommandLineRunner implementation with Java 8:\r\n\r\n    @Bean\r\n    public CommandLineRunner commandLineRunner() {\r\n       return (args) -&gt; System.out.println(&quot;Hello World&quot;);\r\n    }\r\n\r\nNote that the `args` is the String array of arguments. You can also provide an implementation of this interface and define it as a Spring Component:\r\n\r\n    @Component\r\n    public class MyCommandLineRunner implements CommandLineRunner {\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            System.out.println(&quot;Hello World&quot;);\r\n        }\r\n    }\r\n\r\nYou can use the `ApplicationRunner` if you need better argument management. ApplicationRunner takes an `ApplicationArguments` instance that has enhanced argument management options.\r\n\r\nYou can also order the  `CommandLineRunner` and `ApplicationRunner` beans using Spring&#39;s `@Order` annotation:\r\n\r\n     @Bean\r\n     @Order(1)\r\n     public CommandLineRunner commandLineRunner() {\r\n        return (args) -&gt; System.out.println(&quot;Hello World, Order 1&quot;);\r\n     }\r\n    \r\n     @Bean\r\n     @Order(2)\r\n     public CommandLineRunner commandLineRunner() {\r\n        return (args) -&gt; System.out.println(&quot;Hello World, Order 2&quot;);\r\n     }\r\n\r\n**Using Spring Boot&#39;s ContextRefreshedEvent:**\r\n\r\nSpring Boot publishes several events at startup. These events indicate the completion of a phase in the application startup process. You can listen to the `ContextRefreshedEvent` and execute custom code: \r\n\r\n    @EventListener(ContextRefreshedEvent.class)\r\n    public void execute() {\r\n        if(alreadyDone) {\r\n          return;\r\n        }\r\n        System.out.println(&quot;hello world&quot;);\r\n    } \r\n\r\n`ContextRefreshedEvent` is published several times. Thus, ensure to put a check whether the code execution is already finished.","title":"Running code after Spring Boot starts","body":"<p>You have several choices:</p>\n<p><strong>Using <code>CommandLineRunner</code> or <code>ApplicationRunner</code> as a Bean definition:</strong></p>\n<p>Spring Boot executes these towards the end of the application startup process. In most circumstances, the <code>CommandLineRunner</code> will do the job. Following is an example of a CommandLineRunner implementation with Java 8:</p>\n<pre><code>@Bean\npublic CommandLineRunner commandLineRunner() {\n   return (args) -&gt; System.out.println(&quot;Hello World&quot;);\n}\n</code></pre>\n<p>Note that the <code>args</code> is the String array of arguments. You can also provide an implementation of this interface and define it as a Spring Component:</p>\n<pre><code>@Component\npublic class MyCommandLineRunner implements CommandLineRunner {\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>You can use the <code>ApplicationRunner</code> if you need better argument management. ApplicationRunner takes an <code>ApplicationArguments</code> instance that has enhanced argument management options.</p>\n<p>You can also order the  <code>CommandLineRunner</code> and <code>ApplicationRunner</code> beans using Spring's <code>@Order</code> annotation:</p>\n<pre><code> @Bean\n @Order(1)\n public CommandLineRunner commandLineRunner() {\n    return (args) -&gt; System.out.println(&quot;Hello World, Order 1&quot;);\n }\n\n @Bean\n @Order(2)\n public CommandLineRunner commandLineRunner() {\n    return (args) -&gt; System.out.println(&quot;Hello World, Order 2&quot;);\n }\n</code></pre>\n<p><strong>Using Spring Boot's ContextRefreshedEvent:</strong></p>\n<p>Spring Boot publishes several events at startup. These events indicate the completion of a phase in the application startup process. You can listen to the <code>ContextRefreshedEvent</code> and execute custom code:</p>\n<pre><code>@EventListener(ContextRefreshedEvent.class)\npublic void execute() {\n    if(alreadyDone) {\n      return;\n    }\n    System.out.println(&quot;hello world&quot;);\n} \n</code></pre>\n<p><code>ContextRefreshedEvent</code> is published several times. Thus, ensure to put a check whether the code execution is already finished.</p>\n"},{"tags":[],"owner":{"display_name":"user11116209"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1671824978,"creation_date":1633020202,"answer_id":69396011,"question_id":27405713,"body_markdown":"Spring boot provides an ApplicationRunner interface with a run() method to be invoked at application startup.\r\n However, instead of raw String arguments passed to the callback method, we have an instance of the ApplicationArguments class.\r\n\r\n    @Component\r\n    public class AppStartupRunner implements ApplicationRunner {\r\n    \r\n        @Override\r\n        public void run(ApplicationArguments args) throws Exception {\r\n            //some logic here\r\n        }\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Spring boot provides an ApplicationRunner interface with a run() method to be invoked at application startup.\nHowever, instead of raw String arguments passed to the callback method, we have an instance of the ApplicationArguments class.</p>\n<pre><code>@Component\npublic class AppStartupRunner implements ApplicationRunner {\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        //some logic here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667016116,"creation_date":1667016116,"answer_id":74242736,"question_id":27405713,"body_markdown":"If you mean running peace of code once after the application started, you can use the CommandLineRunner as below:\r\n\r\n\r\n    @SpringBootApplication\r\n    public class SpringBootApplication \r\n      implements CommandLineRunner {\r\n\r\n    private static Logger LOG = LoggerFactory\r\n      .getLogger(SpringBootConsoleApplication.class);\r\n\r\n    public static void main(String[] args) {\r\n        LOG.info(&quot;STARTING THE APPLICATION&quot;);\r\n        SpringApplication.run(SpringBootConsoleApplication.class, args);\r\n        LOG.info(&quot;APPLICATION FINISHED&quot;);\r\n    }\r\n \r\n    @Override\r\n    public void run(String... args) {\r\n        // enter code you want to run after app loaded here\r\n        LOG.info(&quot;EXECUTING : command line runner&quot;);\r\n \r\n        for (int i = 0; i &lt; args.length; ++i) {\r\n            LOG.info(&quot;args[{}]: {}&quot;, i, args[i]);\r\n        }\r\n    }\r\n}\r\n\r\nOtherwise, you can use the DevTools dependency, which help you to run new codes without manually restarting the application.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\ndon&#39;t forget to add these codes to your pom.xml to avoid version warnings:\r\n   \r\n\r\n       &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n\r\n     &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\ngive it a thump up if this was helpful to you!","title":"Running code after Spring Boot starts","body":"<p>If you mean running peace of code once after the application started, you can use the CommandLineRunner as below:</p>\n<pre><code>@SpringBootApplication\npublic class SpringBootApplication \n  implements CommandLineRunner {\n\nprivate static Logger LOG = LoggerFactory\n  .getLogger(SpringBootConsoleApplication.class);\n\npublic static void main(String[] args) {\n    LOG.info(&quot;STARTING THE APPLICATION&quot;);\n    SpringApplication.run(SpringBootConsoleApplication.class, args);\n    LOG.info(&quot;APPLICATION FINISHED&quot;);\n}\n\n@Override\npublic void run(String... args) {\n    // enter code you want to run after app loaded here\n    LOG.info(&quot;EXECUTING : command line runner&quot;);\n\n    for (int i = 0; i &lt; args.length; ++i) {\n        LOG.info(&quot;args[{}]: {}&quot;, i, args[i]);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Otherwise, you can use the DevTools dependency, which help you to run new codes without manually restarting the application.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>don't forget to add these codes to your pom.xml to avoid version warnings:</p>\n<pre><code>   &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>give it a thump up if this was helpful to you!</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680198026,"creation_date":1680198026,"answer_id":75891373,"question_id":27405713,"body_markdown":"I found Andy Brown&#39;s answer useful, indicating that `SmartInitializingSingleton` was better for doing some non-asynchronous task that is required before a successful start.\r\n\r\nTo give a concrete example, the great book [_Cloud Native Spring in Action_][1] (Manning, 2022) by Thomas Vitale gives the following example on page 122 for loading test data based upon a `testdata` profile by listening for `ApplicationReadyEvent`:\r\n\r\n```java\r\n@Component\r\n@Profile(&quot;testdata&quot;)\r\npublic class BookDataLoader {\r\n  private final BookRepository bookRepository;\r\n\r\n  public BookDataLoader(BookRepository bookRepository) {\r\n    this.bookRepository = bookRepository;\r\n  }\r\n\r\n  @EventListener(ApplicationReadyEvent.class)\r\n  public void loadBookTestData() {\r\n    var book1 = new Book(&quot;1234567891&quot;, &quot;Northern Lights&quot;,\r\n        &quot;Lyra Silverstar&quot;, 9.90);\r\n    var book2 = new Book(&quot;1234567892&quot;, &quot;Polar Journey&quot;,\r\n        &quot;Iorek Polarson&quot;, 12.90);\r\n    bookRepository.save(book1);\r\n    bookRepository.save(book2);\r\n  }\r\n}\r\n```\r\n\r\nTaking Andy Brown&#39;s advice, the same functionality could be implemented using `SmartInitializingSingleton` like this:\r\n\r\n\r\n```java\r\n@Component\r\n@Profile(&quot;testdata&quot;)\r\npublic class BookDataLoader implements SmartInitializingSingleton {\r\n  private final BookRepository bookRepository;\r\n\r\n  public BookDataLoader(BookRepository bookRepository) {\r\n    this.bookRepository = bookRepository;\r\n  }\r\n\r\n  @Override\r\n  public void afterSingletonsInstantiated() {\r\n    var book1 = new Book(&quot;1234567891&quot;, &quot;Northern Lights&quot;,\r\n        &quot;Lyra Silverstar&quot;, 9.90);\r\n    var book2 = new Book(&quot;1234567892&quot;, &quot;Polar Journey&quot;,\r\n        &quot;Iorek Polarson&quot;, 12.90);\r\n    bookRepository.save(book1);\r\n    bookRepository.save(book2);\r\n  }\r\n}\r\n```\r\n\r\nNote that the only differences are 1) implementing `SmartInitializingSingleton` and 2) overriding `afterSingletonsInstantiated()` instead of annotating an arbitrary method with `@EventListener(ApplicationReadyEvent.class)`.\r\n\r\nThis approach is working in my application, and the semantics of `SmartInitializingSingleton` do seem to be a better fit for data initialization, based upon the Spring documentation and comments in the other answers here.\r\n\r\n  [1]: https://www.manning.com/books/cloud-native-spring-in-action","title":"Running code after Spring Boot starts","body":"<p>I found Andy Brown's answer useful, indicating that <code>SmartInitializingSingleton</code> was better for doing some non-asynchronous task that is required before a successful start.</p>\n<p>To give a concrete example, the great book <a href=\"https://www.manning.com/books/cloud-native-spring-in-action\" rel=\"nofollow noreferrer\"><em>Cloud Native Spring in Action</em></a> (Manning, 2022) by Thomas Vitale gives the following example on page 122 for loading test data based upon a <code>testdata</code> profile by listening for <code>ApplicationReadyEvent</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Profile(&quot;testdata&quot;)\npublic class BookDataLoader {\n  private final BookRepository bookRepository;\n\n  public BookDataLoader(BookRepository bookRepository) {\n    this.bookRepository = bookRepository;\n  }\n\n  @EventListener(ApplicationReadyEvent.class)\n  public void loadBookTestData() {\n    var book1 = new Book(&quot;1234567891&quot;, &quot;Northern Lights&quot;,\n        &quot;Lyra Silverstar&quot;, 9.90);\n    var book2 = new Book(&quot;1234567892&quot;, &quot;Polar Journey&quot;,\n        &quot;Iorek Polarson&quot;, 12.90);\n    bookRepository.save(book1);\n    bookRepository.save(book2);\n  }\n}\n</code></pre>\n<p>Taking Andy Brown's advice, the same functionality could be implemented using <code>SmartInitializingSingleton</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Profile(&quot;testdata&quot;)\npublic class BookDataLoader implements SmartInitializingSingleton {\n  private final BookRepository bookRepository;\n\n  public BookDataLoader(BookRepository bookRepository) {\n    this.bookRepository = bookRepository;\n  }\n\n  @Override\n  public void afterSingletonsInstantiated() {\n    var book1 = new Book(&quot;1234567891&quot;, &quot;Northern Lights&quot;,\n        &quot;Lyra Silverstar&quot;, 9.90);\n    var book2 = new Book(&quot;1234567892&quot;, &quot;Polar Journey&quot;,\n        &quot;Iorek Polarson&quot;, 12.90);\n    bookRepository.save(book1);\n    bookRepository.save(book2);\n  }\n}\n</code></pre>\n<p>Note that the only differences are 1) implementing <code>SmartInitializingSingleton</code> and 2) overriding <code>afterSingletonsInstantiated()</code> instead of annotating an arbitrary method with <code>@EventListener(ApplicationReadyEvent.class)</code>.</p>\n<p>This approach is working in my application, and the semantics of <code>SmartInitializingSingleton</code> do seem to be a better fit for data initialization, based upon the Spring documentation and comments in the other answers here.</p>\n"}],"owner":{"account_id":474494,"reputation":4395,"user_id":884203,"display_name":"stewsters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472148,"favorite_count":0,"down_vote_count":0,"up_vote_count":422,"accepted_answer_id":27405775,"answer_count":19,"score":422,"last_activity_date":1680198026,"creation_date":1418227928,"question_id":27405713,"body_markdown":"I want to run code after my **spring-boot** app starts to monitor a directory for changes.  \r\n\r\nI have tried running a new thread but the `@Autowired` services have not been set at that point.\r\n\r\nI have been able to find `ApplicationPreparedEvent`, which fires before the `@Autowired` annotations are set.  Ideally I would like the event to fire once the application is ready to process http requests.\r\n\r\nIs there a better event to use, or a better way of running code after the application is live in **spring-boot**?","title":"Running code after Spring Boot starts","body":"<p>I want to run code after my <strong>spring-boot</strong> app starts to monitor a directory for changes.  </p>\n\n<p>I have tried running a new thread but the <code>@Autowired</code> services have not been set at that point.</p>\n\n<p>I have been able to find <code>ApplicationPreparedEvent</code>, which fires before the <code>@Autowired</code> annotations are set.  Ideally I would like the event to fire once the application is ready to process http requests.</p>\n\n<p>Is there a better event to use, or a better way of running code after the application is live in <strong>spring-boot</strong>?</p>\n"},{"tags":["java","spring-boot","cron","scheduler"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1680173393,"post_id":75887131,"comment_id":133854739,"body_markdown":"Take a look at [this](https://stackoverflow.com/questions/28808588/how-to-run-spring-scheduled-jobs-only-in-specific-year)","body":"Take a look at <a href=\"https://stackoverflow.com/questions/28808588/how-to-run-spring-scheduled-jobs-only-in-specific-year\">this</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680174922,"post_id":75887131,"comment_id":133855146,"body_markdown":"Quartz supports years in its cron expressions: [CronExpression](http://www.quartz-scheduler.org/api/2.3.0/org/quartz/CronExpression.html). See also [Scheduling in Spring with Quartz](https://www.baeldung.com/spring-quartz-schedule). Caveat: I have never tried scheduling a job using a year (never needed it).","body":"Quartz supports years in its cron expressions: <a href=\"http://www.quartz-scheduler.org/api/2.3.0/org/quartz/CronExpression.html\" rel=\"nofollow noreferrer\">CronExpression</a>. See also <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">Scheduling in Spring with Quartz</a>. Caveat: I have never tried scheduling a job using a year (never needed it)."}],"answers":[{"tags":[],"owner":{"account_id":11260582,"reputation":102,"user_id":8259045,"display_name":"T4puSD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680197873,"creation_date":1680181922,"answer_id":75888713,"question_id":75887131,"body_markdown":"First of all cron jobs are those jobs which will be run repeatedly given the cron expression. So you can&#39;t express a job which will be run only once with it.\r\n\r\n\r\nWhat you need is `ThreadPoolTaskScheduler` it supports execution of runnable once with a given instant as a parameter of its `schedule` method.\r\n\r\n1. Create an `AppConfig.java` file and expose a bean of `ThreadPoolTaskScheduler`\r\n\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\r\n        return ThreadPoolTaskScheduler();\r\n    }\r\n    \r\n}\r\n```\r\n\r\n2. Create a `TaskExecutorService.java` file and inject the created bean of `ThreadPoolTaskScheduler` and use that to schedule any runnable task like follow:\r\n\r\n```java\r\n@Service\r\npublic class TaskExecutorService {\r\n\r\n    private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\r\n\r\n    @Autowired\r\n    public TaskExecutorService(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\r\n        this.threadPoolTaskScheduler = threadPoolTaskScheduler;\r\n    }\r\n\r\n    public void scheduleOnce(Runnable runnable, Instant runAt) {\r\n        threadPoolTaskScheduler.schedule(runnable, runAt);\r\n    }\r\n}\r\n```\r\n3. Now use the `scheduleOnce` method to schedule your task with any time and date you like.\r\n\r\nCheck out this blog post for reference. `https://www.baeldung.com/spring-task-scheduler#threadpooltaskscheduler`","title":"Cron expression for particular date with year","body":"<p>First of all cron jobs are those jobs which will be run repeatedly given the cron expression. So you can't express a job which will be run only once with it.</p>\n<p>What you need is <code>ThreadPoolTaskScheduler</code> it supports execution of runnable once with a given instant as a parameter of its <code>schedule</code> method.</p>\n<ol>\n<li>Create an <code>AppConfig.java</code> file and expose a bean of <code>ThreadPoolTaskScheduler</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\n        return ThreadPoolTaskScheduler();\n    }\n    \n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a <code>TaskExecutorService.java</code> file and inject the created bean of <code>ThreadPoolTaskScheduler</code> and use that to schedule any runnable task like follow:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TaskExecutorService {\n\n    private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\n\n    @Autowired\n    public TaskExecutorService(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\n        this.threadPoolTaskScheduler = threadPoolTaskScheduler;\n    }\n\n    public void scheduleOnce(Runnable runnable, Instant runAt) {\n        threadPoolTaskScheduler.schedule(runnable, runAt);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Now use the <code>scheduleOnce</code> method to schedule your task with any time and date you like.</li>\n</ol>\n<p>Check out this blog post for reference. <code>https://www.baeldung.com/spring-task-scheduler#threadpooltaskscheduler</code></p>\n"}],"owner":{"account_id":16570175,"reputation":157,"user_id":11973540,"display_name":"jagan mohan Mylapuru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680197873,"creation_date":1680172578,"question_id":75887131,"body_markdown":"*I want to schedule a cron job using @Scheduler annotation. My requirement is to generate a job on 30 March 2023 5:30PM.*\r\n\r\n&gt;I can able to add date time and day using the expression\r\n```@Scheduler(crons = &quot;0 30 17 30 3 ?&quot;)``` and this expression working fine\r\n\r\n&gt;But there I can&#39;t add year, if I add year like\r\n```@Scheduler(crons = &quot;0 30 17 30 3 ? 2023&quot;)``` getting exception like \r\n```Cron expression must contain of 6 fields(found 7 in &quot;0 30 17 30 3 ? 2023&quot;)```\r\n\r\n*So, How can I make Cron expression along with year ??, please help me here*","title":"Cron expression for particular date with year","body":"<p><em>I want to schedule a cron job using @Scheduler annotation. My requirement is to generate a job on 30 March 2023 5:30PM.</em></p>\n<blockquote>\n<p>I can able to add date time and day using the expression\n<code>@Scheduler(crons = &quot;0 30 17 30 3 ?&quot;)</code> and this expression working fine</p>\n</blockquote>\n<blockquote>\n<p>But there I can't add year, if I add year like\n<code>@Scheduler(crons = &quot;0 30 17 30 3 ? 2023&quot;)</code> getting exception like\n<code>Cron expression must contain of 6 fields(found 7 in &quot;0 30 17 30 3 ? 2023&quot;)</code></p>\n</blockquote>\n<p><em>So, How can I make Cron expression along with year ??, please help me here</em></p>\n"},{"tags":["java","remote-access","point-of-sale","iso8583","jpos"],"answers":[{"tags":[],"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680197656,"creation_date":1680197656,"answer_id":75891328,"question_id":75887054,"body_markdown":"While some POS software implementations use the ISO-8583 protocol (mostly network management 800-class messages) where you can use jPOS, most others use proprietary protocols and provide their own TMS systems. So unfortunately, the answer to your question is: it depends.","title":"How can I use jPOS-EE library to read pos terminal configuration and change them remotely,","body":"<p>While some POS software implementations use the ISO-8583 protocol (mostly network management 800-class messages) where you can use jPOS, most others use proprietary protocols and provide their own TMS systems. So unfortunately, the answer to your question is: it depends.</p>\n"}],"owner":{"account_id":28167229,"reputation":1,"user_id":21526263,"display_name":"SAMUEL FYNTAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680197656,"creation_date":1680172162,"question_id":75887054,"body_markdown":"How can I monitor, manage and change configurations of POS terminals remotely with the help of java jPOS-EE library \r\n\r\nI am try to manage and monitor POS(Point of Sale) terminals remotely. Knowing who has which POS terminals, what is happening on which POS terminal? Modify POS terminal configurations","title":"How can I use jPOS-EE library to read pos terminal configuration and change them remotely,","body":"<p>How can I monitor, manage and change configurations of POS terminals remotely with the help of java jPOS-EE library</p>\n<p>I am try to manage and monitor POS(Point of Sale) terminals remotely. Knowing who has which POS terminals, what is happening on which POS terminal? Modify POS terminal configurations</p>\n"},{"tags":["java","unit-testing","gradle","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680197306,"creation_date":1680197306,"answer_id":75891285,"question_id":75869616,"body_markdown":"I manage to solve the problem differently.\r\n\r\nFirst, I create custom `IssueProccessor` that implements the corresponding interface in JUnit Pioneer library.\r\n\r\n```java\r\npublic class SimpleIssueProcessor implements IssueProcessor {\r\n\r\n    @Override\r\n    public void processTestResults(List&lt;IssueTestSuite&gt; issueTestSuites) { \r\n        /* this callback receives information about all tests marked with `@Issue` annotation */ \r\n    }\r\n\r\n}\r\n```\r\n\r\nThen I register it as Java ServiceLoader so JUnit uses the instance of the class during its lifecycle. In order to do that, I create a file `src/test/resources/META-INF/services/org.junitpioneer.jupiter.IssueProcessor` with the content below:\r\n\r\n```\r\ncom.my.company.SimpleIssueProcessor\r\n```\r\n\r\nThis is the fully qualified name of the `SimpleIssueProcessor` implementation.\r\n\r\nAnd finally, I create another file `src/test/resources/META-INF/services/org.junit.platform.launcher.TestExecutionListener` with content:\r\n\r\n```\r\norg.junitpioneer.jupiter.issue.IssueExtensionExecutionListener\r\n```\r\n\r\nThat&#39;s the JUnit `TestExecutionListener` provided by JUnit Pioneer library that delegates information to `IssueProcessor` implementation.\r\n\r\n---\r\n\r\nAnd that&#39;s basically it. Now you process the information in `SimpleIssueProcessor` callback and build any documentation you want. ","title":"Add Junit Pioneer @Issue annotation info to Gradle Test Report","body":"<p>I manage to solve the problem differently.</p>\n<p>First, I create custom <code>IssueProccessor</code> that implements the corresponding interface in JUnit Pioneer library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleIssueProcessor implements IssueProcessor {\n\n    @Override\n    public void processTestResults(List&lt;IssueTestSuite&gt; issueTestSuites) { \n        /* this callback receives information about all tests marked with `@Issue` annotation */ \n    }\n\n}\n</code></pre>\n<p>Then I register it as Java ServiceLoader so JUnit uses the instance of the class during its lifecycle. In order to do that, I create a file <code>src/test/resources/META-INF/services/org.junitpioneer.jupiter.IssueProcessor</code> with the content below:</p>\n<pre><code>com.my.company.SimpleIssueProcessor\n</code></pre>\n<p>This is the fully qualified name of the <code>SimpleIssueProcessor</code> implementation.</p>\n<p>And finally, I create another file <code>src/test/resources/META-INF/services/org.junit.platform.launcher.TestExecutionListener</code> with content:</p>\n<pre><code>org.junitpioneer.jupiter.issue.IssueExtensionExecutionListener\n</code></pre>\n<p>That's the JUnit <code>TestExecutionListener</code> provided by JUnit Pioneer library that delegates information to <code>IssueProcessor</code> implementation.</p>\n<hr />\n<p>And that's basically it. Now you process the information in <code>SimpleIssueProcessor</code> callback and build any documentation you want.</p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75891285,"answer_count":1,"score":2,"last_activity_date":1680197306,"creation_date":1680026666,"question_id":75869616,"body_markdown":"I put [@Issue](https://junit-pioneer.org/docs/issue/) annotation from [JUnit Pioneer library](https://junit-pioneer.org/) on my test suites. Look at the code snippet below:\r\n\r\n```java\r\n@Test\r\n@Issue(&quot;TY-5232&quot;)\r\nvoid shouldReturn200IfTryingToCreateNewAccountWithAvailableName() {...}\r\n```\r\n\r\nAlso, I&#39;m using [Gradle Test Report](https://stackoverflow.com/questions/25963554/how-to-make-gradle-build-produce-html-test-report-instead-of-xml-default) to produce HTML report of tests&#39; results.\r\nI wonder is to possible to add information about issue to the Gradle test report? I&#39;d like to see which test belongs to particular task.\r\n\r\nPerhaps I need to register some callback but I didn&#39;t find specific way to do it. Any ideas?","title":"Add Junit Pioneer @Issue annotation info to Gradle Test Report","body":"<p>I put <a href=\"https://junit-pioneer.org/docs/issue/\" rel=\"nofollow noreferrer\">@Issue</a> annotation from <a href=\"https://junit-pioneer.org/\" rel=\"nofollow noreferrer\">JUnit Pioneer library</a> on my test suites. Look at the code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@Issue(&quot;TY-5232&quot;)\nvoid shouldReturn200IfTryingToCreateNewAccountWithAvailableName() {...}\n</code></pre>\n<p>Also, I'm using <a href=\"https://stackoverflow.com/questions/25963554/how-to-make-gradle-build-produce-html-test-report-instead-of-xml-default\">Gradle Test Report</a> to produce HTML report of tests' results.\nI wonder is to possible to add information about issue to the Gradle test report? I'd like to see which test belongs to particular task.</p>\n<p>Perhaps I need to register some callback but I didn't find specific way to do it. Any ideas?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1680253781,"post_id":75891216,"comment_id":133870449,"body_markdown":"In the best case, the optimizer should replace the entire loop with the predictable result. But unless you have an up-to-date JVM, even using `long` instead of `int` for the loop counter may cause the JVM to skip some optimizations. Besides that, the specific behavior `Long.valueOf(long)` prevents “ordinary” Escape Analysis, so it will only get optimized if the JVM has specific optimizations for *boxing* operations.","body":"In the best case, the optimizer should replace the entire loop with the predictable result. But unless you have an up-to-date JVM, even using <code>long</code> instead of <code>int</code> for the loop counter may cause the JVM to skip some optimizations. Besides that, the specific behavior <code>Long.valueOf(long)</code> prevents “ordinary” Escape Analysis, so it will only get optimized if the JVM has specific optimizations for <i>boxing</i> operations."}],"owner":{"account_id":5891674,"reputation":33,"user_id":4638081,"display_name":"batinex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680197165,"creation_date":1680196850,"question_id":75891216,"body_markdown":"There is a very known example of why you should not use boxed variables like Integer for summing an array.\r\n```\r\nLong sum = 0;\r\nfor(long i = 0; i &lt; Integer.MAX_VALUE; i++){\r\n sum += i;\r\n}\r\n```\r\nShould not JIT recognize this pattern and replaced this with primitive type? Even if not, should not it be optimized due to escape analysis and variables should be allocated on the stack, not a heap?","title":"Escape analysis and JIT optimization in simple sum loop","body":"<p>There is a very known example of why you should not use boxed variables like Integer for summing an array.</p>\n<pre><code>Long sum = 0;\nfor(long i = 0; i &lt; Integer.MAX_VALUE; i++){\n sum += i;\n}\n</code></pre>\n<p>Should not JIT recognize this pattern and replaced this with primitive type? Even if not, should not it be optimized due to escape analysis and variables should be allocated on the stack, not a heap?</p>\n"},{"tags":["java","sql-server","spring","spring-data-jpa","triggers"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680196381,"post_id":75891141,"comment_id":133861229,"body_markdown":"There is no pseudo table `updated`, so if you aren&#39;t getting an error from referencing a table called `updated` that means it&#39;s referencing a *literal* table, probably `dbo.updated`. I doubt that is desired behaviour.","body":"There is no pseudo table <code>updated</code>, so if you aren&#39;t getting an error from referencing a table called <code>updated</code> that means it&#39;s referencing a <i>literal</i> table, probably <code>dbo.updated</code>. I doubt that is desired behaviour."},{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680196459,"post_id":75891141,"comment_id":133861245,"body_markdown":"On a different note, returning a result set from a `TRIGGER` is deprecated and should not be done. If you need to return a result set while performing a DML operation, use an `OUTPUT` clause on DML statement.","body":"On a different note, returning a result set from a <code>TRIGGER</code> is deprecated and should not be done. If you need to return a result set while performing a DML operation, use an <code>OUTPUT</code> clause on DML statement."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680196644,"post_id":75891141,"comment_id":133861298,"body_markdown":"The code base itself is ancient. So the database, well you can guess.  Nothing I can really do about the database. \n\nAnd about the trigger, I just add the updated part. If you remove it and keep the inserted part only =&gt; you will still face the same problem","body":"The code base itself is ancient. So the database, well you can guess.  Nothing I can really do about the database.   And about the trigger, I just add the updated part. If you remove it and keep the inserted part only =&gt; you will still face the same problem"},{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680196728,"post_id":75891141,"comment_id":133861321,"body_markdown":"Because you&#39;re still returning a result set in the trigger; don&#39;t. Switch to an `OUTPUT` clause.","body":"Because you&#39;re still returning a result set in the trigger; don&#39;t. Switch to an <code>OUTPUT</code> clause."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680196820,"post_id":75891141,"comment_id":133861341,"body_markdown":"I just made a prototype of the code base I&#39;m talking about. I don&#39;t even have the authority to view the trigger man. That&#39;s why I&#39;m asking for help. Blaming me won&#39;t help","body":"I just made a prototype of the code base I&#39;m talking about. I don&#39;t even have the authority to view the trigger man. That&#39;s why I&#39;m asking for help. Blaming me won&#39;t help"},{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680196895,"post_id":75891141,"comment_id":133861362,"body_markdown":"I&#39;m not &quot;blaming&quot; anyone; I&#39;m telling you about a problem in your SQL and the solution to fix that problem.","body":"I&#39;m not &quot;blaming&quot; anyone; I&#39;m telling you about a problem in your SQL and the solution to fix that problem."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680197540,"post_id":75891141,"comment_id":133861504,"body_markdown":"Is spring jdbctemplate an option for you to use instead of JPA/entitymanager? That way you are permitted to manage the transaction.","body":"Is spring jdbctemplate an option for you to use instead of JPA/entitymanager? That way you are permitted to manage the transaction."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1680212729,"post_id":75891141,"comment_id":133864819,"body_markdown":"Nobody&#39;s blaming you here, they&#39;re just pointing out that the database design is flawed and needs to be fixed. Triggers emitting results sets like this is non-standard behaviour and causes problems with applications and ORMs that aren&#39;t expecting them - which is why JPA is complaining about result sets getting returned from an `update` statement in the first place. You need to speak with the people responsible and convince them to fix their breakage. Otherwise you&#39;re going to have to write a bunch of custom code to avoid the issue, which invalidates the usefulness of JPA or any other ORM.","body":"Nobody&#39;s blaming you here, they&#39;re just pointing out that the database design is flawed and needs to be fixed. Triggers emitting results sets like this is non-standard behaviour and causes problems with applications and ORMs that aren&#39;t expecting them - which is why JPA is complaining about result sets getting returned from an <code>update</code> statement in the first place. You need to speak with the people responsible and convince them to fix their breakage. Otherwise you&#39;re going to have to write a bunch of custom code to avoid the issue, which invalidates the usefulness of JPA or any other ORM."}],"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680197015,"creation_date":1680196223,"question_id":75891141,"body_markdown":"I am having a problem regarding the SQL trigger. I&#39;m using Spring Boot, Spring Data Jpa and SQL Server. The code below is probably a prototype of the code base I&#39;m working with because I don&#39;t even have the authority to view the trigger.\r\n\r\nTable\r\n```\r\nCREATE TABLE french.dbo.jhi_user (\r\n\tid bigint NOT NULL,\r\n\tname varchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,\r\n\tCONSTRAINT PK__jhi_user__3213E83F70EE20E8 PRIMARY KEY (id)\r\n);\r\n```\r\n\r\nTrigger (just pretend I have deleted in here also)\r\n```\r\nCREATE TRIGGER tr_jhi_user\r\nON jhi_user\r\nAFTER INSERT, UPDATE\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    IF EXISTS(SELECT * FROM inserted)\r\n    BEGIN\r\n        SELECT &#39;inserted&#39; AS action, inserted.*\r\n        FROM inserted\r\n    END;\r\n\r\n    IF EXISTS(SELECT * FROM updated)\r\n    BEGIN\r\n        SELECT &#39;updated&#39; AS action, updated.*\r\n        FROM updated\r\n    END;\r\nEND;\r\n```\r\n\r\n1. Whenever I use a method from Repository (**save**, **delete**) but using **get() is fine** =&gt; an error showed up: **com.microsoft.sqlserver.jdbc.SQLServerException: A result set was generated for update** \r\n2. The same thing happens when I tried to use persist() from EntityManager the same error happened\r\n\r\n2.1. if I use the Entity Manager to get the current transaction without @Transactional (Because I suspect it might be a transaction problem) \r\n```\r\nentityManager.getTransaction().begin();\r\nentityManager.persist(userMapper.toEntity(userDTO));\r\nentityManager.getTransaction().commit();\r\nentityManager.close();\r\n```\r\nthen I have this error: java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\r\n\r\n3. If I use any Native Query =&gt; it&#39;s fine but the thing is I don&#39;t want to fill 40+ attributes manually...\r\n\r\n4. If I get the entity and edit it (managed entity after editing the changes will be persisted to the database) =&gt; Nothing happens. No error whatsoever but the entity remains unchanged\r\n\r\n**QUESTION**: How can I use repository method or EntityManager persist() if my entity has a trigger like this without modifying/turn the trigger on off or using Native Query.","title":"Insert/Update/Delete an entity in a table using repository method or Entity Manager has trigger return the modified value","body":"<p>I am having a problem regarding the SQL trigger. I'm using Spring Boot, Spring Data Jpa and SQL Server. The code below is probably a prototype of the code base I'm working with because I don't even have the authority to view the trigger.</p>\n<p>Table</p>\n<pre><code>CREATE TABLE french.dbo.jhi_user (\n    id bigint NOT NULL,\n    name varchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,\n    CONSTRAINT PK__jhi_user__3213E83F70EE20E8 PRIMARY KEY (id)\n);\n</code></pre>\n<p>Trigger (just pretend I have deleted in here also)</p>\n<pre><code>CREATE TRIGGER tr_jhi_user\nON jhi_user\nAFTER INSERT, UPDATE\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    IF EXISTS(SELECT * FROM inserted)\n    BEGIN\n        SELECT 'inserted' AS action, inserted.*\n        FROM inserted\n    END;\n\n    IF EXISTS(SELECT * FROM updated)\n    BEGIN\n        SELECT 'updated' AS action, updated.*\n        FROM updated\n    END;\nEND;\n</code></pre>\n<ol>\n<li>Whenever I use a method from Repository (<strong>save</strong>, <strong>delete</strong>) but using <strong>get() is fine</strong> =&gt; an error showed up: <strong>com.microsoft.sqlserver.jdbc.SQLServerException: A result set was generated for update</strong></li>\n<li>The same thing happens when I tried to use persist() from EntityManager the same error happened</li>\n</ol>\n<p>2.1. if I use the Entity Manager to get the current transaction without @Transactional (Because I suspect it might be a transaction problem)</p>\n<pre><code>entityManager.getTransaction().begin();\nentityManager.persist(userMapper.toEntity(userDTO));\nentityManager.getTransaction().commit();\nentityManager.close();\n</code></pre>\n<p>then I have this error: java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead</p>\n<ol start=\"3\">\n<li><p>If I use any Native Query =&gt; it's fine but the thing is I don't want to fill 40+ attributes manually...</p>\n</li>\n<li><p>If I get the entity and edit it (managed entity after editing the changes will be persisted to the database) =&gt; Nothing happens. No error whatsoever but the entity remains unchanged</p>\n</li>\n</ol>\n<p><strong>QUESTION</strong>: How can I use repository method or EntityManager persist() if my entity has a trigger like this without modifying/turn the trigger on off or using Native Query.</p>\n"},{"tags":["java","liquibase"],"comments":[{"owner":{"account_id":19780941,"reputation":289,"user_id":14485982,"display_name":"Barry"},"score":0,"creation_date":1680193712,"post_id":75890666,"comment_id":133860558,"body_markdown":"Have you tried running `liquibase update` to run the changeset ?","body":"Have you tried running <code>liquibase update</code> to run the changeset ?"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":0,"creation_date":1680195737,"post_id":75890666,"comment_id":133861056,"body_markdown":"I just tried it and posted the result","body":"I just tried it and posted the result"},{"owner":{"account_id":19780941,"reputation":289,"user_id":14485982,"display_name":"Barry"},"score":0,"creation_date":1680196129,"post_id":75890666,"comment_id":133861154,"body_markdown":"Yeah the error you posted tells that liquibase is not installed in your system. Follow this link to see the installation process https://docs.liquibase.com/start/install/liquibase-windows.html. Another possiblity is that liquibase is installed on your system but the binary path is not added to your path environment variable","body":"Yeah the error you posted tells that liquibase is not installed in your system. Follow this link to see the installation process <a href=\"https://docs.liquibase.com/start/install/liquibase-windows.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/start/install/liquibase-windows.html</a>. Another possiblity is that liquibase is installed on your system but the binary path is not added to your path environment variable"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":0,"creation_date":1680196836,"post_id":75890666,"comment_id":133861346,"body_markdown":"I install liquibase and change result","body":"I install liquibase and change result"},{"owner":{"account_id":19780941,"reputation":289,"user_id":14485982,"display_name":"Barry"},"score":0,"creation_date":1680197263,"post_id":75890666,"comment_id":133861445,"body_markdown":"Yeah you need to precise path to the changelog file using the --changelog-file param. Specially given that the project wasn&#39;t initialized. So you would run something like `liquibase update --changelog-file /path/to/your/changelog/file`","body":"Yeah you need to precise path to the changelog file using the --changelog-file param. Specially given that the project wasn&#39;t initialized. So you would run something like <code>liquibase update --changelog-file &#47;path&#47;to&#47;your&#47;changelog&#47;file</code>"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":0,"creation_date":1680198436,"post_id":75890666,"comment_id":133861701,"body_markdown":"when i use this command this error appears:\nInvalid argument &#39;--url&#39;:","body":"when i use this command this error appears: Invalid argument &#39;--url&#39;:"},{"owner":{"account_id":19780941,"reputation":289,"user_id":14485982,"display_name":"Barry"},"score":0,"creation_date":1680199000,"post_id":75890666,"comment_id":133861826,"body_markdown":"Yes i just seen the docs, and so liquibase update need more than the --changelog-file, it also need the `--url , --username, --password` arguments. So your full command would look like this `liquibase update --changelog-file /path --url connectionString --username YOUR_DB_USER_NAME --password YOUR_DB_USER_PASSWORD`. But instead of precising all thoses arguments in the terminal, you can also use a configuration file. Here is a link that explains how to setup a configuration file https://docs.liquibase.com/concepts/connections/creating-config-properties.html","body":"Yes i just seen the docs, and so liquibase update need more than the --changelog-file, it also need the <code>--url , --username, --password</code> arguments. So your full command would look like this <code>liquibase update --changelog-file &#47;path --url connectionString --username YOUR_DB_USER_NAME --password YOUR_DB_USER_PASSWORD</code>. But instead of precising all thoses arguments in the terminal, you can also use a configuration file. Here is a link that explains how to setup a configuration file <a href=\"https://docs.liquibase.com/concepts/connections/creating-config-properties.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/concepts/connections/&hellip;</a>"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":0,"creation_date":1680201086,"post_id":75890666,"comment_id":133862288,"body_markdown":"thanks for all your help, I&#39;ll check it out tomorrow as i have to go to work now","body":"thanks for all your help, I&#39;ll check it out tomorrow as i have to go to work now"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":1,"creation_date":1680594400,"post_id":75890666,"comment_id":133920334,"body_markdown":"When I wanted to use this command I noticed that I had a small typo in the folder. And now everything works, thank you very much","body":"When I wanted to use this command I noticed that I had a small typo in the folder. And now everything works, thank you very much"}],"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680196818,"creation_date":1680193052,"question_id":75890666,"body_markdown":"I wanted to create  table in the database using liquibase but he don&#39;t appear and I get an error about missing table. Can someone tell me what am I doing wrong?\r\n\r\nIn application.yml I have spring.jpa.hibernate.ddl-auto=validate\r\n\r\ncreate-activities-table.xml:\r\n\r\n```\r\n&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                   xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd&quot;&gt;\r\n\r\n    &lt;changeSet author=&quot;Damian Malicki&quot; id=&quot;create-activities-table.xml&quot;&gt;\r\n        &lt;createTable tableName=&quot;activity&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;description&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;created_by_id&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;type&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;created_on&quot; type=&quot;datetime&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n&lt;/databaseChangeLog&gt;\r\n```\r\n\r\ndatabase changelog:\r\n\r\n```\r\ndatabaseChangeLog:\r\n  - include:\r\n      file: classpath:db/changelog/activities/create-activities-table.xml\r\n```\r\n\r\n\r\n\r\n\r\nActivityEntity:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;activity&quot;)\r\npublic class ActivityEntity {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n    @Column(name = &quot;created_by_id&quot;)\r\n    private String createdById;\r\n    @Column(name = &quot;type&quot;)\r\n    private ActivityType type;\r\n    @Column(name = &quot;created_on&quot;)\r\n    private LocalDateTime createdOn;\r\n//    @OneToMany(mappedBy = &quot;activitiesId&quot;)\r\n//    private List&lt;ActivityParamEntity&gt; activityParamEntityList;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;ve already tried to rewrite the code, rewrite it and nothing change.\r\n\r\nWhen I try liquibase update it appeared:\r\n\r\n```\r\n#################################################### \r\n##   _     _             _ _                      ## \r\n##  | |   (_)           (_) |                     ## \r\n##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ## \r\n##  | |   | |/ _` | | | | | &#39;_ \\ / _` / __|/ _ \\  ## \r\n##  | |___| | (_| | |_| | | |_) | (_| \\__ \\  __/  ## \r\n##  \\_____/_|\\__, |\\__,_|_|_.__/ \\__,_|___/\\___|  ## \r\n##              | |                               ## \r\n##              |_|                               ## \r\n##                                                ## \r\n##  Get documentation at docs.liquibase.com       ## \r\n##  Get certified courses at learn.liquibase.com  ##\r\n##  Free schema change activity reports at        ##\r\n##      https://hub.liquibase.com                 ##\r\n##                                                ##\r\n####################################################\r\nStarting Liquibase at 19:19:11 (version 4.19.0 #6648 built at 2023-01-17 15:02+0000)\r\nLiquibase Version: 4.19.0\r\nLiquibase Open Source 4.19.0 by Liquibase\r\nError parsing command line: Invalid argument &#39;--changelog-file&#39;: missing required argument. If you need to configure new liquibase project files and arguments, run the &#39;liquibase init \r\nproject&#39; command.\r\n\r\nFor detailed help, try &#39;liquibase --help&#39; or &#39;liquibase &lt;command-name&gt; --help&#39;\r\n\r\n\r\n```","title":"Schema-validation: missing table","body":"<p>I wanted to create  table in the database using liquibase but he don't appear and I get an error about missing table. Can someone tell me what am I doing wrong?</p>\n<p>In application.yml I have spring.jpa.hibernate.ddl-auto=validate</p>\n<p>create-activities-table.xml:</p>\n<pre><code>&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                   xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd&quot;&gt;\n\n    &lt;changeSet author=&quot;Damian Malicki&quot; id=&quot;create-activities-table.xml&quot;&gt;\n        &lt;createTable tableName=&quot;activity&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;varchar(255)&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;description&quot; type=&quot;varchar(255)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;created_by_id&quot; type=&quot;varchar(255)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;type&quot; type=&quot;varchar(255)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;created_on&quot; type=&quot;datetime&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>database changelog:</p>\n<pre><code>databaseChangeLog:\n  - include:\n      file: classpath:db/changelog/activities/create-activities-table.xml\n</code></pre>\n<p>ActivityEntity:</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;activity&quot;)\npublic class ActivityEntity {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    @Column(name = &quot;description&quot;)\n    private String description;\n    @Column(name = &quot;created_by_id&quot;)\n    private String createdById;\n    @Column(name = &quot;type&quot;)\n    private ActivityType type;\n    @Column(name = &quot;created_on&quot;)\n    private LocalDateTime createdOn;\n//    @OneToMany(mappedBy = &quot;activitiesId&quot;)\n//    private List&lt;ActivityParamEntity&gt; activityParamEntityList;\n\n\n}\n\n</code></pre>\n<p>I've already tried to rewrite the code, rewrite it and nothing change.</p>\n<p>When I try liquibase update it appeared:</p>\n<pre><code>#################################################### \n##   _     _             _ _                      ## \n##  | |   (_)           (_) |                     ## \n##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ## \n##  | |   | |/ _` | | | | | '_ \\ / _` / __|/ _ \\  ## \n##  | |___| | (_| | |_| | | |_) | (_| \\__ \\  __/  ## \n##  \\_____/_|\\__, |\\__,_|_|_.__/ \\__,_|___/\\___|  ## \n##              | |                               ## \n##              |_|                               ## \n##                                                ## \n##  Get documentation at docs.liquibase.com       ## \n##  Get certified courses at learn.liquibase.com  ##\n##  Free schema change activity reports at        ##\n##      https://hub.liquibase.com                 ##\n##                                                ##\n####################################################\nStarting Liquibase at 19:19:11 (version 4.19.0 #6648 built at 2023-01-17 15:02+0000)\nLiquibase Version: 4.19.0\nLiquibase Open Source 4.19.0 by Liquibase\nError parsing command line: Invalid argument '--changelog-file': missing required argument. If you need to configure new liquibase project files and arguments, run the 'liquibase init \nproject' command.\n\nFor detailed help, try 'liquibase --help' or 'liquibase &lt;command-name&gt; --help'\n\n\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1680039782,"post_id":75870933,"comment_id":133828544,"body_markdown":"It&#39;s not like GMail knows how to decrypt your BCrypted password, y&#39;know.  What are you interested in guarding against?  Were you going to commit this configuration into source control and you wouldn&#39;t want your password exposed?","body":"It&#39;s not like GMail knows how to decrypt your BCrypted password, y&#39;know.  What are you interested in guarding against?  Were you going to commit this configuration into source control and you wouldn&#39;t want your password exposed?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680040067,"post_id":75870933,"comment_id":133828601,"body_markdown":"...because GMail does not know how to decrypt that. You cannot just come up with a custom way of sending data unless the counterparty is ready to receive it. There&#39;s no way to send your password specially encrypted in any way. Rather, GMail requires the whole connection to be done over TLS which means it will securely encrypt all data going to Google, including your password. Therefore you do not really need to encrypt it yourself. See e.g. https://security.stackexchange.com/a/240763 and https://security.stackexchange.com/a/146527.","body":"...because GMail does not know how to decrypt that. You cannot just come up with a custom way of sending data unless the counterparty is ready to receive it. There&#39;s no way to send your password specially encrypted in any way. Rather, GMail requires the whole connection to be done over TLS which means it will securely encrypt all data going to Google, including your password. Therefore you do not really need to encrypt it yourself. See e.g. <a href=\"https://security.stackexchange.com/a/240763\">security.stackexchange.com/a/240763</a> and <a href=\"https://security.stackexchange.com/a/146527\">security.stackexchange.com/a/146527</a>."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1680041657,"post_id":75870933,"comment_id":133828860,"body_markdown":"@Makoto yes, my repository is public and I don&#39;t want anyone to see my password.","body":"@Makoto yes, my repository is public and I don&#39;t want anyone to see my password."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1680041729,"post_id":75870933,"comment_id":133828875,"body_markdown":"@PetrJaneček but if my password is plain, everyone will be able to see it. Isn&#39;t there a way to protect that password?","body":"@PetrJaneček but if my password is plain, everyone will be able to see it. Isn&#39;t there a way to protect that password?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680042377,"post_id":75870933,"comment_id":133828958,"body_markdown":"No, the connection to the Google server will be encrypted with TLS, meaning all data going to the server and coming from the server are encrypted. Nobody will be able to see your password except for you and the SMTP server.","body":"No, the connection to the Google server will be encrypted with TLS, meaning all data going to the server and coming from the server are encrypted. Nobody will be able to see your password except for you and the SMTP server."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680043262,"post_id":75870933,"comment_id":133829103,"body_markdown":"1.) as others have explained, this doesn&#39;t work. 2.) if, theoretically, it *did* work, then the encrypted password could be used to authenticate as you, so anyone who saw it wouldn&#39;t need to decrypt it, but could use it as-is, i.e. you wouldn&#39;t have gained anything anyway! The moral of the story is: you can not have private knowledge that your code needs to use but the person running the code can&#39;t see, that&#39;s just not feasible.","body":"1.) as others have explained, this doesn&#39;t work. 2.) if, theoretically, it <i>did</i> work, then the encrypted password could be used to authenticate as you, so anyone who saw it wouldn&#39;t need to decrypt it, but could use it as-is, i.e. you wouldn&#39;t have gained anything anyway! The moral of the story is: you can not have private knowledge that your code needs to use but the person running the code can&#39;t see, that&#39;s just not feasible."}],"answers":[{"tags":[],"owner":{"account_id":25618515,"reputation":11,"user_id":19590809,"display_name":"Meruem"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680041847,"creation_date":1680040274,"answer_id":75871365,"question_id":75870933,"body_markdown":"In your case, you just sent an encrypted string in the form of a password.\r\nThe password in spring.mail.password is used as plain text\r\n\r\nIn this case, if you want to encrypt passwords in your spring boot application, you need to use, for example, the Jasypt. [Jasypt example][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-jasypt\r\n\r\n\r\nwith Jasypt you can store your secrets (passwords) in encrypted form, and you can set the decryption key to an environment variable as an example","title":"E-Mail cannot be sent when using an encrypted password","body":"<p>In your case, you just sent an encrypted string in the form of a password.\nThe password in spring.mail.password is used as plain text</p>\n<p>In this case, if you want to encrypt passwords in your spring boot application, you need to use, for example, the Jasypt. <a href=\"https://www.baeldung.com/spring-boot-jasypt\" rel=\"nofollow noreferrer\">Jasypt example</a>.</p>\n<p>with Jasypt you can store your secrets (passwords) in encrypted form, and you can set the decryption key to an environment variable as an example</p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680131092,"creation_date":1680042984,"answer_id":75871628,"question_id":75870933,"body_markdown":"Don&#39;t put your password into your source control.\r\n\r\nExplicitly leave the property blank, or omit it entirely, and leave some documentation floating around specifying that - as a runtime parameter - the password needs to be specified.\r\n\r\nYou can do so pretty easily in Spring, passing it as a parameter.\r\n\r\n```\r\njava -jar your-app.jar --spring.mail.password=xxx\r\n```\r\n\r\nDepending on your needs in local development, [Spring Boot offers an array of options](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config) on where you can place your configuration and what precedence it can have, if you want to keep it out of source control.  I do personally prefer the parameters, but you could also set environment variables and they&#39;d work the same.  Or, you could [go the DevTools route](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.globalsettings) as well.\r\n\r\nEncrypting it here buys you nothing since you&#39;ll have to decrypt it on its way to GMail, and to decrypt it, you have to know what secret you used to decrypt it, which - if you just left embedded in your code would quickly [turn into turtles all the way down](https://en.wikipedia.org/wiki/Turtles_all_the_way_down) since you&#39;d have to secure every key except the last one, and then you can just work backwards to get them all, anyway.","title":"E-Mail cannot be sent when using an encrypted password","body":"<p>Don't put your password into your source control.</p>\n<p>Explicitly leave the property blank, or omit it entirely, and leave some documentation floating around specifying that - as a runtime parameter - the password needs to be specified.</p>\n<p>You can do so pretty easily in Spring, passing it as a parameter.</p>\n<pre><code>java -jar your-app.jar --spring.mail.password=xxx\n</code></pre>\n<p>Depending on your needs in local development, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">Spring Boot offers an array of options</a> on where you can place your configuration and what precedence it can have, if you want to keep it out of source control.  I do personally prefer the parameters, but you could also set environment variables and they'd work the same.  Or, you could <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.globalsettings\" rel=\"nofollow noreferrer\">go the DevTools route</a> as well.</p>\n<p>Encrypting it here buys you nothing since you'll have to decrypt it on its way to GMail, and to decrypt it, you have to know what secret you used to decrypt it, which - if you just left embedded in your code would quickly <a href=\"https://en.wikipedia.org/wiki/Turtles_all_the_way_down\" rel=\"nofollow noreferrer\">turn into turtles all the way down</a> since you'd have to secure every key except the last one, and then you can just work backwards to get them all, anyway.</p>\n"},{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680196474,"creation_date":1680043904,"answer_id":75871711,"question_id":75870933,"body_markdown":"## bcrypt is a hashing function\r\n\r\nbcrypt is a secure password-hashing function, not an encryption function.\r\nThe difference between hashing and encryption is that hashing is destructive, meaning that you aren&#39;t supposed to be able to &quot;decrypt&quot; the original password from a hash.\r\n\r\nAs such, there&#39;s nothing that Spring Boot can do with the password&#39;s hash. It&#39;s just treating it as a plain text password. In fact, if you change your account&#39;s password to `{bcrypt}$2a$10$FXSkpQloaZILb7ixYTD2P./yutuASulNhEQ1UVEodX7Ao0oGgcaFG` everything should work. Of course that this is doing absolutely nothing for security.\r\n\r\n## Encrypted properties\r\n\r\nIf you want to store &quot;opaque&quot; but usable properties in your application you need encryption, not hashing.\r\n\r\nA common solution to encrypt properties is Spring Boot is [Jasypt](http://www.jasypt.org/). Although storing encrypted properties with the application code isn&#39;t really a good secure practice (see [Makoto&#39;s Answer](https://stackoverflow.com/a/75871628/664577) for more details on why this isn&#39;t a good idea).\r\n\r\nNevertheless, you can find documentation on how to integrate Jasypt and Spring Boot in the [jasypt-spring-boot](https://github.com/ulisesbocchio/jasypt-spring-boot) project. With Jasypt you can encrypt values using a password (that you should then keep safe at all costs) and let the framework handle everything for you.\r\n\r\nAssuming that you are using Maven to build the system, you can get started by adding the following dependency to the project&#39;s `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then you can encrypt properties with Jasypt Maven Plugin:\r\n\r\n    mvn jasypt:encrypt-value -Djasypt.encryptor.password=&quot;the password that you should keep safe&quot; -Djasypt.plugin.value=&quot;theValueYouWantToEncrypt&quot;\r\n\r\nAdd the encrypted property to your application properties:\r\n\r\n    secret.property=ENC(nrmZtkF7T0kjG/VodDvBw93Ct8EgjCA+)\r\n\r\nThe property will be transparently decrypted and made available to your application in plain text.\r\n\r\n## Better idea #1: Use a vault to manage secrets\r\n \r\nFrom a security perspective I would recommend a different strategy. A vault (such as [Spring Cloud Vault](https://cloud.spring.io/spring-cloud-vault/reference/html/) and [HashiCorp Vault](https://www.vaultproject.io/)) is a good way to store secrets such as SMTP credentials. A vault is much safer and easier to manage than manually encrypting properties / manually inputing security keys around. You can find a guide on how to configure Spring Boot to read properties from a Vault in Spring Boot&#39;s [vault Configuration guide](https://spring.io/guides/gs/vault-config/).\r\n\r\nYou can even abstract secret management away from your application. E.g., if you are using a tool such as [Kubernetes](https://kubernetes.io/) you can delegate secret management to it.\r\n\r\n## Better Idea #2: The application shouldn&#39;t be directly aware of SMTP.\r\n\r\nAn even better idea is to never share SMTP credentials with the application to begin with. There are tons of great e-mail delivery services with modern APIs to properly send emails. Managed services can make your life much easier as a developer. There&#39;s way more to emails than meets the eye, and I would personally avoid the hassle if possible. Have a look at services such as [Amazon SES](https://aws.amazon.com/ses/), [MailGun](https://www.mailgun.com/) and [SendGrid](https://sendgrid.com/).\r\n\r\n**In short**\r\n\r\n* bcrypt is a hash function, not an encryption function\r\n* You can encrypt your application properties but you probably shouldn&#39;t\r\n* Secrets should be stored somewhere safe, such as a vault\r\n* There are ways to abstract secret management from the application. As a rule of thumb, the less that your application has to know about secrets the better. \r\n* Speaking about abstracting complexity away from your application, your application may be better off not knowing anything about SMTP to begin with.\r\n\r\n\r\n","title":"E-Mail cannot be sent when using an encrypted password","body":"<h2>bcrypt is a hashing function</h2>\n<p>bcrypt is a secure password-hashing function, not an encryption function.\nThe difference between hashing and encryption is that hashing is destructive, meaning that you aren't supposed to be able to &quot;decrypt&quot; the original password from a hash.</p>\n<p>As such, there's nothing that Spring Boot can do with the password's hash. It's just treating it as a plain text password. In fact, if you change your account's password to <code>{bcrypt}$2a$10$FXSkpQloaZILb7ixYTD2P./yutuASulNhEQ1UVEodX7Ao0oGgcaFG</code> everything should work. Of course that this is doing absolutely nothing for security.</p>\n<h2>Encrypted properties</h2>\n<p>If you want to store &quot;opaque&quot; but usable properties in your application you need encryption, not hashing.</p>\n<p>A common solution to encrypt properties is Spring Boot is <a href=\"http://www.jasypt.org/\" rel=\"nofollow noreferrer\">Jasypt</a>. Although storing encrypted properties with the application code isn't really a good secure practice (see <a href=\"https://stackoverflow.com/a/75871628/664577\">Makoto's Answer</a> for more details on why this isn't a good idea).</p>\n<p>Nevertheless, you can find documentation on how to integrate Jasypt and Spring Boot in the <a href=\"https://github.com/ulisesbocchio/jasypt-spring-boot\" rel=\"nofollow noreferrer\">jasypt-spring-boot</a> project. With Jasypt you can encrypt values using a password (that you should then keep safe at all costs) and let the framework handle everything for you.</p>\n<p>Assuming that you are using Maven to build the system, you can get started by adding the following dependency to the project's <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n        &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then you can encrypt properties with Jasypt Maven Plugin:</p>\n<pre><code>mvn jasypt:encrypt-value -Djasypt.encryptor.password=&quot;the password that you should keep safe&quot; -Djasypt.plugin.value=&quot;theValueYouWantToEncrypt&quot;\n</code></pre>\n<p>Add the encrypted property to your application properties:</p>\n<pre><code>secret.property=ENC(nrmZtkF7T0kjG/VodDvBw93Ct8EgjCA+)\n</code></pre>\n<p>The property will be transparently decrypted and made available to your application in plain text.</p>\n<h2>Better idea #1: Use a vault to manage secrets</h2>\n<p>From a security perspective I would recommend a different strategy. A vault (such as <a href=\"https://cloud.spring.io/spring-cloud-vault/reference/html/\" rel=\"nofollow noreferrer\">Spring Cloud Vault</a> and <a href=\"https://www.vaultproject.io/\" rel=\"nofollow noreferrer\">HashiCorp Vault</a>) is a good way to store secrets such as SMTP credentials. A vault is much safer and easier to manage than manually encrypting properties / manually inputing security keys around. You can find a guide on how to configure Spring Boot to read properties from a Vault in Spring Boot's <a href=\"https://spring.io/guides/gs/vault-config/\" rel=\"nofollow noreferrer\">vault Configuration guide</a>.</p>\n<p>You can even abstract secret management away from your application. E.g., if you are using a tool such as <a href=\"https://kubernetes.io/\" rel=\"nofollow noreferrer\">Kubernetes</a> you can delegate secret management to it.</p>\n<h2>Better Idea #2: The application shouldn't be directly aware of SMTP.</h2>\n<p>An even better idea is to never share SMTP credentials with the application to begin with. There are tons of great e-mail delivery services with modern APIs to properly send emails. Managed services can make your life much easier as a developer. There's way more to emails than meets the eye, and I would personally avoid the hassle if possible. Have a look at services such as <a href=\"https://aws.amazon.com/ses/\" rel=\"nofollow noreferrer\">Amazon SES</a>, <a href=\"https://www.mailgun.com/\" rel=\"nofollow noreferrer\">MailGun</a> and <a href=\"https://sendgrid.com/\" rel=\"nofollow noreferrer\">SendGrid</a>.</p>\n<p><strong>In short</strong></p>\n<ul>\n<li>bcrypt is a hash function, not an encryption function</li>\n<li>You can encrypt your application properties but you probably shouldn't</li>\n<li>Secrets should be stored somewhere safe, such as a vault</li>\n<li>There are ways to abstract secret management from the application. As a rule of thumb, the less that your application has to know about secrets the better.</li>\n<li>Speaking about abstracting complexity away from your application, your application may be better off not knowing anything about SMTP to begin with.</li>\n</ul>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75871711,"answer_count":3,"score":0,"last_activity_date":1680196474,"creation_date":1680036462,"question_id":75870933,"body_markdown":"I would like to encrypt my password by `BCryptPasswordEncoder`.\r\n\r\n```java\r\n@Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        var pw = new BCryptPasswordEncoder();\r\n        System.out.println(pw.encode(&quot;my-password&quot;));\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n```\r\n\r\nWhen I run my application, the code above prints out the encoded password. So I stop my application, copy that string and paste it into application.yml, which looks like this:\r\n\r\n```yaml\r\nspring:\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: my-email@gmail.com\r\n    password: &quot;{bcrypt}$2a$10$FXSkpQloaZILb7ixYTD2P./yutuASulNhEQ1UVEodX7Ao0oGgcaFG&quot;\r\n    properties:\r\n      mail:\r\n        smtp:\r\n          starttls:\r\n            enable: true\r\n          auth: true\r\n```\r\n\r\nThen I run my application again, but then I get this error:\r\n\r\n&gt; jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and\r\n&gt; Password not accepted.\r\n\r\nIf the password is plain text only, it works fine. Why not when it&#39;s encrypted?","title":"E-Mail cannot be sent when using an encrypted password","body":"<p>I would like to encrypt my password by <code>BCryptPasswordEncoder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public PasswordEncoder passwordEncoder() {\n        var pw = new BCryptPasswordEncoder();\n        System.out.println(pw.encode(&quot;my-password&quot;));\n        return new BCryptPasswordEncoder();\n    }\n</code></pre>\n<p>When I run my application, the code above prints out the encoded password. So I stop my application, copy that string and paste it into application.yml, which looks like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: my-email@gmail.com\n    password: &quot;{bcrypt}$2a$10$FXSkpQloaZILb7ixYTD2P./yutuASulNhEQ1UVEodX7Ao0oGgcaFG&quot;\n    properties:\n      mail:\n        smtp:\n          starttls:\n            enable: true\n          auth: true\n</code></pre>\n<p>Then I run my application again, but then I get this error:</p>\n<blockquote>\n<p>jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and\nPassword not accepted.</p>\n</blockquote>\n<p>If the password is plain text only, it works fine. Why not when it's encrypted?</p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1680196039,"post_id":75891066,"comment_id":133861127,"body_markdown":"The error message tells you the issue is in `MowerWareHouse` class but you didn&#39;t provide that. Also, you should post the actual code here, not screenshots which cannot be run/copied/pasted/etc..","body":"The error message tells you the issue is in <code>MowerWareHouse</code> class but you didn&#39;t provide that. Also, you should post the actual code here, not screenshots which cannot be run/copied/pasted/etc.."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1680196045,"post_id":75891066,"comment_id":133861131,"body_markdown":"Do not post pictures of code. nobody can run that. Edit the question and post as text as a [mcve].  Take the [tour] and read [ask]","body":"Do not post pictures of code. nobody can run that. Edit the question and post as text as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":26168353,"reputation":567,"user_id":19853802,"display_name":"zmehall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680196136,"creation_date":1680196136,"answer_id":75891116,"question_id":75891066,"body_markdown":"For future reference, it&#39;s a lot easier for people to help if you copy/paste your code instead of sending screenshots.\r\n\r\nAnyways, it looks like your `mowers` object in `MowerWareHouse` is null; I&#39;m assuming you never instantiated it.\r\n\r\nYou need to assign the `mowers` object to a value before you can use it.\r\n\r\n```\r\n// constructor for MowerWareHouse\r\npublic MowerWareHouse() {\r\n  this.mowers = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nAgain, this is just an assumption, I&#39;d recommend replacing your screenshots with actual code.","title":"Object Is Null When Trying to Add to ArrayList","body":"<p>For future reference, it's a lot easier for people to help if you copy/paste your code instead of sending screenshots.</p>\n<p>Anyways, it looks like your <code>mowers</code> object in <code>MowerWareHouse</code> is null; I'm assuming you never instantiated it.</p>\n<p>You need to assign the <code>mowers</code> object to a value before you can use it.</p>\n<pre><code>// constructor for MowerWareHouse\npublic MowerWareHouse() {\n  this.mowers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Again, this is just an assumption, I'd recommend replacing your screenshots with actual code.</p>\n"}],"owner":{"account_id":26897097,"reputation":1,"user_id":20474830,"display_name":"John Geter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1680196152,"accepted_answer_id":75891116,"answer_count":1,"score":-4,"last_activity_date":1680196136,"creation_date":1680195786,"question_id":75891066,"body_markdown":"I am creating a program to store different types of lawnmowers in an ArrayList. There are 4 types of mowers that all inherit from Mower. I am new to oop. Why do I get this error when I try to add a mower to my ArrayList?\r\n\r\n[Method to read mower data from a file path](https://i.stack.imgur.com/GhQCX.png)\r\n\r\n[Mower class](https://i.stack.imgur.com/Gzs78.png)\r\n\r\n[Method to add Mower to arrayList](https://i.stack.imgur.com/ewDer.png)\r\n\r\n[Main class](https://i.stack.imgur.com/EwwxM.png)\r\n\r\n[Output with error](https://i.stack.imgur.com/jdHPv.png)\r\n\r\nI tried different syntax for initializing LawnTractor but i kept getting the same result.","title":"Object Is Null When Trying to Add to ArrayList","body":"<p>I am creating a program to store different types of lawnmowers in an ArrayList. There are 4 types of mowers that all inherit from Mower. I am new to oop. Why do I get this error when I try to add a mower to my ArrayList?</p>\n<p><a href=\"https://i.stack.imgur.com/GhQCX.png\" rel=\"nofollow noreferrer\">Method to read mower data from a file path</a></p>\n<p><a href=\"https://i.stack.imgur.com/Gzs78.png\" rel=\"nofollow noreferrer\">Mower class</a></p>\n<p><a href=\"https://i.stack.imgur.com/ewDer.png\" rel=\"nofollow noreferrer\">Method to add Mower to arrayList</a></p>\n<p><a href=\"https://i.stack.imgur.com/EwwxM.png\" rel=\"nofollow noreferrer\">Main class</a></p>\n<p><a href=\"https://i.stack.imgur.com/jdHPv.png\" rel=\"nofollow noreferrer\">Output with error</a></p>\n<p>I tried different syntax for initializing LawnTractor but i kept getting the same result.</p>\n"},{"tags":["java","tomcat","logging","tomcat9","java.util.logging"],"comments":[{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1680195480,"post_id":75789552,"comment_id":133861007,"body_markdown":"Does your application have a custom `logging.properties` file that is separate from the one found in `lib/logging.properties`?","body":"Does your application have a custom <code>logging.properties</code> file that is separate from the one found in <code>lib&#47;logging.properties</code>?"}],"answers":[{"tags":[],"owner":{"account_id":10190067,"reputation":1,"user_id":7523797,"display_name":"Kevin Smith"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680195355,"creation_date":1679314498,"answer_id":75790149,"question_id":75789552,"body_markdown":"You could custom the log format through the configure file\r\nthere should be a default file **log4j.properties** in path **$CATALINA_BASE/lib**\r\n\r\nCreate one, if there isn&#39;t.\r\n\r\nand add the following to **logging.properties** file \r\n\r\n```\r\ncatalina.org.apache.juli.FileHandler.rotatable = false\r\nlocalhost.org.apache.juli.FileHandler.rotatable = false\r\nmanager.org.apache.juli.FileHandler.rotatable = false\r\nhost-manager.org.apache.juli.FileHandler.rotatable = false\r\n```\r\nYou could also read the [Tomcat logging documentation][1].\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/logging.html","title":"Why does tomcat logging stop after redeploy?","body":"<p>You could custom the log format through the configure file\nthere should be a default file <strong>log4j.properties</strong> in path <strong>$CATALINA_BASE/lib</strong></p>\n<p>Create one, if there isn't.</p>\n<p>and add the following to <strong>logging.properties</strong> file</p>\n<pre><code>catalina.org.apache.juli.FileHandler.rotatable = false\nlocalhost.org.apache.juli.FileHandler.rotatable = false\nmanager.org.apache.juli.FileHandler.rotatable = false\nhost-manager.org.apache.juli.FileHandler.rotatable = false\n</code></pre>\n<p>You could also read the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/logging.html\" rel=\"nofollow noreferrer\">Tomcat logging documentation</a>.</p>\n"}],"owner":{"account_id":1836808,"reputation":141,"user_id":1667016,"display_name":"user1667016"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680195355,"creation_date":1679310600,"question_id":75789552,"body_markdown":"I can&#39;t seem to get java.util.logging to work with tomcat after I redeploy a webapp. Here is a very simple Servlet as a test case;\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.logging.Logger;\r\nimport javax.servlet.ServletConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\n\r\n@WebServlet(name = &quot;TestLogServlet&quot;, urlPatterns = {&quot;/TestLogServlet&quot;}, loadOnStartup=1)\r\npublic class TestLogServlet extends HttpServlet {\r\n\r\n    private Logger logger = Logger.getLogger(TestLogServlet.class.getName());\r\n\r\n    @Override\r\n    public void init(ServletConfig config) throws ServletException {\r\n        super.init(config); \r\n        System.out.println(&quot;my log message to system.out&quot;);\r\n        logger.info(&quot;my log message to logger&quot;);\r\n    }\r\n       \r\n}\r\n```\r\nIf I have the webapp installed, then start tomcat, I will see in the logs (catalina.out) the following, as expected;\r\n\r\n```\r\nmy log message to system.out\r\n20-Mar-2023 10:56:37.035 INFO [main] test.TestLogServlet.init my log message to logger\r\n```\r\n\r\nBoth the system.out and the logger message.\r\n\r\nIf I then undeploy the webapps, then redeploy it in the running tomcat, all I will see in the logs are;\r\n\r\n```\r\nmy log message to system.out\r\n```\r\n\r\nNothing else will appear comming from java.util.logger.\r\n\r\nWhat am I missing, or doing wrong? It&#39;s driving me mad! \r\n\r\nA bit of an update... This is why ...\r\n\r\n```\r\n==&gt; catalina.out &lt;==\r\nmy log message to system.out\r\n\r\n==&gt; catalina.2023-03-20.log &lt;==\r\n20-Mar-2023 11:42:04.041 INFO [http-nio-8080-exec-16] test.TestLogServlet.init my log message to logger\r\n```\r\n\r\nAfter a redeploy, it goes to ```catalina.2023-03-20.log```, not catalina.out. When you restart tomcat it goes to ```catalina.2023-03-20.log``` and ```catalina.out```!!\r\n\r\n**So, how does I get the logger messages to ALWAYS go to catalina.out?**\r\n\r\nI tired this on a tomcat8, and it does seem to always go to catalina.out there.\r\n\r\n","title":"Why does tomcat logging stop after redeploy?","body":"<p>I can't seem to get java.util.logging to work with tomcat after I redeploy a webapp. Here is a very simple Servlet as a test case;</p>\n<pre><code>package test;\n\nimport java.util.logging.Logger;\nimport javax.servlet.ServletConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\n\n@WebServlet(name = &quot;TestLogServlet&quot;, urlPatterns = {&quot;/TestLogServlet&quot;}, loadOnStartup=1)\npublic class TestLogServlet extends HttpServlet {\n\n    private Logger logger = Logger.getLogger(TestLogServlet.class.getName());\n\n    @Override\n    public void init(ServletConfig config) throws ServletException {\n        super.init(config); \n        System.out.println(&quot;my log message to system.out&quot;);\n        logger.info(&quot;my log message to logger&quot;);\n    }\n       \n}\n</code></pre>\n<p>If I have the webapp installed, then start tomcat, I will see in the logs (catalina.out) the following, as expected;</p>\n<pre><code>my log message to system.out\n20-Mar-2023 10:56:37.035 INFO [main] test.TestLogServlet.init my log message to logger\n</code></pre>\n<p>Both the system.out and the logger message.</p>\n<p>If I then undeploy the webapps, then redeploy it in the running tomcat, all I will see in the logs are;</p>\n<pre><code>my log message to system.out\n</code></pre>\n<p>Nothing else will appear comming from java.util.logger.</p>\n<p>What am I missing, or doing wrong? It's driving me mad!</p>\n<p>A bit of an update... This is why ...</p>\n<pre><code>==&gt; catalina.out &lt;==\nmy log message to system.out\n\n==&gt; catalina.2023-03-20.log &lt;==\n20-Mar-2023 11:42:04.041 INFO [http-nio-8080-exec-16] test.TestLogServlet.init my log message to logger\n</code></pre>\n<p>After a redeploy, it goes to <code>catalina.2023-03-20.log</code>, not catalina.out. When you restart tomcat it goes to <code>catalina.2023-03-20.log</code> and <code>catalina.out</code>!!</p>\n<p><strong>So, how does I get the logger messages to ALWAYS go to catalina.out?</strong></p>\n<p>I tired this on a tomcat8, and it does seem to always go to catalina.out there.</p>\n"},{"tags":["java","discord","discord-jda","spigot"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":1,"creation_date":1679609602,"post_id":75828164,"comment_id":133757094,"body_markdown":"Have you tried stepping through the code with a debugger?","body":"Have you tried stepping through the code with a debugger?"}],"answers":[{"tags":[],"owner":{"account_id":26168353,"reputation":567,"user_id":19853802,"display_name":"zmehall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680195252,"creation_date":1680195252,"answer_id":75890991,"question_id":75828164,"body_markdown":"After checking the [docs](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/EmbedBuilder.html) for JDA:\r\n\r\nThe `setAuthor()` method can either take a name and an image, or a name, URL, and image. If you don&#39;t want to use the URL (and just have the image), you only need 2 arguments.\r\n\r\n```\r\n.setAuthor(username, &quot;http://minotar.net/helm/&quot; + username + &quot;.png&quot;)\r\n```","title":"How do I get a PNG url from a GET request in Java?","body":"<p>After checking the <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/EmbedBuilder.html\" rel=\"nofollow noreferrer\">docs</a> for JDA:</p>\n<p>The <code>setAuthor()</code> method can either take a name and an image, or a name, URL, and image. If you don't want to use the URL (and just have the image), you only need 2 arguments.</p>\n<pre><code>.setAuthor(username, &quot;http://minotar.net/helm/&quot; + username + &quot;.png&quot;)\n</code></pre>\n"}],"owner":{"account_id":22298134,"reputation":35,"user_id":16523830,"display_name":"Cocolennon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75890991,"answer_count":1,"score":0,"last_activity_date":1680195252,"creation_date":1679607158,"question_id":75828164,"body_markdown":"More explanation, I&#39;m using Spigot and Java Discord API (JDA) to send a message to discord when someone speaks in Minecraft chat. I want to show the player&#39;s skin&#39;s face in an embed but I don&#39;t know how to do so since it keeps telling me I&#39;m not using a valid HTTP(s) or attachment url.\r\nHere&#39;s my current code, it fails at the `.setAuthor` line.\r\n\r\n```\r\npublic static void sendMCMessage(String message, String username){\r\n    TextChannel channel = api.getTextChannelById(&quot;1088516469974908928&quot;);\r\n    EmbedBuilder embed = new EmbedBuilder()\r\n        .setColor(Color.green)\r\n        .setAuthor(username, null, &quot;http://minotar.net/helm/&quot; + username + &quot;.png&quot;)\r\n        .setFooter(api.getSelfUser().getName() + &quot; 2023&quot;, api.getSelfUser().getAvatarUrl())\r\n        .addField(&quot; &quot;, message, true);\r\n    channel.sendMessageEmbeds(embed.build()).queue();\r\n}\r\n```\r\n\r\nHere are the logs:\r\n\r\n```\r\n[22:28:25] [ServerMain/INFO]: Building unoptimized datafixer\r\n[22:28:26] [ServerMain/INFO]: Environment: authHost=&#39;https://authserver.mojang.com&#39;, accountsHost=&#39;https://api.mojang.com&#39;, sessionHost=&#39;https://sessionserver.mojang.com&#39;, servicesHost=&#39;https://api.minecraftservices.com&#39;, name=&#39;PROD&#39;\r\n[22:28:27] [ServerMain/INFO]: Loaded 7 recipes\r\n[22:28:28] [Server thread/INFO]: Starting minecraft server version 1.19\r\n[22:28:28] [Server thread/INFO]: Loading properties\r\n[22:28:28] [Server thread/INFO]: This server is running CraftBukkit version 3553-Spigot-14a2382-ef09464 (MC: 1.19) (Implementing API version 1.19-R0.1-SNAPSHOT)\r\n[22:28:28] [Server thread/INFO]: Debug logging is disabled\r\n[22:28:28] [Server thread/INFO]: Server Ping Player Sample Count: 12\r\n[22:28:28] [Server thread/INFO]: Using 4 threads for Netty based IO\r\n[22:28:28] [Server thread/INFO]: Default game type: CREATIVE\r\n[22:28:28] [Server thread/INFO]: Generating keypair\r\n[22:28:28] [Server thread/INFO]: Starting Minecraft server on *:25565\r\n[22:28:28] [Server thread/INFO]: Using default channel type\r\n[22:28:28] [Server thread/INFO]: [WorldEdit] Loading WorldEdit v7.2.14+6360-094b734\r\n[22:28:29] [Server thread/INFO]: Got request to register class com.sk89q.worldedit.bukkit.BukkitServerInterface with WorldEdit [com.sk89q.worldedit.extension.platform.PlatformManager@388b7766]\r\n[22:28:29] [Server thread/INFO]: [WorldCraft] Loading WorldCraft v0.0.1\r\n[22:28:29] [Server thread/INFO]: [WorldEdit] Enabling WorldEdit v7.2.14+6360-094b734\r\n[22:28:29] [Server thread/INFO]: Registering commands with com.sk89q.worldedit.bukkit.BukkitServerInterface\r\n[22:28:29] [Server thread/INFO]: WEPIF: Using the Bukkit Permissions API.\r\n[22:28:29] [Server thread/INFO]: Using com.sk89q.worldedit.bukkit.adapter.impl.v1_19_R1.PaperweightAdapter as the Bukkit adapter\r\n[22:28:29] [Server thread/INFO]: [WorldEdit] ====================================================\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  WorldEdit works better if you use Paper \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  as your server software. \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper offers significant performance improvements,\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  bug fixes, security enhancements and optional\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  features for server owners to enhance their server.\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper includes Timings v2, which is significantly\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  better at diagnosing lag problems over v1.\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  All of your plugins should still work, and the\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper community will gladly help you fix any issues.\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Join the Paper Community @ https://papermc.io\r\n[22:28:29] [Server thread/INFO]: [WorldEdit] ====================================================\r\n[22:28:29] [Server thread/INFO]: Preparing level &quot;world&quot;\r\n[22:28:29] [Server thread/INFO]: -------- World Settings For [world] --------\r\n[22:28:29] [Server thread/INFO]: Item Merge Radius: 2.5\r\n[22:28:29] [Server thread/INFO]: Item Despawn Rate: 6000\r\n[22:28:29] [Server thread/INFO]: View Distance: 20\r\n[22:28:29] [Server thread/INFO]: Simulation Distance: 15\r\n[22:28:29] [Server thread/INFO]: Allow Zombie Pigmen to spawn from portal blocks: true\r\n[22:28:29] [Server thread/INFO]: Zombie Aggressive Towards Villager: true\r\n[22:28:29] [Server thread/INFO]: Arrow Despawn Rate: 1200 Trident Respawn Rate:1200\r\n[22:28:29] [Server thread/INFO]: Nerfing mobs spawned from spawners: false\r\n[22:28:29] [Server thread/INFO]: Experience Merge Radius: 3.0\r\n[22:28:29] [Server thread/INFO]: Cactus Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Cane Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Melon Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Mushroom Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Pumpkin Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Sapling Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Beetroot Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Carrot Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Potato Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Wheat Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: NetherWart Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Vine Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Cocoa Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Bamboo Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: SweetBerry Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Kelp Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Entity Activation Range: An 32 / Mo 32 / Ra 48 / Mi 16 / Tiv true / Isa false\r\n[22:28:29] [Server thread/INFO]: Entity Tracking Range: Pl 48 / An 48 / Mo 48 / Mi 32 / Other 64\r\n[22:28:29] [Server thread/INFO]: Custom Map Seeds:  Village: 10387312 Desert: 14357617 Igloo: 14357618 Jungle: 14357619 Swamp: 14357620 Monument: 10387313 Ocean: 14357621 Shipwreck: 165745295 End City: 10387313 Slime: 987234911 Nether: 30084232 Mansion: 10387319 Fossil: 14357921 Portal: 34222645\r\n[22:28:29] [Server thread/INFO]: Hopper Transfer: 8 Hopper Check: 1 Hopper Amount: 1 Hopper Can Load Chunks: false\r\n[22:28:29] [Server thread/INFO]: Tile Max Tick Time: 50ms Entity max Tick Time: 50ms\r\n[22:28:29] [Server thread/INFO]: Max TNT Explosions: 100\r\n[22:28:29] [Server thread/INFO]: Mob Spawn Range: 6\r\n[22:28:30] [Server thread/INFO]: -------- World Settings For [world_the_end] --------\r\n[22:28:30] [Server thread/INFO]: Item Merge Radius: 2.5\r\n[22:28:30] [Server thread/INFO]: Item Despawn Rate: 6000\r\n[22:28:30] [Server thread/INFO]: View Distance: 20\r\n[22:28:30] [Server thread/INFO]: Simulation Distance: 15\r\n[22:28:30] [Server thread/INFO]: Allow Zombie Pigmen to spawn from portal blocks: true\r\n[22:28:30] [Server thread/INFO]: Zombie Aggressive Towards Villager: true\r\n[22:28:30] [Server thread/INFO]: Arrow Despawn Rate: 1200 Trident Respawn Rate:1200\r\n[22:28:30] [Server thread/INFO]: Nerfing mobs spawned from spawners: false\r\n[22:28:30] [Server thread/INFO]: Experience Merge Radius: 3.0\r\n[22:28:30] [Server thread/INFO]: Cactus Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Cane Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Melon Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Mushroom Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Pumpkin Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Sapling Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Beetroot Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Carrot Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Potato Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Wheat Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: NetherWart Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Vine Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Cocoa Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Bamboo Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: SweetBerry Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Kelp Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Entity Activation Range: An 32 / Mo 32 / Ra 48 / Mi 16 / Tiv true / Isa false\r\n[22:28:30] [Server thread/INFO]: Entity Tracking Range: Pl 48 / An 48 / Mo 48 / Mi 32 / Other 64\r\n[22:28:30] [Server thread/INFO]: Custom Map Seeds:  Village: 10387312 Desert: 14357617 Igloo: 14357618 Jungle: 14357619 Swamp: 14357620 Monument: 10387313 Ocean: 14357621 Shipwreck: 165745295 End City: 10387313 Slime: 987234911 Nether: 30084232 Mansion: 10387319 Fossil: 14357921 Portal: 34222645\r\n[22:28:30] [Server thread/INFO]: Hopper Transfer: 8 Hopper Check: 1 Hopper Amount: 1 Hopper Can Load Chunks: false\r\n[22:28:30] [Server thread/INFO]: Tile Max Tick Time: 50ms Entity max Tick Time: 50ms\r\n[22:28:30] [Server thread/INFO]: Max TNT Explosions: 100\r\n[22:28:30] [Server thread/INFO]: Mob Spawn Range: 6\r\n[22:28:30] [Server thread/INFO]: Preparing start region for dimension minecraft:overworld\r\n[22:28:31] [Worker-Main-3/INFO]: Preparing spawn area: 0%\r\n[22:28:31] [Worker-Main-3/INFO]: Preparing spawn area: 0%\r\n[22:28:31] [Worker-Main-11/INFO]: Preparing spawn area: 0%\r\n[22:28:31] [Worker-Main-11/INFO]: Preparing spawn area: 0%\r\n[22:28:32] [Worker-Main-8/INFO]: Preparing spawn area: 34%\r\n[22:28:32] [Server thread/INFO]: Time elapsed: 2331 ms\r\n[22:28:32] [Server thread/INFO]: Preparing start region for dimension minecraft:the_end\r\n[22:28:33] [Worker-Main-5/INFO]: Preparing spawn area: 0%\r\n[22:28:33] [Worker-Main-4/INFO]: Preparing spawn area: 0%\r\n[22:28:33] [Worker-Main-3/INFO]: Preparing spawn area: 0%\r\n[22:28:34] [Worker-Main-4/INFO]: Preparing spawn area: 87%\r\n[22:28:34] [Server thread/INFO]: Time elapsed: 1535 ms\r\n[22:28:34] [Server thread/INFO]: [WorldCraft] Enabling WorldCraft v0.0.1\r\n[22:28:34] [Server thread/INFO]: [WorldCraft] Plugin enabled!\r\n[22:28:35] [Server thread/INFO]: Login Successful!\r\n[22:28:35] [Server thread/INFO]: [WorldCraft] Bot online!\r\n[22:28:35] [Server thread/INFO]: Server permissions file permissions.yml is empty, ignoring it\r\n[22:28:35] [Server thread/INFO]: Done (5.204s)! For help, type &quot;help&quot;\r\n[22:28:35] [JDA MainWS-ReadThread/INFO]: Connected to WebSocket\r\n[22:28:35] [JDA MainWS-ReadThread/INFO]: Finished Loading!\r\n[22:28:37] [User Authenticator #1/INFO]: UUID of player Senkoco is c7216f2f-d79b-41f3-837d-f166cfe29000\r\n[22:28:37] [Server thread/INFO]: Senkoco joined the game\r\n[22:28:37] [Server thread/INFO]: Senkoco[/[0:0:0:0:0:0:0:1]:50402] logged in with entity id 21 at ([world]-8.996503918930333, -50.0068645278064, -9.284796186114068)\r\n[22:28:43] [Async Chat Thread - #0/ERROR]: Could not pass event AsyncPlayerChatEvent to WorldCraft v0.0.1\r\norg.bukkit.event.EventException: null\r\n\tat org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:310) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:589) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:576) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\tat net.minecraft.server.network.PlayerConnection.chat(PlayerConnection.java:1955) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat net.minecraft.server.network.PlayerConnection.broadcastChatMessage(PlayerConnection.java:1934) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat net.minecraft.server.network.PlayerConnection.lambda$17(PlayerConnection.java:1907) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:757) [?:?]\r\n\tat java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735) [?:?]\r\n\tat java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2182) [?:?]\r\n\tat net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1907) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1813) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat net.minecraft.network.protocol.game.PacketPlayInChat$1.run(PacketPlayInChat.java:54) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\nCaused by: java.lang.IllegalArgumentException: URL must be a valid http(s) or attachment url.\r\n\tat net.dv8tion.jda.internal.utils.Checks.check(Checks.java:62) ~[?:?]\r\n\tat net.dv8tion.jda.api.EmbedBuilder.urlCheck(EmbedBuilder.java:813) ~[?:?]\r\n\tat net.dv8tion.jda.api.EmbedBuilder.setAuthor(EmbedBuilder.java:630) ~[?:?]\r\n\tat me.senkoco.worldcraft.BotManager.sendMCMessage(BotManager.java:20) ~[?:?]\r\n\tat me.senkoco.worldcraft.listeners.ChatListener.onPlayerChat(ChatListener.java:14) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\t... 17 more\r\n[22:28:43] [Async Chat Thread - #0/INFO]: &lt;Senkoco&gt; Lorem ipsum[m\r\n[22:28:45] [Server thread/INFO]: Senkoco issued server command: /stop\r\n[22:28:45] [Server thread/INFO]: [Senkoco: Stopping the server]\r\n[22:28:45] [Server thread/INFO]: Stopping server\r\n[22:28:45] [Server thread/INFO]: [WorldCraft] Disabling WorldCraft v0.0.1\r\n[22:28:45] [Server thread/INFO]: [WorldEdit] Disabling WorldEdit v7.2.14+6360-094b734\r\n[22:28:45] [Server thread/INFO]: Unregistering com.sk89q.worldedit.bukkit.BukkitServerInterface from WorldEdit\r\n[22:28:45] [Server thread/INFO]: Saving players\r\n[22:28:45] [Server thread/INFO]: Senkoco lost connection: Server closed\r\n[22:28:45] [Server thread/INFO]: Senkoco left the game.\r\n[22:28:45] [Server thread/INFO]: Saving worlds\r\n[22:28:46] [Server thread/INFO]: Saving chunks for level &#39;ServerLevel[world]&#39;/minecraft:overworld\r\n[22:28:46] [Server thread/INFO]: Saving chunks for level &#39;ServerLevel[world_the_end]&#39;/minecraft:the_end\r\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage (world): All chunks are saved\r\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage (DIM1): All chunks are saved\r\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage: All dimensions are saved\r\n```\r\n\r\nI attempted to send a skin&#39;s face in a Discord embed and expect the Skin&#39;s face to be present in the Discord embed but I am receiving an error in the console","title":"How do I get a PNG url from a GET request in Java?","body":"<p>More explanation, I'm using Spigot and Java Discord API (JDA) to send a message to discord when someone speaks in Minecraft chat. I want to show the player's skin's face in an embed but I don't know how to do so since it keeps telling me I'm not using a valid HTTP(s) or attachment url.\nHere's my current code, it fails at the <code>.setAuthor</code> line.</p>\n<pre><code>public static void sendMCMessage(String message, String username){\n    TextChannel channel = api.getTextChannelById(&quot;1088516469974908928&quot;);\n    EmbedBuilder embed = new EmbedBuilder()\n        .setColor(Color.green)\n        .setAuthor(username, null, &quot;http://minotar.net/helm/&quot; + username + &quot;.png&quot;)\n        .setFooter(api.getSelfUser().getName() + &quot; 2023&quot;, api.getSelfUser().getAvatarUrl())\n        .addField(&quot; &quot;, message, true);\n    channel.sendMessageEmbeds(embed.build()).queue();\n}\n</code></pre>\n<p>Here are the logs:</p>\n<pre><code>[22:28:25] [ServerMain/INFO]: Building unoptimized datafixer\n[22:28:26] [ServerMain/INFO]: Environment: authHost='https://authserver.mojang.com', accountsHost='https://api.mojang.com', sessionHost='https://sessionserver.mojang.com', servicesHost='https://api.minecraftservices.com', name='PROD'\n[22:28:27] [ServerMain/INFO]: Loaded 7 recipes\n[22:28:28] [Server thread/INFO]: Starting minecraft server version 1.19\n[22:28:28] [Server thread/INFO]: Loading properties\n[22:28:28] [Server thread/INFO]: This server is running CraftBukkit version 3553-Spigot-14a2382-ef09464 (MC: 1.19) (Implementing API version 1.19-R0.1-SNAPSHOT)\n[22:28:28] [Server thread/INFO]: Debug logging is disabled\n[22:28:28] [Server thread/INFO]: Server Ping Player Sample Count: 12\n[22:28:28] [Server thread/INFO]: Using 4 threads for Netty based IO\n[22:28:28] [Server thread/INFO]: Default game type: CREATIVE\n[22:28:28] [Server thread/INFO]: Generating keypair\n[22:28:28] [Server thread/INFO]: Starting Minecraft server on *:25565\n[22:28:28] [Server thread/INFO]: Using default channel type\n[22:28:28] [Server thread/INFO]: [WorldEdit] Loading WorldEdit v7.2.14+6360-094b734\n[22:28:29] [Server thread/INFO]: Got request to register class com.sk89q.worldedit.bukkit.BukkitServerInterface with WorldEdit [com.sk89q.worldedit.extension.platform.PlatformManager@388b7766]\n[22:28:29] [Server thread/INFO]: [WorldCraft] Loading WorldCraft v0.0.1\n[22:28:29] [Server thread/INFO]: [WorldEdit] Enabling WorldEdit v7.2.14+6360-094b734\n[22:28:29] [Server thread/INFO]: Registering commands with com.sk89q.worldedit.bukkit.BukkitServerInterface\n[22:28:29] [Server thread/INFO]: WEPIF: Using the Bukkit Permissions API.\n[22:28:29] [Server thread/INFO]: Using com.sk89q.worldedit.bukkit.adapter.impl.v1_19_R1.PaperweightAdapter as the Bukkit adapter\n[22:28:29] [Server thread/INFO]: [WorldEdit] ====================================================\n[22:28:29] [Server thread/INFO]: [WorldEdit]  WorldEdit works better if you use Paper \n[22:28:29] [Server thread/INFO]: [WorldEdit]  as your server software. \n[22:28:29] [Server thread/INFO]: [WorldEdit]   \n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper offers significant performance improvements,\n[22:28:29] [Server thread/INFO]: [WorldEdit]  bug fixes, security enhancements and optional\n[22:28:29] [Server thread/INFO]: [WorldEdit]  features for server owners to enhance their server.\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper includes Timings v2, which is significantly\n[22:28:29] [Server thread/INFO]: [WorldEdit]  better at diagnosing lag problems over v1.\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \n[22:28:29] [Server thread/INFO]: [WorldEdit]  All of your plugins should still work, and the\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper community will gladly help you fix any issues.\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \n[22:28:29] [Server thread/INFO]: [WorldEdit]  Join the Paper Community @ https://papermc.io\n[22:28:29] [Server thread/INFO]: [WorldEdit] ====================================================\n[22:28:29] [Server thread/INFO]: Preparing level &quot;world&quot;\n[22:28:29] [Server thread/INFO]: -------- World Settings For [world] --------\n[22:28:29] [Server thread/INFO]: Item Merge Radius: 2.5\n[22:28:29] [Server thread/INFO]: Item Despawn Rate: 6000\n[22:28:29] [Server thread/INFO]: View Distance: 20\n[22:28:29] [Server thread/INFO]: Simulation Distance: 15\n[22:28:29] [Server thread/INFO]: Allow Zombie Pigmen to spawn from portal blocks: true\n[22:28:29] [Server thread/INFO]: Zombie Aggressive Towards Villager: true\n[22:28:29] [Server thread/INFO]: Arrow Despawn Rate: 1200 Trident Respawn Rate:1200\n[22:28:29] [Server thread/INFO]: Nerfing mobs spawned from spawners: false\n[22:28:29] [Server thread/INFO]: Experience Merge Radius: 3.0\n[22:28:29] [Server thread/INFO]: Cactus Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Cane Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Melon Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Mushroom Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Pumpkin Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Sapling Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Beetroot Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Carrot Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Potato Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Wheat Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: NetherWart Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Vine Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Cocoa Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Bamboo Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: SweetBerry Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Kelp Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Entity Activation Range: An 32 / Mo 32 / Ra 48 / Mi 16 / Tiv true / Isa false\n[22:28:29] [Server thread/INFO]: Entity Tracking Range: Pl 48 / An 48 / Mo 48 / Mi 32 / Other 64\n[22:28:29] [Server thread/INFO]: Custom Map Seeds:  Village: 10387312 Desert: 14357617 Igloo: 14357618 Jungle: 14357619 Swamp: 14357620 Monument: 10387313 Ocean: 14357621 Shipwreck: 165745295 End City: 10387313 Slime: 987234911 Nether: 30084232 Mansion: 10387319 Fossil: 14357921 Portal: 34222645\n[22:28:29] [Server thread/INFO]: Hopper Transfer: 8 Hopper Check: 1 Hopper Amount: 1 Hopper Can Load Chunks: false\n[22:28:29] [Server thread/INFO]: Tile Max Tick Time: 50ms Entity max Tick Time: 50ms\n[22:28:29] [Server thread/INFO]: Max TNT Explosions: 100\n[22:28:29] [Server thread/INFO]: Mob Spawn Range: 6\n[22:28:30] [Server thread/INFO]: -------- World Settings For [world_the_end] --------\n[22:28:30] [Server thread/INFO]: Item Merge Radius: 2.5\n[22:28:30] [Server thread/INFO]: Item Despawn Rate: 6000\n[22:28:30] [Server thread/INFO]: View Distance: 20\n[22:28:30] [Server thread/INFO]: Simulation Distance: 15\n[22:28:30] [Server thread/INFO]: Allow Zombie Pigmen to spawn from portal blocks: true\n[22:28:30] [Server thread/INFO]: Zombie Aggressive Towards Villager: true\n[22:28:30] [Server thread/INFO]: Arrow Despawn Rate: 1200 Trident Respawn Rate:1200\n[22:28:30] [Server thread/INFO]: Nerfing mobs spawned from spawners: false\n[22:28:30] [Server thread/INFO]: Experience Merge Radius: 3.0\n[22:28:30] [Server thread/INFO]: Cactus Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Cane Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Melon Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Mushroom Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Pumpkin Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Sapling Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Beetroot Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Carrot Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Potato Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Wheat Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: NetherWart Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Vine Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Cocoa Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Bamboo Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: SweetBerry Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Kelp Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Entity Activation Range: An 32 / Mo 32 / Ra 48 / Mi 16 / Tiv true / Isa false\n[22:28:30] [Server thread/INFO]: Entity Tracking Range: Pl 48 / An 48 / Mo 48 / Mi 32 / Other 64\n[22:28:30] [Server thread/INFO]: Custom Map Seeds:  Village: 10387312 Desert: 14357617 Igloo: 14357618 Jungle: 14357619 Swamp: 14357620 Monument: 10387313 Ocean: 14357621 Shipwreck: 165745295 End City: 10387313 Slime: 987234911 Nether: 30084232 Mansion: 10387319 Fossil: 14357921 Portal: 34222645\n[22:28:30] [Server thread/INFO]: Hopper Transfer: 8 Hopper Check: 1 Hopper Amount: 1 Hopper Can Load Chunks: false\n[22:28:30] [Server thread/INFO]: Tile Max Tick Time: 50ms Entity max Tick Time: 50ms\n[22:28:30] [Server thread/INFO]: Max TNT Explosions: 100\n[22:28:30] [Server thread/INFO]: Mob Spawn Range: 6\n[22:28:30] [Server thread/INFO]: Preparing start region for dimension minecraft:overworld\n[22:28:31] [Worker-Main-3/INFO]: Preparing spawn area: 0%\n[22:28:31] [Worker-Main-3/INFO]: Preparing spawn area: 0%\n[22:28:31] [Worker-Main-11/INFO]: Preparing spawn area: 0%\n[22:28:31] [Worker-Main-11/INFO]: Preparing spawn area: 0%\n[22:28:32] [Worker-Main-8/INFO]: Preparing spawn area: 34%\n[22:28:32] [Server thread/INFO]: Time elapsed: 2331 ms\n[22:28:32] [Server thread/INFO]: Preparing start region for dimension minecraft:the_end\n[22:28:33] [Worker-Main-5/INFO]: Preparing spawn area: 0%\n[22:28:33] [Worker-Main-4/INFO]: Preparing spawn area: 0%\n[22:28:33] [Worker-Main-3/INFO]: Preparing spawn area: 0%\n[22:28:34] [Worker-Main-4/INFO]: Preparing spawn area: 87%\n[22:28:34] [Server thread/INFO]: Time elapsed: 1535 ms\n[22:28:34] [Server thread/INFO]: [WorldCraft] Enabling WorldCraft v0.0.1\n[22:28:34] [Server thread/INFO]: [WorldCraft] Plugin enabled!\n[22:28:35] [Server thread/INFO]: Login Successful!\n[22:28:35] [Server thread/INFO]: [WorldCraft] Bot online!\n[22:28:35] [Server thread/INFO]: Server permissions file permissions.yml is empty, ignoring it\n[22:28:35] [Server thread/INFO]: Done (5.204s)! For help, type &quot;help&quot;\n[22:28:35] [JDA MainWS-ReadThread/INFO]: Connected to WebSocket\n[22:28:35] [JDA MainWS-ReadThread/INFO]: Finished Loading!\n[22:28:37] [User Authenticator #1/INFO]: UUID of player Senkoco is c7216f2f-d79b-41f3-837d-f166cfe29000\n[22:28:37] [Server thread/INFO]: Senkoco joined the game\n[22:28:37] [Server thread/INFO]: Senkoco[/[0:0:0:0:0:0:0:1]:50402] logged in with entity id 21 at ([world]-8.996503918930333, -50.0068645278064, -9.284796186114068)\n[22:28:43] [Async Chat Thread - #0/ERROR]: Could not pass event AsyncPlayerChatEvent to WorldCraft v0.0.1\norg.bukkit.event.EventException: null\n    at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:310) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:589) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:576) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    at net.minecraft.server.network.PlayerConnection.chat(PlayerConnection.java:1955) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at net.minecraft.server.network.PlayerConnection.broadcastChatMessage(PlayerConnection.java:1934) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at net.minecraft.server.network.PlayerConnection.lambda$17(PlayerConnection.java:1907) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:757) [?:?]\n    at java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735) [?:?]\n    at java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2182) [?:?]\n    at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1907) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1813) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at net.minecraft.network.protocol.game.PacketPlayInChat$1.run(PacketPlayInChat.java:54) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [?:?]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [?:?]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: java.lang.IllegalArgumentException: URL must be a valid http(s) or attachment url.\n    at net.dv8tion.jda.internal.utils.Checks.check(Checks.java:62) ~[?:?]\n    at net.dv8tion.jda.api.EmbedBuilder.urlCheck(EmbedBuilder.java:813) ~[?:?]\n    at net.dv8tion.jda.api.EmbedBuilder.setAuthor(EmbedBuilder.java:630) ~[?:?]\n    at me.senkoco.worldcraft.BotManager.sendMCMessage(BotManager.java:20) ~[?:?]\n    at me.senkoco.worldcraft.listeners.ChatListener.onPlayerChat(ChatListener.java:14) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    ... 17 more\n[22:28:43] [Async Chat Thread - #0/INFO]: &lt;Senkoco&gt; Lorem ipsum[m\n[22:28:45] [Server thread/INFO]: Senkoco issued server command: /stop\n[22:28:45] [Server thread/INFO]: [Senkoco: Stopping the server]\n[22:28:45] [Server thread/INFO]: Stopping server\n[22:28:45] [Server thread/INFO]: [WorldCraft] Disabling WorldCraft v0.0.1\n[22:28:45] [Server thread/INFO]: [WorldEdit] Disabling WorldEdit v7.2.14+6360-094b734\n[22:28:45] [Server thread/INFO]: Unregistering com.sk89q.worldedit.bukkit.BukkitServerInterface from WorldEdit\n[22:28:45] [Server thread/INFO]: Saving players\n[22:28:45] [Server thread/INFO]: Senkoco lost connection: Server closed\n[22:28:45] [Server thread/INFO]: Senkoco left the game.\n[22:28:45] [Server thread/INFO]: Saving worlds\n[22:28:46] [Server thread/INFO]: Saving chunks for level 'ServerLevel[world]'/minecraft:overworld\n[22:28:46] [Server thread/INFO]: Saving chunks for level 'ServerLevel[world_the_end]'/minecraft:the_end\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage (world): All chunks are saved\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage (DIM1): All chunks are saved\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage: All dimensions are saved\n</code></pre>\n<p>I attempted to send a skin's face in a Discord embed and expect the Skin's face to be present in the Discord embed but I am receiving an error in the console</p>\n"},{"tags":["java","jboss","jks"],"owner":{"account_id":10086370,"reputation":1,"user_id":7454825,"display_name":"Schlomo Dumbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680194967,"creation_date":1680194967,"question_id":75890953,"body_markdown":"I am running a jboss, that is supposed to access a webjunction. The Jboss is essentially the client. I have one certificate jks file. I need to include this file in so that I can access the webjunction https://webjunction.org.com (the webjunction masks another webservice).\r\n\r\nHow do I do that?\r\n\r\nI do not even know where to start. I expect my Java code to call the api of said webservice.","title":"JBoss as client add certificate to connect to Webjunction https","body":"<p>I am running a jboss, that is supposed to access a webjunction. The Jboss is essentially the client. I have one certificate jks file. I need to include this file in so that I can access the webjunction <a href=\"https://webjunction.org.com\" rel=\"nofollow noreferrer\">https://webjunction.org.com</a> (the webjunction masks another webservice).</p>\n<p>How do I do that?</p>\n<p>I do not even know where to start. I expect my Java code to call the api of said webservice.</p>\n"},{"tags":["java","properties"],"comments":[{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1498815863,"post_id":15337409,"comment_id":76667024,"body_markdown":"Similar: https://stackoverflow.com/questions/7461901/how-to-overwrite-one-property-in-properties-without-overwriting-the-whole-file and https://stackoverflow.com/questions/565932/a-better-class-to-update-property-files","body":"Similar: <a href=\"https://stackoverflow.com/questions/7461901/how-to-overwrite-one-property-in-properties-without-overwriting-the-whole-file\" title=\"how to overwrite one property in properties without overwriting the whole file\">stackoverflow.com/questions/7461901/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/565932/a-better-class-to-update-property-files\" title=\"a better class to update property files\">stackoverflow.com/questions/565932/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1035051,"reputation":2698,"user_id":1042572,"accept_rate":100,"display_name":"Vasyl Keretsman"},"down_vote_count":2,"up_vote_count":107,"is_accepted":true,"score":105,"last_activity_date":1680194516,"creation_date":1363001496,"answer_id":15337487,"question_id":15337409,"body_markdown":"Open the  output stream and store properties after you have closed the input stream.\r\n\r\n    try (FileInputStream in = new FileInputStream(&quot;First.properties&quot;)) {\r\n        Properties props = new Properties();\r\n        props.load(in);\r\n    }\r\n            \r\n    try (FileOutputStream out = new FileOutputStream(&quot;First.properties&quot;))\r\n        props.setProperty(&quot;country&quot;, &quot;america&quot;);\r\n        props.store(out, null);\r\n    }","title":"Updating property value in properties file without deleting other values","body":"<p>Open the  output stream and store properties after you have closed the input stream.</p>\n<pre><code>try (FileInputStream in = new FileInputStream(&quot;First.properties&quot;)) {\n    Properties props = new Properties();\n    props.load(in);\n}\n        \ntry (FileOutputStream out = new FileOutputStream(&quot;First.properties&quot;))\n    props.setProperty(&quot;country&quot;, &quot;america&quot;);\n    props.store(out, null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2380109,"reputation":1007,"user_id":2082301,"accept_rate":68,"display_name":"Joe2013"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1363001985,"creation_date":1363001985,"answer_id":15337627,"question_id":15337409,"body_markdown":"    Properties prop = new Properties();\r\n    prop.load(...); // FileInputStream \r\n    prop.setProperty(&quot;key&quot;, &quot;value&quot;);\r\n    prop.store(...); // FileOutputStream ","title":"Updating property value in properties file without deleting other values","body":"<pre><code>Properties prop = new Properties();\nprop.load(...); // FileInputStream \nprop.setProperty(\"key\", \"value\");\nprop.store(...); // FileOutputStream \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1609913527,"creation_date":1473021847,"answer_id":39321335,"question_id":15337409,"body_markdown":"You can use [Apache Commons Configuration][1] library.\r\nThe best part of this is, it won&#39;t even mess up the properties file and keeps it intact ([even comments][2]). \r\n\r\n[Javadoc][3]\r\n\r\n    PropertiesConfiguration conf = new PropertiesConfiguration(&quot;propFile.properties&quot;);\r\n    conf.setProperty(&quot;key&quot;, &quot;value&quot;);\r\n    conf.save();    \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-configuration/\r\n  [2]: https://stackoverflow.com/questions/565932/a-better-class-to-update-property-files/565996#565996\r\n  [3]: https://commons.apache.org/proper/commons-configuration/apidocs/org/apache/commons/configuration2/PropertiesConfiguration.html","title":"Updating property value in properties file without deleting other values","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-configuration/\" rel=\"noreferrer\">Apache Commons Configuration</a> library.\nThe best part of this is, it won't even mess up the properties file and keeps it intact (<a href=\"https://stackoverflow.com/questions/565932/a-better-class-to-update-property-files/565996#565996\">even comments</a>).</p>\n<p><a href=\"https://commons.apache.org/proper/commons-configuration/apidocs/org/apache/commons/configuration2/PropertiesConfiguration.html\" rel=\"noreferrer\">Javadoc</a></p>\n<pre><code>PropertiesConfiguration conf = new PropertiesConfiguration(&quot;propFile.properties&quot;);\nconf.setProperty(&quot;key&quot;, &quot;value&quot;);\nconf.save();    \n</code></pre>\n"}],"owner":{"account_id":2475873,"reputation":611,"user_id":2156541,"display_name":"Elangovan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158949,"favorite_count":0,"down_vote_count":1,"up_vote_count":60,"closed_date":1498891649,"accepted_answer_id":15337487,"answer_count":3,"score":59,"last_activity_date":1680194516,"creation_date":1363001216,"question_id":15337409,"body_markdown":"Content of `First.properties`:\r\n\r\n    name=elango\r\n    country=india\r\n    phone=12345\r\n\r\nI want change `country` from `india` to `america`. This is my code:\r\n\r\n    import java.io.*;\r\n    public class UpdateProperty \r\n    {\r\n    \tpublic static void main(String args[]) throws Exception \r\n    \t{ \t\r\n    \t\tFileOutputStream out = new FileOutputStream(&quot;First.properties&quot;);\r\n    \t\tFileInputStream in = new FileInputStream(&quot;First.properties&quot;);\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.load(in);\r\n    \t\tin.close();\r\n    \t\tprops.setProperty(&quot;country&quot;, &quot;america&quot;);\r\n    \t\tprops.store(out, null);\r\n    \t\tout.close();\r\n    \t} \r\n    }\r\n\r\nOutput content of `First.properties`:\r\n\r\n    country=america\r\n\r\nThe other properties are deleted. I want update a particular property value, without deleting the other properties.","title":"Updating property value in properties file without deleting other values","body":"<p>Content of <code>First.properties</code>:</p>\n\n<pre><code>name=elango\ncountry=india\nphone=12345\n</code></pre>\n\n<p>I want change <code>country</code> from <code>india</code> to <code>america</code>. This is my code:</p>\n\n<pre><code>import java.io.*;\npublic class UpdateProperty \n{\n    public static void main(String args[]) throws Exception \n    {   \n        FileOutputStream out = new FileOutputStream(\"First.properties\");\n        FileInputStream in = new FileInputStream(\"First.properties\");\n        Properties props = new Properties();\n        props.load(in);\n        in.close();\n        props.setProperty(\"country\", \"america\");\n        props.store(out, null);\n        out.close();\n    } \n}\n</code></pre>\n\n<p>Output content of <code>First.properties</code>:</p>\n\n<pre><code>country=america\n</code></pre>\n\n<p>The other properties are deleted. I want update a particular property value, without deleting the other properties.</p>\n"},{"tags":["java","jar"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1244035041,"creation_date":1244034203,"answer_id":944615,"question_id":944610,"body_markdown":"if it&#39;s inside a JAR, it&#39;s not a File, generally speaking.  You should load the data using [`Class.getResourceAsStream(String)`][1], or something similar.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)","title":"How do I access a config file inside the jar?","body":"<p>if it's inside a JAR, it's not a File, generally speaking.  You should load the data using <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"noreferrer\"><code>Class.getResourceAsStream(String)</code></a>, or something similar.</p>\n"},{"tags":[],"owner":{"account_id":22320,"reputation":43326,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244034293,"creation_date":1244034293,"answer_id":944622,"question_id":944610,"body_markdown":"I think it is solved just here:\r\n\r\n[http://www.velocityreviews.com/forums/t129474-beginner-question-how-to-access-an-xml-file-inside-a-jar-without-extracting-it.html][1] \r\n\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t129474-beginner-question-how-to-access-an-xml-file-inside-a-jar-without-extracting-it.html","title":"How do I access a config file inside the jar?","body":"<p>I think it is solved just here:</p>\n\n<p><a href=\"http://www.velocityreviews.com/forums/t129474-beginner-question-how-to-access-an-xml-file-inside-a-jar-without-extracting-it.html\" rel=\"nofollow noreferrer\">http://www.velocityreviews.com/forums/t129474-beginner-question-how-to-access-an-xml-file-inside-a-jar-without-extracting-it.html</a> </p>\n"},{"tags":[],"owner":{"account_id":878702,"reputation":942,"user_id":116463,"display_name":"Billy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244044690,"creation_date":1244044690,"answer_id":945558,"question_id":944610,"body_markdown":"If I remember correctly, getResourceAsStream() can behave differently depending on which web server your webapp is deployed, for instance I think it can be a problem when deployed as a war on a Websphere instance. But I&#39;m not sure if this applies to you.\r\n\r\nBut I&#39;m not sure you&#39;re trying to solve the &quot;proper&quot; problem : if it&#39;s a config file, that means is data dependant right ? Not code dependant ( your jar ) ? When the flat file will change, your config file will need to change as well, right ? If this is true, it sounds like the config should be better stored elsewhere, or even passed as a parameter to your jar.\r\n\r\nBut maybe I haven&#39;t fully understood your problem...","title":"How do I access a config file inside the jar?","body":"<p>If I remember correctly, getResourceAsStream() can behave differently depending on which web server your webapp is deployed, for instance I think it can be a problem when deployed as a war on a Websphere instance. But I'm not sure if this applies to you.</p>\n\n<p>But I'm not sure you're trying to solve the \"proper\" problem : if it's a config file, that means is data dependant right ? Not code dependant ( your jar ) ? When the flat file will change, your config file will need to change as well, right ? If this is true, it sounds like the config should be better stored elsewhere, or even passed as a parameter to your jar.</p>\n\n<p>But maybe I haven't fully understood your problem...</p>\n"},{"tags":[],"owner":{"account_id":876956,"reputation":139,"user_id":115086,"display_name":"user115086"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244050065,"creation_date":1244050065,"answer_id":946025,"question_id":944610,"body_markdown":"Use Apache Commons Configuration, then you can read/write XML, auto update, find config file in path or jar, without a lot of hassles.","title":"How do I access a config file inside the jar?","body":"<p>Use Apache Commons Configuration, then you can read/write XML, auto update, find config file in path or jar, without a lot of hassles.</p>\n"},{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680194381,"creation_date":1641790183,"answer_id":70647932,"question_id":944610,"body_markdown":"Use Below code in your config file \r\n\r\n    InputStream in = Class.getClassLoader().getResourceAsStream(configFilePath);\r\n\r\nNote : replace the classname with your Config class\r\n\r\nDemo Full code :\r\n\r\nImports:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n\r\nCode:\r\n\r\n        Properties properties = new Properties();\r\n\t\tInputStream in = MyCLassName.class.getClassLoader().getResourceAsStream(configFilePath); //pass the config.properties file path with file name\r\n\t\ttry {\r\n\t\t\tproperties.load(in);\r\n            properties.getProperty(&quot;username&quot;); //here put the key from config.properties\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"How do I access a config file inside the jar?","body":"<p>Use Below code in your config file</p>\n<pre><code>InputStream in = Class.getClassLoader().getResourceAsStream(configFilePath);\n</code></pre>\n<p>Note : replace the classname with your Config class</p>\n<p>Demo Full code :</p>\n<p>Imports:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n</code></pre>\n<p>Code:</p>\n<pre><code>    Properties properties = new Properties();\n    InputStream in = MyCLassName.class.getClassLoader().getResourceAsStream(configFilePath); //pass the config.properties file path with file name\n    try {\n        properties.load(in);\n        properties.getProperty(&quot;username&quot;); //here put the key from config.properties\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":1574,"reputation":22487,"user_id":2109,"accept_rate":100,"display_name":"Owen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39364,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":944615,"answer_count":5,"score":7,"last_activity_date":1680194381,"creation_date":1244034087,"question_id":944610,"body_markdown":"I&#39;m using [FlatPack][1] to parse and load data from flat files.  This requires loading a config file that stores mappings of the columns of the flat file.\r\n\r\nI have a constant to define the location of the mapping file:\r\n\r\n    private static final String MAPPING_FILE = &quot;src/com/company/config/Maping.pzmap.xml&quot;;\r\n\r\nI have a parse(File dataFile) method that actually does the parsing:\r\n\r\n    private void parse(File dataFile) throws FileNotFoundException, SQLException {\r\n        \tParser parser;\r\n        \t\t\r\n        \tlog.info(&quot;Parsing &quot; + dataFile.getName());\r\n        \t\t\r\n        \tFileReader mappingFileReader = new FileReader(MAPPING_FILE);\r\n        \tFileReader dataFileReader = new FileReader(dataFile);\r\n        \t\t\r\n        \tparser = DefaultParserFactory.getInstance().newFixedLengthParser(mappingFileReader, dataFileReader);\r\n        \tparser.setHandlingShortLines(true);\r\n        \t\t\r\n        \tDataSet dataSet = parser.parse();\r\n        \t\t\r\n        \t//process the data\r\n    }\r\n\r\nWhen I jar up everything and run it as a jar - it bombs out on `FileReader mappingFileReader = new FileReader(MAPPING_FILE);` with a `FileNotFoundException`.  That file is inside the jar though.\r\n\r\nHow do I get to it?\r\n\r\nI&#39;ve looked at [this question][2] and [this question][3] about accessing files inside jars and they both recommend temporarily extracting the file.  I don&#39;t want to do that though.\r\n\r\n\r\n  [1]: http://flatpack.sourceforge.net/\r\n  [2]: https://stackoverflow.com/questions/600146/run-exe-which-is-packaged-inside-jar\r\n  [3]: https://stackoverflow.com/questions/463972/creating-a-new-file-using-an-existing-file-within-a-jar","title":"How do I access a config file inside the jar?","body":"<p>I'm using <a href=\"http://flatpack.sourceforge.net/\" rel=\"nofollow noreferrer\">FlatPack</a> to parse and load data from flat files.  This requires loading a config file that stores mappings of the columns of the flat file.</p>\n\n<p>I have a constant to define the location of the mapping file:</p>\n\n<pre><code>private static final String MAPPING_FILE = \"src/com/company/config/Maping.pzmap.xml\";\n</code></pre>\n\n<p>I have a parse(File dataFile) method that actually does the parsing:</p>\n\n<pre><code>private void parse(File dataFile) throws FileNotFoundException, SQLException {\n        Parser parser;\n\n        log.info(\"Parsing \" + dataFile.getName());\n\n        FileReader mappingFileReader = new FileReader(MAPPING_FILE);\n        FileReader dataFileReader = new FileReader(dataFile);\n\n        parser = DefaultParserFactory.getInstance().newFixedLengthParser(mappingFileReader, dataFileReader);\n        parser.setHandlingShortLines(true);\n\n        DataSet dataSet = parser.parse();\n\n        //process the data\n}\n</code></pre>\n\n<p>When I jar up everything and run it as a jar - it bombs out on <code>FileReader mappingFileReader = new FileReader(MAPPING_FILE);</code> with a <code>FileNotFoundException</code>.  That file is inside the jar though.</p>\n\n<p>How do I get to it?</p>\n\n<p>I've looked at <a href=\"https://stackoverflow.com/questions/600146/run-exe-which-is-packaged-inside-jar\">this question</a> and <a href=\"https://stackoverflow.com/questions/463972/creating-a-new-file-using-an-existing-file-within-a-jar\">this question</a> about accessing files inside jars and they both recommend temporarily extracting the file.  I don't want to do that though.</p>\n"},{"tags":["java","android","neo4j"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1680202859,"post_id":75887605,"comment_id":133862705,"body_markdown":"Please read: [JDBC vs Web Service for Android](https://stackoverflow.com/q/15853367/295004)","body":"Please read: <a href=\"https://stackoverflow.com/q/15853367/295004\">JDBC vs Web Service for Android</a>"}],"owner":{"account_id":28130456,"reputation":1,"user_id":21495123,"display_name":"Saretta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680194132,"creation_date":1680175448,"question_id":75887605,"body_markdown":"I have to connect neo4j to android studio. I have a recyclerview that must be populated by neo4j. I made the connection and it works for me but the recyclerview is not populated because in debug I saw that the connection driver variable remains null.\r\n\r\n     public static class AsyncTask_Drink extends AsyncTask&lt;String, String, String&gt; {\r\n    \r\n        static AsyncTask_Drink instance = null;\r\n    \r\n        Connection conn = null;\r\n    \r\n        Driver driver;\r\n    \r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n            try {\r\n                String uri = &quot;bolt://localhost:7687&quot;;\r\n                String username = &quot;neo4j&quot;;\r\n                String password = &quot;neo4j&quot;;\r\n                driver = GraphDatabase.driver(uri, AuthTokens.basic(username, password));\r\n                Session session = driver.session();\r\n                Log.e(&quot;Client&quot;, &quot;Connessione effettuata&quot;);\r\n           } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;Client&quot;, &quot;Connessione non effettuata&quot;);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public Driver getConn() {\r\n            return this.driver;\r\n        }\r\n    \r\n        public static AsyncTask_Drink getInstance() throws Neo4jException {\r\n    \r\n            if (instance == null) {\r\n    \r\n                instance = new AsyncTask_Drink();\r\n            }\r\n            return instance;\r\n        }\r\n    }`\r\n    \r\n    public class DaoDrinkDatabase implements DaoDrink {\r\n    \r\n        public ArrayList&lt;DrinkDomain&gt; getDrinkCocktail() throws Neo4jException, ClassNotFoundException {\r\n    \r\n            ArrayList&lt;DrinkDomain&gt; drinkDomains = new ArrayList&lt;DrinkDomain&gt;();\r\n    \r\n            Driver driver =  DrinksFragment.AsyncTask_Drink.getInstance().getConn();\r\n    \r\n            try(Session session = driver.session()) {\r\n    \r\n                Result result = session.run(&quot;MATCH (d:drink) -[rel:DI_TIPO]-&gt;(t:Tipologia {tipo:\\&quot;Cocktail\\&quot;}) RETURN d,rel,t&quot;);\r\n    \r\n                while (result.hasNext()) {\r\n    \r\n                    Record record = result.next();\r\n    \r\n                    String name = (record.get(&quot;name&quot;).asString());\r\n                    String descriptor = (record.get(&quot;descriptor&quot;).asString());\r\n                    Double fee = (record.get(&quot;fee&quot;).asDouble());\r\n                    String pic = (record.get(&quot;pic&quot;).asString());\r\n    \r\n                    drinkDomains.add(new DrinkDomain(name, descriptor, fee, pic));\r\n                }\r\n            }\r\n            return drinkDomains;\r\n        }\r\n    \r\n    \r\n      public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n            DrinksViewModel drinksViewModel =\r\n                    new ViewModelProvider(this).get(DrinksViewModel.class);\r\n    \r\n            binding = FragmentDrinksBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            text_head = root.findViewById(R.id.text_head);\r\n            category = root.findViewById(R.id.fragment_drinks_category);\r\n            cocktail = root.findViewById(R.id.fragment_drinks_Cocktail);\r\n            shake = root.findViewById(R.id.fragment_drinks_Shake);\r\n            recyclerViewcategory = root.findViewById(R.id.fragment_drinks_recyclerView_category);\r\n            recyclerViewcocktail = root.findViewById(R.id.fragment_drinks_recyclerView_cocktail);\r\n            recyclerViewshake =  root.findViewById(R.id.fragment_drinks_recyclerView_shake);\r\n    \r\n            FunctionThread f = new FunctionThread(&quot;drinks&quot;);\r\n            Thread t = new Thread(f);\r\n            t.start();\r\n            try {\r\n                t.join();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            if(UserSingleton.getLogged()){\r\n    \r\n                text_head.setVisibility(View.INVISIBLE);\r\n                category.setVisibility(View.VISIBLE);\r\n                cocktail.setVisibility(View.VISIBLE);\r\n                shake.setVisibility(View.VISIBLE);\r\n                recyclerViewcategory.setVisibility(View.VISIBLE);\r\n                recyclerViewcocktail.setVisibility(View.VISIBLE);\r\n                recyclerViewshake.setVisibility(View.VISIBLE);\r\n    \r\n            }else{\r\n    \r\n                text_head.setVisibility(View.VISIBLE);\r\n                category.setVisibility(View.VISIBLE);\r\n                shake.setVisibility(View.INVISIBLE);\r\n                cocktail.setVisibility(View.INVISIBLE);\r\n                recyclerViewcategory.setVisibility(View.VISIBLE);\r\n                recyclerViewcocktail.setVisibility(View.INVISIBLE);\r\n                recyclerViewshake.setVisibility(View.INVISIBLE);\r\n    \r\n            }\r\n    \r\n            recyclerViewCategoryList = root.findViewById(R.id.fragment_drinks_recyclerView_category);\r\n            recyclerViewCocktailList = root.findViewById(R.id.fragment_drinks_recyclerView_cocktail);\r\n            recyclerViewShakeList = root.findViewById(R.id.fragment_drinks_recyclerView_shake);\r\n    \r\n            recyclerViewCategory();\r\n    \r\n            AsyncTask_Drink asyncTask_drink = new AsyncTask_Drink();\r\n            asyncTask_drink.execute();\r\n    \r\n            recyclerViewCocktail();\r\n    \r\n            recyclerViewShake();\r\n    \r\n            return root;\r\n        }`\r\n\r\nConnection made to pass data from neo4j to android with java using recyclerview.\r\n\r\nError:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;org.neo4j.driver.Session org.neo4j.driver.Driver.session()&#39; on a null object reference\r\n\r\n","title":"android studio connection to neo4j","body":"<p>I have to connect neo4j to android studio. I have a recyclerview that must be populated by neo4j. I made the connection and it works for me but the recyclerview is not populated because in debug I saw that the connection driver variable remains null.</p>\n<pre><code> public static class AsyncTask_Drink extends AsyncTask&lt;String, String, String&gt; {\n\n    static AsyncTask_Drink instance = null;\n\n    Connection conn = null;\n\n    Driver driver;\n\n    @Override\n    protected String doInBackground(String... strings) {\n        try {\n            String uri = &quot;bolt://localhost:7687&quot;;\n            String username = &quot;neo4j&quot;;\n            String password = &quot;neo4j&quot;;\n            driver = GraphDatabase.driver(uri, AuthTokens.basic(username, password));\n            Session session = driver.session();\n            Log.e(&quot;Client&quot;, &quot;Connessione effettuata&quot;);\n       } catch (Exception e) {\n            e.printStackTrace();\n            Log.e(&quot;Client&quot;, &quot;Connessione non effettuata&quot;);\n        }\n        return null;\n    }\n\n    public Driver getConn() {\n        return this.driver;\n    }\n\n    public static AsyncTask_Drink getInstance() throws Neo4jException {\n\n        if (instance == null) {\n\n            instance = new AsyncTask_Drink();\n        }\n        return instance;\n    }\n}`\n\npublic class DaoDrinkDatabase implements DaoDrink {\n\n    public ArrayList&lt;DrinkDomain&gt; getDrinkCocktail() throws Neo4jException, ClassNotFoundException {\n\n        ArrayList&lt;DrinkDomain&gt; drinkDomains = new ArrayList&lt;DrinkDomain&gt;();\n\n        Driver driver =  DrinksFragment.AsyncTask_Drink.getInstance().getConn();\n\n        try(Session session = driver.session()) {\n\n            Result result = session.run(&quot;MATCH (d:drink) -[rel:DI_TIPO]-&gt;(t:Tipologia {tipo:\\&quot;Cocktail\\&quot;}) RETURN d,rel,t&quot;);\n\n            while (result.hasNext()) {\n\n                Record record = result.next();\n\n                String name = (record.get(&quot;name&quot;).asString());\n                String descriptor = (record.get(&quot;descriptor&quot;).asString());\n                Double fee = (record.get(&quot;fee&quot;).asDouble());\n                String pic = (record.get(&quot;pic&quot;).asString());\n\n                drinkDomains.add(new DrinkDomain(name, descriptor, fee, pic));\n            }\n        }\n        return drinkDomains;\n    }\n\n\n  public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        DrinksViewModel drinksViewModel =\n                new ViewModelProvider(this).get(DrinksViewModel.class);\n\n        binding = FragmentDrinksBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        text_head = root.findViewById(R.id.text_head);\n        category = root.findViewById(R.id.fragment_drinks_category);\n        cocktail = root.findViewById(R.id.fragment_drinks_Cocktail);\n        shake = root.findViewById(R.id.fragment_drinks_Shake);\n        recyclerViewcategory = root.findViewById(R.id.fragment_drinks_recyclerView_category);\n        recyclerViewcocktail = root.findViewById(R.id.fragment_drinks_recyclerView_cocktail);\n        recyclerViewshake =  root.findViewById(R.id.fragment_drinks_recyclerView_shake);\n\n        FunctionThread f = new FunctionThread(&quot;drinks&quot;);\n        Thread t = new Thread(f);\n        t.start();\n        try {\n            t.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        if(UserSingleton.getLogged()){\n\n            text_head.setVisibility(View.INVISIBLE);\n            category.setVisibility(View.VISIBLE);\n            cocktail.setVisibility(View.VISIBLE);\n            shake.setVisibility(View.VISIBLE);\n            recyclerViewcategory.setVisibility(View.VISIBLE);\n            recyclerViewcocktail.setVisibility(View.VISIBLE);\n            recyclerViewshake.setVisibility(View.VISIBLE);\n\n        }else{\n\n            text_head.setVisibility(View.VISIBLE);\n            category.setVisibility(View.VISIBLE);\n            shake.setVisibility(View.INVISIBLE);\n            cocktail.setVisibility(View.INVISIBLE);\n            recyclerViewcategory.setVisibility(View.VISIBLE);\n            recyclerViewcocktail.setVisibility(View.INVISIBLE);\n            recyclerViewshake.setVisibility(View.INVISIBLE);\n\n        }\n\n        recyclerViewCategoryList = root.findViewById(R.id.fragment_drinks_recyclerView_category);\n        recyclerViewCocktailList = root.findViewById(R.id.fragment_drinks_recyclerView_cocktail);\n        recyclerViewShakeList = root.findViewById(R.id.fragment_drinks_recyclerView_shake);\n\n        recyclerViewCategory();\n\n        AsyncTask_Drink asyncTask_drink = new AsyncTask_Drink();\n        asyncTask_drink.execute();\n\n        recyclerViewCocktail();\n\n        recyclerViewShake();\n\n        return root;\n    }`\n</code></pre>\n<p>Connection made to pass data from neo4j to android with java using recyclerview.</p>\n<p>Error:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke interface method 'org.neo4j.driver.Session org.neo4j.driver.Driver.session()' on a null object reference\n</code></pre>\n"},{"tags":["java","user-interface","swing","widget"],"answers":[{"tags":[],"owner":{"account_id":42603,"reputation":1238,"user_id":124123,"accept_rate":100,"display_name":"Abel Morelos"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1251357443,"creation_date":1251357443,"answer_id":1339375,"question_id":1339354,"body_markdown":"Recently I found and use the Microba DatePicker (http://microba.sourceforge.net/) for a personal project involving Swing GUIs, and I actually I really liked the way this control is implemented. Besides, the license is BSD, so you will be able to customize the control and use it for commercial purposes if you need to do so.","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>Recently I found and use the Microba DatePicker (<a href=\"http://microba.sourceforge.net/\" rel=\"noreferrer\">http://microba.sourceforge.net/</a>) for a personal project involving Swing GUIs, and I actually I really liked the way this control is implemented. Besides, the license is BSD, so you will be able to customize the control and use it for commercial purposes if you need to do so.</p>\n"},{"tags":[],"owner":{"account_id":22226,"reputation":3349,"user_id":54623,"accept_rate":65,"display_name":"tuler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255792018,"creation_date":1255792018,"answer_id":1582403,"question_id":1339354,"body_markdown":"There is also [NachoCalendar][1].\r\n\r\n\r\n  [1]: http://nachocalendar.sourceforge.net/","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>There is also <a href=\"http://nachocalendar.sourceforge.net/\" rel=\"nofollow noreferrer\">NachoCalendar</a>.</p>\n"},{"tags":[],"owner":{"account_id":303681,"reputation":1427,"user_id":612772,"display_name":"fencingCode"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330125224,"creation_date":1330125224,"answer_id":9439396,"question_id":1339354,"body_markdown":"I&#39;m often late but the best i&#39;ve seen is : [JDatePicker][1]\r\n\r\n(What has surprised me : week start with Sunday - like many Calendar and by the way Sunday is day 0 in Java - but you can edit the source and recompile to get it start with Monday instead ;-) )\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jdatepicker/","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>I'm often late but the best i've seen is : <a href=\"http://sourceforge.net/projects/jdatepicker/\" rel=\"nofollow\">JDatePicker</a></p>\n\n<p>(What has surprised me : week start with Sunday - like many Calendar and by the way Sunday is day 0 in Java - but you can edit the source and recompile to get it start with Monday instead ;-) )</p>\n"},{"tags":[],"owner":{"account_id":1893657,"reputation":19,"user_id":1711074,"display_name":"Ajinkya Jagtap"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349157072,"creation_date":1349088826,"answer_id":12671906,"question_id":1339354,"body_markdown":"jDateChooser which comes with jCalendar is the best component for date:\r\nFollowing is the way to get date from date picker:\r\n\r\n    //dat is name given to datepicker component\r\n    int day=dat.getJCalendar().getDayChooser().getDay();\r\n    int month=dat.getJCalendar().getMonthChooser().getMonth();\r\n    int year=dat.getJCalendar().getYearChooser().getYear();\r\n    String dateNow=year+&quot;/&quot;+month+&quot;/&quot;+day;\r\n    System.out.println(dateNow);\r\n\r\n    //***************************************************\r\n    //For setting date of date picker:\r\n    dat.setDateFormatString(&quot;dd-MM-yyyy&quot;);\r\n    Calendar currentDate = Calendar.getInstance();\r\n    dat.setDate(currentDate.getTime());","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>jDateChooser which comes with jCalendar is the best component for date:\nFollowing is the way to get date from date picker:</p>\n\n<pre><code>//dat is name given to datepicker component\nint day=dat.getJCalendar().getDayChooser().getDay();\nint month=dat.getJCalendar().getMonthChooser().getMonth();\nint year=dat.getJCalendar().getYearChooser().getYear();\nString dateNow=year+\"/\"+month+\"/\"+day;\nSystem.out.println(dateNow);\n\n//***************************************************\n//For setting date of date picker:\ndat.setDateFormatString(\"dd-MM-yyyy\");\nCalendar currentDate = Calendar.getInstance();\ndat.setDate(currentDate.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3784583,"reputation":951,"user_id":3142960,"display_name":"BlakeTNC"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1462316270,"creation_date":1455882029,"answer_id":35504439,"question_id":1339354,"body_markdown":"I&#39;ve tried most of the date pickers out there.&lt;br/&gt;\nI would suggest **LGoodDatePicker**. \n\nhttps://github.com/LGoodDatePicker/LGoodDatePicker\n\nFair disclosure: I am the primary developer.\n\nHere is a general feature list (as adapted from Github):\n\n* Automatic internationalization. \n* Uses the (new) standard Java 8 time package. Also called &quot;java.time&quot; or &quot;JSR-310&quot;.\n* Automatic validation of dates.\n* Fonts and colors can be changed. \n* Optional highlight policies and veto policies.\n* Relatively compact source code (3 core classes).\n* Creating a DatePicker requires only one line of code.\n* Demo program and code samples included.\n* Good Javadocs.\n* Open source license.\n\nScreenshots below:\n\n![LGoodDatePicker Screenshots][1]\n\n  [1]: http://i.stack.imgur.com/4yKQR.png","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>I've tried most of the date pickers out there.<br/>\nI would suggest <strong>LGoodDatePicker</strong>.</p>\n<p><a href=\"https://github.com/LGoodDatePicker/LGoodDatePicker\" rel=\"noreferrer\">https://github.com/LGoodDatePicker/LGoodDatePicker</a></p>\n<p>Fair disclosure: I am the primary developer.</p>\n<p>Here is a general feature list (as adapted from Github):</p>\n<ul>\n<li>Automatic internationalization.</li>\n<li>Uses the (new) standard Java 8 time package. Also called &quot;java.time&quot; or &quot;JSR-310&quot;.</li>\n<li>Automatic validation of dates.</li>\n<li>Fonts and colors can be changed.</li>\n<li>Optional highlight policies and veto policies.</li>\n<li>Relatively compact source code (3 core classes).</li>\n<li>Creating a DatePicker requires only one line of code.</li>\n<li>Demo program and code samples included.</li>\n<li>Good Javadocs.</li>\n<li>Open source license.</li>\n</ul>\n<p>Screenshots below:</p>\n<p><img src=\"https://i.stack.imgur.com/4yKQR.png\" alt=\"LGoodDatePicker Screenshots\" /></p>\n"},{"tags":[],"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680193862,"creation_date":1676417647,"answer_id":75454243,"question_id":1339354,"body_markdown":"I came across this question myself recently. Found most of the answers obsolete or unsatisfactory so I created my own:\r\n\r\n[![Sierra Date Picker][1]][1] \r\n\r\nIt is fully localized and available as part of the Sierra project on GitHub: \r\n\r\nhttps://github.com/HTTP-RPC/Sierra\r\n\r\nA time picker is also available:\r\n\r\n[![Sierra Time Picker][2]][2]\r\n\r\n  [1]: https://github.com/HTTP-RPC/Sierra/raw/master/README/date-picker.png\r\n  [2]: https://github.com/HTTP-RPC/Sierra/raw/master/README/time-picker.png","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>I came across this question myself recently. Found most of the answers obsolete or unsatisfactory so I created my own:</p>\n<p><a href=\"https://github.com/HTTP-RPC/Sierra/raw/master/README/date-picker.png\" rel=\"nofollow noreferrer\"><img src=\"https://github.com/HTTP-RPC/Sierra/raw/master/README/date-picker.png\" alt=\"Sierra Date Picker\" /></a></p>\n<p>It is fully localized and available as part of the Sierra project on GitHub:</p>\n<p><a href=\"https://github.com/HTTP-RPC/Sierra\" rel=\"nofollow noreferrer\">https://github.com/HTTP-RPC/Sierra</a></p>\n<p>A time picker is also available:</p>\n<p><a href=\"https://github.com/HTTP-RPC/Sierra/raw/master/README/time-picker.png\" rel=\"nofollow noreferrer\"><img src=\"https://github.com/HTTP-RPC/Sierra/raw/master/README/time-picker.png\" alt=\"Sierra Time Picker\" /></a></p>\n"}],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84984,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":1339375,"answer_count":6,"score":27,"last_activity_date":1680193862,"creation_date":1251357004,"question_id":1339354,"body_markdown":"What are good Java Swing date-chooser components? So far I&#39;ve only really found these 2:\r\n\r\n - [`JCalendar`][1] - this one is pretty good as it uses the underlying look and feel.\r\n - `JXMonthView` in the [SwingX][2] project - not so good as it uses its own look and feel\r\n\r\nBoth of these look a bit clunky when compared with some I&#39;ve seen on web-pages. For example, it might be nice to see *multiple months* at the same time. Does anyone know of any other good widgets out there?\r\n\r\n\r\n  [1]: http://toedter.com/jcalendar/\r\n  [2]: https://java.net/projects/swingx","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>What are good Java Swing date-chooser components? So far I've only really found these 2:</p>\n\n<ul>\n<li><a href=\"http://toedter.com/jcalendar/\" rel=\"noreferrer\"><code>JCalendar</code></a> - this one is pretty good as it uses the underlying look and feel.</li>\n<li><code>JXMonthView</code> in the <a href=\"https://java.net/projects/swingx\" rel=\"noreferrer\">SwingX</a> project - not so good as it uses its own look and feel</li>\n</ul>\n\n<p>Both of these look a bit clunky when compared with some I've seen on web-pages. For example, it might be nice to see <em>multiple months</em> at the same time. Does anyone know of any other good widgets out there?</p>\n"},{"tags":["java","junit","selenium-webdriver","webdriver","junit4"],"comments":[{"owner":{"account_id":2310386,"reputation":2253,"user_id":2028640,"accept_rate":71,"display_name":"Pat"},"score":0,"creation_date":1406202455,"post_id":24932763,"comment_id":38743660,"body_markdown":"what is the version of your JUnit? And how are you running the tests - e.g. ant, maven, eclipse ?","body":"what is the version of your JUnit? And how are you running the tests - e.g. ant, maven, eclipse ?"},{"owner":{"account_id":2600348,"reputation":1327,"user_id":2252938,"accept_rate":83,"display_name":"Maas"},"score":0,"creation_date":1406202481,"post_id":24932763,"comment_id":38743675,"body_markdown":"I think non of your tests are in the category DCCTests, so the runner finds no tests left after applying the filter. To confirm, can you please put your test sample here?","body":"I think non of your tests are in the category DCCTests, so the runner finds no tests left after applying the filter. To confirm, can you please put your test sample here?"},{"owner":{"account_id":2935890,"reputation":378,"user_id":2514784,"accept_rate":80,"display_name":"Prasad"},"score":0,"creation_date":1406202931,"post_id":24932763,"comment_id":38744012,"body_markdown":"@Pat: I am running using eclipse.","body":"@Pat: I am running using eclipse."},{"owner":{"account_id":2935890,"reputation":378,"user_id":2514784,"accept_rate":80,"display_name":"Prasad"},"score":0,"creation_date":1406202949,"post_id":24932763,"comment_id":38744024,"body_markdown":"@Girish: No there are many tests in DCCTests.","body":"@Girish: No there are many tests in DCCTests."},{"owner":{"account_id":2310386,"reputation":2253,"user_id":2028640,"accept_rate":71,"display_name":"Pat"},"score":0,"creation_date":1406203110,"post_id":24932763,"comment_id":38744141,"body_markdown":"@Prasad - and ur JUnit version?","body":"@Prasad - and ur JUnit version?"},{"owner":{"account_id":2935890,"reputation":378,"user_id":2514784,"accept_rate":80,"display_name":"Prasad"},"score":0,"creation_date":1406203297,"post_id":24932763,"comment_id":38744288,"body_markdown":"@Pat: Version is 4.10","body":"@Pat: Version is 4.10"}],"answers":[{"tags":[],"owner":{"account_id":2600348,"reputation":1327,"user_id":2252938,"accept_rate":83,"display_name":"Maas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406203796,"creation_date":1406203796,"answer_id":24933312,"question_id":24932763,"body_markdown":"Here is the working example for @Category (The example is from Java Doc). It works with my JUnit 4.11\r\n\r\norg.junit.experimental.categories.Categories\r\n\r\n    public interface FastTests {\r\n     }\r\n     \t\r\n     public interface SlowTests {\r\n     }\r\n     \r\n     public static class A {\r\n     \t@Test\r\n     \tpublic void a() {\r\n     \t\tfail();\r\n     \t}\r\n     \r\n     \t@Category(SlowTests.class)\r\n     \t@Test\r\n     \tpublic void b() {\r\n     \t}\r\n     }\r\n     \r\n     @Category( { SlowTests.class, FastTests.class })\r\n     public static class B {\r\n     \t@Test\r\n     \tpublic void c() {\r\n     \r\n     \t}\r\n     }\r\n     \r\n     @RunWith(Categories.class)\r\n     @IncludeCategory(SlowTests.class)\r\n     @SuiteClasses( { A.class, B.class })\r\n     // Note that Categories is a kind of Suite\r\n     public static class SlowTestSuite {\r\n     }\r\n\r\n\r\nA main to call:\r\n\r\n    public static void main(String[] args)\r\n    \t{\r\n    \t\tResult result  = JUnitCore.runClasses(SlowTestSuite.class);\r\n    \t\t\r\n    \t\t/** Check results **/\r\n    \t}","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>Here is the working example for @Category (The example is from Java Doc). It works with my JUnit 4.11</p>\n\n<p>org.junit.experimental.categories.Categories</p>\n\n<pre><code>public interface FastTests {\n }\n\n public interface SlowTests {\n }\n\n public static class A {\n    @Test\n    public void a() {\n        fail();\n    }\n\n    @Category(SlowTests.class)\n    @Test\n    public void b() {\n    }\n }\n\n @Category( { SlowTests.class, FastTests.class })\n public static class B {\n    @Test\n    public void c() {\n\n    }\n }\n\n @RunWith(Categories.class)\n @IncludeCategory(SlowTests.class)\n @SuiteClasses( { A.class, B.class })\n // Note that Categories is a kind of Suite\n public static class SlowTestSuite {\n }\n</code></pre>\n\n<p>A main to call:</p>\n\n<pre><code>public static void main(String[] args)\n    {\n        Result result  = JUnitCore.runClasses(SlowTestSuite.class);\n\n        /** Check results **/\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417285778,"creation_date":1417285778,"answer_id":27205516,"question_id":24932763,"body_markdown":"I discussed a similar problem in https://stackoverflow.com/questions/16587994/what-is-junit-trying-to-tell-me-when-it-throws-a-notestsremainexception, the cause for me was an outdated JUnit jar of version 3.8 being loaded instead of the required JUnit 4.11.","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>I discussed a similar problem in <a href=\"https://stackoverflow.com/questions/16587994/what-is-junit-trying-to-tell-me-when-it-throws-a-notestsremainexception\">What is Junit trying to tell me when it throws a &quot;NoTestsRemainException&quot;</a>, the cause for me was an outdated JUnit jar of version 3.8 being loaded instead of the required JUnit 4.11.</p>\n"},{"tags":[],"owner":{"account_id":974204,"reputation":104,"user_id":996026,"display_name":"Denilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525275912,"creation_date":1525275912,"answer_id":50138606,"question_id":24932763,"body_markdown":"The message is technically correct for your sample, but very misleading.\r\n\r\norg.junit.runners.AllTests.class is not a valid parameter for @SuiteClasses (it is meant to be a JUnit 3.8 adapter) , so that the Categories runner discards it internally and then reports it has &quot;no remaining tests&quot; to run.\r\n\r\nI suppose the incomplete error handling goes with the &quot;experimental&quot; part of the Java package for Categories, which is now deprecated by the new @Tag annotation in JUnit 5.\r\n\r\nIf you need to dynamically include all tests contained in classes in the classpath, try this thread: https://stackoverflow.com/questions/3257080/how-do-i-dynamically-create-a-test-suite-in-junit-4\r\n","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>The message is technically correct for your sample, but very misleading.</p>\n\n<p>org.junit.runners.AllTests.class is not a valid parameter for @SuiteClasses (it is meant to be a JUnit 3.8 adapter) , so that the Categories runner discards it internally and then reports it has \"no remaining tests\" to run.</p>\n\n<p>I suppose the incomplete error handling goes with the \"experimental\" part of the Java package for Categories, which is now deprecated by the new @Tag annotation in JUnit 5.</p>\n\n<p>If you need to dynamically include all tests contained in classes in the classpath, try this thread: <a href=\"https://stackoverflow.com/questions/3257080/how-do-i-dynamically-create-a-test-suite-in-junit-4\">How do I Dynamically create a Test Suite in JUnit 4?</a></p>\n"},{"tags":[],"owner":{"account_id":28141879,"reputation":1,"user_id":21504798,"display_name":"Jiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680193281,"creation_date":1679949687,"answer_id":75860202,"question_id":24932763,"body_markdown":"A little bit late, but could be worth for someone\r\n\r\n1. Make sure you are using proper versions of libs. In my case `junit-4.13.2`, JUnit 5 = JUnit Platform 1.9.2 + JUnit Jupiter 5.9.2 + JUnit Vintage 5.9.2\r\n\r\n2. Annotation `@Test` is imported using `org.junit.Test`, not a `org.junit.jupiter.api.Test`\r\n\r\n3. Make all tests methods and class public","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>A little bit late, but could be worth for someone</p>\n<ol>\n<li><p>Make sure you are using proper versions of libs. In my case <code>junit-4.13.2</code>, JUnit 5 = JUnit Platform 1.9.2 + JUnit Jupiter 5.9.2 + JUnit Vintage 5.9.2</p>\n</li>\n<li><p>Annotation <code>@Test</code> is imported using <code>org.junit.Test</code>, not a <code>org.junit.jupiter.api.Test</code></p>\n</li>\n<li><p>Make all tests methods and class public</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2935890,"reputation":378,"user_id":2514784,"accept_rate":80,"display_name":"Prasad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1680193281,"creation_date":1406202287,"question_id":24932763,"body_markdown":"I am new to junits. When I try to run my testsuite it is giving me this error. I googled but didn&#39;t get any answer. Posting the stacktrace.\r\n    \r\n    org.junit.runner.manipulation.NoTestsRemainException\r\n    at org.junit.runners.ParentRunner.filter(ParentRunner.java:327)\r\n    at org.junit.experimental.categories.Categories.&lt;init&gt;(Categories.java:151)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:35)\r\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:24)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:33)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:48)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:38)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    \r\nHere is the testsuite which I am trying to run.\r\n    \r\n    @RunWith(Categories.class)\r\n    @Categories.IncludeCategory(DCCTests.class)\r\n    @SuiteClasses({ AllTests.class })\r\n    public class DealerCommandCenterTestsSuite {\r\n    \r\n    }\r\n\r\n","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>I am new to junits. When I try to run my testsuite it is giving me this error. I googled but didn't get any answer. Posting the stacktrace.</p>\n\n<pre><code>org.junit.runner.manipulation.NoTestsRemainException\nat org.junit.runners.ParentRunner.filter(ParentRunner.java:327)\nat org.junit.experimental.categories.Categories.&lt;init&gt;(Categories.java:151)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:35)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:24)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\nat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:33)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:48)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>Here is the testsuite which I am trying to run.</p>\n\n<pre><code>@RunWith(Categories.class)\n@Categories.IncludeCategory(DCCTests.class)\n@SuiteClasses({ AllTests.class })\npublic class DealerCommandCenterTestsSuite {\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9458,"page":534,"page_size":100}
