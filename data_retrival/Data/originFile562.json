{"items":[{"tags":["java","android","vue.js","android-studio","quasar"],"comments":[{"owner":{"account_id":1956124,"reputation":1197,"user_id":1759099,"accept_rate":21,"display_name":"HelmBurger"},"score":0,"creation_date":1660181560,"post_id":72982352,"comment_id":129474600,"body_markdown":"Did you ever manage to find a solution to this?","body":"Did you ever manage to find a solution to this?"}],"answers":[{"tags":[],"owner":{"account_id":1318353,"reputation":1,"user_id":5930304,"display_name":"Дмитрий Огородний"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679305168,"creation_date":1679305168,"answer_id":75788634,"question_id":72982352,"body_markdown":"I just run additional &quot; --ide &quot;, like:\r\n\r\n`quasar build -m capacitor -T android --ide`\r\n\r\nThey are open Android Studio and then you can test it or build it for Play Market :)\r\n","title":"Problems with android studio and quasar","body":"<p>I just run additional &quot; --ide &quot;, like:</p>\n<p><code>quasar build -m capacitor -T android --ide</code></p>\n<p>They are open Android Studio and then you can test it or build it for Play Market :)</p>\n"}],"owner":{"account_id":25809116,"reputation":11,"user_id":19550192,"display_name":"facundo benedetto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679305168,"creation_date":1657809596,"question_id":72982352,"body_markdown":"I work with quasar.\r\nI try initiating the project with these commands:\r\n```\r\nquasar build -m capacitor -T android\r\nquasar dev -m capacitor -T android\r\n```\r\nbut when I insert the first command [this error][1] appears\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BKWjU.png\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not initialize class org.codehaus.groovy.reflection.ReflectionCache\r\n&gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7 [in thread &quot;Daemon worker&quot;]\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 4s\r\n```","title":"Problems with android studio and quasar","body":"<p>I work with quasar.\nI try initiating the project with these commands:</p>\n<pre><code>quasar build -m capacitor -T android\nquasar dev -m capacitor -T android\n</code></pre>\n<p>but when I insert the first command <a href=\"https://i.stack.imgur.com/BKWjU.png\" rel=\"nofollow noreferrer\">this error</a> appears</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not initialize class org.codehaus.groovy.reflection.ReflectionCache\n&gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7 [in thread &quot;Daemon worker&quot;]\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4s\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1678960037,"post_id":75754041,"comment_id":133635152,"body_markdown":"Please check that file is not added as pattern in &quot;Settings/Preferences | Editor | File Types - java class&quot;","body":"Please check that file is not added as pattern in &quot;Settings/Preferences | Editor | File Types - java class&quot;"},{"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"score":0,"creation_date":1678961736,"post_id":75754041,"comment_id":133635655,"body_markdown":"@y.bedrov it&#39;s not , the hasbang patterns is empty","body":"@y.bedrov it&#39;s not , the hasbang patterns is empty"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1678962221,"post_id":75754041,"comment_id":133635802,"body_markdown":"Is file name pattern is also empty? Do you have &quot;Override file type&quot; option available in file context menu?","body":"Is file name pattern is also empty? Do you have &quot;Override file type&quot; option available in file context menu?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678964801,"post_id":75754041,"comment_id":133636644,"body_markdown":"Is it possible that something in your build system (or even IDEA project configuration) is misconfigured to write class files to `src/main/java/` instead of inside `target/`?","body":"Is it possible that something in your build system (or even IDEA project configuration) is misconfigured to write class files to <code>src&#47;main&#47;java&#47;</code> instead of inside <code>target&#47;</code>?"},{"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"score":0,"creation_date":1679061808,"post_id":75754041,"comment_id":133658213,"body_markdown":"@y.bedrov , right click remove file override was or something like that was available on right click, i have clicked it now its back to normal. Thanks alot, you could submit the same answer and i can tick it as the winning one","body":"@y.bedrov , right click remove file override was or something like that was available on right click, i have clicked it now its back to normal. Thanks alot, you could submit the same answer and i can tick it as the winning one"}],"answers":[{"tags":[],"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679304850,"creation_date":1679304850,"answer_id":75788587,"question_id":75754041,"body_markdown":"Seems file was added as a pattern to &quot;File Types - Java class&quot;. You may use  &quot;Revert File type Override&quot; option available in file context menu to restore defaults.","title":"java file gets broken in intellij everytime i close the program","body":"<p>Seems file was added as a pattern to &quot;File Types - Java class&quot;. You may use  &quot;Revert File type Override&quot; option available in file context menu to restore defaults.</p>\n"}],"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788587,"answer_count":1,"score":0,"last_activity_date":1679304850,"creation_date":1678957825,"question_id":75754041,"body_markdown":"I am working on a small project for a java course in IntelliJ\r\n\r\n[![userrepo working][1]][1]\r\n\r\n\r\neverything is good untill i close the program. after i open it it looks like this\r\n\r\n[![userrepo not working][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EiJBe.png\r\n  [2]: https://i.stack.imgur.com/ijh8u.png\r\n\r\nto fix it i need to go into the file explorer, add a s to the name or something, which will change the name into intellij too and then it reads it and i have to rename it back from intellij to UserRepository and all good after. Until i exit the program again.. and its a loop","title":"java file gets broken in intellij everytime i close the program","body":"<p>I am working on a small project for a java course in IntelliJ</p>\n<p><a href=\"https://i.stack.imgur.com/EiJBe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EiJBe.png\" alt=\"userrepo working\" /></a></p>\n<p>everything is good untill i close the program. after i open it it looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/ijh8u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ijh8u.png\" alt=\"userrepo not working\" /></a></p>\n<p>to fix it i need to go into the file explorer, add a s to the name or something, which will change the name into intellij too and then it reads it and i have to rename it back from intellij to UserRepository and all good after. Until i exit the program again.. and its a loop</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":23301628,"reputation":63,"user_id":17382180,"display_name":"BuggerMeNot"},"score":1,"creation_date":1678869101,"post_id":75741577,"comment_id":133614793,"body_markdown":"Isn&#39;t Processing built on java? I just thought that maybe there is a similar problem in Java too and so added the tag.","body":"Isn&#39;t Processing built on java? I just thought that maybe there is a similar problem in Java too and so added the tag."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678869317,"post_id":75741577,"comment_id":133614843,"body_markdown":"I do not know what it is implemented in. It uses the Java Virtual Machine, but the question is not about the Java Programing Language (unless you want to change the implementation of Processing itself [assuming it is implemented in Java])","body":"I do not know what it is implemented in. It uses the Java Virtual Machine, but the question is not about the Java Programing Language (unless you want to change the implementation of Processing itself [assuming it is implemented in Java])"},{"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"score":1,"creation_date":1678881539,"post_id":75741577,"comment_id":133618190,"body_markdown":"Processing IDE is Processing java library + just a little syntactic sugar on top.","body":"Processing IDE is Processing java library + just a little syntactic sugar on top."},{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":2,"creation_date":1678902291,"post_id":75741577,"comment_id":133624787,"body_markdown":"I would like to try to reproduce the issue, can I get the code?","body":"I would like to try to reproduce the issue, can I get the code?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1678902794,"post_id":75741577,"comment_id":133624922,"body_markdown":"@user16320675 anyone proficient in Processing knows it uses Java and runs on the JVM. Questions that might be related to the underlying Java or JVM behaviour are perfectly fine to tag with both Processing and Java.","body":"@user16320675 anyone proficient in Processing knows it uses Java and runs on the JVM. Questions that might be related to the underlying Java or JVM behaviour are perfectly fine to tag with both Processing and Java."},{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":1,"creation_date":1678937082,"post_id":75741577,"comment_id":133631034,"body_markdown":"@user16320675 some Processing questions have their real issue in their java heritage. A java programmer may help a Processing programmer without being a Processing specialist. Tagging java makes sense especially when the issue is weird like this one.","body":"@user16320675 some Processing questions have their real issue in their java heritage. A java programmer may help a Processing programmer without being a Processing specialist. Tagging java makes sense especially when the issue is weird like this one."},{"owner":{"account_id":23301628,"reputation":63,"user_id":17382180,"display_name":"BuggerMeNot"},"score":1,"creation_date":1679304796,"post_id":75741577,"comment_id":133691101,"body_markdown":"@laancelot I have updated the question to have the github link for the code. Do let me know if you find anything.","body":"@laancelot I have updated the question to have the github link for the code. Do let me know if you find anything."},{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":0,"creation_date":1679426514,"post_id":75741577,"comment_id":133719650,"body_markdown":"I&#39;m having trouble reproducing the issue. What speeds are you using (I&#39;m guessing that you are modifying this line: `if (frameCount % 5 == 0) {`, but with which values?)?","body":"I&#39;m having trouble reproducing the issue. What speeds are you using (I&#39;m guessing that you are modifying this line: <code>if (frameCount % 5 == 0) {</code>, but with which values?)?"},{"owner":{"account_id":23301628,"reputation":63,"user_id":17382180,"display_name":"BuggerMeNot"},"score":1,"creation_date":1679645711,"post_id":75741577,"comment_id":133761574,"body_markdown":"@laancelot please refer to the README file in the repo. Scroll to the end, I have documented how I was able to recreate the error. I&#39;ll write the gist here regardless, the value &#39;5&#39; is the factor by which framerate is reduced. Error occurs when you write ``` frameCount % 1 == 0 ``` which means the program is running at an uncapped fps. You can compare this setup with the original by setting value to 5 and you&#39;ll see the difference. Again refer to the README file in the [repo](https://github.com/Buggermenot/Minesweeper-Bot)","body":"@laancelot please refer to the README file in the repo. Scroll to the end, I have documented how I was able to recreate the error. I&#39;ll write the gist here regardless, the value &#39;5&#39; is the factor by which framerate is reduced. Error occurs when you write ``` frameCount % 1 == 0 ``` which means the program is running at an uncapped fps. You can compare this setup with the original by setting value to 5 and you&#39;ll see the difference. Again refer to the README file in the <a href=\"https://github.com/Buggermenot/Minesweeper-Bot\" rel=\"nofollow noreferrer\">repo</a>"}],"owner":{"account_id":23301628,"reputation":63,"user_id":17382180,"display_name":"BuggerMeNot"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679304815,"creation_date":1678864980,"question_id":75741577,"body_markdown":"I am writing a processing code for a minesweeper solver bot. When running the solver at lower framerates, the code runs perfectly fine, however, at higher framerates, it fails. I have been running the same test with the exact same settings and seed values but this error still stays. How do I fix this?\r\n\r\n**How it works**:\r\nHere is the gist of how the program works (Refer to the control diagram):\r\n```\r\n- Minesweeper gameBoard created with &#39;n&#39; bombs placed randomly on a square grid.\r\n- All cells are initially hidden.\r\n- The solver bot has a private grid of the same size called knowledge.\r\n- Bot uses the following values to describe a cell: UNKNOWN: -2, BOMB: -1, SAFE: 0\r\n- If the bot does not find any suitable cell to play, it left clicks a random hidden cell.\r\n```\r\n\r\n[![Control Flow for the solver](https://i.stack.imgur.com/J95FK.png)](https://i.stack.imgur.com/J95FK.png)\r\n\r\n**Problem**:\r\nThe two attached gifs show the program working for the same grid positions but at two different speeds. The one that fails is at an uncapped fps while the other is capped. (The view in both is the knowledge view; What the bot &quot;sees&quot; / infers)\r\n\r\nSlow Run, Fast Run (failed):\r\n\r\n[![Slow Run](https://i.stack.imgur.com/x81qu.gif)](https://i.stack.imgur.com/x81qu.gif)\r\n[![Fast Run](https://i.stack.imgur.com/sE3CI.gif)](https://i.stack.imgur.com/sE3CI.gif)\r\n\r\nI do not understand why there is such a difference because of the speed of the program. As far as I know, this should be a problem for lack of synchronization but I am not doing any multi-threading in this so I don&#39;t understand why this is happening.\r\n\r\nThanks for you time.\r\n\r\nEdit: GitHub link: https://github.com/Buggermenot/Minesweeper-Bot","title":"Code malfunctions in Processing at higher frameRates","body":"<p>I am writing a processing code for a minesweeper solver bot. When running the solver at lower framerates, the code runs perfectly fine, however, at higher framerates, it fails. I have been running the same test with the exact same settings and seed values but this error still stays. How do I fix this?</p>\n<p><strong>How it works</strong>:\nHere is the gist of how the program works (Refer to the control diagram):</p>\n<pre><code>- Minesweeper gameBoard created with 'n' bombs placed randomly on a square grid.\n- All cells are initially hidden.\n- The solver bot has a private grid of the same size called knowledge.\n- Bot uses the following values to describe a cell: UNKNOWN: -2, BOMB: -1, SAFE: 0\n- If the bot does not find any suitable cell to play, it left clicks a random hidden cell.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/J95FK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J95FK.png\" alt=\"Control Flow for the solver\" /></a></p>\n<p><strong>Problem</strong>:\nThe two attached gifs show the program working for the same grid positions but at two different speeds. The one that fails is at an uncapped fps while the other is capped. (The view in both is the knowledge view; What the bot &quot;sees&quot; / infers)</p>\n<p>Slow Run, Fast Run (failed):</p>\n<p><a href=\"https://i.stack.imgur.com/x81qu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x81qu.gif\" alt=\"Slow Run\" /></a>\n<a href=\"https://i.stack.imgur.com/sE3CI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sE3CI.gif\" alt=\"Fast Run\" /></a></p>\n<p>I do not understand why there is such a difference because of the speed of the program. As far as I know, this should be a problem for lack of synchronization but I am not doing any multi-threading in this so I don't understand why this is happening.</p>\n<p>Thanks for you time.</p>\n<p>Edit: GitHub link: <a href=\"https://github.com/Buggermenot/Minesweeper-Bot\" rel=\"nofollow noreferrer\">https://github.com/Buggermenot/Minesweeper-Bot</a></p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1641366755,"post_id":70588759,"comment_id":124783395,"body_markdown":"I don&#39;t know if there is a ready made solution for that in spring boot, but nothing is stopping you from storing a flag somewhere in the db, that is being checked at the start of execution, and let that help you decide whether or not to execute the actual batch logic","body":"I don&#39;t know if there is a ready made solution for that in spring boot, but nothing is stopping you from storing a flag somewhere in the db, that is being checked at the start of execution, and let that help you decide whether or not to execute the actual batch logic"},{"owner":{"account_id":13351697,"reputation":31,"user_id":9636723,"display_name":"Zerobell Lee"},"score":0,"creation_date":1641373061,"post_id":70588759,"comment_id":124785175,"body_markdown":"Thank you @Stultuske I posted this question just for my curiosity. Maybe I will adopt libraries such as distributed lock. I wanted to check whether Spring Batch itself guarantee idempotent tasks, and lots of article said &quot;Yes, it does&quot; but none of them described how it does in details. That&#39;s why I wrote this article.","body":"Thank you @Stultuske I posted this question just for my curiosity. Maybe I will adopt libraries such as distributed lock. I wanted to check whether Spring Batch itself guarantee idempotent tasks, and lots of article said &quot;Yes, it does&quot; but none of them described how it does in details. That&#39;s why I wrote this article."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679304778,"creation_date":1679304778,"answer_id":75788569,"question_id":70588759,"body_markdown":"&gt; How about executing same jobs when the last execution was FAILED?\r\n\r\nThe method that creates job executions is designed to be transactional. As mentioned in the docs you shared, the isolation level `REPEATABLE_READ` should work in most cases. If this is not sufficient (ie you still see concurrent job executions being launched for the same job instance), then you need to increase the isolation level to `SERIALIZABLE`. That would really serialize concurrent access at the database level, and Spring Batch can do nothing about it.\r\n\r\nNow to answer your question about the failure case, once you have a `SERIALIZABLE` isolation level set on your job repository, the lucky winner  (process or thread) who will be able to access the `createJobExecution` method will check the existence of a job instance with the given name and identifying job parameters, and if there is already a failed execution, a new execution for the same job instance will be created to resume the job from where it left off in the previous run.","title":"Does Spring Batch really prevent executing same jobs concurrently? Is it really idempotent?","body":"<blockquote>\n<p>How about executing same jobs when the last execution was FAILED?</p>\n</blockquote>\n<p>The method that creates job executions is designed to be transactional. As mentioned in the docs you shared, the isolation level <code>REPEATABLE_READ</code> should work in most cases. If this is not sufficient (ie you still see concurrent job executions being launched for the same job instance), then you need to increase the isolation level to <code>SERIALIZABLE</code>. That would really serialize concurrent access at the database level, and Spring Batch can do nothing about it.</p>\n<p>Now to answer your question about the failure case, once you have a <code>SERIALIZABLE</code> isolation level set on your job repository, the lucky winner  (process or thread) who will be able to access the <code>createJobExecution</code> method will check the existence of a job instance with the given name and identifying job parameters, and if there is already a failed execution, a new execution for the same job instance will be created to resume the job from where it left off in the previous run.</p>\n"}],"owner":{"account_id":13351697,"reputation":31,"user_id":9636723,"display_name":"Zerobell Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1097,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679304778,"creation_date":1641364976,"question_id":70588759,"body_markdown":"I&#39;ve researched Spring Batch since I have to use it, and I want to know whether Spring Batch can really prevent executing same jobs with same parameters.\r\n\r\nIn this article, &quot;Same jobs&quot; means &quot;The jobs that have actually same jobName and jobParameters&quot;.\r\n\r\n\r\nI got some points.\r\n\r\n* Spring Batch can prevent executing same multiple jobs that executed never before\r\n* Spring Batch can prevent executing the same job after the prior job succeeded\r\n\r\nBut I have a question: **How about executing same jobs when the last execution was FAILED?**\r\n\r\n[![multiple batch app][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NqgOO.png\r\n\r\nWhile insepcting Spring Batch codes, I feel this situation possibly occur, but rarely.\r\n\r\n```java\r\n\t@Override\r\n\tpublic JobExecution createJobExecution(String jobName, JobParameters jobParameters)\r\n\t\t\tthrows JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException {\r\n\r\n\t\tAssert.notNull(jobName, &quot;Job name must not be null.&quot;);\r\n\t\tAssert.notNull(jobParameters, &quot;JobParameters must not be null.&quot;);\r\n\r\n\t\t/*\r\n\t\t * Find all jobs matching the runtime information.\r\n\t\t *\r\n\t\t * If this method is transactional, and the isolation level is\r\n\t\t * REPEATABLE_READ or better, another launcher trying to start the same\r\n\t\t * job in another thread or process will block until this transaction\r\n\t\t * has finished.\r\n\t\t */\r\n\r\n\t\tJobInstance jobInstance = jobInstanceDao.getJobInstance(jobName, jobParameters);\r\n\t\tExecutionContext executionContext;\r\n\r\n\t\t// existing job instance found\r\n\t\tif (jobInstance != null) {\r\n\r\n\t\t\tList&lt;JobExecution&gt; executions = jobExecutionDao.findJobExecutions(jobInstance);\r\n\r\n\t\t\tif (executions.isEmpty()) {\r\n\t\t\t\tthrow new IllegalStateException(&quot;Cannot find any job execution for job instance: &quot; + jobInstance);\r\n\t\t\t}\r\n\r\n\t\t\t// check for running executions and find the last started\r\n\t\t\tfor (JobExecution execution : executions) {\r\n\t\t\t\tif (execution.isRunning() || execution.isStopping()) {\r\n\t\t\t\t\tthrow new JobExecutionAlreadyRunningException(&quot;A job execution for this job is already running: &quot;\r\n\t\t\t\t\t\t\t+ jobInstance);\r\n\t\t\t\t}\r\n\t\t\t\tBatchStatus status = execution.getStatus();\r\n\t\t\t\tif (status == BatchStatus.UNKNOWN) {\r\n\t\t\t\t\tthrow new JobRestartException(&quot;Cannot restart job from UNKNOWN status. &quot;\r\n\t\t\t\t\t\t\t+ &quot;The last execution ended with a failure that could not be rolled back, &quot;\r\n\t\t\t\t\t\t\t+ &quot;so it may be dangerous to proceed. Manual intervention is probably necessary.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tCollection&lt;JobParameter&gt; allJobParameters = execution.getJobParameters().getParameters().values();\r\n\t\t\t\tlong identifyingJobParametersCount = allJobParameters.stream().filter(JobParameter::isIdentifying).count();\r\n\t\t\t\tif (identifyingJobParametersCount &gt; 0 &amp;&amp; (status == BatchStatus.COMPLETED || status == BatchStatus.ABANDONED)) {\r\n\t\t\t\t\tthrow new JobInstanceAlreadyCompleteException(\r\n\t\t\t\t\t\t\t&quot;A job instance already exists and is complete for parameters=&quot; + jobParameters\r\n\t\t\t\t\t\t\t+ &quot;.  If you want to run this job again, change the parameters.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\texecutionContext = ecDao.getExecutionContext(jobExecutionDao.getLastJobExecution(jobInstance));\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// no job found, create one\r\n\t\t\tjobInstance = jobInstanceDao.createJobInstance(jobName, jobParameters);\r\n\t\t\texecutionContext = new ExecutionContext();\r\n\t\t}\r\n\r\n\t\tJobExecution jobExecution = new JobExecution(jobInstance, jobParameters, null);\r\n\t\tjobExecution.setExecutionContext(executionContext);\r\n\t\tjobExecution.setLastUpdated(new Date(System.currentTimeMillis()));\r\n\r\n\t\t// Save the JobExecution so that it picks up an ID (useful for clients\r\n\t\t// monitoring asynchronous executions):\r\n\t\tjobExecutionDao.saveJobExecution(jobExecution);\r\n\t\tecDao.saveExecutionContext(jobExecution);\r\n\r\n\t\treturn jobExecution;\r\n\r\n\t}\r\n```\r\n\r\nThis snippet is from SimpleJobRepository of Spring Batch. according to `createJobExecution`, if the job instance already exists and the last execution for the job was failed, the method saves new execution with incremental id.\r\n\r\nIt is written that &quot;If this method is transactional, and the isolation level is REPEATABLE_READ or better, another launcher trying to start the same job in another thread or process will block until this transaction has finished&quot;, however, **even if this method is transactional and isolated with &quot;SERIALIZABLE&quot; level**, it does not use exclusive lock for querying executions of jobs so that another launcher can get last executions at the same time.\r\n\r\nOf course once another launcher gets last executions before the first launcher commit the transaction, it will save new execution and do its own task.\r\n\r\nI tried to find out whether any hints for preventing this situation, but I couldn&#39;t. I need your help. Thank you.\r\n\r\nIn summary: I think same jobs can be executed twice or more very rarely when multiple batch apps triggered at the same time and the last execution status of the job was FAILED. Am I right? Please give me some hints.","title":"Does Spring Batch really prevent executing same jobs concurrently? Is it really idempotent?","body":"<p>I've researched Spring Batch since I have to use it, and I want to know whether Spring Batch can really prevent executing same jobs with same parameters.</p>\n<p>In this article, &quot;Same jobs&quot; means &quot;The jobs that have actually same jobName and jobParameters&quot;.</p>\n<p>I got some points.</p>\n<ul>\n<li>Spring Batch can prevent executing same multiple jobs that executed never before</li>\n<li>Spring Batch can prevent executing the same job after the prior job succeeded</li>\n</ul>\n<p>But I have a question: <strong>How about executing same jobs when the last execution was FAILED?</strong></p>\n<p><a href=\"https://i.stack.imgur.com/NqgOO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqgOO.png\" alt=\"multiple batch app\" /></a></p>\n<p>While insepcting Spring Batch codes, I feel this situation possibly occur, but rarely.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public JobExecution createJobExecution(String jobName, JobParameters jobParameters)\n            throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException {\n\n        Assert.notNull(jobName, &quot;Job name must not be null.&quot;);\n        Assert.notNull(jobParameters, &quot;JobParameters must not be null.&quot;);\n\n        /*\n         * Find all jobs matching the runtime information.\n         *\n         * If this method is transactional, and the isolation level is\n         * REPEATABLE_READ or better, another launcher trying to start the same\n         * job in another thread or process will block until this transaction\n         * has finished.\n         */\n\n        JobInstance jobInstance = jobInstanceDao.getJobInstance(jobName, jobParameters);\n        ExecutionContext executionContext;\n\n        // existing job instance found\n        if (jobInstance != null) {\n\n            List&lt;JobExecution&gt; executions = jobExecutionDao.findJobExecutions(jobInstance);\n\n            if (executions.isEmpty()) {\n                throw new IllegalStateException(&quot;Cannot find any job execution for job instance: &quot; + jobInstance);\n            }\n\n            // check for running executions and find the last started\n            for (JobExecution execution : executions) {\n                if (execution.isRunning() || execution.isStopping()) {\n                    throw new JobExecutionAlreadyRunningException(&quot;A job execution for this job is already running: &quot;\n                            + jobInstance);\n                }\n                BatchStatus status = execution.getStatus();\n                if (status == BatchStatus.UNKNOWN) {\n                    throw new JobRestartException(&quot;Cannot restart job from UNKNOWN status. &quot;\n                            + &quot;The last execution ended with a failure that could not be rolled back, &quot;\n                            + &quot;so it may be dangerous to proceed. Manual intervention is probably necessary.&quot;);\n                }\n                Collection&lt;JobParameter&gt; allJobParameters = execution.getJobParameters().getParameters().values();\n                long identifyingJobParametersCount = allJobParameters.stream().filter(JobParameter::isIdentifying).count();\n                if (identifyingJobParametersCount &gt; 0 &amp;&amp; (status == BatchStatus.COMPLETED || status == BatchStatus.ABANDONED)) {\n                    throw new JobInstanceAlreadyCompleteException(\n                            &quot;A job instance already exists and is complete for parameters=&quot; + jobParameters\n                            + &quot;.  If you want to run this job again, change the parameters.&quot;);\n                }\n            }\n            executionContext = ecDao.getExecutionContext(jobExecutionDao.getLastJobExecution(jobInstance));\n        }\n        else {\n            // no job found, create one\n            jobInstance = jobInstanceDao.createJobInstance(jobName, jobParameters);\n            executionContext = new ExecutionContext();\n        }\n\n        JobExecution jobExecution = new JobExecution(jobInstance, jobParameters, null);\n        jobExecution.setExecutionContext(executionContext);\n        jobExecution.setLastUpdated(new Date(System.currentTimeMillis()));\n\n        // Save the JobExecution so that it picks up an ID (useful for clients\n        // monitoring asynchronous executions):\n        jobExecutionDao.saveJobExecution(jobExecution);\n        ecDao.saveExecutionContext(jobExecution);\n\n        return jobExecution;\n\n    }\n</code></pre>\n<p>This snippet is from SimpleJobRepository of Spring Batch. according to <code>createJobExecution</code>, if the job instance already exists and the last execution for the job was failed, the method saves new execution with incremental id.</p>\n<p>It is written that &quot;If this method is transactional, and the isolation level is REPEATABLE_READ or better, another launcher trying to start the same job in another thread or process will block until this transaction has finished&quot;, however, <strong>even if this method is transactional and isolated with &quot;SERIALIZABLE&quot; level</strong>, it does not use exclusive lock for querying executions of jobs so that another launcher can get last executions at the same time.</p>\n<p>Of course once another launcher gets last executions before the first launcher commit the transaction, it will save new execution and do its own task.</p>\n<p>I tried to find out whether any hints for preventing this situation, but I couldn't. I need your help. Thank you.</p>\n<p>In summary: I think same jobs can be executed twice or more very rarely when multiple batch apps triggered at the same time and the last execution status of the job was FAILED. Am I right? Please give me some hints.</p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679304596,"creation_date":1679304596,"answer_id":75788542,"question_id":75787802,"body_markdown":"You cannot access a DRL global from the body of a DRL function.\r\n\r\nThe rationale is the following: DRL functions are equivalent to Java `static` methods. A DRL global can be considered analogous to an instance field (as you can see in your snippet, you set the global value on a Session instance, not a KBase). Similarly to Java, you cannot access instance fields from a static method.\r\n\r\nIf you tried to define `static void addString(String s) {...}` as a static method in Java and then to use it from the RHS, you would have faced similar issue: the definition of the static method do not have scope access to your `stringList` instance.\r\n\r\nYou can always refactor your code to comply with scope visibility and address your need in a different way.","title":"Access Global variable from drool function in the file.drl","body":"<p>You cannot access a DRL global from the body of a DRL function.</p>\n<p>The rationale is the following: DRL functions are equivalent to Java <code>static</code> methods. A DRL global can be considered analogous to an instance field (as you can see in your snippet, you set the global value on a Session instance, not a KBase). Similarly to Java, you cannot access instance fields from a static method.</p>\n<p>If you tried to define <code>static void addString(String s) {...}</code> as a static method in Java and then to use it from the RHS, you would have faced similar issue: the definition of the static method do not have scope access to your <code>stringList</code> instance.</p>\n<p>You can always refactor your code to comply with scope visibility and address your need in a different way.</p>\n"}],"owner":{"account_id":11255741,"reputation":3,"user_id":8255604,"display_name":"Abdallah Shaaban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788542,"answer_count":1,"score":0,"last_activity_date":1679304596,"creation_date":1679299719,"question_id":75787802,"body_markdown":"When I&#39;m trying to access the global variable from the drool function I got an exception:\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n&gt; threw exception; nested exception is java.lang.RuntimeException:\r\n&gt; Unable to get KieModule, Errors Existed: Error Messages: Message\r\n&gt; [id=1, kieBase=defaultKieBase, level=ERROR, path=insuranceperiod.drl,\r\n&gt; line=-1, column=0   text=Error importing :\r\n&gt; &#39;KieRule.AddString.addString&#39;] Message [id=2, kieBase=defaultKieBase,\r\n&gt; level=ERROR, path=insuranceperiod.drl, line=15, column=0 text=[\r\n&gt; function addStringaddString (line:15): stringList cannot be resolved\r\n&gt; ]]\r\n\r\nthe code is below:\r\n\r\n- **Java Code** \r\n       \r\n```\r\nList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\ndroolSession.setGlobal(&quot;stringList&quot;,stringList)\r\ndroolSession.fireAllRules();\r\n```\r\n\r\n\r\n- **drl Code**\r\n```\r\nglobal java.util.List stringList;\r\n\r\nfunction void addString(String s){\r\n    stringList.add(s);\r\n}\r\n```\r\n\r\n\r\nTry to access global variable inside drool function\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6WDSB.png","title":"Access Global variable from drool function in the file.drl","body":"<p>When I'm trying to access the global variable from the drool function I got an exception:</p>\n<p><a href=\"https://i.stack.imgur.com/6WDSB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6WDSB.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>threw exception; nested exception is java.lang.RuntimeException:\nUnable to get KieModule, Errors Existed: Error Messages: Message\n[id=1, kieBase=defaultKieBase, level=ERROR, path=insuranceperiod.drl,\nline=-1, column=0   text=Error importing :\n'KieRule.AddString.addString'] Message [id=2, kieBase=defaultKieBase,\nlevel=ERROR, path=insuranceperiod.drl, line=15, column=0 text=[\nfunction addStringaddString (line:15): stringList cannot be resolved\n]]</p>\n</blockquote>\n<p>the code is below:</p>\n<ul>\n<li><strong>Java Code</strong></li>\n</ul>\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\ndroolSession.setGlobal(&quot;stringList&quot;,stringList)\ndroolSession.fireAllRules();\n</code></pre>\n<ul>\n<li><strong>drl Code</strong></li>\n</ul>\n<pre><code>global java.util.List stringList;\n\nfunction void addString(String s){\n    stringList.add(s);\n}\n</code></pre>\n<p>Try to access global variable inside drool function</p>\n"},{"tags":["java","ssl","jms","ibm-mq"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1601010136,"post_id":64057285,"comment_id":113275906,"body_markdown":"What version of Java are you using?","body":"What version of Java are you using?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1601010781,"post_id":64057285,"comment_id":113276053,"body_markdown":"Have you tried to turn on ssl debug? Do you have the correct certs in your trust store?","body":"Have you tried to turn on ssl debug? Do you have the correct certs in your trust store?"},{"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"score":0,"creation_date":1601041116,"post_id":64057285,"comment_id":113288913,"body_markdown":"I thought I had been testing with different java versions but I wasn&#39;t because gradle was picking up multiple org.gradle.java.home settings.  I now see that this problem occurs starting in Java 15.  I can go back to 14 for now, but still... it&#39;s a problem","body":"I thought I had been testing with different java versions but I wasn&#39;t because gradle was picking up multiple org.gradle.java.home settings.  I now see that this problem occurs starting in Java 15.  I can go back to 14 for now, but still... it&#39;s a problem"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1601042484,"post_id":64057285,"comment_id":113289563,"body_markdown":"For what it&#39;s worth, it&#39;s not uncommon for libraries to need updates in order to run on later versions of Java. Does IBM advertise that `com.ibm.mq:com.ibm.mq.allclient:9.2.0.0` should work on Java 15?","body":"For what it&#39;s worth, it&#39;s not uncommon for libraries to need updates in order to run on later versions of Java. Does IBM advertise that <code>com.ibm.mq:com.ibm.mq.allclient:9.2.0.0</code> should work on Java 15?"},{"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"score":0,"creation_date":1601045550,"post_id":64057285,"comment_id":113291129,"body_markdown":"Nope, I haven&#39;t seen any comments from IBM but I suspect an update will be coming eventually.","body":"Nope, I haven&#39;t seen any comments from IBM but I suspect an update will be coming eventually."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1601048355,"post_id":64057285,"comment_id":113292554,"body_markdown":"IBM system requirements show that 9.2 is only supported with Java 8 and 11.  Any other versions that may work would be used at your own risk as IBM would likely tell you to use a supported version if you have a issue.  I&#39;ll provide an answer with a link to the documentation.","body":"IBM system requirements show that 9.2 is only supported with Java 8 and 11.  Any other versions that may work would be used at your own risk as IBM would likely tell you to use a supported version if you have a issue.  I&#39;ll provide an answer with a link to the documentation."},{"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"score":0,"creation_date":1633005804,"post_id":64057285,"comment_id":122650205,"body_markdown":"This is the JIRA in case anybody is interested https://bugs.openjdk.java.net/browse/JDK-8241047","body":"This is the JIRA in case anybody is interested <a href=\"https://bugs.openjdk.java.net/browse/JDK-8241047\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8241047</a>"},{"owner":{"account_id":2658346,"reputation":1306,"user_id":2298578,"display_name":"Matthias"},"score":0,"creation_date":1658331510,"post_id":64057285,"comment_id":129026882,"body_markdown":"This bug has been fixed in com.ibm.mq:com.ibm.mq.allclient:9.2.4.0 from the continuous delivery release train and in com.ibm.mq:com.ibm.mq.allclient:9.3.0.0 from the LTS release train.","body":"This bug has been fixed in com.ibm.mq:com.ibm.mq.allclient:9.2.4.0 from the continuous delivery release train and in com.ibm.mq:com.ibm.mq.allclient:9.3.0.0 from the LTS release train."}],"answers":[{"tags":[],"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601045617,"creation_date":1601045617,"answer_id":64066538,"question_id":64057285,"body_markdown":"Solution: Use Java 14 or earlier.","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>Solution: Use Java 14 or earlier.</p>\n"},{"tags":[],"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601050542,"creation_date":1601050542,"answer_id":64067808,"question_id":64057285,"body_markdown":"In your question you mention that this was failing with Java 15 and you posted a self answer to use Java 14 or earlier.\r\n\r\n---\r\n\r\nAccording to the &quot;Supported Software&quot; tab of the [IBM MQ 9.2 Detailed System Requirements](https://www.ibm.com/software/reports/compatibility/clarity-reports/report/html/softwareReqsForProduct?deliverableId=0A8B49C00A0B11EABCF401BE73544226&amp;osPlatforms=AIX|IBM%20i|Linux|Windows|z/OS&amp;duComponentIds=A004|C012&amp;optionalCapIds=25) page IBM only supports MQ v9.2 on various versions of Java 8 and Java 11.\r\n\r\nI am listing below the versions that show up on that page today (September 25 2020), but I would suggest always referring back to the IBM page above for current results:\r\n\r\n* AdoptOpenJDK with OpenJ9 JVM: 11 and future fix packs\r\n* Developer Kit for Java: V8R0 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8.0.1 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8.0.4.1 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8.0.5.0 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8.0.6.0 and future fix packs\r\n* Oracle Java SDK/JRE/JDK: 8.0 and future fix packs\r\n* Oracle Java SDK/JRE/JDK: 11.0.1 and future fix packs\r\n\r\n---\r\n\r\nUsing any version of Java not listed on IBM&#39;s official MQ v9.2 System Requirements page would be at your own risk.  If you were using Java 14 and had an issue that you needed to get support from IBM on, they would likely tell you that it is not supported at that version and to reproduce the problem at a supported version. ","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>In your question you mention that this was failing with Java 15 and you posted a self answer to use Java 14 or earlier.</p>\n<hr />\n<p>According to the &quot;Supported Software&quot; tab of the <a href=\"https://www.ibm.com/software/reports/compatibility/clarity-reports/report/html/softwareReqsForProduct?deliverableId=0A8B49C00A0B11EABCF401BE73544226&amp;osPlatforms=AIX%7CIBM%20i%7CLinux%7CWindows%7Cz/OS&amp;duComponentIds=A004%7CC012&amp;optionalCapIds=25\" rel=\"nofollow noreferrer\">IBM MQ 9.2 Detailed System Requirements</a> page IBM only supports MQ v9.2 on various versions of Java 8 and Java 11.</p>\n<p>I am listing below the versions that show up on that page today (September 25 2020), but I would suggest always referring back to the IBM page above for current results:</p>\n<ul>\n<li>AdoptOpenJDK with OpenJ9 JVM: 11 and future fix packs</li>\n<li>Developer Kit for Java: V8R0 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8.0.1 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8.0.4.1 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8.0.5.0 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8.0.6.0 and future fix packs</li>\n<li>Oracle Java SDK/JRE/JDK: 8.0 and future fix packs</li>\n<li>Oracle Java SDK/JRE/JDK: 11.0.1 and future fix packs</li>\n</ul>\n<hr />\n<p>Using any version of Java not listed on IBM's official MQ v9.2 System Requirements page would be at your own risk.  If you were using Java 14 and had an issue that you needed to get support from IBM on, they would likely tell you that it is not supported at that version and to reproduce the problem at a supported version.</p>\n"},{"tags":[],"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633295678,"creation_date":1633295678,"answer_id":69428939,"question_id":64057285,"body_markdown":"I created a library that may work around the problem if you have programmatic access to the `MQConnectionFactory `. [legacy-compatibility-ssl-socket-factory](https://github.com/marschall/legacy-compatibility-ssl-socket-factory) gives you a `SSLSession` that implements `getPeerCertificateChain()` by delegating to `getPeerCertificates()` of a different `SSLSocketFactory `.\r\n\r\n    mqConnectionFactory.setSSLSocketFactory(new LegacyCompatibilitySSLSocketFactory());","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>I created a library that may work around the problem if you have programmatic access to the <code>MQConnectionFactory </code>. <a href=\"https://github.com/marschall/legacy-compatibility-ssl-socket-factory\" rel=\"nofollow noreferrer\">legacy-compatibility-ssl-socket-factory</a> gives you a <code>SSLSession</code> that implements <code>getPeerCertificateChain()</code> by delegating to <code>getPeerCertificates()</code> of a different <code>SSLSocketFactory </code>.</p>\n<pre><code>mqConnectionFactory.setSSLSocketFactory(new LegacyCompatibilitySSLSocketFactory());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6421348,"reputation":51,"user_id":4978008,"display_name":"Cyrille HEIT"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1639957593,"creation_date":1637530118,"answer_id":70058738,"question_id":64057285,"body_markdown":"In the latest release, they apparently provide JAVA 17 support.\r\n\r\nSources: \r\n* https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html\r\n* https://search.maven.org/artifact/com.ibm.mq/com.ibm.mq.allclient/9.2.4.0/jar","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>In the latest release, they apparently provide JAVA 17 support.</p>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html</a></li>\n<li><a href=\"https://search.maven.org/artifact/com.ibm.mq/com.ibm.mq.allclient/9.2.4.0/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.ibm.mq/com.ibm.mq.allclient/9.2.4.0/jar</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638274076,"creation_date":1638272093,"answer_id":70168706,"question_id":64057285,"body_markdown":"IBM MQ client 9.2.4.0 supports Java 17\r\n\r\nhttps://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html\r\n\r\n&gt; **MQ 9.2.4**\r\n&gt; - Intelligent workload rebalancing with updates to uniform clusters\r\n&gt; - Security enhancements that build on the existing robust security mechanisms in MQ, designed to ensure that your mission-critical\r\n&gt; business data is protected\r\n&gt; - MQ client support for new Java™ 11 runtimes\r\n&gt; - MQ client support for Java 17 runtimes\r\n\r\nhttps://www.ibm.com/docs/en/ibm-mq/9.2?topic=wnim9-whats-new-in-mq-924-multiplatforms-base-advanced-entitlement#mq924_new_multibaseadv__java17support\r\n\r\n&gt; **Java 17 support for IBM MQ Clients**\r\n&gt; - IBM MQ 9.2.4 adds Java 17 support for IBM MQ classes for Java and IBM MQ classes for JMS for Oracle and Oracle and Adoptium.\r\n\r\nIf using maven, you can likely fix via\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\r\n    &lt;version&gt;9.2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>IBM MQ client 9.2.4.0 supports Java 17</p>\n<p><a href=\"https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html</a></p>\n<blockquote>\n<p><strong>MQ 9.2.4</strong></p>\n<ul>\n<li>Intelligent workload rebalancing with updates to uniform clusters</li>\n<li>Security enhancements that build on the existing robust security mechanisms in MQ, designed to ensure that your mission-critical\nbusiness data is protected</li>\n<li>MQ client support for new Java™ 11 runtimes</li>\n<li>MQ client support for Java 17 runtimes</li>\n</ul>\n</blockquote>\n<p><a href=\"https://www.ibm.com/docs/en/ibm-mq/9.2?topic=wnim9-whats-new-in-mq-924-multiplatforms-base-advanced-entitlement#mq924_new_multibaseadv__java17support\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.2?topic=wnim9-whats-new-in-mq-924-multiplatforms-base-advanced-entitlement#mq924_new_multibaseadv__java17support</a></p>\n<blockquote>\n<p><strong>Java 17 support for IBM MQ Clients</strong></p>\n<ul>\n<li>IBM MQ 9.2.4 adds Java 17 support for IBM MQ classes for Java and IBM MQ classes for JMS for Oracle and Oracle and Adoptium.</li>\n</ul>\n</blockquote>\n<p>If using maven, you can likely fix via</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n    &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\n    &lt;version&gt;9.2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5773,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1679304444,"creation_date":1601003694,"question_id":64057285,"body_markdown":"When calling: \r\n\r\n    MQQueueConnectionFactory cf ...\r\n    cf.createConnection();\r\n\r\nThe com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.handshakeCompleted method begins:\r\n\r\n    public void handshakeCompleted(HandshakeCompletedEvent event) {\r\n     X509Certificate[] peerCertificateChain = event.getPeerCertificateChain();\r\n     ...\r\n\r\ngetPeerCertificateChain in javax.net.ssl.SSLSession:\r\n\r\n    default X509Certificate[] getPeerCertificateChain() throws SSLPeerUnverifiedException {\r\n        throw new UnsupportedOperationException(&quot;This method is deprecated and marked for removal. Use the getPeerCertificates() method instead.&quot;);\r\n    }\r\ncausing this exception:\r\n\r\n    Exception in thread &quot;HandshakeCompletedNotify-Thread&quot; java.lang.UnsupportedOperationException: This method is deprecated and marked for removal. Use the getPeerCertificates() method instead.\r\n        at java.base/javax.net.ssl.SSLSession.getPeerCertificateChain(SSLSession.java:295)\r\n        at java.base/javax.net.ssl.HandshakeCompletedEvent.getPeerCertificateChain(HandshakeCompletedEvent.java:173)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.handshakeCompleted(RemoteTCPConnection.java:2448)\r\n        at java.base/sun.security.ssl.TransportContext$NotifyHandshake$1.run(TransportContext.java:685)\r\n        at java.base/sun.security.ssl.TransportContext$NotifyHandshake$1.run(TransportContext.java:682)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n        at java.base/sun.security.ssl.TransportContext$NotifyHandshake.run(TransportContext.java:682)\r\n        at java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\nThe project&#39;s only IBM MQ dependency is:\r\n\r\n    com.ibm.mq:com.ibm.mq.allclient:9.2.0.0\r\n\r\nWhy is javax.net.ssl.getPeerCertificateChain() calling that deprecated method?  It looks like the problem is in the HandshakeCompletedEvent class, not MQ.\r\n\r\nEdit:  This issue started with Java 15.\r\n","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>When calling:</p>\n<pre><code>MQQueueConnectionFactory cf ...\ncf.createConnection();\n</code></pre>\n<p>The com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.handshakeCompleted method begins:</p>\n<pre><code>public void handshakeCompleted(HandshakeCompletedEvent event) {\n X509Certificate[] peerCertificateChain = event.getPeerCertificateChain();\n ...\n</code></pre>\n<p>getPeerCertificateChain in javax.net.ssl.SSLSession:</p>\n<pre><code>default X509Certificate[] getPeerCertificateChain() throws SSLPeerUnverifiedException {\n    throw new UnsupportedOperationException(&quot;This method is deprecated and marked for removal. Use the getPeerCertificates() method instead.&quot;);\n}\n</code></pre>\n<p>causing this exception:</p>\n<pre><code>Exception in thread &quot;HandshakeCompletedNotify-Thread&quot; java.lang.UnsupportedOperationException: This method is deprecated and marked for removal. Use the getPeerCertificates() method instead.\n    at java.base/javax.net.ssl.SSLSession.getPeerCertificateChain(SSLSession.java:295)\n    at java.base/javax.net.ssl.HandshakeCompletedEvent.getPeerCertificateChain(HandshakeCompletedEvent.java:173)\n    at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.handshakeCompleted(RemoteTCPConnection.java:2448)\n    at java.base/sun.security.ssl.TransportContext$NotifyHandshake$1.run(TransportContext.java:685)\n    at java.base/sun.security.ssl.TransportContext$NotifyHandshake$1.run(TransportContext.java:682)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/sun.security.ssl.TransportContext$NotifyHandshake.run(TransportContext.java:682)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n<p>The project's only IBM MQ dependency is:</p>\n<pre><code>com.ibm.mq:com.ibm.mq.allclient:9.2.0.0\n</code></pre>\n<p>Why is javax.net.ssl.getPeerCertificateChain() calling that deprecated method?  It looks like the problem is in the HandshakeCompletedEvent class, not MQ.</p>\n<p>Edit:  This issue started with Java 15.</p>\n"},{"tags":["java","spring-boot","maven","gradle","integration-testing"],"owner":{"display_name":"user21431812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679303390,"creation_date":1679302757,"question_id":75788243,"body_markdown":"I have the following test class implementations and when I run tests, I get some security related errors (I use Spring Security in my app and tested endpoints requires to be authenticated and authorized).\r\n\r\n***IntegrationTest :***\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@Transactional\r\n@ActiveProfiles(&quot;test&quot;)\r\nabstract public class IntegrationTest {\r\n\r\n    @Autowired\r\n    protected MockMvc mvc;\r\n}\r\n```\r\n\r\n\r\n***ProductControllerTest :***\r\n\r\n```\r\nclass ProductControllerTest extends IntegrationTest {\r\n\r\n    @Test\r\n    // @Sql(&quot;/insert-data.sql&quot;)\r\n    void findById() throws Exception {\r\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;Laptop&quot;)));\r\n    }\r\n\r\n}\r\n```\r\n\r\nhere is my `application-test.yml` below:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:tc:postgresql:13.2-alpine://product\r\n\r\n  flyway:\r\n    enabled: true\r\n    placeholderReplacement: false\r\n    baseline-on-migrate: true\r\n```\r\n\r\nAnd `pom.xml`, I think I missed something on pom.xml. \r\nActually I don&#39;t know how can I transforom the original gradle example in here:\r\n\r\nhttps://github.com/arhohuttunen/spring-boot-test-examples/blob/main/spring-boot-integration-testing/build.gradle\r\n\r\nIf you check and compare what is missing or redundant, I would really be appreciated.\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-configuration-processor --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.testcontainers/postgresql --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;1.17.6&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.testcontainers/testcontainers-bom --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n    &lt;version&gt;1.17.6&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAny idea what is missing or wrong?\r\n\r\nThis config throws: \r\n&gt;Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: \r\nDriver org.postgresql.Driver claims to not accept jdbcUrl, jdbc:tc:postgresql:13.2-alpine://product\r\n\r\n\r\n\r\n","title":"Do I have to mock Authentication related classes for Integration Tests (@SpringBootTest)","body":"<p>I have the following test class implementations and when I run tests, I get some security related errors (I use Spring Security in my app and tested endpoints requires to be authenticated and authorized).</p>\n<p><em><strong>IntegrationTest :</strong></em></p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@Transactional\n@ActiveProfiles(&quot;test&quot;)\nabstract public class IntegrationTest {\n\n    @Autowired\n    protected MockMvc mvc;\n}\n</code></pre>\n<p><em><strong>ProductControllerTest :</strong></em></p>\n<pre><code>class ProductControllerTest extends IntegrationTest {\n\n    @Test\n    // @Sql(&quot;/insert-data.sql&quot;)\n    void findById() throws Exception {\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;Laptop&quot;)));\n    }\n\n}\n</code></pre>\n<p>here is my <code>application-test.yml</code> below:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:tc:postgresql:13.2-alpine://product\n\n  flyway:\n    enabled: true\n    placeholderReplacement: false\n    baseline-on-migrate: true\n</code></pre>\n<p>And <code>pom.xml</code>, I think I missed something on pom.xml.\nActually I don't know how can I transforom the original gradle example in here:</p>\n<p><a href=\"https://github.com/arhohuttunen/spring-boot-test-examples/blob/main/spring-boot-integration-testing/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/arhohuttunen/spring-boot-test-examples/blob/main/spring-boot-integration-testing/build.gradle</a></p>\n<p>If you check and compare what is missing or redundant, I would really be appreciated.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-configuration-processor --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.9.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.testcontainers/postgresql --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;1.17.6&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.testcontainers/testcontainers-bom --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n    &lt;version&gt;1.17.6&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Any idea what is missing or wrong?</p>\n<p>This config throws:</p>\n<blockquote>\n<p>Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]:\nDriver org.postgresql.Driver claims to not accept jdbcUrl, jdbc:tc:postgresql:13.2-alpine://product</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","kotlin","gradle"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1678815406,"post_id":75732275,"comment_id":133605336,"body_markdown":"Please start your application with `--debug` (so `java -jar build/libs/krm-backend-0.0.1-SNAPSHOT.jar --debug`) and share the complete output","body":"Please start your application with <code>--debug</code> (so <code>java -jar build&#47;libs&#47;krm-backend-0.0.1-SNAPSHOT.jar --debug</code>) and share the complete output"},{"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"score":0,"creation_date":1678886279,"post_id":75732275,"comment_id":133619539,"body_markdown":"@AndyWilkinson Seems to have the same output, but edited with it.","body":"@AndyWilkinson Seems to have the same output, but edited with it."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1678888409,"post_id":75732275,"comment_id":133620278,"body_markdown":"That&#39;s less output than I&#39;d expected. It&#39;s also different in places to what I would expect. For example, given that you&#39;re using `spring-boot-starter-web`, I would expect the context to be an `AnnotationConfigServletWebServerApplicationContext` rather than an `AnnotationConfigApplicationContext`. Can you share your application&#39;s main class? I think that will be `com.expleo.krm.KrmApplication`.","body":"That&#39;s less output than I&#39;d expected. It&#39;s also different in places to what I would expect. For example, given that you&#39;re using <code>spring-boot-starter-web</code>, I would expect the context to be an <code>AnnotationConfigServletWebServerApplicationContext</code> rather than an <code>AnnotationConfigApplicationContext</code>. Can you share your application&#39;s main class? I think that will be <code>com.expleo.krm.KrmApplication</code>."},{"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"score":0,"creation_date":1678990282,"post_id":75732275,"comment_id":133644668,"body_markdown":"@AndyWilkinson Done. But it&#39;s only the base skeleton of a Spring project.","body":"@AndyWilkinson Done. But it&#39;s only the base skeleton of a Spring project."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1678995468,"post_id":75732275,"comment_id":133645987,"body_markdown":"I&#39;ve just noticed your custom `Jar` task configuration. I suspect that may be the problem. Have you tried using the `bootJar` task that Spring Boot&#39;s Gradle plugin creates for you instead?","body":"I&#39;ve just noticed your custom <code>Jar</code> task configuration. I suspect that may be the problem. Have you tried using the <code>bootJar</code> task that Spring Boot&#39;s Gradle plugin creates for you instead?"},{"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"score":0,"creation_date":1679302990,"post_id":75732275,"comment_id":133690580,"body_markdown":"@AndyWilkinson I was already using bootJar, but I finally managed to fix my problem by simply deleting this custom task for type Jar...","body":"@AndyWilkinson I was already using bootJar, but I finally managed to fix my problem by simply deleting this custom task for type Jar..."}],"answers":[{"tags":[],"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679303105,"creation_date":1679303105,"answer_id":75788294,"question_id":75732275,"body_markdown":"Finally, simply deleting this custom task for Jar type solved the issue :\r\n\r\n```kotlin\r\n/*\r\ntasks.withType&lt;Jar&gt; {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.expleo.krm.KrmApplicationKt&quot;\r\n    }\r\n    // To avoid the duplicate handling strategy error\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n    // To add all of the dependencies\r\n    from(sourceSets.main.get().output)\r\n\r\n    dependsOn(configurations.runtimeClasspath)\r\n    from({\r\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\r\n    })\r\n}\r\n*/\r\n```\r\n\r\nNow my Jar starts up normally and keeps running !","title":"Spring boot jar from Gradle Kotlin always closes after startup","body":"<p>Finally, simply deleting this custom task for Jar type solved the issue :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/*\ntasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.expleo.krm.KrmApplicationKt&quot;\n    }\n    // To avoid the duplicate handling strategy error\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    // To add all of the dependencies\n    from(sourceSets.main.get().output)\n\n    dependsOn(configurations.runtimeClasspath)\n    from({\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\n    })\n}\n*/\n</code></pre>\n<p>Now my Jar starts up normally and keeps running !</p>\n"}],"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788294,"answer_count":1,"score":0,"last_activity_date":1679303105,"creation_date":1678791643,"question_id":75732275,"body_markdown":"I am using Spring Boot with Gradle an Kotlin, the web server is running perfectly fine in development, but when building and running jar file Spring always exits automatically :\r\n\r\n```\r\n❯ java -jar build/libs/krm-backend-0.0.1-SNAPSHOT.jar --debug\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.4)\r\n\r\n11:26:06.966 [main] INFO com.expleo.krm.KrmApplicationKt - Starting KrmApplicationKt v0.0.1-SNAPSHOT using Java 17.0.6 with PID 13303 (/home/guillaume-expleo/Bureau/KRM/kubernetes-resource-manager/backend/krm-backend/build/libs/krm-backend-0.0.1-SNAPSHOT.jar started by guillaume-expleo in /home/guillaume-expleo/Bureau/KRM/kubernetes-resource-manager/backend/krm-backend)\r\n11:26:06.968 [main] DEBUG com.expleo.krm.KrmApplicationKt - Running with Spring Boot v0.0.1-SNAPSHOT, Spring v0.0.1-SNAPSHOT\r\n11:26:06.969 [main] INFO com.expleo.krm.KrmApplicationKt - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n11:26:06.970 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.expleo.krm.KrmApplication\r\n11:26:07.014 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@475e586c\r\n11:26:07.018 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalConfigurationAnnotationProcessor&#39;\r\n11:26:07.167 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerProcessor&#39;\r\n11:26:07.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerFactory&#39;\r\n11:26:07.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalAutowiredAnnotationProcessor&#39;\r\n11:26:07.169 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalCommonAnnotationProcessor&#39;\r\n11:26:07.172 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalPersistenceAnnotationProcessor&#39;\r\n11:26:07.174 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;krmApplication&#39;\r\n11:26:07.178 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.AutoConfigurationPackages&#39;\r\n11:26:07.214 [main] INFO com.expleo.krm.KrmApplicationKt - Started KrmApplicationKt in 0.364 seconds (process running for 0.622)\r\n11:26:07.225 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@475e586c, started on Wed Mar 15 11:26:07 CET 2023\r\n```\r\n\r\n`build.gradle.kts` file :\r\n```kotlin\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.4&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n    id(&quot;org.asciidoctor.jvm.convert&quot;) version &quot;2.4.0&quot;\r\n    kotlin(&quot;jvm&quot;) version &quot;1.8.10&quot;\r\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.8.10&quot;\r\n    kotlin(&quot;plugin.jpa&quot;) version &quot;1.8.10&quot;\r\n}\r\n\r\ngroup = &quot;com.expleo&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_17\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom(configurations.annotationProcessor.get())\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nextra[&quot;snippetsDir&quot;] = file(&quot;build/generated-snippets&quot;)\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-rest&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    implementation(&quot;org.flywaydb:flyway-core&quot;)\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n\r\n//\tcompileOnly(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin&quot;)\r\n//\timplementation(&quot;org.springframework.session:spring-session-jdbc&quot;)\r\n//\tcompileOnly(&quot;org.projectlombok:lombok&quot;)\r\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n//\truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    runtimeOnly(&quot;com.h2database:h2&quot;)\r\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok&quot;)\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    testImplementation(&quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;)\r\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n}\r\n\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n    kotlinOptions {\r\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n        jvmTarget = &quot;17&quot;\r\n    }\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.withType&lt;Jar&gt; {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.expleo.krm.KrmApplicationKt&quot;\r\n    }\r\n    // To avoid the duplicate handling strategy error\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n    // To add all of the dependencies\r\n    from(sourceSets.main.get().output)\r\n\r\n    dependsOn(configurations.runtimeClasspath)\r\n    from({\r\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\r\n    })\r\n}\r\n```\r\n\r\n`KrmApplication.kt`\r\n```kotlin\r\npackage com.expleo.krm\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.boot.runApplication\r\n\r\n@SpringBootApplication\r\nclass KrmApplication\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n\trunApplication&lt;KrmApplication&gt;(*args)\r\n}\r\n```\r\n\r\nI tried everything I found like adding `org.springframework.boot:spring-boot-starter-web`, or using war but without success.\r\nI tried building with Gradle jar, bootJar and build.\r\n\r\nDo you have a solution ?\r\n\r\nThanks.","title":"Spring boot jar from Gradle Kotlin always closes after startup","body":"<p>I am using Spring Boot with Gradle an Kotlin, the web server is running perfectly fine in development, but when building and running jar file Spring always exits automatically :</p>\n<pre><code>❯ java -jar build/libs/krm-backend-0.0.1-SNAPSHOT.jar --debug\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.4)\n\n11:26:06.966 [main] INFO com.expleo.krm.KrmApplicationKt - Starting KrmApplicationKt v0.0.1-SNAPSHOT using Java 17.0.6 with PID 13303 (/home/guillaume-expleo/Bureau/KRM/kubernetes-resource-manager/backend/krm-backend/build/libs/krm-backend-0.0.1-SNAPSHOT.jar started by guillaume-expleo in /home/guillaume-expleo/Bureau/KRM/kubernetes-resource-manager/backend/krm-backend)\n11:26:06.968 [main] DEBUG com.expleo.krm.KrmApplicationKt - Running with Spring Boot v0.0.1-SNAPSHOT, Spring v0.0.1-SNAPSHOT\n11:26:06.969 [main] INFO com.expleo.krm.KrmApplicationKt - No active profile set, falling back to 1 default profile: &quot;default&quot;\n11:26:06.970 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.expleo.krm.KrmApplication\n11:26:07.014 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@475e586c\n11:26:07.018 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'\n11:26:07.167 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'\n11:26:07.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'\n11:26:07.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'\n11:26:07.169 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'\n11:26:07.172 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'\n11:26:07.174 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'krmApplication'\n11:26:07.178 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'\n11:26:07.214 [main] INFO com.expleo.krm.KrmApplicationKt - Started KrmApplicationKt in 0.364 seconds (process running for 0.622)\n11:26:07.225 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@475e586c, started on Wed Mar 15 11:26:07 CET 2023\n</code></pre>\n<p><code>build.gradle.kts</code> file :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.4&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;org.asciidoctor.jvm.convert&quot;) version &quot;2.4.0&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.8.10&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.8.10&quot;\n    kotlin(&quot;plugin.jpa&quot;) version &quot;1.8.10&quot;\n}\n\ngroup = &quot;com.expleo&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nextra[&quot;snippetsDir&quot;] = file(&quot;build/generated-snippets&quot;)\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-rest&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.flywaydb:flyway-core&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n\n//  compileOnly(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin&quot;)\n//  implementation(&quot;org.springframework.session:spring-session-jdbc&quot;)\n//  compileOnly(&quot;org.projectlombok:lombok&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n//  runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    runtimeOnly(&quot;com.h2database:h2&quot;)\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;)\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\n}\n\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\ntasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.expleo.krm.KrmApplicationKt&quot;\n    }\n    // To avoid the duplicate handling strategy error\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    // To add all of the dependencies\n    from(sourceSets.main.get().output)\n\n    dependsOn(configurations.runtimeClasspath)\n    from({\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\n    })\n}\n</code></pre>\n<p><code>KrmApplication.kt</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.expleo.krm\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\n\n@SpringBootApplication\nclass KrmApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;KrmApplication&gt;(*args)\n}\n</code></pre>\n<p>I tried everything I found like adding <code>org.springframework.boot:spring-boot-starter-web</code>, or using war but without success.\nI tried building with Gradle jar, bootJar and build.</p>\n<p>Do you have a solution ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","imagej"],"answers":[{"tags":[],"owner":{"account_id":2619914,"reputation":502,"user_id":4069556,"accept_rate":83,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499860383,"creation_date":1499860383,"answer_id":45056982,"question_id":45037106,"body_markdown":"A suggestion would be to make a feature request to the author of Imagej Wayne rasband, e.g., at the Github repository:\r\n\r\nhttps://github.com/imagej/imagej1\r\n\r\nOr you can write a small macro (use the macro recorder with the menu actions!) which can be also be installed in ImageJ. Something like:\r\n\r\n    run(&quot;Image Sequence...&quot;, &quot;open=C:\\\\images\\\\ sort&quot;);\r\n\r\nHere the macro docs:\r\n\r\nhttps://imagej.nih.gov/ij/developer/macro/macros.html\r\n\r\nhttps://imagej.nih.gov/ij/docs/guide/146-14.html\r\n","title":"How can I disable a dialog in ImageJ?","body":"<p>A suggestion would be to make a feature request to the author of Imagej Wayne rasband, e.g., at the Github repository:</p>\n\n<p><a href=\"https://github.com/imagej/imagej1\" rel=\"nofollow noreferrer\">https://github.com/imagej/imagej1</a></p>\n\n<p>Or you can write a small macro (use the macro recorder with the menu actions!) which can be also be installed in ImageJ. Something like:</p>\n\n<pre><code>run(\"Image Sequence...\", \"open=C:\\\\images\\\\ sort\");\n</code></pre>\n\n<p>Here the macro docs:</p>\n\n<p><a href=\"https://imagej.nih.gov/ij/developer/macro/macros.html\" rel=\"nofollow noreferrer\">https://imagej.nih.gov/ij/developer/macro/macros.html</a></p>\n\n<p><a href=\"https://imagej.nih.gov/ij/docs/guide/146-14.html\" rel=\"nofollow noreferrer\">https://imagej.nih.gov/ij/docs/guide/146-14.html</a></p>\n"},{"tags":[],"owner":{"account_id":6779244,"reputation":1822,"user_id":5522601,"accept_rate":81,"display_name":"smcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679302916,"creation_date":1504191730,"answer_id":45984614,"question_id":45037106,"body_markdown":"To disable the dialog in the source code: Find the source file `ij&gt;plugin&gt;DragAndDrop.java`. From its `openDirectory` method, delete the dialog-related lines and assign boolean values to `convertToRGB` and `virtualStack`, both of which are normally defined by check boxes in the now defunct dialog window. The code should now look like this:\r\n\r\n\t\tprivate void openDirectory(File f, String path) {\r\n\t\t\tif (path==null) return;\r\n\t\t\tif (!(path.endsWith(File.separator)||path.endsWith(&quot;/&quot;)))\r\n\t\t\t\tpath += File.separator;\r\n\t\t\tString[] names = f.list();\r\n\t\t\tnames = (new FolderOpener()).trimFileList(names);\r\n\t\t\tif (names==null)\r\n\t\t\t\treturn;\r\n\t\t\tconvertToRGB = false;\r\n\t\t\tvirtualStack = false;\r\n\t\t\tString options  = &quot; sort&quot;;\r\n\t\t\tif (convertToRGB) options += &quot; convert_to_rgb&quot;;\r\n\t\t\tif (virtualStack) options += &quot; use&quot;;\r\n\t\t\tIJ.run(&quot;Image Sequence...&quot;, &quot;open=[&quot; + path + &quot;]&quot;+options);\r\n\t\t\tDirectoryChooser.setDefaultDirectory(path);\r\n\t\t\tIJ.register(DragAndDrop.class);\r\n\t\t}\r\n\r\nI did this with ImageJ 1.51p. The source code can be downloaded [here][1]. After making these changes, just run the `build.xml` ant script.\r\n\r\nNote that writing a macro might provide a cleaner and more portable way to achieve this--refer to Marcel&#39;s answer for further reading. \r\n\r\n\r\n  [1]: https://imagej.nih.gov/ij/download/src/","title":"How can I disable a dialog in ImageJ?","body":"<p>To disable the dialog in the source code: Find the source file <code>ij&gt;plugin&gt;DragAndDrop.java</code>. From its <code>openDirectory</code> method, delete the dialog-related lines and assign boolean values to <code>convertToRGB</code> and <code>virtualStack</code>, both of which are normally defined by check boxes in the now defunct dialog window. The code should now look like this:</p>\n<pre><code>    private void openDirectory(File f, String path) {\n        if (path==null) return;\n        if (!(path.endsWith(File.separator)||path.endsWith(&quot;/&quot;)))\n            path += File.separator;\n        String[] names = f.list();\n        names = (new FolderOpener()).trimFileList(names);\n        if (names==null)\n            return;\n        convertToRGB = false;\n        virtualStack = false;\n        String options  = &quot; sort&quot;;\n        if (convertToRGB) options += &quot; convert_to_rgb&quot;;\n        if (virtualStack) options += &quot; use&quot;;\n        IJ.run(&quot;Image Sequence...&quot;, &quot;open=[&quot; + path + &quot;]&quot;+options);\n        DirectoryChooser.setDefaultDirectory(path);\n        IJ.register(DragAndDrop.class);\n    }\n</code></pre>\n<p>I did this with ImageJ 1.51p. The source code can be downloaded <a href=\"https://imagej.nih.gov/ij/download/src/\" rel=\"nofollow noreferrer\">here</a>. After making these changes, just run the <code>build.xml</code> ant script.</p>\n<p>Note that writing a macro might provide a cleaner and more portable way to achieve this--refer to Marcel's answer for further reading.</p>\n"}],"owner":{"account_id":6779244,"reputation":1822,"user_id":5522601,"accept_rate":81,"display_name":"smcs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45984614,"answer_count":2,"score":0,"last_activity_date":1679302916,"creation_date":1499782612,"question_id":45037106,"body_markdown":"I&#39;m using ImageJ a lot to look at image stacks composed of a number of single images sitting in one folder. I can just drag and drop the respective folder into the ImageJ GUI and it creates a scrollable visualization, which is very convenient. It could be even more convenient though since each time I do it, a dialog appears asking whether I want to open all images in the folder as a stack. Is it possible to make it default to &quot;Yes&quot;? Would I need to change the source code and compile it myself..? If that is the case, where could I start looking?","title":"How can I disable a dialog in ImageJ?","body":"<p>I'm using ImageJ a lot to look at image stacks composed of a number of single images sitting in one folder. I can just drag and drop the respective folder into the ImageJ GUI and it creates a scrollable visualization, which is very convenient. It could be even more convenient though since each time I do it, a dialog appears asking whether I want to open all images in the folder as a stack. Is it possible to make it default to \"Yes\"? Would I need to change the source code and compile it myself..? If that is the case, where could I start looking?</p>\n"},{"tags":["java","shell","debugging","intellij-idea","jar"],"answers":[{"tags":[],"owner":{"display_name":"user1230680"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504094845,"creation_date":1504094845,"answer_id":45960022,"question_id":45959594,"body_markdown":"Your config is a little strange, but correct. The VM options you provide tell the JVM to wait with running the zte.jar until a debugger is attached. \r\n\r\nSo you won&#39;t automatically stop on the first line, you need to add break-points in IDEA and attach it manually to the JVM process. This is explained here [How to remote debug JVM][1]\r\n\r\nKeep in mind you are doing one thing sort of wrong. You do not need to setup the debug options in the VM options. Just select the JAR you want to debug, place break-points and start in debug mode (that is the bug like icon in IDEA).\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21114066/attach-intellij-idea-debugger-to-a-running-java-process","title":"Debug JAR intellij or command line","body":"<p>Your config is a little strange, but correct. The VM options you provide tell the JVM to wait with running the zte.jar until a debugger is attached. </p>\n\n<p>So you won't automatically stop on the first line, you need to add break-points in IDEA and attach it manually to the JVM process. This is explained here <a href=\"https://stackoverflow.com/questions/21114066/attach-intellij-idea-debugger-to-a-running-java-process\">How to remote debug JVM</a></p>\n\n<p>Keep in mind you are doing one thing sort of wrong. You do not need to setup the debug options in the VM options. Just select the JAR you want to debug, place break-points and start in debug mode (that is the bug like icon in IDEA).</p>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504278064,"creation_date":1504277374,"answer_id":46002846,"question_id":45959594,"body_markdown":"For your specific project that is one jar file (`zte.jar`) which contains `deps.zip` inside which in turn contains other `.jar` dependencies and no sources at all and also uses reflection and custom classloader in order to load and use the `.jar` files in `deps.zip`; for the debugger to work, you have to unpack all the jars from the `deps.zip` into some location, then make a new IntelliJ IDEA project and add all the jars (including the root `zte.jar` [and all the jars](http://i.stack.imgur.com/bVFtH.png) unpacked from `deps.zip`) into the [module dependencies](https://www.jetbrains.com/help/idea/2017.1/working-with-module-dependencies.html).\r\n\r\nBrowse to `CliExecutor` inside the `self.jar`, in the project view, IntelliJ IDEA will decompile it, place the breakpoints, debug it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ezOMc.png\r\n  [2]: https://i.stack.imgur.com/rAqWQ.png","title":"Debug JAR intellij or command line","body":"<p>For your specific project that is one jar file (<code>zte.jar</code>) which contains <code>deps.zip</code> inside which in turn contains other <code>.jar</code> dependencies and no sources at all and also uses reflection and custom classloader in order to load and use the <code>.jar</code> files in <code>deps.zip</code>; for the debugger to work, you have to unpack all the jars from the <code>deps.zip</code> into some location, then make a new IntelliJ IDEA project and add all the jars (including the root <code>zte.jar</code> <a href=\"https://i.stack.imgur.com/bVFtH.png\" rel=\"nofollow noreferrer\">and all the jars</a> unpacked from <code>deps.zip</code>) into the <a href=\"https://www.jetbrains.com/help/idea/2017.1/working-with-module-dependencies.html\" rel=\"nofollow noreferrer\">module dependencies</a>.</p>\n\n<p>Browse to <code>CliExecutor</code> inside the <code>self.jar</code>, in the project view, IntelliJ IDEA will decompile it, place the breakpoints, debug it.</p>\n"}],"owner":{"account_id":10259088,"reputation":1317,"user_id":7571053,"accept_rate":90,"display_name":"Jenny Hilton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11940,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46002846,"answer_count":2,"score":2,"last_activity_date":1679302874,"creation_date":1504093643,"question_id":45959594,"body_markdown":"Im using the following config the debug jar file that under my root project, when I click on debug the program start to run but doesnt stopes since I didn&#39;t set any break-point(as this is jar file :) ) , In node.js there is option to do it with `--inspect-brk` [info][1] which stops on the first statement but not sure How to do it on jar file  \r\n\r\nMy questions are\r\n\r\n&gt; 1. How can I stops in the **first line** of the program jar ? \r\n&gt; 2. Does my config are OK?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://nodejs.org/api/debugger.html#debugger_v8_inspector_integration_for_node_js\r\n  [2]: https://i.stack.imgur.com/3NZ8y.jpg\r\n\r\n\r\nOterwise , how can you able to debug jar if you cannot set a break-point ...\r\n\r\n\r\nEDIT:\r\n\r\nI&#39;ve tried with the suggestion of crazycoder and it&#39;s not working, any idea?\r\n\r\nWhat I tried is to create under my root project decomplie folder and run the following command\r\n\r\n   \r\n\r\n     java -jar fernflower.jar zte.jar + decomplie/\r\n\r\nI got erorr of course of not found\r\n\r\nI&#39;ve also tried with \r\n\r\n    java -cp java-decompiler.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler zte.jar + decomplie/ \r\n\r\n\r\n&gt; Could not find or load main class\r\n&gt; org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler\r\n\r\nHow to I get this jar (fernflower.jar ) or the path to it ?\r\n\r\n\r\nEDIT2\r\n\r\nMy project is like this\r\n\r\n\r\n    -myjavaproj\r\n    \r\n     --zte.jar\r\n     --decomile\r\n     ---zte.jar\r\n     ---com.proj.cli\r\n     ----appmain.java \r\n\r","title":"Debug JAR intellij or command line","body":"<p>Im using the following config the debug jar file that under my root project, when I click on debug the program start to run but doesnt stopes since I didn't set any break-point(as this is jar file :) ) , In node.js there is option to do it with <code>--inspect-brk</code> <a href=\"https://nodejs.org/api/debugger.html#debugger_v8_inspector_integration_for_node_js\" rel=\"nofollow noreferrer\">info</a> which stops on the first statement but not sure How to do it on jar file</p>\n<p>My questions are</p>\n<blockquote>\n<ol>\n<li>How can I stops in the <strong>first line</strong> of the program jar ?</li>\n<li>Does my config are OK?</li>\n</ol>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/3NZ8y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3NZ8y.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Oterwise , how can you able to debug jar if you cannot set a break-point ...</p>\n<p>EDIT:</p>\n<p>I've tried with the suggestion of crazycoder and it's not working, any idea?</p>\n<p>What I tried is to create under my root project decomplie folder and run the following command</p>\n<pre><code> java -jar fernflower.jar zte.jar + decomplie/\n</code></pre>\n<p>I got erorr of course of not found</p>\n<p>I've also tried with</p>\n<pre><code>java -cp java-decompiler.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler zte.jar + decomplie/ \n</code></pre>\n<blockquote>\n<p>Could not find or load main class\norg.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler</p>\n</blockquote>\n<p>How to I get this jar (fernflower.jar ) or the path to it ?</p>\n<p>EDIT2</p>\n<p>My project is like this</p>\n<pre><code>-myjavaproj\n\n --zte.jar\n --decomile\n ---zte.jar\n ---com.proj.cli\n ----appmain.java \n</code></pre>\n"},{"tags":["java","android","googlesigninaccount"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679301218,"post_id":75787853,"comment_id":133690163,"body_markdown":"Well ... *what* exception? Please find it in your log and [edit] your question to include it. It&#39;s likely to have some additional information about what went wrong.","body":"Well ... <i>what</i> exception? Please find it in your log and <a href=\"https://stackoverflow.com/posts/75787853/edit\">edit</a> your question to include it. It&#39;s likely to have some additional information about what went wrong."}],"answers":[{"tags":[],"owner":{"account_id":23470556,"reputation":271,"user_id":17524128,"display_name":"vatsal mangukiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679302574,"creation_date":1679302574,"answer_id":75788214,"question_id":75787853,"body_markdown":"In onCreate method i should use ` DEFAULT_SIGN_IN` instead of `DEFAULT_GAMES_SIGN_IN`\r\n\r\n     gso=new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();","title":"Why does exception occur when I try to login with google?","body":"<p>In onCreate method i should use <code> DEFAULT_SIGN_IN</code> instead of <code>DEFAULT_GAMES_SIGN_IN</code></p>\n<pre><code> gso=new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\n</code></pre>\n"}],"owner":{"account_id":23470556,"reputation":271,"user_id":17524128,"display_name":"vatsal mangukiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788214,"answer_count":1,"score":0,"last_activity_date":1679302574,"creation_date":1679300193,"question_id":75787853,"body_markdown":"I tried to implement login with google but it always throws exception and toast not logged in\r\n\r\n    package com.inshortsapk.inshorts;\r\n\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.gms.auth.api.signin.GoogleSignIn;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\n    import com.google.android.gms.common.api.ApiException;\r\n    import com.google.android.gms.tasks.Task;\r\n    \r\n    public class my_login extends AppCompatActivity {\r\n        GoogleSignInOptions gso;\r\n        GoogleSignInClient gsc;\r\n        Button btnLogin;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_my_login);\r\n            gso=new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).requestEmail().build();\r\n            gsc= GoogleSignIn.getClient(this,gso);\r\n    \r\n            btnLogin=findViewById(R.id.btnLogin);\r\n            GoogleSignInAccount account = GoogleSignIn.getLastSignedInAccount(this);\r\n            //(account);\r\n            btnLogin.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                   // Toast.makeText(my_login.this, &quot;mylogin click&quot;, Toast.LENGTH_SHORT).show();\r\n                    signIn();\r\n                }\r\n            });\r\n        }\r\n        public void signIn(){\r\n            Intent signInIntent=gsc.getSignInIntent();\r\n             startActivityForResult(signInIntent,1000);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode,  Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if(requestCode==1000)\r\n            {\r\n                Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                try {\r\n                    Toast.makeText(this, &quot;TRY 11&quot;, Toast.LENGTH_SHORT).show();\r\n                  \r\n                    task.getResult(ApiException.class);\r\n    \r\n                    Toast.makeText(this, &quot;TRY 12&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n    \r\n                    Intent intent=new Intent(this,MainActivity.class);\r\n                    startActivity(intent);\r\n                } catch (ApiException e) {\r\n    \r\n                    //not loged in\r\n                    Toast.makeText(this, &quot;Not Logged In&quot;, Toast.LENGTH_SHORT).show();\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nWhat I need is that I need to logged in user when he click on login button and switch to another activity is called mainactivity.java\r\nI tried as many way as possible but it threw a exception every time.\r\n\r\n\r\nHere is my logcat\r\n\r\n        2023-03-20 14:13:33.171 17566-17566/com.inshortsapk.inshorts D/IS_CTS_MODE: false\r\n    2023-03-20 14:13:33.171 17566-17566/com.inshortsapk.inshorts D/MULTI_WINDOW_SWITCH_ENABLED: false\r\n    2023-03-20 14:13:33.173 17566-17566/com.inshortsapk.inshorts D/DecorView[]: getWindowModeFromSystem  windowmode is 1\r\n    2023-03-20 14:13:33.265 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus false\r\n    2023-03-20 14:13:33.516 17566-17566/com.inshortsapk.inshorts D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10603; state: ENABLED\r\n    2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err: com.google.android.gms.common.api.ApiException: 10: \r\n    2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(com.google.android.gms:play-services-base@@18.0.1:3)\r\n    2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(com.google.android.gms:play-services-auth@@20.4.1:3)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.inshortsapk.inshorts.my_login.onActivityResult(my_login.java:54)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.Activity.dispatchActivityResult(Activity.java:8579)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.deliverResults(ActivityThread.java:5445)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.handleSendResult(ActivityThread.java:5491)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:54)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2284)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Looper.loopOnce(Looper.java:210)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Looper.loop(Looper.java:299)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8302)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1037)\r\n    2023-03-20 14:13:33.541 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus false\r\n    2023-03-20 14:13:33.541 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus true\r\n\r\nAs well as when I build my app then it will through this error also\r\n\r\n     open libmigui.so failed! dlopen - dlopen failed: library &quot;libmigui.so&quot; not found","title":"Why does exception occur when I try to login with google?","body":"<p>I tried to implement login with google but it always throws exception and toast not logged in</p>\n<pre><code>package com.inshortsapk.inshorts;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\nimport com.google.android.gms.common.api.ApiException;\nimport com.google.android.gms.tasks.Task;\n\npublic class my_login extends AppCompatActivity {\n    GoogleSignInOptions gso;\n    GoogleSignInClient gsc;\n    Button btnLogin;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_my_login);\n        gso=new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).requestEmail().build();\n        gsc= GoogleSignIn.getClient(this,gso);\n\n        btnLogin=findViewById(R.id.btnLogin);\n        GoogleSignInAccount account = GoogleSignIn.getLastSignedInAccount(this);\n        //(account);\n        btnLogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               // Toast.makeText(my_login.this, &quot;mylogin click&quot;, Toast.LENGTH_SHORT).show();\n                signIn();\n            }\n        });\n    }\n    public void signIn(){\n        Intent signInIntent=gsc.getSignInIntent();\n         startActivityForResult(signInIntent,1000);\n\n\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode,  Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode==1000)\n        {\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                Toast.makeText(this, &quot;TRY 11&quot;, Toast.LENGTH_SHORT).show();\n              \n                task.getResult(ApiException.class);\n\n                Toast.makeText(this, &quot;TRY 12&quot;, Toast.LENGTH_SHORT).show();\n\n\n                Intent intent=new Intent(this,MainActivity.class);\n                startActivity(intent);\n            } catch (ApiException e) {\n\n                //not loged in\n                Toast.makeText(this, &quot;Not Logged In&quot;, Toast.LENGTH_SHORT).show();\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I need is that I need to logged in user when he click on login button and switch to another activity is called mainactivity.java\nI tried as many way as possible but it threw a exception every time.</p>\n<p>Here is my logcat</p>\n<pre><code>    2023-03-20 14:13:33.171 17566-17566/com.inshortsapk.inshorts D/IS_CTS_MODE: false\n2023-03-20 14:13:33.171 17566-17566/com.inshortsapk.inshorts D/MULTI_WINDOW_SWITCH_ENABLED: false\n2023-03-20 14:13:33.173 17566-17566/com.inshortsapk.inshorts D/DecorView[]: getWindowModeFromSystem  windowmode is 1\n2023-03-20 14:13:33.265 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus false\n2023-03-20 14:13:33.516 17566-17566/com.inshortsapk.inshorts D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10603; state: ENABLED\n2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err: com.google.android.gms.common.api.ApiException: 10: \n2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(com.google.android.gms:play-services-base@@18.0.1:3)\n2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(com.google.android.gms:play-services-auth@@20.4.1:3)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.inshortsapk.inshorts.my_login.onActivityResult(my_login.java:54)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.Activity.dispatchActivityResult(Activity.java:8579)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.deliverResults(ActivityThread.java:5445)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.handleSendResult(ActivityThread.java:5491)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:54)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2284)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Looper.loopOnce(Looper.java:210)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Looper.loop(Looper.java:299)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8302)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1037)\n2023-03-20 14:13:33.541 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus false\n2023-03-20 14:13:33.541 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus true\n</code></pre>\n<p>As well as when I build my app then it will through this error also</p>\n<pre><code> open libmigui.so failed! dlopen - dlopen failed: library &quot;libmigui.so&quot; not found\n</code></pre>\n"},{"tags":["java","android","kotlin","mobile","native"],"owner":{"account_id":28063393,"reputation":1,"user_id":21437149,"display_name":"thinkoutofidea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679302514,"creation_date":1679301131,"question_id":75787977,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n    val intent = Intent(&quot;android.settings.HOME_SETTINGS&quot;) \r\nable to go to this page but no solution for going to the default browser app page?\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI would like to intent to this system page, but no information about to intent this browser list.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tfRQT.jpg\r\n  [2]: https://i.stack.imgur.com/6AGI8.jpg","title":"Android - how to intent to Default browser app System page?","body":"<p><a href=\"https://i.stack.imgur.com/tfRQT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tfRQT.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>val intent = Intent(&quot;android.settings.HOME_SETTINGS&quot;) \n</code></pre>\n<p>able to go to this page but no solution for going to the default browser app page?</p>\n<p><a href=\"https://i.stack.imgur.com/6AGI8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6AGI8.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I would like to intent to this system page, but no information about to intent this browser list.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1679246388,"post_id":75783595,"comment_id":133682947,"body_markdown":"This is my first time seeing a `Controller` be extended. Why did you do it?","body":"This is my first time seeing a <code>Controller</code> be extended. Why did you do it?"},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679247578,"post_id":75783595,"comment_id":133683143,"body_markdown":"So I can directly use setImage(). But that&#39;s not what causing the problem because I have tried it using creating objects as well. Unless there is a third way to use setImage () method from Brightness controller class.","body":"So I can directly use setImage(). But that&#39;s not what causing the problem because I have tried it using creating objects as well. Unless there is a third way to use setImage () method from Brightness controller class."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1679247676,"post_id":75783595,"comment_id":133683168,"body_markdown":"_this clearly means that JavaFX is having problem with setting images_ most certainly not ;) the error most probably is somewhere in _your_ code - so provide a [mcve] demonstrating what&#39;s wrong (please read study that help page to understand what&#39;s needed to help you find the error - it has to be the most __mininal__ example that is runnable __as-is__)","body":"<i>this clearly means that JavaFX is having problem with setting images</i> most certainly not ;) the error most probably is somewhere in <i>your</i> code - so provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what&#39;s wrong (please read study that help page to understand what&#39;s needed to help you find the error - it has to be the most <b>mininal</b> example that is runnable <b>as-is</b>)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1679247967,"post_id":75783595,"comment_id":133683228,"body_markdown":"Create and post a [mre]. I don&#39;t think it makes sense to use inheritance here. Does the FXML that uses `BrightnessController` as its controller class have an element with `fx:id=&quot;imageView&quot;`? If not, `imageView` will be null in the controller that is created when you load that FXML.","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I don&#39;t think it makes sense to use inheritance here. Does the FXML that uses <code>BrightnessController</code> as its controller class have an element with <code>fx:id=&quot;imageView&quot;</code>? If not, <code>imageView</code> will be null in the controller that is created when you load that FXML."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679248662,"post_id":75783595,"comment_id":133683357,"body_markdown":"@James_D No my Brightness controller class does not have Image View. Only my Home controller class have that element. That&#39;s the reason I want to send image from Brightness controller class to Home controller class, so I can display it. Bit it throws error. Question is why, because I am clearly sending an Image in setImage() method extended from that HomeController","body":"@James_D No my Brightness controller class does not have Image View. Only my Home controller class have that element. That&#39;s the reason I want to send image from Brightness controller class to Home controller class, so I can display it. Bit it throws error. Question is why, because I am clearly sending an Image in setImage() method extended from that HomeController"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679249103,"post_id":75783595,"comment_id":133683419,"body_markdown":"The only `@FXML`-annotated fields that will be initialized in a controller are the ones with matching `fx:id`s in the FXML that is being loaded when the controller is created. It doesn&#39;t make any difference if the field is inherited from a superclass (I really don&#39;t understand what you think inheritance is going to give you here). Consequently `imageView` is null, as is clearly stated in the error message. You need to give (either directly or indirectly) the `BrightnessController` access to the `imageView` that is created when your `HomeController` is created.","body":"The only <code>@FXML</code>-annotated fields that will be initialized in a controller are the ones with matching <code>fx:id</code>s in the FXML that is being loaded when the controller is created. It doesn&#39;t make any difference if the field is inherited from a superclass (I really don&#39;t understand what you think inheritance is going to give you here). Consequently <code>imageView</code> is null, as is clearly stated in the error message. You need to give (either directly or indirectly) the <code>BrightnessController</code> access to the <code>imageView</code> that is created when your <code>HomeController</code> is created."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679249266,"post_id":75783595,"comment_id":133683449,"body_markdown":"@James_D Inheritance was the last option I tried. I have also used objects as well. Unless there is a third way to send and set image from one controller to another.","body":"@James_D Inheritance was the last option I tried. I have also used objects as well. Unless there is a third way to send and set image from one controller to another."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1679249410,"post_id":75783595,"comment_id":133683475,"body_markdown":"To clarify: *&quot;No my Brightness controller class does not have Image View.&quot;*. Well, yes it does, but that&#39;s not what I asked. You make `BrightnessController` a subclass of `HomeController`. This means that every instance of `BrightnessController` is also an instance of `HomeController`. Since every instance of `HomeController` has a field called `imageView` of type `ImageView`, your `BrightnessController` certainly has a field called `imageView`. The question is whether or not it is initialized, which it isn&#39;t, because there is no matching `fx:id`.","body":"To clarify: <i>&quot;No my Brightness controller class does not have Image View.&quot;</i>. Well, yes it does, but that&#39;s not what I asked. You make <code>BrightnessController</code> a subclass of <code>HomeController</code>. This means that every instance of <code>BrightnessController</code> is also an instance of <code>HomeController</code>. Since every instance of <code>HomeController</code> has a field called <code>imageView</code> of type <code>ImageView</code>, your <code>BrightnessController</code> certainly has a field called <code>imageView</code>. The question is whether or not it is initialized, which it isn&#39;t, because there is no matching <code>fx:id</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1679249503,"post_id":75783595,"comment_id":133683487,"body_markdown":"The quick and dirty way is just to [pass the instance](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml) of `imageView` that is present in the `HomeController` to the `BrightnessController` when you load `BrightnessView.fxml`.","body":"The quick and dirty way is just to <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">pass the instance</a> of <code>imageView</code> that is present in the <code>HomeController</code> to the <code>BrightnessController</code> when you load <code>BrightnessView.fxml</code>."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679249829,"post_id":75783595,"comment_id":133683529,"body_markdown":"@James_D Wait so while loading a new FXML window, I can instance to BrightnessController class. If you are saying to use constructors to do that, then I tried it didn&#39;t worked. Unless you are referring to some other way to pass ImageView instance to BrightnessController. It will be helpful if you can share a code, or explain how to do it.","body":"@James_D Wait so while loading a new FXML window, I can instance to BrightnessController class. If you are saying to use constructors to do that, then I tried it didn&#39;t worked. Unless you are referring to some other way to pass ImageView instance to BrightnessController. It will be helpful if you can share a code, or explain how to do it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679249922,"post_id":75783595,"comment_id":133683544,"body_markdown":"*&quot;while loading a new FXML window, I can instance to BrightnessController class&quot;* I don&#39;t know what this means (I don&#39;t know what &quot;I can instance to&quot; means). When you load an FXML file, the `FXMLLoader` creates an instance of the controller class that is specified in the FXML. That&#39;s all I am referring to. Your last comment makes absolutely no sense to me.","body":"<i>&quot;while loading a new FXML window, I can instance to BrightnessController class&quot;</i> I don&#39;t know what this means (I don&#39;t know what &quot;I can instance to&quot; means). When you load an FXML file, the <code>FXMLLoader</code> creates an instance of the controller class that is specified in the FXML. That&#39;s all I am referring to. Your last comment makes absolutely no sense to me."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679249963,"post_id":75783595,"comment_id":133683555,"body_markdown":"*&quot;Unless you are referring to some other way to pass ImageView instance to BrightnessController.&quot;* See the link in the comment above.","body":"<i>&quot;Unless you are referring to some other way to pass ImageView instance to BrightnessController.&quot;</i> See the link in the comment above."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1679257433,"post_id":75783595,"comment_id":133684761,"body_markdown":"It sounds to me like the OP is expecting the BrightnessController to extend an instantiated instance of HomeController, thinking that the ImageView field will be instantiated.  This isn&#39;t how inheritance works.","body":"It sounds to me like the OP is expecting the BrightnessController to extend an instantiated instance of HomeController, thinking that the ImageView field will be instantiated.  This isn&#39;t how inheritance works."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679259893,"post_id":75783595,"comment_id":133685080,"body_markdown":"@DaveB That wouldn&#39;t really make sense, would it? How would the `BrightnessController` instance &quot;know&quot; which `HomeController` instance to inherit from? I can&#39;t really see a mental picture of inheritance that works at the object, rather than class, level. (I&#39;m not saying your interpretation is wrong, I just can&#39;t see how the misunderstanding would make sense.)","body":"@DaveB That wouldn&#39;t really make sense, would it? How would the <code>BrightnessController</code> instance &quot;know&quot; which <code>HomeController</code> instance to inherit from? I can&#39;t really see a mental picture of inheritance that works at the object, rather than class, level. (I&#39;m not saying your interpretation is wrong, I just can&#39;t see how the misunderstanding would make sense.)"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1679260614,"post_id":75783595,"comment_id":133685181,"body_markdown":"@James_D and yet that seems to be the case.  Look at the OP&#39;s second comment.  He seems to be indicating that accessing imageView from BrightnessController should do something meaningful, yet he asserts that he has no imageView in BrightnessController and it must be referencing the the imageView in HomeController.  Maybe the &quot;magic&quot; around the FXMLLoader process is leading him to think that they are somehow connected?","body":"@James_D and yet that seems to be the case.  Look at the OP&#39;s second comment.  He seems to be indicating that accessing imageView from BrightnessController should do something meaningful, yet he asserts that he has no imageView in BrightnessController and it must be referencing the the imageView in HomeController.  Maybe the &quot;magic&quot; around the FXMLLoader process is leading him to think that they are somehow connected?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679296399,"post_id":75783595,"comment_id":133689151,"body_markdown":"Please place the full stack trace in the question as text formatted as code rather than as an image.","body":"Please place the full stack trace in the question as text formatted as code rather than as an image."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679302160,"post_id":75783595,"comment_id":133690381,"body_markdown":"@James_D I have edited a post, and inserted a less complicated code. Check it out please.","body":"@James_D I have edited a post, and inserted a less complicated code. Check it out please."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":1,"creation_date":1679302196,"post_id":75783595,"comment_id":133690389,"body_markdown":"@jewelsea Inserted a full stack trace. Edited the post. Also have inserted a less complicated code.","body":"@jewelsea Inserted a full stack trace. Edited the post. Also have inserted a less complicated code."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679302907,"post_id":75783595,"comment_id":133690558,"body_markdown":"If you catch an exception, always either log it or rethrow it, never just ignore it.","body":"If you catch an exception, always either log it or rethrow it, never just ignore it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1679303457,"post_id":75783595,"comment_id":133690696,"body_markdown":"Controllers are, by default, and I guess should be in your case, created by the FXMLLoader, you should not be calling `new Controller1`. The new controller you create is unrelated to that created by the FXMLoader and will not have fields initialized.  Controllers should not reference controllers unless they are nested (yours are not and probably shouldn’t be). Probably use [MVC](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) with the image stored in the model and the image property of the image view bound to the image in the model.","body":"Controllers are, by default, and I guess should be in your case, created by the FXMLLoader, you should not be calling <code>new Controller1</code>. The new controller you create is unrelated to that created by the FXMLoader and will not have fields initialized.  Controllers should not reference controllers unless they are nested (yours are not and probably shouldn’t be). Probably use <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC</a> with the image stored in the model and the image property of the image view bound to the image in the model."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1679305046,"post_id":75783595,"comment_id":133691166,"body_markdown":"as assumed: the error - already spotted by @jewelsea, controllers must be __loaded__ to inject fields  -  is in _your_ code :) a [mcve] is mighty tool which can spares tons of comments, time, assumptions ..","body":"as assumed: the error - already spotted by @jewelsea, controllers must be <b>loaded</b> to inject fields  -  is in <i>your</i> code :) a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is mighty tool which can spares tons of comments, time, assumptions .."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":1,"creation_date":1679321716,"post_id":75783595,"comment_id":133695917,"body_markdown":"@jewelsea You were right. An only way to pull this task off is by using any architectural patterns. In my case MVC worked. As controllers only purpose is to pass data from view. In the end you will always a third party (class) to process the data, instead of trying to process it inside the controller class. Thanks for help.","body":"@jewelsea You were right. An only way to pull this task off is by using any architectural patterns. In my case MVC worked. As controllers only purpose is to pass data from view. In the end you will always a third party (class) to process the data, instead of trying to process it inside the controller class. Thanks for help."}],"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679346863,"answer_count":0,"score":0,"last_activity_date":1679302295,"creation_date":1679245073,"question_id":75783595,"body_markdown":"I think my question must be confusing. Let me briefly explain, I am using JavaFX, creating a photo editor. I have two controllers and two views. HomeController (from where image view layout is set), and BrightnessController, which opens a new dialogue window, from where I set values of brightness, but when apply changes, it throws error, saying this:\r\n[enter image description here](https://i.stack.imgur.com/fLJOj.png)\r\n\r\nThis is my HomeController:\r\n\r\n\r\n```\r\npackage com.example.photoeditor;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Menu;\r\nimport javafx.scene.control.MenuBar;\r\nimport javafx.scene.control.MenuItem;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.FileChooser;\r\n\r\nimport javafx.stage.Stage;\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\n\r\n@SuppressWarnings(&quot;All&quot;)\r\npublic class HomeController implements Initializable {\r\n\r\n    @FXML\r\n    Button cropButton;\r\n\r\n    @FXML\r\n    Button brightnessButton;\r\n\r\n    @FXML\r\n    Button contrastButton;\r\n\r\n    @FXML\r\n    Button sharpnessButton;\r\n\r\n    @FXML\r\n    HBox imageViewLayout;\r\n\r\n    @FXML\r\n    ImageView imageView;\r\n\r\n    @FXML\r\n    MenuBar menuBar;\r\n\r\n    Mat imageMat;\r\n    String inputImageFileLocation;\r\n\r\n    Utilities utilities = new Utilities();\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        // Create two menus\r\n        Menu fileMenu = new Menu(&quot;File&quot;);\r\n\r\n        // Create some menu items\r\n        MenuItem newMenuItem = new MenuItem(&quot;New&quot;);\r\n        MenuItem openMenuItem = new MenuItem(&quot;Open&quot;);\r\n        MenuItem saveMenuItem = new MenuItem(&quot;Save&quot;);\r\n        MenuItem exitMenuItem = new MenuItem(&quot;Exit&quot;);\r\n\r\n        // Add menu items to the File menu\r\n        fileMenu.getItems().addAll(newMenuItem, openMenuItem, saveMenuItem, exitMenuItem);\r\n\r\n        // Add menus to the menubar\r\n        menuBar.getMenus().addAll(fileMenu);\r\n\r\n        openMenuItem.setOnAction(new EventHandler&lt;&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                openImage();\r\n            }\r\n        });\r\n\r\n        brightnessButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                openBrightnessWindow();\r\n            }\r\n        });\r\n    }\r\n\r\n    // LOADING IMAGE INTO IMAGEVIEW\r\n    public void openImage() {\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\r\n        // Open dialogue to get image location path\r\n        FileChooser fileChooser = new FileChooser();\r\n        File inputImageFile = fileChooser.showOpenDialog(null);\r\n        inputImageFileLocation = inputImageFile.toString().replaceAll(\r\n                &quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n\r\n\r\n        imageMat = Imgcodecs.imread(inputImageFileLocation);\r\n        Image image = utilities.mat2Image(imageMat);\r\n\r\n        setImage(image);\r\n\r\n    }\r\n\r\n    public void openBrightnessWindow() {\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;BrightnessView.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n            Stage primaryStage = new Stage();\r\n            primaryStage.setTitle(&quot;Brightness Controller&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setResizable(false);\r\n            primaryStage.initOwner(brightnessButton.getScene().getWindow());\r\n            primaryStage.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void setImage(Image image) {\r\n        imageView.setImage(image);\r\n        imageView.fitWidthProperty().bind(imageViewLayout.widthProperty());\r\n        imageView.fitHeightProperty().bind(imageViewLayout.heightProperty());\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd this is my BrightnessController:\r\n\r\n\r\n```\r\npackage com.example.photoeditor;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.image.Image;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\n@SuppressWarnings(&quot;All&quot;)\r\npublic class BrightnessController extends HomeController implements Initializable {\r\n\r\n    @FXML\r\n    Button applyChanges;\r\n\r\n    @FXML\r\n    TextField textField;\r\n\r\n    Utilities utilities = new Utilities();\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        applyChanges.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                enhanceBrightness();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void enhanceBrightness() {\r\n        Mat source = Imgcodecs.imread(&quot;D://img.jpg&quot;);\r\n        Mat destination = new Mat(source.rows(), source.cols(), source.type());\r\n        source.convertTo(destination, -1, 10, 50);\r\n\r\n        Image newImage = utilities.mat2Image(destination);\r\n        setImage(newImage);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI know that some of you will say that I am sending null method (no image) from brightness controller to home controller, well that&#39;s not true. When i run the same code in HomeController where Image View layout exists, it works without any problem.\r\n\r\nNow this clearly means that JavaFX is having problem with setting images in ImageView from different controllers. This used to be super easy when JavaFX supported to connect multiple views with one controller from fxml files.\r\n\r\nPlease help me to fix this problem.\r\n\r\nOkay so I am inserting this new less complicated version of my program to make it more understandable. I have two controllers, &quot;Controller1.java&quot; and &quot;Controller2.java&quot;, they both are connected to scenes, &quot;SceneView1&quot; and &quot;SceneView2&quot;. &quot;Controller1.java&quot; has method setImage(Image image) to set an image in image view of &quot;SceneView1&quot;. Now I am sending image from &quot;Controller2.java&quot;, in other words calling setImage() method, and it is throwing an error.\r\n\r\nController1:\r\n\r\n    package com.example.demo;\r\n\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n\r\n    public class Controller1 implements Initializable {\r\n\r\n     @FXML\r\n     Button nextScene;\r\n\r\n    @FXML\r\n    HBox imageViewLayout;\r\n\r\n    @FXML\r\n    ImageView imageView;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        nextScene.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                try {\r\n                    Parent root = FXMLLoader.load(getClass().getResource(&quot;SceneView2.fxml&quot;));\r\n                    Scene scene = new Scene(root);\r\n                    Stage primaryStage = new Stage();\r\n                    primaryStage.setTitle(&quot;Video Library&quot;);\r\n                    primaryStage.setScene(scene);\r\n                    primaryStage.setResizable(false);\r\n                    primaryStage.initOwner(nextScene.getScene().getWindow());\r\n                    primaryStage.show();\r\n                } catch (Exception e) {\r\n                    // PASS\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void setImage(Image image) {\r\n        imageView.setImage(image);\r\n        imageView.fitWidthProperty().bind(imageViewLayout.widthProperty());\r\n        imageView.fitHeightProperty().bind(imageViewLayout.heightProperty());\r\n    }\r\n    }\r\n\r\n\r\nController2:\r\n\r\n    package com.example.demo;\r\n\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Button;\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n\r\n    import javafx.scene.image.Image;\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfByte;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n\r\n    public class Controller2 implements Initializable {\r\n\r\n     @FXML\r\n     Button addImage;\r\n\r\n     Controller1 controller1 = new Controller1();\r\n\r\n     @Override\r\n     public void initialize(URL url, ResourceBundle resourceBundle) {\r\n         addImage.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n                Mat imageMat = Imgcodecs.imread(&quot;D://img.jpg&quot;);\r\n                Image image = mat2Image(imageMat);\r\n\r\n                controller1.setImage(image);\r\n            }\r\n        });\r\n    }\r\n\r\n    // CONVERTING OPENCV IMAGE TO JAVAFX IMAGE\r\n    public Image mat2Image(Mat mat) {\r\n        MatOfByte buffer = new MatOfByte();\r\n        Imgcodecs.imencode(&quot;.png&quot;, mat, buffer);\r\n        return new Image(new ByteArrayInputStream(buffer.toArray()));\r\n    }\r\n    }\r\n\r\nHere&#39;s a print stack trace:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; -Djava.library.path=D:\\Softwares\\OpenCV-4.6.0\\opencv\\build\\java\\x64 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\lib\\idea_rt.jar=60044:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-controls\\19.0.2.1\\javafx-controls-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19.0.2.1\\javafx-graphics-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-base\\19.0.2.1\\javafx-base-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19.0.2.1\\javafx-fxml-19.0.2.1.jar -p &quot;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-controls\\19.0.2.1\\javafx-controls-19.0.2.1-win.jar;D:\\Softwares\\OpenCV-4.6.0\\opencv\\build\\java\\opencv-460.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19.0.2.1\\javafx-fxml-19.0.2.1-win.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19.0.2.1\\javafx-graphics-19.0.2.1-win.jar;D:\\Software Engineering\\App Development\\Desktop Development\\Java\\Demo\\target\\classes;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-base\\19.0.2.1\\javafx-base-19.0.2.1-win.jar&quot; -m com.example.demo/com.example.demo.Main\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.image.ImageView.setImage(javafx.scene.image.Image)&quot; because &quot;this.imageView&quot; is null\r\n    \tat com.example.demo/com.example.demo.Controller1.setImage(Controller1.java:53)\r\n    \tat com.example.demo/com.example.demo.Controller2$1.handle(Controller2.java:35)\r\n    \tat com.example.demo/com.example.demo.Controller2$1.handle(Controller2.java:28)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n    \tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n    \tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\n","title":"Can&#39;t set image in image view when calling method from different controller than the where Image View is actually set in JavaFX?","body":"<p>I think my question must be confusing. Let me briefly explain, I am using JavaFX, creating a photo editor. I have two controllers and two views. HomeController (from where image view layout is set), and BrightnessController, which opens a new dialogue window, from where I set values of brightness, but when apply changes, it throws error, saying this:\n<a href=\"https://i.stack.imgur.com/fLJOj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my HomeController:</p>\n<pre><code>package com.example.photoeditor;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Menu;\nimport javafx.scene.control.MenuBar;\nimport javafx.scene.control.MenuItem;\n\nimport java.io.File;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.FileChooser;\n\nimport javafx.stage.Stage;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.imgcodecs.Imgcodecs;\n\n@SuppressWarnings(&quot;All&quot;)\npublic class HomeController implements Initializable {\n\n    @FXML\n    Button cropButton;\n\n    @FXML\n    Button brightnessButton;\n\n    @FXML\n    Button contrastButton;\n\n    @FXML\n    Button sharpnessButton;\n\n    @FXML\n    HBox imageViewLayout;\n\n    @FXML\n    ImageView imageView;\n\n    @FXML\n    MenuBar menuBar;\n\n    Mat imageMat;\n    String inputImageFileLocation;\n\n    Utilities utilities = new Utilities();\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        // Create two menus\n        Menu fileMenu = new Menu(&quot;File&quot;);\n\n        // Create some menu items\n        MenuItem newMenuItem = new MenuItem(&quot;New&quot;);\n        MenuItem openMenuItem = new MenuItem(&quot;Open&quot;);\n        MenuItem saveMenuItem = new MenuItem(&quot;Save&quot;);\n        MenuItem exitMenuItem = new MenuItem(&quot;Exit&quot;);\n\n        // Add menu items to the File menu\n        fileMenu.getItems().addAll(newMenuItem, openMenuItem, saveMenuItem, exitMenuItem);\n\n        // Add menus to the menubar\n        menuBar.getMenus().addAll(fileMenu);\n\n        openMenuItem.setOnAction(new EventHandler&lt;&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                openImage();\n            }\n        });\n\n        brightnessButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                openBrightnessWindow();\n            }\n        });\n    }\n\n    // LOADING IMAGE INTO IMAGEVIEW\n    public void openImage() {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n\n        // Open dialogue to get image location path\n        FileChooser fileChooser = new FileChooser();\n        File inputImageFile = fileChooser.showOpenDialog(null);\n        inputImageFileLocation = inputImageFile.toString().replaceAll(\n                &quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\n\n\n        imageMat = Imgcodecs.imread(inputImageFileLocation);\n        Image image = utilities.mat2Image(imageMat);\n\n        setImage(image);\n\n    }\n\n    public void openBrightnessWindow() {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;BrightnessView.fxml&quot;));\n            Scene scene = new Scene(root);\n            Stage primaryStage = new Stage();\n            primaryStage.setTitle(&quot;Brightness Controller&quot;);\n            primaryStage.setScene(scene);\n            primaryStage.setResizable(false);\n            primaryStage.initOwner(brightnessButton.getScene().getWindow());\n            primaryStage.show();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void setImage(Image image) {\n        imageView.setImage(image);\n        imageView.fitWidthProperty().bind(imageViewLayout.widthProperty());\n        imageView.fitHeightProperty().bind(imageViewLayout.heightProperty());\n    }\n}\n</code></pre>\n<p>And this is my BrightnessController:</p>\n<pre><code>package com.example.photoeditor;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.image.Image;\nimport org.opencv.core.Mat;\nimport org.opencv.imgcodecs.Imgcodecs;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\n@SuppressWarnings(&quot;All&quot;)\npublic class BrightnessController extends HomeController implements Initializable {\n\n    @FXML\n    Button applyChanges;\n\n    @FXML\n    TextField textField;\n\n    Utilities utilities = new Utilities();\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        applyChanges.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                enhanceBrightness();\n            }\n        });\n    }\n\n    public void enhanceBrightness() {\n        Mat source = Imgcodecs.imread(&quot;D://img.jpg&quot;);\n        Mat destination = new Mat(source.rows(), source.cols(), source.type());\n        source.convertTo(destination, -1, 10, 50);\n\n        Image newImage = utilities.mat2Image(destination);\n        setImage(newImage);\n    }\n}\n\n</code></pre>\n<p>I know that some of you will say that I am sending null method (no image) from brightness controller to home controller, well that's not true. When i run the same code in HomeController where Image View layout exists, it works without any problem.</p>\n<p>Now this clearly means that JavaFX is having problem with setting images in ImageView from different controllers. This used to be super easy when JavaFX supported to connect multiple views with one controller from fxml files.</p>\n<p>Please help me to fix this problem.</p>\n<p>Okay so I am inserting this new less complicated version of my program to make it more understandable. I have two controllers, &quot;Controller1.java&quot; and &quot;Controller2.java&quot;, they both are connected to scenes, &quot;SceneView1&quot; and &quot;SceneView2&quot;. &quot;Controller1.java&quot; has method setImage(Image image) to set an image in image view of &quot;SceneView1&quot;. Now I am sending image from &quot;Controller2.java&quot;, in other words calling setImage() method, and it is throwing an error.</p>\n<p>Controller1:</p>\n<pre><code>package com.example.demo;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class Controller1 implements Initializable {\n\n @FXML\n Button nextScene;\n\n@FXML\nHBox imageViewLayout;\n\n@FXML\nImageView imageView;\n\n@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    nextScene.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent actionEvent) {\n            try {\n                Parent root = FXMLLoader.load(getClass().getResource(&quot;SceneView2.fxml&quot;));\n                Scene scene = new Scene(root);\n                Stage primaryStage = new Stage();\n                primaryStage.setTitle(&quot;Video Library&quot;);\n                primaryStage.setScene(scene);\n                primaryStage.setResizable(false);\n                primaryStage.initOwner(nextScene.getScene().getWindow());\n                primaryStage.show();\n            } catch (Exception e) {\n                // PASS\n            }\n        }\n    });\n}\n\npublic void setImage(Image image) {\n    imageView.setImage(image);\n    imageView.fitWidthProperty().bind(imageViewLayout.widthProperty());\n    imageView.fitHeightProperty().bind(imageViewLayout.heightProperty());\n}\n}\n</code></pre>\n<p>Controller2:</p>\n<pre><code>package com.example.demo;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\n\nimport java.io.ByteArrayInputStream;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.scene.image.Image;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfByte;\nimport org.opencv.imgcodecs.Imgcodecs;\n\npublic class Controller2 implements Initializable {\n\n @FXML\n Button addImage;\n\n Controller1 controller1 = new Controller1();\n\n @Override\n public void initialize(URL url, ResourceBundle resourceBundle) {\n     addImage.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent actionEvent) {\n            System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n            Mat imageMat = Imgcodecs.imread(&quot;D://img.jpg&quot;);\n            Image image = mat2Image(imageMat);\n\n            controller1.setImage(image);\n        }\n    });\n}\n\n// CONVERTING OPENCV IMAGE TO JAVAFX IMAGE\npublic Image mat2Image(Mat mat) {\n    MatOfByte buffer = new MatOfByte();\n    Imgcodecs.imencode(&quot;.png&quot;, mat, buffer);\n    return new Image(new ByteArrayInputStream(buffer.toArray()));\n}\n}\n</code></pre>\n<p>Here's a print stack trace:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; -Djava.library.path=D:\\Softwares\\OpenCV-4.6.0\\opencv\\build\\java\\x64 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\lib\\idea_rt.jar=60044:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-controls\\19.0.2.1\\javafx-controls-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19.0.2.1\\javafx-graphics-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-base\\19.0.2.1\\javafx-base-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19.0.2.1\\javafx-fxml-19.0.2.1.jar -p &quot;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-controls\\19.0.2.1\\javafx-controls-19.0.2.1-win.jar;D:\\Softwares\\OpenCV-4.6.0\\opencv\\build\\java\\opencv-460.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19.0.2.1\\javafx-fxml-19.0.2.1-win.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19.0.2.1\\javafx-graphics-19.0.2.1-win.jar;D:\\Software Engineering\\App Development\\Desktop Development\\Java\\Demo\\target\\classes;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-base\\19.0.2.1\\javafx-base-19.0.2.1-win.jar&quot; -m com.example.demo/com.example.demo.Main\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.image.ImageView.setImage(javafx.scene.image.Image)&quot; because &quot;this.imageView&quot; is null\n    at com.example.demo/com.example.demo.Controller1.setImage(Controller1.java:53)\n    at com.example.demo/com.example.demo.Controller2$1.handle(Controller2.java:35)\n    at com.example.demo/com.example.demo.Controller2$1.handle(Controller2.java:28)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n"},{"tags":["java","mysql","jdbc","remote-access"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679062528,"post_id":75768030,"comment_id":133658430,"body_markdown":"Try first with a mysql client using the LAN IP address as the host part of the connection","body":"Try first with a mysql client using the LAN IP address as the host part of the connection"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1679063071,"post_id":75768030,"comment_id":133658610,"body_markdown":"Sorry, I should have made clear that the IP address I&#39;m using is the private IP Address for use within the LAN. I&#39;ll edit the question accordingly.","body":"Sorry, I should have made clear that the IP address I&#39;m using is the private IP Address for use within the LAN. I&#39;ll edit the question accordingly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679063573,"post_id":75768030,"comment_id":133658747,"body_markdown":"I&#39;m aware it&#39;s a private address. If you&#39;ve set up the server correctly and your network functions as it should, the LAN hostname would be a lot better. Just to be clear, this &#39;remote&#39; connection you&#39;re trying is *from inside* the LAN is it not? Because if it isn&#39;t, you will probably need port forwarding to forward to that host from &#39;the Internet&#39;","body":"I&#39;m aware it&#39;s a private address. If you&#39;ve set up the server correctly and your network functions as it should, the LAN hostname would be a lot better. Just to be clear, this &#39;remote&#39; connection you&#39;re trying is <i>from inside</i> the LAN is it not? Because if it isn&#39;t, you will probably need port forwarding to forward to that host from &#39;the Internet&#39;"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679063598,"post_id":75768030,"comment_id":133658756,"body_markdown":"If you can reach it on 192.nnn.nnn.nn from another sql client from the localhost then firewall is open. Can you set your sql client to not use SSL/TLS? Perhaps that DB is setup to insist on SSL/TLS. Your code &amp; dependencies that reached the DB at localhost should be able to reach 192.nnn.nnn.nn unchanged (besides the  application.properties change to the spring.datasource.url). Is the version running at 192.nnn.nnn.nn materially the same as that running on localhost?","body":"If you can reach it on 192.nnn.nnn.nn from another sql client from the localhost then firewall is open. Can you set your sql client to not use SSL/TLS? Perhaps that DB is setup to insist on SSL/TLS. Your code &amp; dependencies that reached the DB at localhost should be able to reach 192.nnn.nnn.nn unchanged (besides the  application.properties change to the spring.datasource.url). Is the version running at 192.nnn.nnn.nn materially the same as that running on localhost?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679063720,"post_id":75768030,"comment_id":133658787,"body_markdown":"What stacktrace do you get locally (with the code/dependencies that work locally) when you call 192.nnn.nnn.nn? Does the DB at 192.nnn.nnn.nn have a schema testdb? Can you use the localhost&#39;s network ip (not 127.0.0.1) in place of &#39;localhost&#39;? all of this info should narrow down the cause.","body":"What stacktrace do you get locally (with the code/dependencies that work locally) when you call 192.nnn.nnn.nn? Does the DB at 192.nnn.nnn.nn have a schema testdb? Can you use the localhost&#39;s network ip (not 127.0.0.1) in place of &#39;localhost&#39;? all of this info should narrow down the cause."},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1679064303,"post_id":75768030,"comment_id":133658973,"body_markdown":"@g00se. Yes, everything is inside my home LAN. I&#39;ll research your comments and let you know when and if they work!  Thank you very much!","body":"@g00se. Yes, everything is inside my home LAN. I&#39;ll research your comments and let you know when and if they work!  Thank you very much!"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1679064405,"post_id":75768030,"comment_id":133659007,"body_markdown":"@John Williams: Thank you very much for your quick and comprehensive notes!  I&#39;ll research all your suggestions and get back to you as and when I have a result. I have to leave my desk now as it&#39;s St Patrick&#39;s Day and I&#39;m Irish (though in Berlin). So I may not get back to you until the weekend!","body":"@John Williams: Thank you very much for your quick and comprehensive notes!  I&#39;ll research all your suggestions and get back to you as and when I have a result. I have to leave my desk now as it&#39;s St Patrick&#39;s Day and I&#39;m Irish (though in Berlin). So I may not get back to you until the weekend!"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1679399375,"post_id":75768030,"comment_id":133711254,"body_markdown":"@John Williams:  Inspired by your suggestions, one of the things I did with the code connecting remotely with the database was make sure it was identical to the code for the local machine. I simply overwrote the remote code with my git-saved version. I noticed a small difference in external dependencies. There was something wrong with my reference to the java-connection*.jar. Once I&#39;d deleted and re-created the reference, things began to work (almost ... I have a new problem I&#39;ll try to work out for myself).\n\nThanks to everyone for your help (especially to you!).  I&#39;ll write an answer soon!","body":"@John Williams:  Inspired by your suggestions, one of the things I did with the code connecting remotely with the database was make sure it was identical to the code for the local machine. I simply overwrote the remote code with my git-saved version. I noticed a small difference in external dependencies. There was something wrong with my reference to the java-connection*.jar. Once I&#39;d deleted and re-created the reference, things began to work (almost ... I have a new problem I&#39;ll try to work out for myself).  Thanks to everyone for your help (especially to you!).  I&#39;ll write an answer soon!"}],"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679302060,"creation_date":1679058956,"question_id":75768030,"body_markdown":"I&#39;ve succeeded in creating a connection from a Java application using Intellij to a MySQL database hosted locally but am having dreadful trouble making the same connection from identical code using a remote computer.\r\n\r\nBoth the local and the remote computers are running Windows 11.\r\n\r\nI&#39;ve done all the following:\r\n1. carefully checked my connections string for my local connection:\r\n```\r\njdbc:mysql://localhost:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\r\n```\r\n... and my remote connection:\r\n```\r\njdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\r\n```\r\n\r\n2. checked for the presence of my MySQL Connector/J driver (mysql.connector-java-5.1.49 is on my list of external libraries).\r\n\r\n3. created a rule in the windows firewall allowing my client access the server through the relevant port (3306).\r\n\r\n4. checked that the IP address and port of the remote host as well as the user name and password are all correct.  The IP address to the remote computer is the private IP address provided for that computer for private use within the LAN.\r\n\r\n5. I&#39;ve successfully created a connection to the database on the remote computer using MySQL based on the same IP Address, port, username and password. Does that mean the issue isn&#39;t a firewall problem?\r\n\r\n6. I&#39;ve also replaced &quot;localhost&quot; with 127.0.0.1 and with the private IP address (192.nnn.nnn.nn as above) when running the code locally on the DB host machine. The result is a successful connection every time. \r\n\r\nI&#39;ve also added the line to the code &#39;Class.forName(&quot;com.mysql.jdbc.Driver&quot;);&#39; with the result that the code now no longer works even using a localhost string, yielding an error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver. This suggests that the driver used by the connection.jar is not com.mysql.jdbc.driver. The same happens for &quot;com.mysql.cj.jdbc.Driver&quot;. I&#39;ve since commented this line out, and my localhost instance (of course) works fine again, while the remote instance (of course) reverts to a java.sql.SQLException: &quot;No suitable driver found for jdbc:mysql:...&quot; error triggered on this line:\r\n```\r\nmyConnection = DriverManager.getConnection(connectionString);\r\n```\r\n\r\nThis is the central error I&#39;m getting every time I try to create the remote connection from within the java application.\r\n\r\nThe output from the console when I run the local instance successfully is as follows (I&#39;ve replaced the ip address here and in the stack trace for the unsuccessful instance with &quot;192.nnn.nnn.nn&quot;):\r\n\r\n```\r\n\r\n&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.2.4\\lib\\idea_rt.jar=51949:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.2.4\\bin&quot; -Dfile.encoding=UTF-8 -classpath D:\\java_development\\LessonsApp\\out\\production\\LessonsApp;D:\\java_development\\Database_experiments\\English_exercises\\lib\\mysql-connector-java-5.1.49.jar LessonsApp\r\njdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Passjdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass#1\r\n\r\n```\r\n\r\nHere&#39;s the stack trace for the unsuccessful remote connection (the connection is made at the press of a button from an initial screen and the :\r\n\r\n```\r\n&quot;C:\\Users\\Jaime Hyland\\.jdks\\azul-15.0.10\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\\lib\\idea_rt.jar=57486:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\Jaime Hyland\\IdeaProjects\\LessonsApp\\out\\production\\LessonsApp&quot; LessonsApp\r\nSQL exception: java.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Passjava.lang.NullPointerException: Cannot invoke &quot;java.sql.ResultSet.close()&quot; because &quot;rs&quot; is null\r\nSQL exception: java.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass1Blah, blah java.lang.NullPointerException: Cannot invoke &quot;java.sql.ResultSet.close()&quot; because &quot;rs&quot; is null\r\njava.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/englishexercises?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\r\n\tat ComboPopulator.getListForCombo(ComboPopulator.java:31)\r\n\tat CreateLessonGUI.&lt;init&gt;(CreateLessonGUI.java:105)\r\n\tat NavigationGUI$1$1.run(NavigationGUI.java:19)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\njava.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\r\n\tat ComboPopulator.getListForCombo(ComboPopulator.java:31)\r\n\tat CreateLessonGUI.&lt;init&gt;(CreateLessonGUI.java:117)\r\n\tat NavigationGUI$1$1.run(NavigationGUI.java:19)\r\n```\r\n\r\nI&#39;d appreciate if anyone could provide me with a little guidance on this.  I&#39;d particularly appreciate if anyone could clarify whether I can assume that my issue is not an obvious firewall problem if my local instance of MySQL Workbench can connect successfully with the remote MySQL Database using an identical IP address, port, username and password.\r\n\r\nI&#39;ve been back and forth through lots of stack overflow questions on jdbc connections looking for a solution. I apologise if I&#39;m adding yet more duplication to this already much discussed issue.","title":"Can&#39;t create connection to MySQL database on remote computer on my LAN","body":"<p>I've succeeded in creating a connection from a Java application using Intellij to a MySQL database hosted locally but am having dreadful trouble making the same connection from identical code using a remote computer.</p>\n<p>Both the local and the remote computers are running Windows 11.</p>\n<p>I've done all the following:</p>\n<ol>\n<li>carefully checked my connections string for my local connection:</li>\n</ol>\n<pre><code>jdbc:mysql://localhost:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\n</code></pre>\n<p>... and my remote connection:</p>\n<pre><code>jdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\n</code></pre>\n<ol start=\"2\">\n<li><p>checked for the presence of my MySQL Connector/J driver (mysql.connector-java-5.1.49 is on my list of external libraries).</p>\n</li>\n<li><p>created a rule in the windows firewall allowing my client access the server through the relevant port (3306).</p>\n</li>\n<li><p>checked that the IP address and port of the remote host as well as the user name and password are all correct.  The IP address to the remote computer is the private IP address provided for that computer for private use within the LAN.</p>\n</li>\n<li><p>I've successfully created a connection to the database on the remote computer using MySQL based on the same IP Address, port, username and password. Does that mean the issue isn't a firewall problem?</p>\n</li>\n<li><p>I've also replaced &quot;localhost&quot; with 127.0.0.1 and with the private IP address (192.nnn.nnn.nn as above) when running the code locally on the DB host machine. The result is a successful connection every time.</p>\n</li>\n</ol>\n<p>I've also added the line to the code 'Class.forName(&quot;com.mysql.jdbc.Driver&quot;);' with the result that the code now no longer works even using a localhost string, yielding an error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver. This suggests that the driver used by the connection.jar is not com.mysql.jdbc.driver. The same happens for &quot;com.mysql.cj.jdbc.Driver&quot;. I've since commented this line out, and my localhost instance (of course) works fine again, while the remote instance (of course) reverts to a java.sql.SQLException: &quot;No suitable driver found for jdbc:mysql:...&quot; error triggered on this line:</p>\n<pre><code>myConnection = DriverManager.getConnection(connectionString);\n</code></pre>\n<p>This is the central error I'm getting every time I try to create the remote connection from within the java application.</p>\n<p>The output from the console when I run the local instance successfully is as follows (I've replaced the ip address here and in the stack trace for the unsuccessful instance with &quot;192.nnn.nnn.nn&quot;):</p>\n<pre><code>\n&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.2.4\\lib\\idea_rt.jar=51949:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.2.4\\bin&quot; -Dfile.encoding=UTF-8 -classpath D:\\java_development\\LessonsApp\\out\\production\\LessonsApp;D:\\java_development\\Database_experiments\\English_exercises\\lib\\mysql-connector-java-5.1.49.jar LessonsApp\njdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Passjdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass#1\n\n</code></pre>\n<p>Here's the stack trace for the unsuccessful remote connection (the connection is made at the press of a button from an initial screen and the :</p>\n<pre><code>&quot;C:\\Users\\Jaime Hyland\\.jdks\\azul-15.0.10\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\\lib\\idea_rt.jar=57486:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\Jaime Hyland\\IdeaProjects\\LessonsApp\\out\\production\\LessonsApp&quot; LessonsApp\nSQL exception: java.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Passjava.lang.NullPointerException: Cannot invoke &quot;java.sql.ResultSet.close()&quot; because &quot;rs&quot; is null\nSQL exception: java.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass1Blah, blah java.lang.NullPointerException: Cannot invoke &quot;java.sql.ResultSet.close()&quot; because &quot;rs&quot; is null\njava.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/englishexercises?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\n    at ComboPopulator.getListForCombo(ComboPopulator.java:31)\n    at CreateLessonGUI.&lt;init&gt;(CreateLessonGUI.java:105)\n    at NavigationGUI$1$1.run(NavigationGUI.java:19)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\njava.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\n    at ComboPopulator.getListForCombo(ComboPopulator.java:31)\n    at CreateLessonGUI.&lt;init&gt;(CreateLessonGUI.java:117)\n    at NavigationGUI$1$1.run(NavigationGUI.java:19)\n</code></pre>\n<p>I'd appreciate if anyone could provide me with a little guidance on this.  I'd particularly appreciate if anyone could clarify whether I can assume that my issue is not an obvious firewall problem if my local instance of MySQL Workbench can connect successfully with the remote MySQL Database using an identical IP address, port, username and password.</p>\n<p>I've been back and forth through lots of stack overflow questions on jdbc connections looking for a solution. I apologise if I'm adding yet more duplication to this already much discussed issue.</p>\n"},{"tags":["java","instrumentation","javaagents"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1563285527,"post_id":57006881,"comment_id":100643545,"body_markdown":"Try `Class.forName(&quot;sun.tools.attach.WindowsAttachProvider&quot;)`, just to see whether you get a better stack trace.","body":"Try <code>Class.forName(&quot;sun.tools.attach.WindowsAttachProvider&quot;)</code>, just to see whether you get a better stack trace."},{"owner":{"account_id":4824359,"reputation":542,"user_id":3894173,"display_name":"ihatecsv"},"score":0,"creation_date":1563288534,"post_id":57006881,"comment_id":100645527,"body_markdown":"I&#39;ve added the stack trace for that to the original question, thanks!","body":"I&#39;ve added the stack trace for that to the original question, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562970244,"creation_date":1562970244,"answer_id":57014633,"question_id":57006881,"body_markdown":"In Java 8, the attach API is part of a seperate jar that the JVM does not load by default. You will have to include it explicitly in the class path. Typically, it is located in the `\\lib` folder of your JDK&#39;s home:\r\n\r\n    java -cp %JAVA_HOME%\\\\lib\\\\tools.jar -jar AgentAttacher.jar","title":"sun.tools.attach.WindowsAttachProvider could not be instantiated","body":"<p>In Java 8, the attach API is part of a seperate jar that the JVM does not load by default. You will have to include it explicitly in the class path. Typically, it is located in the <code>\\lib</code> folder of your JDK's home:</p>\n\n<pre><code>java -cp %JAVA_HOME%\\\\lib\\\\tools.jar -jar AgentAttacher.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4824359,"reputation":542,"user_id":3894173,"display_name":"ihatecsv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1563289938,"creation_date":1563289938,"answer_id":57060445,"question_id":57006881,"body_markdown":"It appears that the issue was with `attach.dll` not loading from `%JAVA_HOME%\\jre\\bin`.\r\n\r\nRunning the jar as:\r\n\r\n```none\r\njava -Djava.library.path=&quot;%JAVA_HOME%\\jre\\bin&quot; -jar AgentAttacher.jar\r\n```\r\n\r\nappears to have worked, so long as `tools.jar` is specified in my jar manifest under `Class-Path`.","title":"sun.tools.attach.WindowsAttachProvider could not be instantiated","body":"<p>It appears that the issue was with <code>attach.dll</code> not loading from <code>%JAVA_HOME%\\jre\\bin</code>.</p>\n\n<p>Running the jar as:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java -Djava.library.path=\"%JAVA_HOME%\\jre\\bin\" -jar AgentAttacher.jar\n</code></pre>\n\n<p>appears to have worked, so long as <code>tools.jar</code> is specified in my jar manifest under <code>Class-Path</code>.</p>\n"},{"tags":[],"owner":{"account_id":23076576,"reputation":1,"user_id":17189447,"display_name":"longqi song"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679301278,"creation_date":1679301182,"answer_id":75787985,"question_id":57006881,"body_markdown":"I encountered the same problem and solved it this way:\r\n\r\nuse jdk 11 build source,can not find `tools.jar`  or tools.jar is windows\r\n\r\nthis is my pom.xml\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;1.8.0&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;${project.basedir}/lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n```shell\r\n# Create a local directory and put tools. jar in it\r\nmkdir lib &amp;&amp; cp %JAVA_8_HOME/lib/tools.jar% lib/\r\n```\r\n\r\nthen:\r\n```shell\r\nmvn package\r\njava -jar attach-agent.jar\r\n```","title":"sun.tools.attach.WindowsAttachProvider could not be instantiated","body":"<p>I encountered the same problem and solved it this way:</p>\n<p>use jdk 11 build source,can not find <code>tools.jar</code>  or tools.jar is windows</p>\n<p>this is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\n      &lt;version&gt;1.8.0&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${project.basedir}/lib/tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code># Create a local directory and put tools. jar in it\nmkdir lib &amp;&amp; cp %JAVA_8_HOME/lib/tools.jar% lib/\n</code></pre>\n<p>then:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn package\njava -jar attach-agent.jar\n</code></pre>\n"}],"owner":{"account_id":4824359,"reputation":542,"user_id":3894173,"display_name":"ihatecsv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6805,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57060445,"answer_count":3,"score":3,"last_activity_date":1679301278,"creation_date":1562933900,"question_id":57006881,"body_markdown":"I&#39;m currently writing an attacher which attaches agents to JVM processes, and I keep running into this issue. Here&#39;s a simplified version of my code:\r\n\r\n```java\r\nimport com.sun.tools.attach.VirtualMachine;\r\n\r\npublic class AgentAttacher {\r\n    public static void main(String[] args) {\r\n        try {\r\n            String pid = &quot;some-pid-determined-elsewhere&quot;;\r\n            final VirtualMachine vm = VirtualMachine.attach(pid);\r\n            vm.loadAgent(&quot;agent.jar&quot;);\r\n            vm.detach();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen running `java -jar AgentAttacher.jar`, I get the following error:\r\n\r\n```none\r\njava.util.ServiceConfigurationError: com.sun.tools.attach.spi.AttachProvider: Provider sun.tools.attach.WindowsAttachProvider could not be instantiated\r\n```\r\n\r\nI have tried adding `tools.jar` from the `lib` directory of my JDK to the `CLASSPATH` environment variable, including it in the `Class-Path` in my `MANIFEST.MF`, and directly specifying it using `-cp` while running the JAR. I&#39;m fairly certain that `tools.jar` is being loaded because it gives a different error when missing:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine\r\n```\r\n\r\nI&#39;m also getting the `WindowsAttachProvider could not be instantiated` error while only using `VirtualMachine.list()`, so I don&#39;t think this is related to using `attach()` with an incorrect PID.\r\n\r\n---\r\n\r\nI&#39;ve tried loading the class using `Class.forName()`:\r\n\r\n```java\r\npublic class AgentAttacher {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Class.forName(&quot;sun.tools.attach.WindowsAttachProvider&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand I get the following stack trace:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no attach in java.library.path\r\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\r\n        at java.lang.System.loadLibrary(Unknown Source)\r\n        at sun.tools.attach.WindowsAttachProvider.&lt;clinit&gt;(WindowsAttachProvider.java:175)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at JavaAttacker.main(JavaAttacker.java:4)\r\n```\r\n\r\nIf I don&#39;t include `tools.jar` in the classpath, I get a different stack trace here, so I&#39;m sure it&#39;s being loaded:\r\n\r\n```none\r\njava.lang.ClassNotFoundException: sun.tools.attach.WindowsAttachProvider\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at JavaAttacker.main(JavaAttacker.java:4)\r\n```\r\n\r\n---\r\n\r\nMy environment is a Windows 10 Pro (1809) VM on VirtualBox with JDK &amp; JRE 1.8.0_212.","title":"sun.tools.attach.WindowsAttachProvider could not be instantiated","body":"<p>I'm currently writing an attacher which attaches agents to JVM processes, and I keep running into this issue. Here's a simplified version of my code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.tools.attach.VirtualMachine;\n\npublic class AgentAttacher {\n    public static void main(String[] args) {\n        try {\n            String pid = \"some-pid-determined-elsewhere\";\n            final VirtualMachine vm = VirtualMachine.attach(pid);\n            vm.loadAgent(\"agent.jar\");\n            vm.detach();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>When running <code>java -jar AgentAttacher.jar</code>, I get the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.util.ServiceConfigurationError: com.sun.tools.attach.spi.AttachProvider: Provider sun.tools.attach.WindowsAttachProvider could not be instantiated\n</code></pre>\n\n<p>I have tried adding <code>tools.jar</code> from the <code>lib</code> directory of my JDK to the <code>CLASSPATH</code> environment variable, including it in the <code>Class-Path</code> in my <code>MANIFEST.MF</code>, and directly specifying it using <code>-cp</code> while running the JAR. I'm fairly certain that <code>tools.jar</code> is being loaded because it gives a different error when missing:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine\n</code></pre>\n\n<p>I'm also getting the <code>WindowsAttachProvider could not be instantiated</code> error while only using <code>VirtualMachine.list()</code>, so I don't think this is related to using <code>attach()</code> with an incorrect PID.</p>\n\n<hr>\n\n<p>I've tried loading the class using <code>Class.forName()</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class AgentAttacher {\n    public static void main(String[] args) {\n        try {\n            Class.forName(\"sun.tools.attach.WindowsAttachProvider\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>and I get the following stack trace:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no attach in java.library.path\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\n        at java.lang.System.loadLibrary(Unknown Source)\n        at sun.tools.attach.WindowsAttachProvider.&lt;clinit&gt;(WindowsAttachProvider.java:175)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at JavaAttacker.main(JavaAttacker.java:4)\n</code></pre>\n\n<p>If I don't include <code>tools.jar</code> in the classpath, I get a different stack trace here, so I'm sure it's being loaded:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: sun.tools.attach.WindowsAttachProvider\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at JavaAttacker.main(JavaAttacker.java:4)\n</code></pre>\n\n<hr>\n\n<p>My environment is a Windows 10 Pro (1809) VM on VirtualBox with JDK &amp; JRE 1.8.0_212.</p>\n"},{"tags":["java","spring-mvc","maven"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":147,"is_accepted":false,"score":146,"last_activity_date":1299065923,"creation_date":1299065923,"answer_id":5166923,"question_id":5166898,"body_markdown":"You need to add [`commons-fileupload`][1]\r\n\r\nadd this to your POM  \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n       &lt;version&gt;1.2.1&lt;/version&gt; &lt;!-- makesure correct version here --&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: http://mirrors.ibiblio.org/pub/mirrors/maven2/commons-fileupload/commons-fileupload/\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory","body":"<p>You need to add <a href=\"http://mirrors.ibiblio.org/pub/mirrors/maven2/commons-fileupload/commons-fileupload/\" rel=\"noreferrer\"><code>commons-fileupload</code></a></p>\n\n<p>add this to your POM  </p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n   &lt;version&gt;1.2.1&lt;/version&gt; &lt;!-- makesure correct version here --&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679300929,"creation_date":1609852964,"answer_id":65579763,"question_id":5166898,"body_markdown":"For the &lt;b&gt;security&lt;/b&gt; use version 1.5 : \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n       &lt;version&gt;1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCheck : https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload","title":"java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory","body":"<p>For the <b>security</b> use version 1.5 :</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n   &lt;version&gt;1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Check : <a href=\"https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload</a></p>\n"}],"owner":{"account_id":164640,"reputation":1039,"user_id":387526,"accept_rate":40,"display_name":"Dharmesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112784,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"answer_count":2,"score":68,"last_activity_date":1679300929,"creation_date":1299065733,"question_id":5166898,"body_markdown":"I am trying a simple example of file upload in spring MVC using maven and I follwed this [tutorial][1].\r\n\r\nBut I am getting this error\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\r\n\r\nI also included the dependencies in pom.xml\r\n\r\n    &lt;!-- Apache Commons Upload --&gt; \r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nalso in dispatcher-servlet.xml\r\n\r\n    &lt;!-- Configure the multipart resolver --&gt;\r\n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n        &lt;!-- one of the properties available; the maximum file size in bytes --&gt;\r\n        &lt;property name=&quot;maxUploadSize&quot; value=&quot;100000&quot;/&gt;\r\n    &lt;/bean&gt;\t\r\n\r\nWhere I am going wrong?\r\n\r\n\r\n  [1]: http://www.roseindia.net/tutorial/spring/spring3/web/spring-3-mvc-fileupload-example.html","title":"java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory","body":"<p>I am trying a simple example of file upload in spring MVC using maven and I follwed this <a href=\"http://www.roseindia.net/tutorial/spring/spring3/web/spring-3-mvc-fileupload-example.html\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n<p>But I am getting this error</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\n</code></pre>\n<p>I also included the dependencies in pom.xml</p>\n<pre><code>&lt;!-- Apache Commons Upload --&gt; \n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>also in dispatcher-servlet.xml</p>\n<pre><code>&lt;!-- Configure the multipart resolver --&gt;\n&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\n    &lt;!-- one of the properties available; the maximum file size in bytes --&gt;\n    &lt;property name=&quot;maxUploadSize&quot; value=&quot;100000&quot;/&gt;\n&lt;/bean&gt; \n</code></pre>\n<p>Where I am going wrong?</p>\n"},{"tags":["java","java-8","null","stringbuilder"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679036640,"post_id":75764610,"comment_id":133652036,"body_markdown":"you should perform a null check on each of the variables before you append it to your stringbuffer or stringbuilder","body":"you should perform a null check on each of the variables before you append it to your stringbuffer or stringbuilder"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1679036914,"post_id":75764610,"comment_id":133652087,"body_markdown":".append(&quot;&lt;b&gt; Date: &lt;/b&gt;&quot;) -&gt; could you please explain how you think this would/could be dependent on a value that&#39;s not even part of this append?","body":".append(&quot;&lt;b&gt; Date: &lt;/b&gt;&quot;) -&gt; could you please explain how you think this would/could be dependent on a value that&#39;s not even part of this append?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679037252,"post_id":75764610,"comment_id":133652155,"body_markdown":"`StringBuffer` has been superseded by `StringBuilder` in Java&#160;5. But you don’t need to replace `StringBuffer` with `StringBuilder`, you get it for free when you just write `String dummyVal = &quot;&lt;b&gt; test Id &lt;/b&gt; &quot; + someDTO.getId() + &quot;, &quot; + &quot;&lt;b&gt; Type: &lt;/b&gt; &quot; + someDTO.getType() + &quot;, &quot; + &quot;&lt;b&gt; Date: &lt;/b&gt; &quot; + someDTO.getDate() + &quot;, &quot;`; In fact, the code generated for the simple expression using `+` will be even better.","body":"<code>StringBuffer</code> has been superseded by <code>StringBuilder</code> in Java 5. But you don’t need to replace <code>StringBuffer</code> with <code>StringBuilder</code>, you get it for free when you just write <code>String dummyVal = &quot;&lt;b&gt; test Id &lt;&#47;b&gt; &quot; + someDTO.getId() + &quot;, &quot; + &quot;&lt;b&gt; Type: &lt;&#47;b&gt; &quot; + someDTO.getType() + &quot;, &quot; + &quot;&lt;b&gt; Date: &lt;&#47;b&gt; &quot; + someDTO.getDate() + &quot;, &quot;</code>; In fact, the code generated for the simple expression using <code>+</code> will be even better."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679037778,"post_id":75764610,"comment_id":133652271,"body_markdown":"@Holger is there some source you could provide on that? I remember reading about it, but i recall that the optimization of the string concats is not guaranteed as it may or may not use the stringbuilder.","body":"@Holger is there some source you could provide on that? I remember reading about it, but i recall that the optimization of the string concats is not guaranteed as it may or may not use the stringbuilder."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679037994,"post_id":75764610,"comment_id":133652328,"body_markdown":"Once you have your null check in place, you may want to look into a `StringJoiner`. It can put `&quot;, &quot;` *between* your items and does not put it after the last one, which may be convenient for your situation.","body":"Once you have your null check in place, you may want to look into a <code>StringJoiner</code>. It can put <code>&quot;, &quot;</code> <i>between</i> your items and does not put it after the last one, which may be convenient for your situation."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679038152,"post_id":75764610,"comment_id":133652367,"body_markdown":"@experimentunit1998X the specification does indeed [not require it](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1:~:text=An%20implementation%20may,to%20a%20string.) but it’s a matter of fact that Java compilers use such an optimization since 1.0 (using `StringBuffer` prior to Java&#160;5 and `StringBuilder` afterwards or `StringConcatFactory` when using `javac` with JDK&#160;9+). There never was a compiler not optimizing string concatenation in such way in the last quarter century.","body":"@experimentunit1998X the specification does indeed <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1:~:text=An%20implementation%20may,to%20a%20string.\" rel=\"nofollow noreferrer\">not require it</a> but it’s a matter of fact that Java compilers use such an optimization since 1.0 (using <code>StringBuffer</code> prior to Java 5 and <code>StringBuilder</code> afterwards or <code>StringConcatFactory</code> when using <code>javac</code> with JDK 9+). There never was a compiler not optimizing string concatenation in such way in the last quarter century."}],"answers":[{"tags":[],"owner":{"account_id":28039775,"reputation":56,"user_id":21417525,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679059272,"creation_date":1679037358,"answer_id":75764694,"question_id":75764610,"body_markdown":"This is how conditions are used when using the `StringBuffer` or `StringBuilders` in Java applications.\r\nRewritten your snippet here with conditions.\r\n\r\n``` #java\r\nStringBuffer buffer = new StringBuffer (&quot;&lt;b&gt; test Id &lt;/b&gt; &quot;).append(someDTO.getId());\r\n\r\nif(Objects.nonNull(someDTO.getType())) {\r\n    buffer.append(&quot;, &quot;).append(&quot;&lt;b&gt; Type: &lt;/b&gt; &quot;).append(someDTO.getType());\r\n}\r\nif(Objects.nonNull(someDTO.getDate())) {\r\n    buffer.append(&quot;, &quot;).append(&quot;&lt;b&gt; Date: &lt;/b&gt; &quot;).append(someDTO.getDate());\r\n}\r\n//buffer.setLength(buffer.length() - 1); // this is updated as per Holger&#39;s comment\r\nString dummyValue = buffer.toString();\r\n```\r\n","title":"String append in java","body":"<p>This is how conditions are used when using the <code>StringBuffer</code> or <code>StringBuilders</code> in Java applications.\nRewritten your snippet here with conditions.</p>\n<pre><code>StringBuffer buffer = new StringBuffer (&quot;&lt;b&gt; test Id &lt;/b&gt; &quot;).append(someDTO.getId());\n\nif(Objects.nonNull(someDTO.getType())) {\n    buffer.append(&quot;, &quot;).append(&quot;&lt;b&gt; Type: &lt;/b&gt; &quot;).append(someDTO.getType());\n}\nif(Objects.nonNull(someDTO.getDate())) {\n    buffer.append(&quot;, &quot;).append(&quot;&lt;b&gt; Date: &lt;/b&gt; &quot;).append(someDTO.getDate());\n}\n//buffer.setLength(buffer.length() - 1); // this is updated as per Holger's comment\nString dummyValue = buffer.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679300090,"creation_date":1679038697,"answer_id":75764857,"question_id":75764610,"body_markdown":"There are different ways to archive this. Here is a example with Java Optionals and Streams.\r\n\r\n```java\r\nimport static java.util.Optional.ofNullable;\r\n\r\n// ...\r\n\r\nvar result = Stream.of(\r\n      ofNullable(someDTO.getId()).map(x -&gt; &quot;&lt;b&gt; test Id &lt;/b&gt; &quot; + x),\r\n      ofNullable(someDTO.getType()).map(x -&gt; &quot;&lt;b&gt; Type: &lt;/b&gt; &quot; + x),\r\n      ofNullable(someDTO.getDate()).map(x -&gt; &quot;&lt;b&gt; Date &lt;/b&gt; &quot; + x)\r\n    )\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .collect(Collectors.joining(&quot;, &quot;))\r\n```\r\n\r\nNow it is very readable. \r\n","title":"String append in java","body":"<p>There are different ways to archive this. Here is a example with Java Optionals and Streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.Optional.ofNullable;\n\n// ...\n\nvar result = Stream.of(\n      ofNullable(someDTO.getId()).map(x -&gt; &quot;&lt;b&gt; test Id &lt;/b&gt; &quot; + x),\n      ofNullable(someDTO.getType()).map(x -&gt; &quot;&lt;b&gt; Type: &lt;/b&gt; &quot; + x),\n      ofNullable(someDTO.getDate()).map(x -&gt; &quot;&lt;b&gt; Date &lt;/b&gt; &quot; + x)\n    )\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .collect(Collectors.joining(&quot;, &quot;))\n</code></pre>\n<p>Now it is very readable.</p>\n"}],"owner":{"account_id":26225274,"reputation":1,"user_id":19902050,"display_name":"Kesavan Balakrishnan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":75764694,"answer_count":2,"score":-4,"last_activity_date":1679300090,"creation_date":1679036529,"question_id":75764610,"body_markdown":"I am constructing single string value based on some other string details, which is as below.\r\nBut don&#39;t wants to add if any of DTO value is null or empty. How can I add it in java.\r\n\r\n    String dummyVal = new StringBuffer (&quot;&lt;b&gt; test Id &lt;/b&gt; &quot;).append(someDTO.getId()).append(&quot;, &quot;)\r\n    .append(&quot;&lt;b&gt; Type: &lt;/b&gt; &quot;).append(someDTO.getType()).append(&quot;, &quot;)\r\n    .append(&quot;&lt;b&gt; Date: &lt;/b&gt; &quot;).append(someDTO.getDate()).toString();\r\n\r\n    sysout(dummyVal);\r\n\r\nActual result is :\r\n\r\n    &lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend, &lt;b&gt;Date:&lt;/b&gt; xx/yy/zz\r\n\r\nEXAMPLE: id - 123 , type - pend, date - null\r\n--------------------------------------------\r\nExpected result is like:\r\n\r\n    &lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend\r\n\r\nNeed to ignore the null value tags and to add only tags is not null in java string.\r\n\r\nThen Expected result is like:\r\n\r\n    &lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend","title":"String append in java","body":"<p>I am constructing single string value based on some other string details, which is as below.\nBut don't wants to add if any of DTO value is null or empty. How can I add it in java.</p>\n<pre><code>String dummyVal = new StringBuffer (&quot;&lt;b&gt; test Id &lt;/b&gt; &quot;).append(someDTO.getId()).append(&quot;, &quot;)\n.append(&quot;&lt;b&gt; Type: &lt;/b&gt; &quot;).append(someDTO.getType()).append(&quot;, &quot;)\n.append(&quot;&lt;b&gt; Date: &lt;/b&gt; &quot;).append(someDTO.getDate()).toString();\n\nsysout(dummyVal);\n</code></pre>\n<p>Actual result is :</p>\n<pre><code>&lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend, &lt;b&gt;Date:&lt;/b&gt; xx/yy/zz\n</code></pre>\n<h2>EXAMPLE: id - 123 , type - pend, date - null</h2>\n<p>Expected result is like:</p>\n<pre><code>&lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend\n</code></pre>\n<p>Need to ignore the null value tags and to add only tags is not null in java string.</p>\n<p>Then Expected result is like:</p>\n<pre><code>&lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend\n</code></pre>\n"},{"tags":["java","android","android-bitmap"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1646380603,"post_id":71348143,"comment_id":126113319,"body_markdown":"If your image capture code is working fine . then just change `Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);` to `photo = (Bitmap) data.getExtras().get(&quot;data&quot;);` and it should work .","body":"If your image capture code is working fine . then just change <code>Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);</code> to <code>photo = (Bitmap) data.getExtras().get(&quot;data&quot;);</code> and it should work ."},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1646381124,"post_id":71348143,"comment_id":126113462,"body_markdown":"Hello, capture code works well, assigned to Imageview. I will try your advice.","body":"Hello, capture code works well, assigned to Imageview. I will try your advice."}],"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679299512,"creation_date":1646380411,"question_id":71348143,"body_markdown":"I combined the two Java codes, but I have a problem: when I take a picture and then I want to read the text with this picture, it writes the text of the program-assigned image (not taken photo).\r\n\r\nThe problem is the combination of commands, which I can not sort. Always read the original image (ImageView is installed with a Bitmap test image).\r\nI tried many times but could not order.\r\n\r\nP.S  I do not want to save the captured image.\r\n\r\nThanks in advance for the feedback.\r\n\r\nmy Java code:\r\n\r\n``` import......\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int CAMERA_REQUEST = 1888; ///////\r\n    private ImageView imageView;///\r\n    private static final int MY_CAMERA_PERMISSION_CODE = 100;////\r\n\r\n\r\n    ////////////\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\r\n    {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == MY_CAMERA_PERMISSION_CODE)\r\n        {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\r\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            imageView.setImageBitmap(photo);\r\n        }\r\n    }/////////////\r\n\r\n\r\n    ImageView imageview;\r\n    Button btnProcess;\r\n    EditText txtView, txtVieww;\r\n    Bitmap photo;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        this.imageView = (ImageView)this.findViewById(R.id.image_view);////\r\n        Button photoButton = (Button) this.findViewById(R.id.button1);////\r\n\r\n        imageview = findViewById(R.id.image_view);\r\n        btnProcess = findViewById(R.id.btnProcess);\r\n        txtView = findViewById(R.id.txtView);\r\n        txtVieww = findViewById(R.id.txtVieww);\r\n        photo = BitmapFactory.decodeResource(getApplicationContext().getResources(),\r\n                R.drawable.newyt);\r\n        imageview.setImageBitmap(photo);\r\n\r\n\r\n        /////\r\n        photoButton.setOnClickListener(v -&gt; {\r\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\r\n            }\r\n            else\r\n            {\r\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\r\n            }\r\n        });\r\n\r\n\r\n        ///////\r\n\r\n\r\n        btnProcess.setOnClickListener(v -&gt; {\r\n            TextRecognizer txtRecognizer = new TextRecognizer.Builder(getApplicationContext()).build();\r\n            if (!txtRecognizer.isOperational()) {\r\n                txtView.setText(R.string.error_prompt);\r\n                txtVieww.setText(R.string.error_prompt);\r\n            } else {\r\n                Frame frame = new Frame.Builder().setBitmap(photo).build();\r\n                SparseArray&lt;TextBlock&gt; items = txtRecognizer.detect(frame);\r\n                StringBuilder strBuilder = new StringBuilder();\r\n                for (int i = 0; i &lt; items.size(); i++) {\r\n                    TextBlock item = items.valueAt(i);\r\n                    strBuilder.append(item.getValue());\r\n                    strBuilder.append(&quot;/&quot;);\r\n                    for (Text line : item.getComponents()) {\r\n                        //extract scanned text lines here\r\n                        Log.v(&quot;lines&quot;, line.getValue());\r\n                        for (Text element : line.getComponents()) {\r\n                            //extract scanned text words here\r\n                            Log.v(&quot;element&quot;, element.getValue());\r\n\r\n                        }\r\n                    }\r\n                }\r\n                final String substringi = strBuilder.substring(0, 10).replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n                final String substringg = substringi.substring(0, 5);\r\n                txtView.setText(substringi);\r\n                txtVieww.setText(substringg);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}","title":"How to take photo, but not OCR: android studio","body":"<p>I combined the two Java codes, but I have a problem: when I take a picture and then I want to read the text with this picture, it writes the text of the program-assigned image (not taken photo).</p>\n<p>The problem is the combination of commands, which I can not sort. Always read the original image (ImageView is installed with a Bitmap test image).\nI tried many times but could not order.</p>\n<p>P.S  I do not want to save the captured image.</p>\n<p>Thanks in advance for the feedback.</p>\n<p>my Java code:</p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\n\n    private static final int CAMERA_REQUEST = 1888; ///////\n    private ImageView imageView;///\n    private static final int MY_CAMERA_PERMISSION_CODE = 100;////\n\n\n    ////////////\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\n    {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == MY_CAMERA_PERMISSION_CODE)\n        {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n            else\n            {\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n            Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\n            imageView.setImageBitmap(photo);\n        }\n    }/////////////\n\n\n    ImageView imageview;\n    Button btnProcess;\n    EditText txtView, txtVieww;\n    Bitmap photo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        this.imageView = (ImageView)this.findViewById(R.id.image_view);////\n        Button photoButton = (Button) this.findViewById(R.id.button1);////\n\n        imageview = findViewById(R.id.image_view);\n        btnProcess = findViewById(R.id.btnProcess);\n        txtView = findViewById(R.id.txtView);\n        txtVieww = findViewById(R.id.txtVieww);\n        photo = BitmapFactory.decodeResource(getApplicationContext().getResources(),\n                R.drawable.newyt);\n        imageview.setImageBitmap(photo);\n\n\n        /////\n        photoButton.setOnClickListener(v -&gt; {\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\n            {\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\n            }\n            else\n            {\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n        });\n\n\n        ///////\n\n\n        btnProcess.setOnClickListener(v -&gt; {\n            TextRecognizer txtRecognizer = new TextRecognizer.Builder(getApplicationContext()).build();\n            if (!txtRecognizer.isOperational()) {\n                txtView.setText(R.string.error_prompt);\n                txtVieww.setText(R.string.error_prompt);\n            } else {\n                Frame frame = new Frame.Builder().setBitmap(photo).build();\n                SparseArray&lt;TextBlock&gt; items = txtRecognizer.detect(frame);\n                StringBuilder strBuilder = new StringBuilder();\n                for (int i = 0; i &lt; items.size(); i++) {\n                    TextBlock item = items.valueAt(i);\n                    strBuilder.append(item.getValue());\n                    strBuilder.append(&quot;/&quot;);\n                    for (Text line : item.getComponents()) {\n                        //extract scanned text lines here\n                        Log.v(&quot;lines&quot;, line.getValue());\n                        for (Text element : line.getComponents()) {\n                            //extract scanned text words here\n                            Log.v(&quot;element&quot;, element.getValue());\n\n                        }\n                    }\n                }\n                final String substringi = strBuilder.substring(0, 10).replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n                final String substringg = substringi.substring(0, 5);\n                txtView.setText(substringi);\n                txtVieww.setText(substringg);\n            }\n        });\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647169261,"post_id":71456004,"comment_id":126298823,"body_markdown":"If you select a picture from the galery you get an uri which you use to upload the file. When you let a camera app take a picture the camera app will produce a file too for which you have an uri and even know the file path. I wonder what you need more. Where exactly do you have a problem?","body":"If you select a picture from the galery you get an uri which you use to upload the file. When you let a camera app take a picture the camera app will produce a file too for which you have an uri and even know the file path. I wonder what you need more. Where exactly do you have a problem?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647169370,"post_id":71456004,"comment_id":126298850,"body_markdown":"Your camera intent only gives you a small thumbnail bitmap. No file. Do you only want a small thumbnail? Why not a normal image file?","body":"Your camera intent only gives you a small thumbnail bitmap. No file. Do you only want a small thumbnail? Why not a normal image file?"},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1647169608,"post_id":71456004,"comment_id":126298899,"body_markdown":"I have a problem: uploadImg.setOnClickListener order. Can&#39;t see the picture in Bitmag( if(filePath != null),    Is always =null.    It was loading from the gallery when I was selecting, but when I moved to the camera it wrote an error.","body":"I have a problem: uploadImg.setOnClickListener order. Can&#39;t see the picture in Bitmag( if(filePath != null),    Is always =null.    It was loading from the gallery when I was selecting, but when I moved to the camera it wrote an error."},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1647169732,"post_id":71456004,"comment_id":126298926,"body_markdown":"Is this the solution? : Save the taken image and after upload it?","body":"Is this the solution? : Save the taken image and after upload it?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647169777,"post_id":71456004,"comment_id":126298939,"body_markdown":"`Your camera intent only gives you a small thumbnail bitmap. No file.` So filePath==null.   `Do you only want a small thumbnail? Why not a normal image file?`","body":"<code>Your camera intent only gives you a small thumbnail bitmap. No file.</code> So filePath==null.   <code>Do you only want a small thumbnail? Why not a normal image file?</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647169962,"post_id":71456004,"comment_id":126298977,"body_markdown":"`Uri filePath;` Please don&#39;t name an uri a path. Makes your code unreadable. Better: `Uri fileUri;`.","body":"<code>Uri filePath;</code> Please don&#39;t name an uri a path. Makes your code unreadable. Better: <code>Uri fileUri;</code>."},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1647170524,"post_id":71456004,"comment_id":126299081,"body_markdown":"What can I change to read and upload photo?     Uri filePath; --&gt;&gt;Uri fileUri;  only this?","body":"What can I change to read and upload photo?     Uri filePath; --&gt;&gt;Uri fileUri;  only this?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647171407,"post_id":71456004,"comment_id":126299257,"body_markdown":"`Your camera intent only gives you a small thumbnail bitmap. No file. So filePath==null. Do you only want a small thumbnail? Why not a normal image file?`","body":"<code>Your camera intent only gives you a small thumbnail bitmap. No file. So filePath==null. Do you only want a small thumbnail? Why not a normal image file?</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647263614,"post_id":71456004,"comment_id":126319986,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1647446983,"post_id":71456004,"comment_id":126374867,"body_markdown":"I was uploading an image saved in bitmap, which as I find out is not recommended, I am currently taking a separate image with the camera and then uploading it.","body":"I was uploading an image saved in bitmap, which as I find out is not recommended, I am currently taking a separate image with the camera and then uploading it."}],"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679299414,"creation_date":1647168781,"question_id":71456004,"body_markdown":"I have an app, I select a picture (gallery) and upload it to the firebase.\r\nI want to upload a picture taken with a camera. Many attempts, then I could not upload.\r\n\r\n1. I take a picture.\r\n2. Add to bitmap.\r\n3. At this time it writes that the &quot;Select an image&quot; (error in uploadImg.setOnClickListener).\r\n\r\nPlease help me:\r\n1. Correct the code.\r\n2. What code should I add to make the function work.\r\n\r\nMy code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int CAMERA_REQUEST = 1888; ///////\r\n    private static final int MY_CAMERA_PERMISSION_CODE = 100;////\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\r\n    {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == MY_CAMERA_PERMISSION_CODE)\r\n        {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\r\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    Button chooseImg, uploadImg;\r\n    ImageView imgView;\r\n    int PICK_IMAGE_REQUEST = 111;\r\n    Uri filePath;\r\n    ProgressDialog pd;\r\n    EditText idEdtCourseName;\r\n\r\n    //creating reference to firebase storage\r\n    FirebaseStorage storage = FirebaseStorage.getInstance();\r\n    StorageReference storageRef = storage.getReferenceFromUrl(&quot;gs://example-10d12.appspot.com&quot;);   \r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        chooseImg = (Button)findViewById(R.id.chooseImg);\r\n        uploadImg = (Button)findViewById(R.id.uploadImg);\r\n        imgView = (ImageView)findViewById(R.id.imgView);\r\n        idEdtCourseName = findViewById(R.id.EdtCourseName);\r\n\r\n        pd = new ProgressDialog(this);\r\n        pd.setMessage(&quot;Uploading....&quot;);\r\n\r\n\r\n\r\n        chooseImg.setOnClickListener(v -&gt; {\r\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\r\n            }\r\n            else\r\n            {\r\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\r\n            }\r\n        });\r\n\r\n        uploadImg.setOnClickListener(v -&gt; {\r\n            if(filePath != null) {\r\n                pd.show();\r\n                String name = idEdtCourseName.getText().toString().trim();\r\n                StorageReference childRef = storageRef.child(name);\r\n\r\n                //uploading the image\r\n                UploadTask uploadTask = childRef.putFile(filePath);\r\n\r\n                uploadTask.addOnSuccessListener(taskSnapshot -&gt; {\r\n                    pd.dismiss();\r\n                    Toast.makeText(MainActivity.this, &quot;Upload successful&quot;, Toast.LENGTH_SHORT).show();\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        pd.dismiss();\r\n                        Toast.makeText(MainActivity.this, &quot;Upload Failed -&gt; &quot; + e, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                Toast.makeText(MainActivity.this, &quot;Select an image&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            filePath = data.getData();\r\n\r\n            try {\r\n                //getting image from gallery\r\n                Bitmap bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n\r\n                //Setting image to ImageView\r\n                imgView.setImageBitmap(bitmap);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to take photo and upload firebase (Bitmap Image) android studio","body":"<p>I have an app, I select a picture (gallery) and upload it to the firebase.\nI want to upload a picture taken with a camera. Many attempts, then I could not upload.</p>\n<ol>\n<li>I take a picture.</li>\n<li>Add to bitmap.</li>\n<li>At this time it writes that the &quot;Select an image&quot; (error in uploadImg.setOnClickListener).</li>\n</ol>\n<p>Please help me:</p>\n<ol>\n<li>Correct the code.</li>\n<li>What code should I add to make the function work.</li>\n</ol>\n<p>My code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final int CAMERA_REQUEST = 1888; ///////\n    private static final int MY_CAMERA_PERMISSION_CODE = 100;////\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\n    {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == MY_CAMERA_PERMISSION_CODE)\n        {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n            else\n            {\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n\n\n\n\n    Button chooseImg, uploadImg;\n    ImageView imgView;\n    int PICK_IMAGE_REQUEST = 111;\n    Uri filePath;\n    ProgressDialog pd;\n    EditText idEdtCourseName;\n\n    //creating reference to firebase storage\n    FirebaseStorage storage = FirebaseStorage.getInstance();\n    StorageReference storageRef = storage.getReferenceFromUrl(&quot;gs://example-10d12.appspot.com&quot;);   \n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        chooseImg = (Button)findViewById(R.id.chooseImg);\n        uploadImg = (Button)findViewById(R.id.uploadImg);\n        imgView = (ImageView)findViewById(R.id.imgView);\n        idEdtCourseName = findViewById(R.id.EdtCourseName);\n\n        pd = new ProgressDialog(this);\n        pd.setMessage(&quot;Uploading....&quot;);\n\n\n\n        chooseImg.setOnClickListener(v -&gt; {\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\n            {\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\n            }\n            else\n            {\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n        });\n\n        uploadImg.setOnClickListener(v -&gt; {\n            if(filePath != null) {\n                pd.show();\n                String name = idEdtCourseName.getText().toString().trim();\n                StorageReference childRef = storageRef.child(name);\n\n                //uploading the image\n                UploadTask uploadTask = childRef.putFile(filePath);\n\n                uploadTask.addOnSuccessListener(taskSnapshot -&gt; {\n                    pd.dismiss();\n                    Toast.makeText(MainActivity.this, &quot;Upload successful&quot;, Toast.LENGTH_SHORT).show();\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        pd.dismiss();\n                        Toast.makeText(MainActivity.this, &quot;Upload Failed -&gt; &quot; + e, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n            else {\n                Toast.makeText(MainActivity.this, &quot;Select an image&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n            filePath = data.getData();\n\n            try {\n                //getting image from gallery\n                Bitmap bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\n\n                //Setting image to ImageView\n                imgView.setImageBitmap(bitmap);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","entitymanager"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1430948823,"post_id":30088081,"comment_id":48289451,"body_markdown":"Your SQL query returnsa List&lt;Object[]&gt;. You just need a for loop to map each array to an object. RowMapper doesn&#39;t do much more than that.","body":"Your SQL query returnsa List&lt;Object[]&gt;. You just need a for loop to map each array to an object. RowMapper doesn&#39;t do much more than that."},{"owner":{"account_id":3576179,"reputation":103,"user_id":2985374,"display_name":"Shahin Askari"},"score":0,"creation_date":1430949160,"post_id":30088081,"comment_id":48289632,"body_markdown":"Yes, thank you for that.  I was trying to avoid that in order to avoid the overhead of looping over the result set twice.  I assume JPA stack iterates over the result set to build the List&lt;Object[]&gt; and then my layers would do the same again to build the object.  I was hoping that there was some API that I could use to inject myself in that loop.","body":"Yes, thank you for that.  I was trying to avoid that in order to avoid the overhead of looping over the result set twice.  I assume JPA stack iterates over the result set to build the List&lt;Object[]&gt; and then my layers would do the same again to build the object.  I was hoping that there was some API that I could use to inject myself in that loop."},{"owner":{"account_id":2400589,"reputation":972,"user_id":2098324,"accept_rate":30,"display_name":"user2098324"},"score":0,"creation_date":1493290607,"post_id":30088081,"comment_id":74358680,"body_markdown":"List&lt;Object[]&gt; has row values only which we need to get by indexes, this might create a problem if in future the order of the columns get changed, but in RowMapper we can get the values by passing column_names from result set so changing column order won&#39;t impact, so is there any implementation for that in JPA?","body":"List&lt;Object[]&gt; has row values only which we need to get by indexes, this might create a problem if in future the order of the columns get changed, but in RowMapper we can get the values by passing column_names from result set so changing column order won&#39;t impact, so is there any implementation for that in JPA?"}],"answers":[{"tags":[],"owner":{"account_id":6267878,"reputation":201,"user_id":4872956,"display_name":"Phoenix VN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430964227,"creation_date":1430964227,"answer_id":30090712,"question_id":30088081,"body_markdown":"One way to achieve this is to go through Hibernate session (provided that you are using Hibernate) and use its https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html. The code should looks like below and you shouldn&#39;t need to iterate through the list twice:\r\n\r\n    List&lt;MyDto&gt; result = entityManager.unwrap(org.hibernate.Session.class)\r\n\t\t\t.createSQLQuery(&quot;select ... from my_table where ...&quot;)\r\n\t\t\t.setParameter(&quot;my_param&quot;, &quot;my_param_value&quot;)\r\n\t\t\t.setResultTransformer(org.hibernate.transform.Transformers.aliasToBean(MyDto.class))\r\n\t\t\t.list();\r\n\r\nHope this helps.","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>One way to achieve this is to go through Hibernate session (provided that you are using Hibernate) and use its <a href=\"https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html\" rel=\"nofollow\">https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html</a>. The code should looks like below and you shouldn't need to iterate through the list twice:</p>\n\n<pre><code>List&lt;MyDto&gt; result = entityManager.unwrap(org.hibernate.Session.class)\n        .createSQLQuery(\"select ... from my_table where ...\")\n        .setParameter(\"my_param\", \"my_param_value\")\n        .setResultTransformer(org.hibernate.transform.Transformers.aliasToBean(MyDto.class))\n        .list();\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1853929,"reputation":6195,"user_id":1679903,"accept_rate":88,"display_name":"kinjelom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458438001,"creation_date":1458438001,"answer_id":36109342,"question_id":30088081,"body_markdown":"JPA native query result can be mapped to the DTO POJO class:\r\n\r\n- DTO POJO class\r\n\r\n\r\n        @lombok.Getter\r\n        @lombok.AllArgsConstructor\r\n        public class MyDto {\r\n            private String x;\r\n            private Long y;\r\n        }\r\n\r\n- Repository bean:\r\n\r\n        @Repository\r\n        public class MyRepository {\r\n        \r\n            @PersistenceContext private EntityManager em;\r\n        \r\n            static final String MY_SQLMAP = &quot;My-SQL-Mapping&quot;;\r\n        \r\n            public List&lt;MyDto&gt; findMy() {\r\n                Query query = em.createNativeQuery(&quot;select x, y from my_table&quot;, MY_SQLMAP);\r\n                return query.getResultList();\r\n            }\r\n\r\n            @SqlResultSetMapping(name= MY_SQLMAP, classes = {\r\n                @ConstructorResult(targetClass = MyDto.class,\r\n                    columns = {\r\n                        @ColumnResult(name=&quot;x&quot;,type = String.class),\r\n                        @ColumnResult(name=&quot;y&quot;,type = Long.class)\r\n                    }\r\n                )\r\n            }) @Entity class MyCfgEntity{@Id int id;} // &lt;- walkaround\r\n        \r\n        }\r\n    \r\n\r\n","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>JPA native query result can be mapped to the DTO POJO class:</p>\n\n<ul>\n<li><p>DTO POJO class</p>\n\n<pre><code>@lombok.Getter\n@lombok.AllArgsConstructor\npublic class MyDto {\n    private String x;\n    private Long y;\n}\n</code></pre></li>\n<li><p>Repository bean:</p>\n\n<pre><code>@Repository\npublic class MyRepository {\n\n    @PersistenceContext private EntityManager em;\n\n    static final String MY_SQLMAP = \"My-SQL-Mapping\";\n\n    public List&lt;MyDto&gt; findMy() {\n        Query query = em.createNativeQuery(\"select x, y from my_table\", MY_SQLMAP);\n        return query.getResultList();\n    }\n\n    @SqlResultSetMapping(name= MY_SQLMAP, classes = {\n        @ConstructorResult(targetClass = MyDto.class,\n            columns = {\n                @ColumnResult(name=\"x\",type = String.class),\n                @ColumnResult(name=\"y\",type = Long.class)\n            }\n        )\n    }) @Entity class MyCfgEntity{@Id int id;} // &lt;- walkaround\n\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2768698,"reputation":472,"user_id":2383755,"accept_rate":80,"display_name":"pablorc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473037948,"creation_date":1473037948,"answer_id":39322812,"question_id":30088081,"body_markdown":"Another way of doing it, if you don&#39;t wan&#39;t to have that workaround entity, is to put it on top of any valid entity such as\r\n\r\n    @Entity\r\n    @SqlResult(...)\r\n\r\nHowever you would be adding a mapping that is not really relevant to your entity. Unfortunately JPA (as JPA 2.1) won&#39;t process the SqlResult annotation if is not on an entity. Another option is to add it to an XML ORM mapping file, something like this.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    \r\n    &lt;entity-mappings xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence/orm&quot;\r\n                     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                     xsi:schemaLocation=&quot;\r\n                     http://xmlns.jcp.org/xml/ns/persistence/orm\r\n                     http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd&quot; version=&quot;2.1&quot;&gt;\r\n    \r\n        &lt;sql-result-set-mapping name=&quot;MySummaryResultMapping&quot;&gt;\r\n            &lt;constructor-result target-class=&quot;model.MySummaryResult&quot;&gt;\r\n                &lt;column name=&quot;x&quot; class=&quot;java.lang.String&quot; /&gt;\r\n                &lt;column name=&quot;average&quot; class=&quot;java.lang.Double&quot;/&gt;\r\n                &lt;column name=&quot;foo&quot; class=&quot;java.lang.Double&quot;/&gt;\r\n                &lt;column name=&quot;bar&quot; class=&quot;java.lang.Integer&quot;/&gt;\r\n            &lt;/constructor-result&gt;\r\n        &lt;/sql-result-set-mapping&gt;\r\n    &lt;/entity-mappings&gt;\r\n\r\nThen in your spring context when setting up your entity manager you can load that mapping XML\r\n\r\n    &lt;bean id=&quot;myEntityManagerFactory&quot;\r\n              class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;model&quot;/&gt;\r\n        &lt;property name=&quot;mappingResources&quot; value=&quot;META-INF/persistenceMapping.xml&quot; /&gt;\r\n        ...\r\n    &lt;/bean&gt;\r\n\r\nThis way you can do something like this and use a POJO to return the query results.\r\n\r\n    @Component\r\n    public class MyReportDAO {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public MySummaryResult calculateReportFoo(String foo, LocalDate startDay, LocalDate endDay) {\r\n        Query query = entityManager.createNativeQuery(&quot;SELECT x,  AVG(bar_column)  AS average, SUM(foo) AS foo,&quot; +\r\n                &quot; bar &quot; +\r\n                &quot; FROM My_table WHERE FOO= :foo AND bar_DATE BETWEEN :startDay AND :endDay&quot; +\r\n                &quot; GROUP BY x,bar&quot;, &quot;MySummaryResultMapping&quot;);\r\n        query.setParameter(&quot;foo&quot;, foo);\r\n        query.setParameter(&quot;startDay&quot;, startDay);\r\n        query.setParameter(&quot;endDay&quot;, endDay);\r\n        return (MySummaryResult) query.getSingleResult();\r\n      }\r\n    }\r\n\r\n","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>Another way of doing it, if you don't wan't to have that workaround entity, is to put it on top of any valid entity such as</p>\n\n<pre><code>@Entity\n@SqlResult(...)\n</code></pre>\n\n<p>However you would be adding a mapping that is not really relevant to your entity. Unfortunately JPA (as JPA 2.1) won't process the SqlResult annotation if is not on an entity. Another option is to add it to an XML ORM mapping file, something like this.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n\n&lt;entity-mappings xmlns=\"http://xmlns.jcp.org/xml/ns/persistence/orm\"\n                 xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n                 xsi:schemaLocation=\"\n                 http://xmlns.jcp.org/xml/ns/persistence/orm\n                 http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd\" version=\"2.1\"&gt;\n\n    &lt;sql-result-set-mapping name=\"MySummaryResultMapping\"&gt;\n        &lt;constructor-result target-class=\"model.MySummaryResult\"&gt;\n            &lt;column name=\"x\" class=\"java.lang.String\" /&gt;\n            &lt;column name=\"average\" class=\"java.lang.Double\"/&gt;\n            &lt;column name=\"foo\" class=\"java.lang.Double\"/&gt;\n            &lt;column name=\"bar\" class=\"java.lang.Integer\"/&gt;\n        &lt;/constructor-result&gt;\n    &lt;/sql-result-set-mapping&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n\n<p>Then in your spring context when setting up your entity manager you can load that mapping XML</p>\n\n<pre><code>&lt;bean id=\"myEntityManagerFactory\"\n          class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"myDataSource\"/&gt;\n    &lt;property name=\"packagesToScan\" value=\"model\"/&gt;\n    &lt;property name=\"mappingResources\" value=\"META-INF/persistenceMapping.xml\" /&gt;\n    ...\n&lt;/bean&gt;\n</code></pre>\n\n<p>This way you can do something like this and use a POJO to return the query results.</p>\n\n<pre><code>@Component\npublic class MyReportDAO {\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\npublic MySummaryResult calculateReportFoo(String foo, LocalDate startDay, LocalDate endDay) {\n    Query query = entityManager.createNativeQuery(\"SELECT x,  AVG(bar_column)  AS average, SUM(foo) AS foo,\" +\n            \" bar \" +\n            \" FROM My_table WHERE FOO= :foo AND bar_DATE BETWEEN :startDay AND :endDay\" +\n            \" GROUP BY x,bar\", \"MySummaryResultMapping\");\n    query.setParameter(\"foo\", foo);\n    query.setParameter(\"startDay\", startDay);\n    query.setParameter(\"endDay\", endDay);\n    return (MySummaryResult) query.getSingleResult();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155944,"reputation":1010,"user_id":1467744,"display_name":"Mohamad Eghlima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664292421,"creation_date":1664292421,"answer_id":73870106,"question_id":30088081,"body_markdown":"I have used my DTO in our dao layer. It is not a clean way but was good for our performance. I did not want to use Tuple and have the mapping two times so i ended up using this to get the dto directly:\r\n```\r\nreturn entityManager.createQuery(&quot;SELECT new com.xxx.dto.tb.account.response.TypesResDto(x.id, f.id, f.xeroGroup, x.accountTypes, x.detailType, x.type, m.gifiCode, m.leadSheetId) &quot; +\r\n                &quot;FROM XeroAccountMappingEntity x &quot; +\r\n                &quot;JOIN x.finGroupEntity f &quot; +\r\n                &quot;JOIN x.mappingSheetEntity m &quot; +\r\n                &quot;WHERE x.isDeleted = FALSE AND (x.isAddable = TRUE OR x.isEditable = TRUE)&quot;, TypesResDto.class).getResultList();\r\n```\r\nBut I came here to find a way to use row mappers with jpa. I do notlike to define them as annotation on the entity.","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>I have used my DTO in our dao layer. It is not a clean way but was good for our performance. I did not want to use Tuple and have the mapping two times so i ended up using this to get the dto directly:</p>\n<pre><code>return entityManager.createQuery(&quot;SELECT new com.xxx.dto.tb.account.response.TypesResDto(x.id, f.id, f.xeroGroup, x.accountTypes, x.detailType, x.type, m.gifiCode, m.leadSheetId) &quot; +\n                &quot;FROM XeroAccountMappingEntity x &quot; +\n                &quot;JOIN x.finGroupEntity f &quot; +\n                &quot;JOIN x.mappingSheetEntity m &quot; +\n                &quot;WHERE x.isDeleted = FALSE AND (x.isAddable = TRUE OR x.isEditable = TRUE)&quot;, TypesResDto.class).getResultList();\n</code></pre>\n<p>But I came here to find a way to use row mappers with jpa. I do notlike to define them as annotation on the entity.</p>\n"},{"tags":[],"owner":{"account_id":1706858,"reputation":1177,"user_id":1565758,"accept_rate":94,"display_name":"kenny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679299328,"creation_date":1679299328,"answer_id":75787757,"question_id":30088081,"body_markdown":"I am not sure but if you really want to use rowmappers and are in a pragmatic mood wouldn&#39;t this be a possible solution ?\r\n\r\n        protected JdbcTemplate getJdbcTemplate() {\r\n          EntityManagerFactoryInfo info = (EntityManagerFactoryInfo) em.getEntityManagerFactory();\r\n          DataSource dataSource = info.getDataSource();\r\n          JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n          return jdbcTemplate;\r\n        }\r\n\r\nNow you have a simple jdbcTemplate to work with.  Either way what you do it is not the most clean thing to do.","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>I am not sure but if you really want to use rowmappers and are in a pragmatic mood wouldn't this be a possible solution ?</p>\n<pre><code>    protected JdbcTemplate getJdbcTemplate() {\n      EntityManagerFactoryInfo info = (EntityManagerFactoryInfo) em.getEntityManagerFactory();\n      DataSource dataSource = info.getDataSource();\n      JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n      return jdbcTemplate;\n    }\n</code></pre>\n<p>Now you have a simple jdbcTemplate to work with.  Either way what you do it is not the most clean thing to do.</p>\n"}],"owner":{"account_id":3576179,"reputation":103,"user_id":2985374,"display_name":"Shahin Askari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9922,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1679299328,"creation_date":1430948374,"question_id":30088081,"body_markdown":"I am working on standardizing a legacy code base and new development to both use EntityManager for persistence.  In order to succeed however, I need to provide the ability to break out into native SQL and process results manually.  JPA EntityManager almost provides this functionality through:\r\n\r\n    em.createNativeQuery(&quot;select ... from my_table where ...&quot;);\r\n\r\nBut what I am missing is the ability to do Spring style RowMappers.  I can see that there are a few mechanisms that are close.  I can of-course map entities using annotations, xml and so on but I need to put code into the processing of each row in the result set so this is not an option.  I can see that I can pass in SQLResultSetMapping, but as best as I can understand, this supports again only meta data mapping.  Ideally what I need is the following:\r\n\r\n    em.createNativeQuery(&quot;select ... from my_table where ...&quot;,  \r\n      new RowMapper {  \r\n        public Object mapRow(ResultSet rs, int rowNum) throws SQLException {  \r\n             MyObject o = new MyObject();  \r\n             o.setMyCustomProperty( rs.get...() );  \r\n             //...  \r\n             return b;  \r\n        }  \r\n      }  \r\n    ); \r\n\r\nDoes the equivalent to the above exist?  Can I construct a SQLResultSetMapping which takes full control of the mapping like the above.  \r\n\r\nIf not, can I at least get the data source underlying the EM in a standard way so that I can wrap it using JdbcTemplate and not have two paths to configure data-sources?\r\n\r\n    DataSource ds = em.getDataSource();  \r\n    JdbcTemplate t = new JdbcTemplate(ds);  \r\n  \r\nThanks for your help.","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>I am working on standardizing a legacy code base and new development to both use EntityManager for persistence.  In order to succeed however, I need to provide the ability to break out into native SQL and process results manually.  JPA EntityManager almost provides this functionality through:</p>\n\n<pre><code>em.createNativeQuery(\"select ... from my_table where ...\");\n</code></pre>\n\n<p>But what I am missing is the ability to do Spring style RowMappers.  I can see that there are a few mechanisms that are close.  I can of-course map entities using annotations, xml and so on but I need to put code into the processing of each row in the result set so this is not an option.  I can see that I can pass in SQLResultSetMapping, but as best as I can understand, this supports again only meta data mapping.  Ideally what I need is the following:</p>\n\n<pre><code>em.createNativeQuery(\"select ... from my_table where ...\",  \n  new RowMapper {  \n    public Object mapRow(ResultSet rs, int rowNum) throws SQLException {  \n         MyObject o = new MyObject();  \n         o.setMyCustomProperty( rs.get...() );  \n         //...  \n         return b;  \n    }  \n  }  \n); \n</code></pre>\n\n<p>Does the equivalent to the above exist?  Can I construct a SQLResultSetMapping which takes full control of the mapping like the above.  </p>\n\n<p>If not, can I at least get the data source underlying the EM in a standard way so that I can wrap it using JdbcTemplate and not have two paths to configure data-sources?</p>\n\n<pre><code>DataSource ds = em.getDataSource();  \nJdbcTemplate t = new JdbcTemplate(ds);  \n</code></pre>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1679318955,"post_id":75787258,"comment_id":133695053,"body_markdown":"Can you share the error trace which you may be seeing in the console?","body":"Can you share the error trace which you may be seeing in the console?"}],"answers":[{"tags":[],"owner":{"account_id":20431157,"reputation":1,"user_id":19073089,"display_name":"Oleksandr Moroziuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679295227,"creation_date":1679295227,"answer_id":75787306,"question_id":75787258,"body_markdown":"The code you&#39;ve provided looks correct, but there are a few things you can check to ensure that Chrome launches successfully:\r\n\r\nMake sure that you have downloaded the correct version of the ChromeDriver executable that matches your installed version of Chrome browser. You can download the latest version of ChromeDriver from the official website: [https://chromedriver.chromium.org/downloads][1]\r\n\r\nCheck the path of your ChromeDriver executable file. In your code, you have set the path to `&quot;C:\\Users\\LENOVO\\Downloads\\chromedriver_win32.exe&quot;`. Ensure that this is the correct path where you have saved the ChromeDriver executable.\r\n\r\nMake sure that you have added the Selenium Java libraries to your project&#39;s classpath. You can download the Selenium Java libraries from the official website: [https://www.selenium.dev/downloads/][2]\r\n\r\nIf you are still facing issues with launching Chrome, try adding the following line of code before creating the ChromeDriver instance: `System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);`. This will enable verbose logging, which can help identify the root cause of any issues with launching Chrome.\r\n\r\nOnce you have checked these things, try running your code again. If Chrome still does not launch successfully, you may need to investigate further by checking the error messages that are displayed in the console or logs.\r\n\r\n\r\n  [1]: https://chromedriver.chromium.org/downloads\r\n  [2]: https://www.selenium.dev/downloads/","title":"I&#39;m getting this error &quot;The value of the local variable driver is not used&quot; while launching chrome with selenium","body":"<p>The code you've provided looks correct, but there are a few things you can check to ensure that Chrome launches successfully:</p>\n<p>Make sure that you have downloaded the correct version of the ChromeDriver executable that matches your installed version of Chrome browser. You can download the latest version of ChromeDriver from the official website: <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a></p>\n<p>Check the path of your ChromeDriver executable file. In your code, you have set the path to <code>&quot;C:\\Users\\LENOVO\\Downloads\\chromedriver_win32.exe&quot;</code>. Ensure that this is the correct path where you have saved the ChromeDriver executable.</p>\n<p>Make sure that you have added the Selenium Java libraries to your project's classpath. You can download the Selenium Java libraries from the official website: <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/downloads/</a></p>\n<p>If you are still facing issues with launching Chrome, try adding the following line of code before creating the ChromeDriver instance: <code>System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);</code>. This will enable verbose logging, which can help identify the root cause of any issues with launching Chrome.</p>\n<p>Once you have checked these things, try running your code again. If Chrome still does not launch successfully, you may need to investigate further by checking the error messages that are displayed in the console or logs.</p>\n"},{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679299235,"creation_date":1679299235,"answer_id":75787747,"question_id":75787258,"body_markdown":"I can see you are not using `driver` in your code that you have used to initialize the `ChromeDriver`. You have to just the use the `driver` to get rid of this error. Add the below line in the end of your code.\r\n\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n\r\n***Note:-*** `https://www.google.com` is just a sample URL, you have to use the one that you are using.","title":"I&#39;m getting this error &quot;The value of the local variable driver is not used&quot; while launching chrome with selenium","body":"<p>I can see you are not using <code>driver</code> in your code that you have used to initialize the <code>ChromeDriver</code>. You have to just the use the <code>driver</code> to get rid of this error. Add the below line in the end of your code.</p>\n<pre><code>driver.get(&quot;https://www.google.com&quot;);\n</code></pre>\n<p><em><strong>Note:-</strong></em> <code>https://www.google.com</code> is just a sample URL, you have to use the one that you are using.</p>\n"}],"owner":{"account_id":28062671,"reputation":1,"user_id":21436528,"display_name":"Amit Alfa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679299235,"creation_date":1679294777,"question_id":75787258,"body_markdown":"Here , is the code below. I cannot launch chrome as trying to learn to selenium with java.\r\n\r\n    `package SeleniumBasics;\r\n     import org.openqa.selenium.WebDriver;\r\n     import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n     public class ChromeTest\r\n     {\r\n     public static void main(String[] args)\r\n      {\r\n     System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\LENOVO\\\\Downloads\\\\chromedriver_win32.exe&quot;);\r\n     WebDriver driver = new ChromeDriver();\r\n      }\r\n    }`\r\n\r\n\r\nI&#39;m trying to launch chrome and expect to successfully open it so that i can proceed with further automation.","title":"I&#39;m getting this error &quot;The value of the local variable driver is not used&quot; while launching chrome with selenium","body":"<p>Here , is the code below. I cannot launch chrome as trying to learn to selenium with java.</p>\n<pre><code>`package SeleniumBasics;\n import org.openqa.selenium.WebDriver;\n import org.openqa.selenium.chrome.ChromeDriver;\n\n public class ChromeTest\n {\n public static void main(String[] args)\n  {\n System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\LENOVO\\\\Downloads\\\\chromedriver_win32.exe&quot;);\n WebDriver driver = new ChromeDriver();\n  }\n}`\n</code></pre>\n<p>I'm trying to launch chrome and expect to successfully open it so that i can proceed with further automation.</p>\n"},{"tags":["java","sockets","udp","socks","datagram"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1528713138,"post_id":50795198,"comment_id":88597172,"body_markdown":"Why are you reading bytes with a `Reader`? And why are you abusing both `Reader.ready()` and `InputStream.available()`?","body":"Why are you reading bytes with a <code>Reader</code>? And why are you abusing both <code>Reader.ready()</code> and <code>InputStream.available()</code>?"},{"owner":{"account_id":1894553,"reputation":4990,"user_id":1711809,"accept_rate":46,"display_name":"Gintas_"},"score":0,"creation_date":1528713903,"post_id":50795198,"comment_id":88597643,"body_markdown":"@EJP please elaborate more, what&#39;s wrong with that? InputStream.available() returns the amount of bytes available to read. I&#39;m using ready() in order to wait until response packet arrives. It works on that part, I receive authentication &amp; udp associate responses fine. The problem with reading (or more like receiving) appears only in DatagramSocket part. Of course mistake may have been made before that part. Any possible clue for solution from you is golden, so let me know","body":"@EJP please elaborate more, what&#39;s wrong with that? InputStream.available() returns the amount of bytes available to read. I&#39;m using ready() in order to wait until response packet arrives. It works on that part, I receive authentication &amp; udp associate responses fine. The problem with reading (or more like receiving) appears only in DatagramSocket part. Of course mistake may have been made before that part. Any possible clue for solution from you is golden, so let me know"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1528718162,"post_id":50795198,"comment_id":88600158,"body_markdown":"1. `Reader` reads `char`, not `byte`. 2. `while (!inputStreamReader.ready());` accomplishes exactly nothing except smoking your CPU, as the following read will block anyway. 3. There is a specific warning against using `available()` as you are doing. This is all in the Javadoc. You are also completley ignoring the content of the response; you are also assuming that there *was* a response rather than an disconnect, *and* that the response indicated success. You need to *parse* it, and to do so *as bytes*. You will find the methods of `DataInputStream` useful. Rather than all this nonsense.","body":"1. <code>Reader</code> reads <code>char</code>, not <code>byte</code>. 2. <code>while (!inputStreamReader.ready());</code> accomplishes exactly nothing except smoking your CPU, as the following read will block anyway. 3. There is a specific warning against using <code>available()</code> as you are doing. This is all in the Javadoc. You are also completley ignoring the content of the response; you are also assuming that there <i>was</i> a response rather than an disconnect, <i>and</i> that the response indicated success. You need to <i>parse</i> it, and to do so <i>as bytes</i>. You will find the methods of <code>DataInputStream</code> useful. Rather than all this nonsense."},{"owner":{"account_id":1894553,"reputation":4990,"user_id":1711809,"accept_rate":46,"display_name":"Gintas_"},"score":0,"creation_date":1528719090,"post_id":50795198,"comment_id":88600714,"body_markdown":"@EJP alright, I updated the code with DataInputStream &amp; DataOutputStream; but it&#39;s not the beauty of the code that&#39;s the problem, so it did not fix anything","body":"@EJP alright, I updated the code with DataInputStream &amp; DataOutputStream; but it&#39;s not the beauty of the code that&#39;s the problem, so it did not fix anything"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1528760621,"post_id":50795198,"comment_id":88620619,"body_markdown":"I&#39;m not talking about &#39;beauty&#39;, I&#39;m talking about *correctness.* It is not correct to write code that disagrees with the Javadoc. I posted my remarks as a comment, not as an answer. I will now ask you why you aren&#39;t error-checking the responses.","body":"I&#39;m not talking about &#39;beauty&#39;, I&#39;m talking about <i>correctness.</i> It is not correct to write code that disagrees with the Javadoc. I posted my remarks as a comment, not as an answer. I will now ask you why you aren&#39;t error-checking the responses."}],"answers":[{"tags":[],"owner":{"account_id":1894553,"reputation":4990,"user_id":1711809,"accept_rate":46,"display_name":"Gintas_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528736427,"creation_date":1528736427,"answer_id":50802758,"question_id":50795198,"body_markdown":"Turns out the proxy provider does not support UDP ASSOCIATE of SOCKS5. Turns out majority of proxy providers do not support it.","title":"Why is my SOCKS5 UDP implementation not working?","body":"<p>Turns out the proxy provider does not support UDP ASSOCIATE of SOCKS5. Turns out majority of proxy providers do not support it.</p>\n"}],"owner":{"account_id":1894553,"reputation":4990,"user_id":1711809,"accept_rate":46,"display_name":"Gintas_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1560,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1679298807,"creation_date":1528711531,"question_id":50795198,"body_markdown":"I spent more than 50 hours on this nonsense, why is my UDP implementation not working? Problem is that the server does not receive UDP packet. I made server app to log events in console and I see it&#39;s not receiving anything. Here is SOCKS5 documentation I followed: https://www.ietf.org/rfc/rfc1928.txt\r\n\r\n    byte[] response = new byte[256];\r\n    int responseLength;\r\n    Socket socket = new Socket(proxyHost, proxyPort);\r\n    DatagramSocket clientSocket = new DatagramSocket();\r\n\r\n    DataOutputStream writer = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));\r\n    DataInputStream reader = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\r\n\r\n    // connect/authorization request\r\n    writer.writeByte(0x05); // VER\r\n    writer.writeByte(1); // NMETHODS\r\n    writer.writeByte(0); // METHODS\r\n    writer.flush();\r\n\r\n    // connect/authorization response\r\n    responseLength = reader.read(response); // RESPONSE IS: 5 0\r\n\r\n    // udp associate request\r\n    writer.writeByte(0x05); // VER\r\n    writer.writeByte(0x03); // CMD - UDP ASSOCIATE\r\n    writer.writeByte(0x00); // RSV\r\n    writer.writeByte(0x01); // ATYP\r\n    // is what I&#39;m sending here as DST.ADDR &amp; DST.PORT okay?\r\n    writer.write(clientSocket.getLocalAddress().getAddress()); // DST.ADDR\r\n    writer.writeShort(clientSocket.getLocalPort()); // DST.PORT\r\n    //writer.write(InetAddress.getByName(trackerHost).getAddress());\r\n    //writer.writeShort(trackerPort);\r\n    writer.flush();\r\n\r\n    // udp associate response\r\n    reader.skipBytes(4); // skip VER, REP, RSV, ATYP bytes\r\n    relayAddress = reader.readInt();\r\n    InetAddress relayInetAddress = InetAddress.getByAddress(ByteBuffer.allocate(4).putInt(relayAddress).array());\r\n    relayPort = reader.readUnsignedShort(); // server returns some random port\r\n\r\n    // connect to relay server via datagramsocket\r\n    clientSocket.connect(relayInetAddress, relayPort);\r\n\r\n    // send package to destination server\r\n    ByteBuffer byteBuffer = ByteBuffer.allocate(16 + 10);\r\n    //header - 10 bytes\r\n    byteBuffer.putShort((short) 0); // RSV\r\n    byteBuffer.put((byte) 0); // FRAG\r\n    byteBuffer.put((byte) 1); // ATYP\r\n    byteBuffer.put(trackerInetAddress.getAddress()); // DST.ADDR\r\n    byteBuffer.putShort((short) targetPort); // DST.PORT\r\n    //packet data\r\n    byteBuffer.putLong(1);\r\n    byteBuffer.putInt(0);\r\n    byteBuffer.putInt(1);\r\n    // send packet\r\n    packet = byteBuffer.array();\r\n    DatagramPacket sendPacket = new DatagramPacket(packet, packet.length);//, relayInetAddress, relayPort);\r\n    clientSocket.send(sendPacket); // SERVER DOES NOT RECEIVE THIS\r\n\r\nTarget host is verified to be working 100% fine without proxy. Using semi-dedicated proxies from https://blazingseollc.com/proxy/ which support SOCKS5","title":"Why is my SOCKS5 UDP implementation not working?","body":"<p>I spent more than 50 hours on this nonsense, why is my UDP implementation not working? Problem is that the server does not receive UDP packet. I made server app to log events in console and I see it's not receiving anything. Here is SOCKS5 documentation I followed: <a href=\"https://www.ietf.org/rfc/rfc1928.txt\" rel=\"nofollow noreferrer\">https://www.ietf.org/rfc/rfc1928.txt</a></p>\n\n<pre><code>byte[] response = new byte[256];\nint responseLength;\nSocket socket = new Socket(proxyHost, proxyPort);\nDatagramSocket clientSocket = new DatagramSocket();\n\nDataOutputStream writer = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));\nDataInputStream reader = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\n\n// connect/authorization request\nwriter.writeByte(0x05); // VER\nwriter.writeByte(1); // NMETHODS\nwriter.writeByte(0); // METHODS\nwriter.flush();\n\n// connect/authorization response\nresponseLength = reader.read(response); // RESPONSE IS: 5 0\n\n// udp associate request\nwriter.writeByte(0x05); // VER\nwriter.writeByte(0x03); // CMD - UDP ASSOCIATE\nwriter.writeByte(0x00); // RSV\nwriter.writeByte(0x01); // ATYP\n// is what I'm sending here as DST.ADDR &amp; DST.PORT okay?\nwriter.write(clientSocket.getLocalAddress().getAddress()); // DST.ADDR\nwriter.writeShort(clientSocket.getLocalPort()); // DST.PORT\n//writer.write(InetAddress.getByName(trackerHost).getAddress());\n//writer.writeShort(trackerPort);\nwriter.flush();\n\n// udp associate response\nreader.skipBytes(4); // skip VER, REP, RSV, ATYP bytes\nrelayAddress = reader.readInt();\nInetAddress relayInetAddress = InetAddress.getByAddress(ByteBuffer.allocate(4).putInt(relayAddress).array());\nrelayPort = reader.readUnsignedShort(); // server returns some random port\n\n// connect to relay server via datagramsocket\nclientSocket.connect(relayInetAddress, relayPort);\n\n// send package to destination server\nByteBuffer byteBuffer = ByteBuffer.allocate(16 + 10);\n//header - 10 bytes\nbyteBuffer.putShort((short) 0); // RSV\nbyteBuffer.put((byte) 0); // FRAG\nbyteBuffer.put((byte) 1); // ATYP\nbyteBuffer.put(trackerInetAddress.getAddress()); // DST.ADDR\nbyteBuffer.putShort((short) targetPort); // DST.PORT\n//packet data\nbyteBuffer.putLong(1);\nbyteBuffer.putInt(0);\nbyteBuffer.putInt(1);\n// send packet\npacket = byteBuffer.array();\nDatagramPacket sendPacket = new DatagramPacket(packet, packet.length);//, relayInetAddress, relayPort);\nclientSocket.send(sendPacket); // SERVER DOES NOT RECEIVE THIS\n</code></pre>\n\n<p>Target host is verified to be working 100% fine without proxy. Using semi-dedicated proxies from <a href=\"https://blazingseollc.com/proxy/\" rel=\"nofollow noreferrer\">https://blazingseollc.com/proxy/</a> which support SOCKS5</p>\n"},{"tags":["java","spring-data-redis","lettuce"],"comments":[{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":0,"creation_date":1676275826,"post_id":74949959,"comment_id":133097213,"body_markdown":"There is most likely an error somewhere between the point you invoke a redis command to the time it is actually written out to the connection or in the flow between receiving the message from redis to the point where you retrieve the object in the code. This could be in custom marshal/unmarshal code or any SPI that may be invoked in the command lifecycle etc. Look for detail stack traces and you should find the root cause.","body":"There is most likely an error somewhere between the point you invoke a redis command to the time it is actually written out to the connection or in the flow between receiving the message from redis to the point where you retrieve the object in the code. This could be in custom marshal/unmarshal code or any SPI that may be invoked in the command lifecycle etc. Look for detail stack traces and you should find the root cause."}],"owner":{"account_id":27380653,"reputation":1,"user_id":20885308,"display_name":"Doron Shaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679298515,"creation_date":1672309796,"question_id":74949959,"body_markdown":"I have a service that consumed data from Redis streams every second and sends the data to the client via web socket. Everything worked just fine until two weeks ago (this code has been written two years ago). Since then i&#39;m getting lots of RedisCommandTimeoutException errors. This is the full stack trace:\r\n\r\n```Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s), {}\r\norg.springframework.dao.QueryTimeoutException: Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)\r\nat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:70)\r\nat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)\r\nat org.springframework.data.redis.connection.lettuce.LettuceReactiveRedisConnection.lambda$translateException$0(LettuceReactiveRedisConnection.java:293)\r\nat reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:7070)\r\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\r\nat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\nat io.lettuce.core.RedisPublisher$ImmediateSubscriber.onError(RedisPublisher.java:891)\r\nat io.lettuce.core.RedisPublisher$State.onError(RedisPublisher.java:712)\r\nat io.lettuce.core.RedisPublisher$RedisSubscription.onError(RedisPublisher.java:357)\r\nat io.lettuce.core.RedisPublisher$SubscriptionCommand.onError(RedisPublisher.java:797)\r\nat io.lettuce.core.RedisPublisher$SubscriptionCommand.doOnError(RedisPublisher.java:793)\r\nat io.lettuce.core.protocol.CommandWrapper.completeExceptionally(CommandWrapper.java:128)\r\nat io.lettuce.core.protocol.CommandExpiryWriter.lambda$potentiallyExpire$0(CommandExpiryWriter.java:175)\r\nat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\nat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\nat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\r\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nat java.lang.Thread.run(Thread.java:750)\r\nCaused by: io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)\r\nat io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:59)\r\nat io.lettuce.core.protocol.CommandExpiryWriter.lambda$potentiallyExpire$0(CommandExpiryWriter.java:176)\r\n... 8 more\r\n```\r\n\r\nThis error appears in each subscribed stream at the same time, let&#39;s say i have three streams that i&#39;m subscribing to, with names &quot;A&quot;, &quot;B&quot; and &quot;C&quot;, all of them will have this error at the same time, although i&#39;m using different subscribers for each stream.\r\n\r\nNothing has changed in this service, not in the code and not in the configurations. I looked at the CPU, heap memory, etc. of the service and everything looks fine. I checked AWS Elasticache as well and it seems like there are no problems too (I even talked with AWS support). There is no significant increase in number of streams or opened web sockets.\r\n\r\nIn addition, i have two other services that write to the Redis streams and they&#39;re working great.\r\n\r\nI&#39;m using `ReactiveRedisConnectionFactory` class from spring-data-redis library.\r\nThis is configurations:\r\n\r\n```\r\n@Bean(name = &quot;streamRedisLettuceConnectionFactory&quot;)\r\npublic RedisConnectionFactory connectionFactory() {\r\n    log.info(&quot;Connecting to redis with configuration : {} &quot;, chpStreamRedisConfiguration);\r\n    LettuceClientConfiguration configuration = getLettuceClientConfiguration();\r\n    return new LettuceConnectionFactory(redisStandaloneConfiguration, configuration);\r\n}\r\n\r\n@Bean(name = &quot;streamRedisStandaloneConfiguration&quot;)\r\npublic RedisStandaloneConfiguration getRedisStandaloneConfiguration() {\r\n    return new RedisStandaloneConfiguration(chpStreamRedisConfiguration.getHost(), chpStreamRedisConfiguration.getPort());\r\n}\r\n\r\n@Bean(name = &quot;streamLettuceClientConfiguration&quot;)\r\npublic LettuceClientConfiguration getLettuceClientConfiguration() {\r\n    return LettucePoolingClientConfiguration.builder()\r\n            .poolConfig(getLettucePoolConfig())\r\n            .commandTimeout(Duration.ofMillis(chpStreamRedisConfiguration.getTimeout()))\r\n            .build();\r\n}\r\n\r\n@Bean(name = &quot;streamLettucePoolConfig&quot;)\r\npublic GenericObjectPoolConfig getLettucePoolConfig() {\r\n    GenericObjectPoolConfig genericObjectPoolConfig = new GenericObjectPoolConfig();\r\n    genericObjectPoolConfig.setMaxTotal(chpStreamRedisConfiguration.getConnectionPool().getMaxTotal());\r\n    genericObjectPoolConfig.setMaxIdle(chpStreamRedisConfiguration.getConnectionPool().getMaxTotal());\r\n    genericObjectPoolConfig.setMinIdle(chpStreamRedisConfiguration.getConnectionPool().getMinIdle());\r\n    return genericObjectPoolConfig;\r\n}\r\n```\r\n\r\nI&#39;m using:\r\n`spring-data-redis:2.3.9.RELEASE`\r\n`lettuce-core:6.1.2.RELEASE`\r\n`spring-boot:5.2.18.RELEASE`\r\n\r\nI tried to upgrade lettuce to the latest version (6.2.2) and it didn&#39;t help.\r\nI used `io.lettuce.core.protocol` on debug and the only thing i got is this:\r\n```\r\nCompleting command LatencyMeteredCommand [type=XREAD, output=StreamReadOutput [output=[], error=&#39;Command timed out after 20 second(s)&#39;], commandType=io.lettuce.core.RedisPublisher$SubscriptionCommand]\r\n```\r\nI prefer not to increase the timeout because 20 seconds is already lot of time.","title":"io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)","body":"<p>I have a service that consumed data from Redis streams every second and sends the data to the client via web socket. Everything worked just fine until two weeks ago (this code has been written two years ago). Since then i'm getting lots of RedisCommandTimeoutException errors. This is the full stack trace:</p>\n<pre><code>org.springframework.dao.QueryTimeoutException: Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)\nat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:70)\nat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)\nat org.springframework.data.redis.connection.lettuce.LettuceReactiveRedisConnection.lambda$translateException$0(LettuceReactiveRedisConnection.java:293)\nat reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:7070)\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\nat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\nat io.lettuce.core.RedisPublisher$ImmediateSubscriber.onError(RedisPublisher.java:891)\nat io.lettuce.core.RedisPublisher$State.onError(RedisPublisher.java:712)\nat io.lettuce.core.RedisPublisher$RedisSubscription.onError(RedisPublisher.java:357)\nat io.lettuce.core.RedisPublisher$SubscriptionCommand.onError(RedisPublisher.java:797)\nat io.lettuce.core.RedisPublisher$SubscriptionCommand.doOnError(RedisPublisher.java:793)\nat io.lettuce.core.protocol.CommandWrapper.completeExceptionally(CommandWrapper.java:128)\nat io.lettuce.core.protocol.CommandExpiryWriter.lambda$potentiallyExpire$0(CommandExpiryWriter.java:175)\nat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\nat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.lang.Thread.run(Thread.java:750)\nCaused by: io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)\nat io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:59)\nat io.lettuce.core.protocol.CommandExpiryWriter.lambda$potentiallyExpire$0(CommandExpiryWriter.java:176)\n... 8 more\n</code></pre>\n<p>This error appears in each subscribed stream at the same time, let's say i have three streams that i'm subscribing to, with names &quot;A&quot;, &quot;B&quot; and &quot;C&quot;, all of them will have this error at the same time, although i'm using different subscribers for each stream.</p>\n<p>Nothing has changed in this service, not in the code and not in the configurations. I looked at the CPU, heap memory, etc. of the service and everything looks fine. I checked AWS Elasticache as well and it seems like there are no problems too (I even talked with AWS support). There is no significant increase in number of streams or opened web sockets.</p>\n<p>In addition, i have two other services that write to the Redis streams and they're working great.</p>\n<p>I'm using <code>ReactiveRedisConnectionFactory</code> class from spring-data-redis library.\nThis is configurations:</p>\n<pre><code>@Bean(name = &quot;streamRedisLettuceConnectionFactory&quot;)\npublic RedisConnectionFactory connectionFactory() {\n    log.info(&quot;Connecting to redis with configuration : {} &quot;, chpStreamRedisConfiguration);\n    LettuceClientConfiguration configuration = getLettuceClientConfiguration();\n    return new LettuceConnectionFactory(redisStandaloneConfiguration, configuration);\n}\n\n@Bean(name = &quot;streamRedisStandaloneConfiguration&quot;)\npublic RedisStandaloneConfiguration getRedisStandaloneConfiguration() {\n    return new RedisStandaloneConfiguration(chpStreamRedisConfiguration.getHost(), chpStreamRedisConfiguration.getPort());\n}\n\n@Bean(name = &quot;streamLettuceClientConfiguration&quot;)\npublic LettuceClientConfiguration getLettuceClientConfiguration() {\n    return LettucePoolingClientConfiguration.builder()\n            .poolConfig(getLettucePoolConfig())\n            .commandTimeout(Duration.ofMillis(chpStreamRedisConfiguration.getTimeout()))\n            .build();\n}\n\n@Bean(name = &quot;streamLettucePoolConfig&quot;)\npublic GenericObjectPoolConfig getLettucePoolConfig() {\n    GenericObjectPoolConfig genericObjectPoolConfig = new GenericObjectPoolConfig();\n    genericObjectPoolConfig.setMaxTotal(chpStreamRedisConfiguration.getConnectionPool().getMaxTotal());\n    genericObjectPoolConfig.setMaxIdle(chpStreamRedisConfiguration.getConnectionPool().getMaxTotal());\n    genericObjectPoolConfig.setMinIdle(chpStreamRedisConfiguration.getConnectionPool().getMinIdle());\n    return genericObjectPoolConfig;\n}\n</code></pre>\n<p>I'm using:\n<code>spring-data-redis:2.3.9.RELEASE</code>\n<code>lettuce-core:6.1.2.RELEASE</code>\n<code>spring-boot:5.2.18.RELEASE</code></p>\n<p>I tried to upgrade lettuce to the latest version (6.2.2) and it didn't help.\nI used <code>io.lettuce.core.protocol</code> on debug and the only thing i got is this:</p>\n<pre><code>Completing command LatencyMeteredCommand [type=XREAD, output=StreamReadOutput [output=[], error='Command timed out after 20 second(s)'], commandType=io.lettuce.core.RedisPublisher$SubscriptionCommand]\n</code></pre>\n<p>I prefer not to increase the timeout because 20 seconds is already lot of time.</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1679075621,"post_id":75770329,"comment_id":133662068,"body_markdown":"Provide link to a course if possible. Also, can you validate, your app is running on port 8080?","body":"Provide link to a course if possible. Also, can you validate, your app is running on port 8080?"},{"owner":{"account_id":25766292,"reputation":88,"user_id":19516175,"display_name":"Oleksandr Myronets"},"score":0,"creation_date":1679075830,"post_id":75770329,"comment_id":133662117,"body_markdown":"How do you run Tomcat? Do you build your sources into a war file and copy it to Tomcat home directory or you run tomcat embedded inside your application?","body":"How do you run Tomcat? Do you build your sources into a war file and copy it to Tomcat home directory or you run tomcat embedded inside your application?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679080039,"post_id":75770329,"comment_id":133663024,"body_markdown":"Why do you expect there to be a resource (web page) at `/myprojectname`?","body":"Why do you expect there to be a resource (web page) at <code>&#47;myprojectname</code>?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1679088660,"post_id":75770329,"comment_id":133664868,"body_markdown":"Also: any stacktrace or log output? Please take the [tour] and read [ask] to get more hints for what information you might want to add","body":"Also: any stacktrace or log output? Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to get more hints for what information you might want to add"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679105457,"post_id":75770329,"comment_id":133666705,"body_markdown":"Is your file located at this path `/WEB-INF/view/welcome.ftl` ?","body":"Is your file located at this path <code>&#47;WEB-INF&#47;view&#47;welcome.ftl</code> ?"}],"owner":{"account_id":28043708,"reputation":11,"user_id":21420854,"display_name":"Golter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679298491,"creation_date":1679072705,"question_id":75770329,"body_markdown":"I am following a course on line about Spring and I have a problem: when I open localhost: 8080/myprojectname I get the 404 error page.\r\nI am trying everything, all the solutions I am finding are not helping me at all.\r\n\r\n\r\n```\r\npackage it.myshop.web;\r\n\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.web.servlet.DispatcherServlet;\r\nimport org.springframework.web.servlet.FrameworkServlet;\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\n\r\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n\t\treturn new Class&lt;?&gt;[] {MyShopConfig.class};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\treturn new String[]{&quot;/&quot;};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {\r\n\t\tDispatcherServlet ds = new DispatcherServlet(servletAppContext);\r\n\t\tds.setThrowExceptionIfNoHandlerFound(true);\r\n\t\treturn ds;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage it.myshop.web;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\r\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\r\n\r\n@ComponentScan(basePackages = &quot;it.myshop.web.controller&quot;)\r\n@Configuration\r\n@EnableWebMvc\r\npublic class MyShopConfig {\r\n\t\r\n\t@Bean\r\n\tpublic FreeMarkerViewResolver configureResolver() {\r\n\t\tFreeMarkerViewResolver resolver = new FreeMarkerViewResolver();\r\n\t\tresolver.setPrefix(&quot;&quot;);\r\n\t\tresolver.setSuffix(&quot;.ftl&quot;);\r\n\t\t\r\n\t\treturn resolver;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic FreeMarkerConfigurer configureFreeMarker() {\r\n\t\tFreeMarkerConfigurer config = new FreeMarkerConfigurer();\r\n\t\tconfig.setTemplateLoaderPath(&quot;/WEB-INF/view/&quot;);\r\n\t\t\r\n\t\treturn config;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage it.myshop.web.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.ModelMap;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class WelcomeController {\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String welcome(ModelMap model) {\r\n\t\tmodel.addAttribute(&quot;message&quot;, &quot;Ciao, benvenuto nel mio e-commerce!&quot;);\r\n\t\t\r\n\t\treturn &quot;welcome&quot;;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Welcome page!&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\t&lt;h1&gt;${message}&lt;/h1&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nWhat can be the problem? I&#39;m stucking from weeks and I am not able to find a solution. Thank you!\r\n\r\nEDIT: Thank you for your answers! I still don&#39;t have a .ftl file, in the course he can start the app and show the contents opening localhost:8080/myprojectname, but I cannot. I run Tomcat embedded in my application (I start it from Eclipse). I am not so expert, so it&#39;s hard to explain too, excuse me. That&#39;s why I decided to follow the course (a course to be more confused XD).","title":"Spring Mvc Java-based and Tomcat","body":"<p>I am following a course on line about Spring and I have a problem: when I open localhost: 8080/myprojectname I get the 404 error page.\nI am trying everything, all the solutions I am finding are not helping me at all.</p>\n<pre><code>package it.myshop.web;\n\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.servlet.DispatcherServlet;\nimport org.springframework.web.servlet.FrameworkServlet;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\n\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[] {MyShopConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{&quot;/&quot;};\n    }\n\n    @Override\n    protected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {\n        DispatcherServlet ds = new DispatcherServlet(servletAppContext);\n        ds.setThrowExceptionIfNoHandlerFound(true);\n        return ds;\n    }\n}\n\n</code></pre>\n<pre><code>package it.myshop.web;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\n\n@ComponentScan(basePackages = &quot;it.myshop.web.controller&quot;)\n@Configuration\n@EnableWebMvc\npublic class MyShopConfig {\n    \n    @Bean\n    public FreeMarkerViewResolver configureResolver() {\n        FreeMarkerViewResolver resolver = new FreeMarkerViewResolver();\n        resolver.setPrefix(&quot;&quot;);\n        resolver.setSuffix(&quot;.ftl&quot;);\n        \n        return resolver;\n    }\n    \n    @Bean\n    public FreeMarkerConfigurer configureFreeMarker() {\n        FreeMarkerConfigurer config = new FreeMarkerConfigurer();\n        config.setTemplateLoaderPath(&quot;/WEB-INF/view/&quot;);\n        \n        return config;\n    }\n}\n\n</code></pre>\n<pre><code>package it.myshop.web.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class WelcomeController {\n    \n    @GetMapping(&quot;/&quot;)\n    public String welcome(ModelMap model) {\n        model.addAttribute(&quot;message&quot;, &quot;Ciao, benvenuto nel mio e-commerce!&quot;);\n        \n        return &quot;welcome&quot;;\n    }\n\n}\n\n</code></pre>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Welcome page!&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;h1&gt;${message}&lt;/h1&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>What can be the problem? I'm stucking from weeks and I am not able to find a solution. Thank you!</p>\n<p>EDIT: Thank you for your answers! I still don't have a .ftl file, in the course he can start the app and show the contents opening localhost:8080/myprojectname, but I cannot. I run Tomcat embedded in my application (I start it from Eclipse). I am not so expert, so it's hard to explain too, excuse me. That's why I decided to follow the course (a course to be more confused XD).</p>\n"},{"tags":["java","hibernate","jpa","orm","cascade"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1679145597,"post_id":75754489,"comment_id":133670938,"body_markdown":"If you delete one side of a many to many mapping the records on the mapping table must be deleted. That&#39;s the correct behavior","body":"If you delete one side of a many to many mapping the records on the mapping table must be deleted. That&#39;s the correct behavior"},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1679146803,"post_id":75754489,"comment_id":133671108,"body_markdown":"@SimonMartinelli is there a way to tune this behavior?","body":"@SimonMartinelli is there a way to tune this behavior?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1679157061,"post_id":75754489,"comment_id":133672861,"body_markdown":"No this behavior works as expected. If you remove a Variable then the record in the mapping table must be deleted otherwise you&#39;ll get a foreign key violation","body":"No this behavior works as expected. If you remove a Variable then the record in the mapping table must be deleted otherwise you&#39;ll get a foreign key violation"},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1679160483,"post_id":75754489,"comment_id":133673431,"body_markdown":"@SimonMartinelli I have cascade delete constraint in database for `variable_id_from` and restrict for `variable_id_to`. That&#39;s the behaviour I expect. If `Variable` has any other variables that reference to it, then deletion is prohibited. I could just execute native query as I described, but I wonder is it possible to tell Hibernate that I don&#39;t want additional queries for links removal","body":"@SimonMartinelli I have cascade delete constraint in database for <code>variable_id_from</code> and restrict for <code>variable_id_to</code>. That&#39;s the behaviour I expect. If <code>Variable</code> has any other variables that reference to it, then deletion is prohibited. I could just execute native query as I described, but I wonder is it possible to tell Hibernate that I don&#39;t want additional queries for links removal"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1679173593,"post_id":75754489,"comment_id":133675225,"body_markdown":"If you are using Hibernate you shouldn&#39;t use cascade delete on the database foreign key.","body":"If you are using Hibernate you shouldn&#39;t use cascade delete on the database foreign key."}],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679298426,"creation_date":1679298426,"answer_id":75787654,"question_id":75754489,"body_markdown":"I managed to solve the problem with `mappedBy` inverse reference. Look at the code snippet below:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;variable&quot;)\r\n@Getter\r\n@Setter(PROTECTED)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@DynamicUpdate\r\npublic class Variable {\r\n    @EmbeddedId\r\n    private VariableId id;\r\n\r\n    @ManyToMany(fetch = LAZY)\r\n    @JoinTable(\r\n        name = &quot;variable_variable&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;variable_id_from&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_to&quot;)\r\n    )\r\n    private Set&lt;Variable&gt; variables = new HashSet&lt;&gt;();\r\n\r\n    @ManyToMany(fetch = LAZY, mappedBy = &quot;variables&quot;)\r\n    // this collection is readonly and never updates\r\n    private Set&lt;Variable&gt; inverseVariables = new HashSet&lt;&gt;();\r\n    \r\n    ...\r\n}\r\n```\r\n\r\nNow when I call `em.remove(variable)`, those SQL statements are generated:\r\n\r\n```sql\r\nQuery:[&quot;delete from variable_variable where variable_id_from=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n\r\nQuery:[&quot;delete from variable where id=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n```\r\n\r\nOnly `Current Variable` and references `Current Variable -&gt; Other Variable` are being deleted. If there references `Other Variable -&gt; Current Variable`, then deletion fails due to database integrity violation. Just what I need","title":"Hibernate: ManyToMany links are being deleted without CascadeType.REMOVE","body":"<p>I managed to solve the problem with <code>mappedBy</code> inverse reference. Look at the code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;variable&quot;)\n@Getter\n@Setter(PROTECTED)\n@NoArgsConstructor(access = PROTECTED)\n@DynamicUpdate\npublic class Variable {\n    @EmbeddedId\n    private VariableId id;\n\n    @ManyToMany(fetch = LAZY)\n    @JoinTable(\n        name = &quot;variable_variable&quot;,\n        joinColumns = @JoinColumn(name = &quot;variable_id_from&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_to&quot;)\n    )\n    private Set&lt;Variable&gt; variables = new HashSet&lt;&gt;();\n\n    @ManyToMany(fetch = LAZY, mappedBy = &quot;variables&quot;)\n    // this collection is readonly and never updates\n    private Set&lt;Variable&gt; inverseVariables = new HashSet&lt;&gt;();\n    \n    ...\n}\n</code></pre>\n<p>Now when I call <code>em.remove(variable)</code>, those SQL statements are generated:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Query:[&quot;delete from variable_variable where variable_id_from=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n\nQuery:[&quot;delete from variable where id=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n</code></pre>\n<p>Only <code>Current Variable</code> and references <code>Current Variable -&gt; Other Variable</code> are being deleted. If there references <code>Other Variable -&gt; Current Variable</code>, then deletion fails due to database integrity violation. Just what I need</p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75787654,"answer_count":1,"score":0,"last_activity_date":1679298426,"creation_date":1678960198,"question_id":75754489,"body_markdown":"I have such database tables:\r\n\r\n[![Database tables][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yWmRq.png\r\n\r\nAnd these are the foreign key constraints:\r\n\r\n```sql\r\n-- If current variable is being referenced by another variable, restrict deletion\r\nALTER TABLE variable_variable\r\n    ADD CONSTRAINT variable_variable_variable_id_to_fkey\r\n        FOREIGN KEY (variable_id_to) REFERENCES variable (id)\r\n            ON DELETE RESTRICT;\r\n\r\n-- If current variable reference other variable, delete its link by cascade\r\nALTER TABLE variable_variable\r\n    ADD CONSTRAINT variable_variable_variable_id_from_fkey\r\n        FOREIGN KEY (variable_id_from) REFERENCES variable (id)\r\n            ON DELETE CASCADE;\r\n```\r\n\r\nSo, if I have references like:\r\n\r\n1. `Other Variable -&gt; Current Variable`, then `Current Variable` deletion has to be prohibited\r\n1. `Current Variable -&gt; Other Variable`, then `Current Variable` deletion should also remove link from `Current Variable` to `Other Variable` on cascade (links are stored in `variable_variable` table).\r\n\r\nHere is my Hibernate entity for `variable` table.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;variable&quot;)\r\n@Getter\r\n@Setter(PROTECTED)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@DynamicUpdate\r\npublic class Variable {\r\n    @EmbeddedId\r\n    private VariableId id;\r\n\r\n    @ManyToMany(fetch = LAZY)\r\n    @JoinTable(\r\n        name = &quot;variable_variable&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;variable_id_from&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_to&quot;)\r\n    )\r\n    private Set&lt;Variable&gt; variables = new HashSet&lt;&gt;();\r\n\r\n    @ManyToMany(fetch = LAZY)\r\n    @JoinTable(\r\n        name = &quot;variable_variable&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;variable_id_to&quot;, updatable = false, insertable = false),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_from&quot;, updatable = false, insertable = false)\r\n    )\r\n    // this collection is readonly and never updates\r\n    private Set&lt;Variable&gt; inverseVariables = new HashSet&lt;&gt;();\r\n    \r\n    ...\r\n}\r\n```\r\n\r\nSo, `ManyToMany` relationships are on the owning side and I have no `CascadeType.REMOVE`.\r\nBut if I call `EntityManager.remove(variable)`, those SQL statements are being invoked:\r\n\r\n```sql\r\nQuery:[&quot;delete from variable_variable where variable_id_to=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n\r\nQuery:[&quot;delete from variable_variable where variable_id_from=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n\r\nQuery:[&quot;delete from variable where id=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n```\r\n\r\nHibernate deletes links from `variable_variable` prematurely. However, that&#39;s not the behavior I need. It breaks the whole idea of complex database constraints in `variable_variable` table I described earlier. So, I don&#39;t want Hibernate to delete anything from there on its own basis.\r\n\r\nI managed to solve this problem with native query:\r\n\r\n```java\r\nem.createNativeQuery(&quot;DELETE FROM variable WHERE id = :id&quot;)\r\n            .setParameter(&quot;id&quot;, variableId)\r\n            .executeUpdate();\r\n```\r\n\r\nAnyway, I&#39;d like not to introduce native queries. Is it possible to tell Hibernate not to delete `variable_variable` rows on `Variable` removing?","title":"Hibernate: ManyToMany links are being deleted without CascadeType.REMOVE","body":"<p>I have such database tables:</p>\n<p><a href=\"https://i.stack.imgur.com/yWmRq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yWmRq.png\" alt=\"Database tables\" /></a></p>\n<p>And these are the foreign key constraints:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- If current variable is being referenced by another variable, restrict deletion\nALTER TABLE variable_variable\n    ADD CONSTRAINT variable_variable_variable_id_to_fkey\n        FOREIGN KEY (variable_id_to) REFERENCES variable (id)\n            ON DELETE RESTRICT;\n\n-- If current variable reference other variable, delete its link by cascade\nALTER TABLE variable_variable\n    ADD CONSTRAINT variable_variable_variable_id_from_fkey\n        FOREIGN KEY (variable_id_from) REFERENCES variable (id)\n            ON DELETE CASCADE;\n</code></pre>\n<p>So, if I have references like:</p>\n<ol>\n<li><code>Other Variable -&gt; Current Variable</code>, then <code>Current Variable</code> deletion has to be prohibited</li>\n<li><code>Current Variable -&gt; Other Variable</code>, then <code>Current Variable</code> deletion should also remove link from <code>Current Variable</code> to <code>Other Variable</code> on cascade (links are stored in <code>variable_variable</code> table).</li>\n</ol>\n<p>Here is my Hibernate entity for <code>variable</code> table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;variable&quot;)\n@Getter\n@Setter(PROTECTED)\n@NoArgsConstructor(access = PROTECTED)\n@DynamicUpdate\npublic class Variable {\n    @EmbeddedId\n    private VariableId id;\n\n    @ManyToMany(fetch = LAZY)\n    @JoinTable(\n        name = &quot;variable_variable&quot;,\n        joinColumns = @JoinColumn(name = &quot;variable_id_from&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_to&quot;)\n    )\n    private Set&lt;Variable&gt; variables = new HashSet&lt;&gt;();\n\n    @ManyToMany(fetch = LAZY)\n    @JoinTable(\n        name = &quot;variable_variable&quot;,\n        joinColumns = @JoinColumn(name = &quot;variable_id_to&quot;, updatable = false, insertable = false),\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_from&quot;, updatable = false, insertable = false)\n    )\n    // this collection is readonly and never updates\n    private Set&lt;Variable&gt; inverseVariables = new HashSet&lt;&gt;();\n    \n    ...\n}\n</code></pre>\n<p>So, <code>ManyToMany</code> relationships are on the owning side and I have no <code>CascadeType.REMOVE</code>.\nBut if I call <code>EntityManager.remove(variable)</code>, those SQL statements are being invoked:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Query:[&quot;delete from variable_variable where variable_id_to=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n\nQuery:[&quot;delete from variable_variable where variable_id_from=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n\nQuery:[&quot;delete from variable where id=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n</code></pre>\n<p>Hibernate deletes links from <code>variable_variable</code> prematurely. However, that's not the behavior I need. It breaks the whole idea of complex database constraints in <code>variable_variable</code> table I described earlier. So, I don't want Hibernate to delete anything from there on its own basis.</p>\n<p>I managed to solve this problem with native query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>em.createNativeQuery(&quot;DELETE FROM variable WHERE id = :id&quot;)\n            .setParameter(&quot;id&quot;, variableId)\n            .executeUpdate();\n</code></pre>\n<p>Anyway, I'd like not to introduce native queries. Is it possible to tell Hibernate not to delete <code>variable_variable</code> rows on <code>Variable</code> removing?</p>\n"},{"tags":["java","terminal","uninstallation","java-17","macos-monterey"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1679270926,"post_id":75785350,"comment_id":133686417,"body_markdown":"It sounds like your JAVA_HOME env variable is still pointing to v17.  You can change this temporarily by executing `export JAVA_HOME=\\`/usr/libexec/java_home -v11\\``.  Add this command to your shell&#39;s startup scripts to make it permanent.","body":"It sounds like your JAVA_HOME env variable is still pointing to v17.  You can change this temporarily by executing <code>export JAVA_HOME=`&#47;usr&#47;libexec&#47;java_home -v11`</code>.  Add this command to your shell&#39;s startup scripts to make it permanent."},{"owner":{"account_id":28060424,"reputation":1,"user_id":21434671,"display_name":"TheRealSlimTazy"},"score":0,"creation_date":1679272085,"post_id":75785350,"comment_id":133686530,"body_markdown":"Hey @lane.maxwell that fixed the &quot;java -version&quot; issue, but when I run **&quot;/usr/libexec/java_home&quot;** I still get this...\n/Users/mohammadtazy/Library/Java/JavaVirtualMachines/openjdk-17-1/Contents/Home","body":"Hey @lane.maxwell that fixed the &quot;java -version&quot; issue, but when I run <b>&quot;/usr/libexec/java_home&quot;</b> I still get this... /Users/mohammadtazy/Library/Java/JavaVirtualMachines/openjdk&zwnj;&#8203;-17-1/Contents/Home"},{"owner":{"account_id":28060424,"reputation":1,"user_id":21434671,"display_name":"TheRealSlimTazy"},"score":0,"creation_date":1679273174,"post_id":75785350,"comment_id":133686646,"body_markdown":"I also ran **/usr/libexec/java_home -V** and got the following results. It seems like none of them are being properly deleted.\n [results](https://i.stack.imgur.com/I5dVr.png)","body":"I also ran <b>/usr/libexec/java_home -V</b> and got the following results. It seems like none of them are being properly deleted.  <a href=\"https://i.stack.imgur.com/I5dVr.png\" rel=\"nofollow noreferrer\">results</a>"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1679298314,"post_id":75785350,"comment_id":133689585,"body_markdown":"Can&#39;t you see that you didn&#39;t remove it? You have two installations of JDK17. Delete the appropriate paths that are given by the command...","body":"Can&#39;t you see that you didn&#39;t remove it? You have two installations of JDK17. Delete the appropriate paths that are given by the command..."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1679323321,"post_id":75785350,"comment_id":133696492,"body_markdown":"@TheRealSlimTazy when you run that command without options it simply prints the currently set Java alternative.","body":"@TheRealSlimTazy when you run that command without options it simply prints the currently set Java alternative."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679298420,"creation_date":1679298420,"answer_id":75787653,"question_id":75785350,"body_markdown":"Java installation are not always in `/Library/Java/JavaVirtualMachines/`.\r\nSee that you have two installations in under your private directory.\r\nLook what `java_home` gave you, and delete the given paths.","title":"JDK 17 not deleting in macOS Monterey","body":"<p>Java installation are not always in <code>/Library/Java/JavaVirtualMachines/</code>.\nSee that you have two installations in under your private directory.\nLook what <code>java_home</code> gave you, and delete the given paths.</p>\n"}],"owner":{"account_id":28060424,"reputation":1,"user_id":21434671,"display_name":"TheRealSlimTazy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679298420,"creation_date":1679265507,"question_id":75785350,"body_markdown":"I just **installed JDK 17.0.6** from https://adoptium.net/ to do a course on **TMCBeans. I realized I need JDK 11** for TMCBeans to work so **I&#39;ve been trying to uninstall the JDK**. I&#39;ve **tried the following commands, which seem to have removed all the files.**\r\n\r\nsudo rm -rf /Library/Java/JavaVirtualMachines/jdk\\&lt;version\\&gt;.jdk\r\n\r\nsudo rm -fr /Library/Internet\\\\ Plug-Ins/JavaAppletPlugin.plugin\r\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\r\nsudo rm -fr \\~/Library/Application\\\\ Support/Oracle/Java\r\n\r\n**My issue is** that when I run **java -version** and **/usr/libexec/java_home** in terminal I get the **below results**. When I go to the path, all files after /Library/Java/JavaVirtualMachines have been deleted. I tried restarting my laptop which did not work. **How can I fix this issue it seems like the system thinks the files are still there?**\r\n\r\nopenjdk version &quot;17&quot; 2021-09-14\r\n  \r\nOpenJDK Runtime Environment (build 17+35-2724)  \r\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\r\n\r\n---\r\n\r\n/Users/mohammadtazy/Library/Java/JavaVirtualMachines/openjdk-17-1/Contents/Home\r\n\r\nI also tried using this installer to remove it https://www.java.com/en/download/manual.jsp but this gives me the following results.\r\n[results](https://i.stack.imgur.com/MP6nJ.png)","title":"JDK 17 not deleting in macOS Monterey","body":"<p>I just <strong>installed JDK 17.0.6</strong> from <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">https://adoptium.net/</a> to do a course on <strong>TMCBeans. I realized I need JDK 11</strong> for TMCBeans to work so <strong>I've been trying to uninstall the JDK</strong>. I've <strong>tried the following commands, which seem to have removed all the files.</strong></p>\n<p>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk</p>\n<p>sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java</p>\n<p><strong>My issue is</strong> that when I run <strong>java -version</strong> and <strong>/usr/libexec/java_home</strong> in terminal I get the <strong>below results</strong>. When I go to the path, all files after /Library/Java/JavaVirtualMachines have been deleted. I tried restarting my laptop which did not work. <strong>How can I fix this issue it seems like the system thinks the files are still there?</strong></p>\n<p>openjdk version &quot;17&quot; 2021-09-14</p>\n<p>OpenJDK Runtime Environment (build 17+35-2724)<br />\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)</p>\n<hr />\n<p>/Users/mohammadtazy/Library/Java/JavaVirtualMachines/openjdk-17-1/Contents/Home</p>\n<p>I also tried using this installer to remove it <a href=\"https://www.java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/manual.jsp</a> but this gives me the following results.\n<a href=\"https://i.stack.imgur.com/MP6nJ.png\" rel=\"nofollow noreferrer\">results</a></p>\n"},{"tags":["java","json","file","io","gson"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679258797,"post_id":75784791,"comment_id":133684909,"body_markdown":"You&#39;ll have to do some of your own parsing of the log file, before you hand the JSON string you have extracted to a JSON parser. Please explain where you are stuck doing this.","body":"You&#39;ll have to do some of your own parsing of the log file, before you hand the JSON string you have extracted to a JSON parser. Please explain where you are stuck doing this."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679258868,"post_id":75784791,"comment_id":133684920,"body_markdown":"Incidentally it may be better to format your entire log file as JSON.","body":"Incidentally it may be better to format your entire log file as JSON."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1679261497,"post_id":75784791,"comment_id":133685322,"body_markdown":"A perfect use for all those bracket-counting homework assignments that get posted on SO!","body":"A perfect use for all those bracket-counting homework assignments that get posted on SO!"},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1679298359,"post_id":75784791,"comment_id":133689593,"body_markdown":"Here I&#39;m not expecting coded answer, but the approach.\nwould it be line by line check and validate until valid json string.? or another effective way.?","body":"Here I&#39;m not expecting coded answer, but the approach. would it be line by line check and validate until valid json string.? or another effective way.?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679305379,"post_id":75784791,"comment_id":133691266,"body_markdown":"Looks like the log format is &quot;new value starts with `VALUE NAME :` and goes until the next line that starts with `VALUE NAME :` or EOF&quot;, so I&#39;d parse each line until you find a value name that&#39;s either `REQUEST PAYLOAD` or `RESPONSE PAYLOAD :`, concatenate the content of the remainder of that line with all following lines until (exclusive) you find another `VALUE NAME :` and then parse the result.","body":"Looks like the log format is &quot;new value starts with <code>VALUE NAME :</code> and goes until the next line that starts with <code>VALUE NAME :</code> or EOF&quot;, so I&#39;d parse each line until you find a value name that&#39;s either <code>REQUEST PAYLOAD</code> or <code>RESPONSE PAYLOAD :</code>, concatenate the content of the remainder of that line with all following lines until (exclusive) you find another <code>VALUE NAME :</code> and then parse the result."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1679307756,"post_id":75784791,"comment_id":133691972,"body_markdown":"@JoachimSauer, thanks I&#39;ll follow your way","body":"@JoachimSauer, thanks I&#39;ll follow your way"}],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679298372,"creation_date":1679258248,"question_id":75784791,"body_markdown":"I have a log file. it has request json string and response json string. both are in there with multilines. \r\nso how do we read json string in there.? \r\n\r\nlog file sample :-\r\n\r\n    URL : /saveEmployee\r\n    REQUEST PAYLOAD : {&quot;employees&quot;:[  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Shyam&quot;, &quot;email&quot;:&quot;shyamjaiswal@gmail.com&quot;},  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Bob&quot;, &quot;email&quot;:&quot;bob32@gmail.com&quot;},  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Jai&quot;, &quot;email&quot;:&quot;jai87@gmail.com&quot;}  \r\n    \t\t\t\t\t]}  \r\n    TYPE : POST\r\n    RESPONSE PAYLOAD : {&quot;employees&quot;:[  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Shyam&quot;, &quot;email&quot;:&quot;shyamjaiswal@gmail.com&quot;},  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Bob&quot;, &quot;email&quot;:&quot;bob32@gmail.com&quot;},  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Jai&quot;, &quot;email&quot;:&quot;jai87@gmail.com&quot;}  \r\n    \t\t\t\t\t]}  \t\t\t\t\t\r\n    RESPONSE STATUS : 200\t\t\t\t\t\r\n\r\nI want to get Request and Response json payloads\r\n\r\n*Here I&#39;m not expecting coded answer, but the approach.\r\nwould it be line by line check and validate until valid json string.? or another effective way.?*","title":"How do we read multiline json string in a text file.?","body":"<p>I have a log file. it has request json string and response json string. both are in there with multilines.\nso how do we read json string in there.?</p>\n<p>log file sample :-</p>\n<pre><code>URL : /saveEmployee\nREQUEST PAYLOAD : {&quot;employees&quot;:[  \n                        {&quot;name&quot;:&quot;Shyam&quot;, &quot;email&quot;:&quot;shyamjaiswal@gmail.com&quot;},  \n                        {&quot;name&quot;:&quot;Bob&quot;, &quot;email&quot;:&quot;bob32@gmail.com&quot;},  \n                        {&quot;name&quot;:&quot;Jai&quot;, &quot;email&quot;:&quot;jai87@gmail.com&quot;}  \n                    ]}  \nTYPE : POST\nRESPONSE PAYLOAD : {&quot;employees&quot;:[  \n                        {&quot;name&quot;:&quot;Shyam&quot;, &quot;email&quot;:&quot;shyamjaiswal@gmail.com&quot;},  \n                        {&quot;name&quot;:&quot;Bob&quot;, &quot;email&quot;:&quot;bob32@gmail.com&quot;},  \n                        {&quot;name&quot;:&quot;Jai&quot;, &quot;email&quot;:&quot;jai87@gmail.com&quot;}  \n                    ]}                      \nRESPONSE STATUS : 200                   \n</code></pre>\n<p>I want to get Request and Response json payloads</p>\n<p><em>Here I'm not expecting coded answer, but the approach.\nwould it be line by line check and validate until valid json string.? or another effective way.?</em></p>\n"},{"tags":["java","spring-boot","swagger","openapi","springdoc"],"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1679235170,"post_id":75782147,"comment_id":133681016,"body_markdown":"Which Spring version are you using?","body":"Which Spring version are you using?"},{"owner":{"account_id":27550541,"reputation":61,"user_id":21025690,"display_name":"wazzupek01"},"score":0,"creation_date":1679242221,"post_id":75782147,"comment_id":133682192,"body_markdown":"@times29 I&#39;m using 3.0.1","body":"@times29 I&#39;m using 3.0.1"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679298276,"creation_date":1679296542,"answer_id":75787434,"question_id":75782147,"body_markdown":"# Dependency\r\nFirst, you need to use a different dependency for Spring Boot 3:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nFind the most recent version [here][1].\r\n\r\n# Security Config\r\nTo me, your security config looks fine. I also excluded the `&quot;/webjars/swagger-ui/**&quot;` but I&#39;m not sure, if it is really necessary. The following config works for me:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\nclass WebSecurityConfiguration {\r\n\r\n    private static final String[] SWAGGER_PATHS = {&quot;/swagger-ui.html&quot;, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/webjars/swagger-ui/**&quot;};\r\n\r\n    @Bean\r\n    SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n        return http\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(SWAGGER_PATHS).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui","title":"Error 403 OpenApi with SpringBoot security filter chain","body":"<h1>Dependency</h1>\n<p>First, you need to use a different dependency for Spring Boot 3:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Find the most recent version <a href=\"https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h1>Security Config</h1>\n<p>To me, your security config looks fine. I also excluded the <code>&quot;/webjars/swagger-ui/**&quot;</code> but I'm not sure, if it is really necessary. The following config works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\nclass WebSecurityConfiguration {\n\n    private static final String[] SWAGGER_PATHS = {&quot;/swagger-ui.html&quot;, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/webjars/swagger-ui/**&quot;};\n\n    @Bean\n    SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n        return http\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(SWAGGER_PATHS).permitAll()\n                        .anyRequest().authenticated())\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27550541,"reputation":61,"user_id":21025690,"display_name":"wazzupek01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75787434,"answer_count":1,"score":0,"last_activity_date":1679298276,"creation_date":1679230732,"question_id":75782147,"body_markdown":"I was trying to add OpenApi documentation to my spring-boot app, but when i try to connect to /v3/api-docs and /swagger-ui error 403 occurs.\r\n\r\nI&#39;m using springBoot 3.0.1 and springdoc-openapi-ui dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nI tried adding permitAll for requests matchings in security filter chain.\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        AuthenticationFilter authenticationFilter = new AuthenticationFilter(customAuthenticationManager, userService);\r\n        authenticationFilter.setFilterProcessesUrl(&quot;/authenticate&quot;);\r\n        http.cors().and().csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/swagger-ui.html&quot;,\r\n                        &quot;/swagger-ui/**&quot;,\r\n                        &quot;/swagger-resources/**&quot;,\r\n                        &quot;/swagger-resources&quot;,\r\n                        &quot;/v3/api-docs/**&quot;,\r\n                        &quot;/proxy/**&quot;,\r\n                        &quot;/swagger-ui.html&quot;).permitAll()\r\n                .requestMatchers(HttpMethod.POST, &quot;/user/register&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilter(authenticationFilter)\r\n                .addFilterAfter(new JWTAuthorizationFilter(), AuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n```\r\n\r\nas well as adding WebSecurityCustomizer bean with web.ignore()\r\n\r\n\r\n```\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/v3/api-docs/**&quot;,&quot;/proxy/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/v3/api-docs/**&quot;);\r\n    }\r\n```\r\n\r\n","title":"Error 403 OpenApi with SpringBoot security filter chain","body":"<p>I was trying to add OpenApi documentation to my spring-boot app, but when i try to connect to /v3/api-docs and /swagger-ui error 403 occurs.</p>\n<p>I'm using springBoot 3.0.1 and springdoc-openapi-ui dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried adding permitAll for requests matchings in security filter chain.</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        AuthenticationFilter authenticationFilter = new AuthenticationFilter(customAuthenticationManager, userService);\n        authenticationFilter.setFilterProcessesUrl(&quot;/authenticate&quot;);\n        http.cors().and().csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/swagger-ui.html&quot;,\n                        &quot;/swagger-ui/**&quot;,\n                        &quot;/swagger-resources/**&quot;,\n                        &quot;/swagger-resources&quot;,\n                        &quot;/v3/api-docs/**&quot;,\n                        &quot;/proxy/**&quot;,\n                        &quot;/swagger-ui.html&quot;).permitAll()\n                .requestMatchers(HttpMethod.POST, &quot;/user/register&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .addFilter(authenticationFilter)\n                .addFilterAfter(new JWTAuthorizationFilter(), AuthenticationFilter.class);\n        return http.build();\n    }\n</code></pre>\n<p>as well as adding WebSecurityCustomizer bean with web.ignore()</p>\n<pre><code>    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/v3/api-docs/**&quot;,&quot;/proxy/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/v3/api-docs/**&quot;);\n    }\n</code></pre>\n"},{"tags":["python","java","ray"],"answers":[{"tags":[],"owner":{"account_id":8849033,"reputation":21,"user_id":6608943,"display_name":"jovany-wang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674653535,"creation_date":1674653535,"answer_id":75234748,"question_id":75211015,"body_markdown":"`io.ray.api.exception.RayActorException` indicates that the target Python actor was dead.\r\n\r\nYou can find the logs of the target Python actor to see the death cause. By default, the target Python actor logs are in:  \r\n`/tmp/ray/session_latest/logs/python-core-worker-xxxx`  \r\n`/tmp/ray/session_latest/logs/python-worker-xxxxx.out`  \r\n`/tmp/ray/session_latest/logs/python-worker-xxxxx.log`  \r\n  \r\n  ","title":"Cross-Language Ray framework: io.ray.api.exception.RayActorException: The actor &lt;id&gt; died unexpectedly before finishing this task","body":"<p><code>io.ray.api.exception.RayActorException</code> indicates that the target Python actor was dead.</p>\n<p>You can find the logs of the target Python actor to see the death cause. By default, the target Python actor logs are in:<br />\n<code>/tmp/ray/session_latest/logs/python-core-worker-xxxx</code><br />\n<code>/tmp/ray/session_latest/logs/python-worker-xxxxx.out</code><br />\n<code>/tmp/ray/session_latest/logs/python-worker-xxxxx.log</code></p>\n"},{"tags":[],"owner":{"account_id":2546655,"reputation":81,"user_id":2211330,"accept_rate":40,"display_name":"soodankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679297763,"creation_date":1679297763,"answer_id":75787590,"question_id":75211015,"body_markdown":"The response from Ray&#39;s Git page:\r\n\r\nhttps://github.com/ray-project/ray/issues/31857","title":"Cross-Language Ray framework: io.ray.api.exception.RayActorException: The actor &lt;id&gt; died unexpectedly before finishing this task","body":"<p>The response from Ray's Git page:</p>\n<p><a href=\"https://github.com/ray-project/ray/issues/31857\" rel=\"nofollow noreferrer\">https://github.com/ray-project/ray/issues/31857</a></p>\n"}],"owner":{"account_id":2546655,"reputation":81,"user_id":2211330,"accept_rate":40,"display_name":"soodankit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679297763,"creation_date":1674484650,"question_id":75211015,"body_markdown":"I am trying to invoke a python remote function from Java, using the exact same code as mentioned here:\r\nhttps://docs.ray.io/en/latest/ray-core/cross-language.html#java-calling-python\r\n\r\nI got this error:\r\n```\r\nroot@&lt;user&gt;-ubuntu:/dev/Ray_Java/target# java -jar Ray_Java-1.0-SNAPSHOT-jar-with-dependencies.jar\r\n2023-01-23 11:00:10,206 INFO RunManager [main]: Ray runtime started @&lt;ip&gt; .\r\nio.ray.api.exception.RayActorException: The actor &lt;id&gt; died unexpectedly before finishing this task.\r\nat io.ray.runtime.object.ObjectSerializer.deserializeActorException(ObjectSerializer.java:257)\r\nat io.ray.runtime.object.ObjectSerializer.deserialize(ObjectSerializer.java:104)\r\nat io.ray.runtime.object.ObjectStore.get(ObjectStore.java:140)\r\nat io.ray.runtime.AbstractRayRuntime.get(AbstractRayRuntime.java:144)\r\nat io.ray.runtime.AbstractRayRuntime.get(AbstractRayRuntime.java:125)\r\nat io.ray.runtime.AbstractRayRuntime.get(AbstractRayRuntime.java:120)\r\nat io.ray.api.Ray.get(Ray.java:98)\r\nat io.ray.runtime.object.ObjectRefImpl.get(ObjectRefImpl.java:77)\r\nat demo.JavaCallPythonDemo.main(JavaCallPythonDemo.java:26)\r\n```\r\n\r\n**JavaCallPythonDemo.java:26 is :\r\nAssert.assertEquals(objRef1.get(), 1);**\r\n\r\nVersions / Dependencies:\r\n\r\nOS: Ubuntu 20.04 [LTS],\r\nPython: 3.8.10,\r\nJava: OpenJDK 11.0.17,\r\nRay: 2.2,\r\nApache Maven: 3.6.3\r\n\r\n\r\nI have overwritten ray.conf file and specified run-mode as &#39;CLUSTER&#39;, and am running it in a single node cluster\r\nI am using this in a stand-alone maven project and have specified ray-api and ray-runtime dependencies in pom.xml.\r\nI have included maven-assembly plugin and am creating jar of this project using &#39;mvn install&#39; and then later running this jar (having specified JavaCallPythonDemo.java as the main class).\r\n\r\nI was able to initialize Ray from Java and run the jar generated by maven successfully. Here&#39;s a code for the same:\r\n\r\n```\r\npackage demo;\r\n\r\nimport io.ray.api.Ray;\r\n\r\npublic class RayInit {\r\npublic static void main(String args[]) {\r\nRay.init();\r\nSystem.out.println(&quot;is ray initialized: &quot;+Ray.isInitialized());\r\nRay.shutdown();\r\n}\r\n}\r\n```","title":"Cross-Language Ray framework: io.ray.api.exception.RayActorException: The actor &lt;id&gt; died unexpectedly before finishing this task","body":"<p>I am trying to invoke a python remote function from Java, using the exact same code as mentioned here:\n<a href=\"https://docs.ray.io/en/latest/ray-core/cross-language.html#java-calling-python\" rel=\"nofollow noreferrer\">https://docs.ray.io/en/latest/ray-core/cross-language.html#java-calling-python</a></p>\n<p>I got this error:</p>\n<pre><code>root@&lt;user&gt;-ubuntu:/dev/Ray_Java/target# java -jar Ray_Java-1.0-SNAPSHOT-jar-with-dependencies.jar\n2023-01-23 11:00:10,206 INFO RunManager [main]: Ray runtime started @&lt;ip&gt; .\nio.ray.api.exception.RayActorException: The actor &lt;id&gt; died unexpectedly before finishing this task.\nat io.ray.runtime.object.ObjectSerializer.deserializeActorException(ObjectSerializer.java:257)\nat io.ray.runtime.object.ObjectSerializer.deserialize(ObjectSerializer.java:104)\nat io.ray.runtime.object.ObjectStore.get(ObjectStore.java:140)\nat io.ray.runtime.AbstractRayRuntime.get(AbstractRayRuntime.java:144)\nat io.ray.runtime.AbstractRayRuntime.get(AbstractRayRuntime.java:125)\nat io.ray.runtime.AbstractRayRuntime.get(AbstractRayRuntime.java:120)\nat io.ray.api.Ray.get(Ray.java:98)\nat io.ray.runtime.object.ObjectRefImpl.get(ObjectRefImpl.java:77)\nat demo.JavaCallPythonDemo.main(JavaCallPythonDemo.java:26)\n</code></pre>\n<p><strong>JavaCallPythonDemo.java:26 is :\nAssert.assertEquals(objRef1.get(), 1);</strong></p>\n<p>Versions / Dependencies:</p>\n<p>OS: Ubuntu 20.04 [LTS],\nPython: 3.8.10,\nJava: OpenJDK 11.0.17,\nRay: 2.2,\nApache Maven: 3.6.3</p>\n<p>I have overwritten ray.conf file and specified run-mode as 'CLUSTER', and am running it in a single node cluster\nI am using this in a stand-alone maven project and have specified ray-api and ray-runtime dependencies in pom.xml.\nI have included maven-assembly plugin and am creating jar of this project using 'mvn install' and then later running this jar (having specified JavaCallPythonDemo.java as the main class).</p>\n<p>I was able to initialize Ray from Java and run the jar generated by maven successfully. Here's a code for the same:</p>\n<pre><code>package demo;\n\nimport io.ray.api.Ray;\n\npublic class RayInit {\npublic static void main(String args[]) {\nRay.init();\nSystem.out.println(&quot;is ray initialized: &quot;+Ray.isInitialized());\nRay.shutdown();\n}\n}\n</code></pre>\n"},{"tags":["java","angular","progressive-web-apps","http-status-code-302","web-manifest"],"owner":{"account_id":13381573,"reputation":1,"user_id":9656668,"display_name":"Renjith Kr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679297011,"creation_date":1679297011,"question_id":75787488,"body_markdown":"I am add pwa to a existing angular application. and it is working perfectly in my local machine. But showing errors in production. [enter image description here](https://i.stack.imgur.com/aLMtE.png)\r\nin console\r\n[enter image description here](https://i.stack.imgur.com/EZsNm.png)\r\n\r\nmy rewrite config \r\n[enter image description here](https://i.stack.imgur.com/6TsPs.png)\r\n\r\nmy context.xml\r\n[enter image description here](https://i.stack.imgur.com/Dlkgr.png)\r\n\r\n\r\n\r\nI added webmanifest to rewrite pattern but does not worked.","title":"Angular pwa showing Manifest: Line: 1, column: 1, Syntax error. in production","body":"<p>I am add pwa to a existing angular application. and it is working perfectly in my local machine. But showing errors in production. <a href=\"https://i.stack.imgur.com/aLMtE.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nin console\n<a href=\"https://i.stack.imgur.com/EZsNm.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>my rewrite config\n<a href=\"https://i.stack.imgur.com/6TsPs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>my context.xml\n<a href=\"https://i.stack.imgur.com/Dlkgr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I added webmanifest to rewrite pattern but does not worked.</p>\n"},{"tags":["java","android","file-rename","mediastore","android-10.0"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1598365055,"post_id":63543414,"comment_id":112431148,"body_markdown":"Meanwhile you could read: https://stackoverflow.com/questions/55314476/how-to-rename-a-file-in-android-knowing-only-its-media-content-uri","body":"Meanwhile you could read: <a href=\"https://stackoverflow.com/questions/55314476/how-to-rename-a-file-in-android-knowing-only-its-media-content-uri\" title=\"how to rename a file in android knowing only its media content uri\">stackoverflow.com/questions/55314476/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1598451504,"creation_date":1598451504,"answer_id":63599651,"question_id":63543414,"body_markdown":"&gt;&gt;  java.lang.IllegalArgumentException: Movement of content://media/external/file/116 which isn&#39;t part of well-defined collection not allowed\r\n\r\nSo it is for Android Q not allowed if you use the collection;\r\n\r\n    Uri extUri = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n\r\nBut is is allowed for a &#39;well-defined collection&#39; like:\r\n\r\n    Uri extUri = MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n    // Use  &quot;Pictures/MyFolder&quot; for RELATIVE_PATH\r\n\r\nI leave it to you to find other well-defined collections.\r\n\r\nWhy this is only for Android Q i dont know.\r\n\r\nYou can see the message in the java file: https://android.googlesource.com/platform/packages/providers/MediaProvider/+/refs/heads/master/src/com/android/providers/media/MediaProvider.java\r\n\r\nQuote: \r\n\r\n         // We only support movement under well-defined collections\r\n            switch (match) {\r\n                case AUDIO_MEDIA_ID:\r\n                case VIDEO_MEDIA_ID:\r\n                case IMAGES_MEDIA_ID:\r\n                case DOWNLOADS_ID:\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Movement of &quot; + uri\r\n                            + &quot; which isn&#39;t part of well-defined collection not allowed&quot;);\r\n            }\r\n\r\n\r\nIf the rename fails use SAF (as mentioned before). https://stackoverflow.com/questions/55314476/how-to-rename-a-file-in-android-knowing-only-its-media-content-uri\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n ","title":"Rename file of the Mediastore which is created by app in android 10. Working on Android API 30 but shows error in API 29","body":"<blockquote>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Movement of content://media/external/file/116 which isn't part of well-defined collection not allowed</p>\n</blockquote>\n</blockquote>\n<p>So it is for Android Q not allowed if you use the collection;</p>\n<pre><code>Uri extUri = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\n</code></pre>\n<p>But is is allowed for a 'well-defined collection' like:</p>\n<pre><code>Uri extUri = MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\n// Use  &quot;Pictures/MyFolder&quot; for RELATIVE_PATH\n</code></pre>\n<p>I leave it to you to find other well-defined collections.</p>\n<p>Why this is only for Android Q i dont know.</p>\n<p>You can see the message in the java file: <a href=\"https://android.googlesource.com/platform/packages/providers/MediaProvider/+/refs/heads/master/src/com/android/providers/media/MediaProvider.java\" rel=\"noreferrer\">https://android.googlesource.com/platform/packages/providers/MediaProvider/+/refs/heads/master/src/com/android/providers/media/MediaProvider.java</a></p>\n<p>Quote:</p>\n<pre><code>     // We only support movement under well-defined collections\n        switch (match) {\n            case AUDIO_MEDIA_ID:\n            case VIDEO_MEDIA_ID:\n            case IMAGES_MEDIA_ID:\n            case DOWNLOADS_ID:\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Movement of &quot; + uri\n                        + &quot; which isn't part of well-defined collection not allowed&quot;);\n        }\n</code></pre>\n<p>If the rename fails use SAF (as mentioned before). <a href=\"https://stackoverflow.com/questions/55314476/how-to-rename-a-file-in-android-knowing-only-its-media-content-uri\">How to rename a file in Android knowing only its media content Uri</a></p>\n"},{"tags":[],"owner":{"account_id":23967036,"reputation":1,"user_id":17956376,"display_name":"jleib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642433626,"creation_date":1642432344,"answer_id":70743564,"question_id":63543414,"body_markdown":"I had to face the rename problem myself (Android 29) and the solution above did not suffice.\r\n\r\nThis was because I had a physical SD card on which were located the\r\nfiles I wanted to rename.\r\n\r\nThen, instruction:\r\n\r\n    extUri = MediaStore.Audio.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n\r\n did not work; instead,I had to:\r\n1. list the &quot;external volumes&quot;(according to Android terms)\r\n\r\n       Set&lt;String&gt; lVls = MediaStore.getExternalVolumeNames(this);\r\n\r\n   ..which gave me 2 volumes:\r\n \r\n       &quot;external_primary&quot;    (the built-in external storage)\r\n       &quot;bc21-eafa&quot;           (the SD card external storage)\r\n2. Initialize &#39;extUri&#39; with that second value, like that:\r\n\r\n       extUri = MediaStore.Audio.Media.getContentUri(&quot;bc21-eafa&quot;);\r\n\r\n\r\n3. Apply the rest of the procedure as described in this article.\r\nThanks to all !","title":"Rename file of the Mediastore which is created by app in android 10. Working on Android API 30 but shows error in API 29","body":"<p>I had to face the rename problem myself (Android 29) and the solution above did not suffice.</p>\n<p>This was because I had a physical SD card on which were located the\nfiles I wanted to rename.</p>\n<p>Then, instruction:</p>\n<pre><code>extUri = MediaStore.Audio.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\n</code></pre>\n<p>did not work; instead,I had to:</p>\n<ol>\n<li><p>list the &quot;external volumes&quot;(according to Android terms)</p>\n<pre><code>Set&lt;String&gt; lVls = MediaStore.getExternalVolumeNames(this);\n</code></pre>\n<p>..which gave me 2 volumes:</p>\n<pre><code>&quot;external_primary&quot;    (the built-in external storage)\n&quot;bc21-eafa&quot;           (the SD card external storage)\n</code></pre>\n</li>\n<li><p>Initialize 'extUri' with that second value, like that:</p>\n<pre><code>extUri = MediaStore.Audio.Media.getContentUri(&quot;bc21-eafa&quot;);\n</code></pre>\n</li>\n<li><p>Apply the rest of the procedure as described in this article.\nThanks to all !</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14209898,"reputation":11,"user_id":10265442,"display_name":"jason lin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679296997,"creation_date":1679296997,"answer_id":75787484,"question_id":63543414,"body_markdown":"I think it&#39;s a system bug in Android 10 mediaprovider.\r\nIn android 10,it is like this\r\n\r\n           // We only support movement under well-defined collections\r\n            switch (match) {\r\n                case AUDIO_MEDIA_ID:\r\n                case VIDEO_MEDIA_ID:\r\n                case IMAGES_MEDIA_ID:\r\n                case DOWNLOADS_ID:\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Movement of &quot; + uri\r\n                            + &quot; which isn&#39;t part of well-defined collection not allowed&quot;);\r\n            }\r\n\r\nin Android 11,it is like this\r\n\r\n            final boolean allowMovement = extras.getBoolean(MediaStore.QUERY_ARG_ALLOW_MOVEMENT,\r\n                !isCallingPackageSelf());\r\n        if (containsAny(initialValues.keySet(), sPlacementColumns)\r\n                &amp;&amp; !initialValues.containsKey(MediaColumns.DATA)\r\n                &amp;&amp; !isThumbnail\r\n                &amp;&amp; allowMovement) {\r\n            Trace.beginSection(&quot;movement&quot;);\r\n            // We only support movement under well-defined collections\r\n            switch (match) {\r\n                case AUDIO_MEDIA_ID:\r\n                case AUDIO_PLAYLISTS_ID:\r\n                case VIDEO_MEDIA_ID:\r\n                case IMAGES_MEDIA_ID:\r\n                case DOWNLOADS_ID:\r\n                case FILES_ID:\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Movement of &quot; + uri\r\n                            + &quot; which isn&#39;t part of well-defined collection not allowed&quot;);\r\n            }","title":"Rename file of the Mediastore which is created by app in android 10. Working on Android API 30 but shows error in API 29","body":"<p>I think it's a system bug in Android 10 mediaprovider.\nIn android 10,it is like this</p>\n<pre><code>       // We only support movement under well-defined collections\n        switch (match) {\n            case AUDIO_MEDIA_ID:\n            case VIDEO_MEDIA_ID:\n            case IMAGES_MEDIA_ID:\n            case DOWNLOADS_ID:\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Movement of &quot; + uri\n                        + &quot; which isn't part of well-defined collection not allowed&quot;);\n        }\n</code></pre>\n<p>in Android 11,it is like this</p>\n<pre><code>        final boolean allowMovement = extras.getBoolean(MediaStore.QUERY_ARG_ALLOW_MOVEMENT,\n            !isCallingPackageSelf());\n    if (containsAny(initialValues.keySet(), sPlacementColumns)\n            &amp;&amp; !initialValues.containsKey(MediaColumns.DATA)\n            &amp;&amp; !isThumbnail\n            &amp;&amp; allowMovement) {\n        Trace.beginSection(&quot;movement&quot;);\n        // We only support movement under well-defined collections\n        switch (match) {\n            case AUDIO_MEDIA_ID:\n            case AUDIO_PLAYLISTS_ID:\n            case VIDEO_MEDIA_ID:\n            case IMAGES_MEDIA_ID:\n            case DOWNLOADS_ID:\n            case FILES_ID:\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Movement of &quot; + uri\n                        + &quot; which isn't part of well-defined collection not allowed&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":5843095,"reputation":6649,"user_id":4603998,"accept_rate":7,"display_name":"jazzbpn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6023,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63599651,"answer_count":3,"score":6,"last_activity_date":1679296997,"creation_date":1598157130,"question_id":63543414,"body_markdown":"Here, this renameFile(..) func is working in Android API 30. But, it is not working in Android API 29 and shows the error like : \r\n\r\n*java.lang.IllegalArgumentException: Movement of content://media/external/file/116 which isn&#39;t part of well-defined collection not allowed*\r\n\r\n**Update-Note:** \r\n\r\n**---Begins---** \r\n\r\n**In-order to work with sdk-29 we have to use Uri as extUri  = MediaStore.Downloads.getContentUri(MediaStore.VOLUME_EXTERNAL) like:**\r\n\r\n    private static Uri extUri = MediaStore.Downloads.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n\r\nin place of below code. And also update **MediaStore.Files.FileColumns** to **MediaStore.Downloads**\r\n\r\n**---Ends---**\r\n\r\n    Uri extUri = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n    String relativeLocation = Environment.DIRECTORY_DOWNLOADS + File.separator + &quot;AppFolder&quot;;\r\n\r\n**function renameFile(...)**\r\n\r\n    boolean renameFile(Context context, String newName, String displayName) {\r\n\r\n        try {\r\n            Long id = getIdFromDisplayName(displayName);\r\n            ContentResolver contentResolver = context.getContentResolver();\r\n            Uri mUri = ContentUris.withAppendedId(extUri, id);\r\n            ContentValues contentValues = new ContentValues();\r\n\r\n            contentValues.put(MediaStore.Files.FileColumns.IS_PENDING, 1);\r\n            contentResolver.update(mUri, contentValues, null, null);\r\n\r\n            contentValues.clear();\r\n            contentValues.put(MediaStore.Files.FileColumns.DISPLAY_NAME, newName);\r\n            // contentValues.put(MediaStore.Files.FileColumns.MIME_TYPE, &quot;files/pdf&quot;);\r\n            // contentValues.put(MediaStore.Files.FileColumns.RELATIVE_PATH, relativeLocation);\r\n            // contentValues.put(MediaStore.Files.FileColumns.TITLE, &quot;SomeName&quot;);\r\n            // contentValues.put(MediaStore.Files.FileColumns.DATE_ADDED, System.currentTimeMillis() / 1000);\r\n            // contentValues.put(MediaStore.Files.FileColumns.DATE_TAKEN, System.currentTimeMillis());\r\n            contentValues.put(MediaStore.Files.FileColumns.IS_PENDING, 0);\r\n            contentResolver.update(mUri, contentValues, null, null);\r\n            return true;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n**function getIdFromDisplayName(...)**\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.Q)\r\n    Long getIdFromDisplayName(String displayName) {\r\n        String[] projection;\r\n        projection = new String[]{MediaStore.Files.FileColumns._ID};\r\n\r\n        // TODO This will break if we have no matching item in the MediaStore.\r\n        Cursor cursor = getContentResolver().query(extUri, projection,\r\n                MediaStore.Files.FileColumns.DISPLAY_NAME + &quot; LIKE ?&quot;, new String[]{displayName}, null);\r\n        assert cursor != null;\r\n        cursor.moveToFirst();\r\n\r\n        if (cursor.getCount() &gt; 0) {\r\n            int columnIndex = cursor.getColumnIndex(projection[0]);\r\n            long fileId = cursor.getLong(columnIndex);\r\n\r\n            cursor.close();\r\n            return fileId;\r\n        }\r\n        return null;\r\n    }\r\n\r\n","title":"Rename file of the Mediastore which is created by app in android 10. Working on Android API 30 but shows error in API 29","body":"<p>Here, this renameFile(..) func is working in Android API 30. But, it is not working in Android API 29 and shows the error like :</p>\n<p><em>java.lang.IllegalArgumentException: Movement of content://media/external/file/116 which isn't part of well-defined collection not allowed</em></p>\n<p><strong>Update-Note:</strong></p>\n<p><strong>---Begins---</strong></p>\n<p><strong>In-order to work with sdk-29 we have to use Uri as extUri  = MediaStore.Downloads.getContentUri(MediaStore.VOLUME_EXTERNAL) like:</strong></p>\n<pre><code>private static Uri extUri = MediaStore.Downloads.getContentUri(MediaStore.VOLUME_EXTERNAL);\n</code></pre>\n<p>in place of below code. And also update <strong>MediaStore.Files.FileColumns</strong> to <strong>MediaStore.Downloads</strong></p>\n<p><strong>---Ends---</strong></p>\n<pre><code>Uri extUri = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\nString relativeLocation = Environment.DIRECTORY_DOWNLOADS + File.separator + &quot;AppFolder&quot;;\n</code></pre>\n<p><strong>function renameFile(...)</strong></p>\n<pre><code>boolean renameFile(Context context, String newName, String displayName) {\n\n    try {\n        Long id = getIdFromDisplayName(displayName);\n        ContentResolver contentResolver = context.getContentResolver();\n        Uri mUri = ContentUris.withAppendedId(extUri, id);\n        ContentValues contentValues = new ContentValues();\n\n        contentValues.put(MediaStore.Files.FileColumns.IS_PENDING, 1);\n        contentResolver.update(mUri, contentValues, null, null);\n\n        contentValues.clear();\n        contentValues.put(MediaStore.Files.FileColumns.DISPLAY_NAME, newName);\n        // contentValues.put(MediaStore.Files.FileColumns.MIME_TYPE, &quot;files/pdf&quot;);\n        // contentValues.put(MediaStore.Files.FileColumns.RELATIVE_PATH, relativeLocation);\n        // contentValues.put(MediaStore.Files.FileColumns.TITLE, &quot;SomeName&quot;);\n        // contentValues.put(MediaStore.Files.FileColumns.DATE_ADDED, System.currentTimeMillis() / 1000);\n        // contentValues.put(MediaStore.Files.FileColumns.DATE_TAKEN, System.currentTimeMillis());\n        contentValues.put(MediaStore.Files.FileColumns.IS_PENDING, 0);\n        contentResolver.update(mUri, contentValues, null, null);\n        return true;\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n<p><strong>function getIdFromDisplayName(...)</strong></p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.Q)\nLong getIdFromDisplayName(String displayName) {\n    String[] projection;\n    projection = new String[]{MediaStore.Files.FileColumns._ID};\n\n    // TODO This will break if we have no matching item in the MediaStore.\n    Cursor cursor = getContentResolver().query(extUri, projection,\n            MediaStore.Files.FileColumns.DISPLAY_NAME + &quot; LIKE ?&quot;, new String[]{displayName}, null);\n    assert cursor != null;\n    cursor.moveToFirst();\n\n    if (cursor.getCount() &gt; 0) {\n        int columnIndex = cursor.getColumnIndex(projection[0]);\n        long fileId = cursor.getLong(columnIndex);\n\n        cursor.close();\n        return fileId;\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","eclipse","macos","javafx","controlsfx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1678963663,"post_id":75753357,"comment_id":133636296,"body_markdown":"`requires` expects a module name, not a class name.","body":"<code>requires</code> expects a module name, not a class name."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1678988137,"post_id":75753357,"comment_id":133644006,"body_markdown":"Also `Noticifactions` is not even a correct class name.","body":"Also <code>Noticifactions</code> is not even a correct class name."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1678993223,"post_id":75753357,"comment_id":133645481,"body_markdown":"Note if your code is modular then you do not need `--add-modules`. Just make sure your code is launched as a module (i.e., via `--module`).","body":"Note if your code is modular then you do not need <code>--add-modules</code>. Just make sure your code is launched as a module (i.e., via <code>--module</code>)."},{"owner":{"account_id":13692161,"reputation":11,"user_id":9879684,"display_name":"Markyfor"},"score":0,"creation_date":1679020057,"post_id":75753357,"comment_id":133650062,"body_markdown":"I&#39;m effectively just trying to get access to the controlsfx library which does not contain a jar file to add in eclipse so I&#39;ve added the dependancy to my pom.xml file which is still not working.    Notifications class is just part of the controlsfx library I feel like there is something simple I&#39;m missing here","body":"I&#39;m effectively just trying to get access to the controlsfx library which does not contain a jar file to add in eclipse so I&#39;ve added the dependancy to my pom.xml file which is still not working.    Notifications class is just part of the controlsfx library I feel like there is something simple I&#39;m missing here"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679366190,"post_id":75753357,"comment_id":133705275,"body_markdown":"As noted, `requires` expects the module name, which is `org.controlsfx.controls`. Also note that if you&#39;re trying to use ControlsFX with JavaFX 9+, and assuming you keep JavaFX on the module-path as recommended, then check out [Using ControlsFX with JDK 9 and above](https://github.com/controlsfx/controlsfx/wiki/Using-ControlsFX-with-JDK-9-and-above). And finally, if you&#39;re using Maven as indicated by your comment, then you should not be downloading JARs manually; just add [the Maven coordinates for ControlsFX](https://central.sonatype.com/artifact/org.controlsfx/controlsfx/11.1.2) to your POM.","body":"As noted, <code>requires</code> expects the module name, which is <code>org.controlsfx.controls</code>. Also note that if you&#39;re trying to use ControlsFX with JavaFX 9+, and assuming you keep JavaFX on the module-path as recommended, then check out <a href=\"https://github.com/controlsfx/controlsfx/wiki/Using-ControlsFX-with-JDK-9-and-above\" rel=\"nofollow noreferrer\">Using ControlsFX with JDK 9 and above</a>. And finally, if you&#39;re using Maven as indicated by your comment, then you should not be downloading JARs manually; just add <a href=\"https://central.sonatype.com/artifact/org.controlsfx/controlsfx/11.1.2\" rel=\"nofollow noreferrer\">the Maven coordinates for ControlsFX</a> to your POM."}],"answers":[{"tags":[],"owner":{"account_id":13692161,"reputation":11,"user_id":9879684,"display_name":"Markyfor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679296114,"creation_date":1679296114,"answer_id":75787386,"question_id":75753357,"body_markdown":"I found a site which packages the controlsfx package into a Jar file which worked\r\n\r\nhttps://jar-download.com/artifacts/org.controlsfx/controlsfx/11.1.0/source-code","title":"I&#39;m getting an error once importing JavaFX in eclipse on Mac specifically with one import which is &#39;org.controlsfx.control.Noticifactions&#39;","body":"<p>I found a site which packages the controlsfx package into a Jar file which worked</p>\n<p><a href=\"https://jar-download.com/artifacts/org.controlsfx/controlsfx/11.1.0/source-code\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.controlsfx/controlsfx/11.1.0/source-code</a></p>\n"}],"owner":{"account_id":13692161,"reputation":11,"user_id":9879684,"display_name":"Markyfor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75787386,"answer_count":1,"score":0,"last_activity_date":1679296114,"creation_date":1678952909,"question_id":75753357,"body_markdown":"I&#39;m getting an error once importing JavaFX in eclipse on Mac specifically with one import which is &#39;org.controlsfx.control.Noticifactions&#39; what I&#39;ve tried is to add and delete and re add the javafx sdk it is currently sitting under module path in configure build path and I&#39;ve also tried to add it to the Class path which causes more errors\r\n\r\nmodule-info.java is where the error is the code is\r\n\r\n    module loanBidda {\r\n\trequires org.controlsfx.control.Notifications;\r\n\trequires java.desktop;\r\n\trequires javafx.controls;\r\n        requires javafx.fxml;\r\n\trequires javafx.graphics;\r\n     }\r\n\r\nthe specific error is &#39;org.controlsfx.control.Notifications cannot be resolved to a module&#39;\r\n\r\nTried re-installing both SDK&#39;s, updated java, updated eclipse, refreshed and cleaned project tried starting a new project with a fresh install, both versions of the javafx and JRE are the same\r\n\r\nDefault VM arguments are as follows: --module-path /Applications/javafx-sdk-19.0.2.1/lib --add-modules=javafx.controls,javafx.fxml Main.java","title":"I&#39;m getting an error once importing JavaFX in eclipse on Mac specifically with one import which is &#39;org.controlsfx.control.Noticifactions&#39;","body":"<p>I'm getting an error once importing JavaFX in eclipse on Mac specifically with one import which is 'org.controlsfx.control.Noticifactions' what I've tried is to add and delete and re add the javafx sdk it is currently sitting under module path in configure build path and I've also tried to add it to the Class path which causes more errors</p>\n<p>module-info.java is where the error is the code is</p>\n<pre><code>module loanBidda {\nrequires org.controlsfx.control.Notifications;\nrequires java.desktop;\nrequires javafx.controls;\n    requires javafx.fxml;\nrequires javafx.graphics;\n }\n</code></pre>\n<p>the specific error is 'org.controlsfx.control.Notifications cannot be resolved to a module'</p>\n<p>Tried re-installing both SDK's, updated java, updated eclipse, refreshed and cleaned project tried starting a new project with a fresh install, both versions of the javafx and JRE are the same</p>\n<p>Default VM arguments are as follows: --module-path /Applications/javafx-sdk-19.0.2.1/lib --add-modules=javafx.controls,javafx.fxml Main.java</p>\n"},{"tags":["java","encoding","character-encoding","ascii","rc4-cipher"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1679262267,"post_id":75785024,"comment_id":133685412,"body_markdown":"Reading your question again, I&#39;m not sure my above comment is actually relevant. You may simply be running into an issue with non-printable characters. Try encrypting and decrypting the text in the same code without going through output/input (does it still break?). The encrypted text is going to have some hairy characters in it and they are possibly getting broken if you print/input them back.","body":"Reading your question again, I&#39;m not sure my above comment is actually relevant. You may simply be running into an issue with non-printable characters. Try encrypting and decrypting the text in the same code without going through output/input (does it still break?). The encrypted text is going to have some hairy characters in it and they are possibly getting broken if you print/input them back."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1679262619,"post_id":75785024,"comment_id":133685456,"body_markdown":"If that is the problem, maybe it would be best to run the encrypted text through [base64](https://www.baeldung.com/java-base64-encode-and-decode) or output it as hex.","body":"If that is the problem, maybe it would be best to run the encrypted text through <a href=\"https://www.baeldung.com/java-base64-encode-and-decode\" rel=\"nofollow noreferrer\">base64</a> or output it as hex."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679264551,"post_id":75785024,"comment_id":133685710,"body_markdown":"Basically, yes, after you XOR a printable character with some random value you can expect rubbish.  There are test vectors on the Wiki page for RC4.  You should test against those, and print your output as decimal or hexidecimal numbers.","body":"Basically, yes, after you XOR a printable character with some random value you can expect rubbish.  There are test vectors on the Wiki page for RC4.  You should test against those, and print your output as decimal or hexidecimal numbers."},{"owner":{"account_id":26729869,"reputation":1,"user_id":20332422,"display_name":"Marie"},"score":0,"creation_date":1679268379,"post_id":75785024,"comment_id":133686181,"body_markdown":"@teapot418 When you say output using hex, does it means I should convert the ruslt from byte to hex rather than byte to String?","body":"@teapot418 When you say output using hex, does it means I should convert the ruslt from byte to hex rather than byte to String?"},{"owner":{"account_id":26729869,"reputation":1,"user_id":20332422,"display_name":"Marie"},"score":0,"creation_date":1679268485,"post_id":75785024,"comment_id":133686192,"body_markdown":"@markspace So basically, I should convert my returned byte array from byte to hex?","body":"@markspace So basically, I should convert my returned byte array from byte to hex?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1679268586,"post_id":75785024,"comment_id":133686200,"body_markdown":"You would go from bytes to a string that has two characters (0-9a-f) per byte. Display the ciphertext like that. And when reading ciphertext, convert back from hex string to bytes.","body":"You would go from bytes to a string that has two characters (0-9a-f) per byte. Display the ciphertext like that. And when reading ciphertext, convert back from hex string to bytes."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1679268723,"post_id":75785024,"comment_id":133686208,"body_markdown":"https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java &lt;- I&#39;m sure this is already implemented somewhere, just pick one you like","body":"<a href=\"https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java\" title=\"convert a string representation of a hex dump to a byte array using java\">stackoverflow.com/questions/140131/&hellip;</a> &lt;- I&#39;m sure this is already implemented somewhere, just pick one you like"},{"owner":{"account_id":26729869,"reputation":1,"user_id":20332422,"display_name":"Marie"},"score":0,"creation_date":1679271123,"post_id":75785024,"comment_id":133686440,"body_markdown":"@teapot418 That helped me. I kept everything as it is but after retrieving the byte array that returned, I converted it to an hexadecimal value that was then set as a string and display. And for decryption, I converted my string into hexadecimal value, before converting it again to a byte array and doing everything else as it is. Thank you very much!!","body":"@teapot418 That helped me. I kept everything as it is but after retrieving the byte array that returned, I converted it to an hexadecimal value that was then set as a string and display. And for decryption, I converted my string into hexadecimal value, before converting it again to a byte array and doing everything else as it is. Thank you very much!!"}],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679296021,"creation_date":1679296021,"answer_id":75787381,"question_id":75785024,"body_markdown":"Diagnosed in comments. The main problem is that the ciphertext contains hairy unprintable characters that break when copy&amp;pasted.\r\n\r\nRecommeded solution: display ciphertext in hexadecimal instead.","title":"Problems with encoding in RC4 Algorithm","body":"<p>Diagnosed in comments. The main problem is that the ciphertext contains hairy unprintable characters that break when copy&amp;pasted.</p>\n<p>Recommeded solution: display ciphertext in hexadecimal instead.</p>\n"}],"owner":{"account_id":26729869,"reputation":1,"user_id":20332422,"display_name":"Marie"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679296021,"creation_date":1679261274,"question_id":75785024,"body_markdown":"I have to make a small demonstration about encrypting text using the RC4 Algorithm. To do so, I chose to use Java in NetBeans.\r\n\r\nMy code uses byte arrays for the permutation and the XOR operation. But the input and the output are to be in String. \r\n\r\n1. Almost all of my outputs, for encryption looks like this: &quot;&#175;[&#225;&quot; . Is it normal? Using this however, i can still find the plain text, which in this case is &quot;though&quot;.\r\n2. let&#39;s say I am trying to encrypt the word &quot;stack&quot;. The result I would sometimes get would be of form: &quot;&#175;[??&#244;&quot; and then while trying to decrypt, I will get: &quot;s??ck&quot; or &quot;st&#196;ck&quot;. This especially happens if my key and the origin plain text is in french (which sucks since it&#39;s the language I a making the presentation in).\r\n\r\nI tried changing the encoding character, from UTF-8, to ISO-8859-1 to ASCII. I have had the best results with ASCII.\r\nIt gives me less question marks, but is sometimes changes the characters.\r\n\r\n1. This is an example of strange character returns\r\n   * [This is an example of strange character returns](https://i.stack.imgur.com/oX1fh.png)\r\n   * [But just like I said, you can get the text back](https://i.stack.imgur.com/o64tF.png)\r\n2. Same code. Just changed the print sentences in french, and used french words for encryption, but there is a question mark\r\n   * [Same code. Just changed the print sentences in french, and used french words for encryption, but there is a question mark](https://i.stack.imgur.com/fbxpJ.png)\r\n   * [We went from &quot;saisir&quot; to &quot;sai&#206;ir&quot; ](https://i.stack.imgur.com/cpHAr.png)\r\n\r\n**My RC4 class code** *for encrypting and decrypting text* \r\n\r\n\r\n\r\n```\r\npublic class RC4 \r\n{\r\n    private int[] S =new int[256];\r\n    private int[] T =new int[256];\r\n    private int keylen;\r\n    \r\n    public RC4(byte[] key)\r\n    {\r\n        if (key.length &lt; 1 || key.length &gt; 256) {\r\n            throw new IllegalArgumentException(&quot;La cl&#233; doit avoir entre 1 et 256 bytes&quot;);\r\n        }\r\n        else\r\n        {\r\n            keylen = key.length;\r\n            for (int i = 0; i &lt; 256; i++) //initialisation de S et T \r\n            {\r\n                S[i] = i;\r\n                T[i] = (int)key[i % keylen];\r\n            }\r\n            int j = 0;\r\n            for (int i = 0; i &lt; 256; i++) //Premiere permutation de S qui utilise la cl&#233;\r\n            {\r\n                j = (j + S[i] + T[i]) % 256;\r\n                int temp = S[i];\r\n                S[i] = S[j];\r\n                S[j] = temp;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public byte[] chiffrer(byte[] plaintext) \r\n    {\r\n        int i = 0;\r\n        int j = 0;\r\n        byte[] ciphertext = new byte[plaintext.length];// texte et cryptogramme ont la m&#234;me longueur \r\n        for (int k = 0; k &lt; plaintext.length; k++) //seconde permutation, n&#39;utilisant que des proc&#233;d&#233;s math&#233;matiques sans l&#39;intervention de la cl&#233;\r\n        {\r\n            i = (i + 1) % 256;\r\n            j = (j + S[i]) % 256;\r\n            int temp = S[i];\r\n            S[i] = S[j];\r\n            S[j] = temp;\r\n            int t = (S[i] + S[j]) % 256;\r\n            int keystream = S[t];\r\n            byte keyByte = (byte)keystream;\r\n            ciphertext[k] = (byte)(plaintext[k] ^ keyByte ); //Pour l&#39;op&#233;ration XOR  \r\n        }\r\n        \r\n        return ciphertext;\r\n    }\r\n    \r\n    public byte[] dechiffrer(byte[] ciphertext) \r\n    {\r\n        return chiffrer(ciphertext); // Le chiffrement et le d&#233;chiffrement se font exactement de la m&#234;me mani&#232;re\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n**My main class**\r\n\r\n\r\n```\r\npublic class testRC4 \r\n{\r\n\r\n    public static void main(String args[])\r\n    {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Saisir la cl&#233; secr&#232;te:&quot;);\r\n        String keyText = scanner.nextLine();\r\n        byte[] key = keyText.getBytes();\r\n        RC4 rc = new RC4(key);\r\n        System.out.println(&quot;Entrer a pour chiffrer et b pour d&#233;chiffrer:&quot;);\r\n        String choice = scanner.nextLine();\r\n        if (choice.equals(&quot;a&quot;))\r\n        {\r\n            System.out.println(&quot;Saisir le mot &#224; chiffrer:&quot;);\r\n            String plainText = scanner.nextLine();\r\n            byte[] plain = plainText.getBytes();   \r\n            byte[] cipher = rc.chiffrer(plain);\r\n            String cipherText = new String(cipher);\r\n            System.out.println(&quot;Le cryptogramme :  &quot; +cipherText);  \r\n        }\r\n        else if(choice.equals(&quot;b&quot;))\r\n        {\r\n            System.out.println(&quot;Saisir le mot &#224; d&#233;chiffrer :&quot;);\r\n            String cipherText = scanner.nextLine();\r\n            byte[] cipher = cipherText.getBytes();\r\n            byte[] plain = rc.chiffrer(cipher);\r\n            String plainText = new String(plain);\r\n            System.out.println(&quot;Le texte en clair :  &quot; +plainText);     \r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;Le choix fait n&#39;est pas reconnu. Veuillez recommencer!&quot;);\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n","title":"Problems with encoding in RC4 Algorithm","body":"<p>I have to make a small demonstration about encrypting text using the RC4 Algorithm. To do so, I chose to use Java in NetBeans.</p>\n<p>My code uses byte arrays for the permutation and the XOR operation. But the input and the output are to be in String.</p>\n<ol>\n<li>Almost all of my outputs, for encryption looks like this: &quot;¯[á&quot; . Is it normal? Using this however, i can still find the plain text, which in this case is &quot;though&quot;.</li>\n<li>let's say I am trying to encrypt the word &quot;stack&quot;. The result I would sometimes get would be of form: &quot;¯[??ô&quot; and then while trying to decrypt, I will get: &quot;s??ck&quot; or &quot;stÄck&quot;. This especially happens if my key and the origin plain text is in french (which sucks since it's the language I a making the presentation in).</li>\n</ol>\n<p>I tried changing the encoding character, from UTF-8, to ISO-8859-1 to ASCII. I have had the best results with ASCII.\nIt gives me less question marks, but is sometimes changes the characters.</p>\n<ol>\n<li>This is an example of strange character returns\n<ul>\n<li><a href=\"https://i.stack.imgur.com/oX1fh.png\" rel=\"nofollow noreferrer\">This is an example of strange character returns</a></li>\n<li><a href=\"https://i.stack.imgur.com/o64tF.png\" rel=\"nofollow noreferrer\">But just like I said, you can get the text back</a></li>\n</ul>\n</li>\n<li>Same code. Just changed the print sentences in french, and used french words for encryption, but there is a question mark\n<ul>\n<li><a href=\"https://i.stack.imgur.com/fbxpJ.png\" rel=\"nofollow noreferrer\">Same code. Just changed the print sentences in french, and used french words for encryption, but there is a question mark</a></li>\n<li><a href=\"https://i.stack.imgur.com/cpHAr.png\" rel=\"nofollow noreferrer\">We went from &quot;saisir&quot; to &quot;saiÎir&quot; </a></li>\n</ul>\n</li>\n</ol>\n<p><strong>My RC4 class code</strong> <em>for encrypting and decrypting text</em></p>\n<pre><code>public class RC4 \n{\n    private int[] S =new int[256];\n    private int[] T =new int[256];\n    private int keylen;\n    \n    public RC4(byte[] key)\n    {\n        if (key.length &lt; 1 || key.length &gt; 256) {\n            throw new IllegalArgumentException(&quot;La clé doit avoir entre 1 et 256 bytes&quot;);\n        }\n        else\n        {\n            keylen = key.length;\n            for (int i = 0; i &lt; 256; i++) //initialisation de S et T \n            {\n                S[i] = i;\n                T[i] = (int)key[i % keylen];\n            }\n            int j = 0;\n            for (int i = 0; i &lt; 256; i++) //Premiere permutation de S qui utilise la clé\n            {\n                j = (j + S[i] + T[i]) % 256;\n                int temp = S[i];\n                S[i] = S[j];\n                S[j] = temp;\n            }\n        }\n    }\n    \n    public byte[] chiffrer(byte[] plaintext) \n    {\n        int i = 0;\n        int j = 0;\n        byte[] ciphertext = new byte[plaintext.length];// texte et cryptogramme ont la même longueur \n        for (int k = 0; k &lt; plaintext.length; k++) //seconde permutation, n'utilisant que des procédés mathématiques sans l'intervention de la clé\n        {\n            i = (i + 1) % 256;\n            j = (j + S[i]) % 256;\n            int temp = S[i];\n            S[i] = S[j];\n            S[j] = temp;\n            int t = (S[i] + S[j]) % 256;\n            int keystream = S[t];\n            byte keyByte = (byte)keystream;\n            ciphertext[k] = (byte)(plaintext[k] ^ keyByte ); //Pour l'opération XOR  \n        }\n        \n        return ciphertext;\n    }\n    \n    public byte[] dechiffrer(byte[] ciphertext) \n    {\n        return chiffrer(ciphertext); // Le chiffrement et le déchiffrement se font exactement de la même manière\n    }\n}\n</code></pre>\n<p><strong>My main class</strong></p>\n<pre><code>public class testRC4 \n{\n\n    public static void main(String args[])\n    {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Saisir la clé secrète:&quot;);\n        String keyText = scanner.nextLine();\n        byte[] key = keyText.getBytes();\n        RC4 rc = new RC4(key);\n        System.out.println(&quot;Entrer a pour chiffrer et b pour déchiffrer:&quot;);\n        String choice = scanner.nextLine();\n        if (choice.equals(&quot;a&quot;))\n        {\n            System.out.println(&quot;Saisir le mot à chiffrer:&quot;);\n            String plainText = scanner.nextLine();\n            byte[] plain = plainText.getBytes();   \n            byte[] cipher = rc.chiffrer(plain);\n            String cipherText = new String(cipher);\n            System.out.println(&quot;Le cryptogramme :  &quot; +cipherText);  \n        }\n        else if(choice.equals(&quot;b&quot;))\n        {\n            System.out.println(&quot;Saisir le mot à déchiffrer :&quot;);\n            String cipherText = scanner.nextLine();\n            byte[] cipher = cipherText.getBytes();\n            byte[] plain = rc.chiffrer(cipher);\n            String plainText = new String(plain);\n            System.out.println(&quot;Le texte en clair :  &quot; +plainText);     \n        }\n        else\n        {\n            System.out.println(&quot;Le choix fait n'est pas reconnu. Veuillez recommencer!&quot;);\n        }\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","jakarta-ee"],"comments":[{"owner":{"account_id":3737094,"reputation":544,"user_id":3107804,"accept_rate":62,"display_name":"Pratyush Pranjal"},"score":0,"creation_date":1679210268,"post_id":75778943,"comment_id":133678087,"body_markdown":"Hibernate will only understand uniqueness when the name in Actors table is annotated with @id but not sure if you can do that as its a legacy database.","body":"Hibernate will only understand uniqueness when the name in Actors table is annotated with @id but not sure if you can do that as its a legacy database."},{"owner":{"account_id":4251091,"reputation":2509,"user_id":3478155,"accept_rate":59,"display_name":"ilw"},"score":0,"creation_date":1679220920,"post_id":75778943,"comment_id":133679223,"body_markdown":"Not legacy. He is understands.","body":"Not legacy. He is understands."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679314185,"post_id":75778943,"comment_id":133693640,"body_markdown":"Yes this is the only way if you are going to use a separate ID value that you aren’t passing in as the entity ID instead of the natural ID (name) that you are passing in (and around). Pick your ID wisely and the problem isn’t one","body":"Yes this is the only way if you are going to use a separate ID value that you aren’t passing in as the entity ID instead of the natural ID (name) that you are passing in (and around). Pick your ID wisely and the problem isn’t one"},{"owner":{"account_id":4251091,"reputation":2509,"user_id":3478155,"accept_rate":59,"display_name":"ilw"},"score":0,"creation_date":1679317559,"post_id":75778943,"comment_id":133694635,"body_markdown":"So, i should change id (from Long to String)?","body":"So, i should change id (from Long to String)?"}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679295822,"creation_date":1679240775,"answer_id":75783165,"question_id":75778943,"body_markdown":"Hibernate wouldn&#39;t understand if it&#39;s an existing entity if the `id` value is Zero and only `name` and other attributes are populated. If `id` value is zero, it will try to persist that data. So, when you are giving option to enter actors data, you should have something like drop down for existing actors, and data entry for new actors, so your request will have `id` for existing entities and zero for new entities. Now if you use `saveOrUpdate` instead of `save`, your problem should be solved. &lt;br/&gt;\r\n`saveOrUpdate` will make sure that existing entities are not saved again. Still to be sure, just check the documentation. If you are not sure about the implementation, your current additional method is fine too except it will cause performance overhead. &lt;br/&gt; Use `show_sql` to actually see what&#39;s happening in the background ","title":"hibernate many to many and java.sql.SQLIntegrityConstraintViolationException: Duplicate entry error","body":"<p>Hibernate wouldn't understand if it's an existing entity if the <code>id</code> value is Zero and only <code>name</code> and other attributes are populated. If <code>id</code> value is zero, it will try to persist that data. So, when you are giving option to enter actors data, you should have something like drop down for existing actors, and data entry for new actors, so your request will have <code>id</code> for existing entities and zero for new entities. Now if you use <code>saveOrUpdate</code> instead of <code>save</code>, your problem should be solved. <br/>\n<code>saveOrUpdate</code> will make sure that existing entities are not saved again. Still to be sure, just check the documentation. If you are not sure about the implementation, your current additional method is fine too except it will cause performance overhead. <br/> Use <code>show_sql</code> to actually see what's happening in the background</p>\n"}],"owner":{"account_id":4251091,"reputation":2509,"user_id":3478155,"accept_rate":59,"display_name":"ilw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679295822,"creation_date":1679177252,"question_id":75778943,"body_markdown":"I have a database and I&#39;m trying to build an application around it. The problem is that I get Duplicate entry intermittently when I try to insert data into related tables.\r\n\r\nFor example, there is a Video entity and there is an Actor entity. There are many actors in each video, and each actor has acted in several films, so the connection is Many to many.\r\n\r\n    @Entity\r\n    @Table(name = &quot;videos&quot;)\r\n    public class Video implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String title;\r\n    \r\n        private int year;\r\n    \r\n        @ManyToMany(cascade = {CascadeType.ALL})\r\n        @JoinTable(\r\n                name = &quot;film_actors&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;film_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;actor_id&quot;)\r\n        )\r\n        private Set&lt;Actor&gt; actors = new HashSet&lt;&gt;();\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            Video video = (Video) o;\r\n    \r\n            return title != null ? title.equals(video.title) : video.title == null;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return title != null ? title.hashCode() : 0;\r\n        }\r\n    \r\n        //getters setters\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;actors&quot;)\r\n    public class Actor {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column(unique = true)\r\n        private String name;\r\n    \r\n        @ManyToMany(mappedBy = &quot;actors&quot;)\r\n        private Set&lt;Video&gt; video = new HashSet&lt;&gt;();\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            Actor actor = (Actor) o;\r\n    \r\n            return name != null ? name.equals(actor.name) : actor.name == null;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return name != null ? name.hashCode() : 0;\r\n        }\r\n    }\r\n\r\n\r\nThe problem is that when I try to save a new Video entity in my service with an actor that is already in the actors table (with the same name), I get an error that it cannot be inserted, and this is rational, since the table has a uniqueness constraint on Actor.name column.\r\n\r\nWhat behavior do I expect? I hope that hibernate will understand that there is already a unique value in the Actors table and will not try to insert an actor with the same name again, take its id and put it in the associated film_actor table.\r\n\r\nThis can be done ?\r\n\r\nnow I&#39;m doing something like this to get around my problem, it doesn&#39;t seem like the right solution. Is this the only way?\r\n\r\n     @Override\r\n        public void save(Video video) throws SQLException {\r\n    \r\n            Set&lt;Actor&gt; actors = video.getActors();\r\n            Set&lt;Actor&gt; mapped = new HashSet&lt;&gt;();\r\n            for (Actor actor : actors) {\r\n                Actor fromDb = actorRepository.findByName(actor.getName());\r\n                if (fromDb != null) {\r\n                    mapped.add(fromDb);\r\n                } else {\r\n                    mapped.add(actor);\r\n                }\r\n            }\r\n            video.setActors(mapped);\r\n    \r\n            videoRepository.save(video);\r\n        }","title":"hibernate many to many and java.sql.SQLIntegrityConstraintViolationException: Duplicate entry error","body":"<p>I have a database and I'm trying to build an application around it. The problem is that I get Duplicate entry intermittently when I try to insert data into related tables.</p>\n<p>For example, there is a Video entity and there is an Actor entity. There are many actors in each video, and each actor has acted in several films, so the connection is Many to many.</p>\n<pre><code>@Entity\n@Table(name = &quot;videos&quot;)\npublic class Video implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String title;\n\n    private int year;\n\n    @ManyToMany(cascade = {CascadeType.ALL})\n    @JoinTable(\n            name = &quot;film_actors&quot;,\n            joinColumns = @JoinColumn(name = &quot;film_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;actor_id&quot;)\n    )\n    private Set&lt;Actor&gt; actors = new HashSet&lt;&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Video video = (Video) o;\n\n        return title != null ? title.equals(video.title) : video.title == null;\n    }\n\n    @Override\n    public int hashCode() {\n        return title != null ? title.hashCode() : 0;\n    }\n\n    //getters setters\n}\n\n\n@Entity\n@Table(name = &quot;actors&quot;)\npublic class Actor {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(unique = true)\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;actors&quot;)\n    private Set&lt;Video&gt; video = new HashSet&lt;&gt;();\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Actor actor = (Actor) o;\n\n        return name != null ? name.equals(actor.name) : actor.name == null;\n    }\n\n    @Override\n    public int hashCode() {\n        return name != null ? name.hashCode() : 0;\n    }\n}\n</code></pre>\n<p>The problem is that when I try to save a new Video entity in my service with an actor that is already in the actors table (with the same name), I get an error that it cannot be inserted, and this is rational, since the table has a uniqueness constraint on Actor.name column.</p>\n<p>What behavior do I expect? I hope that hibernate will understand that there is already a unique value in the Actors table and will not try to insert an actor with the same name again, take its id and put it in the associated film_actor table.</p>\n<p>This can be done ?</p>\n<p>now I'm doing something like this to get around my problem, it doesn't seem like the right solution. Is this the only way?</p>\n<pre><code> @Override\n    public void save(Video video) throws SQLException {\n\n        Set&lt;Actor&gt; actors = video.getActors();\n        Set&lt;Actor&gt; mapped = new HashSet&lt;&gt;();\n        for (Actor actor : actors) {\n            Actor fromDb = actorRepository.findByName(actor.getName());\n            if (fromDb != null) {\n                mapped.add(fromDb);\n            } else {\n                mapped.add(actor);\n            }\n        }\n        video.setActors(mapped);\n\n        videoRepository.save(video);\n    }\n</code></pre>\n"},{"tags":["java","command-line","jar","compilation","executable-jar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679303206,"post_id":75787206,"comment_id":133690637,"body_markdown":"See https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-runnable-jar-with-dependencies-using-maven/574650#574650","body":"See <a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-runnable-jar-with-dependencies-using-maven/574650#574650\" title=\"how can i create an executable runnable jar with dependencies using maven\">stackoverflow.com/questions/574594/&hellip;</a>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679305741,"post_id":75787206,"comment_id":133691374,"body_markdown":"It is good to learn the command line tools and classpath in the beginning but when the projects become more complex, you should use a real build tool like Maven or Gradle, which already provide ready-made solutions for exactly these problems.","body":"It is good to learn the command line tools and classpath in the beginning but when the projects become more complex, you should use a real build tool like Maven or Gradle, which already provide ready-made solutions for exactly these problems."},{"owner":{"account_id":21938522,"reputation":328,"user_id":16219380,"display_name":"Aman"},"score":0,"creation_date":1679371777,"post_id":75787206,"comment_id":133705822,"body_markdown":"thanks @tgdavies to recommend me a SO question which helped me in creating jar.","body":"thanks @tgdavies to recommend me a SO question which helped me in creating jar."}],"owner":{"account_id":21938522,"reputation":328,"user_id":16219380,"display_name":"Aman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679294362,"creation_date":1679294362,"question_id":75787206,"body_markdown":"I&#39;m creating a java app that uses external jars mainly JFreeCharts and JCommon now when I&#39;m compiling my project with \r\n```bash\r\njavac -d build\\classes -cp &quot;.;build\\\\resources\\\\jfreechart-1.0.1.jar;build\\\\resources\\\\jcommon-1.0.0.jar&quot; @files_info.txt\r\n```\r\nand running it with the below command while being in the build\\classes directory\r\n```bash\r\njava -cp &quot;.;..\\\\resources\\\\jfreechart-1.0.1.jar;..\\\\resources\\\\jcommon-1.0.0.jar&quot; app @classes_info.txt\r\n```\r\nhas no issues, but now I want to create a single jar file of my app so that later I can use [Launch4j to convert my jar to executable](https://stackoverflow.com/questions/4330936/how-can-i-convert-a-jar-to-an-exe).\r\n\r\nPreviously, when I was not using any type of external libraries I use to make jars from the below command while being in the build\\classes directory\r\n```bash\r\njava -jar ..\\app.jar\r\n```\r\n&gt; Note that I&#39;m not using my IDE for compilation or running processes I&#39;m just using the command line in order to compile the app and make it run.","title":"How to create java jar files while including external jars too?","body":"<p>I'm creating a java app that uses external jars mainly JFreeCharts and JCommon now when I'm compiling my project with</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -d build\\classes -cp &quot;.;build\\\\resources\\\\jfreechart-1.0.1.jar;build\\\\resources\\\\jcommon-1.0.0.jar&quot; @files_info.txt\n</code></pre>\n<p>and running it with the below command while being in the build\\classes directory</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;.;..\\\\resources\\\\jfreechart-1.0.1.jar;..\\\\resources\\\\jcommon-1.0.0.jar&quot; app @classes_info.txt\n</code></pre>\n<p>has no issues, but now I want to create a single jar file of my app so that later I can use <a href=\"https://stackoverflow.com/questions/4330936/how-can-i-convert-a-jar-to-an-exe\">Launch4j to convert my jar to executable</a>.</p>\n<p>Previously, when I was not using any type of external libraries I use to make jars from the below command while being in the build\\classes directory</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar ..\\app.jar\n</code></pre>\n<blockquote>\n<p>Note that I'm not using my IDE for compilation or running processes I'm just using the command line in order to compile the app and make it run.</p>\n</blockquote>\n"},{"tags":["java","maven","build.gradle","marklogic","mlcp"],"answers":[{"tags":[],"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507682914,"creation_date":1507682914,"answer_id":46678055,"question_id":46672350,"body_markdown":"If you are interested in generating a `pom.xml` for publishing your artifact, Gradle has the [maven-publish plugin][1]. You can use the [MavenPublication][2] class to produce (and customize) a pom.xml.\r\n\r\nAn example:\r\n\r\n    apply plugin: &quot;java&quot;\r\n    apply plugin: &quot;maven-publish&quot;\r\n    \r\n    task sourceJar(type: Jar) {\r\n      from sourceSets.main.allJava\r\n      classifier &quot;sources&quot;\r\n    }\r\n    \r\n    publishing {\r\n      publications {\r\n        myPublication(MavenPublication) {\r\n          from components.java\r\n          artifact sourceJar\r\n          pom.withXml {\r\n            asNode().appendNode(&#39;description&#39;, &#39;A demonstration of Maven POM customization&#39;)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/publishing_maven.html\r\n  [2]: https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPublication.html","title":"Gradle Project convert to Maven","body":"<p>If you are interested in generating a <code>pom.xml</code> for publishing your artifact, Gradle has the <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html\" rel=\"nofollow noreferrer\">maven-publish plugin</a>. You can use the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPublication.html\" rel=\"nofollow noreferrer\">MavenPublication</a> class to produce (and customize) a pom.xml.</p>\n\n<p>An example:</p>\n\n<pre><code>apply plugin: \"java\"\napply plugin: \"maven-publish\"\n\ntask sourceJar(type: Jar) {\n  from sourceSets.main.allJava\n  classifier \"sources\"\n}\n\npublishing {\n  publications {\n    myPublication(MavenPublication) {\n      from components.java\n      artifact sourceJar\n      pom.withXml {\n        asNode().appendNode('description', 'A demonstration of Maven POM customization')\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1217128,"reputation":635,"user_id":1184480,"accept_rate":48,"display_name":"Vikram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4428,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679294226,"creation_date":1507655724,"question_id":46672350,"body_markdown":"I have started to learn Gradle and i want to know how to convert a gradle project to maven project. I took a gradle project from the below link :\r\n\r\n[https://github.com/rjrudin/ml-camel-mlcp][1]\r\n\r\nI was able to generate a jar but a POM.xml is not generated for the above project. I want to stuff the jar file and test the functionality using maven. I took help from the below link to convert it to maven but it did not help : \r\n\r\n[https://codexplo.wordpress.com/2014/07/20/gradle-to-maven-conversion-and-vice-versa/][2]  \r\n\r\nPlease help me resolve this and thanks in advance.\r\n\r\n  [1]: https://github.com/rjrudin/ml-camel-mlcp\r\n  [2]: https://codexplo.wordpress.com/2014/07/20/gradle-to-maven-conversion-and-vice-versa/","title":"Gradle Project convert to Maven","body":"<p>I have started to learn Gradle and i want to know how to convert a gradle project to maven project. I took a gradle project from the below link :</p>\n\n<p><a href=\"https://github.com/rjrudin/ml-camel-mlcp\" rel=\"nofollow noreferrer\">https://github.com/rjrudin/ml-camel-mlcp</a></p>\n\n<p>I was able to generate a jar but a POM.xml is not generated for the above project. I want to stuff the jar file and test the functionality using maven. I took help from the below link to convert it to maven but it did not help : </p>\n\n<p><a href=\"https://codexplo.wordpress.com/2014/07/20/gradle-to-maven-conversion-and-vice-versa/\" rel=\"nofollow noreferrer\">https://codexplo.wordpress.com/2014/07/20/gradle-to-maven-conversion-and-vice-versa/</a>  </p>\n\n<p>Please help me resolve this and thanks in advance.</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","jsonb"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1679294091,"post_id":75787176,"comment_id":133688767,"body_markdown":"`jsonb[]` pretty much never makes sense - JPA or not.","body":"<code>jsonb[]</code> pretty much never makes sense - JPA or not."},{"owner":{"account_id":5948340,"reputation":31,"user_id":4677196,"display_name":"Abi"},"score":0,"creation_date":1679294345,"post_id":75787176,"comment_id":133688808,"body_markdown":"Agreed, but I&#39;m building on top of a preexisting table used by an other app and am unable to change the datatype here.","body":"Agreed, but I&#39;m building on top of a preexisting table used by an other app and am unable to change the datatype here."}],"owner":{"account_id":5948340,"reputation":31,"user_id":4677196,"display_name":"Abi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679293943,"creation_date":1679293943,"question_id":75787176,"body_markdown":"I have a column in my DB of type JSONB[]. This is a DB array of JSONB objects, supported by PostGre sql. \r\n\r\n(NB: This is not the same as a JSON array of objects represented as JSONB.)\r\n\r\nI want to represent this column as a Hibernate entity. \r\n\r\n\r\nFor the sake of example, a table called items where each item has a column called &quot;reviews&quot; which is of type JsonB[]. \r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;items&quot;)\r\npublic class Item {\r\n  \r\n  List&lt;Review&gt; reviews; \r\n\r\n} \r\n\r\n//....elsewhere\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Review implements Serializable { \r\n  String reviewText;\r\n  String reviewer; \r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried using Vlad Mihalcea&#39;s Hypersistence Utils Hibernate Types https://github.com/vladmihalcea/hypersistence-utils\r\n\r\nbut it only supports either JsonB or Json or a simple Array type String[] but not an array of JsonB  . \r\n\r\nAttempting to run the code as is gives unable to deserialize the resulting string from Postgres to my type of List&lt;Review&gt; ","title":"Postgres JSONB[] (Array of JsonB) Support with Spring JPA Hibernate","body":"<p>I have a column in my DB of type JSONB[]. This is a DB array of JSONB objects, supported by PostGre sql.</p>\n<p>(NB: This is not the same as a JSON array of objects represented as JSONB.)</p>\n<p>I want to represent this column as a Hibernate entity.</p>\n<p>For the sake of example, a table called items where each item has a column called &quot;reviews&quot; which is of type JsonB[].</p>\n<pre><code>@Entity\n@Table(name = &quot;items&quot;)\npublic class Item {\n  \n  List&lt;Review&gt; reviews; \n\n} \n\n//....elsewhere\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Review implements Serializable { \n  String reviewText;\n  String reviewer; \n}\n</code></pre>\n<p>I have tried using Vlad Mihalcea's Hypersistence Utils Hibernate Types <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hypersistence-utils</a></p>\n<p>but it only supports either JsonB or Json or a simple Array type String[] but not an array of JsonB  .</p>\n<p>Attempting to run the code as is gives unable to deserialize the resulting string from Postgres to my type of List</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1657552506,"post_id":72940743,"comment_id":128831858,"body_markdown":"The alternative to importing via import statements is using the full qualified name which includes the package name, eG `android.view.View.OnClickListener`. That being said, any decent IDE should be able to pretty much automate the organization of your import statements. I&#39;m sure android studio does offer that functionality as well.","body":"The alternative to importing via import statements is using the full qualified name which includes the package name, eG <code>android.view.View.OnClickListener</code>. That being said, any decent IDE should be able to pretty much automate the organization of your import statements. I&#39;m sure android studio does offer that functionality as well."},{"owner":{"account_id":25577009,"reputation":139,"user_id":19356249,"display_name":"mmj"},"score":0,"creation_date":1657552513,"post_id":72940743,"comment_id":128831863,"body_markdown":"You can import the whole package. E.g. import java.io.*; By importing only the class needed you can increase the compilation speed.","body":"You can import the whole package. E.g. import java.io.*; By importing only the class needed you can increase the compilation speed."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1657552600,"post_id":72940743,"comment_id":128831903,"body_markdown":"You learn to use the `alt+enter` key combination quite often (resolve error -&gt; import symbol), as this is probably the least painful way to quickly import a missing symbol. You need to import objects that you are using outside of your class, otherwise the compiler won&#39;t know which `Button` class you are using.","body":"You learn to use the <code>alt+enter</code> key combination quite often (resolve error -&gt; import symbol), as this is probably the least painful way to quickly import a missing symbol. You need to import objects that you are using outside of your class, otherwise the compiler won&#39;t know which <code>Button</code> class you are using."}],"answers":[{"tags":[],"owner":{"account_id":25766921,"reputation":26,"user_id":19516660,"display_name":"Adamiok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657553882,"creation_date":1657553882,"answer_id":72941131,"question_id":72940743,"body_markdown":"To answer the first part:\r\nYes there is a way to import classes manually. You could look through the code of the dependency and manually create the import statement. This is highly discouraged since it is tedious, time consuming and your IDE (IntelliJ IDEA in your case) is fully able to do this. But if you want to do it this way you can learn something about it &lt;a href=&quot;https://www.studytonight.com/java/package-in-java.php#Import%20the%20Specific%20Class&quot;&gt;here&lt;/a&gt;.\r\n\r\nTo your second part:\r\nIt shows red because the classes don&#39;t exist or are not imported. As you know. To help more we will need the a screenshot of the error when you hover over the red text **BUT** if you think/know it is an import error you can try this:\r\n\r\nHover over the red text and click `Import Class` if it shows up.\r\n\r\nIf it does not show up, it means it does not exist or an other error is present. Then we will need a screenshot of the error to help further.\r\n\r\nSmall hint (if you did not know already): When typing press `ctrl`+`space` a windows will pop up with suggestions for autocompletion. Select your options with `Enter` (or keep typing to get better suggestions). Move with arrows in the window. IntelliJ will then auto import the class.","title":"Alternative way to importing classes manually?","body":"<p>To answer the first part:\nYes there is a way to import classes manually. You could look through the code of the dependency and manually create the import statement. This is highly discouraged since it is tedious, time consuming and your IDE (IntelliJ IDEA in your case) is fully able to do this. But if you want to do it this way you can learn something about it <a href=\"https://www.studytonight.com/java/package-in-java.php#Import%20the%20Specific%20Class\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>To your second part:\nIt shows red because the classes don't exist or are not imported. As you know. To help more we will need the a screenshot of the error when you hover over the red text <strong>BUT</strong> if you think/know it is an import error you can try this:</p>\n<p>Hover over the red text and click <code>Import Class</code> if it shows up.</p>\n<p>If it does not show up, it means it does not exist or an other error is present. Then we will need a screenshot of the error to help further.</p>\n<p>Small hint (if you did not know already): When typing press <code>ctrl</code>+<code>space</code> a windows will pop up with suggestions for autocompletion. Select your options with <code>Enter</code> (or keep typing to get better suggestions). Move with arrows in the window. IntelliJ will then auto import the class.</p>\n"},{"tags":[],"owner":{"account_id":7060674,"reputation":11,"user_id":5406044,"display_name":"Mani Kiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679293191,"creation_date":1679293191,"answer_id":75787097,"question_id":72940743,"body_markdown":"I did not see the Import Method option in the Quick Tips too, however, as mentioned above `ctrl`+`space` worked for me. As it shows up the required classes if they are present in your lib.","title":"Alternative way to importing classes manually?","body":"<p>I did not see the Import Method option in the Quick Tips too, however, as mentioned above <code>ctrl</code>+<code>space</code> worked for me. As it shows up the required classes if they are present in your lib.</p>\n"}],"owner":{"account_id":25744293,"reputation":3,"user_id":19497777,"display_name":"William Wang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72941131,"answer_count":2,"score":0,"last_activity_date":1679293191,"creation_date":1657552237,"question_id":72940743,"body_markdown":"I&#39;m trying to code a simple android app for something and I was wondering if there was an alternative to importing each class manually, or why it shows up as red since anytime I write something in a similar way it won&#39;t run. [android studio screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QSg2V.png","title":"Alternative way to importing classes manually?","body":"<p>I'm trying to code a simple android app for something and I was wondering if there was an alternative to importing each class manually, or why it shows up as red since anytime I write something in a similar way it won't run. <a href=\"https://i.stack.imgur.com/QSg2V.png\" rel=\"nofollow noreferrer\">android studio screenshot</a></p>\n"},{"tags":["java","gradle","github-actions","java-11","jacoco"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1679293350,"post_id":75787007,"comment_id":133688644,"body_markdown":"Does this answer your question? [Deprecated Gradle features were used in this build, making it incompatible with Gradle 5.0](https://stackoverflow.com/questions/51610420/deprecated-gradle-features-were-used-in-this-build-making-it-incompatible-with)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51610420/deprecated-gradle-features-were-used-in-this-build-making-it-incompatible-with\">Deprecated Gradle features were used in this build, making it incompatible with Gradle 5.0</a>"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1679293637,"post_id":75787007,"comment_id":133688693,"body_markdown":"Looks like you need to run with `--warning-mode all` flag to figure out the deprecated features. Also, your workflow is downloading Gradle 6.7.1 but there&#39;s also [Gradle 8.0.2](https://github.com/actions/runner-images/blob/main/images/macos/macos-12-Readme.md#project-management) preinstalled on the `macos-latest` runner.","body":"Looks like you need to run with <code>--warning-mode all</code> flag to figure out the deprecated features. Also, your workflow is downloading Gradle 6.7.1 but there&#39;s also <a href=\"https://github.com/actions/runner-images/blob/main/images/macos/macos-12-Readme.md#project-management\" rel=\"nofollow noreferrer\">Gradle 8.0.2</a> preinstalled on the <code>macos-latest</code> runner."},{"owner":{"account_id":21858603,"reputation":23,"user_id":16149660,"display_name":"Sheetal Jain"},"score":0,"creation_date":1679314164,"post_id":75787007,"comment_id":133693633,"body_markdown":"How can I run this on Github Actions?","body":"How can I run this on Github Actions?"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1679314532,"post_id":75787007,"comment_id":133693737,"body_markdown":"You need to figure out the deprecated features and remove those. Run `./gradlew test --warning-mode all` to identify those on GitHub Actions.","body":"You need to figure out the deprecated features and remove those. Run <code>.&#47;gradlew test --warning-mode all</code> to identify those on GitHub Actions."},{"owner":{"account_id":21858603,"reputation":23,"user_id":16149660,"display_name":"Sheetal Jain"},"score":0,"creation_date":1679316205,"post_id":75787007,"comment_id":133694243,"body_markdown":"Can I run this command on my IDE? or do I have to run it on GitHub?","body":"Can I run this command on my IDE? or do I have to run it on GitHub?"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1679316768,"post_id":75787007,"comment_id":133694393,"body_markdown":"Run this as part of your GHA workflow.","body":"Run this as part of your GHA workflow."},{"owner":{"account_id":21858603,"reputation":23,"user_id":16149660,"display_name":"Sheetal Jain"},"score":0,"creation_date":1679317810,"post_id":75787007,"comment_id":133694717,"body_markdown":"Can you please help me to solve this question also https://stackoverflow.com/questions/75790563/how-to-integrate-github-pull-request-coverage-status-in-jenkinsfile. I am integrating jacoco code coverage results now in JenkinsFile only.","body":"Can you please help me to solve this question also <a href=\"https://stackoverflow.com/questions/75790563/how-to-integrate-github-pull-request-coverage-status-in-jenkinsfile\" title=\"how to integrate github pull request coverage status in jenkinsfile\">stackoverflow.com/questions/75790563/&hellip;</a>. I am integrating jacoco code coverage results now in JenkinsFile only."}],"owner":{"account_id":21858603,"reputation":23,"user_id":16149660,"display_name":"Sheetal Jain"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679292448,"creation_date":1679292308,"question_id":75787007,"body_markdown":"I have added the coverage.yml file in the .github/workflows folder of my project. Here is the file:\r\n```\r\nname: Measure coverage\r\n\r\non:\r\n  push:\r\n    branches: [ develop ]\r\n  pull_request:\r\n\r\njobs:\r\n  build:\r\n    runs-on: macos-latest\r\n    steps:\r\n      - uses: actions/checkout@v2\r\n      - name: Set up JDK 11\r\n        uses: actions/setup-java@v1\r\n        with:\r\n          java-version: &#39;11&#39;\r\n\r\n      - name: Grant execute permission for gradlew\r\n        run: chmod +x gradlew\r\n\r\n      - name: Run Coverage\r\n        run: ./gradlew test\r\n\r\n      - name: Upload Report\r\n        uses: &#39;actions/upload-artifact@v2&#39;\r\n        with:\r\n          name: report.xml\r\n          path: ${{ github.workspace }}/build/reports/jacoco/test/jacocoTestReport.xml\r\n\r\n      - name: Jacoco Report to PR\r\n        id: jacoco\r\n        uses: madrapps/jacoco-report@v1.1\r\n        with:\r\n          path: ${{ github.workspace }}/build/reports/jacoco/test/jacocoTestReport.xml\r\n          min-coverage-overall: 90\r\n          min-coverage-changed-files: 60\r\n          debug-mode: false\r\n\r\n      - name: Get the Coverage info\r\n        run: |\r\n          echo &quot;Total coverage ${{ steps.jacoco.outputs.coverage-overall }}&quot;\r\n          echo &quot;Changed Files coverage ${{ steps.jacoco.outputs.coverage-changed-files }}&quot;\r\n```\r\n\r\nOn creating a pull request on GitHub after adding this file I am getting this error on GitHub.\r\n\r\n```\r\nRun ./gradlew test\r\nDownloading https://services.gradle.org/distributions/gradle-6.7.1-all.zip\r\n.............10%..............20%..............30%..............40%..............50%..............60%..............70%..............80%..............90%..............100%\r\n\r\nWelcome to Gradle 6.7.1!\r\n\r\nHere are the highlights of this release:\r\n - File system watching is ready for production use\r\n - Declare the version of Java your build requires\r\n - Java 15 support\r\n\r\nFor more details see https://docs.gradle.org/6.7.1/release-notes.html\r\n\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n&gt; Task :bootBuildInfo\r\n&gt; Task :checkApolloVersions\r\n&gt; Task :generateMainServiceApolloSources\r\n&gt; Task :checkMainServiceApolloDuplicates\r\n&gt; Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n\r\n* What went wrong:\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nExecution failed for task &#39;:compileJava&#39;.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n```\r\n\r\nCan someone help me to solve this issue, I am not able to figure out why it is happening. Is it happening because I have multiple JDKs installed in my mac?","title":"Task :compileJava FAILED on Github Actions","body":"<p>I have added the coverage.yml file in the .github/workflows folder of my project. Here is the file:</p>\n<pre><code>name: Measure coverage\n\non:\n  push:\n    branches: [ develop ]\n  pull_request:\n\njobs:\n  build:\n    runs-on: macos-latest\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up JDK 11\n        uses: actions/setup-java@v1\n        with:\n          java-version: '11'\n\n      - name: Grant execute permission for gradlew\n        run: chmod +x gradlew\n\n      - name: Run Coverage\n        run: ./gradlew test\n\n      - name: Upload Report\n        uses: 'actions/upload-artifact@v2'\n        with:\n          name: report.xml\n          path: ${{ github.workspace }}/build/reports/jacoco/test/jacocoTestReport.xml\n\n      - name: Jacoco Report to PR\n        id: jacoco\n        uses: madrapps/jacoco-report@v1.1\n        with:\n          path: ${{ github.workspace }}/build/reports/jacoco/test/jacocoTestReport.xml\n          min-coverage-overall: 90\n          min-coverage-changed-files: 60\n          debug-mode: false\n\n      - name: Get the Coverage info\n        run: |\n          echo &quot;Total coverage ${{ steps.jacoco.outputs.coverage-overall }}&quot;\n          echo &quot;Changed Files coverage ${{ steps.jacoco.outputs.coverage-changed-files }}&quot;\n</code></pre>\n<p>On creating a pull request on GitHub after adding this file I am getting this error on GitHub.</p>\n<pre><code>Run ./gradlew test\nDownloading https://services.gradle.org/distributions/gradle-6.7.1-all.zip\n.............10%..............20%..............30%..............40%..............50%..............60%..............70%..............80%..............90%..............100%\n\nWelcome to Gradle 6.7.1!\n\nHere are the highlights of this release:\n - File system watching is ready for production use\n - Declare the version of Java your build requires\n - Java 15 support\n\nFor more details see https://docs.gradle.org/6.7.1/release-notes.html\n\nStarting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :bootBuildInfo\n&gt; Task :checkApolloVersions\n&gt; Task :generateMainServiceApolloSources\n&gt; Task :checkMainServiceApolloDuplicates\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n\n* What went wrong:\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nExecution failed for task ':compileJava'.\nUse '--warning-mode all' to show the individual deprecation warnings.\n</code></pre>\n<p>Can someone help me to solve this issue, I am not able to figure out why it is happening. Is it happening because I have multiple JDKs installed in my mac?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679202680,"creation_date":1679202680,"answer_id":75780211,"question_id":75778613,"body_markdown":"The WHOIS protocol does not allow multiple requests to be sent over the same connection. According to [RFC 812](https://datatracker.ietf.org/doc/html/rfc812), the specification that defines the WHOIS protocol:\r\n\r\n&gt;  Connect to the service host (SRI-NIC) \\\r\n&gt;       TCP: service port 43 decimal \\\r\n&gt;       NCP: ICP to socket 43 decimal, establishing two 8-bit    connections\r\n&gt; \r\n&gt;    Send a single &quot;command line&quot;, ending with \\&lt;CRLF&gt;.\r\n&gt; \r\n&gt;    Receive information in response to the command line.  The    server\r\n&gt; closes its connections as soon as the output is    finished.\r\n\r\nAs the last line indicates, the socket will be closed by the server after it has written its response. This means that a new socket needs to be opened for each request:\r\n\r\n    @Test\r\n    void justAnExample() throws IOException, InterruptedException {\r\n        sendRequest(&quot;cnn.com&quot;);\r\n\r\n        Thread.sleep(2000);\r\n\r\n        sendRequest(&quot;youtube.com&quot;);\r\n\r\n        Thread.sleep(2000);\r\n\r\n        sendRequest(&quot;toyota.com&quot;);\r\n    }\r\n\r\n    private void sendRequest(String domain) throws IOException {\r\n        try (Socket socket = new Socket(WHOIS_HOST, WHOIS_PORT)) {\r\n            socket.setSoTimeout(5000);\r\n\r\n            OutputStream out = socket.getOutputStream();\r\n            out.write((domain + &quot;\\r\\n&quot;).getBytes());\r\n\r\n            try (BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()))) {\r\n                String line;\r\n                while ((line = input.readLine()) != null) {\r\n                    if (line.contains(&quot;Registry Expiry Date&quot;)) {\r\n                        line = line.substring(line.indexOf(&#39;:&#39;) + 1).trim();\r\n                        System.out.println(&quot;---&gt; &quot; + line);\r\n                        break; // don&#39;t need to read any more input\r\n                    }\r\n                }\r\n\r\n                final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n                if(line != null){\r\n                    final LocalDateTime dt = LocalDateTime.parse(line, formatter);\r\n                    System.out.println(&quot;---&gt; &quot; + dt);\r\n                    System.out.println(&quot;---&gt; Not available &quot; + domain);\r\n\r\n                } else {\r\n                    System.out.println(&quot;---&gt; Available &quot; + domain);\r\n                }\r\n            }\r\n\r\n            out.flush();\r\n        }\r\n    }\r\n\r\nNote that in this example, the `Socket` is created using a try-with-resources statement, to ensure it is closed correctly even in the case of an exception. It is not necessary to also close the `OutputStream` obtained from `socket.getOutputStream()`. This is closed when the `Socket` is.\r\n","title":"java.net.SocketException: Socket is closed when reusing second time","body":"<p>The WHOIS protocol does not allow multiple requests to be sent over the same connection. According to <a href=\"https://datatracker.ietf.org/doc/html/rfc812\" rel=\"nofollow noreferrer\">RFC 812</a>, the specification that defines the WHOIS protocol:</p>\n<blockquote>\n<p>Connect to the service host (SRI-NIC) <br />\nTCP: service port 43 decimal <br />\nNCP: ICP to socket 43 decimal, establishing two 8-bit    connections</p>\n<p>Send a single &quot;command line&quot;, ending with &lt;CRLF&gt;.</p>\n<p>Receive information in response to the command line.  The    server\ncloses its connections as soon as the output is    finished.</p>\n</blockquote>\n<p>As the last line indicates, the socket will be closed by the server after it has written its response. This means that a new socket needs to be opened for each request:</p>\n<pre><code>@Test\nvoid justAnExample() throws IOException, InterruptedException {\n    sendRequest(&quot;cnn.com&quot;);\n\n    Thread.sleep(2000);\n\n    sendRequest(&quot;youtube.com&quot;);\n\n    Thread.sleep(2000);\n\n    sendRequest(&quot;toyota.com&quot;);\n}\n\nprivate void sendRequest(String domain) throws IOException {\n    try (Socket socket = new Socket(WHOIS_HOST, WHOIS_PORT)) {\n        socket.setSoTimeout(5000);\n\n        OutputStream out = socket.getOutputStream();\n        out.write((domain + &quot;\\r\\n&quot;).getBytes());\n\n        try (BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()))) {\n            String line;\n            while ((line = input.readLine()) != null) {\n                if (line.contains(&quot;Registry Expiry Date&quot;)) {\n                    line = line.substring(line.indexOf(':') + 1).trim();\n                    System.out.println(&quot;---&gt; &quot; + line);\n                    break; // don't need to read any more input\n                }\n            }\n\n            final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;);\n            if(line != null){\n                final LocalDateTime dt = LocalDateTime.parse(line, formatter);\n                System.out.println(&quot;---&gt; &quot; + dt);\n                System.out.println(&quot;---&gt; Not available &quot; + domain);\n\n            } else {\n                System.out.println(&quot;---&gt; Available &quot; + domain);\n            }\n        }\n\n        out.flush();\n    }\n}\n</code></pre>\n<p>Note that in this example, the <code>Socket</code> is created using a try-with-resources statement, to ensure it is closed correctly even in the case of an exception. It is not necessary to also close the <code>OutputStream</code> obtained from <code>socket.getOutputStream()</code>. This is closed when the <code>Socket</code> is.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679291090,"creation_date":1679205851,"answer_id":75780343,"question_id":75778613,"body_markdown":"According to the [javadoc][1] for `Socket.getOutputStream()`\r\n\r\n&gt;  Closing the returned `OutputStream` will close the associated socket.\r\n\r\nYou are closing the stream in `sendRequest`, so the `Socket` will be closed.\r\n\r\n----------------------------\r\n\r\n&gt; *Do you know how I can reuse the socket many times?*\r\n\r\nBasically, you have to NOT close the socket.  But if the protocol that you are using requires you to close the socket (as WHOIS apparently does ... per [@TimMoore&#39;s answer][2]) then you *cannot* reuse the socket.  And in this case, even if you didn&#39;t close the stream yourself, the WHOIS service will close the TCP connection from the other end.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#getOutputStream()\r\n  [2]: https://stackoverflow.com/a/75780211/139985","title":"java.net.SocketException: Socket is closed when reusing second time","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#getOutputStream()\" rel=\"nofollow noreferrer\">javadoc</a> for <code>Socket.getOutputStream()</code></p>\n<blockquote>\n<p>Closing the returned <code>OutputStream</code> will close the associated socket.</p>\n</blockquote>\n<p>You are closing the stream in <code>sendRequest</code>, so the <code>Socket</code> will be closed.</p>\n<hr />\n<blockquote>\n<p><em>Do you know how I can reuse the socket many times?</em></p>\n</blockquote>\n<p>Basically, you have to NOT close the socket.  But if the protocol that you are using requires you to close the socket (as WHOIS apparently does ... per <a href=\"https://stackoverflow.com/a/75780211/139985\">@TimMoore's answer</a>) then you <em>cannot</em> reuse the socket.  And in this case, even if you didn't close the stream yourself, the WHOIS service will close the TCP connection from the other end.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75780211,"answer_count":2,"score":-1,"last_activity_date":1679291090,"creation_date":1679172880,"question_id":75778613,"body_markdown":"I want to reuse a network socket. I tried this:\r\n\r\n        private final static String WHOIS_HOST = &quot;whois.verisign-grs.com&quot;;\r\n        private final static int WHOIS_PORT = 43;\r\n    \r\n        @Test\r\n        void justAnExample() {\r\n    \r\n            try {\r\n    \r\n                Socket socket = new Socket(WHOIS_HOST, WHOIS_PORT);\r\n                socket.setSoTimeout(5000);\r\n    \r\n                sendRequest(socket, &quot;cnn.com&quot;);\r\n    \r\n                Thread.sleep(2000);\r\n    \r\n                sendRequest(socket, &quot;youtube.com&quot;);\r\n    \r\n                Thread.sleep(2000);\r\n    \r\n                sendRequest(socket, &quot;toyota.com&quot;);\r\n    \r\n                socket.close();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void sendRequest(Socket socket, String domain) throws IOException {\r\n    \r\n            OutputStream out = socket.getOutputStream();\r\n            out.write((domain + &quot;\\r\\n&quot;).getBytes());\r\n    \r\n            try (BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()))) {\r\n                String line;\r\n                while ((line = input.readLine()) != null) {\r\n                    if (line.contains(&quot;Registry Expiry Date&quot;)) {\r\n                        line = line.substring(line.indexOf(&#39;:&#39;) + 1).trim();\r\n                        System.out.println(&quot;---&gt; &quot; + line);\r\n                        break; // don&#39;t need to read any more input\r\n                    }\r\n                }\r\n    \r\n                final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n                if(line != null){\r\n                    final LocalDateTime dt = LocalDateTime.parse(line, formatter);\r\n                    System.out.println(&quot;---&gt; &quot; + dt);\r\n                    System.out.println(&quot;---&gt; Not available &quot; + domain);\r\n    \r\n                } else {\r\n                    System.out.println(&quot;---&gt; Available &quot; + domain);\r\n                }\r\n            }\r\n    \r\n            out.flush();\r\n            out.close();\r\n        }\r\n\r\nWhen I run the code I get this exception:\r\n\r\n    ---&gt; 2026-09-21T04:00:00Z\r\n    ---&gt; 2026-09-21T04:00\r\n    ---&gt; Not available cnn.com\r\n    java.net.SocketException: Socket is closed\r\n    \tat java.base/java.net.Socket.getOutputStream(Socket.java:998)\r\n\r\nDo you know how I can reuse the socket many times?\r\n\r\n","title":"java.net.SocketException: Socket is closed when reusing second time","body":"<p>I want to reuse a network socket. I tried this:</p>\n<pre><code>    private final static String WHOIS_HOST = &quot;whois.verisign-grs.com&quot;;\n    private final static int WHOIS_PORT = 43;\n\n    @Test\n    void justAnExample() {\n\n        try {\n\n            Socket socket = new Socket(WHOIS_HOST, WHOIS_PORT);\n            socket.setSoTimeout(5000);\n\n            sendRequest(socket, &quot;cnn.com&quot;);\n\n            Thread.sleep(2000);\n\n            sendRequest(socket, &quot;youtube.com&quot;);\n\n            Thread.sleep(2000);\n\n            sendRequest(socket, &quot;toyota.com&quot;);\n\n            socket.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void sendRequest(Socket socket, String domain) throws IOException {\n\n        OutputStream out = socket.getOutputStream();\n        out.write((domain + &quot;\\r\\n&quot;).getBytes());\n\n        try (BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()))) {\n            String line;\n            while ((line = input.readLine()) != null) {\n                if (line.contains(&quot;Registry Expiry Date&quot;)) {\n                    line = line.substring(line.indexOf(':') + 1).trim();\n                    System.out.println(&quot;---&gt; &quot; + line);\n                    break; // don't need to read any more input\n                }\n            }\n\n            final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;);\n            if(line != null){\n                final LocalDateTime dt = LocalDateTime.parse(line, formatter);\n                System.out.println(&quot;---&gt; &quot; + dt);\n                System.out.println(&quot;---&gt; Not available &quot; + domain);\n\n            } else {\n                System.out.println(&quot;---&gt; Available &quot; + domain);\n            }\n        }\n\n        out.flush();\n        out.close();\n    }\n</code></pre>\n<p>When I run the code I get this exception:</p>\n<pre><code>---&gt; 2026-09-21T04:00:00Z\n---&gt; 2026-09-21T04:00\n---&gt; Not available cnn.com\njava.net.SocketException: Socket is closed\n    at java.base/java.net.Socket.getOutputStream(Socket.java:998)\n</code></pre>\n<p>Do you know how I can reuse the socket many times?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriver-manager","selenium4"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1679291262,"post_id":75786869,"comment_id":133688393,"body_markdown":"Can you add the full `code` ? What `error` are you getting ?","body":"Can you add the full <code>code</code> ? What <code>error</code> are you getting ?"},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1679293455,"post_id":75786869,"comment_id":133688668,"body_markdown":"Does this answer your question? [Java.io.IOException: Invalid Status code=403 text=Forbidden](https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden\">Java.io.IOException: Invalid Status code=403 text=Forbidden</a>"}],"owner":{"account_id":27953549,"reputation":21,"user_id":21346836,"display_name":"Priyanka Srivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679293928,"answer_count":0,"score":1,"last_activity_date":1679290836,"creation_date":1679290836,"question_id":75786869,"body_markdown":"`Facing error while launching chrome driver.\r\n\r\nWebDriverManager.chromedriver().setup();\r\n\r\n\r\n\t\tChromeDriver driver = new ChromeDriver();\r\n\r\n\r\n\t\tdriver. manage().window().maximize();\r\n\r\n\r\nNot working to launch chrome driver.`","title":"how to resolve error Invalid Status code=403 text=Forbidden in selenium 4","body":"<p>`Facing error while launching chrome driver.</p>\n<p>WebDriverManager.chromedriver().setup();</p>\n<pre><code>    ChromeDriver driver = new ChromeDriver();\n\n\n    driver. manage().window().maximize();\n</code></pre>\n<p>Not working to launch chrome driver.`</p>\n"},{"tags":["java","eclipse","hibernate"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678979318,"post_id":75753750,"comment_id":133641250,"body_markdown":"You should include the libraries into your exported jar. I suggest you to use maven/gradle system to do this. You can also check for option to export them too but idk if it will works fine. You can also include in path at runtime thanks to command param","body":"You should include the libraries into your exported jar. I suggest you to use maven/gradle system to do this. You can also check for option to export them too but idk if it will works fine. You can also include in path at runtime thanks to command param"},{"owner":{"account_id":21415586,"reputation":21,"user_id":15774888,"display_name":"Jerrish Carol"},"score":0,"creation_date":1679034718,"post_id":75753750,"comment_id":133651726,"body_markdown":"May I know what do you mean by exported jar...since, I&#39;ve already added libraries and external jars in build path...\nAlso I&#39;m not using maven/gradle since it&#39;s a basic hibernate program","body":"May I know what do you mean by exported jar...since, I&#39;ve already added libraries and external jars in build path... Also I&#39;m not using maven/gradle since it&#39;s a basic hibernate program"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679036654,"post_id":75753750,"comment_id":133652043,"body_markdown":"You are running everything directly from eclipse console ? If yes, sorry but the exported jar thing isn&#39;t for you","body":"You are running everything directly from eclipse console ? If yes, sorry but the exported jar thing isn&#39;t for you"},{"owner":{"account_id":21415586,"reputation":21,"user_id":15774888,"display_name":"Jerrish Carol"},"score":0,"creation_date":1679037731,"post_id":75753750,"comment_id":133652250,"body_markdown":"Yes, I am running from eclipse","body":"Yes, I am running from eclipse"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679037868,"post_id":75753750,"comment_id":133652298,"body_markdown":"Ok, so I suggest you to check for eclipse config and be sure it&#39;s running with good java version for example","body":"Ok, so I suggest you to check for eclipse config and be sure it&#39;s running with good java version for example"}],"answers":[{"tags":[],"owner":{"account_id":21415586,"reputation":21,"user_id":15774888,"display_name":"Jerrish Carol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679290618,"creation_date":1679290327,"answer_id":75786833,"question_id":75753750,"body_markdown":"Adding the below dependency for hibernate version 5.4.24 (\r\nearlier I had 5.2.11) changing to JRE - 11 and also by fixing the project structure with maven clears the error\r\n\r\n``` \r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.24.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nAlso adding the below dependencies for jaxb and mysql connector helps...\r\n```\r\n \r\n    &lt;!-- Mysql Connector --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.2.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n","title":"java.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass","body":"<p>Adding the below dependency for hibernate version 5.4.24 (\nearlier I had 5.2.11) changing to JRE - 11 and also by fixing the project structure with maven clears the error</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.4.24.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Also adding the below dependencies for jaxb and mysql connector helps...</p>\n<pre><code> \n    &lt;!-- Mysql Connector --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":21415586,"reputation":21,"user_id":15774888,"display_name":"Jerrish Carol"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679290618,"creation_date":1678955974,"question_id":75753750,"body_markdown":"Project Directory structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\nExternal jar files\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI am working on a basic hibernate program.\r\n\r\nPlayer.java:\r\n\r\n```\r\npackage com.to;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n\r\n@Table\r\npublic class Player {\r\n\t\r\n\t@Id\r\n\tprivate int playerId;\r\n\tprivate String playerName; \r\n\tprivate int age;\r\n\tprivate String teamName;\r\n\t\r\n\tpublic Player(int playerId, String playerName, int age, String teamName) {\r\n\t\tsuper();\r\n\t\tthis.playerId = playerId;\r\n\t\tthis.playerName = playerName;\r\n\t\tthis.age = age;\r\n\t\tthis.teamName = teamName;\r\n\t}\r\n\r\n\tpublic int getPlayerId() {\r\n\t\treturn playerId;\r\n\t}\r\n\r\n\tpublic void setPlayerId(int playerId) {\r\n\t\tthis.playerId = playerId;\r\n\t}\r\n\r\n\tpublic String getPlayerName() {\r\n\t\treturn playerName;\r\n\t}\r\n\r\n\tpublic void setPlayerName(String playerName) {\r\n\t\tthis.playerName = playerName;\r\n\t}\r\n\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\tpublic void setAge(int age) {\r\n\t\tthis.age = age;\r\n\t}\r\n\r\n\tpublic String getTeamName() {\r\n\t\treturn teamName;\r\n\t}\r\n\r\n\tpublic void setTeamName(String teamName) {\r\n\t\tthis.teamName = teamName;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Player [playerId=&quot; + playerId + &quot;, playerName=&quot; + playerName + &quot;, age=&quot; + age + &quot;, teamName=&quot; + teamName\r\n\t\t\t\t+ &quot;]&quot;;\r\n\t} \r\n\t\r\n\tpublic Player() {\r\n\t\t\r\n\t}\t\r\n\r\n}\r\n```\r\n\r\nHibernateMain.java:\r\n\r\n```\r\npackage com.control;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\nimport com.to.Player;\r\n\r\npublic class HibernateMain {\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\tConfiguration config = new Configuration().configure();\r\n\t\tconfig.addAnnotatedClass(com.to.Player.class);\r\n\t\tStandardServiceRegistryBuilder builder = \r\n\t\t\t\t\tnew StandardServiceRegistryBuilder().applySettings(config.getProperties());\r\n\t    SessionFactory factory = config.buildSessionFactory(builder.build());\r\n\t    \r\n\t    Session session = factory.openSession();\r\n\t    Transaction transaction = session.beginTransaction();\r\n\t    Player p1 = new Player(10,&quot;Amit&quot;,30,&quot;India&quot;);\r\n\t    session.save(p1);\r\n\t    transaction.commit();\r\n\t    session.close();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nhibernate.cfg.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!--\r\n ~ Hibernate Search, full-text search for your domain model\r\n ~\r\n ~ License: GNU Lesser General Public License (LGPL), version 2.1 or later\r\n ~ See the lgpl.txt file in the root directory or &lt;http://www.gnu.org/licenses/lgpl-2.1.html&gt;.\r\n  --&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n  &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:1521/simplilearn_db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;scott&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;hr&lt;/property&gt;\r\n\r\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n        &lt;!-- SQL dialect --&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        \r\n\r\n        &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n        &lt;!-- Disable the second-level cache  --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n\r\n        &lt;!-- Echo all executed SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;hibernate.search.default.directory_provider&quot;&gt;filesystem&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.search.default.indexBase&quot;&gt;target/indexes&lt;/property&gt;\r\n\t\t&lt;mapping class=&quot;org.hibernate.search.test.spatial.POI&quot;/&gt;\r\n\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nI am encountering errors\r\n```\r\nINFO: HHH000412: Hibernate Core {5.2.11.Final}\r\nMar 16, 2023 1:08:26 PM org.hibernate.cfg.Environment \\&lt;clinit\\&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\nMar 16, 2023 1:08:26 PM com.sun.xml.bind.v2.runtime.reflect.opt.Injector \\&lt;clinit\\&gt;\r\nSEVERE: null\r\njava.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,\\[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\r\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:573)\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.\\&lt;clinit\\&gt;(Injector.java:197)\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:81)\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:179)\r\nat com.sun.xml.bind.v2.runtime.reflect.Accessor$FieldReflection.optimize(Accessor.java:285)\r\nat com.sun.xml.bind.v2.runtime.property.SingleElementNodeProperty.\\&lt;init\\&gt;(SingleElementNodeProperty.java:94)\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\nat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:128)\r\nat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.\\&lt;init\\&gt;(ClassBeanInfoImpl.java:181)\r\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:514)\r\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\\&lt;init\\&gt;(JAXBContextImpl.java:331)\r\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\\&lt;init\\&gt;(JAXBContextImpl.java:139)\r\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156)\r\nat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:297)\r\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286)\r\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:409)\r\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\nat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:122)\r\nat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\r\nat org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\r\nat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\r\nat org.hibernate.cfg.Configuration.configure(Configuration.java:258)\r\nat org.hibernate.cfg.Configuration.configure(Configuration.java:244)\r\nat com.control.HibernateMain.main(HibernateMain.java:14)\r\nCaused by: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,\\[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\r\nat java.base/java.lang.Class.getMethod(Class.java:2227)\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:201)\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:197)\r\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n... 33 more\r\n\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object\\[\\])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:311)\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:97)\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:87)\r\nat com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:179)\r\nat com.sun.xml.bind.v2.runtime.reflect.Accessor$FieldReflection.optimize(Accessor.java:285)\r\nat com.sun.xml.bind.v2.runtime.property.SingleElementNodeProperty.\\&lt;init\\&gt;(SingleElementNodeProperty.java:94)\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\nat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:128)\r\nat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.\\&lt;init\\&gt;(ClassBeanInfoImpl.java:181)\r\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:514)\r\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\\&lt;init\\&gt;(JAXBContextImpl.java:331)\r\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\\&lt;init\\&gt;(JAXBContextImpl.java:139)\r\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156)\r\nat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:297)\r\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286)\r\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:409)\r\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\nat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:122)\r\nat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\r\nat org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\r\nat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\r\nat org.hibernate.cfg.Configuration.configure(Configuration.java:258)\r\nat org.hibernate.cfg.Configuration.configure(Configuration.java:244)\r\nat com.control.HibernateMain.main(HibernateMain.java:14)\r\n```\r\n\r\nSince I&#39;m new to this technology, I have no idea about the errors listed.\r\n\r\nI tried adding jaxb-2.3.0 jar files jaxb-runtime jar file to clear this out but it doesn&#39;t seem to work\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ARKiy.png\r\n  [2]: https://i.stack.imgur.com/He85z.png","title":"java.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass","body":"<p>Project Directory structure</p>\n<p><a href=\"https://i.stack.imgur.com/ARKiy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ARKiy.png\" alt=\"enter image description here\" /></a></p>\n<p>External jar files</p>\n<p><a href=\"https://i.stack.imgur.com/He85z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/He85z.png\" alt=\"enter image description here\" /></a></p>\n<p>I am working on a basic hibernate program.</p>\n<p>Player.java:</p>\n<pre><code>package com.to;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n\n@Table\npublic class Player {\n    \n    @Id\n    private int playerId;\n    private String playerName; \n    private int age;\n    private String teamName;\n    \n    public Player(int playerId, String playerName, int age, String teamName) {\n        super();\n        this.playerId = playerId;\n        this.playerName = playerName;\n        this.age = age;\n        this.teamName = teamName;\n    }\n\n    public int getPlayerId() {\n        return playerId;\n    }\n\n    public void setPlayerId(int playerId) {\n        this.playerId = playerId;\n    }\n\n    public String getPlayerName() {\n        return playerName;\n    }\n\n    public void setPlayerName(String playerName) {\n        this.playerName = playerName;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getTeamName() {\n        return teamName;\n    }\n\n    public void setTeamName(String teamName) {\n        this.teamName = teamName;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Player [playerId=&quot; + playerId + &quot;, playerName=&quot; + playerName + &quot;, age=&quot; + age + &quot;, teamName=&quot; + teamName\n                + &quot;]&quot;;\n    } \n    \n    public Player() {\n        \n    }   \n\n}\n</code></pre>\n<p>HibernateMain.java:</p>\n<pre><code>package com.control;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\n\nimport com.to.Player;\n\npublic class HibernateMain {\n    \n    public static void main(String args[]) {\n        Configuration config = new Configuration().configure();\n        config.addAnnotatedClass(com.to.Player.class);\n        StandardServiceRegistryBuilder builder = \n                    new StandardServiceRegistryBuilder().applySettings(config.getProperties());\n        SessionFactory factory = config.buildSessionFactory(builder.build());\n        \n        Session session = factory.openSession();\n        Transaction transaction = session.beginTransaction();\n        Player p1 = new Player(10,&quot;Amit&quot;,30,&quot;India&quot;);\n        session.save(p1);\n        transaction.commit();\n        session.close();\n    }\n\n}\n</code></pre>\n<p>hibernate.cfg.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--\n ~ Hibernate Search, full-text search for your domain model\n ~\n ~ License: GNU Lesser General Public License (LGPL), version 2.1 or later\n ~ See the lgpl.txt file in the root directory or &lt;http://www.gnu.org/licenses/lgpl-2.1.html&gt;.\n  --&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n  &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:1521/simplilearn_db&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;scott&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;hr&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        \n\n        &lt;!-- Enable Hibernate's automatic session context management --&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache  --&gt;\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n        &lt;!-- Echo all executed SQL to stdout --&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.search.default.directory_provider&quot;&gt;filesystem&lt;/property&gt;\n        &lt;property name=&quot;hibernate.search.default.indexBase&quot;&gt;target/indexes&lt;/property&gt;\n        &lt;mapping class=&quot;org.hibernate.search.test.spatial.POI&quot;/&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>I am encountering errors</p>\n<pre><code>INFO: HHH000412: Hibernate Core {5.2.11.Final}\nMar 16, 2023 1:08:26 PM org.hibernate.cfg.Environment \\&lt;clinit\\&gt;\nINFO: HHH000206: hibernate.properties not found\nMar 16, 2023 1:08:26 PM com.sun.xml.bind.v2.runtime.reflect.opt.Injector \\&lt;clinit\\&gt;\nSEVERE: null\njava.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,\\[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:573)\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.\\&lt;clinit\\&gt;(Injector.java:197)\nat com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:81)\nat com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:179)\nat com.sun.xml.bind.v2.runtime.reflect.Accessor$FieldReflection.optimize(Accessor.java:285)\nat com.sun.xml.bind.v2.runtime.property.SingleElementNodeProperty.\\&lt;init\\&gt;(SingleElementNodeProperty.java:94)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:128)\nat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.\\&lt;init\\&gt;(ClassBeanInfoImpl.java:181)\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:514)\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\\&lt;init\\&gt;(JAXBContextImpl.java:331)\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\\&lt;init\\&gt;(JAXBContextImpl.java:139)\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156)\nat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:297)\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286)\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:409)\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\nat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:122)\nat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\nat org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\nat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\nat org.hibernate.cfg.Configuration.configure(Configuration.java:258)\nat org.hibernate.cfg.Configuration.configure(Configuration.java:244)\nat com.control.HibernateMain.main(HibernateMain.java:14)\nCaused by: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,\\[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\nat java.base/java.lang.Class.getMethod(Class.java:2227)\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:201)\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:197)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n... 33 more\n\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object\\[\\])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:311)\nat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:97)\nat com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:87)\nat com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:179)\nat com.sun.xml.bind.v2.runtime.reflect.Accessor$FieldReflection.optimize(Accessor.java:285)\nat com.sun.xml.bind.v2.runtime.property.SingleElementNodeProperty.\\&lt;init\\&gt;(SingleElementNodeProperty.java:94)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:128)\nat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.\\&lt;init\\&gt;(ClassBeanInfoImpl.java:181)\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:514)\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\\&lt;init\\&gt;(JAXBContextImpl.java:331)\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\\&lt;init\\&gt;(JAXBContextImpl.java:139)\nat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156)\nat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:297)\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286)\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:409)\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\nat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:122)\nat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\nat org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\nat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\nat org.hibernate.cfg.Configuration.configure(Configuration.java:258)\nat org.hibernate.cfg.Configuration.configure(Configuration.java:244)\nat com.control.HibernateMain.main(HibernateMain.java:14)\n</code></pre>\n<p>Since I'm new to this technology, I have no idea about the errors listed.</p>\n<p>I tried adding jaxb-2.3.0 jar files jaxb-runtime jar file to clear this out but it doesn't seem to work</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","integration-testing"],"comments":[{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679273594,"post_id":75785824,"comment_id":133686696,"body_markdown":"postgres would not accept that jdbc url because it needs to be accepted by testcontainers. is testcontainers on the classpath? additionally, im not sure that is a well-formed jdbc url after adding the `tc:`, e.g. on [this page](https://www.testcontainers.org/modules/databases/jdbc/#jdbc-url-examples) there is an example given: `jdbc:tc:postgresql:9.6.8:///databasename`. i think maybe you meant to put `jdbc:tc:postgresql:11.1:///product`","body":"postgres would not accept that jdbc url because it needs to be accepted by testcontainers. is testcontainers on the classpath? additionally, im not sure that is a well-formed jdbc url after adding the <code>tc:</code>, e.g. on <a href=\"https://www.testcontainers.org/modules/databases/jdbc/#jdbc-url-examples\" rel=\"nofollow noreferrer\">this page</a> there is an example given: <code>jdbc:tc:postgresql:9.6.8:&#47;&#47;&#47;databasename</code>. i think maybe you meant to put <code>jdbc:tc:postgresql:11.1:&#47;&#47;&#47;product</code>"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679273982,"post_id":75785824,"comment_id":133686738,"body_markdown":"sorry, how can I check this -&gt; &quot;is testcontainers on the classpath?&quot;","body":"sorry, how can I check this -&gt; &quot;is testcontainers on the classpath?&quot;"},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679274071,"post_id":75785824,"comment_id":133686748,"body_markdown":"you would have had to add it in maven or gradle or somewhere. e.g. [like so](https://github.com/alexanderankin/how-to-do-in-spring/commit/ff0528eece4b1595a54c54fbf56b83085ff2dc84#diff-c50119a1b0e79f860847cb72e78ff3f3c4c7237450b924720e87c1c7468cb35f) - for your case replace &quot;itestImplementation&quot; with &quot;testImplementation&quot;","body":"you would have had to add it in maven or gradle or somewhere. e.g. <a href=\"https://github.com/alexanderankin/how-to-do-in-spring/commit/ff0528eece4b1595a54c54fbf56b83085ff2dc84#diff-c50119a1b0e79f860847cb72e78ff3f3c4c7237450b924720e87c1c7468cb35f\" rel=\"nofollow noreferrer\">like so</a> - for your case replace &quot;itestImplementation&quot; with &quot;testImplementation&quot;"},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679274127,"post_id":75785824,"comment_id":133686756,"body_markdown":"ill be honest though, I don&#39;t quite know how that url magic works. i just stick to the basic &quot;new XContainer().start()&quot; pattern.","body":"ill be honest though, I don&#39;t quite know how that url magic works. i just stick to the basic &quot;new XContainer().start()&quot; pattern."},{"owner":{"display_name":"user21431812"},"score":1,"creation_date":1679274229,"post_id":75785824,"comment_id":133686771,"body_markdown":"Do I need to add these 2 lines (for Maven) ? `itestImplementation platform(&#39;org.testcontainers:testcontainers-bom:1.17.6&#39;)\n    itestImplementation(&#39;org.testcontainers:postgresql&#39;)`","body":"Do I need to add these 2 lines (for Maven) ? <code>itestImplementation platform(&#39;org.testcontainers:testcontainers-bom:1.17.6&#39;)     itestImplementation(&#39;org.testcontainers:postgresql&#39;)</code>"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679274352,"post_id":75785824,"comment_id":133686785,"body_markdown":"What about using something like `spring.datasource.url=jdbc:tc:postgresql:13.2-alpine://payment` without needing to add any maven dependency? I also tried it, but not worked","body":"What about using something like <code>spring.datasource.url=jdbc:tc:postgresql:13.2-alpine:&#47;&#47;payme&zwnj;&#8203;nt</code> without needing to add any maven dependency? I also tried it, but not worked"},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679275063,"post_id":75785824,"comment_id":133686855,"body_markdown":"have to add the dependency. the `jdbc:tc:` part makes it use a separate driver. and they just put the initialization code in the driver itself. and yes - it would look different (&lt;dep...&gt;&lt;gro..&gt;org.testcontainers&lt;/g...&gt;&lt;....&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dep...&gt;) for maven but yes.","body":"have to add the dependency. the <code>jdbc:tc:</code> part makes it use a separate driver. and they just put the initialization code in the driver itself. and yes - it would look different (&lt;dep...&gt;&lt;gro..&gt;org.testcontainers&lt;/g...&gt;&lt;....&gt;&lt;scope&gt;test&lt;/&zwnj;&#8203;scope&gt;&lt;/dep...&gt;) for maven but yes."},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679275220,"post_id":75785824,"comment_id":133686869,"body_markdown":"added 2 dependencies and tried with different urls, and not working :(","body":"added 2 dependencies and tried with different urls, and not working :("},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679275300,"post_id":75785824,"comment_id":133686877,"body_markdown":"try adding just `&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;1.17.6&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n`","body":"try adding just <code>&lt;dependency&gt;     &lt;groupId&gt;org.testcontainers&lt;&#47;groupId&gt;     &lt;artifactId&gt;postgresql&lt;&#47;artifactId&gt;     &lt;version&gt;1.17.6&lt;&#47;version&gt;     &lt;scope&gt;test&lt;&#47;scope&gt; &lt;&#47;dependency&gt; </code>"},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679275347,"post_id":75785824,"comment_id":133686880,"body_markdown":"also - try doing the initializer. because then you will see if it is on the classpath at compile time, as your program will contain references directly to the classes.","body":"also - try doing the initializer. because then you will see if it is on the classpath at compile time, as your program will contain references directly to the classes."},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679275970,"post_id":75785824,"comment_id":133686935,"body_markdown":"What do you mean with also - try doing the initializer. ?","body":"What do you mean with also - try doing the initializer. ?"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679276012,"post_id":75785824,"comment_id":133686940,"body_markdown":"I tried only this dependency that you shared, but still not working","body":"I tried only this dependency that you shared, but still not working"},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679277067,"post_id":75785824,"comment_id":133687040,"body_markdown":"i think you might have to post an mvce (like including your pom.xml) to hopefully get some input from someone who knows maven. but its an older technology. I&#39;ve only seen gradle at work.","body":"i think you might have to post an mvce (like including your pom.xml) to hopefully get some input from someone who knows maven. but its an older technology. I&#39;ve only seen gradle at work."},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679277153,"post_id":75785824,"comment_id":133687053,"body_markdown":"try adding an initializer like [here](https://github.com/alexanderankin/how-to-do-in-spring/blob/ff0528eece4b1595a54c54fbf56b83085ff2dc84/testing/integration/simple/reserved-name/src/itest/java/org/example/ReservedNameApplicationITest.java#L28) (which [references classes from the library](https://github.com/alexanderankin/how-to-do-in-spring/blob/ff0528eece4b1595a54c54fbf56b83085ff2dc84/testing/integration/simple/reserved-name/src/itest/java/org/example/ReservedNameApplicationITest.java#L61))","body":"try adding an initializer like <a href=\"https://github.com/alexanderankin/how-to-do-in-spring/blob/ff0528eece4b1595a54c54fbf56b83085ff2dc84/testing/integration/simple/reserved-name/src/itest/java/org/example/ReservedNameApplicationITest.java#L28\" rel=\"nofollow noreferrer\">here</a> (which <a href=\"https://github.com/alexanderankin/how-to-do-in-spring/blob/ff0528eece4b1595a54c54fbf56b83085ff2dc84/testing/integration/simple/reserved-name/src/itest/java/org/example/ReservedNameApplicationITest.java#L61\" rel=\"nofollow noreferrer\">references classes from the library</a>)"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679290607,"post_id":75785824,"comment_id":133688314,"body_markdown":"Thanks, actually I shared all the necessary classes, etc. And I added my pom.xml (related part) as Update. Could you have a look at?","body":"Thanks, actually I shared all the necessary classes, etc. And I added my pom.xml (related part) as Update. Could you have a look at?"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679290679,"post_id":75785824,"comment_id":133688321,"body_markdown":"At the last step, it continued after downloading image and applied migrations. Just throw &quot;memory leak error&quot;. I will restart PC and retry again. But actually I would like to apply this using my application-test.yml","body":"At the last step, it continued after downloading image and applied migrations. Just throw &quot;memory leak error&quot;. I will restart PC and retry again. But actually I would like to apply this using my application-test.yml"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679291986,"post_id":75785824,"comment_id":133688473,"body_markdown":"Not it&#39;s giving &quot;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authTokenFilter&#39;: Unsatisfied dependency expressed through field &#39;jwtUtils&#39;: Error creating bean with name &#39;jwtUtils&#39;: Injection of autowired dependencies failed&quot;","body":"Not it&#39;s giving &quot;org.springframework.beans.factory.UnsatisfiedDependencyExce&zwnj;&#8203;ption: Error creating bean with name &#39;authTokenFilter&#39;: Unsatisfied dependency expressed through field &#39;jwtUtils&#39;: Error creating bean with name &#39;jwtUtils&#39;: Injection of autowired dependencies failed&quot;"}],"answers":[{"tags":[],"owner":{"account_id":21442035,"reputation":1,"user_id":15796397,"display_name":"joseosorioc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679289081,"creation_date":1679281896,"answer_id":75786299,"question_id":75785824,"body_markdown":"You should probably change the imagen version for postgres. Maybe you can try with a previous version.\r\n\r\nExample: \r\n```\r\n&lt;embedded-database-spring-test.version&gt;2.0.1&lt;/embedded-database-spring-test.version&gt;\r\n```","title":"@SpringBootTest cannot initialize PostgreSQL database","body":"<p>You should probably change the imagen version for postgres. Maybe you can try with a previous version.</p>\n<p>Example:</p>\n<pre><code>&lt;embedded-database-spring-test.version&gt;2.0.1&lt;/embedded-database-spring-test.version&gt;\n</code></pre>\n"}],"owner":{"display_name":"user21431812"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679290554,"creation_date":1679273243,"question_id":75785824,"body_markdown":"I am trying to create database for my Integration Test using `@SpringBootTest` as shown below:\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@Transactional\r\n@ActiveProfiles(&quot;test&quot;)\r\nabstract public class IntegrationTest {\r\n\r\n    @Autowired\r\n    protected MockMvc mvc;\r\n}\r\n```\r\n\r\n\r\n```\r\nclass ProductControllerTest extends IntegrationTest {\r\n\r\n    @Test\r\n    // @Sql(&quot;/create-product.sql&quot;)\r\n    void findById() throws Exception {\r\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;TV&quot;)));\r\n    }\r\n\r\n    //...\r\n\r\n}\r\n```\r\n\r\nHere is the `application-test.yml` file:\r\n\r\n```\r\n\r\nspring:\r\n  datasource:\r\n#    url: jdbc:postgresql:13.2-alpine://product\r\n#    url: jdbc:postgresql://localhost:5432/product\r\n     url: jdbc:tc:postgresql:11:1:///product\r\n\r\n  flyway:\r\n    enabled: true\r\n    placeholderReplacement: false\r\n    baseline-on-migrate: true\r\n```\r\n\r\n\r\n\r\nI tried several url as shown above, but none of them is working and gives:\r\n\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Driver org.postgresql.Driver claims to not accept jdbcUrl, jdbc:tc:postgresql:11:1:///product\r\n    2023-03-20 03:37:26.933 ERROR 26832 --- [    main] SpringApplication                        : Application run failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Driver org.postgresql.Driver claims to not accept jdbcUrl, jdbc:tc:postgresql:11:1:///product\r\n\r\nSo, what is the problem? Should I use initial sql script or is there any implementation for Flyway? \r\n\r\n**Update:** Here is also related dependencies on pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n            &lt;version&gt;9.15.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.6&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n&lt;!--        Also tried with these --&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;1.17.6&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;type&gt;pom&lt;/type&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;1.17.6&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n```","title":"@SpringBootTest cannot initialize PostgreSQL database","body":"<p>I am trying to create database for my Integration Test using <code>@SpringBootTest</code> as shown below:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@Transactional\n@ActiveProfiles(&quot;test&quot;)\nabstract public class IntegrationTest {\n\n    @Autowired\n    protected MockMvc mvc;\n}\n</code></pre>\n<pre><code>class ProductControllerTest extends IntegrationTest {\n\n    @Test\n    // @Sql(&quot;/create-product.sql&quot;)\n    void findById() throws Exception {\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;TV&quot;)));\n    }\n\n    //...\n\n}\n</code></pre>\n<p>Here is the <code>application-test.yml</code> file:</p>\n<pre><code>\nspring:\n  datasource:\n#    url: jdbc:postgresql:13.2-alpine://product\n#    url: jdbc:postgresql://localhost:5432/product\n     url: jdbc:tc:postgresql:11:1:///product\n\n  flyway:\n    enabled: true\n    placeholderReplacement: false\n    baseline-on-migrate: true\n</code></pre>\n<p>I tried several url as shown above, but none of them is working and gives:</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Driver org.postgresql.Driver claims to not accept jdbcUrl, jdbc:tc:postgresql:11:1:///product\n2023-03-20 03:37:26.933 ERROR 26832 --- [    main] SpringApplication                        : Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Driver org.postgresql.Driver claims to not accept jdbcUrl, jdbc:tc:postgresql:11:1:///product\n</code></pre>\n<p>So, what is the problem? Should I use initial sql script or is there any implementation for Flyway?</p>\n<p><strong>Update:</strong> Here is also related dependencies on pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n            &lt;version&gt;9.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;1.17.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n&lt;!--        Also tried with these --&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.17.6&lt;/version&gt;--&gt;\n&lt;!--            &lt;type&gt;pom&lt;/type&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.17.6&lt;/version&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n</code></pre>\n"},{"tags":["java","json","visual-studio-code","javafx","schema"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1679290130,"creation_date":1679290130,"answer_id":75786822,"question_id":75777927,"body_markdown":"So your error exists in the *settins.json* file? Then why not show the complete content, and show the detailed error interface?\r\n\r\n- The easiest way should be to restart your vscode and make sure its version and extensions are up to date.\r\n\r\n- You can also delete the *settings.json* file and reconfigure.\r\n\r\n- Another setting that may be relevant is the web proxy, which you can turn off by adding the following setting\r\n\r\n```json\r\n\t&quot;http.proxySupport&quot;: &quot;off&quot;,\r\n```","title":"Problem with loading schema in vscode settings.json file","body":"<p>So your error exists in the <em>settins.json</em> file? Then why not show the complete content, and show the detailed error interface?</p>\n<ul>\n<li><p>The easiest way should be to restart your vscode and make sure its version and extensions are up to date.</p>\n</li>\n<li><p>You can also delete the <em>settings.json</em> file and reconfigure.</p>\n</li>\n<li><p>Another setting that may be relevant is the web proxy, which you can turn off by adding the following setting</p>\n</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;http.proxySupport&quot;: &quot;off&quot;,\n</code></pre>\n"}],"owner":{"account_id":24203642,"reputation":21,"user_id":18161148,"display_name":"Mahmud Araf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75786822,"answer_count":1,"score":0,"last_activity_date":1679290130,"creation_date":1679164726,"question_id":75777927,"body_markdown":"I have added this java classPath in the settings.json file to work with JavaFx in vscode in Ubuntu 22.04\r\n\r\n```\r\n&quot;java.classPath&quot;: &quot;/usr/share/openjfx/lib&quot;,\r\n```\r\n\r\nAfter adding this line  the error messages that Java Compiler showed me previously related to JavaFX packages and methods have disappeared. Also intellisense and suggestions for JavaFX is working.\r\n\r\nBut I am having this error messages in settings.json file\r\n\r\n&gt; Unable to load schema from &#39;vscode://schemas/settings/folder&#39;: cannot open vscode://schemas/settings/folder. Detail: Unable to resolve text model content for resource vscode://schemas/settings/folder.\r\n\r\nmy settings.json file look like this:\r\n\r\n```\r\n{   \r\n    &quot;java.classPath&quot;: &quot;/usr/share/openjfx/lib&quot;,\r\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n        &quot;/usr/share/openjfx/lib/javafx.web.jar&quot;,\r\n        &quot;/usr/share/openjfx/lib/javafx.swing.jar&quot;,\r\n        &quot;/usr/share/openjfx/lib/javafx.media.jar&quot;,\r\n        &quot;/usr/share/openjfx/lib/javafx.graphics.jar&quot;,\r\n        &quot;/usr/share/openjfx/lib/javafx.fxml.jar&quot;,\r\n        &quot;/usr/share/openjfx/lib/javafx.controls.jar&quot;,\r\n        &quot;/usr/share/openjfx/lib/javafx.base.jar&quot;\r\n    ],\r\n    &quot;java.debug.settings.onBuildFailureProceed&quot;: true\r\n}\r\n\r\n```\r\n\r\ni tried changing schema folder by the link that I got from chatGPT and also searched some questions related to this in here. But none of them worked. ","title":"Problem with loading schema in vscode settings.json file","body":"<p>I have added this java classPath in the settings.json file to work with JavaFx in vscode in Ubuntu 22.04</p>\n<pre><code>&quot;java.classPath&quot;: &quot;/usr/share/openjfx/lib&quot;,\n</code></pre>\n<p>After adding this line  the error messages that Java Compiler showed me previously related to JavaFX packages and methods have disappeared. Also intellisense and suggestions for JavaFX is working.</p>\n<p>But I am having this error messages in settings.json file</p>\n<blockquote>\n<p>Unable to load schema from 'vscode://schemas/settings/folder': cannot open vscode://schemas/settings/folder. Detail: Unable to resolve text model content for resource vscode://schemas/settings/folder.</p>\n</blockquote>\n<p>my settings.json file look like this:</p>\n<pre><code>{   \n    &quot;java.classPath&quot;: &quot;/usr/share/openjfx/lib&quot;,\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;,\n        &quot;/usr/share/openjfx/lib/javafx.web.jar&quot;,\n        &quot;/usr/share/openjfx/lib/javafx.swing.jar&quot;,\n        &quot;/usr/share/openjfx/lib/javafx.media.jar&quot;,\n        &quot;/usr/share/openjfx/lib/javafx.graphics.jar&quot;,\n        &quot;/usr/share/openjfx/lib/javafx.fxml.jar&quot;,\n        &quot;/usr/share/openjfx/lib/javafx.controls.jar&quot;,\n        &quot;/usr/share/openjfx/lib/javafx.base.jar&quot;\n    ],\n    &quot;java.debug.settings.onBuildFailureProceed&quot;: true\n}\n\n</code></pre>\n<p>i tried changing schema folder by the link that I got from chatGPT and also searched some questions related to this in here. But none of them worked.</p>\n"},{"tags":["java","inheritance","constructor"],"answers":[{"tags":[],"owner":{"account_id":5185952,"reputation":17062,"user_id":4150352,"accept_rate":75,"display_name":"Mohammed Aouf Zouag"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454137978,"creation_date":1454137631,"answer_id":35099089,"question_id":35099068,"body_markdown":"Yes, you can call an overloaded constructor of the superclass. And that should be the **first** statement inside the constructor. \r\n\r\nAnd no, you can only invoke the superclass&#39;s constructor once, so a call to `super(args)` would substitute the implicit call to `super()`. For the example:\r\n\r\nA.java\r\n------\r\n\r\n    public class A {\r\n        private String fieldA;\r\n        \r\n        public A(String a) {\r\n            fieldA = a;\r\n        }\r\n    }\r\n\r\nB.java\r\n------\r\n\r\n    public class B extends A {\r\n        private int fieldB;\r\n    \r\n        public B(String a, int b) {\r\n            // Call the overloaded constructor of the class A\r\n            super(a); // replaces the implicit call to super()\r\n            fieldB = b;\r\n        }\r\n    }\r\n\r\nbut if you do this, you will get an error because the call to `super()` is not the first statement of the constructor:\r\n\r\n    public B(String a, int b) {\r\n        fieldB = b;\r\n        super(a); // Call to super() must be first statement in constructor body\r\n    }","title":"Calling an overloaded constructor of superclass in Java","body":"<p>Yes, you can call an overloaded constructor of the superclass. And that should be the <strong>first</strong> statement inside the constructor. </p>\n\n<p>And no, you can only invoke the superclass's constructor once, so a call to <code>super(args)</code> would substitute the implicit call to <code>super()</code>. For the example:</p>\n\n<h2>A.java</h2>\n\n<pre><code>public class A {\n    private String fieldA;\n\n    public A(String a) {\n        fieldA = a;\n    }\n}\n</code></pre>\n\n<h2>B.java</h2>\n\n<pre><code>public class B extends A {\n    private int fieldB;\n\n    public B(String a, int b) {\n        // Call the overloaded constructor of the class A\n        super(a); // replaces the implicit call to super()\n        fieldB = b;\n    }\n}\n</code></pre>\n\n<p>but if you do this, you will get an error because the call to <code>super()</code> is not the first statement of the constructor:</p>\n\n<pre><code>public B(String a, int b) {\n    fieldB = b;\n    super(a); // Call to super() must be first statement in constructor body\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4964280,"reputation":4147,"user_id":3994197,"accept_rate":38,"display_name":"Vishal Gajera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454138070,"creation_date":1454138070,"answer_id":35099148,"question_id":35099068,"body_markdown":"&gt; Yes, we can override super-class&#39;s constructor call,  while override\r\n&gt; super-class&#39;s default constructor call it will not skip/avoid to call\r\n&gt; default constructor call.\r\n\r\n**Refer this code and kindly see output,** \r\n\r\n    Class A{\r\n      A(){\r\n            System.out.println(&quot;A-Default&quot;);\r\n      }\r\n      A(String msg){\r\n         System.out.println(&quot;A-With one Argument msg : &quot; + msg );\r\n      }\r\n    }\r\n    public Class B extends A{\r\n        B(){\r\n                 super(&quot;Hi&quot;);  \r\n                 System.out.println(&quot;B-Default&quot;);\r\n        }\r\n     \r\n        public static void main(String [] args){\r\n              new B();\r\n        }\r\n    \r\n    }\r\n\r\n    Output : \r\n    \r\n    A-With one Argument msg : Hi\r\n    B-Default\r\n\r\n   ","title":"Calling an overloaded constructor of superclass in Java","body":"<blockquote>\n  <p>Yes, we can override super-class's constructor call,  while override\n  super-class's default constructor call it will not skip/avoid to call\n  default constructor call.</p>\n</blockquote>\n\n<p><strong>Refer this code and kindly see output,</strong> </p>\n\n<pre><code>Class A{\n  A(){\n        System.out.println(\"A-Default\");\n  }\n  A(String msg){\n     System.out.println(\"A-With one Argument msg : \" + msg );\n  }\n}\npublic Class B extends A{\n    B(){\n             super(\"Hi\");  \n             System.out.println(\"B-Default\");\n    }\n\n    public static void main(String [] args){\n          new B();\n    }\n\n}\n\nOutput : \n\nA-With one Argument msg : Hi\nB-Default\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15370237,"reputation":21,"user_id":11088453,"display_name":"Ali Akbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679289185,"creation_date":1679289185,"answer_id":75786743,"question_id":35099068,"body_markdown":"in multilevel inheritance in java we use **super** keyword.\r\n\r\nI have made a small example so you understand the flow of execution of a super constructor when used in inheritance.\r\n\r\n    ***Calling Default Super Constructor***\r\n\r\n        class A {\r\n    \r\n    \tpublic int a ;\r\n    \tpublic int aa ;\r\n    \tA(){\r\n    \t   this.a = 20 ;\r\n    \t\tSystem.out.println(&quot;Constructor of class A is called&quot;) ;\r\n    \t\r\n    \t}\r\n    \tA(int aa){\r\n    \t\r\n    \t\tthis.aa = aa ;\r\n    \t\tSystem.out.println(&quot;Parameterized Constructor of class A is called&quot;) ;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    \r\n    class B extends A{\r\n    \r\n    \tpublic int b ;\r\n    \tpublic int bb ;\r\n    \tB(){\r\n    \tthis.b = 20 ;\r\n    \t\tSystem.out.println(&quot;Constructor of class B is called&quot;) ;\r\n    \t}\r\n    \tB(int bb){\r\n    \t\r\n    \t\tthis.bb = bb ;\r\n    \t\tSystem.out.println(&quot;Parameterized Constructor of class B is called&quot;) ;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class C extends B{\r\n    \r\n    \tpublic int c ;\r\n    \tpublic int cc ;\r\n    \tC(){\r\n    \t\tthis.c = 30 ;\r\n    \t\tSystem.out.println(&quot;Constructor of class C is called&quot;) ;\r\n    \t\r\n    \t}\r\n    \t\r\n    \tC(int cc){\r\n    \t\r\n    \t\tthis.cc = cc ;\r\n    \t\tSystem.out.println(&quot;Parameterized Constructor of class C is called&quot;) ;\r\n    \t}\r\n    \r\n    \r\n    }\r\n    \r\n    class MultiLevel{\r\n    \r\n    \tpublic static void main(String args[]){\r\n    \t\r\n    \t\tnew C() ;\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\n***Output***\r\n\r\n[![Default constructor called][1]][1]\r\n\r\n    ***Calling Parameterized Super Constructor***\r\n\r\n    class A {\r\n    \r\n    \tpublic int a ;\r\n    \tpublic int aa ;\r\n    \tA(){\r\n    \t   this.a = 20 ;\r\n    \t\tSystem.out.println(&quot;Constructor of class A is called&quot;) ;\r\n    \t\r\n    \t}\r\n    \tA(int aa){\r\n        \r\n    \t\tthis.aa = aa ;\r\n    \t\tSystem.out.println(&quot;Parameterized Constructor of class A is called&quot;) ;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    \r\n    class B extends A{\r\n    \r\n    \tpublic int b ;\r\n    \tpublic int bb ;\r\n    \tB(){\r\n    \tthis.b = 20 ;\r\n    \t\tSystem.out.println(&quot;Constructor of class B is called&quot;) ;\r\n    \t}\r\n    \tB(int bb){\r\n            super(33) ;\r\n    \t\tthis.bb = bb ;\r\n    \t\tSystem.out.println(&quot;Parameterized Constructor of class B is called&quot;) ;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class C extends B{\r\n    \r\n    \tpublic int c ;\r\n    \tpublic int cc ;\r\n    \tC(){\r\n    \t\tthis.c = 30 ;\r\n    \t\tSystem.out.println(&quot;Constructor of class C is called&quot;) ;\r\n    \t\r\n    \t}\r\n    \t\r\n    \tC(int cc){\r\n    \r\n            super(22) ;\r\n    \t\r\n    \t\tthis.cc = cc ;\r\n    \t\tSystem.out.println(&quot;Parameterized Constructor of class C is called&quot;) ;\r\n    \t}\r\n    \r\n    \r\n    }\r\n    \r\n    class MultiLevel{\r\n    \r\n    \tpublic static void main(String args[]){\r\n    \t\r\n    \t\tnew C(55) ;\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\n***Output***\r\n\r\n[![Parameterized Constructor Called][2]][2]\r\n\r\n***Conclusion***\r\n\r\nIf you call default super() constructor in child ==&gt; It will call default Constructor of immediate Parent Class\r\n\r\nIf you call parameterized super(Param) constructor in child ==&gt; It will call the Parameterized constructor of Parent class.\r\n\r\nBut which parent in multilevel inheritance ?\r\n\r\nOfcourse, the immediate parent.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pfJGP.png\r\n  [2]: https://i.stack.imgur.com/aa2XD.png","title":"Calling an overloaded constructor of superclass in Java","body":"<p>in multilevel inheritance in java we use <strong>super</strong> keyword.</p>\n<p>I have made a small example so you understand the flow of execution of a super constructor when used in inheritance.</p>\n<pre><code>***Calling Default Super Constructor***\n\n    class A {\n\n    public int a ;\n    public int aa ;\n    A(){\n       this.a = 20 ;\n        System.out.println(&quot;Constructor of class A is called&quot;) ;\n    \n    }\n    A(int aa){\n    \n        this.aa = aa ;\n        System.out.println(&quot;Parameterized Constructor of class A is called&quot;) ;\n    }\n    \n    \n\n}\n\nclass B extends A{\n\n    public int b ;\n    public int bb ;\n    B(){\n    this.b = 20 ;\n        System.out.println(&quot;Constructor of class B is called&quot;) ;\n    }\n    B(int bb){\n    \n        this.bb = bb ;\n        System.out.println(&quot;Parameterized Constructor of class B is called&quot;) ;\n    }\n\n}\n\nclass C extends B{\n\n    public int c ;\n    public int cc ;\n    C(){\n        this.c = 30 ;\n        System.out.println(&quot;Constructor of class C is called&quot;) ;\n    \n    }\n    \n    C(int cc){\n    \n        this.cc = cc ;\n        System.out.println(&quot;Parameterized Constructor of class C is called&quot;) ;\n    }\n\n\n}\n\nclass MultiLevel{\n\n    public static void main(String args[]){\n    \n        new C() ;\n    \n    }\n\n}\n</code></pre>\n<p><em><strong>Output</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/pfJGP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pfJGP.png\" alt=\"Default constructor called\" /></a></p>\n<pre><code>***Calling Parameterized Super Constructor***\n\nclass A {\n\n    public int a ;\n    public int aa ;\n    A(){\n       this.a = 20 ;\n        System.out.println(&quot;Constructor of class A is called&quot;) ;\n    \n    }\n    A(int aa){\n    \n        this.aa = aa ;\n        System.out.println(&quot;Parameterized Constructor of class A is called&quot;) ;\n    }\n    \n    \n\n}\n\nclass B extends A{\n\n    public int b ;\n    public int bb ;\n    B(){\n    this.b = 20 ;\n        System.out.println(&quot;Constructor of class B is called&quot;) ;\n    }\n    B(int bb){\n        super(33) ;\n        this.bb = bb ;\n        System.out.println(&quot;Parameterized Constructor of class B is called&quot;) ;\n    }\n\n}\n\nclass C extends B{\n\n    public int c ;\n    public int cc ;\n    C(){\n        this.c = 30 ;\n        System.out.println(&quot;Constructor of class C is called&quot;) ;\n    \n    }\n    \n    C(int cc){\n\n        super(22) ;\n    \n        this.cc = cc ;\n        System.out.println(&quot;Parameterized Constructor of class C is called&quot;) ;\n    }\n\n\n}\n\nclass MultiLevel{\n\n    public static void main(String args[]){\n    \n        new C(55) ;\n    \n    }\n\n}\n</code></pre>\n<p><em><strong>Output</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/aa2XD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aa2XD.png\" alt=\"Parameterized Constructor Called\" /></a></p>\n<p><em><strong>Conclusion</strong></em></p>\n<p>If you call default super() constructor in child ==&gt; It will call default Constructor of immediate Parent Class</p>\n<p>If you call parameterized super(Param) constructor in child ==&gt; It will call the Parameterized constructor of Parent class.</p>\n<p>But which parent in multilevel inheritance ?</p>\n<p>Ofcourse, the immediate parent.</p>\n"}],"owner":{"account_id":2311163,"reputation":1,"user_id":2029261,"accept_rate":0,"display_name":"user2029261"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679289185,"creation_date":1454137440,"question_id":35099068,"body_markdown":"In java, can a contructor in a class call an overloaded constructor of its \r\nsuperclass (say if we wanted to make that call explicitly and \r\ndeliberately). \r\n\r\nI know that a constructor in a class makes implicit call to \r\nno-arg default constructor of superclass (with `super();`). But suppose I \r\nmake a call to an overloaded superclass constructor (say `super(String s);`), then my question is, Is this possible? And if this is possible, then \r\nis a call to `super()` still made ahead of `super(String s)` or not and what \r\nare its implications?","title":"Calling an overloaded constructor of superclass in Java","body":"<p>In java, can a contructor in a class call an overloaded constructor of its \nsuperclass (say if we wanted to make that call explicitly and \ndeliberately). </p>\n\n<p>I know that a constructor in a class makes implicit call to \nno-arg default constructor of superclass (with <code>super();</code>). But suppose I \nmake a call to an overloaded superclass constructor (say <code>super(String s);</code>), then my question is, Is this possible? And if this is possible, then \nis a call to <code>super()</code> still made ahead of <code>super(String s)</code> or not and what \nare its implications?</p>\n"},{"tags":["java","android","file","directory","delete-directory"],"comments":[{"owner":{"account_id":6964966,"reputation":220,"user_id":5343320,"accept_rate":0,"display_name":"huk"},"score":0,"creation_date":1500721274,"post_id":45253756,"comment_id":77471568,"body_markdown":"What error you are gettng? add your logcat details.","body":"What error you are gettng? add your logcat details."},{"owner":{"account_id":5470860,"reputation":9722,"user_id":4350275,"accept_rate":36,"display_name":"Prerak Sola"},"score":0,"creation_date":1500721303,"post_id":45253756,"comment_id":77471579,"body_markdown":"If you are testing on a device with Android M or greater, you&#39;ll need runtime permission.","body":"If you are testing on a device with Android M or greater, you&#39;ll need runtime permission."},{"owner":{"account_id":10144462,"reputation":621,"user_id":7493041,"accept_rate":43,"display_name":"Secret"},"score":0,"creation_date":1500721429,"post_id":45253756,"comment_id":77471619,"body_markdown":"i testing on a device with android M","body":"i testing on a device with android M"},{"owner":{"account_id":10144462,"reputation":621,"user_id":7493041,"accept_rate":43,"display_name":"Secret"},"score":0,"creation_date":1500721786,"post_id":45253756,"comment_id":77471730,"body_markdown":"not show any error in log-cat, file is still at its place","body":"not show any error in log-cat, file is still at its place"},{"owner":{"account_id":6203392,"reputation":2624,"user_id":4832356,"display_name":"SiSa"},"score":0,"creation_date":1500722040,"post_id":45253756,"comment_id":77471798,"body_markdown":"did you request permission programmatically?","body":"did you request permission programmatically?"},{"owner":{"account_id":10144462,"reputation":621,"user_id":7493041,"accept_rate":43,"display_name":"Secret"},"score":0,"creation_date":1500722800,"post_id":45253756,"comment_id":77472014,"body_markdown":"yes i give all permission programmatically, but not work for me....","body":"yes i give all permission programmatically, but not work for me...."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1500805368,"post_id":45253756,"comment_id":77490891,"body_markdown":"`File.delete()` doesn&#39;t throw `IOEexceptions`. It returns a `boolean`, which you are ignoring.","body":"<code>File.delete()</code> doesn&#39;t throw <code>IOEexceptions</code>. It returns a <code>boolean</code>, which you are ignoring."},{"owner":{"account_id":10144462,"reputation":621,"user_id":7493041,"accept_rate":43,"display_name":"Secret"},"score":0,"creation_date":1500876431,"post_id":45253756,"comment_id":77509807,"body_markdown":"@EJP thank&#39;s for your replay, but boolean return false and the file is still at its place(Not deleted)","body":"@EJP thank&#39;s for your replay, but boolean return false and the file is still at its place(Not deleted)"}],"answers":[{"tags":[],"owner":{"account_id":6203392,"reputation":2624,"user_id":4832356,"display_name":"SiSa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500796500,"creation_date":1500796500,"answer_id":45262793,"question_id":45253756,"body_markdown":"Use `Environment.getExternalStorageDirectory().getAbsolutePath()` instead of hard coding storage path\r\n\r\n    String baseDir = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n    File f = new File(baseDir + &quot;/714D-160A/Xender/image/Screenshot_commando.png&quot;);\r\n    boolean d = f.delete();","title":"can&#39;t delete file from external storage in android programmatically","body":"<p>Use <code>Environment.getExternalStorageDirectory().getAbsolutePath()</code> instead of hard coding storage path</p>\n\n<pre><code>String baseDir = Environment.getExternalStorageDirectory().getAbsolutePath();\nFile f = new File(baseDir + \"/714D-160A/Xender/image/Screenshot_commando.png\");\nboolean d = f.delete();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10144462,"reputation":621,"user_id":7493041,"accept_rate":43,"display_name":"Secret"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1500899821,"creation_date":1500896613,"answer_id":45279761,"question_id":45253756,"body_markdown":"    public static boolean delete(final Context context, final File file) {\r\n        final String where = MediaStore.MediaColumns.DATA + &quot;=?&quot;;\r\n        final String[] selectionArgs = new String[] {\r\n                file.getAbsolutePath()\r\n        };\r\n        final ContentResolver contentResolver = context.getContentResolver();\r\n        final Uri filesUri = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n       \r\n        contentResolver.delete(filesUri, where, selectionArgs);\r\n       \r\n        if (file.exists()) {\r\n            \r\n            contentResolver.delete(filesUri, where, selectionArgs);\r\n        }\r\n        return !file.exists();\r\n    }","title":"can&#39;t delete file from external storage in android programmatically","body":"<pre><code>public static boolean delete(final Context context, final File file) {\n    final String where = MediaStore.MediaColumns.DATA + \"=?\";\n    final String[] selectionArgs = new String[] {\n            file.getAbsolutePath()\n    };\n    final ContentResolver contentResolver = context.getContentResolver();\n    final Uri filesUri = MediaStore.Files.getContentUri(\"external\");\n\n    contentResolver.delete(filesUri, where, selectionArgs);\n\n    if (file.exists()) {\n\n        contentResolver.delete(filesUri, where, selectionArgs);\n    }\n    return !file.exists();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1561292602,"creation_date":1501462463,"answer_id":45406158,"question_id":45253756,"body_markdown":"Using `ContentResolver` to delete media files is wrong and provides many problems for the user.  \r\nYou can not delete a file on the `sd-card` simply by deleting its information from the `ContentResolver` on Android versions greater than `Jelly Bean(4.3)`.  \r\nIt works only on Android versions prior to `KitKat(4.4)`.  \r\nThat&#39;s why the Android team provided [DocumentProvider][1].  \r\n\r\n**Why `contentResolver.delete(...)` is wrong?**  \r\n**1. Fills up the `sd-card`**  \r\nWhen you try to delete a media file on the `sd-card` by the `ContentResolver` on Android versions greater than 4.3, the actual media file will remain untouched because the `contentResolver.delete(...)` approach only removes the information (name, date, path ...) of the media and you will end up having unregistered media files on your `sd-card` which `ContentResolver` has no idea about their existence anymore and that&#39;s why you couldn&#39;t see them in your gallery and you think they&#39;ve been deleted with this approach while they&#39;re still there and fill up the `sd-card` each time the user tries to delete a media file on the `sd-card`.  \r\n\r\n**2. Media files (Images, videos, gifs ...) will come back to the gallery**  \r\n There are many apps out there especially gallery and file manager ones that will find these unregistered media files and will add them to the `ContentResolver` again as of their normal behavior while the user assumes his/her unwanted media files are gone.\r\n Sure no user wants his/her assuming deleted images or videos show up in the middle of a demonstration.  \r\n\r\n**So, what&#39;s the correct approach to remove media files on the `sd-card`?**  \r\nWell, this has already been answered [here][2] with the use of `DocumentProvider`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/DocumentsProvider.html\r\n  [2]: https://stackoverflow.com/questions/39054454/android-saf-storage-access-framework-get-particular-file-uri-from-treeuri/39104124#39104124","title":"can&#39;t delete file from external storage in android programmatically","body":"<p>Using <code>ContentResolver</code> to delete media files is wrong and provides many problems for the user.<br>\nYou can not delete a file on the <code>sd-card</code> simply by deleting its information from the <code>ContentResolver</code> on Android versions greater than <code>Jelly Bean(4.3)</code>.<br>\nIt works only on Android versions prior to <code>KitKat(4.4)</code>.<br>\nThat's why the Android team provided <a href=\"https://developer.android.com/reference/android/provider/DocumentsProvider.html\" rel=\"nofollow noreferrer\">DocumentProvider</a>.  </p>\n\n<p><strong>Why <code>contentResolver.delete(...)</code> is wrong?</strong><br>\n<strong>1. Fills up the <code>sd-card</code></strong><br>\nWhen you try to delete a media file on the <code>sd-card</code> by the <code>ContentResolver</code> on Android versions greater than 4.3, the actual media file will remain untouched because the <code>contentResolver.delete(...)</code> approach only removes the information (name, date, path ...) of the media and you will end up having unregistered media files on your <code>sd-card</code> which <code>ContentResolver</code> has no idea about their existence anymore and that's why you couldn't see them in your gallery and you think they've been deleted with this approach while they're still there and fill up the <code>sd-card</code> each time the user tries to delete a media file on the <code>sd-card</code>.  </p>\n\n<p><strong>2. Media files (Images, videos, gifs ...) will come back to the gallery</strong><br>\n There are many apps out there especially gallery and file manager ones that will find these unregistered media files and will add them to the <code>ContentResolver</code> again as of their normal behavior while the user assumes his/her unwanted media files are gone.\n Sure no user wants his/her assuming deleted images or videos show up in the middle of a demonstration.  </p>\n\n<p><strong>So, what's the correct approach to remove media files on the <code>sd-card</code>?</strong><br>\nWell, this has already been answered <a href=\"https://stackoverflow.com/questions/39054454/android-saf-storage-access-framework-get-particular-file-uri-from-treeuri/39104124#39104124\">here</a> with the use of <code>DocumentProvider</code>.</p>\n"},{"tags":[],"owner":{"account_id":3659449,"reputation":20245,"user_id":3049655,"accept_rate":95,"display_name":"Spikatrix"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620281250,"creation_date":1530705411,"answer_id":51173133,"question_id":45253756,"body_markdown":"From Android 4.4 onwards, you can&#39;t write to SD card files (except in the App directory) using the normal way. You&#39;ll have to use the Storage Access Framework using `DocumentFile` for that.\r\n\r\nThe following code works for me:\r\n\r\n    private void deletefile(Uri uri, String filename) {\r\n        DocumentFile pickedDir = DocumentFile.fromTreeUri(this, uri);\r\n\r\n        DocumentFile file = pickedDir.findFile(filename);\r\n        if(file.delete())\r\n            Log.d(&quot;Log ID&quot;, &quot;Delete successful&quot;);\r\n        else\r\n            Log.d(&quot;Log ID&quot;, &quot;Delete unsuccessful&quot;);\r\n    }\r\nwhere `filename` is the name of the file to be deleted and `uri` is the URI returned by `ACTION_OPEN_DOCUMENT_TREE`:\r\n\r\n    private static final int LOCATION_REQUEST = 1;\r\n\r\n    private void choosePath() {\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n        intent.addCategory(Intent.CATEGORY_DEFAULT);\r\n        startActivityForResult(intent, LOCATION_REQUEST);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent resultData) {\r\n        if (requestCode == LOCATION_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            if (resultData != null) {\r\n                Uri uri = resultData.getData();\r\n                if (uri != null) {\r\n                    /* Got the path uri */\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"can&#39;t delete file from external storage in android programmatically","body":"<p>From Android 4.4 onwards, you can't write to SD card files (except in the App directory) using the normal way. You'll have to use the Storage Access Framework using <code>DocumentFile</code> for that.</p>\n<p>The following code works for me:</p>\n<pre><code>private void deletefile(Uri uri, String filename) {\n    DocumentFile pickedDir = DocumentFile.fromTreeUri(this, uri);\n\n    DocumentFile file = pickedDir.findFile(filename);\n    if(file.delete())\n        Log.d(&quot;Log ID&quot;, &quot;Delete successful&quot;);\n    else\n        Log.d(&quot;Log ID&quot;, &quot;Delete unsuccessful&quot;);\n}\n</code></pre>\n<p>where <code>filename</code> is the name of the file to be deleted and <code>uri</code> is the URI returned by <code>ACTION_OPEN_DOCUMENT_TREE</code>:</p>\n<pre><code>private static final int LOCATION_REQUEST = 1;\n\nprivate void choosePath() {\n    Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n    intent.addCategory(Intent.CATEGORY_DEFAULT);\n    startActivityForResult(intent, LOCATION_REQUEST);\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent resultData) {\n    if (requestCode == LOCATION_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n        if (resultData != null) {\n            Uri uri = resultData.getData();\n            if (uri != null) {\n                /* Got the path uri */\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10144462,"reputation":621,"user_id":7493041,"accept_rate":43,"display_name":"Secret"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20062,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":45279761,"answer_count":4,"score":16,"last_activity_date":1679289052,"creation_date":1500721140,"question_id":45253756,"body_markdown":"I am trying to delete a file located at the path\r\n\r\n    /storage/714D-160A/Xender/image/Screenshot_commando.png\r\n\r\nWhat I&#39;ve done so far:\r\n\r\n      try{\r\n            String d_path = &quot;/storage/714D-160A/Xender/image/Screenshot_commando.png&quot;;\r\n            File file = new File(d_path);\r\n            file.delete();\r\n\r\n         }catch(Exception e){\r\n\r\n            e.printStackTrace();\r\n         }\r\n\r\nand the file is still at its place(Not deleted :( ) \r\n                                                                             \r\nAlso I&#39;ve given permission in Manifest file.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.STORAGE&quot; /&gt;","title":"can&#39;t delete file from external storage in android programmatically","body":"<p>I am trying to delete a file located at the path</p>\n\n<pre><code>/storage/714D-160A/Xender/image/Screenshot_commando.png\n</code></pre>\n\n<p>What I've done so far:</p>\n\n<pre><code>  try{\n        String d_path = \"/storage/714D-160A/Xender/image/Screenshot_commando.png\";\n        File file = new File(d_path);\n        file.delete();\n\n     }catch(Exception e){\n\n        e.printStackTrace();\n     }\n</code></pre>\n\n<p>and the file is still at its place(Not deleted :( ) </p>\n\n<p>Also I've given permission in Manifest file.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_INTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.STORAGE\" /&gt;\n</code></pre>\n"},{"tags":["java","gradle","keytool","pkix","cacerts"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1673436819,"post_id":75081777,"comment_id":132497596,"body_markdown":"On 4 did you really do `JAVA_HOME=$HOME/.sdkman/blah [no semicolon here] keytool ... -keystore $JAVA_HOME/lib/security/cacerts`? That does NOT use the cacerts in the location you set; it changes the value of JAVA_HOME used if the _program_ calls `getenv(&quot;JAVA_HOME&quot;)` which `keytool` doesn&#39;t, but not the value substituted for `$JAVA_HOME`. You need to either put a semicolon (or newline, or `&amp;&amp;`) in between, or not use the variable at all: `keytool ... -keystore $HOME/.sdkman/blah/cacerts`.","body":"On 4 did you really do <code>JAVA_HOME=$HOME&#47;.sdkman&#47;blah [no semicolon here] keytool ... -keystore $JAVA_HOME&#47;lib&#47;security&#47;cacerts</code>? That does NOT use the cacerts in the location you set; it changes the value of JAVA_HOME used if the <i>program</i> calls <code>getenv(&quot;JAVA_HOME&quot;)</code> which <code>keytool</code> doesn&#39;t, but not the value substituted for <code>$JAVA_HOME</code>. You need to either put a semicolon (or newline, or <code>&amp;&amp;</code>) in between, or not use the variable at all: <code>keytool ... -keystore $HOME&#47;.sdkman&#47;blah&#47;cacerts</code>."}],"answers":[{"tags":[],"owner":{"account_id":27497578,"reputation":21,"user_id":20981864,"display_name":"biboti6045"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679286105,"creation_date":1679286105,"answer_id":75786545,"question_id":75081777,"body_markdown":"Turns out it was wrong certificate all the time...","title":"What is PKIX-error and how to fix/workaround it for gradle project in a corporate environment?","body":"<p>Turns out it was wrong certificate all the time...</p>\n"}],"owner":{"account_id":27497578,"reputation":21,"user_id":20981864,"display_name":"biboti6045"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75786545,"answer_count":1,"score":0,"last_activity_date":1679286105,"creation_date":1673433804,"question_id":75081777,"body_markdown":"There is a requirement in our corporate environment to import corporate certificate to installed JDK.\r\nImported cert into almost all possible locations and installations...\r\nSet JAVA_HOME before commands that may use it and set JAVA_HOME in ~/.bashrc...\r\nNevertheless, I&#39;m getting same error everytime:\r\n```\r\nStarting a Gradle Daemon, 2 stopped Daemons could not be reused, use --status for details\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nInitialization script &#39;/Users/user/.gradle/init.gradle&#39; line: 2\r\n\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;some-project&#39;.\r\n&gt; Could not get resource &#39;https://nexus.our.corp.domain/repository/raw-hosted/gradle/vx.x.x/service.gradle&#39;.\r\n   &gt; Could not GET &#39;https://nexus.our.corp.domain/repository/raw-hosted/gradle/vx.x.x/service.gradle&#39;.\r\n      &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.5.1/userguide/build_environment.html#gradle_system_properties\r\n         &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\ninit.gradle contents:\r\n```groovy\r\ngradle.allprojects {\r\n    ext.use_script = { name -&gt; apply from: &quot;$scripts_repo/${name}.gradle&quot; }\r\n}\r\n```\r\n\r\nPKIX error happens even if I completely remove all contents from ~/.gradle, gradlew, make `gradle --stop` and try to initalize/generate gradlew from scratch:\r\n```\r\ngradle wrapper --gradle-version x.x.x\r\nStarting a Gradle Daemon, 2 stopped Daemons could not be reused, use --status for details\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nInitialization script &#39;/Users/user/.gradle/init.gradle&#39; line: 2\r\n\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;some-project&#39;.\r\n&gt; Could not get resource &#39;https://nexus.our.corp.domain/repository/raw-hosted/gradle/vx.x.x/service.gradle&#39;.\r\n   &gt; Could not GET &#39;https://nexus.our.corp.domain/repository/raw-hosted/gradle/vx.x.x/service.gradle&#39;.\r\n      &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.5.1/userguide/build_environment.html#gradle_system_properties\r\n         &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n`gradle --version` shows correct version of JVM:\r\n```\r\ngradle --version\r\n\r\n------------------------------------------------------------\r\nGradle 7.5.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-08-05 21:17:56 UTC\r\nRevision:     d1daa0cbf1a0103000b71484e1dbfe096e095918\r\n\r\nKotlin:       1.6.21\r\nGroovy:       3.0.10\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          11.0.17 (Amazon.com Inc. 11.0.17+8-LTS)\r\nOS:           Mac OS X 10.16 x86_64\r\n```\r\n\r\nAnd it appears that gradle version is not quite important as one of our colleagues stumbled upon the same problem with gradle version: 6.4.1\r\n\r\nSo what is this PKIX-error (keeping in mind that certs were successfuly imported) and what is the possible solution/fix/workaround for it?\r\n\r\n- tried for several JDK versions in different locations (all below candidates were imported successfuly without errors, but nevetheless above PKIX-error appeared anyway):\r\n1) JAVA_HOME=/usr/local/Cellar/openjdk@8/1.8.0+352 keytool -importcert -file /path/to/certs/corp-cert -alias Root -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit\r\n2) JAVA_HOME=/usr/local/Cellar/openjdk@11/11.0.16.1_1 keytool -importcert -file /path/to/certs/corp-cert -alias Root -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit\r\n3) export JAVA_HOME=`/usr/libexec/java_home -v 11.0.13`; echo &quot;JAVA_HOME-contents: ${JAVA_HOME}&quot;; keytool -importcert -file /path/to/certs/corp-cert -alias Root -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit\r\n4) JAVA_HOME=$HOME/.sdkman/candidates/java/11.0.17-amzn keytool -importcert -file /path/to/certs/corp-cert -alias Root -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit\r\n- tried removing completely all gradle dir (rm -rfv ~/.gradle) and gradlew scripts from project, because suggested that may be gradle versions somehow interfere/messed up\r\n- tried removing all sdkman leftovers and installing all required items from scratch (sdk install java 11.0.17-amzn), because suggested that may be gradle versions somehow interfere/messed up","title":"What is PKIX-error and how to fix/workaround it for gradle project in a corporate environment?","body":"<p>There is a requirement in our corporate environment to import corporate certificate to installed JDK.\nImported cert into almost all possible locations and installations...\nSet JAVA_HOME before commands that may use it and set JAVA_HOME in ~/.bashrc...\nNevertheless, I'm getting same error everytime:</p>\n<pre><code>Starting a Gradle Daemon, 2 stopped Daemons could not be reused, use --status for details\n\nFAILURE: Build failed with an exception.\n\n* Where:\nInitialization script '/Users/user/.gradle/init.gradle' line: 2\n\n* What went wrong:\nA problem occurred evaluating root project 'some-project'.\n&gt; Could not get resource 'https://nexus.our.corp.domain/repository/raw-hosted/gradle/vx.x.x/service.gradle'.\n   &gt; Could not GET 'https://nexus.our.corp.domain/repository/raw-hosted/gradle/vx.x.x/service.gradle'.\n      &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.5.1/userguide/build_environment.html#gradle_system_properties\n         &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>init.gradle contents:</p>\n<pre><code>gradle.allprojects {\n    ext.use_script = { name -&gt; apply from: &quot;$scripts_repo/${name}.gradle&quot; }\n}\n</code></pre>\n<p>PKIX error happens even if I completely remove all contents from ~/.gradle, gradlew, make <code>gradle --stop</code> and try to initalize/generate gradlew from scratch:</p>\n<pre><code>gradle wrapper --gradle-version x.x.x\nStarting a Gradle Daemon, 2 stopped Daemons could not be reused, use --status for details\n\nFAILURE: Build failed with an exception.\n\n* Where:\nInitialization script '/Users/user/.gradle/init.gradle' line: 2\n\n* What went wrong:\nA problem occurred evaluating root project 'some-project'.\n&gt; Could not get resource 'https://nexus.our.corp.domain/repository/raw-hosted/gradle/vx.x.x/service.gradle'.\n   &gt; Could not GET 'https://nexus.our.corp.domain/repository/raw-hosted/gradle/vx.x.x/service.gradle'.\n      &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.5.1/userguide/build_environment.html#gradle_system_properties\n         &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p><code>gradle --version</code> shows correct version of JVM:</p>\n<pre><code>gradle --version\n\n------------------------------------------------------------\nGradle 7.5.1\n------------------------------------------------------------\n\nBuild time:   2022-08-05 21:17:56 UTC\nRevision:     d1daa0cbf1a0103000b71484e1dbfe096e095918\n\nKotlin:       1.6.21\nGroovy:       3.0.10\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          11.0.17 (Amazon.com Inc. 11.0.17+8-LTS)\nOS:           Mac OS X 10.16 x86_64\n</code></pre>\n<p>And it appears that gradle version is not quite important as one of our colleagues stumbled upon the same problem with gradle version: 6.4.1</p>\n<p>So what is this PKIX-error (keeping in mind that certs were successfuly imported) and what is the possible solution/fix/workaround for it?</p>\n<ul>\n<li>tried for several JDK versions in different locations (all below candidates were imported successfuly without errors, but nevetheless above PKIX-error appeared anyway):</li>\n</ul>\n<ol>\n<li>JAVA_HOME=/usr/local/Cellar/openjdk@8/1.8.0+352 keytool -importcert -file /path/to/certs/corp-cert -alias Root -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit</li>\n<li>JAVA_HOME=/usr/local/Cellar/openjdk@11/11.0.16.1_1 keytool -importcert -file /path/to/certs/corp-cert -alias Root -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit</li>\n<li>export JAVA_HOME=<code>/usr/libexec/java_home -v 11.0.13</code>; echo &quot;JAVA_HOME-contents: ${JAVA_HOME}&quot;; keytool -importcert -file /path/to/certs/corp-cert -alias Root -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit</li>\n<li>JAVA_HOME=$HOME/.sdkman/candidates/java/11.0.17-amzn keytool -importcert -file /path/to/certs/corp-cert -alias Root -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit</li>\n</ol>\n<ul>\n<li>tried removing completely all gradle dir (rm -rfv ~/.gradle) and gradlew scripts from project, because suggested that may be gradle versions somehow interfere/messed up</li>\n<li>tried removing all sdkman leftovers and installing all required items from scratch (sdk install java 11.0.17-amzn), because suggested that may be gradle versions somehow interfere/messed up</li>\n</ul>\n"},{"tags":["java","spring","spring-batch","spring-jdbc"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1530186662,"post_id":51081634,"comment_id":89152733,"body_markdown":"Possible duplicate of [Spring Batch and JobInstanceAlreadyCompleteException:](https://stackoverflow.com/questions/35809057/spring-batch-and-jobinstancealreadycompleteexception)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/35809057/spring-batch-and-jobinstancealreadycompleteexception\">Spring Batch and JobInstanceAlreadyCompleteException:</a>"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1530188935,"post_id":51081634,"comment_id":89154254,"body_markdown":"Is there any way we can kill that already running job? I know already the JobInstance: id=18380.","body":"Is there any way we can kill that already running job? I know already the JobInstance: id=18380."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1530189084,"post_id":51081634,"comment_id":89154349,"body_markdown":"AFAIK using Spring batch admin","body":"AFAIK using Spring batch admin"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1530189305,"post_id":51081634,"comment_id":89154468,"body_markdown":"Ok. Is there any workaround of killing using command line or from DB ? I dont have batch Admin UI. I did not find out any way to kill JobInstance Id. looks strange to me. Any further guidance ?","body":"Ok. Is there any workaround of killing using command line or from DB ? I dont have batch Admin UI. I did not find out any way to kill JobInstance Id. looks strange to me. Any further guidance ?"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1530189347,"post_id":51081634,"comment_id":89154489,"body_markdown":"Not from me, sorry! Maybe later someone will partecipate to discussion","body":"Not from me, sorry! Maybe later someone will partecipate to discussion"},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1530196638,"post_id":51081634,"comment_id":89159558,"body_markdown":"Linux or Window? Find java process and kill it","body":"Linux or Window? Find java process and kill it"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1530200860,"post_id":51081634,"comment_id":89162355,"body_markdown":"I am using windows box","body":"I am using windows box"}],"answers":[{"tags":[],"owner":{"account_id":27496751,"reputation":1,"user_id":20981147,"display_name":"ebs023"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679286001,"creation_date":1678960737,"answer_id":75754591,"question_id":51081634,"body_markdown":"Unfortunatly I have no idea to deal with that Exception by using java code.\r\nBut, You can manage that exception by updating related batch meta table datas by using some queries.\r\n\r\nThere are two tables you should check, \r\nbatch_step_execution, batch_job_execution.\r\n(I assume that you create them already because the Spring Batch provides them to almost all kind of database.)\r\n\r\nIf those tables has a started(starting) and not completed job,\r\nYou can encounter the exception above when you restart server.\r\n\r\nSo first, you can check whether running jobs exist by executing queries below.\r\n\r\n    SELECT  STEP_EXECUTION_ID\r\n            , JOB_EXECUTION_ID\r\n            , STEP_NAME\r\n            , STATUS\r\n            , EXIT_CODE\r\n            , bse.*\r\n    FROM batch_step_execution bse\r\n    WHERE 1=1\r\n    AND status IN (&#39;STARTED&#39;, &#39;STARTING&#39;)\r\n    AND exit_code NOT IN (&#39;COMPLETED&#39;, &#39;FAILED&#39;)\r\n    ORDER BY start_time desc\r\n    ;\r\n    \r\n    SELECT bje.JOB_EXECUTION_ID\r\n            , bji.JOB_NAME\r\n            , bje.JOB_INSTANCE_ID\r\n            , bje.STATUS\r\n            , bje.EXIT_CODE\r\n            , timediff(bje.CREATE_TIME, NOW()) \r\n            , bje.*\r\n    FROM batch_job_execution bje\r\n    INNER JOIN batch_job_instance bji\r\n    ON bje.job_instance_id = bji.job_instance_id\r\n    WHERE 1=1\r\n    AND status IN (&#39;STARTED&#39;, &#39;STARTING&#39;)\r\n    AND exit_code NOT IN (&#39;COMPLETED&#39;, &#39;FAILED&#39;)\r\n    ORDER BY bje.create_time desc\r\n    ;\r\n\r\nSecond, if there are rows above,\r\nYou can update those jobs to COMPLETED status by executing queries below.\r\n\r\n    UPDATE \r\n    \tbatch_step_execution \r\n    SET END_TIME = now()\r\n        ,LAST_UPDATED = now() \r\n        ,STATUS = &#39;COMPLETED&#39; \r\n        ,EXIT_CODE = &#39;FAILED&#39; \r\n    WHERE \r\n    \tSTEP_EXECUTION_ID in (\r\n    \t\tselect STEP_EXECUTION_ID \r\n    \t\tfrom batch_step_execution bse \r\n    \t\twhere 1=1\r\n    \t\tand status not in (&#39;COMPLETED&#39;, &#39;FAILED&#39;)\r\n    \t\tor EXIT_CODE not in (&#39;COMPLETED&#39;, &#39;FAILED&#39;)\t\r\n    \t)\r\n    ;\r\n    \r\n    UPDATE \r\n        BATCH_JOB_EXECUTION \r\n    SET \r\n        END_TIME = now() \r\n        ,LAST_UPDATED = now() \r\n        ,STATUS = &#39;COMPLETED&#39; \r\n        ,EXIT_CODE = &#39;FAILED&#39; \r\n    WHERE \r\n       JOB_EXECUTION_ID in (\r\n       \t\tselect bje.JOB_EXECUTION_ID\r\n    \t\tfrom batch_job_execution bje \r\n    \t\twhere 1=1\r\n    \t\tand (status not in (&#39;COMPLETED&#39;, &#39;FAILED&#39;))\r\n    \t\tor (EXIT_CODE not in (&#39;COMPLETED&#39;, &#39;FAILED&#39;))\r\n       )\r\n    ;\r\n\r\n\r\nThird, please restart the server.\r\nIn my case, it works when I encounter the JobExecutionAlreadyRunningException.\r\n\r\nThanks.\r\n\r\n\r\n","title":"Batch job fails because of JobExecutionAlreadyRunningException: A job execution for this job is already running","body":"<p>Unfortunatly I have no idea to deal with that Exception by using java code.\nBut, You can manage that exception by updating related batch meta table datas by using some queries.</p>\n<p>There are two tables you should check,\nbatch_step_execution, batch_job_execution.\n(I assume that you create them already because the Spring Batch provides them to almost all kind of database.)</p>\n<p>If those tables has a started(starting) and not completed job,\nYou can encounter the exception above when you restart server.</p>\n<p>So first, you can check whether running jobs exist by executing queries below.</p>\n<pre><code>SELECT  STEP_EXECUTION_ID\n        , JOB_EXECUTION_ID\n        , STEP_NAME\n        , STATUS\n        , EXIT_CODE\n        , bse.*\nFROM batch_step_execution bse\nWHERE 1=1\nAND status IN ('STARTED', 'STARTING')\nAND exit_code NOT IN ('COMPLETED', 'FAILED')\nORDER BY start_time desc\n;\n\nSELECT bje.JOB_EXECUTION_ID\n        , bji.JOB_NAME\n        , bje.JOB_INSTANCE_ID\n        , bje.STATUS\n        , bje.EXIT_CODE\n        , timediff(bje.CREATE_TIME, NOW()) \n        , bje.*\nFROM batch_job_execution bje\nINNER JOIN batch_job_instance bji\nON bje.job_instance_id = bji.job_instance_id\nWHERE 1=1\nAND status IN ('STARTED', 'STARTING')\nAND exit_code NOT IN ('COMPLETED', 'FAILED')\nORDER BY bje.create_time desc\n;\n</code></pre>\n<p>Second, if there are rows above,\nYou can update those jobs to COMPLETED status by executing queries below.</p>\n<pre><code>UPDATE \n    batch_step_execution \nSET END_TIME = now()\n    ,LAST_UPDATED = now() \n    ,STATUS = 'COMPLETED' \n    ,EXIT_CODE = 'FAILED' \nWHERE \n    STEP_EXECUTION_ID in (\n        select STEP_EXECUTION_ID \n        from batch_step_execution bse \n        where 1=1\n        and status not in ('COMPLETED', 'FAILED')\n        or EXIT_CODE not in ('COMPLETED', 'FAILED') \n    )\n;\n\nUPDATE \n    BATCH_JOB_EXECUTION \nSET \n    END_TIME = now() \n    ,LAST_UPDATED = now() \n    ,STATUS = 'COMPLETED' \n    ,EXIT_CODE = 'FAILED' \nWHERE \n   JOB_EXECUTION_ID in (\n        select bje.JOB_EXECUTION_ID\n        from batch_job_execution bje \n        where 1=1\n        and (status not in ('COMPLETED', 'FAILED'))\n        or (EXIT_CODE not in ('COMPLETED', 'FAILED'))\n   )\n;\n</code></pre>\n<p>Third, please restart the server.\nIn my case, it works when I encounter the JobExecutionAlreadyRunningException.</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6594,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679286001,"creation_date":1530184859,"question_id":51081634,"body_markdown":"How to stop batch job from the main method ? I am running the batch job from my method and now its giving me the below error. Any help on how to kill and stop it? \r\n\r\n    A job execution for this job is already running: JobInstance: id=18380, version=0, Job=[myFileGenerationJob]\r\n    org.springframework.batch.core.repository.JobExecutionAlreadyRunningException: A job execution for this job is already running: JobInstance: id=18380, version=0, Job=[myFileGenerationJob]\r\n    Done\r\n    \tat org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:120)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:280)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:172)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy3.createJobExecution(Unknown Source)\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:125)\r\n    \tat com.mastercard.ess.eds.CustomerFileGenerationApp.main(CustomerFileGenerationApp.java:31)\r\n\r\nI am using the following code - \r\n\r\n    public class CustomerFileGenerationApp {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tPropertyConfigurator.configure(&quot;src/main/resources/log4j.properties&quot;);\r\n    \t\tString[] springConfig = { &quot;../META-INF/spring/customer-file-generation-job.xml&quot;};\r\n    \r\n    \t\tApplicationContext context = new FileSystemXmlApplicationContext(springConfig);\r\n    \t\r\n    \t\tJobLauncher jobLauncher = (JobLauncher) context.getBean(&quot;jobLauncher&quot;);\r\n    \t\tJob job = (Job) context.getBean(&quot;customerFileGenerationJob&quot;);\r\n    \t\t\r\n    \t\tJobParameters jobParameters = new JobParametersBuilder().addString(&quot;runMode&quot;, &quot;ABCD&quot;).toJobParameters();\r\n    \r\n    \t\ttry {\r\n    \t\t\tJobExecution execution = jobLauncher.run(job, jobParameters);\r\n    \t\t\tSystem.out.println(&quot;Exit Status : &quot; + execution.getStatus());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Done&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Batch job fails because of JobExecutionAlreadyRunningException: A job execution for this job is already running","body":"<p>How to stop batch job from the main method ? I am running the batch job from my method and now its giving me the below error. Any help on how to kill and stop it? </p>\n\n<pre><code>A job execution for this job is already running: JobInstance: id=18380, version=0, Job=[myFileGenerationJob]\norg.springframework.batch.core.repository.JobExecutionAlreadyRunningException: A job execution for this job is already running: JobInstance: id=18380, version=0, Job=[myFileGenerationJob]\nDone\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:120)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:280)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:172)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy3.createJobExecution(Unknown Source)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:125)\n    at com.mastercard.ess.eds.CustomerFileGenerationApp.main(CustomerFileGenerationApp.java:31)\n</code></pre>\n\n<p>I am using the following code - </p>\n\n<pre><code>public class CustomerFileGenerationApp {\n\n    public static void main(String[] args) {\n        PropertyConfigurator.configure(\"src/main/resources/log4j.properties\");\n        String[] springConfig = { \"../META-INF/spring/customer-file-generation-job.xml\"};\n\n        ApplicationContext context = new FileSystemXmlApplicationContext(springConfig);\n\n        JobLauncher jobLauncher = (JobLauncher) context.getBean(\"jobLauncher\");\n        Job job = (Job) context.getBean(\"customerFileGenerationJob\");\n\n        JobParameters jobParameters = new JobParametersBuilder().addString(\"runMode\", \"ABCD\").toJobParameters();\n\n        try {\n            JobExecution execution = jobLauncher.run(job, jobParameters);\n            System.out.println(\"Exit Status : \" + execution.getStatus());\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n\n        System.out.println(\"Done\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","threadpool","okhttp"],"owner":{"account_id":28061621,"reputation":1,"user_id":21435646,"display_name":"several sunday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679283850,"creation_date":1679283850,"question_id":75786429,"body_markdown":"OkHttp3.12 is used to request advertisements in our old system, but recently there have been frequent occurrences of thread pool blocking. I have set the timeout for OkHttp, but it not work. Through analysis with jstack, it was found that 700 threads are waiting for a lock. The jstack output is as follows, how to fix this problem?\r\n\r\n```\r\n&quot;OkHttp api.xxxx.com stream 99&quot; #4938160 prio=5 os_prio=0 cpu=2.82ms elapsed=618.24s allocated=103K defined_classes=0 tid=0x00007f1d4806a800 nid=0x27b0 runnable  [0x00007f191a157000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at java.net.SocketOutputStream.socketWrite0(java.base@11.0.11-ga/Native Method)\r\n        at java.net.SocketOutputStream.socketWrite(java.base@11.0.11-ga/SocketOutputStream.java:110)\r\n        at java.net.SocketOutputStream.write(java.base@11.0.11-ga/SocketOutputStream.java:150)\r\n        at sun.security.ssl.SSLSocketOutputRecord.deliver(java.base@11.0.11-ga/SSLSocketOutputRecord.java:319)\r\n        - locked &lt;0x0000000631bcb608&gt; (a sun.security.ssl.SSLSocketOutputRecord)\r\n        at sun.security.ssl.SSLSocketImpl$AppOutputStream.write(java.base@11.0.11-ga/SSLSocketImpl.java:1212)\r\n        at okio.Okio$1.write(Okio.java:79)\r\n        at okio.AsyncTimeout$1.write(AsyncTimeout.java:180)\r\n        at okio.RealBufferedSink.flush(RealBufferedSink.java:224)\r\n        at okhttp3.internal.http2.Http2Writer.rstStream(Http2Writer.java:152)\r\n        - locked &lt;0x000000062831f200&gt; (a okhttp3.internal.http2.Http2Writer)\r\n        at okhttp3.internal.http2.Http2Connection.writeSynReset(Http2Connection.java:342)\r\n        at okhttp3.internal.http2.Http2Connection$1.execute(Http2Connection.java:330)\r\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(java.base@11.0.11-ga/Executors.java:515)\r\n        at java.util.concurrent.FutureTask.run(java.base@11.0.11-ga/FutureTask.java:264)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(java.base@11.0.11-ga/ScheduledThreadPoolExecutor.java:304)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.11-ga/ThreadPoolExecutor.java:1128)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.11-ga/ThreadPoolExecutor.java:628)\r\n        at java.lang.Thread.run(java.base@11.0.11-ga/Thread.java:829)\r\n```\r\n\r\nblocking thread stack info is :\r\n\r\n```\r\nOkHttp AdFetcher\r\nStack Trace is:\r\njava.lang.Thread.State: BLOCKED (on object monitor)\r\nat okhttp3.internal.http2.Http2Connection.newStream(Http2Connection.java:242)\r\n- waiting to lock &lt;0x000000062831f200&gt; (a okhttp3.internal.http2.Http2Writer)\r\nat okhttp3.internal.http2.Http2Connection.newStream(Http2Connection.java:231)\r\nat okhttp3.internal.http2.Http2Codec.writeRequestHeaders(Http2Codec.java:117)\r\nat okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:50)\r\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\nat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)\r\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\nat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\r\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\nat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\nat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\r\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\nat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)\r\nat okhttp3.RealCall.execute$original$wiqqidmU(RealCall.java:92)\r\nat okhttp3.RealCall.execute$original$wiqqidmU$accessor$AowLQlrF(RealCall.java)\r\nat okhttp3.RealCall$auxiliary$3l5SfzgP.call(Unknown Source)\r\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\r\nat okhttp3.RealCall.execute(RealCall.java)\r\nat com.***.fetcher.AbstractHttpFetcher.postHttpRequest(AbstractHttpFetcher.java:348)\r\nat com.***.fetcher.StandardExternalHttpFetcher.getResponse(StandardExternalHttpFetcher.java:95)\r\nat com.***.fetcher.StandardExternalHttpFetcher.getResponse(StandardExternalHttpFetcher.java:51)\r\nat com.***.fetcher.AbstractHttpFetcher.getAdResultInfo(AbstractHttpFetcher.java:211)\r\nat com.***.fetcher.AbstractHttpFetcher.doFetch(AbstractHttpFetcher.java:106)\r\nat com.***.fetcher.AbstractCircuitBreakSupportFetcher.fetchAds(AbstractCircuitBreakSupportFetcher.java:32)\r\nat com.***.model.FetchJob.get(FetchJob.java:65)\r\nat com.***.model.FetchJob.get(FetchJob.java:30)\r\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(java.base@11.0.11-ga/CompletableFuture.java:1700)\r\nat com.***.common.executor.CustomizeThreadPoolExecutor$Invocation.run$original$nr9clM8B(CustomizeThreadPoolExecutor.java:130)\r\nat com.***.common.executor.CustomizeThreadPoolExecutor$Invocation.run$original$nr9clM8B$accessor$i9HHrEKI(CustomizeThreadPoolExecutor.java)\r\nat com.***.common.executor.CustomizeThreadPoolExecutor$Invocation$auxiliary$Ijg565Uq.call(Unknown Source)\r\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\r\nat com.***.common.executor.CustomizeThreadPoolExecutor$Invocation.run(CustomizeThreadPoolExecutor.java)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.11-ga/ThreadPoolExecutor.java:1128)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.11-ga/ThreadPoolExecutor.java:628)\r\nat java.lang.Thread.run(java.base@11.0.11-ga/Thread.java:829)\r\nLocked ownable synchronizers:\r\n- &lt;0x00000006131ea0c0&gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)\r\n```\r\n\r\nAbstractHttpFetcher.postHttpRequest java code:\r\n\r\n```\r\n    protected String postHttpRequest(String host, String requestStr, long timeout) throws Exception {\r\n        Headers headers = new Headers.Builder()\r\n                .add(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;)\r\n                .add(CommonConstants.MAX_RTB_KEY, CommonConstants.MAX_RTB_VERSION)\r\n                .build();\r\n\r\n        RequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=UTF-8&quot;), requestStr);\r\n        Request request = new Request.Builder().url(host).post(body).headers(headers).build();\r\n\r\n        OkHttpClient client = okHttpClient;\r\n        if (timeout &gt; 0 &amp;&amp; timeout != okHttpClient.callTimeoutMillis()) {\r\n            client = okHttpClient.newBuilder().callTimeout(timeout, TimeUnit.MILLISECONDS).build();\r\n        }\r\n        Response execute = client.newCall(request).execute();\r\n        if (execute.body() == null) {\r\n            execute.close();\r\n            return null;\r\n        }\r\n        return execute.body().string();\r\n    }\r\n```\r\n\r\n[700 okhttp3.internal.http2.Http2Writer is blocking 701 threads](https://i.stack.imgur.com/bvXSQ.png)\r\n\r\n[okhttpclient setting](https://i.stack.imgur.com/ExlkZ.png)\r\n\r\nhow to fix thread pool blocking problem &#128591;&#127995;&#128591;&#127995;&#128591;&#127995;.\r\nthis problem lasts for about 15 minutes everytime. \r\n[there](https://github.com/square/okhttp/issues/4455) introduced why is 15min\r\n[there](https://stackoverflow.com/questions/63783108/program-stuck-in-socketread0-method-when-requesting-with-okhttp) said using `client.connectionPool().evictAll()` can fix this problem, but I think that using this method will affect the access of other threads that are currently working.","title":"okhttp3.internal.http2.Http2Writer is blocking 701 threads. Why OkHttp 3.12 lead to thread pool blocking?","body":"<p>OkHttp3.12 is used to request advertisements in our old system, but recently there have been frequent occurrences of thread pool blocking. I have set the timeout for OkHttp, but it not work. Through analysis with jstack, it was found that 700 threads are waiting for a lock. The jstack output is as follows, how to fix this problem?</p>\n<pre><code>&quot;OkHttp api.xxxx.com stream 99&quot; #4938160 prio=5 os_prio=0 cpu=2.82ms elapsed=618.24s allocated=103K defined_classes=0 tid=0x00007f1d4806a800 nid=0x27b0 runnable  [0x00007f191a157000]\n   java.lang.Thread.State: RUNNABLE\n        at java.net.SocketOutputStream.socketWrite0(java.base@11.0.11-ga/Native Method)\n        at java.net.SocketOutputStream.socketWrite(java.base@11.0.11-ga/SocketOutputStream.java:110)\n        at java.net.SocketOutputStream.write(java.base@11.0.11-ga/SocketOutputStream.java:150)\n        at sun.security.ssl.SSLSocketOutputRecord.deliver(java.base@11.0.11-ga/SSLSocketOutputRecord.java:319)\n        - locked &lt;0x0000000631bcb608&gt; (a sun.security.ssl.SSLSocketOutputRecord)\n        at sun.security.ssl.SSLSocketImpl$AppOutputStream.write(java.base@11.0.11-ga/SSLSocketImpl.java:1212)\n        at okio.Okio$1.write(Okio.java:79)\n        at okio.AsyncTimeout$1.write(AsyncTimeout.java:180)\n        at okio.RealBufferedSink.flush(RealBufferedSink.java:224)\n        at okhttp3.internal.http2.Http2Writer.rstStream(Http2Writer.java:152)\n        - locked &lt;0x000000062831f200&gt; (a okhttp3.internal.http2.Http2Writer)\n        at okhttp3.internal.http2.Http2Connection.writeSynReset(Http2Connection.java:342)\n        at okhttp3.internal.http2.Http2Connection$1.execute(Http2Connection.java:330)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.Executors$RunnableAdapter.call(java.base@11.0.11-ga/Executors.java:515)\n        at java.util.concurrent.FutureTask.run(java.base@11.0.11-ga/FutureTask.java:264)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(java.base@11.0.11-ga/ScheduledThreadPoolExecutor.java:304)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.11-ga/ThreadPoolExecutor.java:1128)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.11-ga/ThreadPoolExecutor.java:628)\n        at java.lang.Thread.run(java.base@11.0.11-ga/Thread.java:829)\n</code></pre>\n<p>blocking thread stack info is :</p>\n<pre><code>OkHttp AdFetcher\nStack Trace is:\njava.lang.Thread.State: BLOCKED (on object monitor)\nat okhttp3.internal.http2.Http2Connection.newStream(Http2Connection.java:242)\n- waiting to lock &lt;0x000000062831f200&gt; (a okhttp3.internal.http2.Http2Writer)\nat okhttp3.internal.http2.Http2Connection.newStream(Http2Connection.java:231)\nat okhttp3.internal.http2.Http2Codec.writeRequestHeaders(Http2Codec.java:117)\nat okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:50)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\nat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\nat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\nat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\nat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\nat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)\nat okhttp3.RealCall.execute$original$wiqqidmU(RealCall.java:92)\nat okhttp3.RealCall.execute$original$wiqqidmU$accessor$AowLQlrF(RealCall.java)\nat okhttp3.RealCall$auxiliary$3l5SfzgP.call(Unknown Source)\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\nat okhttp3.RealCall.execute(RealCall.java)\nat com.***.fetcher.AbstractHttpFetcher.postHttpRequest(AbstractHttpFetcher.java:348)\nat com.***.fetcher.StandardExternalHttpFetcher.getResponse(StandardExternalHttpFetcher.java:95)\nat com.***.fetcher.StandardExternalHttpFetcher.getResponse(StandardExternalHttpFetcher.java:51)\nat com.***.fetcher.AbstractHttpFetcher.getAdResultInfo(AbstractHttpFetcher.java:211)\nat com.***.fetcher.AbstractHttpFetcher.doFetch(AbstractHttpFetcher.java:106)\nat com.***.fetcher.AbstractCircuitBreakSupportFetcher.fetchAds(AbstractCircuitBreakSupportFetcher.java:32)\nat com.***.model.FetchJob.get(FetchJob.java:65)\nat com.***.model.FetchJob.get(FetchJob.java:30)\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(java.base@11.0.11-ga/CompletableFuture.java:1700)\nat com.***.common.executor.CustomizeThreadPoolExecutor$Invocation.run$original$nr9clM8B(CustomizeThreadPoolExecutor.java:130)\nat com.***.common.executor.CustomizeThreadPoolExecutor$Invocation.run$original$nr9clM8B$accessor$i9HHrEKI(CustomizeThreadPoolExecutor.java)\nat com.***.common.executor.CustomizeThreadPoolExecutor$Invocation$auxiliary$Ijg565Uq.call(Unknown Source)\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\nat com.***.common.executor.CustomizeThreadPoolExecutor$Invocation.run(CustomizeThreadPoolExecutor.java)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.11-ga/ThreadPoolExecutor.java:1128)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.11-ga/ThreadPoolExecutor.java:628)\nat java.lang.Thread.run(java.base@11.0.11-ga/Thread.java:829)\nLocked ownable synchronizers:\n- &lt;0x00000006131ea0c0&gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)\n</code></pre>\n<p>AbstractHttpFetcher.postHttpRequest java code:</p>\n<pre><code>    protected String postHttpRequest(String host, String requestStr, long timeout) throws Exception {\n        Headers headers = new Headers.Builder()\n                .add(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;)\n                .add(CommonConstants.MAX_RTB_KEY, CommonConstants.MAX_RTB_VERSION)\n                .build();\n\n        RequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=UTF-8&quot;), requestStr);\n        Request request = new Request.Builder().url(host).post(body).headers(headers).build();\n\n        OkHttpClient client = okHttpClient;\n        if (timeout &gt; 0 &amp;&amp; timeout != okHttpClient.callTimeoutMillis()) {\n            client = okHttpClient.newBuilder().callTimeout(timeout, TimeUnit.MILLISECONDS).build();\n        }\n        Response execute = client.newCall(request).execute();\n        if (execute.body() == null) {\n            execute.close();\n            return null;\n        }\n        return execute.body().string();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bvXSQ.png\" rel=\"nofollow noreferrer\">700 okhttp3.internal.http2.Http2Writer is blocking 701 threads</a></p>\n<p><a href=\"https://i.stack.imgur.com/ExlkZ.png\" rel=\"nofollow noreferrer\">okhttpclient setting</a></p>\n<p>how to fix thread pool blocking problem 🙏🏻🙏🏻🙏🏻.\nthis problem lasts for about 15 minutes everytime.\n<a href=\"https://github.com/square/okhttp/issues/4455\" rel=\"nofollow noreferrer\">there</a> introduced why is 15min\n<a href=\"https://stackoverflow.com/questions/63783108/program-stuck-in-socketread0-method-when-requesting-with-okhttp\">there</a> said using <code>client.connectionPool().evictAll()</code> can fix this problem, but I think that using this method will affect the access of other threads that are currently working.</p>\n"},{"tags":["java","mysql","jsp","jdbc"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679211227,"post_id":75780620,"comment_id":133678177,"body_markdown":"What exactly are you trying to do?","body":"What exactly are you trying to do?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679241764,"post_id":75780620,"comment_id":133682100,"body_markdown":"please fix the code formatting (needs proper indentation) to make it easily readable","body":"please fix the code formatting (needs proper indentation) to make it easily readable"},{"owner":{"account_id":27500695,"reputation":1,"user_id":20984462,"display_name":"Diana "},"score":0,"creation_date":1679282439,"post_id":75780620,"comment_id":133687540,"body_markdown":"@Unmitigated I wan to check if the email is registered in empinfo or not if not then it will display the else part and if &quot;if condition is true it will show the link to change the password of that particular username.","body":"@Unmitigated I wan to check if the email is registered in empinfo or not if not then it will display the else part and if &quot;if condition is true it will show the link to change the password of that particular username."},{"owner":{"account_id":27500695,"reputation":1,"user_id":20984462,"display_name":"Diana "},"score":0,"creation_date":1679282521,"post_id":75780620,"comment_id":133687550,"body_markdown":"@kleopatra I did some changes in the code will you please now review it?","body":"@kleopatra I did some changes in the code will you please now review it?"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679212815,"creation_date":1679211325,"answer_id":75780634,"question_id":75780620,"body_markdown":"The `else` is entered for every non-matching row. If you want the print statement to be triggered only if there are no matches, you would need to move it outside the loop and introduce some variable to track whether any have been matched. But it doesn&#39;t look like you need a loop at all. Why iterate the entire table just to query it again with the ID you already have? You can simplify the flow to a single query and no loops:\r\n\r\n    Statement stm = con.createStatement();\r\n    String m = &quot;select * from empinfo where EEMailID=&#39;&quot;+eemail+&quot;&#39;&quot;;\r\n    ResultSet rs = stm.executeQuery(m);\r\n    if (rs.next()) {\r\n        // print\r\n    } else {\r\n        out.println(&quot;Enter Registered Email Id only&quot;);\r\n    }\r\n\r\nP.S. Watch out for [SQL injection][1].\r\n\r\n\r\n  [1]: https://www.w3schools.com/sql/sql_injection.asp","title":"Else statement&#39;s code is also printing even though if statement is true","body":"<p>The <code>else</code> is entered for every non-matching row. If you want the print statement to be triggered only if there are no matches, you would need to move it outside the loop and introduce some variable to track whether any have been matched. But it doesn't look like you need a loop at all. Why iterate the entire table just to query it again with the ID you already have? You can simplify the flow to a single query and no loops:</p>\n<pre><code>Statement stm = con.createStatement();\nString m = &quot;select * from empinfo where EEMailID='&quot;+eemail+&quot;'&quot;;\nResultSet rs = stm.executeQuery(m);\nif (rs.next()) {\n    // print\n} else {\n    out.println(&quot;Enter Registered Email Id only&quot;);\n}\n</code></pre>\n<p>P.S. Watch out for <a href=\"https://www.w3schools.com/sql/sql_injection.asp\" rel=\"nofollow noreferrer\">SQL injection</a>.</p>\n"},{"tags":[],"owner":{"account_id":26482787,"reputation":87,"user_id":20121801,"display_name":"lavascone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679212197,"creation_date":1679212197,"answer_id":75780688,"question_id":75780620,"body_markdown":"you could just add a break statement inside the if statement and that should help with performance optimization too. to do this, just add a break at the end of your while(rs1.next()) and add an if statement that checks for the end of the list so it knows when it can determine whether the email can be found","title":"Else statement&#39;s code is also printing even though if statement is true","body":"<p>you could just add a break statement inside the if statement and that should help with performance optimization too. to do this, just add a break at the end of your while(rs1.next()) and add an if statement that checks for the end of the list so it knows when it can determine whether the email can be found</p>\n"}],"owner":{"account_id":27500695,"reputation":1,"user_id":20984462,"display_name":"Diana "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1679283420,"creation_date":1679210992,"question_id":75780620,"body_markdown":"This is the code: \r\n\r\n```\r\n&lt;%\r\n  try \r\n        {\r\n            String enteredOtp = request.getParameter(&quot;otps&quot;);           \r\n            String actualOtp = (String) session.getAttribute(&quot;OTP&quot;);\r\n            \r\n            if (enteredOtp.equals(actualOtp)) \r\n            {\r\n                String eemail = (String)session.getAttribute(&quot;eemail&quot;); \r\n                Connection con;                      \r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mysql&quot;,&quot;root&quot;,&quot;12345&quot;);                               \r\n                             \r\n                Statement stm = con.createStatement();\r\n                String m = &quot;select * from empinfo where EEMailID=&#39;&quot;+eemail+&quot;&#39;&quot;;\r\n                ResultSet rs = stm.executeQuery(m);\r\n                while(rs.next()){\r\n                if(eemail.equals(rs.getString(&quot;EEMailID&quot;))){\r\n                String uid = rs.getString(&quot;EUsername&quot;); %&gt;               \r\n                &lt;a href=&quot;ChangePassword.jsp?uid=&lt;%=uid%&gt;&quot;&gt;Change Password&lt;/a&gt; \r\n&lt;%              \r\n                 }\r\n                 \r\n                 else{ \r\n                        out.println(&quot;Enter Registered Email Id only&quot;);\r\n                     }\r\n            } \r\n}           \r\n            else {\r\n               out.println(&quot;WRONG OTP ENTERED&quot;);\r\n            }\r\n}       \r\n  catch(Exception e){\r\n     out.println(e);\r\n  }\r\n\r\n        %&gt;\r\n```\r\n\r\n\r\nI don&#39;t know why the else statement&#39;s code(\r\n```\r\nelse{ \r\n           out.println(&quot;Enter Registered Email Id only&quot;);\r\n    }\r\n```\r\n) is now not at all printing, even though the &#39;IF statement&#39; is false.\r\nWhat changes can do in the code to solve this error?","title":"Else statement&#39;s code is also printing even though if statement is true","body":"<p>This is the code:</p>\n<pre><code>&lt;%\n  try \n        {\n            String enteredOtp = request.getParameter(&quot;otps&quot;);           \n            String actualOtp = (String) session.getAttribute(&quot;OTP&quot;);\n            \n            if (enteredOtp.equals(actualOtp)) \n            {\n                String eemail = (String)session.getAttribute(&quot;eemail&quot;); \n                Connection con;                      \n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mysql&quot;,&quot;root&quot;,&quot;12345&quot;);                               \n                             \n                Statement stm = con.createStatement();\n                String m = &quot;select * from empinfo where EEMailID='&quot;+eemail+&quot;'&quot;;\n                ResultSet rs = stm.executeQuery(m);\n                while(rs.next()){\n                if(eemail.equals(rs.getString(&quot;EEMailID&quot;))){\n                String uid = rs.getString(&quot;EUsername&quot;); %&gt;               \n                &lt;a href=&quot;ChangePassword.jsp?uid=&lt;%=uid%&gt;&quot;&gt;Change Password&lt;/a&gt; \n&lt;%              \n                 }\n                 \n                 else{ \n                        out.println(&quot;Enter Registered Email Id only&quot;);\n                     }\n            } \n}           \n            else {\n               out.println(&quot;WRONG OTP ENTERED&quot;);\n            }\n}       \n  catch(Exception e){\n     out.println(e);\n  }\n\n        %&gt;\n</code></pre>\n<p>I don't know why the else statement's code(</p>\n<pre><code>else{ \n           out.println(&quot;Enter Registered Email Id only&quot;);\n    }\n</code></pre>\n<p>) is now not at all printing, even though the 'IF statement' is false.\nWhat changes can do in the code to solve this error?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9925027,"reputation":1286,"user_id":7346947,"display_name":"Florian Cramer"},"score":3,"creation_date":1505503826,"post_id":46246104,"comment_id":79456891,"body_markdown":"Where did you find the statement that `@Entity` is deprecated? Because &#39;Not a managed type&#39; basically means that `@Entity` is missing.","body":"Where did you find the statement that <code>@Entity</code> is deprecated? Because &#39;Not a managed type&#39; basically means that <code>@Entity</code> is missing."},{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":0,"creation_date":1505504194,"post_id":46246104,"comment_id":79457043,"body_markdown":"Well `entity` annotation of `hibernate` - not `javax.persistence` is deprecated","body":"Well <code>entity</code> annotation of <code>hibernate</code> - not <code>javax.persistence</code> is deprecated"},{"owner":{"account_id":9925027,"reputation":1286,"user_id":7346947,"display_name":"Florian Cramer"},"score":0,"creation_date":1505514091,"post_id":46246104,"comment_id":79460578,"body_markdown":"But `Hibernates` `@Entity` is just an extension to the `JPA` one. So if you add the `JPA` one to `Person` you should be fine.","body":"But <code>Hibernates</code> <code>@Entity</code> is just an extension to the <code>JPA</code> one. So if you add the <code>JPA</code> one to <code>Person</code> you should be fine."},{"owner":{"account_id":8988970,"reputation":1274,"user_id":6701594,"display_name":"Srikanth Anusuri"},"score":0,"creation_date":1541191813,"post_id":46246104,"comment_id":93146050,"body_markdown":"Possible duplicate of [nested exception is java.lang.IllegalArgumentException: Not a managed type: class](https://stackoverflow.com/questions/48019364/nested-exception-is-java-lang-illegalargumentexception-not-a-managed-type-clas)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/48019364/nested-exception-is-java-lang-illegalargumentexception-not-a-managed-type-clas\">nested exception is java.lang.IllegalArgumentException: Not a managed type: class</a>"}],"answers":[{"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1505517113,"creation_date":1505517113,"answer_id":46248519,"question_id":46246104,"body_markdown":"Maybe `Person` needs the `Entity` annotation since you are using JPA.\r\n\r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @DynamicUpdate\r\n    public class Person {\r\n        private String id;\r\n        private String name;\r\n    }","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>Maybe <code>Person</code> needs the <code>Entity</code> annotation since you are using JPA.</p>\n\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@DynamicUpdate\npublic class Person {\n    private String id;\n    private String name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16810797,"reputation":1,"user_id":12153866,"display_name":"Turco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570020713,"creation_date":1570020713,"answer_id":58201898,"question_id":46246104,"body_markdown":"Do you have your entity mapped in your **persistence.xml**? Because I was with the same error and then I realized that I haven&#39;t had the entity mapped there","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>Do you have your entity mapped in your <strong>persistence.xml</strong>? Because I was with the same error and then I realized that I haven't had the entity mapped there</p>\n"},{"tags":[],"owner":{"account_id":15504451,"reputation":101,"user_id":11212138,"display_name":"Dipti Bhushetty"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1590248671,"creation_date":1570196186,"answer_id":58237526,"question_id":46246104,"body_markdown":"You need to add `@Entity` in your model/POJO class as below,\r\n\r\n    @Entity\r\n    public class Person {\r\n      //your model goes here\r\n    }","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>You need to add <code>@Entity</code> in your model/POJO class as below,</p>\n\n<pre><code>@Entity\npublic class Person {\n  //your model goes here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9908035,"reputation":50,"user_id":7335906,"display_name":"Mihiraj Madhusanka"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1588355995,"creation_date":1583941760,"answer_id":60639859,"question_id":46246104,"body_markdown":"    import javax.persistence.Entity;\r\n\r\n`@Entity` add in to class then it will work","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<pre><code>import javax.persistence.Entity;\n</code></pre>\n\n<p><code>@Entity</code> add in to class then it will work</p>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":356,"user_id":12647580,"display_name":"menoktaokan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603377852,"creation_date":1603377852,"answer_id":64484722,"question_id":46246104,"body_markdown":"I got the same error on my Spring Boot project. \r\nI added a new package but I didn&#39;t edit `componentScan`.\r\n\r\nIt was like that and I got the error:\r\n\r\n    com.okan.entity\r\n\r\nI just changed as I added:\r\n\r\n    com.okan.model.entity","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>I got the same error on my Spring Boot project.\nI added a new package but I didn't edit <code>componentScan</code>.</p>\n<p>It was like that and I got the error:</p>\n<pre><code>com.okan.entity\n</code></pre>\n<p>I just changed as I added:</p>\n<pre><code>com.okan.model.entity\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16658907,"reputation":71,"user_id":12071822,"display_name":"frododot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1675020689,"creation_date":1605484330,"answer_id":64851005,"question_id":46246104,"body_markdown":"In Spring Boot, the base names of your repo packages must match the base names of your entity packages.  \r\n\r\nExample:  \r\nGiven base name:   \r\n\r\n    com.abc.mcm\r\n\r\nEntity package name:  \r\n\r\n    com.abc.mcm.entities \r\n\r\nRepo package name:  \r\n\r\n    com.abc.mcm.repositories","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>In Spring Boot, the base names of your repo packages must match the base names of your entity packages.</p>\n<p>Example:<br />\nGiven base name:</p>\n<pre><code>com.abc.mcm\n</code></pre>\n<p>Entity package name:</p>\n<pre><code>com.abc.mcm.entities \n</code></pre>\n<p>Repo package name:</p>\n<pre><code>com.abc.mcm.repositories\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user14977859"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611413166,"creation_date":1611413166,"answer_id":65860515,"question_id":46246104,"body_markdown":"Although this question is more than 3 years old, I would like to tell the solution which has worked for me.\r\n\r\nPut all the classes/interfaces/repositories/models etc. in the same package. This will work.","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>Although this question is more than 3 years old, I would like to tell the solution which has worked for me.</p>\n<p>Put all the classes/interfaces/repositories/models etc. in the same package. This will work.</p>\n"},{"tags":[],"owner":{"account_id":8113298,"reputation":87,"user_id":6112614,"display_name":"Kanika Sharma"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1639039091,"creation_date":1639034798,"answer_id":70286083,"question_id":46246104,"body_markdown":"Writing up for people who will search in the future: \r\n\r\nIn your entity manager method from `LocalContainerEntityManagerFactoryBean`, set package which has DTO/POJO class to `setPackagesToScan`\r\n\r\nExample:\r\n\r\n```    \r\n@Bean\r\n@Primary\r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() throws Exception {\r\n    LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n    em.setDataSource(dataSource());\r\n    em.setPackagesToScan(new String[] {&quot;com.abc.mainRepository.model&quot;});\r\n    HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n    em.setJpaVendorAdapter(vendorAdapter);\r\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    properties.put(&quot;hibernate.dialect&quot;, dialect);\r\n    em.setJpaPropertyMap(properties);\r\n    return em;\r\n}\r\n```    \r\n\r\n\r\nWorked for me!\r\n\r\n(My POJO was inside the model package).","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>Writing up for people who will search in the future:</p>\n<p>In your entity manager method from <code>LocalContainerEntityManagerFactoryBean</code>, set package which has DTO/POJO class to <code>setPackagesToScan</code></p>\n<p>Example:</p>\n<pre><code>@Bean\n@Primary\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() throws Exception {\n    LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n    em.setDataSource(dataSource());\n    em.setPackagesToScan(new String[] {&quot;com.abc.mainRepository.model&quot;});\n    HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    em.setJpaVendorAdapter(vendorAdapter);\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(&quot;hibernate.dialect&quot;, dialect);\n    em.setJpaPropertyMap(properties);\n    return em;\n}\n</code></pre>\n<p>Worked for me!</p>\n<p>(My POJO was inside the model package).</p>\n"},{"tags":[],"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655026785,"creation_date":1655026785,"answer_id":72591019,"question_id":46246104,"body_markdown":"In my case, I had a multi-maven-module project, where one of them was the `model` package, and others were `microservices`. In my case, when I ran a microservice that used a class defined in `model package` (domain called in my project), I had to add the `@EntityScan(basePackages = {&quot;com.example.domain&quot;})` annotation to the `@SpringBootApplication class`:\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\n@EntityScan(basePackages = {&quot;com.example.domain&quot;}) // add this so the spring boot context knows where to look after entities\r\npublic class DoctorServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DoctorServiceApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>In my case, I had a multi-maven-module project, where one of them was the <code>model</code> package, and others were <code>microservices</code>. In my case, when I ran a microservice that used a class defined in <code>model package</code> (domain called in my project), I had to add the <code>@EntityScan(basePackages = {&quot;com.example.domain&quot;})</code> annotation to the <code>@SpringBootApplication class</code>:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\n@EntityScan(basePackages = {&quot;com.example.domain&quot;}) // add this so the spring boot context knows where to look after entities\npublic class DoctorServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DoctorServiceApplication.class, args);\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1454732,"reputation":443,"user_id":1370653,"accept_rate":50,"display_name":"Fabimaru"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1671364288,"creation_date":1671364288,"answer_id":74841081,"question_id":46246104,"body_markdown":"For those who are using **Spring Data 3** and are desperately searching, I realized after a lot of research and attempts that most older advices are valid for previous versions of Spring Data but not for version `3.0.0`. So all my attempts failed. I tried to:\r\n* add some annotations (`@EnableJpaRepositories`, `@ComponentScan`, `@EntityScan`) with or without the asterisk in the package name. I still got `Not a managed type: class […]` fatal error at the start of the program.\r\n* add an `entityManagerFactory()` bean. I got a circular reference error.\r\n\r\nIn the end, I found [this official guide](https://spring.io/guides/gs/accessing-data-jpa), which gives this [sample project](https://github.com/spring-guides/gs-accessing-data-jpa/tree/main/complete) as example. This one uses **annotations from Jakarta** (ex:&#160;`jakarta.persistence.Entity`) instead of `javax.persistence`. And with Jakarta annotations my project started working.","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>For those who are using <strong>Spring Data 3</strong> and are desperately searching, I realized after a lot of research and attempts that most older advices are valid for previous versions of Spring Data but not for version <code>3.0.0</code>. So all my attempts failed. I tried to:</p>\n<ul>\n<li>add some annotations (<code>@EnableJpaRepositories</code>, <code>@ComponentScan</code>, <code>@EntityScan</code>) with or without the asterisk in the package name. I still got <code>Not a managed type: class […]</code> fatal error at the start of the program.</li>\n<li>add an <code>entityManagerFactory()</code> bean. I got a circular reference error.</li>\n</ul>\n<p>In the end, I found <a href=\"https://spring.io/guides/gs/accessing-data-jpa\" rel=\"noreferrer\">this official guide</a>, which gives this <a href=\"https://github.com/spring-guides/gs-accessing-data-jpa/tree/main/complete\" rel=\"noreferrer\">sample project</a> as example. This one uses <strong>annotations from Jakarta</strong> (ex: <code>jakarta.persistence.Entity</code>) instead of <code>javax.persistence</code>. And with Jakarta annotations my project started working.</p>\n"},{"tags":[],"owner":{"account_id":7609862,"reputation":385,"user_id":5771107,"display_name":"yuyu5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679282989,"creation_date":1679282989,"answer_id":75786375,"question_id":46246104,"body_markdown":"I&#39;m a bit late to the game, but for anyone stumbling across this thread due to a Spring Boot v2 -&gt; v3 migration, the real answer is to replace any `javax` usages with `jakarta`. More details [here](https://stackoverflow.com/questions/73350585/upgrade-from-spring-boot-2-7-2-to-spring-boot-3-0-0-snapshot-java-package-java/75786362#75786362).","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>I'm a bit late to the game, but for anyone stumbling across this thread due to a Spring Boot v2 -&gt; v3 migration, the real answer is to replace any <code>javax</code> usages with <code>jakarta</code>. More details <a href=\"https://stackoverflow.com/questions/73350585/upgrade-from-spring-boot-2-7-2-to-spring-boot-3-0-0-snapshot-java-package-java/75786362#75786362\">here</a>.</p>\n"}],"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164714,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":46248519,"answer_count":11,"score":50,"last_activity_date":1679282989,"creation_date":1505502559,"question_id":46246104,"body_markdown":"I am using Spring Boot and JPA. It is [here][1]\r\n\r\nI&#39;ve got a domain that looks like this. Also it seems `Entity` annotation is deprecated so I am using `@DynamicUpdate` instead.\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @DynamicUpdate\r\n    public class Person {\r\n        private String id;\r\n        private String name;\r\n    }\r\n\r\nMy `@SpringBootApplication` class looks like this\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.lapots.breed.platform.cloud.boot&quot;)\r\n    @EnableJpaRepositories(&quot;com.lapots.breed.platform.cloud.boot.repository&quot;)\r\n    @EntityScan(&quot;com.lapots.breed.platform.cloud.boot.domain&quot;)\r\n    public class JavaCloudSampleApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(JavaCloudSampleApplication.class, args);\r\n        }\r\n\r\n        // executed after all beans instantiated\r\n        @Bean\r\n        public CommandLineRunner data(PersonRepository repository) {\r\n            return (args) -&gt; {\r\n                repository.save(new Person(UUID.randomUUID().toString(), &quot;Nike&quot;));\r\n            };\r\n        }\r\n    }\r\n\r\nThe `@Repository` class looks like this\r\n\r\n    @Repository\r\n    public interface PersonRepository extends JpaRepository&lt;Person, String&gt; {\r\n    }\r\n\r\nThe `@Service` that uses this class looks like this\r\n\r\n    @Service\r\n    @Transactional\r\n    public class PersonService implements IPersonService {\r\n\r\n        @Autowired\r\n        private PersonRepository personRepository;\r\n\r\n        @Override\r\n        public Person findPerson(String id) {\r\n            return personRepository.findOne(id);\r\n        }\r\n\r\n        @Override\r\n        public Person generatePerson() {\r\n            Person person = new Person();\r\n            person.setId(UUID.randomUUID().toString());\r\n            person.setName(&quot;Nike&quot;);\r\n            return person;\r\n        }\r\n    }\r\n\r\nBut when I start application I get this error:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;personService&#39;: Unsatisfied dependency expressed through field &#39;personRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error\r\n     creating bean with name &#39;personRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.lapots.breed.platform.cloud.boot.domain.Person\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\r\n            at com.lapots.breed.platform.cloud.boot.app.JavaCloudSampleApplication.main(JavaCloudSampleApplication.java:23) [classes!/:0.0.1-SNAPSHOT]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n            at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;personRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.lapots.breed.platform.cl\r\n    oud.boot.domain.Person\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            ... 27 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.lapots.breed.platform.cloud.boot.domain.Person\r\n            at org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:210) ~[hibernate-entitymanager-5.0.12.Final.jar!/:5.0.12.Final]\r\n            at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:70) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\r\n            at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:68) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:153) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:100) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:82) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\r\n            at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:199) ~[spring-data-commons-1.13.6.RELEASE.jar!/:na]\r\n            at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:277) ~[spring-data-commons-1.13.6.RELEASE.jar!/:na]\r\n            at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:263) ~[spring-data-commons-1.13.6.RELEASE.jar!/:na]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:101) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\r\n            ... 37 common frames omitted\r\n\r\n\r\nWhat is the problem?\r\n\r\n\r\n  [1]: https://github.com/lapots/java-cloud-sample/tree/java_8_edition","title":"&quot;IllegalArgumentException: Not a managed type&quot; in Spring Boot application","body":"<p>I am using Spring Boot and JPA. It is <a href=\"https://github.com/lapots/java-cloud-sample/tree/java_8_edition\" rel=\"noreferrer\">here</a></p>\n<p>I've got a domain that looks like this. Also it seems <code>Entity</code> annotation is deprecated so I am using <code>@DynamicUpdate</code> instead.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@DynamicUpdate\npublic class Person {\n    private String id;\n    private String name;\n}\n</code></pre>\n<p>My <code>@SpringBootApplication</code> class looks like this</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;com.lapots.breed.platform.cloud.boot&quot;)\n@EnableJpaRepositories(&quot;com.lapots.breed.platform.cloud.boot.repository&quot;)\n@EntityScan(&quot;com.lapots.breed.platform.cloud.boot.domain&quot;)\npublic class JavaCloudSampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JavaCloudSampleApplication.class, args);\n    }\n\n    // executed after all beans instantiated\n    @Bean\n    public CommandLineRunner data(PersonRepository repository) {\n        return (args) -&gt; {\n            repository.save(new Person(UUID.randomUUID().toString(), &quot;Nike&quot;));\n        };\n    }\n}\n</code></pre>\n<p>The <code>@Repository</code> class looks like this</p>\n<pre><code>@Repository\npublic interface PersonRepository extends JpaRepository&lt;Person, String&gt; {\n}\n</code></pre>\n<p>The <code>@Service</code> that uses this class looks like this</p>\n<pre><code>@Service\n@Transactional\npublic class PersonService implements IPersonService {\n\n    @Autowired\n    private PersonRepository personRepository;\n\n    @Override\n    public Person findPerson(String id) {\n        return personRepository.findOne(id);\n    }\n\n    @Override\n    public Person generatePerson() {\n        Person person = new Person();\n        person.setId(UUID.randomUUID().toString());\n        person.setName(&quot;Nike&quot;);\n        return person;\n    }\n}\n</code></pre>\n<p>But when I start application I get this error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'personService': Unsatisfied dependency expressed through field 'personRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error\n creating bean with name 'personRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.lapots.breed.platform.cloud.boot.domain.Person\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.6.RELEASE.jar!/:1.5.6.RELEASE]\n        at com.lapots.breed.platform.cloud.boot.app.JavaCloudSampleApplication.main(JavaCloudSampleApplication.java:23) [classes!/:0.0.1-SNAPSHOT]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'personRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.lapots.breed.platform.cl\noud.boot.domain.Person\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        ... 27 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.lapots.breed.platform.cloud.boot.domain.Person\n        at org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:210) ~[hibernate-entitymanager-5.0.12.Final.jar!/:5.0.12.Final]\n        at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:70) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\n        at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:68) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:153) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:100) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:82) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:199) ~[spring-data-commons-1.13.6.RELEASE.jar!/:na]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:277) ~[spring-data-commons-1.13.6.RELEASE.jar!/:na]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:263) ~[spring-data-commons-1.13.6.RELEASE.jar!/:na]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:101) ~[spring-data-jpa-1.11.6.RELEASE.jar!/:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n        ... 37 common frames omitted\n</code></pre>\n<p>What is the problem?</p>\n"},{"tags":["java","http","hex","java-11"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679128942,"post_id":75774647,"comment_id":133668528,"body_markdown":"How do you determine what is in the returned body?  Show us the code that does that.  Also, what is the actual class of the `response` object?","body":"How do you determine what is in the returned body?  Show us the code that does that.  Also, what is the actual class of the <code>response</code> object?"},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1679131747,"post_id":75774647,"comment_id":133668895,"body_markdown":"@StephenC I use OkHttpClient to request server and then return the full body. I have updated the okhttp request and server code. Thanks.","body":"@StephenC I use OkHttpClient to request server and then return the full body. I have updated the okhttp request and server code. Thanks."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679131877,"post_id":75774647,"comment_id":133668912,"body_markdown":"Please answer the 2 questions that I actually asked ... above.","body":"Please answer the 2 questions that I actually asked ... above."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1679132038,"post_id":75774647,"comment_id":133668930,"body_markdown":"1 System.out.println(&quot;body : &quot; + response.body()) 2 string","body":"1 System.out.println(&quot;body : &quot; + response.body()) 2 string"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679132919,"post_id":75774647,"comment_id":133669077,"body_markdown":"OK ... I can&#39;t see what the problem is.  I suggest that you attaching a debugger to the client and looking at what is actually received within the HttpClient code ... and where the characters go missing.","body":"OK ... I can&#39;t see what the problem is.  I suggest that you attaching a debugger to the client and looking at what is actually received within the HttpClient code ... and where the characters go missing."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679133246,"post_id":75774647,"comment_id":133669115,"body_markdown":"There are a few possible explanations.  These *include*: 1) the server is not sending what you think, 2) the received response body string is not what you think, 3) there is a subtle difference between the actual code and the code you showed us, 4) something between the server and client is rewriting the data, 5) there is a bug in Java 11 HttpClient.  Investigate each of these possibilities.","body":"There are a few possible explanations.  These <i>include</i>: 1) the server is not sending what you think, 2) the received response body string is not what you think, 3) there is a subtle difference between the actual code and the code you showed us, 4) something between the server and client is rewriting the data, 5) there is a bug in Java 11 HttpClient.  Investigate each of these possibilities."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1679133386,"post_id":75774647,"comment_id":133669139,"body_markdown":"Thank you very much. I will try to debug it later.","body":"Thank you very much. I will try to debug it later."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679135559,"post_id":75774647,"comment_id":133669417,"body_markdown":"@shanfeng I would say the root cause is you are modifying response (encrypting it and converting to hex) but fails to actualize content-length header, not sure it was set before conversion though.","body":"@shanfeng I would say the root cause is you are modifying response (encrypting it and converting to hex) but fails to actualize content-length header, not sure it was set before conversion though."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679148134,"post_id":75774647,"comment_id":133671327,"body_markdown":"@shanfeng, Have you compared the body content of the Request sent by HttpClient and OkHttpClient on the server side?","body":"@shanfeng, Have you compared the body content of the Request sent by HttpClient and OkHttpClient on the server side?"},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1679281967,"post_id":75774647,"comment_id":133687490,"body_markdown":"@StephenC I got it. HttpResponseEncipher rewrite contents without handling content-length. OkHttp works well as it use compress in the header. The content-length will be recalculated in the compression.","body":"@StephenC I got it. HttpResponseEncipher rewrite contents without handling content-length. OkHttp works well as it use compress in the header. The content-length will be recalculated in the compression."}],"answers":[{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679282765,"creation_date":1679282765,"answer_id":75786353,"question_id":75774647,"body_markdown":"Recalculating content-length after rewrite content.\r\n```java\r\nprotected void encode(ChannelHandlerContext ctx, Netty4HttpResponse msg, List&lt;Object&gt; out) {\r\n    ByteBuf buf = msg.content();\r\n    ByteBuf encryptBuf = encryptContent(buf);\r\n    FullHttpResponse rep = msg.replace(encryptBuf);\r\n    rep.headers().set(&quot;content-length&quot;, encryptBuf.readableBytes()); // recalc content length\r\n    rep.headers().set(&quot;Content-Type&quot;, &quot;text/plain&quot;);  // rewrite content type\r\n    ...\r\n}\r\n```","title":"Why HttpClient of JDK11 can not read full body string?","body":"<p>Recalculating content-length after rewrite content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void encode(ChannelHandlerContext ctx, Netty4HttpResponse msg, List&lt;Object&gt; out) {\n    ByteBuf buf = msg.content();\n    ByteBuf encryptBuf = encryptContent(buf);\n    FullHttpResponse rep = msg.replace(encryptBuf);\n    rep.headers().set(&quot;content-length&quot;, encryptBuf.readableBytes()); // recalc content length\n    rep.headers().set(&quot;Content-Type&quot;, &quot;text/plain&quot;);  // rewrite content type\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679282765,"creation_date":1679127826,"question_id":75774647,"body_markdown":"In my application, I use JDK11 HttpClient to send http request to server.  \r\nServer encrypt response into hex string.  \r\nClient code may like below:\r\n```\r\nHttpClient httpClient = HttpClient.newBuilder()\r\n    .version(HttpClient.Version.HTTP_1_1)\r\n    .connectTimeout(Duration.ofSeconds(1))\r\n    .build();\r\nHttpRequest request = HttpRequest.newBuilder()\r\n    .uri(new URI(&quot;xxx&quot;))\r\n    .POST(HttpRequest.BodyPublishers.ofString(encryptBody));\r\n    .headers(xxx)\r\n    .build();\r\nHttpResponse&lt;String&gt; response = httpClient.send(request, HttpRequest.BodyHandlers.ofString());\r\n// here returned body is just first part.\r\nSystem.out.println(&quot;body : &quot; + response.body());\r\n```\r\nExample:\r\nserver returns:  \r\n`dfb3132c37f32cb93c78760749a6d9b0024e1\r\nb0c5aa1dcd0bb1f02d611b72f0f5a073059475e659dd7aca7aad48e50f151e0ac215ab35eb8e041e569d779bd1a359007e0269dce3f3968ae070514d5ffd1591dc8b1b3e643c72888c9f95f9021071c3d8b7c8e540cc54df4762cb6a2086facac86e17cf023879936f725dfda5c60d97097785e2a62885cf6342a0d616ad632d7769518cc68720dd1d4bc9e20560e831a3eb6140747ae1f35e7fa136303b0df2fd7820fb2d1d1e467`  \r\nBut here response body is:\r\n`dfb3132c37f32cb93c78760749a6d9b0024e1b0c5aa1dcd0bb1f02d611b72f0f5a073059475e659dd7aca7aad48e50f151e0ac215ab35eb8e041e569d779bd1a359007e0269dce3f3968ae070514d5f`\r\n\r\nAnd I have tried to use OkHttpClient to make request. It works well.  \r\nSo, it&#39;s a client issue. But I cannout figure it out.  \r\nAny response will be highly appreciated.\r\n\r\n---\r\nOkHttpClient code works well, code may like below:\r\n```java\r\nfinal MediaType JSON = MediaType.get(&quot;application/json; charset=utf-8&quot;);\r\nRequestBody body = RequestBody.create(JSON, encryptBody);\r\nRequest req = new Request.Builder()\r\n    .post(body)\r\n    .url(xxx)\r\n    .headers(xxx)\r\n    .build();\r\nCall call = client.newCall(req);\r\nResponse rep = call.execute();\r\nSystem.out.println(&quot;body : &quot; + rep.body.string());\r\n```\r\n\r\n---\r\nServer use netty. Core handler like below:\r\n```java\r\nclass HttpResponseEncipher extends MessageToMessageEncoder&lt;Netty4HttpResponse&gt; {\r\n    private static final String PROPERTY_DO_NOT_SPLIT = &quot;es.unsafe.do_not_split_http_responses&quot;;\r\n\r\n    private final boolean isSpiltResponse;\r\n\r\n    private final int splitThreshold;\r\n\r\n    HttpResponseEncipher() {\r\n        isSpiltResponse = Booleans.parseBoolean(System.getProperty(PROPERTY_DO_NOT_SPLIT), false);\r\n        splitThreshold = (int) (NettyAllocator.suggestedMaxAllocationSize() * 0.99);\r\n    }\r\n\r\n    @Override\r\n    protected void encode(ChannelHandlerContext ctx, Netty4HttpResponse msg, List&lt;Object&gt; out) {\r\n        ByteBuf buf = msg.content();\r\n        FullHttpResponse rep = msg.replace(encryptContent(buf));\r\n        if (isSpiltResponse || rep.content().readableBytes() &lt;= splitThreshold) {\r\n            out.add(rep);\r\n        } else {\r\n            out.add(createPart(rep));\r\n            ByteBuf content = rep.content();\r\n            while (content.readableBytes() &gt; splitThreshold) {\r\n                out.add(new DefaultHttpContent(content.readRetainedSlice(splitThreshold)));\r\n            }\r\n            out.add(new DefaultLastHttpContent(content.readRetainedSlice(content.readableBytes())));\r\n        }\r\n    }\r\n\r\n    private HttpResponse createPart(FullHttpResponse rep) {\r\n        return new DefaultHttpResponse(rep.protocolVersion(), rep.status(), rep.headers());\r\n    }\r\n    \r\n    private ByteBuf encryptContent(ByteBuf source) {\r\n        int len = source.readableBytes();\r\n        byte[] body = new byte[len];\r\n        source.readBytes(body, 0, len);\r\n        byte[] encryptedBody = AuthorityManager.getXXX().encrypt(body);\r\n        String hexString = Hex.encodeHexString(encryptedBody);\r\n        return Unpooled.wrappedBuffer(hexString.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n```  \r\nAnd above this, there are `HttpContentCompressor`, `HttpResponseEncoder` and `ReadTimeoutHandler`.","title":"Why HttpClient of JDK11 can not read full body string?","body":"<p>In my application, I use JDK11 HttpClient to send http request to server.<br />\nServer encrypt response into hex string.<br />\nClient code may like below:</p>\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n    .version(HttpClient.Version.HTTP_1_1)\n    .connectTimeout(Duration.ofSeconds(1))\n    .build();\nHttpRequest request = HttpRequest.newBuilder()\n    .uri(new URI(&quot;xxx&quot;))\n    .POST(HttpRequest.BodyPublishers.ofString(encryptBody));\n    .headers(xxx)\n    .build();\nHttpResponse&lt;String&gt; response = httpClient.send(request, HttpRequest.BodyHandlers.ofString());\n// here returned body is just first part.\nSystem.out.println(&quot;body : &quot; + response.body());\n</code></pre>\n<p>Example:\nserver returns:<br />\n<code>dfb3132c37f32cb93c78760749a6d9b0024e1 b0c5aa1dcd0bb1f02d611b72f0f5a073059475e659dd7aca7aad48e50f151e0ac215ab35eb8e041e569d779bd1a359007e0269dce3f3968ae070514d5ffd1591dc8b1b3e643c72888c9f95f9021071c3d8b7c8e540cc54df4762cb6a2086facac86e17cf023879936f725dfda5c60d97097785e2a62885cf6342a0d616ad632d7769518cc68720dd1d4bc9e20560e831a3eb6140747ae1f35e7fa136303b0df2fd7820fb2d1d1e467</code><br />\nBut here response body is:\n<code>dfb3132c37f32cb93c78760749a6d9b0024e1b0c5aa1dcd0bb1f02d611b72f0f5a073059475e659dd7aca7aad48e50f151e0ac215ab35eb8e041e569d779bd1a359007e0269dce3f3968ae070514d5f</code></p>\n<p>And I have tried to use OkHttpClient to make request. It works well.<br />\nSo, it's a client issue. But I cannout figure it out.<br />\nAny response will be highly appreciated.</p>\n<hr />\n<p>OkHttpClient code works well, code may like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final MediaType JSON = MediaType.get(&quot;application/json; charset=utf-8&quot;);\nRequestBody body = RequestBody.create(JSON, encryptBody);\nRequest req = new Request.Builder()\n    .post(body)\n    .url(xxx)\n    .headers(xxx)\n    .build();\nCall call = client.newCall(req);\nResponse rep = call.execute();\nSystem.out.println(&quot;body : &quot; + rep.body.string());\n</code></pre>\n<hr />\n<p>Server use netty. Core handler like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class HttpResponseEncipher extends MessageToMessageEncoder&lt;Netty4HttpResponse&gt; {\n    private static final String PROPERTY_DO_NOT_SPLIT = &quot;es.unsafe.do_not_split_http_responses&quot;;\n\n    private final boolean isSpiltResponse;\n\n    private final int splitThreshold;\n\n    HttpResponseEncipher() {\n        isSpiltResponse = Booleans.parseBoolean(System.getProperty(PROPERTY_DO_NOT_SPLIT), false);\n        splitThreshold = (int) (NettyAllocator.suggestedMaxAllocationSize() * 0.99);\n    }\n\n    @Override\n    protected void encode(ChannelHandlerContext ctx, Netty4HttpResponse msg, List&lt;Object&gt; out) {\n        ByteBuf buf = msg.content();\n        FullHttpResponse rep = msg.replace(encryptContent(buf));\n        if (isSpiltResponse || rep.content().readableBytes() &lt;= splitThreshold) {\n            out.add(rep);\n        } else {\n            out.add(createPart(rep));\n            ByteBuf content = rep.content();\n            while (content.readableBytes() &gt; splitThreshold) {\n                out.add(new DefaultHttpContent(content.readRetainedSlice(splitThreshold)));\n            }\n            out.add(new DefaultLastHttpContent(content.readRetainedSlice(content.readableBytes())));\n        }\n    }\n\n    private HttpResponse createPart(FullHttpResponse rep) {\n        return new DefaultHttpResponse(rep.protocolVersion(), rep.status(), rep.headers());\n    }\n    \n    private ByteBuf encryptContent(ByteBuf source) {\n        int len = source.readableBytes();\n        byte[] body = new byte[len];\n        source.readBytes(body, 0, len);\n        byte[] encryptedBody = AuthorityManager.getXXX().encrypt(body);\n        String hexString = Hex.encodeHexString(encryptedBody);\n        return Unpooled.wrappedBuffer(hexString.getBytes(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>And above this, there are <code>HttpContentCompressor</code>, <code>HttpResponseEncoder</code> and <code>ReadTimeoutHandler</code>.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1679282191,"post_id":75786308,"comment_id":133687515,"body_markdown":"That product won&#39;t fit into a long. Use [`BigInteger.multiply()`](https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#multiply-java.math.BigInteger-) instead.","body":"That product won&#39;t fit into a long. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#multiply-java.math.BigInteger-\" rel=\"nofollow noreferrer\"><code>BigInteger.multiply()</code></a> instead."},{"owner":{"account_id":2075471,"reputation":145,"user_id":1848952,"accept_rate":0,"display_name":"Ankit Wasankar"},"score":0,"creation_date":1679282247,"post_id":75786308,"comment_id":133687520,"body_markdown":"Did you check this. https://leetcode.com/problems/multiply-strings/solutions/17605/easiest-java-solution-with-graph-explanation/","body":"Did you check this. <a href=\"https://leetcode.com/problems/multiply-strings/solutions/17605/easiest-java-solution-with-graph-explanation/\" rel=\"nofollow noreferrer\">leetcode.com/problems/multiply-strings/solutions/17605/&hellip;</a>"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1679282338,"post_id":75786308,"comment_id":133687528,"body_markdown":"Depending on whether this is homework or something else, the intent may have been for you to implement a multiplication algorithm yourself. Carefully read the instructions so you don&#39;t end up handing in a solution that would be disqualified..","body":"Depending on whether this is homework or something else, the intent may have been for you to implement a multiplication algorithm yourself. Carefully read the instructions so you don&#39;t end up handing in a solution that would be disqualified.."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1679287181,"post_id":75786308,"comment_id":133687964,"body_markdown":"Not what you asked, but I feel sure that `if(n.charAt(i)&gt;=&#39;0&#39; || n.charAt(i)&gt;=&#39;9&#39;)` was supposed to say `if(n.charAt(i)&gt;=&#39;0&#39; &amp;&amp; n.charAt(i)&lt;=&#39;9&#39;)`","body":"Not what you asked, but I feel sure that <code>if(n.charAt(i)&gt;=&#39;0&#39; || n.charAt(i)&gt;=&#39;9&#39;)</code> was supposed to say <code>if(n.charAt(i)&gt;=&#39;0&#39; &amp;&amp; n.charAt(i)&lt;=&#39;9&#39;)</code>"}],"owner":{"account_id":26442661,"reputation":1,"user_id":20086928,"display_name":"Hope"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679282217,"answer_count":0,"score":0,"last_activity_date":1679282033,"creation_date":1679282033,"question_id":75786308,"body_markdown":"```\r\nclass Solution {\r\n     public String multiply(String num1, String num2) {\r\n      \r\n       long n1= multiply_utility(num1);\r\n        long n2=multiply_utility(num2);\r\n        long mul=n1 * n2;\r\n        return Long.toString(mul);\r\n        \r\n    }\r\n    public long multiply_utility(String n){\r\n        long number=0;\r\n        for(int i=0;i&lt;n.length();i++){\r\n            if(n.charAt(i)&gt;=&#39;0&#39; || n.charAt(i)&gt;=&#39;9&#39;){\r\n                number=number*10+ (n.charAt(i)-&#39;0&#39;);\r\n            }\r\n            System.out.println(number);\r\n        }\r\n        return number;\r\n    } \r\n}\r\n```\r\n\r\nnum1 =\r\n\r\n&quot;498828660196&quot;\r\n\r\nnum2 =\r\n\r\n&quot;840477629533&quot;\r\n\r\nOutput\r\n\r\n&quot;-3269442614257959980&quot;\r\n\r\nExpected\r\n\r\n&quot;419254329864656431168468&quot;","title":"Multiply two strings","body":"<pre><code>class Solution {\n     public String multiply(String num1, String num2) {\n      \n       long n1= multiply_utility(num1);\n        long n2=multiply_utility(num2);\n        long mul=n1 * n2;\n        return Long.toString(mul);\n        \n    }\n    public long multiply_utility(String n){\n        long number=0;\n        for(int i=0;i&lt;n.length();i++){\n            if(n.charAt(i)&gt;='0' || n.charAt(i)&gt;='9'){\n                number=number*10+ (n.charAt(i)-'0');\n            }\n            System.out.println(number);\n        }\n        return number;\n    } \n}\n</code></pre>\n<p>num1 =</p>\n<p>&quot;498828660196&quot;</p>\n<p>num2 =</p>\n<p>&quot;840477629533&quot;</p>\n<p>Output</p>\n<p>&quot;-3269442614257959980&quot;</p>\n<p>Expected</p>\n<p>&quot;419254329864656431168468&quot;</p>\n"},{"tags":["java","android","libgdx","stage","tmx"],"comments":[{"owner":{"account_id":3432870,"reputation":3577,"user_id":2876754,"accept_rate":90,"display_name":"Sneh"},"score":0,"creation_date":1435920574,"post_id":31204670,"comment_id":50411988,"body_markdown":"Try to remove 1/16f from renderer = new OrthogonalTiledMapRenderer(map, 1 / 16f); and see if it works. As 1/16f is unit scale and I think which is setting the scale of your map to be very small and hence the map is not visible to you.","body":"Try to remove 1/16f from renderer = new OrthogonalTiledMapRenderer(map, 1 / 16f); and see if it works. As 1/16f is unit scale and I think which is setting the scale of your map to be very small and hence the map is not visible to you."}],"answers":[{"tags":[],"owner":{"account_id":4686592,"reputation":3132,"user_id":3793865,"accept_rate":75,"display_name":"george"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1435922790,"creation_date":1435922790,"answer_id":31205731,"question_id":31204670,"body_markdown":"First of all, what&#39;s the size of your tiles? Are you sure it&#39;s 16 x 16 px? If that&#39;s the case then in your AbstractScreen in the resize method you need to adjust the camera to:\r\n\r\n     public void resize(int width, int height) {\r\n        getViewport().update(width, height, true);\r\n        getViewport().getcamera().viewportWidth = YourScreenWidth / 16f;\r\n        getViewport().getcamera().viewportHeight = YourScreenHeight / 16f;\r\n        //set the camera to start from 0,0 and not from the center of the screen\r\n        getViewport().getcamera().setToOrtho(false,                                            \r\n                                            getViewport().getcamera().viewportWidth / 2f,\r\n                                            getViewport().getcamera().viewportHeight/ 2f);\r\n\r\n       getViewport().getcamera().update();\r\n     }\r\n\r\nThis should display your map on the whole screen. Basically, with the tiled maps you can&#39;t resize them programatically, since there are no setSize, setWidth etc. methods so the trick is to play with the camera and the tile size to display them correctly.\r\n","title":"loading TiledMap into stage class ,libgdx","body":"<p>First of all, what's the size of your tiles? Are you sure it's 16 x 16 px? If that's the case then in your AbstractScreen in the resize method you need to adjust the camera to:</p>\n\n<pre><code> public void resize(int width, int height) {\n    getViewport().update(width, height, true);\n    getViewport().getcamera().viewportWidth = YourScreenWidth / 16f;\n    getViewport().getcamera().viewportHeight = YourScreenHeight / 16f;\n    //set the camera to start from 0,0 and not from the center of the screen\n    getViewport().getcamera().setToOrtho(false,                                            \n                                        getViewport().getcamera().viewportWidth / 2f,\n                                        getViewport().getcamera().viewportHeight/ 2f);\n\n   getViewport().getcamera().update();\n }\n</code></pre>\n\n<p>This should display your map on the whole screen. Basically, with the tiled maps you can't resize them programatically, since there are no setSize, setWidth etc. methods so the trick is to play with the camera and the tile size to display them correctly.</p>\n"},{"tags":[],"owner":{"account_id":7213109,"reputation":1,"user_id":5506497,"display_name":"Oelje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446198057,"creation_date":1446198057,"answer_id":33432856,"question_id":31204670,"body_markdown":"You have to call `renderer.render();` in the `render()` method of your &#39;Screen&#39; not in the `buildStage()` method.","title":"loading TiledMap into stage class ,libgdx","body":"<p>You have to call <code>renderer.render();</code> in the <code>render()</code> method of your 'Screen' not in the <code>buildStage()</code> method.</p>\n"}],"owner":{"account_id":6568634,"reputation":13,"user_id":5077410,"display_name":"Jose Angel Caudevilla Casaus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":971,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31205731,"answer_count":2,"score":0,"last_activity_date":1679281650,"creation_date":1435919587,"question_id":31204670,"body_markdown":"Im trying to loading a tmx map into stage class but when i run my game the screen dont show nothing about the map,only print the character, i think the problem is the camera but dont know how solve it:\r\n\r\n\r\nAbstract Screen:\r\n\r\n    public abstract class AbstractScreen extends Stage implements Screen{\r\n\t\r\n\t\r\n\t\r\n\tprotected AbstractScreen(){\r\n\t\t//Crea un punto de vista por defecto\r\n\t\tsuper(new StretchViewport(1024, 720));\r\n\t}\r\n\r\n\t/**\r\n\t * que deber&#225; ser implementado por cada pantalla de nuestro juego. \r\n\t * Este m&#233;todo se utiliza para a&#241;adir los actores a cada escena \r\n\t * (LibGDX Scene2d).\r\n\t */\r\n\tpublic abstract void buildStage();\r\n\tpublic abstract void dispose();\r\n\r\n\tpublic void render(float arg0) {\r\n\t\t/*\r\n\t\t * Limpiamos la Screen\r\n\t\t */\r\n\t\t//Con esto se define el color con el que se borrara el buffer al hacer un glClear()\r\n\t\t//Rgb y alpha(transparecia)\r\n\t\tGdx.gl20.glClearColor(0, 0, 0, 1);\r\n\t\t// limpiar el buffer depth, el buffer secundario, \r\n\t\t//para que no tenga cosas previamente dibujadas\r\n\t\tGdx.gl.glClear(GL11.GL_COLOR_BUFFER_BIT);\r\n\t\t//buildStage();\r\n\t\t//llamada metodos stage\r\n\t\tsuper.act(Gdx.graphics.getDeltaTime());\r\n\t\tsuper.draw();\r\n\t}\r\n\r\n\tpublic void show() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tGdx.input.setInputProcessor(this);\r\n\t}\r\n\t\r\n\t\r\n\tpublic void resize(int width, int height) {\r\n\t\tgetViewport().update(width, height, true);\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\tpublic void hide() {}\r\n\r\n\tpublic void pause() {}\r\n\t\r\n\tpublic void resume() {}\r\n}\r\n\r\n\t\r\n\r\n\r\nScreen:\r\n\r\n    public class SpriteScreen extends AbstractScreen implements InputProcessor {\r\n\r\n\t//private SpriteActor mActor;\r\n\tprivate Player jugador;\r\n\tprivate TouchPadPlayer touchpad;\r\n\t\r\n\tprivate TiledMap map;\r\n\tprivate static OrthogonalTiledMapRenderer renderer; \r\n\tprivate TiledMapTileLayer collision;\r\n\r\n\tpublic SpriteScreen() {\r\n\t\tthis.jugador = new Player(getWidth() / 2, getHeight() / 2);\r\n\t\tthis.touchpad = new TouchPadPlayer();\r\n\t\tthis.touchpad.setPosition(100, 100);\r\n\t\t\r\n\t\tthis.map=new TmxMapLoader().load(&quot;assests/maps/example.tmx&quot;);\r\n\t\tcollision = (TiledMapTileLayer)map.getLayers().get(&quot;Colisiones&quot;);\r\n\t\trenderer = new OrthogonalTiledMapRenderer(map, 1 / 16f);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void buildStage() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\trenderer.render();\t\t\r\n\t\tGdx.input.setInputProcessor(this);\r\n\t\taddActor(this.jugador);\r\n\t\taddActor(this.touchpad);\r\n\t\t\r\n\t\tthis.getCamera().update();\r\n\t\trenderer.setView((OrthographicCamera) this.getCamera());\r\n\t\trenderer.render();\r\n\t\t\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void dispose() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tmap.dispose();\r\n\t\trenderer.dispose();\r\n\t}\r\n\r\n\r\n","title":"loading TiledMap into stage class ,libgdx","body":"<p>Im trying to loading a tmx map into stage class but when i run my game the screen dont show nothing about the map,only print the character, i think the problem is the camera but dont know how solve it:</p>\n\n<p>Abstract Screen:</p>\n\n<pre><code>public abstract class AbstractScreen extends Stage implements Screen{\n\n\n\nprotected AbstractScreen(){\n    //Crea un punto de vista por defecto\n    super(new StretchViewport(1024, 720));\n}\n\n/**\n * que deberá ser implementado por cada pantalla de nuestro juego. \n * Este método se utiliza para añadir los actores a cada escena \n * (LibGDX Scene2d).\n */\npublic abstract void buildStage();\npublic abstract void dispose();\n\npublic void render(float arg0) {\n    /*\n     * Limpiamos la Screen\n     */\n    //Con esto se define el color con el que se borrara el buffer al hacer un glClear()\n    //Rgb y alpha(transparecia)\n    Gdx.gl20.glClearColor(0, 0, 0, 1);\n    // limpiar el buffer depth, el buffer secundario, \n    //para que no tenga cosas previamente dibujadas\n    Gdx.gl.glClear(GL11.GL_COLOR_BUFFER_BIT);\n    //buildStage();\n    //llamada metodos stage\n    super.act(Gdx.graphics.getDeltaTime());\n    super.draw();\n}\n\npublic void show() {\n    // TODO Auto-generated method stub\n    Gdx.input.setInputProcessor(this);\n}\n\n\npublic void resize(int width, int height) {\n    getViewport().update(width, height, true);\n\n}\n\n\npublic void hide() {}\n\npublic void pause() {}\n\npublic void resume() {}\n</code></pre>\n\n<p>}</p>\n\n<p>Screen:</p>\n\n<pre><code>public class SpriteScreen extends AbstractScreen implements InputProcessor {\n\n//private SpriteActor mActor;\nprivate Player jugador;\nprivate TouchPadPlayer touchpad;\n\nprivate TiledMap map;\nprivate static OrthogonalTiledMapRenderer renderer; \nprivate TiledMapTileLayer collision;\n\npublic SpriteScreen() {\n    this.jugador = new Player(getWidth() / 2, getHeight() / 2);\n    this.touchpad = new TouchPadPlayer();\n    this.touchpad.setPosition(100, 100);\n\n    this.map=new TmxMapLoader().load(\"assests/maps/example.tmx\");\n    collision = (TiledMapTileLayer)map.getLayers().get(\"Colisiones\");\n    renderer = new OrthogonalTiledMapRenderer(map, 1 / 16f);\n}\n\n@Override\npublic void buildStage() {\n    // TODO Auto-generated method stub\n    renderer.render();      \n    Gdx.input.setInputProcessor(this);\n    addActor(this.jugador);\n    addActor(this.touchpad);\n\n    this.getCamera().update();\n    renderer.setView((OrthographicCamera) this.getCamera());\n    renderer.render();\n\n\n}\n\n@Override\npublic void dispose() {\n    // TODO Auto-generated method stub\n    map.dispose();\n    renderer.dispose();\n}\n</code></pre>\n"},{"tags":["java","error-handling","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1678857272,"post_id":75738854,"comment_id":133612633,"body_markdown":"what is the signature of `saveRecord`? Is it reactive?","body":"what is the signature of <code>saveRecord</code>? Is it reactive?"},{"owner":{"account_id":86631,"reputation":1226,"user_id":9692178,"display_name":"ThrowableException"},"score":0,"creation_date":1678973141,"post_id":75738854,"comment_id":133639149,"body_markdown":"`void savItem(Item item) `","body":"<code>void savItem(Item item) </code>"}],"answers":[{"tags":[],"owner":{"account_id":3583455,"reputation":1884,"user_id":2991105,"display_name":"Erunafailaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678896109,"creation_date":1678860107,"answer_id":75741026,"question_id":75738854,"body_markdown":"Try a different nesting of the reactive chain.\r\n\r\nYou could attach the `doOnError()` directly to `saveRecord()`. Then, you would have the record object still in your context.\r\n\r\n```java\r\nreactiveTemplate\r\n    .query(cql, itemMapper) // This returns an item object\r\n    .doOnNext(record -&gt; saveRecord(record) //this save item Object\r\n                         .doOnError(th -&gt; {\r\n                             log.error(&quot;error while saving record: {}&quot;,record)\r\n                             processErrorRecord(record, th);\r\n                          })\r\n     );           \r\n```","title":"How to get the data in Flux onError","body":"<p>Try a different nesting of the reactive chain.</p>\n<p>You could attach the <code>doOnError()</code> directly to <code>saveRecord()</code>. Then, you would have the record object still in your context.</p>\n<pre class=\"lang-java prettyprint-override\"><code>reactiveTemplate\n    .query(cql, itemMapper) // This returns an item object\n    .doOnNext(record -&gt; saveRecord(record) //this save item Object\n                         .doOnError(th -&gt; {\n                             log.error(&quot;error while saving record: {}&quot;,record)\n                             processErrorRecord(record, th);\n                          })\n     );           \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678985691,"creation_date":1678985691,"answer_id":75759307,"question_id":75738854,"body_markdown":"It&#39;s hard to suggest something without knowing all details but here are your options. `doOnNext` is an operator typically used for &quot;side-effect&quot; logic such as logging, metrics, ... to execute non-reactive code. I&#39;m not really sure why `saveRecord` is not reactive because it looks like you are using `reactiveTemplate` to query data. \r\n\r\nIn case `saveRecord` is using `reactiveTemplate` you should return `Mono&lt;Void&gt;` (not `void`). In this case you can apply the following\r\n\r\n```\r\nreactiveTemplate\r\n        .query(cql, itemMapper) // This returns an item object\r\n        .flatMap(record -&gt; \r\n                saveRecord(record) //this save item Object\r\n                    .doOnError(th -&gt; {\r\n                        log.error(&quot;error while saving record: {}&quot;, record);\r\n                        processErrorRecord(record, th);\r\n                    })\r\n        );\r\n\r\n```\r\nNot sure what is the logic of `processErrorRecord` but in case this is reactive, use `onErrorResume` instead of `doOnError`.\r\n\r\n\r\nIn case `saveRecord` is not reactive and blocking, you need to execute it on a separate `Scheduler`. Check [How Do I Wrap a Synchronous, Blocking Call?](https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking) for details\r\n\r\n```\r\nreactiveTemplate\r\n        .query(cql, itemMapper) // This returns an item object\r\n        .flatMap(record -&gt;\r\n                Mono.fromRunnable(() -&gt; saveRecord(record))\r\n                    .subscribeOn(Schedulers.boundedElastic())    \r\n                    .doOnError(th -&gt; {\r\n                        log.error(&quot;error while saving record: {}&quot;,record)\r\n                        processErrorRecord(record, th);\r\n                    })\r\n        );\r\n```\r\n","title":"How to get the data in Flux onError","body":"<p>It's hard to suggest something without knowing all details but here are your options. <code>doOnNext</code> is an operator typically used for &quot;side-effect&quot; logic such as logging, metrics, ... to execute non-reactive code. I'm not really sure why <code>saveRecord</code> is not reactive because it looks like you are using <code>reactiveTemplate</code> to query data.</p>\n<p>In case <code>saveRecord</code> is using <code>reactiveTemplate</code> you should return <code>Mono&lt;Void&gt;</code> (not <code>void</code>). In this case you can apply the following</p>\n<pre><code>reactiveTemplate\n        .query(cql, itemMapper) // This returns an item object\n        .flatMap(record -&gt; \n                saveRecord(record) //this save item Object\n                    .doOnError(th -&gt; {\n                        log.error(&quot;error while saving record: {}&quot;, record);\n                        processErrorRecord(record, th);\n                    })\n        );\n\n</code></pre>\n<p>Not sure what is the logic of <code>processErrorRecord</code> but in case this is reactive, use <code>onErrorResume</code> instead of <code>doOnError</code>.</p>\n<p>In case <code>saveRecord</code> is not reactive and blocking, you need to execute it on a separate <code>Scheduler</code>. Check <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">How Do I Wrap a Synchronous, Blocking Call?</a> for details</p>\n<pre><code>reactiveTemplate\n        .query(cql, itemMapper) // This returns an item object\n        .flatMap(record -&gt;\n                Mono.fromRunnable(() -&gt; saveRecord(record))\n                    .subscribeOn(Schedulers.boundedElastic())    \n                    .doOnError(th -&gt; {\n                        log.error(&quot;error while saving record: {}&quot;,record)\n                        processErrorRecord(record, th);\n                    })\n        );\n</code></pre>\n"}],"owner":{"account_id":86631,"reputation":1226,"user_id":9692178,"display_name":"ThrowableException"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75759307,"answer_count":2,"score":1,"last_activity_date":1679281135,"creation_date":1678831969,"question_id":75738854,"body_markdown":"The question is not specific to database, but depicted it with the database example\r\n\r\n - I fetch some entities from database with a reactive driver\r\n - Convert them in Item entity using itemMapper.\r\n - save them in database\r\n - if error comes logs the error.\r\n\r\nThis works with below\r\n \r\n     reactiveTemplate\r\n              .query(cql, itemMapper) // This returns an item object\r\n              .doOnNext(this::saveRecord) //this save item Object\r\n              .doOnError(this::processErrorRecord);  // Logs the exception \r\n\r\nBut If I want to log which item got the error, how to access failedIte in `doOnError` method?\r\n   \r\n\r\n     reactiveTemplate\r\n          .query(cql, itemMapper) // This returns an item object\r\n          .doOnNext(this::saveRecord) //this save item Object\r\n          .doOnError(th -&gt; processErrorRecord(&lt;failed Item&gt;,th)); //how to access the item which got error\r\n\r\n\r\n","title":"How to get the data in Flux onError","body":"<p>The question is not specific to database, but depicted it with the database example</p>\n<ul>\n<li>I fetch some entities from database with a reactive driver</li>\n<li>Convert them in Item entity using itemMapper.</li>\n<li>save them in database</li>\n<li>if error comes logs the error.</li>\n</ul>\n<p>This works with below</p>\n<pre><code> reactiveTemplate\n          .query(cql, itemMapper) // This returns an item object\n          .doOnNext(this::saveRecord) //this save item Object\n          .doOnError(this::processErrorRecord);  // Logs the exception \n</code></pre>\n<p>But If I want to log which item got the error, how to access failedIte in <code>doOnError</code> method?</p>\n<pre><code> reactiveTemplate\n      .query(cql, itemMapper) // This returns an item object\n      .doOnNext(this::saveRecord) //this save item Object\n      .doOnError(th -&gt; processErrorRecord(&lt;failed Item&gt;,th)); //how to access the item which got error\n</code></pre>\n"},{"tags":["java","jdbc","ballerina"],"comments":[{"owner":{"account_id":1373533,"reputation":671,"user_id":1308004,"accept_rate":31,"display_name":"Anupama Pathirage"},"score":0,"creation_date":1679280377,"post_id":75785925,"comment_id":133688565,"body_markdown":"Can you try to specify `groupId`, `artifactId` and `version` of the dependency as well?\nRefer to the link below. https://ballerina.io/learn/manage-dependencies/#specify-a-local-jar-file-path","body":"Can you try to specify <code>groupId</code>, <code>artifactId</code> and <code>version</code> of the dependency as well? Refer to the link below. <a href=\"https://ballerina.io/learn/manage-dependencies/#specify-a-local-jar-file-path\" rel=\"nofollow noreferrer\">ballerina.io/learn/manage-dependencies/&hellip;</a>"},{"owner":{"account_id":27937342,"reputation":17,"user_id":21334043,"display_name":"Dmitry K"},"score":0,"creation_date":1679320505,"post_id":75785925,"comment_id":133695528,"body_markdown":"Hello Anupama Pathirage,\n\nI&#39;ve added this to my Ballerina.toml:\n\n`[[platform.java11.dependency]]\ngroupId = &quot;jdbc.interbase&quot;\nartifactId = &quot;interclient&quot;\nversion = &quot;13.2.0&quot;\npath = &quot;./interclient.jar&quot;\n`\n\nStill the same run time error\n\nThanks!","body":"Hello Anupama Pathirage,  I&#39;ve added this to my Ballerina.toml:  <code>[[platform.java11.dependency]] groupId = &quot;jdbc.interbase&quot; artifactId = &quot;interclient&quot; version = &quot;13.2.0&quot; path = &quot;.&#47;interclient.jar&quot; </code>  Still the same run time error  Thanks!"}],"owner":{"account_id":27937342,"reputation":17,"user_id":21334043,"display_name":"Dmitry K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679280377,"creation_date":1679275488,"question_id":75785925,"body_markdown":"I have a simple Ballerina application that i need to talk with a database through a JDBC driver.\r\n\r\nI get a runtime error that says:\r\n\r\n`error: Error in SQL connector configuration: Failed to get driver instance for jdbcUrl=xxxxx Caused by :No suitable driver `\r\n\r\n\r\nMy Ballerina.toml contains the following:\r\n\r\n```\r\n[package]\r\norg = &quot;myname&quot;\r\nname = &quot;data_service&quot;\r\nversion = &quot;0.1.0&quot;\r\ndistribution = &quot;2201.4.0&quot;\r\n\r\n[build-options]\r\nobservabilityIncluded = true\r\n\r\n[[platform.java11.dependency]]\r\npath = &quot;./interclient.jar&quot;\r\n```\r\n\r\nI know the **interclient.jar** works, because i am using it in the DBSchema application ( database client ) to connect to my Database ( Embarcadero Interbase ). And i am able to actually see the tables, run queries etc.\r\n\r\nBut when trying to use that same jar ( interclient.jar ) in my Ballerina application to talk through JDBC I get the above error. \r\n\r\nNot sure if I am not properly using it ( in Ballerina.toml ) or what.\r\n\r\nHere is my application code:\r\n\r\n```\r\nimport ballerinax/java.jdbc;\r\nimport ballerina/sql;\r\nimport ballerina/io;\r\n\r\npublic type User record {|\r\n    int id?;\r\n    string name;\r\n    string username;\r\n    string email;\r\n    int? client_id;\r\n|};\r\n\r\nconfigurable string USER = ?;\r\nconfigurable string PASSWORD = ?;\r\nconfigurable string HOST = ?;\r\nconfigurable int PORT = ?;\r\nconfigurable string DATABASE = ?;\r\n\r\n\r\nfinal jdbc:Client dbClient = check new (\r\n    url=HOST, user=USER, password=PASSWORD\r\n);\r\n\r\nisolated function getUser(int id) returns error? {\r\n    sql:ParameterizedQuery query = `select * from USERS where ID = 1`;\r\n    stream&lt;User, sql:Error?&gt; resultStream = dbClient-&gt;query(query);\r\n    \r\n    // Iterating the returned table.\r\n    check from record{} student in resultStream\r\n    do {\r\n        // Can perform operations using the record &#39;student&#39;.\r\n        io:println(&quot;Student name: &quot;, student.name);\r\n    }; \r\n    return;  \r\n}\r\n\r\n\r\n```\r\n\r\nApplication compiles ok, no warnings or errors.\r\n\r\n\r\nAny help is appreciated, thank you!\r\n\r\n","title":"ballerina JDBC error Failed to get driver instance No suitable driver","body":"<p>I have a simple Ballerina application that i need to talk with a database through a JDBC driver.</p>\n<p>I get a runtime error that says:</p>\n<p><code>error: Error in SQL connector configuration: Failed to get driver instance for jdbcUrl=xxxxx Caused by :No suitable driver </code></p>\n<p>My Ballerina.toml contains the following:</p>\n<pre><code>[package]\norg = &quot;myname&quot;\nname = &quot;data_service&quot;\nversion = &quot;0.1.0&quot;\ndistribution = &quot;2201.4.0&quot;\n\n[build-options]\nobservabilityIncluded = true\n\n[[platform.java11.dependency]]\npath = &quot;./interclient.jar&quot;\n</code></pre>\n<p>I know the <strong>interclient.jar</strong> works, because i am using it in the DBSchema application ( database client ) to connect to my Database ( Embarcadero Interbase ). And i am able to actually see the tables, run queries etc.</p>\n<p>But when trying to use that same jar ( interclient.jar ) in my Ballerina application to talk through JDBC I get the above error.</p>\n<p>Not sure if I am not properly using it ( in Ballerina.toml ) or what.</p>\n<p>Here is my application code:</p>\n<pre><code>import ballerinax/java.jdbc;\nimport ballerina/sql;\nimport ballerina/io;\n\npublic type User record {|\n    int id?;\n    string name;\n    string username;\n    string email;\n    int? client_id;\n|};\n\nconfigurable string USER = ?;\nconfigurable string PASSWORD = ?;\nconfigurable string HOST = ?;\nconfigurable int PORT = ?;\nconfigurable string DATABASE = ?;\n\n\nfinal jdbc:Client dbClient = check new (\n    url=HOST, user=USER, password=PASSWORD\n);\n\nisolated function getUser(int id) returns error? {\n    sql:ParameterizedQuery query = `select * from USERS where ID = 1`;\n    stream&lt;User, sql:Error?&gt; resultStream = dbClient-&gt;query(query);\n    \n    // Iterating the returned table.\n    check from record{} student in resultStream\n    do {\n        // Can perform operations using the record 'student'.\n        io:println(&quot;Student name: &quot;, student.name);\n    }; \n    return;  \n}\n\n\n</code></pre>\n<p>Application compiles ok, no warnings or errors.</p>\n<p>Any help is appreciated, thank you!</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1676537493,"post_id":75469591,"comment_id":133157821,"body_markdown":"Create an newline between the `--settings` and the parameter..","body":"Create an newline between the <code>--settings</code> and the parameter.."}],"answers":[{"tags":[],"owner":{"account_id":479136,"reputation":2124,"user_id":891624,"accept_rate":45,"display_name":"mxcd"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1678706549,"creation_date":1676538261,"answer_id":75469911,"question_id":75469591,"body_markdown":"With the introduction of `maven 3.9`, there was a BREAKING CHANGE that affects the parsing of the `maven.config` file:  \r\nhttps://maven.apache.org/docs/3.9.0/release-notes.html#potentially-breaking-core-changes  \r\n\r\n&gt; Each line in `.mvn/maven.config` is now interpreted as a single argument. That is, if the file contains multiple arguments, these must now be placed on separate lines, see [MNG-7684][1].\r\n\r\n\r\nAs pointed out by @khmarbaise in the comments, adding a newline in the `maven.config` works just fine and is even downwards compatible.\r\n\r\n```\r\n--settings\r\n./.mvn/local-settings.xml\r\n```\r\n\r\n**IMPORTANT NOTE:** There must not be a whitespace after `--settings`\r\n\r\n  [1]: https://issues.apache.org/jira/browse/MNG-7684","title":"Maven build failing due to unrecognized `--settings` option","body":"<p>With the introduction of <code>maven 3.9</code>, there was a BREAKING CHANGE that affects the parsing of the <code>maven.config</code> file:<br />\n<a href=\"https://maven.apache.org/docs/3.9.0/release-notes.html#potentially-breaking-core-changes\" rel=\"noreferrer\">https://maven.apache.org/docs/3.9.0/release-notes.html#potentially-breaking-core-changes</a></p>\n<blockquote>\n<p>Each line in <code>.mvn/maven.config</code> is now interpreted as a single argument. That is, if the file contains multiple arguments, these must now be placed on separate lines, see <a href=\"https://issues.apache.org/jira/browse/MNG-7684\" rel=\"noreferrer\">MNG-7684</a>.</p>\n</blockquote>\n<p>As pointed out by @khmarbaise in the comments, adding a newline in the <code>maven.config</code> works just fine and is even downwards compatible.</p>\n<pre><code>--settings\n./.mvn/local-settings.xml\n</code></pre>\n<p><strong>IMPORTANT NOTE:</strong> There must not be a whitespace after <code>--settings</code></p>\n"},{"tags":[],"owner":{"account_id":174406,"reputation":107,"user_id":6080893,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679280376,"creation_date":1679280376,"answer_id":75786207,"question_id":75469591,"body_markdown":"Also noticed that `-s./.mvn/settings.xml` works too without any space","title":"Maven build failing due to unrecognized `--settings` option","body":"<p>Also noticed that <code>-s./.mvn/settings.xml</code> works too without any space</p>\n"}],"owner":{"account_id":479136,"reputation":2124,"user_id":891624,"accept_rate":45,"display_name":"mxcd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5494,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":75469911,"answer_count":2,"score":12,"last_activity_date":1679280376,"creation_date":1676536320,"question_id":75469591,"body_markdown":"In my Java projects building with maven, I have a a `.mvn` directory that contains a `maven.config` file. Content of that file is as follows:\r\n```\r\n--settings ./.mvn/local-settings.xml\r\n```\r\nThe `local-settings.xml` holds authentication credentials for pulling from a private registry.  \r\nThis setup worked fine up until yesterday. Now, the CI build (using `maven:3-amazoncorretto-17`) is failing with the following error message:\r\n```\r\nUnable to parse maven.config file options: Unrecognized option: --settings ./.mvn/local-settings.xml\r\n```\r\n\r\nHas there been a breaking change in the `maven` image I am using for building? ","title":"Maven build failing due to unrecognized `--settings` option","body":"<p>In my Java projects building with maven, I have a a <code>.mvn</code> directory that contains a <code>maven.config</code> file. Content of that file is as follows:</p>\n<pre><code>--settings ./.mvn/local-settings.xml\n</code></pre>\n<p>The <code>local-settings.xml</code> holds authentication credentials for pulling from a private registry.<br />\nThis setup worked fine up until yesterday. Now, the CI build (using <code>maven:3-amazoncorretto-17</code>) is failing with the following error message:</p>\n<pre><code>Unable to parse maven.config file options: Unrecognized option: --settings ./.mvn/local-settings.xml\n</code></pre>\n<p>Has there been a breaking change in the <code>maven</code> image I am using for building?</p>\n"},{"tags":["java","character-encoding"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679043698,"post_id":75765297,"comment_id":133653627,"body_markdown":"Read this about text   XIV. &quot;Charset Language character conversion&quot; and the source code link                       https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk","body":"Read this about text   XIV. &quot;Charset Language character conversion&quot; and the source code link                       <a href=\"https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/&hellip;</a>"},{"owner":{"account_id":23069558,"reputation":77,"user_id":17183543,"display_name":"ajs"},"score":0,"creation_date":1679045327,"post_id":75765297,"comment_id":133654034,"body_markdown":"Sorry, can not make anything of your document. Could you provide an example? @SamuelMarchant","body":"Sorry, can not make anything of your document. Could you provide an example? @SamuelMarchant"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679049574,"post_id":75765297,"comment_id":133655153,"body_markdown":"https://docs.oracle.com/en/java/javase/15/intl/supported-encodings.html#GUID-F8900850-51B5-4B8B-88C0-6186DF1C16B5","body":"<a href=\"https://docs.oracle.com/en/java/javase/15/intl/supported-encodings.html#GUID-F8900850-51B5-4B8B-88C0-6186DF1C16B5\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/15/intl/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679053225,"post_id":75765297,"comment_id":133655982,"body_markdown":"I had to extract it in my mobile, generally, it requires taking the output string and passing it over first pass. reEncodechars() method as in the comments at the top of the code. Unfortunately it&#39;s a reasonably simple version as its settings in the encoder are to skip over errors without an exception where possible.","body":"I had to extract it in my mobile, generally, it requires taking the output string and passing it over first pass. reEncodechars() method as in the comments at the top of the code. Unfortunately it&#39;s a reasonably simple version as its settings in the encoder are to skip over errors without an exception where possible."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679057073,"post_id":75765297,"comment_id":133656886,"body_markdown":"ISO-2022-CN-GB works for me. Pity your string is just English &#39;ascii&#39; though ;)","body":"ISO-2022-CN-GB works for me. Pity your string is just English &#39;ascii&#39; though ;)"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679061237,"creation_date":1679053030,"answer_id":75767145,"question_id":75765297,"body_markdown":"The String in your question is only being &quot;tag marked&quot; as UTF-8.\r\n\r\n**See https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html for details of character set encoding names and alias names easier to write than the name with _ or- symbol.**\r\n Java only uses the - dash symbol in a character set name.\r\nIf you do not use an intermediate web charset to convert through, on the first parse use the character set to convert to , then the same again.\r\n\r\nThe below code was written for web server use, hence errors and warnings are locked off and proceeded over except standard api exceptions.\r\nA bad parse with strange characters usually means the character came from a file or machine that operated in another charset.\r\n\r\n\r\n\r\n        /*\r\n    java.nio.charset.Charset defchar = java.nio.charset.Charset.defaultCharset();\r\n    String charsetInputName = defchar.name(); // get default OS system underlying base charset code page\r\n    //  &quot;UTF_8&quot;;  &quot;GB18030&quot;  //java.nio.charset.StandardCharsets.UTF_8.name(); // &quot;GB2312&quot;;  ///  &quot;UTF_16&quot;;  // &quot;UTF_8&quot;;  &quot;GB18030&quot;\r\n    FOLLOWING is middle hop transfer reencode from (&quot;GB18030&quot;) PRC Chinese simplified carrying an English subset to a (GB2312) Web Cinese simplified with English subset\r\n    THEN from the middle hop (GB2312) web charset to a standard English charset (UTF_8)\r\n    String charsetFrom = &quot;GB2312&quot;; \r\n    String charsetNameto = java.nio.charset.StandardCharsets.UTF_8.name(); //&quot;GB2312&quot;; US_ASCII   UTF_8\r\n    String charout = reEncodechars(java.util.Locale.ENGLISH,headerOrigin,&quot;GB18030&quot;,&quot;GB2312&quot;);\r\n    charout = reEncodechars(java.util.Locale.ENGLISH,charout,charsetFrom,charsetNameto);\r\n         */\r\n        protected synchronized java.nio.charset.CharsetDecoder setCharsetDecoder(String Iname){\r\n            return (java.nio.charset.Charset.forName(Iname)).newDecoder();\r\n        }//enmeth\r\n    \r\n        \r\n        \r\n        \r\n        protected synchronized java.nio.charset.CharsetEncoder setCharsetEncoder(String Outname){\r\n            return (java.nio.charset.Charset.forName(Outname)).newEncoder();\r\n        }//enmeth\r\n    \r\n        \r\n        \r\n        \r\n        protected synchronized java.nio.CharBuffer getCharInBuffer(java.util.Locale locum, String headerOrigin, String charsetInputName)throws java.io.UnsupportedEncodingException, java.nio.charset.CharacterCodingException{\r\n            headerOrigin = (String) String.format(locum, &quot;%s&quot;, headerOrigin);    // locale SVC served output control (is some help)  \r\n            java.nio.charset.CharsetDecoder ches = setCharsetDecoder(charsetInputName);\r\n            ches.onMalformedInput(java.nio.charset.CodingErrorAction.IGNORE);  // IGNORE cannot do much inside a server\r\n            ches.onUnmappableCharacter(java.nio.charset.CodingErrorAction.IGNORE);\r\n            return (java.nio.CharBuffer) ches.decode(((java.nio.ByteBuffer) java.nio.ByteBuffer.wrap(headerOrigin.getBytes(charsetInputName))));\r\n        }//enmeth\r\n    \r\n        \r\n        \r\n        \r\n        protected synchronized String inChars(java.util.Locale locum, String headerOrigin, String charsetInputName, String charsetnameto){\r\n            String output = &quot;&quot;;  //reEncodechars() &quot;+arrayReady;\r\n            try {\r\n                java.nio.charset.CharsetEncoder chunda = setCharsetEncoder(charsetnameto);\r\n                chunda.onMalformedInput(java.nio.charset.CodingErrorAction.IGNORE);\r\n                chunda.onUnmappableCharacter(java.nio.charset.CodingErrorAction.IGNORE);\r\n                output = new String(((byte[]) ((java.nio.ByteBuffer) chunda.encode(((java.nio.CharBuffer) getCharInBuffer(locum, headerOrigin, charsetInputName)))).array()), charsetnameto);\r\n                output = (String) String.format(locum, &quot;%s&quot;, output);  // java.util.Locale SVC served output control (is some help)\r\n            } catch (java.nio.charset.CharacterCodingException ex){\r\n                ex.printStackTrace();\r\n            } catch (java.io.UnsupportedEncodingException unsuppode){\r\n                unsuppode.printStackTrace();\r\n            }\r\n    //\r\n            return ((String) output);\r\n        }//enmeth\r\n    \r\n        \r\n        \r\n        \r\n    // WARNING must have the charsets encodings installed available\r\n    protected synchronized String doEncodechars(java.util.Locale locum, String headerOrigin, String charsetInputName, String charsetnameto){\r\n    String retrieve = &quot;&quot;;\r\n    String retrieve2 = &quot;&quot;;\r\n    int lenorig = headerOrigin.length();\r\n    String sti = &quot;&quot;;\r\n    for (int xz = 0; xz &lt; lenorig; xz++){\r\n    sti = headerOrigin.substring(xz, (xz + 1));\r\n    retrieve += inChars(locum, sti, charsetInputName, charsetnameto);\r\n    }//enfr\r\n    try{\r\n    byte[] retr2 = retrieve.getBytes(charsetnameto);\r\n    retrieve2 = new String(retr2, ((java.nio.charset.Charset) java.nio.charset.Charset.forName(charsetnameto)));\r\n    } catch (java.io.UnsupportedEncodingException ex){\r\n    ex.printStackTrace();\r\n    }\r\n    return ((String) String.format(locum, &quot;%s&quot;, retrieve2));\r\n    }//enmeth\r\n    \r\n    \r\n    public synchronized String reEncodechars(java.util.Locale locum, String headerOrigin, String charsetInputName, String charsetnameto){\r\n    return (String)doEncodechars(locum, headerOrigin, charsetInputName, charsetnameto);\r\n    }//enmeth\r\n    \r\n    \r\n\r\n","title":"How to convert ISO-2022-CN text to UTF-8 in Java?","body":"<p>The String in your question is only being &quot;tag marked&quot; as UTF-8.</p>\n<p><strong>See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html</a> for details of character set encoding names and alias names easier to write than the name with _ or- symbol.</strong>\nJava only uses the - dash symbol in a character set name.\nIf you do not use an intermediate web charset to convert through, on the first parse use the character set to convert to , then the same again.</p>\n<p>The below code was written for web server use, hence errors and warnings are locked off and proceeded over except standard api exceptions.\nA bad parse with strange characters usually means the character came from a file or machine that operated in another charset.</p>\n<pre><code>    /*\njava.nio.charset.Charset defchar = java.nio.charset.Charset.defaultCharset();\nString charsetInputName = defchar.name(); // get default OS system underlying base charset code page\n//  &quot;UTF_8&quot;;  &quot;GB18030&quot;  //java.nio.charset.StandardCharsets.UTF_8.name(); // &quot;GB2312&quot;;  ///  &quot;UTF_16&quot;;  // &quot;UTF_8&quot;;  &quot;GB18030&quot;\nFOLLOWING is middle hop transfer reencode from (&quot;GB18030&quot;) PRC Chinese simplified carrying an English subset to a (GB2312) Web Cinese simplified with English subset\nTHEN from the middle hop (GB2312) web charset to a standard English charset (UTF_8)\nString charsetFrom = &quot;GB2312&quot;; \nString charsetNameto = java.nio.charset.StandardCharsets.UTF_8.name(); //&quot;GB2312&quot;; US_ASCII   UTF_8\nString charout = reEncodechars(java.util.Locale.ENGLISH,headerOrigin,&quot;GB18030&quot;,&quot;GB2312&quot;);\ncharout = reEncodechars(java.util.Locale.ENGLISH,charout,charsetFrom,charsetNameto);\n     */\n    protected synchronized java.nio.charset.CharsetDecoder setCharsetDecoder(String Iname){\n        return (java.nio.charset.Charset.forName(Iname)).newDecoder();\n    }//enmeth\n\n    \n    \n    \n    protected synchronized java.nio.charset.CharsetEncoder setCharsetEncoder(String Outname){\n        return (java.nio.charset.Charset.forName(Outname)).newEncoder();\n    }//enmeth\n\n    \n    \n    \n    protected synchronized java.nio.CharBuffer getCharInBuffer(java.util.Locale locum, String headerOrigin, String charsetInputName)throws java.io.UnsupportedEncodingException, java.nio.charset.CharacterCodingException{\n        headerOrigin = (String) String.format(locum, &quot;%s&quot;, headerOrigin);    // locale SVC served output control (is some help)  \n        java.nio.charset.CharsetDecoder ches = setCharsetDecoder(charsetInputName);\n        ches.onMalformedInput(java.nio.charset.CodingErrorAction.IGNORE);  // IGNORE cannot do much inside a server\n        ches.onUnmappableCharacter(java.nio.charset.CodingErrorAction.IGNORE);\n        return (java.nio.CharBuffer) ches.decode(((java.nio.ByteBuffer) java.nio.ByteBuffer.wrap(headerOrigin.getBytes(charsetInputName))));\n    }//enmeth\n\n    \n    \n    \n    protected synchronized String inChars(java.util.Locale locum, String headerOrigin, String charsetInputName, String charsetnameto){\n        String output = &quot;&quot;;  //reEncodechars() &quot;+arrayReady;\n        try {\n            java.nio.charset.CharsetEncoder chunda = setCharsetEncoder(charsetnameto);\n            chunda.onMalformedInput(java.nio.charset.CodingErrorAction.IGNORE);\n            chunda.onUnmappableCharacter(java.nio.charset.CodingErrorAction.IGNORE);\n            output = new String(((byte[]) ((java.nio.ByteBuffer) chunda.encode(((java.nio.CharBuffer) getCharInBuffer(locum, headerOrigin, charsetInputName)))).array()), charsetnameto);\n            output = (String) String.format(locum, &quot;%s&quot;, output);  // java.util.Locale SVC served output control (is some help)\n        } catch (java.nio.charset.CharacterCodingException ex){\n            ex.printStackTrace();\n        } catch (java.io.UnsupportedEncodingException unsuppode){\n            unsuppode.printStackTrace();\n        }\n//\n        return ((String) output);\n    }//enmeth\n\n    \n    \n    \n// WARNING must have the charsets encodings installed available\nprotected synchronized String doEncodechars(java.util.Locale locum, String headerOrigin, String charsetInputName, String charsetnameto){\nString retrieve = &quot;&quot;;\nString retrieve2 = &quot;&quot;;\nint lenorig = headerOrigin.length();\nString sti = &quot;&quot;;\nfor (int xz = 0; xz &lt; lenorig; xz++){\nsti = headerOrigin.substring(xz, (xz + 1));\nretrieve += inChars(locum, sti, charsetInputName, charsetnameto);\n}//enfr\ntry{\nbyte[] retr2 = retrieve.getBytes(charsetnameto);\nretrieve2 = new String(retr2, ((java.nio.charset.Charset) java.nio.charset.Charset.forName(charsetnameto)));\n} catch (java.io.UnsupportedEncodingException ex){\nex.printStackTrace();\n}\nreturn ((String) String.format(locum, &quot;%s&quot;, retrieve2));\n}//enmeth\n\n\npublic synchronized String reEncodechars(java.util.Locale locum, String headerOrigin, String charsetInputName, String charsetnameto){\nreturn (String)doEncodechars(locum, headerOrigin, charsetInputName, charsetnameto);\n}//enmeth\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9121546,"reputation":41,"user_id":6786808,"display_name":"tuine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679280319,"creation_date":1679280319,"answer_id":75786201,"question_id":75765297,"body_markdown":"try this method:\r\n\r\n    public static String iso2022cn2utf8(String src) {\r\n        StringBuilder dest = new StringBuilder();\r\n        boolean isConvert = false;\r\n\r\n        for (int i = 0; i &lt; src.length(); i++) {\r\n            char c = src.charAt(i);\r\n            switch (c) {\r\n                case 0x1b:\r\n                    i += 3;\r\n                    break;\r\n                case 0x0e:\r\n                    ++i;\r\n                    isConvert = true;\r\n                    break;\r\n                case 0x0f:\r\n                    ++i;\r\n                    isConvert = false;\r\n                    break;\r\n                default:\r\n                    dest.append(isConvert ? (char) (c | 0x80) : c);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return dest.toString();\r\n    }","title":"How to convert ISO-2022-CN text to UTF-8 in Java?","body":"<p>try this method:</p>\n<pre><code>public static String iso2022cn2utf8(String src) {\n    StringBuilder dest = new StringBuilder();\n    boolean isConvert = false;\n\n    for (int i = 0; i &lt; src.length(); i++) {\n        char c = src.charAt(i);\n        switch (c) {\n            case 0x1b:\n                i += 3;\n                break;\n            case 0x0e:\n                ++i;\n                isConvert = true;\n                break;\n            case 0x0f:\n                ++i;\n                isConvert = false;\n                break;\n            default:\n                dest.append(isConvert ? (char) (c | 0x80) : c);\n                break;\n        }\n    }\n\n    return dest.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":23069558,"reputation":77,"user_id":17183543,"display_name":"ajs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75786201,"answer_count":2,"score":0,"last_activity_date":1679280319,"creation_date":1679041907,"question_id":75765297,"body_markdown":"I have a Java application that needs to convert a string encoded in ISO-2022-CN to UTF-8. However, when I try to do this using the following code:\r\n\r\n```\r\nnew String(&quot;Text&quot;.getBytes(&quot;ISO-2022-CN&quot;), StandardCharsets.UTF_8);\r\n```\r\nI get a java.lang.UnsupportedOperationException.\r\n\r\nAfter some research, I learned that ISO-2022-CN does not support encoding. However, I still need to convert the ISO-2022-CN string to UTF-8. How can I achieve this in Java?\r\n\r\nI tried using the following code:\r\n\r\n```\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.CharsetDecoder;\r\nimport java.nio.charset.CharsetEncoder;\r\nimport java.nio.charset.CodingErrorAction;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.CharBuffer;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) throws Exception {\r\n    String iso2022cn = &quot;Text&quot;;\r\n\r\n    // Decode ISO-2022-CN to Unicode\r\n    CharsetDecoder decoder = Charset.forName(&quot;ISO-2022-CN&quot;).newDecoder();\r\n    decoder.onMalformedInput(CodingErrorAction.REPORT);\r\n    decoder.onUnmappableCharacter(CodingErrorAction.REPORT);\r\n    ByteBuffer iso2022cnBytes = ByteBuffer.wrap(iso2022cn.getBytes(&quot;ISO-2022-CN&quot;));\r\n    CharBuffer unicodeChars = decoder.decode(iso2022cnBytes);\r\n\r\n    // Encode Unicode to UTF-8\r\n    CharsetEncoder encoder = Charset.forName(&quot;UTF-8&quot;).newEncoder();\r\n    encoder.onMalformedInput(CodingErrorAction.REPORT);\r\n    encoder.onUnmappableCharacter(CodingErrorAction.REPORT);\r\n    ByteBuffer utf8Bytes = encoder.encode(unicodeChars);\r\n\r\n    String utf8String = new String(utf8Bytes.array(), &quot;UTF-8&quot;);\r\n    System.out.println(utf8String);\r\n  }\r\n}\r\n```\r\n\r\nBut this code also does not work for me.\r\n\r\nCan anyone suggest a solution or provide an alternative approach to convert ISO-2022-CN text to UTF-8 in Java?","title":"How to convert ISO-2022-CN text to UTF-8 in Java?","body":"<p>I have a Java application that needs to convert a string encoded in ISO-2022-CN to UTF-8. However, when I try to do this using the following code:</p>\n<pre><code>new String(&quot;Text&quot;.getBytes(&quot;ISO-2022-CN&quot;), StandardCharsets.UTF_8);\n</code></pre>\n<p>I get a java.lang.UnsupportedOperationException.</p>\n<p>After some research, I learned that ISO-2022-CN does not support encoding. However, I still need to convert the ISO-2022-CN string to UTF-8. How can I achieve this in Java?</p>\n<p>I tried using the following code:</p>\n<pre><code>import java.nio.charset.Charset;\nimport java.nio.charset.CharsetDecoder;\nimport java.nio.charset.CharsetEncoder;\nimport java.nio.charset.CodingErrorAction;\nimport java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\n\npublic class Main {\n  public static void main(String[] args) throws Exception {\n    String iso2022cn = &quot;Text&quot;;\n\n    // Decode ISO-2022-CN to Unicode\n    CharsetDecoder decoder = Charset.forName(&quot;ISO-2022-CN&quot;).newDecoder();\n    decoder.onMalformedInput(CodingErrorAction.REPORT);\n    decoder.onUnmappableCharacter(CodingErrorAction.REPORT);\n    ByteBuffer iso2022cnBytes = ByteBuffer.wrap(iso2022cn.getBytes(&quot;ISO-2022-CN&quot;));\n    CharBuffer unicodeChars = decoder.decode(iso2022cnBytes);\n\n    // Encode Unicode to UTF-8\n    CharsetEncoder encoder = Charset.forName(&quot;UTF-8&quot;).newEncoder();\n    encoder.onMalformedInput(CodingErrorAction.REPORT);\n    encoder.onUnmappableCharacter(CodingErrorAction.REPORT);\n    ByteBuffer utf8Bytes = encoder.encode(unicodeChars);\n\n    String utf8String = new String(utf8Bytes.array(), &quot;UTF-8&quot;);\n    System.out.println(utf8String);\n  }\n}\n</code></pre>\n<p>But this code also does not work for me.</p>\n<p>Can anyone suggest a solution or provide an alternative approach to convert ISO-2022-CN text to UTF-8 in Java?</p>\n"},{"tags":["java","maven","maven-plugin","portlet","maven-assembly-plugin"],"answers":[{"tags":[],"owner":{"account_id":27802754,"reputation":21,"user_id":21226899,"display_name":"Vezsa"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679280153,"creation_date":1679280123,"answer_id":75786185,"question_id":75786176,"body_markdown":"It seems like there&#39;s a typo in your command. Instead of &quot;mvn dependentcy:tree&quot;, it should be &quot;mvn dependency:tree&quot;","title":"Maven plugin: I am haven this error when i try to run mvn dependentcy: tree in cmd","body":"<p>It seems like there's a typo in your command. Instead of &quot;mvn dependentcy:tree&quot;, it should be &quot;mvn dependency:tree&quot;</p>\n"}],"owner":{"account_id":15771494,"reputation":1,"user_id":11380416,"display_name":"Incanayable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679280784,"answer_count":1,"score":0,"last_activity_date":1679280153,"creation_date":1679280015,"question_id":75786176,"body_markdown":" No plugin found for prefix &#39;dependentcy&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories\r\n\r\nI tried to see the dependency tree     mvn dependentcy:tree","title":"Maven plugin: I am haven this error when i try to run mvn dependentcy: tree in cmd","body":"<p>No plugin found for prefix 'dependentcy' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories</p>\n<p>I tried to see the dependency tree     mvn dependentcy:tree</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"score":0,"creation_date":1679260442,"post_id":75784949,"comment_id":133685151,"body_markdown":"the package line is missing . Do you have &#39;package com.dexcane.server&#39; ? .","body":"the package line is missing . Do you have &#39;package com.dexcane.server&#39; ? ."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679260878,"post_id":75784949,"comment_id":133685229,"body_markdown":"You need to configure the main class and ensure it&#39;s written to the jar&#39;s manifest file - [for example](https://stackoverflow.com/questions/29920434/maven-adding-mainclass-in-pom-xml-with-the-right-folder-path)","body":"You need to configure the main class and ensure it&#39;s written to the jar&#39;s manifest file - <a href=\"https://stackoverflow.com/questions/29920434/maven-adding-mainclass-in-pom-xml-with-the-right-folder-path\">for example</a>"},{"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"score":0,"creation_date":1679262251,"post_id":75784949,"comment_id":133685408,"body_markdown":"@pierre yes I have the package line.","body":"@pierre yes I have the package line."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679263158,"post_id":75784949,"comment_id":133685529,"body_markdown":"Is `Error: Could not find or load main class com.dexcane.server.MyApplication` the whole error message? I&#39;d expect a second line `Caused by: java.lang.NoClassDefFoundError: io.dropwizard.Application`. You can&#39;t load a class if it&#39;s parent classes are not on the classpath.","body":"Is <code>Error: Could not find or load main class com.dexcane.server.MyApplication</code> the whole error message? I&#39;d expect a second line <code>Caused by: java.lang.NoClassDefFoundError: io.dropwizard.Application</code>. You can&#39;t load a class if it&#39;s parent classes are not on the classpath."},{"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"score":0,"creation_date":1679268469,"post_id":75784949,"comment_id":133686190,"body_markdown":"@tgdavies I don&#39;t see the `NoClassDefFoundError`","body":"@tgdavies I don&#39;t see the <code>NoClassDefFoundError</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679269376,"post_id":75784949,"comment_id":133686269,"body_markdown":"Try adding your dependencies to the classpath.","body":"Try adding your dependencies to the classpath."}],"answers":[{"tags":[],"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679275065,"creation_date":1679275065,"answer_id":75785900,"question_id":75784949,"body_markdown":"I don&#39;t understand exactly how this fixed my error but following the accepted answer [here](https://stackoverflow.com/questions/4687609/maven-not-setting-classpath-for-dependencies-properly) resolved my error and allowed my to run the jar","title":"java -jar could not find or load main class","body":"<p>I don't understand exactly how this fixed my error but following the accepted answer <a href=\"https://stackoverflow.com/questions/4687609/maven-not-setting-classpath-for-dependencies-properly\">here</a> resolved my error and allowed my to run the jar</p>\n"}],"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679275065,"creation_date":1679260281,"question_id":75784949,"body_markdown":"I have a barebones project configured with maven and dropwizard. When I run the command `java -jar target/dexcane-backend-1.0-SNAPSHOT.jar` I get the error &quot;Error: Could not find or load main class com.dexcane.server.MyApplication&quot;. I get the same error if I try to specify the classpath using `java -cp target/dexcane-backend-1.0-SNAPSHOT.jar com.dexcane.server.MyApplication`. \r\n\r\nWhen I check the contents of the jar using `jar tf`, I get \r\n```\r\nMETA-INF/\r\nMETA-INF/MANIFEST.MF\r\ncom/\r\ncom/dexcane/\r\ncom/dexcane/server/\r\ncom/dexcane/server/configuration/\r\ncom/dexcane/server/resources/\r\nMETA-INF/maven/\r\nMETA-INF/maven/org.example/\r\nMETA-INF/maven/org.example/dexcane-backend/\r\nconfig.yml\r\ncom/dexcane/server/configuration/WebConfiguration.class\r\ncom/dexcane/server/resources/UsersResource.class\r\ncom/dexcane/server/resources/HelloWorldResource.class\r\ncom/dexcane/server/MyApplication.class\r\nMETA-INF/maven/org.example/dexcane-backend/pom.xml\r\nMETA-INF/maven/org.example/dexcane-backend/pom.properties\r\n```\r\nI&#39;m not sure why the jar can&#39;t find the main class? FWIW, my main class extends the `io.dropwizard.Application` class.\r\n```java\r\npackage com.dexcane.server;\r\n\r\nimport io.dropwizard.Application;\r\nimport io.dropwizard.setup.Environment;\r\nimport com.dexcane.server.configuration.WebConfiguration;\r\nimport com.dexcane.server.resources.HelloWorldResource;\r\n\r\npublic class MyApplication extends Application&lt;WebConfiguration&gt; {\r\n    public static void main(String[] args) throws Exception {\r\n        new MyApplication().run(args);\r\n    }\r\n\r\n    @Override\r\n    public void run(WebConfiguration webConfiguration, Environment environment) throws Exception {\r\n        final HelloWorldResource resource = new HelloWorldResource();\r\n        environment.jersey().register(resource);\r\n    }\r\n}\r\n```","title":"java -jar could not find or load main class","body":"<p>I have a barebones project configured with maven and dropwizard. When I run the command <code>java -jar target/dexcane-backend-1.0-SNAPSHOT.jar</code> I get the error &quot;Error: Could not find or load main class com.dexcane.server.MyApplication&quot;. I get the same error if I try to specify the classpath using <code>java -cp target/dexcane-backend-1.0-SNAPSHOT.jar com.dexcane.server.MyApplication</code>.</p>\n<p>When I check the contents of the jar using <code>jar tf</code>, I get</p>\n<pre><code>META-INF/\nMETA-INF/MANIFEST.MF\ncom/\ncom/dexcane/\ncom/dexcane/server/\ncom/dexcane/server/configuration/\ncom/dexcane/server/resources/\nMETA-INF/maven/\nMETA-INF/maven/org.example/\nMETA-INF/maven/org.example/dexcane-backend/\nconfig.yml\ncom/dexcane/server/configuration/WebConfiguration.class\ncom/dexcane/server/resources/UsersResource.class\ncom/dexcane/server/resources/HelloWorldResource.class\ncom/dexcane/server/MyApplication.class\nMETA-INF/maven/org.example/dexcane-backend/pom.xml\nMETA-INF/maven/org.example/dexcane-backend/pom.properties\n</code></pre>\n<p>I'm not sure why the jar can't find the main class? FWIW, my main class extends the <code>io.dropwizard.Application</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dexcane.server;\n\nimport io.dropwizard.Application;\nimport io.dropwizard.setup.Environment;\nimport com.dexcane.server.configuration.WebConfiguration;\nimport com.dexcane.server.resources.HelloWorldResource;\n\npublic class MyApplication extends Application&lt;WebConfiguration&gt; {\n    public static void main(String[] args) throws Exception {\n        new MyApplication().run(args);\n    }\n\n    @Override\n    public void run(WebConfiguration webConfiguration, Environment environment) throws Exception {\n        final HelloWorldResource resource = new HelloWorldResource();\n        environment.jersey().register(resource);\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","cordova-plugins","remote-access","screensharing"],"comments":[{"owner":{"account_id":14058166,"reputation":9576,"user_id":10154951,"display_name":"Suresh Kumar Ariya"},"score":0,"creation_date":1550476315,"post_id":54742495,"comment_id":96267413,"body_markdown":"If you have application with username/password Login Form. Only you can access right unless you shared ur credentials to others.","body":"If you have application with username/password Login Form. Only you can access right unless you shared ur credentials to others."},{"owner":{"account_id":7327024,"reputation":437,"user_id":7755864,"display_name":"MSD"},"score":0,"creation_date":1550477348,"post_id":54742495,"comment_id":96267855,"body_markdown":"yes, but people can take access after login. @SureshKumarAriyaI just don&#39;t want users of my app to fall for any kind of frauds.","body":"yes, but people can take access after login. @SureshKumarAriyaI just don&#39;t want users of my app to fall for any kind of frauds."},{"owner":{"account_id":8023785,"reputation":3013,"user_id":6051596,"display_name":"Soumen Mukherjee"},"score":0,"creation_date":1550483961,"post_id":54742495,"comment_id":96271292,"body_markdown":"Is your application a web application or a native app ?","body":"Is your application a web application or a native app ?"},{"owner":{"account_id":7327024,"reputation":437,"user_id":7755864,"display_name":"MSD"},"score":0,"creation_date":1550495583,"post_id":54742495,"comment_id":96278137,"body_markdown":"it&#39;s a Cordova app @SoumenMukherjee","body":"it&#39;s a Cordova app @SoumenMukherjee"},{"owner":{"display_name":"user10747134"},"score":0,"creation_date":1550599268,"post_id":54742495,"comment_id":96324694,"body_markdown":"Is it cordova with angular or cordova with angularjs? These tags typically don&#39;t go together since they refer to two very different versions of the technology.","body":"Is it cordova with angular or cordova with angularjs? These tags typically don&#39;t go together since they refer to two very different versions of the technology."},{"owner":{"account_id":7327024,"reputation":437,"user_id":7755864,"display_name":"MSD"},"score":0,"creation_date":1550647579,"post_id":54742495,"comment_id":96340488,"body_markdown":"well, either of the solutions will work for me. @OneLunchMan but still i have edited the tags","body":"well, either of the solutions will work for me. @OneLunchMan but still i have edited the tags"},{"owner":{"account_id":1005471,"reputation":1462,"user_id":1019366,"display_name":"Kazuki"},"score":0,"creation_date":1597961178,"post_id":54742495,"comment_id":112311247,"body_markdown":"@MSD curious if you ever find the solution?","body":"@MSD curious if you ever find the solution?"},{"owner":{"account_id":7327024,"reputation":437,"user_id":7755864,"display_name":"MSD"},"score":0,"creation_date":1600943778,"post_id":54742495,"comment_id":113251697,"body_markdown":"@Kazuki nope...","body":"@Kazuki nope..."}],"owner":{"account_id":7327024,"reputation":437,"user_id":7755864,"display_name":"MSD"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1172,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":0,"score":4,"last_activity_date":1679274419,"creation_date":1550475761,"question_id":54742495,"body_markdown":"I have an android app in which I just wanna check if the device is being operated remotely or not? such as via TeamViewer or any desk app or even if any screen sharing is ongoing  \r\nThis is because I don&#39;t want someone to use my application remotely for security concerns.   \r\n\r\nI checked over the internet but couldn&#39;t find any solutions. \r\nAny help would be good.\r\nThanks.","title":"how to check if the device is being accessed remotely in android using Java ? or javascript for cordova?","body":"<p>I have an android app in which I just wanna check if the device is being operated remotely or not? such as via TeamViewer or any desk app or even if any screen sharing is ongoing<br>\nThis is because I don't want someone to use my application remotely for security concerns.   </p>\n\n<p>I checked over the internet but couldn't find any solutions. \nAny help would be good.\nThanks.</p>\n"},{"tags":["java","date","jodatime","leap-year"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":9,"creation_date":1678821783,"post_id":75737510,"comment_id":133607018,"body_markdown":"Try calling `withYear` first, before the other `with` methods.  That way, you won&#39;t have an invalid intermediate result.","body":"Try calling <code>withYear</code> first, before the other <code>with</code> methods.  That way, you won&#39;t have an invalid intermediate result."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":5,"creation_date":1678822311,"post_id":75737510,"comment_id":133607162,"body_markdown":"Please clarify which certain year we are talking about? The title states `2023` but question body contains `2024`. In this case is relevant I guess.","body":"Please clarify which certain year we are talking about? The title states <code>2023</code> but question body contains <code>2024</code>. In this case is relevant I guess."},{"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"score":0,"creation_date":1678822551,"post_id":75737510,"comment_id":133607225,"body_markdown":"This issue might be related to https://github.com/jodaorg/joda-time/issues/132 and/or https://github.com/jodaorg/joda-time/issues/131 where the DE incorrectly doubled down on that errant behavior reported.","body":"This issue might be related to <a href=\"https://github.com/jodaorg/joda-time/issues/132\" rel=\"nofollow noreferrer\">github.com/jodaorg/joda-time/issues/132</a> and/or <a href=\"https://github.com/jodaorg/joda-time/issues/131\" rel=\"nofollow noreferrer\">github.com/jodaorg/joda-time/issues/131</a> where the DE incorrectly doubled down on that errant behavior reported."},{"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"score":1,"creation_date":1678822672,"post_id":75737510,"comment_id":133607269,"body_markdown":"The error is correct if you actually used 2023; if 2024, report the bug","body":"The error is correct if you actually used 2023; if 2024, report the bug"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1679163782,"post_id":75737510,"comment_id":133673914,"body_markdown":"@Andrew This is no bug. `new DateTime()` gives a date in the current year, 2023, not a leap year, so setting the month to 2 and then the day of moth to 29 gives 29 February 2023, a non-existing date. That the code after that *would have* set the year to 2024 is not relevant because the exception causes that never to happen. Dawood Ibn Karieem is perfectly correct that the order matters.","body":"@Andrew This is no bug. <code>new DateTime()</code> gives a date in the current year, 2023, not a leap year, so setting the month to 2 and then the day of moth to 29 gives 29 February 2023, a non-existing date. That the code after that <i>would have</i> set the year to 2024 is not relevant because the exception causes that never to happen. Dawood Ibn Karieem is perfectly correct that the order matters."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679164595,"post_id":75737510,"comment_id":133674046,"body_markdown":"I would it do it this terse way: `final DateTime selectedDate = new DateTime().withDate(2024, 2, 29);`. On my computer it just gave me `2024-02-29T19:36:29.350+01:00`.","body":"I would it do it this terse way: <code>final DateTime selectedDate = new DateTime().withDate(2024, 2, 29);</code>. On my computer it just gave me <code>2024-02-29T19:36:29.350+01:00</code>."},{"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"score":0,"creation_date":1679184700,"post_id":75737510,"comment_id":133676368,"body_markdown":"@Ole V.V.  What does the .withYear(year) with tear = 2024 do? Nothing, with no error?","body":"@Ole V.V.  What does the .withYear(year) with tear = 2024 do? Nothing, with no error?"},{"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"score":1,"creation_date":1679216972,"post_id":75737510,"comment_id":133678744,"body_markdown":"OK, I see it now, so it uses inits with default of 2023, and parese left to right; so what if the order was changed--that should work: &quot;.withMonthOfYear(month).withDayOfMonth(day).withYear(year)&quot; ==&gt; &quot;.withYear(year).withMonthOfYear(month).withDayOfMonth(day)&quot; (basically what \nDawood ibn Kareem said early on above).  Also, DateTime(2024, 2, 29, 1, 1, 1, 1) should work.  Thanks. :-)","body":"OK, I see it now, so it uses inits with default of 2023, and parese left to right; so what if the order was changed--that should work: &quot;.withMonthOfYear(month).withDayOfMonth(day).withYear(year)&quot; ==&gt; &quot;.withYear(year).withMonthOfYear(month).withDayOfMonth(day)&quot; (basically what  Dawood ibn Kareem said early on above).  Also, DateTime(2024, 2, 29, 1, 1, 1, 1) should work.  Thanks. :-)"},{"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"score":1,"creation_date":1679217631,"post_id":75737510,"comment_id":133678824,"body_markdown":"@Dawood ibn Kareem  Why not post that as the Answer?  Seems you are correct.","body":"@Dawood ibn Kareem  Why not post that as the Answer?  Seems you are correct."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1679269811,"post_id":75737510,"comment_id":133686305,"body_markdown":"@Andrew OK, done.  When I saw this question last week, I didn&#39;t have time to write a proper answer.  That was then - this is now.","body":"@Andrew OK, done.  When I saw this question last week, I didn&#39;t have time to write a proper answer.  That was then - this is now."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679274141,"creation_date":1679269747,"answer_id":75785639,"question_id":75737510,"body_markdown":"Whereas the final value of your expression appears to be a valid date, you&#39;ve evaluated it in an order which requires an invalid date to be evaluated along the way.\r\n\r\nYou wrote\r\n\r\n    final DateTime selectedDate = \r\n        new DateTime().withMonthOfYear(month).withDayOfMonth(day).withYear(year);\r\n\r\nwhich is evaluated from left to right.  It&#39;s therefore equivalent to \r\n\r\n    DateTime result1 = new DateTime().withMonthOfYear(month);\r\n    DateTime result2 = result1.withDayOfMonth(day);\r\n    final DateTime selectedDate = result2.withYear(year);\r\n\r\nNow, suppose I run this today (20 March 2023) with `month = 2, day = 29, year = 2024` as you specified.  Then I have\r\n\r\n    DateTime result1 = 20 February 2023 // all good so far\r\n    DateTime result2 = 29 February 2023 // whoops!\r\n\r\nand this is the point where your exception is thrown.  We never got as far as setting the year to 2024.\r\n\r\nRearranging your code so that `withYear` gets called first would fix this, because all the intermediate results would be valid dates.\r\n\r\n\r\n    final DateTime selectedDate = \r\n        new DateTime().withYear(year).withMonthOfYear(month).withDayOfMonth(day);\r\n\r\nA better idea is Ole&#39;s idea\r\n\r\n    final DateTime selectedDate = new DateTime().withDate(year, month, day);\r\n\r\nwhich sets all three fields in a single call, so you don&#39;t need to be concerned about intermediate results.\r\n\r\nBut the best idea of all would be for you to use the classes in the `java.time` package, instead of Joda.  Joda has been obsolete for almost 10 years now.\r\n\r\n    import java.time.LocalDate;\r\n\r\n    // ...\r\n\r\n    final LocalDate selectedDate = LocalDate.of(year, month, day);\r\n","title":"Java JodaTime - 29.02.2024 - Value 29 for dayOfMonth must be in the range [1,28] - leap year","body":"<p>Whereas the final value of your expression appears to be a valid date, you've evaluated it in an order which requires an invalid date to be evaluated along the way.</p>\n<p>You wrote</p>\n<pre><code>final DateTime selectedDate = \n    new DateTime().withMonthOfYear(month).withDayOfMonth(day).withYear(year);\n</code></pre>\n<p>which is evaluated from left to right.  It's therefore equivalent to</p>\n<pre><code>DateTime result1 = new DateTime().withMonthOfYear(month);\nDateTime result2 = result1.withDayOfMonth(day);\nfinal DateTime selectedDate = result2.withYear(year);\n</code></pre>\n<p>Now, suppose I run this today (20 March 2023) with <code>month = 2, day = 29, year = 2024</code> as you specified.  Then I have</p>\n<pre><code>DateTime result1 = 20 February 2023 // all good so far\nDateTime result2 = 29 February 2023 // whoops!\n</code></pre>\n<p>and this is the point where your exception is thrown.  We never got as far as setting the year to 2024.</p>\n<p>Rearranging your code so that <code>withYear</code> gets called first would fix this, because all the intermediate results would be valid dates.</p>\n<pre><code>final DateTime selectedDate = \n    new DateTime().withYear(year).withMonthOfYear(month).withDayOfMonth(day);\n</code></pre>\n<p>A better idea is Ole's idea</p>\n<pre><code>final DateTime selectedDate = new DateTime().withDate(year, month, day);\n</code></pre>\n<p>which sets all three fields in a single call, so you don't need to be concerned about intermediate results.</p>\n<p>But the best idea of all would be for you to use the classes in the <code>java.time</code> package, instead of Joda.  Joda has been obsolete for almost 10 years now.</p>\n<pre><code>import java.time.LocalDate;\n\n// ...\n\nfinal LocalDate selectedDate = LocalDate.of(year, month, day);\n</code></pre>\n"}],"owner":{"account_id":4033079,"reputation":5307,"user_id":3318489,"accept_rate":65,"display_name":"quma"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679274141,"creation_date":1678821638,"question_id":75737510,"body_markdown":"I use this code in my application:    \r\n\r\n    final DateTime selectedDate = new DateTime().withMonthOfYear(month).withDayOfMonth(day).withYear(year);\r\n\r\nwhere `month` = 2, `day` = 29, `year` = 2024\r\n\r\nand I get this exception:\r\n\r\n    Value 29 for dayOfMonth must be in the range [1,28]\r\n\r\nbut 2024 is a leap year. \r\nDoes anyone have a solution about this?","title":"Java JodaTime - 29.02.2024 - Value 29 for dayOfMonth must be in the range [1,28] - leap year","body":"<p>I use this code in my application:</p>\n<pre><code>final DateTime selectedDate = new DateTime().withMonthOfYear(month).withDayOfMonth(day).withYear(year);\n</code></pre>\n<p>where <code>month</code> = 2, <code>day</code> = 29, <code>year</code> = 2024</p>\n<p>and I get this exception:</p>\n<pre><code>Value 29 for dayOfMonth must be in the range [1,28]\n</code></pre>\n<p>but 2024 is a leap year.\nDoes anyone have a solution about this?</p>\n"},{"tags":["java","concurrency","containers","nio","nfs"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680602834,"post_id":75779539,"comment_id":133922320,"body_markdown":"It provides locks between JVMs but not between threads. But NFS locking has been problematic for 35+ years. Don&#39;t write applications that depend on it.","body":"It provides locks between JVMs but not between threads. But NFS locking has been problematic for 35+ years. Don&#39;t write applications that depend on it."}],"owner":{"account_id":5615338,"reputation":86,"user_id":4446877,"display_name":"Myth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679273790,"creation_date":1679187360,"question_id":75779539,"body_markdown":"I have a NFS based volume mounted into multiple containers. The containers need to read &amp; write(append) to the same files resided into the volume.\r\nI am thinking to use Java NIO FileChannel Locks for concurrent write locks for consistency.\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nQuestion is - Does Java NIO FileChannel Locks provide locks between separate containers which have mounted same NFS volume?\r\n","title":"NFS volume read-write concurrency control between multiple containers using Java NIO FileChannel Lock","body":"<p>I have a NFS based volume mounted into multiple containers. The containers need to read &amp; write(append) to the same files resided into the volume.\nI am thinking to use Java NIO FileChannel Locks for concurrent write locks for consistency.\n<br/>\n<br/>\nQuestion is - Does Java NIO FileChannel Locks provide locks between separate containers which have mounted same NFS volume?</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":7731146,"reputation":1057,"user_id":6791953,"accept_rate":73,"display_name":"iLyas"},"score":0,"creation_date":1679263216,"post_id":75785132,"comment_id":133685534,"body_markdown":"Just remove the `contextLoads` method, you are not gonna need it for now. As for `ProductApplicationTests` let it as you might need it in the future.","body":"Just remove the <code>contextLoads</code> method, you are not gonna need it for now. As for <code>ProductApplicationTests</code> let it as you might need it in the future."}],"answers":[{"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679273126,"creation_date":1679263468,"answer_id":75785208,"question_id":75785132,"body_markdown":"The `@SpringBootTest` annotation is for running integration tests. It will create a running application and test it like it would happen in a running instance of your application. As such, you will need to either deactivate the parts of your application that connect to databases/brokers/dependencies (either by mocking them with `@MockBean` or placing them behind configuration flags), or you will need to provide those dependencies and databases.\r\n\r\nGenerally, it is preferable to alter the program as little as possible when running your tests, so there is a way to create a temporary instance of a database when launching this test, called Testcontainers. Here is a list of databases supported out of the box (the library is extensible too) - https://www.testcontainers.org/modules/databases/ . If you run into issues using it, there is a slack workspace for it, or just create new questions for them.\r\n\r\nYou can also change the annotation from `@SpringBootTest` to `@WebMvcTest`. The spring guides - https://spring.io/guides/gs/testing-web/ - describe this. Basically, it won&#39;t try to connect to the database:\r\n\r\n&gt; In this test, the full Spring application context is started but without the server. We can narrow the tests to only the web layer by using @WebMvcTest, as the following listing (from src/test/java/com/example/testingweb/WebLayerTest.java) shows:\r\n\r\nby narrowing the tests, it is no longer a full integration test, but rather testing parts like a unit test. it also means it doesn&#39;t &quot;create&quot; the bottom part of your application (connection to the database, service beans, etc).\r\n\r\n----\r\n\r\nFor example, for this application:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport lombok.Data;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.SneakyThrows;\r\nimport lombok.experimental.Accessors;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.ApplicationRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.jdbc.repository.config.EnableJdbcRepositories;\r\nimport org.springframework.data.relational.core.mapping.Column;\r\nimport org.springframework.data.relational.core.mapping.Table;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.CollectionUtils;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.Statement;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n\r\n@EnableJdbcRepositories(considerNestedRepositories = true)\r\n@SpringBootApplication\r\npublic class ReservedNameApplication {\r\n    public static void main(String[] args) {\r\n        /*\r\n            docker run -d --name local-postgres -p 5432:5432 \\\r\n                    -e POSTGRES_HOST_AUTH_METHOD=trust \\\r\n                    postgres:15-alpine\r\n        */\r\n        System.setProperty(&quot;spring.datasource.url&quot;,\r\n                &quot;jdbc:postgresql://localhost/postgres&quot;);\r\n        System.setProperty(&quot;spring.datasource.username&quot;, &quot;postgres&quot;);\r\n        SpringApplication.run(ReservedNameApplication.class, args);\r\n    }\r\n\r\n    @Autowired\r\n    DataSource dataSource;\r\n\r\n    @SneakyThrows\r\n    @Bean\r\n    ApplicationRunner createTables() {\r\n        return args -&gt; {\r\n            try (Connection connection = dataSource.getConnection()) {\r\n                try (Statement statement = connection.createStatement()) {\r\n                    statement.execute(&quot;&quot;&quot;\r\n                        create table if not exists hero\r\n                        (\r\n                            id serial,\r\n                            name varchar(100) not null unique\r\n                        );\r\n                        &quot;&quot;&quot;);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    @Repository\r\n    interface HeroRepository extends CrudRepository&lt;Hero, Long&gt; {\r\n        Optional&lt;Hero&gt; findByName(String name);\r\n    }\r\n\r\n    @Accessors(chain = true)\r\n    @Data\r\n    @Table(&quot;hero&quot;)\r\n    public static class Hero {\r\n        @Id\r\n        Long id;\r\n        @Column(&quot;name&quot;)\r\n        String name;\r\n    }\r\n\r\n    @Accessors(chain = true)\r\n    @Data\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;hero.name-config&quot;)\r\n    public static class HeroNameConfig {\r\n        List&lt;String&gt; reservedNames = Arrays.asList(&quot;admin&quot;, &quot;administrator&quot;);\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    @Service\r\n    public static class HeroService {\r\n        private final HeroRepository heroRepository;\r\n        private final HeroNameConfig heroNameConfig;\r\n\r\n        public Hero getHero(String name) {\r\n            return heroRepository.findByName(name).orElse(null);\r\n        }\r\n\r\n        public Hero createHero(String name) {\r\n            if (CollectionUtils.containsAny(heroNameConfig.getReservedNames(),\r\n                    Collections.singleton(name))) {\r\n                throw new ResponseStatusException(HttpStatus.BAD_REQUEST,\r\n                        &quot;pick a different name&quot;);\r\n            }\r\n\r\n            return heroRepository.save(new Hero().setName(name));\r\n        }\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    @RestController\r\n    @RequestMapping(&quot;/api/hero&quot;)\r\n    public static class HeroController {\r\n        private final HeroService heroService;\r\n\r\n        @GetMapping(&quot;/{name}&quot;)\r\n        Hero getHero(@PathVariable String name) {\r\n            return Optional.ofNullable(heroService.getHero(name))\r\n                    .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND));\r\n        }\r\n\r\n        @PostMapping(&quot;/{name}&quot;)\r\n        Hero createHero(@PathVariable String name) {\r\n            return heroService.createHero(name);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nhere is how you might write an `@SpringBootTest` for it:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.util.TestPropertyValues;\r\nimport org.springframework.context.ApplicationContextInitializer;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.web.reactive.server.WebTestClient;\r\nimport org.testcontainers.containers.PostgreSQLContainer;\r\nimport org.testcontainers.utility.DockerImageName;\r\n\r\nimport java.util.Map;\r\n\r\n\r\n// tell spring to create a web server for the test\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n// we want the web test client to have a long timeout\r\n// to debug server side code without failing the test due to timeout\r\n@AutoConfigureWebTestClient(timeout = &quot;PT24H&quot;)\r\n// for adding an itest-specific configuration file if you need to\r\n@ActiveProfiles(&quot;itest&quot;)\r\n// setting up our integration test application context\r\n@ContextConfiguration(initializers = ReservedNameApplicationITest.Init.class)\r\nclass ReservedNameApplicationITest {\r\n\r\n    @Autowired\r\n    WebTestClient webTestClient;\r\n\r\n    @Test\r\n    void test_works() {\r\n        webTestClient.get().uri(&quot;/api/hero/itest&quot;).exchange()\r\n                .expectStatus().isNotFound();\r\n        webTestClient.post().uri(&quot;/api/hero/itest&quot;).exchange();\r\n        webTestClient.get().uri(&quot;/api/hero/itest&quot;).exchange()\r\n                .expectStatus().isOk();\r\n    }\r\n\r\n    @Test\r\n    void test_reservedWordFails() {\r\n        webTestClient.get().uri(&quot;/api/hero/admin&quot;).exchange()\r\n                .expectStatus().isNotFound();\r\n        webTestClient.post().uri(&quot;/api/hero/admin&quot;).exchange()\r\n                .expectStatus().isBadRequest();\r\n    }\r\n\r\n    static class Init\r\n            implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(@NonNull ConfigurableApplicationContext ctx) {\r\n            var tag = DockerImageName.parse(&quot;postgres&quot;)\r\n                    // use alpine for smaller image sizes\r\n                    .withTag(&quot;15-alpine&quot;);\r\n            // we trust Testcontainers to do its thing with the resource\r\n            //noinspection resource\r\n            PostgreSQLContainer&lt;?&gt; p = new PostgreSQLContainer&lt;&gt;(tag);\r\n            p.start();\r\n\r\n            TestPropertyValues.of(Map.of(\r\n                    &quot;spring.datasource.url&quot;, p.getJdbcUrl(),\r\n                    &quot;spring.datasource.username&quot;, p.getUsername(),\r\n                    &quot;spring.datasource.password&quot;, p.getPassword()\r\n            )).applyTo(ctx.getEnvironment());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\na complete example can be found [here](https://github.com/alexanderankin/how-to-do-in-spring/tree/main/testing/integration/simple/reserved-name)","title":"How to implement generated ApplicationTests in Spring Boot?","body":"<p>The <code>@SpringBootTest</code> annotation is for running integration tests. It will create a running application and test it like it would happen in a running instance of your application. As such, you will need to either deactivate the parts of your application that connect to databases/brokers/dependencies (either by mocking them with <code>@MockBean</code> or placing them behind configuration flags), or you will need to provide those dependencies and databases.</p>\n<p>Generally, it is preferable to alter the program as little as possible when running your tests, so there is a way to create a temporary instance of a database when launching this test, called Testcontainers. Here is a list of databases supported out of the box (the library is extensible too) - <a href=\"https://www.testcontainers.org/modules/databases/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/modules/databases/</a> . If you run into issues using it, there is a slack workspace for it, or just create new questions for them.</p>\n<p>You can also change the annotation from <code>@SpringBootTest</code> to <code>@WebMvcTest</code>. The spring guides - <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/testing-web/</a> - describe this. Basically, it won't try to connect to the database:</p>\n<blockquote>\n<p>In this test, the full Spring application context is started but without the server. We can narrow the tests to only the web layer by using @WebMvcTest, as the following listing (from src/test/java/com/example/testingweb/WebLayerTest.java) shows:</p>\n</blockquote>\n<p>by narrowing the tests, it is no longer a full integration test, but rather testing parts like a unit test. it also means it doesn't &quot;create&quot; the bottom part of your application (connection to the database, service beans, etc).</p>\n<hr />\n<p>For example, for this application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport lombok.Data;\nimport lombok.RequiredArgsConstructor;\nimport lombok.SneakyThrows;\nimport lombok.experimental.Accessors;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.jdbc.repository.config.EnableJdbcRepositories;\nimport org.springframework.data.relational.core.mapping.Column;\nimport org.springframework.data.relational.core.mapping.Table;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.CollectionUtils;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport javax.sql.DataSource;\nimport java.sql.Connection;\nimport java.sql.Statement;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Optional;\n\n\n@EnableJdbcRepositories(considerNestedRepositories = true)\n@SpringBootApplication\npublic class ReservedNameApplication {\n    public static void main(String[] args) {\n        /*\n            docker run -d --name local-postgres -p 5432:5432 \\\n                    -e POSTGRES_HOST_AUTH_METHOD=trust \\\n                    postgres:15-alpine\n        */\n        System.setProperty(&quot;spring.datasource.url&quot;,\n                &quot;jdbc:postgresql://localhost/postgres&quot;);\n        System.setProperty(&quot;spring.datasource.username&quot;, &quot;postgres&quot;);\n        SpringApplication.run(ReservedNameApplication.class, args);\n    }\n\n    @Autowired\n    DataSource dataSource;\n\n    @SneakyThrows\n    @Bean\n    ApplicationRunner createTables() {\n        return args -&gt; {\n            try (Connection connection = dataSource.getConnection()) {\n                try (Statement statement = connection.createStatement()) {\n                    statement.execute(&quot;&quot;&quot;\n                        create table if not exists hero\n                        (\n                            id serial,\n                            name varchar(100) not null unique\n                        );\n                        &quot;&quot;&quot;);\n                }\n            }\n        };\n    }\n\n    @Repository\n    interface HeroRepository extends CrudRepository&lt;Hero, Long&gt; {\n        Optional&lt;Hero&gt; findByName(String name);\n    }\n\n    @Accessors(chain = true)\n    @Data\n    @Table(&quot;hero&quot;)\n    public static class Hero {\n        @Id\n        Long id;\n        @Column(&quot;name&quot;)\n        String name;\n    }\n\n    @Accessors(chain = true)\n    @Data\n    @Component\n    @ConfigurationProperties(prefix = &quot;hero.name-config&quot;)\n    public static class HeroNameConfig {\n        List&lt;String&gt; reservedNames = Arrays.asList(&quot;admin&quot;, &quot;administrator&quot;);\n    }\n\n    @RequiredArgsConstructor\n    @Service\n    public static class HeroService {\n        private final HeroRepository heroRepository;\n        private final HeroNameConfig heroNameConfig;\n\n        public Hero getHero(String name) {\n            return heroRepository.findByName(name).orElse(null);\n        }\n\n        public Hero createHero(String name) {\n            if (CollectionUtils.containsAny(heroNameConfig.getReservedNames(),\n                    Collections.singleton(name))) {\n                throw new ResponseStatusException(HttpStatus.BAD_REQUEST,\n                        &quot;pick a different name&quot;);\n            }\n\n            return heroRepository.save(new Hero().setName(name));\n        }\n    }\n\n    @RequiredArgsConstructor\n    @RestController\n    @RequestMapping(&quot;/api/hero&quot;)\n    public static class HeroController {\n        private final HeroService heroService;\n\n        @GetMapping(&quot;/{name}&quot;)\n        Hero getHero(@PathVariable String name) {\n            return Optional.ofNullable(heroService.getHero(name))\n                    .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND));\n        }\n\n        @PostMapping(&quot;/{name}&quot;)\n        Hero createHero(@PathVariable String name) {\n            return heroService.createHero(name);\n        }\n    }\n}\n</code></pre>\n<p>here is how you might write an <code>@SpringBootTest</code> for it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.util.TestPropertyValues;\nimport org.springframework.context.ApplicationContextInitializer;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.lang.NonNull;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.web.reactive.server.WebTestClient;\nimport org.testcontainers.containers.PostgreSQLContainer;\nimport org.testcontainers.utility.DockerImageName;\n\nimport java.util.Map;\n\n\n// tell spring to create a web server for the test\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n// we want the web test client to have a long timeout\n// to debug server side code without failing the test due to timeout\n@AutoConfigureWebTestClient(timeout = &quot;PT24H&quot;)\n// for adding an itest-specific configuration file if you need to\n@ActiveProfiles(&quot;itest&quot;)\n// setting up our integration test application context\n@ContextConfiguration(initializers = ReservedNameApplicationITest.Init.class)\nclass ReservedNameApplicationITest {\n\n    @Autowired\n    WebTestClient webTestClient;\n\n    @Test\n    void test_works() {\n        webTestClient.get().uri(&quot;/api/hero/itest&quot;).exchange()\n                .expectStatus().isNotFound();\n        webTestClient.post().uri(&quot;/api/hero/itest&quot;).exchange();\n        webTestClient.get().uri(&quot;/api/hero/itest&quot;).exchange()\n                .expectStatus().isOk();\n    }\n\n    @Test\n    void test_reservedWordFails() {\n        webTestClient.get().uri(&quot;/api/hero/admin&quot;).exchange()\n                .expectStatus().isNotFound();\n        webTestClient.post().uri(&quot;/api/hero/admin&quot;).exchange()\n                .expectStatus().isBadRequest();\n    }\n\n    static class Init\n            implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(@NonNull ConfigurableApplicationContext ctx) {\n            var tag = DockerImageName.parse(&quot;postgres&quot;)\n                    // use alpine for smaller image sizes\n                    .withTag(&quot;15-alpine&quot;);\n            // we trust Testcontainers to do its thing with the resource\n            //noinspection resource\n            PostgreSQLContainer&lt;?&gt; p = new PostgreSQLContainer&lt;&gt;(tag);\n            p.start();\n\n            TestPropertyValues.of(Map.of(\n                    &quot;spring.datasource.url&quot;, p.getJdbcUrl(),\n                    &quot;spring.datasource.username&quot;, p.getUsername(),\n                    &quot;spring.datasource.password&quot;, p.getPassword()\n            )).applyTo(ctx.getEnvironment());\n        }\n    }\n\n}\n</code></pre>\n<p>a complete example can be found <a href=\"https://github.com/alexanderankin/how-to-do-in-spring/tree/main/testing/integration/simple/reserved-name\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"user21431812"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75785208,"answer_count":1,"score":0,"last_activity_date":1679273126,"creation_date":1679262534,"question_id":75785132,"body_markdown":"There is a generated test class as shown below:\r\n\r\n```\r\n\r\n@SpringBootTest\r\nclass ProductApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nWhen I leave this, it causes error when I run my unit tests (some errors regarding to not connecting to the database). So, should I delete this class or how to implement it? ","title":"How to implement generated ApplicationTests in Spring Boot?","body":"<p>There is a generated test class as shown below:</p>\n<pre><code>\n@SpringBootTest\nclass ProductApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<p>When I leave this, it causes error when I run my unit tests (some errors regarding to not connecting to the database). So, should I delete this class or how to implement it?</p>\n"},{"tags":["java","maven","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1679271184,"post_id":75785528,"comment_id":133686443,"body_markdown":"I don&#39;t think there is such a thing as a `suiteFile` property. Did you read the documentation for Surefire? https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html","body":"I don&#39;t think there is such a thing as a <code>suiteFile</code> property. Did you read the documentation for Surefire? <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/test-mojo.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"score":0,"creation_date":1679272730,"post_id":75785528,"comment_id":133686608,"body_markdown":"yes I have tried this as well,  mvn clean test -DsuiteXmlFile=&quot;src\\test\\resources\\testNG\\busContracts.xml&quot;","body":"yes I have tried this as well,  mvn clean test -DsuiteXmlFile=&quot;src\\test\\resources\\testNG\\busContracts.xml&quot;"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1679273164,"post_id":75785528,"comment_id":133686644,"body_markdown":"I don&#39;t see `suiteXmlFile` as a user property in the documentation either.","body":"I don&#39;t see <code>suiteXmlFile</code> as a user property in the documentation either."},{"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"score":0,"creation_date":1679276858,"post_id":75785528,"comment_id":133687025,"body_markdown":"I have got this working earlier, but not right now for this scenario","body":"I have got this working earlier, but not right now for this scenario"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679322508,"post_id":75785528,"comment_id":133696198,"body_markdown":"Try to specify full path including drive and path to the project root. Also run mvn with `-X` key to make output verbose. Check for the clue there.","body":"Try to specify full path including drive and path to the project root. Also run mvn with <code>-X</code> key to make output verbose. Check for the clue there."},{"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"score":0,"creation_date":1679380788,"post_id":75785528,"comment_id":133706810,"body_markdown":"already added and working now.Thanks","body":"already added and working now.Thanks"}],"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679272700,"creation_date":1679267831,"question_id":75785528,"body_markdown":"I am trying to run a specific test from the commandline, instead the command is running all the tests in in the module. \r\nmy testngxml is \r\n\r\n```\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;BusContracts_suite&quot;&gt;\r\n        &lt;test name=&quot;TestNG test for BusContracts Testing &quot;&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;testRunners.busContractsRunner&quot;&gt;\r\n&lt;!--                    &lt;methods&gt;--&gt;\r\n&lt;!--                        &lt;include name=&quot;runTest_BusContracts&quot;/&gt;--&gt;\r\n&lt;!--                    &lt;/methods&gt;--&gt;\r\n                &lt;/class&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\nand my test runner is \r\n\r\n\r\n```\r\npackage testRunners;\r\n\r\nimport config.PropertyManager;\r\nimport cucumber.api.CucumberOptions;\r\nimport cucumber.api.testng.TestNGCucumberRunner;\r\nimport cucumber.runtime.model.CucumberFeature;\r\nimport exceptions.VariableNotDefinedException;\r\nimport objects.TestNGCucumberParams;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.DataProvider;\r\nimport org.testng.annotations.Test;\r\nimport utils.ReportHandler;\r\n\r\nimport java.util.*;\r\n\r\n\r\n@CucumberOptions(glue = &quot;stepDefinitions/&quot;, features = &quot;src/test/resources/features/BusContracts&quot;, tags = {&quot;@BusContractsTesting.s2&quot;},\r\n        plugin = {&quot;pretty&quot;,&quot;html:target/cucumber-report/cucumber-html-report&quot;,\r\n                &quot;json:target/cucumber-report/cucumber.json&quot;,\r\n                &quot;pretty:target/cucumber-report/cucumber-pretty.txt&quot;,\r\n                &quot;usage:target/cucumber-report/cucumber-usage.json&quot;\r\n        })\r\n\r\npublic class busContractsRunner {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(busContractsRunner.class);\r\n    TestNGCucumberRunner testNGCucumberRunner = new TestNGCucumberRunner(this.getClass());\r\n\r\n    @DataProvider(name = &quot;OperatorDetails&quot;)\r\n    public String[] loadOperatorDetails() throws VariableNotDefinedException {\r\n        String[] operators = System.getSystemProperty(&quot;Operatorabbr&quot;).split(&quot;,&quot;);\r\n        return operators;\r\n    }\r\n\r\n    @BeforeClass\r\n    public void init() {\r\n        LOG.info(&quot;setup method&quot;);\r\n    }\r\n\r\n    @AfterClass\r\n    public void tearDown() {\r\n        LOG.info(&quot;tearDown method&quot;);\r\n        testNGCucumberRunner.finish();\r\n    }\r\n\r\n    @Test (dataProvider = &quot;OperatorDetails&quot;,skipFailedInvocations = true)\r\n    public void runTest_BusContracts(String[] operatorDetails) {\r\n        String operatorabbr = &quot;&quot;;\r\n        TestNGCucumberParams.getInstance().setTestRunnerDataMap(new HashMap&lt;String, String&gt;());\r\n        for(String operator:operatorDetails){\r\n            operatorabbr = operator;\r\n            System.setSystemProperty(&quot;Operatorabbr&quot;,operator);\r\n        }\r\n        for (CucumberFeature cucumberFeature: testNGCucumberRunner.getFeatures()){\r\n            TestNGCucumberParams.getInstance().getTestRunnerDataMap().put(&quot;$ScenarioDesc$&quot;, &quot;MIS extract                    for Bus Contracts&quot; + &quot; - &quot; + operatorabbr);\r\n            testNGCucumberRunner.runCucumber(cucumberFeature);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nmaven command i am running is \r\n\r\n```\r\nmvn clean test -DsuiteXmlFile=&quot;src\\test\\resources\\testNG\\busContracts.xml&quot;\r\n```\r\n\r\nI have tried including the method name , which is commented out in the code, not working , Can anyone tell me what is wrong with this command please, Thank you\r\n\r\n","title":"TestNG doesnot pick a specific test","body":"<p>I am trying to run a specific test from the commandline, instead the command is running all the tests in in the module.\nmy testngxml is</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;BusContracts_suite&quot;&gt;\n        &lt;test name=&quot;TestNG test for BusContracts Testing &quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;testRunners.busContractsRunner&quot;&gt;\n&lt;!--                    &lt;methods&gt;--&gt;\n&lt;!--                        &lt;include name=&quot;runTest_BusContracts&quot;/&gt;--&gt;\n&lt;!--                    &lt;/methods&gt;--&gt;\n                &lt;/class&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>and my test runner is</p>\n<pre><code>package testRunners;\n\nimport config.PropertyManager;\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.testng.TestNGCucumberRunner;\nimport cucumber.runtime.model.CucumberFeature;\nimport exceptions.VariableNotDefinedException;\nimport objects.TestNGCucumberParams;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\nimport utils.ReportHandler;\n\nimport java.util.*;\n\n\n@CucumberOptions(glue = &quot;stepDefinitions/&quot;, features = &quot;src/test/resources/features/BusContracts&quot;, tags = {&quot;@BusContractsTesting.s2&quot;},\n        plugin = {&quot;pretty&quot;,&quot;html:target/cucumber-report/cucumber-html-report&quot;,\n                &quot;json:target/cucumber-report/cucumber.json&quot;,\n                &quot;pretty:target/cucumber-report/cucumber-pretty.txt&quot;,\n                &quot;usage:target/cucumber-report/cucumber-usage.json&quot;\n        })\n\npublic class busContractsRunner {\n\n    private static final Logger LOG = LoggerFactory.getLogger(busContractsRunner.class);\n    TestNGCucumberRunner testNGCucumberRunner = new TestNGCucumberRunner(this.getClass());\n\n    @DataProvider(name = &quot;OperatorDetails&quot;)\n    public String[] loadOperatorDetails() throws VariableNotDefinedException {\n        String[] operators = System.getSystemProperty(&quot;Operatorabbr&quot;).split(&quot;,&quot;);\n        return operators;\n    }\n\n    @BeforeClass\n    public void init() {\n        LOG.info(&quot;setup method&quot;);\n    }\n\n    @AfterClass\n    public void tearDown() {\n        LOG.info(&quot;tearDown method&quot;);\n        testNGCucumberRunner.finish();\n    }\n\n    @Test (dataProvider = &quot;OperatorDetails&quot;,skipFailedInvocations = true)\n    public void runTest_BusContracts(String[] operatorDetails) {\n        String operatorabbr = &quot;&quot;;\n        TestNGCucumberParams.getInstance().setTestRunnerDataMap(new HashMap&lt;String, String&gt;());\n        for(String operator:operatorDetails){\n            operatorabbr = operator;\n            System.setSystemProperty(&quot;Operatorabbr&quot;,operator);\n        }\n        for (CucumberFeature cucumberFeature: testNGCucumberRunner.getFeatures()){\n            TestNGCucumberParams.getInstance().getTestRunnerDataMap().put(&quot;$ScenarioDesc$&quot;, &quot;MIS extract                    for Bus Contracts&quot; + &quot; - &quot; + operatorabbr);\n            testNGCucumberRunner.runCucumber(cucumberFeature);\n        }\n    }\n}\n</code></pre>\n<p>maven command i am running is</p>\n<pre><code>mvn clean test -DsuiteXmlFile=&quot;src\\test\\resources\\testNG\\busContracts.xml&quot;\n</code></pre>\n<p>I have tried including the method name , which is commented out in the code, not working , Can anyone tell me what is wrong with this command please, Thank you</p>\n"},{"tags":["java","spring","spring-boot","swagger","grpc"],"owner":{"account_id":9675836,"reputation":127,"user_id":7179360,"display_name":"Junaid Khan Pathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679272446,"creation_date":1679212182,"question_id":75780684,"body_markdown":"Let&#39;s imagine I have two spring boot services named `serviceA` and `serviceB`.\r\n\r\n`serviceA` makes RPC calls to `serviceB`.\r\n\r\nIs there any way that I can document these RPC calls to Swagger UI?","title":"How to add Swagger UI documentation for gRPC calls in Spring Boot?","body":"<p>Let's imagine I have two spring boot services named <code>serviceA</code> and <code>serviceB</code>.</p>\n<p><code>serviceA</code> makes RPC calls to <code>serviceB</code>.</p>\n<p>Is there any way that I can document these RPC calls to Swagger UI?</p>\n"},{"tags":["java","flutter","gradle"],"owner":{"account_id":27181279,"reputation":21,"user_id":20716494,"display_name":"Mohammed Ayesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679271490,"creation_date":1679271490,"question_id":75785739,"body_markdown":"i have this error in build.gadle file in flutter project\r\n\r\nThe supplied phased action failed with an exception.\r\nA problem occurred configuring root project &#39;android&#39;.\r\nA problem occurred evaluating root project &#39;android&#39;.\r\nA problem occurred configuring project &#39;:app&#39;.\r\norg.gradle.api.internal.tasks.DefaultTaskContainer$TaskCreationException: Could not create task &#39;:app:packLibsflutterBuildDebug&#39;.\r\nCould not create task &#39;:app:packLibsflutterBuildDebug&#39;.\r\nNo signature of method: org.gradle.api.tasks.bundling.Jar.destinationDir() is applicable for argument types: (File) values: [D:\\flutterProjects\\project\\build\\app\\intermediates\\flutter\\debug]\r\nCould not find method destinationDir() for arguments [D:\\flutterProjects\\project\\build\\app\\intermediates\\flutter\\debug] on task &#39;:app:packLibsflutterBuildDebug&#39; of type org.gradle.api.tasks.bundling.Jar.\r\n\r\nthe red line i shown under the &#39;buildscript&#39; \r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.7.10&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nrootProject.buildDir = &#39;../build&#39;\r\nsubprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n}\r\nsubprojects {\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\n\r\ni tried to delete android folder","title":"The supplied phased action failed with an exception - Flutter","body":"<p>i have this error in build.gadle file in flutter project</p>\n<p>The supplied phased action failed with an exception.\nA problem occurred configuring root project 'android'.\nA problem occurred evaluating root project 'android'.\nA problem occurred configuring project ':app'.\norg.gradle.api.internal.tasks.DefaultTaskContainer$TaskCreationException: Could not create task ':app:packLibsflutterBuildDebug'.\nCould not create task ':app:packLibsflutterBuildDebug'.\nNo signature of method: org.gradle.api.tasks.bundling.Jar.destinationDir() is applicable for argument types: (File) values: [D:\\flutterProjects\\project\\build\\app\\intermediates\\flutter\\debug]\nCould not find method destinationDir() for arguments [D:\\flutterProjects\\project\\build\\app\\intermediates\\flutter\\debug] on task ':app:packLibsflutterBuildDebug' of type org.gradle.api.tasks.bundling.Jar.</p>\n<p>the red line i shown under the 'buildscript'</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>i tried to delete android folder</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1679256399,"post_id":75784537,"comment_id":133684633,"body_markdown":"In your case `@InjectMocks` annotation doesn&#39;t know what implementation of `UserService` to inject.  See same issue here: https://www.javacodegeeks.com/2020/07/mockito-cannot-instantiate-injectmocks-field-the-type-is-an-interface.html","body":"In your case <code>@InjectMocks</code> annotation doesn&#39;t know what implementation of <code>UserService</code> to inject.  See same issue here: <a href=\"https://www.javacodegeeks.com/2020/07/mockito-cannot-instantiate-injectmocks-field-the-type-is-an-interface.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2020/07/&hellip;</a>"},{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1679256564,"post_id":75784537,"comment_id":133684665,"body_markdown":"where is `UserServiceImpl` and how is it private?","body":"where is <code>UserServiceImpl</code> and how is it private?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1679256610,"post_id":75784537,"comment_id":133684670,"body_markdown":"@rostIvan I couldn&#39;t access UserServiceImpl as it is private as you can see. I couldn&#39;t do `private UserService userService = new UserServiceImpl(userRepository)`. How can I do that?","body":"@rostIvan I couldn&#39;t access UserServiceImpl as it is private as you can see. I couldn&#39;t do <code>private UserService userService = new UserServiceImpl(userRepository)</code>. How can I do that?"},{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1679257457,"post_id":75784537,"comment_id":133684764,"body_markdown":"As far I see the class `UserServiceImpl` is package-private","body":"As far I see the class <code>UserServiceImpl</code> is package-private"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1679257513,"post_id":75784537,"comment_id":133684772,"body_markdown":"@rostIvan You&#39;re right. It is package-private.","body":"@rostIvan You&#39;re right. It is package-private."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1679267383,"post_id":75784537,"comment_id":133686064,"body_markdown":"@rostIvan Can you revise your answer?","body":"@rostIvan Can you revise your answer?"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679257122,"creation_date":1679256769,"answer_id":75784677,"question_id":75784537,"body_markdown":"You can&#39;t instantiate an interface in `Java`. While using `@InjectMock` you tell **Mockito** to instantiate your object and inject your dependency, here `UserRepository`.\r\n\r\nThe first approach is to use a concrete implementation of your interface. Check this [link][1] for more details.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class UserServiceTest {\r\n    \r\n        @Mock\r\n        private UserRepository userRepository;\r\n    \r\n        @InjectMocks\r\n        private UserServiceImpl userService;\r\n    \r\n        @Test\r\n        void shouldCreateUser() {\r\n       \r\n        }\r\n    }\r\n\r\nAlso the class under test is **UserService** so you can&#39;t the annotation `Mock` on it.\r\n\r\n  [1]: https://www.javacodegeeks.com/2020/07/mockito-cannot-instantiate-injectmocks-field-the-type-is-an-interface.html","title":"How to mock Interface in JUnit instead of its implementation class in Spring Boot","body":"<p>You can't instantiate an interface in <code>Java</code>. While using <code>@InjectMock</code> you tell <strong>Mockito</strong> to instantiate your object and inject your dependency, here <code>UserRepository</code>.</p>\n<p>The first approach is to use a concrete implementation of your interface. Check this <a href=\"https://www.javacodegeeks.com/2020/07/mockito-cannot-instantiate-injectmocks-field-the-type-is-an-interface.html\" rel=\"nofollow noreferrer\">link</a> for more details.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n\n    @Mock\n    private UserRepository userRepository;\n\n    @InjectMocks\n    private UserServiceImpl userService;\n\n    @Test\n    void shouldCreateUser() {\n   \n    }\n}\n</code></pre>\n<p>Also the class under test is <strong>UserService</strong> so you can't the annotation <code>Mock</code> on it.</p>\n"},{"tags":[],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679271346,"creation_date":1679257930,"answer_id":75784767,"question_id":75784537,"body_markdown":"The Mockito framework needs to know what concrete class to instantiate.\r\nSince the class `UserServiceImpl` is package-private you can access it when your test case package is the same.\r\n\r\n```\r\nsrc\r\n├── main\r\n│   └── java\r\n│       └── com\r\n│           ├── company\r\n│               ├── service\r\n│                    ├── UserService.java\r\n│                    ├── impl\r\n│                         ├── UserServiceImpl.java (package-private)\r\n└── test\r\n    └── java\r\n        └── com\r\n            └── company\r\n                ├── service\r\n                     ├── impl\r\n                          ├── UserServiceTest.java\r\n```\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserServiceTest {\r\n\r\n    @Mock\r\n    private UserRepository userRepository;\r\n\r\n    private UserService userService = new UserServiceImpl(userRepository);\r\n\r\n    @Test\r\n    void shouldCreateUser() {\r\n        // ... \r\n    }\r\n\r\n}\r\n```\r\n","title":"How to mock Interface in JUnit instead of its implementation class in Spring Boot","body":"<p>The Mockito framework needs to know what concrete class to instantiate.\nSince the class <code>UserServiceImpl</code> is package-private you can access it when your test case package is the same.</p>\n<pre><code>src\n├── main\n│   └── java\n│       └── com\n│           ├── company\n│               ├── service\n│                    ├── UserService.java\n│                    ├── impl\n│                         ├── UserServiceImpl.java (package-private)\n└── test\n    └── java\n        └── com\n            └── company\n                ├── service\n                     ├── impl\n                          ├── UserServiceTest.java\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n\n    @Mock\n    private UserRepository userRepository;\n\n    private UserService userService = new UserServiceImpl(userRepository);\n\n    @Test\n    void shouldCreateUser() {\n        // ... \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75784677,"answer_count":2,"score":1,"last_activity_date":1679271346,"creation_date":1679254910,"question_id":75784537,"body_markdown":"I have a problem to write JUnit Service Test shown below.\r\n\r\nI only access **UserService** (Interface) and **UserServiceImpl** cannot be accessed from outside as it is private. This is my case.\r\n\r\nI have a problem to call `saveUser` method.\r\n\r\nHere is the structure\r\n\r\n    src\r\n    ├── main\r\n    │   └── java\r\n    │       └── com\r\n    │           ├── company\r\n    │               ├── service\r\n    │                    ├── UserService.java\r\n    │                    ├── impl\r\n    │                         ├── UserServiceImpl.java (package-private)\r\n    └── test\r\n        └── java\r\n            └── com\r\n                └── company\r\n                    ├── UserServiceTest.java\r\n\r\n\r\nHere is the UserService shown below\r\n\r\n    public interface UserService {\r\n        UserDTO saveUser(SignUpRequest signUpRequest);\r\n    }\r\n\r\nHere is the save Method defined in UserServiceImpl \r\n\r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    @RequiredArgsConstructor\r\n    class UserServiceImpl implements UserService {\r\n\r\n           private final UserRepository userRepository;\r\n\r\n           @Transactional\r\n           public UserDTO saveUser(SignUpRequest signUpRequest) {\r\n           ...\r\n           return UserDTO.builder()\r\n                        .username(signUpRequest.getUsername())\r\n                        .firstName(signUpRequest.getFirstName())\r\n           }\r\n    }\r\n\r\nHere is the UserServiceTest shown below\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class UserServiceTest {\r\n    \r\n    @Mock\r\n    private UserRepository userRepository;\r\n    \r\n    @InjectMocks\r\n    private UserService userService;\r\n    \r\n    @Test\r\n    void shouldCreateUser() {\r\n       User user = new User();\r\n       ...\r\n       when(userRepository.save(any(User.class))).thenReturn(user);\r\n\r\n       UserDTO savedUserDTO = userService.saveUser(signUpRequest);  // Here is the issue\r\n\r\n       \r\n    }\r\n\r\nI get this issue shown below\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Cannot instantiate @InjectMocks field named &#39;userService&#39;! Cause: the type &#39;UserService&#39; is an interface.\r\n    You haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\n    Examples of correct usage of @InjectMocks:\r\n       @InjectMocks Service service = new Service();\r\n       @InjectMocks Service service;\r\n       //and... don&#39;t forget about some @Mocks for injection :)\r\n\r\n\r\nWhen I changed userService as shown below, I get this issue.\r\n\r\n    @Mock\r\n    private UserService userService;\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.backend.user.service.dto.UserDTO.getUsername()&quot; because &quot;savedUserDTO&quot; is null\r\n\r\nHow can I fix it?","title":"How to mock Interface in JUnit instead of its implementation class in Spring Boot","body":"<p>I have a problem to write JUnit Service Test shown below.</p>\n<p>I only access <strong>UserService</strong> (Interface) and <strong>UserServiceImpl</strong> cannot be accessed from outside as it is private. This is my case.</p>\n<p>I have a problem to call <code>saveUser</code> method.</p>\n<p>Here is the structure</p>\n<pre><code>src\n├── main\n│   └── java\n│       └── com\n│           ├── company\n│               ├── service\n│                    ├── UserService.java\n│                    ├── impl\n│                         ├── UserServiceImpl.java (package-private)\n└── test\n    └── java\n        └── com\n            └── company\n                ├── UserServiceTest.java\n</code></pre>\n<p>Here is the UserService shown below</p>\n<pre><code>public interface UserService {\n    UserDTO saveUser(SignUpRequest signUpRequest);\n}\n</code></pre>\n<p>Here is the save Method defined in UserServiceImpl</p>\n<pre><code>@Service\n@Transactional(readOnly = true)\n@RequiredArgsConstructor\nclass UserServiceImpl implements UserService {\n\n       private final UserRepository userRepository;\n\n       @Transactional\n       public UserDTO saveUser(SignUpRequest signUpRequest) {\n       ...\n       return UserDTO.builder()\n                    .username(signUpRequest.getUsername())\n                    .firstName(signUpRequest.getFirstName())\n       }\n}\n</code></pre>\n<p>Here is the UserServiceTest shown below</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n\n@Mock\nprivate UserRepository userRepository;\n\n@InjectMocks\nprivate UserService userService;\n\n@Test\nvoid shouldCreateUser() {\n   User user = new User();\n   ...\n   when(userRepository.save(any(User.class))).thenReturn(user);\n\n   UserDTO savedUserDTO = userService.saveUser(signUpRequest);  // Here is the issue\n\n   \n}\n</code></pre>\n<p>I get this issue shown below</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nCannot instantiate @InjectMocks field named 'userService'! Cause: the type 'UserService' is an interface.\nYou haven't provided the instance at field declaration so I tried to construct the instance.\nExamples of correct usage of @InjectMocks:\n   @InjectMocks Service service = new Service();\n   @InjectMocks Service service;\n   //and... don't forget about some @Mocks for injection :)\n</code></pre>\n<p>When I changed userService as shown below, I get this issue.</p>\n<pre><code>@Mock\nprivate UserService userService;\n\njava.lang.NullPointerException: Cannot invoke &quot;com.backend.user.service.dto.UserDTO.getUsername()&quot; because &quot;savedUserDTO&quot; is null\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","arrays","math","methods","while-loop"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671404996,"post_id":74844840,"comment_id":132086746,"body_markdown":"In C / C++ it is possible to use ANSI escape codes to control terminal output.  The programmer could set colors, and move the cursor.  See https://en.wikipedia.org/wiki/ANSI_escape_code . You might search for a way to do that in Java. https://stackoverflow.com/questions/1001335/move-console-cursor-to-specified-position","body":"In C / C++ it is possible to use ANSI escape codes to control terminal output.  The programmer could set colors, and move the cursor.  See <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ANSI_escape_code</a> . You might search for a way to do that in Java. <a href=\"https://stackoverflow.com/questions/1001335/move-console-cursor-to-specified-position\" title=\"move console cursor to specified position\">stackoverflow.com/questions/1001335/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671406622,"post_id":74844840,"comment_id":132086983,"body_markdown":"Off topic:  It might be better if this was an GUI application  instead of a console application.","body":"Off topic:  It might be better if this was an GUI application  instead of a console application."}],"answers":[{"tags":[],"owner":{"display_name":"user21434270"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679270816,"creation_date":1679270816,"answer_id":75785706,"question_id":74844840,"body_markdown":"What you are trying to do is to clear the terminal, or at least part of it.\r\n\r\nThe basic idea with a terminal is that you can usually only write to it, which means that the previous data is still there.\r\n\r\nThe terminal is just stored as a String, so when you output to it, everything becomes a String object, which is why you can&#39;t just &quot;refresh&quot; it like a screen.\r\n\r\nHowever there are a few ways to mimic that behavior:\r\n1) Print a lot of new lines to scroll the terminal up enough to make it appear as if you cleared the last screen. \r\n2) ```System.out.print(&quot;\\b&quot;);``` prints the backspace character, deleting one character from your terminal, if you do that enough, you can essentially delete the contents of the terminal (note that does not necessarily work on any system). This does not work on new line characters, which are created by printing ```&quot;\\n&quot;``` or using ```System.out.println()```","title":"how to replace a 2D array for a new 2D array in a console in Java?","body":"<p>What you are trying to do is to clear the terminal, or at least part of it.</p>\n<p>The basic idea with a terminal is that you can usually only write to it, which means that the previous data is still there.</p>\n<p>The terminal is just stored as a String, so when you output to it, everything becomes a String object, which is why you can't just &quot;refresh&quot; it like a screen.</p>\n<p>However there are a few ways to mimic that behavior:</p>\n<ol>\n<li>Print a lot of new lines to scroll the terminal up enough to make it appear as if you cleared the last screen.</li>\n<li><code>System.out.print(&quot;\\b&quot;);</code> prints the backspace character, deleting one character from your terminal, if you do that enough, you can essentially delete the contents of the terminal (note that does not necessarily work on any system). This does not work on new line characters, which are created by printing <code>&quot;\\n&quot;</code> or using <code>System.out.println()</code></li>\n</ol>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679270816,"creation_date":1671402701,"question_id":74844840,"body_markdown":"My code has some logic issues with the problem mentioned above. \r\nWhat I&#39;m trying to do is to print a 2D array in the console, and then, after asking for the user&#39;s input, the array will change and will replace the old one for this new one in the console. \r\n\r\nHere is an example of what I&#39;m trying to do.\r\nDon&#39;t pay attention to the numbers on the array, what I am asking only has to do with the elements that are printed in the console. \r\n\r\nThe console will look like this\r\n\r\n```\r\nWhat column do you want to shoot (A, B, C, D, E, F)\r\nThe number that is going to be shoot is ---1---\r\n```\r\n\r\nAfter the user gives the column, the console will look like this.\r\n\r\n``` \r\n What column do you want to shoot (A, B, C, D, E, F)\r\nThe number that is going to be shoot is ---1--- \r\nA\r\n3 3 2 1 1 3 \r\n2 2 3 1 1 3 \r\n2 3 3 1 3 3 \r\n2 2 3 3 1 3 \r\n1 3 1 2 2 3 \r\n2 2 1 1 3 2 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\nWhat column do you want to shoot (A, B, C, D, E, F)\r\nThe number that is going to be shoot is ---2--- \r\n```\r\n\r\nThe code that I attached at the end does all of this, but the problem starts after the user gives the second input. After the user gives his second input (his second column) the console will look like this: \r\n```\r\nWhat column do you want to shoot (A, B, C, D, E, F)\r\nThe number that is going to be shoot is ---1--- \r\nA\r\n3 3 2 1 1 3 \r\n2 2 3 1 1 3 \r\n2 3 3 1 3 3 \r\n2 2 3 3 1 3 \r\n1 3 1 2 2 3 \r\n2 2 1 1 3 2 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\nWhat column do you want to shoot (A, B, C, D, E, F)\r\nThe number that is going to be shoot is ---2--- \r\nB\r\n2 2 2 3 3 1 \r\n3 3 2 1 1 3 \r\n2 2 3 1 1 3 \r\n2 3 3 1 3 3 \r\n2 2 3 3 1 3 \r\n1 3 1 2 2 3 \r\n0 0 1 1 3 2 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\nWhat column do you want to shoot (A, B, C, D, E, F)\r\nThe number that is going to be shoot is ---3--- \r\n```\r\n\r\nWhat it&#39;s doing is that it keeps printing and printing new boards instead of &quot;updating&quot; the same board. \r\n\r\nWhat I am trying to achieve is the following: (What I am showing is what I want the console to look like)\r\n\r\n(User gives the first input)\r\nConsole:\r\n```\r\nThe number that is going to be shoot is ---2--- \r\nA\r\n3 3 2 1 1 3 \r\n2 2 3 1 1 3 \r\n2 3 3 1 3 3 \r\n2 2 3 3 1 3 \r\n1 3 1 2 2 3 \r\n2 2 1 1 3 2 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n```\r\n\r\n\r\n(User gives second input) \r\nConsole: \r\n\r\n\r\n```\r\nWhat column do you want to shoot (A, B, C, D, E, F)\r\nThe number that is going to be shoot is ---3--- \r\nA\r\n2 2 2 3 3 1 \r\n3 3 2 1 1 3 \r\n2 2 3 1 1 3 \r\n2 3 3 1 3 3 \r\n2 2 3 3 1 3 \r\n1 3 1 2 2 3 \r\n0 0 1 1 3 2 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n0 0 0 0 0 0 \r\n```\r\n(The only 2 changes here are the number that is going to be shoot and the numbers in the array)\r\n\r\n\r\nIn a few words all I want to do is to &quot;update&quot; the board with the result instead of printing and printing new boards over and over again. \r\n\r\n\r\nThe code below is the code I have so far. I included a pseudo code so that you can see what each method does (The whole game structure is on the ```game()``` method). I would prefer to not change the code for any of the methods rather than the ```gameOver``` method since it is the one that is in &quot;charge&quot; of clearing the consoles and all that stuff. (If you find an answer and involves changing another method that&#39;s ok) \r\n\r\nAgain, the only thing that i&#39;m confused about is on how to replace the existing board instead of printing new boards, not with the content of the arrays. \r\n\r\nHere&#39;s the code\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.ArrayDeque;\r\nimport java.util.Deque;\r\nimport java.util.Collections;\r\npublic class Project {\r\n    public static final int[][] NEIGHBOURS = // adjacent cells\r\n        {{0, 1},   // horizontal -\r\n         {1, 0},   // vertical   |\r\n         {1, 1},   // diagonal   \\\r\n         {1, -1}}; // diagonal   /\r\n\r\n    private List&lt;Island&gt; islands = new ArrayList&lt;&gt;(); // collection of Islands\r\n    private int[][] grid; // matrix\r\n    \r\n    public Project(int[][] grid) {\r\n        this.grid = grid;\r\n    }\r\n    \r\n    \r\n    \r\n    public static int[][]board = { {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0}, \r\n                                   {0, 0, 0, 0, 0, 0} };\r\n            \r\n    public static int[][]numberBoard = createBoard(6, /*Number of colums*/ 5, /*Number of rows*/ 3 /*Bubble types in the board (1, 2 or 3)*/); \r\n    //creates random board\r\n    \r\n    public static void main( String[] args) {\r\n        game();\r\n    }\r\n    \r\n    public static void game() {\r\n        String input; //the Input\r\n        int randomNumber; \r\n        int[] location;\r\n        board = combine(board, numberBoard); //Empty Board to Randomized Board\r\n        \r\n        \r\n        while(gameOver(board).equals(&quot;GAME CONTINUES&quot;)) {\r\n            gameOver(board); //Scans the array to see if the game is still going or not\r\n            \r\n            //The code below  up to &quot;shiftRow&quot; shouldn&#39;t really matter with the question because all it&#39;s doing is to make changes to the array\r\n            //but does not print anything to the console so I seperated them.\r\n            \r\n            randomNumber = createRandomNumber(3); //creates a randomNumber\r\n            input = shoot(randomNumber); //Input\r\n            board = putNumber(board, input, randomNumber); //Places Input\r\n            location = numberLocation(board, input, randomNumber); //Gets location of the placed number\r\n            board = destroyAdjacentNumbers(board, location[0], location[1], randomNumber); //Deletes any number that is both, a neighbor and\r\n                                                                                           //has the same value as the number placed\r\n                                                                                           \r\n            Project destroyIslands = new Project(board); //destroys the islands (Chunks of numbers that are completely surrounded by zeros)\r\n            destroyIslands.deleteIslandBoard2();\r\n            shiftRow(board);  //Shifts the row down\r\n            \r\n            \r\n            destroyIslands.printGrid(); //prints the grid\r\n            \r\n        }\r\n        if(gameOver(board).equals(&quot;CONGRATULATIONS, YOU WON THE GAME!&quot;)) {\r\n            clearConsole();\r\n            \r\n            System.out.println(&quot;CONGRATULATIONS, YOU WON THE GAME!&quot;);\r\n        } else if(gameOver(board).equals(&quot;YOU LOST THE GAME!&quot;)) {\r\n            clearConsole();\r\n            \r\n            System.out.println(&quot;YOU LOST THE GAME!&quot;);\r\n        } \r\n        \r\n        \r\n        \r\n    }\r\n    \r\n      public static int[][] createBoard(int cols, int rows, int numBubbleTypes) {\r\n        int[][] board = new int[rows][cols]; \r\n        for( int row = 0; row &lt; rows;  row++ ) {\r\n            for( int col = 0; col &lt; cols; col++ ) {\r\n                board[row][col] = (int)(Math.random() * (double)numBubbleTypes) + 1;\r\n            }\r\n        }\r\n        return board;\r\n    }\r\n    \r\n    public static int createRandomNumber(int type) {\r\n       \r\n       double randomNumber = Math.random();\r\n       randomNumber = randomNumber * type;\r\n       int roundedNumber = (int) Math.floor(randomNumber);\r\n       int result = roundedNumber + 1;\r\n       return result;\r\n       \r\n    }\r\n    \r\n    public static void printGrid(int[][] grid) {\r\n        for( int row = 0; row &lt; grid.length; row++ ) {\r\n            for( int col = 0; col &lt; grid[row].length; col++ ) {\r\n                System.out.print( grid[row][col] + &quot; &quot; ); \r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n    \r\n    public static int[][] shiftRow( int[][] grid ) {\r\n        /*\r\n         * Pseudocode:\r\n         * Shift down first row to second row, then third row goes up two rows\r\n         * \r\n         * Shift each row down one (except the last row), then shift bottom row to the top\r\n         * \r\n         * Store the row after the current row in a temporary box, then overwrite the next row\r\n         * with the first, then repeat (excluding the last row). \r\n         */\r\n        int[] tempList = new int[ grid[0].length ]; //0, 0, 0\r\n        for( int col = 0; col &lt; grid[0].length; col++ ) {\r\n            tempList[col] = grid[0][col];\r\n        }\r\n        \r\n        for( int row = 0; row &lt; grid.length - 1; row++ ) {\r\n            int[] currentList = new int[ grid[row].length ];\r\n            for( int col = 0; col &lt; grid[row].length; col++ ) {\r\n                currentList[col] = tempList[col];\r\n                tempList[col] = grid[row+1][col];\r\n                grid[row+1][col] = currentList[col];\r\n            }\r\n        }\r\n        \r\n        int[][]newRow = createBoard(6, 1, 3);\r\n        \r\n        for( int col = 0; col &lt; grid[0].length; col++ ) {\r\n            grid[0][col] = newRow[0][col];\r\n        }\r\n        \r\n        return grid;\r\n    }\r\n    \r\n    public static void fillBoard(int[]array) {\r\n        \r\n    }\r\n    \r\n    public static String shoot(int number) {\r\n        System.out.println(&quot;What column do you want to shoot (A, B, C, D, E, F)&quot;);\r\n        System.out.println(&quot;The number that is going to be shoot is ---&quot; + number + &quot;--- &quot;);\r\n        Scanner scanShoot = new Scanner(System.in);\r\n        String input = scanShoot.nextLine();\r\n        return input; \r\n    }\r\n    \r\n    private static void clearConsole() {\r\n        System.out.print(&#39;\\u000C&#39;); //Clear terminal\r\n    }\r\n    \r\n    public static int[][] combine(int[][]board, int[][] numberBoard) {\r\n        for(int i = 0; i &lt; numberBoard.length; i++) {\r\n            for(int j = 0; j &lt; numberBoard[i].length; j++) {\r\n                board[i][j] = numberBoard[i][j];\r\n            }\r\n        }\r\n        return board;\r\n    }\r\n    \r\n     public static int[][] putNumber(int[][] board, String columnInput, int randomNumber) {\r\n        if(columnInput.equals(&quot;A&quot;) ) {\r\n            for(int row = 0; row &lt; board.length; row++) {\r\n                if(board[row][0] == 0) {\r\n                    board[row][0] = randomNumber;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if(columnInput.equals(&quot;B&quot;) ) {\r\n            for(int row = 0; row &lt; board.length; row++) {\r\n                if(board[row][1] == 0) {\r\n                    board[row][1] = randomNumber;\r\n                    break;\r\n                }\r\n            }        \r\n        }\r\n        if(columnInput.equals(&quot;C&quot;) ) {\r\n            for(int row = 0; row &lt; board.length; row++) {\r\n                if(board[row][2] == 0) {\r\n                    board[row][2] = randomNumber;\r\n                    break;\r\n                }\r\n            }     \r\n        }\r\n        if(columnInput.equals(&quot;D&quot;) ) {\r\n            for(int row = 0; row &lt; board.length; row++) {\r\n                if(board[row][3] == 0) {\r\n                    board[row][3] = randomNumber;\r\n                    break;\r\n                }\r\n            }    \r\n        }\r\n        if(columnInput.equals(&quot;E&quot;) ) {\r\n            for(int row = 0; row &lt; board.length; row++) {\r\n                if(board[row][4] == 0) {\r\n                    board[row][4] = randomNumber;\r\n                    break;\r\n                }\r\n            }       \r\n        }\r\n        if(columnInput.equals(&quot;F&quot;) ) {\r\n            for(int row = 0; row &lt; board.length; row++) {\r\n                if(board[row][5] == 0) {\r\n                    board[row][5] = randomNumber;\r\n                    break;\r\n                }\r\n            }        \r\n        }\r\n\r\n        return board;\r\n    }\r\n    \r\n    public static int [] numberLocation(int [][] board, String column, int randomNumber) { \r\n      int columnIndex = column.charAt (0) - &#39;A&#39;;\r\n      int saveRow = -1;\r\n       for (int row = 0; row &lt; board.length; row++) {\r\n        if (columnIndex &gt;= 0 &amp;&amp; columnIndex &lt; board[row].length &amp;&amp; board [row][columnIndex] == 0) { \r\n          board [row][columnIndex] = randomNumber;\r\n          saveRow = row;\r\n          break;\r\n         }\r\n      }\r\n        return new int [] { saveRow, columnIndex };\r\n    }\r\n    \r\n    public static void destroyNumbers(int num, int[][] grid) {\r\n       for (int i = 0; i &lt; grid.length; i++) {\r\n         for (int j = 0; j &lt; grid[i].length; j++) {\r\n          if (grid[i][j] == num) {\r\n             grid[i][j] = 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    public static int[][] destroyAdjacentNumbers(int[][] array, int row, int col, int num) {\r\n      if (row &lt; 0 || row &gt;= array.length || col &lt; 0 || col &gt;= array[row].length) {\r\n        return array;\r\n      }\r\n\r\n      if (array[row][col] == num) {\r\n        array[row][col] = 0;\r\n      }\r\n\r\n      if (row &gt; 0 &amp;&amp; array[row - 1][col] == num) {\r\n        array[row - 1][col] = 0;\r\n        destroyAdjacentNumbers(array, row - 1, col, num);\r\n      }\r\n\r\n      if (row &lt; array.length - 1 &amp;&amp; array[row + 1][col] == num) {\r\n        array[row + 1][col] = 0;\r\n        destroyAdjacentNumbers(array, row + 1, col, num);\r\n      }\r\n\r\n      if (col &gt; 0 &amp;&amp; array[row][col - 1] == num) {\r\n        array[row][col - 1] = 0;\r\n        destroyAdjacentNumbers(array, row, col - 1, num);\r\n      }\r\n\r\n      if (col &lt; array[row].length - 1 &amp;&amp; array[row][col + 1] == num) {\r\n        array[row][col + 1] = 0;\r\n        destroyAdjacentNumbers(array, row, col + 1, num);\r\n      }\r\n\r\n      return array;\r\n    }\r\n    \r\n    public static void numberShot(int number) {\r\n        System.out.println(&quot;The number that is going to be shot is &quot; + &quot; --- &quot; + number + &quot; --- &quot; );\r\n\r\n    }\r\n    \r\n    public static String gameOver(int[][] array) {\r\n      boolean hasEmpty = false;\r\n      boolean hasNonEmpty = false;\r\n      for (int i = 0; i &lt; array.length; i++) {\r\n       for (int j = 0; j &lt; array[i].length; j++) {\r\n          if (array[i][j] == 0) {\r\n          hasEmpty = true;\r\n        }    else {\r\n          hasNonEmpty = true;\r\n        }\r\n       }\r\n      }\r\n      if (hasEmpty &amp;&amp; hasNonEmpty) {\r\n         \r\n          \r\n    \r\n         return &quot;GAME CONTINUES&quot;;\r\n      } else if (hasEmpty) {\r\n         clearConsole();\r\n          \r\n         return &quot;CONGRATULATIONS, YOU WON THE GAME!&quot;;\r\n      } else {\r\n         clearConsole();\r\n          \r\n         return &quot;YOU LOST THE GAME!&quot;;\r\n      }\r\n    }\r\n    \r\n    public static int[][] deleteIslandBoard(int[][] array) {\r\n      // Create a boolean array to track which cells have been visited\r\n      boolean[][] visited = new boolean[array.length][array[0].length];\r\n    \r\n      // Iterate \r\n      for (int i = 0; i &lt; array.length; i++) {\r\n        for (int j = 0; j &lt; array[0].length; j++) {\r\n            // If the cell is not visited and is part of an island\r\n            if (!visited[i][j] &amp;&amp; array[i][j] != 0) {\r\n                // Delete the island by setting all cells to 0\r\n                deleteIsland(array, i, j, visited);\r\n            }\r\n        }\r\n      }\r\n      // Return the modified array\r\n      return array;\r\n    }\r\n\r\n    public static void deleteIsland(int[][] array, int i, int j, boolean[][] visited) {\r\n      // Check if the current cell is out of board or if it has already been visited\r\n      if (i &lt; 0 || i &gt;= array.length || j &lt; 0 || j &gt;= array[0].length || visited[i][j]) {\r\n        return;\r\n      }\r\n      // Mark the current cell as visited\r\n      visited[i][j] = true; // If the current cell is part of the island, set it to 0\r\n      if (array[i][j] != 0) {\r\n        array[i][j] = 0;\r\n        // Recursively delete the neighboring cells that are part of the island\r\n        deleteIsland(array, i - 1, j, visited);\r\n        deleteIsland(array, i + 1, j, visited);\r\n        deleteIsland(array, i, j - 1, visited);\r\n        deleteIsland(array, i, j + 1, visited);\r\n      }\r\n    }\r\n    \r\n    public class Island implements Comparable&lt;Island&gt; {\r\n        private List&lt;int[]&gt; cells = new ArrayList&lt;&gt;();\r\n        \r\n        public void addCell(int[] cell) {\r\n            cells.add(cell);\r\n        }\r\n        \r\n        public void destroy() {\r\n            cells.forEach(cell -&gt; grid[cell[0]][cell[1]] = 0);\r\n        }\r\n        \r\n        @Override\r\n        public int compareTo(Island other) {\r\n            return Integer.compare(cells.size(), other.cells.size());\r\n        }\r\n    }\r\n    \r\n    public void deleteIslandBoard2() {\r\n        exploreIslands();\r\n        deleteSmallerIslands();\r\n    }\r\n    \r\n    public void exploreIslands() {\r\n        boolean[][] visited = new boolean[grid.length][grid[0].length];\r\n        \r\n        for (int i = 0; i &lt; grid.length; i++) {\r\n            for (int j = 0; j &lt; grid[0].length; j++) {\r\n                \r\n                if (!visited[i][j] &amp;&amp; grid[i][j] != 0) { // if a New Island was found\r\n                    exploreIsland(new int[]{i, j}, visited); // explore the Island, i.e. index all its cell and mark them as visited\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Depth first search implementation\r\n     */\r\n    public void exploreIsland(int[] cell, boolean[][] visited) {\r\n        Island island = new Island();\r\n        islands.add(island); // updating the list of Islands\r\n        \r\n        Deque&lt;int[]&gt; stack = new ArrayDeque&lt;&gt;();\r\n        stack.push(cell);\r\n        \r\n        while (!stack.isEmpty()) {\r\n            int[] next = stack.poll();\r\n            island.addCell(next);\r\n            \r\n            for (int[] shift : NEIGHBOURS) {\r\n                int row = next[0] + shift[0];\r\n                int col = next[1] + shift[1];\r\n                \r\n                if (isValid(row, col) &amp;&amp; !visited[row][col]) { // if cell exist, non-zero and not visited yet\r\n                    stack.push(new int[]{row, col});\r\n                    visited[row][col] = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    public boolean isValid(int row, int col) {\r\n        return row &gt;= 0 &amp;&amp; row &lt; grid.length\r\n            &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; grid[0].length\r\n            &amp;&amp; grid[row][col] != 0;\r\n    }\r\n    \r\n    public void deleteSmallerIslands() {\r\n        if (islands.isEmpty()) return; // otherwise Collections.max() would throw NoSuchElementException\r\n\r\n        \r\n        Island largest = Collections.max(islands);\r\n        for (Island next : islands) {\r\n            if (next != largest) next.destroy();\r\n        }\r\n    }\r\n    \r\n    public void printGrid() {\r\n        for (int i = 0; i &lt; grid.length; i++) {\r\n            for (int j = 0; j &lt; grid[i].length; j++) {\r\n                System.out.print(grid[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Most of this code shouldn&#39;t matter, just the methods that print stuff!!!!!!!!!!!!!!!**","title":"how to replace a 2D array for a new 2D array in a console in Java?","body":"<p>My code has some logic issues with the problem mentioned above.\nWhat I'm trying to do is to print a 2D array in the console, and then, after asking for the user's input, the array will change and will replace the old one for this new one in the console.</p>\n<p>Here is an example of what I'm trying to do.\nDon't pay attention to the numbers on the array, what I am asking only has to do with the elements that are printed in the console.</p>\n<p>The console will look like this</p>\n<pre><code>What column do you want to shoot (A, B, C, D, E, F)\nThe number that is going to be shoot is ---1---\n</code></pre>\n<p>After the user gives the column, the console will look like this.</p>\n<pre><code> What column do you want to shoot (A, B, C, D, E, F)\nThe number that is going to be shoot is ---1--- \nA\n3 3 2 1 1 3 \n2 2 3 1 1 3 \n2 3 3 1 3 3 \n2 2 3 3 1 3 \n1 3 1 2 2 3 \n2 2 1 1 3 2 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \nWhat column do you want to shoot (A, B, C, D, E, F)\nThe number that is going to be shoot is ---2--- \n</code></pre>\n<p>The code that I attached at the end does all of this, but the problem starts after the user gives the second input. After the user gives his second input (his second column) the console will look like this:</p>\n<pre><code>What column do you want to shoot (A, B, C, D, E, F)\nThe number that is going to be shoot is ---1--- \nA\n3 3 2 1 1 3 \n2 2 3 1 1 3 \n2 3 3 1 3 3 \n2 2 3 3 1 3 \n1 3 1 2 2 3 \n2 2 1 1 3 2 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \nWhat column do you want to shoot (A, B, C, D, E, F)\nThe number that is going to be shoot is ---2--- \nB\n2 2 2 3 3 1 \n3 3 2 1 1 3 \n2 2 3 1 1 3 \n2 3 3 1 3 3 \n2 2 3 3 1 3 \n1 3 1 2 2 3 \n0 0 1 1 3 2 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \nWhat column do you want to shoot (A, B, C, D, E, F)\nThe number that is going to be shoot is ---3--- \n</code></pre>\n<p>What it's doing is that it keeps printing and printing new boards instead of &quot;updating&quot; the same board.</p>\n<p>What I am trying to achieve is the following: (What I am showing is what I want the console to look like)</p>\n<p>(User gives the first input)\nConsole:</p>\n<pre><code>The number that is going to be shoot is ---2--- \nA\n3 3 2 1 1 3 \n2 2 3 1 1 3 \n2 3 3 1 3 3 \n2 2 3 3 1 3 \n1 3 1 2 2 3 \n2 2 1 1 3 2 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n</code></pre>\n<p>(User gives second input)\nConsole:</p>\n<pre><code>What column do you want to shoot (A, B, C, D, E, F)\nThe number that is going to be shoot is ---3--- \nA\n2 2 2 3 3 1 \n3 3 2 1 1 3 \n2 2 3 1 1 3 \n2 3 3 1 3 3 \n2 2 3 3 1 3 \n1 3 1 2 2 3 \n0 0 1 1 3 2 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n0 0 0 0 0 0 \n</code></pre>\n<p>(The only 2 changes here are the number that is going to be shoot and the numbers in the array)</p>\n<p>In a few words all I want to do is to &quot;update&quot; the board with the result instead of printing and printing new boards over and over again.</p>\n<p>The code below is the code I have so far. I included a pseudo code so that you can see what each method does (The whole game structure is on the <code>game()</code> method). I would prefer to not change the code for any of the methods rather than the <code>gameOver</code> method since it is the one that is in &quot;charge&quot; of clearing the consoles and all that stuff. (If you find an answer and involves changing another method that's ok)</p>\n<p>Again, the only thing that i'm confused about is on how to replace the existing board instead of printing new boards, not with the content of the arrays.</p>\n<p>Here's the code</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport java.util.Collections;\npublic class Project {\n    public static final int[][] NEIGHBOURS = // adjacent cells\n        {{0, 1},   // horizontal -\n         {1, 0},   // vertical   |\n         {1, 1},   // diagonal   \\\n         {1, -1}}; // diagonal   /\n\n    private List&lt;Island&gt; islands = new ArrayList&lt;&gt;(); // collection of Islands\n    private int[][] grid; // matrix\n    \n    public Project(int[][] grid) {\n        this.grid = grid;\n    }\n    \n    \n    \n    public static int[][]board = { {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0}, \n                                   {0, 0, 0, 0, 0, 0} };\n            \n    public static int[][]numberBoard = createBoard(6, /*Number of colums*/ 5, /*Number of rows*/ 3 /*Bubble types in the board (1, 2 or 3)*/); \n    //creates random board\n    \n    public static void main( String[] args) {\n        game();\n    }\n    \n    public static void game() {\n        String input; //the Input\n        int randomNumber; \n        int[] location;\n        board = combine(board, numberBoard); //Empty Board to Randomized Board\n        \n        \n        while(gameOver(board).equals(&quot;GAME CONTINUES&quot;)) {\n            gameOver(board); //Scans the array to see if the game is still going or not\n            \n            //The code below  up to &quot;shiftRow&quot; shouldn't really matter with the question because all it's doing is to make changes to the array\n            //but does not print anything to the console so I seperated them.\n            \n            randomNumber = createRandomNumber(3); //creates a randomNumber\n            input = shoot(randomNumber); //Input\n            board = putNumber(board, input, randomNumber); //Places Input\n            location = numberLocation(board, input, randomNumber); //Gets location of the placed number\n            board = destroyAdjacentNumbers(board, location[0], location[1], randomNumber); //Deletes any number that is both, a neighbor and\n                                                                                           //has the same value as the number placed\n                                                                                           \n            Project destroyIslands = new Project(board); //destroys the islands (Chunks of numbers that are completely surrounded by zeros)\n            destroyIslands.deleteIslandBoard2();\n            shiftRow(board);  //Shifts the row down\n            \n            \n            destroyIslands.printGrid(); //prints the grid\n            \n        }\n        if(gameOver(board).equals(&quot;CONGRATULATIONS, YOU WON THE GAME!&quot;)) {\n            clearConsole();\n            \n            System.out.println(&quot;CONGRATULATIONS, YOU WON THE GAME!&quot;);\n        } else if(gameOver(board).equals(&quot;YOU LOST THE GAME!&quot;)) {\n            clearConsole();\n            \n            System.out.println(&quot;YOU LOST THE GAME!&quot;);\n        } \n        \n        \n        \n    }\n    \n      public static int[][] createBoard(int cols, int rows, int numBubbleTypes) {\n        int[][] board = new int[rows][cols]; \n        for( int row = 0; row &lt; rows;  row++ ) {\n            for( int col = 0; col &lt; cols; col++ ) {\n                board[row][col] = (int)(Math.random() * (double)numBubbleTypes) + 1;\n            }\n        }\n        return board;\n    }\n    \n    public static int createRandomNumber(int type) {\n       \n       double randomNumber = Math.random();\n       randomNumber = randomNumber * type;\n       int roundedNumber = (int) Math.floor(randomNumber);\n       int result = roundedNumber + 1;\n       return result;\n       \n    }\n    \n    public static void printGrid(int[][] grid) {\n        for( int row = 0; row &lt; grid.length; row++ ) {\n            for( int col = 0; col &lt; grid[row].length; col++ ) {\n                System.out.print( grid[row][col] + &quot; &quot; ); \n            }\n            System.out.println(&quot;&quot;);\n        }\n    }\n    \n    public static int[][] shiftRow( int[][] grid ) {\n        /*\n         * Pseudocode:\n         * Shift down first row to second row, then third row goes up two rows\n         * \n         * Shift each row down one (except the last row), then shift bottom row to the top\n         * \n         * Store the row after the current row in a temporary box, then overwrite the next row\n         * with the first, then repeat (excluding the last row). \n         */\n        int[] tempList = new int[ grid[0].length ]; //0, 0, 0\n        for( int col = 0; col &lt; grid[0].length; col++ ) {\n            tempList[col] = grid[0][col];\n        }\n        \n        for( int row = 0; row &lt; grid.length - 1; row++ ) {\n            int[] currentList = new int[ grid[row].length ];\n            for( int col = 0; col &lt; grid[row].length; col++ ) {\n                currentList[col] = tempList[col];\n                tempList[col] = grid[row+1][col];\n                grid[row+1][col] = currentList[col];\n            }\n        }\n        \n        int[][]newRow = createBoard(6, 1, 3);\n        \n        for( int col = 0; col &lt; grid[0].length; col++ ) {\n            grid[0][col] = newRow[0][col];\n        }\n        \n        return grid;\n    }\n    \n    public static void fillBoard(int[]array) {\n        \n    }\n    \n    public static String shoot(int number) {\n        System.out.println(&quot;What column do you want to shoot (A, B, C, D, E, F)&quot;);\n        System.out.println(&quot;The number that is going to be shoot is ---&quot; + number + &quot;--- &quot;);\n        Scanner scanShoot = new Scanner(System.in);\n        String input = scanShoot.nextLine();\n        return input; \n    }\n    \n    private static void clearConsole() {\n        System.out.print('\\u000C'); //Clear terminal\n    }\n    \n    public static int[][] combine(int[][]board, int[][] numberBoard) {\n        for(int i = 0; i &lt; numberBoard.length; i++) {\n            for(int j = 0; j &lt; numberBoard[i].length; j++) {\n                board[i][j] = numberBoard[i][j];\n            }\n        }\n        return board;\n    }\n    \n     public static int[][] putNumber(int[][] board, String columnInput, int randomNumber) {\n        if(columnInput.equals(&quot;A&quot;) ) {\n            for(int row = 0; row &lt; board.length; row++) {\n                if(board[row][0] == 0) {\n                    board[row][0] = randomNumber;\n                    break;\n                }\n            }\n        }\n        if(columnInput.equals(&quot;B&quot;) ) {\n            for(int row = 0; row &lt; board.length; row++) {\n                if(board[row][1] == 0) {\n                    board[row][1] = randomNumber;\n                    break;\n                }\n            }        \n        }\n        if(columnInput.equals(&quot;C&quot;) ) {\n            for(int row = 0; row &lt; board.length; row++) {\n                if(board[row][2] == 0) {\n                    board[row][2] = randomNumber;\n                    break;\n                }\n            }     \n        }\n        if(columnInput.equals(&quot;D&quot;) ) {\n            for(int row = 0; row &lt; board.length; row++) {\n                if(board[row][3] == 0) {\n                    board[row][3] = randomNumber;\n                    break;\n                }\n            }    \n        }\n        if(columnInput.equals(&quot;E&quot;) ) {\n            for(int row = 0; row &lt; board.length; row++) {\n                if(board[row][4] == 0) {\n                    board[row][4] = randomNumber;\n                    break;\n                }\n            }       \n        }\n        if(columnInput.equals(&quot;F&quot;) ) {\n            for(int row = 0; row &lt; board.length; row++) {\n                if(board[row][5] == 0) {\n                    board[row][5] = randomNumber;\n                    break;\n                }\n            }        \n        }\n\n        return board;\n    }\n    \n    public static int [] numberLocation(int [][] board, String column, int randomNumber) { \n      int columnIndex = column.charAt (0) - 'A';\n      int saveRow = -1;\n       for (int row = 0; row &lt; board.length; row++) {\n        if (columnIndex &gt;= 0 &amp;&amp; columnIndex &lt; board[row].length &amp;&amp; board [row][columnIndex] == 0) { \n          board [row][columnIndex] = randomNumber;\n          saveRow = row;\n          break;\n         }\n      }\n        return new int [] { saveRow, columnIndex };\n    }\n    \n    public static void destroyNumbers(int num, int[][] grid) {\n       for (int i = 0; i &lt; grid.length; i++) {\n         for (int j = 0; j &lt; grid[i].length; j++) {\n          if (grid[i][j] == num) {\n             grid[i][j] = 0;\n          }\n        }\n      }\n    }\n    \n    public static int[][] destroyAdjacentNumbers(int[][] array, int row, int col, int num) {\n      if (row &lt; 0 || row &gt;= array.length || col &lt; 0 || col &gt;= array[row].length) {\n        return array;\n      }\n\n      if (array[row][col] == num) {\n        array[row][col] = 0;\n      }\n\n      if (row &gt; 0 &amp;&amp; array[row - 1][col] == num) {\n        array[row - 1][col] = 0;\n        destroyAdjacentNumbers(array, row - 1, col, num);\n      }\n\n      if (row &lt; array.length - 1 &amp;&amp; array[row + 1][col] == num) {\n        array[row + 1][col] = 0;\n        destroyAdjacentNumbers(array, row + 1, col, num);\n      }\n\n      if (col &gt; 0 &amp;&amp; array[row][col - 1] == num) {\n        array[row][col - 1] = 0;\n        destroyAdjacentNumbers(array, row, col - 1, num);\n      }\n\n      if (col &lt; array[row].length - 1 &amp;&amp; array[row][col + 1] == num) {\n        array[row][col + 1] = 0;\n        destroyAdjacentNumbers(array, row, col + 1, num);\n      }\n\n      return array;\n    }\n    \n    public static void numberShot(int number) {\n        System.out.println(&quot;The number that is going to be shot is &quot; + &quot; --- &quot; + number + &quot; --- &quot; );\n\n    }\n    \n    public static String gameOver(int[][] array) {\n      boolean hasEmpty = false;\n      boolean hasNonEmpty = false;\n      for (int i = 0; i &lt; array.length; i++) {\n       for (int j = 0; j &lt; array[i].length; j++) {\n          if (array[i][j] == 0) {\n          hasEmpty = true;\n        }    else {\n          hasNonEmpty = true;\n        }\n       }\n      }\n      if (hasEmpty &amp;&amp; hasNonEmpty) {\n         \n          \n    \n         return &quot;GAME CONTINUES&quot;;\n      } else if (hasEmpty) {\n         clearConsole();\n          \n         return &quot;CONGRATULATIONS, YOU WON THE GAME!&quot;;\n      } else {\n         clearConsole();\n          \n         return &quot;YOU LOST THE GAME!&quot;;\n      }\n    }\n    \n    public static int[][] deleteIslandBoard(int[][] array) {\n      // Create a boolean array to track which cells have been visited\n      boolean[][] visited = new boolean[array.length][array[0].length];\n    \n      // Iterate \n      for (int i = 0; i &lt; array.length; i++) {\n        for (int j = 0; j &lt; array[0].length; j++) {\n            // If the cell is not visited and is part of an island\n            if (!visited[i][j] &amp;&amp; array[i][j] != 0) {\n                // Delete the island by setting all cells to 0\n                deleteIsland(array, i, j, visited);\n            }\n        }\n      }\n      // Return the modified array\n      return array;\n    }\n\n    public static void deleteIsland(int[][] array, int i, int j, boolean[][] visited) {\n      // Check if the current cell is out of board or if it has already been visited\n      if (i &lt; 0 || i &gt;= array.length || j &lt; 0 || j &gt;= array[0].length || visited[i][j]) {\n        return;\n      }\n      // Mark the current cell as visited\n      visited[i][j] = true; // If the current cell is part of the island, set it to 0\n      if (array[i][j] != 0) {\n        array[i][j] = 0;\n        // Recursively delete the neighboring cells that are part of the island\n        deleteIsland(array, i - 1, j, visited);\n        deleteIsland(array, i + 1, j, visited);\n        deleteIsland(array, i, j - 1, visited);\n        deleteIsland(array, i, j + 1, visited);\n      }\n    }\n    \n    public class Island implements Comparable&lt;Island&gt; {\n        private List&lt;int[]&gt; cells = new ArrayList&lt;&gt;();\n        \n        public void addCell(int[] cell) {\n            cells.add(cell);\n        }\n        \n        public void destroy() {\n            cells.forEach(cell -&gt; grid[cell[0]][cell[1]] = 0);\n        }\n        \n        @Override\n        public int compareTo(Island other) {\n            return Integer.compare(cells.size(), other.cells.size());\n        }\n    }\n    \n    public void deleteIslandBoard2() {\n        exploreIslands();\n        deleteSmallerIslands();\n    }\n    \n    public void exploreIslands() {\n        boolean[][] visited = new boolean[grid.length][grid[0].length];\n        \n        for (int i = 0; i &lt; grid.length; i++) {\n            for (int j = 0; j &lt; grid[0].length; j++) {\n                \n                if (!visited[i][j] &amp;&amp; grid[i][j] != 0) { // if a New Island was found\n                    exploreIsland(new int[]{i, j}, visited); // explore the Island, i.e. index all its cell and mark them as visited\n                }\n            }\n        }\n    }\n    \n    /**\n     * Depth first search implementation\n     */\n    public void exploreIsland(int[] cell, boolean[][] visited) {\n        Island island = new Island();\n        islands.add(island); // updating the list of Islands\n        \n        Deque&lt;int[]&gt; stack = new ArrayDeque&lt;&gt;();\n        stack.push(cell);\n        \n        while (!stack.isEmpty()) {\n            int[] next = stack.poll();\n            island.addCell(next);\n            \n            for (int[] shift : NEIGHBOURS) {\n                int row = next[0] + shift[0];\n                int col = next[1] + shift[1];\n                \n                if (isValid(row, col) &amp;&amp; !visited[row][col]) { // if cell exist, non-zero and not visited yet\n                    stack.push(new int[]{row, col});\n                    visited[row][col] = true;\n                }\n            }\n        }\n    }\n    \n    public boolean isValid(int row, int col) {\n        return row &gt;= 0 &amp;&amp; row &lt; grid.length\n            &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; grid[0].length\n            &amp;&amp; grid[row][col] != 0;\n    }\n    \n    public void deleteSmallerIslands() {\n        if (islands.isEmpty()) return; // otherwise Collections.max() would throw NoSuchElementException\n\n        \n        Island largest = Collections.max(islands);\n        for (Island next : islands) {\n            if (next != largest) next.destroy();\n        }\n    }\n    \n    public void printGrid() {\n        for (int i = 0; i &lt; grid.length; i++) {\n            for (int j = 0; j &lt; grid[i].length; j++) {\n                System.out.print(grid[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p><strong>Most of this code shouldn't matter, just the methods that print stuff!!!!!!!!!!!!!!!</strong></p>\n"},{"tags":["java","bufferedreader","filereader","avl-tree","word-frequency"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1679270544,"post_id":75785673,"comment_id":133686380,"body_markdown":"How do you run the program? Do you use a console command? Do you run it in an IDE?  Have you tried putting the file in the same subdirectory (folder) where the program is run?","body":"How do you run the program? Do you use a console command? Do you run it in an IDE?  Have you tried putting the file in the same subdirectory (folder) where the program is run?"},{"owner":{"account_id":24341442,"reputation":13,"user_id":18278800,"display_name":"WilfullMurder"},"score":1,"creation_date":1679271010,"post_id":75785673,"comment_id":133686429,"body_markdown":"I&#39;m new here but this looks like it might help you out! https://stackoverflow.com/questions/22585621/the-filereader-cannot-find-my-text-file","body":"I&#39;m new here but this looks like it might help you out! <a href=\"https://stackoverflow.com/questions/22585621/the-filereader-cannot-find-my-text-file\" title=\"the filereader cannot find my text file\">stackoverflow.com/questions/22585621/&hellip;</a>"}],"owner":{"account_id":25539081,"reputation":41,"user_id":19325537,"display_name":"eshtabel3asal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679270641,"creation_date":1679270312,"question_id":75785673,"body_markdown":"new java developer. \r\nthis code isn&#39;t working. it keeps generating this error: `java.io.FileNotFoundException: file1.txt (No such file or directory)` even though the file is in the same folder (src) as the java classes\r\n\r\nmy program is supposed to count the word frequency of words in a txt file. I&#39;m trying to read through the txt file, and put each word into a node of an AVL tree, along with the frequency of the word in the txt file so each node would look like this: (&quot;word&quot;, 5). this is the code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.util.Comparator;\r\n    import java.util.PriorityQueue;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    \r\n    public class FindKeyWordsInFile {\r\n    \t\r\n    \t//public AVLTree.Node root;\r\n            \r\n        public static void main(String[] args) {\r\n            if (args.length != 3) {\r\n                System.err.println(&quot;Usage: java FindKeyWordsInFile k file.txt MostFrequentEnglishWords.txt&quot;);\r\n                System.exit(1);\r\n            }\r\n    \r\n            int k = Integer.parseInt(args[0]);\r\n            String inputFileName = args[1];\r\n            String englishWordsFileName = args[2];\r\n            \r\n            AVLTree&lt;String, Integer&gt; wordFrequencies = new AVLTree&lt;&gt;();\r\n            AVLTree&lt;String, Void&gt; englishWords = new AVLTree&lt;&gt;();\r\n            AVLTree&lt;String, Integer&gt; keywordFrequencies = new AVLTree&lt;&gt;();\r\n            \r\n            try {     \t\r\n            \tBufferedReader reader = new BufferedReader(new FileReader(&quot;file1.txt&quot;));\r\n                String line = reader.readLine();\r\n                while (line != null) {\r\n                    String[] words = line.split(&quot;\\\\s+&quot;);\r\n                    for (String word : words) {\r\n                        // Remove punctuation and convert to lower case\r\n                        String cleanedWord = word.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;).toLowerCase();\r\n                        if (cleanedWord.length() &gt; 0) {\r\n                            Integer frequency = wordFrequencies.get(cleanedWord);\r\n                            if (frequency == null) {\r\n                                frequency = 0;\r\n                            }\r\n                            wordFrequencies.put(cleanedWord, frequency + 1);\r\n                        }\r\n                    }\r\n                    line = reader.readLine();\r\n                }\r\n                reader.close();\r\n\r\n","title":"how can I read from txt file into AVL tree in java? error FileNotFoundException","body":"<p>new java developer.\nthis code isn't working. it keeps generating this error: <code>java.io.FileNotFoundException: file1.txt (No such file or directory)</code> even though the file is in the same folder (src) as the java classes</p>\n<p>my program is supposed to count the word frequency of words in a txt file. I'm trying to read through the txt file, and put each word into a node of an AVL tree, along with the frequency of the word in the txt file so each node would look like this: (&quot;word&quot;, 5). this is the code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.util.Comparator;\nimport java.util.PriorityQueue;\nimport java.io.IOException;\n\n\n\npublic class FindKeyWordsInFile {\n    \n    //public AVLTree.Node root;\n        \n    public static void main(String[] args) {\n        if (args.length != 3) {\n            System.err.println(&quot;Usage: java FindKeyWordsInFile k file.txt MostFrequentEnglishWords.txt&quot;);\n            System.exit(1);\n        }\n\n        int k = Integer.parseInt(args[0]);\n        String inputFileName = args[1];\n        String englishWordsFileName = args[2];\n        \n        AVLTree&lt;String, Integer&gt; wordFrequencies = new AVLTree&lt;&gt;();\n        AVLTree&lt;String, Void&gt; englishWords = new AVLTree&lt;&gt;();\n        AVLTree&lt;String, Integer&gt; keywordFrequencies = new AVLTree&lt;&gt;();\n        \n        try {       \n            BufferedReader reader = new BufferedReader(new FileReader(&quot;file1.txt&quot;));\n            String line = reader.readLine();\n            while (line != null) {\n                String[] words = line.split(&quot;\\\\s+&quot;);\n                for (String word : words) {\n                    // Remove punctuation and convert to lower case\n                    String cleanedWord = word.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;).toLowerCase();\n                    if (cleanedWord.length() &gt; 0) {\n                        Integer frequency = wordFrequencies.get(cleanedWord);\n                        if (frequency == null) {\n                            frequency = 0;\n                        }\n                        wordFrequencies.put(cleanedWord, frequency + 1);\n                    }\n                }\n                line = reader.readLine();\n            }\n            reader.close();\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1356019653,"post_id":13975990,"comment_id":19283499,"body_markdown":"what is AsynkTask().start ?","body":"what is AsynkTask().start ?"},{"owner":{"account_id":1413289,"reputation":4397,"user_id":1339473,"accept_rate":35,"display_name":"QuokMoon"},"score":0,"creation_date":1356019883,"post_id":13975990,"comment_id":19283590,"body_markdown":"what you want simply intent .. ? parse intent..","body":"what you want simply intent .. ? parse intent.."},{"owner":{"account_id":1581029,"reputation":7110,"user_id":1466415,"display_name":"eyal-lezmy"},"score":0,"creation_date":1375881585,"post_id":13975990,"comment_id":26503363,"body_markdown":"Igor, can you tell me on what device you find this problem? I can reproduce it only on Genymotion emulator but not on any other devices (S3, S4, Galaxy Nexus running 4.0.4, Nexus 7 running 4.3)","body":"Igor, can you tell me on what device you find this problem? I can reproduce it only on Genymotion emulator but not on any other devices (S3, S4, Galaxy Nexus running 4.0.4, Nexus 7 running 4.3)"},{"owner":{"account_id":2320529,"reputation":4829,"user_id":2036397,"accept_rate":33,"display_name":"ErstwhileIII"},"score":0,"creation_date":1394503751,"post_id":13975990,"comment_id":33909537,"body_markdown":"Is this question still active?","body":"Is this question still active?"},{"owner":{"account_id":1752317,"reputation":212,"user_id":1601128,"accept_rate":45,"display_name":"Dan"},"score":0,"creation_date":1407358969,"post_id":13975990,"comment_id":39189118,"body_markdown":"could it have anything to do with calling the method onNewIntent from within itself?","body":"could it have anything to do with calling the method onNewIntent from within itself?"}],"answers":[{"tags":[],"owner":{"account_id":2939372,"reputation":482,"user_id":2517621,"display_name":"Pamir Cevikogullari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408999165,"creation_date":1408997733,"answer_id":25493673,"question_id":13975990,"body_markdown":"    Intent intent = new Intent(WebTestActivity.this, MainActivity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);                  \r\n    intent.putExtra(&quot;url&quot;,url);\r\n    startActivity(intent)\r\n\r\nIn MainActivity; \r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n              \r\n        Bundle extras = getIntent().getExtras();\r\n        String url = extras.getString(url);\r\n        \r\n    }\r\n\r\nThen, you can parse the url and use as Uri. By this way, method will not be called twice.","title":"Why is the onNewIntent(Intent intent) method getting called twice?","body":"<pre><code>Intent intent = new Intent(WebTestActivity.this, MainActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);                  \nintent.putExtra(\"url\",url);\nstartActivity(intent)\n</code></pre>\n\n<p>In MainActivity; </p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    Bundle extras = getIntent().getExtras();\n    String url = extras.getString(url);\n\n}\n</code></pre>\n\n<p>Then, you can parse the url and use as Uri. By this way, method will not be called twice.</p>\n"},{"tags":[],"owner":{"account_id":2297872,"reputation":2063,"user_id":2018885,"accept_rate":80,"display_name":"Stefaan Neyts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409001315,"creation_date":1409001315,"answer_id":25494479,"question_id":13975990,"body_markdown":"onNewIntent(Intent intent)\r\nThis is called for activities that set launchMode to &quot;singleTop&quot; in their package, or if a client used the FLAG_ACTIVITY_SINGLE_TOP flag when calling startActivity(Intent).\r\n\r\nIf it is called twice, it must have been called unintendedly: starting the activity twice? Or manually calling the method?","title":"Why is the onNewIntent(Intent intent) method getting called twice?","body":"<p>onNewIntent(Intent intent)\nThis is called for activities that set launchMode to \"singleTop\" in their package, or if a client used the FLAG_ACTIVITY_SINGLE_TOP flag when calling startActivity(Intent).</p>\n\n<p>If it is called twice, it must have been called unintendedly: starting the activity twice? Or manually calling the method?</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679268452,"creation_date":1679268452,"answer_id":75785573,"question_id":13975990,"body_markdown":"If you have Navigation library you should check that an activity is not created twice. See also https://stackoverflow.com/questions/61951850/android-navigation-components-with-deep-link-onnewintent-called-multiple-times. In my case one fragment called Back command (return to main flow after authorization), that finished the activity and created it again. After `onCreate` `onNewIntent` was called with empty intent.\r\n\r\nThen I replaced Back command with `findNavController().popBackStack()`.","title":"Why is the onNewIntent(Intent intent) method getting called twice?","body":"<p>If you have Navigation library you should check that an activity is not created twice. See also <a href=\"https://stackoverflow.com/questions/61951850/android-navigation-components-with-deep-link-onnewintent-called-multiple-times\">Android navigation components with deep link: onNewIntent called multiple times</a>. In my case one fragment called Back command (return to main flow after authorization), that finished the activity and created it again. After <code>onCreate</code> <code>onNewIntent</code> was called with empty intent.</p>\n<p>Then I replaced Back command with <code>findNavController().popBackStack()</code>.</p>\n"}],"owner":{"account_id":950085,"reputation":2784,"user_id":1356124,"accept_rate":54,"display_name":"Igor Kostenko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3292,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1679268452,"creation_date":1356019272,"question_id":13975990,"body_markdown":"I start a new activity with two parameters.\r\n\r\n```lang-java\r\nIntent intent = new Intent(WebTestActivity.this, MainActivity.class);\r\nintent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);\t\t\t\t\t\r\nUri uri =  Uri.parse(url);\r\nintent.setData(uri);\r\nstartActivity(intent);\r\n```\r\n\r\nAnd catch `uri` in `onNewIntent` method.\r\n\r\n```lang-java\r\n@Override\r\npublic void onNewIntent(Intent intent) {  //calls twice\r\n    super.onNewIntent(intent);\t\t\r\n\tUri uri = intent.getData();\r\n\tnew AsynkTask().execute(uri);\r\n}\r\n```\r\n\r\nBut the `onNewIntent` method is called twice for some unknown reason which doesn&#39;t seem to be right.","title":"Why is the onNewIntent(Intent intent) method getting called twice?","body":"<p>I start a new activity with two parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(WebTestActivity.this, MainActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);                  \nUri uri =  Uri.parse(url);\nintent.setData(uri);\nstartActivity(intent);\n</code></pre>\n<p>And catch <code>uri</code> in <code>onNewIntent</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onNewIntent(Intent intent) {  //calls twice\n    super.onNewIntent(intent);      \n    Uri uri = intent.getData();\n    new AsynkTask().execute(uri);\n}\n</code></pre>\n<p>But the <code>onNewIntent</code> method is called twice for some unknown reason which doesn't seem to be right.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1632322415,"post_id":69286475,"comment_id":122461839,"body_markdown":"Highly unclear but I&#39;d definitely start by _not_ using raw `List`s (also the `new String()` instantiation idiom is a code smell - if you need a non-`null` default value just use `&quot;&quot;`)","body":"Highly unclear but I&#39;d definitely start by <i>not</i> using raw <code>List</code>s (also the <code>new String()</code> instantiation idiom is a code smell - if you need a non-<code>null</code> default value just use <code>&quot;&quot;</code>)"},{"owner":{"account_id":11330140,"reputation":177,"user_id":8307920,"display_name":"Grzegorz"},"score":0,"creation_date":1632326665,"post_id":69286475,"comment_id":122463899,"body_markdown":"Hi, Instead of ```private ArrayList userID;``` try to use ```private ArrayList&lt;Integer&gt; userID;```  or use Object instead of Integer, or what you have inside the list","body":"Hi, Instead of <code>private ArrayList userID;</code> try to use <code>private ArrayList&lt;Integer&gt; userID;</code>  or use Object instead of Integer, or what you have inside the list"}],"answers":[{"tags":[],"owner":{"account_id":22806414,"reputation":3,"user_id":16958403,"display_name":"Huzaifa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632390589,"creation_date":1632387425,"answer_id":69296958,"question_id":69286475,"body_markdown":"As was noted in [this comment][1]: \r\n\r\nInstead of `private ArrayList userID;` try to use `private ArrayList&lt;Integer&gt; userID;` or use `Object` instead of `Integer`, or what you have inside the list\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69286475/class-java-util-arraylist-has-generic-type-parameters-please-use-generictypeind/69296958#comment122463899_69286475","title":"Class java.util.ArrayList has generic type parameters, please use GenericTypeIndicator instead","body":"<p>As was noted in <a href=\"https://stackoverflow.com/questions/69286475/class-java-util-arraylist-has-generic-type-parameters-please-use-generictypeind/69296958#comment122463899_69286475\">this comment</a>:</p>\n<p>Instead of <code>private ArrayList userID;</code> try to use <code>private ArrayList&lt;Integer&gt; userID;</code> or use <code>Object</code> instead of <code>Integer</code>, or what you have inside the list</p>\n"},{"tags":[],"owner":{"account_id":16837908,"reputation":1,"user_id":12174016,"display_name":"Pinheiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679266337,"creation_date":1679266337,"answer_id":75785419,"question_id":69286475,"body_markdown":"Was having the same problem in my class, using *.toObject(MyClass.class)*\r\n\r\nThe problem was on my ArrayList of the HashMap that was within the HashMap: \r\n\r\n    HashMap&lt;String, HashMap&lt;String, ArrayList&gt;&gt;\r\n\r\nThe problem was easily fixed by converting the ArrayList to the following (in my case to Integer):\r\n\r\n    HashMap&lt;String, HashMap&lt;String, ArrayList&lt;Integer&gt;&gt;&gt;\r\n\r\n**Note that the class I&#39;m using (MyClass.class) to make the &quot;.toObject()&quot; is implementing Serialization**","title":"Class java.util.ArrayList has generic type parameters, please use GenericTypeIndicator instead","body":"<p>Was having the same problem in my class, using <em>.toObject(MyClass.class)</em></p>\n<p>The problem was on my ArrayList of the HashMap that was within the HashMap:</p>\n<pre><code>HashMap&lt;String, HashMap&lt;String, ArrayList&gt;&gt;\n</code></pre>\n<p>The problem was easily fixed by converting the ArrayList to the following (in my case to Integer):</p>\n<pre><code>HashMap&lt;String, HashMap&lt;String, ArrayList&lt;Integer&gt;&gt;&gt;\n</code></pre>\n<p><strong>Note that the class I'm using (MyClass.class) to make the &quot;.toObject()&quot; is implementing Serialization</strong></p>\n"}],"owner":{"account_id":22806414,"reputation":3,"user_id":16958403,"display_name":"Huzaifa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679266337,"creation_date":1632321764,"question_id":69286475,"body_markdown":"`datasnapshot.getvalue(Event.class)` is not accessing `ArrayList` from `Event.java` please resolve this issue\r\n\r\n\r\n**Code:**\r\n\r\n     for (int a= 0; a&lt;idd.size(); a++){\r\n                        if (idd.get(a).equals(userId)){\r\n\r\n                            System.out.println(&quot;AAAAAAAABBBBBBBBB&quot;);\r\n                            Event event = dataSnapshot.getValue(Event.class);\r\n                            System.out.println(&quot;AAAAA5555555&quot;);\r\n                            list.add(event);\r\n                        }\r\n                    }\r\n&#39;Here is the java class with ArrayList which is accessing by mainActivity &#39;\r\n\r\n\r\n**Event.java:**\r\n\r\n\r\n        public class Event {\r\n        private String name, startDate, endDate, mode;\r\n        private ArrayList userID;\r\n        public Event() {\r\n            userID = new ArrayList();\r\n            this.name = new String();\r\n            this.startDate = new String();\r\n            this.endDate = new String();\r\n            this.mode = new String();\r\n    \r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getStartDate() {\r\n            return startDate;\r\n        }\r\n    \r\n        public void setStartDate(String startDate) {\r\n            this.startDate = startDate;\r\n        }\r\n    \r\n        public String getEndDate() {\r\n            return endDate;\r\n        }\r\n    \r\n        public void setEndDate(String endDate) {\r\n            this.endDate = endDate;\r\n        }\r\n    \r\n        public String getMode() {\r\n            return mode;\r\n        }\r\n    \r\n        public void setMode(String spinner) {\r\n            this.mode = spinner;\r\n        }\r\n    \r\n        public ArrayList getUserID() {\r\n            return userID;\r\n        }\r\n    \r\n        public void setUserID(ArrayList userID) {\r\n            this.userID = userID;\r\n        }\r\n    }\r\n\r\n\r\n\r\n**Here is the Error and app also crashes**\r\n\r\n \r\n\r\n    com.google.firebase.database.DatabaseException: Class java.util.ArrayList has generic type parameters, please use GenericTypeIndicator instead\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:224)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\r\n\r\n","title":"Class java.util.ArrayList has generic type parameters, please use GenericTypeIndicator instead","body":"<p><code>datasnapshot.getvalue(Event.class)</code> is not accessing <code>ArrayList</code> from <code>Event.java</code> please resolve this issue</p>\n<p><strong>Code:</strong></p>\n<pre><code> for (int a= 0; a&lt;idd.size(); a++){\n                    if (idd.get(a).equals(userId)){\n\n                        System.out.println(&quot;AAAAAAAABBBBBBBBB&quot;);\n                        Event event = dataSnapshot.getValue(Event.class);\n                        System.out.println(&quot;AAAAA5555555&quot;);\n                        list.add(event);\n                    }\n                }\n</code></pre>\n<p>'Here is the java class with ArrayList which is accessing by mainActivity '</p>\n<p><strong>Event.java:</strong></p>\n<pre><code>    public class Event {\n    private String name, startDate, endDate, mode;\n    private ArrayList userID;\n    public Event() {\n        userID = new ArrayList();\n        this.name = new String();\n        this.startDate = new String();\n        this.endDate = new String();\n        this.mode = new String();\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getStartDate() {\n        return startDate;\n    }\n\n    public void setStartDate(String startDate) {\n        this.startDate = startDate;\n    }\n\n    public String getEndDate() {\n        return endDate;\n    }\n\n    public void setEndDate(String endDate) {\n        this.endDate = endDate;\n    }\n\n    public String getMode() {\n        return mode;\n    }\n\n    public void setMode(String spinner) {\n        this.mode = spinner;\n    }\n\n    public ArrayList getUserID() {\n        return userID;\n    }\n\n    public void setUserID(ArrayList userID) {\n        this.userID = userID;\n    }\n}\n</code></pre>\n<p><strong>Here is the Error and app also crashes</strong></p>\n<pre><code>com.google.firebase.database.DatabaseException: Class java.util.ArrayList has generic type parameters, please use GenericTypeIndicator instead\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:224)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\n</code></pre>\n"},{"tags":["java","multithreading","design-patterns","reactor"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":3,"creation_date":1352129777,"post_id":13235312,"comment_id":18030074,"body_markdown":"Please provide links to the references that you are talking about.","body":"Please provide links to the references that you are talking about."},{"owner":{"account_id":1839724,"reputation":467,"user_id":1669389,"accept_rate":57,"display_name":"Jon"},"score":0,"creation_date":1352132128,"post_id":13235312,"comment_id":18031271,"body_markdown":"http://en.wikipedia.org/wiki/Reactor_pattern","body":"<a href=\"http://en.wikipedia.org/wiki/Reactor_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Reactor_pattern</a>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1352132203,"post_id":13235312,"comment_id":18031295,"body_markdown":"I see nothing about &quot;worker threads&quot; on that site @Jon.","body":"I see nothing about &quot;worker threads&quot; on that site @Jon."},{"owner":{"account_id":1839724,"reputation":467,"user_id":1669389,"accept_rate":57,"display_name":"Jon"},"score":0,"creation_date":1352132423,"post_id":13235312,"comment_id":18031403,"body_markdown":"Right, but that was just for the reactor pattern, here is another http://today.java.net/pub/a/today/2007/02/13/architecture-of-highly-scalable-nio-server.html","body":"Right, but that was just for the reactor pattern, here is another <a href=\"http://today.java.net/pub/a/today/2007/02/13/architecture-of-highly-scalable-nio-server.html\" rel=\"nofollow noreferrer\">today.java.net/pub/a/today/2007/02/13/&hellip;</a>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1352132659,"post_id":13235312,"comment_id":18031529,"body_markdown":"Ok, right.  In that link it shows that either you can define a thread attached to a particular thread or you can use a thread-pool where jobs can be submitted to the pool.  The worker threads in the pool can run different types of jobs.  But the article uses the term &quot;worker threads&quot; liberally there to just be threads.","body":"Ok, right.  In that link it shows that either you can define a thread attached to a particular thread or you can use a thread-pool where jobs can be submitted to the pool.  The worker threads in the pool can run different types of jobs.  But the article uses the term &quot;worker threads&quot; liberally there to just be threads."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1412603363,"post_id":13235312,"comment_id":41116837,"body_markdown":"Good answers below, but I think they leave out one point:  There is _no difference_ between how a &quot;worker thread&quot; is implemented and how any other thread is implemented.  The only difference is the code that they execute.  We call them &quot;worker threads&quot; because they wait for work.  That&#39;s all.","body":"Good answers below, but I think they leave out one point:  There is <i>no difference</i> between how a &quot;worker thread&quot; is implemented and how any other thread is implemented.  The only difference is the code that they execute.  We call them &quot;worker threads&quot; because they wait for work.  That&#39;s all."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1679265996,"creation_date":1352129849,"answer_id":13235367,"question_id":13235312,"body_markdown":"&gt; What are worker threads, and what is their role in the reactor pattern?\r\n\r\nI assume you are talking about something [like this documentation on thread-pools][1]:\r\n\r\n&gt; Most of the executor implementations in java.util.concurrent use thread pools, which consist of *worker threads*. This kind of thread exists separately from the Runnable and Callable tasks it executes and is often used to execute multiple tasks.\r\n\r\nWorker threads are normal threads but they exist separate from the `Runnable` or `Callable` classes that they work on.  If you extend `Thread` or you construct a `Thread` with a `Runnable` argument, the task is tied to the `Thread` object directly.\r\n\r\nWhen you create a thread-pool using `Executors.newFixedThreadPool(10)` (or other similar methods), you create a pool of threads that can run any number of different `Runnable` or `Callable` classes that are submitted to the pool.  Underneath the covers they are still a `Thread` just more flexible because of the way they are wrapped.\r\n\r\nIn terms of the [reactor pattern][2], different types of events are run by the handler threads which is similar.  A thread is not tied to a single event class but will run any number of different events as they occur.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\r\n  [2]: http://en.wikipedia.org/wiki/Reactor_pattern","title":"What are worker threads, and what is their role in the reactor pattern?","body":"<blockquote>\n<p>What are worker threads, and what is their role in the reactor pattern?</p>\n</blockquote>\n<p>I assume you are talking about something <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\" rel=\"nofollow noreferrer\">like this documentation on thread-pools</a>:</p>\n<blockquote>\n<p>Most of the executor implementations in java.util.concurrent use thread pools, which consist of <em>worker threads</em>. This kind of thread exists separately from the Runnable and Callable tasks it executes and is often used to execute multiple tasks.</p>\n</blockquote>\n<p>Worker threads are normal threads but they exist separate from the <code>Runnable</code> or <code>Callable</code> classes that they work on.  If you extend <code>Thread</code> or you construct a <code>Thread</code> with a <code>Runnable</code> argument, the task is tied to the <code>Thread</code> object directly.</p>\n<p>When you create a thread-pool using <code>Executors.newFixedThreadPool(10)</code> (or other similar methods), you create a pool of threads that can run any number of different <code>Runnable</code> or <code>Callable</code> classes that are submitted to the pool.  Underneath the covers they are still a <code>Thread</code> just more flexible because of the way they are wrapped.</p>\n<p>In terms of the <a href=\"http://en.wikipedia.org/wiki/Reactor_pattern\" rel=\"nofollow noreferrer\">reactor pattern</a>, different types of events are run by the handler threads which is similar.  A thread is not tied to a single event class but will run any number of different events as they occur.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1352130106,"creation_date":1352130106,"answer_id":13235440,"question_id":13235312,"body_markdown":"The [Reactor pattern][1] is used with worker threads to overcome a common scenario in applications: You need to do a lot of work eventually but you don&#39;t know which work and when and creating threads is an expensive operation.\r\n\r\nThe idea is that you create a lot of threads which don&#39;t do anything at first. Instead, they &quot;wait for work&quot;. When work arrives (in the form of code), some kind of executor service (the reactor) identifies idle threads from the pool and assigns them work to do.\r\n\r\nThat way, you can pay the price to create all the threads once (and not every time some work has to be done). At the same time, your threads are generic; they will do whatever work is assigned to them instead of being specialized to do something specific.\r\n\r\nFor an implementation, look at [thread pools][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reactor_pattern\r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html","title":"What are worker threads, and what is their role in the reactor pattern?","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/Reactor_pattern\">Reactor pattern</a> is used with worker threads to overcome a common scenario in applications: You need to do a lot of work eventually but you don't know which work and when and creating threads is an expensive operation.</p>\n\n<p>The idea is that you create a lot of threads which don't do anything at first. Instead, they \"wait for work\". When work arrives (in the form of code), some kind of executor service (the reactor) identifies idle threads from the pool and assigns them work to do.</p>\n\n<p>That way, you can pay the price to create all the threads once (and not every time some work has to be done). At the same time, your threads are generic; they will do whatever work is assigned to them instead of being specialized to do something specific.</p>\n\n<p>For an implementation, look at <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\">thread pools</a>.</p>\n"}],"owner":{"account_id":1839724,"reputation":467,"user_id":1669389,"accept_rate":57,"display_name":"Jon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29703,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":13235440,"answer_count":2,"score":31,"last_activity_date":1679265996,"creation_date":1352129673,"question_id":13235312,"body_markdown":"I&#39;m trying to understand the Reactor pattern (concurrent), but in many examples they are talking about &#39;worker threads&#39;. What are worker threads? In what way do they differ from &#39;normal&#39; threads? And what is their role in the reactor pattern?","title":"What are worker threads, and what is their role in the reactor pattern?","body":"<p>I'm trying to understand the Reactor pattern (concurrent), but in many examples they are talking about 'worker threads'. What are worker threads? In what way do they differ from 'normal' threads? And what is their role in the reactor pattern?</p>\n"},{"tags":["java","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":1,"creation_date":1679280936,"post_id":75785021,"comment_id":133687415,"body_markdown":"Maybe you could try to release a new jar from that project with the source available for publishing and use it.","body":"Maybe you could try to release a new jar from that project with the source available for publishing and use it."}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679265933,"creation_date":1679265933,"answer_id":75785386,"question_id":75785021,"body_markdown":"Your main problem is that Kotlin compiles down to byte code that cannot often be turned back into either Java or Kotlin.\r\n\r\nDespite not having the source, the debugger will still step through the code, just you may not have a valid source.  Often I find that you can still deduce what the code is doing from the method names (which will be available in the Stack) and the arguments available and a copy of the source at earlier/later point given that code changes are often small.\r\n\r\nAnother idea: given\r\n\r\n&gt; The project from which the jar was built is available\r\n\r\nunzip the jar file and you&#39;ll find all the .class files will have nearly the same datetime, from the point the artefact was made.  Could you use *this* to find the closest commit in the project source code control and wind the HEAD of the project back to the point that may represent the point at which the jar file was produced?  (This can get tricky a feature branch was merged into master).","title":"Debugging kotlin jars","body":"<p>Your main problem is that Kotlin compiles down to byte code that cannot often be turned back into either Java or Kotlin.</p>\n<p>Despite not having the source, the debugger will still step through the code, just you may not have a valid source.  Often I find that you can still deduce what the code is doing from the method names (which will be available in the Stack) and the arguments available and a copy of the source at earlier/later point given that code changes are often small.</p>\n<p>Another idea: given</p>\n<blockquote>\n<p>The project from which the jar was built is available</p>\n</blockquote>\n<p>unzip the jar file and you'll find all the .class files will have nearly the same datetime, from the point the artefact was made.  Could you use <em>this</em> to find the closest commit in the project source code control and wind the HEAD of the project back to the point that may represent the point at which the jar file was produced?  (This can get tricky a feature branch was merged into master).</p>\n"}],"owner":{"account_id":1083037,"reputation":4332,"user_id":1079483,"accept_rate":64,"display_name":"Sebi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679265933,"creation_date":1679261217,"question_id":75785021,"body_markdown":"Is there a way to step into a function in an imported jar in kotlin?\r\n\r\nContext: a project makes use of a number of jar files, when instantiating an imported object and calling one of its methods the debugger is unable to go the implementation of said method (the object is an instance of a class implementing one or more interfaces). \r\n\r\nIn intellij idea (2023, eap), Ctrl + left click goes to the (kotlin) interface and not the implementation. When clicking decompile class to java, java code is produced but it&#39;s useless in that it cannot be stepped into at runtime. \r\n\r\nThe project from which the jar was built is available; however the branch/commit from which it was generated is not (there are several branches and a lot of derelict code). \r\n\r\nSerialization and reflection come to mind but is there a more convenient way?","title":"Debugging kotlin jars","body":"<p>Is there a way to step into a function in an imported jar in kotlin?</p>\n<p>Context: a project makes use of a number of jar files, when instantiating an imported object and calling one of its methods the debugger is unable to go the implementation of said method (the object is an instance of a class implementing one or more interfaces).</p>\n<p>In intellij idea (2023, eap), Ctrl + left click goes to the (kotlin) interface and not the implementation. When clicking decompile class to java, java code is produced but it's useless in that it cannot be stepped into at runtime.</p>\n<p>The project from which the jar was built is available; however the branch/commit from which it was generated is not (there are several branches and a lot of derelict code).</p>\n<p>Serialization and reflection come to mind but is there a more convenient way?</p>\n"},{"tags":["java","javafx","tableview","textfield","scene"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1679269485,"post_id":75785385,"comment_id":133686275,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1679273140,"post_id":75785385,"comment_id":133686641,"body_markdown":"Maybe the ideas from [here](https://stackoverflow.com/questions/50653235/show-tableview-data-into-another-window-contains-textfield-in-javafx/50653518#50653518) or [here](https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730) can help.","body":"Maybe the ideas from <a href=\"https://stackoverflow.com/questions/50653235/show-tableview-data-into-another-window-contains-textfield-in-javafx/50653518#50653518\">here</a> or <a href=\"https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730\">here</a> can help."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679280513,"post_id":75785385,"comment_id":133687371,"body_markdown":"Just [pass the selected value to the new controller](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml)","body":"Just <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">pass the selected value to the new controller</a>"}],"owner":{"account_id":26996139,"reputation":1,"user_id":20558220,"display_name":"Anthony Collins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679280521,"answer_count":0,"score":0,"last_activity_date":1679265898,"creation_date":1679265898,"question_id":75785385,"body_markdown":"I have a Main page in java FX with a table view that is populated with an observable list\r\nof a class titled Parts.\r\n\r\n\r\nI want to be able to select a row on this table and press the modify button.\r\npressing the modify button switches to the &quot;modify Part Scene&quot; which has TextFields for the various parameters of the part; name, cost, inventory, min and max quantity.\r\n\r\nI want the part I had selected in the Main scene to be populated in the modify part scene TextFields.\r\n\r\nI can&#39;t figure out how to have the &quot;Part&quot; I selected transfer to the Modify part Scene.\r\n\r\nI have tried having the Modify part Controller extend the Main controller class and implement the Initializable interface, then override the Initialize method on the part modifier controller  to take \r\n```\r\n&quot; @FXML TextField name;\r\n    @FXML TextField inventory;\r\n    @FXML TextField price;\r\n    @FXML TextField min;\r\n    @FXML TextField max;\r\n\r\n    public void initialize (URL url, ResourceBundle resourceBundle){\r\n        name.setText(partTableView.getSelectionModel().getSelectedItem().getName());\r\n\r\n    }&quot;\r\n```\r\n\r\n```\r\nbut I get the warning  \r\n&quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TableView.getSelectionModel()&quot; because &quot;this.partTableView&quot; is nullat com.example.InventoryManager/com.example.InventoryManager.ModifyPartController.initialize(ModifyPartController.java:40)&quot;\r\n```\r\n\r\nbecause the selection on the main scene isn&#39;t carried over when the scene switches.\r\nim not sure how I am supposed to get the selected part transferred to the next scene and I need it to be the same instance of the selected part from the observable list so that when I save the modification the selected part is updated in the list.","title":"getting a selected row from a TableView to populate TextFields in another scene","body":"<p>I have a Main page in java FX with a table view that is populated with an observable list\nof a class titled Parts.</p>\n<p>I want to be able to select a row on this table and press the modify button.\npressing the modify button switches to the &quot;modify Part Scene&quot; which has TextFields for the various parameters of the part; name, cost, inventory, min and max quantity.</p>\n<p>I want the part I had selected in the Main scene to be populated in the modify part scene TextFields.</p>\n<p>I can't figure out how to have the &quot;Part&quot; I selected transfer to the Modify part Scene.</p>\n<p>I have tried having the Modify part Controller extend the Main controller class and implement the Initializable interface, then override the Initialize method on the part modifier controller  to take</p>\n<pre><code>&quot; @FXML TextField name;\n    @FXML TextField inventory;\n    @FXML TextField price;\n    @FXML TextField min;\n    @FXML TextField max;\n\n    public void initialize (URL url, ResourceBundle resourceBundle){\n        name.setText(partTableView.getSelectionModel().getSelectedItem().getName());\n\n    }&quot;\n</code></pre>\n<pre><code>but I get the warning  \n&quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TableView.getSelectionModel()&quot; because &quot;this.partTableView&quot; is nullat com.example.InventoryManager/com.example.InventoryManager.ModifyPartController.initialize(ModifyPartController.java:40)&quot;\n</code></pre>\n<p>because the selection on the main scene isn't carried over when the scene switches.\nim not sure how I am supposed to get the selected part transferred to the next scene and I need it to be the same instance of the selected part from the observable list so that when I save the modification the selected part is updated in the list.</p>\n"},{"tags":["java","arraylist","jbutton"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679265726,"creation_date":1679265403,"answer_id":75785341,"question_id":75785282,"body_markdown":"You&#39;re working in an event driven environment, that is, at some point in the future, something will happen and then you can respond to it.\r\n\r\nYou&#39;re mind set seems to be in a procedural workflow (where things happen in a linear timeline sequence)\r\n\r\nFor example...\r\n\r\n    new ClassePuxar();\r\n        \r\n    ArrayList lista = new ArrayList ();\r\n    lista.add(ClassePuxar.stringTeste);\r\n    System.out.println(lista);\r\n\r\nBy the time the window (associated `ClassePuxar`) is on the screen, the `ArrayList` code will have already run, so the user&#39;s had NO opportunity actual enter any information.\r\n\r\nYou have to basic options:\r\n\r\n1. Use an observer pattern of some kind to generate events when the data changes in some meaningful way\r\n2. Use a modal dialog. See [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) for more details\r\n\r\nOh, and `static` in this context is NOT a cross object communication mechanism and implemented this way is a bad idea.\r\n\r\n`null` layouts are also a bad idea.  Make the time and effort to learn how to use of the [various layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\n# Modal dialog...\r\n\r\nSo, you could replace just about all your code with just...\r\n\r\n    String input = JOptionPane.showInputDialog(null, &quot;Show me the input&quot;, &quot;Input&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    if (input != null) {\r\n        ArrayList lista = new ArrayList();\r\n        lista.add(input);\r\n        System.out.println(lista);\r\n    }\r\n\r\nAnd you should get the basic desired result.","title":"I can&#39;t pass the information of a TextField from a class to another","body":"<p>You're working in an event driven environment, that is, at some point in the future, something will happen and then you can respond to it.</p>\n<p>You're mind set seems to be in a procedural workflow (where things happen in a linear timeline sequence)</p>\n<p>For example...</p>\n<pre><code>new ClassePuxar();\n    \nArrayList lista = new ArrayList ();\nlista.add(ClassePuxar.stringTeste);\nSystem.out.println(lista);\n</code></pre>\n<p>By the time the window (associated <code>ClassePuxar</code>) is on the screen, the <code>ArrayList</code> code will have already run, so the user's had NO opportunity actual enter any information.</p>\n<p>You have to basic options:</p>\n<ol>\n<li>Use an observer pattern of some kind to generate events when the data changes in some meaningful way</li>\n<li>Use a modal dialog. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more details</li>\n</ol>\n<p>Oh, and <code>static</code> in this context is NOT a cross object communication mechanism and implemented this way is a bad idea.</p>\n<p><code>null</code> layouts are also a bad idea.  Make the time and effort to learn how to use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">various layout managers</a></p>\n<h1>Modal dialog...</h1>\n<p>So, you could replace just about all your code with just...</p>\n<pre><code>String input = JOptionPane.showInputDialog(null, &quot;Show me the input&quot;, &quot;Input&quot;, JOptionPane.PLAIN_MESSAGE);\nif (input != null) {\n    ArrayList lista = new ArrayList();\n    lista.add(input);\n    System.out.println(lista);\n}\n</code></pre>\n<p>And you should get the basic desired result.</p>\n"}],"owner":{"account_id":27224207,"reputation":1,"user_id":20753013,"display_name":"Jerry 1455"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679265726,"creation_date":1679264536,"question_id":75785282,"body_markdown":"I&#39;m trying to make a registration program, so a created a little window where I would type the name to be registered and save it in another class when I press a button. But the other class isn&#39;t pulling the info from the string.\r\n\r\n\r\n```\r\npublic class Puxarclasse \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tnew ClassePuxar();\r\n\t\t\r\n\t\tArrayList lista = new ArrayList ();\r\n\t\tlista.add(ClassePuxar.stringTeste);\r\n\t\tSystem.out.println(lista);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class ClassePuxar implements ActionListener\r\n{\r\n\tprivate static JButton botao;\r\n\tprivate static JTextField tfPuxar;\r\n\tpublic static String stringTeste;\r\n\tpublic ClassePuxar () \r\n\t{\r\n\t\tJFrame frame  = new JFrame();\r\n\t\tJPanel panel = new JPanel();\r\n\t\t tfPuxar = new JTextField();\r\n\t\t botao = new JButton ();\r\n\t\t\r\n\t\tframe.setSize (400, 200);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\ttfPuxar.setBounds(50,60,300,20);\r\n\t\tbotao.setBounds(150,110,100,20);\r\n\t\tbotao.addActionListener(this);\r\n\t\t\r\n\t\tpanel.setLayout(null);\r\n\t\t\r\n\t\tframe.add(panel);\r\n\t\tpanel.add(tfPuxar);\r\n\t\tpanel.add (botao);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) \r\n\t{\r\n\t\tstringTeste = tfPuxar.getText();\r\n\t\ttfPuxar.setText (&quot;&quot;);\r\n\t}\r\n}\r\n\r\n```\r\n","title":"I can&#39;t pass the information of a TextField from a class to another","body":"<p>I'm trying to make a registration program, so a created a little window where I would type the name to be registered and save it in another class when I press a button. But the other class isn't pulling the info from the string.</p>\n<pre><code>public class Puxarclasse \n{\n    public static void main(String[] args) \n    {\n        new ClassePuxar();\n        \n        ArrayList lista = new ArrayList ();\n        lista.add(ClassePuxar.stringTeste);\n        System.out.println(lista);\n    }\n}\n</code></pre>\n<pre><code>public class ClassePuxar implements ActionListener\n{\n    private static JButton botao;\n    private static JTextField tfPuxar;\n    public static String stringTeste;\n    public ClassePuxar () \n    {\n        JFrame frame  = new JFrame();\n        JPanel panel = new JPanel();\n         tfPuxar = new JTextField();\n         botao = new JButton ();\n        \n        frame.setSize (400, 200);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        tfPuxar.setBounds(50,60,300,20);\n        botao.setBounds(150,110,100,20);\n        botao.addActionListener(this);\n        \n        panel.setLayout(null);\n        \n        frame.add(panel);\n        panel.add(tfPuxar);\n        panel.add (botao);\n        frame.setVisible(true);\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) \n    {\n        stringTeste = tfPuxar.getText();\n        tfPuxar.setText (&quot;&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1678905742,"post_id":75737591,"comment_id":133625673,"body_markdown":"you can refer: https://github.com/dineshbhagat/spring-boot-web-jpa, this will help to clear the confusion you have related to properties setting.","body":"you can refer: <a href=\"https://github.com/dineshbhagat/spring-boot-web-jpa\" rel=\"nofollow noreferrer\">github.com/dineshbhagat/spring-boot-web-jpa</a>, this will help to clear the confusion you have related to properties setting."},{"owner":{"account_id":19042166,"reputation":33,"user_id":13902023,"display_name":"Сергей Штукатуров"},"score":0,"creation_date":1679003125,"post_id":75737591,"comment_id":133647688,"body_markdown":"I&#39;ve tried settings in different variations, but it did not work. As I see, there&#39;s no need to refer driver explicitly, and I&#39;ve commented out that string in properties, but the result is the same - the app works and interacts with DB in IDE, but throws the same error when I try to run in from jar. I think there may be some problem  in the way how I build fatJar, but I can&#39;t figure it out.","body":"I&#39;ve tried settings in different variations, but it did not work. As I see, there&#39;s no need to refer driver explicitly, and I&#39;ve commented out that string in properties, but the result is the same - the app works and interacts with DB in IDE, but throws the same error when I try to run in from jar. I think there may be some problem  in the way how I build fatJar, but I can&#39;t figure it out."}],"answers":[{"tags":[],"owner":{"account_id":19042166,"reputation":33,"user_id":13902023,"display_name":"Сергей Штукатуров"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679265050,"creation_date":1679265050,"answer_id":75785312,"question_id":75737591,"body_markdown":"I&#39;ve defined application.properties file location explicitly with @PropertySource(&quot;classpath:/application.properties&quot;) annotation in main class and now it works.","title":"Failed to determine a suitable driver class error in Spring application","body":"<p>I've defined application.properties file location explicitly with @PropertySource(&quot;classpath:/application.properties&quot;) annotation in main class and now it works.</p>\n"}],"owner":{"account_id":19042166,"reputation":33,"user_id":13902023,"display_name":"Сергей Штукатуров"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679265050,"creation_date":1678822228,"question_id":75737591,"body_markdown":"My Spring app works just fine in IDE (IntelliJ IDEA), but throws an error when I try to run JAR file. The error: `ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class`\r\n\r\nMy application.propreties part, related to database:\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/test\r\nspring.datasource.username=test\r\nspring.datasource.password=test\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n#spring.jpa.show-sql=true\r\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n```\r\nbuild.gradle file: \r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;org.zimovit&#39;\r\nversion = &#39;0.8.0&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ntask myFatJar(type: Jar){\r\n\tmanifest{\r\n\t\tattributes &#39;Main-Class&#39;: &#39;org.zimovit.SpringGusliBot.SpringGusliBotApplication&#39;\r\n\t}\r\n\tbaseName = &#39;gusli-bot-jar&#39;\r\n\tduplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\tfrom{configurations.runtimeClasspath.collect {it.isDirectory() ? it : zipTree(it)}}\r\n\twith jar\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\timplementation group: &#39;org.telegram&#39;, name: &#39;telegrambots-spring-boot-starter&#39;, version: &#39;5.7.1&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to change application.propreties file (commented out lines), as some related articles advice, but it did not work at all. Tried different versions of java - doesn&#39;t work either. Also I tried to exclude DataSourceAutoConfiguration using `@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})` annotation, this changed the error, and with this annotation the app doesn&#39;t run even in IDE. I also tried to add `implementation group: &#39;org.springframework&#39;, name: &#39;spring-jdbc&#39;, version: &#39;5.3.24&#39; dependency in build.gradle. I think, maybe a have to add some other dependency or there is some mistake in myFatJar task, but I couldn&#39;t find a way to fix it so far.\r\n\r\nI&#39;ve tried Shadow and Ktor plugins to build fatJar, but the error remains. I still think that the problem is in the way I build the fatJar, since the app works in IDE. Maybe I missed something crucial.","title":"Failed to determine a suitable driver class error in Spring application","body":"<p>My Spring app works just fine in IDE (IntelliJ IDEA), but throws an error when I try to run JAR file. The error: <code>ERROR org.springframework.boot.SpringApplication - Application run failed org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class</code></p>\n<p>My application.propreties part, related to database:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/test\nspring.datasource.username=test\nspring.datasource.password=test\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n#spring.jpa.show-sql=true\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>build.gradle file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java'\n}\n\ngroup = 'org.zimovit'\nversion = '0.8.0'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ntask myFatJar(type: Jar){\n    manifest{\n        attributes 'Main-Class': 'org.zimovit.SpringGusliBot.SpringGusliBotApplication'\n    }\n    baseName = 'gusli-bot-jar'\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    from{configurations.runtimeClasspath.collect {it.isDirectory() ? it : zipTree(it)}}\n    with jar\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation group: 'org.telegram', name: 'telegrambots-spring-boot-starter', version: '5.7.1'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I've tried to change application.propreties file (commented out lines), as some related articles advice, but it did not work at all. Tried different versions of java - doesn't work either. Also I tried to exclude DataSourceAutoConfiguration using <code>@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})</code> annotation, this changed the error, and with this annotation the app doesn't run even in IDE. I also tried to add `implementation group: 'org.springframework', name: 'spring-jdbc', version: '5.3.24' dependency in build.gradle. I think, maybe a have to add some other dependency or there is some mistake in myFatJar task, but I couldn't find a way to fix it so far.</p>\n<p>I've tried Shadow and Ktor plugins to build fatJar, but the error remains. I still think that the problem is in the way I build the fatJar, since the app works in IDE. Maybe I missed something crucial.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1678981441,"post_id":75758441,"comment_id":133641955,"body_markdown":"`double Gross,SSS,Tax,Philhealth,TotalDeduction,taxableincome,compensation,percentage,Netpay` you are not setting a value here, thus having the variables not initialized. Also, `percentage` will always be 0.35","body":"<code>double Gross,SSS,Tax,Philhealth,TotalDeduction,taxableincome,compen&zwnj;&#8203;sation,percentage,Ne&zwnj;&#8203;tpay</code> you are not setting a value here, thus having the variables not initialized. Also, <code>percentage</code> will always be 0.35"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1678981455,"post_id":75758441,"comment_id":133641962,"body_markdown":"What if `Gross` is `4249.5`? Your code is riddled with logical gaps like that. And you need to learn about `else`.","body":"What if <code>Gross</code> is <code>4249.5</code>? Your code is riddled with logical gaps like that. And you need to learn about <code>else</code>."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":4,"creation_date":1678981574,"post_id":75758441,"comment_id":133642003,"body_markdown":"[Traditional reminder: don&#39;t use floats for money.](https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency)","body":"<a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">Traditional reminder: don&#39;t use floats for money.</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679165093,"post_id":75758441,"comment_id":133674121,"body_markdown":"Should `10429.99` be `10249.99` ? Should `SSS = 225.0;` be `SSS = 225.0/2.0`?;","body":"Should <code>10429.99</code> be <code>10249.99</code> ? Should <code>SSS = 225.0;</code> be <code>SSS = 225.0&#47;2.0</code>?;"}],"answers":[{"tags":[],"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678981585,"creation_date":1678981585,"answer_id":75758512,"question_id":75758441,"body_markdown":"Consider one example from your code:\r\n\r\n&gt;```\r\n&gt;if (Gross &gt;= 15250.0 &amp;&amp; Gross &lt;= 15749.99)\r\n&gt;SSS = 697.5/2.0;\r\n&gt;if (Gross &gt;= 15750.0 &amp;&amp; Gross &lt;= 16249.99)\r\n&gt;SSS = 720.0/2.0;\r\n&gt;```\r\n\r\nGiven the imprecise nature of floating point numbers, this leaves a gap if `Gross` is larger than `15749.99` but less than `15750.0`.\r\n\r\nYou would do better to change the conditions to something like:\r\n\r\n```\r\nif (Gross &gt;= 15250.0 &amp;&amp; Gross &lt; 15750.0)\r\nSSS = 697.5/2.0;\r\nif (Gross &gt;= 15750.0 &amp;&amp; Gross &lt; 16250.0)\r\nSSS = 720.0/2.0;\r\n```","title":"Initializing a variable through if statements","body":"<p>Consider one example from your code:</p>\n<blockquote>\n<pre><code>if (Gross &gt;= 15250.0 &amp;&amp; Gross &lt;= 15749.99)\nSSS = 697.5/2.0;\nif (Gross &gt;= 15750.0 &amp;&amp; Gross &lt;= 16249.99)\nSSS = 720.0/2.0;\n</code></pre>\n</blockquote>\n<p>Given the imprecise nature of floating point numbers, this leaves a gap if <code>Gross</code> is larger than <code>15749.99</code> but less than <code>15750.0</code>.</p>\n<p>You would do better to change the conditions to something like:</p>\n<pre><code>if (Gross &gt;= 15250.0 &amp;&amp; Gross &lt; 15750.0)\nSSS = 697.5/2.0;\nif (Gross &gt;= 15750.0 &amp;&amp; Gross &lt; 16250.0)\nSSS = 720.0/2.0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679001560,"creation_date":1678981678,"answer_id":75758524,"question_id":75758441,"body_markdown":"The local variable should always be initialised before using it but only the instance variable can use without initialising it.\r\n\r\nCheck this article - [Difference between Instance Variable and Local Variable][1]\r\n\r\nChange two things to make your code work\r\n\r\n1- initialize all your variables\r\n\r\n     double Gross, SSS, Tax, Philhealth, TotalDeduction, taxableincome, compensation, percentage, Netpay;\r\n            Gross = SSS = Tax = Philhealth = TotalDeduction = taxableincome = compensation = percentage = Netpay = 0.0;\r\n\r\n2- add Local.Root to Scanner, See [Localized numbers][2] \r\n   \r\n\r\n     Scanner scanner = new Scanner(System.in).useLocale(Locale.ROOT);\r\n\r\n  [1]: https://www.geeksforgeeks.org/difference-between-instance-variable-and-local-variable/\r\n  [2]: https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html#localized-numbers\r\n","title":"Initializing a variable through if statements","body":"<p>The local variable should always be initialised before using it but only the instance variable can use without initialising it.</p>\n<p>Check this article - <a href=\"https://www.geeksforgeeks.org/difference-between-instance-variable-and-local-variable/\" rel=\"nofollow noreferrer\">Difference between Instance Variable and Local Variable</a></p>\n<p>Change two things to make your code work</p>\n<p>1- initialize all your variables</p>\n<pre><code> double Gross, SSS, Tax, Philhealth, TotalDeduction, taxableincome, compensation, percentage, Netpay;\n        Gross = SSS = Tax = Philhealth = TotalDeduction = taxableincome = compensation = percentage = Netpay = 0.0;\n</code></pre>\n<p>2- add Local.Root to Scanner, See <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html#localized-numbers\" rel=\"nofollow noreferrer\">Localized numbers</a></p>\n<pre><code> Scanner scanner = new Scanner(System.in).useLocale(Locale.ROOT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679264701,"creation_date":1679027326,"answer_id":75763774,"question_id":75758441,"body_markdown":"Other answers and comments have explained the problem with the use of floating point variables in your code. Basically, the compiler asks &quot;Is there any potential value of `Gross` that will cause all the `if` statements that control initialization of `SSS` to skip initializing `SSS`. At the risk of going off-topic, I&#39;d like to give an answer showing alternatives. \r\n\r\nThat is a lot of `if` statements. When I see repeated code, I consider alternatives. In your case, the repeated code is of the form \r\n\r\n     if (Gross &gt;= a &amp;&amp; Gross &lt;= b)\r\n         SSS = c/2.0;\r\n\r\nwhere `a`, `b`, and `c` are replaced with different `double` literals. \r\n\r\nWhat are the alternatives to a long sequence of these `if` statements? I&#39;d like to draw your attention to two of them. \r\n\r\n## Alternative One: Use Arithmetic ##\r\n\r\nThe difference between successive values for `Gross` in the `if` statements is predictable. Given one value, the next can be calculated. The same is true for the values of `SSS`. This means that chain of `if` statements can be reduced to calculations using arithmetic. In this case, the difference between successive values of `Gross` is `500.00`. The difference between successive values assigned to `SSS`, prior to dividing by `2.0` is `22.5`. So, `SSS` can be calculated directly from `Gross`. There is maximum and minimum on `SSS`, but that can be fixed after some calculations.\r\n\r\n \r\n     final double GROSS_BASE_SSS = 4250.0;\r\n     final double GROSS_INCREMENT_SSS = 500.0;\r\n     final double SSS_BASE = 180.0;\r\n     final double SSS_INCREMENT = 22.5;\r\n\r\n     double SSS = ((   Math.floor((  Gross - GROSS_BASE_SSS ) \r\n                                   / GROSS_INCREMENT_SSS) + 1.0)\r\n                     * SSS_INCREMENT + SSS_BASE) / 2.0;\r\n    SSS = Math.max(180.0 / 2.0, Math.min(SSS2, 900.0 / 2.0));\r\n         \r\n     \r\nBy the way, I recommend an additional restriction:  Don&#39;t allow the total reductions from `Gross` to exceed `Gross`. It isn&#39;t nice to have a negative net pay. \r\n\r\nReplacing the chain of `if` statements with a few lines of calculation was pretty straight forward. But, what if it is difficult to find formulae that will predict the next value in a sequence when one value is known? Consider the next alternative:\r\n\r\n## Alternative Two: Use tables ##\r\n\r\nThe values in the `if` statements and the result for `SSS` can be put into a table. Then, loops can be used to search the table, and the value looked up:\r\n\r\n    \r\n          final double [][] GROSS_SSS_TABLE = \r\n          { {     0.0,180.0},{ 4_250.0,202.5},{ 4_750.0,225.0},{ 5_250.0,247.5}\r\n           ,{ 5_750.0,270.0},{ 6_250.0,292.5},{ 6_750.0,315.0},{ 7_250.0,337.5}\r\n           ,{ 7_750.0,360.0},{ 8_250.0,382.5},{ 8_750.0,405.0},{ 9_250.0,427.5}\r\n           ,{ 9_750.0,450.0},{10_250.0,472.5},{10_750.0,495.0},{11_250.0,517.5}\r\n           ,{11_750.0,540.0},{12_250.0,562.5},{12_750.0,585.0},{13_250.0,607.5}\r\n           ,{13_750.0,630.0},{14_250.0,652.5},{14_750.0,675.0},{15_250.0,697.5}\r\n           ,{15_750.0,720.0},{16_250.0,742.5},{16_750.0,765.0},{17_250.0,787.5}\r\n           ,{17_750.0,810.0},{18_250.0,832.5},{18_750.0,855.0},{19_250.0,877.5}\r\n           ,{19_750.0,900.0},{20_250.0,900.0}\r\n          };\r\n          final int GROSS_VAL = 0;\r\n          final int SSS_VAL = 1;\r\n          ... \r\n          SSS = GROSS_SSS_TABLE[0][SSS_VAL];\r\n\r\n          for (int i = GROSS_SSS_TABLE.length - 1; i &gt; 0; --i) {\r\n            if (Gross &gt;= GROSS_SSS_TABLE[i][GROSS_VAL]) {\r\n               SSS = GROSS_SSS_TABLE[i][SSS_VAL];\r\n               break;\r\n            }\r\n          }\r\n          SSS /= 2.0; \r\n\r\n(Here, I chose to not have the `/2.0` part in the table.)\r\n\r\nFor the part of the code that calculates `compensation` and `percentage`, you could use either the formula alternative or table alternative. But, it looks like it might be harder to find formulae for that part, so I suspect the table alternative would be preferred. Note such a table for this part would use values in triplets instead of in pairs. \r\n\r\n## Note: ##\r\n\r\nAs previous comments and answer said, there is some lack of precision with floating point values. In selecting a data type to represent money and associated calculations, floating point is unsuitable. In Java, consider using the [`BigDecimal` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html) for these.\r\n\r\nYou won&#39;t be able to use regular arithmetic and relational operators on `BigDecimal` Objects. You will have to use methods such as `.add`, `.multiply`, `.compareTo` and so on. But, it&#39;s worth it. \r\n\r\nYou will need more typing to create the table using `BigDecimal`. It might look something like this:\r\n\r\n      final BigDecimal [][] GROSS_SSS_TABLE = \r\n          { {new BigDecimal(    &quot;0.0&quot;,new BigDecimal (&quot;180.0&quot;}\r\n           ,{new BigDecimal( &quot;4250.0&quot;,new BigDecimal (&quot;202.5&quot;}\r\n           ,{new BigDecimal( &quot;4750.0&quot;,new BigDecimal (&quot;225.0&quot;}\r\nand so on. \r\n\r\nImagine someone else wrote the code, but you have the job of maintaining the code when the taxes &amp; deductions amounts are changed. Which would you rather deal with? A long chain of `if` statements, or a table?  What if the number of rows needed changes? Would you rather add / delete `if` statements, or rows in a table? ","title":"Initializing a variable through if statements","body":"<p>Other answers and comments have explained the problem with the use of floating point variables in your code. Basically, the compiler asks &quot;Is there any potential value of <code>Gross</code> that will cause all the <code>if</code> statements that control initialization of <code>SSS</code> to skip initializing <code>SSS</code>. At the risk of going off-topic, I'd like to give an answer showing alternatives.</p>\n<p>That is a lot of <code>if</code> statements. When I see repeated code, I consider alternatives. In your case, the repeated code is of the form</p>\n<pre><code> if (Gross &gt;= a &amp;&amp; Gross &lt;= b)\n     SSS = c/2.0;\n</code></pre>\n<p>where <code>a</code>, <code>b</code>, and <code>c</code> are replaced with different <code>double</code> literals.</p>\n<p>What are the alternatives to a long sequence of these <code>if</code> statements? I'd like to draw your attention to two of them.</p>\n<h2>Alternative One: Use Arithmetic</h2>\n<p>The difference between successive values for <code>Gross</code> in the <code>if</code> statements is predictable. Given one value, the next can be calculated. The same is true for the values of <code>SSS</code>. This means that chain of <code>if</code> statements can be reduced to calculations using arithmetic. In this case, the difference between successive values of <code>Gross</code> is <code>500.00</code>. The difference between successive values assigned to <code>SSS</code>, prior to dividing by <code>2.0</code> is <code>22.5</code>. So, <code>SSS</code> can be calculated directly from <code>Gross</code>. There is maximum and minimum on <code>SSS</code>, but that can be fixed after some calculations.</p>\n<pre><code> final double GROSS_BASE_SSS = 4250.0;\n final double GROSS_INCREMENT_SSS = 500.0;\n final double SSS_BASE = 180.0;\n final double SSS_INCREMENT = 22.5;\n\n double SSS = ((   Math.floor((  Gross - GROSS_BASE_SSS ) \n                               / GROSS_INCREMENT_SSS) + 1.0)\n                 * SSS_INCREMENT + SSS_BASE) / 2.0;\nSSS = Math.max(180.0 / 2.0, Math.min(SSS2, 900.0 / 2.0));\n     \n \n</code></pre>\n<p>By the way, I recommend an additional restriction:  Don't allow the total reductions from <code>Gross</code> to exceed <code>Gross</code>. It isn't nice to have a negative net pay.</p>\n<p>Replacing the chain of <code>if</code> statements with a few lines of calculation was pretty straight forward. But, what if it is difficult to find formulae that will predict the next value in a sequence when one value is known? Consider the next alternative:</p>\n<h2>Alternative Two: Use tables</h2>\n<p>The values in the <code>if</code> statements and the result for <code>SSS</code> can be put into a table. Then, loops can be used to search the table, and the value looked up:</p>\n<pre><code>      final double [][] GROSS_SSS_TABLE = \n      { {     0.0,180.0},{ 4_250.0,202.5},{ 4_750.0,225.0},{ 5_250.0,247.5}\n       ,{ 5_750.0,270.0},{ 6_250.0,292.5},{ 6_750.0,315.0},{ 7_250.0,337.5}\n       ,{ 7_750.0,360.0},{ 8_250.0,382.5},{ 8_750.0,405.0},{ 9_250.0,427.5}\n       ,{ 9_750.0,450.0},{10_250.0,472.5},{10_750.0,495.0},{11_250.0,517.5}\n       ,{11_750.0,540.0},{12_250.0,562.5},{12_750.0,585.0},{13_250.0,607.5}\n       ,{13_750.0,630.0},{14_250.0,652.5},{14_750.0,675.0},{15_250.0,697.5}\n       ,{15_750.0,720.0},{16_250.0,742.5},{16_750.0,765.0},{17_250.0,787.5}\n       ,{17_750.0,810.0},{18_250.0,832.5},{18_750.0,855.0},{19_250.0,877.5}\n       ,{19_750.0,900.0},{20_250.0,900.0}\n      };\n      final int GROSS_VAL = 0;\n      final int SSS_VAL = 1;\n      ... \n      SSS = GROSS_SSS_TABLE[0][SSS_VAL];\n\n      for (int i = GROSS_SSS_TABLE.length - 1; i &gt; 0; --i) {\n        if (Gross &gt;= GROSS_SSS_TABLE[i][GROSS_VAL]) {\n           SSS = GROSS_SSS_TABLE[i][SSS_VAL];\n           break;\n        }\n      }\n      SSS /= 2.0; \n</code></pre>\n<p>(Here, I chose to not have the <code>/2.0</code> part in the table.)</p>\n<p>For the part of the code that calculates <code>compensation</code> and <code>percentage</code>, you could use either the formula alternative or table alternative. But, it looks like it might be harder to find formulae for that part, so I suspect the table alternative would be preferred. Note such a table for this part would use values in triplets instead of in pairs.</p>\n<h2>Note:</h2>\n<p>As previous comments and answer said, there is some lack of precision with floating point values. In selecting a data type to represent money and associated calculations, floating point is unsuitable. In Java, consider using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code> API</a> for these.</p>\n<p>You won't be able to use regular arithmetic and relational operators on <code>BigDecimal</code> Objects. You will have to use methods such as <code>.add</code>, <code>.multiply</code>, <code>.compareTo</code> and so on. But, it's worth it.</p>\n<p>You will need more typing to create the table using <code>BigDecimal</code>. It might look something like this:</p>\n<pre><code>  final BigDecimal [][] GROSS_SSS_TABLE = \n      { {new BigDecimal(    &quot;0.0&quot;,new BigDecimal (&quot;180.0&quot;}\n       ,{new BigDecimal( &quot;4250.0&quot;,new BigDecimal (&quot;202.5&quot;}\n       ,{new BigDecimal( &quot;4750.0&quot;,new BigDecimal (&quot;225.0&quot;}\n</code></pre>\n<p>and so on.</p>\n<p>Imagine someone else wrote the code, but you have the job of maintaining the code when the taxes &amp; deductions amounts are changed. Which would you rather deal with? A long chain of <code>if</code> statements, or a table?  What if the number of rows needed changes? Would you rather add / delete <code>if</code> statements, or rows in a table?</p>\n"}],"owner":{"account_id":19458827,"reputation":1,"user_id":19877935,"display_name":"wraith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1679264701,"creation_date":1678981219,"question_id":75758441,"body_markdown":"So im trying to do a school project and im running into problem and im just really confused so im asking ehre Im really new and I&#39;m not exactly sure if what im doing is correct or not but its saying that the variable compensation and SSS is not initialized why is that? and what should I do to fix? again im new so I might be doing something stupid probably not doing the if statements correctly?\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Netpay\r\n{\r\n    public static void main(String args[])\r\n\r\n    {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        double Gross,SSS,Tax,Philhealth,TotalDeduction,taxableincome,compensation,percentage,Netpay;\r\n        int pagibig = 50;\r\n\r\n        System.out.println(&quot;Please enter the gross basic pay of the employee:&quot; );\r\n        Gross = scanner.nextDouble();\r\n        \r\n\r\nPhilhealth = Gross*0.02;\r\n\r\n\r\n        \r\n\r\nif (Gross &lt;= 4249.0)\r\n\r\nSSS = 180.0/2.0;\r\nif (Gross &gt;= 4250.0 &amp;&amp; Gross &lt;= 4749.99)\r\nSSS = 202.5/2.0;\r\nif (Gross &gt;= 4750.0 &amp;&amp; Gross &lt;= 5249.99)\r\nSSS = 225.0;\r\nif (Gross &gt;= 5250.0 &amp;&amp; Gross &lt;= 5749.99)\r\nSSS = 247.5/2.0;\r\nif (Gross &gt;= 5750.0 &amp;&amp; Gross &lt;= 6249.99f)\r\nSSS = 270.0/2.0;\r\nif (Gross &gt;= 6250.0 &amp;&amp; Gross &lt;= 6749.99f)\r\nSSS = 292.5/2.0;\r\nif (Gross &gt;= 6750.0 &amp;&amp; Gross &lt;= 7249.99f)\r\nSSS = 315.0/2.0;\r\nif (Gross &gt;= 7250.0 &amp;&amp; Gross &lt;= 7749.99)\r\nSSS = 337.5/2.0;\r\nif (Gross &gt;= 7750.0 &amp;&amp; Gross &lt;= 8249.99)\r\nSSS = 360.0/2.0;\r\nif (Gross &gt;= 8250.0 &amp;&amp; Gross &lt;= 8749.99)\r\nSSS = 382.5/2.0;\r\nif (Gross &gt;= 8750.0 &amp;&amp; Gross &lt;= 9249.99)\r\nSSS = 405.0/2.0;\r\nif (Gross &gt;= 9250.0 &amp;&amp; Gross &lt;= 9749.99)\r\nSSS = 427.5/2.0;\r\nif (Gross &gt;= 9750.0 &amp;&amp; Gross &lt;= 10429.99)\r\nSSS = 450.0/2.0;\r\nif (Gross &gt;= 10250.0 &amp;&amp; Gross &lt;= 10749.99)\r\nSSS = 472.5/2.0;\r\nif (Gross &gt;= 10750.0 &amp;&amp; Gross &lt;= 11249.99)\r\nSSS = 495.0/2.0;\r\nif (Gross &gt;= 11250.0 &amp;&amp; Gross &lt;= 11749.99)\r\nSSS = 517.5/2.0;\r\nif (Gross &gt;= 11750.0 &amp;&amp; Gross &lt;= 12249.99)\r\nSSS = 540.0/2.0;\r\nif (Gross &gt;= 12250.0 &amp;&amp; Gross &lt;= 12749.99)\r\nSSS = 562.5/2.0;\r\nif (Gross &gt;= 12750.0 &amp;&amp; Gross &lt;= 13249.99)\r\nSSS = 585.0/2.0;\r\nif (Gross &gt;= 13250.0 &amp;&amp; Gross &lt;= 13749.99)\r\nSSS = 607.5/2.0;\r\nif (Gross &gt;= 13750.0 &amp;&amp; Gross &lt;= 14249.99)\r\nSSS = 630.0/2.0;\r\nif (Gross &gt;= 14250.0 &amp;&amp; Gross &lt;= 14749.99)\r\nSSS = 652.5/2.0;\r\nif (Gross &gt;= 14750.0 &amp;&amp; Gross &lt;= 15249.99)\r\nSSS = 675.0/2.0;\r\nif (Gross &gt;= 15250.0 &amp;&amp; Gross &lt;= 15749.99)\r\nSSS = 697.5/2.0;\r\nif (Gross &gt;= 15750.0 &amp;&amp; Gross &lt;= 16249.99)\r\nSSS = 720.0/2.0;\r\nif (Gross &gt;= 16250.0 &amp;&amp; Gross &lt;= 16749.99)\r\nSSS = 742.5/2.0;\r\nif (Gross &gt;= 16750.0 &amp;&amp; Gross &lt;= 17249.99)\r\nSSS = 765.0/2.0;\r\nif (Gross &gt;= 17250.0 &amp;&amp; Gross &lt;= 17749.99)\r\nSSS = 787.5/2.0;\r\nif (Gross &gt;= 17750.0 &amp;&amp; Gross &lt;= 18249.99)\r\nSSS = 810.0/2.0;\r\nif (Gross &gt;= 18250.0 &amp;&amp; Gross &lt;= 18749.99)\r\nSSS = 832.5/2.0;\r\nif (Gross &gt;= 18750.0 &amp;&amp; Gross &lt;= 19249.99)\r\nSSS = 855.0/2.0;\r\nif (Gross &gt;= 19250.0 &amp;&amp; Gross &lt;= 19749.99)\r\nSSS = 877.5/2.0;\r\nif (Gross &gt;= 19750.0 &amp;&amp; Gross &lt;= 20249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 20250.0 &amp;&amp; Gross &lt;= 20749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 20750.0 &amp;&amp; Gross &lt;= 21249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 21250.0 &amp;&amp; Gross &lt;= 21749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 21750.0 &amp;&amp; Gross &lt;= 22249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 22250.0 &amp;&amp; Gross &lt;= 22749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 22750.0 &amp;&amp; Gross &lt;= 23249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 23250.0 &amp;&amp; Gross &lt;= 23749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 23750.0 &amp;&amp; Gross &lt;= 24249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 24250.0 &amp;&amp; Gross &lt;= 24749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 24750.0 &amp;&amp; Gross &lt;= 25249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 25250.0 &amp;&amp; Gross &lt;= 25749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 25750.0 &amp;&amp; Gross &lt;= 26249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 26250.0 &amp;&amp; Gross &lt;= 26749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 26750.0 &amp;&amp; Gross &lt;= 27249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 27250.0 &amp;&amp; Gross &lt;= 28249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 28250.0 &amp;&amp; Gross &lt;= 28749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 28750.0 &amp;&amp; Gross &lt;= 29249.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 29250.0 &amp;&amp; Gross &lt;= 29749.99)\r\nSSS = 900.0/2.0;\r\nif (Gross &gt;= 29750.0)\r\nSSS = 900.0/2.0;\r\n\r\n\r\n\r\n\r\nif (Gross &lt;= 10417.0)\r\ncompensation = 0.0;\r\npercentage = 0.0;\r\nif (Gross &gt; 10417.0 &amp;&amp; Gross &lt;=16666.0)\r\ncompensation = 10417.0;\r\npercentage = 0.2;\r\nif (Gross &gt;=16667.0 &amp;&amp; Gross &lt;=33332.0)\r\ncompensation = 16667.0;\r\npercentage = 0.25;\r\nif (Gross &gt;= 33333.0 &amp;&amp; Gross &lt;=83332.0)\r\ncompensation = 33333.0;\r\npercentage = 0.3;\r\nif (Gross &gt; 83333.0 &amp;&amp; Gross &lt;=333332.0)\r\ncompensation = 83333.0;\r\npercentage = 0.32;\r\nif (Gross &gt;= 333333.0)\r\ncompensation = 333333.0;\r\npercentage = 0.35;\r\n\r\ntaxableincome = pagibig + Philhealth + SSS;\r\nTax = (taxableincome - compensation)*percentage;\r\n\r\n\r\nTotalDeduction = Tax + taxableincome;\r\nNetpay = Gross - TotalDeduction;\r\nSystem.out.println(&quot;Your Employees Netpay is:&quot; + Netpay);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Initializing a variable through if statements","body":"<p>So im trying to do a school project and im running into problem and im just really confused so im asking ehre Im really new and I'm not exactly sure if what im doing is correct or not but its saying that the variable compensation and SSS is not initialized why is that? and what should I do to fix? again im new so I might be doing something stupid probably not doing the if statements correctly?</p>\n<pre><code>import java.util.Scanner;\n\npublic class Netpay\n{\n    public static void main(String args[])\n\n    {\n        Scanner scanner = new Scanner(System.in);\n\n        double Gross,SSS,Tax,Philhealth,TotalDeduction,taxableincome,compensation,percentage,Netpay;\n        int pagibig = 50;\n\n        System.out.println(&quot;Please enter the gross basic pay of the employee:&quot; );\n        Gross = scanner.nextDouble();\n        \n\nPhilhealth = Gross*0.02;\n\n\n        \n\nif (Gross &lt;= 4249.0)\n\nSSS = 180.0/2.0;\nif (Gross &gt;= 4250.0 &amp;&amp; Gross &lt;= 4749.99)\nSSS = 202.5/2.0;\nif (Gross &gt;= 4750.0 &amp;&amp; Gross &lt;= 5249.99)\nSSS = 225.0;\nif (Gross &gt;= 5250.0 &amp;&amp; Gross &lt;= 5749.99)\nSSS = 247.5/2.0;\nif (Gross &gt;= 5750.0 &amp;&amp; Gross &lt;= 6249.99f)\nSSS = 270.0/2.0;\nif (Gross &gt;= 6250.0 &amp;&amp; Gross &lt;= 6749.99f)\nSSS = 292.5/2.0;\nif (Gross &gt;= 6750.0 &amp;&amp; Gross &lt;= 7249.99f)\nSSS = 315.0/2.0;\nif (Gross &gt;= 7250.0 &amp;&amp; Gross &lt;= 7749.99)\nSSS = 337.5/2.0;\nif (Gross &gt;= 7750.0 &amp;&amp; Gross &lt;= 8249.99)\nSSS = 360.0/2.0;\nif (Gross &gt;= 8250.0 &amp;&amp; Gross &lt;= 8749.99)\nSSS = 382.5/2.0;\nif (Gross &gt;= 8750.0 &amp;&amp; Gross &lt;= 9249.99)\nSSS = 405.0/2.0;\nif (Gross &gt;= 9250.0 &amp;&amp; Gross &lt;= 9749.99)\nSSS = 427.5/2.0;\nif (Gross &gt;= 9750.0 &amp;&amp; Gross &lt;= 10429.99)\nSSS = 450.0/2.0;\nif (Gross &gt;= 10250.0 &amp;&amp; Gross &lt;= 10749.99)\nSSS = 472.5/2.0;\nif (Gross &gt;= 10750.0 &amp;&amp; Gross &lt;= 11249.99)\nSSS = 495.0/2.0;\nif (Gross &gt;= 11250.0 &amp;&amp; Gross &lt;= 11749.99)\nSSS = 517.5/2.0;\nif (Gross &gt;= 11750.0 &amp;&amp; Gross &lt;= 12249.99)\nSSS = 540.0/2.0;\nif (Gross &gt;= 12250.0 &amp;&amp; Gross &lt;= 12749.99)\nSSS = 562.5/2.0;\nif (Gross &gt;= 12750.0 &amp;&amp; Gross &lt;= 13249.99)\nSSS = 585.0/2.0;\nif (Gross &gt;= 13250.0 &amp;&amp; Gross &lt;= 13749.99)\nSSS = 607.5/2.0;\nif (Gross &gt;= 13750.0 &amp;&amp; Gross &lt;= 14249.99)\nSSS = 630.0/2.0;\nif (Gross &gt;= 14250.0 &amp;&amp; Gross &lt;= 14749.99)\nSSS = 652.5/2.0;\nif (Gross &gt;= 14750.0 &amp;&amp; Gross &lt;= 15249.99)\nSSS = 675.0/2.0;\nif (Gross &gt;= 15250.0 &amp;&amp; Gross &lt;= 15749.99)\nSSS = 697.5/2.0;\nif (Gross &gt;= 15750.0 &amp;&amp; Gross &lt;= 16249.99)\nSSS = 720.0/2.0;\nif (Gross &gt;= 16250.0 &amp;&amp; Gross &lt;= 16749.99)\nSSS = 742.5/2.0;\nif (Gross &gt;= 16750.0 &amp;&amp; Gross &lt;= 17249.99)\nSSS = 765.0/2.0;\nif (Gross &gt;= 17250.0 &amp;&amp; Gross &lt;= 17749.99)\nSSS = 787.5/2.0;\nif (Gross &gt;= 17750.0 &amp;&amp; Gross &lt;= 18249.99)\nSSS = 810.0/2.0;\nif (Gross &gt;= 18250.0 &amp;&amp; Gross &lt;= 18749.99)\nSSS = 832.5/2.0;\nif (Gross &gt;= 18750.0 &amp;&amp; Gross &lt;= 19249.99)\nSSS = 855.0/2.0;\nif (Gross &gt;= 19250.0 &amp;&amp; Gross &lt;= 19749.99)\nSSS = 877.5/2.0;\nif (Gross &gt;= 19750.0 &amp;&amp; Gross &lt;= 20249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 20250.0 &amp;&amp; Gross &lt;= 20749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 20750.0 &amp;&amp; Gross &lt;= 21249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 21250.0 &amp;&amp; Gross &lt;= 21749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 21750.0 &amp;&amp; Gross &lt;= 22249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 22250.0 &amp;&amp; Gross &lt;= 22749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 22750.0 &amp;&amp; Gross &lt;= 23249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 23250.0 &amp;&amp; Gross &lt;= 23749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 23750.0 &amp;&amp; Gross &lt;= 24249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 24250.0 &amp;&amp; Gross &lt;= 24749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 24750.0 &amp;&amp; Gross &lt;= 25249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 25250.0 &amp;&amp; Gross &lt;= 25749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 25750.0 &amp;&amp; Gross &lt;= 26249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 26250.0 &amp;&amp; Gross &lt;= 26749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 26750.0 &amp;&amp; Gross &lt;= 27249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 27250.0 &amp;&amp; Gross &lt;= 28249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 28250.0 &amp;&amp; Gross &lt;= 28749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 28750.0 &amp;&amp; Gross &lt;= 29249.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 29250.0 &amp;&amp; Gross &lt;= 29749.99)\nSSS = 900.0/2.0;\nif (Gross &gt;= 29750.0)\nSSS = 900.0/2.0;\n\n\n\n\nif (Gross &lt;= 10417.0)\ncompensation = 0.0;\npercentage = 0.0;\nif (Gross &gt; 10417.0 &amp;&amp; Gross &lt;=16666.0)\ncompensation = 10417.0;\npercentage = 0.2;\nif (Gross &gt;=16667.0 &amp;&amp; Gross &lt;=33332.0)\ncompensation = 16667.0;\npercentage = 0.25;\nif (Gross &gt;= 33333.0 &amp;&amp; Gross &lt;=83332.0)\ncompensation = 33333.0;\npercentage = 0.3;\nif (Gross &gt; 83333.0 &amp;&amp; Gross &lt;=333332.0)\ncompensation = 83333.0;\npercentage = 0.32;\nif (Gross &gt;= 333333.0)\ncompensation = 333333.0;\npercentage = 0.35;\n\ntaxableincome = pagibig + Philhealth + SSS;\nTax = (taxableincome - compensation)*percentage;\n\n\nTotalDeduction = Tax + taxableincome;\nNetpay = Gross - TotalDeduction;\nSystem.out.println(&quot;Your Employees Netpay is:&quot; + Netpay);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679262608,"post_id":75785017,"comment_id":133685454,"body_markdown":"This looks like a bug. I noticed a couple of things: 1. If you add any style to the text flow (I was adding a background color to see the size of it), it seems to work fine. 2. If you switch to a different container (e.g. an `HBox`), it also seems to work fine.","body":"This looks like a bug. I noticed a couple of things: 1. If you add any style to the text flow (I was adding a background color to see the size of it), it seems to work fine. 2. If you switch to a different container (e.g. an <code>HBox</code>), it also seems to work fine."},{"owner":{"account_id":12886676,"reputation":149,"user_id":9319895,"accept_rate":75,"display_name":"parszab"},"score":0,"creation_date":1679263565,"post_id":75785017,"comment_id":133685587,"body_markdown":"Interesting, thanks! Worth reporting as a bug? The container solution won&#39;t work for me because I want to use a custom layout manager (where the issue originally came up) but with some styling trick I actually might be work around the issue.","body":"Interesting, thanks! Worth reporting as a bug? The container solution won&#39;t work for me because I want to use a custom layout manager (where the issue originally came up) but with some styling trick I actually might be work around the issue."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679263653,"post_id":75785017,"comment_id":133685600,"body_markdown":"Yes, certainly. Another workaround is to call `textFlow.layout()` in the event handler.","body":"Yes, certainly. Another workaround is to call <code>textFlow.layout()</code> in the event handler."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679263774,"post_id":75785017,"comment_id":133685616,"body_markdown":"You might be able to make the `layout()` call in your custom pane/region `layoutChildren()` method. That would be a more suitable place for it. I don&#39;t fully understand the bug though, so I don&#39;t know if that would work.","body":"You might be able to make the <code>layout()</code> call in your custom pane/region <code>layoutChildren()</code> method. That would be a more suitable place for it. I don&#39;t fully understand the bug though, so I don&#39;t know if that would work."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679264135,"creation_date":1679264135,"answer_id":75785260,"question_id":75785017,"body_markdown":"This looks like a bug (which I&#39;d recommend reporting). \r\n\r\nInterestingly, it only seems to manifest in a `BorderLayout`, but not in a `HBox`. It also doesn&#39;t show up if you add style to the text flow.\r\n\r\nIf those workarounds aren&#39;t usable, calling `textFlow.autosize()` to recompute the size of the text flow seems to work. Since you say in the comments that you&#39;re using a custom pane to contain the text flow, you may find a convenient place to do that in the custom pane&#39;s `layoutChildren()` method, or similar. As a worst case, you can just call that in the event handler:\r\n\r\n        layout.setOnMouseClicked(e -&gt; {\r\n            textFlow.getChildren().addAll(new Text(&quot;myAdd &quot;));\r\n            textFlow.autosize();\r\n        });","title":"JavaFX: Add text to TextFlow - rendering issue","body":"<p>This looks like a bug (which I'd recommend reporting).</p>\n<p>Interestingly, it only seems to manifest in a <code>BorderLayout</code>, but not in a <code>HBox</code>. It also doesn't show up if you add style to the text flow.</p>\n<p>If those workarounds aren't usable, calling <code>textFlow.autosize()</code> to recompute the size of the text flow seems to work. Since you say in the comments that you're using a custom pane to contain the text flow, you may find a convenient place to do that in the custom pane's <code>layoutChildren()</code> method, or similar. As a worst case, you can just call that in the event handler:</p>\n<pre><code>    layout.setOnMouseClicked(e -&gt; {\n        textFlow.getChildren().addAll(new Text(&quot;myAdd &quot;));\n        textFlow.autosize();\n    });\n</code></pre>\n"}],"owner":{"account_id":12886676,"reputation":149,"user_id":9319895,"accept_rate":75,"display_name":"parszab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75785260,"answer_count":1,"score":3,"last_activity_date":1679264135,"creation_date":1679261187,"question_id":75785017,"body_markdown":"I&#39;m trying to use a quite simple JavaFX feature, but may be missing something: adding a new `Text` object to a `TextFlow` that is already showing. I created a very minimal working example:\r\n\r\n```\r\npublic class TextFlowTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        TextFlow textFlow = new TextFlow(new Text(&quot;One &quot;), new Text(&quot;Two &quot;), new Text(&quot;Three &quot;), new Text(&quot;Four &quot;));\r\n        var layout = new BorderPane(textFlow);\r\n        layout.setOnMouseClicked(e -&gt; {\r\n            textFlow.getChildren().addAll(new Text(&quot;myAdd &quot;));\r\n        });\r\n        Scene scene = new Scene(layout, 200, 50);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String args[]){\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nIf you run the code above, and click on the text it should add a new word: `myAdd` \\- however it only renders the first few pixels of the first character.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy feeling is that it is related to the initial calculation of the width of the flow, so I tried `requestLayout` on the `TextFlow` or the containing pane but it didn&#39;t help. Shouldn&#39;t this just work out of the box? Just add a new `Text` node to the flow&#39;s children, which is an observable list, so the flow should update its layout?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fCwyg.png","title":"JavaFX: Add text to TextFlow - rendering issue","body":"<p>I'm trying to use a quite simple JavaFX feature, but may be missing something: adding a new <code>Text</code> object to a <code>TextFlow</code> that is already showing. I created a very minimal working example:</p>\n<pre><code>public class TextFlowTest extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        TextFlow textFlow = new TextFlow(new Text(&quot;One &quot;), new Text(&quot;Two &quot;), new Text(&quot;Three &quot;), new Text(&quot;Four &quot;));\n        var layout = new BorderPane(textFlow);\n        layout.setOnMouseClicked(e -&gt; {\n            textFlow.getChildren().addAll(new Text(&quot;myAdd &quot;));\n        });\n        Scene scene = new Scene(layout, 200, 50);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String args[]){\n        launch(args);\n    }\n}\n</code></pre>\n<p>If you run the code above, and click on the text it should add a new word: <code>myAdd</code> - however it only renders the first few pixels of the first character.</p>\n<p><a href=\"https://i.stack.imgur.com/fCwyg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fCwyg.png\" alt=\"enter image description here\" /></a></p>\n<p>My feeling is that it is related to the initial calculation of the width of the flow, so I tried <code>requestLayout</code> on the <code>TextFlow</code> or the containing pane but it didn't help. Shouldn't this just work out of the box? Just add a new <code>Text</code> node to the flow's children, which is an observable list, so the flow should update its layout?</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679230456,"creation_date":1679230456,"answer_id":75782123,"question_id":75781923,"body_markdown":"The `ArgumentCaptor` and `ArgumentMatchers` are different tools that can be use for the same purpose: to test the arguments that were being passed to the mocked object.\r\nIn other words, you should use either one or the other.  For example:\r\n\r\n    CommandResponse result = productService.create(request);\r\n    verify(productRepository).save(productCaptor.capture());\r\n\r\n    Product capturedProduct = productCaptor.getValue();\r\n    assertEquals(capturedProduct.getId(), result.id());\r\n    assertEquals(&quot;Laptop&quot;, capturedProduct.getName()) \r\n    // or other asserts you might want to perform here\r\n\r\nor, you can use the argumentMatcher:\r\n \r\n    verify(productRepository).save(ArgumentMatchers.argThat(\r\n        product -&gt; product.getId() == result.id()\r\n            &amp;&amp; &quot;Laptop&quot;.equals(product.getName())\r\n    ));\r\n\r\n`ArgumentCaptpor` allows more flexibility when it comes to the asserts, and allows you to specify more specific messages if the test fails.\r\n\r\nOn the rather hand, `ArgumentMatcher` is much quicker to write and might be a good option for very simple asserts.\r\n\r\n","title":"Unit Test : Should I use verify(eq()) instead of ArgumentCaptor for checking object passing to repository?","body":"<p>The <code>ArgumentCaptor</code> and <code>ArgumentMatchers</code> are different tools that can be use for the same purpose: to test the arguments that were being passed to the mocked object.\nIn other words, you should use either one or the other.  For example:</p>\n<pre><code>CommandResponse result = productService.create(request);\nverify(productRepository).save(productCaptor.capture());\n\nProduct capturedProduct = productCaptor.getValue();\nassertEquals(capturedProduct.getId(), result.id());\nassertEquals(&quot;Laptop&quot;, capturedProduct.getName()) \n// or other asserts you might want to perform here\n</code></pre>\n<p>or, you can use the argumentMatcher:</p>\n<pre><code>verify(productRepository).save(ArgumentMatchers.argThat(\n    product -&gt; product.getId() == result.id()\n        &amp;&amp; &quot;Laptop&quot;.equals(product.getName())\n));\n</code></pre>\n<p><code>ArgumentCaptpor</code> allows more flexibility when it comes to the asserts, and allows you to specify more specific messages if the test fails.</p>\n<p>On the rather hand, <code>ArgumentMatcher</code> is much quicker to write and might be a good option for very simple asserts.</p>\n"}],"owner":{"display_name":"user21391503"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679263952,"creation_date":1679228214,"question_id":75781923,"body_markdown":"I have been using `ArgumentCaptor` in order to check the object passing to the save method of a respository as shown below:\r\n\r\n```\r\n@Captor\r\nprivate ArgumentCaptor&lt;Product&gt; productCaptor;\r\n\r\n@Test\r\nvoid create() {\r\n\r\n    //code omitted\r\n\r\n    Product product = new Product();\r\n    product.setId(101L);\r\n    product.setName(&quot;Laptop&quot;);\r\n\r\n    CommandResponse result = productService.create(request);\r\n    verify(productRepository).save(productCaptor.capture());\r\n    Product capturedProduct = productCaptor.getValue();\r\n\r\n\r\n    verify(productRepository).save(eq(product));\r\n\r\n    assertEquals(capturedProduct.getId(), result.id());\r\n    assertEquals(&quot;Laptop&quot;, capturedProduct.getName());\r\n    // ...\r\n}\r\n```\r\n\r\n\r\n\r\nHowever, I have just sees the an example that not only checks if the save method is called, also the object passing to it (I think so):\r\n\r\n```\r\nverify(productRepository).save(eq(product));\r\n```\r\n\r\n\r\nSo, if this statement check both `productRepository.save()` method is called and the object passing to this `save()` method is equal to `product`, then is it better than using a ArgumentCaptor? ","title":"Unit Test : Should I use verify(eq()) instead of ArgumentCaptor for checking object passing to repository?","body":"<p>I have been using <code>ArgumentCaptor</code> in order to check the object passing to the save method of a respository as shown below:</p>\n<pre><code>@Captor\nprivate ArgumentCaptor&lt;Product&gt; productCaptor;\n\n@Test\nvoid create() {\n\n    //code omitted\n\n    Product product = new Product();\n    product.setId(101L);\n    product.setName(&quot;Laptop&quot;);\n\n    CommandResponse result = productService.create(request);\n    verify(productRepository).save(productCaptor.capture());\n    Product capturedProduct = productCaptor.getValue();\n\n\n    verify(productRepository).save(eq(product));\n\n    assertEquals(capturedProduct.getId(), result.id());\n    assertEquals(&quot;Laptop&quot;, capturedProduct.getName());\n    // ...\n}\n</code></pre>\n<p>However, I have just sees the an example that not only checks if the save method is called, also the object passing to it (I think so):</p>\n<pre><code>verify(productRepository).save(eq(product));\n</code></pre>\n<p>So, if this statement check both <code>productRepository.save()</code> method is called and the object passing to this <code>save()</code> method is equal to <code>product</code>, then is it better than using a ArgumentCaptor?</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-boot-test"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":2,"creation_date":1679263011,"post_id":75785119,"comment_id":133685508,"body_markdown":"Try `@InjectMocks`.","body":"Try <code>@InjectMocks</code>."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1679263107,"post_id":75785119,"comment_id":133685523,"body_markdown":"Yup that worked! `@InjectMocks` instead of `Autowired` is the solution. thanks","body":"Yup that worked! <code>@InjectMocks</code> instead of <code>Autowired</code> is the solution. thanks"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1679263141,"post_id":75785119,"comment_id":133685527,"body_markdown":"You actually hard-code your service implementation `@ContextConfiguration(classes = Ar11ApplicationServiceImpl.class)`, so in this case I don&#39;t see much profit from autowiring Ar11ApplicationService and not just create Ar11ApplicationServiceImpl with constructor, injecting your dao mock.","body":"You actually hard-code your service implementation <code>@ContextConfiguration(classes = Ar11ApplicationServiceImpl.class)</code>, so in this case I don&#39;t see much profit from autowiring Ar11ApplicationService and not just create Ar11ApplicationServiceImpl with constructor, injecting your dao mock."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1679269453,"post_id":75785119,"comment_id":133686274,"body_markdown":"To take this one step further, since this is a test that only uses mocks, you don&#39;t need the `@ContextConfiguration` or the `@ExtendWith`, and you can replace `@RunWith...` with `@RunWith(MockitoJUnitRunner.class)`","body":"To take this one step further, since this is a test that only uses mocks, you don&#39;t need the <code>@ContextConfiguration</code> or the <code>@ExtendWith</code>, and you can replace <code>@RunWith...</code> with <code>@RunWith(MockitoJUnitRunner.class)</code>"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1679280859,"post_id":75785119,"comment_id":133687405,"body_markdown":"While testing your Service layer you don&#39;t even need to load the context. Just test it as a regular class following the mockito way. Take a look here fore more details: https://stackoverflow.com/questions/56712707/springboottest-vs-contextconfiguration-vs-import-in-spring-boot-unit-test/70601994#70601994","body":"While testing your Service layer you don&#39;t even need to load the context. Just test it as a regular class following the mockito way. Take a look here fore more details: <a href=\"https://stackoverflow.com/questions/56712707/springboottest-vs-contextconfiguration-vs-import-in-spring-boot-unit-test/70601994#70601994\" title=\"springboottest vs contextconfiguration vs import in spring boot unit test\">stackoverflow.com/questions/56712707/&hellip;</a>"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679262380,"creation_date":1679262380,"question_id":75785119,"body_markdown":"I need to write a unit test for a Service class&#39;s method. That Service class has an inner DAO object which I&#39;m mocking. However, the Service itself is **not** mocked because that&#39;s what I actually need to execute and test.\r\n\r\nI&#39;m getting the error that the Service is NULL, even though it&#39;s auto-wired, and `@ContextConfiguration` specifies its implementation class.\r\n\r\n    java.lang.NullPointerException: \r\n      Cannot invoke &quot;app.Ar11ApplicationService.process()&quot; because &quot;this.ar11ApplicationService&quot; is null\r\n\r\nUnit Test Class:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = Ar11ApplicationServiceImpl.class)\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class Ar11ApplicationServiceTest {\r\n    \t\r\n    \t// The inner DAO is mocked - will return some test collections set up in setUp()\r\n        @Mock\r\n        private Ar11ApplicationDAO ar11ApplicationDAO;\r\n        \r\n        @Autowired\r\n        private Ar11ApplicationService ar11ApplicationService;\r\n        \r\n    \t@BeforeEach\r\n    \tvoid setUp() throws Exception {\r\n           //set up... - set up mock objects, test collections, etc.\r\n        }\r\n\r\n\t    @Test\r\n\t    void testService_HappyPath() {\r\n           // this is the actual test where I execute the Service class&#39;s method\r\n           ar11ApplicationService.process();\r\n        }\r\n\r\nNote that I don&#39;t have the `@SpringBootApplication` annotation because that would cause the whole app to run. Instead, I&#39;m using `@RunWith(SpringJUnit4ClassRunner.class)` to just run my specific Service unit test.","title":"Spring Boot: In Service Unit Test the autowired Service object is NULL","body":"<p>I need to write a unit test for a Service class's method. That Service class has an inner DAO object which I'm mocking. However, the Service itself is <strong>not</strong> mocked because that's what I actually need to execute and test.</p>\n<p>I'm getting the error that the Service is NULL, even though it's auto-wired, and <code>@ContextConfiguration</code> specifies its implementation class.</p>\n<pre><code>java.lang.NullPointerException: \n  Cannot invoke &quot;app.Ar11ApplicationService.process()&quot; because &quot;this.ar11ApplicationService&quot; is null\n</code></pre>\n<p>Unit Test Class:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = Ar11ApplicationServiceImpl.class)\n@ExtendWith(MockitoExtension.class)\npublic class Ar11ApplicationServiceTest {\n    \n    // The inner DAO is mocked - will return some test collections set up in setUp()\n    @Mock\n    private Ar11ApplicationDAO ar11ApplicationDAO;\n    \n    @Autowired\n    private Ar11ApplicationService ar11ApplicationService;\n    \n    @BeforeEach\n    void setUp() throws Exception {\n       //set up... - set up mock objects, test collections, etc.\n    }\n\n    @Test\n    void testService_HappyPath() {\n       // this is the actual test where I execute the Service class's method\n       ar11ApplicationService.process();\n    }\n</code></pre>\n<p>Note that I don't have the <code>@SpringBootApplication</code> annotation because that would cause the whole app to run. Instead, I'm using <code>@RunWith(SpringJUnit4ClassRunner.class)</code> to just run my specific Service unit test.</p>\n"},{"tags":["java","javasound"],"comments":[{"owner":{"account_id":14972540,"reputation":1004,"user_id":10808912,"display_name":"itzjackyscode"},"score":0,"creation_date":1555282460,"post_id":55680752,"comment_id":98045835,"body_markdown":"Also, I am using JDK 11.0.2","body":"Also, I am using JDK 11.0.2"},{"owner":{"account_id":3946188,"reputation":2133,"user_id":3258708,"accept_rate":88,"display_name":"Matt"},"score":0,"creation_date":1555283032,"post_id":55680752,"comment_id":98045921,"body_markdown":"Which line is line 35?","body":"Which line is line 35?"},{"owner":{"account_id":14972540,"reputation":1004,"user_id":10808912,"display_name":"itzjackyscode"},"score":0,"creation_date":1555285703,"post_id":55680752,"comment_id":98046386,"body_markdown":"In the try block. `clip = (Clip) mixer.getLine(dataInfo)`","body":"In the try block. <code>clip = (Clip) mixer.getLine(dataInfo)</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1555308031,"post_id":55680752,"comment_id":98050417,"body_markdown":"You may have better luck removing the Mixer.Info and DataLine.Info code, and just using [AutioSystem.getClip()](https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getClip%28%29) instead.","body":"You may have better luck removing the Mixer.Info and DataLine.Info code, and just using <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getClip%28%29\" rel=\"nofollow noreferrer\">AutioSystem.getClip()</a> instead."},{"owner":{"account_id":14972540,"reputation":1004,"user_id":10808912,"display_name":"itzjackyscode"},"score":0,"creation_date":1555378523,"post_id":55680752,"comment_id":98080547,"body_markdown":"Well this happened: `Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Line unsupported: interface Clip supporting format PCM_SIGNED unknown sample rate, 16 bit, stereo, 4 bytes/frame, big-endian\n\tat java.desktop/com.sun.media.sound.PortMixer.getLine(PortMixer.java:131)\n\tat java.desktop/javax.sound.sampled.AudioSystem.getClip(AudioSystem.java:493)\n\tat main.Driver.main(Driver.java:26)`","body":"Well this happened: <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Line unsupported: interface Clip supporting format PCM_SIGNED unknown sample rate, 16 bit, stereo, 4 bytes&#47;frame, big-endian \tat java.desktop&#47;com.sun.media.sound.PortMixer.getLine(PortMixer&zwnj;&#8203;.java:131) \tat java.desktop&#47;javax.sound.sampled.AudioSystem.getClip(AudioSy&zwnj;&#8203;stem.java:493) \tat main.Driver.main(Driver.java:26)</code>"}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555615723,"creation_date":1555615723,"answer_id":55752596,"question_id":55680752,"body_markdown":"I think you should check your imports. AFAIK, the libraries for sound are all in javax.sound.sampled. The PortMixer is in com.sun.media.sound.\r\n\r\nThe author of the tutorial is going to a lot more trouble than is necessary. Instead of hardcoding a specific Mixer, you can just let the system pick defaults. This is probably the best strategy, as PC&#39;s out in the world are going to have diverse hardware configurations. \r\n\r\nFollowing is an example that might be helpful. Notice that we don&#39;t even bother to declare a Mixer.\r\n\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n    import javax.sound.sampled.DataLine;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.UnsupportedAudioFileException;\r\n    \r\n    public class BasicClipExample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tBasicClipExample bc = new BasicClipExample();\r\n\r\n    \t\ttry {\r\n    \t\t\tbc.run();\r\n\t    \t} catch (UnsupportedAudioFileException | IOException \r\n    \t\t\t\t| LineUnavailableException | InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate void run() throws UnsupportedAudioFileException, \r\n    \t\t\tIOException, LineUnavailableException, InterruptedException\r\n    \t{\r\n    \t\tString filename = &quot;a3.wav&quot;;\r\n    \t\t\r\n    \t    URL url = this.getClass().getResource(&quot;audio/&quot; + filename);\r\n    \t    System.out.println(url);\r\n    \t    \r\n    \t    AudioInputStream ais = AudioSystem.getAudioInputStream(url);\r\n    \t    DataLine.Info info = new DataLine.Info(Clip.class, ais.getFormat());\r\n    \t    Clip clip = (Clip) AudioSystem.getLine(info);\r\n    \t    clip.open(ais);\r\n    \t    clip.start();\r\n    \t    Thread.sleep(6000);\r\n    \t    clip.close();\r\n    \t}    \t\r\n    }\r\n\r\nThis example assumes that your audio file is in a subdirectory called &quot;/audio&quot;.\r\nIt also has a sleep command to keep the program running while the Clip is playing. Clips run under their own thread, but the thread is a &quot;daemon&quot; type and will not prevent a Java program from closing. My a3.wav is a recording of a bell that happens to last about 5 seconds.\r\n\r\nLast thing, the above code does not use a Clip in the ideal fashion. The concept of a Clip is that it is for re-use. Reloading the clip variable before playing it each time it is played is inefficient. The clip variable should be loaded only once, and then played on demand. If you have clip.open() and clip.start() as contiguous lines of code, you should probably either be using a SourceDataLine instead of a Clip, or you should recode and put the two commands into separate methods.","title":"Why does attempting to get a Clip throw exception?","body":"<p>I think you should check your imports. AFAIK, the libraries for sound are all in javax.sound.sampled. The PortMixer is in com.sun.media.sound.</p>\n\n<p>The author of the tutorial is going to a lot more trouble than is necessary. Instead of hardcoding a specific Mixer, you can just let the system pick defaults. This is probably the best strategy, as PC's out in the world are going to have diverse hardware configurations. </p>\n\n<p>Following is an example that might be helpful. Notice that we don't even bother to declare a Mixer.</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.URL;\n\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.DataLine;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\n\npublic class BasicClipExample {\n\n    public static void main(String[] args) {\n\n        BasicClipExample bc = new BasicClipExample();\n\n        try {\n            bc.run();\n        } catch (UnsupportedAudioFileException | IOException \n                | LineUnavailableException | InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private void run() throws UnsupportedAudioFileException, \n            IOException, LineUnavailableException, InterruptedException\n    {\n        String filename = \"a3.wav\";\n\n        URL url = this.getClass().getResource(\"audio/\" + filename);\n        System.out.println(url);\n\n        AudioInputStream ais = AudioSystem.getAudioInputStream(url);\n        DataLine.Info info = new DataLine.Info(Clip.class, ais.getFormat());\n        Clip clip = (Clip) AudioSystem.getLine(info);\n        clip.open(ais);\n        clip.start();\n        Thread.sleep(6000);\n        clip.close();\n    }       \n}\n</code></pre>\n\n<p>This example assumes that your audio file is in a subdirectory called \"/audio\".\nIt also has a sleep command to keep the program running while the Clip is playing. Clips run under their own thread, but the thread is a \"daemon\" type and will not prevent a Java program from closing. My a3.wav is a recording of a bell that happens to last about 5 seconds.</p>\n\n<p>Last thing, the above code does not use a Clip in the ideal fashion. The concept of a Clip is that it is for re-use. Reloading the clip variable before playing it each time it is played is inefficient. The clip variable should be loaded only once, and then played on demand. If you have clip.open() and clip.start() as contiguous lines of code, you should probably either be using a SourceDataLine instead of a Clip, or you should recode and put the two commands into separate methods.</p>\n"},{"tags":[],"owner":{"account_id":2138027,"reputation":1374,"user_id":1897316,"accept_rate":85,"display_name":"Reeebuuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679261054,"creation_date":1679261054,"answer_id":75785008,"question_id":55680752,"body_markdown":"If somebody wants to play a Clip on a specific audio channel this is the way to do it: \r\n\r\n```\r\nAudioSystem.getClip(AudioSystem.getMixer(mixers.last).getMixerInfo) // taking last one\r\n```\r\n\r\nThis way if there are multiple audio devices attached you can specify on which one to play it on.\r\nThat is why the\r\n\r\n```\r\n  mixer = AudioSystem.getMixer(mixInfos[0]);\r\n```\r\nwas used in the tutorial.","title":"Why does attempting to get a Clip throw exception?","body":"<p>If somebody wants to play a Clip on a specific audio channel this is the way to do it:</p>\n<pre><code>AudioSystem.getClip(AudioSystem.getMixer(mixers.last).getMixerInfo) // taking last one\n</code></pre>\n<p>This way if there are multiple audio devices attached you can specify on which one to play it on.\nThat is why the</p>\n<pre><code>  mixer = AudioSystem.getMixer(mixInfos[0]);\n</code></pre>\n<p>was used in the tutorial.</p>\n"}],"owner":{"account_id":14972540,"reputation":1004,"user_id":10808912,"display_name":"itzjackyscode"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55752596,"answer_count":2,"score":1,"last_activity_date":1679261054,"creation_date":1555282444,"question_id":55680752,"body_markdown":"I have been following [this tutorial for Java 1.7](https://www.youtube.com/watch?v=nUKya2DvYSo) and I am sure I have the code right. However, Java throws an `IllegalArgumentException` at runtime.\r\n\r\nI&#39;ve tried to catch it in an existing catch block, using Java&#39;s slightly-newer multi-catch. However, it simply throws exceptions.\r\n\r\nHere is the beginning of my code.\r\n\r\n```java\r\n\t\tMixer.Info[] mixInfos = AudioSystem.getMixerInfo();\r\n\t\t/*\r\n\t\tfor (Mixer.Info info : mixInfos)\r\n\t\t{\r\n\t\t\tSystem.out.println(info.getName() + &quot; - &quot; + info.getDescription());\r\n\t\t}\r\n\t\t*/\r\n\t\tmixer = AudioSystem.getMixer(mixInfos[0]);\r\n\t\t\r\n\t\tDataLine.Info dataInfo = new DataLine.Info(Clip.class, null);\r\n\t\ttry\r\n\t\t{\r\n\t\t\tclip = (Clip) mixer.getLine(dataInfo);\r\n\t\t}\r\n```\r\n\r\nI expect that the code will continue running and play the `Clip` but I get this exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Line unsupported: interface Clip\r\n\tat java.desktop/com.sun.media.sound.PortMixer.getLine(PortMixer.java:131)\r\n\tat main.Driver.main(Driver.java:35)\r\n```\r\n\r\nNote: If this isn&#39;t forward compatible, please explain.","title":"Why does attempting to get a Clip throw exception?","body":"<p>I have been following <a href=\"https://www.youtube.com/watch?v=nUKya2DvYSo\" rel=\"nofollow noreferrer\">this tutorial for Java 1.7</a> and I am sure I have the code right. However, Java throws an <code>IllegalArgumentException</code> at runtime.</p>\n\n<p>I've tried to catch it in an existing catch block, using Java's slightly-newer multi-catch. However, it simply throws exceptions.</p>\n\n<p>Here is the beginning of my code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        Mixer.Info[] mixInfos = AudioSystem.getMixerInfo();\n        /*\n        for (Mixer.Info info : mixInfos)\n        {\n            System.out.println(info.getName() + \" - \" + info.getDescription());\n        }\n        */\n        mixer = AudioSystem.getMixer(mixInfos[0]);\n\n        DataLine.Info dataInfo = new DataLine.Info(Clip.class, null);\n        try\n        {\n            clip = (Clip) mixer.getLine(dataInfo);\n        }\n</code></pre>\n\n<p>I expect that the code will continue running and play the <code>Clip</code> but I get this exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: Line unsupported: interface Clip\n    at java.desktop/com.sun.media.sound.PortMixer.getLine(PortMixer.java:131)\n    at main.Driver.main(Driver.java:35)\n</code></pre>\n\n<p>Note: If this isn't forward compatible, please explain.</p>\n"},{"tags":["java","spring-webflux","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":4689563,"reputation":33,"user_id":3796043,"accept_rate":100,"display_name":"user3796043"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679260709,"creation_date":1669648589,"answer_id":74602711,"question_id":66887036,"body_markdown":"I had the same problem and was able to resolve this by registering a `R2dbcEntityOperations` bean as well as putting this bean to `@EnableR2dbcRepositories（entityOperationsRef = &quot;yourBeanName&quot;)`","title":"Why does the annotation @Transactional not work in the case of custom AbstractR2dbcConfiguration","body":"<p>I had the same problem and was able to resolve this by registering a <code>R2dbcEntityOperations</code> bean as well as putting this bean to <code>@EnableR2dbcRepositories（entityOperationsRef = &quot;yourBeanName&quot;)</code></p>\n"}],"owner":{"account_id":19376994,"reputation":55,"user_id":14169071,"display_name":"xuelai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679260709,"creation_date":1617190325,"question_id":66887036,"body_markdown":"Recently I was learning r2dbc and encountered a problem.\r\nIn order to test transactions in r2dbc, I wrote a small test project.\r\n[sample code github][1] \r\n\r\n  [1]: https://github.com/ZhangDi-d/tutorials-z/tree/master/webflux-transactional\r\n  \r\n\r\nYou can see the correct code on the **master** branch and the wrong code on the **zd/transactional-test** branch\r\n\r\n\r\nFirst of all, we have a mysql table like this：\r\n\r\n```sql\r\nCREATE TABLE `users` (\r\n\t `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;id&#39;,\r\n\t `username` varchar(64) COLLATE utf8mb4_bin DEFAULT NULL COMMENT &#39;username&#39;,\r\n\t `password` varchar(32) COLLATE utf8mb4_bin DEFAULT NULL COMMENT &#39;password&#39;,\r\n\t `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;crete time&#39;,\r\n\t PRIMARY KEY (`id`),\r\n\t UNIQUE KEY `idx_username` (`username`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\r\n```\r\n\r\n\r\nWhen the code is as follows, the annotation @Transactionl works well\r\n\r\n1.pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webflux-transactional&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;r2dbc-pool&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.6.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.jasync-sql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasync-r2dbc-mysql&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.6&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;netty-transport&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!--test--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n2. application.yaml\r\n```yaml\r\nspring:\r\n  r2dbc:\r\n    url: r2dbc:pool:mysql://127.0.0.1:3306/webflux-r2dbc  # r2dbc:mysql://127.0.0.1:3306/demo\r\n    username: root\r\n    password: 123456\r\n    pool:\r\n      initial-size: 5\r\n      max-size: 500\r\n      max-idle-time: 30m\r\n      validation-query: SELECT 1\r\n\r\nserver:\r\n  port: 8081\r\n```\r\n\r\n\r\n3. DemoApplication\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n4. entity class\r\n\r\n\r\n```\r\n@Table(value = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    private Integer id;\r\n    private String username;\r\n    private String password;\r\n//omit getter setter\r\n}\r\n```\r\n\r\n5.  UserRepository:\r\n```java\r\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\n6. UserService\r\n\r\n```java\r\n@Service\r\npublic class UserService {\r\n\r\n    private final static Logger LOGGER = LoggerFactory.getLogger(UserService.class);\r\n\r\n    @Resource\r\n    R2dbcEntityTemplate r2dbcEntityTemplate;\r\n\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public Mono&lt;Integer&gt; add1(User queryUser) {\r\n\r\n        return this.r2dbcEntityTemplate.insert(User.class)\r\n                .using(queryUser)\r\n                .doOnSuccess(user -&gt; {\r\n                    if (!user.getUsername().contains(&quot;exception&quot;)) {\r\n                        LOGGER.info(&quot;=====================add normal=================&quot;);\r\n                    } else {\r\n                        LOGGER.error(&quot;=====================add exception=================&quot;);\r\n                        throw new RuntimeException(&quot;add1 exception test............&quot;);\r\n                    }\r\n\r\n                })\r\n                .map(User::getId);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n7.\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    /**\r\n     * test Transactional\r\n     * @param user\r\n     * @return\r\n     */\r\n\r\n    @PostMapping(&quot;/add1&quot;)\r\n    public Mono&lt;Integer&gt; add1(@RequestBody User user){\r\n        return userService.add1(user);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n8. start test \r\n\r\nWhen I execute the following request in intellij idea, as  expected, an exception is thrown, and no record is inserted into the database.\r\n\r\n```\r\nPOST http://localhost:8081/user/add1\r\nCache-Control: no-cache\r\nContent-Type: application/json; charset=UTF-8\r\n\r\n{\r\n  &quot;username&quot;: &quot;1exception11&quot;,\r\n  &quot;password&quot;: &quot;123456&quot;\r\n}\r\n```\r\n\r\n\r\n\r\nWhen I execute the following request in intellij idea, as  expected,  this record is inserted into the database.\r\n\r\n\r\n```\r\nPOST http://localhost:8081/user/add1\r\nCache-Control: no-cache\r\nContent-Type: application/json; charset=UTF-8\r\n\r\n{\r\n  &quot;username&quot;: &quot;111&quot;,\r\n  &quot;password&quot;: &quot;123456&quot;\r\n}\r\n```\r\n\r\n9. The above code is the correct step, and it is the last version I debugged successfully. The following code is what I used at the beginning, but the result is not the same as I expected.\r\n\r\nOn the basis of the above code, add a class：\r\n\r\n```java\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class DatabaseConfiguration extends AbstractR2dbcConfiguration {\r\n    @NotNull\r\n    @Override\r\n    public ConnectionFactory connectionFactory() {\r\n        String url = &quot;mysql://root:123456@127.0.0.1:3306/webflux-r2dbc&quot;;\r\n        return new JasyncConnectionFactory(new MySQLConnectionFactory(URLParser.INSTANCE.parseOrDie(url, StandardCharsets.UTF_8)));\r\n    }\r\n\r\n    @Bean\r\n    public ReactiveTransactionManager transactionManager() throws URISyntaxException {\r\n        return new R2dbcTransactionManager(this.connectionFactory());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nand modify \tUserService.java  -add method add2()\r\n\r\n```java\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    private final static Logger LOGGER = LoggerFactory.getLogger(UserService.class);\r\n    private final static String EXCEPTION = &quot;exception&quot;;\r\n\r\n    @Resource\r\n    R2dbcEntityTemplate r2dbcEntityTemplate;\r\n    @Resource\r\n    UserRepository userRepository;\r\n\r\n\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public Mono&lt;Integer&gt; add1(User queryUser) {\r\n\r\n        return this.r2dbcEntityTemplate.insert(User.class)\r\n                .using(queryUser)\r\n                .doOnSuccess(user -&gt; {\r\n                    if (!user.getUsername().contains(EXCEPTION)) {\r\n                        LOGGER.info(&quot;=====================add normal=================&quot;);\r\n                    } else {\r\n                        LOGGER.error(&quot;=====================add exception=================&quot;);\r\n                        throw new RuntimeException(&quot;add1 exception test............&quot;);\r\n                    }\r\n\r\n                })\r\n                .map(User::getId);\r\n    }\r\n\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public Mono&lt;Integer&gt; add2(User queryUser) {\r\n\r\n        return userRepository.save(queryUser).flatMap((Function&lt;User, Mono&lt;Integer&gt;&gt;) user -&gt; {\r\n            if (user.getUsername().contains(EXCEPTION)) {\r\n                LOGGER.error(&quot;=====================add2 exception=================&quot;);\r\n                throw new RuntimeException(&quot;test exception...&quot;);\r\n            }\r\n            return Mono.just(user.getId());\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nand modify \tUserController.java  -add method add2()\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    /**\r\n     * transaction work\r\n     * @param user\r\n     * @return\r\n     */\r\n\r\n    @PostMapping(&quot;/add1&quot;)\r\n    public Mono&lt;Integer&gt; add1(@RequestBody User user){\r\n        return userService.add1(user);\r\n    }\r\n\r\n\r\n    /**\r\n     * transaction not ork\r\n     * @param user\r\n     * @return\r\n     */\r\n    @PostMapping(&quot;/add2&quot;)\r\n    public Mono&lt;Integer&gt; add2(@RequestBody User user){\r\n        return userService.add2(user);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Test：**\r\n\r\nWhen I execute the following request in intellij idea, as  expected,  this record is inserted into the database. \r\n\r\n```\r\nPOST http://localhost:8081/user/add1\r\nCache-Control: no-cache\r\nContent-Type: application/json; charset=UTF-8\r\n\r\n{\r\n  &quot;username&quot;: &quot;222&quot;,\r\n  &quot;password&quot;: &quot;123456&quot;\r\n}\r\n```\r\n\r\n\r\n\r\nWhen I execute the following request in  intellij idea, an exception is thrown, **and this record is inserted into the database.**\r\n\r\n\r\n```\r\nPOST http://localhost:8081/user/add1\r\nCache-Control: no-cache\r\nContent-Type: application/json; charset=UTF-8\r\n\r\n{\r\n  &quot;username&quot;: &quot;222exception&quot;,\r\n  &quot;password&quot;: &quot;123456&quot;\r\n}\r\n```\r\n\r\n\r\n\r\nWhy does this happen, can anyone explain it, thank you very much.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does the annotation @Transactional not work in the case of custom AbstractR2dbcConfiguration","body":"<p>Recently I was learning r2dbc and encountered a problem.\nIn order to test transactions in r2dbc, I wrote a small test project.\n<a href=\"https://github.com/ZhangDi-d/tutorials-z/tree/master/webflux-transactional\" rel=\"nofollow noreferrer\">sample code github</a></p>\n<p>You can see the correct code on the <strong>master</strong> branch and the wrong code on the <strong>zd/transactional-test</strong> branch</p>\n<p>First of all, we have a mysql table like this：</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `users` (\n     `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',\n     `username` varchar(64) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'username',\n     `password` varchar(32) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'password',\n     `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'crete time',\n     PRIMARY KEY (`id`),\n     UNIQUE KEY `idx_username` (`username`)\n) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n</code></pre>\n<p>When the code is as follows, the annotation @Transactionl works well</p>\n<p>1.pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;webflux-transactional&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-pool&lt;/artifactId&gt;\n            &lt;version&gt;0.8.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.jasync-sql&lt;/groupId&gt;\n            &lt;artifactId&gt;jasync-r2dbc-mysql&lt;/artifactId&gt;\n            &lt;version&gt;1.1.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                    &lt;artifactId&gt;netty-transport&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                    &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n                    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--test--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<ol start=\"2\">\n<li>application.yaml</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  r2dbc:\n    url: r2dbc:pool:mysql://127.0.0.1:3306/webflux-r2dbc  # r2dbc:mysql://127.0.0.1:3306/demo\n    username: root\n    password: 123456\n    pool:\n      initial-size: 5\n      max-size: 500\n      max-idle-time: 30m\n      validation-query: SELECT 1\n\nserver:\n  port: 8081\n</code></pre>\n<ol start=\"3\">\n<li>DemoApplication</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>entity class</li>\n</ol>\n<pre><code>@Table(value = &quot;users&quot;)\npublic class User {\n    @Id\n    private Integer id;\n    private String username;\n    private String password;\n//omit getter setter\n}\n</code></pre>\n<ol start=\"5\">\n<li>UserRepository:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends ReactiveCrudRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<ol start=\"6\">\n<li>UserService</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(UserService.class);\n\n    @Resource\n    R2dbcEntityTemplate r2dbcEntityTemplate;\n\n    @Transactional(rollbackFor = Exception.class)\n    public Mono&lt;Integer&gt; add1(User queryUser) {\n\n        return this.r2dbcEntityTemplate.insert(User.class)\n                .using(queryUser)\n                .doOnSuccess(user -&gt; {\n                    if (!user.getUsername().contains(&quot;exception&quot;)) {\n                        LOGGER.info(&quot;=====================add normal=================&quot;);\n                    } else {\n                        LOGGER.error(&quot;=====================add exception=================&quot;);\n                        throw new RuntimeException(&quot;add1 exception test............&quot;);\n                    }\n\n                })\n                .map(User::getId);\n    }\n}\n\n</code></pre>\n<ol start=\"7\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    /**\n     * test Transactional\n     * @param user\n     * @return\n     */\n\n    @PostMapping(&quot;/add1&quot;)\n    public Mono&lt;Integer&gt; add1(@RequestBody User user){\n        return userService.add1(user);\n    }\n}\n\n\n</code></pre>\n<ol start=\"8\">\n<li>start test</li>\n</ol>\n<p>When I execute the following request in intellij idea, as  expected, an exception is thrown, and no record is inserted into the database.</p>\n<pre><code>POST http://localhost:8081/user/add1\nCache-Control: no-cache\nContent-Type: application/json; charset=UTF-8\n\n{\n  &quot;username&quot;: &quot;1exception11&quot;,\n  &quot;password&quot;: &quot;123456&quot;\n}\n</code></pre>\n<p>When I execute the following request in intellij idea, as  expected,  this record is inserted into the database.</p>\n<pre><code>POST http://localhost:8081/user/add1\nCache-Control: no-cache\nContent-Type: application/json; charset=UTF-8\n\n{\n  &quot;username&quot;: &quot;111&quot;,\n  &quot;password&quot;: &quot;123456&quot;\n}\n</code></pre>\n<ol start=\"9\">\n<li>The above code is the correct step, and it is the last version I debugged successfully. The following code is what I used at the beginning, but the result is not the same as I expected.</li>\n</ol>\n<p>On the basis of the above code, add a class：</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\npublic class DatabaseConfiguration extends AbstractR2dbcConfiguration {\n    @NotNull\n    @Override\n    public ConnectionFactory connectionFactory() {\n        String url = &quot;mysql://root:123456@127.0.0.1:3306/webflux-r2dbc&quot;;\n        return new JasyncConnectionFactory(new MySQLConnectionFactory(URLParser.INSTANCE.parseOrDie(url, StandardCharsets.UTF_8)));\n    }\n\n    @Bean\n    public ReactiveTransactionManager transactionManager() throws URISyntaxException {\n        return new R2dbcTransactionManager(this.connectionFactory());\n    }\n\n}\n</code></pre>\n<p>and modify  UserService.java  -add method add2()</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\npublic class UserService {\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(UserService.class);\n    private final static String EXCEPTION = &quot;exception&quot;;\n\n    @Resource\n    R2dbcEntityTemplate r2dbcEntityTemplate;\n    @Resource\n    UserRepository userRepository;\n\n\n    @Transactional(rollbackFor = Exception.class)\n    public Mono&lt;Integer&gt; add1(User queryUser) {\n\n        return this.r2dbcEntityTemplate.insert(User.class)\n                .using(queryUser)\n                .doOnSuccess(user -&gt; {\n                    if (!user.getUsername().contains(EXCEPTION)) {\n                        LOGGER.info(&quot;=====================add normal=================&quot;);\n                    } else {\n                        LOGGER.error(&quot;=====================add exception=================&quot;);\n                        throw new RuntimeException(&quot;add1 exception test............&quot;);\n                    }\n\n                })\n                .map(User::getId);\n    }\n\n    @Transactional(rollbackFor = Exception.class)\n    public Mono&lt;Integer&gt; add2(User queryUser) {\n\n        return userRepository.save(queryUser).flatMap((Function&lt;User, Mono&lt;Integer&gt;&gt;) user -&gt; {\n            if (user.getUsername().contains(EXCEPTION)) {\n                LOGGER.error(&quot;=====================add2 exception=================&quot;);\n                throw new RuntimeException(&quot;test exception...&quot;);\n            }\n            return Mono.just(user.getId());\n        });\n    }\n}\n\n</code></pre>\n<p>and modify  UserController.java  -add method add2()</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    /**\n     * transaction work\n     * @param user\n     * @return\n     */\n\n    @PostMapping(&quot;/add1&quot;)\n    public Mono&lt;Integer&gt; add1(@RequestBody User user){\n        return userService.add1(user);\n    }\n\n\n    /**\n     * transaction not ork\n     * @param user\n     * @return\n     */\n    @PostMapping(&quot;/add2&quot;)\n    public Mono&lt;Integer&gt; add2(@RequestBody User user){\n        return userService.add2(user);\n    }\n}\n</code></pre>\n<p><strong>Test：</strong></p>\n<p>When I execute the following request in intellij idea, as  expected,  this record is inserted into the database.</p>\n<pre><code>POST http://localhost:8081/user/add1\nCache-Control: no-cache\nContent-Type: application/json; charset=UTF-8\n\n{\n  &quot;username&quot;: &quot;222&quot;,\n  &quot;password&quot;: &quot;123456&quot;\n}\n</code></pre>\n<p>When I execute the following request in  intellij idea, an exception is thrown, <strong>and this record is inserted into the database.</strong></p>\n<pre><code>POST http://localhost:8081/user/add1\nCache-Control: no-cache\nContent-Type: application/json; charset=UTF-8\n\n{\n  &quot;username&quot;: &quot;222exception&quot;,\n  &quot;password&quot;: &quot;123456&quot;\n}\n</code></pre>\n<p>Why does this happen, can anyone explain it, thank you very much.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5088059,"reputation":5319,"user_id":4081949,"accept_rate":64,"display_name":"KitKarson"},"score":1,"creation_date":1557627117,"post_id":56095609,"comment_id":98827204,"body_markdown":"just curious - can you not use `PageRequest.of(page-1, 10)` to take care of this?","body":"just curious - can you not use <code>PageRequest.of(page-1, 10)</code> to take care of this?"},{"owner":{"account_id":10325116,"reputation":355,"user_id":7616817,"display_name":"user7616817"},"score":0,"creation_date":1557663173,"post_id":56095609,"comment_id":98833148,"body_markdown":"Indeed, i initially tried to do the trick from the client side but i had some problems with async code. i didn&#39;t thaught about doing it in the server side thanks for the that. It solves my particular issue but i&#39;m still curious about my initial question. Let me know if you ahve any clue.","body":"Indeed, i initially tried to do the trick from the client side but i had some problems with async code. i didn&#39;t thaught about doing it in the server side thanks for the that. It solves my particular issue but i&#39;m still curious about my initial question. Let me know if you ahve any clue."}],"answers":[{"tags":[],"owner":{"account_id":21783889,"reputation":1,"user_id":16085242,"display_name":"Григорий Филиппов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679260614,"creation_date":1679260614,"answer_id":75784973,"question_id":56095609,"body_markdown":"I use this:\r\n\r\n    @Configuration\r\n    public class WebConfig {\r\n        @Bean\r\n        public PageableHandlerMethodArgumentResolverCustomizer pageableCustomizer() {\r\n            return (resolver) -&gt; {\r\n                resolver.setOneIndexedParameters(true);\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"how to set spring data one-indexed pagination","body":"<p>I use this:</p>\n<pre><code>@Configuration\npublic class WebConfig {\n    @Bean\n    public PageableHandlerMethodArgumentResolverCustomizer pageableCustomizer() {\n        return (resolver) -&gt; {\n            resolver.setOneIndexedParameters(true);\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10325116,"reputation":355,"user_id":7616817,"display_name":"user7616817"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679260614,"creation_date":1557625649,"question_id":56095609,"body_markdown":"I just have a little problem where i can&#39;t figure out how to set one-indexed pagination. I&#39;m using a rest-Api (extending jpaRepository)\r\n\r\nI already tried some suggestion on the web (including stackoverflow ones) but it doesn&#39;t work for me, I tried a config file using &quot;WebMvcConfigurerAdapter&quot; but it&#39;s deprecated so i didn&#39;t go further. Isn&#39;t there a simple property i can append to my properties file to activate one-indexed pagination ?\r\nI also tried setting this property (spring.data.web.pageable.one-indexed-parameters=true) but it doesn&#39;t affect my application at all...\r\n\r\nI want to use a GET request returning 10 items, but with one-indexed pagination\r\n```\r\n\tpublic Page&lt;Station&gt; findAll(@RequestParam() int page,Pageable pageable) {\r\n\t\treturn stationRepository.findAll(PageRequest.of(page, 10));\r\n\t\t//return stationRepository.findAll(pageable);\r\n\t}\r\n``` \r\n\r\nThis requests still shows me 0-indexed items and index-1 is the second page...etc. I expect it to be 1-indexed (page 1 should return the first items on my database)\r\n\r\n**EDIT:** \r\nThe pagination issue can be solved by setting the request page number to (page-1) from the server side :\r\n```\r\n\tpublic Page&lt;Station&gt; findAll(@RequestParam() int page,Pageable pageable) {\r\n\t\treturn stationRepository.findAll(PageRequest.of(page-1, 10));\r\n\t\t//return stationRepository.findAll(pageable);\r\n\t}\r\n``` \r\nBut the initial problem (setting one-indexed server pagination) still persists","title":"how to set spring data one-indexed pagination","body":"<p>I just have a little problem where i can't figure out how to set one-indexed pagination. I'm using a rest-Api (extending jpaRepository)</p>\n\n<p>I already tried some suggestion on the web (including stackoverflow ones) but it doesn't work for me, I tried a config file using \"WebMvcConfigurerAdapter\" but it's deprecated so i didn't go further. Isn't there a simple property i can append to my properties file to activate one-indexed pagination ?\nI also tried setting this property (spring.data.web.pageable.one-indexed-parameters=true) but it doesn't affect my application at all...</p>\n\n<p>I want to use a GET request returning 10 items, but with one-indexed pagination</p>\n\n<pre><code>    public Page&lt;Station&gt; findAll(@RequestParam() int page,Pageable pageable) {\n        return stationRepository.findAll(PageRequest.of(page, 10));\n        //return stationRepository.findAll(pageable);\n    }\n</code></pre>\n\n<p>This requests still shows me 0-indexed items and index-1 is the second page...etc. I expect it to be 1-indexed (page 1 should return the first items on my database)</p>\n\n<p><strong>EDIT:</strong> \nThe pagination issue can be solved by setting the request page number to (page-1) from the server side :</p>\n\n<pre><code>    public Page&lt;Station&gt; findAll(@RequestParam() int page,Pageable pageable) {\n        return stationRepository.findAll(PageRequest.of(page-1, 10));\n        //return stationRepository.findAll(pageable);\n    }\n</code></pre>\n\n<p>But the initial problem (setting one-indexed server pagination) still persists</p>\n"},{"tags":["java","xml","gradle","jaxb","schemagen"],"owner":{"account_id":6855900,"reputation":1271,"user_id":5271460,"accept_rate":43,"display_name":"Sebastian Oberhoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679259741,"creation_date":1679259741,"question_id":75784907,"body_markdown":"The closest I&#39;ve gotten so far is to run this piece of Java code:\r\n\r\n```\r\n    public static void main(String[] args) throws JAXBException, IOException {\r\n        JAXBContext.newInstance(Person.class).generateSchema(new SchemaOutputResolver() {\r\n\r\n            @Override\r\n            public Result createOutput(String namespaceUri, String suggestedFileName) {\r\n                StreamResult result = new StreamResult(System.out);\r\n                result.setSystemId(suggestedFileName);\r\n                return result;\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nThis does indeed print out an XSD for my `Person.class`. However, when I try to put this code into the `build.gradle` file I run into the issue that `Person.class` isn&#39;t available on the classpath of the build script. And this issue has proven tricky.\r\n\r\nI&#39;m also open to completely different approaches.","title":"How do you generate an XSD file from Java code using Gradle?","body":"<p>The closest I've gotten so far is to run this piece of Java code:</p>\n<pre><code>    public static void main(String[] args) throws JAXBException, IOException {\n        JAXBContext.newInstance(Person.class).generateSchema(new SchemaOutputResolver() {\n\n            @Override\n            public Result createOutput(String namespaceUri, String suggestedFileName) {\n                StreamResult result = new StreamResult(System.out);\n                result.setSystemId(suggestedFileName);\n                return result;\n            }\n        });\n    }\n</code></pre>\n<p>This does indeed print out an XSD for my <code>Person.class</code>. However, when I try to put this code into the <code>build.gradle</code> file I run into the issue that <code>Person.class</code> isn't available on the classpath of the build script. And this issue has proven tricky.</p>\n<p>I'm also open to completely different approaches.</p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1227173998,"creation_date":1227173998,"answer_id":304788,"question_id":304782,"body_markdown":"No, JDBC isn&#39;t an ORM. It&#39;s the [Java Database Connectivity][1] API and basically it provides a database-agnostic access layer with a provider model (so that new database drivers can be added easily). Vendors can add more functionality for specific database features if they wish, but developers can ignore those features if they wish to work with multiple databases.\r\n\r\nThere&#39;s no mapping involved - just modeling for connections (and pools), prepared statements, stored procedures, result sets etc.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/technologies/database/index.jsp","title":"What is JDBC (Java DataBase Connectivity)?","body":"<p>No, JDBC isn't an ORM. It's the <a href=\"http://java.sun.com/javase/technologies/database/index.jsp\" rel=\"nofollow noreferrer\">Java Database Connectivity</a> API and basically it provides a database-agnostic access layer with a provider model (so that new database drivers can be added easily). Vendors can add more functionality for specific database features if they wish, but developers can ignore those features if they wish to work with multiple databases.</p>\n\n<p>There's no mapping involved - just modeling for connections (and pools), prepared statements, stored procedures, result sets etc.</p>\n"},{"tags":[],"owner":{"account_id":16213,"reputation":21645,"user_id":35086,"accept_rate":93,"display_name":"Winston Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1227174030,"creation_date":1227174030,"answer_id":304790,"question_id":304782,"body_markdown":"You&#39;ve practically answered your own question.\r\n\r\nIt provides a common interface for accessing databases, which means that regardless of the nuances of individual databases, or how they are implemented, your API calls are the same. It is not an ORM.","title":"What is JDBC (Java DataBase Connectivity)?","body":"<p>You've practically answered your own question.</p>\n\n<p>It provides a common interface for accessing databases, which means that regardless of the nuances of individual databases, or how they are implemented, your API calls are the same. It is not an ORM.</p>\n"},{"tags":[],"owner":{"account_id":2305,"reputation":41595,"user_id":3201,"accept_rate":80,"display_name":"Galwegian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1227174045,"creation_date":1227174045,"answer_id":304792,"question_id":304782,"body_markdown":"[Java Database Connectivity (JDBC)][1] is an API for the Java programming language that defines how a client may access a database. It provides methods for querying and updating data in a database. JDBC is oriented towards relational databases.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Jdbc","title":"What is JDBC (Java DataBase Connectivity)?","body":"<p><a href=\"http://en.wikipedia.org/wiki/Jdbc\" rel=\"nofollow noreferrer\">Java Database Connectivity (JDBC)</a> is an API for the Java programming language that defines how a client may access a database. It provides methods for querying and updating data in a database. JDBC is oriented towards relational databases.</p>\n"},{"tags":[],"owner":{"account_id":3467,"reputation":13338,"user_id":5004,"accept_rate":70,"display_name":"Josh Moore"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1227174077,"creation_date":1227174077,"answer_id":304793,"question_id":304782,"body_markdown":"JDBC is a driver that allows you to access database.  It provides you with a very raw way to access the database using SQL.  Its primary function is to allow you (the user) to run SQL commands on the database.  It is not an ORM and never will be.  The sun website http://java.sun.com/docs/books/tutorial/jdbc/ has a nice tutorial for JDBC. If you are interested in a ORM try http://www.hibernate.org/.","title":"What is JDBC (Java DataBase Connectivity)?","body":"<p>JDBC is a driver that allows you to access database.  It provides you with a very raw way to access the database using SQL.  Its primary function is to allow you (the user) to run SQL commands on the database.  It is not an ORM and never will be.  The sun website <a href=\"http://java.sun.com/docs/books/tutorial/jdbc/\" rel=\"noreferrer\">http://java.sun.com/docs/books/tutorial/jdbc/</a> has a nice tutorial for JDBC. If you are interested in a ORM try <a href=\"http://www.hibernate.org/\" rel=\"noreferrer\">http://www.hibernate.org/</a>.</p>\n"},{"tags":[],"owner":{"account_id":5632533,"reputation":11,"user_id":4459052,"display_name":"Victor Sackor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1421361996,"creation_date":1421361996,"answer_id":27974423,"question_id":304782,"body_markdown":"JDBC is a set of java interfaces classes which connect your application with any relational database management system.","title":"What is JDBC (Java DataBase Connectivity)?","body":"<p>JDBC is a set of java interfaces classes which connect your application with any relational database management system.</p>\n"},{"tags":[],"owner":{"account_id":19914247,"reputation":11,"user_id":14591627,"display_name":"jonathasrochadesouza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607455383,"creation_date":1607455383,"answer_id":65205542,"question_id":304782,"body_markdown":"JDBC - Java Database Connectivity\r\n\r\nJDBC is a way to connect your database to your java development through a driver for each type of relational database (Oracle, MySql, MariaDB, AWS, ...)!\r\n\r\nThe JDBC can be downloaded in your java project using MAVEN in the Project!\r\nFrom there  you can pull the JDBC dependency for you project in the arquive POM of MAVEN.\r\nDependency link: https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n\r\n&lt;code&gt; Maven:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n        https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;NameId&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;NameProjectJava&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Package&lt;/name&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.22&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n&lt;code&gt;\r\n\r\n&lt;code&gt; Instance database in the Java with JDBC:\r\n\r\n    public class DB {\r\n\r\n\tConnection con;\r\n\tMysqlDataSource dataSource = new MysqlDataSource();\r\n\tprivate Statement stmt;\r\n\tprivate ResultSet rs;\r\n\tstatic private DB instance;\r\n\r\n\tprivate DB(String host, String user, String password, int port, String dbName) throws SQLException {\r\n\t\tdataSource.setDatabaseName(dbName);\r\n\t\tdataSource.setServerName(host);\r\n\t\tdataSource.setUser(user);\r\n\t\tdataSource.setPassword(password);\r\n\t\tdataSource.setPort(port);\r\n\t\tdataSource.setServerTimezone(&quot;UTC&quot;);\r\n\t}\r\n\r\n\tprivate Connection getConnection() throws SQLException {\r\n\t\treturn this.dataSource.getConnection();\r\n\t}\r\n\r\n\tpublic static DB getInstance() {\r\n\t\tif (instance == null) {\r\n\t\t\ttry {\r\n\t\t\t\tinstance = new DB(&quot;localhost&quot;, &quot;root&quot;, null, 3306, &quot;group3_hr&quot;);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n&lt;code&gt;\r\n\r\n[1]:https://i.stack.imgur.com/gUwkr.jpg","title":"What is JDBC (Java DataBase Connectivity)?","body":"<p>JDBC - Java Database Connectivity</p>\n<p>JDBC is a way to connect your database to your java development through a driver for each type of relational database (Oracle, MySql, MariaDB, AWS, ...)!</p>\n<p>The JDBC can be downloaded in your java project using MAVEN in the Project!\nFrom there  you can pull the JDBC dependency for you project in the arquive POM of MAVEN.\nDependency link: <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/mysql/mysql-connector-java</a></p>\n<p><code> Maven:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;NameId&lt;/groupId&gt;\n    &lt;artifactId&gt;NameProjectJava&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Package&lt;/name&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.22&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n\n\n<p> Instance database in the Java with JDBC:</p>\n<pre>public class DB {\n\nConnection con;\nMysqlDataSource dataSource = new MysqlDataSource();\nprivate Statement stmt;\nprivate ResultSet rs;\nstatic private DB instance;\n\nprivate DB(String host, String user, String password, int port, String dbName) throws SQLException {\n    dataSource.setDatabaseName(dbName);\n    dataSource.setServerName(host);\n    dataSource.setUser(user);\n    dataSource.setPassword(password);\n    dataSource.setPort(port);\n    dataSource.setServerTimezone(&quot;UTC&quot;);\n}\n\nprivate Connection getConnection() throws SQLException {\n    return this.dataSource.getConnection();\n}\n\npublic static DB getInstance() {\n    if (instance == null) {\n        try {\n            instance = new DB(&quot;localhost&quot;, &quot;root&quot;, null, 3306, &quot;group3_hr&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    return instance;\n}\n</code></pre>\n\n"}],"owner":{"account_id":4105,"reputation":281414,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1669382250,"accepted_answer_id":304793,"answer_count":6,"score":1,"last_activity_date":1679259041,"creation_date":1227173833,"question_id":304782,"body_markdown":"What is JDBC and where can I start learning about?\r\n\r\nI know it&#39;s a way to access databases with Java, but what problems does it solve? Is it an ORM (or does it try to be)? Does it abstract away differences between databases, at the syntax level? What does it do? and what does it not do?","title":"What is JDBC (Java DataBase Connectivity)?","body":"<p>What is JDBC and where can I start learning about?</p>\n\n<p>I know it's a way to access databases with Java, but what problems does it solve? Is it an ORM (or does it try to be)? Does it abstract away differences between databases, at the syntax level? What does it do? and what does it not do?</p>\n"},{"tags":["java","database","windows","driver"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679258964,"post_id":75784824,"comment_id":133684933,"body_markdown":"What program is `CharacterCreator.exe`?","body":"What program is <code>CharacterCreator.exe</code>?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1679260543,"post_id":75784824,"comment_id":133685172,"body_markdown":"Most likely you have not used jpackage adding the correct JDBC driver dependencies, try running with only the jars in the installed directory and see if [win-console](https://stackoverflow.com/questions/62606900/in-java-how-do-you-debug-exe-created-by-jpackage/62621695#62621695) helps","body":"Most likely you have not used jpackage adding the correct JDBC driver dependencies, try running with only the jars in the installed directory and see if <a href=\"https://stackoverflow.com/questions/62606900/in-java-how-do-you-debug-exe-created-by-jpackage/62621695#62621695\">win-console</a> helps"},{"owner":{"account_id":21765577,"reputation":35,"user_id":16069513,"display_name":"Vincent"},"score":0,"creation_date":1679344572,"post_id":75784824,"comment_id":133702243,"body_markdown":"```CharacterCreator.exe``` is the executable of my application. \n\nWhat do you mean by &quot;running with only the jars in the installed directory&quot;? Thank you for talking about win-console, I didn&#39;t know about it. I&#39;ll try it when I have some time !","body":"<code>CharacterCreator.exe</code> is the executable of my application.   What do you mean by &quot;running with only the jars in the installed directory&quot;? Thank you for talking about win-console, I didn&#39;t know about it. I&#39;ll try it when I have some time !"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1679388909,"post_id":75784824,"comment_id":133708428,"body_markdown":"You say run from terminal works, so substitute every item in that command line with the corresponding item in release directory structure. If you cannot do that you have not packaged the right dependencies.","body":"You say run from terminal works, so substitute every item in that command line with the corresponding item in release directory structure. If you cannot do that you have not packaged the right dependencies."}],"owner":{"account_id":21765577,"reputation":35,"user_id":16069513,"display_name":"Vincent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679258722,"creation_date":1679258722,"question_id":75784824,"body_markdown":"I am developping an app for Windows by myself and have issues with it since it is my first time. My environment is Windows 11 and my terminal uses Visual Studio environment vcvars64.  I package my app with the commands ```gradle clean jlink --info and gradle jpackage -PinstallerType=msi.```\r\n\r\nMy code for accessing the database is the following : \r\n```\r\npublic ConnectionDB() {\r\n   try {\r\n      System.out.print(&quot;Connecting to the database... &quot;);\r\n      this.co = DriverManager.getConnection(DB_CONN_URL, DB_USER, DB_PASSWD);\r\n      System.out.println(&quot;Connected&quot;);\r\n   } catch (SQLException e) {\r\n      System.err.println(&quot;Failed&quot;);\r\n      e.printStackTrace(System.err);\r\n   }\r\n}\r\n\r\npublic Connection getCo() {\r\n   return co;\r\n}\r\n\r\npublic void close() {\r\n   try {\r\n      // Fermeture de la connection\r\n      System.out.print(&quot;Disconnecting from the database... &quot;);\r\n      this.co.close();\r\n      System.out.println(&quot;disconnected&quot;);\r\n   } catch (SQLException e) {\r\n      System.err.println(&quot;failed&quot;);\r\n      e.printStackTrace(System.err);\r\n   }\r\n}\r\n\r\npublic ResultSet executeQuery(String query) {\r\n   // System.out.println(query);\r\n   try {\r\n      Statement statement = co.createStatement();\r\n      ResultSet result = statement.executeQuery(query);\r\n      return result;\r\n   } catch (SQLException e) {\r\n      e.printStackTrace();\r\n      System.out.println(e.getMessage());\r\n      System.out.println(e.getErrorCode());\r\n   }\r\n   return null;\r\n}\r\n```\r\n\r\nWhen launching from my terminal I encounter no error but when I launch the .exe, my calls to my remote database crash for some of them, notably the inserts. When debugging the process running the database connection with Visual Studio, I encounter the following error with each access demand to my remote database : ```Exception thrown at 0x000001FE3BCBF1B1 in CharacterCreator.exe: 0xC0000005: Access violation reading location 0x0000000000000008```.\r\n\r\nI have made my researchs but cannot find a clue on what to do to correct this or even dig further into the issue.\r\n\r\nWould you happen to have valuable information?","title":"Database access causes reader access violation with java.sql.DriverManager on Windows","body":"<p>I am developping an app for Windows by myself and have issues with it since it is my first time. My environment is Windows 11 and my terminal uses Visual Studio environment vcvars64.  I package my app with the commands <code>gradle clean jlink --info and gradle jpackage -PinstallerType=msi.</code></p>\n<p>My code for accessing the database is the following :</p>\n<pre><code>public ConnectionDB() {\n   try {\n      System.out.print(&quot;Connecting to the database... &quot;);\n      this.co = DriverManager.getConnection(DB_CONN_URL, DB_USER, DB_PASSWD);\n      System.out.println(&quot;Connected&quot;);\n   } catch (SQLException e) {\n      System.err.println(&quot;Failed&quot;);\n      e.printStackTrace(System.err);\n   }\n}\n\npublic Connection getCo() {\n   return co;\n}\n\npublic void close() {\n   try {\n      // Fermeture de la connection\n      System.out.print(&quot;Disconnecting from the database... &quot;);\n      this.co.close();\n      System.out.println(&quot;disconnected&quot;);\n   } catch (SQLException e) {\n      System.err.println(&quot;failed&quot;);\n      e.printStackTrace(System.err);\n   }\n}\n\npublic ResultSet executeQuery(String query) {\n   // System.out.println(query);\n   try {\n      Statement statement = co.createStatement();\n      ResultSet result = statement.executeQuery(query);\n      return result;\n   } catch (SQLException e) {\n      e.printStackTrace();\n      System.out.println(e.getMessage());\n      System.out.println(e.getErrorCode());\n   }\n   return null;\n}\n</code></pre>\n<p>When launching from my terminal I encounter no error but when I launch the .exe, my calls to my remote database crash for some of them, notably the inserts. When debugging the process running the database connection with Visual Studio, I encounter the following error with each access demand to my remote database : <code>Exception thrown at 0x000001FE3BCBF1B1 in CharacterCreator.exe: 0xC0000005: Access violation reading location 0x0000000000000008</code>.</p>\n<p>I have made my researchs but cannot find a clue on what to do to correct this or even dig further into the issue.</p>\n<p>Would you happen to have valuable information?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679258069,"creation_date":1679258069,"answer_id":75784776,"question_id":75784675,"body_markdown":"You can use the `BeanFactoryPostProcessor` to create `RedisRateLimiter` beans based on the application properties.\r\n\r\nI am basing the answer over the following `RateLimitProperties` POJO definition:\r\n\r\n    @ConfigurationProperties(prefix = &quot;rate-limit&quot;)\r\n    public class RateLimitProperties {\r\n        \r\n        private List&lt;RateLimit&gt; properties;\r\n        \r\n        public List&lt;RateLimit&gt; getProperties() {\r\n            return properties;\r\n        }\r\n        \r\n        public void setProperties(List&lt;RateLimit&gt; properties) {\r\n            this.properties = properties;\r\n        }\r\n        \r\n        public static class RateLimit {\r\n            \r\n            private int rate;\r\n            \r\n            // getters and setters\r\n            \r\n            public int getRate() {\r\n                return rate;\r\n            }\r\n            \r\n            public void setRate(int rate) {\r\n                this.rate = rate;\r\n            }\r\n        }\r\n    }\r\n\r\nHere down the `BeanFactoryPostProcessor` implementation leveraging each `RateLimit` config item to create the respective bean:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.config.BeanDefinition;\r\n    import org.springframework.beans.factory.config.BeanFactoryPostProcessor;\r\n    import org.springframework.beans.factory.support.BeanDefinitionBuilder;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\n    import org.springframework.beans.factory.support.BeanNameGenerator;\r\n    import org.springframework.beans.factory.support.DefaultBeanNameGenerator;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    \r\n    @Component\r\n    public class RateLimitingPostProcessor implements BeanFactoryPostProcessor {\r\n    \r\n      // Suggesting that you already have a `RateLimitProperties` class defined\r\n      private final RateLimitProperties properties;\r\n    \r\n      public RateLimitingPostProcessorRateLimitProperties properties) {\r\n        this.properties = properties;\r\n      }\r\n    \r\n      @Override\r\n      public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        BeanNameGenerator beanNameGenerator = new DefaultBeanNameGenerator();\r\n        BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\r\n    \r\n        List&lt;RateLimit&gt; rateLimits = this.properties.getProperties();\r\n        for (int i = 0; i &lt; rateLimits.size(); i++) {\r\n          RateLimit rateLimit = rateLimits.get(i);\r\n          BeanDefinition beanDefinition = BeanDefinitionBuilder.genericBeanDefinition(RedisRateLimiter.class)\r\n            .addConstructorArgValue(rateLimit.getRate())\r\n            .addConstructorArgValue(rateLimit.getDuration())\r\n            .addConstructorArgValue(rateLimit.getKeyResolver())\r\n            .getBeanDefinition();\r\n          registry.registerBeanDefinition(beanNameGenerator.generateBeanName(beanDefinition), beanDefinition);\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nYou should then update your application configuration to include the `RateLimitingPostProcessor` type:\r\n\r\n    @Configuration\r\n    public class ApplicationConfig {\r\n    \r\n      private final RateLimitProperties properties;\r\n    \r\n      public AppConfig(RateLimitProperties properties) {\r\n        this.properties = properties;\r\n      }\r\n    \r\n      @Bean\r\n      public RateLimitingPostProcessor rateLimitingPostProcessor() {\r\n        return new RateLimitingPostProcessor(properties);\r\n      }\r\n    \r\n    }\r\n\r\nYou should then be able to inject the `RedisRateLimiter` beans as follows:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;redisRateLimiters&quot;)\r\n    private List&lt;RedisRateLimiter&gt; redisRateLimiters;","title":"How to creatre a list of beans (RedisRateLimiter) from application.properties in Spring Boot (Spring Cloud Gateway)?","body":"<p>You can use the <code>BeanFactoryPostProcessor</code> to create <code>RedisRateLimiter</code> beans based on the application properties.</p>\n<p>I am basing the answer over the following <code>RateLimitProperties</code> POJO definition:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;rate-limit&quot;)\npublic class RateLimitProperties {\n    \n    private List&lt;RateLimit&gt; properties;\n    \n    public List&lt;RateLimit&gt; getProperties() {\n        return properties;\n    }\n    \n    public void setProperties(List&lt;RateLimit&gt; properties) {\n        this.properties = properties;\n    }\n    \n    public static class RateLimit {\n        \n        private int rate;\n        \n        // getters and setters\n        \n        public int getRate() {\n            return rate;\n        }\n        \n        public void setRate(int rate) {\n            this.rate = rate;\n        }\n    }\n}\n</code></pre>\n<p>Here down the <code>BeanFactoryPostProcessor</code> implementation leveraging each <code>RateLimit</code> config item to create the respective bean:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.config.BeanDefinition;\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor;\nimport org.springframework.beans.factory.support.BeanDefinitionBuilder;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.beans.factory.support.BeanNameGenerator;\nimport org.springframework.beans.factory.support.DefaultBeanNameGenerator;\nimport org.springframework.stereotype.Component;\n\n\n@Component\npublic class RateLimitingPostProcessor implements BeanFactoryPostProcessor {\n\n  // Suggesting that you already have a `RateLimitProperties` class defined\n  private final RateLimitProperties properties;\n\n  public RateLimitingPostProcessorRateLimitProperties properties) {\n    this.properties = properties;\n  }\n\n  @Override\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n    BeanNameGenerator beanNameGenerator = new DefaultBeanNameGenerator();\n    BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\n\n    List&lt;RateLimit&gt; rateLimits = this.properties.getProperties();\n    for (int i = 0; i &lt; rateLimits.size(); i++) {\n      RateLimit rateLimit = rateLimits.get(i);\n      BeanDefinition beanDefinition = BeanDefinitionBuilder.genericBeanDefinition(RedisRateLimiter.class)\n        .addConstructorArgValue(rateLimit.getRate())\n        .addConstructorArgValue(rateLimit.getDuration())\n        .addConstructorArgValue(rateLimit.getKeyResolver())\n        .getBeanDefinition();\n      registry.registerBeanDefinition(beanNameGenerator.generateBeanName(beanDefinition), beanDefinition);\n    }\n  }\n\n}\n</code></pre>\n<p>You should then update your application configuration to include the <code>RateLimitingPostProcessor</code> type:</p>\n<pre><code>@Configuration\npublic class ApplicationConfig {\n\n  private final RateLimitProperties properties;\n\n  public AppConfig(RateLimitProperties properties) {\n    this.properties = properties;\n  }\n\n  @Bean\n  public RateLimitingPostProcessor rateLimitingPostProcessor() {\n    return new RateLimitingPostProcessor(properties);\n  }\n\n}\n</code></pre>\n<p>You should then be able to inject the <code>RedisRateLimiter</code> beans as follows:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;redisRateLimiters&quot;)\nprivate List&lt;RedisRateLimiter&gt; redisRateLimiters;\n</code></pre>\n"}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679258069,"creation_date":1679256765,"question_id":75784675,"body_markdown":"For example, I have application.yml where I set properties to create different beans of RedisRateLimiter:\r\n```\r\nrate-limit:\r\n  properties:\r\n    - rate: 2\r\n    - rate: 5\r\n      ...\r\n```\r\nThe thing is, that I dont know how many beans will be, I need to create them according to properties.\r\nWhen I create @Bean List &lt;&quot;RedisRateLimiter&gt;, and try to use any of them calling isAllowed() method, I get exception:\r\n**RedisRateLimiter is not initialized at org.springframework.cloud.gateway.filter.ratelimit.RedisRateLimiter.isAllowed**:\r\n```\r\n    @Bean\r\n    @Qualifier(&quot;redisRateLimiters&quot;)\r\n    public List&lt;RedisRateLimiter&gt; redisRateLimiters() {\r\n        return properties.getProperties().stream()\r\n            .map(rateLimit -&gt; new RedisRateLimiter(..., rateLimit.getRate()))\r\n            .toList();\r\n    }\r\n```\r\n\r\nBut when I create single bean @Bean RedisRateLimiter and use it, it works fine. \r\n```\r\n    @Bean\r\n    public RedisRateLimiter redisRateLimiter1() {\r\n        return new RedisRateLimiter(1, properties.getProperties().get(0).getRate());\r\n    }\r\n```\r\nHow can I create list of this beans properly (maybe with BeanFactoryPostProcessor somehow)?\r\nP.S. I need this beans to limit requests to differents URLs, each with own rate. Maybe I am going to wrong direction and it can be done in other way.","title":"How to creatre a list of beans (RedisRateLimiter) from application.properties in Spring Boot (Spring Cloud Gateway)?","body":"<p>For example, I have application.yml where I set properties to create different beans of RedisRateLimiter:</p>\n<pre><code>rate-limit:\n  properties:\n    - rate: 2\n    - rate: 5\n      ...\n</code></pre>\n<p>The thing is, that I dont know how many beans will be, I need to create them according to properties.\nWhen I create @Bean List &lt;&quot;RedisRateLimiter&gt;, and try to use any of them calling isAllowed() method, I get exception:\n<strong>RedisRateLimiter is not initialized at org.springframework.cloud.gateway.filter.ratelimit.RedisRateLimiter.isAllowed</strong>:</p>\n<pre><code>    @Bean\n    @Qualifier(&quot;redisRateLimiters&quot;)\n    public List&lt;RedisRateLimiter&gt; redisRateLimiters() {\n        return properties.getProperties().stream()\n            .map(rateLimit -&gt; new RedisRateLimiter(..., rateLimit.getRate()))\n            .toList();\n    }\n</code></pre>\n<p>But when I create single bean @Bean RedisRateLimiter and use it, it works fine.</p>\n<pre><code>    @Bean\n    public RedisRateLimiter redisRateLimiter1() {\n        return new RedisRateLimiter(1, properties.getProperties().get(0).getRate());\n    }\n</code></pre>\n<p>How can I create list of this beans properly (maybe with BeanFactoryPostProcessor somehow)?\nP.S. I need this beans to limit requests to differents URLs, each with own rate. Maybe I am going to wrong direction and it can be done in other way.</p>\n"},{"tags":["java","database","encryption","whatsapp"],"comments":[{"owner":{"account_id":1970775,"reputation":841,"user_id":2036036,"display_name":"radomaj"},"score":0,"creation_date":1394499558,"post_id":22314416,"comment_id":33908383,"body_markdown":"Maybe convert the question/answer to a community wiki?","body":"Maybe convert the question/answer to a community wiki?"},{"owner":{"account_id":2558003,"reputation":12091,"user_id":2219600,"accept_rate":70,"display_name":"amalBit"},"score":0,"creation_date":1398835249,"post_id":22314416,"comment_id":35815459,"body_markdown":"Check this answer for decrypting the [whatsApp crypt5 DB.](http://stackoverflow.com/a/23380177/2219600)","body":"Check this answer for decrypting the <a href=\"http://stackoverflow.com/a/23380177/2219600\">whatsApp crypt5 DB.</a>"}],"answers":[{"tags":[],"owner":{"account_id":4087415,"reputation":535,"user_id":3356376,"accept_rate":20,"display_name":"ali.turan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1394499498,"creation_date":1394499498,"answer_id":22314417,"question_id":22314416,"body_markdown":"    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.InputStream;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.CipherInputStream;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    \r\n    public class Crypto {\r\n    \t\r\n    \tpublic FileInputStream mIn;\r\n    \tpublic FileOutputStream mOut;\r\n    \tpublic Crypto(String fileIn, String fileOut) {\r\n            try {\r\n                    mIn = new FileInputStream(new File(fileIn));\r\n                    mOut = new FileOutputStream(new File(fileOut));\r\n                    decryptAES(mIn, mOut);\r\n            } catch (Exception e) {\r\n                    e.printStackTrace();\r\n            }\r\n    \t}\r\n    \t\r\n    \tpublic static void decryptAES(InputStream in, FileOutputStream out) throws Exception {\r\n    \t\tfinal String string = &quot;346a23652a46392b4d73257c67317e352e3372482177652c&quot;;\r\n            byte[] hexAsBytes = DatatypeConverter.parseHexBinary(string);\r\n            \r\n            SecretKeySpec keySpec = new SecretKeySpec(hexAsBytes, &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES&quot;); \r\n           \r\n            cipher.init(Cipher.DECRYPT_MODE, keySpec);\r\n                \r\n            in = new CipherInputStream(in, cipher);\r\n            byte[] buffer = new byte[24]; \r\n            int bytesRead;\r\n            while ((bytesRead = in.read(buffer)) != -1)\r\n            {\r\n                out.write(buffer, 0, bytesRead);\r\n            }\r\n    \t      \r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args){    \r\n    \t\tCrypto c = new Crypto(&quot;C:\\\\msgstore.db.crypt&quot;, &quot;D:\\\\WhatsappDb&quot;);\r\n    \t\tSystem.out.println(&quot;Decrypting Done&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How to decrypt Whatsapp Database File?","body":"<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.InputStream;\nimport javax.crypto.Cipher;\nimport javax.crypto.CipherInputStream;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.xml.bind.DatatypeConverter;\n\n\npublic class Crypto {\n\n    public FileInputStream mIn;\n    public FileOutputStream mOut;\n    public Crypto(String fileIn, String fileOut) {\n        try {\n                mIn = new FileInputStream(new File(fileIn));\n                mOut = new FileOutputStream(new File(fileOut));\n                decryptAES(mIn, mOut);\n        } catch (Exception e) {\n                e.printStackTrace();\n        }\n    }\n\n    public static void decryptAES(InputStream in, FileOutputStream out) throws Exception {\n        final String string = \"346a23652a46392b4d73257c67317e352e3372482177652c\";\n        byte[] hexAsBytes = DatatypeConverter.parseHexBinary(string);\n\n        SecretKeySpec keySpec = new SecretKeySpec(hexAsBytes, \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES\"); \n\n        cipher.init(Cipher.DECRYPT_MODE, keySpec);\n\n        in = new CipherInputStream(in, cipher);\n        byte[] buffer = new byte[24]; \n        int bytesRead;\n        while ((bytesRead = in.read(buffer)) != -1)\n        {\n            out.write(buffer, 0, bytesRead);\n        }\n\n    }\n\n\n    public static void main(String[] args){    \n        Crypto c = new Crypto(\"C:\\\\msgstore.db.crypt\", \"D:\\\\WhatsappDb\");\n        System.out.println(\"Decrypting Done\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044370,"reputation":2798,"user_id":1049677,"display_name":"Willem Hengeveld"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498858560,"creation_date":1498858560,"answer_id":44855120,"question_id":22314416,"body_markdown":"An updated answer for `.crypt12` files:\r\n\r\nThese are compressed, and then encrypted using AES in GCM mode\r\n\r\nHere is some python code showing how:\r\n\r\n&lt;!-- language: python --&gt;\r\n\r\n    &quot;&quot;&quot;\r\n    Example how to decrypt whatsapp msgstore backups with extension .crypt12.\r\n    Author: Willem Hengeveld &lt;itsme@xs4all.nl&gt;\r\n    &quot;&quot;&quot;\r\n    from Crypto.Cipher import AES\r\n    import zlib\r\n    import sys\r\n    \r\n    datafile = keyfile = None\r\n    \r\n    if len(sys.argv)==1:\r\n        print(&quot;Usage: decrypt12.py &lt;keyfile&gt; &lt;msgstore.db.crypt12&gt;&quot;)\r\n        print(&quot;  the key file is commonly found in /data/data/com.whatsapp/files/key&quot;)\r\n        print(&quot;  the crypt file is commonly found in the directory: /data/media/0/WhatsApp/Databases/&quot;)\r\n        exit(1)\r\n    \r\n    for arg in sys.argv[1:]:\r\n        if arg.find(&#39;crypt12&#39;)&gt;0:\r\n            datafile = arg\r\n        elif arg.find(&#39;key&#39;)&gt;0:\r\n            keyfile = arg\r\n        else:\r\n            print(&quot;unknown arg&quot;, arg)\r\n    \r\n    with open(keyfile, &quot;rb&quot;) as fh:\r\n       keydata = fh.read()\r\n    key = keydata[126:]\r\n    \r\n    with open(datafile, &quot;rb&quot;) as fh:\r\n       filedata = fh.read()\r\n    iv = filedata[51:67]\r\n    \r\n    aes = AES.new(key, mode=AES.MODE_GCM, nonce=iv)\r\n    \r\n    with open(&quot;msg-decrypted.db&quot;, &quot;wb&quot;) as fh:\r\n        fh.write(zlib.decompress(aes.decrypt(filedata[67:-20])))\r\n","title":"How to decrypt Whatsapp Database File?","body":"<p>An updated answer for <code>.crypt12</code> files:</p>\n\n<p>These are compressed, and then encrypted using AES in GCM mode</p>\n\n<p>Here is some python code showing how:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\"\"\"\nExample how to decrypt whatsapp msgstore backups with extension .crypt12.\nAuthor: Willem Hengeveld &lt;itsme@xs4all.nl&gt;\n\"\"\"\nfrom Crypto.Cipher import AES\nimport zlib\nimport sys\n\ndatafile = keyfile = None\n\nif len(sys.argv)==1:\n    print(\"Usage: decrypt12.py &lt;keyfile&gt; &lt;msgstore.db.crypt12&gt;\")\n    print(\"  the key file is commonly found in /data/data/com.whatsapp/files/key\")\n    print(\"  the crypt file is commonly found in the directory: /data/media/0/WhatsApp/Databases/\")\n    exit(1)\n\nfor arg in sys.argv[1:]:\n    if arg.find('crypt12')&gt;0:\n        datafile = arg\n    elif arg.find('key')&gt;0:\n        keyfile = arg\n    else:\n        print(\"unknown arg\", arg)\n\nwith open(keyfile, \"rb\") as fh:\n   keydata = fh.read()\nkey = keydata[126:]\n\nwith open(datafile, \"rb\") as fh:\n   filedata = fh.read()\niv = filedata[51:67]\n\naes = AES.new(key, mode=AES.MODE_GCM, nonce=iv)\n\nwith open(\"msg-decrypted.db\", \"wb\") as fh:\n    fh.write(zlib.decompress(aes.decrypt(filedata[67:-20])))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182639,"reputation":812,"user_id":1931774,"display_name":"SkateScout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544265789,"creation_date":1544265789,"answer_id":53681712,"question_id":22314416,"body_markdown":"here is an pure java routine for .db.crypt12 without bouncycastle, but only JDK.\r\n\r\n    public class Crypt12 {\r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal String c12File         = &quot;1/msgstore.db.crypt12&quot;; // input file\r\n    \t\tfinal String decryptedDbFile = &quot;1/msgstore.db&quot;;         // sqlite3 db output file\r\n    \t\tfinal String keyFile         = &quot;1/key&quot;;\r\n    \t\ttry {\r\n    \t\t\tfinal byte[] key; try(FileInputStream s = new FileInputStream(keyFile)) { key = s.readAllBytes(); }\r\n    \t\t\tfinal byte[] buf; try(FileInputStream s = new FileInputStream(c12File)) { buf = s.readAllBytes(); }\r\n    \t\t\tif(!Arrays.equals(key, 27, 78, buf, 0, 51)) { System.out.println(&quot;Wrong Key-File&quot;); return; }\r\n    \t\t\tfinal int available = buf.length - 67  - 20; // 67 Byte Header + 20 byte footer\r\n    \t\t\tfinal Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n    \t\t\tfinal GCMParameterSpec iv = new GCMParameterSpec(128, buf, 51, 16);\r\n    \t\t\tcipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key, 126, 32, &quot;AES&quot;), iv);\r\n    \t\t\tfinal int zipLen = cipher.doFinal(buf, 67, available, buf, 0);\r\n    \t\t\tfinal Inflater unzip = new Inflater(false);\r\n    \t\t\ttry(FileOutputStream s = new FileOutputStream(decryptedDbFile)) {\r\n    \t\t\t\tunzip.setInput(buf, 0, zipLen);\r\n    \t\t\t\tfinal byte[] b = new byte[1024];\r\n    \t\t\t\twhile(!unzip.needsInput()) {\r\n    \t\t\t\t\tfinal int l = unzip.inflate(b, 0, b.length);\r\n    \t\t\t\t\tif(l &gt; 0) s.write(b, 0, l);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\te.printStackTrace(System.out);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to decrypt Whatsapp Database File?","body":"<p>here is an pure java routine for .db.crypt12 without bouncycastle, but only JDK.</p>\n\n<pre><code>public class Crypt12 {\n    public static void main(final String[] args) {\n        final String c12File         = \"1/msgstore.db.crypt12\"; // input file\n        final String decryptedDbFile = \"1/msgstore.db\";         // sqlite3 db output file\n        final String keyFile         = \"1/key\";\n        try {\n            final byte[] key; try(FileInputStream s = new FileInputStream(keyFile)) { key = s.readAllBytes(); }\n            final byte[] buf; try(FileInputStream s = new FileInputStream(c12File)) { buf = s.readAllBytes(); }\n            if(!Arrays.equals(key, 27, 78, buf, 0, 51)) { System.out.println(\"Wrong Key-File\"); return; }\n            final int available = buf.length - 67  - 20; // 67 Byte Header + 20 byte footer\n            final Cipher cipher = Cipher.getInstance(\"AES/GCM/NoPadding\");\n            final GCMParameterSpec iv = new GCMParameterSpec(128, buf, 51, 16);\n            cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key, 126, 32, \"AES\"), iv);\n            final int zipLen = cipher.doFinal(buf, 67, available, buf, 0);\n            final Inflater unzip = new Inflater(false);\n            try(FileOutputStream s = new FileOutputStream(decryptedDbFile)) {\n                unzip.setInput(buf, 0, zipLen);\n                final byte[] b = new byte[1024];\n                while(!unzip.needsInput()) {\n                    final int l = unzip.inflate(b, 0, b.length);\n                    if(l &gt; 0) s.write(b, 0, l);\n                }\n            }\n        } catch (final Exception e) {\n            e.printStackTrace(System.out);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4087415,"reputation":535,"user_id":3356376,"accept_rate":20,"display_name":"ali.turan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16910,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1679257702,"creation_date":1394499498,"question_id":22314416,"body_markdown":"I was trying to decrypt Whatsapp database file (`msgstore.db.crypt`) with java. \r\n\r\nI found some python code and tried to do same thing with java. Probably its not that hard thing to do but I had some problems with handling decryption key. \r\n\r\nBut finally did it. So I wanted to share the code for people who need it. ","title":"How to decrypt Whatsapp Database File?","body":"<p>I was trying to decrypt Whatsapp database file (<code>msgstore.db.crypt</code>) with java. </p>\n\n<p>I found some python code and tried to do same thing with java. Probably its not that hard thing to do but I had some problems with handling decryption key. </p>\n\n<p>But finally did it. So I wanted to share the code for people who need it. </p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1679256294,"post_id":75784628,"comment_id":133684623,"body_markdown":"&quot;*but I can not get it to work*&quot; can we see your code? Use [edit] option to update your question.","body":"&quot;<i>but I can not get it to work</i>&quot; can we see your code? Use <a href=\"https://stackoverflow.com/posts/75784628/edit\">edit</a> option to update your question."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679256381,"creation_date":1679256381,"answer_id":75784645,"question_id":75784628,"body_markdown":"Use `String#split` to separate the parts.\r\n\r\n```java\r\nvar str = &quot;George:45:185&quot;;\r\nvar parts = str.split(&quot;:&quot;);\r\nString name = parts[0];\r\nint age = Integer.parseInt(parts[1]);\r\nint height = Integer.parseInt(parts[2]);\r\n```","title":"Java: Read many values from one string","body":"<p>Use <code>String#split</code> to separate the parts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var str = &quot;George:45:185&quot;;\nvar parts = str.split(&quot;:&quot;);\nString name = parts[0];\nint age = Integer.parseInt(parts[1]);\nint height = Integer.parseInt(parts[2]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16657882,"reputation":11,"user_id":12038717,"display_name":"Ishraq Ahmed Esha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679257125,"creation_date":1679256813,"answer_id":75784684,"question_id":75784628,"body_markdown":"In Java, you can use the `split()` method of the String class to split the string into an array of substrings based on a specified delimiter. In your case, you can split the string using the `colon (&quot;:&quot;) delimiter` as follows:\r\n\r\n```\r\nString info = &quot;George:45:185&quot;;\r\nString[] values = info.split(&quot;:&quot;);\r\n```\r\nThis will create an `array value` that contains three elements: &quot;George&quot;, &quot;45&quot;, and &quot;185&quot;. You can then access these values individually using `array indexing`:\r\n\r\n```\r\nString name = values[0];\r\nint age = Integer.parseInt(values[1]);\r\nint height = Integer.parseInt(values[2]);\r\n```\r\n\r\n*Note that if you need to convert the age and height strings to integers, then you have to use the `parseInt()` method of the `Integer class`.*\r\n","title":"Java: Read many values from one string","body":"<p>In Java, you can use the <code>split()</code> method of the String class to split the string into an array of substrings based on a specified delimiter. In your case, you can split the string using the <code>colon (&quot;:&quot;) delimiter</code> as follows:</p>\n<pre><code>String info = &quot;George:45:185&quot;;\nString[] values = info.split(&quot;:&quot;);\n</code></pre>\n<p>This will create an <code>array value</code> that contains three elements: &quot;George&quot;, &quot;45&quot;, and &quot;185&quot;. You can then access these values individually using <code>array indexing</code>:</p>\n<pre><code>String name = values[0];\nint age = Integer.parseInt(values[1]);\nint height = Integer.parseInt(values[2]);\n</code></pre>\n<p><em>Note that if you need to convert the age and height strings to integers, then you have to use the <code>parseInt()</code> method of the <code>Integer class</code>.</em></p>\n"}],"owner":{"account_id":26669340,"reputation":13,"user_id":20280977,"display_name":"SERO9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679257317,"answer_count":2,"score":-2,"last_activity_date":1679257125,"creation_date":1679256141,"question_id":75784628,"body_markdown":"Say if I have the string &quot;George:45:185&quot; that contains the information Name:age:height about a person; how would I go about reading these values individually from the string? The solution seems to be to separate the string at the &quot;:&quot; symbol and after that reading the values individually, but I can not get it to work.\r\n\r\nHow do I go about solving this?","title":"Java: Read many values from one string","body":"<p>Say if I have the string &quot;George:45:185&quot; that contains the information Name:age:height about a person; how would I go about reading these values individually from the string? The solution seems to be to separate the string at the &quot;:&quot; symbol and after that reading the values individually, but I can not get it to work.</p>\n<p>How do I go about solving this?</p>\n"},{"tags":["java","spring","cookies","axios","samesite"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679255655,"creation_date":1679255655,"answer_id":75784589,"question_id":75784497,"body_markdown":"try removing `.secure(true)`\r\n\r\nReason is that `.secure` only allows cookies to be transmitted via secure channels which is HTTPS. If you are developing locally, chances are you are using http so no cookie.\r\n\r\nAlso keep in mind that `.httpOnly(true)` will prevent your js code (so your react app) from accessing cookie. So in case your js code needs to read the cookie value you will need to disable it.","title":"Why is the cookie not being sent with Axios requests despite being set in the server response and CORS configuration?","body":"<p>try removing <code>.secure(true)</code></p>\n<p>Reason is that <code>.secure</code> only allows cookies to be transmitted via secure channels which is HTTPS. If you are developing locally, chances are you are using http so no cookie.</p>\n<p>Also keep in mind that <code>.httpOnly(true)</code> will prevent your js code (so your react app) from accessing cookie. So in case your js code needs to read the cookie value you will need to disable it.</p>\n"}],"owner":{"account_id":21023381,"reputation":23,"user_id":15449203,"display_name":"Johni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679255879,"creation_date":1679254499,"question_id":75784497,"body_markdown":"I&#39;m working on a web application that uses Java Spring on the server side and React on the client side. The server sends a cookie in the response when the user logs in, and subsequent requests from the client are expected to include this cookie for authentication. However, the cookie doesn&#39;t seem to be sent with the request, and I&#39;m not sure why.\r\n\r\nHere&#39;s the server-side code that sets the set-cookie header:\r\n\r\n```\r\n\r\nResponseCookie cookie = ResponseCookie.from(&quot;my_cookie&quot;, &quot;my_value&quot;)\r\n  .httpOnly(true)\r\n  .secure(false)\r\n  .sameSite(&quot;lax&quot;)\r\n  .build();\r\nresponse.addHeader(HttpHeaders.SET_COOKIE, cookie.toString());\r\n```\r\n\r\nAnd here&#39;s the client-side code that makes the request to refresh the access token:\r\n\r\n\r\n```\r\naxios.get(&#39;/api/v1/auth/refresh_token&#39;, { withCredentials: true })\r\n  .then(response =&gt; console.log(response))\r\n  .catch(error =&gt; console.error(error));\r\n```\r\n\r\nAnd here&#39;s the server-side code that sets the CORS configuration:\r\n\r\n```\r\npublic class CorsConfiguration {\r\n    @Value(&quot;${navaship.webapp.url}&quot;)\r\n    private String webAppUrl;\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                // Add the CORS configuration for the /api/v1/auth/refresh-token endpoint\r\n                registry.addMapping(&quot;/api/v*/auth/refresh-token&quot;)\r\n                        .allowedOrigins(webAppUrl)\r\n                        .allowedMethods(&quot;GET&quot;)\r\n                        .allowCredentials(true);\r\n\r\n                registry.addMapping(&quot;/api/v*/**&quot;)\r\n                        .allowedOrigins(webAppUrl)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve verified that the cookie is being set properly in the server response, and that the allowCredentials option is set to true in the CORS configuration for the /api/v1/auth/refresh-token endpoint. However, when I inspect the network requests in the browser console, I don&#39;t see the cookie being sent in the request headers.\r\n\r\n\r\nWhat could be causing the cookie to not be sent with the request? Is there anything I&#39;m missing in my code or configuration? Any help would be appreciated.","title":"Why is the cookie not being sent with Axios requests despite being set in the server response and CORS configuration?","body":"<p>I'm working on a web application that uses Java Spring on the server side and React on the client side. The server sends a cookie in the response when the user logs in, and subsequent requests from the client are expected to include this cookie for authentication. However, the cookie doesn't seem to be sent with the request, and I'm not sure why.</p>\n<p>Here's the server-side code that sets the set-cookie header:</p>\n<pre><code>\nResponseCookie cookie = ResponseCookie.from(&quot;my_cookie&quot;, &quot;my_value&quot;)\n  .httpOnly(true)\n  .secure(false)\n  .sameSite(&quot;lax&quot;)\n  .build();\nresponse.addHeader(HttpHeaders.SET_COOKIE, cookie.toString());\n</code></pre>\n<p>And here's the client-side code that makes the request to refresh the access token:</p>\n<pre><code>axios.get('/api/v1/auth/refresh_token', { withCredentials: true })\n  .then(response =&gt; console.log(response))\n  .catch(error =&gt; console.error(error));\n</code></pre>\n<p>And here's the server-side code that sets the CORS configuration:</p>\n<pre><code>public class CorsConfiguration {\n    @Value(&quot;${navaship.webapp.url}&quot;)\n    private String webAppUrl;\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                // Add the CORS configuration for the /api/v1/auth/refresh-token endpoint\n                registry.addMapping(&quot;/api/v*/auth/refresh-token&quot;)\n                        .allowedOrigins(webAppUrl)\n                        .allowedMethods(&quot;GET&quot;)\n                        .allowCredentials(true);\n\n                registry.addMapping(&quot;/api/v*/**&quot;)\n                        .allowedOrigins(webAppUrl)\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>I've verified that the cookie is being set properly in the server response, and that the allowCredentials option is set to true in the CORS configuration for the /api/v1/auth/refresh-token endpoint. However, when I inspect the network requests in the browser console, I don't see the cookie being sent in the request headers.</p>\n<p>What could be causing the cookie to not be sent with the request? Is there anything I'm missing in my code or configuration? Any help would be appreciated.</p>\n"},{"tags":["java","smallrye","mutiny"],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1609944852,"creation_date":1603108748,"answer_id":64426894,"question_id":64377747,"body_markdown":"I don&#39;t believe there is a built-in/better way to do this.\r\n\r\nMutiny generally prizes itself on having a &quot;cut-down&quot; set of operators in its core, and letting you build up other, more complex operators as needed. They&#39;re trying to avoid the reactor situation where you have 100+ methods on a couple of core types, and without a lot of background knowledge it&#39;s often difficult to know what ones are relevant.\r\n\r\nIMHO that&#39;s no bad thing. Other reactive frameworks definitely have these built-in `sort()` operators, but there&#39;s a danger here - people assume they can still treat them as infinite, magically sorted publishers, because there&#39;s no sign of any collections anywhere. You can&#39;t of course - internally these frameworks have to maintain an underlying collection to sort the data, and then just output the contents of that when the stream is complete. This isn&#39;t that clear however, and ignorance of this fact can often lead to unintended slowdowns and `OutOfMemoryError`. On the contrary, in your example, it&#39;s immediately obvious that this stream uses an underlying collection for sorting your data.\r\n\r\nThere&#39;s just one minor thing I&#39;d change in your example, but not really related to your question - I&#39;d use:\r\n\r\n`list.stream().sorted().collect(Collectors.toList())`\r\n\r\n...in your map call instead of sorting a mutable list. Mutating data structures in a reactive stream is a bit of a code smell.","title":"How do i sort a Multi in smallrye mutiny","body":"<p>I don't believe there is a built-in/better way to do this.</p>\n<p>Mutiny generally prizes itself on having a &quot;cut-down&quot; set of operators in its core, and letting you build up other, more complex operators as needed. They're trying to avoid the reactor situation where you have 100+ methods on a couple of core types, and without a lot of background knowledge it's often difficult to know what ones are relevant.</p>\n<p>IMHO that's no bad thing. Other reactive frameworks definitely have these built-in <code>sort()</code> operators, but there's a danger here - people assume they can still treat them as infinite, magically sorted publishers, because there's no sign of any collections anywhere. You can't of course - internally these frameworks have to maintain an underlying collection to sort the data, and then just output the contents of that when the stream is complete. This isn't that clear however, and ignorance of this fact can often lead to unintended slowdowns and <code>OutOfMemoryError</code>. On the contrary, in your example, it's immediately obvious that this stream uses an underlying collection for sorting your data.</p>\n<p>There's just one minor thing I'd change in your example, but not really related to your question - I'd use:</p>\n<p><code>list.stream().sorted().collect(Collectors.toList())</code></p>\n<p>...in your map call instead of sorting a mutable list. Mutating data structures in a reactive stream is a bit of a code smell.</p>\n"},{"tags":[],"owner":{"account_id":7954165,"reputation":98,"user_id":6004079,"display_name":"Dexter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612362033,"creation_date":1612362033,"answer_id":66029377,"question_id":64377747,"body_markdown":"Another approach I used - combine multis into TreeMap as soon as they come with `.collect().in(TREE_MAP_SUPPLIER, MULTI_MAP_ACCUMULATOR)`","title":"How do i sort a Multi in smallrye mutiny","body":"<p>Another approach I used - combine multis into TreeMap as soon as they come with <code>.collect().in(TREE_MAP_SUPPLIER, MULTI_MAP_ACCUMULATOR)</code></p>\n"},{"tags":[],"owner":{"account_id":22081947,"reputation":21,"user_id":16341397,"display_name":"Swe77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679255830,"creation_date":1679254687,"answer_id":75784515,"question_id":64377747,"body_markdown":"1. Convert the Multi to Uni (list).\r\n2. Sort the list from Uni.\r\n3. Convert the Uni to a Multi\r\n\r\n```\r\nmulti.collect().asList() //1\r\n.onItem()\r\n.transform(list -&gt; list.stream().sorted(Comparator.comparing(item::getId)).toList()) //2\r\n.onItem()\r\n.transformToMulti(list -&gt; Multi.createFrom().iterable(list)); //3\r\n```","title":"How do i sort a Multi in smallrye mutiny","body":"<ol>\n<li>Convert the Multi to Uni (list).</li>\n<li>Sort the list from Uni.</li>\n<li>Convert the Uni to a Multi</li>\n</ol>\n<pre><code>multi.collect().asList() //1\n.onItem()\n.transform(list -&gt; list.stream().sorted(Comparator.comparing(item::getId)).toList()) //2\n.onItem()\n.transformToMulti(list -&gt; Multi.createFrom().iterable(list)); //3\n</code></pre>\n"}],"owner":{"account_id":12510863,"reputation":111,"user_id":9106041,"display_name":"Krittam Kothari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1857,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64426894,"answer_count":3,"score":3,"last_activity_date":1679255830,"creation_date":1602786889,"question_id":64377747,"body_markdown":"Other reactive libraries like project reactor offer sort methods for Publishers but there is no such method in mutiny.\r\nTheir documentation doesn&#39;t even talk about it.\r\n\r\n&gt; https://smallrye.io/smallrye-mutiny\r\n\r\nRight now i&#39;m achieving the said functionality by doing this\r\n\r\n    multi.collectItems()\r\n    .asList()\r\n    .map(\r\n    list -&gt; {\r\n      list.sort();\r\n      return list;\r\n    })\r\n    .convert()\r\n    .with(listUni -&gt; Multi.createFrom().iterable(listUni.await().indefinitely()))\r\n\r\nIs there a better way to do the same ?\r\n\r\n","title":"How do i sort a Multi in smallrye mutiny","body":"<p>Other reactive libraries like project reactor offer sort methods for Publishers but there is no such method in mutiny.\nTheir documentation doesn't even talk about it.</p>\n<blockquote>\n<p><a href=\"https://smallrye.io/smallrye-mutiny\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny</a></p>\n</blockquote>\n<p>Right now i'm achieving the said functionality by doing this</p>\n<pre><code>multi.collectItems()\n.asList()\n.map(\nlist -&gt; {\n  list.sort();\n  return list;\n})\n.convert()\n.with(listUni -&gt; Multi.createFrom().iterable(listUni.await().indefinitely()))\n</code></pre>\n<p>Is there a better way to do the same ?</p>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679252602,"creation_date":1679252130,"answer_id":75784284,"question_id":75784153,"body_markdown":"Your error here is that when you saving collection to json file, but trying to read collection as FencersList object.\r\n\r\nI am talking about this line:\r\n\r\n    String jsonString = gson.toJson(list.getCollection());\r\n\r\nThis means that if you want to convert this jsonString back target object type should be the same as result of *list.getCollection()*, i.e. List&lt;Fencers&gt;. But instead of this you are trying deserialize json string to Fencers[]. It will not work\r\n\r\nIn order to be able to deserialize to *FencersList* you should create your json with\r\n```java\r\nString jsonString = gson.toJson(list);\r\n```\r\n\r\nWhich will make your json looks like this (collection is the name of field in your *FencersList* class):\r\n```json\r\n{ &quot;collection&quot;:[{&quot;name&quot;:&quot;m&quot;, &quot;nation&quot;:&quot;egy&quot;, &quot;id&quot;:100}] }\r\n```","title":"Extract an array from a Json file to put it in a class object","body":"<p>Your error here is that when you saving collection to json file, but trying to read collection as FencersList object.</p>\n<p>I am talking about this line:</p>\n<pre><code>String jsonString = gson.toJson(list.getCollection());\n</code></pre>\n<p>This means that if you want to convert this jsonString back target object type should be the same as result of <em>list.getCollection()</em>, i.e. List. But instead of this you are trying deserialize json string to Fencers[]. It will not work</p>\n<p>In order to be able to deserialize to <em>FencersList</em> you should create your json with</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonString = gson.toJson(list);\n</code></pre>\n<p>Which will make your json looks like this (collection is the name of field in your <em>FencersList</em> class):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;collection&quot;:[{&quot;name&quot;:&quot;m&quot;, &quot;nation&quot;:&quot;egy&quot;, &quot;id&quot;:100}] }\n</code></pre>\n"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75784284,"answer_count":1,"score":0,"last_activity_date":1679255759,"creation_date":1679250671,"question_id":75784153,"body_markdown":"so these are my classes\r\n```\r\npublic class Fencers{\r\n    private String name,nation;\r\n    private int id;\r\n\r\n    public Fencers(String name, String nation,int id) {\r\n        this.name = name;\r\n        this.nation = nation;\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\nthe following class stores the other class objects in an Array List\r\n```\r\nimport java.util.ArrayList;\r\npublic class FencersList {\r\n    private ArrayList&lt;Fencers&gt; collection;\r\n    public FencersList(){\r\n        collection = new ArrayList&lt;Fencers&gt;();\r\n    }\r\n\r\n    public ArrayList&lt;Fencers&gt; getCollection() {\r\n        return collection;\r\n    }\r\n\r\n    public void addfencer(Fencers fencer){\r\n        collection.add(fencer);\r\n    }\r\n    public String toString(){ //the toString method\r\n        System.out.println(&quot;**************** FENCERS ****************&quot;);\r\n        String total = &quot;\\n&quot;;\r\n        for (int i = 0;i&lt;collection.size();i++){\r\n            Fencers b = (Fencers) collection.get(i);\r\n            total = total + b.toString();\r\n        }\r\n        return total;\r\n    }\r\n    public void printFencers(){\r\n        System.out.println(this);\r\n    }\r\n}\r\n\r\n\r\n```\r\nand finally here is the main\r\n```\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.*;\r\n\r\n\r\nclass Main{\r\n\r\n    public static void main(String[] args){\r\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\r\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\r\n        FencersList list = new FencersList();\r\n        list.addfencer(fencer1);\r\n        list.addfencer(fencer2);\r\n        Gson gson = new Gson();\r\n        try (PrintWriter out = new PrintWriter(new FileWriter(&quot;file.json&quot;))) {\r\n            String jsonString = gson.toJson(list.getCollection());\r\n            out.write(jsonString);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;file.json&quot;));\r\n            Fencers[] fencers = gson.fromJson(br,Fencers[].class);\r\n            System.out.println(fencers);\r\n            list.addfencer(fencers);\r\n        } catch (Exception f){\r\n            f.printStackTrace();\r\n        }\r\n}\r\n}\r\n```\r\nhere I managed to save ```FencersList``` class object in a the ```file.json``` everything works fine\r\nmy only problem here is I can&#39;t convert the data back to ```FencersList``` simply because this format makes it so that ```Fencers``` is an array and ```FencerList``` only accepts normal class objects from ```Fencers``` and when I fix it and make it normal it gives me an error ```Expected BEGIN_OBJECT but was BEGIN_ARRAY``` so I am a little bit stuck.\r\n\r\nthis is the ```file.json``` btw\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;:&quot;m&quot;,\r\n    &quot;nation&quot;:&quot;egy&quot;,\r\n    &quot;id&quot;:100}\r\n ,{\r\n   &quot;name&quot;:&quot;342&quot;,\r\n   &quot;nation&quot;:&quot;egy&quot;,\r\n   &quot;id&quot;:120\r\n  }\r\n]\r\n```\r\n","title":"Extract an array from a Json file to put it in a class object","body":"<p>so these are my classes</p>\n<pre><code>public class Fencers{\n    private String name,nation;\n    private int id;\n\n    public Fencers(String name, String nation,int id) {\n        this.name = name;\n        this.nation = nation;\n        this.id = id;\n    }\n}\n</code></pre>\n<p>the following class stores the other class objects in an Array List</p>\n<pre><code>import java.util.ArrayList;\npublic class FencersList {\n    private ArrayList&lt;Fencers&gt; collection;\n    public FencersList(){\n        collection = new ArrayList&lt;Fencers&gt;();\n    }\n\n    public ArrayList&lt;Fencers&gt; getCollection() {\n        return collection;\n    }\n\n    public void addfencer(Fencers fencer){\n        collection.add(fencer);\n    }\n    public String toString(){ //the toString method\n        System.out.println(&quot;**************** FENCERS ****************&quot;);\n        String total = &quot;\\n&quot;;\n        for (int i = 0;i&lt;collection.size();i++){\n            Fencers b = (Fencers) collection.get(i);\n            total = total + b.toString();\n        }\n        return total;\n    }\n    public void printFencers(){\n        System.out.println(this);\n    }\n}\n\n\n</code></pre>\n<p>and finally here is the main</p>\n<pre><code>import com.google.gson.Gson;\n\nimport java.io.*;\n\n\nclass Main{\n\n    public static void main(String[] args){\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\n        FencersList list = new FencersList();\n        list.addfencer(fencer1);\n        list.addfencer(fencer2);\n        Gson gson = new Gson();\n        try (PrintWriter out = new PrintWriter(new FileWriter(&quot;file.json&quot;))) {\n            String jsonString = gson.toJson(list.getCollection());\n            out.write(jsonString);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            BufferedReader br = new BufferedReader(new FileReader(&quot;file.json&quot;));\n            Fencers[] fencers = gson.fromJson(br,Fencers[].class);\n            System.out.println(fencers);\n            list.addfencer(fencers);\n        } catch (Exception f){\n            f.printStackTrace();\n        }\n}\n}\n</code></pre>\n<p>here I managed to save <code>FencersList</code> class object in a the <code>file.json</code> everything works fine\nmy only problem here is I can't convert the data back to <code>FencersList</code> simply because this format makes it so that <code>Fencers</code> is an array and <code>FencerList</code> only accepts normal class objects from <code>Fencers</code> and when I fix it and make it normal it gives me an error <code>Expected BEGIN_OBJECT but was BEGIN_ARRAY</code> so I am a little bit stuck.</p>\n<p>this is the <code>file.json</code> btw</p>\n<pre><code>[\n  {\n    &quot;name&quot;:&quot;m&quot;,\n    &quot;nation&quot;:&quot;egy&quot;,\n    &quot;id&quot;:100}\n ,{\n   &quot;name&quot;:&quot;342&quot;,\n   &quot;nation&quot;:&quot;egy&quot;,\n   &quot;id&quot;:120\n  }\n]\n</code></pre>\n"},{"tags":["java","jaxb","wsdl"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679253601,"creation_date":1679253601,"answer_id":75784420,"question_id":75784406,"body_markdown":"\r\nAdd `maxOccurs=&quot;unbounded&quot;` to the other attribute too:\r\n\r\n\r\n\r\n      &lt;xs:complexType name=&quot;TypeGetPaymentDetailsAdditionRequest&quot;&gt;\r\n                &lt;xs:sequence&gt;\r\n                    &lt;xs:element name=&quot;PaymentDetails&quot;\r\n                          type=&quot;tns:TypeGetPaymentDetailAdditionRequest&quot; \r\n                          maxOccurs=&quot;unbounded&quot;/&gt;\r\n                &lt;/xs:sequence&gt;\r\n            &lt;/xs:complexType&gt;\r\n            &lt;xs:complexType name=&quot;TypeGetPaymentDetailsRequest&quot;&gt;\r\n                &lt;xs:sequence&gt;\r\n                    &lt;xs:element name=&quot;PaymentDetails&quot;\r\n                                type=&quot;tns:TypeGetPaymentDetailRequest&quot;\r\n                                maxOccurs=&quot;unbounded&quot;/&gt;\r\n                &lt;/xs:sequence&gt;\r\n            &lt;/xs:complexType&gt;","title":"JaxB takes into account maxOccurs=&quot;unbounded&quot; and it it is set, creates the inner element as list for sequence, otherwise just single field","body":"<p>Add <code>maxOccurs=&quot;unbounded&quot;</code> to the other attribute too:</p>\n<pre><code>  &lt;xs:complexType name=&quot;TypeGetPaymentDetailsAdditionRequest&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;PaymentDetails&quot;\n                      type=&quot;tns:TypeGetPaymentDetailAdditionRequest&quot; \n                      maxOccurs=&quot;unbounded&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n        &lt;xs:complexType name=&quot;TypeGetPaymentDetailsRequest&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;PaymentDetails&quot;\n                            type=&quot;tns:TypeGetPaymentDetailRequest&quot;\n                            maxOccurs=&quot;unbounded&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75784420,"answer_count":1,"score":0,"last_activity_date":1679253601,"creation_date":1679253401,"question_id":75784406,"body_markdown":"I have such types in WSDL, the only difference is `maxOccurs=&quot;unbounded&quot;`, however, the Java classes generated are different:\r\n\r\n\r\n\t\t\t&lt;xs:complexType name=&quot;TypeGetPaymentDetailsAdditionRequest&quot;&gt;\r\n\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t&lt;xs:element name=&quot;PaymentDetails&quot;\r\n\t\t\t\t\t\t\t\ttype=&quot;tns:TypeGetPaymentDetailAdditionRequest&quot;/&gt;\r\n\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t&lt;/xs:complexType&gt;\r\n\t\t\t&lt;xs:complexType name=&quot;TypeGetPaymentDetailsRequest&quot;&gt;\r\n\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t&lt;xs:element name=&quot;PaymentDetails&quot;\r\n\t\t\t\t\t\t\t\ttype=&quot;tns:TypeGetPaymentDetailRequest&quot;\r\n\t\t\t\t\t\t\t\tmaxOccurs=&quot;unbounded&quot;/&gt;\r\n\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t&lt;/xs:complexType&gt;\r\n\r\nThe Java classes, the first one have the `List&lt;&gt;` inside, while another doesn&#39;t.\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(\r\n        name = &quot;TypeGetPaymentDetailsRequest&quot;,\r\n        propOrder = {&quot;paymentDetails&quot;}\r\n    )\r\n    public class TypeGetPaymentDetailsRequest {\r\n        @XmlElement(\r\n            name = &quot;PaymentDetails&quot;,\r\n            required = true\r\n        )\r\n        protected List&lt;TypeGetPaymentDetailRequest&gt; paymentDetails;\r\n    \r\n        public TypeGetPaymentDetailsRequest() {\r\n        }\r\n    \r\n        public List&lt;TypeGetPaymentDetailRequest&gt; getPaymentDetails() {\r\n            if (this.paymentDetails == null) {\r\n                this.paymentDetails = new ArrayList();\r\n            }\r\n    \r\n            return this.paymentDetails;\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(\r\n        name = &quot;TypeGetPaymentDetailsAdditionRequest&quot;,\r\n        propOrder = {&quot;paymentDetails&quot;}\r\n    )\r\n    public class TypeGetPaymentDetailsAdditionRequest {\r\n        @XmlElement(\r\n            name = &quot;PaymentDetails&quot;,\r\n            required = true\r\n        )\r\n        protected TypeGetPaymentDetailAdditionRequest paymentDetails;\r\n    \r\n        public TypeGetPaymentDetailsAdditionRequest() {\r\n        }\r\n    \r\n        public TypeGetPaymentDetailAdditionRequest getPaymentDetails() {\r\n            return this.paymentDetails;\r\n        }\r\n    \r\n        public void setPaymentDetails(TypeGetPaymentDetailAdditionRequest value) {\r\n            this.paymentDetails = value;\r\n        }\r\n\r\n}\r\n\r\nHow one can force to make `paymentDetails` field to be a `List&lt;&gt;` in the second case too?\r\n\r\nJAXB version:\r\n\r\n    jaxb &quot;com.sun.xml.bind:jaxb-xjc:2.1.7&quot;","title":"JaxB takes into account maxOccurs=&quot;unbounded&quot; and it it is set, creates the inner element as list for sequence, otherwise just single field","body":"<p>I have such types in WSDL, the only difference is <code>maxOccurs=&quot;unbounded&quot;</code>, however, the Java classes generated are different:</p>\n<pre><code>        &lt;xs:complexType name=&quot;TypeGetPaymentDetailsAdditionRequest&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;PaymentDetails&quot;\n                            type=&quot;tns:TypeGetPaymentDetailAdditionRequest&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n        &lt;xs:complexType name=&quot;TypeGetPaymentDetailsRequest&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;PaymentDetails&quot;\n                            type=&quot;tns:TypeGetPaymentDetailRequest&quot;\n                            maxOccurs=&quot;unbounded&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n</code></pre>\n<p>The Java classes, the first one have the <code>List&lt;&gt;</code> inside, while another doesn't.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(\n    name = &quot;TypeGetPaymentDetailsRequest&quot;,\n    propOrder = {&quot;paymentDetails&quot;}\n)\npublic class TypeGetPaymentDetailsRequest {\n    @XmlElement(\n        name = &quot;PaymentDetails&quot;,\n        required = true\n    )\n    protected List&lt;TypeGetPaymentDetailRequest&gt; paymentDetails;\n\n    public TypeGetPaymentDetailsRequest() {\n    }\n\n    public List&lt;TypeGetPaymentDetailRequest&gt; getPaymentDetails() {\n        if (this.paymentDetails == null) {\n            this.paymentDetails = new ArrayList();\n        }\n\n        return this.paymentDetails;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(\n    name = &quot;TypeGetPaymentDetailsAdditionRequest&quot;,\n    propOrder = {&quot;paymentDetails&quot;}\n)\npublic class TypeGetPaymentDetailsAdditionRequest {\n    @XmlElement(\n        name = &quot;PaymentDetails&quot;,\n        required = true\n    )\n    protected TypeGetPaymentDetailAdditionRequest paymentDetails;\n\n    public TypeGetPaymentDetailsAdditionRequest() {\n    }\n\n    public TypeGetPaymentDetailAdditionRequest getPaymentDetails() {\n        return this.paymentDetails;\n    }\n\n    public void setPaymentDetails(TypeGetPaymentDetailAdditionRequest value) {\n        this.paymentDetails = value;\n    }\n</code></pre>\n<p>}</p>\n<p>How one can force to make <code>paymentDetails</code> field to be a <code>List&lt;&gt;</code> in the second case too?</p>\n<p>JAXB version:</p>\n<pre><code>jaxb &quot;com.sun.xml.bind:jaxb-xjc:2.1.7&quot;\n</code></pre>\n"},{"tags":["java","git","jgit"],"answers":[{"tags":[],"owner":{"account_id":116723,"reputation":30387,"user_id":305973,"accept_rate":67,"display_name":"robinst"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1679252764,"creation_date":1413609818,"answer_id":26436588,"question_id":26434452,"body_markdown":"You can use `RevFilter.MERGE_BASE` for that:\r\n\r\n    RevWalk walk = new RevWalk(repository);\r\n    walk.setRevFilter(RevFilter.MERGE_BASE);\r\n    walk.markStart(commit1);\r\n    walk.markStart(commit2);\r\n    RevCommit mergeBase = walk.next();\r\n\r\nAlso note that there is [BranchTrackingStatus](http://download.eclipse.org/jgit/site/3.5.1.201410131835-r/apidocs/org/eclipse/jgit/lib/BranchTrackingStatus.html) if all you are interested in is ahead/behind count of a branch compared to its remote-tracking branch.\r\n\r\nPer https://www.eclipse.org/forums/index.php/t/1091725/, you may need to re-parse the commits with `walk.parseCommit()`.","title":"How is a merge-base done in JGit?","body":"<p>You can use <code>RevFilter.MERGE_BASE</code> for that:</p>\n<pre><code>RevWalk walk = new RevWalk(repository);\nwalk.setRevFilter(RevFilter.MERGE_BASE);\nwalk.markStart(commit1);\nwalk.markStart(commit2);\nRevCommit mergeBase = walk.next();\n</code></pre>\n<p>Also note that there is <a href=\"http://download.eclipse.org/jgit/site/3.5.1.201410131835-r/apidocs/org/eclipse/jgit/lib/BranchTrackingStatus.html\" rel=\"nofollow noreferrer\">BranchTrackingStatus</a> if all you are interested in is ahead/behind count of a branch compared to its remote-tracking branch.</p>\n<p>Per <a href=\"https://www.eclipse.org/forums/index.php/t/1091725/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/1091725/</a>, you may need to re-parse the commits with <code>walk.parseCommit()</code>.</p>\n"},{"tags":[],"owner":{"account_id":7344825,"reputation":11,"user_id":5592906,"display_name":"arjunmathur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448233360,"creation_date":1448232658,"answer_id":33861217,"question_id":26434452,"body_markdown":"Here it is with JGit using BranchTrackingStatus:\r\n\r\n    public enum TrackingStatus {\r\n        SAME, BEHIND, AHEAD, DIVERGED\r\n    }\r\n\r\n    public TrackingStatus getTrackingStatus() throws IOException, GitAPIException {\r\n        Repository userRepo = new FileRepository(&lt;path_to_.git_file&gt;);\r\n        Git git = new Git(userRepo);\r\n        git.fetch().call();\r\n        BranchTrackingStatus bts = BranchTrackingStatus.of(git.getRepository(),\r\n                                                           git.getRepository().getBranch());\r\n        int aheadCount = bts.getAheadCount();\r\n        int behindCount = bts.getBehindCount();\r\n        if (aheadCount == 0 &amp;&amp; behindCount == 0) {\r\n            return TrackingStatus.SAME;\r\n        } else if (aheadCount &gt; 0 &amp;&amp; behindCount == 0) {\r\n            return TrackingStatus.AHEAD;\r\n        } else if (aheadCount == 0 &amp;&amp; behindCount &gt; 0) {\r\n            return TrackingStatus.BEHIND;\r\n        } else {\r\n            return TrackingStatus.DIVERGED;\r\n        }\r\n    }","title":"How is a merge-base done in JGit?","body":"<p>Here it is with JGit using BranchTrackingStatus:</p>\n\n<pre><code>public enum TrackingStatus {\n    SAME, BEHIND, AHEAD, DIVERGED\n}\n\npublic TrackingStatus getTrackingStatus() throws IOException, GitAPIException {\n    Repository userRepo = new FileRepository(&lt;path_to_.git_file&gt;);\n    Git git = new Git(userRepo);\n    git.fetch().call();\n    BranchTrackingStatus bts = BranchTrackingStatus.of(git.getRepository(),\n                                                       git.getRepository().getBranch());\n    int aheadCount = bts.getAheadCount();\n    int behindCount = bts.getBehindCount();\n    if (aheadCount == 0 &amp;&amp; behindCount == 0) {\n        return TrackingStatus.SAME;\n    } else if (aheadCount &gt; 0 &amp;&amp; behindCount == 0) {\n        return TrackingStatus.AHEAD;\n    } else if (aheadCount == 0 &amp;&amp; behindCount &gt; 0) {\n        return TrackingStatus.BEHIND;\n    } else {\n        return TrackingStatus.DIVERGED;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648387,"reputation":4973,"user_id":1519444,"display_name":"Feng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450244186,"creation_date":1450235271,"answer_id":34303303,"question_id":26434452,"body_markdown":"jgit has this:\r\n\r\n    RevCommit org.eclipse.jgit.merge.Merger.getBaseCommit(RevCommit a, RevCommit b) throws IncorrectObjectTypeException, IOException\r\n\r\ntake a try","title":"How is a merge-base done in JGit?","body":"<p>jgit has this:</p>\n\n<pre><code>RevCommit org.eclipse.jgit.merge.Merger.getBaseCommit(RevCommit a, RevCommit b) throws IncorrectObjectTypeException, IOException\n</code></pre>\n\n<p>take a try</p>\n"},{"tags":[],"owner":{"account_id":25347867,"reputation":1,"user_id":19165191,"display_name":"fei-li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668359015,"creation_date":1668043676,"answer_id":74383199,"question_id":26434452,"body_markdown":"This method is `protected`, so cannot be used directly:\r\n\r\n`protected RevCommit getBaseCommit(RevCommit a, RevCommit b) throws IncorrectObjectTypeException, IOException`","title":"How is a merge-base done in JGit?","body":"<p>This method is <code>protected</code>, so cannot be used directly:</p>\n<p><code>protected RevCommit getBaseCommit(RevCommit a, RevCommit b) throws IncorrectObjectTypeException, IOException</code></p>\n"}],"owner":{"account_id":82333,"reputation":7108,"user_id":231573,"accept_rate":80,"display_name":"Ed I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2395,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26436588,"answer_count":4,"score":9,"last_activity_date":1679252764,"creation_date":1413586198,"question_id":26434452,"body_markdown":"I&#39;m looking at the [JGit Documentation][1], currently at version *3.5.1.201410131835-r*, and I cannot find the equivalent of [git-merge-base][2].\r\n\r\nI would like to determine if a branch is up-to-date, behind, ahead, or diverged, as shown in [git: check if pull needed][3].\r\n\r\nWhat is the most concise way in JGit to find as good common ancestors as possible for a merge?\r\n\r\n\r\n  [1]: http://www.eclipse.org/jgit/documentation/\r\n  [2]: http://git-scm.com/docs/git-merge-base\r\n  [3]: https://stackoverflow.com/a/3278427/231573","title":"How is a merge-base done in JGit?","body":"<p>I'm looking at the <a href=\"http://www.eclipse.org/jgit/documentation/\" rel=\"nofollow noreferrer\">JGit Documentation</a>, currently at version <em>3.5.1.201410131835-r</em>, and I cannot find the equivalent of <a href=\"http://git-scm.com/docs/git-merge-base\" rel=\"nofollow noreferrer\">git-merge-base</a>.</p>\n\n<p>I would like to determine if a branch is up-to-date, behind, ahead, or diverged, as shown in <a href=\"https://stackoverflow.com/a/3278427/231573\">git: check if pull needed</a>.</p>\n\n<p>What is the most concise way in JGit to find as good common ancestors as possible for a merge?</p>\n"},{"tags":["java","random"],"answers":[{"tags":[],"owner":{"account_id":13068667,"reputation":1,"user_id":9443058,"display_name":"paktric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679250670,"creation_date":1679250670,"answer_id":75784152,"question_id":75783433,"body_markdown":"There are two main issues:\r\n - `length` is never incremented, so the character-length of your random number isn&#39;t growing\r\n - Your `ArrayList&lt;Integer&gt;` and `StringBuilder` objects are never cleared, so any number you generate is just being added on to the end of the old number.\r\n\r\n----------\r\n\r\nTry adding these three lines:\r\n```\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getActionCommand() == &quot;submit&quot;) {\r\n            int x = Integer.parseInt(input.getText());\r\n            int y = Integer.parseInt(string.toString());\r\n            System.out.println(&quot;Input: &quot; + x);\r\n            System.out.println(&quot;Number: &quot; + y);\r\n            if (x == y) {\r\n                output.setText(&quot;CORRECT!&quot;);\r\n                button1.setText(&quot;Next&quot;);\r\n                button1.setActionCommand(&quot;next&quot;);\r\n                length++;                           // Increment character-length of number\r\n                string.delete(0, string.length());  // Clear the StringBuilder object\r\n                number.clear();                     // Clear the ArrayList&lt;Integer&gt; object\r\n            }\r\n            ...\r\n```","title":"I can&#39;t randomize numbers for my numerical memory test","body":"<p>There are two main issues:</p>\n<ul>\n<li><code>length</code> is never incremented, so the character-length of your random number isn't growing</li>\n<li>Your <code>ArrayList&lt;Integer&gt;</code> and <code>StringBuilder</code> objects are never cleared, so any number you generate is just being added on to the end of the old number.</li>\n</ul>\n<hr />\n<p>Try adding these three lines:</p>\n<pre><code>    public void actionPerformed(ActionEvent e) {\n        if (e.getActionCommand() == &quot;submit&quot;) {\n            int x = Integer.parseInt(input.getText());\n            int y = Integer.parseInt(string.toString());\n            System.out.println(&quot;Input: &quot; + x);\n            System.out.println(&quot;Number: &quot; + y);\n            if (x == y) {\n                output.setText(&quot;CORRECT!&quot;);\n                button1.setText(&quot;Next&quot;);\n                button1.setActionCommand(&quot;next&quot;);\n                length++;                           // Increment character-length of number\n                string.delete(0, string.length());  // Clear the StringBuilder object\n                number.clear();                     // Clear the ArrayList&lt;Integer&gt; object\n            }\n            ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360071,"reputation":109,"user_id":2066940,"display_name":"Lorne K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679251724,"creation_date":1679251724,"answer_id":75784251,"question_id":75783433,"body_markdown":"The code \r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n     Random random = new Random();    \r\n     StringBuffer string = new StringBuffer();\r\n        ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            number.add(Math.abs(random.nextInt() % 9));\r\n            System.out.println(number.get(i));\r\n            string.append(number.get(i));\r\n        }\r\n        System.out.println(string);\r\n    }\r\n}`\r\n```\r\nworks okay in an online compiler.  I&#39;m guessing there is a problem with the environment you are running it in?  I would try\r\n\r\n```\r\nrandom = new Random(System.currentTimeMillis());\r\n```\r\nand removing the %9 to see what the underlying values are, before digging into the system though\r\n","title":"I can&#39;t randomize numbers for my numerical memory test","body":"<p>The code</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n     Random random = new Random();    \n     StringBuffer string = new StringBuffer();\n        ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; 10; i++) {\n            number.add(Math.abs(random.nextInt() % 9));\n            System.out.println(number.get(i));\n            string.append(number.get(i));\n        }\n        System.out.println(string);\n    }\n}`\n</code></pre>\n<p>works okay in an online compiler.  I'm guessing there is a problem with the environment you are running it in?  I would try</p>\n<pre><code>random = new Random(System.currentTimeMillis());\n</code></pre>\n<p>and removing the %9 to see what the underlying values are, before digging into the system though</p>\n"}],"owner":{"account_id":28058479,"reputation":1,"user_id":21433101,"display_name":"Hollow Clouds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679251724,"creation_date":1679243327,"question_id":75783433,"body_markdown":"I am doing a program similar to the numeric memory test in Human Benchmark. Everything is alright except for the sequence randomization. It keeps displaying one single number, although it randomizes every new test, and adding onto that. Here&#39;s my code:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class numerical extends Thread implements ActionListener {\r\n    Random random = new Random(); \r\n    ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\r\n    StringBuffer string = new StringBuffer();\r\n    int length = 1;\r\n    boolean gameEnded = false, wait = true;\r\n\r\n    JFrame frame = new JFrame(&quot;Numerical Memory&quot;);\r\n    JPanel top = new JPanel();\r\n    JPanel bottom = new JPanel();\r\n    JLabel title;\r\n    JLabel output = new JLabel();\r\n    JTextField input;\r\n    JButton button1 = new JButton(), button2 = new JButton();\r\n\r\n    public numerical() throws InterruptedException {\r\n        while (gameEnded == false) {\r\n            wait = true;\r\n            for (int i = 0; i &lt; length; i++) {\r\n                number.add(Math.abs(random.nextInt() % 9)); \r\n                System.out.println(number.get(i));\r\n                string.append(number.get(i)); \r\n            }\r\n\r\n            frame.setLayout(null); \r\n            frame.setSize(500, 300); \r\n            frame.setVisible(true); \r\n \r\n            title = new JLabel(&quot;Remember the number:&quot;); \r\n            input = new JTextField(string.toString()); \r\n            input.setEditable(false);\r\n\r\n            top.add(title);\r\n            top.add(input);\r\n            top.setLayout(new GridLayout(2, 1));\r\n            top.setBounds(0, 0, 500, 200);\r\n\r\n            bottom.setLayout(new GridLayout(1, 3));\r\n            bottom.setBounds(0, 210, 500, 40);\r\n\r\n            frame.add(top);\r\n            frame.add(bottom);\r\n\r\n            frame.revalidate();\r\n            frame.repaint();\r\n\r\n            Thread.sleep(length*1500);\r\n\r\n            title.setText(&quot;What was the number?&quot;); \r\n            \r\n            input.setText(&quot;&quot;);\r\n            input.setEditable(true);\r\n\r\n            button1 = new JButton(&quot;Submit&quot;);\r\n            button1.addActionListener(this);\r\n            button1.setActionCommand(&quot;submit&quot;);\r\n\r\n            output.setVisible(false);\r\n            button2.setVisible(false);\r\n\r\n            bottom.add(output);\r\n            bottom.add(button1);\r\n            bottom.add(button2); \r\n\r\n            frame.revalidate();\r\n            frame.repaint();\r\n\r\n            while (wait == true) {\r\n                System.out.print(&quot;&quot;);\r\n            }\r\n            \r\n            top.remove(title);\r\n            top.remove(input);\r\n            bottom.remove(output);\r\n            bottom.remove(button1);\r\n            bottom.remove(button2);\r\n            frame.remove(top);\r\n            frame.remove(bottom);\r\n\r\n            frame.revalidate();\r\n            frame.repaint();\r\n        }\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getActionCommand() == &quot;submit&quot;) {\r\n            int x = Integer.parseInt(input.getText());\r\n            int y = Integer.parseInt(string.toString());\r\n            System.out.println(&quot;Input: &quot; + x);\r\n            System.out.println(&quot;Number: &quot; + y);\r\n            if (x == y) {\r\n                output.setText(&quot;CORRECT!&quot;);\r\n                button1.setText(&quot;Next&quot;);\r\n                button1.setActionCommand(&quot;next&quot;);\r\n            }\r\n            else {\r\n                button2.setVisible(true);\r\n                output.setText(&quot;INCORRECT!&quot;);\r\n                button1.setText(&quot;Retry&quot;);\r\n                button1.setActionCommand(&quot;retry&quot;);\r\n                button2.setText(&quot;Back&quot;);\r\n            }\r\n        }\r\n        if (e.getActionCommand() == &quot;next&quot;) {\r\n            wait = false;\r\n        }\r\n        if (e.getActionCommand() == &quot;retry&quot;) {\r\n            wait = false;\r\n            length = 0;\r\n        }\r\n        if (e.getSource() == button2) {\r\n            wait = false;\r\n            frame.dispose();\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            new numerical();\r\n        }\r\n        catch (InterruptedException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried thread.sleep at first but later found out it was incompatible with swing so I had to change it, and it resulted to this. Before changing it, it wasn&#39;t any better. The numbers were just stacking. How can I randomize my numbers?","title":"I can&#39;t randomize numbers for my numerical memory test","body":"<p>I am doing a program similar to the numeric memory test in Human Benchmark. Everything is alright except for the sequence randomization. It keeps displaying one single number, although it randomizes every new test, and adding onto that. Here's my code:</p>\n<pre><code>import java.util.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class numerical extends Thread implements ActionListener {\n    Random random = new Random(); \n    ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\n    StringBuffer string = new StringBuffer();\n    int length = 1;\n    boolean gameEnded = false, wait = true;\n\n    JFrame frame = new JFrame(&quot;Numerical Memory&quot;);\n    JPanel top = new JPanel();\n    JPanel bottom = new JPanel();\n    JLabel title;\n    JLabel output = new JLabel();\n    JTextField input;\n    JButton button1 = new JButton(), button2 = new JButton();\n\n    public numerical() throws InterruptedException {\n        while (gameEnded == false) {\n            wait = true;\n            for (int i = 0; i &lt; length; i++) {\n                number.add(Math.abs(random.nextInt() % 9)); \n                System.out.println(number.get(i));\n                string.append(number.get(i)); \n            }\n\n            frame.setLayout(null); \n            frame.setSize(500, 300); \n            frame.setVisible(true); \n \n            title = new JLabel(&quot;Remember the number:&quot;); \n            input = new JTextField(string.toString()); \n            input.setEditable(false);\n\n            top.add(title);\n            top.add(input);\n            top.setLayout(new GridLayout(2, 1));\n            top.setBounds(0, 0, 500, 200);\n\n            bottom.setLayout(new GridLayout(1, 3));\n            bottom.setBounds(0, 210, 500, 40);\n\n            frame.add(top);\n            frame.add(bottom);\n\n            frame.revalidate();\n            frame.repaint();\n\n            Thread.sleep(length*1500);\n\n            title.setText(&quot;What was the number?&quot;); \n            \n            input.setText(&quot;&quot;);\n            input.setEditable(true);\n\n            button1 = new JButton(&quot;Submit&quot;);\n            button1.addActionListener(this);\n            button1.setActionCommand(&quot;submit&quot;);\n\n            output.setVisible(false);\n            button2.setVisible(false);\n\n            bottom.add(output);\n            bottom.add(button1);\n            bottom.add(button2); \n\n            frame.revalidate();\n            frame.repaint();\n\n            while (wait == true) {\n                System.out.print(&quot;&quot;);\n            }\n            \n            top.remove(title);\n            top.remove(input);\n            bottom.remove(output);\n            bottom.remove(button1);\n            bottom.remove(button2);\n            frame.remove(top);\n            frame.remove(bottom);\n\n            frame.revalidate();\n            frame.repaint();\n        }\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getActionCommand() == &quot;submit&quot;) {\n            int x = Integer.parseInt(input.getText());\n            int y = Integer.parseInt(string.toString());\n            System.out.println(&quot;Input: &quot; + x);\n            System.out.println(&quot;Number: &quot; + y);\n            if (x == y) {\n                output.setText(&quot;CORRECT!&quot;);\n                button1.setText(&quot;Next&quot;);\n                button1.setActionCommand(&quot;next&quot;);\n            }\n            else {\n                button2.setVisible(true);\n                output.setText(&quot;INCORRECT!&quot;);\n                button1.setText(&quot;Retry&quot;);\n                button1.setActionCommand(&quot;retry&quot;);\n                button2.setText(&quot;Back&quot;);\n            }\n        }\n        if (e.getActionCommand() == &quot;next&quot;) {\n            wait = false;\n        }\n        if (e.getActionCommand() == &quot;retry&quot;) {\n            wait = false;\n            length = 0;\n        }\n        if (e.getSource() == button2) {\n            wait = false;\n            frame.dispose();\n        }\n\n    }\n\n    public static void main(String[] args) {\n        try {\n            new numerical();\n        }\n        catch (InterruptedException exception) {\n            exception.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>I tried thread.sleep at first but later found out it was incompatible with swing so I had to change it, and it resulted to this. Before changing it, it wasn't any better. The numbers were just stacking. How can I randomize my numbers?</p>\n"},{"tags":["java","spring","spring-mvc","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":17915,"reputation":13985,"user_id":40581,"accept_rate":75,"display_name":"David Grant"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1348842127,"creation_date":1348841656,"answer_id":12641750,"question_id":12641666,"body_markdown":"Yes, `JdbcTemplate` is not a substitute for transaction management.  You still benefit from database transactions, so `userService.updateUser` will operate in a _database_ transaction, but if `accountService.updateXXX` fails, `userService.updateUser` will *not* rollback.\r\n\r\nIf you don&#39;t want to use AOP, you can use [TransactionTemplate][1] instead.  See [programmatic transaction management][2] in the [Spring Reference Documentation][3].\r\n\r\nOne pattern I&#39;ve seen before is for the MVC controller class to invoke a business service, which encapsulates the operation.  The method of the business class could then be annotated `@Transactional`.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\r\n  [2]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#transaction-programmatic\r\n  [3]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>Yes, <code>JdbcTemplate</code> is not a substitute for transaction management.  You still benefit from database transactions, so <code>userService.updateUser</code> will operate in a <em>database</em> transaction, but if <code>accountService.updateXXX</code> fails, <code>userService.updateUser</code> will <em>not</em> rollback.</p>\n\n<p>If you don't want to use AOP, you can use <a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\" rel=\"noreferrer\">TransactionTemplate</a> instead.  See <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#transaction-programmatic\" rel=\"noreferrer\">programmatic transaction management</a> in the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/\" rel=\"noreferrer\">Spring Reference Documentation</a>.</p>\n\n<p>One pattern I've seen before is for the MVC controller class to invoke a business service, which encapsulates the operation.  The method of the business class could then be annotated <code>@Transactional</code>.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1461088434,"creation_date":1348842547,"answer_id":12642002,"question_id":12641666,"body_markdown":"If your controller wants to do several things with users and accounts and have all that happen within one transaction, then you should have a service with one method that does all that stuff. Creating one service per DAO is not a great idea, because you end up with do-nothing wrappers around DAOs and processing will be slow because the database will have to create a separate transaction for each call to a DAO, you&#39;re making it do a lot more work than it should have to. \r\n\r\nThe service should provide functionality to the controller or whoever else is calling it. I try to create services with the idea that the service provides specific functions useful to a certain type of user.","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>If your controller wants to do several things with users and accounts and have all that happen within one transaction, then you should have a service with one method that does all that stuff. Creating one service per DAO is not a great idea, because you end up with do-nothing wrappers around DAOs and processing will be slow because the database will have to create a separate transaction for each call to a DAO, you're making it do a lot more work than it should have to. </p>\n\n<p>The service should provide functionality to the controller or whoever else is calling it. I try to create services with the idea that the service provides specific functions useful to a certain type of user.</p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677391676,"creation_date":1677391676,"answer_id":75570267,"question_id":12641666,"body_markdown":"Spring `JdbcTemplate` is not aware about the transactions *at all*. If you have not configured transactions in any way - programmatically, usually via `PlatformTransactionManager` or `TransactionTemplate` (which is just a more high level api for `PlatformTransactionManager`), or using declarative approach, via annotations, like spring `@Transactional` - then every SQL query issued by `JdbcTemplate` will be run outside any transaction. So yes, transactions configuration is required.","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>Spring <code>JdbcTemplate</code> is not aware about the transactions <em>at all</em>. If you have not configured transactions in any way - programmatically, usually via <code>PlatformTransactionManager</code> or <code>TransactionTemplate</code> (which is just a more high level api for <code>PlatformTransactionManager</code>), or using declarative approach, via annotations, like spring <code>@Transactional</code> - then every SQL query issued by <code>JdbcTemplate</code> will be run outside any transaction. So yes, transactions configuration is required.</p>\n"},{"tags":[],"owner":{"account_id":20376405,"reputation":139,"user_id":14947476,"display_name":"stanley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679251705,"creation_date":1679251705,"answer_id":75784250,"question_id":12641666,"body_markdown":"Yes, wrap it using the `TransactionTemplate`\r\n\r\n```java\r\ntransactionTemplate.executeWithoutResult((TransactionStatus ts) -&gt; {\r\n    userService.updateUser(user);\r\n    accountService.updateXXX(...);\r\n});\r\n```\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#tx-prog-template","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>Yes, wrap it using the <code>TransactionTemplate</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>transactionTemplate.executeWithoutResult((TransactionStatus ts) -&gt; {\n    userService.updateUser(user);\n    accountService.updateXXX(...);\n});\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#tx-prog-template\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#tx-prog-template</a></p>\n"}],"owner":{"account_id":1441202,"reputation":14385,"user_id":1361315,"accept_rate":38,"display_name":"loyalflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84360,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":12641750,"answer_count":4,"score":30,"last_activity_date":1679251705,"creation_date":1348841408,"question_id":12641666,"body_markdown":"When using JdbcTemplate, do I need to explicitly configure transactions?\r\n\r\nMy code layout looks like the following:\r\n\r\nI will have a UserDao that will be injected into my UserService, and then my Controllers will make calls on methods in my UserService.\r\n\r\n\r\nI want to keep things as simple as possible transaction wise, and I don&#39;t need multiple database calls to span a transaction.\r\n\r\nBy default, do I have to do anything in my configuration file or use a `@Transaction` annotation anywhere?\r\n\r\n\r\nNow say in my controller I need to make 2 calls on my userService and accountService, could I explicitly wrap it in a transaction somehow?\r\n\r\n    userService.updateUser(user);\r\n    accountService.updateXXX(...);","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>When using JdbcTemplate, do I need to explicitly configure transactions?</p>\n\n<p>My code layout looks like the following:</p>\n\n<p>I will have a UserDao that will be injected into my UserService, and then my Controllers will make calls on methods in my UserService.</p>\n\n<p>I want to keep things as simple as possible transaction wise, and I don't need multiple database calls to span a transaction.</p>\n\n<p>By default, do I have to do anything in my configuration file or use a <code>@Transaction</code> annotation anywhere?</p>\n\n<p>Now say in my controller I need to make 2 calls on my userService and accountService, could I explicitly wrap it in a transaction somehow?</p>\n\n<pre><code>userService.updateUser(user);\naccountService.updateXXX(...);\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1647001096,"post_id":71438370,"comment_id":126268738,"body_markdown":"what about all other things in your manifest, like activities? maybe it&#39;s not about only that receiver","body":"what about all other things in your manifest, like activities? maybe it&#39;s not about only that receiver"},{"owner":{"account_id":1121938,"reputation":993,"user_id":1505415,"accept_rate":57,"display_name":"Majoren"},"score":0,"creation_date":1647004448,"post_id":71438370,"comment_id":126269922,"body_markdown":"I have only one &lt;activity&gt; and I have added it there too, still same issue.","body":"I have only one &lt;activity&gt; and I have added it there too, still same issue."},{"owner":{"account_id":1121938,"reputation":993,"user_id":1505415,"accept_rate":57,"display_name":"Majoren"},"score":0,"creation_date":1647006786,"post_id":71438370,"comment_id":126270752,"body_markdown":"You were right! Had a receiver which was missing the attribute.","body":"You were right! Had a receiver which was missing the attribute."}],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647001513,"creation_date":1647001155,"answer_id":71438425,"question_id":71438370,"body_markdown":"What is exported receiver?\r\n\r\nandroid:exported. Whether the broadcast receiver can receive messages from non-system sources outside its application — ” true ” if it can, and ” false ” if not.\r\n\r\nYou need to add the exported attribute for each of the activity pages in your AndroidManifest.xml file.\r\n\r\nExample :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.nisaefendioglu.weather&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat&quot;&gt;\r\n            &lt;activity android:name=&quot;com.nisaefendioglu.weather.view.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Flutter/Android: You uploaded an APK which has activity [...] but without the &#39;android:exported&#39; property. exported=&quot;true&quot; not working","body":"<p>What is exported receiver?</p>\n<p>android:exported. Whether the broadcast receiver can receive messages from non-system sources outside its application — ” true ” if it can, and ” false ” if not.</p>\n<p>You need to add the exported attribute for each of the activity pages in your AndroidManifest.xml file.</p>\n<p>Example :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.nisaefendioglu.weather&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppCompat&quot;&gt;\n        &lt;activity android:name=&quot;com.nisaefendioglu.weather.view.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19139020,"reputation":51,"user_id":13979376,"display_name":"Igbokwenu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661106911,"creation_date":1661106911,"answer_id":73437264,"question_id":71438370,"body_markdown":"Also note that running the &quot;flutter clean&quot; and then the &quot;flutter pub get&quot; command in the project folder might be needed to capture the changes whenever you modify an &quot;essential&quot; file like a .xml file.","title":"Flutter/Android: You uploaded an APK which has activity [...] but without the &#39;android:exported&#39; property. exported=&quot;true&quot; not working","body":"<p>Also note that running the &quot;flutter clean&quot; and then the &quot;flutter pub get&quot; command in the project folder might be needed to capture the changes whenever you modify an &quot;essential&quot; file like a .xml file.</p>\n"},{"tags":[],"owner":{"account_id":9914305,"reputation":490,"user_id":7339798,"display_name":"Volodymyr Buberenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679251013,"creation_date":1679251013,"answer_id":75784179,"question_id":71438370,"body_markdown":"As the accepted answer provides some ambiguous info and requires people to go through comments to understand solution I would write a proper answer.\r\n\r\nThe reason of the issue is missing `exported` property in one of declared components (activity, service or broadcast receiver) in `AndroidManifest.xml` file of the app.\r\n[Since Android 12][1] every of listed components must declare this property for security reasons.\r\n\r\nHere is a documentation about `exported` property for these components: \r\n\r\n - Activity:\r\n   https://developer.android.com/guide/topics/manifest/activity-element#exported\r\n- Service:\r\n   https://developer.android.com/guide/topics/manifest/service-element#exported\r\n- BroadcastReceiver:\r\n   https://developer.android.com/guide/topics/manifest/receiver-element#exported\r\n\r\n  [1]: https://developer.android.com/about/versions/12/behavior-changes-12","title":"Flutter/Android: You uploaded an APK which has activity [...] but without the &#39;android:exported&#39; property. exported=&quot;true&quot; not working","body":"<p>As the accepted answer provides some ambiguous info and requires people to go through comments to understand solution I would write a proper answer.</p>\n<p>The reason of the issue is missing <code>exported</code> property in one of declared components (activity, service or broadcast receiver) in <code>AndroidManifest.xml</code> file of the app.\n<a href=\"https://developer.android.com/about/versions/12/behavior-changes-12\" rel=\"nofollow noreferrer\">Since Android 12</a> every of listed components must declare this property for security reasons.</p>\n<p>Here is a documentation about <code>exported</code> property for these components:</p>\n<ul>\n<li>Activity:\n<a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a></li>\n<li>Service:\n<a href=\"https://developer.android.com/guide/topics/manifest/service-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/service-element#exported</a></li>\n<li>BroadcastReceiver:\n<a href=\"https://developer.android.com/guide/topics/manifest/receiver-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/receiver-element#exported</a></li>\n</ul>\n"}],"owner":{"account_id":1121938,"reputation":993,"user_id":1505415,"accept_rate":57,"display_name":"Majoren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71438425,"answer_count":3,"score":1,"last_activity_date":1679251013,"creation_date":1647000877,"question_id":71438370,"body_markdown":"After uploading my app to the google play store for internal testing, I get the following error message:\r\n\r\n    You uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without the &#39;android:exported&#39; property set. This file can&#39;t be installed on Android 12 or higher. See: developer.android.com/about/versions/12/behavior-changes-12#exported\r\n\r\nI&#39;ve tried setting the `android:exported=&quot;true&quot;` in my manifest like so:\r\n\r\n    &lt;receiver \r\n        android:name=&quot;com.ryanheise.audioservice.MediaButtonReceiver&quot;\r\n        android:exported=&quot;true&quot;\r\n    &gt;            \r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nBut I&#39;m still getting the same error. In my build.gradle files I have these configs:\r\n\r\n    compileSdkVersion 31\r\n    minSdkVersion 21\r\n    targetSdkVersion 31\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.6.10&#39;\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.5.1&#39;\r\n        }\r\n    }\r\n\r\n\r\nFeels like I have tried everything. Could this be an SDK version issue, or what could I be missing here?","title":"Flutter/Android: You uploaded an APK which has activity [...] but without the &#39;android:exported&#39; property. exported=&quot;true&quot; not working","body":"<p>After uploading my app to the google play store for internal testing, I get the following error message:</p>\n<pre><code>You uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without the 'android:exported' property set. This file can't be installed on Android 12 or higher. See: developer.android.com/about/versions/12/behavior-changes-12#exported\n</code></pre>\n<p>I've tried setting the <code>android:exported=&quot;true&quot;</code> in my manifest like so:</p>\n<pre><code>&lt;receiver \n    android:name=&quot;com.ryanheise.audioservice.MediaButtonReceiver&quot;\n    android:exported=&quot;true&quot;\n&gt;            \n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>But I'm still getting the same error. In my build.gradle files I have these configs:</p>\n<pre><code>compileSdkVersion 31\nminSdkVersion 21\ntargetSdkVersion 31\n\nbuildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.5'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.5.1'\n    }\n}\n</code></pre>\n<p>Feels like I have tried everything. Could this be an SDK version issue, or what could I be missing here?</p>\n"},{"tags":["java","spring-boot","openpdf"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1679253247,"post_id":75784137,"comment_id":133684122,"body_markdown":"You should change(or add) the tags on this question. This is more a javascript/axios question. The server seems to be sending you the data you request so the question is more of how to start a download from javascript/axios. I actually don&#39;t know how but, if you can change your request to a GET, you could just have a link open in a new tab and it should work fine.","body":"You should change(or add) the tags on this question. This is more a javascript/axios question. The server seems to be sending you the data you request so the question is more of how to start a download from javascript/axios. I actually don&#39;t know how but, if you can change your request to a GET, you could just have a link open in a new tab and it should work fine."}],"owner":{"account_id":27720911,"reputation":1,"user_id":21161471,"display_name":"LSmooth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679250518,"creation_date":1679250518,"question_id":75784137,"body_markdown":"So im trying to export some data to pdf and download it, heres my controller : \r\n```\r\nRequestMapping(&quot;/api&quot;)\r\n@Controller\r\npublic class PDFExporterController {\r\n\r\n    private final PDFExporterService pdfExporterService;\r\n    public PDFExporterController(PDFExporterService pdfExporterService) {\r\n        this.pdfExporterService = pdfExporterService;\r\n    }\r\n\r\n    @Autowired\r\n    private AccountRepository accRepo;\r\n    @Autowired\r\n    private ClientRepository clientRepo;\r\n    @Autowired\r\n    private TransactionRepository transactionRepo;\r\n\r\n    @PostMapping(&quot;/export-to-PDF-stream-output&quot;)\r\n    public void exportToPDF(@RequestBody TransactionFilterDTO filter, Authentication auth, HttpServletResponse response) throws ParseException, IOException {\r\n\r\n        Client currentClient = clientRepo.findByEmail(auth.getName());\r\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\r\n\r\n        LocalDate fromDate = filter.getFromDate().toLocalDate();\r\n        LocalDate toDate = filter.getToDate().toLocalDate();\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n        String fromDateStr = fromDate.format(formatter);\r\n        String toDateStr = toDate.format(formatter);\r\n\r\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\r\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\r\n\r\n        List&lt;Transaction&gt; transactions = transactionRepo.findByIdAndDateBetween(\r\n                currentAcc.getId(), start, end);\r\n\r\n        response.setContentType(&quot;application/pdf&quot;);\r\n\r\n        String headerKey = &quot;Content-Disposition&quot;;\r\n        String headerValue = &quot;attachment; filename=transactionsFor&quot; + currentAcc.getId() +&quot;from&quot;+ fromDateStr+&quot;to&quot;+toDateStr+&quot;.pdf&quot;;\r\n\r\n        response.setHeader(headerKey, headerValue);\r\n\r\n        this.pdfExporterService.setTransactionList(transactions);\r\n        this.pdfExporterService.export(response, start, end);\r\n    }\r\n\r\n    @PostMapping(&quot;/get-filtered-transactions&quot;)\r\n    public List&lt;Transaction&gt; getFilteredTransactions (@RequestBody TransactionFilterDTO filter, Authentication auth){\r\n        Client currentClient = clientRepo.findByEmail(auth.getName());\r\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\r\n\r\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\r\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\r\n        return transactionRepo.findByIdAndDateBetween(\r\n                currentAcc.getId(), start, end);\r\n\r\n    }\r\n\r\n    @PostMapping(&quot;/export-to-PDF-bytes&quot;)\r\n    public ResponseEntity&lt;?&gt; exportToPDFBytes(@RequestBody TransactionFilterDTO filter, Authentication auth) throws IOException {\r\n        Client currentClient = clientRepo.findByEmail(auth.getName());\r\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\r\n\r\n        LocalDateTime fromDate = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\r\n        LocalDateTime toDate = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\r\n\r\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\r\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\r\n\r\n        List&lt;Transaction&gt; transactions = transactionRepo.findByIdAndDateBetween(\r\n                currentAcc.getId(), start, end);\r\n\r\n        com.mindhub.homeBanking.utilities.PDFExporterService pdfExporter = new PDFExporterService(transactions);\r\n        byte[] pdfBytes = pdfExporter.export2(start, end);\r\n\r\n        String fileName = String.format(&quot;transactionsFor%sFrom%sTo%s.pdf&quot;,\r\n                currentAcc.getNumber(), fromDate.toString(), toDate.toString());\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_PDF);\r\n        headers.set(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\r\n        headers.setContentLength(pdfBytes.length);\r\n\r\n        return new ResponseEntity&lt;&gt;(pdfBytes, headers, HttpStatus.OK);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIm calling them from the frontend like so : \r\n\r\n\r\n```\r\n downloadPDF(){\r\n            const data = {\r\n                fromDate: this.fromDate.toISOString(),\r\n                toDate: this.toDate.toISOString(),\r\n                accountNumber: this.accounts.number\r\n              };\r\n              axios.post(&#39;/api/export-to-PDF-stream-output&#39;, data, {responseType: &#39;blob&#39;})\r\n                .then(response =&gt; {\r\n                    console.log(response)\r\n                   const url = window.URL.createObjectURL(response.data);\r\n                   const link = document.createElement(&#39;a&#39;);\r\n                   link.href = url;\r\n                   link.setAttribute(&#39;download&#39;, response.headers[&#39;content-disposition&#39;].split(&#39;filename=&#39;)[1]);\r\n                   document.body.appendChild(link);\r\n                  link.click();\r\n                })\r\n                .catch(error =&gt; {\r\n                  console.log(error);\r\n                });\r\n        },\r\n```\r\n\r\nnow my question is why do i need all of that code in .then? If i just call one those endpoints my response looks something like this :   \r\n```\r\ndata: &#39;%PDF-1.5\\n%����\\n24 0 obj\\n&lt;&lt;/Filter/FlateDecode/Leng…16a&gt;]/Root 27 0 R/Size 29&gt;&gt;\\nstartxref\\n1796\\n%%EOF\\n&#39;, status: 200, statusText: &#39;&#39;, headers: i\r\n\r\nheaders\r\n: \r\ni\r\nAccept\r\n: \r\n&quot;application/json, text/plain, */*&quot;\r\nContent-Type\r\n: \r\n&quot;application/json&quot;\r\nSymbol(Symbol.toStringTag)\r\n: \r\n(...)\r\n```\r\n\r\nis there a way to start the download without all the js code?\r\n\r\n\r\n\r\n\r\nI was expecting the download to start as soon as i called the endpoint. I tried with bytearrays.\r\nThese are my export methods \r\n```\r\npublic void export(HttpServletResponse response,  LocalDateTime fromDate, LocalDateTime toDate) throws IOException {\r\n        Document document = new Document(PageSize.A4);\r\n\r\n        PdfWriter.getInstance(document, response.getOutputStream());\r\n\r\n        document.open();\r\n\r\n        document.add(new Paragraph(&quot;Transactions &quot;));\r\n\r\n        PdfPTable table = new PdfPTable(6);\r\n        table.setWidthPercentage(100);\r\n        table.setSpacingBefore(15);\r\n\r\n        writeTableHeader(table);\r\n        writeTableData(table);\r\n\r\n        document.add(table);\r\n\r\n        document.close();\r\n    }\r\n\r\n    public byte[] export2(LocalDateTime fromDate, LocalDateTime toDate) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        Document document = new Document(PageSize.A4);\r\n\r\n        PdfWriter.getInstance(document, baos);\r\n\r\n        document.open();\r\n\r\n        document.add(new Paragraph(&quot;Transactions &quot;));\r\n\r\n        PdfPTable table = new PdfPTable(6);\r\n        table.setWidthPercentage(100);\r\n        table.setSpacingBefore(15);\r\n\r\n        writeTableHeader(table);\r\n        writeTableData(table);\r\n\r\n        document.add(table);\r\n\r\n        document.close();\r\n\r\n        return baos.toByteArray();\r\n    }\r\n```\r\n","title":"Spring boot export PDF download issue/question","body":"<p>So im trying to export some data to pdf and download it, heres my controller :</p>\n<pre><code>RequestMapping(&quot;/api&quot;)\n@Controller\npublic class PDFExporterController {\n\n    private final PDFExporterService pdfExporterService;\n    public PDFExporterController(PDFExporterService pdfExporterService) {\n        this.pdfExporterService = pdfExporterService;\n    }\n\n    @Autowired\n    private AccountRepository accRepo;\n    @Autowired\n    private ClientRepository clientRepo;\n    @Autowired\n    private TransactionRepository transactionRepo;\n\n    @PostMapping(&quot;/export-to-PDF-stream-output&quot;)\n    public void exportToPDF(@RequestBody TransactionFilterDTO filter, Authentication auth, HttpServletResponse response) throws ParseException, IOException {\n\n        Client currentClient = clientRepo.findByEmail(auth.getName());\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\n\n        LocalDate fromDate = filter.getFromDate().toLocalDate();\n        LocalDate toDate = filter.getToDate().toLocalDate();\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n        String fromDateStr = fromDate.format(formatter);\n        String toDateStr = toDate.format(formatter);\n\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\n\n        List&lt;Transaction&gt; transactions = transactionRepo.findByIdAndDateBetween(\n                currentAcc.getId(), start, end);\n\n        response.setContentType(&quot;application/pdf&quot;);\n\n        String headerKey = &quot;Content-Disposition&quot;;\n        String headerValue = &quot;attachment; filename=transactionsFor&quot; + currentAcc.getId() +&quot;from&quot;+ fromDateStr+&quot;to&quot;+toDateStr+&quot;.pdf&quot;;\n\n        response.setHeader(headerKey, headerValue);\n\n        this.pdfExporterService.setTransactionList(transactions);\n        this.pdfExporterService.export(response, start, end);\n    }\n\n    @PostMapping(&quot;/get-filtered-transactions&quot;)\n    public List&lt;Transaction&gt; getFilteredTransactions (@RequestBody TransactionFilterDTO filter, Authentication auth){\n        Client currentClient = clientRepo.findByEmail(auth.getName());\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\n\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\n        return transactionRepo.findByIdAndDateBetween(\n                currentAcc.getId(), start, end);\n\n    }\n\n    @PostMapping(&quot;/export-to-PDF-bytes&quot;)\n    public ResponseEntity&lt;?&gt; exportToPDFBytes(@RequestBody TransactionFilterDTO filter, Authentication auth) throws IOException {\n        Client currentClient = clientRepo.findByEmail(auth.getName());\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\n\n        LocalDateTime fromDate = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\n        LocalDateTime toDate = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\n\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\n\n        List&lt;Transaction&gt; transactions = transactionRepo.findByIdAndDateBetween(\n                currentAcc.getId(), start, end);\n\n        com.mindhub.homeBanking.utilities.PDFExporterService pdfExporter = new PDFExporterService(transactions);\n        byte[] pdfBytes = pdfExporter.export2(start, end);\n\n        String fileName = String.format(&quot;transactionsFor%sFrom%sTo%s.pdf&quot;,\n                currentAcc.getNumber(), fromDate.toString(), toDate.toString());\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_PDF);\n        headers.set(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\n        headers.setContentLength(pdfBytes.length);\n\n        return new ResponseEntity&lt;&gt;(pdfBytes, headers, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<p>Im calling them from the frontend like so :</p>\n<pre><code> downloadPDF(){\n            const data = {\n                fromDate: this.fromDate.toISOString(),\n                toDate: this.toDate.toISOString(),\n                accountNumber: this.accounts.number\n              };\n              axios.post('/api/export-to-PDF-stream-output', data, {responseType: 'blob'})\n                .then(response =&gt; {\n                    console.log(response)\n                   const url = window.URL.createObjectURL(response.data);\n                   const link = document.createElement('a');\n                   link.href = url;\n                   link.setAttribute('download', response.headers['content-disposition'].split('filename=')[1]);\n                   document.body.appendChild(link);\n                  link.click();\n                })\n                .catch(error =&gt; {\n                  console.log(error);\n                });\n        },\n</code></pre>\n<p>now my question is why do i need all of that code in .then? If i just call one those endpoints my response looks something like this :</p>\n<pre><code>data: '%PDF-1.5\\n%����\\n24 0 obj\\n&lt;&lt;/Filter/FlateDecode/Leng…16a&gt;]/Root 27 0 R/Size 29&gt;&gt;\\nstartxref\\n1796\\n%%EOF\\n', status: 200, statusText: '', headers: i\n\nheaders\n: \ni\nAccept\n: \n&quot;application/json, text/plain, */*&quot;\nContent-Type\n: \n&quot;application/json&quot;\nSymbol(Symbol.toStringTag)\n: \n(...)\n</code></pre>\n<p>is there a way to start the download without all the js code?</p>\n<p>I was expecting the download to start as soon as i called the endpoint. I tried with bytearrays.\nThese are my export methods</p>\n<pre><code>public void export(HttpServletResponse response,  LocalDateTime fromDate, LocalDateTime toDate) throws IOException {\n        Document document = new Document(PageSize.A4);\n\n        PdfWriter.getInstance(document, response.getOutputStream());\n\n        document.open();\n\n        document.add(new Paragraph(&quot;Transactions &quot;));\n\n        PdfPTable table = new PdfPTable(6);\n        table.setWidthPercentage(100);\n        table.setSpacingBefore(15);\n\n        writeTableHeader(table);\n        writeTableData(table);\n\n        document.add(table);\n\n        document.close();\n    }\n\n    public byte[] export2(LocalDateTime fromDate, LocalDateTime toDate) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        Document document = new Document(PageSize.A4);\n\n        PdfWriter.getInstance(document, baos);\n\n        document.open();\n\n        document.add(new Paragraph(&quot;Transactions &quot;));\n\n        PdfPTable table = new PdfPTable(6);\n        table.setWidthPercentage(100);\n        table.setSpacingBefore(15);\n\n        writeTableHeader(table);\n        writeTableData(table);\n\n        document.add(table);\n\n        document.close();\n\n        return baos.toByteArray();\n    }\n</code></pre>\n"},{"tags":["java","gradle","javafx","path"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1679250893,"post_id":75784127,"comment_id":133683728,"body_markdown":"Keep in mind the file reference there will be relative to your _execution directory_ (not the code directory!). Per documentation of `File`: &quot;By default the classes in the java.io package always resolve relative pathnames against the current user directory. This directory is named by the system property user.dir, and is typically the directory in which the Java virtual machine was invoked.&quot;. You likely want something like `Class#getResource`, where you&#39;d export your resources with a program jar/war/etc","body":"Keep in mind the file reference there will be relative to your <i>execution directory</i> (not the code directory!). Per documentation of <code>File</code>: &quot;By default the classes in the java.io package always resolve relative pathnames against the current user directory. This directory is named by the system property user.dir, and is typically the directory in which the Java virtual machine was invoked.&quot;. You likely want something like <code>Class#getResource</code>, where you&#39;d export your resources with a program jar/war/etc"}],"owner":{"account_id":24529074,"reputation":3,"user_id":18441173,"display_name":"Adam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679250518,"answer_count":0,"score":0,"last_activity_date":1679250453,"creation_date":1679250453,"question_id":75784127,"body_markdown":"I have a pretty specific problem. Recently I&#39;m trying to learn JavaFX and everything works for me, but I can not load files. When I tried the classic basic code to create a stage, scene and use an image there:\r\n\r\n```\r\npublic void start(Stage primaryStage) throws Exception {\r\n        // Load the image file\r\n        Group root = new Group();\r\n        Scene scene = new Scene(root,500,500);\r\n\r\n        Image img = new Image(&quot;img.png&quot;);\r\n        ImageView imgV = new ImageView(img);\r\n\r\n        root.getChildren().add(imgV);\r\n\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n} \r\n```\r\n\r\nIt kept crashing and I kept getting these two errors:\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n```\r\n\r\nThe &quot;img.png&quot; file is in the same folder as the Main class.\r\n\r\nI got a little further with this and found elsewhere that the file path has to be written like this on MacOS:\r\n\r\n```\r\nImage img = new Image(&quot;file:img.png&quot;);\r\n```\r\n\r\nfor it to be a valid URL, this throws no errors and opens the window but does not show the image. When I use absolute URL of the image file, the image is being shown.\r\n\r\nMy question therefore is - how should i write it so that the image will be shown and I will use relative path to the file? I really need it also because I will need to include mulitple files (like FXML) in my work later. Thanks :)\r\n\r\nI expect to find a solution that will allow me to use a relative path instead of the absolute one.","title":"Using relative file path on Mac in JavaFX","body":"<p>I have a pretty specific problem. Recently I'm trying to learn JavaFX and everything works for me, but I can not load files. When I tried the classic basic code to create a stage, scene and use an image there:</p>\n<pre><code>public void start(Stage primaryStage) throws Exception {\n        // Load the image file\n        Group root = new Group();\n        Scene scene = new Scene(root,500,500);\n\n        Image img = new Image(&quot;img.png&quot;);\n        ImageView imgV = new ImageView(img);\n\n        root.getChildren().add(imgV);\n\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n} \n</code></pre>\n<p>It kept crashing and I kept getting these two errors:</p>\n<pre><code>Caused by: java.lang.RuntimeException: Exception in Application start method\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\n</code></pre>\n<p>The &quot;img.png&quot; file is in the same folder as the Main class.</p>\n<p>I got a little further with this and found elsewhere that the file path has to be written like this on MacOS:</p>\n<pre><code>Image img = new Image(&quot;file:img.png&quot;);\n</code></pre>\n<p>for it to be a valid URL, this throws no errors and opens the window but does not show the image. When I use absolute URL of the image file, the image is being shown.</p>\n<p>My question therefore is - how should i write it so that the image will be shown and I will use relative path to the file? I really need it also because I will need to include mulitple files (like FXML) in my work later. Thanks :)</p>\n<p>I expect to find a solution that will allow me to use a relative path instead of the absolute one.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9430,"page":562,"page_size":100}
