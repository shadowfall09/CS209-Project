{"items":[{"tags":["java","spring","spring-boot","hystrix","circuit-breaker"],"answers":[{"tags":[],"owner":{"account_id":5370110,"reputation":554,"user_id":4278899,"display_name":"Olivier Meurice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482080267,"creation_date":1482080267,"answer_id":41210706,"question_id":41210369,"body_markdown":"Your @HystrixCommand annotated method should be public.\r\nNot sure about the fallback method but I would set it public as well.","title":"Hystrix fallback method is not invoked","body":"<p>Your @HystrixCommand annotated method should be public.\nNot sure about the fallback method but I would set it public as well.</p>\n"},{"tags":[],"owner":{"account_id":6142042,"reputation":504,"user_id":4789157,"accept_rate":75,"display_name":"David"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1484428945,"creation_date":1482082631,"answer_id":41211068,"question_id":41210369,"body_markdown":"Both the methods i.e. the actual and fallback methods should be public and move these methods to a separate class and annotate it with @Component.\r\n\r\nGive a try, hope this helps.","title":"Hystrix fallback method is not invoked","body":"<p>Both the methods i.e. the actual and fallback methods should be public and move these methods to a separate class and annotate it with @Component.</p>\n\n<p>Give a try, hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":11536295,"reputation":31,"user_id":8453594,"display_name":"umbum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606058704,"creation_date":1564476937,"answer_id":57267870,"question_id":41210369,"body_markdown":"This is because of AOP.\r\n\r\nThe Spring container injects aspect-aware bean when injecting a bean.\r\n\r\nWhen the `name()` function is called at the user&#39;s request, the method of the aspect-aware bean is called so annotation works.\r\n\r\nHowever, calling `this.getCustomerName()` directly within the `name()` calls `getCustomerName()` on the raw bean before it is wrapped in proxy. It doesn&#39;t know aspect. Therefore, annotation does not work.\r\n\r\n","title":"Hystrix fallback method is not invoked","body":"<p>This is because of AOP.</p>\n<p>The Spring container injects aspect-aware bean when injecting a bean.</p>\n<p>When the <code>name()</code> function is called at the user's request, the method of the aspect-aware bean is called so annotation works.</p>\n<p>However, calling <code>this.getCustomerName()</code> directly within the <code>name()</code> calls <code>getCustomerName()</code> on the raw bean before it is wrapped in proxy. It doesn't know aspect. Therefore, annotation does not work.</p>\n"},{"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565746270,"creation_date":1565746270,"answer_id":57487106,"question_id":41210369,"body_markdown":"You can also try stopping and starting the service, if you added the dependency of netflix-hystrix and have dev-tools to pick up changes while executing the service.","title":"Hystrix fallback method is not invoked","body":"<p>You can also try stopping and starting the service, if you added the dependency of netflix-hystrix and have dev-tools to pick up changes while executing the service.</p>\n"},{"tags":[],"owner":{"account_id":8146172,"reputation":11,"user_id":6134761,"display_name":"emre avci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623569205,"creation_date":1623564343,"answer_id":67955356,"question_id":41210369,"body_markdown":"Fallback metod should be  called from another bean. The problem is you are calling fallback method from RestController.","title":"Hystrix fallback method is not invoked","body":"<p>Fallback metod should be  called from another bean. The problem is you are calling fallback method from RestController.</p>\n"},{"tags":[],"owner":{"account_id":17614949,"reputation":121,"user_id":12782217,"display_name":"Bexzod Xayrullayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690813273,"creation_date":1690813273,"answer_id":76804530,"question_id":41210369,"body_markdown":"You can try this because of HystrixComman is aspect\r\n\r\n    @Bean\r\n    @Primary\r\n    @Order(value= Ordered.HIGHEST_PRECEDENCE)\r\n    public HystrixCommandAspect hystrixAspect() {\r\n        return new HystrixCommandAspect();\r\n    }\r\n\r\n","title":"Hystrix fallback method is not invoked","body":"<p>You can try this because of HystrixComman is aspect</p>\n<pre><code>@Bean\n@Primary\n@Order(value= Ordered.HIGHEST_PRECEDENCE)\npublic HystrixCommandAspect hystrixAspect() {\n    return new HystrixCommandAspect();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15913029,"reputation":98,"user_id":11482481,"display_name":"Sandhya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692947883,"creation_date":1692888202,"answer_id":76970440,"question_id":41210369,"body_markdown":"The `@HystrixCommand` annotated method should be public. The fallback method can be private as well.","title":"Hystrix fallback method is not invoked","body":"<p>The <code>@HystrixCommand</code> annotated method should be public. The fallback method can be private as well.</p>\n"}],"owner":{"account_id":1737292,"reputation":1809,"user_id":1589549,"accept_rate":38,"display_name":"prranay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6669,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41211068,"answer_count":7,"score":4,"last_activity_date":1692947883,"creation_date":1482078140,"question_id":41210369,"body_markdown":"I&#39;m trying hystrix fallback method.\r\nOn localhost:8082, customer-service is running which returns name of the customer.\r\n\r\nIf the customer-service is down, fallback method should invoke. But it is not happening.\r\n\r\n\r\nBelow is the code snippet.\r\n\r\nPlease suggest.\r\n\r\n    @SpringBootApplication\r\n    @EnableDiscoveryClient\r\n    @EnableCircuitBreaker\r\n    @RestController\r\n    public class DemoHystrixApplication {\r\n    \r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic String name() {\r\n    \t\tString str = getCustomerName();\r\n    \t\treturn str;\r\n    \t}\r\n    \t\r\n    \t@HystrixCommand(fallbackMethod = &quot;getFallbackCustomerName&quot;)\r\n    \tprivate String getCustomerName() {\r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t    URI uri = URI.create(&quot;http://localhost:8082&quot;);\r\n    \t    return restTemplate.getForObject(uri, String.class);\r\n    \t}\r\n    \r\n    \tprivate String getFallbackCustomerName() {\r\n    \t\tSystem.out.println(&quot;coming inside fallback method&quot;);\r\n    \t\treturn &quot;Resillient Customer&quot;;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoHystrixApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n \r\n","title":"Hystrix fallback method is not invoked","body":"<p>I'm trying hystrix fallback method.\nOn localhost:8082, customer-service is running which returns name of the customer.</p>\n\n<p>If the customer-service is down, fallback method should invoke. But it is not happening.</p>\n\n<p>Below is the code snippet.</p>\n\n<p>Please suggest.</p>\n\n<pre><code>@SpringBootApplication\n@EnableDiscoveryClient\n@EnableCircuitBreaker\n@RestController\npublic class DemoHystrixApplication {\n\n    @GetMapping(\"/\")\n    public String name() {\n        String str = getCustomerName();\n        return str;\n    }\n\n    @HystrixCommand(fallbackMethod = \"getFallbackCustomerName\")\n    private String getCustomerName() {\n        RestTemplate restTemplate = new RestTemplate();\n        URI uri = URI.create(\"http://localhost:8082\");\n        return restTemplate.getForObject(uri, String.class);\n    }\n\n    private String getFallbackCustomerName() {\n        System.out.println(\"coming inside fallback method\");\n        return \"Resillient Customer\";\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoHystrixApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","split","substring","contains"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":6,"creation_date":1659967973,"post_id":73279258,"comment_id":129414553,"body_markdown":"Why is this not short and efficient?","body":"Why is this not short and efficient?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1659967996,"post_id":73279258,"comment_id":129414560,"body_markdown":"alternatively get the index of the second whitespace and take a substring until that second index.","body":"alternatively get the index of the second whitespace and take a substring until that second index."},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659968099,"post_id":73279258,"comment_id":129414598,"body_markdown":"But it is equally long and inefficient","body":"But it is equally long and inefficient"},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659968222,"post_id":73279258,"comment_id":129414656,"body_markdown":"f1sh Because you can&#39;t reuse the code and it needs unnecessary variables. And arrays are never perfect anyway","body":"f1sh Because you can&#39;t reuse the code and it needs unnecessary variables. And arrays are never perfect anyway"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1659968319,"post_id":73279258,"comment_id":129414696,"body_markdown":"String splitting or taking a substring are probably the two most efficient ways to do this.  For kicks, I gave a regex answer which st least is easy on the eyes.","body":"String splitting or taking a substring are probably the two most efficient ways to do this.  For kicks, I gave a regex answer which st least is easy on the eyes."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1659968456,"post_id":73279258,"comment_id":129414751,"body_markdown":"@bschle To be fair your code is perfectly fine, once you move the declarations where they&#39;re needed instead of the beginning of code block. It&#39;s readable and what it does is perfectly clear. It&#39;s not inefficient and it&#39;s short and to the point.","body":"@bschle To be fair your code is perfectly fine, once you move the declarations where they&#39;re needed instead of the beginning of code block. It&#39;s readable and what it does is perfectly clear. It&#39;s not inefficient and it&#39;s short and to the point."},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659968772,"post_id":73279258,"comment_id":129414890,"body_markdown":"@Federico klez Culloca\nThanks but you always have to add + &quot; &quot; + newStringArray[x] if you want longer and so it is not perfect with a long sat","body":"@Federico klez Culloca Thanks but you always have to add + &quot; &quot; + newStringArray[x] if you want longer and so it is not perfect with a long sat"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1659979906,"post_id":73279258,"comment_id":129419229,"body_markdown":"@bschle of course you can reuse this code, move it to a method. And the variables can be inlined. You&#39;re splitting hairs here.","body":"@bschle of course you can reuse this code, move it to a method. And the variables can be inlined. You&#39;re splitting hairs here."},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659983482,"post_id":73279258,"comment_id":129420451,"body_markdown":"Yeah, i know thanks but i must use witch my opinion an very long array","body":"Yeah, i know thanks but i must use witch my opinion an very long array"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659968110,"creation_date":1659968110,"answer_id":73279321,"question_id":73279258,"body_markdown":"As an alternative to `String#split()`, you could use a regex replacement approach:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String string = &quot;hello world bye moon&quot;;\r\n    String firstTwo = string.replaceAll(&quot;(\\\\w+ \\\\w+).*&quot;, &quot;$1&quot;);\r\n    System.out.println(firstTwo);  // hello world","title":"Java split string to get only two words","body":"<p>As an alternative to <code>String#split()</code>, you could use a regex replacement approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;hello world bye moon&quot;;\nString firstTwo = string.replaceAll(&quot;(\\\\w+ \\\\w+).*&quot;, &quot;$1&quot;);\nSystem.out.println(firstTwo);  // hello world\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659968434,"creation_date":1659968434,"answer_id":73279400,"question_id":73279258,"body_markdown":"You can also use substring:\r\n\r\n     String string = &quot;hello world bye moon&quot;;\r\n     String stringTwo = string.substring(0, string.indexOf(&#39; &#39;, string.indexOf(&#39; &#39;)+1));\r\n     \r\n     System.out.println(stringTwo);","title":"Java split string to get only two words","body":"<p>You can also use substring:</p>\n<pre><code> String string = &quot;hello world bye moon&quot;;\n String stringTwo = string.substring(0, string.indexOf(' ', string.indexOf(' ')+1));\n \n System.out.println(stringTwo);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659971746,"creation_date":1659971511,"answer_id":73280156,"question_id":73279258,"body_markdown":"Reading your comments it seems that you actually want a method that, given a string and a number `n`, extracts the first `n` words from said string.\r\n\r\nHere&#39;s a quick and dirty version using streams.\r\n\r\n    public static String extractWords(String s, int howMany) {\r\n        var splitString = s.split(&quot; &quot;);\r\n        // TODO: make sure `howMany` is not too big\r\n        return java.util.Arrays.stream(splitString)  // create stream\r\n                               .limit(howMany)       // take only `howMany` elements\r\n                               .collect(java.util.stream.Collectors.joining(&quot; &quot;)); // re-join with spaces\r\n    }\r\n\r\nAnd a version with sub-arrays\r\n\r\n    public static String extractWords(String s, int howMany) {\r\n        var splitString = s.split(&quot; &quot;);\r\n        // TODO: make sure `howMany` is not too big\r\n        var subArray = java.util.Arrays.copyOf(splitString, howMany); // extract sub array\r\n        return String.join(&quot; &quot;, subArray);                            // return joined strings\r\n    }\r\n\r\nIn both versions checking the parameters are valid (i.e. string is not null and there are enough words to return) is left as an exercise for the reader","title":"Java split string to get only two words","body":"<p>Reading your comments it seems that you actually want a method that, given a string and a number <code>n</code>, extracts the first <code>n</code> words from said string.</p>\n<p>Here's a quick and dirty version using streams.</p>\n<pre><code>public static String extractWords(String s, int howMany) {\n    var splitString = s.split(&quot; &quot;);\n    // TODO: make sure `howMany` is not too big\n    return java.util.Arrays.stream(splitString)  // create stream\n                           .limit(howMany)       // take only `howMany` elements\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)); // re-join with spaces\n}\n</code></pre>\n<p>And a version with sub-arrays</p>\n<pre><code>public static String extractWords(String s, int howMany) {\n    var splitString = s.split(&quot; &quot;);\n    // TODO: make sure `howMany` is not too big\n    var subArray = java.util.Arrays.copyOf(splitString, howMany); // extract sub array\n    return String.join(&quot; &quot;, subArray);                            // return joined strings\n}\n</code></pre>\n<p>In both versions checking the parameters are valid (i.e. string is not null and there are enough words to return) is left as an exercise for the reader</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659971832,"creation_date":1659971622,"answer_id":73280183,"question_id":73279258,"body_markdown":"The fast solution is one that doesn&#39;t process the entire string.  Imagine if the string is thousands of characters long with a lot of white spaces.  It should read just enough characters to get the first two words.  You can use String.indexOf to get the second space.  Or you could write your own as below:\r\n\r\n```\r\npublic class Main{\r\n   static String firstTwoWords(String s){\r\n      int spaces = 0;\r\n      int i = 0;\r\n      for(i=0; i&lt;s.length() &amp;&amp; spaces &lt; 2; i++)\r\n         if (s.charAt(i) == &#39; &#39;) \r\n            spaces++;\r\n      return s.substring(0, i);\r\n   }\r\n   \r\n\tpublic static void main(String[] args) {\r\n\t    String s0 = &quot;hello&quot;;\r\n\t\tString s1 = &quot;hello world&quot;;\r\n\t\tString s2 = &quot;hello world peple&quot;;\r\n\t\tSystem.out.println(firstTwoWords(s0));\r\n\t\tSystem.out.println(firstTwoWords(s1));\r\n\t\tSystem.out.println(firstTwoWords(s2));\r\n\t}\r\n}\r\n```","title":"Java split string to get only two words","body":"<p>The fast solution is one that doesn't process the entire string.  Imagine if the string is thousands of characters long with a lot of white spaces.  It should read just enough characters to get the first two words.  You can use String.indexOf to get the second space.  Or you could write your own as below:</p>\n<pre><code>public class Main{\n   static String firstTwoWords(String s){\n      int spaces = 0;\n      int i = 0;\n      for(i=0; i&lt;s.length() &amp;&amp; spaces &lt; 2; i++)\n         if (s.charAt(i) == ' ') \n            spaces++;\n      return s.substring(0, i);\n   }\n   \n    public static void main(String[] args) {\n        String s0 = &quot;hello&quot;;\n        String s1 = &quot;hello world&quot;;\n        String s2 = &quot;hello world peple&quot;;\n        System.out.println(firstTwoWords(s0));\n        System.out.println(firstTwoWords(s1));\n        System.out.println(firstTwoWords(s2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26017129,"reputation":46,"user_id":22423584,"display_name":"zytroy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692947814,"creation_date":1692947814,"answer_id":76975050,"question_id":73279258,"body_markdown":"In Java, you can achieve this more efficiently and concisely without splitting and concatenating by using the `StringTokenizer` class or regular expressions. Here&#39;s an example using `StringTokenizer`:\r\n\r\n```java\r\nimport java.util.StringTokenizer;\r\n\r\npublic class ExtractFirstTwoWords {\r\n    public static void main(String[] args) {\r\n        String inputString = &quot;hello world bye moon&quot;;\r\n\r\n        // Use StringTokenizer to split the string into words\r\n        StringTokenizer tokenizer = new StringTokenizer(inputString);\r\n\r\n        // Check if there are at least two words\r\n        if (tokenizer.countTokens() &gt;= 2) {\r\n            // Extract the first two words\r\n            String firstTwoWords = tokenizer.nextToken() + &quot; &quot; + tokenizer.nextToken();\r\n            System.out.println(&quot;First two words: &quot; + firstTwoWords);\r\n        } else {\r\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlternatively, you can use regular expressions for a more powerful and flexible approach:\r\n\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class ExtractFirstTwoWords {\r\n    public static void main(String[] args) {\r\n        String inputString = &quot;hello world bye moon&quot;;\r\n\r\n        // Define a regular expression to match words\r\n        Pattern pattern = Pattern.compile(&quot;\\\\b\\\\w+\\\\b&quot;);\r\n\r\n        // Create a Matcher\r\n        Matcher matcher = pattern.matcher(inputString);\r\n\r\n        // Find the first two words\r\n        StringBuilder firstTwoWords = new StringBuilder();\r\n        for (int i = 0; i &lt; 2 &amp;&amp; matcher.find(); i++) {\r\n            firstTwoWords.append(matcher.group()).append(&quot; &quot;);\r\n        }\r\n\r\n        if (firstTwoWords.length() &gt; 0) {\r\n            // Remove the trailing space\r\n            firstTwoWords.setLength(firstTwoWords.length() - 1);\r\n            System.out.println(&quot;First two words: &quot; + firstTwoWords.toString());\r\n        } else {\r\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBoth of these approaches avoid creating an intermediate array and are more efficient for extracting the first two words from a string.","title":"Java split string to get only two words","body":"<p>In Java, you can achieve this more efficiently and concisely without splitting and concatenating by using the <code>StringTokenizer</code> class or regular expressions. Here's an example using <code>StringTokenizer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.StringTokenizer;\n\npublic class ExtractFirstTwoWords {\n    public static void main(String[] args) {\n        String inputString = &quot;hello world bye moon&quot;;\n\n        // Use StringTokenizer to split the string into words\n        StringTokenizer tokenizer = new StringTokenizer(inputString);\n\n        // Check if there are at least two words\n        if (tokenizer.countTokens() &gt;= 2) {\n            // Extract the first two words\n            String firstTwoWords = tokenizer.nextToken() + &quot; &quot; + tokenizer.nextToken();\n            System.out.println(&quot;First two words: &quot; + firstTwoWords);\n        } else {\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Alternatively, you can use regular expressions for a more powerful and flexible approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class ExtractFirstTwoWords {\n    public static void main(String[] args) {\n        String inputString = &quot;hello world bye moon&quot;;\n\n        // Define a regular expression to match words\n        Pattern pattern = Pattern.compile(&quot;\\\\b\\\\w+\\\\b&quot;);\n\n        // Create a Matcher\n        Matcher matcher = pattern.matcher(inputString);\n\n        // Find the first two words\n        StringBuilder firstTwoWords = new StringBuilder();\n        for (int i = 0; i &lt; 2 &amp;&amp; matcher.find(); i++) {\n            firstTwoWords.append(matcher.group()).append(&quot; &quot;);\n        }\n\n        if (firstTwoWords.length() &gt; 0) {\n            // Remove the trailing space\n            firstTwoWords.setLength(firstTwoWords.length() - 1);\n            System.out.println(&quot;First two words: &quot; + firstTwoWords.toString());\n        } else {\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Both of these approaches avoid creating an intermediate array and are more efficient for extracting the first two words from a string.</p>\n"}],"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":4,"up_vote_count":5,"accepted_answer_id":76975050,"answer_count":5,"score":1,"last_activity_date":1692947814,"creation_date":1659967865,"question_id":73279258,"body_markdown":"I have a Java string like &quot;hello world bye moon&quot; and I&#39;m looking for an efficient way to extract the first two words from it. Currently, I&#39;m using the split method and then concatenating the first two elements of the resulting array. However, I&#39;m wondering if there&#39;s a more concise and efficient way to achieve this.\r\n\r\nHere&#39;s my current code:\r\n\r\n    public class ExtractFirstTwoWords {\r\n        public static void main(String[] args) {\r\n            String inputString = &quot;hello world bye moon&quot;;\r\n    \r\n            // Split the string into words\r\n            String[] words = inputString.split(&quot; &quot;);\r\n    \r\n            // Check if there are at least two words\r\n            if (words.length &gt;= 2) {\r\n                // Extract the first two words\r\n                String firstTwoWords = words[0] + &quot; &quot; + words[1];\r\n                System.out.println(&quot;First two words: &quot; + firstTwoWords);\r\n            } else {\r\n                System.out.println(&quot;The input string does not contain at least two words.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIs there a built-in Java method or a more efficient approach to extract the first two words from a string without splitting and concatenating all the words in the string?\r\n","title":"Java split string to get only two words","body":"<p>I have a Java string like &quot;hello world bye moon&quot; and I'm looking for an efficient way to extract the first two words from it. Currently, I'm using the split method and then concatenating the first two elements of the resulting array. However, I'm wondering if there's a more concise and efficient way to achieve this.</p>\n<p>Here's my current code:</p>\n<pre><code>public class ExtractFirstTwoWords {\n    public static void main(String[] args) {\n        String inputString = &quot;hello world bye moon&quot;;\n\n        // Split the string into words\n        String[] words = inputString.split(&quot; &quot;);\n\n        // Check if there are at least two words\n        if (words.length &gt;= 2) {\n            // Extract the first two words\n            String firstTwoWords = words[0] + &quot; &quot; + words[1];\n            System.out.println(&quot;First two words: &quot; + firstTwoWords);\n        } else {\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Is there a built-in Java method or a more efficient approach to extract the first two words from a string without splitting and concatenating all the words in the string?</p>\n"},{"tags":["java","vaadin8"],"comments":[{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":0,"creation_date":1553763019,"post_id":55390021,"comment_id":97507290,"body_markdown":"`Which I know will not work` - why not? looks good to me. Did you set items for the ComboBox? There should never be a need for a Converter on a ComboBox - You can always add an `ItemLabelGenerator` where you can define the conversion from the original type to how it should be displayed (default is toString, but you could convert it to Vaadin Components for example. see how it is done in the [documentation](https://vaadin.com/components/vaadin-combo-box/java-examples/using-components))","body":"<code>Which I know will not work</code> - why not? looks good to me. Did you set items for the ComboBox? There should never be a need for a Converter on a ComboBox - You can always add an <code>ItemLabelGenerator</code> where you can define the conversion from the original type to how it should be displayed (default is toString, but you could convert it to Vaadin Components for example. see how it is done in the <a href=\"https://vaadin.com/components/vaadin-combo-box/java-examples/using-components\" rel=\"nofollow noreferrer\">documentation</a>)"},{"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"score":0,"creation_date":1553769800,"post_id":55390021,"comment_id":97511409,"body_markdown":"I got a error message The method bind(HasValue, ValueProvider, Setter) in the type Binder is not applicable for the arguments (ComboBox&lt;String&gt;, Student::getGender, Student::setGender) but when I tried to replicate the error no error was there. But using bindInstanceFields was easier though.","body":"I got a error message The method bind(HasValue, ValueProvider, Setter) in the type Binder is not applicable for the arguments (ComboBox&lt;String&gt;, Student::getGender, Student::setGender) but when I tried to replicate the error no error was there. But using bindInstanceFields was easier though."},{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":0,"creation_date":1553770240,"post_id":55390021,"comment_id":97511671,"body_markdown":"is gender actually an Enum or is it a String in your student object? using bindInstanceFields can be easier but IIRC then it only works for very basic bindings - no converters, validators, nullRepresentations, or readOnly (no setter) can be set, and you can&#39;t bind nested fields of the Student object. it basically applies `binder.forField(field).bind(&quot;propertyName&quot;)` for each HasValue-component in your view","body":"is gender actually an Enum or is it a String in your student object? using bindInstanceFields can be easier but IIRC then it only works for very basic bindings - no converters, validators, nullRepresentations, or readOnly (no setter) can be set, and you can&#39;t bind nested fields of the Student object. it basically applies <code>binder.forField(field).bind(&quot;propertyName&quot;)</code> for each HasValue-component in your view"},{"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"score":0,"creation_date":1553770439,"post_id":55390021,"comment_id":97511805,"body_markdown":"It is an Enum in a string utils with a toString method","body":"It is an Enum in a string utils with a toString method"},{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":1,"creation_date":1553770502,"post_id":55390021,"comment_id":97511858,"body_markdown":"aha! you should define your ComboBox as `ComboBox&lt;Gender&gt;` then!","body":"aha! you should define your ComboBox as <code>ComboBox&lt;Gender&gt;</code> then!"},{"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"score":0,"creation_date":1553770633,"post_id":55390021,"comment_id":97511950,"body_markdown":"Thanks this must have been the problem","body":"Thanks this must have been the problem"}],"answers":[{"tags":[],"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553761960,"creation_date":1553761960,"answer_id":55393119,"question_id":55390021,"body_markdown":"I have found that in vaadin 8 uses bindInstanceFields to bind form data to a class.\t\t\t\r\n\r\n    Binder binder = new Binder&lt;Student&gt;(Student.class);\r\n\r\n    binder.bindInstanceFields(this);\r\n    binder.readBean(student);","title":"Binding a combo box vaadin 8","body":"<p>I have found that in vaadin 8 uses bindInstanceFields to bind form data to a class.         </p>\n\n<pre><code>Binder binder = new Binder&lt;Student&gt;(Student.class);\n\nbinder.bindInstanceFields(this);\nbinder.readBean(student);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692947273,"creation_date":1553771001,"answer_id":55395981,"question_id":55390021,"body_markdown":"You mentioned in a comment that the `gender` field in your `Student` object is actually an Enum and not a String. \r\n\r\nYour mistake was that you defined the ComboBox with type String instead of your Gender enum.\r\n\r\nAssuming your gender enum class is called `Gender`, this will work:\r\n\r\n    ComboBox&lt;Gender&gt; gender = new ComboBox&lt;Gender&gt;(&quot;Gender&quot;);\r\n    Binder&lt;Student&gt; binder = new Binder&lt;Student&gt;(Student.class);\r\n    binder.bind(gender, Student::getGender, Student::setGender);\r\n\r\nYou can add an `ItemLabelGenerator` to the ComboBox to define how the selected Gender value should be displayed (and `Renderer`, which will control how the items in the dropdown will look). By default it will use `toString()` of the class, both for itemLabelGenerator and for renderer. But you could use the Renderer to build Vaadin Components for example if you want. see how it is done in the [ComboBox documentation][1]).  \r\n\r\nThe selected value can only be displayed as a String. If you want to let it be displayed as a Vaadin Component instead, you could use a `Select` component instead. [Select documentation][2].\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/components/combo-box#custom-item-presentation\r\n  [2]: https://vaadin.com/docs/latest/components/select#custom-item-presentation","title":"Binding a combo box vaadin 8","body":"<p>You mentioned in a comment that the <code>gender</code> field in your <code>Student</code> object is actually an Enum and not a String.</p>\n<p>Your mistake was that you defined the ComboBox with type String instead of your Gender enum.</p>\n<p>Assuming your gender enum class is called <code>Gender</code>, this will work:</p>\n<pre><code>ComboBox&lt;Gender&gt; gender = new ComboBox&lt;Gender&gt;(&quot;Gender&quot;);\nBinder&lt;Student&gt; binder = new Binder&lt;Student&gt;(Student.class);\nbinder.bind(gender, Student::getGender, Student::setGender);\n</code></pre>\n<p>You can add an <code>ItemLabelGenerator</code> to the ComboBox to define how the selected Gender value should be displayed (and <code>Renderer</code>, which will control how the items in the dropdown will look). By default it will use <code>toString()</code> of the class, both for itemLabelGenerator and for renderer. But you could use the Renderer to build Vaadin Components for example if you want. see how it is done in the <a href=\"https://vaadin.com/docs/latest/components/combo-box#custom-item-presentation\" rel=\"nofollow noreferrer\">ComboBox documentation</a>).</p>\n<p>The selected value can only be displayed as a String. If you want to let it be displayed as a Vaadin Component instead, you could use a <code>Select</code> component instead. <a href=\"https://vaadin.com/docs/latest/components/select#custom-item-presentation\" rel=\"nofollow noreferrer\">Select documentation</a>.</p>\n"}],"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55395981,"answer_count":2,"score":1,"last_activity_date":1692947273,"creation_date":1553746146,"question_id":55390021,"body_markdown":"I&#39;am trying to convert vaadin 7 code to vaadin 8 code Instead of using BeanFieldGroup vaadin 8 docs uses Binder instead to bind form fields to a class. This does not seem to work for combo box&#39;s.\r\n\r\nI&#39;ve looked for a way to use converter which does not seem to be available for combo box. As used in binding data to form in the vaadin documentation  [here](https://vaadin.com/docs/v8/framework/datamodel/datamodel-forms.html)\r\n\r\nFor one field the converter worked:\r\n\r\n    binder.forField(age).withConverter(\r\n\t\t\t\t\t\tnew \r\n    StringToIntegerConverter(&quot;Must enter a number&quot;)).bind(\r\n\t\t\t\t\t\tStudent::getAge, \r\n    Student::setAge);\r\n\r\nBut for a combo box I&#39;am unsure how this will work.\r\n\r\n    ComboBox&lt;String&gt; gender = new ComboBox&lt;String&gt;(&quot;Gender&quot;);\r\n\r\n    Binder binder = new Binder&lt;Student&gt;(Student.class);\r\n\r\n    binder.bind(gender, Student::getGender, Student::setGender);\r\n\r\nWhich I know will not work is there a way to write a converter for a combo box or should another way be used altogether.","title":"Binding a combo box vaadin 8","body":"<p>I'am trying to convert vaadin 7 code to vaadin 8 code Instead of using BeanFieldGroup vaadin 8 docs uses Binder instead to bind form fields to a class. This does not seem to work for combo box's.</p>\n\n<p>I've looked for a way to use converter which does not seem to be available for combo box. As used in binding data to form in the vaadin documentation  <a href=\"https://vaadin.com/docs/v8/framework/datamodel/datamodel-forms.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>For one field the converter worked:</p>\n\n<pre><code>binder.forField(age).withConverter(\n                    new \nStringToIntegerConverter(\"Must enter a number\")).bind(\n                    Student::getAge, \nStudent::setAge);\n</code></pre>\n\n<p>But for a combo box I'am unsure how this will work.</p>\n\n<pre><code>ComboBox&lt;String&gt; gender = new ComboBox&lt;String&gt;(\"Gender\");\n\nBinder binder = new Binder&lt;Student&gt;(Student.class);\n\nbinder.bind(gender, Student::getGender, Student::setGender);\n</code></pre>\n\n<p>Which I know will not work is there a way to write a converter for a combo box or should another way be used altogether.</p>\n"},{"tags":["java","android","xml","kotlin"],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692945787,"creation_date":1692905016,"answer_id":76972398,"question_id":76970683,"body_markdown":"I faced this issue some time back. Although I am not sure what causes it, but it is because of transparent fragment background. So add a background color to the root view of all your fragments.\r\n\r\nAdd ` android:background=&quot;#fff&quot;` to root view as given below. You can use whatever color suits your design.\r\n\r\nSet `clickable` attribute of the second fragment&#39;s root view to true. Then the event will not be passed to the first fragment.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:background=&quot;#fff&quot;\r\n    android:clickable=&quot;true&quot;     \r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.dashboard.Detail1Fragment&quot;&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n","title":"Prevent overlapping after screen transition?","body":"<p>I faced this issue some time back. Although I am not sure what causes it, but it is because of transparent fragment background. So add a background color to the root view of all your fragments.</p>\n<p>Add <code> android:background=&quot;#fff&quot;</code> to root view as given below. You can use whatever color suits your design.</p>\n<p>Set <code>clickable</code> attribute of the second fragment's root view to true. Then the event will not be passed to the first fragment.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:background=&quot;#fff&quot;\n    android:clickable=&quot;true&quot;     \n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.dashboard.Detail1Fragment&quot;&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":29284773,"reputation":13,"user_id":22436636,"display_name":"karimori 00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76972398,"answer_count":1,"score":1,"last_activity_date":1692945787,"creation_date":1692889886,"question_id":76970683,"body_markdown":"# Premise\r\nDuring implementing screen transition from ListView to other fragment, the bug overlapping ListView and the fragment occur.\r\n\r\n1. I selected Bottom Navigation View Activity template.\r\n\r\n2. added ListView to dashboard\r\n\r\n# Issue\r\nTwo elements overlay on same screen like following screenshot.\r\n\r\nAfter transition\r\n[After Transition](https://i.stack.imgur.com/J4x1a.png)\r\n\r\n# Source Code\r\n\r\nMainActivity.kt\r\n\r\n```\r\npackage com.example.guitercodeapp3\r\n\r\n//omit &#39;import&#39;\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityMainBinding\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        val navView: BottomNavigationView = binding.navView\r\n\r\n        val navController = findNavController(R.id.nav_host_fragment_activity_main)\r\n        val appBarConfiguration = AppBarConfiguration(\r\n            setOf(\r\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications\r\n            )\r\n        )\r\n        setupActionBarWithNavController(navController, appBarConfiguration)\r\n        navView.setupWithNavController(navController)\r\n    }\r\n\r\n    internal fun openDetailFragment(selectedItem: String,lyrics: String){\r\n        val fragment = Detail1Fragment.newInstance(selectedItem ,lyrics)\r\n        supportFragmentManager.beginTransaction().replace(androidx.navigation.fragment.R.id.nav_host_fragment_container, fragment).addToBackStack(null).commit()\r\n    }\r\n}\r\n```\r\n\r\nDashboardFragment.kt\r\n\r\n```\r\npackage com.example.guitercodeapp3.ui.dashboard\r\n\r\n//omit &#39;import&#39;\r\n\r\nclass DashboardFragment : Fragment() {\r\n\r\n    private var _binding: FragmentDashboardBinding? = null\r\n\r\n    private val binding get() = _binding!!\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n        _binding = FragmentDashboardBinding.inflate(inflater, container, false)\r\n        val rootView: View = _binding!!.root\r\n\r\n        val listView: ListView = binding.listView\r\n        val items = resources.getStringArray(R.array.list_song)\r\n        val adapter = ArrayAdapter(requireContext(),android.R.layout.simple_list_item_1,items)\r\n        listView.adapter = adapter\r\n\r\n        val dashboardViewModel =\r\n            ViewModelProvider(this).get(DashboardViewModel::class.java)\r\n\r\n        //val rootView = inflater.inflate(R.layout.fragment_dashboard,container,false)\r\n\r\n\r\n        listView.setOnItemClickListener { parent, view, position, id -&gt;\r\n            val selectedItem = items[position]\r\n            val lyrics = resources.getStringArray(R.array.list_lyrics)[position]\r\n            val activity = requireActivity() as MainActivity\r\n            activity.openDetailFragment(selectedItem, lyrics)\r\n            val detail1Fragment = Detail1Fragment.newInstance(selectedItem, lyrics)\r\n\r\n            requireActivity().supportFragmentManager.beginTransaction().replace(R.id.nav_host_fragment_container,detail1Fragment).addToBackStack(null).commit()\r\n            Toast.makeText(requireContext(), &quot;$selectedItem が選択されました&quot;, Toast.LENGTH_SHORT)\r\n                .show()\r\n        }\r\n\r\n\r\n\r\n        val textView: TextView = binding.textDashboard\r\n        dashboardViewModel.text.observe(viewLifecycleOwner) {\r\n            textView.text = it\r\n        }\r\n        return rootView\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        _binding = null\r\n    }\r\n}\r\n```\r\n\r\nDetail1Fragment.kt\r\n\r\n```\r\npackage com.example.guitercodeapp3.ui.dashboard\r\n\r\n//omit &#39;import&#39;\r\n\r\nclass Detail1Fragment : Fragment() {\r\n\r\n    companion object {\r\n        private const val ARG_SELECTED_ITEM = &quot;selected_item&quot;\r\n        private const val ARG_LYRICS = &quot;lyrics&quot;\r\n\r\n        fun newInstance(selectedItem: String, lyrics: String):Detail1Fragment{\r\n            val fragment = Detail1Fragment()\r\n            val args = Bundle()\r\n            args.putString(ARG_SELECTED_ITEM, selectedItem)\r\n            args.putString(ARG_LYRICS,lyrics)\r\n            fragment.arguments = args\r\n            return fragment\r\n        }\r\n    }\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n\r\n        val rootView = inflater.inflate(R.layout.fragment_detail1,container,false)\r\n        val textViewDetail = rootView.findViewById&lt;TextView&gt;(R.id.textViewDetail)\r\n\r\n\r\n        arguments?.let{\r\n            val selectedItem = it.getString(ARG_SELECTED_ITEM)\r\n            val lyrics = it.getString(ARG_LYRICS)\r\n            textViewDetail.text = &quot;$selectedItem\\n\\n$lyrics&quot;\r\n        }\r\n\r\n\r\n        return rootView\r\n    }\r\n\r\n}\r\n```\r\n\r\nfragment_dashboard.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.dashboard.DashboardFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_dashboard&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.6&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:entries=&quot;@array/list_song&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/text_dashboard&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nfragment_detail1.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.dashboard.Detail1Fragment&quot;&gt;\r\n\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewDetail&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:text=&quot;@string/hello_blank_fragment&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nstrings.xml\r\n\r\n```\r\n&lt;resources&gt;\r\n    &lt;string name=&quot;app_name&quot;&gt;GuiterCodeApp3&lt;/string&gt;\r\n    &lt;string name=&quot;title_home&quot;&gt;Home&lt;/string&gt;\r\n    &lt;string name=&quot;title_dashboard&quot;&gt;Dashboard&lt;/string&gt;\r\n    &lt;string name=&quot;title_notifications&quot;&gt;Notifications&lt;/string&gt;\r\n    &lt;string name=&quot;list_animal&quot; /&gt;\r\n\r\n    &lt;string-array name=&quot;list_song&quot;&gt;\r\n        &lt;item&gt;Imagine&lt;/item&gt;\r\n        &lt;item&gt;Shape of you&lt;/item&gt;\r\n        &lt;item&gt;Whatever&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;list_lyrics&quot;&gt;\r\n        &lt;item&gt;Lyrics of Imagine&lt;/item&gt;\r\n        &lt;item&gt;Lyrics of Shape of you&lt;/item&gt;\r\n        &lt;item&gt;Lyrics of Whatever&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;!-- TODO: Remove or change this placeholder text --&gt;\r\n    &lt;string name=&quot;hello_blank_fragment&quot;&gt;Hello blank fragment&lt;/string&gt;\r\n\r\n&lt;/resources&gt;\r\n```\r\n\r\n# Supplementary information\r\nAndroid Studio Giraffe | 2022.3.1\r\n\r\n# What I tried\r\nI make sure id,name,entries,and navGraph in xml files.\r\n\r\nI tried changing the IDs in the `listView.setOnItemClickListener` section of DashboardFragment.kt,\r\nbut there were no progress.","title":"Prevent overlapping after screen transition?","body":"<h1>Premise</h1>\n<p>During implementing screen transition from ListView to other fragment, the bug overlapping ListView and the fragment occur.</p>\n<ol>\n<li><p>I selected Bottom Navigation View Activity template.</p>\n</li>\n<li><p>added ListView to dashboard</p>\n</li>\n</ol>\n<h1>Issue</h1>\n<p>Two elements overlay on same screen like following screenshot.</p>\n<p>After transition\n<a href=\"https://i.stack.imgur.com/J4x1a.png\" rel=\"nofollow noreferrer\">After Transition</a></p>\n<h1>Source Code</h1>\n<p>MainActivity.kt</p>\n<pre><code>package com.example.guitercodeapp3\n\n//omit 'import'\n\nclass MainActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityMainBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        val navView: BottomNavigationView = binding.navView\n\n        val navController = findNavController(R.id.nav_host_fragment_activity_main)\n        val appBarConfiguration = AppBarConfiguration(\n            setOf(\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications\n            )\n        )\n        setupActionBarWithNavController(navController, appBarConfiguration)\n        navView.setupWithNavController(navController)\n    }\n\n    internal fun openDetailFragment(selectedItem: String,lyrics: String){\n        val fragment = Detail1Fragment.newInstance(selectedItem ,lyrics)\n        supportFragmentManager.beginTransaction().replace(androidx.navigation.fragment.R.id.nav_host_fragment_container, fragment).addToBackStack(null).commit()\n    }\n}\n</code></pre>\n<p>DashboardFragment.kt</p>\n<pre><code>package com.example.guitercodeapp3.ui.dashboard\n\n//omit 'import'\n\nclass DashboardFragment : Fragment() {\n\n    private var _binding: FragmentDashboardBinding? = null\n\n    private val binding get() = _binding!!\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        _binding = FragmentDashboardBinding.inflate(inflater, container, false)\n        val rootView: View = _binding!!.root\n\n        val listView: ListView = binding.listView\n        val items = resources.getStringArray(R.array.list_song)\n        val adapter = ArrayAdapter(requireContext(),android.R.layout.simple_list_item_1,items)\n        listView.adapter = adapter\n\n        val dashboardViewModel =\n            ViewModelProvider(this).get(DashboardViewModel::class.java)\n\n        //val rootView = inflater.inflate(R.layout.fragment_dashboard,container,false)\n\n\n        listView.setOnItemClickListener { parent, view, position, id -&gt;\n            val selectedItem = items[position]\n            val lyrics = resources.getStringArray(R.array.list_lyrics)[position]\n            val activity = requireActivity() as MainActivity\n            activity.openDetailFragment(selectedItem, lyrics)\n            val detail1Fragment = Detail1Fragment.newInstance(selectedItem, lyrics)\n\n            requireActivity().supportFragmentManager.beginTransaction().replace(R.id.nav_host_fragment_container,detail1Fragment).addToBackStack(null).commit()\n            Toast.makeText(requireContext(), &quot;$selectedItem が選択されました&quot;, Toast.LENGTH_SHORT)\n                .show()\n        }\n\n\n\n        val textView: TextView = binding.textDashboard\n        dashboardViewModel.text.observe(viewLifecycleOwner) {\n            textView.text = it\n        }\n        return rootView\n    }\n\n    override fun onDestroyView() {\n        super.onDestroyView()\n        _binding = null\n    }\n}\n</code></pre>\n<p>Detail1Fragment.kt</p>\n<pre><code>package com.example.guitercodeapp3.ui.dashboard\n\n//omit 'import'\n\nclass Detail1Fragment : Fragment() {\n\n    companion object {\n        private const val ARG_SELECTED_ITEM = &quot;selected_item&quot;\n        private const val ARG_LYRICS = &quot;lyrics&quot;\n\n        fun newInstance(selectedItem: String, lyrics: String):Detail1Fragment{\n            val fragment = Detail1Fragment()\n            val args = Bundle()\n            args.putString(ARG_SELECTED_ITEM, selectedItem)\n            args.putString(ARG_LYRICS,lyrics)\n            fragment.arguments = args\n            return fragment\n        }\n    }\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n\n        val rootView = inflater.inflate(R.layout.fragment_detail1,container,false)\n        val textViewDetail = rootView.findViewById&lt;TextView&gt;(R.id.textViewDetail)\n\n\n        arguments?.let{\n            val selectedItem = it.getString(ARG_SELECTED_ITEM)\n            val lyrics = it.getString(ARG_LYRICS)\n            textViewDetail.text = &quot;$selectedItem\\n\\n$lyrics&quot;\n        }\n\n\n        return rootView\n    }\n\n}\n</code></pre>\n<p>fragment_dashboard.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.dashboard.DashboardFragment&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_dashboard&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.6&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:entries=&quot;@array/list_song&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/text_dashboard&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:defaultNavHost=&quot;true&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>fragment_detail1.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.dashboard.Detail1Fragment&quot;&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/textViewDetail&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;@string/hello_blank_fragment&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>strings.xml</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;GuiterCodeApp3&lt;/string&gt;\n    &lt;string name=&quot;title_home&quot;&gt;Home&lt;/string&gt;\n    &lt;string name=&quot;title_dashboard&quot;&gt;Dashboard&lt;/string&gt;\n    &lt;string name=&quot;title_notifications&quot;&gt;Notifications&lt;/string&gt;\n    &lt;string name=&quot;list_animal&quot; /&gt;\n\n    &lt;string-array name=&quot;list_song&quot;&gt;\n        &lt;item&gt;Imagine&lt;/item&gt;\n        &lt;item&gt;Shape of you&lt;/item&gt;\n        &lt;item&gt;Whatever&lt;/item&gt;\n    &lt;/string-array&gt;\n\n    &lt;string-array name=&quot;list_lyrics&quot;&gt;\n        &lt;item&gt;Lyrics of Imagine&lt;/item&gt;\n        &lt;item&gt;Lyrics of Shape of you&lt;/item&gt;\n        &lt;item&gt;Lyrics of Whatever&lt;/item&gt;\n    &lt;/string-array&gt;\n\n    &lt;!-- TODO: Remove or change this placeholder text --&gt;\n    &lt;string name=&quot;hello_blank_fragment&quot;&gt;Hello blank fragment&lt;/string&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<h1>Supplementary information</h1>\n<p>Android Studio Giraffe | 2022.3.1</p>\n<h1>What I tried</h1>\n<p>I make sure id,name,entries,and navGraph in xml files.</p>\n<p>I tried changing the IDs in the <code>listView.setOnItemClickListener</code> section of DashboardFragment.kt,\nbut there were no progress.</p>\n"},{"tags":["java","jfreechart","gantt-chart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692467836,"post_id":76936344,"comment_id":135628520,"body_markdown":"Why are you replacing the chart factory&#39;s renderer? What happens if you use the existing renderer and enable `tooltips`? You can customize it like [this](https://stackoverflow.com/a/15241250/230513) or substitute your own factory.","body":"Why are you replacing the chart factory&#39;s renderer? What happens if you use the existing renderer and enable <code>tooltips</code>? You can customize it like <a href=\"https://stackoverflow.com/a/15241250/230513\">this</a> or substitute your own factory."},{"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"score":0,"creation_date":1692475293,"post_id":76936344,"comment_id":135629272,"body_markdown":"At the beginning I did this for my custom labels, but I think I can just set them by plot.getRenderer() right?\nThe example you sended me is confusing me. What are the parameters I need to insert in the MyTooltipGenerator Constructor? I want to show the parameters that are in my list?","body":"At the beginning I did this for my custom labels, but I think I can just set them by plot.getRenderer() right? The example you sended me is confusing me. What are the parameters I need to insert in the MyTooltipGenerator Constructor? I want to show the parameters that are in my list?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692485243,"post_id":76936344,"comment_id":135630171,"body_markdown":"The example I cited shows`MyToolTipGenerator`,  a subclass of `IntervalCategoryToolTipGenerator`; your implementation of `generateToolTip()` should return your list. If this is unclear, please [edit] your question to include a [mre] that shows your revised approach; as I lack you database, please feel free to use the example cited.","body":"The example I cited shows<code>MyToolTipGenerator</code>,  a subclass of <code>IntervalCategoryToolTipGenerator</code>; your implementation of <code>generateToolTip()</code> should return your list. If this is unclear, please <a href=\"https://stackoverflow.com/posts/76936344/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach; as I lack you database, please feel free to use the example cited."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692548476,"post_id":76936344,"comment_id":135635450,"body_markdown":"Also consider extending `IntervalCategoryDataset` in a manner similar to `JDBCCategoryDataset`; you can then leverage the message format described [here](https://stackoverflow.com/a/42052500/230513) in your own implementation of the `IntervalCategoryToolTipGenerator` method, `createItemArray()`.","body":"Also consider extending <code>IntervalCategoryDataset</code> in a manner similar to <code>JDBCCategoryDataset</code>; you can then leverage the message format described <a href=\"https://stackoverflow.com/a/42052500/230513\">here</a> in your own implementation of the <code>IntervalCategoryToolTipGenerator</code> method, <code>createItemArray()</code>."},{"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"score":0,"creation_date":1692680961,"post_id":76936344,"comment_id":135653159,"body_markdown":"@trashgod I included now minimal reproducable code. I tried the example you sended me but again couldn&#39;t get it to work. I think I am missing something. I removed the new renderer and tried to set Tooltip as you suggested with MyToolTip but it did&#39;nt show anything. In this reproducable example I set the things back so it is reproducable.","body":"@trashgod I included now minimal reproducable code. I tried the example you sended me but again couldn&#39;t get it to work. I think I am missing something. I removed the new renderer and tried to set Tooltip as you suggested with MyToolTip but it did&#39;nt show anything. In this reproducable example I set the things back so it is reproducable."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692741128,"post_id":76936344,"comment_id":135665321,"body_markdown":"I don&#39;t see where you invoke `setBaseToolTipGenerator()`.","body":"I don&#39;t see where you invoke <code>setBaseToolTipGenerator()</code>."},{"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"score":0,"creation_date":1692765043,"post_id":76936344,"comment_id":135667240,"body_markdown":"@trashgod I removed it again so I could provide a working application. I used the setBaseTooltipGenerator as the example.\n\nI removed the new renderer completely and put the line &#39;plot.getRenderer().setBaseToolTipGenerator(\n            new MyToolTipGenerator(\n            &quot;{0}, {1}: &quot;, DateFormat.getTimeInstance(DateFormat.SHORT)));&#39; and put it directly under the other plot commands","body":"@trashgod I removed it again so I could provide a working application. I used the setBaseTooltipGenerator as the example.  I removed the new renderer completely and put the line &#39;plot.getRenderer().setBaseToolTipGenerator(             new MyToolTipGenerator(             &quot;{0}, {1}: &quot;, DateFormat.getTimeInstance(DateFormat.SHORT)));&#39; and put it directly under the other plot commands"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692810035,"post_id":76936344,"comment_id":135675935,"body_markdown":"That _sounds_ right, but I can only guess; please [edit] your question to include a [mre] that shows your revised approach and focuses on tooltip rendering; note that neither I nor other readers have your database, so you&#39;ll need to mock that aspect; as `generateToolTip` and `generateLabel`, it may help to factor that into a separate method.","body":"That <i>sounds</i> right, but I can only guess; please <a href=\"https://stackoverflow.com/posts/76936344/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach and focuses on tooltip rendering; note that neither I nor other readers have your database, so you&#39;ll need to mock that aspect; as <code>generateToolTip</code> and <code>generateLabel</code>, it may help to factor that into a separate method."},{"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"score":0,"creation_date":1692945232,"post_id":76936344,"comment_id":135696113,"body_markdown":"@trashgod the code should already be reproducable since I exchanged the database with an arrayList so feel free to try it out. I also added the &#39;setTooltipGenerator()&#39; part.\nI really don&#39;t know what to do in order for it to work. I tried many things now but it doesn&#39;t show any tooltip...","body":"@trashgod the code should already be reproducable since I exchanged the database with an arrayList so feel free to try it out. I also added the &#39;setTooltipGenerator()&#39; part. I really don&#39;t know what to do in order for it to work. I tried many things now but it doesn&#39;t show any tooltip..."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1693004216,"post_id":76936344,"comment_id":135707411,"body_markdown":"Sorry it&#39;s not working; I urge you to study the problem is isolation using the [mre] I previously cited, seen [here](https://stackoverflow.com/a/15241250/230513); verify that you understand how it works, and adapt it to your use. Sadly, your 300+ lines of code in _not_ minimal; one frame should be sufficient; due to spurious imports, I still cannot run it; but I&#39;ll examine it, and any updates you make, as time permits.","body":"Sorry it&#39;s not working; I urge you to study the problem is isolation using the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I previously cited, seen <a href=\"https://stackoverflow.com/a/15241250/230513\">here</a>; verify that you understand how it works, and adapt it to your use. Sadly, your 300+ lines of code in <i>not</i> minimal; one frame should be sufficient; due to spurious imports, I still cannot run it; but I&#39;ll examine it, and any updates you make, as time permits."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1693049950,"post_id":76936344,"comment_id":135710461,"body_markdown":"If you later move to a current release of [tag:jfreechart], see the migration guide cited [here](https://stackoverflow.com/a/70398420/230513).","body":"If you later move to a current release of <a href=\"https://stackoverflow.com/questions/tagged/jfreechart\">jfreechart</a>, see the migration guide cited <a href=\"https://stackoverflow.com/a/70398420/230513\">here</a>."}],"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692945190,"creation_date":1692466774,"question_id":76936344,"body_markdown":"I am new to JFreeChart, and I don&#39;t understand how all the classes work together yet. I am trying to create a Gantt chart with custom labels and custom tooltip. The custom labels work (though I don&#39;t think I did it the proper clean way), but I don&#39;t get the custom tooltip to work.\r\n\r\nAfter pressing on a button in another panel I send the required data (a date) I get from the database to the class that generates the gantt chart. With the date I got as a variable I get all the information for this date from the database and put it in the gantt chart.\r\n\r\nThis is how my gantt chart looks right now:\r\n[![enter image description here][1]][1]\r\n\r\nmy main class looks like that:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.Connection;\r\n    import java.util.Calendar;\r\n    import javax.swing.*;\r\n\r\n    import info.clearthought.layout.TableLayout;\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.data.category.IntervalCategoryDataset;\r\n    import org.jfree.data.gantt.Task;\r\n    import org.jfree.data.gantt.TaskSeries;\r\n    import org.jfree.data.gantt.TaskSeriesCollection;\r\n\r\n    public class Schichtplanner extends JFrame {\r\n        private static final long serialVersionUID = 1L;\r\n        double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL};\r\n        double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35};\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    //System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1&quot;);\r\n                    try {\r\n                        Schichtplanner frame = new Schichtplanner();\r\n                        frame.setVisible(true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public Schichtplanner() {\r\n            //JFrame frame = new JFrame(&quot;Schichtplanner&quot;);\r\n            this.setTitle(&quot;Schichtplanungs-App&quot;);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\r\n            JPanel panelMain = new JPanel();\r\n            add(panelMain);\r\n\r\n            panelMain.setLayout(new TableLayout(new double[][]{busX, busY}));\r\n\r\n            JButton buttonMitarbeiterVerwalten = new JButton(&quot;Mitarbeiter verwalten&quot;);\r\n            panelMain.add(buttonMitarbeiterVerwalten, &quot;1,1,1,1&quot;); // Adds Button to content pane of frame\r\n            buttonMitarbeiterVerwalten.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    //MitarbeiterVerwalten mitarbeiterVerwaltenFrame = new MitarbeiterVerwalten();\r\n                }\r\n            });\r\n\r\n            JButton buttonAuftragVerwalten = new JButton(&quot;Auftrag verwalten&quot;);\r\n            panelMain.add(buttonAuftragVerwalten, &quot;1,3,1,3&quot;); // Adds Button to content pane of frame\r\n            buttonAuftragVerwalten.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    //AuftragVerwalten auftragVerwaltenFrame = new AuftragVerwalten();\r\n                }\r\n            });\r\n\r\n            JButton buttonSucheAuftrag = new JButton(&quot;Auftrag suchen&quot;);\r\n            panelMain.add(buttonSucheAuftrag, &quot;1,5,1,5&quot;); // Adds Button to content pane of frame\r\n\r\n            JButton buttonKalenderAnsicht = new JButton(&quot;Kalenderansicht&quot;);\r\n            panelMain.add(buttonKalenderAnsicht, &quot;1,7,1,7&quot;); // Adds Button to content pane of frame\r\n            buttonKalenderAnsicht.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    try {\r\n                        Auftrags&#220;bersicht auftrags&#220;bersicht = new Auftrags&#220;bersicht(&quot;2023-08-17&quot;);\r\n                    } catch (ParseException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\n            setVisible(true);\r\n            panelMain.setVisible(true);\r\n        }\r\n    }  \r\n\r\nAnd my gantt chart class is like that:\r\n\r\n    import com.github.lgooddatepicker.components.DatePicker;\r\n    import info.clearthought.layout.TableLayout;\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.block.BlockBorder;\r\n    import org.jfree.chart.labels.*;\r\n    import org.jfree.chart.plot.CategoryPlot;\r\n    import org.jfree.chart.renderer.category.CategoryItemRenderer;\r\n    import org.jfree.chart.renderer.category.StandardBarPainter;\r\n    import org.jfree.data.category.CategoryDataset;\r\n    import org.jfree.data.category.IntervalCategoryDataset;\r\n    import org.jfree.data.gantt.Task;\r\n    import org.jfree.data.gantt.TaskSeries;\r\n    import org.jfree.data.gantt.TaskSeriesCollection;\r\n    import org.jfree.ui.RectangleInsets;\r\n    import org.jfree.ui.TextAnchor;\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.*;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.*;\r\n    import java.util.List;\r\n\r\n    import org.jfree.chart.renderer.category.StandardBarPainter;\r\n\r\n    public class Auftrags&#220;bersicht extends JFrame {\r\n\r\n    private ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\r\n    private ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\r\n    private ArrayList&lt;Integer&gt; liegenschaftsnummer;\r\n\r\n    public Auftrags&#220;bersicht(String date) throws ParseException {\r\n        double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL, SchichtplannerConstants.GUI_BORDER};\r\n        double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, 40, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35};\r\n        auftragsBeginn = new ArrayList&lt;&gt;();\r\n        auftragsEnde = new ArrayList&lt;&gt;();\r\n        auftragsAdresse = new ArrayList&lt;&gt;();\r\n        auftragsPLZ = new ArrayList&lt;&gt;();\r\n        mitarbeiterVorname = new ArrayList&lt;&gt;();\r\n        mitarbeiterNachname = new ArrayList&lt;&gt;();\r\n        liegenschaftsnummer = new ArrayList&lt;&gt;();\r\n\r\n        this.setTitle(&quot;Tages&#252;bersicht Auftr&#228;ge&quot;);\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        this.setSize(screenSize.width, screenSize.height);\r\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\r\n        try\r\n        {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        /********************************/\r\n        // Create dataset\r\n        IntervalCategoryDataset dataset = getCategoryDataset(date);\r\n\r\n        // Create chart\r\n        JFreeChart chart = ChartFactory.createGanttChart(date, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\r\n        chart.setBackgroundPaint(Color.white);\r\n\r\n        //chart.setBorderVisible(false);\r\n        CategoryPlot plot = (CategoryPlot) chart.getPlot();\r\n        plot.setDomainGridlinePaint(Color.white);\r\n        plot.setOutlinePaint(Color.white);\r\n        plot.setBackgroundPaint(Color.white);\r\n        //plot.setOutlineVisible(false);\r\n\r\n        plot.getRenderer().setBaseToolTipGenerator( new MyToolTipGenerator( &quot;{0}, {1}: &quot;, DateFormat.getTimeInstance(DateFormat.SHORT)));\r\n\r\n        ChartPanel panel = new ChartPanel(chart);\r\n        setContentPane(panel);\r\n        setVisible(true);\r\n\r\n        /*******************************/\r\n        setResizable(false);\r\n    }\r\n\r\n    private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\r\n        date = date + &quot; 00:00:00.00000&quot;;\r\n        Timestamp timestamp = Timestamp.valueOf(date);\r\n        Timestamp timestamp2 = addDays(timestamp,1);\r\n\r\n        /*try {\r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\r\n\r\n            PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\r\n            st.setTimestamp(1, timestamp);\r\n            st.setTimestamp(2, timestamp2);\r\n            ResultSet rs = st.executeQuery();\r\n            while (rs.next()) {\r\n                Calendar calendar1 = Calendar.getInstance();\r\n                calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\r\n                getAuftragsBeginnList().add(calendar1);\r\n\r\n                Calendar calendar2 = Calendar.getInstance();\r\n                calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\r\n                getAuftragsEndeList().add(calendar2);\r\n\r\n                getAuftragsAdresseList().add(rs.getString(3));\r\n                getAuftragsPLZList().add(rs.getString(4));\r\n                getLiegenschaftsnummerList().add(rs.getInt(5));\r\n                getMitarbeiterVornameList().add(rs.getString(6));\r\n                getMitarbeiterNachnameList().add(rs.getString(7));\r\n            }\r\n            rs.close();\r\n            st.close();\r\n        } catch (SQLException sqlException) {\r\n            sqlException.printStackTrace();\r\n        }*/\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal.setTime(sdf.parse(&quot;2023-08-17 07:30:00&quot;));// all done\r\n        auftragsBeginn.add(cal);\r\n\r\n        Calendar cal1 = Calendar.getInstance();\r\n        SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal1.setTime(sdf1.parse(&quot;2023-08-17 15:30:00&quot;));// all done\r\n        auftragsEnde.add(cal1);\r\n\r\n        auftragsAdresse.add(&quot;Ohmstra&#223;e 32&quot;);\r\n        auftragsPLZ.add(&quot;45711&quot;);\r\n        liegenschaftsnummer.add(1);\r\n        mitarbeiterVorname.add(&quot;Michael&quot;);\r\n        mitarbeiterNachname.add(&quot;Thompson&quot;);\r\n\r\n        Calendar cal2 = Calendar.getInstance();\r\n        SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal2.setTime(sdf2.parse(&quot;2023-08-17 09:00:00&quot;));// all done\r\n        auftragsBeginn.add(cal2);\r\n\r\n        Calendar cal3 = Calendar.getInstance();\r\n        SimpleDateFormat sdf3 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal3.setTime(sdf3.parse(&quot;2023-08-17 16:30:00&quot;));// all done\r\n        auftragsEnde.add(cal3);\r\n\r\n        auftragsAdresse.add(&quot;Fegestra&#223;e 5&quot;);\r\n        auftragsPLZ.add(&quot;44623&quot;);\r\n        liegenschaftsnummer.add(2);\r\n        mitarbeiterVorname.add(&quot;Hasan&quot;);\r\n        mitarbeiterNachname.add(&quot;Sekici&quot;);\r\n\r\n        Calendar cal4 = Calendar.getInstance();\r\n        SimpleDateFormat sdf4 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal4.setTime(sdf4.parse(&quot;2023-08-17 08:00:00&quot;));// all done\r\n        auftragsBeginn.add(cal4);\r\n\r\n        Calendar cal5 = Calendar.getInstance();\r\n        SimpleDateFormat sdf5 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal5.setTime(sdf5.parse(&quot;2023-08-17 17:30:00&quot;));// all done\r\n        auftragsEnde.add(cal5);\r\n\r\n        auftragsAdresse.add(&quot;Sambaweg 10&quot;);\r\n        auftragsPLZ.add(&quot;44141&quot;);\r\n        liegenschaftsnummer.add(3);\r\n        mitarbeiterVorname.add(&quot;Jon&quot;);\r\n        mitarbeiterNachname.add(&quot;Schnee&quot;);\r\n\r\n        TaskSeries series1 = new TaskSeries(&quot;Auftr&#228;ge&quot;);\r\n        for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\r\n            series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\r\n            System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\r\n        }\r\n\r\n        TaskSeriesCollection dataset = new TaskSeriesCollection();\r\n        dataset.add(series1);\r\n        return dataset;\r\n    }\r\n\r\n    public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\r\n        return auftragsBeginn;\r\n    }\r\n\r\n    public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\r\n        return auftragsEnde;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getAuftragsAdresseList() {\r\n        return auftragsAdresse;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getAuftragsPLZList() {\r\n        return auftragsPLZ;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\r\n        return mitarbeiterVorname;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\r\n        return mitarbeiterNachname;\r\n    }\r\n\r\n    public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\r\n        return liegenschaftsnummer;\r\n    }\r\n\r\n    public Timestamp addDays(Timestamp date, int days) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);// w ww.  j ava  2  s  .co m\r\n        cal.add(Calendar.DATE, days); //minus number would decrement the days\r\n        return new Timestamp(cal.getTime().getTime());\r\n\r\n    }\r\n    }\r\n\r\n    class MyToolTipGenerator extends IntervalCategoryToolTipGenerator {\r\n\r\n    DateFormat format;\r\n\r\n    public MyToolTipGenerator(String value, DateFormat format) {\r\n        super(value, format);\r\n        this.format = format;\r\n    }\r\n\r\n    @Override\r\n    public String generateToolTip(CategoryDataset cds, int row, int col) {\r\n        final String s = super.generateToolTip(cds, row, col);\r\n        TaskSeriesCollection tsc = (TaskSeriesCollection) cds;\r\n        StringBuilder sb = new StringBuilder(s);\r\n        for (int i = 0; i &lt; tsc.getSubIntervalCount(row, col); i++) {\r\n            sb.append(format.format(tsc.getStartValue(row, col, i)));\r\n            sb.append(&quot;-&quot;);\r\n            sb.append(format.format(tsc.getEndValue(row, col, i)));\r\n            sb.append(&quot;,&quot;);\r\n        }\r\n        sb.deleteCharAt(sb.length() - 1);\r\n        return sb.toString();\r\n    }\r\n    }\r\n\r\n\r\nI already tried some of the examples and solutions that were posted here but neither of them worked. Since I get several data from the db and store them all in an ArrayList, I want to show the specific related begin and end time (`getAuftragsBeginnList` and `getAuftragsEndeList`) in relation to the hovered datapoint. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kJOSF.png","title":"Custom tooltip for JFreeChart Gantt chart in Java","body":"<p>I am new to JFreeChart, and I don't understand how all the classes work together yet. I am trying to create a Gantt chart with custom labels and custom tooltip. The custom labels work (though I don't think I did it the proper clean way), but I don't get the custom tooltip to work.</p>\n<p>After pressing on a button in another panel I send the required data (a date) I get from the database to the class that generates the gantt chart. With the date I got as a variable I get all the information for this date from the database and put it in the gantt chart.</p>\n<p>This is how my gantt chart looks right now:\n<a href=\"https://i.stack.imgur.com/kJOSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kJOSF.png\" alt=\"enter image description here\" /></a></p>\n<p>my main class looks like that:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.Connection;\nimport java.util.Calendar;\nimport javax.swing.*;\n\nimport info.clearthought.layout.TableLayout;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.data.category.IntervalCategoryDataset;\nimport org.jfree.data.gantt.Task;\nimport org.jfree.data.gantt.TaskSeries;\nimport org.jfree.data.gantt.TaskSeriesCollection;\n\npublic class Schichtplanner extends JFrame {\n    private static final long serialVersionUID = 1L;\n    double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL};\n    double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35};\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                //System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1&quot;);\n                try {\n                    Schichtplanner frame = new Schichtplanner();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public Schichtplanner() {\n        //JFrame frame = new JFrame(&quot;Schichtplanner&quot;);\n        this.setTitle(&quot;Schichtplanungs-App&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\n\n        JPanel panelMain = new JPanel();\n        add(panelMain);\n\n        panelMain.setLayout(new TableLayout(new double[][]{busX, busY}));\n\n        JButton buttonMitarbeiterVerwalten = new JButton(&quot;Mitarbeiter verwalten&quot;);\n        panelMain.add(buttonMitarbeiterVerwalten, &quot;1,1,1,1&quot;); // Adds Button to content pane of frame\n        buttonMitarbeiterVerwalten.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                //MitarbeiterVerwalten mitarbeiterVerwaltenFrame = new MitarbeiterVerwalten();\n            }\n        });\n\n        JButton buttonAuftragVerwalten = new JButton(&quot;Auftrag verwalten&quot;);\n        panelMain.add(buttonAuftragVerwalten, &quot;1,3,1,3&quot;); // Adds Button to content pane of frame\n        buttonAuftragVerwalten.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                //AuftragVerwalten auftragVerwaltenFrame = new AuftragVerwalten();\n            }\n        });\n\n        JButton buttonSucheAuftrag = new JButton(&quot;Auftrag suchen&quot;);\n        panelMain.add(buttonSucheAuftrag, &quot;1,5,1,5&quot;); // Adds Button to content pane of frame\n\n        JButton buttonKalenderAnsicht = new JButton(&quot;Kalenderansicht&quot;);\n        panelMain.add(buttonKalenderAnsicht, &quot;1,7,1,7&quot;); // Adds Button to content pane of frame\n        buttonKalenderAnsicht.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                try {\n                    AuftragsÜbersicht auftragsÜbersicht = new AuftragsÜbersicht(&quot;2023-08-17&quot;);\n                } catch (ParseException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n\n        setVisible(true);\n        panelMain.setVisible(true);\n    }\n}  \n</code></pre>\n<p>And my gantt chart class is like that:</p>\n<pre><code>import com.github.lgooddatepicker.components.DatePicker;\nimport info.clearthought.layout.TableLayout;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.block.BlockBorder;\nimport org.jfree.chart.labels.*;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.renderer.category.CategoryItemRenderer;\nimport org.jfree.chart.renderer.category.StandardBarPainter;\nimport org.jfree.data.category.CategoryDataset;\nimport org.jfree.data.category.IntervalCategoryDataset;\nimport org.jfree.data.gantt.Task;\nimport org.jfree.data.gantt.TaskSeries;\nimport org.jfree.data.gantt.TaskSeriesCollection;\nimport org.jfree.ui.RectangleInsets;\nimport org.jfree.ui.TextAnchor;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.format.DateTimeFormatter;\nimport java.util.*;\nimport java.util.List;\n\nimport org.jfree.chart.renderer.category.StandardBarPainter;\n\npublic class AuftragsÜbersicht extends JFrame {\n\nprivate ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\nprivate ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\nprivate ArrayList&lt;Integer&gt; liegenschaftsnummer;\n\npublic AuftragsÜbersicht(String date) throws ParseException {\n    double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL, SchichtplannerConstants.GUI_BORDER};\n    double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, 40, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35};\n    auftragsBeginn = new ArrayList&lt;&gt;();\n    auftragsEnde = new ArrayList&lt;&gt;();\n    auftragsAdresse = new ArrayList&lt;&gt;();\n    auftragsPLZ = new ArrayList&lt;&gt;();\n    mitarbeiterVorname = new ArrayList&lt;&gt;();\n    mitarbeiterNachname = new ArrayList&lt;&gt;();\n    liegenschaftsnummer = new ArrayList&lt;&gt;();\n\n    this.setTitle(&quot;Tagesübersicht Aufträge&quot;);\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    this.setSize(screenSize.width, screenSize.height);\n    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n    try\n    {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    /********************************/\n    // Create dataset\n    IntervalCategoryDataset dataset = getCategoryDataset(date);\n\n    // Create chart\n    JFreeChart chart = ChartFactory.createGanttChart(date, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\n    chart.setBackgroundPaint(Color.white);\n\n    //chart.setBorderVisible(false);\n    CategoryPlot plot = (CategoryPlot) chart.getPlot();\n    plot.setDomainGridlinePaint(Color.white);\n    plot.setOutlinePaint(Color.white);\n    plot.setBackgroundPaint(Color.white);\n    //plot.setOutlineVisible(false);\n\n    plot.getRenderer().setBaseToolTipGenerator( new MyToolTipGenerator( &quot;{0}, {1}: &quot;, DateFormat.getTimeInstance(DateFormat.SHORT)));\n\n    ChartPanel panel = new ChartPanel(chart);\n    setContentPane(panel);\n    setVisible(true);\n\n    /*******************************/\n    setResizable(false);\n}\n\nprivate IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\n    date = date + &quot; 00:00:00.00000&quot;;\n    Timestamp timestamp = Timestamp.valueOf(date);\n    Timestamp timestamp2 = addDays(timestamp,1);\n\n    /*try {\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\n\n        PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\n        st.setTimestamp(1, timestamp);\n        st.setTimestamp(2, timestamp2);\n        ResultSet rs = st.executeQuery();\n        while (rs.next()) {\n            Calendar calendar1 = Calendar.getInstance();\n            calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\n            getAuftragsBeginnList().add(calendar1);\n\n            Calendar calendar2 = Calendar.getInstance();\n            calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\n            getAuftragsEndeList().add(calendar2);\n\n            getAuftragsAdresseList().add(rs.getString(3));\n            getAuftragsPLZList().add(rs.getString(4));\n            getLiegenschaftsnummerList().add(rs.getInt(5));\n            getMitarbeiterVornameList().add(rs.getString(6));\n            getMitarbeiterNachnameList().add(rs.getString(7));\n        }\n        rs.close();\n        st.close();\n    } catch (SQLException sqlException) {\n        sqlException.printStackTrace();\n    }*/\n\n    Calendar cal = Calendar.getInstance();\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal.setTime(sdf.parse(&quot;2023-08-17 07:30:00&quot;));// all done\n    auftragsBeginn.add(cal);\n\n    Calendar cal1 = Calendar.getInstance();\n    SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal1.setTime(sdf1.parse(&quot;2023-08-17 15:30:00&quot;));// all done\n    auftragsEnde.add(cal1);\n\n    auftragsAdresse.add(&quot;Ohmstraße 32&quot;);\n    auftragsPLZ.add(&quot;45711&quot;);\n    liegenschaftsnummer.add(1);\n    mitarbeiterVorname.add(&quot;Michael&quot;);\n    mitarbeiterNachname.add(&quot;Thompson&quot;);\n\n    Calendar cal2 = Calendar.getInstance();\n    SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal2.setTime(sdf2.parse(&quot;2023-08-17 09:00:00&quot;));// all done\n    auftragsBeginn.add(cal2);\n\n    Calendar cal3 = Calendar.getInstance();\n    SimpleDateFormat sdf3 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal3.setTime(sdf3.parse(&quot;2023-08-17 16:30:00&quot;));// all done\n    auftragsEnde.add(cal3);\n\n    auftragsAdresse.add(&quot;Fegestraße 5&quot;);\n    auftragsPLZ.add(&quot;44623&quot;);\n    liegenschaftsnummer.add(2);\n    mitarbeiterVorname.add(&quot;Hasan&quot;);\n    mitarbeiterNachname.add(&quot;Sekici&quot;);\n\n    Calendar cal4 = Calendar.getInstance();\n    SimpleDateFormat sdf4 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal4.setTime(sdf4.parse(&quot;2023-08-17 08:00:00&quot;));// all done\n    auftragsBeginn.add(cal4);\n\n    Calendar cal5 = Calendar.getInstance();\n    SimpleDateFormat sdf5 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal5.setTime(sdf5.parse(&quot;2023-08-17 17:30:00&quot;));// all done\n    auftragsEnde.add(cal5);\n\n    auftragsAdresse.add(&quot;Sambaweg 10&quot;);\n    auftragsPLZ.add(&quot;44141&quot;);\n    liegenschaftsnummer.add(3);\n    mitarbeiterVorname.add(&quot;Jon&quot;);\n    mitarbeiterNachname.add(&quot;Schnee&quot;);\n\n    TaskSeries series1 = new TaskSeries(&quot;Aufträge&quot;);\n    for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\n        series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\n        System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\n    }\n\n    TaskSeriesCollection dataset = new TaskSeriesCollection();\n    dataset.add(series1);\n    return dataset;\n}\n\npublic ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\n    return auftragsBeginn;\n}\n\npublic ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\n    return auftragsEnde;\n}\n\npublic ArrayList&lt;String&gt; getAuftragsAdresseList() {\n    return auftragsAdresse;\n}\n\npublic ArrayList&lt;String&gt; getAuftragsPLZList() {\n    return auftragsPLZ;\n}\n\npublic ArrayList&lt;String&gt; getMitarbeiterVornameList() {\n    return mitarbeiterVorname;\n}\n\npublic ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\n    return mitarbeiterNachname;\n}\n\npublic ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\n    return liegenschaftsnummer;\n}\n\npublic Timestamp addDays(Timestamp date, int days) {\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(date);// w ww.  j ava  2  s  .co m\n    cal.add(Calendar.DATE, days); //minus number would decrement the days\n    return new Timestamp(cal.getTime().getTime());\n\n}\n}\n\nclass MyToolTipGenerator extends IntervalCategoryToolTipGenerator {\n\nDateFormat format;\n\npublic MyToolTipGenerator(String value, DateFormat format) {\n    super(value, format);\n    this.format = format;\n}\n\n@Override\npublic String generateToolTip(CategoryDataset cds, int row, int col) {\n    final String s = super.generateToolTip(cds, row, col);\n    TaskSeriesCollection tsc = (TaskSeriesCollection) cds;\n    StringBuilder sb = new StringBuilder(s);\n    for (int i = 0; i &lt; tsc.getSubIntervalCount(row, col); i++) {\n        sb.append(format.format(tsc.getStartValue(row, col, i)));\n        sb.append(&quot;-&quot;);\n        sb.append(format.format(tsc.getEndValue(row, col, i)));\n        sb.append(&quot;,&quot;);\n    }\n    sb.deleteCharAt(sb.length() - 1);\n    return sb.toString();\n}\n}\n</code></pre>\n<p>I already tried some of the examples and solutions that were posted here but neither of them worked. Since I get several data from the db and store them all in an ArrayList, I want to show the specific related begin and end time (<code>getAuftragsBeginnList</code> and <code>getAuftragsEndeList</code>) in relation to the hovered datapoint.</p>\n"},{"tags":["java","spring","eclipse","maven","updating"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675877000,"post_id":75389017,"comment_id":133023982,"body_markdown":"First why do you have a maven plugin as a dependency? Not correct. Remove the dependency to the maven-war-plugin.... Also it would help to post the log output? Have you tried to run on plain command line? And how you called Maven? Have you started from within Eclipse? If so try to run on plain command line...","body":"First why do you have a maven plugin as a dependency? Not correct. Remove the dependency to the maven-war-plugin.... Also it would help to post the log output? Have you tried to run on plain command line? And how you called Maven? Have you started from within Eclipse? If so try to run on plain command line..."},{"owner":{"account_id":22694314,"reputation":11,"user_id":16862744,"display_name":"Kazan"},"score":0,"creation_date":1675932818,"post_id":75389017,"comment_id":133035183,"body_markdown":"Thank you very much! I am following an on line course on Udemy and the teacher does this (dependency + plugin) to avoid the initial error on the pom.xml file. I am new on Maven and Spring, so I do not know so much about it. Anyway, I have no output, once I add the dependency and the plugins, when I save, Eclipse stuck at 75 while upgrading the Maven project and I cannot do anything!","body":"Thank you very much! I am following an on line course on Udemy and the teacher does this (dependency + plugin) to avoid the initial error on the pom.xml file. I am new on Maven and Spring, so I do not know so much about it. Anyway, I have no output, once I add the dependency and the plugins, when I save, Eclipse stuck at 75 while upgrading the Maven project and I cannot do anything!"},{"owner":{"account_id":22694314,"reputation":11,"user_id":16862744,"display_name":"Kazan"},"score":0,"creation_date":1675933282,"post_id":75389017,"comment_id":133035303,"body_markdown":"Editing: I am trying deleting the dependency, and for now it seems working.","body":"Editing: I am trying deleting the dependency, and for now it seems working."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675953914,"post_id":75389017,"comment_id":133042017,"body_markdown":"Build the project for the first time outside of Eclipse (plain command line)...afterwards import it into Eclipse...","body":"Build the project for the first time outside of Eclipse (plain command line)...afterwards import it into Eclipse..."}],"answers":[{"tags":[],"owner":{"account_id":256647,"reputation":611,"user_id":537515,"accept_rate":65,"display_name":"Kalyan Raju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691011816,"creation_date":1691011816,"answer_id":76823659,"question_id":75389017,"body_markdown":"Try changing this m2e setting: Preferences &gt; Maven &gt; Annotation Processing &gt; Do not automatically configure/execute annotation processing from pom.xml fixed the issue in my case","title":"Updating Maven Project does not move from 75","body":"<p>Try changing this m2e setting: Preferences &gt; Maven &gt; Annotation Processing &gt; Do not automatically configure/execute annotation processing from pom.xml fixed the issue in my case</p>\n"},{"tags":[],"owner":{"account_id":10031770,"reputation":527,"user_id":7417998,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692945072,"creation_date":1692945072,"answer_id":76974768,"question_id":75389017,"body_markdown":"Remove the errors sowing components from all pom.xml files in your IDE. Then clean the projects. Maven must update complete now.","title":"Updating Maven Project does not move from 75","body":"<p>Remove the errors sowing components from all pom.xml files in your IDE. Then clean the projects. Maven must update complete now.</p>\n"}],"owner":{"account_id":22694314,"reputation":11,"user_id":16862744,"display_name":"Kazan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692945072,"creation_date":1675874690,"question_id":75389017,"body_markdown":"I have this problem. I have just started a new Maven project and, after adding this code: \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nThe project is freezed on &quot;Updating Maven Project 75&quot;, I am trying to search a solution, but no one is working. The funniest thing is I am following a course on line about Spring and it is just the first attempt to use Maven.\r\n\r\nTried to restart Eclipse, to delete and create a new project...","title":"Updating Maven Project does not move from 75","body":"<p>I have this problem. I have just started a new Maven project and, after adding this code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>The project is freezed on &quot;Updating Maven Project 75&quot;, I am trying to search a solution, but no one is working. The funniest thing is I am following a course on line about Spring and it is just the first attempt to use Maven.</p>\n<p>Tried to restart Eclipse, to delete and create a new project...</p>\n"},{"tags":["java","sqlite","listview","java-stream","changelistener"],"answers":[{"tags":[],"owner":{"account_id":17884207,"reputation":11,"user_id":12992252,"display_name":"McLutzifer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689946889,"creation_date":1689946889,"answer_id":76738531,"question_id":76737904,"body_markdown":"Not entirely sure if I understand the problem, but I ***guess*** that you can achieve what you want with adding dedicated listeners to headerZettel and textZettel respectively. And then it seems, since you are listening to header and text constantly you can get rid of `updateZettelInDatabase()` \r\nsomething like \r\n```\r\nheaderZettel.textProperty().addListener((observable, oldValue, newValue) -&gt; ...etc\r\n```\r\n\r\n... but I&#39;m new to Java as well so please be careful with my advice ","title":"How to display changes in the Textfield of an Object live in ListView?","body":"<p>Not entirely sure if I understand the problem, but I <em><strong>guess</strong></em> that you can achieve what you want with adding dedicated listeners to headerZettel and textZettel respectively. And then it seems, since you are listening to header and text constantly you can get rid of <code>updateZettelInDatabase()</code>\nsomething like</p>\n<pre><code>headerZettel.textProperty().addListener((observable, oldValue, newValue) -&gt; ...etc\n</code></pre>\n<p>... but I'm new to Java as well so please be careful with my advice</p>\n"},{"tags":[],"owner":{"account_id":27841518,"reputation":21,"user_id":21257897,"display_name":"cas edo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692945033,"creation_date":1692945033,"answer_id":76974765,"question_id":76737904,"body_markdown":"So i tried everything from refactoring the classes to use StringProperties instead of Strings, implementing other Updating-logic, and Binding the ListView and zettelData together and not overwriting the binding anywhere. Nothing worked. \r\nWhat helped in the end, was this line of code:\r\n\r\n```\r\nPlatform.runLater(() -&gt; zettelList.refresh());\r\n\r\n```\r\n\r\nint this method that saves the edits made on key tipped\r\n\r\n```\r\n @FXML\r\n    void saveOnChangeZettel(KeyEvent event){\r\n        if (currentZettelId != null) { // &#220;berpr&#252;fe, ob eine aktuelle ZettelId vorhanden ist\r\n            updateZettelInDatabase();\r\n            checkForBuzzwordsInCurrentZettel(currentZettelId);\r\n\r\n            Platform.runLater(() -&gt; zettelList.refresh());\r\n        }\r\n    }\r\n```","title":"How to display changes in the Textfield of an Object live in ListView?","body":"<p>So i tried everything from refactoring the classes to use StringProperties instead of Strings, implementing other Updating-logic, and Binding the ListView and zettelData together and not overwriting the binding anywhere. Nothing worked.\nWhat helped in the end, was this line of code:</p>\n<pre><code>Platform.runLater(() -&gt; zettelList.refresh());\n\n</code></pre>\n<p>int this method that saves the edits made on key tipped</p>\n<pre><code> @FXML\n    void saveOnChangeZettel(KeyEvent event){\n        if (currentZettelId != null) { // Überprüfe, ob eine aktuelle ZettelId vorhanden ist\n            updateZettelInDatabase();\n            checkForBuzzwordsInCurrentZettel(currentZettelId);\n\n            Platform.runLater(() -&gt; zettelList.refresh());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27841518,"reputation":21,"user_id":21257897,"display_name":"cas edo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692945033,"creation_date":1689941636,"question_id":76737904,"body_markdown":"i am currently coding a small Zettelkasten-app* in Java and Building most of the GUI in scenebuilder. \r\n\r\n---\r\n\r\nFurther Description irrelevant for the Question, read italic parts only if interested: \r\n*(The app gives you the possibility of taking notes that are saved in an SQLite3 table and defining buzzwords along the way, which your other notes are then searched for, and you are handed a list of Zettel containing the same buzzwords. You can also group Zettel into collections)*\r\n\r\n---\r\n\r\nI have a ListView, that allows you to choose one of the Zettel, and its header and text are loaded into TextFields for editing. I want the ListView to display the changes in a Zettel live during typing (the text in the database is updated with every keystroke).\r\n\r\n\r\n\r\n\r\n\r\n With my current solution, the Thumb or Cell of the Zettel in the LV is only ever updated, when i click on another one.\r\n\r\nHere are my bits of code responsible for that functionality.\r\n\r\nController-Class:\r\n\r\n```\r\n//variables\r\n @FXML\r\n    public TextField headerZettel;\r\n\r\n    @FXML\r\n    public TextArea textZettel;\r\n@FXML\r\n    private ListView&lt;Zettel&gt; zettelList;\r\n    private ObservableList&lt;Zettel&gt; zettelData = FXCollections.observableArrayList();\r\n```\r\n\r\n\r\n```\r\n public void initializeZettelList() {\r\n        // get ZettelData from database and add to list\r\n        zettelList.setItems(zettelData);\r\n\r\n        //CellFactory for manipulation of the listcells\r\n        zettelList.setCellFactory(param -&gt; new ListCell&lt;&gt;() {\r\n            private final VBox vbRoot = new VBox();\r\n            private final Label lblHeader = new Label();\r\n            private final Label lblText = new Label();\r\n            private Zettel zettel;\r\n\r\n            {\r\n                lblHeader.setStyle(&quot;-fx-font-weight: bold;&quot;);\r\n                vbRoot.setSpacing(10);\r\n                vbRoot.getChildren().addAll(lblHeader, lblText);\r\n            }\r\n\r\n            @Override\r\n            protected void updateItem(Zettel z, boolean empty) {\r\n                super.updateItem(z, empty);\r\n\r\n                if (z != null &amp;&amp; !empty) {\r\n\r\n                    lblHeader.setText(z.getHeader());\r\n                    lblText.setText(z.getText().split(&quot;\\n&quot;)[0]);\r\n                    setGraphic(vbRoot);\r\n                    zettel = z; // Save the reference to the associated Zettel object\r\n                } else {\r\n                    setGraphic(null);\r\n                    zettel = null; // Clear the reference when the cell is empty\r\n                }\r\n            }\r\n        });\r\n        // ChangeListener to load and handle Zettel-Objects\r\n        zettelList.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;Zettel&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends Zettel&gt; observable, Zettel oldValue, Zettel newValue) {\r\n                if (newValue != null) {\r\n                    currentZettelId = newValue.getZettelId();\r\n                    headerZettel.setText(newValue.getHeader());\r\n                    textZettel.setText(newValue.getText());\r\n                } else {\r\n                    currentZettelId = null;\r\n                    headerZettel.clear();\r\n                    textZettel.clear();\r\n                }\r\n            }\r\n        });\r\n}\r\n```\r\nin here is the Stream with the ZettelData:\r\n\r\n```\r\npublic void updateZettelInDatabase() {\r\n        String header = getHeaderZettelText();\r\n        String text = getTextZettelText();\r\n        if (currentZettelId != null) {\r\n            Zettel zettelToUpdate = zettelData.stream()\r\n                    .filter(z -&gt; Arrays.equals(z.getZettelId(), currentZettelId))\r\n                    .findFirst()\r\n                    .orElse(null);\r\n\r\n            if (zettelToUpdate != null) {\r\n                zettelToUpdate.setHeader(header);\r\n                zettelToUpdate.setText(text);\r\n\r\n                //Update Zettel-Object in database\r\n                ZettelUpdater zettelUpdater = new ZettelUpdater();\r\n                zettelUpdater.updateZettel(header, text, currentZettelId);\r\n            } else {\r\n                System.out.println(&quot;Keine aktuelle ZettelId vorhanden.&quot;);\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\nFrom the Database-Class:\r\n\r\n\r\n```\r\n public static ObservableList&lt;Zettel&gt; getZettelData(){\r\n        ObservableList&lt;Zettel&gt; zettelData = FXCollections.observableArrayList();\r\n\r\n        try (Connection conn = DriverManager.getConnection(connectionString);\r\n             PreparedStatement stmt = conn.prepareStatement(&quot;SELECT ZettelId, Header, Text, Date FROM zettel&quot;);\r\n             ResultSet rs = stmt.executeQuery()) {\r\n\r\n            DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n\r\n            while (rs.next()) {\r\n                byte[] zettelId = rs.getBytes(&quot;ZettelId&quot;);\r\n                String header = rs.getString(&quot;Header&quot;);\r\n                String text = rs.getString(&quot;Text&quot;);\r\n                String dateString = rs.getString(&quot;Date&quot;);\r\n\r\n\r\n                LocalDate date = LocalDate.parse(dateString, dateFormatter);\r\n\r\n                Zettel zettel = new Zettel();\r\n                zettel.setZettelId(zettelId);\r\n                zettel.setHeader(header);\r\n                zettel.setText(text);\r\n                zettel.setDate(date);\r\n\r\n                zettelData.add(zettel);\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return zettelData;\r\n    }\r\n```\r\n\r\n[![this is how it looks](https://i.stack.imgur.com/Lnp0o.png)](https://i.stack.imgur.com/Lnp0o.png)\r\n\r\n Any hints or Ideas, how to make it work live?\r\n\r\nGenerally i am also very happy for all kinds of critique, as i am very new to java, and this is my first project to finish my course. :)\r\n\r\n\r\nThank you for your help, you&#39;re too kind.\r\n\r\nHerzl Ich","title":"How to display changes in the Textfield of an Object live in ListView?","body":"<p>i am currently coding a small Zettelkasten-app* in Java and Building most of the GUI in scenebuilder.</p>\n<hr />\n<p>Further Description irrelevant for the Question, read italic parts only if interested:\n<em>(The app gives you the possibility of taking notes that are saved in an SQLite3 table and defining buzzwords along the way, which your other notes are then searched for, and you are handed a list of Zettel containing the same buzzwords. You can also group Zettel into collections)</em></p>\n<hr />\n<p>I have a ListView, that allows you to choose one of the Zettel, and its header and text are loaded into TextFields for editing. I want the ListView to display the changes in a Zettel live during typing (the text in the database is updated with every keystroke).</p>\n<p>With my current solution, the Thumb or Cell of the Zettel in the LV is only ever updated, when i click on another one.</p>\n<p>Here are my bits of code responsible for that functionality.</p>\n<p>Controller-Class:</p>\n<pre><code>//variables\n @FXML\n    public TextField headerZettel;\n\n    @FXML\n    public TextArea textZettel;\n@FXML\n    private ListView&lt;Zettel&gt; zettelList;\n    private ObservableList&lt;Zettel&gt; zettelData = FXCollections.observableArrayList();\n</code></pre>\n<pre><code> public void initializeZettelList() {\n        // get ZettelData from database and add to list\n        zettelList.setItems(zettelData);\n\n        //CellFactory for manipulation of the listcells\n        zettelList.setCellFactory(param -&gt; new ListCell&lt;&gt;() {\n            private final VBox vbRoot = new VBox();\n            private final Label lblHeader = new Label();\n            private final Label lblText = new Label();\n            private Zettel zettel;\n\n            {\n                lblHeader.setStyle(&quot;-fx-font-weight: bold;&quot;);\n                vbRoot.setSpacing(10);\n                vbRoot.getChildren().addAll(lblHeader, lblText);\n            }\n\n            @Override\n            protected void updateItem(Zettel z, boolean empty) {\n                super.updateItem(z, empty);\n\n                if (z != null &amp;&amp; !empty) {\n\n                    lblHeader.setText(z.getHeader());\n                    lblText.setText(z.getText().split(&quot;\\n&quot;)[0]);\n                    setGraphic(vbRoot);\n                    zettel = z; // Save the reference to the associated Zettel object\n                } else {\n                    setGraphic(null);\n                    zettel = null; // Clear the reference when the cell is empty\n                }\n            }\n        });\n        // ChangeListener to load and handle Zettel-Objects\n        zettelList.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;Zettel&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Zettel&gt; observable, Zettel oldValue, Zettel newValue) {\n                if (newValue != null) {\n                    currentZettelId = newValue.getZettelId();\n                    headerZettel.setText(newValue.getHeader());\n                    textZettel.setText(newValue.getText());\n                } else {\n                    currentZettelId = null;\n                    headerZettel.clear();\n                    textZettel.clear();\n                }\n            }\n        });\n}\n</code></pre>\n<p>in here is the Stream with the ZettelData:</p>\n<pre><code>public void updateZettelInDatabase() {\n        String header = getHeaderZettelText();\n        String text = getTextZettelText();\n        if (currentZettelId != null) {\n            Zettel zettelToUpdate = zettelData.stream()\n                    .filter(z -&gt; Arrays.equals(z.getZettelId(), currentZettelId))\n                    .findFirst()\n                    .orElse(null);\n\n            if (zettelToUpdate != null) {\n                zettelToUpdate.setHeader(header);\n                zettelToUpdate.setText(text);\n\n                //Update Zettel-Object in database\n                ZettelUpdater zettelUpdater = new ZettelUpdater();\n                zettelUpdater.updateZettel(header, text, currentZettelId);\n            } else {\n                System.out.println(&quot;Keine aktuelle ZettelId vorhanden.&quot;);\n            }\n\n        }\n    }\n</code></pre>\n<p>From the Database-Class:</p>\n<pre><code> public static ObservableList&lt;Zettel&gt; getZettelData(){\n        ObservableList&lt;Zettel&gt; zettelData = FXCollections.observableArrayList();\n\n        try (Connection conn = DriverManager.getConnection(connectionString);\n             PreparedStatement stmt = conn.prepareStatement(&quot;SELECT ZettelId, Header, Text, Date FROM zettel&quot;);\n             ResultSet rs = stmt.executeQuery()) {\n\n            DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n            while (rs.next()) {\n                byte[] zettelId = rs.getBytes(&quot;ZettelId&quot;);\n                String header = rs.getString(&quot;Header&quot;);\n                String text = rs.getString(&quot;Text&quot;);\n                String dateString = rs.getString(&quot;Date&quot;);\n\n\n                LocalDate date = LocalDate.parse(dateString, dateFormatter);\n\n                Zettel zettel = new Zettel();\n                zettel.setZettelId(zettelId);\n                zettel.setHeader(header);\n                zettel.setText(text);\n                zettel.setDate(date);\n\n                zettelData.add(zettel);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return zettelData;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Lnp0o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lnp0o.png\" alt=\"this is how it looks\" /></a></p>\n<p>Any hints or Ideas, how to make it work live?</p>\n<p>Generally i am also very happy for all kinds of critique, as i am very new to java, and this is my first project to finish my course. :)</p>\n<p>Thank you for your help, you're too kind.</p>\n<p>Herzl Ich</p>\n"},{"tags":["java","android","android-adapter","android-permissions"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1499613150,"post_id":44997864,"comment_id":76969642,"body_markdown":"_&quot;context &#39;this&#39; shows as an error&quot;_ -- you must show us the error and indicate whether it&#39;s a compile error or runtime error.  For a runtime error you must include the complete stack trace.","body":"<i>&quot;context &#39;this&#39; shows as an error&quot;</i> -- you must show us the error and indicate whether it&#39;s a compile error or runtime error.  For a runtime error you must include the complete stack trace."},{"owner":{"account_id":3465438,"reputation":2658,"user_id":2901129,"accept_rate":100,"display_name":"Basil Battikhi"},"score":0,"creation_date":1499692003,"post_id":44997864,"comment_id":76999404,"body_markdown":"instead of using this use  MyClassName.this","body":"instead of using this use  MyClassName.this"},{"owner":{"account_id":8834602,"reputation":159,"user_id":6599395,"accept_rate":60,"display_name":"Chirag"},"score":0,"creation_date":1499693285,"post_id":44997864,"comment_id":77000393,"body_markdown":"+Basil Battikhi, I tried that. But it says that it isn&#39;t an enclosing class.","body":"+Basil Battikhi, I tried that. But it says that it isn&#39;t an enclosing class."}],"answers":[{"tags":[],"owner":{"account_id":8834602,"reputation":159,"user_id":6599395,"accept_rate":60,"display_name":"Chirag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499695931,"creation_date":1499693225,"answer_id":45013326,"question_id":44997864,"body_markdown":"I used `Activity act = (Activity)(holder.call.getContext());` to get the activity and then used act inside `Dexter.withActivity()`. None of the other solutions worked. I had to get the context through one of the views and then convert it into an activity as shown above.\r\n","title":"Requires permission before using this line of code even after i use the dexter library to specifically ask permissions","body":"<p>I used <code>Activity act = (Activity)(holder.call.getContext());</code> to get the activity and then used act inside <code>Dexter.withActivity()</code>. None of the other solutions worked. I had to get the context through one of the views and then convert it into an activity as shown above.</p>\n"},{"tags":[],"owner":{"account_id":22636080,"reputation":1151,"user_id":16812867,"display_name":"Rehan Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692944390,"creation_date":1692944390,"answer_id":76974701,"question_id":44997864,"body_markdown":"Instead of Using \r\n\r\n    Dexter.withActivity(this)\r\n\r\n \r\nuse \r\n\r\n    Dexter.withContext(this)","title":"Requires permission before using this line of code even after i use the dexter library to specifically ask permissions","body":"<p>Instead of Using</p>\n<pre><code>Dexter.withActivity(this)\n</code></pre>\n<p>use</p>\n<pre><code>Dexter.withContext(this)\n</code></pre>\n"}],"owner":{"account_id":8834602,"reputation":159,"user_id":6599395,"accept_rate":60,"display_name":"Chirag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":45013326,"answer_count":2,"score":-1,"last_activity_date":1692944390,"creation_date":1499613000,"question_id":44997864,"body_markdown":"    @Override\r\n    public void onClick(View v) {\r\n        Dexter.withActivity(this)\r\n                .withPermission(Manifest.permission.CALL_PHONE)\r\n                .withListener(new PermissionListener() {\r\n                    @Override public void onPermissionGranted(PermissionGrantedResponse response) {\r\n                        Intent callIntent = new Intent(Intent.ACTION_CALL);\r\n                        callIntent.setData(Uri.parse(&quot;tel:123456789&quot;));\r\n\r\n\r\n                        mcontext.startActivity(callIntent);}\r\n                    @Override public void onPermissionDenied(PermissionDeniedResponse response) {/* ... */}\r\n                    @Override public void onPermissionRationaleShouldBeShown(PermissionRequest permission, PermissionToken token) {/* ... */}\r\n                }).check();\r\n    }\r\n\r\nThe context &#39;this&#39; shows as an error. And also the line of code that calls someone is still showing as an error even after i put it in the OnPermissionGranted() method. What should i change to make this work? \r\n\r\nThe link for the dexter library is given below:\r\n\r\nhttps://github.com/Karumi/Dexter","title":"Requires permission before using this line of code even after i use the dexter library to specifically ask permissions","body":"<pre><code>@Override\npublic void onClick(View v) {\n    Dexter.withActivity(this)\n            .withPermission(Manifest.permission.CALL_PHONE)\n            .withListener(new PermissionListener() {\n                @Override public void onPermissionGranted(PermissionGrantedResponse response) {\n                    Intent callIntent = new Intent(Intent.ACTION_CALL);\n                    callIntent.setData(Uri.parse(\"tel:123456789\"));\n\n\n                    mcontext.startActivity(callIntent);}\n                @Override public void onPermissionDenied(PermissionDeniedResponse response) {/* ... */}\n                @Override public void onPermissionRationaleShouldBeShown(PermissionRequest permission, PermissionToken token) {/* ... */}\n            }).check();\n}\n</code></pre>\n\n<p>The context 'this' shows as an error. And also the line of code that calls someone is still showing as an error even after i put it in the OnPermissionGranted() method. What should i change to make this work? </p>\n\n<p>The link for the dexter library is given below:</p>\n\n<p><a href=\"https://github.com/Karumi/Dexter\" rel=\"nofollow noreferrer\">https://github.com/Karumi/Dexter</a></p>\n"},{"tags":["java","angular","azure-active-directory","microsoft-graph-api","openid-connect"],"comments":[{"owner":{"account_id":14567510,"reputation":15827,"user_id":10521739,"display_name":"Allen Wu"},"score":1,"creation_date":1608522322,"post_id":65387189,"comment_id":115600995,"body_markdown":"Did you see this [example](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow#example)? `&amp;assertion=eyJ0eXAiOiJKV*****` is the first token. You need to include it in the request to acquire the second access token.","body":"Did you see this <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow#example\" rel=\"nofollow noreferrer\">example</a>? <code>&amp;assertion=eyJ0eXAiOiJKV*****</code> is the first token. You need to include it in the request to acquire the second access token."},{"owner":{"account_id":7884308,"reputation":53,"user_id":5957010,"display_name":"nabeelh21"},"score":0,"creation_date":1608525202,"post_id":65387189,"comment_id":115601438,"body_markdown":"Sorry, I may be missing something. How exactly do I use that in Java?","body":"Sorry, I may be missing something. How exactly do I use that in Java?"},{"owner":{"account_id":14567510,"reputation":15827,"user_id":10521739,"display_name":"Allen Wu"},"score":1,"creation_date":1608532968,"post_id":65387189,"comment_id":115603073,"body_markdown":"See the sample code [here](https://learn.microsoft.com/en-us/azure/active-directory/develop/scenario-web-api-call-api-acquire-token?tabs=java): use `msalAuthHelper.getOboToken(&quot;https://graph.microsoft.com/.default&quot;)`. And I have provided you with a completed [Github sample](https://github.com/Azure-Samples/ms-identity-java-webapi) before. Is there any difficulty when you implement it?","body":"See the sample code <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/scenario-web-api-call-api-acquire-token?tabs=java\" rel=\"nofollow noreferrer\">here</a>: use <code>msalAuthHelper.getOboToken(&quot;https:&#47;&#47;graph.microsoft.com&#47;.def&zwnj;&#8203;ault&quot;)</code>. And I have provided you with a completed <a href=\"https://github.com/Azure-Samples/ms-identity-java-webapi\" rel=\"nofollow noreferrer\">Github sample</a> before. Is there any difficulty when you implement it?"}],"answers":[{"tags":[],"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615062698,"creation_date":1608568759,"answer_id":65396625,"question_id":65387189,"body_markdown":"You would need to send 2 messages in your API:\r\n\r\n* Send your access token to the token endpoint, to get a graph access token\r\n* Send the graph access token to the user info endpoint\r\n\r\nI only have a sample in NodeJS, though the messages are quite simple, involving requests with form url encoded data, and JSON responses. So you should be able to do this fairly easily with any Java HTTP Client:\r\n\r\n* [Sample Code in NodeJS](https://github.com/gary-archer/oauth.websample.azure/blob/master/api/src/host/oauth/authenticator.ts#L137)\r\n* [Blog Post with Screenshots](https://authguidance.com/2017/12/01/azure-ad-spa-code-sample#getuserinfo)\r\n\r\nAllen&#39;s samples should demonstrate how to incorporate this into Spring Security.","title":"How to obtain 2nd access token in Java for Graph API with a oidc compliant token. OBO flow","body":"<p>You would need to send 2 messages in your API:</p>\n<ul>\n<li>Send your access token to the token endpoint, to get a graph access token</li>\n<li>Send the graph access token to the user info endpoint</li>\n</ul>\n<p>I only have a sample in NodeJS, though the messages are quite simple, involving requests with form url encoded data, and JSON responses. So you should be able to do this fairly easily with any Java HTTP Client:</p>\n<ul>\n<li><a href=\"https://github.com/gary-archer/oauth.websample.azure/blob/master/api/src/host/oauth/authenticator.ts#L137\" rel=\"nofollow noreferrer\">Sample Code in NodeJS</a></li>\n<li><a href=\"https://authguidance.com/2017/12/01/azure-ad-spa-code-sample#getuserinfo\" rel=\"nofollow noreferrer\">Blog Post with Screenshots</a></li>\n</ul>\n<p>Allen's samples should demonstrate how to incorporate this into Spring Security.</p>\n"}],"owner":{"account_id":7884308,"reputation":53,"user_id":5957010,"display_name":"nabeelh21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692944350,"creation_date":1608520943,"question_id":65387189,"body_markdown":"I am using the **angular-oauth2-oidc** library in Angular to login via the PKCE Authorization Flow and then passing the token to my back end to secure my custom API.\r\n\r\nThe Spring boot back end is acting as the oauth2 Resource Server and securing my custom API&#39;s using the token.\r\n\r\nSecurityConfiguration.java\r\n\r\n    http.cors().and()\r\n            .authorizeRequests().antMatchers(&quot;/home&quot;).permitAll()\r\n            .and()\r\n            .authorizeRequests().antMatchers(&quot;/actuator/health&quot;).permitAll()\r\n            .and()\r\n            .authorizeRequests().antMatchers(&quot;/**&quot;).authenticated()\r\n            .and()\r\n            .oauth2ResourceServer().jwt();\r\n\r\nBy default, Azure AD returns a valid JWT token only for Graph APIs. If you want to use the Azure AD OIDC authentication for your own API, you are dealing with a non-compliant provider.\r\nThus I created a custom scope in the App Registration → Expose an API page. Then I added this scope in the authorization request initiated by my Angular client along with the default openid scope.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nNow that I have this token, which no longer contains the ‘nonce’ in its jwt header (which I needed to do to secure my custom api), how do I go about using this token to get a new token?\r\nand then follow the On-Behalf-Of flow to create my graph api calls. \r\n\r\nIs anyone able to guide me in the right direction on how to exactly get the 2nd access token?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6atA6.png","title":"How to obtain 2nd access token in Java for Graph API with a oidc compliant token. OBO flow","body":"<p>I am using the <strong>angular-oauth2-oidc</strong> library in Angular to login via the PKCE Authorization Flow and then passing the token to my back end to secure my custom API.</p>\n<p>The Spring boot back end is acting as the oauth2 Resource Server and securing my custom API's using the token.</p>\n<p>SecurityConfiguration.java</p>\n<pre><code>http.cors().and()\n        .authorizeRequests().antMatchers(&quot;/home&quot;).permitAll()\n        .and()\n        .authorizeRequests().antMatchers(&quot;/actuator/health&quot;).permitAll()\n        .and()\n        .authorizeRequests().antMatchers(&quot;/**&quot;).authenticated()\n        .and()\n        .oauth2ResourceServer().jwt();\n</code></pre>\n<p>By default, Azure AD returns a valid JWT token only for Graph APIs. If you want to use the Azure AD OIDC authentication for your own API, you are dealing with a non-compliant provider.\nThus I created a custom scope in the App Registration → Expose an API page. Then I added this scope in the authorization request initiated by my Angular client along with the default openid scope.</p>\n<p><a href=\"https://i.stack.imgur.com/6atA6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6atA6.png\" alt=\"enter image description here\" /></a></p>\n<p>Now that I have this token, which no longer contains the ‘nonce’ in its jwt header (which I needed to do to secure my custom api), how do I go about using this token to get a new token?\nand then follow the On-Behalf-Of flow to create my graph api calls.</p>\n<p>Is anyone able to guide me in the right direction on how to exactly get the 2nd access token?</p>\n"},{"tags":["java","xml","maven"],"comments":[{"owner":{"account_id":1775623,"reputation":1853,"user_id":1619462,"accept_rate":60,"display_name":"jeroen_de_schutter"},"score":0,"creation_date":1453906449,"post_id":35034677,"comment_id":57805565,"body_markdown":"Do you get the error at compile time or at runtime when accessing a jsp page ?","body":"Do you get the error at compile time or at runtime when accessing a jsp page ?"},{"owner":{"display_name":"user2879303"},"score":0,"creation_date":1453906628,"post_id":35034677,"comment_id":57805708,"body_markdown":"At compile time. The only way it compiles successfully is by using the old, deprecated DOCTYPE declaration in the web. xml. I just don&#39;t know why.","body":"At compile time. The only way it compiles successfully is by using the old, deprecated DOCTYPE declaration in the web. xml. I just don&#39;t know why."}],"answers":[{"tags":[],"owner":{"display_name":"user2879303"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1453973022,"creation_date":1453961377,"answer_id":35053998,"question_id":35034677,"body_markdown":"I finally came upon the solution. By default, for some reason (and I&#39;d like to know why), Maven generates a Dynamic Web Module as version 2.3. DTD was of course the standard for Servlet 2.3 and was probably unable to parse or evaluate my XML-based `web.xml` file.\r\n\r\nI&#39;m still not 100% clear as to why changing `web.xml` to XSD caused the JasperException with respect to JSTL, though I think it has something to do with JSTL being integrated with JSP at some point after Servlet 2.3 - someone please correct or elaborate on this if possible.\r\n\r\nSee this: https://stackoverflow.com/a/4928309/2879303\r\n\r\nNow for the solution:\r\n\r\n 1. Right-click on your Maven project and select **Properties**\r\n    \r\n 2.   Navigate to Project Facets and untick **Dynamic Web Module**. Apply\r\n    changes.\r\n    \r\n 3.   From the version drop-down box, select the latest version (as of\r\n    writing, this is 3.1). Re-select **Dynamic Web Module**. Apply changes.\r\n    \r\n 4.   Right-click on your Maven project and select **Maven** -&gt; **Update\r\n    Project**.\r\n    \r\n 5.   Your project should now be able to correctly interpret a `web.xml`\r\n    with an XSD declaration.","title":"JasperException: Absolute uri cannot be resolved","body":"<p>I finally came upon the solution. By default, for some reason (and I'd like to know why), Maven generates a Dynamic Web Module as version 2.3. DTD was of course the standard for Servlet 2.3 and was probably unable to parse or evaluate my XML-based <code>web.xml</code> file.</p>\n\n<p>I'm still not 100% clear as to why changing <code>web.xml</code> to XSD caused the JasperException with respect to JSTL, though I think it has something to do with JSTL being integrated with JSP at some point after Servlet 2.3 - someone please correct or elaborate on this if possible.</p>\n\n<p>See this: <a href=\"https://stackoverflow.com/a/4928309/2879303\">https://stackoverflow.com/a/4928309/2879303</a></p>\n\n<p>Now for the solution:</p>\n\n<ol>\n<li><p>Right-click on your Maven project and select <strong>Properties</strong></p></li>\n<li><p>Navigate to Project Facets and untick <strong>Dynamic Web Module</strong>. Apply\nchanges.</p></li>\n<li><p>From the version drop-down box, select the latest version (as of\nwriting, this is 3.1). Re-select <strong>Dynamic Web Module</strong>. Apply changes.</p></li>\n<li><p>Right-click on your Maven project and select <strong>Maven</strong> -> <strong>Update\nProject</strong>.</p></li>\n<li><p>Your project should now be able to correctly interpret a <code>web.xml</code>\nwith an XSD declaration.</p></li>\n</ol>\n"}],"owner":{"display_name":"user2879303"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8815,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":35053998,"answer_count":1,"score":2,"last_activity_date":1692943839,"creation_date":1453890230,"question_id":35034677,"body_markdown":"I have been getting the following JasperException when trying to use an XML schema for my web.xml, instead of the deprecated DOCTYPE declaration:\r\n\r\n    HTTP Status 500 - The absolute uri: http://java.sun.com/jsp/jstl/core \r\n    cannot be resolved in either web.xml or the jar files deployed with this\r\n    application\r\n\r\nIf I use this web.xml, the application compiles:\r\n\r\n    &lt;!DOCTYPE web-app PUBLIC \r\n    &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n\r\n    &lt;web-app&gt;\r\n        &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHowever, if I use this web.xml, I get the JasperException:\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n        &lt;display-name&gt;CourseManagementJDBC&lt;/display-name&gt;\\\r\n    &lt;/web-app&gt;\r\n\r\nAny idea why only a deprecated format would work?\r\n\r\n**NOTE**: This is for a Maven project, and the JSTL dependency has been correctly declared, as well as the tag library in the JSP:\r\n\r\npom.xml:\r\n    \r\n    &lt;dependency&gt;\r\n  \t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n  \t    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n  \t    &lt;version&gt;1.2&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n\r\nJSP:\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nThey&#39;re all correct; what gives?","title":"JasperException: Absolute uri cannot be resolved","body":"<p>I have been getting the following JasperException when trying to use an XML schema for my web.xml, instead of the deprecated DOCTYPE declaration:</p>\n\n<pre><code>HTTP Status 500 - The absolute uri: http://java.sun.com/jsp/jstl/core \ncannot be resolved in either web.xml or the jar files deployed with this\napplication\n</code></pre>\n\n<p>If I use this web.xml, the application compiles:</p>\n\n<pre><code>&lt;!DOCTYPE web-app PUBLIC \n\"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n\"http://java.sun.com/dtd/web-app_2_3.dtd\" &gt;\n\n&lt;web-app&gt;\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>However, if I use this web.xml, I get the JasperException:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n    &lt;display-name&gt;CourseManagementJDBC&lt;/display-name&gt;\\\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Any idea why only a deprecated format would work?</p>\n\n<p><strong>NOTE</strong>: This is for a Maven project, and the JSTL dependency has been correctly declared, as well as the tag library in the JSP:</p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>JSP:</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n</code></pre>\n\n<p>They're all correct; what gives?</p>\n"},{"tags":["java","maven-2","exec-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":2,"up_vote_count":21,"is_accepted":true,"score":19,"last_activity_date":1473188444,"creation_date":1284467950,"answer_id":3708911,"question_id":3708846,"body_markdown":"There is no way to set the `&lt;systemProperties&gt;` [parameter][1] on the command line.\r\n\r\nHowever, since `exec:java` is not forked, you can just pass a system property to maven and it will be picked up by `exec:java` as well.\r\n\r\n\r\n  [1]: http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html#systemProperties\r\n\r\n    mvn -Dkey=value exec:java -Dexec.mainClass=com.yourcompany.yourclass \\\r\n        -Dexec.args=&quot;arg1 arg2 arg3&quot;","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>There is no way to set the <code>&lt;systemProperties&gt;</code> <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html#systemProperties\" rel=\"noreferrer\">parameter</a> on the command line.</p>\n\n<p>However, since <code>exec:java</code> is not forked, you can just pass a system property to maven and it will be picked up by <code>exec:java</code> as well.</p>\n\n<pre><code>mvn -Dkey=value exec:java -Dexec.mainClass=com.yourcompany.yourclass \\\n    -Dexec.args=\"arg1 arg2 arg3\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069033,"reputation":27720,"user_id":1068746,"accept_rate":57,"display_name":"guy mograbi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1376228335,"creation_date":1376228335,"answer_id":18172511,"question_id":3708846,"body_markdown":"I just ran into a similar problem and I wanted to write a full answer for others that might come across this question. \r\n\r\n\r\nEven though the question is not about pom.xml but about command line - it does not state how to do the same with pom.xml so here it is\r\n\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2.1&lt;/version&gt;\r\n    \r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;java&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n    \r\n                    &lt;configuration&gt;\r\n                         &lt;mainClass&gt;myPackage.MyMain&lt;/mainClass&gt;\r\n                          &lt;systemProperties&gt;\r\n                              &lt;property&gt;\r\n                                  &lt;key&gt;myKey&lt;/key&gt;\r\n                                  &lt;value&gt;myValue&lt;/value&gt;\r\n                              &lt;/property&gt;\r\n                          &lt;/systemProperties&gt;\r\n                    &lt;/configuration&gt;\r\n    \r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n\r\nFor the command line - I think `Sean Patrick Floyd&#39;s` answer is good - however, if you have something already defined in your pom.xml it will override it. \r\n\r\nSo running \r\n\r\n     mvn exec:java -DmyKey=myValue\r\n\r\nshould also work for you. \r\n\r\n\r\nYou should also note that the [exec plugin&#39;s documentations][1] states the following\r\n\r\n    A list of system properties to be passed. \r\n    Note: as the execution is not forked, some system properties required \r\n    by the JVM cannot be passed here. \r\n    Use MAVEN_OPTS or the exec:exec instead. See the user guide for more information.\r\n\r\nSo you can also do something like this \r\n\r\n\r\n    export MAVEN_OPTS=-DmyKey=myValue\r\n    mvn exec:java\r\n\r\n\r\nand it should work the same way.\r\n \r\n\r\n\r\n  [1]: http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html#systemProperties","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>I just ran into a similar problem and I wanted to write a full answer for others that might come across this question. </p>\n\n<p>Even though the question is not about pom.xml but about command line - it does not state how to do the same with pom.xml so here it is</p>\n\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n\n                &lt;goals&gt;\n                    &lt;goal&gt;java&lt;/goal&gt;\n                &lt;/goals&gt;\n\n                &lt;configuration&gt;\n                     &lt;mainClass&gt;myPackage.MyMain&lt;/mainClass&gt;\n                      &lt;systemProperties&gt;\n                          &lt;property&gt;\n                              &lt;key&gt;myKey&lt;/key&gt;\n                              &lt;value&gt;myValue&lt;/value&gt;\n                          &lt;/property&gt;\n                      &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>For the command line - I think <code>Sean Patrick Floyd's</code> answer is good - however, if you have something already defined in your pom.xml it will override it. </p>\n\n<p>So running </p>\n\n<pre><code> mvn exec:java -DmyKey=myValue\n</code></pre>\n\n<p>should also work for you. </p>\n\n<p>You should also note that the <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html#systemProperties\" rel=\"noreferrer\">exec plugin's documentations</a> states the following</p>\n\n<pre><code>A list of system properties to be passed. \nNote: as the execution is not forked, some system properties required \nby the JVM cannot be passed here. \nUse MAVEN_OPTS or the exec:exec instead. See the user guide for more information.\n</code></pre>\n\n<p>So you can also do something like this </p>\n\n<pre><code>export MAVEN_OPTS=-DmyKey=myValue\nmvn exec:java\n</code></pre>\n\n<p>and it should work the same way.</p>\n"},{"tags":[],"owner":{"account_id":1549294,"reputation":1475,"user_id":1442070,"display_name":"mokshino"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1392756784,"creation_date":1392756784,"answer_id":21865061,"question_id":3708846,"body_markdown":"Try following for me it works properly\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;ibis.structure.Structure&lt;/mainClass&gt;\r\n                    &lt;systemProperties&gt;\r\n                        &lt;systemProperty&gt;\r\n                            &lt;key&gt;someKey&lt;/key&gt;\r\n                            &lt;value&gt;someValue&lt;/value&gt;\r\n                        &lt;/systemProperty&gt;\r\n                    &lt;/systemProperties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>Try following for me it works properly</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;ibis.structure.Structure&lt;/mainClass&gt;\n                &lt;systemProperties&gt;\n                    &lt;systemProperty&gt;\n                        &lt;key&gt;someKey&lt;/key&gt;\n                        &lt;value&gt;someValue&lt;/value&gt;\n                    &lt;/systemProperty&gt;\n                &lt;/systemProperties&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":235896,"reputation":1860,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692942933,"creation_date":1692942933,"answer_id":76974567,"question_id":3708846,"body_markdown":"For goal exec:\r\n\r\n\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t&lt;argument&gt;-Dsome.key=true&lt;/argument&gt;\r\n    ","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>For goal exec:</p>\n<pre><code>&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;exec&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;arguments&gt;\n                &lt;argument&gt;-Dsome.key=true&lt;/argument&gt;\n</code></pre>\n"}],"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21078,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":3708911,"answer_count":4,"score":27,"last_activity_date":1692942933,"creation_date":1284467397,"question_id":3708846,"body_markdown":"I want to use the exec:java plugin to invoke the main class from command line. I can pass arguments from the command line using `-Dexec.args=&quot;arg0 arg1 arg2&quot;`, I don&#39;t know how to pass system properties. I tried &#39;-Dexec.systemProperties=&quot;key=value&quot;` but with no effect.\r\n\r\n\r\n`pom.xml` looks like this:\r\n\r\n      &lt;plugin&gt;  \r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;ibis.structure.Structure&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;  \r\n      &lt;/plugin&gt;\r\n","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>I want to use the exec:java plugin to invoke the main class from command line. I can pass arguments from the command line using <code>-Dexec.args=\"arg0 arg1 arg2\"</code>, I don't know how to pass system properties. I tried '-Dexec.systemProperties=\"key=value\"` but with no effect.</p>\n\n<p><code>pom.xml</code> looks like this:</p>\n\n<pre><code>  &lt;plugin&gt;  \n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;mainClass&gt;ibis.structure.Structure&lt;/mainClass&gt;\n    &lt;/configuration&gt;  \n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":5,"creation_date":1692803497,"post_id":76962636,"comment_id":135674592,"body_markdown":"Ah yes, the traditional https://en.wikipedia.org/wiki/Scunthorpe_problem . Depends on what you want to achieve. You could limit yourself to entire words (regexp with `\\b`). Or you could check the flagged word against a dictionary. Or you could embrace the crappy censorship. Add some innocuous words for extra memes...","body":"Ah yes, the traditional <a href=\"https://en.wikipedia.org/wiki/Scunthorpe_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Scunthorpe_problem</a> . Depends on what you want to achieve. You could limit yourself to entire words (regexp with <code>\\b</code>). Or you could check the flagged word against a dictionary. Or you could embrace the crappy censorship. Add some innocuous words for extra memes..."},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1692826628,"post_id":76962636,"comment_id":135678654,"body_markdown":"I agree with teapot. It would be useful to know how you wish the word matching to function.","body":"I agree with teapot. It would be useful to know how you wish the word matching to function."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1692827809,"post_id":76962636,"comment_id":135678801,"body_markdown":"Consider also the substitution of visually similar characters to avoid detection, for example the Cyrillic letter `с` and the Latin letter `c`.","body":"Consider also the substitution of visually similar characters to avoid detection, for example the Cyrillic letter <code>с</code> and the Latin letter <code>c</code>."}],"owner":{"account_id":29108873,"reputation":11,"user_id":22299054,"display_name":"DiceMa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692942454,"creation_date":1692802793,"question_id":76962636,"body_markdown":"I&#39;m censoring the chat. Censorship works, but the plugin replaces the word, even if this word does not need to be blocked.\r\n\r\nFor example:\r\nBlocking the word &quot;port&quot;\r\nThe plugin blocks as follows: Tele****ing\r\n\r\nWhat check should I add to this method to make it work? swearList() this is the get method for the config.yml\r\n\r\n\r\n```java\r\nprivate String returnCorrected(String str) {\r\n    JsonObject jsonObject = (new JsonParser()).parse(str).getAsJsonObject();\r\n    JsonArray element = jsonObject.get(&quot;extra&quot;).getAsJsonArray();\r\n    for (JsonElement objects : element) {\r\n        if (objects instanceof JsonObject) {\r\n            JsonObject actual = (JsonObject)objects;\r\n            String text = actual.get(&quot;text&quot;).getAsString();\r\n            for (String badWord : swearList()) {\r\n                if (text.contains(badWord)) {\r\n                    String repeat = StringUtils.repeat(&quot;*&quot;, badWord.length());\r\n                    text = text.replace(badWord, repeat);\r\n                }\r\n            }\r\n            actual.addProperty(&quot;text&quot;, text);\r\n        }\r\n    }\r\n    return jsonObject.toString();\r\n}\r\n```\r\n\r\n\r\nI tried to do it through Listener, but then I need to rewrite completely OnEnable. And I would just like to do a check in private String returnCorrected(String str)","title":"Censorship of words: A method for checking words","body":"<p>I'm censoring the chat. Censorship works, but the plugin replaces the word, even if this word does not need to be blocked.</p>\n<p>For example:\nBlocking the word &quot;port&quot;\nThe plugin blocks as follows: Tele****ing</p>\n<p>What check should I add to this method to make it work? swearList() this is the get method for the config.yml</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String returnCorrected(String str) {\n    JsonObject jsonObject = (new JsonParser()).parse(str).getAsJsonObject();\n    JsonArray element = jsonObject.get(&quot;extra&quot;).getAsJsonArray();\n    for (JsonElement objects : element) {\n        if (objects instanceof JsonObject) {\n            JsonObject actual = (JsonObject)objects;\n            String text = actual.get(&quot;text&quot;).getAsString();\n            for (String badWord : swearList()) {\n                if (text.contains(badWord)) {\n                    String repeat = StringUtils.repeat(&quot;*&quot;, badWord.length());\n                    text = text.replace(badWord, repeat);\n                }\n            }\n            actual.addProperty(&quot;text&quot;, text);\n        }\n    }\n    return jsonObject.toString();\n}\n</code></pre>\n<p>I tried to do it through Listener, but then I need to rewrite completely OnEnable. And I would just like to do a check in private String returnCorrected(String str)</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":6501856,"reputation":6516,"user_id":5032339,"display_name":"Roman"},"score":0,"creation_date":1525894209,"post_id":50260384,"comment_id":87539523,"body_markdown":"Have you checked the documentation?","body":"Have you checked the documentation?"},{"owner":{"account_id":13496155,"reputation":191,"user_id":9736947,"display_name":"john cena"},"score":1,"creation_date":1525894688,"post_id":50260384,"comment_id":87539749,"body_markdown":"yes it doesn&#39;t tell anything like this.","body":"yes it doesn&#39;t tell anything like this."}],"answers":[{"tags":[],"owner":{"account_id":1856264,"reputation":2950,"user_id":1681772,"display_name":"yellowB"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1559650679,"creation_date":1525934858,"answer_id":50267128,"question_id":50260384,"body_markdown":"When talking about pagination in MongoDB, it is easily to write this code:\r\n\r\n    collection.find().skip(pageSize*(pageNum-1)).limit(pageSize);\r\n\r\nAbove is the native solution supported by MongoDB, but this is not efficient if there are huge documents in the collection. Suppose you have 100M documents, and you want to get the data from the middle offset(50Mth). **MongoDB has to build up the full dataset and walk from the beginning to the specified offset**, this will be low performance. As your offset increases, the performance keeps degrade.\r\n\r\n**The root cause is the `skip()` command which is not efficient and can not take big benifit from index.**\r\n\r\n\r\n----------\r\n\r\n\r\nBelow is another solution to improve performance on large data pagination:\r\n\r\nThe typical usage scenario of pagination is that there is a table or list to show data of specified page, and also a **&#39;Previous Page&#39;** &amp; **&#39;Next Page&#39;** button to load data of previous or next page.\r\n\r\nIf you got the `&#39;_id&#39;` of the last document in current page, you can use `find()` instead of `skip()`. Use **_id &gt; currentPage_LastDocument._id** as one of the criteria to find next page data. Here is pseudocode:\r\n\r\n    //Page 1\r\n    collection.find().limit(pageSize);\r\n    //Get the _id of the last document in this page\r\n    last_id = ...\r\n     \r\n    //Page 2\r\n    users = collection.find({&#39;_id&#39;: {$gt: last_id}}).limit(pageSize);\r\n    //Update the last id with the _id of the last document in this page\r\n    last_id = ...\r\n\r\nThis will avoid MongoDB to walk through large data when using `skip()`.\r\n\r\n\r\n\r\n","title":"What is the best way for pagination on mongodb using java","body":"<p>When talking about pagination in MongoDB, it is easily to write this code:</p>\n\n<pre><code>collection.find().skip(pageSize*(pageNum-1)).limit(pageSize);\n</code></pre>\n\n<p>Above is the native solution supported by MongoDB, but this is not efficient if there are huge documents in the collection. Suppose you have 100M documents, and you want to get the data from the middle offset(50Mth). <strong>MongoDB has to build up the full dataset and walk from the beginning to the specified offset</strong>, this will be low performance. As your offset increases, the performance keeps degrade.</p>\n\n<p><strong>The root cause is the <code>skip()</code> command which is not efficient and can not take big benifit from index.</strong></p>\n\n<hr>\n\n<p>Below is another solution to improve performance on large data pagination:</p>\n\n<p>The typical usage scenario of pagination is that there is a table or list to show data of specified page, and also a <strong>'Previous Page'</strong> &amp; <strong>'Next Page'</strong> button to load data of previous or next page.</p>\n\n<p>If you got the <code>'_id'</code> of the last document in current page, you can use <code>find()</code> instead of <code>skip()</code>. Use <strong>_id > currentPage_LastDocument._id</strong> as one of the criteria to find next page data. Here is pseudocode:</p>\n\n<pre><code>//Page 1\ncollection.find().limit(pageSize);\n//Get the _id of the last document in this page\nlast_id = ...\n\n//Page 2\nusers = collection.find({'_id': {$gt: last_id}}).limit(pageSize);\n//Update the last id with the _id of the last document in this page\nlast_id = ...\n</code></pre>\n\n<p>This will avoid MongoDB to walk through large data when using <code>skip()</code>.</p>\n"},{"tags":[],"owner":{"account_id":29295251,"reputation":1,"user_id":22444723,"display_name":"Jdk12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692942060,"creation_date":1692942060,"answer_id":76974513,"question_id":50260384,"body_markdown":"Another approach can be \r\n\r\n1. save document _id as int, not ObjectId.  \r\n```\r\n{_id : 1, title : &#39;&#39;}  //first document\r\n{_id : 2, title : &#39;&#39;}  //second document\r\n```\r\n\r\n2. use the last document _id to query next page. \r\n```\r\ncollection.find({ _id: {$gt: last_id} }).limit(10);\r\n```\r\n\r\n3. use int to query specific pages.\r\n```\r\n//find document 11 to 20\r\ncollection.find({ _id: {$gt: 10} }).limit(10);\r\n\r\n//find document 21 to 30\r\ncollection.find({ _id: {$gt: 20} }).limit(10);\r\n```\r\n","title":"What is the best way for pagination on mongodb using java","body":"<p>Another approach can be</p>\n<ol>\n<li>save document _id as int, not ObjectId.</li>\n</ol>\n<pre><code>{_id : 1, title : ''}  //first document\n{_id : 2, title : ''}  //second document\n</code></pre>\n<ol start=\"2\">\n<li>use the last document _id to query next page.</li>\n</ol>\n<pre><code>collection.find({ _id: {$gt: last_id} }).limit(10);\n</code></pre>\n<ol start=\"3\">\n<li>use int to query specific pages.</li>\n</ol>\n<pre><code>//find document 11 to 20\ncollection.find({ _id: {$gt: 10} }).limit(10);\n\n//find document 21 to 30\ncollection.find({ _id: {$gt: 20} }).limit(10);\n</code></pre>\n"}],"owner":{"account_id":13496155,"reputation":191,"user_id":9736947,"display_name":"john cena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14190,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":50267128,"answer_count":2,"score":4,"last_activity_date":1692942060,"creation_date":1525892590,"question_id":50260384,"body_markdown":"I am trying to create a simple pagination in mongodb by below code.\r\n\r\n    collection.find().skip(n).limit(n);\r\n\r\nbut doesn&#39;t it looks like there will be a performance issue if we see that in java terms first find will return all the records consider i have 2 million records, then it will pass it to skip method then it will be passed to limit method. it means every time this query will be fetching all the db records or mongodb drivers work differently, what i missed?\r\n\r\n  ","title":"What is the best way for pagination on mongodb using java","body":"<p>I am trying to create a simple pagination in mongodb by below code.</p>\n\n<pre><code>collection.find().skip(n).limit(n);\n</code></pre>\n\n<p>but doesn't it looks like there will be a performance issue if we see that in java terms first find will return all the records consider i have 2 million records, then it will pass it to skip method then it will be passed to limit method. it means every time this query will be fetching all the db records or mongodb drivers work differently, what i missed?</p>\n"},{"tags":["java","maven","netbeans"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692950489,"post_id":76974010,"comment_id":135697081,"body_markdown":"Upgrade Netbeans as well as Maven ...","body":"Upgrade Netbeans as well as Maven ..."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1692963583,"post_id":76974010,"comment_id":135699743,"body_markdown":"Unknown host No such host is known (repo.mycompany.com)  - fix that","body":"Unknown host No such host is known (repo.mycompany.com)  - fix that"}],"answers":[{"tags":[],"owner":{"account_id":15419085,"reputation":34,"user_id":11123596,"display_name":"troizet"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692942014,"creation_date":1692942014,"answer_id":76974506,"question_id":76974010,"body_markdown":"Use the latest version of NetBeans https://netbeans.apache.org/download/index.html.\r\nVersion 12.0 is outdated and not supported.","title":"How to fix NetBeans 12.0 and Maven 3.6.3 error","body":"<p>Use the latest version of NetBeans <a href=\"https://netbeans.apache.org/download/index.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/download/index.html</a>.\nVersion 12.0 is outdated and not supported.</p>\n"}],"owner":{"account_id":29257514,"reputation":1,"user_id":22415383,"display_name":"Chamara Pradeep Rajapaksha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692942014,"creation_date":1692932756,"question_id":76974010,"body_markdown":"I have installed NetBeans 12.0 64 bit on windows 10, after installing NetBeans I have an error in Maven. i tried to figure it out but I couldn&#39;t solve it. I am a beginner who follows java as a first programming language. Please help \r\nJDK 11 installed\r\nNetBeans 12.0 installed\r\nMaven 3.6.3 install(default with NetBeans installing)\r\n**system error&gt;**\r\n\r\n**Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to internal-repository (http://repo.mycompany.com/proxy): Transfer failed for http://repo.mycompany.com/proxy/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom: Unknown host No such host is known (repo.mycompany.com) -&gt; [Help 1]**\r\n**screenshots&gt;**\r\n[enter image description here][1]\r\n\r\n\r\nI have changed the settings.xml by using this guidelines \r\n`https://maven.apache.org/guides/mini/guide-mirror-settings.html`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jAYcP.jpg","title":"How to fix NetBeans 12.0 and Maven 3.6.3 error","body":"<p>I have installed NetBeans 12.0 64 bit on windows 10, after installing NetBeans I have an error in Maven. i tried to figure it out but I couldn't solve it. I am a beginner who follows java as a first programming language. Please help\nJDK 11 installed\nNetBeans 12.0 installed\nMaven 3.6.3 install(default with NetBeans installing)\n<strong>system error&gt;</strong></p>\n<p><strong>Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to internal-repository (<a href=\"http://repo.mycompany.com/proxy\" rel=\"nofollow noreferrer\">http://repo.mycompany.com/proxy</a>): Transfer failed for <a href=\"http://repo.mycompany.com/proxy/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom\" rel=\"nofollow noreferrer\">http://repo.mycompany.com/proxy/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom</a>: Unknown host No such host is known (repo.mycompany.com) -&gt; [Help 1]</strong>\n<strong>screenshots&gt;</strong>\n<a href=\"https://i.stack.imgur.com/jAYcP.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have changed the settings.xml by using this guidelines\n<code>https://maven.apache.org/guides/mini/guide-mirror-settings.html</code></p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692940968,"creation_date":1692940968,"answer_id":76974442,"question_id":76946887,"body_markdown":"I&#39;ve already solved this, the problem is the service I&#39;m using is not serializing the response correctly.\r\n\r\nTo solve I had to create a custom decoder instead use the standard one.\r\n\r\n","title":"returned type in feign service","body":"<p>I've already solved this, the problem is the service I'm using is not serializing the response correctly.</p>\n<p>To solve I had to create a custom decoder instead use the standard one.</p>\n"}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76974442,"answer_count":1,"score":0,"last_activity_date":1692940968,"creation_date":1692632920,"question_id":76946887,"body_markdown":"Hello I&#39;m consuming a service (I can not modify it) that returns an String (OK), and I&#39;m not able to use it with a FeignClient, I receive this:\r\n\r\n    &quot;statusText&quot;: &quot;feign.FeignException: Unrecognized token &#39;OK&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n\r\nThis is the signature of the service I&#39;m usign:\r\n\r\n    @PostMapping(path = &quot;/url&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n\t@ApiResponses(value = {\r\n\t\t\t@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal server error&quot;),\r\n\t\t\t@ApiResponse(responseCode = &quot;401&quot;, description = &quot;Unauthorized&quot;),\r\n\t\t\t@ApiResponse(responseCode = &quot;403&quot;, description = &quot;Forbidden&quot;),\r\n\t\t\t@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Bad Request&quot;),\r\n\t\t\t@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)})\r\n\tString apiName(@RequestBody ApiDTO apiDTO) throws ResourceException;\r\n\r\n\r\nAnd I use it as:\r\n\r\n        @PostMapping(path = { &quot;/url&quot; }, consumes = {MediaType.APPLICATION_JSON_VALUE}, produces = {MediaType.TEXT_PLAIN_VALUE})\r\n    @ResponseStatus(HttpStatus.OK)\r\n    String apiService(@RequestBody myDTO application) throws Exception;\r\n}\r\n\r\n\r\nhow can i solve it?\r\n","title":"returned type in feign service","body":"<p>Hello I'm consuming a service (I can not modify it) that returns an String (OK), and I'm not able to use it with a FeignClient, I receive this:</p>\n<pre><code>&quot;statusText&quot;: &quot;feign.FeignException: Unrecognized token 'OK': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n</code></pre>\n<p>This is the signature of the service I'm usign:</p>\n<pre><code>@PostMapping(path = &quot;/url&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\n@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal server error&quot;),\n        @ApiResponse(responseCode = &quot;401&quot;, description = &quot;Unauthorized&quot;),\n        @ApiResponse(responseCode = &quot;403&quot;, description = &quot;Forbidden&quot;),\n        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Bad Request&quot;),\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)})\nString apiName(@RequestBody ApiDTO apiDTO) throws ResourceException;\n</code></pre>\n<p>And I use it as:</p>\n<pre><code>    @PostMapping(path = { &quot;/url&quot; }, consumes = {MediaType.APPLICATION_JSON_VALUE}, produces = {MediaType.TEXT_PLAIN_VALUE})\n@ResponseStatus(HttpStatus.OK)\nString apiService(@RequestBody myDTO application) throws Exception;\n</code></pre>\n<p>}</p>\n<p>how can i solve it?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692874401,"post_id":76968545,"comment_id":135684551,"body_markdown":"Upgrade to a proper HTTP library that doesn&#39;t rely on Java internal classes","body":"Upgrade to a proper HTTP library that doesn&#39;t rely on Java internal classes"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":7,"creation_date":1692876318,"post_id":76968545,"comment_id":135684917,"body_markdown":"You shouldn&#39;t have used a `sun.*` class to start with. Relying on internal classes that may change or be removed is not smart. The parameter type for `URL` is `URLStreamHandler`, you just used an internal class because of reasons unknown.","body":"You shouldn&#39;t have used a <code>sun.*</code> class to start with. Relying on internal classes that may change or be removed is not smart. The parameter type for <code>URL</code> is <code>URLStreamHandler</code>, you just used an internal class because of reasons unknown."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1692878844,"post_id":76968545,"comment_id":135685465,"body_markdown":"Why do you need it? Start from your needs and we&#39;ll explain how to di it with a proper http Library. also https://stackoverflow.com/questions/65206823/how-to-update-and-avoid-sun-net-www-protocol-https-handler-is-internal-propriet","body":"Why do you need it? Start from your needs and we&#39;ll explain how to di it with a proper http Library. also <a href=\"https://stackoverflow.com/questions/65206823/how-to-update-and-avoid-sun-net-www-protocol-https-handler-is-internal-propriet\" title=\"how to update and avoid sun net www protocol https handler is internal propriet\">stackoverflow.com/questions/65206823/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1692888496,"post_id":76968545,"comment_id":135687835,"body_markdown":"https:… URLs work just fine without any handler arguments.  The passing of that argument is probably a holdover from the 1990s.","body":"https:… URLs work just fine without any handler arguments.  The passing of that argument is probably a holdover from the 1990s."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692894663,"post_id":76968545,"comment_id":135689418,"body_markdown":"Maybe the result of bad answers like [this one](https://stackoverflow.com/a/12796611/2711488) It doesn’t even have the desired effect. Some pre-Java&#160;6 code might require the class `com.sun.net.ssl.HttpsURLConnection`, but to work-around this, you’d need the handler from the `com.sun.net.ssl…` package hierarchy, not the `sun.net…` one. This legacy support has been removed around Java&#160;13, as it seems. But, as said, it’s unrelated to the `sun.net.www.protocol.https.Handler` which doesn’t need be be accessed directly.","body":"Maybe the result of bad answers like <a href=\"https://stackoverflow.com/a/12796611/2711488\">this one</a> It doesn’t even have the desired effect. Some pre-Java 6 code might require the class <code>com.sun.net.ssl.HttpsURLConnection</code>, but to work-around this, you’d need the handler from the <code>com.sun.net.ssl…</code> package hierarchy, not the <code>sun.net…</code> one. This legacy support has been removed around Java 13, as it seems. But, as said, it’s unrelated to the <code>sun.net.www.protocol.https.Handler</code> which doesn’t need be be accessed directly."},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1692933804,"post_id":76968545,"comment_id":135694841,"body_markdown":"That snippet code in my application supports https with SSL, if I remove the handler parameter from the URL constructor, I will get some issues when using HTTPs protocol","body":"That snippet code in my application supports https with SSL, if I remove the handler parameter from the URL constructor, I will get some issues when using HTTPs protocol"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1692934285,"post_id":76968545,"comment_id":135694884,"body_markdown":"More info, the handler parameter was added to the URL constructor to handle SSL certificates.","body":"More info, the handler parameter was added to the URL constructor to handle SSL certificates."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1692941401,"post_id":76968545,"comment_id":135695538,"body_markdown":"Just get rid of `new sun.net.www.protocol.https.Handler()`. That just asserts the default. It never did anything useful. If you then get issues, post them. XY problem.","body":"Just get rid of <code>new sun.net.www.protocol.https.Handler()</code>. That just asserts the default. It never did anything useful. If you then get issues, post them. XY problem."}],"answers":[{"tags":[],"owner":{"account_id":7008664,"reputation":70,"user_id":5372304,"display_name":"nosaku"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692940745,"creation_date":1692874606,"answer_id":76968596,"question_id":76968545,"body_markdown":"Is it not working if you remove it entirely?\r\n\r\n    final URL resourceUrl = new URL(builder.addToURI(uri).toString());\r\n\r\n**Code to test HTTPS**\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    public class UrlTest {\r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tfinal URL resourceUrl = new URL(&quot;https://stackoverflow.com/questions/76968545/how-to-replace-sun-net-www-protocol-https-handler-in-jdk-17&quot;);\r\n    \t\tBufferedReader in = new BufferedReader(new InputStreamReader(resourceUrl.openStream()));\r\n    \t\tString line;\r\n    \t\twhile ((line = in.readLine()) != null) {\r\n    \t\t\tSystem.out.println(line);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to replace sun.net.www.protocol.https.Handler in JDK 17?","body":"<p>Is it not working if you remove it entirely?</p>\n<pre><code>final URL resourceUrl = new URL(builder.addToURI(uri).toString());\n</code></pre>\n<p><strong>Code to test HTTPS</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class UrlTest {\n    public static void main(String args[]) throws Exception {\n        final URL resourceUrl = new URL(&quot;https://stackoverflow.com/questions/76968545/how-to-replace-sun-net-www-protocol-https-handler-in-jdk-17&quot;);\n        BufferedReader in = new BufferedReader(new InputStreamReader(resourceUrl.openStream()));\n        String line;\n        while ((line = in.readLine()) != null) {\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76968596,"answer_count":1,"score":0,"last_activity_date":1692940745,"creation_date":1692874138,"question_id":76968545,"body_markdown":"My application works fine with JDK 8 running this snipper code below\r\n\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import sun.net.www.protocol.https.Handler;\r\n    \r\n    final URL resourceUrl = new URL(null, builder.addToURI(uri).toString(), new sun.net.www.protocol.https.Handler());\r\n\r\nNow, I am upgrading to JDK 17, and I get the error message. It is caused by the package ```sun.net.www.protocol.https.Handler``` is already moved to ```java.base``` (internal package)\r\n\r\n    Package &#39;sun.net.www.protocol.https&#39; is declared in module &#39;java.base&#39;, which does not export it to the unnamed module\r\n\r\nI know there is a workaround solution that uses ```--add-exports &lt;module&gt;/&lt;package&gt;=&lt;target-module&gt;(,&lt;target-module&gt;)*``` command, but I cannot use it for production, at least in my case.\r\n\r\nIs there a way that can replace this internal call?","title":"How to replace sun.net.www.protocol.https.Handler in JDK 17?","body":"<p>My application works fine with JDK 8 running this snipper code below</p>\n<pre><code>import javax.net.ssl.HttpsURLConnection;\nimport sun.net.www.protocol.https.Handler;\n\nfinal URL resourceUrl = new URL(null, builder.addToURI(uri).toString(), new sun.net.www.protocol.https.Handler());\n</code></pre>\n<p>Now, I am upgrading to JDK 17, and I get the error message. It is caused by the package <code>sun.net.www.protocol.https.Handler</code> is already moved to <code>java.base</code> (internal package)</p>\n<pre><code>Package 'sun.net.www.protocol.https' is declared in module 'java.base', which does not export it to the unnamed module\n</code></pre>\n<p>I know there is a workaround solution that uses <code>--add-exports &lt;module&gt;/&lt;package&gt;=&lt;target-module&gt;(,&lt;target-module&gt;)*</code> command, but I cannot use it for production, at least in my case.</p>\n<p>Is there a way that can replace this internal call?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"score":0,"creation_date":1693252341,"post_id":76974387,"comment_id":135733451,"body_markdown":"Please, check here https://github.com/bdshadow/stackoverflow/blob/master/spring/spring-data-id-generator-76974387/src/test/java/com/bocharov/service/MyTest.java. Try to comment/uncomment `@GeneratedValue` in the `MyEntity` - it works the same. Also, no exception is thrown","body":"Please, check here <a href=\"https://github.com/bdshadow/stackoverflow/blob/master/spring/spring-data-id-generator-76974387/src/test/java/com/bocharov/service/MyTest.java\" rel=\"nofollow noreferrer\">github.com/bdshadow/stackoverflow/blob/master/spring/&hellip;</a>. Try to comment/uncomment <code>@GeneratedValue</code> in the <code>MyEntity</code> - it works the same. Also, no exception is thrown"}],"owner":{"account_id":25897812,"reputation":3,"user_id":19624157,"display_name":"Semin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692940118,"creation_date":1692939912,"question_id":76974387,"body_markdown":"There was a problem with the Spring Boot 2.5.9 version of the project.\r\n\r\n \r\n```\r\n@Getter\r\n@Builder\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class MyEntity {\r\n    @Id\r\n    UUID uuid;\r\n\r\n    String username;\r\n\r\n    String email;\r\n\r\n    @ManyToOne\r\n    ManyToOneField manyToOneField;\r\n}\r\n```\r\n\r\nI am using the above entity, but when I try to update the above entity, an error occurs.\r\n\r\n\r\n```\r\n@Transactional\r\npublic void update() {\r\n    MyEntity myEntity= messageSendLogRepository.findByUsername(&quot;only&quot;);\r\n    myEntity.setUsername(&quot;update&quot;);\r\n}\r\n```\r\n\r\nThe following error occurs when executing this code.\r\n```\r\nHibernate: \r\n    update \r\n        my_entity\r\n    ...\r\n\r\nHibernate: \r\n    select \r\n        my_entity.uuid\r\n    ...\r\n\r\n2023-08-25 13:48:37.938 ERROR 89454 --- [nio-8080-exec-1] a.a.g.exception.CustomExceptionHandler.   : Object of class [app.my.project.domain.MyEntity] with identifier [01bab334-80d1-4813-891c-ab5d12402e96]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) \r\n\r\n```\r\nIn the select query, the updated record is being called again using pk.\r\nThe above error is the same with the save method by changing the persistent instance value without using transaction annotation.\r\n\r\nWhy does hibernate request a select query after the Update query in the above code? \r\nThe request from the select query is expected to cause a problem. Other entity classes that use @GeneratedValue for PK do not experience the same problem.\r\n\r\nIs it a problem to use UUID as PK? Or is there another problem?\r\nI&#39;m curious about the cause of this error and how to solve it.","title":"Hibernate executes select query after update","body":"<p>There was a problem with the Spring Boot 2.5.9 version of the project.</p>\n<pre><code>@Getter\n@Builder\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class MyEntity {\n    @Id\n    UUID uuid;\n\n    String username;\n\n    String email;\n\n    @ManyToOne\n    ManyToOneField manyToOneField;\n}\n</code></pre>\n<p>I am using the above entity, but when I try to update the above entity, an error occurs.</p>\n<pre><code>@Transactional\npublic void update() {\n    MyEntity myEntity= messageSendLogRepository.findByUsername(&quot;only&quot;);\n    myEntity.setUsername(&quot;update&quot;);\n}\n</code></pre>\n<p>The following error occurs when executing this code.</p>\n<pre><code>Hibernate: \n    update \n        my_entity\n    ...\n\nHibernate: \n    select \n        my_entity.uuid\n    ...\n\n2023-08-25 13:48:37.938 ERROR 89454 --- [nio-8080-exec-1] a.a.g.exception.CustomExceptionHandler.   : Object of class [app.my.project.domain.MyEntity] with identifier [01bab334-80d1-4813-891c-ab5d12402e96]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) \n\n</code></pre>\n<p>In the select query, the updated record is being called again using pk.\nThe above error is the same with the save method by changing the persistent instance value without using transaction annotation.</p>\n<p>Why does hibernate request a select query after the Update query in the above code?\nThe request from the select query is expected to cause a problem. Other entity classes that use @GeneratedValue for PK do not experience the same problem.</p>\n<p>Is it a problem to use UUID as PK? Or is there another problem?\nI'm curious about the cause of this error and how to solve it.</p>\n"},{"tags":["java","active-directory","ldap","wildcard","unboundid-ldap-sdk"],"answers":[{"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692938545,"creation_date":1692938545,"answer_id":76974307,"question_id":76953976,"body_markdown":"You cannot. objectSid attributes are not string attributes (DirStudio converts them for you) – they contain binary SIDs – and the domain controllers only support _matching_ against a string SID as a special case, but exact match only. Most likely the match is done by canonicalizing both inputs into binary SID format, where wildcards wouldn&#39;t exist.\r\n\r\nYou will need to look up the domain SID (as described in a previous thread) and combine it with the RID that you have. The RID that you retrieve from primaryGroupId **always** goes together with the SID prefix of the domain that the user is in – not any other domain and certainly not any of the &quot;built-in&quot; SID prefixes.","title":"How to search entry by sid suffix in unboundid?","body":"<p>You cannot. objectSid attributes are not string attributes (DirStudio converts them for you) – they contain binary SIDs – and the domain controllers only support <em>matching</em> against a string SID as a special case, but exact match only. Most likely the match is done by canonicalizing both inputs into binary SID format, where wildcards wouldn't exist.</p>\n<p>You will need to look up the domain SID (as described in a previous thread) and combine it with the RID that you have. The RID that you retrieve from primaryGroupId <strong>always</strong> goes together with the SID prefix of the domain that the user is in – not any other domain and certainly not any of the &quot;built-in&quot; SID prefixes.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76974307,"answer_count":1,"score":0,"last_activity_date":1692938545,"creation_date":1692712169,"question_id":76953976,"body_markdown":"I noticed that I can make query with wildcards in **LDAP**. For example:\r\n\r\n1.\r\n\r\n    ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*&quot;)\r\n\r\nand this search request will response all entries which has objectSid\r\n\r\n2.\r\n\r\nAnd this query will return all entries without `objectSid`\r\n\r\n    ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;!(objectSid=*)&quot;)\r\n\r\n\r\n**I would like to search entry by PrimaryGroupToken** so I tried to execute:\r\n\r\n    ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*512&quot;)\r\n\r\nand\r\n\r\n    ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*-512&quot;)\r\n\r\nBut I receive empty resut although there are an entry in Ldap:\r\n[![enter image description here][1]][1]\r\n\r\nIs there way to avoid it ?\r\n\r\n  [1]: https://i.stack.imgur.com/blD9P.jpg","title":"How to search entry by sid suffix in unboundid?","body":"<p>I noticed that I can make query with wildcards in <strong>LDAP</strong>. For example:</p>\n<p>1.</p>\n<pre><code>ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*&quot;)\n</code></pre>\n<p>and this search request will response all entries which has objectSid</p>\n<p>2.</p>\n<p>And this query will return all entries without <code>objectSid</code></p>\n<pre><code>ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;!(objectSid=*)&quot;)\n</code></pre>\n<p><strong>I would like to search entry by PrimaryGroupToken</strong> so I tried to execute:</p>\n<pre><code>ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*512&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*-512&quot;)\n</code></pre>\n<p>But I receive empty resut although there are an entry in Ldap:\n<a href=\"https://i.stack.imgur.com/blD9P.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blD9P.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Is there way to avoid it ?</p>\n"},{"tags":["java","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692936698,"creation_date":1692936698,"answer_id":76974214,"question_id":76974137,"body_markdown":"I&#39;ve updated the `trunk` and `base` functions as follows (`tree1`, `tree2` and `tree3` functions are not changed).\r\n\r\n    private static void trunk(int size) {\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            for (int j = 0; j &lt;= size; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(&quot;*&quot;);\r\n        }\r\n    }\r\n\r\n    private static void base(int size) {\r\n        for (int j = 0; j &lt; size; j++) {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        for (int k = 0; k &lt; 3; k++) {\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n    }\r\n\r\nFor the `trunk` function, the number of initial spaces required is same as the value of `size + 1` and for the base, it is `size`.\r\n\r\n\r\nAlso now all functions work based only on the `size` parameter\r\n```\r\nint size = 4;\r\ntree1(size);\r\ntree2(size);\r\ntree3(size);\r\ntrunk(size);\r\nbase(size);\r\n```","title":"Creating a Christmas Tree with proper spacing with the trunk and base under the leaves","body":"<p>I've updated the <code>trunk</code> and <code>base</code> functions as follows (<code>tree1</code>, <code>tree2</code> and <code>tree3</code> functions are not changed).</p>\n<pre><code>private static void trunk(int size) {\n    for (int i = 0; i &lt; 2; i++) {\n        for (int j = 0; j &lt;= size; j++) {\n            System.out.print(&quot; &quot;);\n        }\n        System.out.println(&quot;*&quot;);\n    }\n}\n\nprivate static void base(int size) {\n    for (int j = 0; j &lt; size; j++) {\n        System.out.print(&quot; &quot;);\n    }\n    for (int k = 0; k &lt; 3; k++) {\n        System.out.print(&quot;*&quot;);\n    }\n}\n</code></pre>\n<p>For the <code>trunk</code> function, the number of initial spaces required is same as the value of <code>size + 1</code> and for the base, it is <code>size</code>.</p>\n<p>Also now all functions work based only on the <code>size</code> parameter</p>\n<pre><code>int size = 4;\ntree1(size);\ntree2(size);\ntree3(size);\ntrunk(size);\nbase(size);\n</code></pre>\n"}],"owner":{"account_id":27193679,"reputation":3,"user_id":20726947,"display_name":"KEVIN CAI CRACK123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76974214,"answer_count":1,"score":0,"last_activity_date":1692936698,"creation_date":1692935189,"question_id":76974137,"body_markdown":"I just can&#39;t seem to space the trunk and base of my christmas tree. The trunk and base are a fixed value and they have to be centered for any values given for the tree leaves. \r\n\r\nI tried doing this\r\n\r\n```lang-java\r\npublic class Proj01_xmasTree {\r\n    //christmas time scott r portdog45680-41fasda\r\n    public static void main(String args[]) {\r\n        //int gives amount of lines to print\r\n        int size = 4;\r\n        int treeWidth = size * 2 - 1;\r\n        tree1(size);\r\n        tree2(size);\r\n        tree3(size);\r\n        trunk(1);\r\n        base(1);\r\n    }\r\n    \r\n    public static void tree1(int size){\r\n        // &quot;i&quot; starts on different stars\r\n        for (int i = 0; i &lt; size; i++){\r\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\r\n            for (int j = 0; j &lt; size + 1 - i; j++)\r\n                System.out.print(&quot; &quot;);\r\n                //stars 1,3,5,7. i*2 + 1. 0 + 1 = 1. \r\n                for (int k = 0; k &lt; i*2 + 1; k++){\r\n                    System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    public static void tree2(int size){\r\n        //&quot;i&quot; starts on different stars\r\n        for (int i = 1; i &lt; size; i++){\r\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\r\n            for (int j = 0; j &lt; size + 1 - i; j++)\r\n                System.out.print(&quot; &quot;);\r\n                //stars 1,3,5,7. i*2 + 1. 0 + 1 = 1. \r\n                for (int k = 0; k &lt; i*2 + 1; k++){\r\n                    System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    public static void tree3(int size){\r\n        //&quot;i&quot; starts on different stars\r\n        for (int i = 2; i &lt;= size; i++){\r\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\r\n            for (int j = 0; j &lt; size + 1 - i; j++)\r\n                System.out.print(&quot; &quot;);\r\n                //stars 5,7,9,12 \r\n                for (int k = 0; k &lt; i*2 + 1; k++){\r\n                    System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    public static void trunk(int treeWidth){\r\n        int spacing = (treeWidth - 2) / 2;\r\n        \r\n        for (int i = 0; i &lt; 2; i++){\r\n            for (int j = 0; j &lt; spacing; j++){\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(&quot;*&quot;);\r\n        }\r\n    }\r\n    \r\n    public static void base(int size){\r\n        for (int i = 0; i &lt; 1; i++){\r\n            for (int j = 0; j &lt; size/2; j++){\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int k = 0; k &lt; 3; k++){\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nWhich outputs: \r\n```lang-none\r\n     *\r\n    ***\r\n   *****\r\n  *******\r\n    ***\r\n   *****\r\n  *******\r\n   *****\r\n  *******\r\n *********\r\n*\r\n*\r\n***\r\n```\r\n\r\nDesired output: \r\n```lang-none\r\n     *\r\n    ***\r\n   *****\r\n  *******\r\n    ***\r\n   *****\r\n  *******\r\n   *****\r\n  *******\r\n *********\r\n     *\r\n     *\r\n    ***\r\n```\r\n(note: the trunk and base are separate methods. they have to be fixed like that for any of the leaves, please keep that in mind.)\r\n\r\n\r\n\r\n","title":"Creating a Christmas Tree with proper spacing with the trunk and base under the leaves","body":"<p>I just can't seem to space the trunk and base of my christmas tree. The trunk and base are a fixed value and they have to be centered for any values given for the tree leaves.</p>\n<p>I tried doing this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Proj01_xmasTree {\n    //christmas time scott r portdog45680-41fasda\n    public static void main(String args[]) {\n        //int gives amount of lines to print\n        int size = 4;\n        int treeWidth = size * 2 - 1;\n        tree1(size);\n        tree2(size);\n        tree3(size);\n        trunk(1);\n        base(1);\n    }\n    \n    public static void tree1(int size){\n        // &quot;i&quot; starts on different stars\n        for (int i = 0; i &lt; size; i++){\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\n            for (int j = 0; j &lt; size + 1 - i; j++)\n                System.out.print(&quot; &quot;);\n                //stars 1,3,5,7. i*2 + 1. 0 + 1 = 1. \n                for (int k = 0; k &lt; i*2 + 1; k++){\n                    System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n    \n    public static void tree2(int size){\n        //&quot;i&quot; starts on different stars\n        for (int i = 1; i &lt; size; i++){\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\n            for (int j = 0; j &lt; size + 1 - i; j++)\n                System.out.print(&quot; &quot;);\n                //stars 1,3,5,7. i*2 + 1. 0 + 1 = 1. \n                for (int k = 0; k &lt; i*2 + 1; k++){\n                    System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n    \n    public static void tree3(int size){\n        //&quot;i&quot; starts on different stars\n        for (int i = 2; i &lt;= size; i++){\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\n            for (int j = 0; j &lt; size + 1 - i; j++)\n                System.out.print(&quot; &quot;);\n                //stars 5,7,9,12 \n                for (int k = 0; k &lt; i*2 + 1; k++){\n                    System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n    \n    public static void trunk(int treeWidth){\n        int spacing = (treeWidth - 2) / 2;\n        \n        for (int i = 0; i &lt; 2; i++){\n            for (int j = 0; j &lt; spacing; j++){\n                System.out.print(&quot; &quot;);\n            }\n            System.out.println(&quot;*&quot;);\n        }\n    }\n    \n    public static void base(int size){\n        for (int i = 0; i &lt; 1; i++){\n            for (int j = 0; j &lt; size/2; j++){\n                System.out.print(&quot; &quot;);\n            }\n            for (int k = 0; k &lt; 3; k++){\n                System.out.print(&quot;*&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Which outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>     *\n    ***\n   *****\n  *******\n    ***\n   *****\n  *******\n   *****\n  *******\n *********\n*\n*\n***\n</code></pre>\n<p>Desired output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>     *\n    ***\n   *****\n  *******\n    ***\n   *****\n  *******\n   *****\n  *******\n *********\n     *\n     *\n    ***\n</code></pre>\n<p>(note: the trunk and base are separate methods. they have to be fixed like that for any of the leaves, please keep that in mind.)</p>\n"},{"tags":["java","arraylist","comparison","contains"],"comments":[{"owner":{"account_id":969298,"reputation":24123,"user_id":992151,"accept_rate":82,"display_name":"cowls"},"score":0,"creation_date":1359065298,"post_id":14511655,"comment_id":20230133,"body_markdown":"in that case you want containsAll (already an answer)","body":"in that case you want containsAll (already an answer)"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":3,"creation_date":1359074445,"post_id":14511655,"comment_id":20233418,"body_markdown":"And you can reduce your if statement to one line: `return one.containsAll(two);`","body":"And you can reduce your if statement to one line: <code>return one.containsAll(two);</code>"},{"owner":{"account_id":2055900,"reputation":7174,"user_id":1889720,"accept_rate":78,"display_name":"Evorlor"},"score":0,"creation_date":1554728138,"post_id":14511655,"comment_id":97846637,"body_markdown":"Related: https://meta.stackoverflow.com/q/382499/1889720","body":"Related: <a href=\"https://meta.stackoverflow.com/q/382499/1889720\">meta.stackoverflow.com/q/382499/1889720</a>"}],"answers":[{"tags":[],"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359065241,"creation_date":1359065241,"answer_id":14511680,"question_id":14511655,"body_markdown":"Your code in the example doesn&#39;t make sense, but here&#39;s an example anyway.\r\n\r\n    ArrayList&lt;Integer&gt; one, two;\r\n    //initialize\r\n    boolean good = true;\r\n    for (int i = 0; i &lt; two.size(); i ++) {\r\n        if (!(one.contains(two.get(i))) {\r\n            good = false;\r\n            break;\r\n        }\r\n    }\r\n\r\nIt simply loops through all of `two`&#39;s elements and checks to see if they are in `one`.\r\n\r\nThen the boolean `good` contains the value you want.\r\n\r\nSee [ArrayList#contains](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#contains(java.lang.Object)).\r\n\r\n**EDIT**: oh wow, I totally forgot [containsAll](http://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html#containsAll(java.util.Collection)). Oh well, this is an alternate way to do it if you really want to understand it.","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>Your code in the example doesn't make sense, but here's an example anyway.</p>\n\n<pre><code>ArrayList&lt;Integer&gt; one, two;\n//initialize\nboolean good = true;\nfor (int i = 0; i &lt; two.size(); i ++) {\n    if (!(one.contains(two.get(i))) {\n        good = false;\n        break;\n    }\n}\n</code></pre>\n\n<p>It simply loops through all of <code>two</code>'s elements and checks to see if they are in <code>one</code>.</p>\n\n<p>Then the boolean <code>good</code> contains the value you want.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#contains%28java.lang.Object%29\" rel=\"nofollow\">ArrayList#contains</a>.</p>\n\n<p><strong>EDIT</strong>: oh wow, I totally forgot <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html#containsAll%28java.util.Collection%29\" rel=\"nofollow\">containsAll</a>. Oh well, this is an alternate way to do it if you really want to understand it.</p>\n"},{"tags":[],"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"down_vote_count":0,"up_vote_count":131,"is_accepted":true,"score":131,"last_activity_date":1359067264,"creation_date":1359065249,"answer_id":14511683,"question_id":14511655,"body_markdown":"There is a method called `containsAll` declared in the `java.util.Collection` interface. In your setting `one.containsAll(two)` gives the desired answer.","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>There is a method called <code>containsAll</code> declared in the <code>java.util.Collection</code> interface. In your setting <code>one.containsAll(two)</code> gives the desired answer.</p>\n"},{"tags":[],"owner":{"account_id":1544917,"reputation":5387,"user_id":1438660,"accept_rate":73,"display_name":"splungebob"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1359065251,"creation_date":1359065251,"answer_id":14511684,"question_id":14511655,"body_markdown":"Per the List interface:\r\n\r\n    myList.containsAll(...);","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>Per the List interface:</p>\n\n<pre><code>myList.containsAll(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1664058,"reputation":1246,"user_id":1531833,"display_name":"Damian Jeżewski"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1359065272,"creation_date":1359065272,"answer_id":14511689,"question_id":14511655,"body_markdown":"Take a look at `containsAll(Collection&lt;?&gt; c)` method from `List` interface. I think it is what you are looking for.","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>Take a look at <code>containsAll(Collection&lt;?&gt; c)</code> method from <code>List</code> interface. I think it is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359065351,"creation_date":1359065351,"answer_id":14511712,"question_id":14511655,"body_markdown":"You can use `containsAll` method of the list to do the check. However, this is a linear operation. If the list is large, you should convert it to `HashSet` first, and then perform `containsAll`:\r\n\r\n    HashSet tmp = new HashSet(one);\r\n    if (tmp.containsAll(two)) {\r\n        ...\r\n    }\r\n\r\nIf the length of `one` is `N` and the length of two is `M`, this solution has time complexity of `O(M+N)`; the &quot;plain&quot; `containsAll` has the complexity of `O(M*N)`, which may be significantly worse.","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>You can use <code>containsAll</code> method of the list to do the check. However, this is a linear operation. If the list is large, you should convert it to <code>HashSet</code> first, and then perform <code>containsAll</code>:</p>\n\n<pre><code>HashSet tmp = new HashSet(one);\nif (tmp.containsAll(two)) {\n    ...\n}\n</code></pre>\n\n<p>If the length of <code>one</code> is <code>N</code> and the length of two is <code>M</code>, this solution has time complexity of <code>O(M+N)</code>; the \"plain\" <code>containsAll</code> has the complexity of <code>O(M*N)</code>, which may be significantly worse.</p>\n"},{"tags":[],"owner":{"account_id":9001581,"reputation":81,"user_id":6710001,"display_name":"JimiMac"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471016106,"creation_date":1471016106,"answer_id":38921666,"question_id":14511655,"body_markdown":"Here is another example use of containsAll() that I have used for asserting that two arrays are equal in JUnit testing:\r\n\r\n    List&lt;String&gt; expected = new ArrayList&lt;String&gt;();\r\n    expected.add(&quot;this&quot;);\r\n    expected.add(&quot;that&quot;);\r\n    expected.add(&quot;another&quot;);\r\n\r\n    List&lt;String&gt; actual = new ArrayListString();\r\n    actual.add(&quot;another&quot;);\r\n    actual.add(&quot;that&quot;);\r\n    actual.add(&quot;this&quot;);\r\n \r\n    Assert.assertTrue(&quot;The lists do not match!&quot;, expected.containsAll(actual));\r\n","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>Here is another example use of containsAll() that I have used for asserting that two arrays are equal in JUnit testing:</p>\n\n<pre><code>List&lt;String&gt; expected = new ArrayList&lt;String&gt;();\nexpected.add(\"this\");\nexpected.add(\"that\");\nexpected.add(\"another\");\n\nList&lt;String&gt; actual = new ArrayListString();\nactual.add(\"another\");\nactual.add(\"that\");\nactual.add(\"this\");\n\nAssert.assertTrue(\"The lists do not match!\", expected.containsAll(actual));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7409012,"reputation":17,"user_id":5675483,"display_name":"Yuces"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1597820540,"creation_date":1597820540,"answer_id":63481628,"question_id":14511655,"body_markdown":"isEqualCollection() method declared in the org.apache.commons.collections.CollectionUtils gives you the collections are same or not.\r\n\r\nif (CollectionUtils.isEqualCollection(collectionA,collectionB))\r\n{\r\n    do smt...\r\n}","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>isEqualCollection() method declared in the org.apache.commons.collections.CollectionUtils gives you the collections are same or not.</p>\n<p>if (CollectionUtils.isEqualCollection(collectionA,collectionB))\n{\ndo smt...\n}</p>\n"},{"tags":[],"owner":{"account_id":13670753,"reputation":41,"user_id":9863465,"display_name":"Piyush Aggarwal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620992968,"creation_date":1620992968,"answer_id":67533856,"question_id":14511655,"body_markdown":"This can also be done using streams in Java\r\n\r\n        List&lt;String&gt; employeeList = Arrays.asList(&quot;Marc&quot;,&quot;john&quot;);\r\n\t\tList&lt;String&gt; masterEmployeeList = Arrays.asList(&quot;Marc&quot;, &quot;Stacy&quot;, &quot;john&quot;);\r\n\t\tSystem.out.println(employeeList.stream().allMatch(masterEmployeeList::contains));","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>This can also be done using streams in Java</p>\n<pre><code>    List&lt;String&gt; employeeList = Arrays.asList(&quot;Marc&quot;,&quot;john&quot;);\n    List&lt;String&gt; masterEmployeeList = Arrays.asList(&quot;Marc&quot;, &quot;Stacy&quot;, &quot;john&quot;);\n    System.out.println(employeeList.stream().allMatch(masterEmployeeList::contains));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29294905,"reputation":1,"user_id":22444446,"display_name":"NoName NoName"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692936476,"creation_date":1692936414,"answer_id":76974194,"question_id":14511655,"body_markdown":"java.util.Collections.indexOfSubList(arrayListIS, arrayListIF)","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>java.util.Collections.indexOfSubList(arrayListIS, arrayListIF)</p>\n"}],"owner":{"account_id":2055900,"reputation":7174,"user_id":1889720,"accept_rate":78,"display_name":"Evorlor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146956,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":14511683,"answer_count":9,"score":73,"last_activity_date":1692936476,"creation_date":1359065105,"question_id":14511655,"body_markdown":"There is probably a simple one-liner that I am just not finding here, but this is my question:\r\n\r\nHow do I check if an ArrayList contains all of the objects in another ArrayList?  I am looking (if it exists) for something along the lines of:\r\n\r\n    //INCORRECT EXAMPLE:\r\n    if(one.contains(two))\r\n    {\r\n        return true;\r\n    }\r\n    else\r\n    {\r\n        return false;\r\n    }\r\n\r\nFor example:\r\n\r\n    ArrayList one = {1, 2, 3, 4, 5}\r\n    \r\n    ArrayList two = {1, 2, 3} --&gt; True\r\n    ArrayList two = {} --&gt; True\r\n    ArrayList two = {1, 2, 3, 4, 5} --&gt; True\r\n    ArrayList two = {1, 5, 2} --&gt; True\r\n    ArrayList two = {1, 7, 4} --&gt; False\r\n    ArrayList two = {0, 1, 3} --&gt; False\r\n    ArrayList two = {4, 5, 6} --&gt; False\r\n    ArrayList two = {7, 8, 9} --&gt; False","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>There is probably a simple one-liner that I am just not finding here, but this is my question:</p>\n\n<p>How do I check if an ArrayList contains all of the objects in another ArrayList?  I am looking (if it exists) for something along the lines of:</p>\n\n<pre><code>//INCORRECT EXAMPLE:\nif(one.contains(two))\n{\n    return true;\n}\nelse\n{\n    return false;\n}\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>ArrayList one = {1, 2, 3, 4, 5}\n\nArrayList two = {1, 2, 3} --&gt; True\nArrayList two = {} --&gt; True\nArrayList two = {1, 2, 3, 4, 5} --&gt; True\nArrayList two = {1, 5, 2} --&gt; True\nArrayList two = {1, 7, 4} --&gt; False\nArrayList two = {0, 1, 3} --&gt; False\nArrayList two = {4, 5, 6} --&gt; False\nArrayList two = {7, 8, 9} --&gt; False\n</code></pre>\n"},{"tags":["java","mongodb","optimization","mongodb-query","query-optimization"],"comments":[{"owner":{"account_id":24576560,"reputation":14741,"user_id":18482310,"display_name":"nimrod serok"},"score":0,"creation_date":1692937904,"post_id":76974184,"comment_id":135695176,"body_markdown":"Consider saving the rank per layers per user in another collection. This will allow you to get it fast","body":"Consider saving the rank per layers per user in another collection. This will allow you to get it fast"}],"owner":{"account_id":16880927,"reputation":91,"user_id":12207054,"display_name":"Kihz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692936271,"creation_date":1692936271,"question_id":76974184,"body_markdown":"I am creating a leaderboard to rank users on multiple different activities. There are roughly 140 different activities that users will need to be ranked on. For brevity, here is an example of what my user data looks like:\r\n\r\n```\r\n{\r\n  &quot;_id&quot;: {\r\n    &quot;$binary&quot;: {\r\n      &quot;base64&quot;: &quot;pADjWT71RgKLeSo5bxm2GQ==&quot;,\r\n      &quot;subType&quot;: &quot;04&quot;\r\n    }\r\n  },\r\n  &quot;weaponMasteryLevels&quot;: {\r\n    &quot;SCYTHE&quot;: 3,\r\n    &quot;AXE&quot;: 46,\r\n    &quot;STAFF&quot;: 14,\r\n    &quot;SWORD&quot;: 67\r\n  },\r\n  &quot;statistics&quot;: {\r\n    &quot;SUCCESSFUL_TRIALS&quot;: 35288,\r\n    &quot;PLAYER_KILLS&quot;: 48157\r\n  },\r\n  &quot;mobKills&quot;: {\r\n    &quot;LAYER_1&quot;: 41769,\r\n    &quot;LAYER_3&quot;: 3895,\r\n    &quot;LAYER_4&quot;: 49093,\r\n    &quot;LAYER_2&quot;: 69889,\r\n    &quot;NONE&quot;: 69623,\r\n    &quot;LAYER_5&quot;: 75124\r\n  }\r\n}\r\n```\r\n\r\nIn this example, I would like to rank users from highest to lowest on the weaponMasteryLevels, statistics &amp; mobKills subfields. For example, there should be a separate ranking for mobKills.LAYER_1, mobKills.LAYER_2, mobKills.LAYER_3, etc...\r\n\r\nThat said, I have written some java code using the sync driver to perform an aggregate query that will pull and sort the data I need:\r\n```\r\n// &quot;field&quot; variable is equal to whatever field I am ranking at the moment (ie: mobkills.LAYER_1)\r\nAggregateIterable&lt;Document&gt; aggregate = registry.aggregate(Arrays.asList(\r\n                Aggregates.sort(Sorts.descending(field)),\r\n                Aggregates.project(Projections.include(&quot;_id&quot;, field)) \r\n        )).batchSize(MAX_RESULTS + 1)\r\n```\r\nThis works, but is a bit slow for my liking. Using some generated data, it takes roughly 1000 - 2000ms to run this aggregate query per field, for around 15,000 users.\r\n\r\nWhat would be some recommended ways to optimize my query? \r\n\r\nNOTE: I have tried creating indices for each field, but I run into 2 issues:\r\n1. The query doesn&#39;t seem to be running much faster, I suspect that I&#39;m doing something wrong.\r\n2. The number of fields I need to sort on (140) exceeds the maximum amount of indices that MongoDB allows (64), therefore, I cannot create an index for each field.","title":"Optimize Aggregate Query MongoDB","body":"<p>I am creating a leaderboard to rank users on multiple different activities. There are roughly 140 different activities that users will need to be ranked on. For brevity, here is an example of what my user data looks like:</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;$binary&quot;: {\n      &quot;base64&quot;: &quot;pADjWT71RgKLeSo5bxm2GQ==&quot;,\n      &quot;subType&quot;: &quot;04&quot;\n    }\n  },\n  &quot;weaponMasteryLevels&quot;: {\n    &quot;SCYTHE&quot;: 3,\n    &quot;AXE&quot;: 46,\n    &quot;STAFF&quot;: 14,\n    &quot;SWORD&quot;: 67\n  },\n  &quot;statistics&quot;: {\n    &quot;SUCCESSFUL_TRIALS&quot;: 35288,\n    &quot;PLAYER_KILLS&quot;: 48157\n  },\n  &quot;mobKills&quot;: {\n    &quot;LAYER_1&quot;: 41769,\n    &quot;LAYER_3&quot;: 3895,\n    &quot;LAYER_4&quot;: 49093,\n    &quot;LAYER_2&quot;: 69889,\n    &quot;NONE&quot;: 69623,\n    &quot;LAYER_5&quot;: 75124\n  }\n}\n</code></pre>\n<p>In this example, I would like to rank users from highest to lowest on the weaponMasteryLevels, statistics &amp; mobKills subfields. For example, there should be a separate ranking for mobKills.LAYER_1, mobKills.LAYER_2, mobKills.LAYER_3, etc...</p>\n<p>That said, I have written some java code using the sync driver to perform an aggregate query that will pull and sort the data I need:</p>\n<pre><code>// &quot;field&quot; variable is equal to whatever field I am ranking at the moment (ie: mobkills.LAYER_1)\nAggregateIterable&lt;Document&gt; aggregate = registry.aggregate(Arrays.asList(\n                Aggregates.sort(Sorts.descending(field)),\n                Aggregates.project(Projections.include(&quot;_id&quot;, field)) \n        )).batchSize(MAX_RESULTS + 1)\n</code></pre>\n<p>This works, but is a bit slow for my liking. Using some generated data, it takes roughly 1000 - 2000ms to run this aggregate query per field, for around 15,000 users.</p>\n<p>What would be some recommended ways to optimize my query?</p>\n<p>NOTE: I have tried creating indices for each field, but I run into 2 issues:</p>\n<ol>\n<li>The query doesn't seem to be running much faster, I suspect that I'm doing something wrong.</li>\n<li>The number of fields I need to sort on (140) exceeds the maximum amount of indices that MongoDB allows (64), therefore, I cannot create an index for each field.</li>\n</ol>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1692933045,"post_id":76974016,"comment_id":135694781,"body_markdown":"What UI framework are you using? Jetpack compose or XML layout?","body":"What UI framework are you using? Jetpack compose or XML layout?"}],"answers":[{"tags":[],"owner":{"account_id":28756046,"reputation":21,"user_id":22023060,"display_name":"Boris Gabyshev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692936258,"creation_date":1692936258,"answer_id":76974183,"question_id":76974016,"body_markdown":"----------\r\nThe top part is called the Action Bar. One solution for you is to make the change inside the onCreate method.:\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n  \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n  \r\n        // Define ActionBar object\r\n        ActionBar actionBar;\r\n        actionBar = getSupportActionBar();\r\n  \r\n        // Define ColorDrawable object and parse color\r\n        // using parseColor method\r\n        // with color hash code as its parameter\r\n        ColorDrawable colorDrawable\r\n            = new ColorDrawable(Color.parseColor(&quot;#0F9D58&quot;));\r\n  \r\n        // Set BackgroundDrawable\r\n        actionBar.setBackgroundDrawable(colorDrawable);\r\n    }\r\n}\r\n\r\nThere is also a way to change the color by modifying the colorPrimary item in your styles.xml. You can read more about it here: https://www.geeksforgeeks.org/how-to-change-the-color-of-action-bar-in-an-android-app/\r\n\r\n----------\r\n","title":"How to change color of the top part of screen","body":"<hr />\n<p>The top part is called the Action Bar. One solution for you is to make the change inside the onCreate method.:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // Define ActionBar object\n    ActionBar actionBar;\n    actionBar = getSupportActionBar();\n\n    // Define ColorDrawable object and parse color\n    // using parseColor method\n    // with color hash code as its parameter\n    ColorDrawable colorDrawable\n        = new ColorDrawable(Color.parseColor(&quot;#0F9D58&quot;));\n\n    // Set BackgroundDrawable\n    actionBar.setBackgroundDrawable(colorDrawable);\n}\n</code></pre>\n<p>}</p>\n<p>There is also a way to change the color by modifying the colorPrimary item in your styles.xml. You can read more about it here: <a href=\"https://www.geeksforgeeks.org/how-to-change-the-color-of-action-bar-in-an-android-app/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-change-the-color-of-action-bar-in-an-android-app/</a></p>\n<hr />\n"}],"owner":{"account_id":29019745,"reputation":21,"user_id":22229439,"display_name":"Kevin Rea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692936258,"creation_date":1692932829,"question_id":76974016,"body_markdown":"I&#39;m using Android studio the latest version and Java\r\nI&#39;d like to know what this top part that&#39;s in black on my screen is called, is it the app bar or what is it called? I&#39;d like to know how to change the color of it. That is the background color from black to something like blue. \r\n[enter image description here](https://i.stack.imgur.com/97h5b.jpg)\r\n\r\n\r\nI&#39;ve tried looking on YouTube videos but I haven&#39;t found anything","title":"How to change color of the top part of screen","body":"<p>I'm using Android studio the latest version and Java\nI'd like to know what this top part that's in black on my screen is called, is it the app bar or what is it called? I'd like to know how to change the color of it. That is the background color from black to something like blue.\n<a href=\"https://i.stack.imgur.com/97h5b.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I've tried looking on YouTube videos but I haven't found anything</p>\n"},{"tags":["java","static","singleton","lazy-initialization","static-block"],"comments":[{"owner":{"account_id":4029042,"reputation":145,"user_id":3315970,"display_name":"BlackBeard"},"score":0,"creation_date":1395209285,"post_id":22497497,"comment_id":34227742,"body_markdown":"**NOTE:** static blocks can access only static variables defined outside static block directly","body":"<b>NOTE:</b> static blocks can access only static variables defined outside static block directly"}],"answers":[{"tags":[],"owner":{"account_id":2686520,"reputation":14490,"user_id":2320817,"accept_rate":50,"display_name":"kalyan pvs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395209774,"creation_date":1395208969,"answer_id":22497574,"question_id":22497497,"body_markdown":"make your class like this \r\n\r\n    public class Singleton {\r\n\r\n\tprivate Singleton() {\r\n\r\n\t}\r\n\r\n\tprivate static Singleton instance;\r\n\r\n\tpublic static Singleton getInstance() {\r\n\t\tif (instance == null) {\r\n\t\t\tinstance = new Singleton();\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n\r\n    }\r\n\r\nand call it like..\r\n\r\n    Singleton instance = Singleton.getInstance();\r\n\r\n","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>make your class like this </p>\n\n<pre><code>public class Singleton {\n\nprivate Singleton() {\n\n}\n\nprivate static Singleton instance;\n\npublic static Singleton getInstance() {\n    if (instance == null) {\n        instance = new Singleton();\n    }\n    return instance;\n}\n\n}\n</code></pre>\n\n<p>and call it like..</p>\n\n<pre><code>Singleton instance = Singleton.getInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4194461,"reputation":497,"user_id":3436179,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1450204117,"creation_date":1395209544,"answer_id":22497718,"question_id":22497497,"body_markdown":" 1. Synchronized Accessor\r\n\r\n        public class Singleton {\r\n            private static Singleton instance;\r\n            \r\n            public static synchronized Singleton getInstance() {\r\n                if (instance == null) {\r\n                    instance = new Singleton();\r\n                }\r\n                return instance;\r\n            }\r\n        }\r\n\r\n - lazy load\r\n - low perfomance\r\n\r\n 2. Double Checked Locking &amp; volatile\r\n\r\n\r\n        public class Singleton {\r\n            private static volatile Singleton instance;\r\n            public static Singleton getInstance() {\r\n                Singleton localInstance = instance;\r\n                if (localInstance == null) {\r\n                    synchronized (Singleton.class) {\r\n                        localInstance = instance;\r\n                        if (localInstance == null) {\r\n                            instance = localInstance = new Singleton();\r\n                        }\r\n                    }\r\n                }\r\n                return localInstance;\r\n            }\r\n        }\r\n\r\n\r\n - lazy load\r\n - high perfomance\r\n - JDK should be 1,5 ++\r\n\r\n 3. On Demand Holder idiom\r\n\r\n        public class Singleton {\r\n        \r\n            public static class SingletonHolder {\r\n                public static final Singleton HOLDER_INSTANCE = new Singleton();\r\n            }\r\n        \r\n            public static Singleton getInstance() {\r\n                return SingletonHolder.HOLDER_INSTANCE;\r\n            }\r\n        }\r\n\r\n - lazy load\r\n - high performance\r\n - cant be used for non static class fields\r\n","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<ol>\n<li><p>Synchronized Accessor</p>\n\n<pre><code>public class Singleton {\n    private static Singleton instance;\n\n    public static synchronized Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n        }\n        return instance;\n    }\n}\n</code></pre>\n\n<ul>\n<li>lazy load</li>\n<li>low perfomance</li>\n</ul></li>\n<li><p>Double Checked Locking &amp; volatile</p>\n\n<pre><code>public class Singleton {\n    private static volatile Singleton instance;\n    public static Singleton getInstance() {\n        Singleton localInstance = instance;\n        if (localInstance == null) {\n            synchronized (Singleton.class) {\n                localInstance = instance;\n                if (localInstance == null) {\n                    instance = localInstance = new Singleton();\n                }\n            }\n        }\n        return localInstance;\n    }\n}\n</code></pre>\n\n<ul>\n<li>lazy load</li>\n<li>high perfomance</li>\n<li>JDK should be 1,5 ++</li>\n</ul></li>\n<li><p>On Demand Holder idiom</p>\n\n<pre><code>public class Singleton {\n\n    public static class SingletonHolder {\n        public static final Singleton HOLDER_INSTANCE = new Singleton();\n    }\n\n    public static Singleton getInstance() {\n        return SingletonHolder.HOLDER_INSTANCE;\n    }\n}\n</code></pre>\n\n<ul>\n<li>lazy load</li>\n<li>high performance</li>\n<li>cant be used for non static class fields</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4029042,"reputation":145,"user_id":3315970,"display_name":"BlackBeard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395209644,"creation_date":1395209644,"answer_id":22497737,"question_id":22497497,"body_markdown":"NOTE: static blocks can access only static variables defined outside static block directly. The object you want to restrict to only one instance creation should be **static**.  Your first methods fails during compilation, second method requires you to create the object first&lt;br/&gt; Follow this approach:\r\n\r\n    class Singleton\r\n    {\r\n    private static Singleton instance;\r\n    private Singleton()\r\n    {\r\n    }\r\n    public static Singleton getInstance()\r\n    {\r\n        if(instance == null)\r\n             instance = new Singleton();\r\n        return instance;\r\n    }\r\n    }\r\n\r\nEnsure no creation of the object elsewhere, so change the constructor to private","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>NOTE: static blocks can access only static variables defined outside static block directly. The object you want to restrict to only one instance creation should be <strong>static</strong>.  Your first methods fails during compilation, second method requires you to create the object first<br/> Follow this approach:</p>\n\n<pre><code>class Singleton\n{\nprivate static Singleton instance;\nprivate Singleton()\n{\n}\npublic static Singleton getInstance()\n{\n    if(instance == null)\n         instance = new Singleton();\n    return instance;\n}\n}\n</code></pre>\n\n<p>Ensure no creation of the object elsewhere, so change the constructor to private</p>\n"},{"tags":[],"owner":{"account_id":2739485,"reputation":116,"user_id":2361333,"display_name":"vanDer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1395209867,"creation_date":1395209867,"answer_id":22497800,"question_id":22497497,"body_markdown":"First one is eager initialisation.\r\neager initialization creates the instance even before it’s being used and that is not the best practice to use.\r\n\r\n\r\nSecond one is Lazy Initialization.\r\nLazy implementation works fine incase of single threaded environment but when it comes to multithreaded systems, it can cause issues if multiple threads are inside the if loop at the same time. It will destroy the singleton pattern and both threads will get the different instances of singleton class.\r\n\r\nPlease visit: http://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-with-examples#static-block-initialization for more information\r\n\r\n","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>First one is eager initialisation.\neager initialization creates the instance even before it’s being used and that is not the best practice to use.</p>\n\n<p>Second one is Lazy Initialization.\nLazy implementation works fine incase of single threaded environment but when it comes to multithreaded systems, it can cause issues if multiple threads are inside the if loop at the same time. It will destroy the singleton pattern and both threads will get the different instances of singleton class.</p>\n\n<p>Please visit: <a href=\"http://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-with-examples#static-block-initialization\" rel=\"noreferrer\">http://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-with-examples#static-block-initialization</a> for more information</p>\n"},{"tags":[],"owner":{"account_id":3892026,"reputation":31,"user_id":3221941,"display_name":"Koz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538010558,"creation_date":1538010558,"answer_id":52528010,"question_id":22497497,"body_markdown":"Static initializers cannot throw exceptions and absorb RuntimeExceptions into ClassDefNotFoundException, which does not halt execution.  So you could see lots of \r\nClassDefNotFoundException&#39;s in your logs and you might not even realize something is wrong until much later because execution continues.\r\n\r\nThe 2nd method allows RuntimeExceptions to stop execution.\r\n\r\nMore details here:\r\nhttps://twasink.net/2006/07/07/how-not-to-handle-exceptions-from-static-code-block-in-java/","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>Static initializers cannot throw exceptions and absorb RuntimeExceptions into ClassDefNotFoundException, which does not halt execution.  So you could see lots of \nClassDefNotFoundException's in your logs and you might not even realize something is wrong until much later because execution continues.</p>\n\n<p>The 2nd method allows RuntimeExceptions to stop execution.</p>\n\n<p>More details here:\n<a href=\"https://twasink.net/2006/07/07/how-not-to-handle-exceptions-from-static-code-block-in-java/\" rel=\"nofollow noreferrer\">https://twasink.net/2006/07/07/how-not-to-handle-exceptions-from-static-code-block-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692936210,"creation_date":1657165037,"answer_id":72892026,"question_id":22497497,"body_markdown":"\r\nUse static block if you need some things to be initliazedz when the app starts. f.ex, one may want to load some properties from some file that do useful stuff....etc \r\n\r\n        static {\r\n        instance = new Singleton();\r\n        loadStuff();\r\n    }\r\n\r\n\r\n\r\n\r\nUse lazy initialization \r\n\r\n    class Singleton {\r\n        private Singleton instance;\r\n        public Singleton getInstance(){\r\n            if (instance == null) instance = new Singleton();\r\n            loadStuff()\r\n            return instance;\r\n        }\r\n    }\r\n\r\nand loadStuff will only be triggered when the `Singleton.getInstance()` is first called. ","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>Use static block if you need some things to be initliazedz when the app starts. f.ex, one may want to load some properties from some file that do useful stuff....etc</p>\n<pre><code>    static {\n    instance = new Singleton();\n    loadStuff();\n}\n</code></pre>\n<p>Use lazy initialization</p>\n<pre><code>class Singleton {\n    private Singleton instance;\n    public Singleton getInstance(){\n        if (instance == null) instance = new Singleton();\n        loadStuff()\n        return instance;\n    }\n}\n</code></pre>\n<p>and loadStuff will only be triggered when the <code>Singleton.getInstance()</code> is first called.</p>\n"}],"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6834,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":22497718,"answer_count":6,"score":7,"last_activity_date":1692936210,"creation_date":1395208719,"question_id":22497497,"body_markdown":"Below are two ways to implement a singleton. What are the advantages and disadvantages of each?\r\n\r\nStatic initialization:\r\n\r\n    class Singleton {\r\n        private Singleton instance;\r\n        static {\r\n            instance = new Singleton();\r\n        }\r\n        public Singleton getInstance() {\r\n            return instance;\r\n        }\r\n    }\r\n\r\nLazy initialization is:\r\n\r\n    class Singleton {\r\n        private Singleton instance;\r\n        public Singleton getInstance(){\r\n            if (instance == null) instance = new Singleton();\r\n            return instance;\r\n        }\r\n    }","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>Below are two ways to implement a singleton. What are the advantages and disadvantages of each?</p>\n\n<p>Static initialization:</p>\n\n<pre><code>class Singleton {\n    private Singleton instance;\n    static {\n        instance = new Singleton();\n    }\n    public Singleton getInstance() {\n        return instance;\n    }\n}\n</code></pre>\n\n<p>Lazy initialization is:</p>\n\n<pre><code>class Singleton {\n    private Singleton instance;\n    public Singleton getInstance(){\n        if (instance == null) instance = new Singleton();\n        return instance;\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","fibonacci"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692920543,"post_id":76971252,"comment_id":135693752,"body_markdown":"Don&#39;t call the recursion twice! Recursive Fibonacci ias bad enough already without making it twice as slow.","body":"Don&#39;t call the recursion twice! Recursive Fibonacci ias bad enough already without making it twice as slow."}],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692895672,"creation_date":1692895672,"answer_id":76971427,"question_id":76971252,"body_markdown":"If you extract the `print` statement out of the `if-else`, then the recursive call will happen first and print afterwards (so you will print the results of `n-1` and `n-2` before printing the result of `n`). In that way you obtain the desired result.\r\n\r\n```\r\nclass Fibonacci {\r\n\r\n    //Your code starts here\r\n    public int recFib(int n) {\r\n        int result;\r\n        if (n &lt;= 1) {\r\n            result = n;\r\n        } else {\r\n            result = recFib(n - 1) + recFib(n - 2);\r\n        }\r\n        System.out.println(&quot;Fib(&quot; + n + &quot;) is: &quot; + result);\r\n        return result;\r\n    }\r\n    // your code ends here\r\n}\r\n\r\n```\r\nThis results in \r\n\r\n```\r\nRec results is \r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(1) is: 1\r\nFib(3) is: 2\r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(4) is: 3\r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(1) is: 1\r\nFib(3) is: 2\r\nFib(5) is: 5\r\n```\r\n\r\nGood luck with the class!","title":"Printing the recursive calls for fibonnaci numbers","body":"<p>If you extract the <code>print</code> statement out of the <code>if-else</code>, then the recursive call will happen first and print afterwards (so you will print the results of <code>n-1</code> and <code>n-2</code> before printing the result of <code>n</code>). In that way you obtain the desired result.</p>\n<pre><code>class Fibonacci {\n\n    //Your code starts here\n    public int recFib(int n) {\n        int result;\n        if (n &lt;= 1) {\n            result = n;\n        } else {\n            result = recFib(n - 1) + recFib(n - 2);\n        }\n        System.out.println(&quot;Fib(&quot; + n + &quot;) is: &quot; + result);\n        return result;\n    }\n    // your code ends here\n}\n\n</code></pre>\n<p>This results in</p>\n<pre><code>Rec results is \nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(1) is: 1\nFib(3) is: 2\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(4) is: 3\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(1) is: 1\nFib(3) is: 2\nFib(5) is: 5\n</code></pre>\n<p>Good luck with the class!</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692918012,"creation_date":1692918012,"answer_id":76973331,"question_id":76971252,"body_markdown":"The trick is to reduce `n` until it equals `1` and then print the the desired values in reverse order.  So I reversed your conditional to compute the `nth` fibonacci value.\r\n```\r\npublic static int recFib(int n) {\r\n   int result = n;\r\n   if (n &gt; 1) {\r\n       result = recFib(n-1) + recFib(n-2);\r\n   }\r\n   System.out.printf(&quot;Fib(%d) is %d%n&quot;, n, result);\r\n   return result;\r\n}","title":"Printing the recursive calls for fibonnaci numbers","body":"<p>The trick is to reduce <code>n</code> until it equals <code>1</code> and then print the the desired values in reverse order.  So I reversed your conditional to compute the <code>nth</code> fibonacci value.</p>\n<pre><code>public static int recFib(int n) {\n   int result = n;\n   if (n &gt; 1) {\n       result = recFib(n-1) + recFib(n-2);\n   }\n   System.out.printf(&quot;Fib(%d) is %d%n&quot;, n, result);\n   return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692935211,"creation_date":1692935211,"answer_id":76974141,"question_id":76971252,"body_markdown":"Print statement should be out of if-else statement:\r\n\r\n```\r\n    public int recFib(int n) {\r\n        int result;\r\n        if (n &lt;= 1) {\r\n            result = n;\r\n        } else {\r\n            result = recFib(n - 1) + recFib(n - 2);\r\n        }\r\n        System.out.printf(&quot;Fib(%d) is: %d\\n&quot;, n, result);\r\n        return result;\r\n    }\r\n```","title":"Printing the recursive calls for fibonnaci numbers","body":"<p>Print statement should be out of if-else statement:</p>\n<pre><code>    public int recFib(int n) {\n        int result;\n        if (n &lt;= 1) {\n            result = n;\n        } else {\n            result = recFib(n - 1) + recFib(n - 2);\n        }\n        System.out.printf(&quot;Fib(%d) is: %d\\n&quot;, n, result);\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":26674432,"reputation":11,"user_id":20285401,"display_name":"nate998"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692935211,"creation_date":1692894376,"question_id":76971252,"body_markdown":"How to print the result of the fibonnaci recursive calls such that the output looks like this\r\n\r\n\r\nRec results is \r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(1) is: 1\r\nFib(3) is: 2\r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(4) is: 3\r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(1) is: 1\r\nFib(3) is: 2\r\nFib(5) is: 5\r\n\r\nHere is my code \r\n\r\n```\r\npublic class Test {\r\n   public static void main(String[] args) {\r\n\r\n      Fibonacci fib = new Fibonacci();\r\n      System.out.println(&quot;Rec results is &quot;);\r\n      fib.recFib(5);\r\n\r\n   }\r\n}\r\n\r\nclass Fibonacci {\r\n   \r\n     //Your code starts here\r\n      public int recFib(int n){\r\n         \r\n         if(n &lt;= 1) {\r\n            return n;\r\n         }\r\n         else {\r\n            int result = recFib(n -1) + recFib(n-2);\r\n            //System.out.println(&quot;Fib(&quot;+ n +&quot;) is: &quot;+ result);\r\n            return recFib(n -1) + recFib(n-2);\r\n         }\r\n      }\r\n   // your code ends here\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have tried to put the print statement in different locations but never am able to get the proper output. This is not a homework question but part of a class lesson so hopefully you guys can help me understand it better. I believe you can only use one print statement.","title":"Printing the recursive calls for fibonnaci numbers","body":"<p>How to print the result of the fibonnaci recursive calls such that the output looks like this</p>\n<p>Rec results is\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(1) is: 1\nFib(3) is: 2\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(4) is: 3\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(1) is: 1\nFib(3) is: 2\nFib(5) is: 5</p>\n<p>Here is my code</p>\n<pre><code>public class Test {\n   public static void main(String[] args) {\n\n      Fibonacci fib = new Fibonacci();\n      System.out.println(&quot;Rec results is &quot;);\n      fib.recFib(5);\n\n   }\n}\n\nclass Fibonacci {\n   \n     //Your code starts here\n      public int recFib(int n){\n         \n         if(n &lt;= 1) {\n            return n;\n         }\n         else {\n            int result = recFib(n -1) + recFib(n-2);\n            //System.out.println(&quot;Fib(&quot;+ n +&quot;) is: &quot;+ result);\n            return recFib(n -1) + recFib(n-2);\n         }\n      }\n   // your code ends here\n\n}\n</code></pre>\n<p>I have tried to put the print statement in different locations but never am able to get the proper output. This is not a homework question but part of a class lesson so hopefully you guys can help me understand it better. I believe you can only use one print statement.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692950436,"post_id":76974043,"comment_id":135697074,"body_markdown":"What IDE are you using? In case of IntelliJ, did you try to repair it?","body":"What IDE are you using? In case of IntelliJ, did you try to repair it?"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1692950682,"post_id":76974043,"comment_id":135697134,"body_markdown":"Package visibility rules are not related to the version of Spring Boot: they depends on the classpath of Java only so there is certainly some other change you have made.","body":"Package visibility rules are not related to the version of Spring Boot: they depends on the classpath of Java only so there is certainly some other change you have made."}],"owner":{"account_id":25929520,"reputation":1,"user_id":19650844,"display_name":"lalala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692934537,"creation_date":1692933291,"question_id":76974043,"body_markdown":"Here is my project structure\r\n\r\n```\r\nappName\r\n --- model\r\n     --- src\r\n         ---- main\r\n              --- basePackageName\r\n                  ---packageOne\r\n --- service\r\n    --- src\r\n        ---- main\r\n             ---- basePackageName\r\n                  ---packageTwo\r\n```\r\n\r\nI want to use packageOne in my packageTwo, and i can import packageOne properly when I was on spring boot version 2.1.6.RELEASE but after upgraded to 2.6.7, all packageOne imports are greyed out and gradle build gave me a symbol can&#39;t resolve error as it thinks packageOne doesn&#39;t exist.\r\n\r\nI have made sure the @SpringBootApplication annotation is there and both packageOne and packageTwo share same prefix:com.example.packageOne and com.example.packageTwo.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n    }\r\n}\r\n```\r\n\r\nany thoughts are welcomed, thanks.","title":"spring boot can&#39;t import package which in same project but different folder","body":"<p>Here is my project structure</p>\n<pre><code>appName\n --- model\n     --- src\n         ---- main\n              --- basePackageName\n                  ---packageOne\n --- service\n    --- src\n        ---- main\n             ---- basePackageName\n                  ---packageTwo\n</code></pre>\n<p>I want to use packageOne in my packageTwo, and i can import packageOne properly when I was on spring boot version 2.1.6.RELEASE but after upgraded to 2.6.7, all packageOne imports are greyed out and gradle build gave me a symbol can't resolve error as it thinks packageOne doesn't exist.</p>\n<p>I have made sure the @SpringBootApplication annotation is there and both packageOne and packageTwo share same prefix:com.example.packageOne and com.example.packageTwo.</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n    \n    public static void main(String[] args) {\n        \n    }\n}\n</code></pre>\n<p>any thoughts are welcomed, thanks.</p>\n"},{"tags":["java","spring-boot","redis","redisson"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692932188,"creation_date":1654222498,"question_id":72484061,"body_markdown":"Today I start the spring boot project in MacBook Pro with M1 pro(with 8 performance core and 2 efficient core), shows error:\r\n\r\n\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;redissonClient&#39; defined in class path resource [misc/redisson/RedissonConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method &#39;redissonClient&#39; threw exception; nested exception is org.redisson.client.RedisConnectionException: Unable to init enough connections amount! Only 10 of 24 were initialized. Redis server: cruise-redis-master.reddwarf-cache.svc.cluster.local/10.108.202.100:6379\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\r\n\r\n\r\nthe remote redis was a single redis master server with 2 slaves. my redission config look like this:\r\n\r\n\r\n\r\n\r\n    package misc.redisson;\r\n    \r\n    \r\n    import org.redisson.Redisson;\r\n    import org.redisson.api.RedissonClient;\r\n    import org.redisson.config.Config;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    /**\r\n     * @author dolphin\r\n     * @version 1.0\r\n     * @date: 2020/9/5 9:50 \r\n     */\r\n    @Configuration\r\n    public class RedissonConfig {\r\n    \r\n        @Value(value = &quot;${spring.redis.host}&quot;)\r\n        private String redisHost;\r\n        @Value(value = &quot;${spring.redis.port:6379}&quot;)\r\n        private Integer redisPort;\r\n        @Value(value = &quot;${spring.redis.timeout:2000}&quot;)\r\n        private Integer redisTimeOut;\r\n        @Value(value = &quot;${spring.redis.password}&quot;)\r\n        private String redisPwd;\r\n    \r\n    \r\n        @Bean(name = &quot;redissonClient&quot;)\r\n        public RedissonClient redissonClient() {\r\n            Config config = new Config();\r\n            config.useSingleServer()\r\n                    .setAddress(&quot;redis://&quot; + redisHost + &quot;:&quot; + redisPort)\r\n                    .setPassword(redisPwd)\r\n                    .setTimeout(redisTimeOut)\r\n                    .setDatabase(1);\r\n            RedissonClient redissonClient = Redisson.create(config);\r\n            return redissonClient;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nand the redis server(2Core and 8GB memory in the cloud) max client config:\r\n\r\n\r\n\r\n\r\n    connected_clients\r\n    120\r\n    cluster_connections\r\n    0\r\n    maxclients\r\n    10000\r\n\r\n\r\nthe remote server was a single kubernetes node, and connected local machine and remote server by telepresence. why did this happen? what should I do to fixed this problem?\r\n\r\n","title":"RedisConnectionException: Unable to init enough connections amount","body":"<p>Today I start the spring boot project in MacBook Pro with M1 pro(with 8 performance core and 2 efficient core), shows error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redissonClient' defined in class path resource [misc/redisson/RedissonConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redissonClient' threw exception; nested exception is org.redisson.client.RedisConnectionException: Unable to init enough connections amount! Only 10 of 24 were initialized. Redis server: cruise-redis-master.reddwarf-cache.svc.cluster.local/10.108.202.100:6379\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\n</code></pre>\n<p>the remote redis was a single redis master server with 2 slaves. my redission config look like this:</p>\n<pre><code>package misc.redisson;\n\n\nimport org.redisson.Redisson;\nimport org.redisson.api.RedissonClient;\nimport org.redisson.config.Config;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n/**\n * @author dolphin\n * @version 1.0\n * @date: 2020/9/5 9:50 \n */\n@Configuration\npublic class RedissonConfig {\n\n    @Value(value = &quot;${spring.redis.host}&quot;)\n    private String redisHost;\n    @Value(value = &quot;${spring.redis.port:6379}&quot;)\n    private Integer redisPort;\n    @Value(value = &quot;${spring.redis.timeout:2000}&quot;)\n    private Integer redisTimeOut;\n    @Value(value = &quot;${spring.redis.password}&quot;)\n    private String redisPwd;\n\n\n    @Bean(name = &quot;redissonClient&quot;)\n    public RedissonClient redissonClient() {\n        Config config = new Config();\n        config.useSingleServer()\n                .setAddress(&quot;redis://&quot; + redisHost + &quot;:&quot; + redisPort)\n                .setPassword(redisPwd)\n                .setTimeout(redisTimeOut)\n                .setDatabase(1);\n        RedissonClient redissonClient = Redisson.create(config);\n        return redissonClient;\n    }\n}\n</code></pre>\n<p>and the redis server(2Core and 8GB memory in the cloud) max client config:</p>\n<pre><code>connected_clients\n120\ncluster_connections\n0\nmaxclients\n10000\n</code></pre>\n<p>the remote server was a single kubernetes node, and connected local machine and remote server by telepresence. why did this happen? what should I do to fixed this problem?</p>\n"},{"tags":["java","grpc-java","byte-buddy"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692716542,"post_id":76952120,"comment_id":135660717,"body_markdown":"Please, don&#39;t post images of text, but the text directly.","body":"Please, don&#39;t post images of text, but the text directly."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1692856340,"post_id":76952120,"comment_id":135681214,"body_markdown":"Did you check if the class in question is loaded by the child-first class loader? You can set `-Dnet.bytebuddy.dump=/some/folder` and investigate if the code in question was added as you expected to by using *javap*.","body":"Did you check if the class in question is loaded by the child-first class loader? You can set <code>-Dnet.bytebuddy.dump=&#47;some&#47;folder</code> and investigate if the code in question was added as you expected to by using <i>javap</i>."},{"owner":{"account_id":27723681,"reputation":1,"user_id":21163717,"display_name":"LaiJinWen"},"score":0,"creation_date":1692871486,"post_id":76952120,"comment_id":135683975,"body_markdown":"I have fix my enhancing code and now my problem is that I can`t new a instatnce","body":"I have fix my enhancing code and now my problem is that I can`t new a instatnce"}],"answers":[{"tags":[],"owner":{"account_id":27723681,"reputation":1,"user_id":21163717,"display_name":"LaiJinWen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692931859,"creation_date":1692931859,"answer_id":76973966,"question_id":76952120,"body_markdown":"       Class&lt;?&gt; type  =\r\n                new ByteBuddy()\r\n                .rebase(SmsProxyAPIGrpc.SmsProxyAPIBlockingStub.class)\r\n                        .constructor(ElementMatchers.isPublic())\r\n                        .intercept(\r\n                                MethodCall.invoke(\r\n                                        originalClass.getDeclaredConstructor(Channel.class, CallOptions.class))\r\n                                        .with(channel,callOptions)\r\n                        ) // 调用带参数的原始类构造函\r\n                .method(ElementMatchers.nameContains(&quot;sendSmsMessage&quot;))\r\n                .intercept(MethodDelegation.to(MonitorDemo.class))\r\n                .make()\r\n                .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.CHILD_FIRST_PERSISTENT)\r\n                .getLoaded();\r\n    It can work this way.The key is to make constructor public and mind the classloader.","title":"How to enhance a final and non-Interface class with the help of Byte Buddy","body":"<pre><code>   Class&lt;?&gt; type  =\n            new ByteBuddy()\n            .rebase(SmsProxyAPIGrpc.SmsProxyAPIBlockingStub.class)\n                    .constructor(ElementMatchers.isPublic())\n                    .intercept(\n                            MethodCall.invoke(\n                                    originalClass.getDeclaredConstructor(Channel.class, CallOptions.class))\n                                    .with(channel,callOptions)\n                    ) // 调用带参数的原始类构造函\n            .method(ElementMatchers.nameContains(&quot;sendSmsMessage&quot;))\n            .intercept(MethodDelegation.to(MonitorDemo.class))\n            .make()\n            .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.CHILD_FIRST_PERSISTENT)\n            .getLoaded();\nIt can work this way.The key is to make constructor public and mind the classloader.\n</code></pre>\n"}],"owner":{"account_id":27723681,"reputation":1,"user_id":21163717,"display_name":"LaiJinWen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692931859,"creation_date":1692698106,"question_id":76952120,"body_markdown":"Background:\r\nMy programe use gRPC to communicate.Now there are some special clints(or stubs),I want to do some logic (send an Mq message or restor it into db, so on~~)\r\n\r\nQustion:\r\n\r\n```\r\npublic static final class SmsProxyAPIStub extends io.grpc.stub.AbstractAsyncStub&lt;SmsProxyAPIStub&gt; {\r\n    private SmsProxyAPIStub(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      super(channel, callOptions);\r\n    }\r\n\r\n    @java.lang.Override\r\n    protected SmsProxyAPIStub build(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      return new SmsProxyAPIStub(channel, callOptions);\r\n    }\r\n\r\n    /**\r\n     */\r\n    public void sendSmsMessage1(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\r\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\r\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\r\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\r\n\r\npublic void sendSmsMessage2(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\r\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\r\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\r\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\r\n    }\r\n  }\r\n```\r\nfor the client class is embellished wiht final and does not implement any interface, then I have to choose Byte Buddy(which I am not familiar and my mission is out of time.)\r\n\r\n\r\n\r\n\r\nI have tried it :\r\n\r\n```\r\n   new ByteBuddy()\r\n                    .rebase(SmsProxyAPIGrpc.class)\r\n                            .constructor(ElementMatchers.isPrivate()) // 选择 private 构造函数\r\n                            .intercept(\r\n                                    MethodCall.invoke(\r\n                                            originalClass.getDeclaredConstructor(Channel.class, CallOptions.class))\r\n                                            .with(channel,callOptions)\r\n                            ) // 调用带参数的原始类构造函\r\n                    .method(ElementMatchers.nameContains(&quot;sendSmsMessage&quot;))\r\n                    .intercept(MethodDelegation.to(MonitorDemo.class))\r\n                    .make()\r\n                    .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.CHILD_FIRST)\r\n                    .getLoaded();\r\n```\r\n\r\nbut the generated code does contain my enhancing logic,\r\nbut when I \r\n```\r\nConstructor&lt;?&gt; constructor = type.getDeclaredConstructor(Channel.class, CallOptions.class).setAccessible(true);\r\nconstructor.newInstance(channel,callOptions);\r\n```\r\nit gets me  &#39;java.lang.reflect.InvocationTargetException:Caused by: java.lang.StackOverflowError\tat ird.ntp.be.sms.proto.SmsProxyAPIGrpc$SmsProxyAPIBlockingStub.&lt;init&gt;(SmsProxyAPIGrpc.java)&#39;\r\n\r\n I want to enhance SmsProxyAPIGrpc.SmsProxyAPIBlockingStub:\r\n\r\n  ```java\r\n@javax.annotation.Generated(\r\n    value = &quot;by gRPC proto compiler (version 1.51.1)&quot;,\r\n    comments = &quot;Source: ProxyAPI.proto&quot;)\r\n@io.grpc.stub.annotations.GrpcGenerated\r\npublic final class SmsProxyAPIGrpc {\r\n\r\n  private SmsProxyAPIGrpc() {}\r\n\r\n  public static final String SERVICE_NAME = &quot;ird.ntp.be.sms.v1.SmsProxyAPI&quot;;\r\n\r\n  // Static method descriptors that strictly reflect the proto.\r\n  private static volatile io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest,\r\n      ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod;\r\n\r\n  @io.grpc.stub.annotations.RpcMethod(\r\n      fullMethodName = SERVICE_NAME + &#39;/&#39; + &quot;SendSmsMessage&quot;,\r\n      requestType = ird.ntp.be.sms.proto.SendSmsMessageRequest.class,\r\n      responseType = ird.ntp.be.sms.proto.SendSmsMessageResponse.class,\r\n      methodType = io.grpc.MethodDescriptor.MethodType.UNARY)\r\n  public static io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest,\r\n      ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod() {\r\n    io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest, ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod;\r\n    if ((getSendSmsMessageMethod = SmsProxyAPIGrpc.getSendSmsMessageMethod) == null) {\r\n      synchronized (SmsProxyAPIGrpc.class) {\r\n        if ((getSendSmsMessageMethod = SmsProxyAPIGrpc.getSendSmsMessageMethod) == null) {\r\n          SmsProxyAPIGrpc.getSendSmsMessageMethod = getSendSmsMessageMethod =\r\n              io.grpc.MethodDescriptor.&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest, ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;newBuilder()\r\n              .setType(io.grpc.MethodDescriptor.MethodType.UNARY)\r\n              .setFullMethodName(generateFullMethodName(SERVICE_NAME, &quot;SendSmsMessage&quot;))\r\n              .setSampledToLocalTracing(true)\r\n              .setRequestMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\r\n                  ird.ntp.be.sms.proto.SendSmsMessageRequest.getDefaultInstance()))\r\n              .setResponseMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\r\n                  ird.ntp.be.sms.proto.SendSmsMessageResponse.getDefaultInstance()))\r\n              .setSchemaDescriptor(new SmsProxyAPIMethodDescriptorSupplier(&quot;SendSmsMessage&quot;))\r\n              .build();\r\n        }\r\n      }\r\n    }\r\n    return getSendSmsMessageMethod;\r\n  }\r\n\r\n  /**\r\n   * Creates a new async stub that supports all call types for the service\r\n   */\r\n  public static SmsProxyAPIStub newStub(io.grpc.Channel channel) {\r\n    io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIStub&gt; factory =\r\n      new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIStub&gt;() {\r\n        @java.lang.Override\r\n        public SmsProxyAPIStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n          return new SmsProxyAPIStub(channel, callOptions);\r\n        }\r\n      };\r\n    return SmsProxyAPIStub.newStub(factory, channel);\r\n  }\r\n\r\n  /**\r\n   * Creates a new blocking-style stub that supports unary and streaming output calls on the service\r\n   */\r\n  public static SmsProxyAPIBlockingStub newBlockingStub(\r\n      io.grpc.Channel channel) {\r\n    io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIBlockingStub&gt; factory =\r\n      new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIBlockingStub&gt;() {\r\n        @java.lang.Override\r\n        public SmsProxyAPIBlockingStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n          return new SmsProxyAPIBlockingStub(channel, callOptions);\r\n        }\r\n      };\r\n    return SmsProxyAPIBlockingStub.newStub(factory, channel);\r\n  }\r\n\r\n  /**\r\n   * Creates a new ListenableFuture-style stub that supports unary calls on the service\r\n   */\r\n  public static SmsProxyAPIFutureStub newFutureStub(\r\n      io.grpc.Channel channel) {\r\n    io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIFutureStub&gt; factory =\r\n      new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIFutureStub&gt;() {\r\n        @java.lang.Override\r\n        public SmsProxyAPIFutureStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n          return new SmsProxyAPIFutureStub(channel, callOptions);\r\n        }\r\n      };\r\n    return SmsProxyAPIFutureStub.newStub(factory, channel);\r\n  }\r\n\r\n  /**\r\n   * &lt;pre&gt;\r\n   * API interface and its request/response messages\r\n   * &lt;/pre&gt;\r\n   */\r\n  public static abstract class SmsProxyAPIImplBase implements io.grpc.BindableService {\r\n\r\n    /**\r\n     */\r\n    public void sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\r\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\r\n      io.grpc.stub.ServerCalls.asyncUnimplementedUnaryCall(getSendSmsMessageMethod(), responseObserver);\r\n    }\r\n\r\n    @java.lang.Override public final io.grpc.ServerServiceDefinition bindService() {\r\n      return io.grpc.ServerServiceDefinition.builder(getServiceDescriptor())\r\n          .addMethod(\r\n            getSendSmsMessageMethod(),\r\n            io.grpc.stub.ServerCalls.asyncUnaryCall(\r\n              new MethodHandlers&lt;\r\n                ird.ntp.be.sms.proto.SendSmsMessageRequest,\r\n                ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;(\r\n                  this, METHODID_SEND_SMS_MESSAGE)))\r\n          .build();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * &lt;pre&gt;\r\n   * API interface and its request/response messages\r\n   * &lt;/pre&gt;\r\n   */\r\n  public static final class SmsProxyAPIStub extends io.grpc.stub.AbstractAsyncStub&lt;SmsProxyAPIStub&gt; {\r\n    private SmsProxyAPIStub(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      super(channel, callOptions);\r\n    }\r\n\r\n    @java.lang.Override\r\n    protected SmsProxyAPIStub build(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      return new SmsProxyAPIStub(channel, callOptions);\r\n    }\r\n\r\n    /**\r\n     */\r\n    public void sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\r\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\r\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\r\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * &lt;pre&gt;\r\n   * API interface and its request/response messages\r\n   * &lt;/pre&gt;\r\n   */\r\n  public static final class SmsProxyAPIBlockingStub extends io.grpc.stub.AbstractBlockingStub&lt;SmsProxyAPIBlockingStub&gt; {\r\n    private SmsProxyAPIBlockingStub(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      super(channel, callOptions);\r\n    }\r\n\r\n    @java.lang.Override\r\n    protected SmsProxyAPIBlockingStub build(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      return new SmsProxyAPIBlockingStub(channel, callOptions);\r\n    }\r\n\r\n    /**\r\n     */\r\n    public ird.ntp.be.sms.proto.SendSmsMessageResponse sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request) {\r\n      return io.grpc.stub.ClientCalls.blockingUnaryCall(\r\n          getChannel(), getSendSmsMessageMethod(), getCallOptions(), request);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * &lt;pre&gt;\r\n   * API interface and its request/response messages\r\n   * &lt;/pre&gt;\r\n   */\r\n  public static final class SmsProxyAPIFutureStub extends io.grpc.stub.AbstractFutureStub&lt;SmsProxyAPIFutureStub&gt; {\r\n    private SmsProxyAPIFutureStub(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      super(channel, callOptions);\r\n    }\r\n\r\n    @java.lang.Override\r\n    protected SmsProxyAPIFutureStub build(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      return new SmsProxyAPIFutureStub(channel, callOptions);\r\n    }\r\n\r\n    /**\r\n     */\r\n    public com.google.common.util.concurrent.ListenableFuture&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; sendSmsMessage(\r\n        ird.ntp.be.sms.proto.SendSmsMessageRequest request) {\r\n      return io.grpc.stub.ClientCalls.futureUnaryCall(\r\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request);\r\n    }\r\n  }\r\n\r\n  private static final int METHODID_SEND_SMS_MESSAGE = 0;\r\n\r\n  private static final class MethodHandlers&lt;Req, Resp&gt; implements\r\n      io.grpc.stub.ServerCalls.UnaryMethod&lt;Req, Resp&gt;,\r\n      io.grpc.stub.ServerCalls.ServerStreamingMethod&lt;Req, Resp&gt;,\r\n      io.grpc.stub.ServerCalls.ClientStreamingMethod&lt;Req, Resp&gt;,\r\n      io.grpc.stub.ServerCalls.BidiStreamingMethod&lt;Req, Resp&gt; {\r\n    private final SmsProxyAPIImplBase serviceImpl;\r\n    private final int methodId;\r\n\r\n    MethodHandlers(SmsProxyAPIImplBase serviceImpl, int methodId) {\r\n      this.serviceImpl = serviceImpl;\r\n      this.methodId = methodId;\r\n    }\r\n\r\n    @java.lang.Override\r\n    @java.lang.SuppressWarnings(&quot;unchecked&quot;)\r\n    public void invoke(Req request, io.grpc.stub.StreamObserver&lt;Resp&gt; responseObserver) {\r\n      switch (methodId) {\r\n        case METHODID_SEND_SMS_MESSAGE:\r\n          serviceImpl.sendSmsMessage((ird.ntp.be.sms.proto.SendSmsMessageRequest) request,\r\n              (io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;) responseObserver);\r\n          break;\r\n        default:\r\n          throw new AssertionError();\r\n      }\r\n    }\r\n\r\n    @java.lang.Override\r\n    @java.lang.SuppressWarnings(&quot;unchecked&quot;)\r\n    public io.grpc.stub.StreamObserver&lt;Req&gt; invoke(\r\n        io.grpc.stub.StreamObserver&lt;Resp&gt; responseObserver) {\r\n      switch (methodId) {\r\n        default:\r\n          throw new AssertionError();\r\n      }\r\n    }\r\n  }\r\n\r\n  private static abstract class SmsProxyAPIBaseDescriptorSupplier\r\n      implements io.grpc.protobuf.ProtoFileDescriptorSupplier, io.grpc.protobuf.ProtoServiceDescriptorSupplier {\r\n    SmsProxyAPIBaseDescriptorSupplier() {}\r\n\r\n    @java.lang.Override\r\n    public com.google.protobuf.Descriptors.FileDescriptor getFileDescriptor() {\r\n      return ird.ntp.be.sms.proto.SmsProxyServiceProto.getDescriptor();\r\n    }\r\n\r\n    @java.lang.Override\r\n    public com.google.protobuf.Descriptors.ServiceDescriptor getServiceDescriptor() {\r\n      return getFileDescriptor().findServiceByName(&quot;SmsProxyAPI&quot;);\r\n    }\r\n  }\r\n\r\n  private static final class SmsProxyAPIFileDescriptorSupplier\r\n      extends SmsProxyAPIBaseDescriptorSupplier {\r\n    SmsProxyAPIFileDescriptorSupplier() {}\r\n  }\r\n\r\n  private static final class SmsProxyAPIMethodDescriptorSupplier\r\n      extends SmsProxyAPIBaseDescriptorSupplier\r\n      implements io.grpc.protobuf.ProtoMethodDescriptorSupplier {\r\n    private final String methodName;\r\n\r\n    SmsProxyAPIMethodDescriptorSupplier(String methodName) {\r\n      this.methodName = methodName;\r\n    }\r\n\r\n    @java.lang.Override\r\n    public com.google.protobuf.Descriptors.MethodDescriptor getMethodDescriptor() {\r\n      return getServiceDescriptor().findMethodByName(methodName);\r\n    }\r\n  }\r\n\r\n  private static volatile io.grpc.ServiceDescriptor serviceDescriptor;\r\n\r\n  public static io.grpc.ServiceDescriptor getServiceDescriptor() {\r\n    io.grpc.ServiceDescriptor result = serviceDescriptor;\r\n    if (result == null) {\r\n      synchronized (SmsProxyAPIGrpc.class) {\r\n        result = serviceDescriptor;\r\n        if (result == null) {\r\n          serviceDescriptor = result = io.grpc.ServiceDescriptor.newBuilder(SERVICE_NAME)\r\n              .setSchemaDescriptor(new SmsProxyAPIFileDescriptorSupplier())\r\n              .addMethod(getSendSmsMessageMethod())\r\n              .build();\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n}\r\n  ```\r\n\r\n\r\nI need some help.\r\nWish you good luck and be rich","title":"How to enhance a final and non-Interface class with the help of Byte Buddy","body":"<p>Background:\nMy programe use gRPC to communicate.Now there are some special clints(or stubs),I want to do some logic (send an Mq message or restor it into db, so on~~)</p>\n<p>Qustion:</p>\n<pre><code>public static final class SmsProxyAPIStub extends io.grpc.stub.AbstractAsyncStub&lt;SmsProxyAPIStub&gt; {\n    private SmsProxyAPIStub(\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n      super(channel, callOptions);\n    }\n\n    @java.lang.Override\n    protected SmsProxyAPIStub build(\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n      return new SmsProxyAPIStub(channel, callOptions);\n    }\n\n    /**\n     */\n    public void sendSmsMessage1(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\n\npublic void sendSmsMessage2(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\n    }\n  }\n</code></pre>\n<p>for the client class is embellished wiht final and does not implement any interface, then I have to choose Byte Buddy(which I am not familiar and my mission is out of time.)</p>\n<p>I have tried it :</p>\n<pre><code>   new ByteBuddy()\n                    .rebase(SmsProxyAPIGrpc.class)\n                            .constructor(ElementMatchers.isPrivate()) // 选择 private 构造函数\n                            .intercept(\n                                    MethodCall.invoke(\n                                            originalClass.getDeclaredConstructor(Channel.class, CallOptions.class))\n                                            .with(channel,callOptions)\n                            ) // 调用带参数的原始类构造函\n                    .method(ElementMatchers.nameContains(&quot;sendSmsMessage&quot;))\n                    .intercept(MethodDelegation.to(MonitorDemo.class))\n                    .make()\n                    .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.CHILD_FIRST)\n                    .getLoaded();\n</code></pre>\n<p>but the generated code does contain my enhancing logic,\nbut when I</p>\n<pre><code>Constructor&lt;?&gt; constructor = type.getDeclaredConstructor(Channel.class, CallOptions.class).setAccessible(true);\nconstructor.newInstance(channel,callOptions);\n</code></pre>\n<p>it gets me  'java.lang.reflect.InvocationTargetException:Caused by: java.lang.StackOverflowError    at ird.ntp.be.sms.proto.SmsProxyAPIGrpc$SmsProxyAPIBlockingStub.(SmsProxyAPIGrpc.java)'</p>\n<p>I want to enhance SmsProxyAPIGrpc.SmsProxyAPIBlockingStub:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.annotation.Generated(\n  value = &quot;by gRPC proto compiler (version 1.51.1)&quot;,\n  comments = &quot;Source: ProxyAPI.proto&quot;)\n@io.grpc.stub.annotations.GrpcGenerated\npublic final class SmsProxyAPIGrpc {\n\nprivate SmsProxyAPIGrpc() {}\n\npublic static final String SERVICE_NAME = &quot;ird.ntp.be.sms.v1.SmsProxyAPI&quot;;\n\n// Static method descriptors that strictly reflect the proto.\nprivate static volatile io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest,\n    ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod;\n\n@io.grpc.stub.annotations.RpcMethod(\n    fullMethodName = SERVICE_NAME + '/' + &quot;SendSmsMessage&quot;,\n    requestType = ird.ntp.be.sms.proto.SendSmsMessageRequest.class,\n    responseType = ird.ntp.be.sms.proto.SendSmsMessageResponse.class,\n    methodType = io.grpc.MethodDescriptor.MethodType.UNARY)\npublic static io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest,\n    ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod() {\n  io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest, ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod;\n  if ((getSendSmsMessageMethod = SmsProxyAPIGrpc.getSendSmsMessageMethod) == null) {\n    synchronized (SmsProxyAPIGrpc.class) {\n      if ((getSendSmsMessageMethod = SmsProxyAPIGrpc.getSendSmsMessageMethod) == null) {\n        SmsProxyAPIGrpc.getSendSmsMessageMethod = getSendSmsMessageMethod =\n            io.grpc.MethodDescriptor.&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest, ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;newBuilder()\n            .setType(io.grpc.MethodDescriptor.MethodType.UNARY)\n            .setFullMethodName(generateFullMethodName(SERVICE_NAME, &quot;SendSmsMessage&quot;))\n            .setSampledToLocalTracing(true)\n            .setRequestMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\n                ird.ntp.be.sms.proto.SendSmsMessageRequest.getDefaultInstance()))\n            .setResponseMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\n                ird.ntp.be.sms.proto.SendSmsMessageResponse.getDefaultInstance()))\n            .setSchemaDescriptor(new SmsProxyAPIMethodDescriptorSupplier(&quot;SendSmsMessage&quot;))\n            .build();\n      }\n    }\n  }\n  return getSendSmsMessageMethod;\n}\n\n/**\n * Creates a new async stub that supports all call types for the service\n */\npublic static SmsProxyAPIStub newStub(io.grpc.Channel channel) {\n  io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIStub&gt; factory =\n    new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIStub&gt;() {\n      @java.lang.Override\n      public SmsProxyAPIStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n        return new SmsProxyAPIStub(channel, callOptions);\n      }\n    };\n  return SmsProxyAPIStub.newStub(factory, channel);\n}\n\n/**\n * Creates a new blocking-style stub that supports unary and streaming output calls on the service\n */\npublic static SmsProxyAPIBlockingStub newBlockingStub(\n    io.grpc.Channel channel) {\n  io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIBlockingStub&gt; factory =\n    new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIBlockingStub&gt;() {\n      @java.lang.Override\n      public SmsProxyAPIBlockingStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n        return new SmsProxyAPIBlockingStub(channel, callOptions);\n      }\n    };\n  return SmsProxyAPIBlockingStub.newStub(factory, channel);\n}\n\n/**\n * Creates a new ListenableFuture-style stub that supports unary calls on the service\n */\npublic static SmsProxyAPIFutureStub newFutureStub(\n    io.grpc.Channel channel) {\n  io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIFutureStub&gt; factory =\n    new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIFutureStub&gt;() {\n      @java.lang.Override\n      public SmsProxyAPIFutureStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n        return new SmsProxyAPIFutureStub(channel, callOptions);\n      }\n    };\n  return SmsProxyAPIFutureStub.newStub(factory, channel);\n}\n\n/**\n * &lt;pre&gt;\n * API interface and its request/response messages\n * &lt;/pre&gt;\n */\npublic static abstract class SmsProxyAPIImplBase implements io.grpc.BindableService {\n\n  /**\n   */\n  public void sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\n      io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\n    io.grpc.stub.ServerCalls.asyncUnimplementedUnaryCall(getSendSmsMessageMethod(), responseObserver);\n  }\n\n  @java.lang.Override public final io.grpc.ServerServiceDefinition bindService() {\n    return io.grpc.ServerServiceDefinition.builder(getServiceDescriptor())\n        .addMethod(\n          getSendSmsMessageMethod(),\n          io.grpc.stub.ServerCalls.asyncUnaryCall(\n            new MethodHandlers&lt;\n              ird.ntp.be.sms.proto.SendSmsMessageRequest,\n              ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;(\n                this, METHODID_SEND_SMS_MESSAGE)))\n        .build();\n  }\n}\n\n/**\n * &lt;pre&gt;\n * API interface and its request/response messages\n * &lt;/pre&gt;\n */\npublic static final class SmsProxyAPIStub extends io.grpc.stub.AbstractAsyncStub&lt;SmsProxyAPIStub&gt; {\n  private SmsProxyAPIStub(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    super(channel, callOptions);\n  }\n\n  @java.lang.Override\n  protected SmsProxyAPIStub build(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    return new SmsProxyAPIStub(channel, callOptions);\n  }\n\n  /**\n   */\n  public void sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\n      io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\n    io.grpc.stub.ClientCalls.asyncUnaryCall(\n        getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\n  }\n}\n\n/**\n * &lt;pre&gt;\n * API interface and its request/response messages\n * &lt;/pre&gt;\n */\npublic static final class SmsProxyAPIBlockingStub extends io.grpc.stub.AbstractBlockingStub&lt;SmsProxyAPIBlockingStub&gt; {\n  private SmsProxyAPIBlockingStub(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    super(channel, callOptions);\n  }\n\n  @java.lang.Override\n  protected SmsProxyAPIBlockingStub build(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    return new SmsProxyAPIBlockingStub(channel, callOptions);\n  }\n\n  /**\n   */\n  public ird.ntp.be.sms.proto.SendSmsMessageResponse sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request) {\n    return io.grpc.stub.ClientCalls.blockingUnaryCall(\n        getChannel(), getSendSmsMessageMethod(), getCallOptions(), request);\n  }\n}\n\n/**\n * &lt;pre&gt;\n * API interface and its request/response messages\n * &lt;/pre&gt;\n */\npublic static final class SmsProxyAPIFutureStub extends io.grpc.stub.AbstractFutureStub&lt;SmsProxyAPIFutureStub&gt; {\n  private SmsProxyAPIFutureStub(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    super(channel, callOptions);\n  }\n\n  @java.lang.Override\n  protected SmsProxyAPIFutureStub build(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    return new SmsProxyAPIFutureStub(channel, callOptions);\n  }\n\n  /**\n   */\n  public com.google.common.util.concurrent.ListenableFuture&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; sendSmsMessage(\n      ird.ntp.be.sms.proto.SendSmsMessageRequest request) {\n    return io.grpc.stub.ClientCalls.futureUnaryCall(\n        getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request);\n  }\n}\n\nprivate static final int METHODID_SEND_SMS_MESSAGE = 0;\n\nprivate static final class MethodHandlers&lt;Req, Resp&gt; implements\n    io.grpc.stub.ServerCalls.UnaryMethod&lt;Req, Resp&gt;,\n    io.grpc.stub.ServerCalls.ServerStreamingMethod&lt;Req, Resp&gt;,\n    io.grpc.stub.ServerCalls.ClientStreamingMethod&lt;Req, Resp&gt;,\n    io.grpc.stub.ServerCalls.BidiStreamingMethod&lt;Req, Resp&gt; {\n  private final SmsProxyAPIImplBase serviceImpl;\n  private final int methodId;\n\n  MethodHandlers(SmsProxyAPIImplBase serviceImpl, int methodId) {\n    this.serviceImpl = serviceImpl;\n    this.methodId = methodId;\n  }\n\n  @java.lang.Override\n  @java.lang.SuppressWarnings(&quot;unchecked&quot;)\n  public void invoke(Req request, io.grpc.stub.StreamObserver&lt;Resp&gt; responseObserver) {\n    switch (methodId) {\n      case METHODID_SEND_SMS_MESSAGE:\n        serviceImpl.sendSmsMessage((ird.ntp.be.sms.proto.SendSmsMessageRequest) request,\n            (io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;) responseObserver);\n        break;\n      default:\n        throw new AssertionError();\n    }\n  }\n\n  @java.lang.Override\n  @java.lang.SuppressWarnings(&quot;unchecked&quot;)\n  public io.grpc.stub.StreamObserver&lt;Req&gt; invoke(\n      io.grpc.stub.StreamObserver&lt;Resp&gt; responseObserver) {\n    switch (methodId) {\n      default:\n        throw new AssertionError();\n    }\n  }\n}\n\nprivate static abstract class SmsProxyAPIBaseDescriptorSupplier\n    implements io.grpc.protobuf.ProtoFileDescriptorSupplier, io.grpc.protobuf.ProtoServiceDescriptorSupplier {\n  SmsProxyAPIBaseDescriptorSupplier() {}\n\n  @java.lang.Override\n  public com.google.protobuf.Descriptors.FileDescriptor getFileDescriptor() {\n    return ird.ntp.be.sms.proto.SmsProxyServiceProto.getDescriptor();\n  }\n\n  @java.lang.Override\n  public com.google.protobuf.Descriptors.ServiceDescriptor getServiceDescriptor() {\n    return getFileDescriptor().findServiceByName(&quot;SmsProxyAPI&quot;);\n  }\n}\n\nprivate static final class SmsProxyAPIFileDescriptorSupplier\n    extends SmsProxyAPIBaseDescriptorSupplier {\n  SmsProxyAPIFileDescriptorSupplier() {}\n}\n\nprivate static final class SmsProxyAPIMethodDescriptorSupplier\n    extends SmsProxyAPIBaseDescriptorSupplier\n    implements io.grpc.protobuf.ProtoMethodDescriptorSupplier {\n  private final String methodName;\n\n  SmsProxyAPIMethodDescriptorSupplier(String methodName) {\n    this.methodName = methodName;\n  }\n\n  @java.lang.Override\n  public com.google.protobuf.Descriptors.MethodDescriptor getMethodDescriptor() {\n    return getServiceDescriptor().findMethodByName(methodName);\n  }\n}\n\nprivate static volatile io.grpc.ServiceDescriptor serviceDescriptor;\n\npublic static io.grpc.ServiceDescriptor getServiceDescriptor() {\n  io.grpc.ServiceDescriptor result = serviceDescriptor;\n  if (result == null) {\n    synchronized (SmsProxyAPIGrpc.class) {\n      result = serviceDescriptor;\n      if (result == null) {\n        serviceDescriptor = result = io.grpc.ServiceDescriptor.newBuilder(SERVICE_NAME)\n            .setSchemaDescriptor(new SmsProxyAPIFileDescriptorSupplier())\n            .addMethod(getSendSmsMessageMethod())\n            .build();\n      }\n    }\n  }\n  return result;\n}\n}\n</code></pre>\n<p>I need some help.\nWish you good luck and be rich</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692847399,"post_id":76965932,"comment_id":135680452,"body_markdown":"I cannot reproduce the problem as I understand it ([see here](https://godbolt.org/z/qfdPGf1de)).","body":"I cannot reproduce the problem as I understand it (<a href=\"https://godbolt.org/z/qfdPGf1de\" rel=\"nofollow noreferrer\">see here</a>)."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1692848986,"post_id":76965932,"comment_id":135680552,"body_markdown":"@Slaw [This could be a reproducer](https://godbolt.org/z/cK66cTM1G). Or something completely different. Don&#39;t know.","body":"@Slaw <a href=\"https://godbolt.org/z/cK66cTM1G\" rel=\"nofollow noreferrer\">This could be a reproducer</a>. Or something completely different. Don&#39;t know."},{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":0,"creation_date":1692878551,"post_id":76965932,"comment_id":135685403,"body_markdown":"@Slaw The problem is not about deserializing the array. It is about deserializing SomeRecord. Note that I have tried unsuccessfully to reproduce the problem using a simple test. In my simple test, SomeType elements of the list are correctly initialized.","body":"@Slaw The problem is not about deserializing the array. It is about deserializing SomeRecord. Note that I have tried unsuccessfully to reproduce the problem using a simple test. In my simple test, SomeType elements of the list are correctly initialized."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693019006,"post_id":76965932,"comment_id":135708303,"body_markdown":"My code deserializes a record (not specifically named `SomeRecord`, but it&#39;s a record). The only explicit array in that code is a `byte[]`, which is the _serialized_ record that is then deserialized.","body":"My code deserializes a record (not specifically named <code>SomeRecord</code>, but it&#39;s a record). The only explicit array in that code is a <code>byte[]</code>, which is the <i>serialized</i> record that is then deserialized."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693019183,"post_id":76965932,"comment_id":135708310,"body_markdown":"Note: The answer which brought up [circular references with records and their unique(?) behavior regarding Java serialization](https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html#serialization-of-records) was deleted by a mod. Just want to point out that seems to be the only case where the record component will be null despite it _not_ being null when the record was serialized. From some tests, the only time I could seemingly reproduce the OP&#39;s error is when a record referenced itself or if it had a circular reference with another object.","body":"Note: The answer which brought up <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html#serialization-of-records\" rel=\"nofollow noreferrer\">circular references with records and their unique(?) behavior regarding Java serialization</a> was deleted by a mod. Just want to point out that seems to be the only case where the record component will be null despite it <i>not</i> being null when the record was serialized. From some tests, the only time I could seemingly reproduce the OP&#39;s error is when a record referenced itself or if it had a circular reference with another object."}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692847552,"creation_date":1692847552,"answer_id":76966055,"question_id":76965932,"body_markdown":"I&#39;m not sure I&#39;m completely following... how about a static creation method:\r\n```java\r\npublic static newSomeRecord(List&lt;SomeType&gt; list) {\r\n    validate(list);\r\n    return new SomeRecord(list);\r\n}\r\n```\r\nOr make the unused param do something:\r\n```java\r\npublic SomeRecord(List&lt;SomeType&gt; list, boolean shouldValidate) {\r\n    this(list);\r\n    if (shouldValidate) {\r\n        validate(list);\r\n    }\r\n}\r\n```\r\n__P.S.__  \r\nYour original class look like it wouldn&#39;t compile, since a non-compact constructor would have to explicitly do the assignment. Perhaps you meant the following:\r\n```java\r\nrecord SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\r\n    ...\r\n    public SomeRecord {\r\n        validate(list); // fails (null pointer exception)\r\n    }\r\n```","title":"Are Serialisable record canonical constructor limited in the validation they can perform?","body":"<p>I'm not sure I'm completely following... how about a static creation method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static newSomeRecord(List&lt;SomeType&gt; list) {\n    validate(list);\n    return new SomeRecord(list);\n}\n</code></pre>\n<p>Or make the unused param do something:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SomeRecord(List&lt;SomeType&gt; list, boolean shouldValidate) {\n    this(list);\n    if (shouldValidate) {\n        validate(list);\n    }\n}\n</code></pre>\n<p><strong>P.S.</strong><br />\nYour original class look like it wouldn't compile, since a non-compact constructor would have to explicitly do the assignment. Perhaps you meant the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\n    ...\n    public SomeRecord {\n        validate(list); // fails (null pointer exception)\n    }\n</code></pre>\n"}],"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692931414,"creation_date":1692844758,"question_id":76965932,"body_markdown":"I converted a class to a record and deserialization stopped working correctly because of the validation I perform in the canonical constructor. This validation assumes that the constructor parameters are fully constructed (deserialized).\r\n\r\n    record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\r\n  \t\t...\r\n     \tpublic SomeRecord {\r\n    \t\tvalidate(list); // fails (null pointer exception)\r\n    \t}\r\n    \r\n        private static void validate(List&lt;SomeType&gt; list) {\r\n    \t\t...\r\n        }\r\n    }\r\n\r\n\r\nIn the deserialization process, it seems that the SomeType elements in list are not fully constructed. My validation function fails because fields of the elements are all default initialised (0, false, null ...). To fix the problem, I created a new constructor with an extra unused parameter. This constructor validates the list.\r\n\r\n    record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\r\n  \t\t...\r\n     \tpublic SomeRecord(List&lt;SomeType&gt; list, boolean notUsed) {\r\n    \t\tthis(list);\r\n    \t\tvalidate(list);\r\n    \t}\r\n    \r\n        private static void validate(List&lt;SomeType&gt; list) {\r\n    \t\t...\r\n        }\r\n    }\r\n\r\nIt feel kind of clumsy to require an extra unused parameter to get a working solution. Is there another way to work around this problem?\r\n","title":"Are Serialisable record canonical constructor limited in the validation they can perform?","body":"<p>I converted a class to a record and deserialization stopped working correctly because of the validation I perform in the canonical constructor. This validation assumes that the constructor parameters are fully constructed (deserialized).</p>\n<pre><code>record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\n    ...\n    public SomeRecord {\n        validate(list); // fails (null pointer exception)\n    }\n\n    private static void validate(List&lt;SomeType&gt; list) {\n        ...\n    }\n}\n</code></pre>\n<p>In the deserialization process, it seems that the SomeType elements in list are not fully constructed. My validation function fails because fields of the elements are all default initialised (0, false, null ...). To fix the problem, I created a new constructor with an extra unused parameter. This constructor validates the list.</p>\n<pre><code>record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\n    ...\n    public SomeRecord(List&lt;SomeType&gt; list, boolean notUsed) {\n        this(list);\n        validate(list);\n    }\n\n    private static void validate(List&lt;SomeType&gt; list) {\n        ...\n    }\n}\n</code></pre>\n<p>It feel kind of clumsy to require an extra unused parameter to get a working solution. Is there another way to work around this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692774797,"post_id":76951039,"comment_id":135668589,"body_markdown":"`any` does not match `null`, could that be the problem?","body":"<code>any</code> does not match <code>null</code>, could that be the problem?"}],"answers":[{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692930723,"creation_date":1692908974,"answer_id":76972739,"question_id":76951039,"body_markdown":"I have had a similar problem with mocking a static method, there are a number of gotchas. I am using Junit 5, it is possible to have both Junit 5 and Junit 4 tests in the same project. (IntelliJ Idea asks what kind of test to create, you just select Junit 4 or Junit 5, and it works in either case.)\r\n\r\nAs I understand, that &quot;You cannot use argument matchers outside of verification or stubbing&quot; message is shown whenever mockito fails to find something for whatever reason. The &quot;one-fits-all&quot; error message may be very irrelevant and very confusing.\r\n\r\n1) Specify `mockito-inline` in _build.gradle_, preferably the latest version:\r\n```\r\ndependencies {\r\n    ...\r\n    testImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-inline&#39;, version: &#39;5.2.0&#39;\r\n    ...\r\n}\r\n```\r\n\r\n2) You have to use try-with-resources to create a mock for the class that defines a static method. The mock has to be &quot;closed&quot; after the test, and try-with-resources &quot;closes&quot; it. (See how `theMock` is used in the code below.)\r\n\r\n3) If a static method is inherited, it may look like there is no difference whether you use the base class name or the derived class name. In fact, there _is_ a difference: you must mock the class that _defines_ the static method rather than the class that _inherits_ it. (See `FooReaderBase` in the code below.)\r\n\r\n4) Use `any(MyClass.class)` instead of just `any()`\r\n\r\n5) Note how `readUrl()` is invoked in the code below. It is mocked explicitly, but invoked, well, somewhere in the called code. (See `ft` and `loadByNumber()`).\r\n\r\n6) In the code below we use `verify()` to make sure that the network query is made only once (it _is_ important that network queries do not repeat unnecessarily).\r\n\r\n7) One may argue that the example code must be refactored, that `readUrl()` must be defined in an interface, and `FooReaderBase` must implement that interface, and (optionally) `FooReader` must own a link to `FooReaderBase` rather than inherit from it. We would have singleton beans instead layers of static methods. Which approach to modularity should be preferred? It depends. A small project may have an implied non-functional requirement to be small (it may even be a shebang script), you may have no time to refactor the existing code, etc.\r\n\r\nWe want to test the following code:\r\n```\r\n    class FooReaderBase {\r\n        ...\r\n        static String readUrl(URL url) { ... }\r\n        // in tests, we must mock readUrl()\r\n        // because we do not want our tests to send queries via network\r\n    }\r\n\r\n    class FooReader extends FooReaderBase {\r\n        // inherits rather than defines readUrl()\r\n        ...\r\n        static MyDataStructure loadFoo(...) {\r\n            URL url = ...;\r\n            var jsonString = readUrl(url);\r\n            ...\r\n        }\r\n    }\r\n\r\n    class FooTraverser {\r\n        void loadByNumber(int n) {\r\n            ...\r\n            FooReader.loadFoo(...);\r\n            ...\r\n        }\r\n        // we want to test loadByNumber()\r\n    }\r\n\r\n```\r\nAnd the test is:\r\n```\r\nclass FooTraverserTest {\r\n    static final String jsonReply = &quot;{....}&quot;;\r\n\r\n    @Test\r\n    void loadByNumberTest() {\r\n        var ft = new FooTraverser();\r\n        try (\r\n            MockedStatic&lt;FooReaderBase&gt; theMock =\r\n                        Mockito.mockStatic(FooReaderBase.class)\r\n        ) {\r\n            theMock.when(\r\n                       () -&gt; FooReaderBase.readUrl(any(URL.class))\r\n                   )\r\n                   .thenReturn(jsonReply);\r\n\r\n            ft.loadByNumber(100);\r\n\r\n            assertEquals(...);\r\n            theMock.verify(\r\n                        () -&gt; FooReaderBase.readUrl(any(URL.class)),\r\n                        times(1)\r\n            ); // URL must be read only once!\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Unable to Mock Static Method Using PowerMock with &#39;any()&#39; Argument Matchers","body":"<p>I have had a similar problem with mocking a static method, there are a number of gotchas. I am using Junit 5, it is possible to have both Junit 5 and Junit 4 tests in the same project. (IntelliJ Idea asks what kind of test to create, you just select Junit 4 or Junit 5, and it works in either case.)</p>\n<p>As I understand, that &quot;You cannot use argument matchers outside of verification or stubbing&quot; message is shown whenever mockito fails to find something for whatever reason. The &quot;one-fits-all&quot; error message may be very irrelevant and very confusing.</p>\n<ol>\n<li>Specify <code>mockito-inline</code> in <em>build.gradle</em>, preferably the latest version:</li>\n</ol>\n<pre><code>dependencies {\n    ...\n    testImplementation group: 'org.mockito', name: 'mockito-inline', version: '5.2.0'\n    ...\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>You have to use try-with-resources to create a mock for the class that defines a static method. The mock has to be &quot;closed&quot; after the test, and try-with-resources &quot;closes&quot; it. (See how <code>theMock</code> is used in the code below.)</p>\n</li>\n<li><p>If a static method is inherited, it may look like there is no difference whether you use the base class name or the derived class name. In fact, there <em>is</em> a difference: you must mock the class that <em>defines</em> the static method rather than the class that <em>inherits</em> it. (See <code>FooReaderBase</code> in the code below.)</p>\n</li>\n<li><p>Use <code>any(MyClass.class)</code> instead of just <code>any()</code></p>\n</li>\n<li><p>Note how <code>readUrl()</code> is invoked in the code below. It is mocked explicitly, but invoked, well, somewhere in the called code. (See <code>ft</code> and <code>loadByNumber()</code>).</p>\n</li>\n<li><p>In the code below we use <code>verify()</code> to make sure that the network query is made only once (it <em>is</em> important that network queries do not repeat unnecessarily).</p>\n</li>\n<li><p>One may argue that the example code must be refactored, that <code>readUrl()</code> must be defined in an interface, and <code>FooReaderBase</code> must implement that interface, and (optionally) <code>FooReader</code> must own a link to <code>FooReaderBase</code> rather than inherit from it. We would have singleton beans instead layers of static methods. Which approach to modularity should be preferred? It depends. A small project may have an implied non-functional requirement to be small (it may even be a shebang script), you may have no time to refactor the existing code, etc.</p>\n</li>\n</ol>\n<p>We want to test the following code:</p>\n<pre><code>    class FooReaderBase {\n        ...\n        static String readUrl(URL url) { ... }\n        // in tests, we must mock readUrl()\n        // because we do not want our tests to send queries via network\n    }\n\n    class FooReader extends FooReaderBase {\n        // inherits rather than defines readUrl()\n        ...\n        static MyDataStructure loadFoo(...) {\n            URL url = ...;\n            var jsonString = readUrl(url);\n            ...\n        }\n    }\n\n    class FooTraverser {\n        void loadByNumber(int n) {\n            ...\n            FooReader.loadFoo(...);\n            ...\n        }\n        // we want to test loadByNumber()\n    }\n\n</code></pre>\n<p>And the test is:</p>\n<pre><code>class FooTraverserTest {\n    static final String jsonReply = &quot;{....}&quot;;\n\n    @Test\n    void loadByNumberTest() {\n        var ft = new FooTraverser();\n        try (\n            MockedStatic&lt;FooReaderBase&gt; theMock =\n                        Mockito.mockStatic(FooReaderBase.class)\n        ) {\n            theMock.when(\n                       () -&gt; FooReaderBase.readUrl(any(URL.class))\n                   )\n                   .thenReturn(jsonReply);\n\n            ft.loadByNumber(100);\n\n            assertEquals(...);\n            theMock.verify(\n                        () -&gt; FooReaderBase.readUrl(any(URL.class)),\n                        times(1)\n            ); // URL must be read only once!\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29273112,"reputation":1,"user_id":22427445,"display_name":"jaman lin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692930723,"creation_date":1692689820,"question_id":76951039,"body_markdown":"I am currently facing an issue while using the PowerMock framework to mock static methods in my unit tests.\r\n\r\nHere is the static method I am trying to mock:\r\n\r\n```java\r\npublic static AssetNav calcMarginNav(NavContext navContext, Integer model, int moneyType) {\r\n    // method body...\r\n}\r\n```\r\n\r\nWhen I attempt to mock this static method using PowerMock&#39;s `when()` method with `any()` argument matchers, like this:\r\n\r\n```java\r\nPowerMockito.mockStatic(NavBuilder.class);\r\nPowerMockito.when(NavBuilder.calcMarginNav(any(NavContext.class), anyInt(), anyInt())).thenReturn(mockAssetNav);\r\n```\r\n\r\nThe mocking does not work; it always returns null during test execution. However, when I specify the exact argument values in the `when()` method:\r\n\r\n```java\r\nNavContext navContext = new NavContext();\r\nPowerMockito.mockStatic(NavBuilder.class);\r\nPowerMockito.when(NavBuilder.calcMarginNav(navContext, 2, 2)).thenReturn(mockAssetNav);\r\n```\r\n\r\nThe mocking works as expected.\r\n\r\nIt appears that PowerMock requires precise argument matching in order to correctly mock the static method. \r\n\r\nThis poses a problem because, for my set of test cases, I cannot predict exact argument values ahead of time, hence the need to use `any()` matchers.\r\n\r\nDoes anyone know how can I mock the static method without providing the exact arguments? Are there alternatives or workarounds to this problem?\r\n\r\nAny help would be greatly appreciated. Thanks!","title":"Unable to Mock Static Method Using PowerMock with &#39;any()&#39; Argument Matchers","body":"<p>I am currently facing an issue while using the PowerMock framework to mock static methods in my unit tests.</p>\n<p>Here is the static method I am trying to mock:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static AssetNav calcMarginNav(NavContext navContext, Integer model, int moneyType) {\n    // method body...\n}\n</code></pre>\n<p>When I attempt to mock this static method using PowerMock's <code>when()</code> method with <code>any()</code> argument matchers, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PowerMockito.mockStatic(NavBuilder.class);\nPowerMockito.when(NavBuilder.calcMarginNav(any(NavContext.class), anyInt(), anyInt())).thenReturn(mockAssetNav);\n</code></pre>\n<p>The mocking does not work; it always returns null during test execution. However, when I specify the exact argument values in the <code>when()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NavContext navContext = new NavContext();\nPowerMockito.mockStatic(NavBuilder.class);\nPowerMockito.when(NavBuilder.calcMarginNav(navContext, 2, 2)).thenReturn(mockAssetNav);\n</code></pre>\n<p>The mocking works as expected.</p>\n<p>It appears that PowerMock requires precise argument matching in order to correctly mock the static method.</p>\n<p>This poses a problem because, for my set of test cases, I cannot predict exact argument values ahead of time, hence the need to use <code>any()</code> matchers.</p>\n<p>Does anyone know how can I mock the static method without providing the exact arguments? Are there alternatives or workarounds to this problem?</p>\n<p>Any help would be greatly appreciated. Thanks!</p>\n"},{"tags":["java","java-7","apple-m1"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":8,"creation_date":1669030265,"post_id":74518207,"comment_id":131542344,"body_markdown":"I think the actual risk is running on a old unsupported JVM that has no security patches for several years now.","body":"I think the actual risk is running on a old unsupported JVM that has no security patches for several years now."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1669030504,"post_id":74518207,"comment_id":131542416,"body_markdown":"I know it&#39;s not the answer you&#39;re looking for, but migrating a non-trivial app from Java 7 directly to Java 11 was, for me, one of the least painful migrations I&#39;ve ever done.","body":"I know it&#39;s not the answer you&#39;re looking for, but migrating a non-trivial app from Java 7 directly to Java 11 was, for me, one of the least painful migrations I&#39;ve ever done."},{"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"score":0,"creation_date":1669030887,"post_id":74518207,"comment_id":131542530,"body_markdown":"This app is Grails 2.0.3 and makes extensive use of GORM. Would need to get it to Grails 2.5.6 for Java 8. All kinds of stuff will break and there aren&#39;t a lot of tests :(","body":"This app is Grails 2.0.3 and makes extensive use of GORM. Would need to get it to Grails 2.5.6 for Java 8. All kinds of stuff will break and there aren&#39;t a lot of tests :("},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669049005,"post_id":74518207,"comment_id":131549379,"body_markdown":"Java Almanac [says “no”](https://javaalmanac.io/jdk/7/). Well,  at least not running natively (arm64, aarch64). You may be able to run the x64 edition of Java 7 on Apple Silicon via [*Rosetta 2*](https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2). But I too strongly recommend you try migrating your app and its dependencies to Java 17, Java 11, or Java 8. Migration may go easier than you fear.","body":"Java Almanac <a href=\"https://javaalmanac.io/jdk/7/\" rel=\"nofollow noreferrer\">says “no”</a>. Well,  at least not running natively (arm64, aarch64). You may be able to run the x64 edition of Java 7 on Apple Silicon via <a href=\"https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2\" rel=\"nofollow noreferrer\"><i>Rosetta 2</i></a>. But I too strongly recommend you try migrating your app and its dependencies to Java 17, Java 11, or Java 8. Migration may go easier than you fear."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1669049231,"post_id":74518207,"comment_id":131549456,"body_markdown":"Voting to re-open. The “seeking recommendations” reason for closure is meant to avoid silly endless debates such as “Which IDE is best?”. That is not the case here.","body":"Voting to re-open. The “seeking recommendations” reason for closure is meant to avoid silly endless debates such as “Which IDE is best?”. That is not the case here."}],"answers":[{"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669048400,"creation_date":1669030199,"answer_id":74518229,"question_id":74518207,"body_markdown":"The M1 official support starts at Java 17 AFAIR (surely newer version than Java 11), however you can use [*Rosetta 2*][1] to run it on your machine\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2","title":"Is Java 7 available for M1 Mac?","body":"<p>The M1 official support starts at Java 17 AFAIR (surely newer version than Java 11), however you can use <a href=\"https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2\" rel=\"nofollow noreferrer\"><em>Rosetta 2</em></a> to run it on your machine</p>\n"},{"tags":[],"owner":{"account_id":11700232,"reputation":187,"user_id":8565639,"display_name":"Artur Todeschini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692929950,"creation_date":1692929950,"answer_id":76973892,"question_id":74518207,"body_markdown":"I have Mac m2 chip\r\n\r\nI use iReport, try to dowload and install jdk1.7 for x86_64 for Mac, believe me it&#39;s work.\r\n\r\nTo see all the installed JDK use the command in the terminal\r\n\r\n/usr/libexec/java_home -V\r\n\r\nI&#39;ve used version .zip not .dmg for iRepor\r\n\r\nOf course, you need to set in &lt;PAHT you extract iReport&gt;/etc/ireport.conf your jdkhome.","title":"Is Java 7 available for M1 Mac?","body":"<p>I have Mac m2 chip</p>\n<p>I use iReport, try to dowload and install jdk1.7 for x86_64 for Mac, believe me it's work.</p>\n<p>To see all the installed JDK use the command in the terminal</p>\n<p>/usr/libexec/java_home -V</p>\n<p>I've used version .zip not .dmg for iRepor</p>\n<p>Of course, you need to set in /etc/ireport.conf your jdkhome.</p>\n"}],"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1304,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1692929950,"creation_date":1669030093,"question_id":74518207,"body_markdown":"Is there a Java 7 binary release for Apple Silicon available anywhere? I have an old app to maintain and getting that to run on Java 8 would be a really risky exercise.","title":"Is Java 7 available for M1 Mac?","body":"<p>Is there a Java 7 binary release for Apple Silicon available anywhere? I have an old app to maintain and getting that to run on Java 8 would be a really risky exercise.</p>\n"},{"tags":["java","hadoop","mapreduce","hdfs","cloudera-quickstart-vm"],"comments":[{"owner":{"account_id":2850838,"reputation":1053,"user_id":2452417,"accept_rate":100,"display_name":"Azim"},"score":0,"creation_date":1478703077,"post_id":40447341,"comment_id":68261450,"body_markdown":"I have been using cloudera VM but never observed this issue. Just once again, can you please confirm that this warning comes while storing the file inside HDFS or during Job execution? Did you try running the same Job with some other different file? \n\nOr maybe can try this command: hdfs fsck &lt;file_name&gt; -files -blocks -locations -racks to see whether there is any issue from HDFS storage.","body":"I have been using cloudera VM but never observed this issue. Just once again, can you please confirm that this warning comes while storing the file inside HDFS or during Job execution? Did you try running the same Job with some other different file?   Or maybe can try this command: hdfs fsck &lt;file_name&gt; -files -blocks -locations -racks to see whether there is any issue from HDFS storage."},{"owner":{"account_id":5254221,"reputation":125,"user_id":4197529,"display_name":"Ramkrushna26"},"score":0,"creation_date":1478880837,"post_id":40447341,"comment_id":68342228,"body_markdown":"16/11/11 07:18:38 INFO mapreduce.ImportJobBase: Beginning import of products 16/11/11 07:18:38 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address 16/11/11 07:18:39 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar 16/11/11 07:18:41 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps 16/11/11 07:18:41 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032---&gt; after this, above error occurs 6 times in row.. before execution of job..HDFS luks gud","body":"16/11/11 07:18:38 INFO mapreduce.ImportJobBase: Beginning import of products 16/11/11 07:18:38 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address 16/11/11 07:18:39 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar 16/11/11 07:18:41 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps 16/11/11 07:18:41 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032---&gt; after this, above error occurs 6 times in row.. before execution of job..HDFS luks gud"}],"owner":{"account_id":5254221,"reputation":125,"user_id":4197529,"display_name":"Ramkrushna26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692928976,"creation_date":1478420748,"question_id":40447341,"body_markdown":"When I am running any MapReduce job in Cloudera VM, below warning is occurring 4-5 times in continues manner. Please let me know how to fix it.  \r\n\r\n\r\n    16/11/06 00:47:38 WARN hdfs.DFSClient: Caught exception  \r\n    java.lang.InterruptedException  \r\n    at java.lang.Object.wait(Native Method)  \r\n    at java.lang.Thread.join(Thread.java:1281)  \r\n    at java.lang.Thread.join(Thread.java:1355)  \r\n    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)  \r\n    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)  \r\n    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)  \r\n\r\nOccurring in the middle of the execution of sqoop jobs created. But not when hive job get executed.","title":"Hadoop: MapReduce job giving java library error","body":"<p>When I am running any MapReduce job in Cloudera VM, below warning is occurring 4-5 times in continues manner. Please let me know how to fix it.  </p>\n\n<pre><code>16/11/06 00:47:38 WARN hdfs.DFSClient: Caught exception  \njava.lang.InterruptedException  \nat java.lang.Object.wait(Native Method)  \nat java.lang.Thread.join(Thread.java:1281)  \nat java.lang.Thread.join(Thread.java:1355)  \nat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)  \nat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)  \nat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)  \n</code></pre>\n\n<p>Occurring in the middle of the execution of sqoop jobs created. But not when hive job get executed.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1460935862,"post_id":36683330,"comment_id":60956299,"body_markdown":"Your code is working properly. Are you experiencing an error?","body":"Your code is working properly. Are you experiencing an error?"},{"owner":{"account_id":8269111,"reputation":19,"user_id":6217454,"display_name":"Diane"},"score":0,"creation_date":1460936041,"post_id":36683330,"comment_id":60956333,"body_markdown":"It is? Yes I was getting an error. JGrasp said It is? Yes I was getting an error. JGrasp said     \n ----jGRASP exec: javac -g readDecimal.java\nreadDecimal.java:13: error: illegal character: &#39;\\u201c&#39;\n\tSystem.out.println(&#244;Please enter a decimal number: &#244;);\n\t                   ^\nreadDecimal.java:13: error: &#39;;&#39; expected\n\tSystem.out.println(&#244;Please enter a decimal number: &#244;);\n\t                    ^\nreadDecimal.java:13: error: &#39;;&#39; expected\n\tSystem.out.println(&#244;Please enter a decimal number: &#244;);","body":"It is? Yes I was getting an error. JGrasp said It is? Yes I was getting an error. JGrasp said       ----jGRASP exec: javac -g readDecimal.java readDecimal.java:13: error: illegal character: &#39;\\u201c&#39; \tSystem.out.println(&#244;Please enter a decimal number: &#244;); \t                   ^ readDecimal.java:13: error: &#39;;&#39; expected \tSystem.out.println(&#244;Please enter a decimal number: &#244;); \t                    ^ readDecimal.java:13: error: &#39;;&#39; expected \tSystem.out.println(&#244;Please enter a decimal number: &#244;);"},{"owner":{"account_id":8269111,"reputation":19,"user_id":6217454,"display_name":"Diane"},"score":0,"creation_date":1460936267,"post_id":36683330,"comment_id":60956374,"body_markdown":"wow I bet you cant even read that, lol.","body":"wow I bet you cant even read that, lol."},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1460936371,"post_id":36683330,"comment_id":60956399,"body_markdown":"I see what the issue is. Try changing your “ characters to &quot;.","body":"I see what the issue is. Try changing your “ characters to &quot;."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1460937295,"post_id":36683330,"comment_id":60956574,"body_markdown":"Note: If you ever need to find out what `\\uxxxx` means for some 4-digit hex number `xxxx`, go to [this link](https://en.wikipedia.org/wiki/Unicode#Code_point_planes_and_blocks) which has links to pages for Unicode characters.  In you&#39;re case, you&#39;d look at the 2000-2FFF link.","body":"Note: If you ever need to find out what <code>\\uxxxx</code> means for some 4-digit hex number <code>xxxx</code>, go to <a href=\"https://en.wikipedia.org/wiki/Unicode#Code_point_planes_and_blocks\" rel=\"nofollow noreferrer\">this link</a> which has links to pages for Unicode characters.  In you&#39;re case, you&#39;d look at the 2000-2FFF link."}],"answers":[{"tags":[],"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460936494,"creation_date":1460936494,"answer_id":36683443,"question_id":36683330,"body_markdown":"Your quotation marks are incorrect; they are unicode for some reason. Replace all the quotations by manual typing them in, in you `System.out.println` statements.\r\n\r\n\r\n      public static void main(String args[]) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        double decimalNumber;\r\n        long intNumber;\r\n\r\n        System.out.println(&quot;Please enter a decimal number:&quot;);\r\n        decimalNumber = input.nextDouble();\r\n\r\n        intNumber = Math.round(decimalNumber);\r\n\r\n        System.out.println(decimalNumber +\r\n                &quot; rounded to the nearest integer is &quot; + intNumber);\r\n\r\n    }","title":"Simple Java way to input decimal and round to nearest integer","body":"<p>Your quotation marks are incorrect; they are unicode for some reason. Replace all the quotations by manual typing them in, in you <code>System.out.println</code> statements.</p>\n\n<pre><code>  public static void main(String args[]) {\n    Scanner input = new Scanner(System.in);\n\n    double decimalNumber;\n    long intNumber;\n\n    System.out.println(\"Please enter a decimal number:\");\n    decimalNumber = input.nextDouble();\n\n    intNumber = Math.round(decimalNumber);\n\n    System.out.println(decimalNumber +\n            \" rounded to the nearest integer is \" + intNumber);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14206001,"reputation":1,"user_id":10262504,"display_name":"user10262504"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534993128,"creation_date":1534991729,"answer_id":51977604,"question_id":36683330,"body_markdown":"You can round double numbers using Math.round method.\r\n\r\n    import java.util.*;\r\n\r\n    public class RoundingDecimal {\r\n    \r\n        public static void main(String args[]) {\r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            double num1;\r\n            double num2;\r\n    \r\n            System.out.print(&quot;Please enter a decimal number: &quot;);\r\n            num1 = sc.nextDouble();\r\n    \r\n            num2 = Math.round(num1);\r\n    \r\n            System.out.println(&quot; Rounded to the nearest integer is &quot; + num2);    \r\n        }\r\n    }","title":"Simple Java way to input decimal and round to nearest integer","body":"<p>You can round double numbers using Math.round method.</p>\n\n<pre><code>import java.util.*;\n\npublic class RoundingDecimal {\n\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n\n        double num1;\n        double num2;\n\n        System.out.print(\"Please enter a decimal number: \");\n        num1 = sc.nextDouble();\n\n        num2 = Math.round(num1);\n\n        System.out.println(\" Rounded to the nearest integer is \" + num2);    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8269111,"reputation":19,"user_id":6217454,"display_name":"Diane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4131,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1692928951,"creation_date":1460935660,"question_id":36683330,"body_markdown":"I am using the Java SDK to compile. Need I say, I am a beginner.\r\nHere is the code I tried to use to &quot;Ask user to input decimal and code should output an integer. (round to nearest integer)\r\n\r\n    import java.util.*;\r\n\r\n    public class readDecimal {\r\n    \r\n        public static void main(String args[]) {\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            double decimalNumber;\r\n            long intNumber;\r\n    \r\n            System.out.println(“Please enter a decimal number:“);\r\n            decimalNumber = input.nextDouble();\r\n    \r\n            intNumber = Math.round(decimalNumber);\r\n    \r\n            System.out.println(decimalNumber +\r\n                    “ rounded to the nearest integer is “ + intNumber);\r\n    \r\n        }\r\n    }\r\n\r\nWhat am I doing wrong? I saw the other posts however they seem much to complicated for a beginner. Can you please help?\r\nThank you,\r\nDiane","title":"Simple Java way to input decimal and round to nearest integer","body":"<p>I am using the Java SDK to compile. Need I say, I am a beginner.\nHere is the code I tried to use to \"Ask user to input decimal and code should output an integer. (round to nearest integer)</p>\n\n<pre><code>import java.util.*;\n\npublic class readDecimal {\n\n    public static void main(String args[]) {\n        Scanner input = new Scanner(System.in);\n\n        double decimalNumber;\n        long intNumber;\n\n        System.out.println(“Please enter a decimal number:“);\n        decimalNumber = input.nextDouble();\n\n        intNumber = Math.round(decimalNumber);\n\n        System.out.println(decimalNumber +\n                “ rounded to the nearest integer is “ + intNumber);\n\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong? I saw the other posts however they seem much to complicated for a beginner. Can you please help?\nThank you,\nDiane</p>\n"},{"tags":["java","android","android-recyclerview","android-nestedscrollview"],"comments":[{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":0,"creation_date":1497588109,"post_id":44580892,"comment_id":76150101,"body_markdown":"try `recyclerView.setNestedScrollingEnabled(false);`","body":"try <code>recyclerView.setNestedScrollingEnabled(false);</code>"},{"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"score":0,"creation_date":1497588515,"post_id":44580892,"comment_id":76150214,"body_markdown":"yes I have tried it, its not working, as I said, there is no problem with the scrolling","body":"yes I have tried it, its not working, as I said, there is no problem with the scrolling"},{"owner":{"account_id":8973677,"reputation":1291,"user_id":6691311,"accept_rate":50,"display_name":"singh.indolia"},"score":0,"creation_date":1497588593,"post_id":44580892,"comment_id":76150238,"body_markdown":"Please show your java code, where you are fetching data from database and you are populating that data into your layout.","body":"Please show your java code, where you are fetching data from database and you are populating that data into your layout."},{"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"score":0,"creation_date":1497588865,"post_id":44580892,"comment_id":76150318,"body_markdown":"The database query is being executed on a new IO thread, and the data is being passed to the main thread, then the list is being passed to the recycler adapter, as I said there is no problem when I remove the nested scroll view!","body":"The database query is being executed on a new IO thread, and the data is being passed to the main thread, then the list is being passed to the recycler adapter, as I said there is no problem when I remove the nested scroll view!"},{"owner":{"account_id":3407501,"reputation":617,"user_id":2858237,"accept_rate":57,"display_name":"Zohaib Akram"},"score":0,"creation_date":1499324550,"post_id":44580892,"comment_id":76859478,"body_markdown":"@Gurleen Sethi Have you found any solution ?","body":"@Gurleen Sethi Have you found any solution ?"},{"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"score":6,"creation_date":1499494069,"post_id":44580892,"comment_id":76941108,"body_markdown":"The problem is when you inflate recycler view inside a nested scroll view, it start inflating a view for every item, so if you have 500 items in your recycler adapter then it will create 500 item layout which causes the sudden unresponsiveness, what I did is removed the nested scroll layout, haven&#39;t found any solution that can make nested scroll view work with recycler view in case of large amount of data.","body":"The problem is when you inflate recycler view inside a nested scroll view, it start inflating a view for every item, so if you have 500 items in your recycler adapter then it will create 500 item layout which causes the sudden unresponsiveness, what I did is removed the nested scroll layout, haven&#39;t found any solution that can make nested scroll view work with recycler view in case of large amount of data."}],"answers":[{"tags":[],"owner":{"account_id":6444345,"reputation":591,"user_id":4993283,"display_name":"배준모"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1510241580,"creation_date":1497590049,"answer_id":44581288,"question_id":44580892,"body_markdown":"This case of `RecyclerView` inside `NestedScrollView`.\r\n\r\n`RecyclerView` is calling `onCreateViewHolder()` times equal to your data size.\r\n\r\nIf data has 200 items, it freezes for `onCreateViewHolder()` to be called 200 times.","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>This case of <code>RecyclerView</code> inside <code>NestedScrollView</code>.</p>\n\n<p><code>RecyclerView</code> is calling <code>onCreateViewHolder()</code> times equal to your data size.</p>\n\n<p>If data has 200 items, it freezes for <code>onCreateViewHolder()</code> to be called 200 times.</p>\n"},{"tags":[],"owner":{"account_id":10533627,"reputation":143,"user_id":7762222,"display_name":"Darsy"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1497590276,"creation_date":1497590276,"answer_id":44581335,"question_id":44580892,"body_markdown":"As said by Nancy , recyclerview.setNestedScrollingEnabled(false); will solve scroll stuck issue. i too faced this type of issue and solved by false the NestedScroll.","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>As said by Nancy , recyclerview.setNestedScrollingEnabled(false); will solve scroll stuck issue. i too faced this type of issue and solved by false the NestedScroll.</p>\n"},{"tags":[],"owner":{"account_id":5911588,"reputation":151,"user_id":4651659,"display_name":"ilaimihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585489906,"creation_date":1585489906,"answer_id":60915165,"question_id":44580892,"body_markdown":"The problem as said above is because RecyclerView as a child or subChild in NestedScrollView measures its height as infinitive when you use WRAP_CONTENT or MATCH_PARENT for height of RecyclerView.\r\n\r\none solution that solved this problem for me was setting the RecyclerView Height to a fixed size. you could set height to a dp value, or you could set it to a pixel value matching devices height if your requirements needs a vertical infinitive RecyclerView.\r\n\r\nhere is a snippet for setting the recyclerView size in kotlin\r\n\r\n        val params = recyclerView.layoutParams\r\n        params.apply {\r\n                width = context.resources.displayMetrics.widthPixels\r\n                height = context.resources.displayMetrics.heightPixels\r\n        }\r\n        recyclerView.layoutParams = params","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>The problem as said above is because RecyclerView as a child or subChild in NestedScrollView measures its height as infinitive when you use WRAP_CONTENT or MATCH_PARENT for height of RecyclerView.</p>\n\n<p>one solution that solved this problem for me was setting the RecyclerView Height to a fixed size. you could set height to a dp value, or you could set it to a pixel value matching devices height if your requirements needs a vertical infinitive RecyclerView.</p>\n\n<p>here is a snippet for setting the recyclerView size in kotlin</p>\n\n<pre><code>    val params = recyclerView.layoutParams\n    params.apply {\n            width = context.resources.displayMetrics.widthPixels\n            height = context.resources.displayMetrics.heightPixels\n    }\n    recyclerView.layoutParams = params\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10069400,"reputation":1,"user_id":7443503,"display_name":"Ahmed Belmekhfi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631747418,"creation_date":1631747418,"answer_id":69200673,"question_id":44580892,"body_markdown":"I faced the same problem!\r\nThe solution was to change NestedScrollView to SwipeRefreshLayout.\r\n\r\nadd this for enable/disable ToolBar Scrolling:\r\n\r\nViewCompat.setNestedScrollingEnabled(recyclerView, true);\r\n\r\n","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>I faced the same problem!\nThe solution was to change NestedScrollView to SwipeRefreshLayout.</p>\n<p>add this for enable/disable ToolBar Scrolling:</p>\n<p>ViewCompat.setNestedScrollingEnabled(recyclerView, true);</p>\n"},{"tags":[],"owner":{"account_id":22165740,"reputation":1230,"user_id":16411959,"display_name":"AI Shakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692928788,"creation_date":1692928788,"answer_id":76973830,"question_id":44580892,"body_markdown":"&gt; Yes, the answer is a bit late, but I think this will prevent you from\r\n&gt; **freezing** your **RecyclerView** inside any kind of **Scrollable Views** like\r\n&gt; another ***RecyclerView***, ***ScrollView***, ***NestedScrollView***, ***MotionView***, etc...\r\n\r\n**All you have to do is give your RecyclerView a fixed height.**\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv_home&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;192dp&quot;/&gt;","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<blockquote>\n<p>Yes, the answer is a bit late, but I think this will prevent you from\n<strong>freezing</strong> your <strong>RecyclerView</strong> inside any kind of <strong>Scrollable Views</strong> like\nanother <em><strong>RecyclerView</strong></em>, <em><strong>ScrollView</strong></em>, <em><strong>NestedScrollView</strong></em>, <em><strong>MotionView</strong></em>, etc...</p>\n</blockquote>\n<p><strong>All you have to do is give your RecyclerView a fixed height.</strong></p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/rv_home&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;192dp&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11134,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":44581288,"answer_count":5,"score":14,"last_activity_date":1692928788,"creation_date":1497587760,"question_id":44580892,"body_markdown":"I have added `RecyclerView` inside my `NestedScrollView`. Basically I want RecyclerView to scroll with other Views. The problem that I am facing is that for a small set of data, it is working fine, but for a large set of data(200 entries) whenever I launch the activity, it freezes for about about 3-5 seconds and then loads. I removed the `NestedScrollView` and it is working flawlessly, but it doesn&#39;t provide me the behaviour I want.\r\n\r\n(For extra info, I am loading the data from SQLite database. There is no problem in scrolling, as it is smooth. The only problem is the activity is freezing for a while)\r\n\r\n    &lt;android.support.v4.widget.NestedScrollView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;... Some other Views ...&gt;\r\n    \r\n                    &lt;android.support.v7.widget.RecyclerView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                    &lt;/android.support.v7.widget.RecyclerView&gt;\r\n                    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/android.support.v4.widget.NestedScrollView&gt;","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>I have added <code>RecyclerView</code> inside my <code>NestedScrollView</code>. Basically I want RecyclerView to scroll with other Views. The problem that I am facing is that for a small set of data, it is working fine, but for a large set of data(200 entries) whenever I launch the activity, it freezes for about about 3-5 seconds and then loads. I removed the <code>NestedScrollView</code> and it is working flawlessly, but it doesn't provide me the behaviour I want.</p>\n\n<p>(For extra info, I am loading the data from SQLite database. There is no problem in scrolling, as it is smooth. The only problem is the activity is freezing for a while)</p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;... Some other Views ...&gt;\n\n                &lt;android.support.v7.widget.RecyclerView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"match_parent\"\n                    android:orientation=\"vertical\"&gt;\n\n                &lt;/android.support.v7.widget.RecyclerView&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","firefox"],"owner":{"account_id":29291626,"reputation":9,"user_id":22441947,"display_name":"Olga "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692928445,"creation_date":1692888081,"question_id":76970421,"body_markdown":"When executing remotely on Jenkins or browserstack started to get error \r\n```\r\njava.lang.ClassCastException: class \r\ncom.google.common.collect.Maps$TransformedEntriesMap cannot be cast \r\nto class org.openqa.selenium.WebElement \r\n(com.google.common.collect.Maps$TransformedEntriesMap and \r\norg.openqa.selenium.WebElement are in unnamed module of loader &#39;app&#39;)\r\n```\r\nline that causing issue is \r\n```java\r\nnew WebDriverWait(driver, Duration.ofMillis(TIME_OUT)).until(ExpectedConditions.invisibilityOfElementLocated(LOCATOR));\r\n```\r\n\r\nPlease help, how can i solve it?\r\n\r\nTrying to run our suite, but it is failing only on Firefox, working fine on Edge and Chrome.","title":"Error on Firefox 116 java.lang.ClassCastException: class com.google.common.collect.Maps$TransformedEntriesMap","body":"<p>When executing remotely on Jenkins or browserstack started to get error</p>\n<pre><code>java.lang.ClassCastException: class \ncom.google.common.collect.Maps$TransformedEntriesMap cannot be cast \nto class org.openqa.selenium.WebElement \n(com.google.common.collect.Maps$TransformedEntriesMap and \norg.openqa.selenium.WebElement are in unnamed module of loader 'app')\n</code></pre>\n<p>line that causing issue is</p>\n<pre class=\"lang-java prettyprint-override\"><code>new WebDriverWait(driver, Duration.ofMillis(TIME_OUT)).until(ExpectedConditions.invisibilityOfElementLocated(LOCATOR));\n</code></pre>\n<p>Please help, how can i solve it?</p>\n<p>Trying to run our suite, but it is failing only on Firefox, working fine on Edge and Chrome.</p>\n"},{"tags":["java","mysql","spring","jpa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692915169,"post_id":76973146,"comment_id":135693241,"body_markdown":"So you&#39;ve got a MySql column called &quot;TIME&quot; of type `int` - how does that work?","body":"So you&#39;ve got a MySql column called &quot;TIME&quot; of type <code>int</code> - how does that work?"},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692915701,"post_id":76973146,"comment_id":135693320,"body_markdown":"Not sure I understand your question. It might be a poor name for a column/field...but it&#39;s a javascript counter in seconds on a web page that is simply stored as an int.","body":"Not sure I understand your question. It might be a poor name for a column/field...but it&#39;s a javascript counter in seconds on a web page that is simply stored as an int."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692915896,"post_id":76973146,"comment_id":135693345,"body_markdown":"Can you show the output of `show create table GAME_DATA`?","body":"Can you show the output of <code>show create table GAME_DATA</code>?"},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692917239,"post_id":76973146,"comment_id":135693486,"body_markdown":"Not much &#39;output&#39; from my hosting:\n\n MySQL returned an empty result set (i.e. zero rows). (Query took 0.0339 seconds.)\nCREATE TABLE `GAME_DATA` ( `id` int(11) NOT NULL, `user_id` varchar(50) DEFAULT NULL, `datetime` datetime NOT NULL, `game` varchar(100) NOT NULL, `time` int(11) NOT NULL, `code` varchar(50) DEFAULT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8;","body":"Not much &#39;output&#39; from my hosting:   MySQL returned an empty result set (i.e. zero rows). (Query took 0.0339 seconds.) CREATE TABLE <code>GAME_DATA</code> ( <code>id</code> int(11) NOT NULL, <code>user_id</code> varchar(50) DEFAULT NULL, <code>datetime</code> datetime NOT NULL, <code>game</code> varchar(100) NOT NULL, <code>time</code> int(11) NOT NULL, <code>code</code> varchar(50) DEFAULT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692918442,"post_id":76973146,"comment_id":135693589,"body_markdown":"Hmm. See if you get on any better by surrounding `TIME` (col name) with backticks","body":"Hmm. See if you get on any better by surrounding <code>TIME</code> (col name) with backticks"},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692920503,"post_id":76973146,"comment_id":135693749,"body_markdown":"Good thought.... it did have ticks when I copy/pasted it here. This editor must have removed them when I submitted it. I might try to make everything string for that field just to try to get more data.","body":"Good thought.... it did have ticks when I copy/pasted it here. This editor must have removed them when I submitted it. I might try to make everything string for that field just to try to get more data."},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692921195,"post_id":76973146,"comment_id":135693818,"body_markdown":"Even making the TIME DB Field a VARCHAR, as well as making the Java objects/methods VARCHAR, I get the same exception:\n\nParameter value [35] did not match expected type [java.util.Date (n/a)]","body":"Even making the TIME DB Field a VARCHAR, as well as making the Java objects/methods VARCHAR, I get the same exception:  Parameter value [35] did not match expected type [java.util.Date (n/a)]"},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692924475,"post_id":76973146,"comment_id":135694119,"body_markdown":"When I hard code the:\n\nUPDATE GAME_DATA SET TIME=22 WHERE ID=:id\n\nIt works OK.","body":"When I hard code the:  UPDATE GAME_DATA SET TIME=22 WHERE ID=:id  It works OK."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692954411,"post_id":76973146,"comment_id":135697862,"body_markdown":"We don&#39;t actually know for certain whether that *is* the column in question. You have another column with arguably an even &#39;worse&#39; name, i.e. &quot;datetime&quot;. Backtick that one as well. In fact, to remove all doubt, backtick them all","body":"We don&#39;t actually know for certain whether that <i>is</i> the column in question. You have another column with arguably an even &#39;worse&#39; name, i.e. &quot;datetime&quot;. Backtick that one as well. In fact, to remove all doubt, backtick them all"}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692927563,"creation_date":1692927563,"answer_id":76973776,"question_id":76973146,"body_markdown":"The problem might be with the field named, `time` since it is a reserved word. \r\n\r\nTry renaming the field to something else and try.\r\n\r\n    SET TIME=:new_field_name\r\n\r\nmight work.","title":"Updating existing MySQL record with Java","body":"<p>The problem might be with the field named, <code>time</code> since it is a reserved word.</p>\n<p>Try renaming the field to something else and try.</p>\n<pre><code>SET TIME=:new_field_name\n</code></pre>\n<p>might work.</p>\n"}],"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76973776,"answer_count":1,"score":1,"last_activity_date":1692927563,"creation_date":1692914224,"question_id":76973146,"body_markdown":"Java/Spring/MySQL Application.\r\nTrying to UPDATE a MySQL &#39;int(11)&#39; type field.\r\n\r\nPOJO is defined as:\r\n@Entity/@Component: @Column(name=&quot;time&quot;)\r\n\t                 private int time;\r\n\r\n```\r\n         public int updtTm(@Param(&quot;id&quot;) int id, @Param(&quot;time&quot;) int time)  {\r\n\t\t javax.persistence.Query query = entityManager.createQuery(&quot;UPDATE GAME_DATA SET TIME=:time WHERE ID=:id&quot;);\r\n\t\t int updateCount = query.setParameter(&quot;id&quot;, id)\r\n \t\t\t\t \t\t\t\t.setParameter(&quot;time&quot;, time)\r\n\t\t\t\t \t\t\t\t.executeUpdate();\r\n\t\t return updateCount;\r\n```\r\nBoth params passed in are verified as &#39;int&#39;.  This is the exception:\r\n\r\njava.lang.IllegalArgumentException: Parameter value [44] did not match expected type [java.util.Date (n/a)]\r\n\tat org.hibernate.jpa.spi.BaseQueryImpl.validateBinding(BaseQueryImpl.java:897) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n\r\nWhy does Java think the expected type is a &#39;Date&#39;?\r\n","title":"Updating existing MySQL record with Java","body":"<p>Java/Spring/MySQL Application.\nTrying to UPDATE a MySQL 'int(11)' type field.</p>\n<p>POJO is defined as:\n@Entity/@Component: @Column(name=&quot;time&quot;)\nprivate int time;</p>\n<pre><code>         public int updtTm(@Param(&quot;id&quot;) int id, @Param(&quot;time&quot;) int time)  {\n         javax.persistence.Query query = entityManager.createQuery(&quot;UPDATE GAME_DATA SET TIME=:time WHERE ID=:id&quot;);\n         int updateCount = query.setParameter(&quot;id&quot;, id)\n                                .setParameter(&quot;time&quot;, time)\n                                .executeUpdate();\n         return updateCount;\n</code></pre>\n<p>Both params passed in are verified as 'int'.  This is the exception:</p>\n<p>java.lang.IllegalArgumentException: Parameter value [44] did not match expected type [java.util.Date (n/a)]\nat org.hibernate.jpa.spi.BaseQueryImpl.validateBinding(BaseQueryImpl.java:897) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]</p>\n<p>Why does Java think the expected type is a 'Date'?</p>\n"},{"tags":["javascript","java","jquery","jsp","browser"],"comments":[{"owner":{"account_id":18455627,"reputation":538,"user_id":13444494,"display_name":"Micah"},"score":0,"creation_date":1692810562,"post_id":76958559,"comment_id":135676032,"body_markdown":"Might be good to share some of your source code to help analyze the issue.  Sounds browser related, but need more specifics. Check out the [coc](https://stackoverflow.com/conduct) to learn more about Stack Overflow and how to make the most of your questions.","body":"Might be good to share some of your source code to help analyze the issue.  Sounds browser related, but need more specifics. Check out the <a href=\"https://stackoverflow.com/conduct\">coc</a> to learn more about Stack Overflow and how to make the most of your questions."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692810633,"post_id":76958559,"comment_id":135676043,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26444627,"reputation":1,"user_id":20088620,"display_name":"허지훈"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692927401,"creation_date":1692769443,"question_id":76958559,"body_markdown":"I&#39;m using the mobile phone authentication function. In Chrome, Whale, and Samsung Internet browsers, callback is not made from a white window to an application after authentication. However, it runs normally in Edge and Naver browsers. Could it be a browser problem?\r\n\r\n\r\nI checked the jsp file related to the authentication procedure and ran it with various kinds of browsers. I want to know if it&#39;s a source code problem or a browser problem.\r\n\r\nsource code\r\nlocation.href = &quot;biz.net://?param=&quot; + encodeURI( JSON.stringfy(param));\r\n\r\n","title":"Mobile phone authentication browser problem","body":"<p>I'm using the mobile phone authentication function. In Chrome, Whale, and Samsung Internet browsers, callback is not made from a white window to an application after authentication. However, it runs normally in Edge and Naver browsers. Could it be a browser problem?</p>\n<p>I checked the jsp file related to the authentication procedure and ran it with various kinds of browsers. I want to know if it's a source code problem or a browser problem.</p>\n<p>source code\nlocation.href = &quot;biz.net://?param=&quot; + encodeURI( JSON.stringfy(param));</p>\n"},{"tags":["java"],"owner":{"account_id":23855696,"reputation":1,"user_id":17859199,"display_name":"furkat ethan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692926109,"creation_date":1692926109,"question_id":76973709,"body_markdown":"I am just started using java.\r\nAnd now Im try to connect spring-boot and doma2\r\nhere is my code.\r\n\r\nAasSampleApplication.java\r\n\r\n``` java\r\npackage com.furkat.aas_sample;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@SpringBootApplication\r\n@RestController\r\npublic class AasSampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AasSampleApplication.class, args);\r\n\t}\r\n\r\n\t@Autowired\r\n\tUsersDao reservationDao;\r\n\r\n\t@Bean\r\n\tCommandLineRunner runner() {\r\n\t\treturn args -&gt; Arrays.asList(&quot;spring&quot;, &quot;spring boot&quot;, &quot;spring cloud&quot;, &quot;doma&quot;).forEach(s -&gt; {\r\n\t\t\tUsers r = new Users();\r\n\t\t\tr.name = s;\r\n\t\t\treservationDao.insert(r);\r\n\t\t});\r\n\t}\r\n\r\n\t@RequestMapping(path = &quot;/&quot;)\r\n\tList&lt;Users&gt; all() {\r\n\t\treturn reservationDao.selectAll();\r\n\t}\r\n}\r\n```\r\n\r\nUser.java\r\n\r\n``` java\r\npackage com.furkat.aas_sample;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Users {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Integer id;\r\n    public String name;\r\n\r\n}\r\n```\r\n\r\nUserDao.java\r\n\r\n``` java\r\npackage com.furkat.aas_sample;\r\n\r\nimport java.util.List;\r\nimport org.seasar.doma.Dao;\r\nimport org.seasar.doma.Insert;\r\nimport org.seasar.doma.Select;\r\nimport org.seasar.doma.boot.ConfigAutowireable;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@ConfigAutowireable\r\n@Dao\r\npublic interface UsersDao {\r\n\r\n    @Select\r\n    List&lt;Users&gt; selectAll();\r\n\r\n    @Insert\r\n    @Transactional\r\n    int insert(Users users);\r\n\r\n}\r\n```\r\n\r\nwhen I run project it says\r\n\r\n``` \r\nDescription:\r\n\r\nField reservationDao in com.furkat.aas_sample.AasSampleApplication required a bean of type &#39;com.furkat.aas_sample.UsersDao&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.furkat.aas_sample.UsersDao&#39; in your configuration.\r\n```\r\n\r\nI tried some way \r\n*Check the Classpath\r\n*Verify Annotations\r\n*Component Scan Verification\r\n*Check Configuration Class\r\n\r\nI could not find what is wrong.\r\nI hope sombody help me to figure out what wrong with my code","title":"connect spring boot with doma2 java","body":"<p>I am just started using java.\nAnd now Im try to connect spring-boot and doma2\nhere is my code.</p>\n<p>AasSampleApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.furkat.aas_sample;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class AasSampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AasSampleApplication.class, args);\n    }\n\n    @Autowired\n    UsersDao reservationDao;\n\n    @Bean\n    CommandLineRunner runner() {\n        return args -&gt; Arrays.asList(&quot;spring&quot;, &quot;spring boot&quot;, &quot;spring cloud&quot;, &quot;doma&quot;).forEach(s -&gt; {\n            Users r = new Users();\n            r.name = s;\n            reservationDao.insert(r);\n        });\n    }\n\n    @RequestMapping(path = &quot;/&quot;)\n    List&lt;Users&gt; all() {\n        return reservationDao.selectAll();\n    }\n}\n</code></pre>\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.furkat.aas_sample;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Users {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Integer id;\n    public String name;\n\n}\n</code></pre>\n<p>UserDao.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.furkat.aas_sample;\n\nimport java.util.List;\nimport org.seasar.doma.Dao;\nimport org.seasar.doma.Insert;\nimport org.seasar.doma.Select;\nimport org.seasar.doma.boot.ConfigAutowireable;\nimport org.springframework.transaction.annotation.Transactional;\n\n@ConfigAutowireable\n@Dao\npublic interface UsersDao {\n\n    @Select\n    List&lt;Users&gt; selectAll();\n\n    @Insert\n    @Transactional\n    int insert(Users users);\n\n}\n</code></pre>\n<p>when I run project it says</p>\n<pre><code>Description:\n\nField reservationDao in com.furkat.aas_sample.AasSampleApplication required a bean of type 'com.furkat.aas_sample.UsersDao' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.furkat.aas_sample.UsersDao' in your configuration.\n</code></pre>\n<p>I tried some way\n*Check the Classpath\n*Verify Annotations\n*Component Scan Verification\n*Check Configuration Class</p>\n<p>I could not find what is wrong.\nI hope sombody help me to figure out what wrong with my code</p>\n"},{"tags":["java","hibernate","jpa","criteria-api"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1583430152,"post_id":60551105,"comment_id":107123177,"body_markdown":"just specify root like you do `ntityQuery.from(FooEntity.class);`","body":"just specify root like you do <code>ntityQuery.from(FooEntity.class);</code>"},{"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"score":0,"creation_date":1583430942,"post_id":60551105,"comment_id":107123555,"body_markdown":"I don&#39;t understand your comment. My option (1) is the same thing, but just for posterity, I tried creating a new root from the entity query: `countQuery.select(criteriaBuilder.count(entityQuery.from(FooEntity.class)));`\n\n... but as expected, it yielded the same error (&quot;No criteria query roots were specified&quot;).","body":"I don&#39;t understand your comment. My option (1) is the same thing, but just for posterity, I tried creating a new root from the entity query: <code>countQuery.select(criteriaBuilder.count(entityQuery.from(Foo&zwnj;&#8203;Entity.class)));</code>  ... but as expected, it yielded the same error (&quot;No criteria query roots were specified&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":14126181,"reputation":2681,"user_id":10205514,"display_name":"Oleksii Valuiskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583442486,"creation_date":1583435091,"answer_id":60552389,"question_id":60551105,"body_markdown":"You have to create new `Root`, `CriteriaQuery` and `CriteriaBuiler` for every query. \r\n\r\nIf you use **Spring**, [Specification][1] can be opted for making `Predicate` reusable. Otherwise you can create your own `Specification` functional interface like this \r\n\r\n \r\n\r\n    @FunctionalInterface\r\n    public interface Specification&lt;T&gt; {\r\n        Predicate toPredicate(\r\n              Root&lt;T&gt; root, \r\n              CriteriaQuery&lt;?&gt; query, \r\n              CriteriaBuilder criteriaBuilder);\r\n    }\r\n\r\nUsage:\r\n\r\n\r\n    public Specification&lt;FooEntity&gt; createSpecification(YourParameters parameters) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            Predicate fullPredicate;\r\n\r\n            // create predicates using parameters, root, query, criteriaBuilder \r\n            // and concatenate them into one: fullPredicate = predicate.and(anotherPredicate);\r\n    \r\n            return fullPredicate;\r\n        };\r\n    }\r\n\r\nAnd then you can get predicate for every query this way\r\n\r\n    Predicate predicate = createSpecification(parameters)\r\n        .toPredicate(entityRoot, entityQuery, criteriaBuilder);\r\n\r\nThe best approach is to create utility class with separated methods for every specification and combine them you need using `Specification.and` method\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/domain/Specification.html","title":"Using the same predicates for two criteria queries","body":"<p>You have to create new <code>Root</code>, <code>CriteriaQuery</code> and <code>CriteriaBuiler</code> for every query. </p>\n\n<p>If you use <strong>Spring</strong>, <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/domain/Specification.html\" rel=\"nofollow noreferrer\">Specification</a> can be opted for making <code>Predicate</code> reusable. Otherwise you can create your own <code>Specification</code> functional interface like this </p>\n\n<pre><code>@FunctionalInterface\npublic interface Specification&lt;T&gt; {\n    Predicate toPredicate(\n          Root&lt;T&gt; root, \n          CriteriaQuery&lt;?&gt; query, \n          CriteriaBuilder criteriaBuilder);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public Specification&lt;FooEntity&gt; createSpecification(YourParameters parameters) {\n    return (root, query, criteriaBuilder) -&gt; {\n        Predicate fullPredicate;\n\n        // create predicates using parameters, root, query, criteriaBuilder \n        // and concatenate them into one: fullPredicate = predicate.and(anotherPredicate);\n\n        return fullPredicate;\n    };\n}\n</code></pre>\n\n<p>And then you can get predicate for every query this way</p>\n\n<pre><code>Predicate predicate = createSpecification(parameters)\n    .toPredicate(entityRoot, entityQuery, criteriaBuilder);\n</code></pre>\n\n<p>The best approach is to create utility class with separated methods for every specification and combine them you need using <code>Specification.and</code> method</p>\n"},{"tags":[],"owner":{"account_id":20641289,"reputation":61,"user_id":15153889,"display_name":"JonatasAlmeida"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1621442655,"creation_date":1621442655,"answer_id":67607459,"question_id":60551105,"body_markdown":"You should use the same alias for the both Root elements, example:\r\n\r\n    Root&lt;FooEntity&gt; entityRoot = entityQuery.from(FooEntity.class);\r\n    entityRoot.alias(&quot;alias1&quot;) // Property alias\r\n    \r\n    Predicate[] predicates = createPredicates(criteriaBuilder, entityRoot, entityType );\r\n    \r\n    // Fetch the entities.\r\n    entityQuery.select(entityRoot);\r\n    entityQuery.where(predicates);\r\n    List&lt;FooEntity&gt; entities = entityManager.createQuery(entityQuery)\r\n        .setFirstResult(0)\r\n        .setMaxResults(50)\r\n        .getResultList();\r\n    \r\n    \r\n    CriteriaQuery&lt;Long&gt; countQuery = builder.createQuery(Long.class);\r\n    Root&lt;FooEntity&gt; newRoot = countQuery.from(FooEntity.class);\r\n    newRoot.alias(&quot;alias1&quot;); // Same property alias\r\n    \r\n    countQuery.select(builder.count(newRoot));\r\n    countQuery.where(predicates);\r\n    Long count = em.createQuery(countQuery).getSingleResult();\r\n\r\n\r\nThis way JPA understands and query using the same restrictions","title":"Using the same predicates for two criteria queries","body":"<p>You should use the same alias for the both Root elements, example:</p>\n<pre><code>Root&lt;FooEntity&gt; entityRoot = entityQuery.from(FooEntity.class);\nentityRoot.alias(&quot;alias1&quot;) // Property alias\n\nPredicate[] predicates = createPredicates(criteriaBuilder, entityRoot, entityType );\n\n// Fetch the entities.\nentityQuery.select(entityRoot);\nentityQuery.where(predicates);\nList&lt;FooEntity&gt; entities = entityManager.createQuery(entityQuery)\n    .setFirstResult(0)\n    .setMaxResults(50)\n    .getResultList();\n\n\nCriteriaQuery&lt;Long&gt; countQuery = builder.createQuery(Long.class);\nRoot&lt;FooEntity&gt; newRoot = countQuery.from(FooEntity.class);\nnewRoot.alias(&quot;alias1&quot;); // Same property alias\n\ncountQuery.select(builder.count(newRoot));\ncountQuery.where(predicates);\nLong count = em.createQuery(countQuery).getSingleResult();\n</code></pre>\n<p>This way JPA understands and query using the same restrictions</p>\n"},{"tags":[],"owner":{"account_id":17439251,"reputation":11,"user_id":12641671,"display_name":"Yurii Rybakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692925595,"creation_date":1692910409,"answer_id":76972872,"question_id":60551105,"body_markdown":"As an option, it is possible to get entities and count by using a single CriteriaQuery with multiselect. In this way we will reuse the same set of predicates as well. For example:\r\n\r\n    @Getter\r\n    class MultiselectBox {\r\n        long count;\r\n        Entity entity;\r\n\r\n        MultiselectBox(long c) { count = c; }        \r\n        MultiselectBox(Entity e) {  entity = e; }\r\n    }    \r\n    \r\n    class EntityDao {\r\n        EntityManager em;\r\n        \r\n        Page&lt;Entity&gt; search(Filter filter, Pageable pageRequest) {\r\n            var cb = em.getCriteriaBuilder();\r\n            var cq = cb.createQuery(MultiselectBox.class);\r\n            var root = cq.from(Entity.class);\r\n            \r\n            cq.multiselect(root).where(buildPredicates(filter));\r\n            cq.orderBy(buildSort(pageRequest.getSort()));\r\n            \r\n            var tq = em.createQuery(cq);\r\n            tq.setMaxResults(pageRequest.getPageSize());\r\n            tq.setFirstResult(pageRequest.getPageSize());\r\n            var results = tq.getResultList().stream()\r\n                    .map(MultiselectBox::getEntity).toList();\r\n            \r\n            long count;\r\n            if (results.size() &lt; pageRequest.getPageSize()) {\r\n                count = results.size();\r\n            } else {\r\n                cq.orderBy(Collections.emptyList());\r\n                cq.multiselect(cb.count(root));\r\n                count = em.createQuery(cq).getSingleResult().getCount();\r\n            }\r\n            \r\n            return new PageImpl&lt;&gt;(results, pageRequest, count);\r\n        }\r\n    }\r\n\r\nBase on this [discussion][1] it is impossible to reuse predicate between different queries at least in Hibernate 6.\r\n\r\n\r\n  [1]: https://discourse.hibernate.org/t/hibernate-6-1-6-using-jakarta-criteria-and-count-query-getting-exception-in-count-query-execution-if-count-query-contains-where-predicate/7455/2","title":"Using the same predicates for two criteria queries","body":"<p>As an option, it is possible to get entities and count by using a single CriteriaQuery with multiselect. In this way we will reuse the same set of predicates as well. For example:</p>\n<pre><code>@Getter\nclass MultiselectBox {\n    long count;\n    Entity entity;\n\n    MultiselectBox(long c) { count = c; }        \n    MultiselectBox(Entity e) {  entity = e; }\n}    \n\nclass EntityDao {\n    EntityManager em;\n    \n    Page&lt;Entity&gt; search(Filter filter, Pageable pageRequest) {\n        var cb = em.getCriteriaBuilder();\n        var cq = cb.createQuery(MultiselectBox.class);\n        var root = cq.from(Entity.class);\n        \n        cq.multiselect(root).where(buildPredicates(filter));\n        cq.orderBy(buildSort(pageRequest.getSort()));\n        \n        var tq = em.createQuery(cq);\n        tq.setMaxResults(pageRequest.getPageSize());\n        tq.setFirstResult(pageRequest.getPageSize());\n        var results = tq.getResultList().stream()\n                .map(MultiselectBox::getEntity).toList();\n        \n        long count;\n        if (results.size() &lt; pageRequest.getPageSize()) {\n            count = results.size();\n        } else {\n            cq.orderBy(Collections.emptyList());\n            cq.multiselect(cb.count(root));\n            count = em.createQuery(cq).getSingleResult().getCount();\n        }\n        \n        return new PageImpl&lt;&gt;(results, pageRequest, count);\n    }\n}\n</code></pre>\n<p>Base on this <a href=\"https://discourse.hibernate.org/t/hibernate-6-1-6-using-jakarta-criteria-and-count-query-getting-exception-in-count-query-execution-if-count-query-contains-where-predicate/7455/2\" rel=\"nofollow noreferrer\">discussion</a> it is impossible to reuse predicate between different queries at least in Hibernate 6.</p>\n"}],"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2338,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1692925595,"creation_date":1583429769,"question_id":60551105,"body_markdown":"I want to run a pair of queries using the same array of `Predicate`: one to count the records, one to get a certain page of records. This seems like a pretty normal use case, to me, so there must be a good way to do it, but I have yet to find it.\r\n\r\nSo this is the part that fetches entities:\r\n```\r\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\nEntityType&lt;ENTITY&gt; entityType = entityManager.getMetamodel().entity(FooEntity.class);\r\nCriteriaQuery&lt;FooEntity&gt; entityQuery = criteriaBuilder.createQuery(FooEntity.class);\r\nRoot&lt;FooEntity&gt; entityRoot = entityQuery.from(FooEntity.class);\r\n\r\n// Use the criteria builder, root, and type to create some predicates.\r\nPredicate[] predicates = createPredicates(criteriaBuilder, entityRoot, entityType );\r\n\r\n// Fetch the entities.\r\nentityQuery.select(entityRoot);\r\nentityQuery.where(predicates);\r\nList&lt;FooEntity&gt; entities = entityManager.createQuery(entityQuery)\r\n    .setFirstResult(0) // Just get the first page\r\n    .setMaxResults(50)\r\n    .getResultList();\r\n```\r\nThis works. We get what we desire, predicates are correct etc.\r\n\r\nHowever, creating another query to determine the count using the same predicates fails. I&#39;ve tried two different ways:\r\n\r\n(1) Re-using the `Root`:\r\n```\r\nCriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\r\ncountQuery.select(criteriaBuilder.count(entityRoot));\r\ncountQuery.where(predicates);\r\nlong count = entityManager.createQuery(countQuery).getSingleResult();\r\n```\r\nThis doesn&#39;t work and gives me `java.lang.IllegalStateException: No criteria query roots were specified`. Odd, since I clearly specified the `Root`, but perhaps I can&#39;t re-use a `Root` that was created from a different `CriteriaQuery`? Fine, let&#39;s create one from the same `CriteriaQuery`...\r\n\r\n(2) Creating a new `Root`:\r\n```\r\nCriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\r\ncountQuery.select(criteriaBuilder.count(countQuery.from(FooEntity.class));\r\ncountQuery.where(predicates);\r\nlong count = entityManager.createQuery(countQuery).getSingleResult();\r\n```\r\nNow we get a different error: `org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: &#39;generatedAlias1.fooProperty&#39; [select count(generatedAlias0) from com.foo.FooEntity as generatedAlias0 where ( generatedAlias1.fooProperty = :param0 )]`\r\n\r\nLooking at the HQL that was created, it appears that the &quot;from&quot; clause sets a `generatedAlias0`, but all the stuff in the &quot;where&quot; clause references `generatedAlias1`. My guess is because the array of `Predicate` was built using a different `Root` than was used in the `CriteriaQuery&lt;Long&gt;`.\r\n\r\nSo, if it doesn&#39;t work either way, how would I re-use the same array of `Predicate`? Do I really have to re-create all of them with the second `Root`? That seems super excessive to me, especially since they&#39;re both `Root&lt;FooEntity&gt;`. I feel like there must be a better way.","title":"Using the same predicates for two criteria queries","body":"<p>I want to run a pair of queries using the same array of <code>Predicate</code>: one to count the records, one to get a certain page of records. This seems like a pretty normal use case, to me, so there must be a good way to do it, but I have yet to find it.</p>\n\n<p>So this is the part that fetches entities:</p>\n\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nEntityType&lt;ENTITY&gt; entityType = entityManager.getMetamodel().entity(FooEntity.class);\nCriteriaQuery&lt;FooEntity&gt; entityQuery = criteriaBuilder.createQuery(FooEntity.class);\nRoot&lt;FooEntity&gt; entityRoot = entityQuery.from(FooEntity.class);\n\n// Use the criteria builder, root, and type to create some predicates.\nPredicate[] predicates = createPredicates(criteriaBuilder, entityRoot, entityType );\n\n// Fetch the entities.\nentityQuery.select(entityRoot);\nentityQuery.where(predicates);\nList&lt;FooEntity&gt; entities = entityManager.createQuery(entityQuery)\n    .setFirstResult(0) // Just get the first page\n    .setMaxResults(50)\n    .getResultList();\n</code></pre>\n\n<p>This works. We get what we desire, predicates are correct etc.</p>\n\n<p>However, creating another query to determine the count using the same predicates fails. I've tried two different ways:</p>\n\n<p>(1) Re-using the <code>Root</code>:</p>\n\n<pre><code>CriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\ncountQuery.select(criteriaBuilder.count(entityRoot));\ncountQuery.where(predicates);\nlong count = entityManager.createQuery(countQuery).getSingleResult();\n</code></pre>\n\n<p>This doesn't work and gives me <code>java.lang.IllegalStateException: No criteria query roots were specified</code>. Odd, since I clearly specified the <code>Root</code>, but perhaps I can't re-use a <code>Root</code> that was created from a different <code>CriteriaQuery</code>? Fine, let's create one from the same <code>CriteriaQuery</code>...</p>\n\n<p>(2) Creating a new <code>Root</code>:</p>\n\n<pre><code>CriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\ncountQuery.select(criteriaBuilder.count(countQuery.from(FooEntity.class));\ncountQuery.where(predicates);\nlong count = entityManager.createQuery(countQuery).getSingleResult();\n</code></pre>\n\n<p>Now we get a different error: <code>org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: 'generatedAlias1.fooProperty' [select count(generatedAlias0) from com.foo.FooEntity as generatedAlias0 where ( generatedAlias1.fooProperty = :param0 )]</code></p>\n\n<p>Looking at the HQL that was created, it appears that the \"from\" clause sets a <code>generatedAlias0</code>, but all the stuff in the \"where\" clause references <code>generatedAlias1</code>. My guess is because the array of <code>Predicate</code> was built using a different <code>Root</code> than was used in the <code>CriteriaQuery&lt;Long&gt;</code>.</p>\n\n<p>So, if it doesn't work either way, how would I re-use the same array of <code>Predicate</code>? Do I really have to re-create all of them with the second <code>Root</code>? That seems super excessive to me, especially since they're both <code>Root&lt;FooEntity&gt;</code>. I feel like there must be a better way.</p>\n"},{"tags":["java","javafx","abstract-class","static-methods","abstract-methods"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690737856,"post_id":76798326,"comment_id":135391846,"body_markdown":"This is nothing special about JFX. Have you seen the [abstract classes tutorial](https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)? The abstract class says what methods need to be defined, and the compiler can make sure you do define them, so it&#39;s safe to call them.","body":"This is nothing special about JFX. Have you seen the <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">abstract classes tutorial</a>? The abstract class says what methods need to be defined, and the compiler can make sure you do define them, so it&#39;s safe to call them."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1690744232,"post_id":76798326,"comment_id":135392526,"body_markdown":"@Robert Actually there are special things about the JavaFX application [launch process](https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/java/javafx/application/Application.java#L274) IMO.  It works in a highly unusual way, as it uses a combination of stack trace call back trace and reflection to work out call stack history and invoke historical methods.  That doesn&#39;t negate your comments around abstract classes though.","body":"@Robert Actually there are special things about the JavaFX application <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/java/javafx/application/Application.java#L274\" rel=\"nofollow noreferrer\">launch process</a> IMO.  It works in a highly unusual way, as it uses a combination of stack trace call back trace and reflection to work out call stack history and invoke historical methods.  That doesn&#39;t negate your comments around abstract classes though."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690744277,"post_id":76798326,"comment_id":135392533,"body_markdown":"Additionally, in earlier versions of JavaFX, launch was integrated with JVM startup similar to but different from main method processing, so you could execute an application that [launched the VM and did not even define a main class](https://stackoverflow.com/questions/47139115/running-javafx-app-without-main-method).  That was also kind of a special IMO.  I don&#39;t think the technology exists in recent JavaFX distributions, but some of the strange handling of how launch works may be a legacy of that design.","body":"Additionally, in earlier versions of JavaFX, launch was integrated with JVM startup similar to but different from main method processing, so you could execute an application that <a href=\"https://stackoverflow.com/questions/47139115/running-javafx-app-without-main-method\">launched the VM and did not even define a main class</a>.  That was also kind of a special IMO.  I don&#39;t think the technology exists in recent JavaFX distributions, but some of the strange handling of how launch works may be a legacy of that design."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690744570,"post_id":76798326,"comment_id":135392566,"body_markdown":"Make sure you understand the [application lifecycle](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html). Don&#39;t define your own class named `Application`, that is not even a JavaFX `Application`.  That is super confusing.","body":"Make sure you understand the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">application lifecycle</a>. Don&#39;t define your own class named <code>Application</code>, that is not even a JavaFX <code>Application</code>.  That is super confusing."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1690757178,"post_id":76798326,"comment_id":135393770,"body_markdown":"@jewelsea The &quot;special handling&quot; that allows omitting the main method in JavaFX applications actually [is still part of the current OpenJDK versions](https://github.com/openjdk/jdk/blob/ad34be1f329edc8e7155983835cc70d733c014b8/src/java.base/share/classes/sun/launcher/LauncherHelper.java#L1070). I once submitted an issue for a separate problem, though it was related to the JavaFX startup process, and [Kevin had argued removing this &quot;special handling&quot; would be too disruptive.](https://github.com/javafxports/openjdk-jfx/issues/570#issuecomment-524546199) Looks like they never revisited it.","body":"@jewelsea The &quot;special handling&quot; that allows omitting the main method in JavaFX applications actually <a href=\"https://github.com/openjdk/jdk/blob/ad34be1f329edc8e7155983835cc70d733c014b8/src/java.base/share/classes/sun/launcher/LauncherHelper.java#L1070\" rel=\"nofollow noreferrer\">is still part of the current OpenJDK versions</a>. I once submitted an issue for a separate problem, though it was related to the JavaFX startup process, and <a href=\"https://github.com/javafxports/openjdk-jfx/issues/570#issuecomment-524546199\" rel=\"nofollow noreferrer\">Kevin had argued removing this &quot;special handling&quot; would be too disruptive.</a> Looks like they never revisited it."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690759275,"post_id":76798326,"comment_id":135393899,"body_markdown":"&quot;Note that the `start` method is abstract and must be overridden.&quot;","body":"&quot;Note that the <code>start</code> method is abstract and must be overridden.&quot;"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690833705,"post_id":76798326,"comment_id":135405442,"body_markdown":"Related: [*JavaFX runtime main method*](https://stackoverflow.com/q/52434404/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/52434404/642706\"><i>JavaFX runtime main method</i></a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691470730,"post_id":76798326,"comment_id":135492230,"body_markdown":"Related: [*JavaFX Application class - difference between default constructor and init method*](https://stackoverflow.com/q/34786120/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/34786120/642706\"><i>JavaFX Application class - difference between default constructor and init method</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1690797169,"creation_date":1690759937,"answer_id":76799962,"question_id":76798326,"body_markdown":"The [`Application#launch(String...)`][1] method is defined to:\r\n\r\n&gt; Launch a standalone application. This method is typically called from the `main` method. _[...]_. This is equivalent to `launch(TheClass.class, args)` where `TheClass` is the immediately enclosing class of the method that called launch.\r\n\r\nSo, it _does_ know the name of the main class by getting the &quot;caller class&quot;. It then creates an instance of the application class via reflection and invokes the `init()` and `start(Stage)` methods as appropriate.\r\n\r\nThe instantiation of the `Application` **implementation**&lt;sup&gt;1&lt;/sup&gt; and the invoking of `init()`, `start(Stage)`, and `stop()`, are all part of the [JavaFX life-cycle (documented by `Application`)][3]. You don&#39;t instantiate the application class, nor do you call those methods. It&#39;s handled by JavaFX.\r\n\r\nNote you should not have your own `Application` class. Not only is it confusing to name a class the same as a class from the framework you&#39;re using, but it does nothing for you. You need to extend `javafx.application.Application` if you want the normal JavaFX life-cycle.\r\n\r\n---\r\n\r\n&lt;sup&gt;1. It&#39;s not the `Application` class itself that&#39;s instantiated, as it&#39;s abstract. However, you must provide a concrete subclass (i.e., implementation) as part of your project, and it&#39;s that class that&#39;s instantiated. Of course, from the point of view of JavaFX, it only knows it has an instance of `Application`. But that is basic polymorphism at work.&lt;/sup&gt;\r\n\r\n---\r\n\r\n\r\n# How Does JavaFX Do It?\r\n\r\nHere&#39;s some non-JavaFX code demonstrating the process. Note it&#39;s vastly simplified and does things slightly differently from the actual JavaFX implementation.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.util.Objects;\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\npublic abstract class Application {\r\n\r\n  private static final AtomicBoolean LAUNCHED = new AtomicBoolean();\r\n  private static Throwable error;\r\n\r\n  public static void launch(Class&lt;? extends Application&gt; appClass, String... args) {\r\n    Objects.requireNonNull(appClass);\r\n    Objects.requireNonNull(args);\r\n    if (!LAUNCHED.compareAndSet(false, true)) {\r\n      throw new IllegalStateException(&quot;already launched&quot;);\r\n    }\r\n\r\n    CountDownLatch startLatch = new CountDownLatch(1);\r\n\r\n    Thread eventThread = new Thread(() -&gt; {\r\n      try {\r\n        Application instance = appClass.getConstructor().newInstance();\r\n        instance.start(args);\r\n      } catch (Throwable error) {\r\n        Application.error = error;\r\n      } finally {\r\n        startLatch.countDown();\r\n      }\r\n    });\r\n    eventThread.setName(&quot;Application Event Thread&quot;);\r\n    eventThread.start();\r\n\r\n    try {\r\n      startLatch.await();\r\n    } catch (InterruptedException ex) {\r\n      throw new RuntimeException(ex);\r\n    }\r\n\r\n    if (error != null) {\r\n      throw new RuntimeException(&quot;Exception in Application start method&quot;, error);\r\n    }\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public static void launch(String... args) {\r\n    StackWalker walker = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE);\r\n    Class&lt;?&gt; callerClass = walker.getCallerClass();\r\n    if (!Application.class.isAssignableFrom(callerClass)) {\r\n      throw new IllegalStateException(&quot;caller class is not a subclass of com.example.Application&quot;);\r\n    }\r\n    launch((Class&lt;? extends Application&gt;) callerClass, args);\r\n  }\r\n\r\n  public abstract void start(String[] args);\r\n}\r\n```\r\n\r\nThen some other code can do:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Main extends Application {\r\n\r\n  public static void main(String[] args) {\r\n    launch(args);\r\n  }\r\n\r\n  @Override\r\n  public void start(String[] args) {\r\n    System.out.println(&quot;Started! args = &quot; + Arrays.toString(args));\r\n  }\r\n}\r\n```\r\n\r\nWithout having to pass the class to `launch`.\r\n\r\nAs noted, this is vastly simplified from what JavaFX actually does, and it uses some different APIs. For instance:\r\n\r\n* I used `java.lang.StackWalker` (added in Java 9). JavaFX currently (as of 21-ea) still uses code that manually walks the stack trace via `Thread.currentThread().getStackTrace()`.\r\n\r\n* The _JavaFX Application Thread_ is not created manually like I did for the &quot;Application Event Thread&quot; above. Instead, the FX thread is managed by the JavaFX framework, and the real launch code makes use of the internal version of `Platform#runLater(Runnable)`.\r\n\r\n     * However, the real JavaFX code does do something similar to what I did for the &quot;JavaFX-Launcher Thread&quot; used to invoke the `init()` method.\r\n\r\n     * My code has the &quot;Application Event Thread&quot; instantiate the class, call `start(String[])`, and then die (once `start` returns). That&#39;s not how the _JavaFX Application Thread_ works, which essentially runs in a loop.\r\n\r\n* The real JavaFX code has to deal with potential `Preloader`s.\r\n\r\n* The real JavaFX code creates a `Stage` instance that it passes to the `start(Stage)` method; I &quot;simulate&quot; that by passing the given command line arguments array. Though note in a real JavaFX application, if you pass the command line arguments to `launch`, then those arguments are encapsulated in a `Parameters` object (and rudimentarily parsed).\r\n\r\n* In the real JavaFX code, the thread that calls `launch` is blocked until the framework exits.\r\n\r\n\r\nIf you&#39;re truly curious about the entire process, then I recommend you [follow the source code][2].\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n   [1]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\r\n   [2]: https://github.com/openjdk/jfx/blob/2dc699a8661fb23040c9f8e3905713229e615816/modules/javafx.graphics/src/main/java/javafx/application/Application.java#L274\r\n   [3]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html","title":"I Want to Understand How abstract class Application&#39;s launch() method work in JavaFX","body":"<p>The <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Application#launch(String...)</code></a> method is defined to:</p>\n<blockquote>\n<p>Launch a standalone application. This method is typically called from the <code>main</code> method. <em>[...]</em>. This is equivalent to <code>launch(TheClass.class, args)</code> where <code>TheClass</code> is the immediately enclosing class of the method that called launch.</p>\n</blockquote>\n<p>So, it <em>does</em> know the name of the main class by getting the &quot;caller class&quot;. It then creates an instance of the application class via reflection and invokes the <code>init()</code> and <code>start(Stage)</code> methods as appropriate.</p>\n<p>The instantiation of the <code>Application</code> <strong>implementation</strong><sup>1</sup> and the invoking of <code>init()</code>, <code>start(Stage)</code>, and <code>stop()</code>, are all part of the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">JavaFX life-cycle (documented by <code>Application</code>)</a>. You don't instantiate the application class, nor do you call those methods. It's handled by JavaFX.</p>\n<p>Note you should not have your own <code>Application</code> class. Not only is it confusing to name a class the same as a class from the framework you're using, but it does nothing for you. You need to extend <code>javafx.application.Application</code> if you want the normal JavaFX life-cycle.</p>\n<hr />\n<p><sup>1. It's not the <code>Application</code> class itself that's instantiated, as it's abstract. However, you must provide a concrete subclass (i.e., implementation) as part of your project, and it's that class that's instantiated. Of course, from the point of view of JavaFX, it only knows it has an instance of <code>Application</code>. But that is basic polymorphism at work.</sup></p>\n<hr />\n<h1>How Does JavaFX Do It?</h1>\n<p>Here's some non-JavaFX code demonstrating the process. Note it's vastly simplified and does things slightly differently from the actual JavaFX implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.Objects;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic abstract class Application {\n\n  private static final AtomicBoolean LAUNCHED = new AtomicBoolean();\n  private static Throwable error;\n\n  public static void launch(Class&lt;? extends Application&gt; appClass, String... args) {\n    Objects.requireNonNull(appClass);\n    Objects.requireNonNull(args);\n    if (!LAUNCHED.compareAndSet(false, true)) {\n      throw new IllegalStateException(&quot;already launched&quot;);\n    }\n\n    CountDownLatch startLatch = new CountDownLatch(1);\n\n    Thread eventThread = new Thread(() -&gt; {\n      try {\n        Application instance = appClass.getConstructor().newInstance();\n        instance.start(args);\n      } catch (Throwable error) {\n        Application.error = error;\n      } finally {\n        startLatch.countDown();\n      }\n    });\n    eventThread.setName(&quot;Application Event Thread&quot;);\n    eventThread.start();\n\n    try {\n      startLatch.await();\n    } catch (InterruptedException ex) {\n      throw new RuntimeException(ex);\n    }\n\n    if (error != null) {\n      throw new RuntimeException(&quot;Exception in Application start method&quot;, error);\n    }\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public static void launch(String... args) {\n    StackWalker walker = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE);\n    Class&lt;?&gt; callerClass = walker.getCallerClass();\n    if (!Application.class.isAssignableFrom(callerClass)) {\n      throw new IllegalStateException(&quot;caller class is not a subclass of com.example.Application&quot;);\n    }\n    launch((Class&lt;? extends Application&gt;) callerClass, args);\n  }\n\n  public abstract void start(String[] args);\n}\n</code></pre>\n<p>Then some other code can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.Arrays;\n\npublic class Main extends Application {\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n  @Override\n  public void start(String[] args) {\n    System.out.println(&quot;Started! args = &quot; + Arrays.toString(args));\n  }\n}\n</code></pre>\n<p>Without having to pass the class to <code>launch</code>.</p>\n<p>As noted, this is vastly simplified from what JavaFX actually does, and it uses some different APIs. For instance:</p>\n<ul>\n<li><p>I used <code>java.lang.StackWalker</code> (added in Java 9). JavaFX currently (as of 21-ea) still uses code that manually walks the stack trace via <code>Thread.currentThread().getStackTrace()</code>.</p>\n</li>\n<li><p>The <em>JavaFX Application Thread</em> is not created manually like I did for the &quot;Application Event Thread&quot; above. Instead, the FX thread is managed by the JavaFX framework, and the real launch code makes use of the internal version of <code>Platform#runLater(Runnable)</code>.</p>\n<ul>\n<li><p>However, the real JavaFX code does do something similar to what I did for the &quot;JavaFX-Launcher Thread&quot; used to invoke the <code>init()</code> method.</p>\n</li>\n<li><p>My code has the &quot;Application Event Thread&quot; instantiate the class, call <code>start(String[])</code>, and then die (once <code>start</code> returns). That's not how the <em>JavaFX Application Thread</em> works, which essentially runs in a loop.</p>\n</li>\n</ul>\n</li>\n<li><p>The real JavaFX code has to deal with potential <code>Preloader</code>s.</p>\n</li>\n<li><p>The real JavaFX code creates a <code>Stage</code> instance that it passes to the <code>start(Stage)</code> method; I &quot;simulate&quot; that by passing the given command line arguments array. Though note in a real JavaFX application, if you pass the command line arguments to <code>launch</code>, then those arguments are encapsulated in a <code>Parameters</code> object (and rudimentarily parsed).</p>\n</li>\n<li><p>In the real JavaFX code, the thread that calls <code>launch</code> is blocked until the framework exits.</p>\n</li>\n</ul>\n<p>If you're truly curious about the entire process, then I recommend you <a href=\"https://github.com/openjdk/jfx/blob/2dc699a8661fb23040c9f8e3905713229e615816/modules/javafx.graphics/src/main/java/javafx/application/Application.java#L274\" rel=\"nofollow noreferrer\">follow the source code</a>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692922684,"creation_date":1690776241,"answer_id":76800602,"question_id":76798326,"body_markdown":"[**Caveat:** I am *not* an expert on JavaFX. I may well be wrong on some points.]\r\n\r\n## tl;dr\r\n\r\nThe abstract `javafx.application.Application` class is *not* being instantiated. As you correctly note, instantiating an abstract class would violate the [Java language specification][1]. \r\n\r\nThe JavaFX framework uses the magic of reflection to &#128073;&#127996; instantiate an object of a concrete class, your subclass of `Application`. \r\n\r\nThe non-static methods `init`, `start`, and `stop` defined by `Application` are being implemented by your subclass of `Application`. It is those implementations you write on your concrete subclass that are being executed by the JavaFX framework. \r\n\r\nSo concrete methods on an object of a concrete class, no `abstract` involved.\r\n\r\n## Lifecycle\r\n\r\nLet&#39;s review the lifecycle of a modern [JavaFX][2]/[OpenJFX][3] app.\r\n\r\n### `main`\r\n\r\nWhen any kind of Java app launches, the JVM executes the designated `main` method in a thread dedicated to that app. \r\n\r\n### `launch`\r\n\r\nIn a JavaFX app, that `main` method should be written to call either of the two overloaded `static` methods [`javafx.application.Application.launch`][4]. The class containing this `main` method must either (a) extend from `javafx.application.Application`, *or* (b) the call to `launch` must pass the `Class` object of your class that *does* extend from `Application`. \r\n\r\nThe `launch` method is only called once per life of your app. And the `launch` method does not return until the end of the app’s life.\r\n\r\nSomething like this:\r\n\r\n```java\r\npublic class TimeApplication extends Application\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        javafx.application.Application.launch ();\r\n    }\r\n}\r\n```\r\n\r\n### `init`\r\n\r\nImmediately after loading and constructing the `Application` class via your subclass, the [`Application#init`][5] method is automatically called. This call happens on a background thread, as seen in my example code below. This background thread is *not* the original app thread, and is *not* the *JavaFX Application Thread* discussed below.\r\n\r\nThe default implementation of that method does nothing. You may choose to provide an implementation that overrides this method. That override is your hook to perform initialization crucial to your app *before* any of the GUI has been established. \r\n\r\nYou may want to use the `init` override to establish necessary resources, and verify the operating environment. For example, you may want to verify that expected external services are indeed available such as user authenticators, web services, message queues, and database servers. Your `init` method might spin off threads to prepare information later needed by your user. \r\n\r\n&#128073;&#127996; But you **cannot construct a `Stage` or `Scene` in `init`** as the JavaFX display framework has not yet been established. You may construct other JavaFX objects. You set the `Scene` &amp; `Stage` and their contents in the `start` method running on a separate thread. \r\n\r\nSimple example:\r\n\r\n```java\r\npublic class TimeApplication extends Application\r\n{\r\n    @Override\r\n    public void init ( ) throws Exception  // On original app thread.\r\n    {\r\n        if ( ! userAuthServiceIsAvailable ( ) )\r\n        {\r\n            // … handle failure … \r\n        }\r\n    }\r\n\r\n    public static void main ( String[] args )  // On original app thread.\r\n    {\r\n        Application.launch ( );\r\n    }\r\n}\r\n```\r\n\r\n### `start`\r\n\r\nAfter the `init` method (either your override or the default [no-op][6]) completes its execution, then [`Application#start`][7] is automatically called. The JavaFX framework automatically constructs and passes a `Stage` object representing the initial window of your app. \r\n\r\nTo quote the Javadoc:\r\n\r\n&gt;The main entry point for all JavaFX applications. The `start` method is called after the `init` method has returned, and after the system is ready for the application to begin running.\r\n\r\nThe `Application#start` method is the place to establish the initial GUI for your app. You construct a `Scene` object, and assign it to the passed `Stage` object.\r\n\r\nThis method executes on a new thread established for JavaFX GUI event handling. This thread is known in the Javadoc as *JavaFX Application Thread*.\r\n\r\nNote that `start` is marked `abstract`, which means the `Application` class does *not* contain an implementation of this method. This means your subclass of `Application` *must* contain an implementation for this method —&#160;if omitted your app would not compile. Note the contrast to `init` and `stop` methods which are not `abstract` and have an implementation in `Application` (an implementation that happens to do nothing, but an implementation nevertheless). So writing an override for `init` &amp; `stop` is optional for us, but writing a `start` method is required.\r\n\r\n### `stop`\r\n\r\nThe counterpart to `Application#start` is [`Application#stop`][8]. The method is automatically called by the JavaFX framework when the app is going to quit/exit. \r\n\r\nThe default implementation does nothing. You may choose to override this method as a hook for you to close resources and perform other clean-up chores appropriate to the app ending.\r\n\r\nThis method executes on the *JavaFX Application Thread*. \r\n\r\n### Example code\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.time.Instant;\r\n\r\npublic class TimeApplication extends Application\r\n{\r\n    @Override\r\n    public void init ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;The init method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n        if ( ! this.userAuthServiceIsAvailable ( ) )\r\n        { /* … handle failure … */ }\r\n    }\r\n\r\n    @Override\r\n    public void start ( Stage stage )\r\n    {\r\n        System.out.println ( &quot;The start method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n\r\n        // Scene\r\n        Button button = new Button ( );\r\n        button.setText ( &quot;Tell time&quot; );\r\n        button.setOnAction ( ( event ) -&gt; System.out.println ( Instant.now ( ) ) );\r\n\r\n        VBox vbox = new VBox ( button );\r\n        Scene scene = new Scene ( vbox );\r\n\r\n        // Stage\r\n        stage.setTitle ( &quot;Time keeps on slipping, slipping, slipping&quot; );\r\n        stage.setHeight ( 300 );\r\n        stage.setWidth ( 500 );\r\n\r\n        stage.setScene ( scene );\r\n        stage.show ( );\r\n    }\r\n\r\n    @Override\r\n    public void stop ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;The stop method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private boolean userAuthServiceIsAvailable ( )\r\n    {\r\n        return true;\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        System.out.println ( &quot;The main method is beginning on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n        Application.launch ( );\r\n        System.out.println ( &quot;The main method is ending on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n```\r\n\r\nBe aware that output to `System.out` does *not* necessarily appear in chronological order when called across threads. Include timestamps, and study them, to verify sequence of actions. \r\n\r\nExample output:\r\n\r\n```none\r\nThe main method is beginning on thread 1 “main” at 2023-07-31T19:57:37.255140Z\r\nThe init method is running on thread 27 “JavaFX-Launcher” at 2023-07-31T19:57:37.262522Z\r\nThe start method is running on thread 24 “JavaFX Application Thread” at 2023-07-31T19:57:37.268091Z\r\n2023-07-31T19:57:39.206604Z\r\n2023-07-31T19:57:39.391998Z\r\n2023-07-31T19:57:39.524548Z\r\nThe stop method is running on thread 24 “JavaFX Application Thread” at 2023-07-31T19:57:42.402692Z\r\nThe main method is ending on thread 1 “main” at 2023-07-31T19:57:42.404950Z\r\n```\r\n\r\n### Summary of lifecycle\r\n\r\nHere is my table of lifecycle activities. Note that `init` and `start` run at the same time, ***not* sequentially**, running on separate threads. \r\n\r\n| Sequence | *main*&lt;br/&gt;thread | *JavaFX-Launcher*&lt;br/&gt;thread | *JavaFX Application Thread*&lt;br/&gt;thread |\r\n| :--: | :--: | :--: | :--: |\r\n| 1 | `main` method | | |\r\n| 2 | Your call to [`Application.launch`][4]&lt;br/&gt;(blocks)| | |\r\n| 3 | | | Construction of your subclass of [`Application`][9]&lt;br/&gt;via reflection&lt;br/&gt;by the *JavaFX* framework |\r\n| 4 | | Either no-op or your override of [`Application#init`][5] | Your implementation of [`Application#start`][7]&lt;br/&gt;(you establish [`Scene`][10] &amp; [`Stage`][11]) | \r\n| 5 | | `init` may continue running indefinitely | • User events&lt;br/&gt;• Animation timelines |\r\n| 6 | | | • User closes last window&lt;br/&gt;• Or, [`Platform.exit`][12] called on this or any other thread |\r\n| 7 | | | Either no-op or your override of [`Application#stop`][8] |\r\n| 8 | [`Application.launch`][4] returns | | |\r\n\r\nSequence step # 3 is when the JavaFX framework uses reflection to instantiate an object of your subclass of `Application`. \r\n\r\n\r\n## Your questions\r\n\r\n&gt;in javaFX Application is an abstract class.\r\n\r\nYes. Being abstract means you are intended to write a subclass of `Application`. Thus we have `TimeApplication extends Application` in code above.\r\n\r\n&gt; some abstract methods which are overridden in main class which extends abstract Application class and also have static launch() method\r\n\r\nYes, both `launch` methods are `static`. So we call them with syntax like this: `Application.launch()`. No reference to an object. \r\n\r\nWe usually make the `static` call `Application.launch()` from the `static` method `main`. So we have a `static` call within another `static` call —&#160;no objects involved.\r\n\r\n&gt;The launch() method calls from the main method in main class.\r\n\r\nBe aware that the `main` method *may or may not* be housed within the class inheriting from `Application`. \r\n\r\nThe JavaFX framework examines the class containing the `Application.launch` call. If that class extends the `abstract` class `Application`, then you can use the `launch` method with only a single argument, `args`. If you have an arrangement where the call to `Application.launch` takes place in some class that is *not* a subclass of `Application`, then you must use the other [`launch`][13] method where you pass a `Class` object that represents the class that *is* a subclass of `Application`. \r\n\r\n&#128073;&#127996; What may be confusing you is the lack of a reference to an object of your  subclass of `Application`. In our example code above, at no point do we see an instantiation like this:\r\n\r\n    TimeApplication timeApp = new TimeApplication() ;\r\n\r\nThe reason we see no such instantiation is because of some “magic” in JavaFX. The JavaFX framework is using [reflection][14] to instantiate our subclass on our behalf. \r\n\r\nThe construction of our subclass happens behind the scenes, with no reference in our sight. At no point do we get back a reference to the object of our subclass. See discussion on the Question [*Getting application instance in javafx*](https://stackoverflow.com/q/27652509/642706). If you really want a reference to the object of your subclass of `Application`, see the workaround in [this Answer](https://stackoverflow.com/a/40030071/642706).\r\n\r\n&gt;Now how is it possible launch() method calls these abstract methods and for these calls overridden methods in main class are executes?\r\n\r\nThe `static` call to `Application.launch` results in the concrete subclass (`TimeApplication` in our example) inheriting from the abstract `Application` class. So we have an object, a `TimeApplication` object, in memory, but we do not see any reference to it. That object has the override methods of `init`, `start`, and `stop`. So we have a concrete object, not abstract, with regular overrides methods being executed at various points in time on various threads. The Java rules you mention are being followed properly, as described in these two bullets:\r\n\r\n - &gt;I know that non-static method can&#39;t invoked from static method\r\n\r\nWe are not invoking non-static methods from a static context. The non-static `init`, `start`, and `stop` methods are being executed on an object of our concrete subclass `TimeApplication` that was automatically instantiated for us, not by us. The calls to those methods `init`, `start`, and `stop` are also being made for us, not by us.\r\n - &gt;and it is not possible to create instance of an abstract class. \r\n\r\nYou are correct — No instance was made of the abstract class `Application`. The JavaFX used the magic of reflection to create, behind the curtains, an instance of our subclass of `Application`. Via reflection, JavaFX created an instance of `TimeApplication` in our example above. The framework instantiated an object of a concrete subclass extending an abstract class. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/\r\n  [2]: https://en.wikipedia.org/wiki/JavaFX\r\n  [3]: https://openjfx.io/\r\n  [4]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\r\n  [5]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#init()\r\n  [6]: https://en.wikipedia.org/wiki/NOP_(code)\r\n  [7]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#start(javafx.stage.Stage)\r\n  [8]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#stop()\r\n  [9]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\r\n  [10]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Scene.html\r\n  [11]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/stage/Stage.html\r\n  [12]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Platform.html#exit()\r\n  [13]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.Class,java.lang.String...)\r\n  [14]: https://en.wikipedia.org/wiki/Reflective_programming","title":"I Want to Understand How abstract class Application&#39;s launch() method work in JavaFX","body":"<p>[<strong>Caveat:</strong> I am <em>not</em> an expert on JavaFX. I may well be wrong on some points.]</p>\n<h2>tl;dr</h2>\n<p>The abstract <code>javafx.application.Application</code> class is <em>not</em> being instantiated. As you correctly note, instantiating an abstract class would violate the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java language specification</a>.</p>\n<p>The JavaFX framework uses the magic of reflection to 👉🏼 instantiate an object of a concrete class, your subclass of <code>Application</code>.</p>\n<p>The non-static methods <code>init</code>, <code>start</code>, and <code>stop</code> defined by <code>Application</code> are being implemented by your subclass of <code>Application</code>. It is those implementations you write on your concrete subclass that are being executed by the JavaFX framework.</p>\n<p>So concrete methods on an object of a concrete class, no <code>abstract</code> involved.</p>\n<h2>Lifecycle</h2>\n<p>Let's review the lifecycle of a modern <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a>/<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> app.</p>\n<h3><code>main</code></h3>\n<p>When any kind of Java app launches, the JVM executes the designated <code>main</code> method in a thread dedicated to that app.</p>\n<h3><code>launch</code></h3>\n<p>In a JavaFX app, that <code>main</code> method should be written to call either of the two overloaded <code>static</code> methods <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>javafx.application.Application.launch</code></a>. The class containing this <code>main</code> method must either (a) extend from <code>javafx.application.Application</code>, <em>or</em> (b) the call to <code>launch</code> must pass the <code>Class</code> object of your class that <em>does</em> extend from <code>Application</code>.</p>\n<p>The <code>launch</code> method is only called once per life of your app. And the <code>launch</code> method does not return until the end of the app’s life.</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeApplication extends Application\n{\n    public static void main ( String[] args )\n    {\n        javafx.application.Application.launch ();\n    }\n}\n</code></pre>\n<h3><code>init</code></h3>\n<p>Immediately after loading and constructing the <code>Application</code> class via your subclass, the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#init()\" rel=\"nofollow noreferrer\"><code>Application#init</code></a> method is automatically called. This call happens on a background thread, as seen in my example code below. This background thread is <em>not</em> the original app thread, and is <em>not</em> the <em>JavaFX Application Thread</em> discussed below.</p>\n<p>The default implementation of that method does nothing. You may choose to provide an implementation that overrides this method. That override is your hook to perform initialization crucial to your app <em>before</em> any of the GUI has been established.</p>\n<p>You may want to use the <code>init</code> override to establish necessary resources, and verify the operating environment. For example, you may want to verify that expected external services are indeed available such as user authenticators, web services, message queues, and database servers. Your <code>init</code> method might spin off threads to prepare information later needed by your user.</p>\n<p>👉🏼 But you <strong>cannot construct a <code>Stage</code> or <code>Scene</code> in <code>init</code></strong> as the JavaFX display framework has not yet been established. You may construct other JavaFX objects. You set the <code>Scene</code> &amp; <code>Stage</code> and their contents in the <code>start</code> method running on a separate thread.</p>\n<p>Simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeApplication extends Application\n{\n    @Override\n    public void init ( ) throws Exception  // On original app thread.\n    {\n        if ( ! userAuthServiceIsAvailable ( ) )\n        {\n            // … handle failure … \n        }\n    }\n\n    public static void main ( String[] args )  // On original app thread.\n    {\n        Application.launch ( );\n    }\n}\n</code></pre>\n<h3><code>start</code></h3>\n<p>After the <code>init</code> method (either your override or the default <a href=\"https://en.wikipedia.org/wiki/NOP_(code)\" rel=\"nofollow noreferrer\">no-op</a>) completes its execution, then <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#start(javafx.stage.Stage)\" rel=\"nofollow noreferrer\"><code>Application#start</code></a> is automatically called. The JavaFX framework automatically constructs and passes a <code>Stage</code> object representing the initial window of your app.</p>\n<p>To quote the Javadoc:</p>\n<blockquote>\n<p>The main entry point for all JavaFX applications. The <code>start</code> method is called after the <code>init</code> method has returned, and after the system is ready for the application to begin running.</p>\n</blockquote>\n<p>The <code>Application#start</code> method is the place to establish the initial GUI for your app. You construct a <code>Scene</code> object, and assign it to the passed <code>Stage</code> object.</p>\n<p>This method executes on a new thread established for JavaFX GUI event handling. This thread is known in the Javadoc as <em>JavaFX Application Thread</em>.</p>\n<p>Note that <code>start</code> is marked <code>abstract</code>, which means the <code>Application</code> class does <em>not</em> contain an implementation of this method. This means your subclass of <code>Application</code> <em>must</em> contain an implementation for this method — if omitted your app would not compile. Note the contrast to <code>init</code> and <code>stop</code> methods which are not <code>abstract</code> and have an implementation in <code>Application</code> (an implementation that happens to do nothing, but an implementation nevertheless). So writing an override for <code>init</code> &amp; <code>stop</code> is optional for us, but writing a <code>start</code> method is required.</p>\n<h3><code>stop</code></h3>\n<p>The counterpart to <code>Application#start</code> is <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#stop()\" rel=\"nofollow noreferrer\"><code>Application#stop</code></a>. The method is automatically called by the JavaFX framework when the app is going to quit/exit.</p>\n<p>The default implementation does nothing. You may choose to override this method as a hook for you to close resources and perform other clean-up chores appropriate to the app ending.</p>\n<p>This method executes on the <em>JavaFX Application Thread</em>.</p>\n<h3>Example code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.time.Instant;\n\npublic class TimeApplication extends Application\n{\n    @Override\n    public void init ( ) throws Exception\n    {\n        System.out.println ( &quot;The init method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n        if ( ! this.userAuthServiceIsAvailable ( ) )\n        { /* … handle failure … */ }\n    }\n\n    @Override\n    public void start ( Stage stage )\n    {\n        System.out.println ( &quot;The start method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n\n        // Scene\n        Button button = new Button ( );\n        button.setText ( &quot;Tell time&quot; );\n        button.setOnAction ( ( event ) -&gt; System.out.println ( Instant.now ( ) ) );\n\n        VBox vbox = new VBox ( button );\n        Scene scene = new Scene ( vbox );\n\n        // Stage\n        stage.setTitle ( &quot;Time keeps on slipping, slipping, slipping&quot; );\n        stage.setHeight ( 300 );\n        stage.setWidth ( 500 );\n\n        stage.setScene ( scene );\n        stage.show ( );\n    }\n\n    @Override\n    public void stop ( ) throws Exception\n    {\n        System.out.println ( &quot;The stop method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n    }\n\n    private boolean userAuthServiceIsAvailable ( )\n    {\n        return true;\n    }\n\n    public static void main ( String[] args )\n    {\n        System.out.println ( &quot;The main method is beginning on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n        Application.launch ( );\n        System.out.println ( &quot;The main method is ending on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n    }\n}\n</code></pre>\n<p>Be aware that output to <code>System.out</code> does <em>not</em> necessarily appear in chronological order when called across threads. Include timestamps, and study them, to verify sequence of actions.</p>\n<p>Example output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The main method is beginning on thread 1 “main” at 2023-07-31T19:57:37.255140Z\nThe init method is running on thread 27 “JavaFX-Launcher” at 2023-07-31T19:57:37.262522Z\nThe start method is running on thread 24 “JavaFX Application Thread” at 2023-07-31T19:57:37.268091Z\n2023-07-31T19:57:39.206604Z\n2023-07-31T19:57:39.391998Z\n2023-07-31T19:57:39.524548Z\nThe stop method is running on thread 24 “JavaFX Application Thread” at 2023-07-31T19:57:42.402692Z\nThe main method is ending on thread 1 “main” at 2023-07-31T19:57:42.404950Z\n</code></pre>\n<h3>Summary of lifecycle</h3>\n<p>Here is my table of lifecycle activities. Note that <code>init</code> and <code>start</code> run at the same time, <strong><em>not</em> sequentially</strong>, running on separate threads.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Sequence</th>\n<th style=\"text-align: center;\"><em>main</em><br/>thread</th>\n<th style=\"text-align: center;\"><em>JavaFX-Launcher</em><br/>thread</th>\n<th style=\"text-align: center;\"><em>JavaFX Application Thread</em><br/>thread</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\"><code>main</code> method</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">Your call to <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Application.launch</code></a><br/>(blocks)</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">Construction of your subclass of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\"><code>Application</code></a><br/>via reflection<br/>by the <em>JavaFX</em> framework</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">Either no-op or your override of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#init()\" rel=\"nofollow noreferrer\"><code>Application#init</code></a></td>\n<td style=\"text-align: center;\">Your implementation of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#start(javafx.stage.Stage)\" rel=\"nofollow noreferrer\"><code>Application#start</code></a><br/>(you establish <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Scene.html\" rel=\"nofollow noreferrer\"><code>Scene</code></a> &amp; <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/stage/Stage.html\" rel=\"nofollow noreferrer\"><code>Stage</code></a>)</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><code>init</code> may continue running indefinitely</td>\n<td style=\"text-align: center;\">• User events<br/>• Animation timelines</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">6</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">• User closes last window<br/>• Or, <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Platform.html#exit()\" rel=\"nofollow noreferrer\"><code>Platform.exit</code></a> called on this or any other thread</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">7</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">Either no-op or your override of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#stop()\" rel=\"nofollow noreferrer\"><code>Application#stop</code></a></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">8</td>\n<td style=\"text-align: center;\"><a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Application.launch</code></a> returns</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Sequence step # 3 is when the JavaFX framework uses reflection to instantiate an object of your subclass of <code>Application</code>.</p>\n<h2>Your questions</h2>\n<blockquote>\n<p>in javaFX Application is an abstract class.</p>\n</blockquote>\n<p>Yes. Being abstract means you are intended to write a subclass of <code>Application</code>. Thus we have <code>TimeApplication extends Application</code> in code above.</p>\n<blockquote>\n<p>some abstract methods which are overridden in main class which extends abstract Application class and also have static launch() method</p>\n</blockquote>\n<p>Yes, both <code>launch</code> methods are <code>static</code>. So we call them with syntax like this: <code>Application.launch()</code>. No reference to an object.</p>\n<p>We usually make the <code>static</code> call <code>Application.launch()</code> from the <code>static</code> method <code>main</code>. So we have a <code>static</code> call within another <code>static</code> call — no objects involved.</p>\n<blockquote>\n<p>The launch() method calls from the main method in main class.</p>\n</blockquote>\n<p>Be aware that the <code>main</code> method <em>may or may not</em> be housed within the class inheriting from <code>Application</code>.</p>\n<p>The JavaFX framework examines the class containing the <code>Application.launch</code> call. If that class extends the <code>abstract</code> class <code>Application</code>, then you can use the <code>launch</code> method with only a single argument, <code>args</code>. If you have an arrangement where the call to <code>Application.launch</code> takes place in some class that is <em>not</em> a subclass of <code>Application</code>, then you must use the other <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.Class,java.lang.String...)\" rel=\"nofollow noreferrer\"><code>launch</code></a> method where you pass a <code>Class</code> object that represents the class that <em>is</em> a subclass of <code>Application</code>.</p>\n<p>👉🏼 What may be confusing you is the lack of a reference to an object of your  subclass of <code>Application</code>. In our example code above, at no point do we see an instantiation like this:</p>\n<pre><code>TimeApplication timeApp = new TimeApplication() ;\n</code></pre>\n<p>The reason we see no such instantiation is because of some “magic” in JavaFX. The JavaFX framework is using <a href=\"https://en.wikipedia.org/wiki/Reflective_programming\" rel=\"nofollow noreferrer\">reflection</a> to instantiate our subclass on our behalf.</p>\n<p>The construction of our subclass happens behind the scenes, with no reference in our sight. At no point do we get back a reference to the object of our subclass. See discussion on the Question <a href=\"https://stackoverflow.com/q/27652509/642706\"><em>Getting application instance in javafx</em></a>. If you really want a reference to the object of your subclass of <code>Application</code>, see the workaround in <a href=\"https://stackoverflow.com/a/40030071/642706\">this Answer</a>.</p>\n<blockquote>\n<p>Now how is it possible launch() method calls these abstract methods and for these calls overridden methods in main class are executes?</p>\n</blockquote>\n<p>The <code>static</code> call to <code>Application.launch</code> results in the concrete subclass (<code>TimeApplication</code> in our example) inheriting from the abstract <code>Application</code> class. So we have an object, a <code>TimeApplication</code> object, in memory, but we do not see any reference to it. That object has the override methods of <code>init</code>, <code>start</code>, and <code>stop</code>. So we have a concrete object, not abstract, with regular overrides methods being executed at various points in time on various threads. The Java rules you mention are being followed properly, as described in these two bullets:</p>\n<ul>\n<li>\n<blockquote>\n<p>I know that non-static method can't invoked from static method</p>\n</blockquote>\n</li>\n</ul>\n<p>We are not invoking non-static methods from a static context. The non-static <code>init</code>, <code>start</code>, and <code>stop</code> methods are being executed on an object of our concrete subclass <code>TimeApplication</code> that was automatically instantiated for us, not by us. The calls to those methods <code>init</code>, <code>start</code>, and <code>stop</code> are also being made for us, not by us.</p>\n<ul>\n<li>\n<blockquote>\n<p>and it is not possible to create instance of an abstract class.</p>\n</blockquote>\n</li>\n</ul>\n<p>You are correct — No instance was made of the abstract class <code>Application</code>. The JavaFX used the magic of reflection to create, behind the curtains, an instance of our subclass of <code>Application</code>. Via reflection, JavaFX created an instance of <code>TimeApplication</code> in our example above. The framework instantiated an object of a concrete subclass extending an abstract class.</p>\n"}],"owner":{"account_id":29122721,"reputation":13,"user_id":22309801,"display_name":"Nahid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76799962,"answer_count":2,"score":0,"last_activity_date":1692922684,"creation_date":1690729293,"question_id":76798326,"body_markdown":"in javaFX Application is an abstract class. In this abstract class there have some abstract methods which are overridden in main class which extends abstract Application class and also have static launch() method in abstract class Application. The launch() method calls from the main method in main class. Now how is it possible launch() method calls these abstract methods and for these calls overridden methods in main class are executes? please help me to understand this procedure actually works.\r\nI know that non-static method can&#39;t invoked from static method and it is not possible to create instance of an abstract class. abstract method can&#39;t be a static method.\r\n\r\nI don&#39;t want to create object of main class. Because the launch() method don&#39;t know what is the name of main class.\r\n\r\nWrite me a java code where this procedure illustrate well. like this\r\n```\r\npublic class main extends Application{\r\n    public static void main(String[] args)\r\n        launch();                       // launch() was a static method in Application class\r\n    }\r\n    @override\r\n    public void init(){                 // init() was an abstract method in Application class\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n}\r\n\r\npublic abstract class Application {\r\n    public static void launch(){\r\n        init();\r\n    }\r\n    public abstract void init();\r\n}\r\n```\r\nI want to get output : hello","title":"I Want to Understand How abstract class Application&#39;s launch() method work in JavaFX","body":"<p>in javaFX Application is an abstract class. In this abstract class there have some abstract methods which are overridden in main class which extends abstract Application class and also have static launch() method in abstract class Application. The launch() method calls from the main method in main class. Now how is it possible launch() method calls these abstract methods and for these calls overridden methods in main class are executes? please help me to understand this procedure actually works.\nI know that non-static method can't invoked from static method and it is not possible to create instance of an abstract class. abstract method can't be a static method.</p>\n<p>I don't want to create object of main class. Because the launch() method don't know what is the name of main class.</p>\n<p>Write me a java code where this procedure illustrate well. like this</p>\n<pre><code>public class main extends Application{\n    public static void main(String[] args)\n        launch();                       // launch() was a static method in Application class\n    }\n    @override\n    public void init(){                 // init() was an abstract method in Application class\n        System.out.println(&quot;hello&quot;);\n    }\n}\n\npublic abstract class Application {\n    public static void launch(){\n        init();\n    }\n    public abstract void init();\n}\n</code></pre>\n<p>I want to get output : hello</p>\n"},{"tags":["java","serialization","protocol-buffers","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692921951,"creation_date":1692921951,"answer_id":76973514,"question_id":76972732,"body_markdown":"No, there is not a way to do that.","title":"De/Serialzing custom java types with protobuf in java","body":"<p>No, there is not a way to do that.</p>\n"}],"owner":{"account_id":17962979,"reputation":3,"user_id":13053519,"display_name":"Elad Barkay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694198441,"accepted_answer_id":76973514,"answer_count":1,"score":0,"last_activity_date":1692921951,"creation_date":1692908894,"question_id":76972732,"body_markdown":"protocul buffer supports only a close set of types, like int32, strings, repeted, etc.\r\n\r\nThe problem is that I want to create a custom deserializer for specific things. For example, look at this proto message:\r\n\r\n```java\r\nsyntax = &quot;proto3&quot;;\r\n\r\nimport &quot;google/protobuf/timestamp.proto&quot;;\r\n\r\nmessage UberDrive {\r\n  string user_id = 1;\r\n  google.protobuf.Timestamp transaction_timestamp = 2;\r\n  string start_locaion = 3; //WKT data\r\n  string end_locaion = 3; //WKT data\r\n}\r\n```\r\n\r\nCurrently, the start_location and end_location just contain WKT data that, later, when needed in the code, is serialized to an `org.locationtech.jts.geom.Geometry.class` object (which can be a point, linestring, polygon, etc.).\r\n\r\nI would like to work directly with the Geometry data type in my pojo to avoid serializing the geometry over and over again and for cleaner code. Is there a way to do that?\r\n\r\nI couldn&#39;t find any solution for what I was searching for.","title":"De/Serialzing custom java types with protobuf in java","body":"<p>protocul buffer supports only a close set of types, like int32, strings, repeted, etc.</p>\n<p>The problem is that I want to create a custom deserializer for specific things. For example, look at this proto message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>syntax = &quot;proto3&quot;;\n\nimport &quot;google/protobuf/timestamp.proto&quot;;\n\nmessage UberDrive {\n  string user_id = 1;\n  google.protobuf.Timestamp transaction_timestamp = 2;\n  string start_locaion = 3; //WKT data\n  string end_locaion = 3; //WKT data\n}\n</code></pre>\n<p>Currently, the start_location and end_location just contain WKT data that, later, when needed in the code, is serialized to an <code>org.locationtech.jts.geom.Geometry.class</code> object (which can be a point, linestring, polygon, etc.).</p>\n<p>I would like to work directly with the Geometry data type in my pojo to avoid serializing the geometry over and over again and for cleaner code. Is there a way to do that?</p>\n<p>I couldn't find any solution for what I was searching for.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1692832766,"post_id":76964928,"comment_id":135679323,"body_markdown":"You can use a [Popup with an anchor](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Popup.html).","body":"You can use a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Popup.html\" rel=\"nofollow noreferrer\">Popup with an anchor</a>."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1692833414,"post_id":76964928,"comment_id":135679391,"body_markdown":"@jewelsea I&#39;ll give it a try, thx for suggesting","body":"@jewelsea I&#39;ll give it a try, thx for suggesting"}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692921943,"creation_date":1692836959,"answer_id":76965607,"question_id":76964928,"body_markdown":"+1 for what @jewelsea suggested.\r\n\r\nYou can create a custom Tooltip to set this functionality across multiple nodes.\r\nThe idea is to set the anchor every time just before showing the Tooltip so that it can work well even when the window is moved across the screen.\r\n\r\nYou can check the idea in the below demo:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Point2D;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Tooltip;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class TooltipAnchoringDemo extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Label label1 = new Label(&quot;TEST1\\nTEST1\\nTEST1&quot;);\r\n            label1.setStyle(&quot;-fx-background-color: red;&quot;);\r\n            Label label2 = new Label(&quot;TEST2\\nTEST2\\nTEST2&quot;);\r\n            label2.setStyle(&quot;-fx-background-color: green;&quot;);\r\n            Label label3 = new Label(&quot;TEST3\\nTEST3\\nTEST3&quot;);\r\n            label3.setStyle(&quot;-fx-background-color: blue;&quot;);\r\n    \r\n            CustomTooltip tooltip = CustomTooltip.install(&quot;TOOLTIP 1&quot;, label1);\r\n            tooltip.setShowDelay(Duration.seconds(0.5));\r\n    \r\n            CustomTooltip.install(&quot;TOOLTIP 2&quot;, label2);\r\n            CustomTooltip.install(&quot;TOOLTIP 3&quot;, label3);\r\n    \r\n            HBox root = new HBox(15, label1, label2, label3);\r\n            root.setPadding(new Insets(10));\r\n            root.setAlignment(Pos.TOP_LEFT);\r\n    \r\n            Scene scene = new Scene(root, 300, 180);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Tooltip Demo&quot;);\r\n    \r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n    \r\n    class CustomTooltip extends Tooltip {\r\n        /**\r\n         * Pixel offset from the node in the y-axis to display the tooltip.\r\n         * You can keep it to 0. Normally I don&#39;t want to keep it very near to the node.\r\n         */\r\n        private static final int Y_OFFSET = 2;\r\n    \r\n        private Node node;\r\n    \r\n        public CustomTooltip(final String s) {\r\n            super(s);\r\n        }\r\n    \r\n        public static CustomTooltip install(String msg, Node node) {\r\n            CustomTooltip tooltip = new CustomTooltip(msg);\r\n            tooltip.node = node;\r\n            install(node, tooltip);\r\n            return tooltip;\r\n        }\r\n    \r\n        @Override\r\n        protected void show() {\r\n            /* Set the new position before showing. */\r\n            Point2D anchor = anchor(node);\r\n            setAnchorX(anchor.getX());\r\n            setAnchorY(anchor.getY());\r\n            \r\n            super.show();\r\n        }\r\n    \r\n        /**\r\n         * Calculates the anchor point for the tooltip.\r\n         *\r\n         * @param n the node\r\n         * @return the anchor position\r\n         */\r\n        private Point2D anchor(final Node n) {\r\n            /* Get the node bounds on the screen. */\r\n            final Bounds bounds = n.localToScreen(n.getBoundsInLocal());\r\n    \r\n            /* Calculate the opening position based on node bounds . */\r\n            final Point2D openPosition = new Point2D(bounds.getMaxX(), bounds.getMaxY() + Y_OFFSET);\r\n    \r\n            return openPosition;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BVFzb.gif","title":"JavaFX show tooltip in a fixed position relative to the node","body":"<p>+1 for what @jewelsea suggested.</p>\n<p>You can create a custom Tooltip to set this functionality across multiple nodes.\nThe idea is to set the anchor every time just before showing the Tooltip so that it can work well even when the window is moved across the screen.</p>\n<p>You can check the idea in the below demo:</p>\n<p><a href=\"https://i.stack.imgur.com/BVFzb.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVFzb.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Point2D;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Tooltip;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class TooltipAnchoringDemo extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Label label1 = new Label(&quot;TEST1\\nTEST1\\nTEST1&quot;);\n        label1.setStyle(&quot;-fx-background-color: red;&quot;);\n        Label label2 = new Label(&quot;TEST2\\nTEST2\\nTEST2&quot;);\n        label2.setStyle(&quot;-fx-background-color: green;&quot;);\n        Label label3 = new Label(&quot;TEST3\\nTEST3\\nTEST3&quot;);\n        label3.setStyle(&quot;-fx-background-color: blue;&quot;);\n\n        CustomTooltip tooltip = CustomTooltip.install(&quot;TOOLTIP 1&quot;, label1);\n        tooltip.setShowDelay(Duration.seconds(0.5));\n\n        CustomTooltip.install(&quot;TOOLTIP 2&quot;, label2);\n        CustomTooltip.install(&quot;TOOLTIP 3&quot;, label3);\n\n        HBox root = new HBox(15, label1, label2, label3);\n        root.setPadding(new Insets(10));\n        root.setAlignment(Pos.TOP_LEFT);\n\n        Scene scene = new Scene(root, 300, 180);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Tooltip Demo&quot;);\n\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n\nclass CustomTooltip extends Tooltip {\n    /**\n     * Pixel offset from the node in the y-axis to display the tooltip.\n     * You can keep it to 0. Normally I don't want to keep it very near to the node.\n     */\n    private static final int Y_OFFSET = 2;\n\n    private Node node;\n\n    public CustomTooltip(final String s) {\n        super(s);\n    }\n\n    public static CustomTooltip install(String msg, Node node) {\n        CustomTooltip tooltip = new CustomTooltip(msg);\n        tooltip.node = node;\n        install(node, tooltip);\n        return tooltip;\n    }\n\n    @Override\n    protected void show() {\n        /* Set the new position before showing. */\n        Point2D anchor = anchor(node);\n        setAnchorX(anchor.getX());\n        setAnchorY(anchor.getY());\n        \n        super.show();\n    }\n\n    /**\n     * Calculates the anchor point for the tooltip.\n     *\n     * @param n the node\n     * @return the anchor position\n     */\n    private Point2D anchor(final Node n) {\n        /* Get the node bounds on the screen. */\n        final Bounds bounds = n.localToScreen(n.getBoundsInLocal());\n\n        /* Calculate the opening position based on node bounds . */\n        final Point2D openPosition = new Point2D(bounds.getMaxX(), bounds.getMaxY() + Y_OFFSET);\n\n        return openPosition;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76965607,"answer_count":1,"score":6,"last_activity_date":1692921943,"creation_date":1692825281,"question_id":76964928,"body_markdown":"**Goal:** To make ToolTip always show in the bottom-right position of the node\r\n\r\n**Problem:** Regardless my efforts, I&#39;m unable to override or adapt ToolTip behavior. It always shows up based on the mouse position.\r\n\r\n**MRE:**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Point2D;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Tooltip;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class HelloApplication extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Label label = new Label(&quot;TEST\\nTEST\\nTEST&quot;);\r\n            label.setStyle(&quot;-fx-background-color: green;&quot;);\r\n    \r\n            Tooltip tooltip = new Tooltip(&quot;TOOLTIP&quot;);\r\n            tooltip.setShowDelay(Duration.seconds(0.5));\r\n            label.setTooltip(tooltip);\r\n    \r\n            Scene scene = new Scene(new AnchorPane(label));\r\n            stage.setScene(scene);\r\n            \r\n            stage.show();\r\n    \r\n            Point2D p = label.localToScene(0.0, 0.0);\r\n            label.getTooltip().show(label,\r\n                    p.getX() + label.getScene().getX() + label.getScene().getWindow().getX(),\r\n                    p.getY() + label.getScene().getY() + label.getScene().getWindow().getY());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nTo make it clearer, this is what I&#39;m looking for:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nInstead, ToolTip always shows on top of the node:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V3b18.png\r\n  [2]: https://i.stack.imgur.com/EwKyh.png","title":"JavaFX show tooltip in a fixed position relative to the node","body":"<p><strong>Goal:</strong> To make ToolTip always show in the bottom-right position of the node</p>\n<p><strong>Problem:</strong> Regardless my efforts, I'm unable to override or adapt ToolTip behavior. It always shows up based on the mouse position.</p>\n<p><strong>MRE:</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Point2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Tooltip;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Label label = new Label(&quot;TEST\\nTEST\\nTEST&quot;);\n        label.setStyle(&quot;-fx-background-color: green;&quot;);\n\n        Tooltip tooltip = new Tooltip(&quot;TOOLTIP&quot;);\n        tooltip.setShowDelay(Duration.seconds(0.5));\n        label.setTooltip(tooltip);\n\n        Scene scene = new Scene(new AnchorPane(label));\n        stage.setScene(scene);\n        \n        stage.show();\n\n        Point2D p = label.localToScene(0.0, 0.0);\n        label.getTooltip().show(label,\n                p.getX() + label.getScene().getX() + label.getScene().getWindow().getX(),\n                p.getY() + label.getScene().getY() + label.getScene().getWindow().getY());\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>To make it clearer, this is what I'm looking for:</p>\n<p><a href=\"https://i.stack.imgur.com/V3b18.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V3b18.png\" alt=\"enter image description here\" /></a></p>\n<p>Instead, ToolTip always shows on top of the node:</p>\n<p><a href=\"https://i.stack.imgur.com/EwKyh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EwKyh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","gradle","android-gradle-plugin","abi"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1643491878,"post_id":70909871,"comment_id":125355879,"body_markdown":"When I Google for &quot;what is ABI in programming&quot; I get this: https://en.wikipedia.org/wiki/Application_binary_interface","body":"When I Google for &quot;what is ABI in programming&quot; I get this: <a href=\"https://en.wikipedia.org/wiki/Application_binary_interface\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Application_binary_interface</a>"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1643492436,"post_id":70909871,"comment_id":125355973,"body_markdown":"You should edit your post to include links/quotes of articles/videos of what you are confused about as the terminology used by each author/speaker may not have the same meaning.","body":"You should edit your post to include links/quotes of articles/videos of what you are confused about as the terminology used by each author/speaker may not have the same meaning."},{"owner":{"account_id":3276715,"reputation":2415,"user_id":2758499,"accept_rate":71,"display_name":"Saran Sankaran"},"score":0,"creation_date":1643494756,"post_id":70909871,"comment_id":125356461,"body_markdown":"Added reference Image and linked the video. Thanks for point it out.","body":"Added reference Image and linked the video. Thanks for point it out."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1643501015,"post_id":70909871,"comment_id":125357520,"body_markdown":"The video explains this.  The first is a build change that adds a public method, and the second is a build that modifies a method body with no change to the public API.  Like literally 10 seconds after the time in the video you linked to.","body":"The video explains this.  The first is a build change that adds a public method, and the second is a build that modifies a method body with no change to the public API.  Like literally 10 seconds after the time in the video you linked to."},{"owner":{"account_id":2087094,"reputation":659,"user_id":1857812,"display_name":"breenger"},"score":0,"creation_date":1684421077,"post_id":70909871,"comment_id":134517676,"body_markdown":"You can see a more thorough explanation with examples here: https://blog.gradle.org/compilation-avoidance","body":"You can see a more thorough explanation with examples here: <a href=\"https://blog.gradle.org/compilation-avoidance\" rel=\"nofollow noreferrer\">blog.gradle.org/compilation-avoidance</a>"}],"answers":[{"tags":[],"owner":{"account_id":15341199,"reputation":210,"user_id":11068153,"display_name":"gavrbhat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692921117,"creation_date":1692921117,"answer_id":76973475,"question_id":70909871,"body_markdown":"Hope this helps. Ref/credits: https://github.com/gradle/gradle/issues/15886#issuecomment-989999391\r\n\r\nABI stands for Application Binary Interface.\r\n\r\nAn ABI change is a change that modifies the ABI, iow the &quot;public api&quot; that downstream consumers compile against. All consumers need to be recompiled.\r\n\r\nA non-ABI change is a change that does not modify the ABI, iow only touches the &quot;private implementation&quot;. Consumers compilation can be skipped.","title":"What is the difference between a ABI change and non-ABI change","body":"<p>Hope this helps. Ref/credits: <a href=\"https://github.com/gradle/gradle/issues/15886#issuecomment-989999391\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/15886#issuecomment-989999391</a></p>\n<p>ABI stands for Application Binary Interface.</p>\n<p>An ABI change is a change that modifies the ABI, iow the &quot;public api&quot; that downstream consumers compile against. All consumers need to be recompiled.</p>\n<p>A non-ABI change is a change that does not modify the ABI, iow only touches the &quot;private implementation&quot;. Consumers compilation can be skipped.</p>\n"}],"owner":{"account_id":3276715,"reputation":2415,"user_id":2758499,"accept_rate":71,"display_name":"Saran Sankaran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692921117,"creation_date":1643491620,"question_id":70909871,"body_markdown":"In various articles and videos published by the Android team related to Gradle optimisations, I have seen build performance compared for ABI changes and non-ABI change. What does it mean and what are some examples of it, when coding in Java/Kotlin and when using native code like C++?\r\n\r\nReference:\r\n[![Image I&#39;m referring to][1]][1]\r\nTaken from video: https://youtu.be/S_zZRBJxTQ0?t=267\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wfMm9.png","title":"What is the difference between a ABI change and non-ABI change","body":"<p>In various articles and videos published by the Android team related to Gradle optimisations, I have seen build performance compared for ABI changes and non-ABI change. What does it mean and what are some examples of it, when coding in Java/Kotlin and when using native code like C++?</p>\n<p>Reference:\n<a href=\"https://i.stack.imgur.com/wfMm9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wfMm9.png\" alt=\"Image I'm referring to\" /></a>\nTaken from video: <a href=\"https://youtu.be/S_zZRBJxTQ0?t=267\" rel=\"nofollow noreferrer\">https://youtu.be/S_zZRBJxTQ0?t=267</a></p>\n"},{"tags":["java","arrays","string","javafx","special-characters"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1692667354,"post_id":76949541,"comment_id":135651983,"body_markdown":"use a regex string::replaceAll","body":"use a regex string::replaceAll"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1692668773,"post_id":76949541,"comment_id":135652123,"body_markdown":"I would suggest completing a console version of the game. When that is complete, work on the graphics.","body":"I would suggest completing a console version of the game. When that is complete, work on the graphics."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1692668906,"post_id":76949541,"comment_id":135652132,"body_markdown":"Remember to look at your post after you submit so you can [edit] any mistakes: code blocks use _three_ backticks, not four.","body":"Remember to look at your post after you submit so you can <a href=\"https://stackoverflow.com/posts/76949541/edit\">edit</a> any mistakes: code blocks use <i>three</i> backticks, not four."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1692669307,"post_id":76949541,"comment_id":135652180,"body_markdown":"Given example code for an `ArrayList`, you should be able to easily convert the example to use an array, if you understand arrays and `ArrayList`. But, a `List` is more flexible than an array. For one, the size of an array is fixed, but the size of an `List` can be changed. You can delete elements from a `List` but not an array. (Drifting off-topic: If you have an array of Objects, you can set an element to `null` to simulate deletion. If you have an array of primitives, to simulate deletion, you might have a &quot;special value&quot; that indicates the indexed element is invalid.)","body":"Given example code for an <code>ArrayList</code>, you should be able to easily convert the example to use an array, if you understand arrays and <code>ArrayList</code>. But, a <code>List</code> is more flexible than an array. For one, the size of an array is fixed, but the size of an <code>List</code> can be changed. You can delete elements from a <code>List</code> but not an array. (Drifting off-topic: If you have an array of Objects, you can set an element to <code>null</code> to simulate deletion. If you have an array of primitives, to simulate deletion, you might have a &quot;special value&quot; that indicates the indexed element is invalid.)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692668654,"creation_date":1692668654,"answer_id":76949615,"question_id":76949541,"body_markdown":"# Single string\r\n\r\n## Option 1: Just create one\r\n\r\nIt&#39;s a programming language, not an assistant. You sometimes have to think slightly creatively to get the job done. Instead of &#39;replacing every character&#39;, why not just make a new string? You know the length..\r\n\r\n```\r\npublic static String starred(String input) {\r\n  char[] starred = new char[input.length()];\r\n  Arrays.fill(starred, &#39;*&#39;);\r\n  return new String(starred);\r\n}\r\n```\r\n\r\n## Option 2: Regular expressions\r\n\r\n`replaceAll` accepts a regular expression which is a mini-programming language very unlike java for text matching; it is only useful for regular grammars (you can&#39;t parse java code with it, for example), but this is very simple. `.` is regexp-ese for &#39;any character&#39;. Thus:\r\n\r\n```\r\npublic static String starred(String input) {\r\n  return input.replaceAll(&quot;.&quot;, &quot;*&quot;);\r\n}\r\n```\r\n\r\n## All strings\r\n\r\nThat doesn&#39;t seem right - replacing that string array with stars would destroy the words and you need them to know if the user entered a correct letter. You&#39;d want to get 1 word from your array of possible words to play with and then keep that around, and make a copy with the stars in.\r\n\r\n## Generally replacing 1 character\r\n\r\nStrings are immutable; you cannot change them. But you can make _new_ strings based off of old ones. Or, in this case, a lot simpler, make a mutable thing so you can just replace characters (presumably you&#39;d want to replace stars with letters as the user guesses correctly):\r\n\r\n```\r\nList&lt;String&gt; POSSIBLE_WORDS = List.of(&quot;Tuesday&quot;, &quot;School&quot;, ....);\r\nRandom rnd = new Random();\r\n\r\nString word = POSSIBLE_WORDS.get(rnd.nextInt(POSSIBLE_WORDS.size());\r\nchar[] letters = new char[word.length()];\r\nArrays.fill(letters, &#39;*&#39;);\r\n// show to the user\r\n\r\n// if user guesses a letter:\r\n\r\nchar guessedLetter = &#39;e&#39;; // get user input here.\r\nif (!alreadyGuessed.contains(guessedLetter)) {\r\n  boolean matched = false;\r\n  for (int i = 0; i &lt; word.length(); i++) {\r\n    if (word.charAt(i) == guessedLetter) {\r\n      letters[i] = word.charAt(i);\r\n      matched = true;\r\n    }\r\n  }\r\n\r\n  if (!matched) hangALittleMore();\r\n  alreadyGuessed.add(guessedLetter);\r\n}\r\n```\r\n\r\nAnd so on.\r\n\r\n","title":"How to replace all strings in an array to a specific special character","body":"<h1>Single string</h1>\n<h2>Option 1: Just create one</h2>\n<p>It's a programming language, not an assistant. You sometimes have to think slightly creatively to get the job done. Instead of 'replacing every character', why not just make a new string? You know the length..</p>\n<pre><code>public static String starred(String input) {\n  char[] starred = new char[input.length()];\n  Arrays.fill(starred, '*');\n  return new String(starred);\n}\n</code></pre>\n<h2>Option 2: Regular expressions</h2>\n<p><code>replaceAll</code> accepts a regular expression which is a mini-programming language very unlike java for text matching; it is only useful for regular grammars (you can't parse java code with it, for example), but this is very simple. <code>.</code> is regexp-ese for 'any character'. Thus:</p>\n<pre><code>public static String starred(String input) {\n  return input.replaceAll(&quot;.&quot;, &quot;*&quot;);\n}\n</code></pre>\n<h2>All strings</h2>\n<p>That doesn't seem right - replacing that string array with stars would destroy the words and you need them to know if the user entered a correct letter. You'd want to get 1 word from your array of possible words to play with and then keep that around, and make a copy with the stars in.</p>\n<h2>Generally replacing 1 character</h2>\n<p>Strings are immutable; you cannot change them. But you can make <em>new</em> strings based off of old ones. Or, in this case, a lot simpler, make a mutable thing so you can just replace characters (presumably you'd want to replace stars with letters as the user guesses correctly):</p>\n<pre><code>List&lt;String&gt; POSSIBLE_WORDS = List.of(&quot;Tuesday&quot;, &quot;School&quot;, ....);\nRandom rnd = new Random();\n\nString word = POSSIBLE_WORDS.get(rnd.nextInt(POSSIBLE_WORDS.size());\nchar[] letters = new char[word.length()];\nArrays.fill(letters, '*');\n// show to the user\n\n// if user guesses a letter:\n\nchar guessedLetter = 'e'; // get user input here.\nif (!alreadyGuessed.contains(guessedLetter)) {\n  boolean matched = false;\n  for (int i = 0; i &lt; word.length(); i++) {\n    if (word.charAt(i) == guessedLetter) {\n      letters[i] = word.charAt(i);\n      matched = true;\n    }\n  }\n\n  if (!matched) hangALittleMore();\n  alreadyGuessed.add(guessedLetter);\n}\n</code></pre>\n<p>And so on.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692668992,"creation_date":1692668992,"answer_id":76949629,"question_id":76949541,"body_markdown":"Assuming:\r\n\r\n    String guesses; // characters guessed so far\r\n    String word; // the word to be guessed\r\n\r\nThen to mask all un-guess characters in word with `*`:\r\n\r\n    String display = word.replaceAll(&quot;[^&quot; + guesses + &quot;]&quot;, &quot;*&quot;); \r\n\r\nThis builds a negative character class from the guesses, eg the regex `[^abcd]` would match any character *not* a, b, c or d.\r\n","title":"How to replace all strings in an array to a specific special character","body":"<p>Assuming:</p>\n<pre><code>String guesses; // characters guessed so far\nString word; // the word to be guessed\n</code></pre>\n<p>Then to mask all un-guess characters in word with <code>*</code>:</p>\n<pre><code>String display = word.replaceAll(&quot;[^&quot; + guesses + &quot;]&quot;, &quot;*&quot;); \n</code></pre>\n<p>This builds a negative character class from the guesses, eg the regex <code>[^abcd]</code> would match any character <em>not</em> a, b, c or d.</p>\n"},{"tags":[],"owner":{"account_id":29271617,"reputation":62,"user_id":22426243,"display_name":"NsoundarMCA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692828940,"creation_date":1692676173,"answer_id":76949981,"question_id":76949541,"body_markdown":"Here is very basic logic using `for`:\r\n\r\n```java\r\nString replaceString = &quot;*&quot;;\r\nString[] maskedListWords = new String[listWords.length];\r\n\r\nfor (int i = 0; i &lt; listWords.length; i++) {\r\n\tmaskedListWords[i] = listWords[i].replaceAll(&quot;[a-zA-Z]&quot;, replaceString);\r\n}\r\n\r\nfor (String string : maskedListWords) {\r\n\tSystem.out.println(string);\r\n}\r\n```","title":"How to replace all strings in an array to a specific special character","body":"<p>Here is very basic logic using <code>for</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String replaceString = &quot;*&quot;;\nString[] maskedListWords = new String[listWords.length];\n\nfor (int i = 0; i &lt; listWords.length; i++) {\n    maskedListWords[i] = listWords[i].replaceAll(&quot;[a-zA-Z]&quot;, replaceString);\n}\n\nfor (String string : maskedListWords) {\n    System.out.println(string);\n}\n</code></pre>\n"}],"owner":{"account_id":28799073,"reputation":1,"user_id":22056497,"display_name":"Pektra Mom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76949981,"answer_count":3,"score":-1,"last_activity_date":1692921061,"creation_date":1692666845,"question_id":76949541,"body_markdown":"I am using JavaFX and I am currently in a project which I have to create the hangman game. I have a Text Field and a Label displaying 1 word from an array whenever I click the button &quot;Start Game&quot;. So, whenever I click &quot;Start Game&quot;, let&#39;s say the string &quot;School&quot; is generated. It will show in the Text Field and in the Label. Instead of showing the actual string, I would like to replace the string to a special character. I would like to have the Text Field showing &#39;*&#39; and the Label showing &#39;_&#39; of the length of the string so &quot;School&quot; would be &quot;******&quot; in Text Field and &quot;_ _ _ _ _ _&quot; in Label. How do I do that?\r\n\r\n\r\n*My code is functional, I just don&#39;t know how to replace the string to special character*\r\n\r\n\r\nThis is my code from the controller\r\n\r\n// list of words in Array\r\n\r\n    String[] listWords = {&quot;Tuesday&quot;, &quot;School&quot;, &quot;Dog&quot;, &quot;Vehicle&quot;, \r\n                 &quot;Bird&quot;, &quot;Book&quot;, &quot;Recipe&quot;, &quot;Sun&quot;, &quot;Hammer&quot;, &quot;Orange&quot;};\r\n\r\n// For loop\r\n\r\n     for (int i = 0; i &lt; listWords.length; i++) {\r\n         String randomWords = listWords[(int)(Math.random() * listWords.length)];                                   \r\n         TxtField.setText(randomWords);\r\n         wordLabel.setText(randomWords); \r\n         }\r\n\r\nI tried to follow a bunch of videos from YouTube but there&#39;s not one showing with a string of array. Most of them are using ArrayList or List which I&#39;m not using. I tried to google and their examples are also not showing how to do it from an array.","title":"How to replace all strings in an array to a specific special character","body":"<p>I am using JavaFX and I am currently in a project which I have to create the hangman game. I have a Text Field and a Label displaying 1 word from an array whenever I click the button &quot;Start Game&quot;. So, whenever I click &quot;Start Game&quot;, let's say the string &quot;School&quot; is generated. It will show in the Text Field and in the Label. Instead of showing the actual string, I would like to replace the string to a special character. I would like to have the Text Field showing '<em>' and the Label showing '_' of the length of the string so &quot;School&quot; would be &quot;</em>*****&quot; in Text Field and &quot;_ _ _ _ _ _&quot; in Label. How do I do that?</p>\n<p><em>My code is functional, I just don't know how to replace the string to special character</em></p>\n<p>This is my code from the controller</p>\n<p>// list of words in Array</p>\n<pre><code>String[] listWords = {&quot;Tuesday&quot;, &quot;School&quot;, &quot;Dog&quot;, &quot;Vehicle&quot;, \n             &quot;Bird&quot;, &quot;Book&quot;, &quot;Recipe&quot;, &quot;Sun&quot;, &quot;Hammer&quot;, &quot;Orange&quot;};\n</code></pre>\n<p>// For loop</p>\n<pre><code> for (int i = 0; i &lt; listWords.length; i++) {\n     String randomWords = listWords[(int)(Math.random() * listWords.length)];                                   \n     TxtField.setText(randomWords);\n     wordLabel.setText(randomWords); \n     }\n</code></pre>\n<p>I tried to follow a bunch of videos from YouTube but there's not one showing with a string of array. Most of them are using ArrayList or List which I'm not using. I tried to google and their examples are also not showing how to do it from an array.</p>\n"},{"tags":["java","swing","jbutton"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1497390173,"creation_date":1497388175,"answer_id":44531624,"question_id":44531574,"body_markdown":"This is dangerous code:\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\nYou do realize that this overrides two of JButton&#39;s critical methods (actually, the methods are from JButton&#39;s parent, JComponent) that help set the placement of the button on the GUI (add `@Override` above the methods to see that this is so). I strongly suggest that you either change the signature of these methods, perhaps `getGridX()` and `getGridY()`, or even better, use composition and not inheritance, since you run into risk of these types of problems -- unwittingly overriding a key method -- when you extend *complex* classes such as Swing component classes. For this reason I try to avoid extending these classes unless *absolutely* necessary.\r\n\r\nFor example:\r\n\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.*;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class PlayField {\r\n        private static final int ROWS = 8;\r\n        private static final int COLS = ROWS;\r\n        private static final int MAX_RAND = 80;\r\n        private JPanel mainPanel = new JPanel();\r\n        private MatrixButton[][] button = new MatrixButton[ROWS][COLS];\r\n    \r\n        public PlayField(){\r\n            Random rand = new Random();\r\n            mainPanel.setLayout(new GridLayout(ROWS, COLS));\r\n            for (int i = 0; i &lt; ROWS; ++i){\r\n                for (int j = 0; j &lt; COLS; ++j){\r\n                    button[i][j] = new MatrixButton(j, i, rand.nextInt(MAX_RAND));\r\n                    button[i][j].addActionListener(new MyMatrixListener(i, j));\r\n                    mainPanel.add(button[i][j].getButton());\r\n                }\r\n            }\r\n        }\r\n        \r\n        private class MyMatrixListener implements ActionListener {\r\n            private int i;\r\n            private int j;\r\n            \r\n            public MyMatrixListener(int i, int j) {\r\n                this.i = i;\r\n                this.j = j;\r\n            }\r\n    \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                for (int i2 = 0; i2 &lt; button.length; i2++) {\r\n                    if (i2 != i) {\r\n                        int value = button[i2][j].getValue();\r\n                        value++;\r\n                        button[i2][j].setValue(value);\r\n                    }\r\n                }\r\n                for (int j2 = 0; j2 &lt; button[i].length; j2++) {\r\n                    if (j2 != j) {\r\n                        int value = button[i][j2].getValue();\r\n                        value++;\r\n                        button[i][j2].setValue(value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public JPanel getMainPanel() {\r\n            return mainPanel;\r\n        }\r\n        \r\n        private static void createAndShowGui() {\r\n            JFrame\r\n            frame = new JFrame(&quot;PlayField&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(new PlayField().getMainPanel());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; createAndShowGui());\r\n        }    \r\n    }\r\n\r\n&lt;?-- --&gt;\r\n    \r\n    class MatrixButton {\r\n        private int column;\r\n        private int row;\r\n        private JButton button = new JButton();\r\n        private int value;\r\n    \r\n        public MatrixButton(int column, int row, int value) {\r\n            this.column = column;\r\n            this.row = row;\r\n            setValue(value);\r\n        }\r\n    \r\n        public void addActionListener(ActionListener listener) {\r\n            button.addActionListener(listener);\r\n        }\r\n    \r\n        public int getColumn() {\r\n            return column;\r\n        }\r\n        \r\n        public int getRow() {\r\n            return row;\r\n        }\r\n        \r\n        public JButton getButton() {\r\n            return button;\r\n        }\r\n        \r\n        public int getValue() {\r\n            return value;\r\n        }\r\n        \r\n        public final void setValue(int value) {\r\n            this.value = value;\r\n            button.setText(&quot;&quot; + value);\r\n        }\r\n    }\r\n\r\nBetter to just use ints and not Strings","title":"Extended JButton fails to appear until Mouse Over","body":"<p>This is dangerous code:</p>\n\n<pre><code>public int getX() {\n    return x;\n}\npublic int getY() {\n    return y;\n}\n</code></pre>\n\n<p>You do realize that this overrides two of JButton's critical methods (actually, the methods are from JButton's parent, JComponent) that help set the placement of the button on the GUI (add <code>@Override</code> above the methods to see that this is so). I strongly suggest that you either change the signature of these methods, perhaps <code>getGridX()</code> and <code>getGridY()</code>, or even better, use composition and not inheritance, since you run into risk of these types of problems -- unwittingly overriding a key method -- when you extend <em>complex</em> classes such as Swing component classes. For this reason I try to avoid extending these classes unless <em>absolutely</em> necessary.</p>\n\n<p>For example:</p>\n\n<pre><code>import java.awt.GridLayout;\nimport java.awt.event.*;\nimport java.util.Random;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class PlayField {\n    private static final int ROWS = 8;\n    private static final int COLS = ROWS;\n    private static final int MAX_RAND = 80;\n    private JPanel mainPanel = new JPanel();\n    private MatrixButton[][] button = new MatrixButton[ROWS][COLS];\n\n    public PlayField(){\n        Random rand = new Random();\n        mainPanel.setLayout(new GridLayout(ROWS, COLS));\n        for (int i = 0; i &lt; ROWS; ++i){\n            for (int j = 0; j &lt; COLS; ++j){\n                button[i][j] = new MatrixButton(j, i, rand.nextInt(MAX_RAND));\n                button[i][j].addActionListener(new MyMatrixListener(i, j));\n                mainPanel.add(button[i][j].getButton());\n            }\n        }\n    }\n\n    private class MyMatrixListener implements ActionListener {\n        private int i;\n        private int j;\n\n        public MyMatrixListener(int i, int j) {\n            this.i = i;\n            this.j = j;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            for (int i2 = 0; i2 &lt; button.length; i2++) {\n                if (i2 != i) {\n                    int value = button[i2][j].getValue();\n                    value++;\n                    button[i2][j].setValue(value);\n                }\n            }\n            for (int j2 = 0; j2 &lt; button[i].length; j2++) {\n                if (j2 != j) {\n                    int value = button[i][j2].getValue();\n                    value++;\n                    button[i][j2].setValue(value);\n                }\n            }\n        }\n    }\n\n    public JPanel getMainPanel() {\n        return mainPanel;\n    }\n\n    private static void createAndShowGui() {\n        JFrame\n        frame = new JFrame(\"PlayField\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(new PlayField().getMainPanel());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; createAndShowGui());\n    }    \n}\n</code></pre>\n\n<p></p>\n\n<pre><code>class MatrixButton {\n    private int column;\n    private int row;\n    private JButton button = new JButton();\n    private int value;\n\n    public MatrixButton(int column, int row, int value) {\n        this.column = column;\n        this.row = row;\n        setValue(value);\n    }\n\n    public void addActionListener(ActionListener listener) {\n        button.addActionListener(listener);\n    }\n\n    public int getColumn() {\n        return column;\n    }\n\n    public int getRow() {\n        return row;\n    }\n\n    public JButton getButton() {\n        return button;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public final void setValue(int value) {\n        this.value = value;\n        button.setText(\"\" + value);\n    }\n}\n</code></pre>\n\n<p>Better to just use ints and not Strings</p>\n"}],"owner":{"account_id":5461217,"reputation":57,"user_id":4343273,"display_name":"geri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44531624,"answer_count":1,"score":0,"last_activity_date":1692919510,"creation_date":1497387995,"question_id":44531574,"body_markdown":"The situation is that I&#39;m making a panel filled with 8*8 buttons, like a matrix, and I&#39;m going to have to change specific button texts depending on the position of the clicked button. It seemed like a good idea to make my own JButton where I can assign x and y indexes to the button, so I can check easily which button was clicked by indexes.\r\n\r\nHere is the code for that:\r\n\r\n    import javax.swing.JButton;\r\n    \r\n    public class MatrixButton extends JButton {\r\n        private int x;\r\n        private int y;\r\n        \r\n        public MatrixButton(int x, int y, String text){\r\n            super(text);\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        \r\n        public int getX() {\r\n            return x;\r\n        }\r\n        public int getY() {\r\n            return y;\r\n        }\r\n    }\r\n\r\nAnd it does solve the task, but these Matrix buttons doesn&#39;t want to appear until I mouse over them. What could be the problem?\r\n\r\nhere is the code for the panel which contains these buttons and handles their actions:\r\n\r\n    public class PlayField extends JPanel implements ActionListener {\r\n        private MatrixButton[][] button = new MatrixButton[8][8];\r\n        \r\n        public PlayField(){\r\n            Random rand = new Random();\r\n            \r\n            setLayout(new GridLayout(8, 8));\r\n            \r\n            for (int i = 0; i &lt; 8; ++i){\r\n                for (int j = 0; j &lt; 8; ++j){\r\n                    button[i][j] = new MatrixButton(j, i, &quot;&quot; + rand.nextInt(80));\r\n                    button[i][j].addActionListener(this);\r\n                    \r\n                    add(button[i][j]);\r\n                }\r\n            }\r\n        }\r\n        \r\n        private String incrementText(MatrixButton mb){\r\n            return &quot;&quot; + (Integer.parseInt(mb.getText()) + 1);\r\n        }\r\n        \r\n        @Override\r\n        public void actionPerformed(ActionEvent e){\r\n            MatrixButton mb = (MatrixButton)e.getSource();\r\n            \r\n            for (int i = mb.getY(); i &gt;= 0; --i){\r\n                button[i][mb.getX()].setText(incrementText(button[i][mb.getX()]));\r\n            }\r\n            for (int i = 0; i &lt; 8; ++i){\r\n                if (i != mb.getX())\r\n                button[mb.getY()][i].setText(incrementText(button[mb.getY()][i]));\r\n            }\r\n        }\r\n    }\r\n\r\nPS: if I fill with ordinary JButtons they appear as they should be. That&#39;s why I&#39;m confused, because I didn&#39;t change much on the JButton extension just added 2 more variables to it.","title":"Extended JButton fails to appear until Mouse Over","body":"<p>The situation is that I'm making a panel filled with 8*8 buttons, like a matrix, and I'm going to have to change specific button texts depending on the position of the clicked button. It seemed like a good idea to make my own JButton where I can assign x and y indexes to the button, so I can check easily which button was clicked by indexes.</p>\n<p>Here is the code for that:</p>\n<pre><code>import javax.swing.JButton;\n\npublic class MatrixButton extends JButton {\n    private int x;\n    private int y;\n    \n    public MatrixButton(int x, int y, String text){\n        super(text);\n        this.x = x;\n        this.y = y;\n    }\n    \n    public int getX() {\n        return x;\n    }\n    public int getY() {\n        return y;\n    }\n}\n</code></pre>\n<p>And it does solve the task, but these Matrix buttons doesn't want to appear until I mouse over them. What could be the problem?</p>\n<p>here is the code for the panel which contains these buttons and handles their actions:</p>\n<pre><code>public class PlayField extends JPanel implements ActionListener {\n    private MatrixButton[][] button = new MatrixButton[8][8];\n    \n    public PlayField(){\n        Random rand = new Random();\n        \n        setLayout(new GridLayout(8, 8));\n        \n        for (int i = 0; i &lt; 8; ++i){\n            for (int j = 0; j &lt; 8; ++j){\n                button[i][j] = new MatrixButton(j, i, &quot;&quot; + rand.nextInt(80));\n                button[i][j].addActionListener(this);\n                \n                add(button[i][j]);\n            }\n        }\n    }\n    \n    private String incrementText(MatrixButton mb){\n        return &quot;&quot; + (Integer.parseInt(mb.getText()) + 1);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e){\n        MatrixButton mb = (MatrixButton)e.getSource();\n        \n        for (int i = mb.getY(); i &gt;= 0; --i){\n            button[i][mb.getX()].setText(incrementText(button[i][mb.getX()]));\n        }\n        for (int i = 0; i &lt; 8; ++i){\n            if (i != mb.getX())\n            button[mb.getY()][i].setText(incrementText(button[mb.getY()][i]));\n        }\n    }\n}\n</code></pre>\n<p>PS: if I fill with ordinary JButtons they appear as they should be. That's why I'm confused, because I didn't change much on the JButton extension just added 2 more variables to it.</p>\n"},{"tags":["java","pascal"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1524758121,"post_id":50046974,"comment_id":87110831,"body_markdown":"Consider looking into web services.  These can be made implementation agnostic.&#39;","body":"Consider looking into web services.  These can be made implementation agnostic.&#39;"}],"answers":[{"tags":[],"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692919444,"creation_date":1524758041,"answer_id":50047319,"question_id":50046974,"body_markdown":"Sure this is possible.\r\n\r\nIn case if you simply need to use a set of functions implemented on Pascal you can use [JNI](https://www3.ntu.edu.sg/home/ehchua/programming/java/JavaNativeInterface.html) with the same way as C. I.e. create a DLL for Windows or shared library for UNIX using Pascal with the JNI specific function names. \r\nYou can use [pas2jni](http://wiki.freepascal.org/pas2jni) instead of javac -h (or javah) or make your work simpler with [JNA](https://github.com/java-native-access/jna) library\r\n\r\nIf you interested with multi-process integration, i.e. you have one app written on Java and another app written on Pascal you can use SOAP or REST API.\r\n\r\n - To implementing SOAP on Pascal you can use\r\n   [Web Service Toolkit](http://wiki.freepascal.org/Web_Service_Toolkit)\r\n  \r\n - To implement REST on Pascal you can use   \r\n   [mORMot](https://synopse.info/forum/index.php) toolkit.","title":"java communication with Pascal application Is it Possible","body":"<p>Sure this is possible.</p>\n<p>In case if you simply need to use a set of functions implemented on Pascal you can use <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/java/JavaNativeInterface.html\" rel=\"nofollow noreferrer\">JNI</a> with the same way as C. I.e. create a DLL for Windows or shared library for UNIX using Pascal with the JNI specific function names.\nYou can use <a href=\"http://wiki.freepascal.org/pas2jni\" rel=\"nofollow noreferrer\">pas2jni</a> instead of javac -h (or javah) or make your work simpler with <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA</a> library</p>\n<p>If you interested with multi-process integration, i.e. you have one app written on Java and another app written on Pascal you can use SOAP or REST API.</p>\n<ul>\n<li><p>To implementing SOAP on Pascal you can use\n<a href=\"http://wiki.freepascal.org/Web_Service_Toolkit\" rel=\"nofollow noreferrer\">Web Service Toolkit</a></p>\n</li>\n<li><p>To implement REST on Pascal you can use<br />\n<a href=\"https://synopse.info/forum/index.php\" rel=\"nofollow noreferrer\">mORMot</a> toolkit.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11207923,"reputation":577,"user_id":8222921,"display_name":"Artyom Karnov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524760882,"creation_date":1524760882,"answer_id":50048135,"question_id":50046974,"body_markdown":"You can use\r\n\r\n- File system (cross file communications). i.e. you have one shared file which can be read/written by both apps\r\n- Network (SOAP/REST)","title":"java communication with Pascal application Is it Possible","body":"<p>You can use</p>\n\n<ul>\n<li>File system (cross file communications). i.e. you have one shared file which can be read/written by both apps</li>\n<li>Network (SOAP/REST)</li>\n</ul>\n"}],"owner":{"account_id":8167132,"reputation":141,"user_id":6149013,"display_name":"fawad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":50047319,"answer_count":2,"score":0,"last_activity_date":1692919444,"creation_date":1524756979,"question_id":50046974,"body_markdown":"I have been asked by someone to implement communication between a Java application and a Pascal application. I have very little knowledge of Pascal. Is it possible? If so, can someone provide some guidance? Currently I am clueless at this point.\r\n","title":"java communication with Pascal application Is it Possible","body":"<p>I have been asked by someone to implement communication between a Java application and a Pascal application. I have very little knowledge of Pascal. Is it possible? If so, can someone provide some guidance? Currently I am clueless at this point.</p>\n"},{"tags":["java","spring-boot","netflix-eureka"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1692902735,"post_id":76972099,"comment_id":135691144,"body_markdown":"I suspect you aren&#39;t following the tutorial and decided to use the newest version of Spring Boot. This error comes generally from using incompatible versions. If you are following a tutorial then follow the tutorial (including the version ranges in use).","body":"I suspect you aren&#39;t following the tutorial and decided to use the newest version of Spring Boot. This error comes generally from using incompatible versions. If you are following a tutorial then follow the tutorial (including the version ranges in use)."},{"owner":{"account_id":10809524,"reputation":601,"user_id":7950525,"display_name":"Thimira Pathirana"},"score":0,"creation_date":1692981914,"post_id":76972099,"comment_id":135704065,"body_markdown":"@M.Deinum Yes, I used the latest versions. The tutorial follows Java 11. I try to study the latest.","body":"@M.Deinum Yes, I used the latest versions. The tutorial follows Java 11. I try to study the latest."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693072372,"post_id":76972099,"comment_id":135712926,"body_markdown":"So you aren&#39;t following the tutorial, but doing something akin to the tutorial. Follow the tutorial **including the versions used**. If that works read the documentation onhow to upgrade.","body":"So you aren&#39;t following the tutorial, but doing something akin to the tutorial. Follow the tutorial <b>including the versions used</b>. If that works read the documentation onhow to upgrade."}],"answers":[{"tags":[],"owner":{"account_id":5774888,"reputation":14,"user_id":4557258,"display_name":"dalcyonir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692919389,"creation_date":1692919389,"answer_id":76973399,"question_id":76972099,"body_markdown":"Your exact code ran ok (started successfully) on my machine (except for jar packaging and i ran it with embedded tomcat).\r\n\r\nUsed Java 17,maven 3.8.1, Spring boot v3.1.2 Eureka v4.0.2.\r\n\r\nThere should be no problem with your versions because they are compatible in official Spring&#39;s compatibility matrix.\r\nPerhaps you deploy the war to an incompatible app server (eg Tomcat?)","title":"Cannot resolve org.springframework.cloud:spring-cloud-starter-netflix-eureka-client","body":"<p>Your exact code ran ok (started successfully) on my machine (except for jar packaging and i ran it with embedded tomcat).</p>\n<p>Used Java 17,maven 3.8.1, Spring boot v3.1.2 Eureka v4.0.2.</p>\n<p>There should be no problem with your versions because they are compatible in official Spring's compatibility matrix.\nPerhaps you deploy the war to an incompatible app server (eg Tomcat?)</p>\n"}],"owner":{"account_id":10809524,"reputation":601,"user_id":7950525,"display_name":"Thimira Pathirana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692919389,"creation_date":1692902103,"question_id":76972099,"body_markdown":"I am following a tutorial to learn eureka server/client with spring boot. When running the project, I&#39;m encountering the following error.\r\n\r\nI&#39;m using,\r\nJava 17\r\nSpring boot v3.1.2\r\nEureka v4.0.2\r\n\r\n**This is pom.xml. I have removed some dependencies**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;io.javabrains&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;discovery-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;discovery-server&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;version&gt;4.0.3&lt;/version&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;version&gt;4.0.2&lt;/version&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nBelow I have added full console output to understand the error.\r\n```\r\n2023-08-24T23:54:37.010+05:30  INFO 3260 --- [           main] i.j.d.DiscoveryServerApplication         : Starting DiscoveryServerApplication using Java 17.0.8 with PID 3260 (D:\\microservice\\discovery-server\\target\\classes started by HP in D:\\microservice\\discovery-server)\r\n2023-08-24T23:54:37.015+05:30  INFO 3260 --- [           main] i.j.d.DiscoveryServerApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-08-24T23:54:38.135+05:30  INFO 3260 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=89404519-db3b-3b8f-bd02-2deb9b13f336\r\n2023-08-24T23:54:39.084+05:30  WARN 3260 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it&#39;s recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.\r\n2023-08-24T23:54:39.323+05:30  INFO 3260 --- [           main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING\r\n2023-08-24T23:54:39.365+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1\r\n2023-08-24T23:54:39.367+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Client configured to neither register nor query for data.\r\n2023-08-24T23:54:39.375+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1692901479374 with initial instances count: 0\r\n2023-08-24T23:54:39.420+05:30  INFO 3260 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Initializing ...\r\n2023-08-24T23:54:39.421+05:30  INFO 3260 --- [           main] c.n.eureka.cluster.PeerEurekaNodes       : Adding new peer nodes [http://localhost:8761/eureka/]\r\n2023-08-24T23:54:39.628+05:30  INFO 3260 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson\r\n2023-08-24T23:54:39.628+05:30  INFO 3260 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson\r\n2023-08-24T23:54:39.628+05:30  INFO 3260 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml\r\n2023-08-24T23:54:39.628+05:30  INFO 3260 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml\r\n2023-08-24T23:54:39.736+05:30  INFO 3260 --- [           main] c.n.eureka.cluster.PeerEurekaNodes       : Replica node URL:  http://localhost:8761/eureka/\r\n2023-08-24T23:54:39.744+05:30  INFO 3260 --- [           main] c.n.e.registry.AbstractInstanceRegistry  : Finished initializing remote region registries. All known remote regions: []\r\n2023-08-24T23:54:39.745+05:30  INFO 3260 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Initialized\r\n2023-08-24T23:54:39.899+05:30  WARN 3260 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;eurekaVersionFilterRegistration&#39; defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;eurekaVersionFilterRegistration&#39; parameter 0: No qualifying bean of type &#39;org.springframework.boot.autoconfigure.web.ServerProperties&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n2023-08-24T23:54:39.900+05:30  INFO 3260 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Shutting down ...\r\n2023-08-24T23:54:39.913+05:30 ERROR 3260 --- [t-Conn-Cleaner2] c.n.d.s.t.j.EurekaJersey3ClientImpl      : Cannot clean connections\r\n\r\njava.lang.IllegalStateException: Client instance has been closed.\r\n\tat org.glassfish.jersey.internal.guava.Preconditions.checkState(Preconditions.java:169) ~[jersey-common-3.1.2.jar:na]\r\n\tat org.glassfish.jersey.client.JerseyClient.checkNotClosed(JerseyClient.java:257) ~[jersey-client-3.1.2.jar:na]\r\n\tat org.glassfish.jersey.client.JerseyClient.getConfiguration(JerseyClient.java:372) ~[jersey-client-3.1.2.jar:na]\r\n\tat org.glassfish.jersey.client.JerseyClient.getConfiguration(JerseyClient.java:56) ~[jersey-client-3.1.2.jar:na]\r\n\tat com.netflix.discovery.shared.transport.jersey3.EurekaJersey3ClientImpl$ConnectionCleanerTask.run(EurekaJersey3ClientImpl.java:347) ~[eureka-client-jersey3-2.0.1.jar:2.0.1]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-08-24T23:54:39.923+05:30  INFO 3260 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Shut down\r\n2023-08-24T23:54:39.930+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...\r\n2023-08-24T23:54:39.931+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient\r\n2023-08-24T23:54:39.948+05:30  INFO 3260 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-08-24T23:54:39.971+05:30 ERROR 3260 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method eurekaVersionFilterRegistration in org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration required a bean of type &#39;org.springframework.boot.autoconfigure.web.ServerProperties&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.boot.autoconfigure.web.ServerProperties&#39; in your configuration.\r\n```\r\n\r\nThis is my Main class\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaServer\r\npublic class DiscoveryServerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DiscoveryServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nHow can I solve this problem and why is it happening?","title":"Cannot resolve org.springframework.cloud:spring-cloud-starter-netflix-eureka-client","body":"<p>I am following a tutorial to learn eureka server/client with spring boot. When running the project, I'm encountering the following error.</p>\n<p>I'm using,\nJava 17\nSpring boot v3.1.2\nEureka v4.0.2</p>\n<p><strong>This is pom.xml. I have removed some dependencies</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;io.javabrains&lt;/groupId&gt;\n    &lt;artifactId&gt;discovery-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;discovery-server&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;provided&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2.3.1&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;4.0.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;4.0.2&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;javax.activation&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;activation&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.1.1&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Below I have added full console output to understand the error.</p>\n<pre><code>2023-08-24T23:54:37.010+05:30  INFO 3260 --- [           main] i.j.d.DiscoveryServerApplication         : Starting DiscoveryServerApplication using Java 17.0.8 with PID 3260 (D:\\microservice\\discovery-server\\target\\classes started by HP in D:\\microservice\\discovery-server)\n2023-08-24T23:54:37.015+05:30  INFO 3260 --- [           main] i.j.d.DiscoveryServerApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-08-24T23:54:38.135+05:30  INFO 3260 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=89404519-db3b-3b8f-bd02-2deb9b13f336\n2023-08-24T23:54:39.084+05:30  WARN 3260 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.\n2023-08-24T23:54:39.323+05:30  INFO 3260 --- [           main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING\n2023-08-24T23:54:39.365+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1\n2023-08-24T23:54:39.367+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Client configured to neither register nor query for data.\n2023-08-24T23:54:39.375+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1692901479374 with initial instances count: 0\n2023-08-24T23:54:39.420+05:30  INFO 3260 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Initializing ...\n2023-08-24T23:54:39.421+05:30  INFO 3260 --- [           main] c.n.eureka.cluster.PeerEurekaNodes       : Adding new peer nodes [http://localhost:8761/eureka/]\n2023-08-24T23:54:39.628+05:30  INFO 3260 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson\n2023-08-24T23:54:39.628+05:30  INFO 3260 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson\n2023-08-24T23:54:39.628+05:30  INFO 3260 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml\n2023-08-24T23:54:39.628+05:30  INFO 3260 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml\n2023-08-24T23:54:39.736+05:30  INFO 3260 --- [           main] c.n.eureka.cluster.PeerEurekaNodes       : Replica node URL:  http://localhost:8761/eureka/\n2023-08-24T23:54:39.744+05:30  INFO 3260 --- [           main] c.n.e.registry.AbstractInstanceRegistry  : Finished initializing remote region registries. All known remote regions: []\n2023-08-24T23:54:39.745+05:30  INFO 3260 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Initialized\n2023-08-24T23:54:39.899+05:30  WARN 3260 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eurekaVersionFilterRegistration' defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method 'eurekaVersionFilterRegistration' parameter 0: No qualifying bean of type 'org.springframework.boot.autoconfigure.web.ServerProperties' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2023-08-24T23:54:39.900+05:30  INFO 3260 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Shutting down ...\n2023-08-24T23:54:39.913+05:30 ERROR 3260 --- [t-Conn-Cleaner2] c.n.d.s.t.j.EurekaJersey3ClientImpl      : Cannot clean connections\n\njava.lang.IllegalStateException: Client instance has been closed.\n    at org.glassfish.jersey.internal.guava.Preconditions.checkState(Preconditions.java:169) ~[jersey-common-3.1.2.jar:na]\n    at org.glassfish.jersey.client.JerseyClient.checkNotClosed(JerseyClient.java:257) ~[jersey-client-3.1.2.jar:na]\n    at org.glassfish.jersey.client.JerseyClient.getConfiguration(JerseyClient.java:372) ~[jersey-client-3.1.2.jar:na]\n    at org.glassfish.jersey.client.JerseyClient.getConfiguration(JerseyClient.java:56) ~[jersey-client-3.1.2.jar:na]\n    at com.netflix.discovery.shared.transport.jersey3.EurekaJersey3ClientImpl$ConnectionCleanerTask.run(EurekaJersey3ClientImpl.java:347) ~[eureka-client-jersey3-2.0.1.jar:2.0.1]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-08-24T23:54:39.923+05:30  INFO 3260 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Shut down\n2023-08-24T23:54:39.930+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...\n2023-08-24T23:54:39.931+05:30  INFO 3260 --- [           main] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient\n2023-08-24T23:54:39.948+05:30  INFO 3260 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-08-24T23:54:39.971+05:30 ERROR 3260 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method eurekaVersionFilterRegistration in org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration required a bean of type 'org.springframework.boot.autoconfigure.web.ServerProperties' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.boot.autoconfigure.web.ServerProperties' in your configuration.\n</code></pre>\n<p>This is my Main class</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class DiscoveryServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DiscoveryServerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>How can I solve this problem and why is it happening?</p>\n"},{"tags":["java","sharepoint","microsoft-graph-api","microsoft-graph-sdks"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1691418554,"post_id":76852680,"comment_id":135485209,"body_markdown":"what are you expecting and what are you getting as result ?","body":"what are you expecting and what are you getting as result ?"},{"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"score":0,"creation_date":1691418636,"post_id":76852680,"comment_id":135485230,"body_markdown":"i was expecting the driveItem to collect the id from them and them add a specific tag to them","body":"i was expecting the driveItem to collect the id from them and them add a specific tag to them"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1691418827,"post_id":76852680,"comment_id":135485276,"body_markdown":"did you inspect the content of results ?","body":"did you inspect the content of results ?"},{"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"score":0,"creation_date":1691419567,"post_id":76852680,"comment_id":135485473,"body_markdown":"it comes empty, nothing is brougth","body":"it comes empty, nothing is brougth"},{"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"score":0,"creation_date":1692075448,"post_id":76852680,"comment_id":135572447,"body_markdown":"Do you need to search all subfolders or only the root folder?","body":"Do you need to search all subfolders or only the root folder?"},{"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"score":0,"creation_date":1692104994,"post_id":76852680,"comment_id":135577104,"body_markdown":"@user2250152 i need to search the whole site, root folder and all","body":"@user2250152 i need to search the whole site, root folder and all"},{"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"score":0,"creation_date":1692106050,"post_id":76852680,"comment_id":135577307,"body_markdown":"Thanks for the feedback. Yes you code will search only the current folder. So I would recommend to try /search/query [endpoint](https://learn.microsoft.com/en-us/graph/search-concept-files#example-5-use-filters-in-search-queries)","body":"Thanks for the feedback. Yes you code will search only the current folder. So I would recommend to try /search/query <a href=\"https://learn.microsoft.com/en-us/graph/search-concept-files#example-5-use-filters-in-search-queries\" rel=\"nofollow noreferrer\">endpoint</a>"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1692694950,"post_id":76852680,"comment_id":135655542,"body_markdown":"[The bounty](https://stackoverflow.com/posts/76852680/timeline) attracted a [ChatGPT](https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned) plagiariser.","body":"<a href=\"https://stackoverflow.com/posts/76852680/timeline\">The bounty</a> attracted a <a href=\"https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned\">ChatGPT</a> plagiariser."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1692830657,"post_id":76852680,"comment_id":135679139,"body_markdown":"cont&#39; - Now deleted.","body":"cont&#39; - Now deleted."}],"answers":[{"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692076603,"creation_date":1692076603,"answer_id":76903585,"question_id":76852680,"body_markdown":"`/site/drive/root` endpoint doesn&#39;t support searching as you expect. Better is to use `/search/query` [endpoint][1]\r\n\r\n    POST https://graph.microsoft.com/v1.0/search/query\r\n    {\r\n        &quot;requests&quot;: [\r\n            {\r\n                &quot;entityTypes&quot;: [\r\n                    &quot;driveItem&quot;\r\n                ],\r\n                &quot;query&quot;: {\r\n                    &quot;queryString&quot;: &quot;LastModifiedTime &gt; 2023-08-14 AND isDocument=true AND path:\\&quot;https://tenant_name.sharepoint.com/sites/site_name\\&quot;&quot;\r\n                },\r\n                &quot;from&quot;: 0,\r\n                &quot;size&quot;: 500\r\n            }\r\n        ]\r\n    }\r\n\r\nCode for java SDK\r\n\r\n    LinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;SearchRequest&gt;();\r\n    SearchRequest requests = new SearchRequest();\r\n    LinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;EntityType&gt;();\r\n    entityTypesList.add(EntityType.DRIVE_ITEM);\r\n    requests.entityTypes = entityTypesList;\r\n    SearchQuery query = new SearchQuery();\r\n    query.queryString = &quot;LastModifiedTime &gt; 2023-08-10 AND isDocument=true AND path:\\&quot;https://tenant_name.sharepoint.com/sites/site_name\\&quot;&quot;;\r\n    requests.query = query;\r\n    requests.from = 0;\r\n    requests.size = 500;\r\n    \r\n    requestsList.add(requests);\r\n    \r\n    graphClient.search()\r\n    \t.query(SearchEntityQueryParameterSet\r\n    \t\t.newBuilder()\r\n    \t\t.withRequests(requestsList)\r\n    \t\t.build())\r\n    \t.buildRequest()\r\n    \t.post();\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/search-concept-files#example-5-use-filters-in-search-queries","title":"Find Files Uploaded in Last 24 Hours using Java Graph SDK","body":"<p><code>/site/drive/root</code> endpoint doesn't support searching as you expect. Better is to use <code>/search/query</code> <a href=\"https://learn.microsoft.com/en-us/graph/search-concept-files#example-5-use-filters-in-search-queries\" rel=\"nofollow noreferrer\">endpoint</a></p>\n<pre><code>POST https://graph.microsoft.com/v1.0/search/query\n{\n    &quot;requests&quot;: [\n        {\n            &quot;entityTypes&quot;: [\n                &quot;driveItem&quot;\n            ],\n            &quot;query&quot;: {\n                &quot;queryString&quot;: &quot;LastModifiedTime &gt; 2023-08-14 AND isDocument=true AND path:\\&quot;https://tenant_name.sharepoint.com/sites/site_name\\&quot;&quot;\n            },\n            &quot;from&quot;: 0,\n            &quot;size&quot;: 500\n        }\n    ]\n}\n</code></pre>\n<p>Code for java SDK</p>\n<pre><code>LinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;SearchRequest&gt;();\nSearchRequest requests = new SearchRequest();\nLinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;EntityType&gt;();\nentityTypesList.add(EntityType.DRIVE_ITEM);\nrequests.entityTypes = entityTypesList;\nSearchQuery query = new SearchQuery();\nquery.queryString = &quot;LastModifiedTime &gt; 2023-08-10 AND isDocument=true AND path:\\&quot;https://tenant_name.sharepoint.com/sites/site_name\\&quot;&quot;;\nrequests.query = query;\nrequests.from = 0;\nrequests.size = 500;\n\nrequestsList.add(requests);\n\ngraphClient.search()\n    .query(SearchEntityQueryParameterSet\n        .newBuilder()\n        .withRequests(requestsList)\n        .build())\n    .buildRequest()\n    .post();\n</code></pre>\n"}],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692919245,"creation_date":1691418439,"question_id":76852680,"body_markdown":"I need to be able to find the files uploaded to a microsoft sharepoint site in the last 24h, using the graph-api-sdk.\r\n\r\nI have tried many things but nothing seem to work, this seem to be my last attempt.\r\nBut i dont understand why it is not working\r\n\r\n    String siteId = &quot;&quot;;\r\n    \r\n    OffsetDateTime startTime = OffsetDateTime.now().minusHours(24);\r\n    SiteRequestBuilder site = graphClient.sites(siteid);\r\n    \r\n    DriveItemSearchCollectionPage results = site.drive().root()\r\n    \t.search(\r\n    \t\tDriveItemSearchParameterSet.newBuilder()\r\n    \t\t.withQ(&quot;LastModifiedTime ge &quot;+ startTime)\r\n    \t\t.build()\r\n    \t).buildRequest().get();\r\n    \r\n    for (DriveItem driveItem : results.getCurrentPage()) {\r\n    \tSystem.out.println(&quot;----------------&gt; &quot;+driveItem.name);\r\n    }\r\n\r\nThe modify time does not solve my issue, it shows the file modify time not the upload.\r\n\r\nTest this. Take any complex file, pdf, xls, doc, any complex file, that was modify sometime ago, and upload it.\r\n\r\nWhen it is uploaded the modify time is the same one the file had on your pc, not the upload time to sharepoint\r\n\r\nUPDATE \r\n---------------------------------------------------------------------\r\nTaking into consideration i cannot seem to be able to detect the correct upload date.\r\n\r\nI was thinking, is is possible for me to do a search for a Yes/No custom column named processed, and find all that have processed as false.\r\n\r\nAnd when i run the process on the file then change the value to true, so that i wont process the same file 2 times?\r\n\r\nIf so how could i change my query to include this field, \r\n\r\ni tried this but it does not seem to work\r\n\r\n    SiteRequestBuilder sitereq = graphClient.sites(siteid);\r\n    String webUrl = sitereq.buildRequest().get().webUrl;\r\n    String queryString = String.format(&quot;isDocument=true AND processed=false AND path: \\&quot;%s\\&quot; &quot;, webUrl);\r\n    \r\n    LinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;&gt;();\r\n    SearchRequest requests = new SearchRequest();\r\n    \r\n    LinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;&gt;();\r\n    entityTypesList.add(EntityType.DRIVE_ITEM);\r\n    requests.entityTypes = entityTypesList;\r\n    \r\n    LinkedList&lt;SortProperty&gt; sortProperties = new LinkedList&lt;&gt;();\r\n    SortProperty sort = new SortProperty();\r\n    sort.name = &quot;LastModifiedTime&quot;;\r\n    sort.isDescending = false;\r\n    sortProperties.add(sort);\r\n    \r\n    SearchQuery query = new SearchQuery();\r\n    query.queryString = queryString;\r\n    requests.query = query;\r\n    requests.sortProperties = sortProperties;\r\n    requests.size = 500;\r\n    \r\n    requestsList.add(requests);\r\n    \r\n    SearchEntityQueryParameterSet sqp = SearchEntityQueryParameterSet\r\n    \t\t\t\t.newBuilder()\r\n    \t\t\t\t.withRequests(requestsList)\r\n    \t\t\t\t.build();\r\n    \r\n    SearchEntityQueryCollectionRequest searchRequest = graphClient.search().query(sqp).buildRequest();\r\n    SearchEntityQueryCollectionPage searchResult = searchRequest.post();\r\n\r\n","title":"Find Files Uploaded in Last 24 Hours using Java Graph SDK","body":"<p>I need to be able to find the files uploaded to a microsoft sharepoint site in the last 24h, using the graph-api-sdk.</p>\n<p>I have tried many things but nothing seem to work, this seem to be my last attempt.\nBut i dont understand why it is not working</p>\n<pre><code>String siteId = &quot;&quot;;\n\nOffsetDateTime startTime = OffsetDateTime.now().minusHours(24);\nSiteRequestBuilder site = graphClient.sites(siteid);\n\nDriveItemSearchCollectionPage results = site.drive().root()\n    .search(\n        DriveItemSearchParameterSet.newBuilder()\n        .withQ(&quot;LastModifiedTime ge &quot;+ startTime)\n        .build()\n    ).buildRequest().get();\n\nfor (DriveItem driveItem : results.getCurrentPage()) {\n    System.out.println(&quot;----------------&gt; &quot;+driveItem.name);\n}\n</code></pre>\n<p>The modify time does not solve my issue, it shows the file modify time not the upload.</p>\n<p>Test this. Take any complex file, pdf, xls, doc, any complex file, that was modify sometime ago, and upload it.</p>\n<p>When it is uploaded the modify time is the same one the file had on your pc, not the upload time to sharepoint</p>\n<h2>UPDATE</h2>\n<p>Taking into consideration i cannot seem to be able to detect the correct upload date.</p>\n<p>I was thinking, is is possible for me to do a search for a Yes/No custom column named processed, and find all that have processed as false.</p>\n<p>And when i run the process on the file then change the value to true, so that i wont process the same file 2 times?</p>\n<p>If so how could i change my query to include this field,</p>\n<p>i tried this but it does not seem to work</p>\n<pre><code>SiteRequestBuilder sitereq = graphClient.sites(siteid);\nString webUrl = sitereq.buildRequest().get().webUrl;\nString queryString = String.format(&quot;isDocument=true AND processed=false AND path: \\&quot;%s\\&quot; &quot;, webUrl);\n\nLinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;&gt;();\nSearchRequest requests = new SearchRequest();\n\nLinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;&gt;();\nentityTypesList.add(EntityType.DRIVE_ITEM);\nrequests.entityTypes = entityTypesList;\n\nLinkedList&lt;SortProperty&gt; sortProperties = new LinkedList&lt;&gt;();\nSortProperty sort = new SortProperty();\nsort.name = &quot;LastModifiedTime&quot;;\nsort.isDescending = false;\nsortProperties.add(sort);\n\nSearchQuery query = new SearchQuery();\nquery.queryString = queryString;\nrequests.query = query;\nrequests.sortProperties = sortProperties;\nrequests.size = 500;\n\nrequestsList.add(requests);\n\nSearchEntityQueryParameterSet sqp = SearchEntityQueryParameterSet\n                .newBuilder()\n                .withRequests(requestsList)\n                .build();\n\nSearchEntityQueryCollectionRequest searchRequest = graphClient.search().query(sqp).buildRequest();\nSearchEntityQueryCollectionPage searchResult = searchRequest.post();\n</code></pre>\n"},{"tags":["java","firefox","selenium","jenkins","webdriver"],"comments":[{"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"score":0,"creation_date":1377841065,"post_id":18525636,"comment_id":27244082,"body_markdown":"Well the result says `Failed to connect to binary FirefoxBinary(/usr/bin/firefox)`. Make sure this is the right path for the firefox executable on the server.","body":"Well the result says <code>Failed to connect to binary FirefoxBinary(&#47;usr&#47;bin&#47;firefox)</code>. Make sure this is the right path for the firefox executable on the server."},{"owner":{"account_id":2630802,"reputation":131,"user_id":2276803,"accept_rate":10,"display_name":"Subbarao Gaddam"},"score":0,"creation_date":1377841885,"post_id":18525636,"comment_id":27244379,"body_markdown":"yes &quot;/usr/bin/firefox&quot; is the right path for firefox in server.","body":"yes &quot;/usr/bin/firefox&quot; is the right path for firefox in server."},{"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"score":0,"creation_date":1377842763,"post_id":18525636,"comment_id":27244670,"body_markdown":"Probably this post can help you: http://stackoverflow.com/questions/13514338/failed-to-connect-to-binary-firefoxbinary-with-selenium-in-maven","body":"Probably this post can help you: <a href=\"http://stackoverflow.com/questions/13514338/failed-to-connect-to-binary-firefoxbinary-with-selenium-in-maven\" title=\"failed to connect to binary firefoxbinary with selenium in maven\">stackoverflow.com/questions/13514338/&hellip;</a>"},{"owner":{"account_id":2630802,"reputation":131,"user_id":2276803,"accept_rate":10,"display_name":"Subbarao Gaddam"},"score":0,"creation_date":1377847011,"post_id":18525636,"comment_id":27246383,"body_markdown":"Hi Digvijay Yadav, I gone through this link, i strucked at &quot;set a DISPLAY env&quot;, may i know how to set and with what value. And may i know the purpose of setting &quot;DISPLAY&quot; Environment variable.","body":"Hi Digvijay Yadav, I gone through this link, i strucked at &quot;set a DISPLAY env&quot;, may i know how to set and with what value. And may i know the purpose of setting &quot;DISPLAY&quot; Environment variable."},{"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"score":0,"creation_date":1377849975,"post_id":18525636,"comment_id":27247765,"body_markdown":"What OS you are using?","body":"What OS you are using?"},{"owner":{"account_id":2630802,"reputation":131,"user_id":2276803,"accept_rate":10,"display_name":"Subbarao Gaddam"},"score":0,"creation_date":1377876388,"post_id":18525636,"comment_id":27262723,"body_markdown":"jenkins is running in Linux os..","body":"jenkins is running in Linux os.."},{"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"score":0,"creation_date":1503501803,"post_id":18525636,"comment_id":78645315,"body_markdown":"Possible duplicate of [Selenium webdriver fails to start with Firefox 26+](https://stackoverflow.com/questions/20897368/selenium-webdriver-fails-to-start-with-firefox-26)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20897368/selenium-webdriver-fails-to-start-with-firefox-26\">Selenium webdriver fails to start with Firefox 26+</a>"}],"answers":[{"tags":[],"owner":{"account_id":2775892,"reputation":1,"user_id":2389484,"display_name":"Murali Krishna Pasupuleti"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1377850137,"creation_date":1377842890,"answer_id":18526103,"question_id":18525636,"body_markdown":"Try to use the following:\r\n\r\n    System.setProperty(&quot;webdriver.firefox.bin&quot;,&quot;C:\\\\Program Files (x86)\\\\Mozilla Firefox\\\\firefox.exe&quot;);\r\n\r\n","title":"setUp method: Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows:","body":"<p>Try to use the following:</p>\n\n<pre><code>System.setProperty(\"webdriver.firefox.bin\",\"C:\\\\Program Files (x86)\\\\Mozilla Firefox\\\\firefox.exe\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064663,"reputation":1416,"user_id":2474385,"accept_rate":100,"display_name":"Jake Graham Arnold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425032510,"creation_date":1425032510,"answer_id":28762710,"question_id":18525636,"body_markdown":"I had this problem after updating Ubuntu. My problem was that the Firefox version was different, to prevent the issue in future turn off automatic updates. \r\n\r\nThis helped fixed the problem for me:\r\nhttps://stackoverflow.com/questions/13514338/failed-to-connect-to-binary-firefoxbinary-with-selenium-in-maven","title":"setUp method: Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows:","body":"<p>I had this problem after updating Ubuntu. My problem was that the Firefox version was different, to prevent the issue in future turn off automatic updates. </p>\n\n<p>This helped fixed the problem for me:\n<a href=\"https://stackoverflow.com/questions/13514338/failed-to-connect-to-binary-firefoxbinary-with-selenium-in-maven\">Failed to connect to binary FirefoxBinary with Selenium in Maven</a></p>\n"},{"tags":[],"owner":{"account_id":11516460,"reputation":11,"user_id":8439687,"display_name":"Sachin Gandhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502281414,"creation_date":1502280369,"answer_id":45590226,"question_id":18525636,"body_markdown":"First fix your Firefox version and selenium version match by testing it locally.\r\nIf you are running job through Jenkins and in the logs you are getting error \r\n Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. Firefox console output: Error: cannot open display: :0\r\n\r\nTo resolve look below steps:\r\n\r\n1) Firefox will launch only if you have Xvfb running,  \r\n   example: Xvfb :15 -screen 0 1024x768x16 so check this first, this check you \r\n   could include into job by adding ps -ef into pre-steps (shell execution) of \r\n   job.\r\n\r\n2) Even if you would have define explicitly the DISPLAY value but you have still error then the best method is to inject as a environmental value in Jenkin job itself. Under **Build environment &gt;&gt; Inject env variables &gt;&gt; Properties content** &gt;&gt; DISPLAY=:15 (Display you could have as per your choice but same should be running in xvfb)\r\n\r\n!! Run your job, should have been fix.","title":"setUp method: Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows:","body":"<p>First fix your Firefox version and selenium version match by testing it locally.\nIf you are running job through Jenkins and in the logs you are getting error \n Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. Firefox console output: Error: cannot open display: :0</p>\n\n<p>To resolve look below steps:</p>\n\n<p>1) Firefox will launch only if you have Xvfb running,<br>\n   example: Xvfb :15 -screen 0 1024x768x16 so check this first, this check you \n   could include into job by adding ps -ef into pre-steps (shell execution) of \n   job.</p>\n\n<p>2) Even if you would have define explicitly the DISPLAY value but you have still error then the best method is to inject as a environmental value in Jenkin job itself. Under <strong>Build environment >> Inject env variables >> Properties content</strong> >> DISPLAY=:15 (Display you could have as per your choice but same should be running in xvfb)</p>\n\n<p>!! Run your job, should have been fix.</p>\n"}],"owner":{"account_id":2630802,"reputation":131,"user_id":2276803,"accept_rate":10,"display_name":"Subbarao Gaddam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1692918165,"creation_date":1377840674,"question_id":18525636,"body_markdown":"When I am running Selenium-Webdriver scripts in Eclipse, it works fine. But the same scripts are running in jenkins in server machine, it is giving the following error:\r\n\r\n    \r\n\r\n    18:00:34 -------------------------------------------------------\r\n    18:00:34  T E S T S\r\n    18:00:34 -------------------------------------------------------\r\n    18:00:35 Running TestSuite\r\n    18:12:46 Tests run: 568, Failures: 16, Errors: 0, Skipped: 552, Time elapsed: 731.137          sec &lt;&lt;&lt; FAILURE!\r\n    18:12:46 \r\n    18:12:46 Results :\r\n    18:12:46 \r\n    18:12:46 Failed tests:   setUp(com.abcd.fe.web.integration.myaccount.test.SettingsPageTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \r\n    18:12:46   setUp(com.abcd.fe.web.integration.footer.test.FooterMenuBottomTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \r\n    18:12:46   setUp(com.abcd.fe.web.integration.help.test.HelpPageTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \r\n    18:12:46   setUp(com.abcd.fe.web.integration.myaccount.test.MyAccountPageTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \r\n    18:12:46   setUp(com.abcd.fe.web.integration.loginsignup.test.SignupPageTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \r\n    \r\n    18:12:46 \r\n    18:12:46 Tests run: 568, Failures: 16, Errors: 0, Skipped: 552\r\n    18:12:46 \r\n    18:12:46 [ERROR] There are test failures.\r\n    18:12:46 \r\n    18:12:46 Please refer to /var/lib/jenkins/jenkins/workspace/fe-abcd-xyz- integration-test/target/surefire-reports for the individual test results.\r\n    18:12:46 [JENKINS] Recording test results\r\n    18:12:48 [INFO] \r\n    18:12:48 [INFO] --- maven-install-plugin:2.3.1:install (default-install) @ abcd-xyz-test ---\r\n    18:12:48 [INFO] Installing /var/lib/jenkins/jenkins/workspace/fe-abcd-xyz-integration-test/target/abcd-xyz-test-2.0.0-SNAPSHOT.jar to /home/jenkins/.m2/repository/com/abcd/test/fe/functional/abcd-xyz-test/2.0.0-SNAPSHOT/abcd-xyz-test-2.0.0-SNAPSHOT.jar\r\n    18:12:48 [INFO] Installing /var/lib/jenkins/jenkins/workspace/fe-abcd-xyz-integration-test/pom.xml to /home/jenkins/.m2/repository/com/abcd/test/fe/functional/abcd-xyz-test/2.0.0-SNAPSHOT/abcd-xyz-test-2.0.0-SNAPSHOT.pom\r\n    18:12:48 [INFO] ------------------------------------------------------------------------\r\n    18:12:48 [INFO] BUILD SUCCESS\r\n    18:12:48 [INFO] ------------------------------------------------------------------------\r\n    18:12:48 [INFO] Total time: 12:23.959s\r\n    18:12:48 [INFO] Finished at: Thu Aug 29 18:12:48 PDT 2013\r\n    18:12:48 [INFO] Final Memory: 25M/198M\r\n    18:12:48 [INFO] ------------------------------------------------------------------------\r\n    18:12:49 [JENKINS] Archiving disabled\r\n    18:12:49 Waiting for Jenkins to finish collecting data\r\n    18:12:49 Sending e-mails to: abcd-xyz-dev@abcd.com abcd-xyz-qa@abcd.com\r\n    18:12:49 channel stopped\r\n    18:12:49 [ANALYSIS-COLLECTOR] Computing warning deltas based on reference build #589\r\n    18:12:49 TestNG Reports Processing: START\r\n    18:12:49 Looking for TestNG results report in workspace using pattern: **/target/surefire-reports/testng-results.xml\r\n    18:12:49 Saving reports...\r\n    18:12:49 Processing &#39;/var/lib/jenkins/jenkins/jobs/fe-abcd-xyz-integration-test/builds/2013-08-29_18-00-18/testng/testng-results.xml&#39;\r\n    18:12:49 TestNG Reports Processing: FINISH\r\n    18:12:49 Sending e-mails to: abcd-xyz-dev@abcd.com abcd-xyz-qa@abcd.com\r\n    18:12:49 [ci-game] evaluating rule: Build result\r\n    18:12:49 [ci-game] evaluating rule: Increased number of failed tests\r\n    18:12:49 [ci-game] evaluating rule: Increased number of passed tests\r\n    18:12:49 [ci-game] evaluating rule: Decreased number of failed tests\r\n    18:12:49 [ci-game] evaluating rule: Decreased number of passed tests\r\n    18:12:49 [ci-game] evaluating rule: Open HIGH priority tasks\r\n    18:12:49 [ci-game] evaluating rule: Open NORMAL priority tasks\r\n    18:12:49 [ci-game] evaluating rule: Open LOW priority tasks\r\n    18:12:49 [ci-game] evaluating rule: PMD violation\r\n    18:12:49 [ci-game] evaluating rule: pylint violation\r\n    18:12:49 [ci-game] evaluating rule: CPD violation\r\n    18:12:49 [ci-game] evaluating rule: Checkstyle violation\r\n    18:12:49 [ci-game] evaluating rule: FindBugs violation\r\n    18:12:49 [ci-game] evaluating rule: FXCop violation\r\n    18:12:49 [ci-game] evaluating rule: Simian violation\r\n    18:12:49 [ci-game] evaluating rule: StyleCop violation\r\n    18:12:49 [ci-game] evaluating rule: HIGH priority PMD warnings\r\n    18:12:49 [ci-game] evaluating rule: NORMAL priority PMD warnings\r\n    18:12:49 [ci-game] evaluating rule: LOW priority PMD warnings\r\n    18:12:49 [ci-game] evaluating rule: New HIGH priority Findbugs warnings\r\n    18:12:49 [ci-game] evaluating rule: New NORMAL priority Findbugs warnings\r\n    18:12:49 [ci-game] evaluating rule: New LOW priority Findbugs warnings\r\n    18:12:49 [ci-game] evaluating rule: Fixed HIGH priority Findbugs warnings\r\n    18:12:49 [ci-game] evaluating rule: Fixed NORMAL priority Findbugs warnings\r\n    18:12:49 [ci-game] evaluating rule: Fixed LOW priority Findbugs warnings\r\n    18:12:49 [ci-game] evaluating rule: Changed number of compiler warnings\r\n    18:12:49 Notifying upstream projects of job completion\r\n    18:12:49 Finished: UNSTABLE\r\n\r\nThis the Error i am getting in porm.xml selenium.server version is 2.33.0 and Firefox version in server is 10.0. From 3 days i am getting this problem, before it runs fine. Why it is running in Local machine and Why it is not running in Jenkins.\r\n","title":"setUp method: Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows:","body":"<p>When I am running Selenium-Webdriver scripts in Eclipse, it works fine. But the same scripts are running in jenkins in server machine, it is giving the following error:</p>\n\n<pre><code>18:00:34 -------------------------------------------------------\n18:00:34  T E S T S\n18:00:34 -------------------------------------------------------\n18:00:35 Running TestSuite\n18:12:46 Tests run: 568, Failures: 16, Errors: 0, Skipped: 552, Time elapsed: 731.137          sec &lt;&lt;&lt; FAILURE!\n18:12:46 \n18:12:46 Results :\n18:12:46 \n18:12:46 Failed tests:   setUp(com.abcd.fe.web.integration.myaccount.test.SettingsPageTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \n18:12:46   setUp(com.abcd.fe.web.integration.footer.test.FooterMenuBottomTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \n18:12:46   setUp(com.abcd.fe.web.integration.help.test.HelpPageTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \n18:12:46   setUp(com.abcd.fe.web.integration.myaccount.test.MyAccountPageTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \n18:12:46   setUp(com.abcd.fe.web.integration.loginsignup.test.SignupPageTest): Failed to connect to binary FirefoxBinary(/usr/bin/firefox) on port 7055; process output follows: \n\n18:12:46 \n18:12:46 Tests run: 568, Failures: 16, Errors: 0, Skipped: 552\n18:12:46 \n18:12:46 [ERROR] There are test failures.\n18:12:46 \n18:12:46 Please refer to /var/lib/jenkins/jenkins/workspace/fe-abcd-xyz- integration-test/target/surefire-reports for the individual test results.\n18:12:46 [JENKINS] Recording test results\n18:12:48 [INFO] \n18:12:48 [INFO] --- maven-install-plugin:2.3.1:install (default-install) @ abcd-xyz-test ---\n18:12:48 [INFO] Installing /var/lib/jenkins/jenkins/workspace/fe-abcd-xyz-integration-test/target/abcd-xyz-test-2.0.0-SNAPSHOT.jar to /home/jenkins/.m2/repository/com/abcd/test/fe/functional/abcd-xyz-test/2.0.0-SNAPSHOT/abcd-xyz-test-2.0.0-SNAPSHOT.jar\n18:12:48 [INFO] Installing /var/lib/jenkins/jenkins/workspace/fe-abcd-xyz-integration-test/pom.xml to /home/jenkins/.m2/repository/com/abcd/test/fe/functional/abcd-xyz-test/2.0.0-SNAPSHOT/abcd-xyz-test-2.0.0-SNAPSHOT.pom\n18:12:48 [INFO] ------------------------------------------------------------------------\n18:12:48 [INFO] BUILD SUCCESS\n18:12:48 [INFO] ------------------------------------------------------------------------\n18:12:48 [INFO] Total time: 12:23.959s\n18:12:48 [INFO] Finished at: Thu Aug 29 18:12:48 PDT 2013\n18:12:48 [INFO] Final Memory: 25M/198M\n18:12:48 [INFO] ------------------------------------------------------------------------\n18:12:49 [JENKINS] Archiving disabled\n18:12:49 Waiting for Jenkins to finish collecting data\n18:12:49 Sending e-mails to: abcd-xyz-dev@abcd.com abcd-xyz-qa@abcd.com\n18:12:49 channel stopped\n18:12:49 [ANALYSIS-COLLECTOR] Computing warning deltas based on reference build #589\n18:12:49 TestNG Reports Processing: START\n18:12:49 Looking for TestNG results report in workspace using pattern: **/target/surefire-reports/testng-results.xml\n18:12:49 Saving reports...\n18:12:49 Processing '/var/lib/jenkins/jenkins/jobs/fe-abcd-xyz-integration-test/builds/2013-08-29_18-00-18/testng/testng-results.xml'\n18:12:49 TestNG Reports Processing: FINISH\n18:12:49 Sending e-mails to: abcd-xyz-dev@abcd.com abcd-xyz-qa@abcd.com\n18:12:49 [ci-game] evaluating rule: Build result\n18:12:49 [ci-game] evaluating rule: Increased number of failed tests\n18:12:49 [ci-game] evaluating rule: Increased number of passed tests\n18:12:49 [ci-game] evaluating rule: Decreased number of failed tests\n18:12:49 [ci-game] evaluating rule: Decreased number of passed tests\n18:12:49 [ci-game] evaluating rule: Open HIGH priority tasks\n18:12:49 [ci-game] evaluating rule: Open NORMAL priority tasks\n18:12:49 [ci-game] evaluating rule: Open LOW priority tasks\n18:12:49 [ci-game] evaluating rule: PMD violation\n18:12:49 [ci-game] evaluating rule: pylint violation\n18:12:49 [ci-game] evaluating rule: CPD violation\n18:12:49 [ci-game] evaluating rule: Checkstyle violation\n18:12:49 [ci-game] evaluating rule: FindBugs violation\n18:12:49 [ci-game] evaluating rule: FXCop violation\n18:12:49 [ci-game] evaluating rule: Simian violation\n18:12:49 [ci-game] evaluating rule: StyleCop violation\n18:12:49 [ci-game] evaluating rule: HIGH priority PMD warnings\n18:12:49 [ci-game] evaluating rule: NORMAL priority PMD warnings\n18:12:49 [ci-game] evaluating rule: LOW priority PMD warnings\n18:12:49 [ci-game] evaluating rule: New HIGH priority Findbugs warnings\n18:12:49 [ci-game] evaluating rule: New NORMAL priority Findbugs warnings\n18:12:49 [ci-game] evaluating rule: New LOW priority Findbugs warnings\n18:12:49 [ci-game] evaluating rule: Fixed HIGH priority Findbugs warnings\n18:12:49 [ci-game] evaluating rule: Fixed NORMAL priority Findbugs warnings\n18:12:49 [ci-game] evaluating rule: Fixed LOW priority Findbugs warnings\n18:12:49 [ci-game] evaluating rule: Changed number of compiler warnings\n18:12:49 Notifying upstream projects of job completion\n18:12:49 Finished: UNSTABLE\n</code></pre>\n\n<p>This the Error i am getting in porm.xml selenium.server version is 2.33.0 and Firefox version in server is 10.0. From 3 days i am getting this problem, before it runs fine. Why it is running in Local machine and Why it is not running in Jenkins.</p>\n"},{"tags":["java","apache","tomcat8"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1527049551,"post_id":50479498,"comment_id":87972944,"body_markdown":"Did you try _reading_ the log? Did you see the message `Unable to create directory for deployment: [/opt/apache-tomcat-8.5.31/conf/Catalina/localhost]`?","body":"Did you try <i>reading</i> the log? Did you see the message <code>Unable to create directory for deployment: [&#47;opt&#47;apache-tomcat-8.5.31&#47;conf&#47;Catalina&#47;localhost]</code>?"},{"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"score":0,"creation_date":1527049791,"post_id":50479498,"comment_id":87973013,"body_markdown":"Propably the problem is with permissions. Try to create folder  `/opt/apache-tomcat-8.5.31/conf/Catalina/localhost` and execute `chmod 777 /opt/apache-tomcat-8.5.31/conf/Catalina/localhost`","body":"Propably the problem is with permissions. Try to create folder  <code>&#47;opt&#47;apache-tomcat-8.5.31&#47;conf&#47;Catalina&#47;localhost</code> and execute <code>chmod 777 &#47;opt&#47;apache-tomcat-8.5.31&#47;conf&#47;Catalina&#47;localhost</code>"},{"owner":{"account_id":13629618,"reputation":75,"user_id":9831971,"display_name":"sachin thakur"},"score":0,"creation_date":1527051353,"post_id":50479498,"comment_id":87973432,"body_markdown":"Hi @JimGarrison . I have resolved the issue you addressed.Still getting same problem.","body":"Hi @JimGarrison . I have resolved the issue you addressed.Still getting same problem."},{"owner":{"account_id":13629618,"reputation":75,"user_id":9831971,"display_name":"sachin thakur"},"score":0,"creation_date":1527051427,"post_id":50479498,"comment_id":87973457,"body_markdown":"Hi @DanilaZharenkov. I have edited the my question and latest logs are attached. chmod 777 is executed for requested dir. Still facing same issue.","body":"Hi @DanilaZharenkov. I have edited the my question and latest logs are attached. chmod 777 is executed for requested dir. Still facing same issue."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1527051518,"post_id":50479498,"comment_id":87973486,"body_markdown":"The new log DOES NOT contain an error preventing startup.","body":"The new log DOES NOT contain an error preventing startup."},{"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"score":0,"creation_date":1527053092,"post_id":50479498,"comment_id":87973996,"body_markdown":"as @JimGarrison said, there are no errors in your log. Looks like tomcat started succesfully. Or this is not the full log","body":"as @JimGarrison said, there are no errors in your log. Looks like tomcat started succesfully. Or this is not the full log"},{"owner":{"account_id":13629618,"reputation":75,"user_id":9831971,"display_name":"sachin thakur"},"score":0,"creation_date":1527054458,"post_id":50479498,"comment_id":87974430,"body_markdown":"@DanilaZharenkov This is the full log. Deploying web application archive [/opt/apache-tomcat-8.5.31/webapps/llas.war] . This is last line in Catalina.out.","body":"@DanilaZharenkov This is the full log. Deploying web application archive [/opt/apache-tomcat-8.5.31/webapps/llas.war] . This is last line in Catalina.out."},{"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"score":0,"creation_date":1527055269,"post_id":50479498,"comment_id":87974747,"body_markdown":"do you have in your pom file dependencies like `org.apache.tomcat.maven:tomcat7-maven-plugin` or `org.apache.tomcat:tomcat-catalina` ? Or some other tomcat dependencies?","body":"do you have in your pom file dependencies like <code>org.apache.tomcat.maven:tomcat7-maven-plugin</code> or <code>org.apache.tomcat:tomcat-catalina</code> ? Or some other tomcat dependencies?"}],"answers":[{"tags":[],"owner":{"account_id":13715750,"reputation":1,"user_id":9896921,"display_name":"Sadarex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692917859,"creation_date":1528193390,"answer_id":50697503,"question_id":50479498,"body_markdown":"\r\nIf you are using a VM, try to set \r\n```\r\nDjava.security.egd=file:/dev/./urandomns\r\n```\r\n in the file setenv.sh\r\n\r\nSource:\r\nhttps://serverfault.com/questions/658502/tomcat-8-hangs-on-startup-while-deploying-webapp-possibly-related-to-entropy-ge","title":"Tomcat 8.5.31 stuck while deploying the war","body":"<p>If you are using a VM, try to set</p>\n<pre><code>Djava.security.egd=file:/dev/./urandomns\n</code></pre>\n<p>in the file setenv.sh</p>\n<p>Source:\n<a href=\"https://serverfault.com/questions/658502/tomcat-8-hangs-on-startup-while-deploying-webapp-possibly-related-to-entropy-ge\">https://serverfault.com/questions/658502/tomcat-8-hangs-on-startup-while-deploying-webapp-possibly-related-to-entropy-ge</a></p>\n"},{"tags":[],"owner":{"account_id":2024892,"reputation":29,"user_id":5161226,"display_name":"diabolusss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692913157,"creation_date":1692912854,"answer_id":76973047,"question_id":50479498,"body_markdown":"Presenting this as a problem might not be as evident as described in the comments and linked resources. While the symptoms of my issue closely resemble those already mentioned here, i assume the reason may differ.\r\n\r\n&gt; It&#39;s important to note that the logs **NEVER** contained any errors\r\n&gt; preventing startup; Tomcat simply froze with 100% CPU usage.\r\n\r\nWe have a web app that is operational on Tomcat 9 with JDK 1.8. We&#39;ve decided to enable the [Java Security Manager][1], utilizing the [pro-grade library][2] in [grant all mode][3]. I won&#39;t delve deeply into the specific rules used and the entire Tomcat configuration, as the Tomcat installation—including the Java Security Manager—was cloned from an already functioning application on another server. Both servers are virtual machines running Oracle Linux Server 6.\r\n\r\nThe only alteration made was in the bin/setenv.sh script, where we configured variables to enable the Java Security Manager.\r\n\r\n\r\n# Working application configuration #\r\nJDK: /opt/jdk1.8.0_201/\r\nTomcat: Apache Tomcat/7.0.27\r\n\r\n*Note: This example might not be ideal, as it&#39;s a development machine running  Tomcat 7, which could potentially be a contributing factor to the occurrence of this bug...*\r\n\r\n```\r\n$ cat bin/setenv.sh \r\n#!/bin/sh\r\nCLASSPATH=$CLASSPATH:$CATALINA_HOME/lib/pro-grade-1.1.1-verbose.jar\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM -Djava.security.properties=file:$CATALINA_HOME/conf/SecurityManager/custom_java.security&quot;\r\n# Important! this one allows grant policy\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Dprograde.use.own.policy=true&quot;\r\n\r\n```\r\n\r\nResulting startup command in the process list:\r\n```\r\ntomcat   35603  0.4 52.1 13509904 1967628 ?    Sl   Aug22  15:43 \r\n/usr/bin/java -Djava.util.logging.config.file=/opt/tomcat/apache-tomcat-7.0.27/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \r\n-Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM \r\n-Djava.security.properties=file:/opt/tomcat/apache-tomcat-7.0.27/conf/SecurityManager/custom_java.security \r\n-Dprograde.use.own.policy=true \r\n-Xms128m -Xmx3G -XX:MaxPermSize=1024M -XX:MaxPermSize=1024M -Dfile.encoding=UTF-8 \r\n-Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2 \r\n-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n \r\n-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=7777 -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=192.168.1.2 -Dcom.sun.management.jmxremote.authenticate=false \r\n-Djava.endorsed.dirs=/opt/tomcat/apache-tomcat-7.0.27/endorsed \r\n-classpath :/opt/tomcat/apache-tomcat-7.0.27/lib/pro-grade-1.1.1-verbose.jar:/opt/tomcat/apache-tomcat-7.0.27/bin/bootstrap.jar:/opt/tomcat/apache-tomcat-7.0.27/bin/tomcat-juli.jar \r\n-Dcatalina.base=/opt/tomcat/apache-tomcat-7.0.27 -Dcatalina.home=/opt/tomcat/apache-tomcat-7.0.27 -Djava.io.tmpdir=/opt/tomcat/apache-tomcat-7.0.27/temp \r\norg.apache.catalina.startup.Bootstrap start\r\n```\r\n**NB** This application is starting successfully called from service or manually using bin/catalina.sh\r\n``` /etc/init.d/tomcat\r\nstart() {\r\n    daemon --user tomcat  &quot;/opt/tomcat/apache-tomcat-7.0.27/bin/startup.sh&quot;\r\n}\r\n```\r\n\r\n\r\n# Failing application configuration #\r\nJDK: /usr/java/jdk1.8.0_201/ (eventually it was updated to 381)\r\nTomcat: Apache Tomcat/9.0.22\r\n\r\n* You might notice that I&#39;m invoking it with urandom to eliminate the possibility of an entropy bug: *\r\n\r\n```\r\nbin/setenv.sh: cloned configuration from working app above\r\n/etc/init.d/tomcat: same as above\r\n```\r\n\r\nResulting startup command in the process list (called from service):\r\n```\r\ntomcat   10529  100 19.4 3987040 347372 ?      Sl   11:47  14:05 \r\n/usr/java/jdk1.8.0_381/bin/java \r\n-Djava.util.logging.config.file=/opt/storage/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \r\n-Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM \r\n-Djava.security.properties=file:/opt/storage/tomcat/conf/SecurityManager/custom_java.security \r\n-Dprograde.use.own.policy=true\r\n-Xms512M -Xmx1536M -Djava.security.egd=file:/dev/./urandom  \r\n-Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources \r\n-Djdk.tls.maxHandshakeMessageSize=38096 \r\n-Dignore.endorsed.dirs= \r\n-classpath :/opt/storage/tomcat/lib/pro-grade-1.1.1-verbose.jar:/opt/storage/tomcat/bin/bootstrap.jar:/opt/storage/tomcat/bin/tomcat-juli.jar \r\n-Dcatalina.base=/opt/storage/tomcat -Dcatalina.home=/opt/storage/tomcat -Djava.io.tmpdir=/opt/storage/tomcat/temp \r\norg.apache.catalina.startup.Bootstrap start\r\n```\r\n\r\nYou can notice that process had 100% cpu usage. The log was similar to the one provided in the question—Tomcat froze during the deployment of the WAR file. To illustrate this point, I left it in such a state for a day, but no changes occurred.\r\n\r\nSubsequently, I attempted to invoke it directly as the root user, resulting in the same freeze.\r\n\r\nThe next step was to try calling it directly as the tomcat user (a non-login user). Surprisingly, it succeeded.\r\n```\r\ntomcat   11135 61.5 36.1 4171984 644204 ?      Sl   12:07   0:44 \r\n/usr/java/jdk1.8.0_381/jre/bin/java \r\n-Djava.util.logging.config.file=/opt/storage/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \r\n-Xms512M -Xmx1536M -Djava.security.egd=file:/dev/./urandom \r\n-Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM \r\n-Djava.security.properties=file:/opt/storage/tomcat/conf/SecurityManager/customt_java.security \r\n-Dprograde.use.own.policy=true \r\n-Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Djdk.tls.maxHandshakeMessageSize=38096 -Dignore.endorsed.dirs= \r\n-classpath :/opt/storage/tomcat/lib/pro-grade-1.1.1-verbose.jar:/opt/storage/tomcat/bin/bootstrap.jar:/opt/storage/tomcat/bin/tomcat-juli.jar \r\n-Dcatalina.base=/opt/storage/tomcat -Dcatalina.home=/opt/storage/tomcat -Djava.io.tmpdir=/opt/storage/tomcat/temp \r\norg.apache.catalina.startup.Bootstrap start\r\n```\r\n\r\n```\r\n24-Aug-2023 19:20:48.368 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/storage/tomcat/webapps/preprod] has finished in [35,712] ms\r\n24-Aug-2023 19:20:48.380 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [39,923] milliseconds\r\n```\r\n\r\nSo, what comes next—file permission errors?!\r\nI altered the service script to initiate Tomcat in the same way I had done by invoking it as the tomcat user, but it froze again...\r\n\r\nIt was now time to eliminate differences in the startup script configuration.\r\n...\r\n\r\nIn short, on the new server, the Tomcat startup was fixed by removing the prepended colon in the classpath. The amusing thing is that it functions properly on the development server (though using Tomcat 7), even though the official classpath entry separator is a [semicolon][4].\r\n\r\n```\r\ntomcat   16506  0.6 34.0 9488308 1381516 ?     Sl   Aug24   3:03 /usr/bin/java \r\n-Djava.util.logging.config.file=/opt/storage/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \r\n-Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM \r\n-Djava.security.properties=file:/opt/storage/tomcat/conf/SecurityManager/custom_java.security \r\n-Dprograde.use.own.policy=true \r\n-Djdk.tls.ephemeralDHKeySize=2048 -Xms512M -Xmx2048M -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -agentlib:jdwp=transport=dt_socket,address=localhost:8000,server=y,suspend=n -Xms512M -Xmx1024M -Dignore.endorsed.dirs= \r\n-classpath /opt/storage/tomcat/lib/pro-grade-1.1.1-verbose.jar:/opt/storage/tomcat/bin/bootstrap.jar:/opt/storage/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/opt/storage/tomcat -Dcatalina.home=/opt/storage/tomcat -Djava.io.tmpdir=/opt/storage/tomcat/temp \r\norg.apache.catalina.startup.Bootstrap start\r\n\r\n```\r\n\r\nP.S. Please comment if you have any clues regarding the actual cause of this bug.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/environment/security.html\r\n  [2]: https://github.com/pro-grade/pro-grade\r\n  [3]: https://github.com/pro-grade/pro-grade#prograde-as-the-underlying-policy\r\n  [4]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html","title":"Tomcat 8.5.31 stuck while deploying the war","body":"<p>Presenting this as a problem might not be as evident as described in the comments and linked resources. While the symptoms of my issue closely resemble those already mentioned here, i assume the reason may differ.</p>\n<blockquote>\n<p>It's important to note that the logs <strong>NEVER</strong> contained any errors\npreventing startup; Tomcat simply froze with 100% CPU usage.</p>\n</blockquote>\n<p>We have a web app that is operational on Tomcat 9 with JDK 1.8. We've decided to enable the <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/security.html\" rel=\"nofollow noreferrer\">Java Security Manager</a>, utilizing the <a href=\"https://github.com/pro-grade/pro-grade\" rel=\"nofollow noreferrer\">pro-grade library</a> in <a href=\"https://github.com/pro-grade/pro-grade#prograde-as-the-underlying-policy\" rel=\"nofollow noreferrer\">grant all mode</a>. I won't delve deeply into the specific rules used and the entire Tomcat configuration, as the Tomcat installation—including the Java Security Manager—was cloned from an already functioning application on another server. Both servers are virtual machines running Oracle Linux Server 6.</p>\n<p>The only alteration made was in the bin/setenv.sh script, where we configured variables to enable the Java Security Manager.</p>\n<h1>Working application configuration</h1>\n<p>JDK: /opt/jdk1.8.0_201/\nTomcat: Apache Tomcat/7.0.27</p>\n<p><em>Note: This example might not be ideal, as it's a development machine running  Tomcat 7, which could potentially be a contributing factor to the occurrence of this bug...</em></p>\n<pre><code>$ cat bin/setenv.sh \n#!/bin/sh\nCLASSPATH=$CLASSPATH:$CATALINA_HOME/lib/pro-grade-1.1.1-verbose.jar\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM -Djava.security.properties=file:$CATALINA_HOME/conf/SecurityManager/custom_java.security&quot;\n# Important! this one allows grant policy\nJAVA_OPTS=&quot;$JAVA_OPTS -Dprograde.use.own.policy=true&quot;\n\n</code></pre>\n<p>Resulting startup command in the process list:</p>\n<pre><code>tomcat   35603  0.4 52.1 13509904 1967628 ?    Sl   Aug22  15:43 \n/usr/bin/java -Djava.util.logging.config.file=/opt/tomcat/apache-tomcat-7.0.27/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \n-Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM \n-Djava.security.properties=file:/opt/tomcat/apache-tomcat-7.0.27/conf/SecurityManager/custom_java.security \n-Dprograde.use.own.policy=true \n-Xms128m -Xmx3G -XX:MaxPermSize=1024M -XX:MaxPermSize=1024M -Dfile.encoding=UTF-8 \n-Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2 \n-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n \n-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=7777 -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=192.168.1.2 -Dcom.sun.management.jmxremote.authenticate=false \n-Djava.endorsed.dirs=/opt/tomcat/apache-tomcat-7.0.27/endorsed \n-classpath :/opt/tomcat/apache-tomcat-7.0.27/lib/pro-grade-1.1.1-verbose.jar:/opt/tomcat/apache-tomcat-7.0.27/bin/bootstrap.jar:/opt/tomcat/apache-tomcat-7.0.27/bin/tomcat-juli.jar \n-Dcatalina.base=/opt/tomcat/apache-tomcat-7.0.27 -Dcatalina.home=/opt/tomcat/apache-tomcat-7.0.27 -Djava.io.tmpdir=/opt/tomcat/apache-tomcat-7.0.27/temp \norg.apache.catalina.startup.Bootstrap start\n</code></pre>\n<p><strong>NB</strong> This application is starting successfully called from service or manually using bin/catalina.sh</p>\n<pre><code>start() {\n    daemon --user tomcat  &quot;/opt/tomcat/apache-tomcat-7.0.27/bin/startup.sh&quot;\n}\n</code></pre>\n<h1>Failing application configuration</h1>\n<p>JDK: /usr/java/jdk1.8.0_201/ (eventually it was updated to 381)\nTomcat: Apache Tomcat/9.0.22</p>\n<ul>\n<li>You might notice that I'm invoking it with urandom to eliminate the possibility of an entropy bug: *</li>\n</ul>\n<pre><code>bin/setenv.sh: cloned configuration from working app above\n/etc/init.d/tomcat: same as above\n</code></pre>\n<p>Resulting startup command in the process list (called from service):</p>\n<pre><code>tomcat   10529  100 19.4 3987040 347372 ?      Sl   11:47  14:05 \n/usr/java/jdk1.8.0_381/bin/java \n-Djava.util.logging.config.file=/opt/storage/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \n-Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM \n-Djava.security.properties=file:/opt/storage/tomcat/conf/SecurityManager/custom_java.security \n-Dprograde.use.own.policy=true\n-Xms512M -Xmx1536M -Djava.security.egd=file:/dev/./urandom  \n-Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources \n-Djdk.tls.maxHandshakeMessageSize=38096 \n-Dignore.endorsed.dirs= \n-classpath :/opt/storage/tomcat/lib/pro-grade-1.1.1-verbose.jar:/opt/storage/tomcat/bin/bootstrap.jar:/opt/storage/tomcat/bin/tomcat-juli.jar \n-Dcatalina.base=/opt/storage/tomcat -Dcatalina.home=/opt/storage/tomcat -Djava.io.tmpdir=/opt/storage/tomcat/temp \norg.apache.catalina.startup.Bootstrap start\n</code></pre>\n<p>You can notice that process had 100% cpu usage. The log was similar to the one provided in the question—Tomcat froze during the deployment of the WAR file. To illustrate this point, I left it in such a state for a day, but no changes occurred.</p>\n<p>Subsequently, I attempted to invoke it directly as the root user, resulting in the same freeze.</p>\n<p>The next step was to try calling it directly as the tomcat user (a non-login user). Surprisingly, it succeeded.</p>\n<pre><code>tomcat   11135 61.5 36.1 4171984 644204 ?      Sl   12:07   0:44 \n/usr/java/jdk1.8.0_381/jre/bin/java \n-Djava.util.logging.config.file=/opt/storage/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \n-Xms512M -Xmx1536M -Djava.security.egd=file:/dev/./urandom \n-Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM \n-Djava.security.properties=file:/opt/storage/tomcat/conf/SecurityManager/customt_java.security \n-Dprograde.use.own.policy=true \n-Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Djdk.tls.maxHandshakeMessageSize=38096 -Dignore.endorsed.dirs= \n-classpath :/opt/storage/tomcat/lib/pro-grade-1.1.1-verbose.jar:/opt/storage/tomcat/bin/bootstrap.jar:/opt/storage/tomcat/bin/tomcat-juli.jar \n-Dcatalina.base=/opt/storage/tomcat -Dcatalina.home=/opt/storage/tomcat -Djava.io.tmpdir=/opt/storage/tomcat/temp \norg.apache.catalina.startup.Bootstrap start\n</code></pre>\n<pre><code>24-Aug-2023 19:20:48.368 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/storage/tomcat/webapps/preprod] has finished in [35,712] ms\n24-Aug-2023 19:20:48.380 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [39,923] milliseconds\n</code></pre>\n<p>So, what comes next—file permission errors?!\nI altered the service script to initiate Tomcat in the same way I had done by invoking it as the tomcat user, but it froze again...</p>\n<p>It was now time to eliminate differences in the startup script configuration.\n...</p>\n<p>In short, on the new server, the Tomcat startup was fixed by removing the prepended colon in the classpath. The amusing thing is that it functions properly on the development server (though using Tomcat 7), even though the official classpath entry separator is a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">semicolon</a>.</p>\n<pre><code>tomcat   16506  0.6 34.0 9488308 1381516 ?     Sl   Aug24   3:03 /usr/bin/java \n-Djava.util.logging.config.file=/opt/storage/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \n-Djava.security.manager=net.sourceforge.prograde.sm.ProGradeJSM \n-Djava.security.properties=file:/opt/storage/tomcat/conf/SecurityManager/custom_java.security \n-Dprograde.use.own.policy=true \n-Djdk.tls.ephemeralDHKeySize=2048 -Xms512M -Xmx2048M -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -agentlib:jdwp=transport=dt_socket,address=localhost:8000,server=y,suspend=n -Xms512M -Xmx1024M -Dignore.endorsed.dirs= \n-classpath /opt/storage/tomcat/lib/pro-grade-1.1.1-verbose.jar:/opt/storage/tomcat/bin/bootstrap.jar:/opt/storage/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/opt/storage/tomcat -Dcatalina.home=/opt/storage/tomcat -Djava.io.tmpdir=/opt/storage/tomcat/temp \norg.apache.catalina.startup.Bootstrap start\n\n</code></pre>\n<p>P.S. Please comment if you have any clues regarding the actual cause of this bug.</p>\n"}],"owner":{"account_id":13629618,"reputation":75,"user_id":9831971,"display_name":"sachin thakur"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3873,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1692917859,"creation_date":1527047258,"question_id":50479498,"body_markdown":"We are migrating our application from tomcat 7 to tomcat 8. All wars are deploying successfully in tomcat 8. But only one war is not deploying. Tomcat 8 starts deploying the war and then stuck there. No logs are printing in Catalina.out and Error.log.\r\n\r\nPlease find below logs.\r\n\r\n\r\n    23-May-2018 04:14:55.314 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.5.31\r\n    23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Apr 27 2018 20:24:25 UTC\r\n    23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.5.31.0\r\n    23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n    23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.10.0-693.21.1.el7.x86_64\r\n    23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n    23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/java/jdk1.8.0_60/jre\r\n    23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_60-b27\r\n    23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n    23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/apache-tomcat-8.5.31\r\n    23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/apache-tomcat-8.5.31\r\n    23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties\r\n    23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n    23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n    23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n    23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n    23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/tomcat\r\n    23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/tomcat\r\n    23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/tomcat/temp\r\n    23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]\r\n    23-May-2018 04:14:55.644 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    23-May-2018 04:14:55.675 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    23-May-2018 04:14:55.706 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    23-May-2018 04:14:55.708 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    23-May-2018 04:14:55.720 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1282 ms\r\n    23-May-2018 04:14:55.755 WARNING [main] org.apache.tomcat.jdbc.pool.ConnectionPool.checkPoolConfiguration maxIdle is smaller than minIdle, setting maxIdle to: 5\r\n    23-May-2018 04:14:57.653 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n    23-May-2018 04:14:57.654 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.31\r\n    23-May-2018 04:14:57.711 INFO [localhost-startStop-1] **org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/apache-tomcat-8.5.31/webapps/llas.war]**\r\n\r\n\r\nThis is last line in Catalina.out.\r\n","title":"Tomcat 8.5.31 stuck while deploying the war","body":"<p>We are migrating our application from tomcat 7 to tomcat 8. All wars are deploying successfully in tomcat 8. But only one war is not deploying. Tomcat 8 starts deploying the war and then stuck there. No logs are printing in Catalina.out and Error.log.</p>\n\n<p>Please find below logs.</p>\n\n<pre><code>23-May-2018 04:14:55.314 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.5.31\n23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Apr 27 2018 20:24:25 UTC\n23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.5.31.0\n23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.10.0-693.21.1.el7.x86_64\n23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/java/jdk1.8.0_60/jre\n23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_60-b27\n23-May-2018 04:14:55.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/apache-tomcat-8.5.31\n23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/apache-tomcat-8.5.31\n23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties\n23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n23-May-2018 04:14:55.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/tomcat\n23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/tomcat\n23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/tomcat/temp\n23-May-2018 04:14:55.330 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]\n23-May-2018 04:14:55.644 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-8080\"]\n23-May-2018 04:14:55.675 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n23-May-2018 04:14:55.706 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"ajp-nio-8009\"]\n23-May-2018 04:14:55.708 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n23-May-2018 04:14:55.720 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1282 ms\n23-May-2018 04:14:55.755 WARNING [main] org.apache.tomcat.jdbc.pool.ConnectionPool.checkPoolConfiguration maxIdle is smaller than minIdle, setting maxIdle to: 5\n23-May-2018 04:14:57.653 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n23-May-2018 04:14:57.654 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.31\n23-May-2018 04:14:57.711 INFO [localhost-startStop-1] **org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/apache-tomcat-8.5.31/webapps/llas.war]**\n</code></pre>\n\n<p>This is last line in Catalina.out.</p>\n"},{"tags":["java","swing","graphics","mouselistener","mousemotionlistener"],"comments":[{"owner":{"account_id":1192510,"reputation":5829,"user_id":2107722,"accept_rate":92,"display_name":"Our Man in Bananas"},"score":0,"creation_date":1405601673,"post_id":24804172,"comment_id":38500189,"body_markdown":"Welcome to Stack Overflow. Please read [Stack Overflow: How to ask](http://stackoverflow.com/questions/how-to-ask) and [Jon Skeet&#39;s Question Checklist](http://msmvps.com/blogs/jon_skeet/archive/2012/11/24/stack-overflow-question-checklist.aspx) to find out how to ask a good question that will generate good useful, answers.","body":"Welcome to Stack Overflow. Please read <a href=\"http://stackoverflow.com/questions/how-to-ask\">Stack Overflow: How to ask</a> and <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2012/11/24/stack-overflow-question-checklist.aspx\" rel=\"nofollow noreferrer\">Jon Skeet&#39;s Question Checklist</a> to find out how to ask a good question that will generate good useful, answers."},{"owner":{"account_id":1192510,"reputation":5829,"user_id":2107722,"accept_rate":92,"display_name":"Our Man in Bananas"},"score":0,"creation_date":1405601696,"post_id":24804172,"comment_id":38500203,"body_markdown":"please show us what you have tried, some code and maybe a jsfiddle","body":"please show us what you have tried, some code and maybe a jsfiddle"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1405602219,"post_id":24804172,"comment_id":38500586,"body_markdown":"MouseMotionListener doesn&#39;t react to mousePressed/Clicked","body":"MouseMotionListener doesn&#39;t react to mousePressed/Clicked"},{"owner":{"account_id":3827143,"reputation":69,"user_id":3173720,"accept_rate":0,"display_name":"Vskiran"},"score":0,"creation_date":1405602235,"post_id":24804172,"comment_id":38500599,"body_markdown":"I have pasted some code please check it once and suggest me to go through the selection of rectangles","body":"I have pasted some code please check it once and suggest me to go through the selection of rectangles"},{"owner":{"account_id":3827143,"reputation":69,"user_id":3173720,"accept_rate":0,"display_name":"Vskiran"},"score":0,"creation_date":1405602619,"post_id":24804172,"comment_id":38500876,"body_markdown":"mouse dragged is related to mouse motion listener right","body":"mouse dragged is related to mouse motion listener right"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405607479,"post_id":24804172,"comment_id":38504512,"body_markdown":"A complete example is cited [here](http://stackoverflow.com/a/11944233/230513).","body":"A complete example is cited <a href=\"http://stackoverflow.com/a/11944233/230513\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":4603477,"reputation":61,"user_id":3733584,"accept_rate":50,"display_name":"charles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405603032,"creation_date":1405603032,"answer_id":24804674,"question_id":24804172,"body_markdown":"You should start by changing\r\nimport java.awt.event.MouseMotionListener;\r\n\r\nto\r\n\r\nimport java.awt.event.MouseListener;\r\n\r\nmousePressed does not go with MouseMotionListener","title":"Java swing graphics drawing and filling selected rectangles with colors","body":"<p>You should start by changing\nimport java.awt.event.MouseMotionListener;</p>\n\n<p>to</p>\n\n<p>import java.awt.event.MouseListener;</p>\n\n<p>mousePressed does not go with MouseMotionListener</p>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405747135,"creation_date":1405606055,"answer_id":24805854,"question_id":24804172,"body_markdown":"I see the class name is `Exam`, so since this is for school, I won&#39;t give you code solution. Just some logical ways to look at it. \r\n\r\nI notice that when you drag the mouse, you are just getting a point and drawing based off that point. What you should do instead is, when the mouse is first pressed, create a `Rectangle` (and draw the rectangle), and while the mouse is being dragged, increase the size of the rectangle with `setRect()`. You can see a good example [**here**](https://stackoverflow.com/a/23183787/2587435).\r\n\r\nDepending, if you want the color change to be dynamic (while dragging or when dragging is done), you have two options:\r\n\r\n1. While dragging iterate through the list of rectangles and check if each rectangle in the list intersects or is contained by the dragged rectangle. `Rectangle` inherits method `intersects()` and `contains()` from Shape\r\n\r\n2. If you just want the color changed when the dragging is finished, then do the same as above, when the mouse is released.\r\n\r\n-----\r\n\r\nAlso note, you should not be using `getGraphics()` in any way to do custom painting. All the painting should be done within the context of the Graphics object provided in the `paintComponent` method\r\n\r\n------\r\n\r\n**UPDATE**\r\n\r\nHere is an example based on the points I made above. The example expands on the example provided in the link above\r\n\r\n![enter image description here][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseMotionAdapter;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class RectangleDrawWithDrag extends JPanel{\r\n    \t\r\n        private static final int D_W = 400;\r\n        private static final int D_H = 400;\r\n        private static final Color DEFAULT_COLOR = Color.GRAY;\r\n        private static final Color SELECT_COLOR = Color.BLUE;\r\n        private static final Color CURSOR_COLOR = new Color(100, 100, 100, 100);\r\n    \r\n        private Point p1;\r\n        private Point p2;\r\n        private Rectangle2D rectangle;\r\n        private List&lt;ColoredRectangle&gt; rectangles;\r\n    \r\n        public RectangleDrawWithDrag() {\r\n        \trectangles = createRectangleList();\r\n            addMouseListener(new MouseAdapter(){\r\n                public void mousePressed(MouseEvent e) {\r\n                    p1 = e.getPoint();\r\n                    rectangle = new Rectangle2D.Double(p1.x, p1.y, p1.x - p1.x, p1.y - p1.y);\r\n                }\r\n            });\r\n            addMouseMotionListener(new MouseMotionAdapter(){\r\n                public void mouseDragged(MouseEvent e) {\r\n                    p2 = e.getPoint();\r\n                    if (isPointTwoInQuadOne(p1, p2)) {\r\n                        rectangle.setRect(p2.x, p2.y, p1.x - p2.x, p1.y - p2.y);\r\n                    } else {\r\n                        rectangle.setRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);  \r\n                    }\r\n                    checkRectangleContainment();\r\n                    repaint();\r\n                }\r\n            });\r\n        }\r\n        \r\n        public void checkRectangleContainment() {\r\n        \tfor (ColoredRectangle rects: rectangles) {\r\n        \t\tif (rectangle.contains(rects.getRectangle())) {\r\n        \t\t\trects.setColor(SELECT_COLOR);\r\n        \t\t} else {\r\n        \t\t\trects.setColor(DEFAULT_COLOR);\r\n        \t\t}\r\n        \t}\r\n        }\r\n    \r\n        public boolean isPointTwoInQuadOne(Point p1, Point p2) {\r\n            return p1.x &gt;= p2.x &amp;&amp; p1.y &gt;= p2.y;\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2 = (Graphics2D)g;\r\n            for (ColoredRectangle rect: rectangles) {\r\n            \trect.draw(g2);\r\n            }\r\n            if (rectangle != null) {\r\n            \tg2.setColor(CURSOR_COLOR);\r\n                g2.fill(rectangle);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(D_W, D_H);\r\n        }\r\n        \r\n        private List&lt;ColoredRectangle&gt; createRectangleList() {\r\n        \tList&lt;ColoredRectangle&gt; rects = new ArrayList&lt;&gt;();\r\n        \tRandom rand= new Random();\r\n        \tfor (int i = 0; i &lt; 20; i++) {\r\n        \t\trects.add(new ColoredRectangle(rand.nextInt(D_W), rand.nextInt(D_H)));\r\n        \t}\r\n        \treturn rects;\r\n        }\r\n        \r\n        public class ColoredRectangle {\r\n        \tRectangle2D rectangle;\r\n        \tColor color = DEFAULT_COLOR;\r\n        \tdouble size = 20;\r\n        \t\r\n        \tpublic ColoredRectangle(double x, double y) {\r\n        \t\trectangle = new Rectangle2D.Double(x, y, size, size);\r\n        \t}\r\n        \t\r\n        \tpublic ColoredRectangle(double x, double y, double size) {\r\n        \t\tthis.size = size;\r\n        \t\trectangle = new Rectangle2D.Double(x, y, size, size);\r\n        \t}\r\n        \t\r\n        \tpublic void setColor(Color color) {\r\n        \t\tthis.color = color;\r\n        \t}\r\n        \t\r\n        \tpublic Rectangle2D getRectangle() {\r\n        \t\treturn rectangle;\r\n        \t}\r\n        \t\r\n        \tpublic void draw(Graphics2D g2) {\r\n        \t\tg2.setColor(color);\r\n        \t\tg2.fill(rectangle);\r\n        \t}\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new RectangleDrawWithDrag());\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/ZwfE1.gif","title":"Java swing graphics drawing and filling selected rectangles with colors","body":"<p>I see the class name is <code>Exam</code>, so since this is for school, I won't give you code solution. Just some logical ways to look at it. </p>\n\n<p>I notice that when you drag the mouse, you are just getting a point and drawing based off that point. What you should do instead is, when the mouse is first pressed, create a <code>Rectangle</code> (and draw the rectangle), and while the mouse is being dragged, increase the size of the rectangle with <code>setRect()</code>. You can see a good example <a href=\"https://stackoverflow.com/a/23183787/2587435\"><strong>here</strong></a>.</p>\n\n<p>Depending, if you want the color change to be dynamic (while dragging or when dragging is done), you have two options:</p>\n\n<ol>\n<li><p>While dragging iterate through the list of rectangles and check if each rectangle in the list intersects or is contained by the dragged rectangle. <code>Rectangle</code> inherits method <code>intersects()</code> and <code>contains()</code> from Shape</p></li>\n<li><p>If you just want the color changed when the dragging is finished, then do the same as above, when the mouse is released.</p></li>\n</ol>\n\n<hr>\n\n<p>Also note, you should not be using <code>getGraphics()</code> in any way to do custom painting. All the painting should be done within the context of the Graphics object provided in the <code>paintComponent</code> method</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here is an example based on the points I made above. The example expands on the example provided in the link above</p>\n\n<p><img src=\"https://i.stack.imgur.com/ZwfE1.gif\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\nimport java.awt.geom.Rectangle2D;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\n@SuppressWarnings(\"serial\")\npublic class RectangleDrawWithDrag extends JPanel{\n\n    private static final int D_W = 400;\n    private static final int D_H = 400;\n    private static final Color DEFAULT_COLOR = Color.GRAY;\n    private static final Color SELECT_COLOR = Color.BLUE;\n    private static final Color CURSOR_COLOR = new Color(100, 100, 100, 100);\n\n    private Point p1;\n    private Point p2;\n    private Rectangle2D rectangle;\n    private List&lt;ColoredRectangle&gt; rectangles;\n\n    public RectangleDrawWithDrag() {\n        rectangles = createRectangleList();\n        addMouseListener(new MouseAdapter(){\n            public void mousePressed(MouseEvent e) {\n                p1 = e.getPoint();\n                rectangle = new Rectangle2D.Double(p1.x, p1.y, p1.x - p1.x, p1.y - p1.y);\n            }\n        });\n        addMouseMotionListener(new MouseMotionAdapter(){\n            public void mouseDragged(MouseEvent e) {\n                p2 = e.getPoint();\n                if (isPointTwoInQuadOne(p1, p2)) {\n                    rectangle.setRect(p2.x, p2.y, p1.x - p2.x, p1.y - p2.y);\n                } else {\n                    rectangle.setRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);  \n                }\n                checkRectangleContainment();\n                repaint();\n            }\n        });\n    }\n\n    public void checkRectangleContainment() {\n        for (ColoredRectangle rects: rectangles) {\n            if (rectangle.contains(rects.getRectangle())) {\n                rects.setColor(SELECT_COLOR);\n            } else {\n                rects.setColor(DEFAULT_COLOR);\n            }\n        }\n    }\n\n    public boolean isPointTwoInQuadOne(Point p1, Point p2) {\n        return p1.x &gt;= p2.x &amp;&amp; p1.y &gt;= p2.y;\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g;\n        for (ColoredRectangle rect: rectangles) {\n            rect.draw(g2);\n        }\n        if (rectangle != null) {\n            g2.setColor(CURSOR_COLOR);\n            g2.fill(rectangle);\n        }\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(D_W, D_H);\n    }\n\n    private List&lt;ColoredRectangle&gt; createRectangleList() {\n        List&lt;ColoredRectangle&gt; rects = new ArrayList&lt;&gt;();\n        Random rand= new Random();\n        for (int i = 0; i &lt; 20; i++) {\n            rects.add(new ColoredRectangle(rand.nextInt(D_W), rand.nextInt(D_H)));\n        }\n        return rects;\n    }\n\n    public class ColoredRectangle {\n        Rectangle2D rectangle;\n        Color color = DEFAULT_COLOR;\n        double size = 20;\n\n        public ColoredRectangle(double x, double y) {\n            rectangle = new Rectangle2D.Double(x, y, size, size);\n        }\n\n        public ColoredRectangle(double x, double y, double size) {\n            this.size = size;\n            rectangle = new Rectangle2D.Double(x, y, size, size);\n        }\n\n        public void setColor(Color color) {\n            this.color = color;\n        }\n\n        public Rectangle2D getRectangle() {\n            return rectangle;\n        }\n\n        public void draw(Graphics2D g2) {\n            g2.setColor(color);\n            g2.fill(rectangle);\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new RectangleDrawWithDrag());\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9703651,"reputation":1,"user_id":7197766,"display_name":"Fatih Halimoglu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692917484,"creation_date":1544915884,"answer_id":53798074,"question_id":24804172,"body_markdown":"I came across your question while searching for something similar I needed. I customized the Paul&#39;s code a little bit more for my requirements. I&#39;m writing here because I&#39;m not allowed make comment  [here][1]\r\n[my version][2]\r\n\r\n\r\n  [1]: https://halimoglu.com/blog/?p=171\r\n  [2]: https://i.stack.imgur.com/uCIy4.gif\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Point;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.util.HashSet;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingConstants;\r\n \r\n    public class TimetableFrame extends javax.swing.JFrame {\r\n \r\n    Point p1, p2;\r\n    Rectangle2D rectangle;\r\n    int mode = 0;\r\n    HashSet&lt;JLabel&gt; all = new HashSet&lt;JLabel&gt;();\r\n    HashSet&lt;JLabel&gt; selected = new HashSet&lt;JLabel&gt;();\r\n    HashSet&lt;JLabel&gt; current_selection = new HashSet&lt;JLabel&gt;();\r\n    Color empty_color = Color.WHITE;\r\n    Color fill_color = Color.RED;\r\n    Color empty_select = Color.GRAY;\r\n    Color fill_select = Color.PINK;\r\n \r\n    JPanel grid;\r\n    JPanel jPanel1;\r\n    JScrollPane jScrollPane1;\r\n \r\n    public TimetableFrame() {\r\n        initComponents();\r\n        setTitle(&quot;Swing grid selector example halimoglu.com&quot;);\r\n        String[] col_titles = new String[]{&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;};\r\n \r\n        String[] row_titles = new String[24];\r\n        for (int i = 0; i &lt; row_titles.length; i++) {\r\n            row_titles[i] = (i) + &quot;-&quot; + (i + 1);\r\n        }\r\n \r\n        for (int y = 0; y &lt; row_titles.length + 1; y++) {\r\n            for (int x = 0; x &lt; col_titles.length + 1; x++) {\r\n                if (y == 0 &amp;&amp; x == 0) {\r\n                    grid.add(new JLabel(&quot;&quot;));\r\n                } else if (y == 0) {\r\n                    JLabel col = new JLabel(col_titles[x - 1]);\r\n                    col.setHorizontalAlignment(SwingConstants.CENTER);\r\n                    grid.add(col);\r\n                } else if (x == 0) {\r\n                    grid.add(new JLabel(row_titles[y - 1]));\r\n                } else {\r\n                    JLabel mylabel = new JLabel(&quot; &quot;);\r\n \r\n                    mylabel.setOpaque(true);\r\n                    mylabel.setBackground(empty_color);\r\n                    all.add(mylabel);\r\n                    grid.add(mylabel);\r\n                }\r\n            }\r\n        }\r\n \r\n        grid.addMouseListener(new MouseListener() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent me) {\r\n                for (JLabel j : all) {\r\n                    if (j.getBounds().contains(me.getPoint())) {\r\n \r\n                        if (selected.contains(j)) {\r\n                            selected.remove(j);\r\n                            j.setBackground(empty_color);\r\n                        } else {\r\n                            selected.add(j);\r\n                            j.setBackground(fill_color);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n \r\n            @Override\r\n            public void mousePressed(MouseEvent me) {\r\n                p1 = me.getPoint();\r\n                rectangle = new Rectangle2D.Double(p1.x, p1.y, p1.x - p1.x, p1.y - p1.y);\r\n            }\r\n \r\n            @Override\r\n            public void mouseReleased(MouseEvent me) {\r\n \r\n                if (mode == 1) {\r\n                    selected.addAll(current_selection);\r\n \r\n                } else if (mode == -1) {\r\n                    selected.removeAll(current_selection);\r\n \r\n                }\r\n                for (JLabel j : all) {\r\n                    if (selected.contains(j)) {\r\n                        j.setBackground(fill_color);\r\n                    } else {\r\n                        j.setBackground(empty_color);\r\n                    }\r\n                }\r\n                current_selection.clear();\r\n                mode = 0;\r\n            }\r\n \r\n            @Override\r\n            public void mouseEntered(MouseEvent me) {\r\n            }\r\n \r\n            @Override\r\n            public void mouseExited(MouseEvent me) {\r\n            }\r\n \r\n        });\r\n \r\n        grid.addMouseMotionListener(new MouseMotionListener() {\r\n            @Override\r\n            public void mouseDragged(MouseEvent me) {\r\n                p2 = me.getPoint();\r\n \r\n                Point lu;\r\n \r\n                int minx = Math.min(p1.x, p2.x);\r\n                int miny = Math.min(p1.y, p2.y);\r\n                int maxx = Math.max(p1.x, p2.x);\r\n                int maxy = Math.max(p1.y, p2.y);\r\n \r\n                lu = new Point(minx, miny);// left upper point\r\n \r\n                rectangle.setRect(lu.x, lu.y, maxx - minx, maxy - miny);\r\n \r\n                //set mode \r\n                //1 = if first selected cell is empty set mode to fill\r\n                //-1 = otherwise clear \r\n                if (mode == 0) {\r\n                    for (JLabel j : all) {\r\n                        if (j.getBounds().intersects(rectangle)) {\r\n                            if (selected.contains(j)) {\r\n                                mode = -1;\r\n                            } else {\r\n                                mode = 1;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n \r\n                for (JLabel j : all) {\r\n \r\n                    if (selected.contains(j) == (mode != 1)) {\r\n                        if (j.getBounds().intersects(rectangle)) {\r\n                            current_selection.add(j);\r\n                        } else {\r\n                            if (current_selection.contains(j)) {\r\n                                current_selection.remove(j);\r\n                                if (mode == 1) {\r\n                                    if (selected.contains(j) == false) {\r\n                                        j.setBackground(empty_color);\r\n                                    }\r\n                                } else {\r\n                                    if (selected.contains(j) == true) {\r\n                                        j.setBackground(fill_color);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n \r\n                for (JLabel j : current_selection) {\r\n                    if (mode == 1) {\r\n                        j.setBackground(fill_select);\r\n                    } else if (mode == -1) {\r\n                        j.setBackground(empty_select);\r\n                    }\r\n                }\r\n \r\n            }\r\n \r\n            @Override\r\n            public void mouseMoved(MouseEvent me) {\r\n            }\r\n        });\r\n    }\r\n \r\n    private void initComponents() {\r\n \r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        jPanel1 = new javax.swing.JPanel();\r\n        grid = new javax.swing.JPanel();\r\n \r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n \r\n        jPanel1.setLayout(new java.awt.BorderLayout());\r\n \r\n        grid.setLayout(new java.awt.GridLayout(25, 0, 2, 2));\r\n        jPanel1.add(grid, java.awt.BorderLayout.CENTER);\r\n \r\n        jScrollPane1.setViewportView(jPanel1);\r\n \r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 399, Short.MAX_VALUE)\r\n        );\r\n        layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 465, Short.MAX_VALUE)\r\n        );\r\n \r\n        pack();\r\n    }\r\n \r\n    public static void main(String args[]) {\r\n \r\n        new TimetableFrame().setVisible(true);\r\n \r\n    }\r\n \r\n}","title":"Java swing graphics drawing and filling selected rectangles with colors","body":"<p>I came across your question while searching for something similar I needed. I customized the Paul's code a little bit more for my requirements. I'm writing here because I'm not allowed make comment  <a href=\"https://halimoglu.com/blog/?p=171\" rel=\"nofollow noreferrer\">here</a>\n<a href=\"https://i.stack.imgur.com/uCIy4.gif\" rel=\"nofollow noreferrer\">my version</a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Point;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.geom.Rectangle2D;\nimport java.util.HashSet;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingConstants;\n\npublic class TimetableFrame extends javax.swing.JFrame {\n\nPoint p1, p2;\nRectangle2D rectangle;\nint mode = 0;\nHashSet&lt;JLabel&gt; all = new HashSet&lt;JLabel&gt;();\nHashSet&lt;JLabel&gt; selected = new HashSet&lt;JLabel&gt;();\nHashSet&lt;JLabel&gt; current_selection = new HashSet&lt;JLabel&gt;();\nColor empty_color = Color.WHITE;\nColor fill_color = Color.RED;\nColor empty_select = Color.GRAY;\nColor fill_select = Color.PINK;\n\nJPanel grid;\nJPanel jPanel1;\nJScrollPane jScrollPane1;\n\npublic TimetableFrame() {\n    initComponents();\n    setTitle(&quot;Swing grid selector example halimoglu.com&quot;);\n    String[] col_titles = new String[]{&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;};\n\n    String[] row_titles = new String[24];\n    for (int i = 0; i &lt; row_titles.length; i++) {\n        row_titles[i] = (i) + &quot;-&quot; + (i + 1);\n    }\n\n    for (int y = 0; y &lt; row_titles.length + 1; y++) {\n        for (int x = 0; x &lt; col_titles.length + 1; x++) {\n            if (y == 0 &amp;&amp; x == 0) {\n                grid.add(new JLabel(&quot;&quot;));\n            } else if (y == 0) {\n                JLabel col = new JLabel(col_titles[x - 1]);\n                col.setHorizontalAlignment(SwingConstants.CENTER);\n                grid.add(col);\n            } else if (x == 0) {\n                grid.add(new JLabel(row_titles[y - 1]));\n            } else {\n                JLabel mylabel = new JLabel(&quot; &quot;);\n\n                mylabel.setOpaque(true);\n                mylabel.setBackground(empty_color);\n                all.add(mylabel);\n                grid.add(mylabel);\n            }\n        }\n    }\n\n    grid.addMouseListener(new MouseListener() {\n        @Override\n        public void mouseClicked(MouseEvent me) {\n            for (JLabel j : all) {\n                if (j.getBounds().contains(me.getPoint())) {\n\n                    if (selected.contains(j)) {\n                        selected.remove(j);\n                        j.setBackground(empty_color);\n                    } else {\n                        selected.add(j);\n                        j.setBackground(fill_color);\n                    }\n                }\n            }\n        }\n\n        @Override\n        public void mousePressed(MouseEvent me) {\n            p1 = me.getPoint();\n            rectangle = new Rectangle2D.Double(p1.x, p1.y, p1.x - p1.x, p1.y - p1.y);\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent me) {\n\n            if (mode == 1) {\n                selected.addAll(current_selection);\n\n            } else if (mode == -1) {\n                selected.removeAll(current_selection);\n\n            }\n            for (JLabel j : all) {\n                if (selected.contains(j)) {\n                    j.setBackground(fill_color);\n                } else {\n                    j.setBackground(empty_color);\n                }\n            }\n            current_selection.clear();\n            mode = 0;\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent me) {\n        }\n\n        @Override\n        public void mouseExited(MouseEvent me) {\n        }\n\n    });\n\n    grid.addMouseMotionListener(new MouseMotionListener() {\n        @Override\n        public void mouseDragged(MouseEvent me) {\n            p2 = me.getPoint();\n\n            Point lu;\n\n            int minx = Math.min(p1.x, p2.x);\n            int miny = Math.min(p1.y, p2.y);\n            int maxx = Math.max(p1.x, p2.x);\n            int maxy = Math.max(p1.y, p2.y);\n\n            lu = new Point(minx, miny);// left upper point\n\n            rectangle.setRect(lu.x, lu.y, maxx - minx, maxy - miny);\n\n            //set mode \n            //1 = if first selected cell is empty set mode to fill\n            //-1 = otherwise clear \n            if (mode == 0) {\n                for (JLabel j : all) {\n                    if (j.getBounds().intersects(rectangle)) {\n                        if (selected.contains(j)) {\n                            mode = -1;\n                        } else {\n                            mode = 1;\n                        }\n                        break;\n                    }\n                }\n            }\n\n            for (JLabel j : all) {\n\n                if (selected.contains(j) == (mode != 1)) {\n                    if (j.getBounds().intersects(rectangle)) {\n                        current_selection.add(j);\n                    } else {\n                        if (current_selection.contains(j)) {\n                            current_selection.remove(j);\n                            if (mode == 1) {\n                                if (selected.contains(j) == false) {\n                                    j.setBackground(empty_color);\n                                }\n                            } else {\n                                if (selected.contains(j) == true) {\n                                    j.setBackground(fill_color);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            for (JLabel j : current_selection) {\n                if (mode == 1) {\n                    j.setBackground(fill_select);\n                } else if (mode == -1) {\n                    j.setBackground(empty_select);\n                }\n            }\n\n        }\n\n        @Override\n        public void mouseMoved(MouseEvent me) {\n        }\n    });\n}\n\nprivate void initComponents() {\n\n    jScrollPane1 = new javax.swing.JScrollPane();\n    jPanel1 = new javax.swing.JPanel();\n    grid = new javax.swing.JPanel();\n\n    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n    jPanel1.setLayout(new java.awt.BorderLayout());\n\n    grid.setLayout(new java.awt.GridLayout(25, 0, 2, 2));\n    jPanel1.add(grid, java.awt.BorderLayout.CENTER);\n\n    jScrollPane1.setViewportView(jPanel1);\n\n    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n    getContentPane().setLayout(layout);\n    layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 399, Short.MAX_VALUE)\n    );\n    layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 465, Short.MAX_VALUE)\n    );\n\n    pack();\n}\n\npublic static void main(String args[]) {\n\n    new TimetableFrame().setVisible(true);\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3827143,"reputation":69,"user_id":3173720,"accept_rate":0,"display_name":"Vskiran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3154,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"answer_count":3,"score":0,"last_activity_date":1692917484,"creation_date":1405601599,"question_id":24804172,"body_markdown":"I am new to Java swing desktop graphics applications I got an issue please suggest i need to select a some of the rectangles and fill the rectangles with do we any predefined concept is there like rubber band if any please suggest me to start a drawing \r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Container;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Stroke;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class Exam extends JPanel implements MouseMotionListener {\r\n    \r\n    \tprivate static final int recW = 50;\r\n    \tprivate static final int MAX = 100;\r\n    \tprivate Rectangle[] rect = new Rectangle[MAX];\r\n    \tprivate int numOfRecs = 0;\r\n    \tprivate int currentSquareIndex = -1;\r\n    \tprivate Point startPoint = new Point();\r\n    \tprivate Point currentPoint = new Point();\r\n    \tprivate int x, y, width, height;\r\n    \tprivate Stroke dashedStroke = new BasicStroke(0.0f, BasicStroke.CAP_ROUND,\r\n    \t\t\tBasicStroke.CAP_SQUARE, 5.0f, new float[] { 5f, 5f, 5f, 5f }, 5.0f);\r\n    \r\n    \tArrayList list = new ArrayList();\r\n    \r\n    \tpublic Exam() {\r\n    \r\n    \t\taddRect(50, 50);\r\n    \t\taddRect(100, 50);\r\n    \t\taddRect(150, 50);\r\n    \t\taddRect(200, 50);\r\n    \t\taddRect(250, 50);\r\n    \t\taddRect(300, 50);\r\n    \t\taddRect(350, 50);\r\n    \t\taddRect(400, 50);\r\n    \t\taddRect(450, 50);\r\n    \t\taddRect(500, 50);\r\n    \t\t//\r\n    \t\taddRect(50, 100);\r\n    \t\taddRect(100, 100);\r\n    \t\taddRect(150, 100);\r\n    \t\taddRect(200, 100);\r\n    \t\taddRect(250, 100);\r\n    \t\taddRect(300, 100);\r\n    \t\taddRect(350, 100);\r\n    \t\taddRect(400, 100);\r\n    \t\taddRect(450, 100);\r\n    \t\taddRect(500, 100);\r\n    \t\t//\r\n    \t\taddRect(50, 150);\r\n    \t\taddRect(100, 150);\r\n    \t\taddRect(150, 150);\r\n    \t\taddRect(200, 150);\r\n    \t\taddRect(250, 150);\r\n    \t\taddRect(300, 150);\r\n    \t\taddRect(350, 150);\r\n    \t\taddRect(400, 150);\r\n    \t\taddRect(450, 150);\r\n    \t\taddRect(500, 150);\r\n    \t\t//\r\n    \t\taddRect(50, 200);\r\n    \t\taddRect(100, 200);\r\n    \t\taddRect(150, 200);\r\n    \t\taddRect(200, 200);\r\n    \t\taddRect(250, 200);\r\n    \t\taddRect(300, 200);\r\n    \t\taddRect(350, 200);\r\n    \t\taddRect(400, 200);\r\n    \t\taddRect(450, 200);\r\n    \t\taddRect(500, 200);\r\n    \r\n    \t\taddMouseListener(new MouseAdapter() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void mousePressed(MouseEvent evt) {\r\n    \t\t\t\tstartPoint = evt.getPoint();\r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic void mouseReleased(MouseEvent e) {\r\n    \r\n    \t\t\t\tSystem.out.println(&quot; mouseReleased is &quot; + e.getX() + &quot; y i s &quot;\r\n    \t\t\t\t\t\t+ e.getY());\r\n    \t\t\t\tGraphics g = getGraphics();\r\n    \t\t\t\tGraphics2D g2 = (Graphics2D) g;\r\n    \t\t\t\tg2.setComposite(AlphaComposite.SrcOver.derive(0.8f));\r\n    \t\t\t\tColor myColour = new Color(255, 0, 0);\r\n    \t\t\t\tg.setColor(myColour);\r\n    \t\t\t\tx = Math.min(startPoint.x, currentPoint.x);\r\n    \t\t\t\ty = Math.min(startPoint.y, currentPoint.y);\r\n    \t\t\t\twidth = Math.abs(startPoint.x - currentPoint.x);\r\n    \t\t\t\theight = Math.abs(startPoint.y - currentPoint.y);\r\n    \t\t\t\trect[numOfRecs] = new Rectangle(x, y, width, height);\r\n    \t\t\t\t// System.out.println(&quot;list size is:&quot;+list.size());\r\n    \t\t\t\t Rectangle ggg=new Rectangle(x, y, width, height);\r\n\t\t        for(Rectangle rect3d: rect){\r\n\t\t        \tif(ggg.intersects(rect3d)){\r\n\t\t        \tg2.fill(rect3d);\r\n\t\t        \t}\r\n\t\t        \telse\r\n\t\t        \t\tSystem.out.println(&quot;doesn&#39;t contains&quot;);\r\n\t\t        \t}\r\n    repaint();\r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \r\n    \t\taddMouseMotionListener(this);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \t\tfor (int i = 0; i &lt; numOfRecs; i++) {\r\n    \t\t\t((Graphics2D) g).draw(rect[i]);\r\n    \t\t\tlist.add(rect[i]);\r\n    \t\t}\r\n    \r\n    \t\tx = Math.min(startPoint.x, currentPoint.x);\r\n    \t\ty = Math.min(startPoint.y, currentPoint.y);\r\n    \t\twidth = Math.abs(startPoint.x - currentPoint.x);\r\n    \t\theight = Math.abs(startPoint.y - currentPoint.y);\r\n    \t\t((Graphics2D) g).setStroke(dashedStroke);\r\n    \t\tg.setColor(Color.BLACK);\r\n    \t\tg.drawRect(x, y, width, height);\r\n    \t\t// Rectangle dashedRec=new Rectangle(x, y, width, height);\r\n    \r\n    \t}\r\n    \r\n    \tpublic void addRect(int x, int y) {\r\n    \t\tif (numOfRecs &lt; MAX) {\r\n    \t\t\trect[numOfRecs] = new Rectangle(x, y, recW, recW);\r\n    \t\t\tcurrentSquareIndex = numOfRecs;\r\n    \t\t\tnumOfRecs++;\r\n    \t\t\trepaint();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void mouseMoved(MouseEvent event) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void mouseDragged(MouseEvent event) {\r\n    \r\n    \t\tcurrentPoint = event.getPoint();\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame jFrame = new JFrame();\r\n    \t\tjFrame.setTitle(&quot;&quot;);\r\n    \t\tjFrame.setSize(600, 300);\r\n    \t\tContainer cPane = jFrame.getContentPane();\r\n    \t\tcPane.add(new Exam());\r\n    \t\tjFrame.setVisible(true);\r\n    \t}\r\n    }","title":"Java swing graphics drawing and filling selected rectangles with colors","body":"<p>I am new to Java swing desktop graphics applications I got an issue please suggest i need to select a some of the rectangles and fill the rectangles with do we any predefined concept is there like rubber band if any please suggest me to start a drawing </p>\n\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.Stroke;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionListener;\nimport java.util.ArrayList;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n@SuppressWarnings(\"serial\")\npublic class Exam extends JPanel implements MouseMotionListener {\n\n    private static final int recW = 50;\n    private static final int MAX = 100;\n    private Rectangle[] rect = new Rectangle[MAX];\n    private int numOfRecs = 0;\n    private int currentSquareIndex = -1;\n    private Point startPoint = new Point();\n    private Point currentPoint = new Point();\n    private int x, y, width, height;\n    private Stroke dashedStroke = new BasicStroke(0.0f, BasicStroke.CAP_ROUND,\n            BasicStroke.CAP_SQUARE, 5.0f, new float[] { 5f, 5f, 5f, 5f }, 5.0f);\n\n    ArrayList list = new ArrayList();\n\n    public Exam() {\n\n        addRect(50, 50);\n        addRect(100, 50);\n        addRect(150, 50);\n        addRect(200, 50);\n        addRect(250, 50);\n        addRect(300, 50);\n        addRect(350, 50);\n        addRect(400, 50);\n        addRect(450, 50);\n        addRect(500, 50);\n        //\n        addRect(50, 100);\n        addRect(100, 100);\n        addRect(150, 100);\n        addRect(200, 100);\n        addRect(250, 100);\n        addRect(300, 100);\n        addRect(350, 100);\n        addRect(400, 100);\n        addRect(450, 100);\n        addRect(500, 100);\n        //\n        addRect(50, 150);\n        addRect(100, 150);\n        addRect(150, 150);\n        addRect(200, 150);\n        addRect(250, 150);\n        addRect(300, 150);\n        addRect(350, 150);\n        addRect(400, 150);\n        addRect(450, 150);\n        addRect(500, 150);\n        //\n        addRect(50, 200);\n        addRect(100, 200);\n        addRect(150, 200);\n        addRect(200, 200);\n        addRect(250, 200);\n        addRect(300, 200);\n        addRect(350, 200);\n        addRect(400, 200);\n        addRect(450, 200);\n        addRect(500, 200);\n\n        addMouseListener(new MouseAdapter() {\n\n            @Override\n            public void mousePressed(MouseEvent evt) {\n                startPoint = evt.getPoint();\n            }\n\n            public void mouseReleased(MouseEvent e) {\n\n                System.out.println(\" mouseReleased is \" + e.getX() + \" y i s \"\n                        + e.getY());\n                Graphics g = getGraphics();\n                Graphics2D g2 = (Graphics2D) g;\n                g2.setComposite(AlphaComposite.SrcOver.derive(0.8f));\n                Color myColour = new Color(255, 0, 0);\n                g.setColor(myColour);\n                x = Math.min(startPoint.x, currentPoint.x);\n                y = Math.min(startPoint.y, currentPoint.y);\n                width = Math.abs(startPoint.x - currentPoint.x);\n                height = Math.abs(startPoint.y - currentPoint.y);\n                rect[numOfRecs] = new Rectangle(x, y, width, height);\n                // System.out.println(\"list size is:\"+list.size());\n                 Rectangle ggg=new Rectangle(x, y, width, height);\n            for(Rectangle rect3d: rect){\n                if(ggg.intersects(rect3d)){\n                g2.fill(rect3d);\n                }\n                else\n                    System.out.println(\"doesn't contains\");\n                }\nrepaint();\n            }\n\n        });\n\n        addMouseMotionListener(this);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        for (int i = 0; i &lt; numOfRecs; i++) {\n            ((Graphics2D) g).draw(rect[i]);\n            list.add(rect[i]);\n        }\n\n        x = Math.min(startPoint.x, currentPoint.x);\n        y = Math.min(startPoint.y, currentPoint.y);\n        width = Math.abs(startPoint.x - currentPoint.x);\n        height = Math.abs(startPoint.y - currentPoint.y);\n        ((Graphics2D) g).setStroke(dashedStroke);\n        g.setColor(Color.BLACK);\n        g.drawRect(x, y, width, height);\n        // Rectangle dashedRec=new Rectangle(x, y, width, height);\n\n    }\n\n    public void addRect(int x, int y) {\n        if (numOfRecs &lt; MAX) {\n            rect[numOfRecs] = new Rectangle(x, y, recW, recW);\n            currentSquareIndex = numOfRecs;\n            numOfRecs++;\n            repaint();\n        }\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent event) {\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent event) {\n\n        currentPoint = event.getPoint();\n        repaint();\n    }\n\n    public static void main(String[] args) {\n        JFrame jFrame = new JFrame();\n        jFrame.setTitle(\"\");\n        jFrame.setSize(600, 300);\n        Container cPane = jFrame.getContentPane();\n        cPane.add(new Exam());\n        jFrame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","optimization","string.format"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1692916743,"post_id":76973258,"comment_id":135693438,"body_markdown":"Not likely. The JIT compiler might optimize away some of the overhead.","body":"Not likely. The JIT compiler might optimize away some of the overhead."},{"owner":{"account_id":2095810,"reputation":5066,"user_id":14853083,"display_name":"Tangentially Perpendicular"},"score":0,"creation_date":1692916872,"post_id":76973258,"comment_id":135693449,"body_markdown":"Wouldn&#39;t it just throw a NullPointer Exception if you omit the format?","body":"Wouldn&#39;t it just throw a NullPointer Exception if you omit the format?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1692916963,"post_id":76973258,"comment_id":135693458,"body_markdown":"@TangentiallyPerpendicular I think the OP meant no format _arguments_, not no format string.","body":"@TangentiallyPerpendicular I think the OP meant no format <i>arguments</i>, not no format string."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692931759,"post_id":76973258,"comment_id":135694664,"body_markdown":"Code like that is arguably faulty (i.e. needs fixing in the source code) rather than just non-optimal.  Finding stuff like that is best done using a static analysis tool; e.g. FindBugs, SpotBugs, PMD and the like.  (Though I don&#39;t know if the above is fault is within the capabilities of said tools.)","body":"Code like that is arguably faulty (i.e. needs fixing in the source code) rather than just non-optimal.  Finding stuff like that is best done using a static analysis tool; e.g. FindBugs, SpotBugs, PMD and the like.  (Though I don&#39;t know if the above is fault is within the capabilities of said tools.)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692917420,"creation_date":1692917420,"answer_id":76973311,"question_id":76973258,"body_markdown":"No; java isn&#39;t that kind of ecosystem.\r\n\r\nAll optimization is done by the runtime. The compiler (which turns `.java` files into `.class` files) _must follow the spec precisely_, and the spec (unlike, say, C), gives pretty much zero leeway or flexibility to the compiler. This source file must be turned into that sack of bytes. To the byte. Precisely. Or it&#39;s not a java compiler.\r\n\r\nIf you write `String.format` in the code, that has to be in the class file. After all, what if in some future edition of the `String` class that you end up running that code with, the `String.format(&quot;justAString&quot;)` call would produce something else? `javac` shouldn&#39;t make a decision that the spec of `String.format` cannot change like this.\r\n\r\nWhat will happen in JDK21 (or 22, I&#39;m not quite sure which version will get it), is compiler-supported string format directives. It looks like passing a string as it&#39;s a method:\r\n\r\n```java\r\nString name = &quot;Jane&quot;;\r\nint age = 8;\r\nString formatted = STR.&quot;My name is \\{name}, and I am \\{age} years old&quot;;\r\nassert &quot;My name is Jane, and I am 8 years old&quot;.equals(formatted);\r\n```\r\n\r\nA runtime advantage here is that the __compiler__ lops that format template string up into 3 substrings and 2 substitutions (`&quot;My name is&quot;`, `&quot;, and I am &quot;`, and `&quot; years old&quot;`) and passes all that to `STR` (which you&#39;d have to `import`). This means `STR` no longer has to, at runtime, go through the string and find `%`.\r\n\r\nIn contrast to `String.format(&quot;My name is %s, and I am %d years old&quot;, name, age);` where the code of `format` has to loop through the string and find percentage symbols.\r\n\r\nEven in your case (`String.format(&quot;A string with no percent symbols and no arguments&quot;)`) it still has to look through for percentages. With the string templating feature it wouldn&#39;t have to do that.\r\n\r\nThe key point is that __The java language spec__ would spell out that this is an option (in fact, it would spell out that a compiler __must__ do it this way, if it deviates it would be just as wrong as a JDK20 compiler that compiles `String.format(&quot;abc&quot;)` as just `&quot;abc&quot;`).\r\n\r\nNB: Standard &#39;future java&#39; disclaimer: The OpenJDK team&#39;s discussions and feature implementations _leave syntax to the very last moment_, and are not at all interested in syntax discussions. It&#39;s not about what it looks like, it&#39;s about what it does. So if you like the idea but you find `STR.&quot;Hello&quot;` looks weird, then [A] you may need to understand the full context of it all: Java doesn&#39;t break backwards compatibility; loads of proposals on how things should look are not possible because it&#39;s already valid java and therefore the meaning of it cannot just be changed without an extremely good reason to do so, and [B] that&#39;s not the interesting part, they probably don&#39;t currently care about syntax too much). I included what it currently looks like just as an aid to show what it does.","title":"Will a good Java compiler omit a call to `String.format` with no format specifiers?","body":"<p>No; java isn't that kind of ecosystem.</p>\n<p>All optimization is done by the runtime. The compiler (which turns <code>.java</code> files into <code>.class</code> files) <em>must follow the spec precisely</em>, and the spec (unlike, say, C), gives pretty much zero leeway or flexibility to the compiler. This source file must be turned into that sack of bytes. To the byte. Precisely. Or it's not a java compiler.</p>\n<p>If you write <code>String.format</code> in the code, that has to be in the class file. After all, what if in some future edition of the <code>String</code> class that you end up running that code with, the <code>String.format(&quot;justAString&quot;)</code> call would produce something else? <code>javac</code> shouldn't make a decision that the spec of <code>String.format</code> cannot change like this.</p>\n<p>What will happen in JDK21 (or 22, I'm not quite sure which version will get it), is compiler-supported string format directives. It looks like passing a string as it's a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Jane&quot;;\nint age = 8;\nString formatted = STR.&quot;My name is \\{name}, and I am \\{age} years old&quot;;\nassert &quot;My name is Jane, and I am 8 years old&quot;.equals(formatted);\n</code></pre>\n<p>A runtime advantage here is that the <strong>compiler</strong> lops that format template string up into 3 substrings and 2 substitutions (<code>&quot;My name is&quot;</code>, <code>&quot;, and I am &quot;</code>, and <code>&quot; years old&quot;</code>) and passes all that to <code>STR</code> (which you'd have to <code>import</code>). This means <code>STR</code> no longer has to, at runtime, go through the string and find <code>%</code>.</p>\n<p>In contrast to <code>String.format(&quot;My name is %s, and I am %d years old&quot;, name, age);</code> where the code of <code>format</code> has to loop through the string and find percentage symbols.</p>\n<p>Even in your case (<code>String.format(&quot;A string with no percent symbols and no arguments&quot;)</code>) it still has to look through for percentages. With the string templating feature it wouldn't have to do that.</p>\n<p>The key point is that <strong>The java language spec</strong> would spell out that this is an option (in fact, it would spell out that a compiler <strong>must</strong> do it this way, if it deviates it would be just as wrong as a JDK20 compiler that compiles <code>String.format(&quot;abc&quot;)</code> as just <code>&quot;abc&quot;</code>).</p>\n<p>NB: Standard 'future java' disclaimer: The OpenJDK team's discussions and feature implementations <em>leave syntax to the very last moment</em>, and are not at all interested in syntax discussions. It's not about what it looks like, it's about what it does. So if you like the idea but you find <code>STR.&quot;Hello&quot;</code> looks weird, then [A] you may need to understand the full context of it all: Java doesn't break backwards compatibility; loads of proposals on how things should look are not possible because it's already valid java and therefore the meaning of it cannot just be changed without an extremely good reason to do so, and [B] that's not the interesting part, they probably don't currently care about syntax too much). I included what it currently looks like just as an aid to show what it does.</p>\n"}],"owner":{"account_id":1975576,"reputation":20799,"user_id":1773434,"accept_rate":100,"display_name":"Govind Parmar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76973311,"answer_count":1,"score":0,"last_activity_date":1692917420,"creation_date":1692916268,"question_id":76973258,"body_markdown":"For example, if you have a line of code like this:\r\n\r\n    String vacuouslyFormatted = String.format(&quot;Number of items: 100&quot;);\r\n\r\nWill the call to `String.format` most likely be omitted by the compiler since it does not affect the object referenced by `vacuouslyFormatted` in any way? \r\n\r\n","title":"Will a good Java compiler omit a call to `String.format` with no format specifiers?","body":"<p>For example, if you have a line of code like this:</p>\n<pre><code>String vacuouslyFormatted = String.format(&quot;Number of items: 100&quot;);\n</code></pre>\n<p>Will the call to <code>String.format</code> most likely be omitted by the compiler since it does not affect the object referenced by <code>vacuouslyFormatted</code> in any way?</p>\n"},{"tags":["java","dependency-injection","mocking","spock","micronaut"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1693929423,"post_id":76973296,"comment_id":135823028,"body_markdown":"Can you show the code that you had with `@MockBean`? Your current example can&#39;t work. Furthermore, why do you need to mock the client instead of the service that is called by the client in the end?","body":"Can you show the code that you had with <code>@MockBean</code>? Your current example can&#39;t work. Furthermore, why do you need to mock the client instead of the service that is called by the client in the end?"}],"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692917052,"creation_date":1692917052,"question_id":76973296,"body_markdown":"I have this MicronautTest\r\n\r\n    @MicronautTest\r\n    class ApiTest extends Specification {\r\n\r\n    @Inject\r\n    @Client(&quot;/test/info&quot;)\r\n    RxHttpClient client = Mock()\r\n\r\n    @Inject\r\n    CapApi capApi\r\n\r\n    def &quot;test should return info response&quot;() {\r\n        given:\r\n        def mockInfoResponse = InfoResponse.builder()\r\n                .ver(&quot;1.9.1&quot;)\r\n                .build()\r\n        client.retrieve(_, _) &gt;&gt; Flowable.just(mockInfoResponse)\r\n\r\n        when:\r\n        def result = capApi.retrieveInfo(&quot;/test/info&quot;)\r\n\r\n        then:\r\n        result.ver == &quot;1.9.1&quot;\r\n    }\r\n    }\r\n\r\nand that is the tested class.\r\n\r\n    @Singleton\r\n    public class CapApi {\r\n    private final RxHttpClient client;\r\n\r\n    public CapApi(RxHttpClient client) {\r\n        this.client = client;\r\n    }\r\n\r\n    @Retryable\r\n    public InfoResponse retrieveInfo(String uri) {\r\n        return client.retrieve(GET(uri).header(&quot;accept&quot;, &quot;application/json&quot;), InfoResponse.class)\r\n                .blockingFirst();\r\n    }\r\n    }\r\n\r\nno matter how hard I try... I am not able to mock the client of the CapApi class.\r\nI also tried it with MockBean withoud success.\r\n","title":"Mock RxHttpClient in MicronautTest","body":"<p>I have this MicronautTest</p>\n<pre><code>@MicronautTest\nclass ApiTest extends Specification {\n\n@Inject\n@Client(&quot;/test/info&quot;)\nRxHttpClient client = Mock()\n\n@Inject\nCapApi capApi\n\ndef &quot;test should return info response&quot;() {\n    given:\n    def mockInfoResponse = InfoResponse.builder()\n            .ver(&quot;1.9.1&quot;)\n            .build()\n    client.retrieve(_, _) &gt;&gt; Flowable.just(mockInfoResponse)\n\n    when:\n    def result = capApi.retrieveInfo(&quot;/test/info&quot;)\n\n    then:\n    result.ver == &quot;1.9.1&quot;\n}\n}\n</code></pre>\n<p>and that is the tested class.</p>\n<pre><code>@Singleton\npublic class CapApi {\nprivate final RxHttpClient client;\n\npublic CapApi(RxHttpClient client) {\n    this.client = client;\n}\n\n@Retryable\npublic InfoResponse retrieveInfo(String uri) {\n    return client.retrieve(GET(uri).header(&quot;accept&quot;, &quot;application/json&quot;), InfoResponse.class)\n            .blockingFirst();\n}\n}\n</code></pre>\n<p>no matter how hard I try... I am not able to mock the client of the CapApi class.\nI also tried it with MockBean withoud success.</p>\n"},{"tags":["java","spring","http","tomcat","http2"],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692916418,"creation_date":1692901170,"answer_id":76972003,"question_id":76970015,"body_markdown":"1) No more changes needed. Tomcat offers both protocols depending on the request (see below).\r\n2) HTTP/2 supports both http and https ([Does HTTP/2 require encryption?](https://http2.github.io/faq/))\r\n\r\nThe request must explicitly ask for `HTTP/2` protocol, either through a `HTTP/1.1` protocol upgrade or directly\r\n\r\n**With protocol upgrade**:  \r\nRequest: `GET /sample/hello HTTP/1.1`  \r\nHeader : `Connection: Upgrade, HTTP2-Settings`\r\n\r\n    curl --verbose --http2 http://localhost:8080/sample/hello\r\n    *   Trying 127.0.0.1:8080...\r\n    * Connected to localhost (127.0.0.1) port 8080 (#0)\r\n    &gt; GET /sample/hello HTTP/1.1\r\n    &gt; Host: localhost:8080\r\n    &gt; User-Agent: curl/8.0.1\r\n    &gt; Accept: */*\r\n    &gt; Connection: Upgrade, HTTP2-Settings\r\n    &gt; Upgrade: h2c\r\n    &gt; HTTP2-Settings: AAMAAABkAAQCAAAAAAIAAAAA\r\n    &gt; \r\n    &lt; HTTP/1.1 101 \r\n    &lt; Connection: Upgrade\r\n    &lt; Upgrade: h2c\r\n    &lt; Date: Thu, 24 Aug 2023 18:11:37 GMT\r\n    * Received 101, Switching to HTTP/2\r\n    &lt; HTTP/2 200 \r\n    &lt; content-type: text/html;charset=ISO-8859-1\r\n    &lt; content-length: 311\r\n    &lt; date: Thu, 24 Aug 2023 18:11:37 GMT\r\n    (response redacted)\r\n\r\n**Direct request**:  \r\nRequest: `GET /sample/hello HTTP/2`\r\n\r\n     curl --verbose --http2-prior-knowledge http://localhost:8080/sample/hello\r\n    *   Trying 127.0.0.1:8080...\r\n    * Connected to localhost (127.0.0.1) port 8080 (#0)\r\n    * h2h3 [:method: GET]\r\n    * h2h3 [:path: /sample/hello]\r\n    * h2h3 [:scheme: http]\r\n    * h2h3 [:authority: localhost:8080]\r\n    * h2h3 [user-agent: curl/8.0.1]\r\n    * h2h3 [accept: */*]\r\n    * Using Stream ID: 1 (easy handle 0x558d436ecf40)\r\n    &gt; GET /sample/hello HTTP/2\r\n    &gt; Host: localhost:8080\r\n    &gt; user-agent: curl/8.0.1\r\n    &gt; accept: */*\r\n    &gt; \r\n    &lt; HTTP/2 200 \r\n    &lt; content-type: text/html;charset=ISO-8859-1\r\n    &lt; content-length: 311\r\n    &lt; date: Thu, 24 Aug 2023 18:14:01 GMT\r\n    &lt; \r\n    (response redacted)\r\n\r\nIf HTTP/2 is not explicitly requested, HTTP/1.1 will be served\r\n\r\n    curl --verbose http://localhost:8080/sample/hello\r\n    *   Trying 127.0.0.1:8080...\r\n    * Connected to localhost (127.0.0.1) port 8080 (#0)\r\n    &gt; GET /sample/hello HTTP/1.1\r\n    &gt; Host: localhost:8080\r\n    &gt; User-Agent: curl/8.0.1\r\n    &gt; Accept: */*\r\n    &gt; \r\n    &lt; HTTP/1.1 200 \r\n    &lt; Content-Type: text/html;charset=ISO-8859-1\r\n    &lt; Content-Length: 311\r\n    &lt; Date: Thu, 24 Aug 2023 18:18:39 GMT\r\n    &lt; \r\n\r\nTested with this configuration\r\n\r\n    &lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;&gt;\r\n            &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;/Connector&gt;\r\n\r\n","title":"Configure Tomcat 8 for HTTP/2.0 for HTTP(not https) calls","body":"<ol>\n<li>No more changes needed. Tomcat offers both protocols depending on the request (see below).</li>\n<li>HTTP/2 supports both http and https (<a href=\"https://http2.github.io/faq/\" rel=\"nofollow noreferrer\">Does HTTP/2 require encryption?</a>)</li>\n</ol>\n<p>The request must explicitly ask for <code>HTTP/2</code> protocol, either through a <code>HTTP/1.1</code> protocol upgrade or directly</p>\n<p><strong>With protocol upgrade</strong>:<br />\nRequest: <code>GET /sample/hello HTTP/1.1</code><br />\nHeader : <code>Connection: Upgrade, HTTP2-Settings</code></p>\n<pre><code>curl --verbose --http2 http://localhost:8080/sample/hello\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /sample/hello HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/8.0.1\n&gt; Accept: */*\n&gt; Connection: Upgrade, HTTP2-Settings\n&gt; Upgrade: h2c\n&gt; HTTP2-Settings: AAMAAABkAAQCAAAAAAIAAAAA\n&gt; \n&lt; HTTP/1.1 101 \n&lt; Connection: Upgrade\n&lt; Upgrade: h2c\n&lt; Date: Thu, 24 Aug 2023 18:11:37 GMT\n* Received 101, Switching to HTTP/2\n&lt; HTTP/2 200 \n&lt; content-type: text/html;charset=ISO-8859-1\n&lt; content-length: 311\n&lt; date: Thu, 24 Aug 2023 18:11:37 GMT\n(response redacted)\n</code></pre>\n<p><strong>Direct request</strong>:<br />\nRequest: <code>GET /sample/hello HTTP/2</code></p>\n<pre><code> curl --verbose --http2-prior-knowledge http://localhost:8080/sample/hello\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n* h2h3 [:method: GET]\n* h2h3 [:path: /sample/hello]\n* h2h3 [:scheme: http]\n* h2h3 [:authority: localhost:8080]\n* h2h3 [user-agent: curl/8.0.1]\n* h2h3 [accept: */*]\n* Using Stream ID: 1 (easy handle 0x558d436ecf40)\n&gt; GET /sample/hello HTTP/2\n&gt; Host: localhost:8080\n&gt; user-agent: curl/8.0.1\n&gt; accept: */*\n&gt; \n&lt; HTTP/2 200 \n&lt; content-type: text/html;charset=ISO-8859-1\n&lt; content-length: 311\n&lt; date: Thu, 24 Aug 2023 18:14:01 GMT\n&lt; \n(response redacted)\n</code></pre>\n<p>If HTTP/2 is not explicitly requested, HTTP/1.1 will be served</p>\n<pre><code>curl --verbose http://localhost:8080/sample/hello\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /sample/hello HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/8.0.1\n&gt; Accept: */*\n&gt; \n&lt; HTTP/1.1 200 \n&lt; Content-Type: text/html;charset=ISO-8859-1\n&lt; Content-Length: 311\n&lt; Date: Thu, 24 Aug 2023 18:18:39 GMT\n&lt; \n</code></pre>\n<p>Tested with this configuration</p>\n<pre><code>&lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;&gt;\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n    &lt;/Connector&gt;\n</code></pre>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692916418,"creation_date":1692885209,"question_id":76970015,"body_markdown":"We have our legacy Tomcat server on version `8.5.81`\r\n\r\nWe plan to upgrade to HTTP/2 for quicker api response times (optimization)\r\n\r\nFollowing configuration has been applied at `server.xml`\r\n```\r\n        &lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot;&gt;\r\n            &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;/Connector&gt;\r\n``` \r\n\r\nBut still calls remain on HTTP/1.1\r\n\r\nNeed help for ..\r\n\r\n 1. **What more changes should be done to achieve HTTP/2 at server ?**\r\n 2. Most of our calls are on 8080(http). Very less are on 443(https). My internet search  suggested samples where it appears that HTTP2 would be applicable only on HTTPS for tomcat 8.5 series. \r\n**How do I achieve this for both HTTP &amp; HTTPS ?**","title":"Configure Tomcat 8 for HTTP/2.0 for HTTP(not https) calls","body":"<p>We have our legacy Tomcat server on version <code>8.5.81</code></p>\n<p>We plan to upgrade to HTTP/2 for quicker api response times (optimization)</p>\n<p>Following configuration has been applied at <code>server.xml</code></p>\n<pre><code>        &lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\n                   connectionTimeout=&quot;20000&quot;\n                   redirectPort=&quot;8443&quot;&gt;\n            &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n        &lt;/Connector&gt;\n</code></pre>\n<p>But still calls remain on HTTP/1.1</p>\n<p>Need help for ..</p>\n<ol>\n<li><strong>What more changes should be done to achieve HTTP/2 at server ?</strong></li>\n<li>Most of our calls are on 8080(http). Very less are on 443(https). My internet search  suggested samples where it appears that HTTP2 would be applicable only on HTTPS for tomcat 8.5 series.\n<strong>How do I achieve this for both HTTP &amp; HTTPS ?</strong></li>\n</ol>\n"},{"tags":["java","spring","spring-mvc","spring-security","openid"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1386252847,"post_id":20401795,"comment_id":30466727,"body_markdown":"Have you read the stacktrace? `java.lang.NoClassDefFoundError: org/openid4java/consumer/ConsumerException` looks quite clear to me. You are missing referenced libraries... Probably a openid4java jar (or maybe you have a too old version).","body":"Have you read the stacktrace? <code>java.lang.NoClassDefFoundError: org&#47;openid4java&#47;consumer&#47;ConsumerException</code> looks quite clear to me. You are missing referenced libraries... Probably a openid4java jar (or maybe you have a too old version)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1386253023,"post_id":20401795,"comment_id":30466857,"body_markdown":"Another thing to notice is you are duplicating all your bean instances. Both the `DispatcherServlet` and `ContextLoaderListener` do a `&lt;context:component-scan base-package=&quot;com.kratin&quot; /&gt;` This will eventually lead you to other problems.","body":"Another thing to notice is you are duplicating all your bean instances. Both the <code>DispatcherServlet</code> and <code>ContextLoaderListener</code> do a <code>&lt;context:component-scan base-package=&quot;com.kratin&quot; &#47;&gt;</code> This will eventually lead you to other problems."},{"owner":{"account_id":3668485,"reputation":21,"user_id":3056194,"display_name":"user3056194"},"score":0,"creation_date":1386305780,"post_id":20401795,"comment_id":30492096,"body_markdown":"Thank you for the opinion i was using an older version of jar. Can u please specify how can i remove these duplications so that it wont hamper the execution. I m new to spring and hibernate so might be really stupid to ask but i need to know. Also if you have any suggestions or ideas regarding openId implementation in spring and extracting emailId and name it would be helpful.","body":"Thank you for the opinion i was using an older version of jar. Can u please specify how can i remove these duplications so that it wont hamper the execution. I m new to spring and hibernate so might be really stupid to ask but i need to know. Also if you have any suggestions or ideas regarding openId implementation in spring and extracting emailId and name it would be helpful."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1386313265,"post_id":20401795,"comment_id":30494890,"body_markdown":"See the answer here http://stackoverflow.com/questions/11453530/applicationcontext-not-finding-controllers-for-servlet-context","body":"See the answer here <a href=\"http://stackoverflow.com/questions/11453530/applicationcontext-not-finding-controllers-for-servlet-context\" title=\"applicationcontext not finding controllers for servlet context\">stackoverflow.com/questions/11453530/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7905853,"reputation":3551,"user_id":5971390,"accept_rate":50,"display_name":"Tim Penner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458945860,"creation_date":1458945860,"answer_id":36229236,"question_id":20401795,"body_markdown":"The stacktrace shows that you are referencing a missing library:\r\n\r\n&gt; Caused by: java.lang.ClassNotFoundException: org.openid4java.consumer.ConsumerException\r\n\r\nEither you do not have &lt;kbd&gt;openid4java&lt;/kbd&gt; installed or you have an older version of &lt;kbd&gt;openid4java&lt;/kbd&gt; that doesn&#39;t contain the needed class.\r\n\r\nYou should install the correct version of &lt;kbd&gt;openid4java&lt;/kbd&gt;","title":"Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener","body":"<p>The stacktrace shows that you are referencing a missing library:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.ClassNotFoundException: org.openid4java.consumer.ConsumerException</p>\n</blockquote>\n\n<p>Either you do not have <kbd>openid4java</kbd> installed or you have an older version of <kbd>openid4java</kbd> that doesn't contain the needed class.</p>\n\n<p>You should install the correct version of <kbd>openid4java</kbd></p>\n"}],"owner":{"account_id":3668485,"reputation":21,"user_id":3056194,"display_name":"user3056194"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692914831,"creation_date":1386251591,"question_id":20401795,"body_markdown":"I have been struggling at successfully implementing openId in spring from last 3 weeks now.\r\nPlease help me out with it.\r\n\r\nI tried to implement it from &lt;http://krams915.blogspot.in/2011/02/spring-security-3-openid-login-with_13.html&gt;, now i m getting an exception.\r\nconsole log:\r\n\r\n    SEVERE: Exception sending context initialized event to listener instance of class        org.springframework.web.context.ContextLoaderListener\r\n    java.lang.NoClassDefFoundError: org/openid4java/consumer/ConsumerException\r\n\tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)\r\n\tat java.lang.Class.getDeclaredConstructors(Class.java:1836)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:228)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:911)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:884)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:479)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\r\n\tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n\tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.lang.ClassNotFoundException: org.openid4java.consumer.ConsumerException\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n\t... 28 more\r\n\r\nmy web.xml:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n     &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;  \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;  \r\n   \r\n     &lt;filter&gt;\r\n\t    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t \r\n         &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-       class&gt;\r\n\t&lt;/filter&gt;\r\n\t\r\n\t&lt;filter-mapping&gt;\r\n\t    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\t&lt;/filter-mapping&gt;\r\n\t\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t/WEB-INF/spring-security.xml\r\n\t\t/WEB-INF/applicationContext.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n    &lt;servlet&gt;  \r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  \r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  \r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  \r\n    &lt;/servlet&gt;  \r\n  \r\n    &lt;servlet-mapping&gt;  \r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  \r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;  \r\n    &lt;/servlet-mapping&gt; \r\n    \t\r\n\t&lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    \t\r\n    &lt;welcome-file-list&gt;  \r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;  \r\n    &lt;/welcome-file-list&gt;  \r\n  \r\n&lt;/web-app&gt; \r\n\r\nDispatcher.servlet:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:oxm=&quot;http://www.springframework.org/schema/oxm&quot;\r\n\txsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n        http://www.springframework.org/schema/tx\r\n        http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n        http://www.springframework.org/schema/oxm\r\n        http://www.springframework.org/schema/oxm/spring-oxm-3.0.xsd&quot;&gt;\r\n\r\n\t&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot; /&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.kratin&quot; /&gt;\r\n\t\r\n\t&lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;1&quot; /&gt;\r\n        &lt;property name=&quot;messageConverters&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;!-- Default converters --&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.FormHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.ByteArrayHttpMessageConverter&quot; /&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.xml.SourceHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.BufferedImageHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot; /&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\t\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;hibernateTransactionManager&quot; /&gt;\r\n\t\r\n\t&lt;bean id=&quot;jspViewResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;viewClass&quot;\r\n\t\t\tvalue=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt; \r\n\t\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${database.driver}&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;${database.user}&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${database.password}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;com.kratin.domain.User&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;hibernateTransactionManager&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n&lt;/beans&gt;\r\n\r\n\r\nspring-security.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n\t   \t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n\t\t\thttp://www.springframework.org/schema/security \r\n\t\t\thttp://www.springframework.org/schema/security/spring-security-3.0.xsd&quot;&gt;\r\n\t\r\n\t&lt;!-- This is where we configure Spring-Security  --&gt;\r\n\t&lt;security:http auto-config=&quot;true&quot; use-expressions=&quot;true&quot; access-denied-page=&quot;/rest/auth/denied&quot; &gt;\r\n\t\r\n\t\t&lt;security:intercept-url pattern=&quot;/rest/auth/login&quot; access=&quot;permitAll&quot;/&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/rest/main/admin&quot; access=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;/&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/rest/main/common&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot;/&gt;\r\n\t\t\r\n\t\t&lt;!-- Adding the openid-login tag activates Spring Security&#39;s support for OpenID  --&gt;\r\n\t\t&lt;security:openid-login\r\n\t\t\t\tlogin-page=&quot;/rest/auth/login&quot; \r\n\t\t\t\tauthentication-failure-url=&quot;/rest/auth/login?error=true&quot; \r\n\t\t\t\tdefault-target-url=&quot;/rest/main/common&quot;/&gt;\r\n\t\t\t\r\n\t\t&lt;security:logout \r\n\t\t\t\tinvalidate-session=&quot;true&quot; \r\n\t\t\t\tlogout-success-url=&quot;/rest/auth/login&quot; \r\n\t\t\t\tlogout-url=&quot;/rest/auth/logout&quot;/&gt;\r\n\t\r\n\t&lt;/security:http&gt;\r\n\t\r\n\t&lt;!-- Declare an authentication-manager to use a custom userDetailsService --&gt;\r\n\t&lt;security:authentication-manager&gt;\r\n\t        &lt;security:authentication-provider user-service-ref=&quot;userDetailsService&quot;&gt;\r\n\t        \t\t&lt;security:password-encoder ref=&quot;passwordEncoder&quot;/&gt;\r\n\t        &lt;/security:authentication-provider&gt;\r\n\t&lt;/security:authentication-manager&gt;\r\n\t\r\n\t&lt;!-- Use a Md5 encoder since the user&#39;s passwords are stored as Md5 in the database --&gt;\r\n\t&lt;bean class=&quot;org.springframework.security.authentication.encoding.Md5PasswordEncoder&quot; id=&quot;passwordEncoder&quot;/&gt;\r\n \r\n\t &lt;!-- An in-memory list of users. No need to access an external database layer.\r\n\t\t    See Spring Security 3.1 Reference 5.2.1 In-Memory Authentication --&gt;\r\n\t &lt;security:user-service id=&quot;userDetailsService&quot;&gt;\r\n\t \t&lt;!-- user name is based on the returned OpenID identifier from Google --&gt;\r\n\t    &lt;security:user name=&quot;https://www.google.com/accounts/o8/id?id=AItxxioJSDLFJLjxcksdfjOpAASDFosSSoJ0E&quot; \r\n\t    \t\t\t\t\tpassword=&quot;&quot; authorities=&quot;ROLE_USER, ROLE_ADMIN&quot; /&gt;\r\n\t &lt;/security:user-service&gt;\r\n\t\r\n&lt;/beans&gt;\r\n\r\n\r\napplicationContext.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n\t   \t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n\t   \t\thttp://www.springframework.org/schema/context\r\n\t   \t\thttp://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n\t\t\thttp://www.springframework.org/schema/mvc \r\n\t\t\thttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n\t\r\n\t&lt;!-- Activates various annotations to be detected in bean classes --&gt;\r\n\t&lt;context:annotation-config /&gt;\r\n\t\r\n\t&lt;!-- Scans the classpath for annotated components that will be auto-registered as Spring beans.\r\n\t For example @Controller and @Service. Make sure to set the correct base-package--&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.kratin&quot; /&gt;\r\n\t\r\n\t&lt;!-- Configures the annotation-driven Spring MVC Controller programming model.\r\n\tNote that, with Spring 3.0, this tag works in Servlet MVC only!  --&gt;\r\n\t&lt;mvc:annotation-driven /&gt; \r\n\t\r\n&lt;/beans&gt;\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener","body":"<p>I have been struggling at successfully implementing openId in spring from last 3 weeks now.\nPlease help me out with it.</p>\n\n<p>I tried to implement it from <a href=\"http://krams915.blogspot.in/2011/02/spring-security-3-openid-login-with_13.html\" rel=\"nofollow\">http://krams915.blogspot.in/2011/02/spring-security-3-openid-login-with_13.html</a>, now i m getting an exception.\nconsole log:</p>\n\n<pre><code>SEVERE: Exception sending context initialized event to listener instance of class        org.springframework.web.context.ContextLoaderListener\njava.lang.NoClassDefFoundError: org/openid4java/consumer/ConsumerException\nat java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)\nat java.lang.Class.getDeclaredConstructors(Class.java:1836)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:228)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:911)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:884)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:479)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\nat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\nat java.util.concurrent.FutureTask.run(FutureTask.java:138)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.ClassNotFoundException: org.openid4java.consumer.ConsumerException\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n... 28 more\n</code></pre>\n\n<p>my web.xml:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  \n &lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"  \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  \nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;  \n\n &lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n\n     &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-       class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;   &lt;/filter-mapping&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n    /WEB-INF/spring-security.xml\n    /WEB-INF/applicationContext.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;servlet&gt;  \n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  \n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  \n&lt;/servlet&gt;  \n\n&lt;servlet-mapping&gt;  \n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  \n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;  \n&lt;/servlet-mapping&gt; \n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;welcome-file-list&gt;  \n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;  \n&lt;/welcome-file-list&gt;  \n</code></pre>\n\n<p> </p>\n\n<p>Dispatcher.servlet:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n   &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:oxm=\"http://www.springframework.org/schema/oxm\"\nxsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\n    http://www.springframework.org/schema/tx\n    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n    http://www.springframework.org/schema/oxm\n    http://www.springframework.org/schema/oxm/spring-oxm-3.0.xsd\"&gt;\n\n&lt;context:property-placeholder location=\"classpath:jdbc.properties\" /&gt;\n&lt;context:component-scan base-package=\"com.kratin\" /&gt;\n\n&lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n    &lt;property name=\"order\" value=\"1\" /&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n            &lt;!-- Default converters --&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.FormHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.ByteArrayHttpMessageConverter\" /&gt;\n            &lt;bean class=\"org.springframework.http.converter.xml.SourceHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.BufferedImageHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\" /&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"hibernateTransactionManager\" /&gt;\n\n&lt;bean id=\"jspViewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n        value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/view/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/bean&gt; \n\n&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${database.driver}\" /&gt;\n    &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n    &lt;property name=\"username\" value=\"${database.user}\" /&gt;\n    &lt;property name=\"password\" value=\"${database.password}\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.kratin.domain.User&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"hibernateTransactionManager\"\n    class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p></p>\n\n<p>spring-security.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:security=\"http://www.springframework.org/schema/security\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/security \n        http://www.springframework.org/schema/security/spring-security-3.0.xsd\"&gt;\n\n&lt;!-- This is where we configure Spring-Security  --&gt;\n&lt;security:http auto-config=\"true\" use-expressions=\"true\" access-denied-page=\"/rest/auth/denied\" &gt;\n\n    &lt;security:intercept-url pattern=\"/rest/auth/login\" access=\"permitAll\"/&gt;\n    &lt;security:intercept-url pattern=\"/rest/main/admin\" access=\"hasRole('ROLE_ADMIN')\"/&gt;\n    &lt;security:intercept-url pattern=\"/rest/main/common\" access=\"hasRole('ROLE_USER')\"/&gt;\n\n    &lt;!-- Adding the openid-login tag activates Spring Security's support for OpenID  --&gt;\n    &lt;security:openid-login\n            login-page=\"/rest/auth/login\" \n            authentication-failure-url=\"/rest/auth/login?error=true\" \n            default-target-url=\"/rest/main/common\"/&gt;\n\n    &lt;security:logout \n            invalidate-session=\"true\" \n            logout-success-url=\"/rest/auth/login\" \n            logout-url=\"/rest/auth/logout\"/&gt;\n\n&lt;/security:http&gt;\n\n&lt;!-- Declare an authentication-manager to use a custom userDetailsService --&gt;\n&lt;security:authentication-manager&gt;\n        &lt;security:authentication-provider user-service-ref=\"userDetailsService\"&gt;\n                &lt;security:password-encoder ref=\"passwordEncoder\"/&gt;\n        &lt;/security:authentication-provider&gt;\n&lt;/security:authentication-manager&gt;\n\n&lt;!-- Use a Md5 encoder since the user's passwords are stored as Md5 in the database --&gt;\n&lt;bean class=\"org.springframework.security.authentication.encoding.Md5PasswordEncoder\" id=\"passwordEncoder\"/&gt;\n\n &lt;!-- An in-memory list of users. No need to access an external database layer.\n        See Spring Security 3.1 Reference 5.2.1 In-Memory Authentication --&gt;\n &lt;security:user-service id=\"userDetailsService\"&gt;\n    &lt;!-- user name is based on the returned OpenID identifier from Google --&gt;\n    &lt;security:user name=\"https://www.google.com/accounts/o8/id?id=AItxxioJSDLFJLjxcksdfjOpAASDFosSSoJ0E\" \n                        password=\"\" authorities=\"ROLE_USER, ROLE_ADMIN\" /&gt;\n &lt;/security:user-service&gt;\n</code></pre>\n\n<p></p>\n\n<p>applicationContext.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/mvc \n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n\n&lt;!-- Activates various annotations to be detected in bean classes --&gt;\n&lt;context:annotation-config /&gt;\n\n&lt;!-- Scans the classpath for annotated components that will be auto-registered as Spring beans.\n For example @Controller and @Service. Make sure to set the correct base-package--&gt;\n&lt;context:component-scan base-package=\"com.kratin\" /&gt;\n\n&lt;!-- Configures the annotation-driven Spring MVC Controller programming model.\nNote that, with Spring 3.0, this tag works in Servlet MVC only!  --&gt;\n&lt;mvc:annotation-driven /&gt; \n</code></pre>\n\n<p></p>\n"},{"tags":["java","spring-boot","dockerfile","kubernetes-deployment"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1692914105,"post_id":76973119,"comment_id":135693113,"body_markdown":"Are you in a position to change the artifact in the image, or even the entrypoints.sh (or equivalent) script?  I would want to not put this in as a runtime parameter directly unless it could be explicitly controlled by Spring Boot, and not the JRE.","body":"Are you in a position to change the artifact in the image, or even the entrypoints.sh (or equivalent) script?  I would want to not put this in as a runtime parameter directly unless it could be explicitly controlled by Spring Boot, and not the JRE."}],"owner":{"account_id":7598171,"reputation":21,"user_id":5763710,"display_name":"Kaustubh Hande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692913852,"creation_date":1692913852,"question_id":76973119,"body_markdown":"I have a Java/Spring Boot application which is being deployed on K8s Cluster; containerized via Docker.\r\nI&#39;m using Google JIB plugin to create the Docker Image.\r\n\r\nWhile running a Spring Boot app as JAR we can pass JDK parameters along as\r\n`java -jar -Djdk.httpclient.keepalive.timeout=120 &lt;JARName&gt;`.\r\n\r\nI wanted to know if there is a way to pass the same JDK parameter to a Deployment in Kubernetes. ?\r\nHere are current ENV variable on Deployment.yaml file\r\n\r\n \r\n\r\n    containers:\r\n            - name: {{ .Chart.Name }}\r\n              securityContext:\r\n                {{- toYaml .Values.securityContext | nindent 12 }}\r\n              image: &quot;{{ .Values.image.repository }}:{{ .Values.image.tag | default .Chart.AppVersion }}&quot;\r\n              imagePullPolicy: {{ .Values.image.pullPolicy }}\r\n              ports:\r\n                - name: http\r\n                  containerPort: 8080\r\n                  protocol: TCP\r\n              env:\r\n                - name: SERVER_PORT\r\n                  value: &quot;8080&quot;\r\n                - name: SPRING_PROFILES_ACTIVE\r\n                  value: {{ .Values.profile.active }}\r\n                - name: TZ\r\n                  value: America/New_York\r\n\r\nThanks","title":"Java Parameters on Kubernetes Deployment","body":"<p>I have a Java/Spring Boot application which is being deployed on K8s Cluster; containerized via Docker.\nI'm using Google JIB plugin to create the Docker Image.</p>\n<p>While running a Spring Boot app as JAR we can pass JDK parameters along as\n<code>java -jar -Djdk.httpclient.keepalive.timeout=120 &lt;JARName&gt;</code>.</p>\n<p>I wanted to know if there is a way to pass the same JDK parameter to a Deployment in Kubernetes. ?\nHere are current ENV variable on Deployment.yaml file</p>\n<pre><code>containers:\n        - name: {{ .Chart.Name }}\n          securityContext:\n            {{- toYaml .Values.securityContext | nindent 12 }}\n          image: &quot;{{ .Values.image.repository }}:{{ .Values.image.tag | default .Chart.AppVersion }}&quot;\n          imagePullPolicy: {{ .Values.image.pullPolicy }}\n          ports:\n            - name: http\n              containerPort: 8080\n              protocol: TCP\n          env:\n            - name: SERVER_PORT\n              value: &quot;8080&quot;\n            - name: SPRING_PROFILES_ACTIVE\n              value: {{ .Values.profile.active }}\n            - name: TZ\n              value: America/New_York\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","json","jackson","jackson-modules"],"answers":[{"tags":[],"owner":{"account_id":5412901,"reputation":1535,"user_id":4309039,"display_name":"Nithish Thomas"},"down_vote_count":3,"up_vote_count":48,"is_accepted":false,"score":45,"last_activity_date":1590487475,"creation_date":1472041592,"answer_id":39123304,"question_id":39123030,"body_markdown":"You need to add the annotation `@JsonProperty` specifying the name of the json property that needs to be passed to the constructor when creating the object.\r\n\r\n\r\n    public class Cruise extends WaterVehicle {\r\n    \r\n     private Integer maxSpeed;\r\n    \r\n      @JsonCreator\r\n      public Cruise(@JsonProperty(&quot;name&quot;) String name, @JsonProperty(&quot;maxSpeed&quot;)Integer maxSpeed) {\r\n        super(name);\r\n        System.out.println(&quot;Cruise.Cruise&quot;);\r\n        this.maxSpeed = maxSpeed;\r\n      }\r\n    \r\n      public Integer getMaxSpeed() {\r\n        return maxSpeed;\r\n      }\r\n    \r\n      public void setMaxSpeed(Integer maxSpeed) {\r\n        this.maxSpeed = maxSpeed;\r\n      }\r\n    \r\n    }\r\n\r\n**EDIT**\r\n\r\nI just tested using the below code and it works for me\r\n\r\n\r\n    \r\n\r\n    import java.io.IOException;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonCreator.Mode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import com.fasterxml.jackson.module.paramnames.ParameterNamesModule;\r\n     \r\n    class WaterVehicle {\r\n    \r\n    \tprivate String name;\r\n    \tprivate int capacity;\r\n    \tprivate String inventor;\r\n    \tpublic WaterVehicle(String name) {\r\n    \t\tthis.name=name;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic int getCapacity() {\r\n    \t\treturn capacity;\r\n    \t}\r\n    \tpublic void setCapacity(int capacity) {\r\n    \t\tthis.capacity = capacity;\r\n    \t}\r\n    \tpublic String getInventor() {\r\n    \t\treturn inventor;\r\n    \t}\r\n    \tpublic void setInventor(String inventor) {\r\n    \t\tthis.inventor = inventor;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n    \r\n     class Cruise  extends WaterVehicle{\r\n    \r\n    \t\tprivate Integer maxSpeed;\r\n    \r\n    \t\tpublic Cruise(String name, Integer maxSpeed) {\r\n    \t\t\tsuper(name);\r\n    \t\t\tthis.maxSpeed = maxSpeed;\r\n    \t\t}\r\n    \r\n    \t\tpublic Integer getMaxSpeed() {\r\n    \t\t\treturn maxSpeed;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setMaxSpeed(Integer maxSpeed) {\r\n    \t\t\tthis.maxSpeed = maxSpeed;\r\n    \t\t}\r\n    \r\n    \r\n    \t}\r\n    \r\n    public class Test {\r\n    \t  public static void main(String[] args) throws IOException {\r\n    \t    Cruise cruise = new Cruise(&quot;asd&quot;, 100);\r\n    \t    cruise.setMaxSpeed(100);\r\n    \t    cruise.setCapacity(123);\r\n    \t    cruise.setInventor(&quot;afoaisf&quot;);\r\n    \r\n    \t    ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\r\n    \t    mapper.registerModule(new ParameterNamesModule(Mode.PROPERTIES));\r\n    \r\n            String jsonString = mapper.writeValueAsString( cruise);\r\n            System.out.println(jsonString);\r\n            \r\n            Cruise anotherCruise = mapper.readValue(jsonString, Cruise.class);\r\n             System.out.println(anotherCruise );\r\n             jsonString = mapper.writeValueAsString( anotherCruise );\r\n             System.out.println(jsonString);\r\n    \r\n    \t}\r\n    \t  \r\n    }\r\n\r\n\r\nIt produces the following output\r\n\r\n    {\r\n      &quot;name&quot; : &quot;asd&quot;,\r\n      &quot;capacity&quot; : 123,\r\n      &quot;inventor&quot; : &quot;afoaisf&quot;,\r\n      &quot;maxSpeed&quot; : 100\r\n    }\r\n    Cruise@56f4468b\r\n    {\r\n      &quot;name&quot; : &quot;asd&quot;,\r\n      &quot;capacity&quot; : 123,\r\n      &quot;inventor&quot; : &quot;afoaisf&quot;,\r\n      &quot;maxSpeed&quot; : 100\r\n    }\r\n\r\n\r\n\r\nMake sure you have the compilerArgs in the pom file.\r\n\r\n    &lt;compilerArgs&gt;\r\n         &lt;arg&gt;-parameters&lt;/arg&gt;\r\n    &lt;/compilerArgs&gt;","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>You need to add the annotation <code>@JsonProperty</code> specifying the name of the json property that needs to be passed to the constructor when creating the object.</p>\n\n<pre><code>public class Cruise extends WaterVehicle {\n\n private Integer maxSpeed;\n\n  @JsonCreator\n  public Cruise(@JsonProperty(\"name\") String name, @JsonProperty(\"maxSpeed\")Integer maxSpeed) {\n    super(name);\n    System.out.println(\"Cruise.Cruise\");\n    this.maxSpeed = maxSpeed;\n  }\n\n  public Integer getMaxSpeed() {\n    return maxSpeed;\n  }\n\n  public void setMaxSpeed(Integer maxSpeed) {\n    this.maxSpeed = maxSpeed;\n  }\n\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I just tested using the below code and it works for me</p>\n\n<pre><code>import java.io.IOException;\n\nimport com.fasterxml.jackson.annotation.JsonCreator.Mode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.module.paramnames.ParameterNamesModule;\n\nclass WaterVehicle {\n\n    private String name;\n    private int capacity;\n    private String inventor;\n    public WaterVehicle(String name) {\n        this.name=name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getCapacity() {\n        return capacity;\n    }\n    public void setCapacity(int capacity) {\n        this.capacity = capacity;\n    }\n    public String getInventor() {\n        return inventor;\n    }\n    public void setInventor(String inventor) {\n        this.inventor = inventor;\n    }\n\n\n}\n\n class Cruise  extends WaterVehicle{\n\n        private Integer maxSpeed;\n\n        public Cruise(String name, Integer maxSpeed) {\n            super(name);\n            this.maxSpeed = maxSpeed;\n        }\n\n        public Integer getMaxSpeed() {\n            return maxSpeed;\n        }\n\n        public void setMaxSpeed(Integer maxSpeed) {\n            this.maxSpeed = maxSpeed;\n        }\n\n\n    }\n\npublic class Test {\n      public static void main(String[] args) throws IOException {\n        Cruise cruise = new Cruise(\"asd\", 100);\n        cruise.setMaxSpeed(100);\n        cruise.setCapacity(123);\n        cruise.setInventor(\"afoaisf\");\n\n        ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\n        mapper.registerModule(new ParameterNamesModule(Mode.PROPERTIES));\n\n        String jsonString = mapper.writeValueAsString( cruise);\n        System.out.println(jsonString);\n\n        Cruise anotherCruise = mapper.readValue(jsonString, Cruise.class);\n         System.out.println(anotherCruise );\n         jsonString = mapper.writeValueAsString( anotherCruise );\n         System.out.println(jsonString);\n\n    }\n\n}\n</code></pre>\n\n<p>It produces the following output</p>\n\n<pre><code>{\n  \"name\" : \"asd\",\n  \"capacity\" : 123,\n  \"inventor\" : \"afoaisf\",\n  \"maxSpeed\" : 100\n}\nCruise@56f4468b\n{\n  \"name\" : \"asd\",\n  \"capacity\" : 123,\n  \"inventor\" : \"afoaisf\",\n  \"maxSpeed\" : 100\n}\n</code></pre>\n\n<p>Make sure you have the compilerArgs in the pom file.</p>\n\n<pre><code>&lt;compilerArgs&gt;\n     &lt;arg&gt;-parameters&lt;/arg&gt;\n&lt;/compilerArgs&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1075584,"reputation":2976,"user_id":1073826,"accept_rate":100,"display_name":"Jon Peterson"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1472044920,"creation_date":1472044920,"answer_id":39124554,"question_id":39123030,"body_markdown":"Short answer: use Java 8, `javac -parameters`, and [jackson-module-parameter-names][1]\r\n\r\nLong answer: [Why when a constructor is annotated with @JsonCreator, its arguments must be annotated with @JsonProperty?][2]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-module-parameter-names\r\n  [2]: https://stackoverflow.com/a/33578478/1073826","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>Short answer: use Java 8, <code>javac -parameters</code>, and <a href=\"https://github.com/FasterXML/jackson-module-parameter-names\" rel=\"noreferrer\">jackson-module-parameter-names</a></p>\n\n<p>Long answer: <a href=\"https://stackoverflow.com/a/33578478/1073826\">Why when a constructor is annotated with @JsonCreator, its arguments must be annotated with @JsonProperty?</a></p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1546838507,"creation_date":1546838507,"answer_id":54068906,"question_id":39123030,"body_markdown":"`@JsonCreator` is not required after having `@JsonProperty(&quot;xxx&quot;)` in the parameter","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p><code>@JsonCreator</code> is not required after having <code>@JsonProperty(\"xxx\")</code> in the parameter</p>\n"},{"tags":[],"owner":{"account_id":4685065,"reputation":485,"user_id":3792674,"display_name":"Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632902019,"creation_date":1632902019,"answer_id":69372474,"question_id":39123030,"body_markdown":"**If you have nested inner class make it static**\r\n\r\n   \r\n\r\n    public class A{\r\n        private int property1;\r\n        public static class B{\r\n            private String property2;\r\n        }\r\n    }","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p><strong>If you have nested inner class make it static</strong></p>\n<pre><code>public class A{\n    private int property1;\n    public static class B{\n        private String property2;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6673002,"reputation":1,"user_id":5148604,"display_name":"Owais Kazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669666904,"creation_date":1669666852,"answer_id":74606071,"question_id":39123030,"body_markdown":"Registering the below modules helped:\r\n\r\n`JavaTimeModule` was required for my use case\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.registerModule(new GuavaModule());\r\n        mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE, JsonTypeInfo.As.PROPERTY);\r\n        mapper.configure(MapperFeature.USE_GETTERS_AS_SETTERS, false);\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>Registering the below modules helped:</p>\n<p><code>JavaTimeModule</code> was required for my use case</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new JavaTimeModule());\n    mapper.registerModule(new GuavaModule());\n    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE, JsonTypeInfo.As.PROPERTY);\n    mapper.configure(MapperFeature.USE_GETTERS_AS_SETTERS, false);\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17833477,"reputation":1,"user_id":12952985,"display_name":"Kalkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692912888,"creation_date":1692912822,"answer_id":76973042,"question_id":39123030,"body_markdown":"Try to register ```ParameterNamesModule``` in ObjectMapper.\r\n\r\nIt works for me:\r\n``` \r\nobjectMapper.registerModule(new ParameterNamesModule());\r\n```","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>Try to register <code>ParameterNamesModule</code> in ObjectMapper.</p>\n<p>It works for me:</p>\n<pre><code>objectMapper.registerModule(new ParameterNamesModule());\n</code></pre>\n"}],"owner":{"account_id":3975925,"reputation":721,"user_id":3279117,"accept_rate":50,"display_name":"pedrostanaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90186,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":6,"score":35,"last_activity_date":1692912888,"creation_date":1472040839,"question_id":39123030,"body_markdown":"I&#39;ve been using FasterXML/Jackson-Databind in my project for a while now, and all was working great, until I&#39;ve discovered this [post][1] and started to use this approach to desserialize objects without the @JsonProperty annotations.\r\n\r\nThe problem is that when I have a constructor which take multiple parameters and decorate this constructor with the @JsonCreator annotation Jackson throw the following error: \r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.JsonMappingException: \r\n    Argument #0 of constructor [constructor for com.eliti.model.Cruiser, annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\r\n     at [Source: {\r\n      &quot;class&quot; : &quot;com.eliti.model.Cruiser&quot;,\r\n      &quot;inventor&quot; : &quot;afoaisf&quot;,\r\n      &quot;type&quot; : &quot;MeansTransport&quot;,\r\n      &quot;capacity&quot; : 123,\r\n      &quot;maxSpeed&quot; : 100\r\n    }; line: 1, column: 1]\r\n\r\nI&#39;ve created a [little project][2] to illustrate the problem, the class I&#39;m trying to desserialize is this one:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Cruise extends WaterVehicle {\r\n\r\n     private Integer maxSpeed;\r\n    \r\n      @JsonCreator\r\n      public Cruise(String name, Integer maxSpeed) {\r\n        super(name);\r\n        System.out.println(&quot;Cruise.Cruise&quot;);\r\n        this.maxSpeed = maxSpeed;\r\n      }\r\n    \r\n      public Integer getMaxSpeed() {\r\n        return maxSpeed;\r\n      }\r\n    \r\n      public void setMaxSpeed(Integer maxSpeed) {\r\n        this.maxSpeed = maxSpeed;\r\n      }\r\n    \r\n    }\r\n\r\nAnd the code to desserialize is like this: \r\n\r\n    public class Test {\r\n      public static void main(String[] args) throws IOException {\r\n        Cruise cruise = new Cruise(&quot;asd&quot;, 100);\r\n        cruise.setMaxSpeed(100);\r\n        cruise.setCapacity(123);\r\n        cruise.setInventor(&quot;afoaisf&quot;);\r\n    \r\n        ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\r\n        mapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\r\n    \r\n        String cruiseJson = mapper.writeValueAsString(cruise);\r\n    \r\n        System.out.println(cruiseJson);\r\n    \r\n        System.out.println(mapper.readValue(cruiseJson, Cruise.class));\r\n    \r\n    }\r\n\r\nI already tried to remove the @JsonCreator, but if I do so, the throws the following exception:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.eliti.model.Cruise: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\r\n     at [Source: {\r\n      &quot;class&quot; : &quot;com.eliti.model.Cruise&quot;,\r\n      &quot;inventor&quot; : &quot;afoaisf&quot;,\r\n      &quot;type&quot; : &quot;MeansTransport&quot;,\r\n      &quot;capacity&quot; : 123,\r\n      &quot;maxSpeed&quot; : 100\r\n    }; line: 3, column: 3]\r\n\r\nI have tried to issue a &quot;mvn clean install&quot;, but the problem persists.\r\n\r\n\r\nJust to include some extra information, I&#39;ve researched thoroughly about this problem (GitHub issues, Blog posts, StackOverflow Q&amp;A). Here are some debbuging/investigation that I have been doing on my end:\r\n\r\n### Investigation 1\r\n\r\n**javap -v**  on the generated bytecode give me this:\r\n\r\n     MethodParameters:\r\n          Name                           Flags\r\n          name\r\n          maxSpeed\r\n\r\nWhen talking about the constructor, so I guess that the **-parameters** flag is really being set for javac compiler.\r\n\r\n### Investigation 2\r\n\r\nIf I create a constructor with a single parameter the object gets initialized, but I want/need to use the multiple parameter constructor.\r\n\r\n### Investigation 3\r\n\r\nIf I use the annotation @JsonProperty on each field it works as well, but for my original project it is too much overhead since I have a lot of fields in the constructor (and also it gets very hard to refactor code with annotations).\r\n\r\n\r\nThe question that remain is:\r\n**How can I make Jackson work with multiple parameter constructor without annotations?**\r\n\r\n  [1]: https://manosnikolaidis.wordpress.com/\r\n  [2]: https://github.com/pedro-stanaka/test-error-jackson\r\n","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>I've been using FasterXML/Jackson-Databind in my project for a while now, and all was working great, until I've discovered this <a href=\"https://manosnikolaidis.wordpress.com/\" rel=\"noreferrer\">post</a> and started to use this approach to desserialize objects without the @JsonProperty annotations.</p>\n\n<p>The problem is that when I have a constructor which take multiple parameters and decorate this constructor with the @JsonCreator annotation Jackson throw the following error: </p>\n\n<pre><code>Exception in thread \"main\" com.fasterxml.jackson.databind.JsonMappingException: \nArgument #0 of constructor [constructor for com.eliti.model.Cruiser, annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\n at [Source: {\n  \"class\" : \"com.eliti.model.Cruiser\",\n  \"inventor\" : \"afoaisf\",\n  \"type\" : \"MeansTransport\",\n  \"capacity\" : 123,\n  \"maxSpeed\" : 100\n}; line: 1, column: 1]\n</code></pre>\n\n<p>I've created a <a href=\"https://github.com/pedro-stanaka/test-error-jackson\" rel=\"noreferrer\">little project</a> to illustrate the problem, the class I'm trying to desserialize is this one:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Cruise extends WaterVehicle {\n\n private Integer maxSpeed;\n\n  @JsonCreator\n  public Cruise(String name, Integer maxSpeed) {\n    super(name);\n    System.out.println(\"Cruise.Cruise\");\n    this.maxSpeed = maxSpeed;\n  }\n\n  public Integer getMaxSpeed() {\n    return maxSpeed;\n  }\n\n  public void setMaxSpeed(Integer maxSpeed) {\n    this.maxSpeed = maxSpeed;\n  }\n\n}\n</code></pre>\n\n<p>And the code to desserialize is like this: </p>\n\n<pre><code>public class Test {\n  public static void main(String[] args) throws IOException {\n    Cruise cruise = new Cruise(\"asd\", 100);\n    cruise.setMaxSpeed(100);\n    cruise.setCapacity(123);\n    cruise.setInventor(\"afoaisf\");\n\n    ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\n    mapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\n\n    String cruiseJson = mapper.writeValueAsString(cruise);\n\n    System.out.println(cruiseJson);\n\n    System.out.println(mapper.readValue(cruiseJson, Cruise.class));\n\n}\n</code></pre>\n\n<p>I already tried to remove the @JsonCreator, but if I do so, the throws the following exception:</p>\n\n<pre><code>Exception in thread \"main\" com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.eliti.model.Cruise: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\n at [Source: {\n  \"class\" : \"com.eliti.model.Cruise\",\n  \"inventor\" : \"afoaisf\",\n  \"type\" : \"MeansTransport\",\n  \"capacity\" : 123,\n  \"maxSpeed\" : 100\n}; line: 3, column: 3]\n</code></pre>\n\n<p>I have tried to issue a \"mvn clean install\", but the problem persists.</p>\n\n<p>Just to include some extra information, I've researched thoroughly about this problem (GitHub issues, Blog posts, StackOverflow Q&amp;A). Here are some debbuging/investigation that I have been doing on my end:</p>\n\n<h3>Investigation 1</h3>\n\n<p><strong>javap -v</strong>  on the generated bytecode give me this:</p>\n\n<pre><code> MethodParameters:\n      Name                           Flags\n      name\n      maxSpeed\n</code></pre>\n\n<p>When talking about the constructor, so I guess that the <strong>-parameters</strong> flag is really being set for javac compiler.</p>\n\n<h3>Investigation 2</h3>\n\n<p>If I create a constructor with a single parameter the object gets initialized, but I want/need to use the multiple parameter constructor.</p>\n\n<h3>Investigation 3</h3>\n\n<p>If I use the annotation @JsonProperty on each field it works as well, but for my original project it is too much overhead since I have a lot of fields in the constructor (and also it gets very hard to refactor code with annotations).</p>\n\n<p>The question that remain is:\n<strong>How can I make Jackson work with multiple parameter constructor without annotations?</strong></p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1692875797,"post_id":76967831,"comment_id":135684804,"body_markdown":"You say the code you&#39;ve included works, but there are no details on how exactly you&#39;ve made it run in a container.  Can you [edit] the question to include a [mcve]; for example, your Dockerfile, how you started the container, and what specific URL you&#39;re trying to connect to?","body":"You say the code you&#39;ve included works, but there are no details on how exactly you&#39;ve made it run in a container.  Can you <a href=\"https://stackoverflow.com/posts/76967831/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>; for example, your Dockerfile, how you started the container, and what specific URL you&#39;re trying to connect to?"},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692876617,"post_id":76967831,"comment_id":135684993,"body_markdown":"Can you share your `docker run` command? Probably you&#39;re missing port mapping. It should look like: `docker run -p 8080:8080 yourimage`","body":"Can you share your <code>docker run</code> command? Probably you&#39;re missing port mapping. It should look like: <code>docker run -p 8080:8080 yourimage</code>"},{"owner":{"account_id":23879688,"reputation":31,"user_id":17880537,"display_name":"coderoffuture"},"score":0,"creation_date":1692912563,"post_id":76967831,"comment_id":135692878,"body_markdown":"I added the details you require. And no, I did not miss port mapping.","body":"I added the details you require. And no, I did not miss port mapping."},{"owner":{"account_id":24280282,"reputation":83,"user_id":18226909,"display_name":"Saleh"},"score":0,"creation_date":1692947171,"post_id":76967831,"comment_id":135696431,"body_markdown":"I don&#39;t see any problem but i guess it&#39;s because of your `bridge` network. Remove the networks you defined in your compose file because the services in the compose file are in the same network. Also when you trying to connect to your elasticsearch from your spring app, you don&#39;t need to expose the elasticsearch port. Hope it helps !","body":"I don&#39;t see any problem but i guess it&#39;s because of your <code>bridge</code> network. Remove the networks you defined in your compose file because the services in the compose file are in the same network. Also when you trying to connect to your elasticsearch from your spring app, you don&#39;t need to expose the elasticsearch port. Hope it helps !"}],"owner":{"account_id":23879688,"reputation":31,"user_id":17880537,"display_name":"coderoffuture"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692912522,"creation_date":1692868296,"question_id":76967831,"body_markdown":"I&#39;m doing a little project and I have this controller:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserController {\r\n\r\n    @Value(&quot;${me}&quot;)\r\n    private String name;\r\n\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User user) {\r\n        User created = userService.save(user);\r\n        return new ResponseEntity&lt;&gt;(created, HttpStatus.CREATED);\r\n    }\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/me&quot;)\r\n    public String me() {\r\n        return &quot;hello &quot; + name;\r\n    }\r\n\r\n    @GetMapping(&quot;/{username}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserByUsername(@PathVariable String username) {\r\n        User user = userService.getByUsername(username);\r\n        if (user != null) {\r\n            return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen working in localhost all my endpoints are working fine but when I dockerized it, &quot;/hello&quot; and &quot;/me&quot; endpoints return \r\n\r\n```log\r\n**This localhost page can’t be foundNo webpage was found for the web address: http://localhost:8080/user/hello\r\nHTTP ERROR 404**\r\n```\r\n\r\nWhat&#39;s the reason of it not working?\r\n\r\nEDIT: I&#39;ve been asked to add Dockerfile and here is my Dockerfile and docker-compose.yml:\r\n\r\n```\r\nFROM eclipse-temurin:17-jdk-alpine\r\nARG JAR_FILE=target/*.jar\r\nCOPY ./target/elasticSpring-0.0.1-SNAPSHOT.jar elasticSpring.jar\r\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;/elasticSpring.jar&quot; ]\r\n```\r\n\r\ndocker-compose.yml:\r\n\r\n```\r\nversion: &#39;1&#39;\r\nservices:\r\n  es:\r\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.12\r\n    container_name: es\r\n    ports:\r\n      - 9200:9200\r\n      - 9300:9300\r\n    environment:\r\n      - discovery.type=single-node\r\n    networks:\r\n      - mynet\r\n\r\n  springboot-app:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    container_name: springElastic\r\n    ports:\r\n      - 8080:8080\r\n    environment:\r\n      - spring.elasticsearch.uris=es:9200\r\n      - spring.data.elasticsearch.cluster-nodes=es:9200\r\n    depends_on:\r\n      - es\r\n    networks:\r\n      - mynet\r\n\r\nnetworks:\r\n  mynet:\r\n    driver: bridge\r\n\r\n```\r\n\r\nAnd it works locally but when I start my application with docker-compose.yml endpoints &quot;/user/hello&quot; and &quot;/user/me&quot; says &quot;This localhost page can’t be found&quot; other endpoints work and has no problem.","title":"Spring-Boot Docker This localhost page can’t be found","body":"<p>I'm doing a little project and I have this controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n\n    @Value(&quot;${me}&quot;)\n    private String name;\n\n    private final UserService userService;\n\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User user) {\n        User created = userService.save(user);\n        return new ResponseEntity&lt;&gt;(created, HttpStatus.CREATED);\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n\n    @GetMapping(&quot;/me&quot;)\n    public String me() {\n        return &quot;hello &quot; + name;\n    }\n\n    @GetMapping(&quot;/{username}&quot;)\n    public ResponseEntity&lt;User&gt; getUserByUsername(@PathVariable String username) {\n        User user = userService.getByUsername(username);\n        if (user != null) {\n            return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n<p>When working in localhost all my endpoints are working fine but when I dockerized it, &quot;/hello&quot; and &quot;/me&quot; endpoints return</p>\n<pre><code>**This localhost page can’t be foundNo webpage was found for the web address: http://localhost:8080/user/hello\nHTTP ERROR 404**\n</code></pre>\n<p>What's the reason of it not working?</p>\n<p>EDIT: I've been asked to add Dockerfile and here is my Dockerfile and docker-compose.yml:</p>\n<pre><code>FROM eclipse-temurin:17-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ./target/elasticSpring-0.0.1-SNAPSHOT.jar elasticSpring.jar\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;/elasticSpring.jar&quot; ]\n</code></pre>\n<p>docker-compose.yml:</p>\n<pre><code>version: '1'\nservices:\n  es:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.12\n    container_name: es\n    ports:\n      - 9200:9200\n      - 9300:9300\n    environment:\n      - discovery.type=single-node\n    networks:\n      - mynet\n\n  springboot-app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    container_name: springElastic\n    ports:\n      - 8080:8080\n    environment:\n      - spring.elasticsearch.uris=es:9200\n      - spring.data.elasticsearch.cluster-nodes=es:9200\n    depends_on:\n      - es\n    networks:\n      - mynet\n\nnetworks:\n  mynet:\n    driver: bridge\n\n</code></pre>\n<p>And it works locally but when I start my application with docker-compose.yml endpoints &quot;/user/hello&quot; and &quot;/user/me&quot; says &quot;This localhost page can’t be found&quot; other endpoints work and has no problem.</p>\n"},{"tags":["java","android","webview","webviewclient"],"owner":{"account_id":3470138,"reputation":244,"user_id":2904718,"accept_rate":33,"display_name":"Aristide13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692912514,"creation_date":1692912514,"question_id":76973022,"body_markdown":"I would like to manage a Mega file share homepage with a WebView and a WebViewClient.\r\nThe share URL is of type: https://mega.nz/file/vYFgUQKS#Wnyw--STwQxDNJ7NJN_x2DJbgZmcogn_yRIptbEIX4s\r\n\r\nThe page is displayed correctly in my Webview. This page displays a Download button.\r\nWhen you click on the button, a progress bar appears and the download seems to be done &quot;internally&quot;.\r\nWhen the progress is complete, a save button appears.\r\n\r\nMy Problem: the action on the save button does not result in any method call of my WebViewClient:\r\n```\r\n@Override\r\npublic boolean shouldOverrideUrlLoading(final WebView view, final String url) {\r\n..... }\r\n\r\n```\r\nNor the Download button for that matter. No way to download the file from my WebView.\r\nDo you have an idea on how to proceed?","title":"WebView and Mega (cloud) share page?","body":"<p>I would like to manage a Mega file share homepage with a WebView and a WebViewClient.\nThe share URL is of type: <a href=\"https://mega.nz/file/vYFgUQKS#Wnyw--STwQxDNJ7NJN_x2DJbgZmcogn_yRIptbEIX4s\" rel=\"nofollow noreferrer\">https://mega.nz/file/vYFgUQKS#Wnyw--STwQxDNJ7NJN_x2DJbgZmcogn_yRIptbEIX4s</a></p>\n<p>The page is displayed correctly in my Webview. This page displays a Download button.\nWhen you click on the button, a progress bar appears and the download seems to be done &quot;internally&quot;.\nWhen the progress is complete, a save button appears.</p>\n<p>My Problem: the action on the save button does not result in any method call of my WebViewClient:</p>\n<pre><code>@Override\npublic boolean shouldOverrideUrlLoading(final WebView view, final String url) {\n..... }\n\n</code></pre>\n<p>Nor the Download button for that matter. No way to download the file from my WebView.\nDo you have an idea on how to proceed?</p>\n"},{"tags":["java","android-asynctask","google-cast","google-cast-sdk"],"answers":[{"tags":[],"owner":{"account_id":1507429,"reputation":621,"user_id":1410481,"display_name":"Paul Frank Allan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671649250,"creation_date":1671648852,"answer_id":74880599,"question_id":74866218,"body_markdown":"This doesn&#39;t answer your question directly as to why your app behaves differently than the google cast reference app but you can add OnCompleteListener then set the context:\r\n\r\nKotlin:\r\n\r\n    CastContext.getSharedInstance(this, castExecutor).addOnCompleteListener {\r\n        castContext = it.result\r\n        castContext?.addCastStateListener(this)\r\n    }\r\n\r\nJava:\r\n\r\n    Task task = CastContext.getSharedInstance(this,localExecutor);\r\n    task.addOnCompleteListener(task1 -&gt; mCastContext = (CastContext) task1.getResult());\r\n            \r\n            // or \r\n    \r\n    Task task = CastContext.getSharedInstance(this,localExecutor);\r\n    task.addOnCompleteListener(new OnCompleteListener() {\r\n                @Override\r\n                public void onComplete(@NonNull Task task) {\r\n                    mCastContext = (CastContext)task.getResult();\r\n                }\r\n            });\r\n\r\nI am stuck at the same point (much of today) as yourself trying to figure out why the CastContext.getSharedInstance(this, castExecutor).result gives the &quot;Task is not yet complete&quot; exception in my own app but not the reference app even though I have followed the same steps as far as I can tell.\r\n","title":"How can I resolve Task is not yet complete exception when implementing Google Cast into project?","body":"<p>This doesn't answer your question directly as to why your app behaves differently than the google cast reference app but you can add OnCompleteListener then set the context:</p>\n<p>Kotlin:</p>\n<pre><code>CastContext.getSharedInstance(this, castExecutor).addOnCompleteListener {\n    castContext = it.result\n    castContext?.addCastStateListener(this)\n}\n</code></pre>\n<p>Java:</p>\n<pre><code>Task task = CastContext.getSharedInstance(this,localExecutor);\ntask.addOnCompleteListener(task1 -&gt; mCastContext = (CastContext) task1.getResult());\n        \n        // or \n\nTask task = CastContext.getSharedInstance(this,localExecutor);\ntask.addOnCompleteListener(new OnCompleteListener() {\n            @Override\n            public void onComplete(@NonNull Task task) {\n                mCastContext = (CastContext)task.getResult();\n            }\n        });\n</code></pre>\n<p>I am stuck at the same point (much of today) as yourself trying to figure out why the CastContext.getSharedInstance(this, castExecutor).result gives the &quot;Task is not yet complete&quot; exception in my own app but not the reference app even though I have followed the same steps as far as I can tell.</p>\n"},{"tags":[],"owner":{"account_id":23033210,"reputation":31,"user_id":17152364,"display_name":"Darkryh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692912275,"creation_date":1691783465,"answer_id":76886362,"question_id":74866218,"body_markdown":"It&#39;s not the best option, I guess, but if you want to get the object in the main thread, this works for me. Java Versi&#243;n:\r\n\r\n    public CastContext getCastContext(Context context) {\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        try {\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.N) {\r\n                CompletableFuture&lt;CastContext&gt; castContextFuture = new CompletableFuture&lt;&gt;();\r\n                castContextFuture.complete(CastContext.getSharedInstance(context, executor).getResult());\r\n                return castContextFuture.get();\r\n            }\r\n    \r\n        } catch (Exception e) {\r\n            throw new IllegalStateException(&quot;Error: couldn&#39;t get CastContext&quot;, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\nKotlin Versi&#243;n:\r\n\r\n    fun getCastContext(context: Context) : CastContext {\r\n        val executor = Executors.newSingleThreadExecutor()\r\n        val castContextTask: Task&lt;CastContext&gt; = CastContext.getSharedInstance(context, executor)\r\n    \r\n        return try {\r\n            runBlocking {\r\n                castContextTask.await()\r\n            }\r\n        } catch (e : Exception) {\r\n            throw IllegalStateException(&quot;error couldn&#39;t get CastContext&quot;)\r\n        }\r\n    }","title":"How can I resolve Task is not yet complete exception when implementing Google Cast into project?","body":"<p>It's not the best option, I guess, but if you want to get the object in the main thread, this works for me. Java Versión:</p>\n<pre><code>public CastContext getCastContext(Context context) {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    try {\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.N) {\n            CompletableFuture&lt;CastContext&gt; castContextFuture = new CompletableFuture&lt;&gt;();\n            castContextFuture.complete(CastContext.getSharedInstance(context, executor).getResult());\n            return castContextFuture.get();\n        }\n\n    } catch (Exception e) {\n        throw new IllegalStateException(&quot;Error: couldn't get CastContext&quot;, e);\n    }\n    return null;\n}\n</code></pre>\n<p>Kotlin Versión:</p>\n<pre><code>fun getCastContext(context: Context) : CastContext {\n    val executor = Executors.newSingleThreadExecutor()\n    val castContextTask: Task&lt;CastContext&gt; = CastContext.getSharedInstance(context, executor)\n\n    return try {\n        runBlocking {\n            castContextTask.await()\n        }\n    } catch (e : Exception) {\n        throw IllegalStateException(&quot;error couldn't get CastContext&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27301463,"reputation":11,"user_id":20818151,"display_name":"CDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692912275,"creation_date":1671554557,"question_id":74866218,"body_markdown":"I&#39;ve been working on this for weeks no joke but I&#39;m really stumped at this one part. So I&#39;m in the process of implementing Google Cast into a poorly constructed codebase that I inherited.\r\n\r\nSpecifically, I&#39;m using this source as reference since the codebase was written entirely in Java for some arbitrary reason: https://github.com/googlecast/CastVideos-android\r\n\r\nAnd to be more specific, all I&#39;m trying to do right now is get the \r\n\r\n```\r\nmCastContext = CastContext.getSharedInstance(this,localExecutor).getResult();\r\n``` \r\n\r\nline in VideoBrowserActivity to work in my project. However, I am getting this error when implementing it but not when I run the other project: Unable to start activity ComponentInfo{}: java.lang.IllegalStateException: Task is not yet complete\r\n\r\n\r\nHere are the important parts of my work and the reference file, respectively:\r\n\r\n```\r\npublic class VideoExoPlayerActivity extends BaseActivity implements OnClickHandlerInterface {\r\n\r\n    private ActivityVideoExoPlayerBinding binding;\r\n    private VideoPlayerViewModel viewModel;\r\n\r\n    private String videoUuid;\r\n    private ExoPlayer exoPlayer;\r\n    private DefaultTrackSelector trackSelector;\r\n    private String drmLicenseUrl;\r\n    private String mimeType;\r\n    private Boolean isDashDRM;\r\n\r\n    private AudioManager manager;\r\n    private boolean isScreenLock = false;\r\n    private boolean isShortVideo = false;\r\n    private boolean isRollOverVideoAvailable = false;\r\n    private boolean isRollOverShow = false;\r\n    private boolean isRollOverDismiss = false;\r\n\r\n    private int currentPosition = 0;\r\n    private int continuePosition = -1;\r\n    private List&lt;VideoUuidURLModel&gt; list_url = new ArrayList&lt;&gt;();\r\n    private List&lt;VideoPlayerDataResponse.Data&gt; list_video = new ArrayList&lt;&gt;();\r\n    private PictureInPictureParams.Builder mPictureInPictureParamsBuilder;\r\n\r\n    private CastContext mCastContext;\r\n    private CastSession mCastSession;\r\n    private MediaRouteButton mMediaRouteButton;\r\n    private SessionManager mSessionManager;\r\n    private SessionManagerListener&lt;CastSession&gt; mSessionManagerListener =\r\n            new SessionManagerListenerImpl();\r\n    private Executor localExecutor = Executors.newSingleThreadExecutor();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_video_exo_player);\r\n        viewModel = new ViewModelProvider(this, new CommonFactory&lt;&gt;(this)).get(VideoPlayerViewModel.class);\r\n\r\n        mCastContext = CastContext.getSharedInstance(this, localExecutor).getResult();\r\n\r\n        initView();\r\n        hideStatusBar();\r\n        startService(new Intent(this, HistoryAPIBackgroundService.class));\r\n    }\r\n```\r\n\r\n\r\n```\r\npublic class VideoBrowserActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;VideoBrowserActivity&quot;;\r\n    private CastContext mCastContext;\r\n    private final SessionManagerListener&lt;CastSession&gt; mSessionManagerListener =\r\n            new MySessionManagerListener();\r\n    private CastSession mCastSession;\r\n    private MenuItem mediaRouteMenuItem;\r\n    private MenuItem mQueueMenuItem;\r\n    private Toolbar mToolbar;\r\n    private IntroductoryOverlay mIntroductoryOverlay;\r\n    private CastStateListener mCastStateListener;\r\n    private Executor localExecutor = Executors.newSingleThreadExecutor();\r\n\r\n    private class MySessionManagerListener implements SessionManagerListener&lt;CastSession&gt; {\r\n\r\n        @Override\r\n        public void onSessionEnded(CastSession session, int error) {\r\n            if (session == mCastSession) {\r\n                mCastSession = null;\r\n            }\r\n            invalidateOptionsMenu();\r\n        }\r\n\r\n        @Override\r\n        public void onSessionResumed(CastSession session, boolean wasSuspended) {\r\n            mCastSession = session;\r\n            invalidateOptionsMenu();\r\n        }\r\n\r\n        @Override\r\n        public void onSessionStarted(CastSession session, String sessionId) {\r\n            mCastSession = session;\r\n            invalidateOptionsMenu();\r\n        }\r\n\r\n        @Override\r\n        public void onSessionStarting(CastSession session) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionStartFailed(CastSession session, int error) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionEnding(CastSession session) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionResuming(CastSession session, String sessionId) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionResumeFailed(CastSession session, int error) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionSuspended(CastSession session, int reason) {\r\n        }\r\n    }\r\n\r\n    /*\r\n     * (non-Javadoc)\r\n     * @see android.support.v4.app.FragmentActivity#onCreate(android.os.Bundle)\r\n     */\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.video_browser);\r\n        setupActionBar();\r\n\r\n        mCastStateListener = new CastStateListener() {\r\n            @Override\r\n            public void onCastStateChanged(int newState) {\r\n                if (newState != CastState.NO_DEVICES_AVAILABLE) {\r\n                    showIntroductoryOverlay();\r\n                }\r\n            }\r\n        };\r\n        mCastContext = CastContext.getSharedInstance(this,localExecutor).getResult();\r\n    }\r\n\r\n```\r\n\r\nThere are some things in mine that look to be missing, but I&#39;ve tried implementing everything you can see already and nothing has changed my result. Please ask if you need to see other parts of the code because I have no idea if this problem could be coming from somewhere else. From what I can tell, there are next to no tutorials about implementing this in Java so I&#39;m doing it very blind and it has been very difficult so I really appreciate any help I can get.","title":"How can I resolve Task is not yet complete exception when implementing Google Cast into project?","body":"<p>I've been working on this for weeks no joke but I'm really stumped at this one part. So I'm in the process of implementing Google Cast into a poorly constructed codebase that I inherited.</p>\n<p>Specifically, I'm using this source as reference since the codebase was written entirely in Java for some arbitrary reason: <a href=\"https://github.com/googlecast/CastVideos-android\" rel=\"nofollow noreferrer\">https://github.com/googlecast/CastVideos-android</a></p>\n<p>And to be more specific, all I'm trying to do right now is get the</p>\n<pre><code>mCastContext = CastContext.getSharedInstance(this,localExecutor).getResult();\n</code></pre>\n<p>line in VideoBrowserActivity to work in my project. However, I am getting this error when implementing it but not when I run the other project: Unable to start activity ComponentInfo{}: java.lang.IllegalStateException: Task is not yet complete</p>\n<p>Here are the important parts of my work and the reference file, respectively:</p>\n<pre><code>public class VideoExoPlayerActivity extends BaseActivity implements OnClickHandlerInterface {\n\n    private ActivityVideoExoPlayerBinding binding;\n    private VideoPlayerViewModel viewModel;\n\n    private String videoUuid;\n    private ExoPlayer exoPlayer;\n    private DefaultTrackSelector trackSelector;\n    private String drmLicenseUrl;\n    private String mimeType;\n    private Boolean isDashDRM;\n\n    private AudioManager manager;\n    private boolean isScreenLock = false;\n    private boolean isShortVideo = false;\n    private boolean isRollOverVideoAvailable = false;\n    private boolean isRollOverShow = false;\n    private boolean isRollOverDismiss = false;\n\n    private int currentPosition = 0;\n    private int continuePosition = -1;\n    private List&lt;VideoUuidURLModel&gt; list_url = new ArrayList&lt;&gt;();\n    private List&lt;VideoPlayerDataResponse.Data&gt; list_video = new ArrayList&lt;&gt;();\n    private PictureInPictureParams.Builder mPictureInPictureParamsBuilder;\n\n    private CastContext mCastContext;\n    private CastSession mCastSession;\n    private MediaRouteButton mMediaRouteButton;\n    private SessionManager mSessionManager;\n    private SessionManagerListener&lt;CastSession&gt; mSessionManagerListener =\n            new SessionManagerListenerImpl();\n    private Executor localExecutor = Executors.newSingleThreadExecutor();\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_video_exo_player);\n        viewModel = new ViewModelProvider(this, new CommonFactory&lt;&gt;(this)).get(VideoPlayerViewModel.class);\n\n        mCastContext = CastContext.getSharedInstance(this, localExecutor).getResult();\n\n        initView();\n        hideStatusBar();\n        startService(new Intent(this, HistoryAPIBackgroundService.class));\n    }\n</code></pre>\n<pre><code>public class VideoBrowserActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;VideoBrowserActivity&quot;;\n    private CastContext mCastContext;\n    private final SessionManagerListener&lt;CastSession&gt; mSessionManagerListener =\n            new MySessionManagerListener();\n    private CastSession mCastSession;\n    private MenuItem mediaRouteMenuItem;\n    private MenuItem mQueueMenuItem;\n    private Toolbar mToolbar;\n    private IntroductoryOverlay mIntroductoryOverlay;\n    private CastStateListener mCastStateListener;\n    private Executor localExecutor = Executors.newSingleThreadExecutor();\n\n    private class MySessionManagerListener implements SessionManagerListener&lt;CastSession&gt; {\n\n        @Override\n        public void onSessionEnded(CastSession session, int error) {\n            if (session == mCastSession) {\n                mCastSession = null;\n            }\n            invalidateOptionsMenu();\n        }\n\n        @Override\n        public void onSessionResumed(CastSession session, boolean wasSuspended) {\n            mCastSession = session;\n            invalidateOptionsMenu();\n        }\n\n        @Override\n        public void onSessionStarted(CastSession session, String sessionId) {\n            mCastSession = session;\n            invalidateOptionsMenu();\n        }\n\n        @Override\n        public void onSessionStarting(CastSession session) {\n        }\n\n        @Override\n        public void onSessionStartFailed(CastSession session, int error) {\n        }\n\n        @Override\n        public void onSessionEnding(CastSession session) {\n        }\n\n        @Override\n        public void onSessionResuming(CastSession session, String sessionId) {\n        }\n\n        @Override\n        public void onSessionResumeFailed(CastSession session, int error) {\n        }\n\n        @Override\n        public void onSessionSuspended(CastSession session, int reason) {\n        }\n    }\n\n    /*\n     * (non-Javadoc)\n     * @see android.support.v4.app.FragmentActivity#onCreate(android.os.Bundle)\n     */\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.video_browser);\n        setupActionBar();\n\n        mCastStateListener = new CastStateListener() {\n            @Override\n            public void onCastStateChanged(int newState) {\n                if (newState != CastState.NO_DEVICES_AVAILABLE) {\n                    showIntroductoryOverlay();\n                }\n            }\n        };\n        mCastContext = CastContext.getSharedInstance(this,localExecutor).getResult();\n    }\n\n</code></pre>\n<p>There are some things in mine that look to be missing, but I've tried implementing everything you can see already and nothing has changed my result. Please ask if you need to see other parts of the code because I have no idea if this problem could be coming from somewhere else. From what I can tell, there are next to no tutorials about implementing this in Java so I'm doing it very blind and it has been very difficult so I really appreciate any help I can get.</p>\n"},{"tags":["java","jpa","jdbc","eclipselink","lazy-loading"],"answers":[{"tags":[],"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442836803,"creation_date":1442836425,"answer_id":32694567,"question_id":32694355,"body_markdown":"Pattern &quot;jpa session in view&quot; is Your friend. Basically: during cycle of request You open EntityManager (quite early or on request), dont close in your application code (all lazy element can be fetched) and automate close EM in one of last operations. \r\n\r\nI had identical problem. \r\nPersonally i use Wicket, replace \r\n\r\n    class MyWebRequestCycle extends RequestCycle {\r\n    ... // extract from bigger project\r\n    protected void onEndRequest() {\r\n    \t\tsuper.onEndRequest();\r\n    \t\tif (em != null) {\r\n    \t\t\tif (em instanceof MyEntityManager) {\r\n    \t\t\t\tMyEntityManager em2 = (MyEntityManager) em;\r\n    \t\t\t\tem2.original.close();\r\n    \t\t\t} else\r\n    \t\t\t\tem.close();\r\n    \t\t\tem = null;\r\n    \t\t}\r\n    }\r\n\r\n   }\r\n\r\n`MyEntityManager` is proxy (almost generated in Eclpse) over opened in early stage `EntityManager`. And &#39;if&#39; above is because of start of application,  it is not part of our discussion.\r\n\r\nIn other frameworks in adequate way. It depends on You.\r\n\r\nAnswer has two path: full JEE container (programmers code does nothing to open or close EM) and servlet containers. My answer is for the second.\r\n\r\nRemark: word *session* in this pattern is not web Session or not Session in sense entry parameters of JPA engine. This is only word ;)","title":"JPA + EclipseLink - Lazy Loading with closed EntityManager","body":"<p>Pattern \"jpa session in view\" is Your friend. Basically: during cycle of request You open EntityManager (quite early or on request), dont close in your application code (all lazy element can be fetched) and automate close EM in one of last operations. </p>\n\n<p>I had identical problem. \nPersonally i use Wicket, replace </p>\n\n<pre><code>class MyWebRequestCycle extends RequestCycle {\n... // extract from bigger project\nprotected void onEndRequest() {\n        super.onEndRequest();\n        if (em != null) {\n            if (em instanceof MyEntityManager) {\n                MyEntityManager em2 = (MyEntityManager) em;\n                em2.original.close();\n            } else\n                em.close();\n            em = null;\n        }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><code>MyEntityManager</code> is proxy (almost generated in Eclpse) over opened in early stage <code>EntityManager</code>. And 'if' above is because of start of application,  it is not part of our discussion.</p>\n\n<p>In other frameworks in adequate way. It depends on You.</p>\n\n<p>Answer has two path: full JEE container (programmers code does nothing to open or close EM) and servlet containers. My answer is for the second.</p>\n\n<p>Remark: word <em>session</em> in this pattern is not web Session or not Session in sense entry parameters of JPA engine. This is only word ;)</p>\n"},{"tags":[],"owner":{"account_id":2015994,"reputation":2757,"user_id":1803294,"accept_rate":76,"display_name":"stg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1442836957,"creation_date":1442836957,"answer_id":32694744,"question_id":32694355,"body_markdown":"EclipseLink allows you to access lazy relations, even when the EntityManager has been closed. This behaviour is EclipseLink-specific and not part of the JPA spec. \r\n\r\nYou will get the Exception you are looking for, when the Connection has been closed.\r\n\r\nHowever, EclipseLink is wrapping not-instantiated Lists into `IndirectList`. You are able to check programmatically if the List has been instantiated or not.\r\n\r\n    if(customers instanceof IndirectList) {\r\n        boolean foo = ((IndirectList) customers).isInstantiated();\r\n        // ... \r\n    }\r\n\r\nSee also:\r\n\r\n- https://community.oracle.com/message/1708796\r\n- https://eclipse.org/eclipselink/api/2.0/org/eclipse/persistence/indirection/IndirectList.html\r\n","title":"JPA + EclipseLink - Lazy Loading with closed EntityManager","body":"<p>EclipseLink allows you to access lazy relations, even when the EntityManager has been closed. This behaviour is EclipseLink-specific and not part of the JPA spec. </p>\n\n<p>You will get the Exception you are looking for, when the Connection has been closed.</p>\n\n<p>However, EclipseLink is wrapping not-instantiated Lists into <code>IndirectList</code>. You are able to check programmatically if the List has been instantiated or not.</p>\n\n<pre><code>if(customers instanceof IndirectList) {\n    boolean foo = ((IndirectList) customers).isInstantiated();\n    // ... \n}\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://community.oracle.com/message/1708796\" rel=\"nofollow\">https://community.oracle.com/message/1708796</a></li>\n<li><a href=\"https://eclipse.org/eclipselink/api/2.0/org/eclipse/persistence/indirection/IndirectList.html\" rel=\"nofollow\">https://eclipse.org/eclipselink/api/2.0/org/eclipse/persistence/indirection/IndirectList.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13250549,"reputation":31,"user_id":9568167,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692912099,"creation_date":1692912099,"answer_id":76973000,"question_id":32694355,"body_markdown":"There seems to be no setting for that, but you could clear the session explicitly after detaching the entity: `((FetchGroupTracker)entity)._persistence_setSession(null)`.\r\n\r\nSee also &lt;https://github.com/eclipse-ee4j/eclipselink/blob/7dfeab504e7b0042e6330315297bed0e6739cc95/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/queries/FetchGroup.java#L165&gt; regarding how this is implemented.","title":"JPA + EclipseLink - Lazy Loading with closed EntityManager","body":"<p>There seems to be no setting for that, but you could clear the session explicitly after detaching the entity: <code>((FetchGroupTracker)entity)._persistence_setSession(null)</code>.</p>\n<p>See also <a href=\"https://github.com/eclipse-ee4j/eclipselink/blob/7dfeab504e7b0042e6330315297bed0e6739cc95/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/queries/FetchGroup.java#L165\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/eclipselink/blob/7dfeab504e7b0042e6330315297bed0e6739cc95/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/queries/FetchGroup.java#L165</a> regarding how this is implemented.</p>\n"}],"owner":{"account_id":6978328,"reputation":31,"user_id":5352282,"display_name":"Rodolpho Couto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692912099,"creation_date":1442835761,"question_id":32694355,"body_markdown":"I&#39;m using EclipseLink as JPA provider in a Java SE project. I have properly configured the weaving to allow the Lazy Loading.\r\n\r\nUnlike Hibernate (which throws LazyInitializationException), EclipseLink can get a proxy of LAZY relationship, even with a closed EntityManager. To run this query, it gets a new connection from the pool.\r\n\r\nIs there some setting that disables or changes the behavior of this feature? I need to get a null value or an exception when trying to access an unloaded attribute, such as Hibernate does.\r\n\r\nExample:\r\n\r\n    List&lt;Customer&gt; customers = entityManager.createQuery(&quot;from Customer c&quot;, Customer.class).getResultList();\r\n    entityManager.close(); // Closing the EntityManager\r\n    \r\n    for (Customer customer: customers) {\r\n        customer.getAddress(); // Here EclipseLink executes a query to get the relationship.\r\n    }\r\n\r\n\r\nThanks.","title":"JPA + EclipseLink - Lazy Loading with closed EntityManager","body":"<p>I'm using EclipseLink as JPA provider in a Java SE project. I have properly configured the weaving to allow the Lazy Loading.</p>\n\n<p>Unlike Hibernate (which throws LazyInitializationException), EclipseLink can get a proxy of LAZY relationship, even with a closed EntityManager. To run this query, it gets a new connection from the pool.</p>\n\n<p>Is there some setting that disables or changes the behavior of this feature? I need to get a null value or an exception when trying to access an unloaded attribute, such as Hibernate does.</p>\n\n<p>Example:</p>\n\n<pre><code>List&lt;Customer&gt; customers = entityManager.createQuery(\"from Customer c\", Customer.class).getResultList();\nentityManager.close(); // Closing the EntityManager\n\nfor (Customer customer: customers) {\n    customer.getAddress(); // Here EclipseLink executes a query to get the relationship.\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","google-cloud-firestore","viewmodel","android-spinner"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1692947858,"post_id":76972893,"comment_id":135696573,"body_markdown":"What exactly is not efficient? Since you&#39;re using java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"What exactly is not efficient? Since you&#39;re using java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":24218154,"reputation":11,"user_id":18173724,"display_name":"Limbo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692910656,"creation_date":1692910656,"question_id":76972893,"body_markdown":"I&#39;m encountering an issue with the interaction between a spinner, ViewModel/Repository, and Firestore in my Android app. \r\n\r\nI have a currency Spinner in my Account Fragment, whenever a user signs in I want to set the position of the spinner to the stored currency in their Firestore User Document. \r\n\r\nThe problem occurs because when I redirect the user back to the account fragment I try to fetch the currency from my ViewModel/Repository, but since the Spinner was &quot;changed&quot; because of the previous value stored in the SharedPreferences (signed out users), the currency in the ViewModel is updated to that value, therefore updating the value in the User&#39;s Document. The outcome I was expecting was: user signs in; check the database and compare the value with the current MutableLiveData, if they are different use the stored currency from Firestore; update the Spinner&#39;s position to match that new currency (if the MutableLiveData currency is equal to the one in Firestore leave as it is).\r\n\r\nAlso, when there&#39;s a guest user or if the user remains signed in the currency is handled correctly. I&#39;m only facing this issue when a user signs in and the local currency differs from the remote one.\r\n\r\nAccountFragment:\r\n\r\n    public class AccountFragment extends Fragment implements View.OnClickListener {\r\n    private FirebaseAuth mAuth;\r\n    private View logged_in_view, logged_out_view;\r\n    private Button sign_in_button, sign_up_button, sign_out_button, change_password_button;\r\n    private SignInButton google_sign_in_button;\r\n    private FirebaseFirestore db;\r\n\r\n    private GoogleSignInClient mGoogleSignInClient;\r\n    private boolean userInteractedWithSpinner = false;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_account, container, false);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        db = FirebaseFirestore.getInstance();\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(requireActivity(), gso);\r\n\r\n        logged_in_view = view.findViewById(R.id.logged_in_view);\r\n        logged_out_view = view.findViewById(R.id.logged_out_view);\r\n        updateUI(mAuth.getCurrentUser());\r\n\r\n        setupSpinner(view.findViewById(R.id.spinnerCurrencyLO));\r\n        setupSpinner(view.findViewById(R.id.spinnerCurrencyLI));\r\n\r\n        sign_in_button = view.findViewById(R.id.signInButton);\r\n        sign_up_button = view.findViewById(R.id.signUpButton);\r\n        sign_out_button = view.findViewById(R.id.signOutButton);\r\n        change_password_button = view.findViewById(R.id.changePasswordButton);\r\n        google_sign_in_button = view.findViewById(R.id.google_sign_in_button);\r\n\r\n        sign_in_button.setOnClickListener(this);\r\n        sign_up_button.setOnClickListener(this);\r\n        sign_out_button.setOnClickListener(this);\r\n        change_password_button.setOnClickListener(this);\r\n        google_sign_in_button.setOnClickListener(this);\r\n\r\n        return view;\r\n    }\r\n\r\n    private void setupSpinner(Spinner spinner_currency) {\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(), R.array.currencies, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner_currency.setAdapter(adapter);\r\n\r\n        CurrencyViewModel currencyVM = new ViewModelProvider(requireActivity()).get(CurrencyViewModel.class);\r\n\r\n        spinner_currency.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                String selectedItem = parent.getItemAtPosition(position).toString();\r\n                Log.d(&quot;Currency&quot;, &quot;Selected Item: &quot; + selectedItem);\r\n\r\n                if (userInteractedWithSpinner)\r\n                    currencyVM.setCurrency(selectedItem);\r\n\r\n                userInteractedWithSpinner = true;\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {}\r\n        });\r\n\r\n        currencyVM.getCurrency(true).observe(getViewLifecycleOwner(), currency -&gt; {\r\n            Log.d(&quot;Currency&quot;, &quot;1st: &quot; + currency);\r\n            int selectedPosition = adapter.getPosition(currency);\r\n            spinner_currency.setSelection(selectedPosition);\r\n        });\r\n    }\r\n\r\nCurrencyRepository:\r\n\r\n    public class CurrencyRepository {\r\n    public MutableLiveData&lt;String&gt; currency = new MutableLiveData&lt;&gt;();\r\n    private final Application application;\r\n\r\n    public CurrencyRepository(Application application) {\r\n        this.application = application;\r\n    }\r\n\r\n    public MutableLiveData&lt;String&gt; getCurrency(boolean force_load) {\r\n        if (currency.getValue() == null || force_load) {\r\n            SharedPreferences sharedPreferences = application.getSharedPreferences(&quot;app_preferences&quot;, Context.MODE_PRIVATE);\r\n            String savedCurrency = sharedPreferences.getString(&quot;selected_currency&quot;, &quot;EUR (€)&quot;);\r\n\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (user != null) {\r\n                FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n                db.collection(&quot;users&quot;).document(user.getUid()).get().addOnSuccessListener(documentSnapshot -&gt; {\r\n                    String database_currency = documentSnapshot.getString(&quot;currency&quot;);\r\n                    Log.d(&quot;Currency&quot;, &quot;From Firestore: &quot; + database_currency);\r\n                    if (!database_currency.equals(this.currency)) {\r\n                        Log.d(&quot;Currency&quot;, &quot;Saved Currency: &quot; + savedCurrency);\r\n                        setCurrency(database_currency);\r\n                    } else\r\n                        setCurrency(savedCurrency);\r\n                });\r\n            } else\r\n                setCurrency(savedCurrency);\r\n        }\r\n        return currency;\r\n    }\r\n\r\n    public void setCurrency(String currency) {\r\n        Log.d(&quot;Currency&quot;, &quot;Setting currency: &quot; + currency);\r\n        this.currency.setValue(currency);\r\n\r\n        SharedPreferences sharedPreferences = application.getSharedPreferences(&quot;app_preferences&quot;, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(&quot;selected_currency&quot;, currency);\r\n        editor.apply();\r\n\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n            db.collection(&quot;users&quot;).document(user.getUid()).update(&quot;currency&quot;, currency);\r\n        }\r\n    }\r\n}\r\n\r\nMainActivity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private CurrencyViewModel currencyVM;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setupNavigation();\r\n\r\n        CurrencyViewModelFactory currencyVM_factory = new CurrencyViewModelFactory(getApplication());\r\n        currencyVM = new ViewModelProvider(this, currencyVM_factory).get(CurrencyViewModel.class);\r\n        currencyVM.getCurrency(false).observe(this, currency -&gt; {});\r\n    }\r\n\r\nThe solution I&#39;ve found was setting a flag &quot;userInteractedWithSpinner&quot; to make sure the ViewModel only gets updated when it&#39;s a user interaction, but I feel that is not the most efficient approach.","title":"Issue with Spinner and ViewModel Interaction in Android","body":"<p>I'm encountering an issue with the interaction between a spinner, ViewModel/Repository, and Firestore in my Android app.</p>\n<p>I have a currency Spinner in my Account Fragment, whenever a user signs in I want to set the position of the spinner to the stored currency in their Firestore User Document.</p>\n<p>The problem occurs because when I redirect the user back to the account fragment I try to fetch the currency from my ViewModel/Repository, but since the Spinner was &quot;changed&quot; because of the previous value stored in the SharedPreferences (signed out users), the currency in the ViewModel is updated to that value, therefore updating the value in the User's Document. The outcome I was expecting was: user signs in; check the database and compare the value with the current MutableLiveData, if they are different use the stored currency from Firestore; update the Spinner's position to match that new currency (if the MutableLiveData currency is equal to the one in Firestore leave as it is).</p>\n<p>Also, when there's a guest user or if the user remains signed in the currency is handled correctly. I'm only facing this issue when a user signs in and the local currency differs from the remote one.</p>\n<p>AccountFragment:</p>\n<pre><code>public class AccountFragment extends Fragment implements View.OnClickListener {\nprivate FirebaseAuth mAuth;\nprivate View logged_in_view, logged_out_view;\nprivate Button sign_in_button, sign_up_button, sign_out_button, change_password_button;\nprivate SignInButton google_sign_in_button;\nprivate FirebaseFirestore db;\n\nprivate GoogleSignInClient mGoogleSignInClient;\nprivate boolean userInteractedWithSpinner = false;\n\n@Nullable\n@Override\npublic View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_account, container, false);\n    mAuth = FirebaseAuth.getInstance();\n    db = FirebaseFirestore.getInstance();\n\n    GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestIdToken(getString(R.string.default_web_client_id))\n            .requestEmail()\n            .build();\n\n    mGoogleSignInClient = GoogleSignIn.getClient(requireActivity(), gso);\n\n    logged_in_view = view.findViewById(R.id.logged_in_view);\n    logged_out_view = view.findViewById(R.id.logged_out_view);\n    updateUI(mAuth.getCurrentUser());\n\n    setupSpinner(view.findViewById(R.id.spinnerCurrencyLO));\n    setupSpinner(view.findViewById(R.id.spinnerCurrencyLI));\n\n    sign_in_button = view.findViewById(R.id.signInButton);\n    sign_up_button = view.findViewById(R.id.signUpButton);\n    sign_out_button = view.findViewById(R.id.signOutButton);\n    change_password_button = view.findViewById(R.id.changePasswordButton);\n    google_sign_in_button = view.findViewById(R.id.google_sign_in_button);\n\n    sign_in_button.setOnClickListener(this);\n    sign_up_button.setOnClickListener(this);\n    sign_out_button.setOnClickListener(this);\n    change_password_button.setOnClickListener(this);\n    google_sign_in_button.setOnClickListener(this);\n\n    return view;\n}\n\nprivate void setupSpinner(Spinner spinner_currency) {\n    ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(), R.array.currencies, android.R.layout.simple_spinner_item);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner_currency.setAdapter(adapter);\n\n    CurrencyViewModel currencyVM = new ViewModelProvider(requireActivity()).get(CurrencyViewModel.class);\n\n    spinner_currency.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            String selectedItem = parent.getItemAtPosition(position).toString();\n            Log.d(&quot;Currency&quot;, &quot;Selected Item: &quot; + selectedItem);\n\n            if (userInteractedWithSpinner)\n                currencyVM.setCurrency(selectedItem);\n\n            userInteractedWithSpinner = true;\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; parent) {}\n    });\n\n    currencyVM.getCurrency(true).observe(getViewLifecycleOwner(), currency -&gt; {\n        Log.d(&quot;Currency&quot;, &quot;1st: &quot; + currency);\n        int selectedPosition = adapter.getPosition(currency);\n        spinner_currency.setSelection(selectedPosition);\n    });\n}\n</code></pre>\n<p>CurrencyRepository:</p>\n<pre><code>public class CurrencyRepository {\npublic MutableLiveData&lt;String&gt; currency = new MutableLiveData&lt;&gt;();\nprivate final Application application;\n\npublic CurrencyRepository(Application application) {\n    this.application = application;\n}\n\npublic MutableLiveData&lt;String&gt; getCurrency(boolean force_load) {\n    if (currency.getValue() == null || force_load) {\n        SharedPreferences sharedPreferences = application.getSharedPreferences(&quot;app_preferences&quot;, Context.MODE_PRIVATE);\n        String savedCurrency = sharedPreferences.getString(&quot;selected_currency&quot;, &quot;EUR (€)&quot;);\n\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        if (user != null) {\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\n            db.collection(&quot;users&quot;).document(user.getUid()).get().addOnSuccessListener(documentSnapshot -&gt; {\n                String database_currency = documentSnapshot.getString(&quot;currency&quot;);\n                Log.d(&quot;Currency&quot;, &quot;From Firestore: &quot; + database_currency);\n                if (!database_currency.equals(this.currency)) {\n                    Log.d(&quot;Currency&quot;, &quot;Saved Currency: &quot; + savedCurrency);\n                    setCurrency(database_currency);\n                } else\n                    setCurrency(savedCurrency);\n            });\n        } else\n            setCurrency(savedCurrency);\n    }\n    return currency;\n}\n\npublic void setCurrency(String currency) {\n    Log.d(&quot;Currency&quot;, &quot;Setting currency: &quot; + currency);\n    this.currency.setValue(currency);\n\n    SharedPreferences sharedPreferences = application.getSharedPreferences(&quot;app_preferences&quot;, Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putString(&quot;selected_currency&quot;, currency);\n    editor.apply();\n\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n    if (user != null) {\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n        db.collection(&quot;users&quot;).document(user.getUid()).update(&quot;currency&quot;, currency);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate CurrencyViewModel currencyVM;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    setupNavigation();\n\n    CurrencyViewModelFactory currencyVM_factory = new CurrencyViewModelFactory(getApplication());\n    currencyVM = new ViewModelProvider(this, currencyVM_factory).get(CurrencyViewModel.class);\n    currencyVM.getCurrency(false).observe(this, currency -&gt; {});\n}\n</code></pre>\n<p>The solution I've found was setting a flag &quot;userInteractedWithSpinner&quot; to make sure the ViewModel only gets updated when it's a user interaction, but I feel that is not the most efficient approach.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692910625,"creation_date":1692910625,"answer_id":76972890,"question_id":76966518,"body_markdown":"I moved the SequenceGenerator to **Customer** id and moved the optional one-to-one relationships from **Customer** to **CustomerIndividual** and **CustomerLegalEntity**.\r\n\r\n \r\n\r\nCustomer:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;id_customer_seq&quot;)\r\n    \t@SequenceGenerator(name = &quot;id_customer_seq&quot;, sequenceName = &quot;id_customer_seq&quot;, allocationSize = 1)\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;fk_customer_type&quot;, nullable = false)\r\n    \tprivate CustomerType customerType;\r\n    \r\n    }\r\n\r\nCustomerIndividual:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_individual&quot;)\r\n    public class CustomerIndividual {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;fk_nationality&quot;, nullable = false)\r\n    \tprivate Integer fkNationality;\r\n    \r\n    \t@Column(name = &quot;fk_residence&quot;, nullable = false)\r\n    \tprivate Long fkResidence;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    \t@JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\r\n    \tprivate SexType sexType;\r\n    \r\n    \t@Column(name = &quot;birth_date&quot;, nullable = false)\r\n    \tprivate LocalDate birthDate;\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;surname&quot;, nullable = false)\r\n    \tprivate String surname;\r\n    \r\n    \t@Column(name = &quot;email&quot;, nullable = false)\r\n    \tprivate String email;\r\n    \r\n    \t@Column(name = &quot;phone_number&quot;, nullable = false)\r\n    \tprivate String phoneNumber;\r\n    \t\r\n    \t@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    \t@JoinColumn(name = &quot;id_customer&quot;)\r\n        @MapsId\r\n    \tprivate Customer customer;\r\n    \t\r\n    }\r\n\r\nCustomerLegalEntity:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_legal_entity&quot;)\r\n    public class CustomerLegalEntity {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;fk_headquarters&quot;, nullable = false)\r\n    \tprivate Long fkHeadquarters;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    \t@JoinColumn(name = &quot;id_customer&quot;)\r\n        @MapsId\r\n    \tprivate Customer customer;\r\n    \t\r\n    }\r\n\r\nOn the service I firstly save the customer, then I set it to the CustomerIndividual and the id of CustomerIndividual is correctly mirroring the id of Customer.\r\n\r\n\tpublic CustomerIndividual save(CustomerIndividual entity) {\r\n\t\tCustomer customer = customerService.saveWithTypeCustomerIndividual();\r\n\t\tentity.setCustomer(customer);\r\n\t\tentity = repository.save(entity);\r\n\t\treturn entity;\r\n\t}","title":"Two optional One-To-One Mapping Hibernate","body":"<p>I moved the SequenceGenerator to <strong>Customer</strong> id and moved the optional one-to-one relationships from <strong>Customer</strong> to <strong>CustomerIndividual</strong> and <strong>CustomerLegalEntity</strong>.</p>\n<p>Customer:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;id_customer_seq&quot;)\n    @SequenceGenerator(name = &quot;id_customer_seq&quot;, sequenceName = &quot;id_customer_seq&quot;, allocationSize = 1)\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;fk_customer_type&quot;, nullable = false)\n    private CustomerType customerType;\n\n}\n</code></pre>\n<p>CustomerIndividual:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_individual&quot;)\npublic class CustomerIndividual {\n\n    @Id\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;fk_nationality&quot;, nullable = false)\n    private Integer fkNationality;\n\n    @Column(name = &quot;fk_residence&quot;, nullable = false)\n    private Long fkResidence;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\n    private SexType sexType;\n\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private LocalDate birthDate;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;surname&quot;, nullable = false)\n    private String surname;\n\n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n\n    @Column(name = &quot;phone_number&quot;, nullable = false)\n    private String phoneNumber;\n    \n    @OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_customer&quot;)\n    @MapsId\n    private Customer customer;\n    \n}\n</code></pre>\n<p>CustomerLegalEntity:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_legal_entity&quot;)\npublic class CustomerLegalEntity {\n\n    @Id\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;fk_headquarters&quot;, nullable = false)\n    private Long fkHeadquarters;\n\n    @NotNull\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_customer&quot;)\n    @MapsId\n    private Customer customer;\n    \n}\n</code></pre>\n<p>On the service I firstly save the customer, then I set it to the CustomerIndividual and the id of CustomerIndividual is correctly mirroring the id of Customer.</p>\n<pre><code>public CustomerIndividual save(CustomerIndividual entity) {\n    Customer customer = customerService.saveWithTypeCustomerIndividual();\n    entity.setCustomer(customer);\n    entity = repository.save(entity);\n    return entity;\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76972890,"answer_count":1,"score":0,"last_activity_date":1692910625,"creation_date":1692856097,"question_id":76966518,"body_markdown":"I&#39;m trying to build a sample project related to bank activities.\r\n\r\nA bank account can be opened by a customer that can be an individual (fiscal person) or a legal entity (enterprise).\r\n\r\nI have created 4 tables:\r\n\r\n- **customer_type**\r\n- **customer**\r\n- **customer_individual**\r\n- **customer_legal_entity**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe idea is that the Customer apart from id, has only a foreign key that map the customer_type.\r\n\r\nWhen a new customer must be saved on db, the pk of the **customer** table (id_customer) value must be set with:\r\n- id_customer_individual if the customer is an individual\r\n- id_customer_legal_entity if the customer is a legal entity\r\n\r\nTo avoid conflicts, id_customer_individual and id_customer_legal_entity uses the same sequence to generate the id value.\r\n\r\nCustomer have **two one-to-one optional relationships** based on the customer_type.\r\n- a one-to-one relationship with customer_individual\r\n- a one-to-one relationship with customer_legal_entity\r\n\r\nCustomerType:\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Entity\r\n    @AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;id_customer_type&quot;, nullable = false))\r\n    @Table(name = &quot;customer_type&quot;)\r\n    public class CustomerType extends TypeEntity {\r\n    \r\n    }\r\n\r\nCustomer:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;fk_customer_type&quot;, nullable = false)\r\n    \tprivate CustomerType customerType;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY, optional = true)\r\n    \t@MapsId\r\n    \tprivate CustomerIndividual customerIndividual;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY, optional = true)\r\n    \t@MapsId\r\n    \tprivate CustomerLegalEntity customerLegalEntity;\r\n    \r\n    }\r\n\r\nCustomerIndividual:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_individual&quot;)\r\n    public class CustomerIndividual {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;id_customer_seq&quot;)\r\n    \t@SequenceGenerator(name = &quot;id_customer_seq&quot;, sequenceName = &quot;id_customer_seq&quot;, allocationSize = 1)\r\n    \t@Column(name = &quot;id_customer_individual&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;fk_nationality&quot;, nullable = false)\r\n    \tprivate Integer fkNationality;\r\n    \r\n    \t@Column(name = &quot;fk_residence&quot;, nullable = false)\r\n    \tprivate Long fkResidence;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    \t@JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\r\n    \tprivate SexType sexType;\r\n    \r\n    \t@Column(name = &quot;birth_date&quot;, nullable = false)\r\n    \tprivate LocalDate birthDate;\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;surname&quot;, nullable = false)\r\n    \tprivate String surname;\r\n    \r\n    \t@Column(name = &quot;email&quot;, nullable = false)\r\n    \tprivate String email;\r\n    \r\n    \t@Column(name = &quot;phone_number&quot;, nullable = false)\r\n    \tprivate String phoneNumber;\r\n    \t\r\n    }\r\n\r\nCustomerLegalEntity:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_legal_entity&quot;)\r\n    public class CustomerLegalEntity {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer_legal_entity&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;fk_headquarters&quot;, nullable = false)\r\n    \tprivate Long fkHeadquarters;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;name&quot;, nullable = false, length = Integer.MAX_VALUE)\r\n    \tprivate String name;\r\n    \r\n    }\r\n\r\nI firstly save a Customer Individual, then I Create a new Customer instance and set the necessary fields.\r\n\r\n    Customer customer = new Customer();\r\n\tcustomer.setCustomerType(customerTypeService.getReferenceById(1));\r\n\tcustomer.setCustomerIndividual(customerIndividual);\r\n\treturn customerRepository.save(customer);\r\n\r\nbut when saving the Customer the following exception is thrown:\r\n\r\n    Caused by: org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property [com.hyperbank.accounts.customer.entity.Customer.customerLegalEntity]\r\n\r\n  [1]: https://i.stack.imgur.com/3Px17.png\r\n","title":"Two optional One-To-One Mapping Hibernate","body":"<p>I'm trying to build a sample project related to bank activities.</p>\n<p>A bank account can be opened by a customer that can be an individual (fiscal person) or a legal entity (enterprise).</p>\n<p>I have created 4 tables:</p>\n<ul>\n<li><strong>customer_type</strong></li>\n<li><strong>customer</strong></li>\n<li><strong>customer_individual</strong></li>\n<li><strong>customer_legal_entity</strong></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/3Px17.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Px17.png\" alt=\"enter image description here\" /></a></p>\n<p>The idea is that the Customer apart from id, has only a foreign key that map the customer_type.</p>\n<p>When a new customer must be saved on db, the pk of the <strong>customer</strong> table (id_customer) value must be set with:</p>\n<ul>\n<li>id_customer_individual if the customer is an individual</li>\n<li>id_customer_legal_entity if the customer is a legal entity</li>\n</ul>\n<p>To avoid conflicts, id_customer_individual and id_customer_legal_entity uses the same sequence to generate the id value.</p>\n<p>Customer have <strong>two one-to-one optional relationships</strong> based on the customer_type.</p>\n<ul>\n<li>a one-to-one relationship with customer_individual</li>\n<li>a one-to-one relationship with customer_legal_entity</li>\n</ul>\n<p>CustomerType:</p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;id_customer_type&quot;, nullable = false))\n@Table(name = &quot;customer_type&quot;)\npublic class CustomerType extends TypeEntity {\n\n}\n</code></pre>\n<p>Customer:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;fk_customer_type&quot;, nullable = false)\n    private CustomerType customerType;\n\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\n    @MapsId\n    private CustomerIndividual customerIndividual;\n\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\n    @MapsId\n    private CustomerLegalEntity customerLegalEntity;\n\n}\n</code></pre>\n<p>CustomerIndividual:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_individual&quot;)\npublic class CustomerIndividual {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;id_customer_seq&quot;)\n    @SequenceGenerator(name = &quot;id_customer_seq&quot;, sequenceName = &quot;id_customer_seq&quot;, allocationSize = 1)\n    @Column(name = &quot;id_customer_individual&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;fk_nationality&quot;, nullable = false)\n    private Integer fkNationality;\n\n    @Column(name = &quot;fk_residence&quot;, nullable = false)\n    private Long fkResidence;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\n    private SexType sexType;\n\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private LocalDate birthDate;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;surname&quot;, nullable = false)\n    private String surname;\n\n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n\n    @Column(name = &quot;phone_number&quot;, nullable = false)\n    private String phoneNumber;\n    \n}\n</code></pre>\n<p>CustomerLegalEntity:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_legal_entity&quot;)\npublic class CustomerLegalEntity {\n\n    @Id\n    @Column(name = &quot;id_customer_legal_entity&quot;, nullable = false)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;fk_headquarters&quot;, nullable = false)\n    private Long fkHeadquarters;\n\n    @NotNull\n    @Column(name = &quot;name&quot;, nullable = false, length = Integer.MAX_VALUE)\n    private String name;\n\n}\n</code></pre>\n<p>I firstly save a Customer Individual, then I Create a new Customer instance and set the necessary fields.</p>\n<pre><code>Customer customer = new Customer();\ncustomer.setCustomerType(customerTypeService.getReferenceById(1));\ncustomer.setCustomerIndividual(customerIndividual);\nreturn customerRepository.save(customer);\n</code></pre>\n<p>but when saving the Customer the following exception is thrown:</p>\n<pre><code>Caused by: org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property [com.hyperbank.accounts.customer.entity.Customer.customerLegalEntity]\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"answers":[{"tags":[],"owner":{"account_id":1467617,"reputation":266,"user_id":1380043,"display_name":"Bipul Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490347723,"creation_date":1490347723,"answer_id":42995757,"question_id":42995684,"body_markdown":"You can create 2 separate workspaces in Eclipse. In each workspaces, you can provide respective settings.xml file","title":"How to manage different maven setting in eclipse for different projects?","body":"<p>You can create 2 separate workspaces in Eclipse. In each workspaces, you can provide respective settings.xml file</p>\n"},{"tags":[],"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1692910070,"creation_date":1490364732,"answer_id":43001725,"question_id":42995684,"body_markdown":"You can try to separate the two projects in **different** _workspaces_ and you can configure **each** _workspace_ with Eclipse. It is possible because _Eclipse saves the configuration within each workspace_. Therefore, for these _workspaces_, is possible specify different and specific repositories according with their Maven `settings.xml` files.\r\n\r\nFor to do that, launch **eclipse &gt; go to preferences &gt; choose maven &gt; User Settings** and click on **&quot;Update Settings&quot;**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**UPDATE:**\r\n\r\nYou should have a structure similar to the following:\r\n\r\n**Workspaces:**\r\n\r\n    /Volumes/Stonehall/juanca/workspace-project-1\r\n    /Volumes/Stonehall/juanca/workspace-project-2\r\n\r\n**Projects:**\r\n\r\n    /Volumes/Stonehall/juanca/workspace-project-1/project-1\r\n    /Volumes/Stonehall/juanca/workspace-project-2/project-2\r\n\r\n**Settings.xml:**\r\n\r\n    /Volumes/Stonehall/juanca/.m2/settings-project-1.xml\r\n    /Volumes/Stonehall/juanca/.m2/settings-project-2.xml\r\n\r\n**Repositories:**\r\n\r\n    /Volumes/Stonehall/juanca/.m2/repository-1\r\n    /Volumes/Stonehall/juanca/.m2/repository-2\r\n\r\nOpen and edit **`settings-project-1.xml`** file. Searchs the **`localRepository`** tag and replace the path, for example:\r\n\r\n    &lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository-1&lt;/localRepository&gt;\r\n\r\nOpen and edit **`settings-project-2.xml`** file. Searchs the **`localRepository`** tag and replace with the other path, for example:\r\n\r\n    &lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository-2&lt;/localRepository&gt;\r\n\r\n*Important: checks that the **`&lt;localRepository&gt;`** tag is not commented for example:*\r\n\r\n      &lt;!-- localRepository\r\n       | The path to the local repository maven will use to store artifacts.\r\n       |\r\n       | Default: ${user.home}/.m2/repository\r\n      &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;\r\n      --&gt;  \r\n      &lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository&lt;/localRepository&gt;\r\n\r\n**Eclipse:**\r\n\r\nOpen the **`workspace-project-1`**, go to **preferences &gt; choose maven &gt; User Settings** and click on **&quot;Update Settings&quot;** and replace with the new path:\r\n\r\n    /Volumes/Stonehall/juanca/.m2/settings-project-1.xml\r\n\r\nThe same way you should do for the **`workspace-project-2`**, open the **`workspace-project-2`** and go to **preferences &gt; choose maven &gt; User Settings** and click on **&quot;Update Settings&quot;** and replace with the other path:\r\n\r\n    /Volumes/Stonehall/juanca/.m2/settings-project-2.xml\r\n\r\nWith this configuration each project should download the dependencies in the differents repositories.\r\n\r\n*This configuration should work, but in case does not work, you should post your settings.xml file and the pom files of both projects, so that we can help you better*\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2hmsE.png\r\n","title":"How to manage different maven setting in eclipse for different projects?","body":"<p>You can try to separate the two projects in <strong>different</strong> <em>workspaces</em> and you can configure <strong>each</strong> <em>workspace</em> with Eclipse. It is possible because <em>Eclipse saves the configuration within each workspace</em>. Therefore, for these <em>workspaces</em>, is possible specify different and specific repositories according with their Maven <code>settings.xml</code> files.</p>\n<p>For to do that, launch <strong>eclipse &gt; go to preferences &gt; choose maven &gt; User Settings</strong> and click on <strong>&quot;Update Settings&quot;</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2hmsE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2hmsE.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>UPDATE:</strong></p>\n<p>You should have a structure similar to the following:</p>\n<p><strong>Workspaces:</strong></p>\n<pre><code>/Volumes/Stonehall/juanca/workspace-project-1\n/Volumes/Stonehall/juanca/workspace-project-2\n</code></pre>\n<p><strong>Projects:</strong></p>\n<pre><code>/Volumes/Stonehall/juanca/workspace-project-1/project-1\n/Volumes/Stonehall/juanca/workspace-project-2/project-2\n</code></pre>\n<p><strong>Settings.xml:</strong></p>\n<pre><code>/Volumes/Stonehall/juanca/.m2/settings-project-1.xml\n/Volumes/Stonehall/juanca/.m2/settings-project-2.xml\n</code></pre>\n<p><strong>Repositories:</strong></p>\n<pre><code>/Volumes/Stonehall/juanca/.m2/repository-1\n/Volumes/Stonehall/juanca/.m2/repository-2\n</code></pre>\n<p>Open and edit <strong><code>settings-project-1.xml</code></strong> file. Searchs the <strong><code>localRepository</code></strong> tag and replace the path, for example:</p>\n<pre><code>&lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository-1&lt;/localRepository&gt;\n</code></pre>\n<p>Open and edit <strong><code>settings-project-2.xml</code></strong> file. Searchs the <strong><code>localRepository</code></strong> tag and replace with the other path, for example:</p>\n<pre><code>&lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository-2&lt;/localRepository&gt;\n</code></pre>\n<p><em>Important: checks that the <strong><code>&lt;localRepository&gt;</code></strong> tag is not commented for example:</em></p>\n<pre><code>  &lt;!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;\n  --&gt;  \n  &lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository&lt;/localRepository&gt;\n</code></pre>\n<p><strong>Eclipse:</strong></p>\n<p>Open the <strong><code>workspace-project-1</code></strong>, go to <strong>preferences &gt; choose maven &gt; User Settings</strong> and click on <strong>&quot;Update Settings&quot;</strong> and replace with the new path:</p>\n<pre><code>/Volumes/Stonehall/juanca/.m2/settings-project-1.xml\n</code></pre>\n<p>The same way you should do for the <strong><code>workspace-project-2</code></strong>, open the <strong><code>workspace-project-2</code></strong> and go to <strong>preferences &gt; choose maven &gt; User Settings</strong> and click on <strong>&quot;Update Settings&quot;</strong> and replace with the other path:</p>\n<pre><code>/Volumes/Stonehall/juanca/.m2/settings-project-2.xml\n</code></pre>\n<p>With this configuration each project should download the dependencies in the differents repositories.</p>\n<p><em>This configuration should work, but in case does not work, you should post your settings.xml file and the pom files of both projects, so that we can help you better</em></p>\n"}],"owner":{"account_id":4868359,"reputation":944,"user_id":3925764,"accept_rate":80,"display_name":"abhinav3414"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11032,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":43001725,"answer_count":2,"score":7,"last_activity_date":1692910070,"creation_date":1490347487,"question_id":42995684,"body_markdown":"I am working on **two different** projects, Both uses different maven `.settings.xml` files.&lt;br&gt;\r\nWhen I switch between the projects, it re downloads all the maven dependencies in repository folder removing previous projects&#39; dependencies.&lt;br&gt;\r\nIs there any way I can use two `settings` and it maintains different repository for both projects. ","title":"How to manage different maven setting in eclipse for different projects?","body":"<p>I am working on <strong>two different</strong> projects, Both uses different maven <code>.settings.xml</code> files.<br>\nWhen I switch between the projects, it re downloads all the maven dependencies in repository folder removing previous projects' dependencies.<br>\nIs there any way I can use two <code>settings</code> and it maintains different repository for both projects. </p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1693080543,"post_id":76972770,"comment_id":135713774,"body_markdown":"Is there any stacktrace printed on your server to indicate more information about the problem?","body":"Is there any stacktrace printed on your server to indicate more information about the problem?"}],"owner":{"account_id":27471195,"reputation":15,"user_id":22442740,"display_name":"я гантеля"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692909374,"creation_date":1692909354,"question_id":76972770,"body_markdown":"Book class fields:\r\n```\r\n    private int id_book;\r\n    @NotEmpty\r\n    @Size(min = 2, max = 120, message = &quot;Name should be between 2 and 120 chars&quot;)\r\n    private String name;\r\n    @NotEmpty\r\n    @Size(min = 2, max = 120, message = &quot;Author should be between 2 and 120 chars&quot;)\r\n    private String author;\r\n    @Min(value=1700, message = &quot;Age in diapason between 1700 and 2023&quot;) @Max(value=2023, message = &quot;Age in diapason between 1700 and 2023&quot;)\r\n    private int year_book;\r\n    private Integer id_person;\r\n```\r\nController:\r\n```\r\n@GetMapping()\r\n    public String index(Model model){\r\n        model.addAttribute(&quot;books&quot;, bookDAO.index());\r\n        return &quot;/books/index&quot;;\r\n    }\r\n```\r\nDAO:\r\n```\r\npublic List index(){\r\n        return jdbcTemplate.query(&quot;SELECT * FROM book&quot;, new BeanPropertyRowMapper&lt;&gt;(Book.class));\r\n    }\r\n```\r\nHTML code:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;Book list&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Book list&lt;/h1&gt;\r\n&lt;div th:each=&quot;book : ${books}&quot;&gt;\r\n  &lt;a th:href=&quot;@{/books/{id}(id=${book.getId_book()})}&quot; th:text=&quot;${book.getName()}&quot;&gt;Name&lt;/a&gt;&lt;/div&gt;\r\n&lt;br/&gt;\r\n&lt;a th:href=&quot;@{/books/new}&quot;&gt;Add new book&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nMy problem: when I have null value in id_person, I have 404 error. When I delete this value, all is good.\r\n[Error](https://i.stack.imgur.com/UniWL.png)\r\n\r\nI tried to swap ints to Integers but there is no result.","title":"Why I have Error 400 or 404 using Spring/Thymeleaf if I have null fields?","body":"<p>Book class fields:</p>\n<pre><code>    private int id_book;\n    @NotEmpty\n    @Size(min = 2, max = 120, message = &quot;Name should be between 2 and 120 chars&quot;)\n    private String name;\n    @NotEmpty\n    @Size(min = 2, max = 120, message = &quot;Author should be between 2 and 120 chars&quot;)\n    private String author;\n    @Min(value=1700, message = &quot;Age in diapason between 1700 and 2023&quot;) @Max(value=2023, message = &quot;Age in diapason between 1700 and 2023&quot;)\n    private int year_book;\n    private Integer id_person;\n</code></pre>\n<p>Controller:</p>\n<pre><code>@GetMapping()\n    public String index(Model model){\n        model.addAttribute(&quot;books&quot;, bookDAO.index());\n        return &quot;/books/index&quot;;\n    }\n</code></pre>\n<p>DAO:</p>\n<pre><code>public List index(){\n        return jdbcTemplate.query(&quot;SELECT * FROM book&quot;, new BeanPropertyRowMapper&lt;&gt;(Book.class));\n    }\n</code></pre>\n<p>HTML code:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Book list&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Book list&lt;/h1&gt;\n&lt;div th:each=&quot;book : ${books}&quot;&gt;\n  &lt;a th:href=&quot;@{/books/{id}(id=${book.getId_book()})}&quot; th:text=&quot;${book.getName()}&quot;&gt;Name&lt;/a&gt;&lt;/div&gt;\n&lt;br/&gt;\n&lt;a th:href=&quot;@{/books/new}&quot;&gt;Add new book&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My problem: when I have null value in id_person, I have 404 error. When I delete this value, all is good.\n<a href=\"https://i.stack.imgur.com/UniWL.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>I tried to swap ints to Integers but there is no result.</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":23064315,"reputation":21,"user_id":17178965,"display_name":"FKhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692909160,"creation_date":1692909160,"answer_id":76972748,"question_id":76972025,"body_markdown":"You will have to make a custom deserializer and then annotate the CustomPageImpl class to tell jackson to use the custom deserializer.\r\n\r\nCustom Deserializer\r\n```\r\npublic class CustomPageDeserializer&lt;T&gt; extends StdDeserializer&lt;CustomPageImpl&lt;T&gt;&gt; {\r\n\r\n    public CustomPageDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public CustomPageDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public CustomPageImpl&lt;T&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\r\n        List&lt;T&gt; content = // Extract content from the node\r\n        int number = // Extract number from the node\r\n        int size = // Extract size from the node\r\n        Long totalElements = // Extract totalElements from the node\r\n        boolean last = // Extract last from the node\r\n        int totalPages = // Extract totalPages from the node\r\n        int numberOfElements = // Extract numberOfElements from the node\r\n\r\n        Pageable pageable = PageRequest.of(number, size);\r\n\r\n        return new CustomPageImpl&lt;&gt;(content, pageable, totalElements);\r\n    }\r\n}\r\n```\r\n\r\nHow to annotate\r\n```\r\n@JsonDeserialize(using = CustomPageDeserializer.class)\r\npublic class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n```\r\n\r\n\r\n","title":"How to consume a REST API using restTemplate that returns an object with Page object within it?","body":"<p>You will have to make a custom deserializer and then annotate the CustomPageImpl class to tell jackson to use the custom deserializer.</p>\n<p>Custom Deserializer</p>\n<pre><code>public class CustomPageDeserializer&lt;T&gt; extends StdDeserializer&lt;CustomPageImpl&lt;T&gt;&gt; {\n\n    public CustomPageDeserializer() {\n        this(null);\n    }\n\n    public CustomPageDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public CustomPageImpl&lt;T&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n\n        List&lt;T&gt; content = // Extract content from the node\n        int number = // Extract number from the node\n        int size = // Extract size from the node\n        Long totalElements = // Extract totalElements from the node\n        boolean last = // Extract last from the node\n        int totalPages = // Extract totalPages from the node\n        int numberOfElements = // Extract numberOfElements from the node\n\n        Pageable pageable = PageRequest.of(number, size);\n\n        return new CustomPageImpl&lt;&gt;(content, pageable, totalElements);\n    }\n}\n</code></pre>\n<p>How to annotate</p>\n<pre><code>@JsonDeserialize(using = CustomPageDeserializer.class)\npublic class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2278326,"reputation":651,"user_id":2004072,"display_name":"Milan Majer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692909287,"creation_date":1692909287,"answer_id":76972762,"question_id":76972025,"body_markdown":"I try this in fresh spring boot 3.1.13 project with success:\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.ApplicationArguments;\r\nimport org.springframework.boot.ApplicationRunner;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n@Service\r\npublic class Autoexec implements ApplicationRunner {\r\n\r\n    private static final String TEST_JSON = &quot;&quot;&quot;\r\n    {\r\n        &quot;reports&quot;: {\r\n            &quot;content&quot;: [\r\n                {\r\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\r\n                    &quot;productValTx&quot;: &quot;000&quot;,\r\n                    &quot;productShrtDescTx&quot;: &quot;NO_ERROR&quot;,\r\n                    &quot;productLongDescTx&quot;: &quot;No Error in response&quot;\r\n                },\r\n                {\r\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\r\n                    &quot;productValTx&quot;: &quot;010&quot;,\r\n                    &quot;productShrtDescTx&quot;: &quot;PRODUCT_ACCEPTED&quot;,\r\n                    &quot;productLongDescTx&quot;: &quot;Product Accepted&quot;\r\n                }\r\n            ],\r\n            &quot;pageable&quot;: {\r\n                &quot;sort&quot;: {\r\n                    &quot;empty&quot;: false,\r\n                    &quot;sorted&quot;: true,\r\n                    &quot;unsorted&quot;: false\r\n                },\r\n                &quot;offset&quot;: 0,\r\n                &quot;pageNumber&quot;: 0,\r\n                &quot;pageSize&quot;: 100,\r\n                &quot;unpaged&quot;: false,\r\n                &quot;paged&quot;: true\r\n            },\r\n            &quot;totalElements&quot;: 321,\r\n            &quot;totalPages&quot;: 4,\r\n            &quot;last&quot;: false,\r\n            &quot;size&quot;: 100,\r\n            &quot;number&quot;: 0,\r\n            &quot;sort&quot;: {\r\n                &quot;empty&quot;: false,\r\n                &quot;sorted&quot;: true,\r\n                &quot;unsorted&quot;: false\r\n            },\r\n            &quot;numberOfElements&quot;: 100,\r\n            &quot;first&quot;: true,\r\n            &quot;empty&quot;: false\r\n        }\r\n    }\r\n    &quot;&quot;&quot;;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public Autoexec(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        final var response = objectMapper.readValue(TEST_JSON, ProductListResponse.class);\r\n        System.err.println(response.getContent());\r\n    }\r\n\r\n    static class ProductListResponse extends Response&lt;List&lt;Product&gt;&gt; {\r\n    }\r\n\r\n    static class Product {\r\n\r\n        public String productCatTx;\r\n        public String productValTx;\r\n        public String productShrtDescTx;\r\n        public String productLongDescTx;\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Product [productCatTx=&quot; + productCatTx + &quot;, productValTx=&quot; + productValTx + &quot;, productShrtDescTx=&quot;\r\n                    + productShrtDescTx + &quot;, productLongDescTx=&quot; + productLongDescTx + &quot;]&quot;;\r\n        }\r\n\r\n    }\r\n\r\n    static class Response&lt;T&gt; {\r\n\r\n        \r\n        private Page&lt;T&gt; page;\r\n\r\n        @JsonAnySetter\r\n        public void setProperty(String name, Page&lt;T&gt; value) {\r\n            page = value;\r\n        }\r\n\r\n        public T getContent() {\r\n            return page == null ? null : page.content;\r\n        }\r\n\r\n    }\r\n\r\n    static class Page&lt;T&gt; {\r\n\r\n        public T content;\r\n\r\n    }\r\n}\r\n```\r\n\r\nYou can add additional attributes to page class, make fields private and add getters/setters, etc.\r\n\r\nResult:\r\n```\r\n[Product [productCatTx=ERROR_product, productValTx=000, productShrtDescTx=NO_ERROR, productLongDescTx=No Error in response], Product [productCatTx=ERROR_product, productValTx=010, productShrtDescTx=PRODUCT_ACCEPTED, productLongDescTx=Product Accepted]]\r\n```","title":"How to consume a REST API using restTemplate that returns an object with Page object within it?","body":"<p>I try this in fresh spring boot 3.1.13 project with success:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.ApplicationArguments;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.stereotype.Service;\n\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Service\npublic class Autoexec implements ApplicationRunner {\n\n    private static final String TEST_JSON = &quot;&quot;&quot;\n    {\n        &quot;reports&quot;: {\n            &quot;content&quot;: [\n                {\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\n                    &quot;productValTx&quot;: &quot;000&quot;,\n                    &quot;productShrtDescTx&quot;: &quot;NO_ERROR&quot;,\n                    &quot;productLongDescTx&quot;: &quot;No Error in response&quot;\n                },\n                {\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\n                    &quot;productValTx&quot;: &quot;010&quot;,\n                    &quot;productShrtDescTx&quot;: &quot;PRODUCT_ACCEPTED&quot;,\n                    &quot;productLongDescTx&quot;: &quot;Product Accepted&quot;\n                }\n            ],\n            &quot;pageable&quot;: {\n                &quot;sort&quot;: {\n                    &quot;empty&quot;: false,\n                    &quot;sorted&quot;: true,\n                    &quot;unsorted&quot;: false\n                },\n                &quot;offset&quot;: 0,\n                &quot;pageNumber&quot;: 0,\n                &quot;pageSize&quot;: 100,\n                &quot;unpaged&quot;: false,\n                &quot;paged&quot;: true\n            },\n            &quot;totalElements&quot;: 321,\n            &quot;totalPages&quot;: 4,\n            &quot;last&quot;: false,\n            &quot;size&quot;: 100,\n            &quot;number&quot;: 0,\n            &quot;sort&quot;: {\n                &quot;empty&quot;: false,\n                &quot;sorted&quot;: true,\n                &quot;unsorted&quot;: false\n            },\n            &quot;numberOfElements&quot;: 100,\n            &quot;first&quot;: true,\n            &quot;empty&quot;: false\n        }\n    }\n    &quot;&quot;&quot;;\n\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public Autoexec(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        final var response = objectMapper.readValue(TEST_JSON, ProductListResponse.class);\n        System.err.println(response.getContent());\n    }\n\n    static class ProductListResponse extends Response&lt;List&lt;Product&gt;&gt; {\n    }\n\n    static class Product {\n\n        public String productCatTx;\n        public String productValTx;\n        public String productShrtDescTx;\n        public String productLongDescTx;\n        \n        @Override\n        public String toString() {\n            return &quot;Product [productCatTx=&quot; + productCatTx + &quot;, productValTx=&quot; + productValTx + &quot;, productShrtDescTx=&quot;\n                    + productShrtDescTx + &quot;, productLongDescTx=&quot; + productLongDescTx + &quot;]&quot;;\n        }\n\n    }\n\n    static class Response&lt;T&gt; {\n\n        \n        private Page&lt;T&gt; page;\n\n        @JsonAnySetter\n        public void setProperty(String name, Page&lt;T&gt; value) {\n            page = value;\n        }\n\n        public T getContent() {\n            return page == null ? null : page.content;\n        }\n\n    }\n\n    static class Page&lt;T&gt; {\n\n        public T content;\n\n    }\n}\n</code></pre>\n<p>You can add additional attributes to page class, make fields private and add getters/setters, etc.</p>\n<p>Result:</p>\n<pre><code>[Product [productCatTx=ERROR_product, productValTx=000, productShrtDescTx=NO_ERROR, productLongDescTx=No Error in response], Product [productCatTx=ERROR_product, productValTx=010, productShrtDescTx=PRODUCT_ACCEPTED, productLongDescTx=Product Accepted]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692909308,"creation_date":1692909308,"answer_id":76972764,"question_id":76972025,"body_markdown":"The stacktrace is telling you that Jackson library can&#39;t create a `org.springframework.data.domain.Page` instance because it has no constructor, and it makes sense because is an interface.\r\n\r\nI think what you actually need is adjust `ReportResponse` to receive a `CustomPageImpl` instance as argument in its constructor. Additionally you could also get rid of inheritance like this:\r\n\r\n```java\r\n@Data\r\n@Builder\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class ReportResponse implements Serializable {\r\n\r\n    private final CustomPageImpl&lt;Product&gt; reportData;\r\n\r\n    @JsonCreator\r\n    public ReportResponse(@JsonProperty(&quot;reports&quot;) CustomPageImpl&lt;Product&gt; reportData) {\r\n        this.reportData = reportData;\r\n    }\r\n\r\n    public CustomPageImpl&lt;Product&gt; getReportData() {\r\n        return this.reportData;\r\n    }\r\n}\r\n```","title":"How to consume a REST API using restTemplate that returns an object with Page object within it?","body":"<p>The stacktrace is telling you that Jackson library can't create a <code>org.springframework.data.domain.Page</code> instance because it has no constructor, and it makes sense because is an interface.</p>\n<p>I think what you actually need is adjust <code>ReportResponse</code> to receive a <code>CustomPageImpl</code> instance as argument in its constructor. Additionally you could also get rid of inheritance like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class ReportResponse implements Serializable {\n\n    private final CustomPageImpl&lt;Product&gt; reportData;\n\n    @JsonCreator\n    public ReportResponse(@JsonProperty(&quot;reports&quot;) CustomPageImpl&lt;Product&gt; reportData) {\n        this.reportData = reportData;\n    }\n\n    public CustomPageImpl&lt;Product&gt; getReportData() {\n        return this.reportData;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76972764,"answer_count":3,"score":0,"last_activity_date":1692909308,"creation_date":1692901384,"question_id":76972025,"body_markdown":"**API request and response:**\r\n\r\n**Request:** `http://localhost:5555/api/products?page=1&amp;size=100`\r\n\r\n**Response:**\r\n\r\n    {\r\n        &quot;reports&quot;: {\r\n            &quot;content&quot;: [\r\n                {\r\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\r\n                    &quot;productValTx&quot;: &quot;000&quot;,\r\n                    &quot;productShrtDescTx&quot;: &quot;NO_ERROR&quot;,\r\n                    &quot;productLongDescTx&quot;: &quot;No Error in response&quot;\r\n                },\r\n                {\r\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\r\n                    &quot;productValTx&quot;: &quot;010&quot;,\r\n                    &quot;productShrtDescTx&quot;: &quot;PRODUCT_ACCEPTED&quot;,\r\n                    &quot;productLongDescTx&quot;: &quot;Product Accepted&quot;\r\n                }\r\n    \t\t],\r\n            &quot;pageable&quot;: {\r\n                &quot;sort&quot;: {\r\n                    &quot;empty&quot;: false,\r\n                    &quot;sorted&quot;: true,\r\n                    &quot;unsorted&quot;: false\r\n                },\r\n                &quot;offset&quot;: 0,\r\n                &quot;pageNumber&quot;: 0,\r\n                &quot;pageSize&quot;: 100,\r\n                &quot;unpaged&quot;: false,\r\n                &quot;paged&quot;: true\r\n            },\r\n            &quot;totalElements&quot;: 321,\r\n            &quot;totalPages&quot;: 4,\r\n            &quot;last&quot;: false,\r\n            &quot;size&quot;: 100,\r\n            &quot;number&quot;: 0,\r\n            &quot;sort&quot;: {\r\n                &quot;empty&quot;: false,\r\n                &quot;sorted&quot;: true,\r\n                &quot;unsorted&quot;: false\r\n            },\r\n            &quot;numberOfElements&quot;: 100,\r\n            &quot;first&quot;: true,\r\n            &quot;empty&quot;: false\r\n        }\r\n    }\r\n\r\n\r\n\r\n**Client REST API call from another project:**\r\n\r\n\t\r\n\r\n    @GetMapping(&quot;/paginatedWResponseData&quot;)\r\n        public void getProductsWResponseData() {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            String resourceUrl = &quot;http://localhost:5555/api/products?page=1&amp;size=100&quot;;\r\n    \r\n            UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(resourceUrl)\r\n                    .queryParam(&quot;page&quot;, 1)\r\n                    .queryParam(&quot;size&quot;, 100);\r\n    \r\n            ResponseEntity&lt;ReportResponse&gt; responseEntity = restTemplate.exchange(uriBuilder.toUriString(),\r\n                    HttpMethod.GET, null, ReportResponse.class);\r\n    \r\n            System.out.println(responseEntity);\r\n        }\r\n\r\n\r\n**ReportResponse.java**\r\n\r\n    @Data\r\n    @Builder\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class ReportResponse extends CustomPageImpl implements Serializable {\r\n    \r\n        Page&lt;Product&gt; reportData;\r\n    \r\n        @JsonCreator\r\n        public ReportResponse(@JsonProperty(&quot;reports&quot;) Page&lt;Product&gt; reportData) {\r\n            super(reportData.getContent());\r\n            this.reportData = reportData;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**CustomPageImpl.java**\r\n\r\n    public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n    \r\n        @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n        public CustomPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content, @JsonProperty(&quot;number&quot;) int number,\r\n                              @JsonProperty(&quot;size&quot;) int size, @JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n                              @JsonProperty(&quot;pageable&quot;) JsonNode pageable, @JsonProperty(&quot;last&quot;) boolean last,\r\n                              @JsonProperty(&quot;totalPages&quot;) int totalPages, @JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n                              @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\r\n            super(content, PageRequest.of(number, 1), 10);\r\n        }\r\n    \r\n        public CustomPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\r\n            super(content, pageable, total);\r\n        }\r\n    \r\n        public CustomPageImpl(List&lt;T&gt; content) {\r\n            super(content);\r\n        }\r\n    \r\n        public CustomPageImpl() {\r\n            super(new ArrayList&lt;&gt;());\r\n        }\r\n    }\r\n\r\n\r\n**Error:**\r\n\r\n    2023-08-24T13:58:53.372-04:00 ERROR 20304 --- [nio-5656-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.data.domain.Page]] with root cause\r\n    \r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n     at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 12] (through reference chain: net.code.sample.ReportResponse[&quot;reports&quot;])","title":"How to consume a REST API using restTemplate that returns an object with Page object within it?","body":"<p><strong>API request and response:</strong></p>\n<p><strong>Request:</strong> <code>http://localhost:5555/api/products?page=1&amp;size=100</code></p>\n<p><strong>Response:</strong></p>\n<pre><code>{\n    &quot;reports&quot;: {\n        &quot;content&quot;: [\n            {\n                &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\n                &quot;productValTx&quot;: &quot;000&quot;,\n                &quot;productShrtDescTx&quot;: &quot;NO_ERROR&quot;,\n                &quot;productLongDescTx&quot;: &quot;No Error in response&quot;\n            },\n            {\n                &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\n                &quot;productValTx&quot;: &quot;010&quot;,\n                &quot;productShrtDescTx&quot;: &quot;PRODUCT_ACCEPTED&quot;,\n                &quot;productLongDescTx&quot;: &quot;Product Accepted&quot;\n            }\n        ],\n        &quot;pageable&quot;: {\n            &quot;sort&quot;: {\n                &quot;empty&quot;: false,\n                &quot;sorted&quot;: true,\n                &quot;unsorted&quot;: false\n            },\n            &quot;offset&quot;: 0,\n            &quot;pageNumber&quot;: 0,\n            &quot;pageSize&quot;: 100,\n            &quot;unpaged&quot;: false,\n            &quot;paged&quot;: true\n        },\n        &quot;totalElements&quot;: 321,\n        &quot;totalPages&quot;: 4,\n        &quot;last&quot;: false,\n        &quot;size&quot;: 100,\n        &quot;number&quot;: 0,\n        &quot;sort&quot;: {\n            &quot;empty&quot;: false,\n            &quot;sorted&quot;: true,\n            &quot;unsorted&quot;: false\n        },\n        &quot;numberOfElements&quot;: 100,\n        &quot;first&quot;: true,\n        &quot;empty&quot;: false\n    }\n}\n</code></pre>\n<p><strong>Client REST API call from another project:</strong></p>\n<pre><code>@GetMapping(&quot;/paginatedWResponseData&quot;)\n    public void getProductsWResponseData() {\n        RestTemplate restTemplate = new RestTemplate();\n        String resourceUrl = &quot;http://localhost:5555/api/products?page=1&amp;size=100&quot;;\n\n        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(resourceUrl)\n                .queryParam(&quot;page&quot;, 1)\n                .queryParam(&quot;size&quot;, 100);\n\n        ResponseEntity&lt;ReportResponse&gt; responseEntity = restTemplate.exchange(uriBuilder.toUriString(),\n                HttpMethod.GET, null, ReportResponse.class);\n\n        System.out.println(responseEntity);\n    }\n</code></pre>\n<p><strong>ReportResponse.java</strong></p>\n<pre><code>@Data\n@Builder\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class ReportResponse extends CustomPageImpl implements Serializable {\n\n    Page&lt;Product&gt; reportData;\n\n    @JsonCreator\n    public ReportResponse(@JsonProperty(&quot;reports&quot;) Page&lt;Product&gt; reportData) {\n        super(reportData.getContent());\n        this.reportData = reportData;\n    }\n\n}\n</code></pre>\n<p><strong>CustomPageImpl.java</strong></p>\n<pre><code>public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public CustomPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content, @JsonProperty(&quot;number&quot;) int number,\n                          @JsonProperty(&quot;size&quot;) int size, @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n                          @JsonProperty(&quot;pageable&quot;) JsonNode pageable, @JsonProperty(&quot;last&quot;) boolean last,\n                          @JsonProperty(&quot;totalPages&quot;) int totalPages, @JsonProperty(&quot;sort&quot;) JsonNode sort,\n                          @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\n        super(content, PageRequest.of(number, 1), 10);\n    }\n\n    public CustomPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public CustomPageImpl(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public CustomPageImpl() {\n        super(new ArrayList&lt;&gt;());\n    }\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>2023-08-24T13:58:53.372-04:00 ERROR 20304 --- [nio-5656-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.data.domain.Page]] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 12] (through reference chain: net.code.sample.ReportResponse[&quot;reports&quot;])\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692910694,"post_id":76972738,"comment_id":135692576,"body_markdown":"What do you have in the &quot;Source&quot; tab of the &quot;Java Build Path&quot; in the Project Properties?","body":"What do you have in the &quot;Source&quot; tab of the &quot;Java Build Path&quot; in the Project Properties?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1692950393,"post_id":76972738,"comment_id":135697065,"body_markdown":"There is no duplicated file structure. It&#39;s two views of the same thing: the Java view with source folders &gt; packages &gt; files &gt; classes &gt; fields, methods, nested classes, etc. and below the file structure view with only folders and files. Read the help for more details.","body":"There is no duplicated file structure. It&#39;s two views of the same thing: the Java view with source folders &gt; packages &gt; files &gt; classes &gt; fields, methods, nested classes, etc. and below the file structure view with only folders and files. Read the help for more details."}],"owner":{"account_id":29131435,"reputation":23,"user_id":22316603,"display_name":"Bogdan Udrea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692908972,"creation_date":1692908972,"question_id":76972738,"body_markdown":"I&#39;m encountering an issue in my Eclipse project where I&#39;m seeing two seemingly duplicated source folder structures. The project is a Spring Boot application, and I have noticed that I have two src/main/java folders and two src/test/java folders\r\n\r\n\r\n[![The image:](https://i.stack.imgur.com/sxtOj.png)\r\n\r\n\r\nThe packages from src/main/java have a package icon while the others from src→main→java have a folder, the classes are also different(in terms of icon),the same thing is with test ","title":"Duplicate Source Folder Structure in Eclipse Project","body":"<p>I'm encountering an issue in my Eclipse project where I'm seeing two seemingly duplicated source folder structures. The project is a Spring Boot application, and I have noticed that I have two src/main/java folders and two src/test/java folders</p>\n<p>[<img src=\"https://i.stack.imgur.com/sxtOj.png\" alt=\"The image:\" /></p>\n<p>The packages from src/main/java have a package icon while the others from src→main→java have a folder, the classes are also different(in terms of icon),the same thing is with test</p>\n"},{"tags":["java","spring-boot","annotations","javabeans"],"comments":[{"owner":{"account_id":16376998,"reputation":148,"user_id":11828868,"display_name":"melody zhou"},"score":0,"creation_date":1692942784,"post_id":76972703,"comment_id":135695712,"body_markdown":"Does the field have a set method？","body":"Does the field have a set method？"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1692993139,"post_id":76972703,"comment_id":135705998,"body_markdown":"does field `root` really need to be `final`? Try to remove `final` keyword or try to get  `Paths.get(storage)` inside your method","body":"does field <code>root</code> really need to be <code>final</code>? Try to remove <code>final</code> keyword or try to get  <code>Paths.get(storage)</code> inside your method"}],"owner":{"account_id":23010722,"reputation":11,"user_id":17133280,"display_name":"Phong Trần"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692908493,"creation_date":1692908493,"question_id":76972703,"body_markdown":"`I have a problem\r\nI trying get value from applycation.properties to my class.\r\nI have configured in many other classes this way and it is still valid until...\r\nThis is my class that i want get value from PATH.STORAGE\r\n[enter image description here](https://i.stack.imgur.com/XTEeM.png)\r\n\r\nprivate static final Logger LOGGER = LogManager.getLogger(FilesStorageServiceImpl.class);\r\n\r\n    @Value(&quot;${PATH.STORAGE}&quot;)\r\n    String storage ;\r\n\r\n    private final Path root = Paths.get(storage);\r\n\r\n\r\nAnd this is my app.properties\r\n[enter image description here](https://i.stack.imgur.com/b2cUQ.png)\r\n\r\nPATH.STORAGE=C:\\\\Users\\\\Admin\\\\Desktop\\\\storage\r\n\r\n\r\nThanks everyone.\r\n\r\nI try change value of PATH.STORAGE=A or PATH.STORAGE=B ...\r\nI try add config in .properties:\r\nspring.resources.static-locations=file:///${PATH.STORAGE}`","title":"Why can not get value from application in spring boot","body":"<p>`I have a problem\nI trying get value from applycation.properties to my class.\nI have configured in many other classes this way and it is still valid until...\nThis is my class that i want get value from PATH.STORAGE\n<a href=\"https://i.stack.imgur.com/XTEeM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>private static final Logger LOGGER = LogManager.getLogger(FilesStorageServiceImpl.class);</p>\n<pre><code>@Value(&quot;${PATH.STORAGE}&quot;)\nString storage ;\n\nprivate final Path root = Paths.get(storage);\n</code></pre>\n<p>And this is my app.properties\n<a href=\"https://i.stack.imgur.com/b2cUQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>PATH.STORAGE=C:\\Users\\Admin\\Desktop\\storage</p>\n<p>Thanks everyone.</p>\n<p>I try change value of PATH.STORAGE=A or PATH.STORAGE=B ...\nI try add config in .properties:\nspring.resources.static-locations=file:///${PATH.STORAGE}`</p>\n"},{"tags":["java","cors","quarkus"],"comments":[{"owner":{"account_id":15372493,"reputation":354,"user_id":11090149,"display_name":"EliKnaffo"},"score":0,"creation_date":1562701150,"post_id":56959505,"comment_id":100457056,"body_markdown":"Hi it seems like some methods are missing in the http.methods what are method are you using GET/POST/PUT?","body":"Hi it seems like some methods are missing in the http.methods what are method are you using GET/POST/PUT?"},{"owner":{"account_id":3863295,"reputation":121,"user_id":3200470,"display_name":"icarus"},"score":0,"creation_date":1562702097,"post_id":56959505,"comment_id":100457418,"body_markdown":"only GET for these services","body":"only GET for these services"},{"owner":{"account_id":15372493,"reputation":354,"user_id":11090149,"display_name":"EliKnaffo"},"score":0,"creation_date":1562703646,"post_id":56959505,"comment_id":100457991,"body_markdown":"Can you try adding a /* to your localhost:4200","body":"Can you try adding a /* to your localhost:4200"},{"owner":{"account_id":3863295,"reputation":121,"user_id":3200470,"display_name":"icarus"},"score":0,"creation_date":1563545184,"post_id":56959505,"comment_id":100747052,"body_markdown":"also does not work, not even with on the * nor empty or without the config line","body":"also does not work, not even with on the * nor empty or without the config line"}],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1687106401,"creation_date":1562708810,"answer_id":56960897,"question_id":56959505,"body_markdown":"The warnings were a good indication.\r\n\r\nYour configuration is incorrect.\r\n\r\nIt should be something like:\r\n```\r\nquarkus.http.cors=true\r\nquarkus.http.cors.origins=http://localhost:4200,http://localhost:9090\r\nquarkus.http.cors.headers=accept, authorization, content-type, x-requested-with\r\nquarkus.http.cors.methods=GET, OPTIONS\r\n```\r\nyaml config\r\n\r\n```\r\nquarkus:\r\n  http:\r\n    cors:\r\n      ~: true\r\n      origins: http://localhost:4200,http://localhost:9090\r\n      headers: accept, authorization, content-type, x-requested-with\r\n      methods: GET, OPTIONS, POST\r\n```\r\nwith the `cors` prefix.\r\n\r\nWe don&#39;t have proper documentation right now so better refer to https://github.com/quarkusio/quarkus/blob/master/extensions/undertow/runtime/src/main/java/io/quarkus/undertow/runtime/filters/CORSConfig.java .\r\n\r\nI opened https://github.com/quarkusio/quarkus/issues/3156 to track the documentation issue.","title":"quarkus: blocked by CORS policy","body":"<p>The warnings were a good indication.</p>\n<p>Your configuration is incorrect.</p>\n<p>It should be something like:</p>\n<pre><code>quarkus.http.cors=true\nquarkus.http.cors.origins=http://localhost:4200,http://localhost:9090\nquarkus.http.cors.headers=accept, authorization, content-type, x-requested-with\nquarkus.http.cors.methods=GET, OPTIONS\n</code></pre>\n<p>yaml config</p>\n<pre><code>quarkus:\n  http:\n    cors:\n      ~: true\n      origins: http://localhost:4200,http://localhost:9090\n      headers: accept, authorization, content-type, x-requested-with\n      methods: GET, OPTIONS, POST\n</code></pre>\n<p>with the <code>cors</code> prefix.</p>\n<p>We don't have proper documentation right now so better refer to <a href=\"https://github.com/quarkusio/quarkus/blob/master/extensions/undertow/runtime/src/main/java/io/quarkus/undertow/runtime/filters/CORSConfig.java\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/blob/master/extensions/undertow/runtime/src/main/java/io/quarkus/undertow/runtime/filters/CORSConfig.java</a> .</p>\n<p>I opened <a href=\"https://github.com/quarkusio/quarkus/issues/3156\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/issues/3156</a> to track the documentation issue.</p>\n"},{"tags":[],"owner":{"account_id":23021460,"reputation":21,"user_id":18146879,"display_name":"Jos&#233; Junior"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644781925,"creation_date":1644703789,"answer_id":71096269,"question_id":56959505,"body_markdown":"Try the following code, this worked for me.\r\n    \r\n    &lt;code&gt;\r\n    @Provider   \r\n    public class CorsFilter implements ContainerResponseFilter {\r\n      @Override\r\n      public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException {\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        responseContext.getHeade`enter code here`rs().add(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Max-Age&quot;, &quot;100000&quot;);\r\n      }\r\n    }\r\n    &lt;/code&gt;","title":"quarkus: blocked by CORS policy","body":"<p>Try the following code, this worked for me.</p>\n<pre><code>&lt;code&gt;\n@Provider   \npublic class CorsFilter implements ContainerResponseFilter {\n  @Override\n  public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException {\n    responseContext.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    responseContext.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n    responseContext.getHeade`enter code here`rs().add(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n    responseContext.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\n    responseContext.getHeaders().add(&quot;Access-Control-Max-Age&quot;, &quot;100000&quot;);\n  }\n}\n&lt;/code&gt;\n</code></pre>\n"}],"owner":{"account_id":3863295,"reputation":121,"user_id":3200470,"display_name":"icarus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20888,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":2,"score":10,"last_activity_date":1692908240,"creation_date":1562701026,"question_id":56959505,"body_markdown":"although I configured the property file I still get the error: \r\n```\r\nblocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\n\r\n&gt; I also created a &lt;b&gt;@Provider&lt;/b&gt; extending &lt;b&gt;ContainerRequestFilter&lt;/b&gt;, but it\r\n&gt; never reaches there\r\n\r\n\r\napplication.properties\r\n```\r\n# Configuration file\r\nquarkus.http.port=9090\r\nquarkus.http.cors=true\r\nquarkus.http.origins=http://localhost:4200, localhost:9090\r\nquarkus.http.headers=accept, authorization, content-type, x-requested-with\r\nquarkus.http.methods=GET, OPTIONS\r\n```\r\n\r\n\r\n&lt;b&gt;edited&lt;/b&gt;\r\n\r\n    17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key &quot;quarkus.http.methods&quot; provided\r\n    17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key &quot;quarkus.http.headers&quot; provided\r\n    17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key &quot;quarkus.http.origins&quot; provided\r\n\r\n","title":"quarkus: blocked by CORS policy","body":"<p>although I configured the property file I still get the error: </p>\n\n<pre><code>blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n\n<blockquote>\n  <p>I also created a <b>@Provider</b> extending <b>ContainerRequestFilter</b>, but it\n  never reaches there</p>\n</blockquote>\n\n<p>application.properties</p>\n\n<pre><code># Configuration file\nquarkus.http.port=9090\nquarkus.http.cors=true\nquarkus.http.origins=http://localhost:4200, localhost:9090\nquarkus.http.headers=accept, authorization, content-type, x-requested-with\nquarkus.http.methods=GET, OPTIONS\n</code></pre>\n\n<p><b>edited</b></p>\n\n<pre><code>17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key \"quarkus.http.methods\" provided\n17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key \"quarkus.http.headers\" provided\n17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key \"quarkus.http.origins\" provided\n</code></pre>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1554809911,"creation_date":1554809911,"answer_id":55591988,"question_id":55588382,"body_markdown":"It is indeed supported by our Undertow extension but, unfortunately, not documented.\r\n\r\nYou can define things like the following:\r\n```\r\nquarkus.http.ssl.certificate.file=...\r\nquarkus.http.ssl.certificate.key-file=...\r\n...\r\n```\r\nin your application.properties.\r\n\r\nThe config entry point is `ServerSslConfig` (see https://github.com/quarkusio/quarkus/blob/master/core/runtime/src/main/java/io/quarkus/runtime/configuration/ssl/ServerSslConfig.java#L41). You then add the nested properties with dots and transform camel-case to dashes.\r\n\r\nIf you want to build a native executable, there&#39;s a good chance you will have to add `quarkus.ssl.native=true` too.\r\n\r\nIf you have feedback or if you want to contribute a guide for that, feel free to join us on Zulip or open issues/PRs on GitHub.","title":"Quarkus HTTPS restful service","body":"<p>It is indeed supported by our Undertow extension but, unfortunately, not documented.</p>\n\n<p>You can define things like the following:</p>\n\n<pre><code>quarkus.http.ssl.certificate.file=...\nquarkus.http.ssl.certificate.key-file=...\n...\n</code></pre>\n\n<p>in your application.properties.</p>\n\n<p>The config entry point is <code>ServerSslConfig</code> (see <a href=\"https://github.com/quarkusio/quarkus/blob/master/core/runtime/src/main/java/io/quarkus/runtime/configuration/ssl/ServerSslConfig.java#L41\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/blob/master/core/runtime/src/main/java/io/quarkus/runtime/configuration/ssl/ServerSslConfig.java#L41</a>). You then add the nested properties with dots and transform camel-case to dashes.</p>\n\n<p>If you want to build a native executable, there's a good chance you will have to add <code>quarkus.ssl.native=true</code> too.</p>\n\n<p>If you have feedback or if you want to contribute a guide for that, feel free to join us on Zulip or open issues/PRs on GitHub.</p>\n"},{"tags":[],"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1596639946,"creation_date":1555057548,"answer_id":55647430,"question_id":55588382,"body_markdown":"Thanks mr. Guillaume Smet, I found the solution. Here is &quot;from zero to hello in 5 minutes with Quarkus and SSL guide&quot;. This is done by quarkus undertow plugin. Also you will need text editor, jdk 1.8+ and maven installed.\r\n\r\nFrist, create the project.\r\n\r\n    mkdir restls\r\n    cd restls\r\n    mvn io.quarkus:quarkus-maven-plugin:create -DprojectGroupId=org.acme -DprojectArtifactId=restls -DclassName=&quot;org.acme.HelloResource&quot; -Dpath=&quot;/hello&quot; -Dextensions=&quot;undertow&quot;\r\n\r\nOpen your application config file `src/main/resources/application.properties` with any editor and add lines:\r\n\r\n    quarkus.http.port=80\r\n    quarkus.http.ssl-port=443\r\n    quarkus.http.ssl.certificate.key-store-file=keystore.jks\r\n\r\nCreate keystore containing self-signed certificate (answer all questions and specify password namelly &quot;password&quot;):\r\n\r\n    keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass password -validity 365 -keysize 2048\r\n\r\nThe file `keystore.jks` must be in the `src/main/resources/` folder.\r\n\r\nBuild the project:\r\n\r\n    mvnw clean package quarkus:build\r\n\r\nNow try it out:\r\n\r\n    java -jar target/restls-1.0-SNAPSHOT-runner.jar\r\n\r\nNavigate to https://localhost/hello and allow your browser to trust certificate. That&#39;s all.\r\n\r\nYou can override options in invocation time like this: \r\n\r\n    java -Dquarkus.http.ssl.certificate.key-store-file=/path-to-keystore/keystore-name.jks -jar target/restls-1.0-SNAPSHOT-runner.jar\r\n\r\nFinally, here is the concerning options list:\r\n\r\n    quarkus.http.ssl.certificate.file -- The file path to a server certificate or certificate chain in PEM format.\r\n    \r\n    quarkus.http.ssl.certificate.key-file -- The file path to the corresponding certificate private key file in PEM format.\r\n    \r\n    quarkus.http.ssl.certificate.key-store-file -- An optional key store which holds the certificate information instead of specifying separate files.\r\n    \r\n    quarkus.http.ssl.certificate.key-store-file-type -- An optional parameter to specify type of the key store file. If not given, the type is automatically detected based on the file name.\r\n\r\nYou can specifiy either certificate + key files in PEM format or keystore.","title":"Quarkus HTTPS restful service","body":"<p>Thanks mr. Guillaume Smet, I found the solution. Here is &quot;from zero to hello in 5 minutes with Quarkus and SSL guide&quot;. This is done by quarkus undertow plugin. Also you will need text editor, jdk 1.8+ and maven installed.</p>\n<p>Frist, create the project.</p>\n<pre><code>mkdir restls\ncd restls\nmvn io.quarkus:quarkus-maven-plugin:create -DprojectGroupId=org.acme -DprojectArtifactId=restls -DclassName=&quot;org.acme.HelloResource&quot; -Dpath=&quot;/hello&quot; -Dextensions=&quot;undertow&quot;\n</code></pre>\n<p>Open your application config file <code>src/main/resources/application.properties</code> with any editor and add lines:</p>\n<pre><code>quarkus.http.port=80\nquarkus.http.ssl-port=443\nquarkus.http.ssl.certificate.key-store-file=keystore.jks\n</code></pre>\n<p>Create keystore containing self-signed certificate (answer all questions and specify password namelly &quot;password&quot;):</p>\n<pre><code>keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass password -validity 365 -keysize 2048\n</code></pre>\n<p>The file <code>keystore.jks</code> must be in the <code>src/main/resources/</code> folder.</p>\n<p>Build the project:</p>\n<pre><code>mvnw clean package quarkus:build\n</code></pre>\n<p>Now try it out:</p>\n<pre><code>java -jar target/restls-1.0-SNAPSHOT-runner.jar\n</code></pre>\n<p>Navigate to https://localhost/hello and allow your browser to trust certificate. That's all.</p>\n<p>You can override options in invocation time like this:</p>\n<pre><code>java -Dquarkus.http.ssl.certificate.key-store-file=/path-to-keystore/keystore-name.jks -jar target/restls-1.0-SNAPSHOT-runner.jar\n</code></pre>\n<p>Finally, here is the concerning options list:</p>\n<pre><code>quarkus.http.ssl.certificate.file -- The file path to a server certificate or certificate chain in PEM format.\n\nquarkus.http.ssl.certificate.key-file -- The file path to the corresponding certificate private key file in PEM format.\n\nquarkus.http.ssl.certificate.key-store-file -- An optional key store which holds the certificate information instead of specifying separate files.\n\nquarkus.http.ssl.certificate.key-store-file-type -- An optional parameter to specify type of the key store file. If not given, the type is automatically detected based on the file name.\n</code></pre>\n<p>You can specifiy either certificate + key files in PEM format or keystore.</p>\n"},{"tags":[],"owner":{"account_id":1506530,"reputation":1001,"user_id":1409784,"display_name":"Nigel Savage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684947858,"creation_date":1684947858,"answer_id":76325898,"question_id":55588382,"body_markdown":"adding some notes here for how you would use native quarkus tls (reverse_proxy for example)  as things constantly evolve  \r\n1. for extensions defined here [tls enabled extensions](https://quarkus.io/guides/native-and-ssl)\r\n2. generate a CA with SAN for the hostname\r\n3. using your CA create a openssl x509 and key PEM format\r\n4. in application.properties define eg hostname =  quarkus-dev\r\n```quarkus.http.ssl.certificate.file=quarkus-dev.pem```  \r\n```quarkus.http.ssl.certificate.key-file=quarkus-dev-key.pem```  \r\n```quarkus.ssl.native=true```\r\n5. with this set up the quarkus binary will look for the x509 cert and key in the same directory  \r\n[![enter image description here][1]][1] \r\n  \r\nNotes  \r\nsome open ssl fragments for generation of the certs  \r\n  \r\nCA key  \r\n```openssl genrsa -out quarkus-dev-key.pem 2048```  \r\n  \r\nCA extension shows SAN dns entry  \r\n```\r\nauthorityKeyIdentifier=keyid,issuer\r\nbasicConstraints=CA:FALSE\r\nkeyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\r\nsubjectAltName = @alt_names\r\n[alt_names]\r\nDNS.1 = quarkus-dev\r\n```  \r\ngenerate the CA  \r\n```\r\nopenssl req -nodes -newkey rsa:2048 -keyout quarkus-dev-key.pem -out quarkus-dev.csr -subj &quot;/C=CA/ST=QUARKUS/L=QUARKUS/O=QUARKUS/OU=QUARKUS/CN=quarkus-dev&quot; -addext &quot;subjectAltName = DNS:quarkus-dev&quot; \r\n\r\nopenssl x509 -req -in quarkus-dev.csr -CA quarkus-dev-ca.crt -CAkey quarkus-dev-ca.key -CAcreateserial -out quarkus-dev.pem -outform PEM -days 825 -sha256 -passin file:quarkus-dev-ca.pass -extfile quarkus-dev.ext\r\n```\r\nwith the CA above you can generate the certificates  \r\nif using the SAN dns then you would need to update /etc/hosts or alternatively you could use the IP in the SAN like \r\n```\r\n[alt_names]\r\nIP.1 = 192.168.0.1\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/MvYT4.png","title":"Quarkus HTTPS restful service","body":"<p>adding some notes here for how you would use native quarkus tls (reverse_proxy for example)  as things constantly evolve</p>\n<ol>\n<li>for extensions defined here <a href=\"https://quarkus.io/guides/native-and-ssl\" rel=\"nofollow noreferrer\">tls enabled extensions</a></li>\n<li>generate a CA with SAN for the hostname</li>\n<li>using your CA create a openssl x509 and key PEM format</li>\n<li>in application.properties define eg hostname =  quarkus-dev\n<code>quarkus.http.ssl.certificate.file=quarkus-dev.pem</code><br />\n<code>quarkus.http.ssl.certificate.key-file=quarkus-dev-key.pem</code><br />\n<code>quarkus.ssl.native=true</code></li>\n<li>with this set up the quarkus binary will look for the x509 cert and key in the same directory<br />\n<a href=\"https://i.stack.imgur.com/MvYT4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MvYT4.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>Notes<br />\nsome open ssl fragments for generation of the certs</p>\n<p>CA key<br />\n<code>openssl genrsa -out quarkus-dev-key.pem 2048</code></p>\n<p>CA extension shows SAN dns entry</p>\n<pre><code>authorityKeyIdentifier=keyid,issuer\nbasicConstraints=CA:FALSE\nkeyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\nsubjectAltName = @alt_names\n[alt_names]\nDNS.1 = quarkus-dev\n</code></pre>\n<p>generate the CA</p>\n<pre><code>openssl req -nodes -newkey rsa:2048 -keyout quarkus-dev-key.pem -out quarkus-dev.csr -subj &quot;/C=CA/ST=QUARKUS/L=QUARKUS/O=QUARKUS/OU=QUARKUS/CN=quarkus-dev&quot; -addext &quot;subjectAltName = DNS:quarkus-dev&quot; \n\nopenssl x509 -req -in quarkus-dev.csr -CA quarkus-dev-ca.crt -CAkey quarkus-dev-ca.key -CAcreateserial -out quarkus-dev.pem -outform PEM -days 825 -sha256 -passin file:quarkus-dev-ca.pass -extfile quarkus-dev.ext\n</code></pre>\n<p>with the CA above you can generate the certificates<br />\nif using the SAN dns then you would need to update /etc/hosts or alternatively you could use the IP in the SAN like</p>\n<pre><code>[alt_names]\nIP.1 = 192.168.0.1\n</code></pre>\n"}],"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12321,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":55591988,"answer_count":3,"score":8,"last_activity_date":1692908227,"creation_date":1554798841,"question_id":55588382,"body_markdown":"Is there any example/tutorial to build and configure TLS-secured restful service using quarkus.io?\r\n\r\nUnfortunately I can not find one neither at quarkus documentation, no here.","title":"Quarkus HTTPS restful service","body":"<p>Is there any example/tutorial to build and configure TLS-secured restful service using quarkus.io?</p>\n\n<p>Unfortunately I can not find one neither at quarkus documentation, no here.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1579611059,"creation_date":1553262070,"answer_id":55300914,"question_id":55300484,"body_markdown":"We have a layer to do that programmatically in extensions but, right now, we don&#39;t have any user facing API for applications.\r\n\r\nSo for the time being, you could use this option of the quarkus-maven-plugin:\r\n\r\n     &lt;quarkus.native.additional-build-args&gt;-H:ResourceConfigurationFiles=resources-config.json&lt;/quarkus.native.additional-build-args&gt;\r\n\r\nOr you can also define it in your `application.properties`:\r\n\r\n    quarkus.native.additional-build-args =-H:ResourceConfigurationFiles=resources-config.json\r\n\r\nEverything is documented here: https://quarkus.io/guides/writing-native-applications-tips .","title":"How to include classpath resources in a Quarkus native image?","body":"<p>We have a layer to do that programmatically in extensions but, right now, we don't have any user facing API for applications.</p>\n\n<p>So for the time being, you could use this option of the quarkus-maven-plugin:</p>\n\n<pre><code> &lt;quarkus.native.additional-build-args&gt;-H:ResourceConfigurationFiles=resources-config.json&lt;/quarkus.native.additional-build-args&gt;\n</code></pre>\n\n<p>Or you can also define it in your <code>application.properties</code>:</p>\n\n<pre><code>quarkus.native.additional-build-args =-H:ResourceConfigurationFiles=resources-config.json\n</code></pre>\n\n<p>Everything is documented here: <a href=\"https://quarkus.io/guides/writing-native-applications-tips\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-native-applications-tips</a> .</p>\n"}],"owner":{"account_id":135620,"reputation":12665,"user_id":338614,"accept_rate":22,"display_name":"Harald Wellmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7032,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":55300914,"answer_count":1,"score":9,"last_activity_date":1692908189,"creation_date":1553260627,"question_id":55300484,"body_markdown":"It seems that by default the native image generated by Quarkus does not include any classpath resources corresponding to stuff from `src/main/resources/`.\r\n\r\nFrom the [GraalVM docs][1], I sort of understand why this happens, but now I&#39;m stuck. Is there a way to configure the `quarkus-maven-plugin` to include the resources in the native image?\r\n\r\n\r\n  [1]: https://github.com/oracle/graal/blob/master/substratevm/RESOURCES.md","title":"How to include classpath resources in a Quarkus native image?","body":"<p>It seems that by default the native image generated by Quarkus does not include any classpath resources corresponding to stuff from <code>src/main/resources/</code>.</p>\n\n<p>From the <a href=\"https://github.com/oracle/graal/blob/master/substratevm/RESOURCES.md\" rel=\"noreferrer\">GraalVM docs</a>, I sort of understand why this happens, but now I'm stuck. Is there a way to configure the <code>quarkus-maven-plugin</code> to include the resources in the native image?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1579003241,"creation_date":1579003241,"answer_id":59733375,"question_id":59733160,"body_markdown":"It&#39;s using Hibernate ORM under the hood.\r\n\r\nExtensions are there for several reasons:\r\n\r\n * they tie the library to the Quarkus development model. Typically the Hibernate ORM extension will use the configuration properties coming from the `application.properties` and bootstrap the persistence unit;\r\n * they allow to move things from runtime to build time: in the case of ORM, when using GraalVM, all the Hibernate metadata are built when compiling the native image;\r\n * it allows configuring things for GraalVM native images, typically registering class for reflection, adding resources...\r\n * also in the case of Hibernate ORM, some of our defaults are not the same as the historical Hibernate ORM defaults.","title":"Quarkus extensions nediness","body":"<p>It's using Hibernate ORM under the hood.</p>\n\n<p>Extensions are there for several reasons:</p>\n\n<ul>\n<li>they tie the library to the Quarkus development model. Typically the Hibernate ORM extension will use the configuration properties coming from the <code>application.properties</code> and bootstrap the persistence unit;</li>\n<li>they allow to move things from runtime to build time: in the case of ORM, when using GraalVM, all the Hibernate metadata are built when compiling the native image;</li>\n<li>it allows configuring things for GraalVM native images, typically registering class for reflection, adding resources...</li>\n<li>also in the case of Hibernate ORM, some of our defaults are not the same as the historical Hibernate ORM defaults.</li>\n</ul>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692908170,"creation_date":1579002432,"question_id":59733160,"body_markdown":"What are quarkus extensions meant for?\r\n\r\nThere are a bunch of extensions I&#39;m asking myself if they are redundant or superfluous.\r\n\r\nFor example, why quarkus is providing an &quot;Hibernate ORM&quot; extension? Why ain&#39;t able to just use Hibernate straightforwardly?\r\n","title":"Quarkus extensions nediness","body":"<p>What are quarkus extensions meant for?</p>\n\n<p>There are a bunch of extensions I'm asking myself if they are redundant or superfluous.</p>\n\n<p>For example, why quarkus is providing an \"Hibernate ORM\" extension? Why ain't able to just use Hibernate straightforwardly?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1692908155,"creation_date":1579791014,"answer_id":59881264,"question_id":59880235,"body_markdown":"Nowadays, the easiest way to update Quarkus is to install the [Quarkus CLI][1].\r\n\r\nThen you can update your Quarkus application with `quarkus update`.\r\n\r\nYou can find more details about `quarkus update` here: https://quarkus.io/guides/update-quarkus .\r\n\r\n----------\r\n\r\n*The following is still true but usability has been improved a lot since then. I kept the content below as it is informative.* \r\n\r\nThere is one important thing to know, we have:\r\n\r\n * Quarkus Core: this is the main Quarkus artifacts + all the core extensions: the quarkus-bom is the one of Core. The Quarkus Maven plugin is part of it too.\r\n * Quarkus Platform: it contains more extensions such as Camel Quarkus: the quarkus-universe-bom is the one from the Platform, it contains the Core + the additional extensions\r\n\r\nWe usually release Quarkus core then Quarkus Platform with a few days between the two as we often need a release of Camel Quarkus, which is an Apache project and organizes a 72 hours vote for each release.\r\n\r\nIn a newly created project, you have the following properties:\r\n```\r\n    &lt;quarkus-plugin.version&gt;1.1.1.Final&lt;/quarkus-plugin.version&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-universe-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;1.1.1.Final&lt;/quarkus.platform.version&gt;\r\n```\r\n\r\n * `quarkus-plugin.version` is the version of the Quarkus Maven plugin, it should be in line with the version of the core you use\r\n * `quarkus.platform.artifact-id` can right now either be `quarkus-universe-bom` for the whole Platform or just `quarkus-bom` for the Core only.\r\n * `quarkus.platform.version` is the version of the BOM.\r\n\r\nUsually all these versions should be aligned. But... it could happen that we would need some quick update in the Platform and not of the core and we could then only release a new version of the platform. This hasn&#39;t happened yet to be honest.\r\n\r\nLet&#39;s take an example of what happened today: I released Quarkus Core 1.2.0.Final but we are still waiting for Camel Quarkus to be released to release the Platform.\r\n\r\nIf you want to update early, you can change the BOM to use the `quarkus-bom` and update everything to 1.2.0.Final.\r\n\r\nOr you can wait for the Platform to be released early next week and stay on the Platform `quarkus-universe-bom`.\r\n\r\nWe also only update the website documentation and code.quarkus.io when the full Platform is released.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/cli-tooling","title":"How to update the quarkus version used","body":"<p>Nowadays, the easiest way to update Quarkus is to install the <a href=\"https://quarkus.io/guides/cli-tooling\" rel=\"nofollow noreferrer\">Quarkus CLI</a>.</p>\n<p>Then you can update your Quarkus application with <code>quarkus update</code>.</p>\n<p>You can find more details about <code>quarkus update</code> here: <a href=\"https://quarkus.io/guides/update-quarkus\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/update-quarkus</a> .</p>\n<hr />\n<p><em>The following is still true but usability has been improved a lot since then. I kept the content below as it is informative.</em></p>\n<p>There is one important thing to know, we have:</p>\n<ul>\n<li>Quarkus Core: this is the main Quarkus artifacts + all the core extensions: the quarkus-bom is the one of Core. The Quarkus Maven plugin is part of it too.</li>\n<li>Quarkus Platform: it contains more extensions such as Camel Quarkus: the quarkus-universe-bom is the one from the Platform, it contains the Core + the additional extensions</li>\n</ul>\n<p>We usually release Quarkus core then Quarkus Platform with a few days between the two as we often need a release of Camel Quarkus, which is an Apache project and organizes a 72 hours vote for each release.</p>\n<p>In a newly created project, you have the following properties:</p>\n<pre><code>    &lt;quarkus-plugin.version&gt;1.1.1.Final&lt;/quarkus-plugin.version&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-universe-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;1.1.1.Final&lt;/quarkus.platform.version&gt;\n</code></pre>\n<ul>\n<li><code>quarkus-plugin.version</code> is the version of the Quarkus Maven plugin, it should be in line with the version of the core you use</li>\n<li><code>quarkus.platform.artifact-id</code> can right now either be <code>quarkus-universe-bom</code> for the whole Platform or just <code>quarkus-bom</code> for the Core only.</li>\n<li><code>quarkus.platform.version</code> is the version of the BOM.</li>\n</ul>\n<p>Usually all these versions should be aligned. But... it could happen that we would need some quick update in the Platform and not of the core and we could then only release a new version of the platform. This hasn't happened yet to be honest.</p>\n<p>Let's take an example of what happened today: I released Quarkus Core 1.2.0.Final but we are still waiting for Camel Quarkus to be released to release the Platform.</p>\n<p>If you want to update early, you can change the BOM to use the <code>quarkus-bom</code> and update everything to 1.2.0.Final.</p>\n<p>Or you can wait for the Platform to be released early next week and stay on the Platform <code>quarkus-universe-bom</code>.</p>\n<p>We also only update the website documentation and code.quarkus.io when the full Platform is released.</p>\n"},{"tags":[],"owner":{"account_id":2111883,"reputation":324,"user_id":1877010,"display_name":"DaHoC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595323478,"creation_date":1595323478,"answer_id":63011414,"question_id":59880235,"body_markdown":"It used to work to simply issue the command\r\n\r\n    mvn io.quarkus:quarkus-maven-plugin:1.4.2.Final:create\r\n\r\nin the base project directory for it to automatically update the Quarkus versions in the project `pom.xml` file, but since `1.6.0.Final` it errors:\r\n\r\n&gt; project XXXXX: Unable to generate the project in a directory that already contains a pom.xml -&gt; [Help 1]\r\n\r\nI will create an improvement suggestion ticket at Quarkus to restore this functionality, maybe with a dedicated maven goal (like `update`)","title":"How to update the quarkus version used","body":"<p>It used to work to simply issue the command</p>\n<pre><code>mvn io.quarkus:quarkus-maven-plugin:1.4.2.Final:create\n</code></pre>\n<p>in the base project directory for it to automatically update the Quarkus versions in the project <code>pom.xml</code> file, but since <code>1.6.0.Final</code> it errors:</p>\n<blockquote>\n<p>project XXXXX: Unable to generate the project in a directory that already contains a pom.xml -&gt; [Help 1]</p>\n</blockquote>\n<p>I will create an improvement suggestion ticket at Quarkus to restore this functionality, maybe with a dedicated maven goal (like <code>update</code>)</p>\n"},{"tags":[],"owner":{"account_id":1175943,"reputation":1938,"user_id":1151983,"display_name":"Tim Br&#252;ckner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691479406,"creation_date":1691479406,"answer_id":76857281,"question_id":59880235,"body_markdown":"I know this answer might come in late, but there is a dedicated section to upgrading Quarkus in the docs now:\r\n\r\nhttps://quarkus.io/guides/update-quarkus\r\n\r\nMost importantly, you can use the Quarkus CLI tool, or a Maven plugin, to upgrade Quarkus now, which came in handy, when migrating from 2.x to 3.x.\r\n\r\n```shell\r\n# Quarkus CLI Tool\r\nquarkus update\r\n```\r\n\r\nor \r\n\r\n```shell\r\n# Quarkus Maven Plugin\r\n./mvnw io.quarkus.platform:quarkus-maven-plugin:3.2.3.Final:update -N\r\n```\r\n\r\nThe Quarkus team also provides a migration guide for each version, which you should check before executing the upgrade.","title":"How to update the quarkus version used","body":"<p>I know this answer might come in late, but there is a dedicated section to upgrading Quarkus in the docs now:</p>\n<p><a href=\"https://quarkus.io/guides/update-quarkus\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/update-quarkus</a></p>\n<p>Most importantly, you can use the Quarkus CLI tool, or a Maven plugin, to upgrade Quarkus now, which came in handy, when migrating from 2.x to 3.x.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Quarkus CLI Tool\nquarkus update\n</code></pre>\n<p>or</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Quarkus Maven Plugin\n./mvnw io.quarkus.platform:quarkus-maven-plugin:3.2.3.Final:update -N\n</code></pre>\n<p>The Quarkus team also provides a migration guide for each version, which you should check before executing the upgrade.</p>\n"}],"owner":{"account_id":277236,"reputation":2669,"user_id":571113,"accept_rate":77,"display_name":"bobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59881264,"answer_count":3,"score":2,"last_activity_date":1692908155,"creation_date":1579787655,"question_id":59880235,"body_markdown":"What is the recommended way of upgrading the quarkus version used in an existing application?\r\n\r\nI have taken a look at my pom.xml, since the quarkus extensions dont specify the version used, I assume that they will get updated based on the main quarkus version.\r\nThe properties which look to be relevant in the update are quarkus-plugin.version, quarkus.platform.group-id and surefire-plugin.version.\r\nHow can I decide which ones to change, and is there anything else to be aware of?","title":"How to update the quarkus version used","body":"<p>What is the recommended way of upgrading the quarkus version used in an existing application?</p>\n\n<p>I have taken a look at my pom.xml, since the quarkus extensions dont specify the version used, I assume that they will get updated based on the main quarkus version.\nThe properties which look to be relevant in the update are quarkus-plugin.version, quarkus.platform.group-id and surefire-plugin.version.\nHow can I decide which ones to change, and is there anything else to be aware of?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"score":0,"creation_date":1608034644,"post_id":65302232,"comment_id":115453158,"body_markdown":"could you be more specific?","body":"could you be more specific?"}],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1650650732,"creation_date":1608038404,"answer_id":65306707,"question_id":65302232,"body_markdown":"Not sure to understand your question but if you want to execute code at startup, the easiest way is to observe (using `@Observes`) the `StartupEvent` with a CDI bean:\r\n\r\n```java\r\n@ApplicationScoped\r\npublic class AppLifecycleBean {\r\n\r\n    private static final Logger LOGGER = Logger.getLogger(&quot;ListenerBean&quot;);\r\n\r\n    void onStart(@Observes StartupEvent ev) {               \r\n        LOGGER.info(&quot;The application is starting...&quot;);\r\n    }\r\n\r\n    void onStop(@Observes ShutdownEvent ev) {               \r\n        LOGGER.info(&quot;The application is stopping...&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can find more details in our documentation if you need a better understanding of the Quarkus application lifecycle:\r\nhttps://quarkus.io/guides/lifecycle#listening-for-startup-and-shutdown-events","title":"How to execute part of the code on Quarkus when starting the application?","body":"<p>Not sure to understand your question but if you want to execute code at startup, the easiest way is to observe (using <code>@Observes</code>) the <code>StartupEvent</code> with a CDI bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class AppLifecycleBean {\n\n    private static final Logger LOGGER = Logger.getLogger(&quot;ListenerBean&quot;);\n\n    void onStart(@Observes StartupEvent ev) {               \n        LOGGER.info(&quot;The application is starting...&quot;);\n    }\n\n    void onStop(@Observes ShutdownEvent ev) {               \n        LOGGER.info(&quot;The application is stopping...&quot;);\n    }\n\n}\n</code></pre>\n<p>You can find more details in our documentation if you need a better understanding of the Quarkus application lifecycle:\n<a href=\"https://quarkus.io/guides/lifecycle#listening-for-startup-and-shutdown-events\" rel=\"noreferrer\">https://quarkus.io/guides/lifecycle#listening-for-startup-and-shutdown-events</a></p>\n"},{"tags":[],"owner":{"account_id":3645671,"reputation":1586,"user_id":3038736,"display_name":"sagneta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653395418,"creation_date":1653395418,"answer_id":72362921,"question_id":65302232,"body_markdown":"There is an @Startup annotation for Quarkus that will instantiate a service upon startup. It simply automates the listening of the StartupEvent:\r\n\r\n*For each bean annotated with @Startup a synthetic observer of StartupEvent is generated. The default priority is used.*\r\n\r\nWorks well. \r\n\r\n[Quarkus @Startup annotation][1]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/lifecycle#startup_annotation","title":"How to execute part of the code on Quarkus when starting the application?","body":"<p>There is an @Startup annotation for Quarkus that will instantiate a service upon startup. It simply automates the listening of the StartupEvent:</p>\n<p><em>For each bean annotated with @Startup a synthetic observer of StartupEvent is generated. The default priority is used.</em></p>\n<p>Works well.</p>\n<p><a href=\"https://quarkus.io/guides/lifecycle#startup_annotation\" rel=\"nofollow noreferrer\">Quarkus @Startup annotation</a></p>\n"}],"owner":{"account_id":17351533,"reputation":155,"user_id":12579510,"display_name":"mamadaliev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8447,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65306707,"answer_count":2,"score":2,"last_activity_date":1692907935,"creation_date":1608020209,"question_id":65302232,"body_markdown":"Please help me understand that how to execute part of the code on Quarkus when starting the application?\r\nIf possible, discard the link or give an example code. \r\nThanks.","title":"How to execute part of the code on Quarkus when starting the application?","body":"<p>Please help me understand that how to execute part of the code on Quarkus when starting the application?\nIf possible, discard the link or give an example code.\nThanks.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692907860,"creation_date":1574264188,"answer_id":58958093,"question_id":58956433,"body_markdown":"We have a `quarkus-cache` extension in Quarkus which allows to cache methods with a simple `@CacheResult` annotation.\r\n\r\nThere are several other annotations allowing to fine tune the behavior and everything is described in our Quarkus documentation: https://quarkus.io/guides/cache .\r\n\r\nThis extension is backed by Caffeine but you can also use Redis with the `quarkus-redis-cache` extension, which is described at length in https://quarkus.io/guides/cache-redis-reference .","title":"Caching service calls in Quarkus","body":"<p>We have a <code>quarkus-cache</code> extension in Quarkus which allows to cache methods with a simple <code>@CacheResult</code> annotation.</p>\n<p>There are several other annotations allowing to fine tune the behavior and everything is described in our Quarkus documentation: <a href=\"https://quarkus.io/guides/cache\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cache</a> .</p>\n<p>This extension is backed by Caffeine but you can also use Redis with the <code>quarkus-redis-cache</code> extension, which is described at length in <a href=\"https://quarkus.io/guides/cache-redis-reference\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cache-redis-reference</a> .</p>\n"}],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692907882,"creation_date":1574259326,"question_id":58956433,"body_markdown":"Does Quarkus have something like `org.springframework.cache.annotation.@Cacheable` out of the box ? (could not find any mentioning of that in the doc)\r\n\r\nto be put on some service method,\r\n\r\nthat would keep / cache prev response for some period of time and preserve the call stack / logs. \r\n\r\nSimilar to to that Spring `@Cacheable` annotation?\r\n","title":"Caching service calls in Quarkus","body":"<p>Does Quarkus have something like <code>org.springframework.cache.annotation.@Cacheable</code> out of the box ? (could not find any mentioning of that in the doc)</p>\n\n<p>to be put on some service method,</p>\n\n<p>that would keep / cache prev response for some period of time and preserve the call stack / logs. </p>\n\n<p>Similar to to that Spring <code>@Cacheable</code> annotation?</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1692907947,"post_id":76972635,"comment_id":135692078,"body_markdown":"Depends on how the `Single` &quot;creates&quot; the data. Cold sources will only emit if they have an observer. Hot Singles (in your area) will remember the item they receive and will replay it to future observers.","body":"Depends on how the <code>Single</code> &quot;creates&quot; the data. Cold sources will only emit if they have an observer. Hot Singles (in your area) will remember the item they receive and will replay it to future observers."},{"owner":{"account_id":21086486,"reputation":11,"user_id":15499483,"display_name":"AdamK"},"score":0,"creation_date":1692908163,"post_id":76972635,"comment_id":135692111,"body_markdown":"So how can I make sure that I have a Hot Single :) ? In my implementation the Single would be emitting a simple boolean value after certain async operations are finished in one class, then the other class would react to that accordingly.","body":"So how can I make sure that I have a Hot Single :) ? In my implementation the Single would be emitting a simple boolean value after certain async operations are finished in one class, then the other class would react to that accordingly."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1692908527,"post_id":76972635,"comment_id":135692173,"body_markdown":"For a hot source, you will need to subscribe before the value is emitted. Simple. Alternatively you can buffer the emitted element since there’s only going to be one. [What are the Hot and Cold observables?](https://stackoverflow.com/questions/2521277/what-are-the-hot-and-cold-observables)","body":"For a hot source, you will need to subscribe before the value is emitted. Simple. Alternatively you can buffer the emitted element since there’s only going to be one. <a href=\"https://stackoverflow.com/questions/2521277/what-are-the-hot-and-cold-observables\">What are the Hot and Cold observables?</a>"}],"owner":{"account_id":21086486,"reputation":11,"user_id":15499483,"display_name":"AdamK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1692908897,"answer_count":0,"score":0,"last_activity_date":1692907791,"creation_date":1692907791,"question_id":76972635,"body_markdown":"I want to solve a data race issue in my program.\r\nI thought about using RXJava&#39;s Single but due to the way the program runs, it&#39;s uncertain whether the receiver will be able to subscribe to the Single before it emits data.\r\n\r\nI was unable to find information if the Single observable implements something like a retro-emit(?) - I don&#39;t know how to call that. \r\nThanks in advance.","title":"What happens when a subscription to RXJava&#39;s Single happens after the object has already emitted data?","body":"<p>I want to solve a data race issue in my program.\nI thought about using RXJava's Single but due to the way the program runs, it's uncertain whether the receiver will be able to subscribe to the Single before it emits data.</p>\n<p>I was unable to find information if the Single observable implements something like a retro-emit(?) - I don't know how to call that.\nThanks in advance.</p>\n"},{"tags":["java","clojure","classpath"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1409295664,"creation_date":1225442972,"answer_id":252903,"question_id":252893,"body_markdown":"I don&#39;t believe you can - the right thing to do (I believe) is create a new classloader with the new path. Alternatively, you could write your own classloader which allows you to change the classpath (for that loader) dynamically.\r\n","title":"How do you change the CLASSPATH within Java?","body":"<p>I don't believe you can - the right thing to do (I believe) is create a new classloader with the new path. Alternatively, you could write your own classloader which allows you to change the classpath (for that loader) dynamically.</p>\n"},{"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1225445798,"creation_date":1225445798,"answer_id":252964,"question_id":252893,"body_markdown":"You may want to look into using [java.net.URLClassLoader][1]. It allows you to programmatically load classes that weren&#39;t originally in your classpath, though I&#39;m not sure if that&#39;s exactly what you need.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/net/URLClassLoader.html","title":"How do you change the CLASSPATH within Java?","body":"<p>You may want to look into using <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">java.net.URLClassLoader</a>. It allows you to programmatically load classes that weren't originally in your classpath, though I'm not sure if that's exactly what you need.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1692907661,"creation_date":1225445854,"answer_id":252967,"question_id":252893,"body_markdown":"Update 2023: as [commented](https://stackoverflow.com/questions/252893/how-do-you-change-the-classpath-within-java#comment135692001_252967) below by [Holger](https://stackoverflow.com/users/2711488/holger)\r\n\r\n&gt; The only way to add jar files to the class path working in Java 9 and newer, is through the [Instrumentation API](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)), but it requires a Java Agent. \r\n&gt;\r\n&gt; If you are in control of the launcher/main jar, you can use the [`Launcher-Agent-Class` attribute in the jar file’s manifest](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html#manifest-attributes-heading) to start an embedded Agent.\r\n\r\n----\r\n\r\nUpdate Q4 2017: as [commented][1] below by [vda8888][2], in Java 9, the System [`java.lang.ClassLoader`][3] is no longer a [`java.net.URLClassLoader`][4].\r\n\r\nSee &quot;[Java 9 Migration Guide: The Seven Most Common Challenges][5]&quot;\r\n\r\n&gt; The class loading strategy that I just described is implemented in a new type and in Java 9 the application class loader is of that type.  \r\nThat means it is not a `URLClassLoader` anymore, so the occasional `(URLClassLoader) getClass().getClassLoader()` or `(URLClassLoader) ClassLoader.getSystemClassLoader()` sequences will no longer execute.\r\n\r\n[java.lang.ModuleLayer][6] would be an alternative approach used in order to influence the *modulepath* (instead of the classpath). See for instance &quot;[Java 9 modules - JPMS basics][7]&quot;.\r\n\r\n-----\r\n\r\nFor Java 8 or below:\r\n\r\nSome general comments:\r\n\r\nyou cannot (in a portable way that&#39;s guaranteed to work, see below) change the system classpath. Instead, you need to define a new ClassLoader.\r\n\r\nClassLoaders work in a hierarchical manner... so any class that makes a static reference to class X needs to be loaded in the same ClassLoader as X, or in a child ClassLoader. You can NOT use any custom ClassLoader to make code loaded by the system ClassLoader link properly, if it wouldn&#39;t have done so before. So you need to arrange for your main application code to be run in the custom ClassLoader in addition to the extra code that you locate.  \r\n(That being said, [cracked-all][8] mentions in the comments this example of [extending the  `URLClassLoader`][9])\r\n\r\nAnd you might consider not writing your own ClassLoader, but just use URLClassLoader instead. Create a URLClassLoader with a url that are *not* in the parent classloaders url&#39;s.\r\n\r\n    URL[] url={new URL(&quot;file://foo&quot;)};\r\n    URLClassLoader loader = new URLClassLoader(url);\r\n\r\nA [more complete solution][10] would  be:\r\n\r\n    ClassLoader currentThreadClassLoader\r\n     = Thread.currentThread().getContextClassLoader();\r\n    \r\n    // Add the conf dir to the classpath\r\n    // Chain the current thread classloader\r\n    URLClassLoader urlClassLoader\r\n     = new URLClassLoader(new URL[]{new File(&quot;mtFile&quot;).toURL()},\r\n                          currentThreadClassLoader);\r\n    \r\n    // Replace the thread classloader - assumes\r\n    // you have permissions to do so\r\n    Thread.currentThread().setContextClassLoader(urlClassLoader);\r\n\r\nIf you assume the JVMs system classloader is a URLClassLoader (which may not be true for all JVMs), you can use reflection as well to actually modify the system classpath... (but that&#39;s a hack;)):\r\n\r\n    public void addURL(URL url) throws Exception {\r\n      URLClassLoader classLoader\r\n             = (URLClassLoader) ClassLoader.getSystemClassLoader();\r\n      Class clazz= URLClassLoader.class;\r\n    \r\n      // Use reflection\r\n      Method method= clazz.getDeclaredMethod(&quot;addURL&quot;, new Class[] { URL.class });\r\n      method.setAccessible(true);\r\n      method.invoke(classLoader, new Object[] { url });\r\n    }\r\n    \r\n    addURL(new File(&quot;conf&quot;).toURL());\r\n    \r\n    // This should work now!\r\n    Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;context.xml&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/252893/how-do-you-change-the-classpath-within-java/252967#comment82290481_252967\r\n  [2]: https://stackoverflow.com/users/1974520/vda8888\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/lang/ClassLoader.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/net/URLClassLoader.html\r\n  [5]: https://blog.codefx.org/java/java-9-migration-guide/\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/lang/ModuleLayer.html\r\n  [7]: http://blog.joda.org/2017/04/java-9-modules-jpms-basics.html\r\n  [8]: https://stackoverflow.com/users/188524/cracked-all\r\n  [9]: http://snippets.dzone.com/posts/show/3574\r\n  [10]: http://robertmaldon.blogspot.com/2007/11/dynamically-add-to-eclipse-junit.html","title":"How do you change the CLASSPATH within Java?","body":"<p>Update 2023: as <a href=\"https://stackoverflow.com/questions/252893/how-do-you-change-the-classpath-within-java#comment135692001_252967\">commented</a> below by <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a></p>\n<blockquote>\n<p>The only way to add jar files to the class path working in Java 9 and newer, is through the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)\" rel=\"nofollow noreferrer\">Instrumentation API</a>, but it requires a Java Agent.</p>\n<p>If you are in control of the launcher/main jar, you can use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html#manifest-attributes-heading\" rel=\"nofollow noreferrer\"><code>Launcher-Agent-Class</code> attribute in the jar file’s manifest</a> to start an embedded Agent.</p>\n</blockquote>\n<hr />\n<p>Update Q4 2017: as <a href=\"https://stackoverflow.com/questions/252893/how-do-you-change-the-classpath-within-java/252967#comment82290481_252967\">commented</a> below by <a href=\"https://stackoverflow.com/users/1974520/vda8888\">vda8888</a>, in Java 9, the System <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\"><code>java.lang.ClassLoader</code></a> is no longer a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\"><code>java.net.URLClassLoader</code></a>.</p>\n<p>See &quot;<a href=\"https://blog.codefx.org/java/java-9-migration-guide/\" rel=\"nofollow noreferrer\">Java 9 Migration Guide: The Seven Most Common Challenges</a>&quot;</p>\n<blockquote>\n<p>The class loading strategy that I just described is implemented in a new type and in Java 9 the application class loader is of that type.<br />\nThat means it is not a <code>URLClassLoader</code> anymore, so the occasional <code>(URLClassLoader) getClass().getClassLoader()</code> or <code>(URLClassLoader) ClassLoader.getSystemClassLoader()</code> sequences will no longer execute.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ModuleLayer.html\" rel=\"nofollow noreferrer\">java.lang.ModuleLayer</a> would be an alternative approach used in order to influence the <em>modulepath</em> (instead of the classpath). See for instance &quot;<a href=\"http://blog.joda.org/2017/04/java-9-modules-jpms-basics.html\" rel=\"nofollow noreferrer\">Java 9 modules - JPMS basics</a>&quot;.</p>\n<hr />\n<p>For Java 8 or below:</p>\n<p>Some general comments:</p>\n<p>you cannot (in a portable way that's guaranteed to work, see below) change the system classpath. Instead, you need to define a new ClassLoader.</p>\n<p>ClassLoaders work in a hierarchical manner... so any class that makes a static reference to class X needs to be loaded in the same ClassLoader as X, or in a child ClassLoader. You can NOT use any custom ClassLoader to make code loaded by the system ClassLoader link properly, if it wouldn't have done so before. So you need to arrange for your main application code to be run in the custom ClassLoader in addition to the extra code that you locate.<br />\n(That being said, <a href=\"https://stackoverflow.com/users/188524/cracked-all\">cracked-all</a> mentions in the comments this example of <a href=\"http://snippets.dzone.com/posts/show/3574\" rel=\"nofollow noreferrer\">extending the  <code>URLClassLoader</code></a>)</p>\n<p>And you might consider not writing your own ClassLoader, but just use URLClassLoader instead. Create a URLClassLoader with a url that are <em>not</em> in the parent classloaders url's.</p>\n<pre><code>URL[] url={new URL(&quot;file://foo&quot;)};\nURLClassLoader loader = new URLClassLoader(url);\n</code></pre>\n<p>A <a href=\"http://robertmaldon.blogspot.com/2007/11/dynamically-add-to-eclipse-junit.html\" rel=\"nofollow noreferrer\">more complete solution</a> would  be:</p>\n<pre><code>ClassLoader currentThreadClassLoader\n = Thread.currentThread().getContextClassLoader();\n\n// Add the conf dir to the classpath\n// Chain the current thread classloader\nURLClassLoader urlClassLoader\n = new URLClassLoader(new URL[]{new File(&quot;mtFile&quot;).toURL()},\n                      currentThreadClassLoader);\n\n// Replace the thread classloader - assumes\n// you have permissions to do so\nThread.currentThread().setContextClassLoader(urlClassLoader);\n</code></pre>\n<p>If you assume the JVMs system classloader is a URLClassLoader (which may not be true for all JVMs), you can use reflection as well to actually modify the system classpath... (but that's a hack;)):</p>\n<pre><code>public void addURL(URL url) throws Exception {\n  URLClassLoader classLoader\n         = (URLClassLoader) ClassLoader.getSystemClassLoader();\n  Class clazz= URLClassLoader.class;\n\n  // Use reflection\n  Method method= clazz.getDeclaredMethod(&quot;addURL&quot;, new Class[] { URL.class });\n  method.setAccessible(true);\n  method.invoke(classLoader, new Object[] { url });\n}\n\naddURL(new File(&quot;conf&quot;).toURL());\n\n// This should work now!\nThread.currentThread().getContextClassLoader().getResourceAsStream(&quot;context.xml&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4309,"reputation":7967,"user_id":6414,"accept_rate":57,"display_name":"Henry B"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1225448617,"creation_date":1225448617,"answer_id":253059,"question_id":252893,"body_markdown":"It is possible as seen from the two links below, the method VonC gives seems to be the best but check out some of these posts and google for &quot;Java Dynamic Classpath&quot; or &quot;Java Dynamic Class Loading&quot; and find out some info from there.\r\n\r\nI&#39;d post in more depth but VonC has pretty much done the job.\r\n\r\nFrom &lt;a href=&quot;http://twit88.com/blog/2007/10/04/java-dynamic-loading-of-class-and-jar-file/&quot;&gt;Dynamic loading of class and Jar files&lt;/a&gt;.\r\n\r\nAlso check this &lt;a href=&quot;http://forums.sun.com/thread.jspa?threadID=300557&quot;&gt;sun forum post&lt;/a&gt;.\r\n\r\n","title":"How do you change the CLASSPATH within Java?","body":"<p>It is possible as seen from the two links below, the method VonC gives seems to be the best but check out some of these posts and google for \"Java Dynamic Classpath\" or \"Java Dynamic Class Loading\" and find out some info from there.</p>\n\n<p>I'd post in more depth but VonC has pretty much done the job.</p>\n\n<p>From <a href=\"http://twit88.com/blog/2007/10/04/java-dynamic-loading-of-class-and-jar-file/\" rel=\"nofollow noreferrer\">Dynamic loading of class and Jar files</a>.</p>\n\n<p>Also check this <a href=\"http://forums.sun.com/thread.jspa?threadID=300557\" rel=\"nofollow noreferrer\">sun forum post</a>.</p>\n"},{"tags":[],"owner":{"account_id":85867,"reputation":971,"user_id":239140,"accept_rate":100,"display_name":"myfreeweb"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1343897346,"creation_date":1311163067,"answer_id":6761503,"question_id":252893,"body_markdown":"There&#39;s no need to write your own class loader! There&#39;s [clojure.lang.DynamicClassLoader][1].\r\n\r\nhttp://blog.japila.pl/2011/01/dynamically-redefining-classpath-in-clojure-repl/\r\n\r\n\r\n  [1]: http://code.google.com/p/clojure/source/browse/trunk/src/jvm/clojure/lang/DynamicClassLoader.java","title":"How do you change the CLASSPATH within Java?","body":"<p>There's no need to write your own class loader! There's <a href=\"http://code.google.com/p/clojure/source/browse/trunk/src/jvm/clojure/lang/DynamicClassLoader.java\" rel=\"nofollow\">clojure.lang.DynamicClassLoader</a>.</p>\n\n<p><a href=\"http://blog.japila.pl/2011/01/dynamically-redefining-classpath-in-clojure-repl/\" rel=\"nofollow\">http://blog.japila.pl/2011/01/dynamically-redefining-classpath-in-clojure-repl/</a></p>\n"},{"tags":[],"owner":{"account_id":3376874,"reputation":33,"user_id":2834852,"display_name":"Akhi Youngisthan"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1381400951,"creation_date":1381400220,"answer_id":19293096,"question_id":252893,"body_markdown":"    String s=&quot;java  -classpath abcd/ &quot;+pgmname+&quot; &quot;+filename;   \r\n    Process pro2 = Runtime.getRuntime().exec(s); \r\n    BufferedReader in = new BufferedReader(new InputStreamReader(pro2.getInputStream()));\r\n\r\nis an example of changin the classpath in java program\r\n","title":"How do you change the CLASSPATH within Java?","body":"<pre><code>String s=\"java  -classpath abcd/ \"+pgmname+\" \"+filename;   \nProcess pro2 = Runtime.getRuntime().exec(s); \nBufferedReader in = new BufferedReader(new InputStreamReader(pro2.getInputStream()));\n</code></pre>\n\n<p>is an example of changin the classpath in java program</p>\n"}],"owner":{"account_id":4105,"reputation":281414,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78494,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":252967,"answer_count":6,"score":64,"last_activity_date":1692907661,"creation_date":1225442673,"question_id":252893,"body_markdown":"How do you change the CLASSPATH of a Java process from within the Java process?\r\n\r\n----------\r\n\r\nBefore you ask me &quot;Why would you want to do that?&quot; I&#39;ll explain it shortly. \r\n\r\n&gt; When you have a Clojure REPL running it is common to need more jars in your CLASSPATH to load a [Clojure][1] source file, and I&#39;d like to do it without having to restart Clojure itself (which is not really an option when using it on Slime on Emacs).\r\n\r\nThat&#39;s the reason but I don&#39;t want this question tagged as some-weird-language some-weird-editor and be disregarded by the majority of Java developers that may have the answer.\r\n\r\n\r\n  [1]: http://clojure.org","title":"How do you change the CLASSPATH within Java?","body":"<p>How do you change the CLASSPATH of a Java process from within the Java process?</p>\n\n<hr>\n\n<p>Before you ask me \"Why would you want to do that?\" I'll explain it shortly. </p>\n\n<blockquote>\n  <p>When you have a Clojure REPL running it is common to need more jars in your CLASSPATH to load a <a href=\"http://clojure.org\" rel=\"noreferrer\">Clojure</a> source file, and I'd like to do it without having to restart Clojure itself (which is not really an option when using it on Slime on Emacs).</p>\n</blockquote>\n\n<p>That's the reason but I don't want this question tagged as some-weird-language some-weird-editor and be disregarded by the majority of Java developers that may have the answer.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":6,"creation_date":1391203270,"post_id":21490246,"comment_id":32438753,"body_markdown":"One screw ball way to do this would be just to set a global flag when its been called once and check for it again.","body":"One screw ball way to do this would be just to set a global flag when its been called once and check for it again."},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":0,"creation_date":1391204207,"post_id":21490246,"comment_id":32439269,"body_markdown":"@noMAD Sounds more like you would need a counter to increment at the beginning of the method, and decrement when it returns. You haven&#39;t been called recursively if the counter is 1 (just yourself). NVM, didn&#39;t fully read the spec, actually wants to error on recursion, just thought maybe he wants to branch on that condition","body":"@noMAD Sounds more like you would need a counter to increment at the beginning of the method, and decrement when it returns. You haven&#39;t been called recursively if the counter is 1 (just yourself). NVM, didn&#39;t fully read the spec, actually wants to error on recursion, just thought maybe he wants to branch on that condition"}],"answers":[{"tags":[],"owner":{"account_id":260566,"reputation":39098,"user_id":544198,"accept_rate":89,"display_name":"PearsonArtPhoto"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391204135,"creation_date":1391203355,"answer_id":21490306,"question_id":21490246,"body_markdown":"It&#39;s easier if you try to detect it only on the second round. Something like this should work.\r\n\r\n\r\n    boolean isRunning;\r\n    \r\n    public void myMethod() {\r\n        if (isRunning) {\r\n            throw new RuntimeException(&quot;do not call me&quot;);\r\n        }\r\n        isRunning=true;\r\n        handler();\r\n        isRunning=false;\r\n    }","title":"How to detect recursion in Java methods","body":"<p>It's easier if you try to detect it only on the second round. Something like this should work.</p>\n\n<pre><code>boolean isRunning;\n\npublic void myMethod() {\n    if (isRunning) {\n        throw new RuntimeException(\"do not call me\");\n    }\n    isRunning=true;\n    handler();\n    isRunning=false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391203372,"creation_date":1391203372,"answer_id":21490316,"question_id":21490246,"body_markdown":"IF your program is all synchronous, you can set a flag\r\n\r\n    bool calling = false;\r\n    public void myMethod() {\r\n         \r\n         if( calling ) {\r\n            throw new RuntimeException(&quot;do not call me&quot;);\r\n         } \r\n         calling = true;\r\n    \r\n    ...\r\n    \r\n        calling = false\r\n    }","title":"How to detect recursion in Java methods","body":"<p>IF your program is all synchronous, you can set a flag</p>\n\n<pre><code>bool calling = false;\npublic void myMethod() {\n\n     if( calling ) {\n        throw new RuntimeException(\"do not call me\");\n     } \n     calling = true;\n\n...\n\n    calling = false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2758406,"reputation":882,"user_id":2375834,"accept_rate":100,"display_name":"useSticks"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1391203784,"creation_date":1391203429,"answer_id":21490335,"question_id":21490246,"body_markdown":"If you want to look at the current stack trace and check for yourself:\r\n\r\n    StackTraceElement[] trace = Thread.currentThread().getStackTrace();\r\n\r\n    for(int i=0; i &lt; trace.length; i++) {\r\n        //look for yourself and exit\r\n    }","title":"How to detect recursion in Java methods","body":"<p>If you want to look at the current stack trace and check for yourself:</p>\n\n<pre><code>StackTraceElement[] trace = Thread.currentThread().getStackTrace();\n\nfor(int i=0; i &lt; trace.length; i++) {\n    //look for yourself and exit\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2761390,"reputation":1159,"user_id":2378225,"accept_rate":62,"display_name":"Steve Oh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1391212726,"creation_date":1391212726,"answer_id":21492314,"question_id":21490246,"body_markdown":"I got it right with useSticks&#39; answer like that:\r\n\r\n    public void myMethod() {\r\n\t\tfinal StackTraceElement[] trace = Thread.currentThread().getStackTrace();\r\n\r\n\t\tfor(int i=0; i &lt; trace.length-1; i++) {\r\n\t\t\tif( trace[i].equals(trace[trace.length-1]) ) {\r\n\t\t\t\tthrow new RuntimeException(&quot;do not call me again&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\thandle();\r\n    }\r\n\r\nthanks to all of you\r\n\r\n","title":"How to detect recursion in Java methods","body":"<p>I got it right with useSticks' answer like that:</p>\n\n<pre><code>public void myMethod() {\n    final StackTraceElement[] trace = Thread.currentThread().getStackTrace();\n\n    for(int i=0; i &lt; trace.length-1; i++) {\n        if( trace[i].equals(trace[trace.length-1]) ) {\n            throw new RuntimeException(\"do not call me again\");\n        }\n    }\n\n    handle();\n}\n</code></pre>\n\n<p>thanks to all of you</p>\n"}],"owner":{"account_id":2761390,"reputation":1159,"user_id":2378225,"accept_rate":62,"display_name":"Steve Oh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21490335,"answer_count":4,"score":1,"last_activity_date":1692907538,"creation_date":1391203154,"question_id":21490246,"body_markdown":"How can I check from inside a method body if a method that I call calls my method back?\r\n\r\n\r\n    // the method that I control\r\n    public void myMethod() {\r\n         if( stackContainsMyMethod() ) {\r\n            throw new RuntimeException(&quot;do not call me&quot;);\r\n         } \r\n         ...\r\n         handler();\r\n    }\r\n\r\n    // someone else implements this\r\n    protected abstract void handler();\r\n\r\n\r\nThe handler must not call __myMethod()__. I want to enforce this at runtime.\r\n\r\nCan anyone help with a simple approach?\r\n\r\n\r\n\r\n\r\n","title":"How to detect recursion in Java methods","body":"<p>How can I check from inside a method body if a method that I call calls my method back?</p>\n<pre><code>// the method that I control\npublic void myMethod() {\n     if( stackContainsMyMethod() ) {\n        throw new RuntimeException(&quot;do not call me&quot;);\n     } \n     ...\n     handler();\n}\n\n// someone else implements this\nprotected abstract void handler();\n</code></pre>\n<p>The handler must not call <strong>myMethod()</strong>. I want to enforce this at runtime.</p>\n<p>Can anyone help with a simple approach?</p>\n"},{"tags":["java","apache","maven","tomcat","netbeans"],"answers":[{"tags":[],"owner":{"account_id":8707591,"reputation":2219,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483448109,"creation_date":1483448109,"answer_id":41444018,"question_id":41439533,"body_markdown":"It seemd there is a &lt;code&gt;version conflict&lt;/code&gt; between your **tomcat** and **jre**. And here is the [version mapping between tomcat and jre](http://tomcat.apache.org/whichversion.html).","title":"SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal","body":"<p>It seemd there is a <code>version conflict</code> between your <strong>tomcat</strong> and <strong>jre</strong>. And here is the <a href=\"http://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">version mapping between tomcat and jre</a>.</p>\n"},{"tags":[],"owner":{"account_id":5182340,"reputation":443,"user_id":4147686,"display_name":"Patience Mpofu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508095546,"creation_date":1508095546,"answer_id":46759078,"question_id":41439533,"body_markdown":"In my case this was happening because some old projects that I deleted via the IDE were still deployed (though stopped) by Tomcat. In the Services window (cmd + 5 to open), under Servers, collapse the Apache Tomcat or TomEE folder, then collapse the Web Applications folder, right click `/aoanalysis` then select Undeploy. This worked for me.","title":"SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal","body":"<p>In my case this was happening because some old projects that I deleted via the IDE were still deployed (though stopped) by Tomcat. In the Services window (cmd + 5 to open), under Servers, collapse the Apache Tomcat or TomEE folder, then collapse the Web Applications folder, right click <code>/aoanalysis</code> then select Undeploy. This worked for me.</p>\n"}],"owner":{"account_id":8909131,"reputation":31,"user_id":6650017,"accept_rate":50,"display_name":"Komal Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692907505,"creation_date":1483433123,"question_id":41439533,"body_markdown":"I&#39;ve just opened the project in netbeans, cleaned and build it then run the project but its showing the following error message.\r\n\r\nNote:Same project is working fine in other systems.\r\n\r\n```\r\n03-Jan-2017 13:38:30.767 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \r\n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.LinkageError: loader constraint violation: loader (instance of org/apache/catalina/loader/WebappClassLoader) previously initiated loading for a different type with name &quot;javax/servlet/ServletContext&quot;\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n\tat org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:894)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1298)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1175)\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:167)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5148)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 10 more\r\n\r\n03-Jan-2017 13:38:30.770 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/ROOT.xml\r\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n03-Jan-2017 13:38:30.770 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/aoanalysis.xml\r\n03-Jan-2017 13:38:30.772 WARNING [localhost-startStop-1] org.apache.catalina.startup.SetContextPropertiesRule.begin [SetContextPropertiesRule]{Context} Setting property &#39;antiJARLocking&#39; to &#39;true&#39; did not find a matching property.\r\n03-Jan-2017 13:38:30.774 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \r\n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/aoanalysis]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@3787a790]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4842)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4967)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 10 more\r\nCaused by: java.lang.IllegalArgumentException: The main resource set specified [/home/netsys/Documents/aoanalysis/build/web] is not valid\r\n\tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:634)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 13 more\r\n\r\n03-Jan-2017 13:38:30.774 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/aoanalysis.xml\r\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/aoanalysis]]\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nMy pom.xml is\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.abc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xyz&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;xyz&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;spring-version&gt;4.2.1.RELEASE&lt;/spring-version&gt;\r\n        &lt;hibernate.version&gt;4.3.8.Final&lt;/hibernate.version&gt;\r\n        &lt;mysql.version&gt;5.1.10&lt;/mysql.version&gt;\r\n        &lt;junit-version&gt;4.11&lt;/junit-version&gt;\r\n        &lt;servlet-api-version&gt;2.5&lt;/servlet-api-version&gt;\r\n        &lt;jsp-version&gt;2.1&lt;/jsp-version&gt;\r\n        &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\r\n        &lt;google-client.version&gt;1.17.0-rc&lt;/google-client.version&gt; &lt;!-- httpclient version --&gt;\r\n        &lt;com.google.api-ads.version&gt;2.15.0&lt;/com.google.api-ads.version&gt; &lt;!--google api version --&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Reporting --&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.4&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jfree&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.17&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nl.bitwalker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.4&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Hibernate framework--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Spring framwork --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Logging --&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n        &lt;!-- Adwords API  --&gt;     \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adwords-axis&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.0&lt;/version&gt; &lt;!--google api version --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--  Ads client library dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ads-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;${com.google.api-ads.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adwords-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;${com.google.api-ads.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aw-reporting&lt;/artifactId&gt;         \r\n            &lt;version&gt;1.11.0-SNAPSHOT&lt;/version&gt;  &lt;!--aw reporting version --&gt;      \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aw-reporting-model&lt;/artifactId&gt; \r\n            &lt;version&gt;1.11.0-SNAPSHOT&lt;/version&gt;   &lt;!--aw reporting model version --&gt;     \r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;${jstl-version}&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n        &lt;!-- Junit Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--  org.apache.poi configuration--&gt; \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n                &lt;!-- JSON Processor --&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n                \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;7.0&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n``` ","title":"SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal","body":"<p>I've just opened the project in netbeans, cleaned and build it then run the project but its showing the following error message.</p>\n<p>Note:Same project is working fine in other systems.</p>\n<pre><code>03-Jan-2017 13:38:30.767 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.LinkageError: loader constraint violation: loader (instance of org/apache/catalina/loader/WebappClassLoader) previously initiated loading for a different type with name &quot;javax/servlet/ServletContext&quot;\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:760)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:894)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1298)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1175)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:167)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5148)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 10 more\n\n03-Jan-2017 13:38:30.770 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/ROOT.xml\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n03-Jan-2017 13:38:30.770 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/aoanalysis.xml\n03-Jan-2017 13:38:30.772 WARNING [localhost-startStop-1] org.apache.catalina.startup.SetContextPropertiesRule.begin [SetContextPropertiesRule]{Context} Setting property 'antiJARLocking' to 'true' did not find a matching property.\n03-Jan-2017 13:38:30.774 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/aoanalysis]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@3787a790]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4842)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4967)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 10 more\nCaused by: java.lang.IllegalArgumentException: The main resource set specified [/home/netsys/Documents/aoanalysis/build/web] is not valid\n    at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:634)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 13 more\n\n03-Jan-2017 13:38:30.774 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/aoanalysis.xml\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/aoanalysis]]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>My pom.xml is</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.abc&lt;/groupId&gt;\n    &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;xyz&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;spring-version&gt;4.2.1.RELEASE&lt;/spring-version&gt;\n        &lt;hibernate.version&gt;4.3.8.Final&lt;/hibernate.version&gt;\n        &lt;mysql.version&gt;5.1.10&lt;/mysql.version&gt;\n        &lt;junit-version&gt;4.11&lt;/junit-version&gt;\n        &lt;servlet-api-version&gt;2.5&lt;/servlet-api-version&gt;\n        &lt;jsp-version&gt;2.1&lt;/jsp-version&gt;\n        &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\n        &lt;google-client.version&gt;1.17.0-rc&lt;/google-client.version&gt; &lt;!-- httpclient version --&gt;\n        &lt;com.google.api-ads.version&gt;2.15.0&lt;/com.google.api-ads.version&gt; &lt;!--google api version --&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Reporting --&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jfree&lt;/groupId&gt;\n            &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\n            &lt;version&gt;1.0.17&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;nl.bitwalker&lt;/groupId&gt;\n            &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\n            &lt;version&gt;1.2.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hibernate framework--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.2.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Spring framwork --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Logging --&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt; \n        &lt;!-- Adwords API  --&gt;     \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;adwords-axis&lt;/artifactId&gt;\n            &lt;version&gt;2.15.0&lt;/version&gt; &lt;!--google api version --&gt;\n        &lt;/dependency&gt;\n        &lt;!--  Ads client library dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;ads-lib&lt;/artifactId&gt;\n            &lt;version&gt;${com.google.api-ads.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;adwords-appengine&lt;/artifactId&gt;\n            &lt;version&gt;${com.google.api-ads.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;aw-reporting&lt;/artifactId&gt;         \n            &lt;version&gt;1.11.0-SNAPSHOT&lt;/version&gt;  &lt;!--aw reporting version --&gt;      \n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;aw-reporting-model&lt;/artifactId&gt; \n            &lt;version&gt;1.11.0-SNAPSHOT&lt;/version&gt;   &lt;!--aw reporting model version --&gt;     \n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;${jstl-version}&lt;/version&gt;\n        &lt;/dependency&gt; \n        &lt;!-- Junit Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--  org.apache.poi configuration--&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.8&lt;/version&gt;\n        &lt;/dependency&gt; \n                &lt;!-- JSON Processor --&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.13&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.16&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                    &lt;version&gt;7.0&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1691187638,"post_id":76839224,"comment_id":135463304,"body_markdown":"Your autoconfig class is not a `@Configuration` class, it&#39;s maybe not picked up as one, see https://github.com/eugenp/tutorials/blob/master/spring-boot-modules/spring-boot-custom-starter/greeter-spring-boot-autoconfigure/src/main/java/com/baeldung/greeter/autoconfigure/GreeterAutoConfiguration.java","body":"Your autoconfig class is not a <code>@Configuration</code> class, it&#39;s maybe not picked up as one, see <a href=\"https://github.com/eugenp/tutorials/blob/master/spring-boot-modules/spring-boot-custom-starter/greeter-spring-boot-autoconfigure/src/main/java/com/baeldung/greeter/autoconfigure/GreeterAutoConfiguration.java\" rel=\"nofollow noreferrer\">github.com/eugenp/tutorials/blob/master/spring-boot-modules/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":29161273,"reputation":1,"user_id":22339981,"display_name":"Sideman4J"},"score":0,"creation_date":1691195333,"post_id":76839224,"comment_id":135463911,"body_markdown":"Thank you – I&#39;ve been working in a separate project and forgot that annotation. It still errs, but it&#39;s a _better_ error: &quot;Field greeter in com.example.app.StarterApplication required a bean of type &#39;com.example.starter.Greeter&#39; that could not be found.&quot;","body":"Thank you – I&#39;ve been working in a separate project and forgot that annotation. It still errs, but it&#39;s a <i>better</i> error: &quot;Field greeter in com.example.app.StarterApplication required a bean of type &#39;com.example.starter.Greeter&#39; that could not be found.&quot;"},{"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"score":0,"creation_date":1691199505,"post_id":76839224,"comment_id":135464084,"body_markdown":"Why are you trying to autoconfigure event-starter. Unless you are a framework developer I would avoid that. It is much easier to require clients to define the beans explicitly. I have worked with Spring boot for 10 years, and autoconfiguring is a lot of magic  both for the maintainer and every developer using you lib.","body":"Why are you trying to autoconfigure event-starter. Unless you are a framework developer I would avoid that. It is much easier to require clients to define the beans explicitly. I have worked with Spring boot for 10 years, and autoconfiguring is a lot of magic  both for the maintainer and every developer using you lib."},{"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"score":0,"creation_date":1691199832,"post_id":76839224,"comment_id":135464092,"body_markdown":"Also the project does not build after checkout, did you try it on a clean checkout? This is the error I get in Intellij\n```A problem occurred configuring project &#39;:application&#39;.\n&gt; Could not resolve all files for configuration &#39;:application:classpath&#39;.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\n```","body":"Also the project does not build after checkout, did you try it on a clean checkout? This is the error I get in Intellij <code>A problem occurred configuring project &#39;:application&#39;. &gt; Could not resolve all files for configuration &#39;:application:classpath&#39;.    &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1. </code>"},{"owner":{"account_id":29161273,"reputation":1,"user_id":22339981,"display_name":"Sideman4J"},"score":0,"creation_date":1691203298,"post_id":76839224,"comment_id":135464220,"body_markdown":"Thanks @KlausGroenbaek - strictly for the reason that it has been prominently mentioned in several tutorials. To be frank, the pattern that you are suggesting seems simpler. Apart from the “magic” is there anything about auto configure that makes it a bad fit for Spring? I’m not able to repro the second issue. The project built for me on a clean checkout.","body":"Thanks @KlausGroenbaek - strictly for the reason that it has been prominently mentioned in several tutorials. To be frank, the pattern that you are suggesting seems simpler. Apart from the “magic” is there anything about auto configure that makes it a bad fit for Spring? I’m not able to repro the second issue. The project built for me on a clean checkout."}],"answers":[{"tags":[],"owner":{"account_id":29161273,"reputation":1,"user_id":22339981,"display_name":"Sideman4J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692907077,"creation_date":1692907077,"answer_id":76972563,"question_id":76839224,"body_markdown":"I pushed a commit to the demo that fixes this issue, but in summary:\r\n- The required bean wasn&#39;t being picked up by Spring it was in a discrete package.\r\n- Adding `@SpringBootApplication(scanBasePackages = “com.example”)` where `com.example` is the parent package of both the starter AND the application fixed the problem. Conceivably, this could also be the neighbouring package directly.\r\n- A command from the demo starter bean gets picked up, run in the application, and output to the logs.","title":"How to handle missing dependency for a Bean defined in a spring boot starter modular Gradle build?","body":"<p>I pushed a commit to the demo that fixes this issue, but in summary:</p>\n<ul>\n<li>The required bean wasn't being picked up by Spring it was in a discrete package.</li>\n<li>Adding <code>@SpringBootApplication(scanBasePackages = “com.example”)</code> where <code>com.example</code> is the parent package of both the starter AND the application fixed the problem. Conceivably, this could also be the neighbouring package directly.</li>\n<li>A command from the demo starter bean gets picked up, run in the application, and output to the logs.</li>\n</ul>\n"}],"owner":{"account_id":29161273,"reputation":1,"user_id":22339981,"display_name":"Sideman4J"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692907077,"creation_date":1691185153,"question_id":76839224,"body_markdown":"For this demo:\r\n- I have a Bean defined in an `event-starter` module as a Spring Boot Starter that I want to consume in my application module: `application`. As far as I can tell, it has the right, albeit oversimplified, config in a `GreeterAutoConfiguration` file and `resources/META-INF/spring.factories`\r\n- My `build.gradle` file in the `application` module pulls in `event-starter` as a dependency like so:\r\n    ```\r\n        implementation project(&#39;:event-starter&#39;)\r\n    ```\r\n- I&#39;m using both `io.spring.dependency-management` and the `org.springframework.boot:spring-boot-configuration-processor` annotation processor.\r\n- and my build compiles as I would expect it to.\r\n\r\n\r\nHowever, when I actually _run_ the application, the Bean I am pulling in from the starter module does not appear to be discoverable by the Spring IoC container, and I don&#39;t know why:\r\n```\r\nField greeter in com.example.app.StarterApplication required a bean of type &#39;com.example.starter.Greeter&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.starter.Greeter&#39; in your configuration.\r\n```\r\n\r\nI&#39;m roughly using these two tutorials [[1](https://www.baeldung.com/spring-boot-custom-starter), [2](https://reflectoring.io/spring-boot-starter/)] for development and here is a link to the breaking demo:\r\n* https://github.com/Sideman4J/SpringStarterDemo\r\n\r\nAny help to identify what&#39;s missing/wrong would be greatly appreciated!","title":"How to handle missing dependency for a Bean defined in a spring boot starter modular Gradle build?","body":"<p>For this demo:</p>\n<ul>\n<li>I have a Bean defined in an <code>event-starter</code> module as a Spring Boot Starter that I want to consume in my application module: <code>application</code>. As far as I can tell, it has the right, albeit oversimplified, config in a <code>GreeterAutoConfiguration</code> file and <code>resources/META-INF/spring.factories</code></li>\n<li>My <code>build.gradle</code> file in the <code>application</code> module pulls in <code>event-starter</code> as a dependency like so:\n<pre><code>    implementation project(':event-starter')\n</code></pre>\n</li>\n<li>I'm using both <code>io.spring.dependency-management</code> and the <code>org.springframework.boot:spring-boot-configuration-processor</code> annotation processor.</li>\n<li>and my build compiles as I would expect it to.</li>\n</ul>\n<p>However, when I actually <em>run</em> the application, the Bean I am pulling in from the starter module does not appear to be discoverable by the Spring IoC container, and I don't know why:</p>\n<pre><code>Field greeter in com.example.app.StarterApplication required a bean of type 'com.example.starter.Greeter' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.example.starter.Greeter' in your configuration.\n</code></pre>\n<p>I'm roughly using these two tutorials [<a href=\"https://www.baeldung.com/spring-boot-custom-starter\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://reflectoring.io/spring-boot-starter/\" rel=\"nofollow noreferrer\">2</a>] for development and here is a link to the breaking demo:</p>\n<ul>\n<li><a href=\"https://github.com/Sideman4J/SpringStarterDemo\" rel=\"nofollow noreferrer\">https://github.com/Sideman4J/SpringStarterDemo</a></li>\n</ul>\n<p>Any help to identify what's missing/wrong would be greatly appreciated!</p>\n"},{"tags":["java","docker","quarkus","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1692908733,"post_id":76972530,"comment_id":135692210,"body_markdown":"https://github.com/quarkusio/quarkus/issues/3645#issuecomment-1692315047 may help, is this same issue ?","body":"<a href=\"https://github.com/quarkusio/quarkus/issues/3645#issuecomment-1692315047\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/&hellip;</a> may help, is this same issue ?"},{"owner":{"account_id":483248,"reputation":2063,"user_id":898162,"accept_rate":71,"display_name":"Eugene Shmorgun"},"score":0,"creation_date":1692947006,"post_id":76972530,"comment_id":135696404,"body_markdown":"It was me who created the issue","body":"It was me who created the issue"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1692991674,"post_id":76972530,"comment_id":135705803,"body_markdown":"did you update the camel dependencies and did it fix it ? you can put it as answer :)","body":"did you update the camel dependencies and did it fix it ? you can put it as answer :)"}],"owner":{"account_id":483248,"reputation":2063,"user_id":898162,"accept_rate":71,"display_name":"Eugene Shmorgun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692906706,"creation_date":1692906706,"question_id":76972530,"body_markdown":"There are pretty big count of questions regarding native images based on GraalVM in Quarkus. Let me add new one.\r\n\r\nBasically I have a Quarkus app which uses org.apache.camel to support Amazon SQS functionality. When I start building the native image using OpenJDK 64-Bit Server VM GraalVM CE 21.3.3 I always get the following error\r\n\r\n    Error: could not find target field: private static org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansWeakCache org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansIntrospector.declaredMethodCache\r\n    com.oracle.svm.core.util.UserError$UserException: could not find target field: private static org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansWeakCache org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansIntrospector.declaredMethodCache\r\n            at com.oracle.svm.core.util.UserError.abort(UserError.java:73)\r\n\r\nwhich tells me as it seems to me that GraalVM-engine experiencing some problems when analyzes the SubstituteBeansWeakCache.\r\n\r\nIn such case quarkus guide [recommends][1] to use the maven argument like this\r\n\r\n    &lt;quarkus.native.additional-build-args&gt;--initialize-at-run-time=com.example.SomeClass\\,org.acme.SomeOtherClass&lt;/quarkus.native.additional-build-args&gt;\r\n\r\nbut pity it does not work in terms of above-mentioned error keeps happening.\r\n\r\nThank you. \r\n\r\n\r\n  [1]: https://quarkus.io/guides/writing-native-applications-tips","title":"GraalVM: Error could not find target field: private static during native image build in Quarkus","body":"<p>There are pretty big count of questions regarding native images based on GraalVM in Quarkus. Let me add new one.</p>\n<p>Basically I have a Quarkus app which uses org.apache.camel to support Amazon SQS functionality. When I start building the native image using OpenJDK 64-Bit Server VM GraalVM CE 21.3.3 I always get the following error</p>\n<pre><code>Error: could not find target field: private static org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansWeakCache org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansIntrospector.declaredMethodCache\ncom.oracle.svm.core.util.UserError$UserException: could not find target field: private static org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansWeakCache org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansIntrospector.declaredMethodCache\n        at com.oracle.svm.core.util.UserError.abort(UserError.java:73)\n</code></pre>\n<p>which tells me as it seems to me that GraalVM-engine experiencing some problems when analyzes the SubstituteBeansWeakCache.</p>\n<p>In such case quarkus guide <a href=\"https://quarkus.io/guides/writing-native-applications-tips\" rel=\"nofollow noreferrer\">recommends</a> to use the maven argument like this</p>\n<pre><code>&lt;quarkus.native.additional-build-args&gt;--initialize-at-run-time=com.example.SomeClass\\,org.acme.SomeOtherClass&lt;/quarkus.native.additional-build-args&gt;\n</code></pre>\n<p>but pity it does not work in terms of above-mentioned error keeps happening.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","intellij-idea","recording"],"answers":[{"tags":[],"owner":{"account_id":331418,"reputation":19117,"user_id":656069,"display_name":"Brian Kelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692906601,"creation_date":1692906601,"answer_id":76972522,"question_id":76445019,"body_markdown":"This issue was addressed in the AppMap Java agent v.1.20.0.","title":"AppMap recorder fails to start with unknown API Endpoint error","body":"<p>This issue was addressed in the AppMap Java agent v.1.20.0.</p>\n"}],"owner":{"account_id":6786419,"reputation":23,"user_id":5225028,"display_name":"Andre Kapp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692906601,"creation_date":1686379052,"question_id":76445019,"body_markdown":"I&#39;m running a SpringBoot 2.7.12 reactive stack application on my Macbook Pro. Using IntelliJ Ultimate with Java 17, MariaDB, R2DBC and some AWS service integrations.\r\nInstalled the IntelliJ plugin for AppMap.\r\nRunning IntegrationTest works fine - impressive.\r\n\r\nHowever, trying to start a recording fails due to the endpoint not existing in the application.\r\nFollowing is a log snipped:\r\n```\r\n2023-06-10 10:22:12.845 DEBUG [CUSTOMER-SERVICE,e9a3b813acbf717e,e9a3b813acbf717e] 23817 --- [               parallel-9] z.c.m.customer.filter.RequestWebFilter   : Received api endpoint hit : [path : /_appmap/record]\r\n2023-06-10 10:22:12.848 ERROR [CUSTOMER-SERVICE,e9a3b813acbf717e,e9a3b813acbf717e] 23817 --- [               parallel-9] z.c.m.c.e.e.CustomAttributes             : Exception happened =&gt; message: 404 NOT_FOUND &quot;No matching handler&quot; stacktrace: [org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159)] \r\n```\r\nI have not added the Maven build configuration to the pom.xml file. From what I can see from the documentation it is not required.\r\n\r\nAny pointers to get this going?\r\nReally looks like a super cool utility.","title":"AppMap recorder fails to start with unknown API Endpoint error","body":"<p>I'm running a SpringBoot 2.7.12 reactive stack application on my Macbook Pro. Using IntelliJ Ultimate with Java 17, MariaDB, R2DBC and some AWS service integrations.\nInstalled the IntelliJ plugin for AppMap.\nRunning IntegrationTest works fine - impressive.</p>\n<p>However, trying to start a recording fails due to the endpoint not existing in the application.\nFollowing is a log snipped:</p>\n<pre><code>2023-06-10 10:22:12.845 DEBUG [CUSTOMER-SERVICE,e9a3b813acbf717e,e9a3b813acbf717e] 23817 --- [               parallel-9] z.c.m.customer.filter.RequestWebFilter   : Received api endpoint hit : [path : /_appmap/record]\n2023-06-10 10:22:12.848 ERROR [CUSTOMER-SERVICE,e9a3b813acbf717e,e9a3b813acbf717e] 23817 --- [               parallel-9] z.c.m.c.e.e.CustomAttributes             : Exception happened =&gt; message: 404 NOT_FOUND &quot;No matching handler&quot; stacktrace: [org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159)] \n</code></pre>\n<p>I have not added the Maven build configuration to the pom.xml file. From what I can see from the documentation it is not required.</p>\n<p>Any pointers to get this going?\nReally looks like a super cool utility.</p>\n"},{"tags":["java","google-app-engine","intellij-idea","jstl"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1314778429,"post_id":7253034,"comment_id":8727363,"body_markdown":"What IDEA version do you use? IDEA 10.5.1 should handle it fine, but there was a problem with IDEA 10.0.3. We also have similar bug report for 10.5, but we are not able to reproduce it: http://youtrack.jetbrains.net/issue/IDEA-69942. Try to reinstall IDEA 10.5.1 or 10.5.2 from http://confluence.jetbrains.net/display/IDEADEV/IDEA+10.5+EAP.","body":"What IDEA version do you use? IDEA 10.5.1 should handle it fine, but there was a problem with IDEA 10.0.3. We also have similar bug report for 10.5, but we are not able to reproduce it: <a href=\"http://youtrack.jetbrains.net/issue/IDEA-69942\" rel=\"nofollow noreferrer\">youtrack.jetbrains.net/issue/IDEA-69942</a>. Try to reinstall IDEA 10.5.1 or 10.5.2 from <a href=\"http://confluence.jetbrains.net/display/IDEADEV/IDEA+10.5+EAP\" rel=\"nofollow noreferrer\">confluence.jetbrains.net/display/IDEADEV/IDEA+10.5+EAP</a>."},{"owner":{"account_id":7818,"reputation":16514,"user_id":13713,"accept_rate":91,"display_name":"Joel"},"score":0,"creation_date":1314803146,"post_id":7253034,"comment_id":8734227,"body_markdown":"I&#39;m on 10.5.1 (June 29, 2011). Could it be because I don&#39;t have the J2EE sdk installed on my machine? It never occurred to me as the problem since IntelliJ usually auto-downloads any jars for built-in support.","body":"I&#39;m on 10.5.1 (June 29, 2011). Could it be because I don&#39;t have the J2EE sdk installed on my machine? It never occurred to me as the problem since IntelliJ usually auto-downloads any jars for built-in support."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1314806307,"post_id":7253034,"comment_id":8735415,"body_markdown":"You need JSTL libraries downloaded and added to the module dependencies: http://www.jetbrains.com/idea/webhelp/configuring-module-dependencies-and-libraries.html.","body":"You need JSTL libraries downloaded and added to the module dependencies: <a href=\"http://www.jetbrains.com/idea/webhelp/configuring-module-dependencies-and-libraries.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/webhelp/&hellip;</a>."},{"owner":{"account_id":7818,"reputation":16514,"user_id":13713,"accept_rate":91,"display_name":"Joel"},"score":1,"creation_date":1314855383,"post_id":7253034,"comment_id":8745658,"body_markdown":"yeah, I feel silly now. If you want to add that as an answer I&#39;ll mark it as correct. Thanks for the help.","body":"yeah, I feel silly now. If you want to add that as an answer I&#39;ll mark it as correct. Thanks for the help."},{"owner":{"account_id":6915852,"reputation":894,"user_id":5310163,"display_name":"Shams Ul Azeem"},"score":0,"creation_date":1441718641,"post_id":7253034,"comment_id":52780029,"body_markdown":"http://stackoverflow.com/questions/31043869/intellij-and-jsp-jstl-cannot-resolve-taglib-for-jstl-in-tomcat7/32444393#32444393","body":"<a href=\"http://stackoverflow.com/questions/31043869/intellij-and-jsp-jstl-cannot-resolve-taglib-for-jstl-in-tomcat7/32444393#32444393\" title=\"intellij and jsp jstl cannot resolve taglib for jstl in tomcat7\">stackoverflow.com/questions/31043869/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1532389534,"creation_date":1314868231,"answer_id":7268230,"question_id":7253034,"body_markdown":"Make sure that JSTL library jars are added to the [module dependencies][1].\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/working-with-module-dependencies.html","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>Make sure that JSTL library jars are added to the <a href=\"https://www.jetbrains.com/help/idea/working-with-module-dependencies.html\" rel=\"nofollow noreferrer\">module dependencies</a>.</p>\n"},{"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1511890700,"creation_date":1415700855,"answer_id":26862422,"question_id":7253034,"body_markdown":"Add something like this to your `pom.xml` under the `&lt;dependencies&gt;` node (you are using maven, right?):\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor gradle and other build systems see https://mvnrepository.com/artifact/javax.servlet/servlet-api/2.5\r\n\r\nAlso, make sure you pick a suitable version for your project. To see all available versions check [here][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javax.servlet/servlet-api","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>Add something like this to your <code>pom.xml</code> under the <code>&lt;dependencies&gt;</code> node (you are using maven, right?):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For gradle and other build systems see <a href=\"https://mvnrepository.com/artifact/javax.servlet/servlet-api/2.5\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.servlet/servlet-api/2.5</a></p>\n\n<p>Also, make sure you pick a suitable version for your project. To see all available versions check <a href=\"https://mvnrepository.com/artifact/javax.servlet/servlet-api\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4550280,"reputation":1931,"user_id":3695748,"display_name":"V&#237;tor Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479341058,"creation_date":1479341058,"answer_id":40644561,"question_id":7253034,"body_markdown":"In my case, I had to download the .jar from apache ([https://tomcat.apache.org/taglibs/standard/][1]) and add to my project dependencies.\r\n\r\n    File &gt; Project Structure &gt; Modules &gt; Dependencies\r\n\r\n  [1]: https://tomcat.apache.org/taglibs/standard/\r\n","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>In my case, I had to download the .jar from apache (<a href=\"https://tomcat.apache.org/taglibs/standard/\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/taglibs/standard/</a>) and add to my project dependencies.</p>\n\n<pre><code>File &gt; Project Structure &gt; Modules &gt; Dependencies\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15295407,"reputation":11,"user_id":11035676,"display_name":"MykoCh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583941604,"creation_date":1583931486,"answer_id":60636598,"question_id":7253034,"body_markdown":"I resolved it by adding `jstl-1.2` in the libraries.\r\n\r\n- Right-click on &quot;project&quot;\r\n- Then go into &quot;open modules setting&quot;\r\n- Then in &quot;libraries&quot; click on the &quot;+&quot;, then &quot;add with maven&quot;\r\n- Click on the checkbox to download in a folder, change the folder path for `.../WEB-INF/lib` (create the `lib` folder)\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GzzGx.png","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>I resolved it by adding <code>jstl-1.2</code> in the libraries.</p>\n\n<ul>\n<li>Right-click on \"project\"</li>\n<li>Then go into \"open modules setting\"</li>\n<li>Then in \"libraries\" click on the \"+\", then \"add with maven\"</li>\n<li><p>Click on the checkbox to download in a folder, change the folder path for <code>.../WEB-INF/lib</code> (create the <code>lib</code> folder)</p>\n\n<p><a href=\"https://i.stack.imgur.com/GzzGx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GzzGx.png\" alt=\"enter image description here\"></a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29276252,"reputation":1,"user_id":22429918,"display_name":"monukd01dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692906417,"creation_date":1692715743,"answer_id":76954488,"question_id":7253034,"body_markdown":"For using JSTL tags in IntelliJ IDEA Community and Ultimate editions, we need to add `jstl` and `jstl-api` dependencies.\r\n\r\nIf you are using Tomcat 10.1.12:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf your are using Tomcat 9:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd don&#39;t forget to add taglib directive on top of the jsp page before restarting the IDE:\r\n\r\n```html\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n```","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>For using JSTL tags in IntelliJ IDEA Community and Ultimate editions, we need to add <code>jstl</code> and <code>jstl-api</code> dependencies.</p>\n<p>If you are using Tomcat 10.1.12:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If your are using Tomcat 9:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And don't forget to add taglib directive on top of the jsp page before restarting the IDE:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n</code></pre>\n"}],"owner":{"account_id":7818,"reputation":16514,"user_id":13713,"accept_rate":91,"display_name":"Joel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24328,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"closed_date":1692968229,"accepted_answer_id":7268230,"answer_count":5,"score":16,"last_activity_date":1692906417,"creation_date":1314769637,"question_id":7253034,"body_markdown":"I&#39;m playing with Google App Engine in IntelliJ. I&#39;m trying to use JSTL tags in my JSPs. I&#39;ve tried two different URIs I found on the internet, and both of them give me errors:\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jstl/core&quot; %&gt;\r\n\r\nand\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nIt reds out the URL and says it cannot resolve taglib. I&#39;ve tried dropping different parts of the URL to see if &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Space&lt;/kbd&gt; gives me any autocomplete love, but no luck.\r\n\r\nAny ideas what I need to do to make this work? ","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>I'm playing with Google App Engine in IntelliJ. I'm trying to use JSTL tags in my JSPs. I've tried two different URIs I found on the internet, and both of them give me errors:</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/core\" %&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n</code></pre>\n\n<p>It reds out the URL and says it cannot resolve taglib. I've tried dropping different parts of the URL to see if <kbd>Ctrl</kbd>-<kbd>Space</kbd> gives me any autocomplete love, but no luck.</p>\n\n<p>Any ideas what I need to do to make this work? </p>\n"},{"tags":["java","lambda","java-stream","max"],"answers":[{"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692880295,"creation_date":1692868510,"answer_id":76967864,"question_id":76967784,"body_markdown":"```java\r\nreturn codeObjs.stream()\r\n            .collect(Collectors.groupingBy(\r\n                CodeObj::getCodeName,\r\n                Collectors.maxBy(Comparator.comparing(CodeObj::getVersion))\r\n            ))\r\n            .values().stream()\r\n            .flatMap(Optional::stream)\r\n            .collect(Collectors.toList());\r\n```\r\nSo, basically, you are isolating each instance of `CodeObj` with a unique name by using `Collectors.groupingBy`. Then using `Collectors.maxBy` on each group, you get the highest version. Then, by streaming the resulting map, you access collections of `Optional&lt;CodeObj&gt;` instances, which represent the highest versions per group. `flatMap(Optional::stream)` transforms these `Optionals` into a sequence of `CodeObj`. Finally, you collect them into a list through `Collectors.toList()`","title":"Stream.max() on a set of elements from a stream","body":"<pre class=\"lang-java prettyprint-override\"><code>return codeObjs.stream()\n            .collect(Collectors.groupingBy(\n                CodeObj::getCodeName,\n                Collectors.maxBy(Comparator.comparing(CodeObj::getVersion))\n            ))\n            .values().stream()\n            .flatMap(Optional::stream)\n            .collect(Collectors.toList());\n</code></pre>\n<p>So, basically, you are isolating each instance of <code>CodeObj</code> with a unique name by using <code>Collectors.groupingBy</code>. Then using <code>Collectors.maxBy</code> on each group, you get the highest version. Then, by streaming the resulting map, you access collections of <code>Optional&lt;CodeObj&gt;</code> instances, which represent the highest versions per group. <code>flatMap(Optional::stream)</code> transforms these <code>Optionals</code> into a sequence of <code>CodeObj</code>. Finally, you collect them into a list through <code>Collectors.toList()</code></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692905826,"creation_date":1692886335,"answer_id":76970187,"question_id":76967784,"body_markdown":"Given the following class:\r\n```\r\nclass CodeObj {\r\n    private String codeName;\r\n    private String version;\r\n\r\n    public CodeObj(String codeName, String version) {\r\n        this.codeName = codeName;\r\n        this.version = version;\r\n    }\r\n\r\n    public String getCodeName() {\r\n        return codeName;\r\n    }\r\n\r\n    public String getVersion() {\r\n        return version;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;CodeObj = [%s, %s]&quot;.formatted(codeName, version);\r\n    }\r\n\r\n}\r\n```\r\nWith the initial list of objects.\r\n```\r\nList&lt;CodeObj&gt; codeObjs = List.of(new CodeObj(&quot;test1&quot;, &quot;1&quot;),\r\n        new CodeObj(&quot;test1&quot;, &quot;2&quot;), new CodeObj(&quot;test1&quot;, &quot;3&quot;),\r\n        new CodeObj(&quot;test2&quot;, &quot;1&quot;), new CodeObj(&quot;test2&quot;, &quot;2&quot;),\r\n        new CodeObj(&quot;test2&quot;, &quot;3&quot;), new CodeObj(&quot;test2&quot;, &quot;4&quot;));\r\n```\r\nHere is a max filter which can either be declared separately as shown or put in-line with the stream. It compares each version and returns the object with the latest.\r\n```\r\nBinaryOperator&lt;CodeObj&gt; latestVersion = (co1, co2) -&gt; co1.getVersion()\r\n        .compareTo(co2.getVersion()) &gt; 0 ? co1 : co2;\r\n```\r\nAnd here is the solution.  The CodeObj objects are reduced to the required max versions and the resulting `Collection` is remapped to an `ArrayList`.\r\n```\r\nList&lt;CodeObj&gt; results = codeObjs.stream()\r\n   .collect(Collectors.collectingAndThen(\r\n           Collectors.groupingBy(CodeObj::getCodeName,\r\n                Collectors.reducing(new CodeObj(&quot;&quot;, &quot;&quot;), latestVersion)),\r\n                mp-&gt;new ArrayList&lt;&gt;(mp.values())));\r\n\r\n\r\nresults.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nCodeObj = [test2, 4]\r\nCodeObj = [test1, 3]\r\n","title":"Stream.max() on a set of elements from a stream","body":"<p>Given the following class:</p>\n<pre><code>class CodeObj {\n    private String codeName;\n    private String version;\n\n    public CodeObj(String codeName, String version) {\n        this.codeName = codeName;\n        this.version = version;\n    }\n\n    public String getCodeName() {\n        return codeName;\n    }\n\n    public String getVersion() {\n        return version;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CodeObj = [%s, %s]&quot;.formatted(codeName, version);\n    }\n\n}\n</code></pre>\n<p>With the initial list of objects.</p>\n<pre><code>List&lt;CodeObj&gt; codeObjs = List.of(new CodeObj(&quot;test1&quot;, &quot;1&quot;),\n        new CodeObj(&quot;test1&quot;, &quot;2&quot;), new CodeObj(&quot;test1&quot;, &quot;3&quot;),\n        new CodeObj(&quot;test2&quot;, &quot;1&quot;), new CodeObj(&quot;test2&quot;, &quot;2&quot;),\n        new CodeObj(&quot;test2&quot;, &quot;3&quot;), new CodeObj(&quot;test2&quot;, &quot;4&quot;));\n</code></pre>\n<p>Here is a max filter which can either be declared separately as shown or put in-line with the stream. It compares each version and returns the object with the latest.</p>\n<pre><code>BinaryOperator&lt;CodeObj&gt; latestVersion = (co1, co2) -&gt; co1.getVersion()\n        .compareTo(co2.getVersion()) &gt; 0 ? co1 : co2;\n</code></pre>\n<p>And here is the solution.  The CodeObj objects are reduced to the required max versions and the resulting <code>Collection</code> is remapped to an <code>ArrayList</code>.</p>\n<pre><code>List&lt;CodeObj&gt; results = codeObjs.stream()\n   .collect(Collectors.collectingAndThen(\n           Collectors.groupingBy(CodeObj::getCodeName,\n                Collectors.reducing(new CodeObj(&quot;&quot;, &quot;&quot;), latestVersion)),\n                mp-&gt;new ArrayList&lt;&gt;(mp.values())));\n\n\nresults.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>CodeObj = [test2, 4]\nCodeObj = [test1, 3]\n</code></pre>\n"}],"owner":{"account_id":15061002,"reputation":3,"user_id":10869774,"display_name":"Clem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76967864,"answer_count":2,"score":0,"last_activity_date":1692906289,"creation_date":1692867926,"question_id":76967784,"body_markdown":"I have a java `List` of `CodeObj`. `CodeObj` has 2 attributes : `codeName` and `version`.\r\nMy java `List` looks like this when mapped to a `JSON` object :\r\n\r\n```\r\n[\r\n\t{ &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;1&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;2&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;3&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;1&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;2&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;3&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;4&quot; },\r\n]\r\n```\r\nI would like to filter this `List` by each `codeName` most recent `version` in java, so it would give this result when mapped to a JSON object :\r\n\r\n```\r\n[\r\n\t{ &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;3&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;4&quot; },\r\n]\r\n```\r\n\r\nTo make it, I have to use the `Stream` java class and its methods like `filter`, `map`, `max`, etc.\r\n\r\n\r\nI started with this bit of code :\r\n\r\n\r\n```\r\ncodeObjs.stream()\r\n.max(Comparator.comparing(CodeObj::getVersion))\r\n```\r\n\r\n\r\nI feel like I have to isolate each set of `CodeObj` that has the same `codeName`, but I don&#39;t know how to do it while turning the `List` into a `Stream`.","title":"Stream.max() on a set of elements from a stream","body":"<p>I have a java <code>List</code> of <code>CodeObj</code>. <code>CodeObj</code> has 2 attributes : <code>codeName</code> and <code>version</code>.\nMy java <code>List</code> looks like this when mapped to a <code>JSON</code> object :</p>\n<pre><code>[\n    { &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;1&quot; },\n\n    { &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;2&quot; },\n\n    { &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;3&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;1&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;2&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;3&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;4&quot; },\n]\n</code></pre>\n<p>I would like to filter this <code>List</code> by each <code>codeName</code> most recent <code>version</code> in java, so it would give this result when mapped to a JSON object :</p>\n<pre><code>[\n    { &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;3&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;4&quot; },\n]\n</code></pre>\n<p>To make it, I have to use the <code>Stream</code> java class and its methods like <code>filter</code>, <code>map</code>, <code>max</code>, etc.</p>\n<p>I started with this bit of code :</p>\n<pre><code>codeObjs.stream()\n.max(Comparator.comparing(CodeObj::getVersion))\n</code></pre>\n<p>I feel like I have to isolate each set of <code>CodeObj</code> that has the same <code>codeName</code>, but I don't know how to do it while turning the <code>List</code> into a <code>Stream</code>.</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692905676,"creation_date":1692905676,"answer_id":76972448,"question_id":76972339,"body_markdown":"On the consumer side, the listener container will automatically keep trying to reconnect.\r\n\r\nOn the producer side, to retry, you need to add a `RetryTemplate` (with appropriate retry and back off policies) to the `RabbitTemplate`.\r\n\r\nHowever, I don&#39;t understand why you would get broken pipe exceptions and retrying might not help with that. Spring delegates all I/O operations to the `amqp-client`. You might need to look in the server logs for clues.\r\n\r\nI suggest you reach out to the RabbitMQ engineers on the rabbitmq-users Google group. They don&#39;t monitor StackOverflow.","title":"Spring AMQP/RabbitMQ - java.net.SocketException: Connection reset by peer (Write failed)","body":"<p>On the consumer side, the listener container will automatically keep trying to reconnect.</p>\n<p>On the producer side, to retry, you need to add a <code>RetryTemplate</code> (with appropriate retry and back off policies) to the <code>RabbitTemplate</code>.</p>\n<p>However, I don't understand why you would get broken pipe exceptions and retrying might not help with that. Spring delegates all I/O operations to the <code>amqp-client</code>. You might need to look in the server logs for clues.</p>\n<p>I suggest you reach out to the RabbitMQ engineers on the rabbitmq-users Google group. They don't monitor StackOverflow.</p>\n"}],"owner":{"account_id":29293099,"reputation":1,"user_id":22443073,"display_name":"skywing99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692905676,"creation_date":1692904344,"question_id":76972339,"body_markdown":"I have a RabbitMQ server in a Kubernetes cluster that I am connecting to using Spring AMQP with default settings and RabbitTemplate class. \r\n\r\nI have a scheduled method in a sender Spring Boot Microservice that sends a message to RabbitMQ queue using `RabbitTemplate.convertAndSend()`. The scheduled method is called every 15 seconds and the message is consumed by a receiver Spring Boot microservice and processed soon after it is received by the RabbitMQ server.\r\n\r\nGenerally, the connection between the RabbitMQ server and the sender Spring Boot Microservice is okay, but rarely (2 times in the last 6 months), the following exception is received and the microservice does not reconnect. \r\n\r\n```\r\norg.springframework.amqp.AmqpIOException: java.net.SocketException: Connection reset by peer (Write failed)\r\n\tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)\r\n\tat org.springframework.amqp.rabbit.connection.RabbitAccessor.convertRabbitAccessException(RabbitAccessor.java:113)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2192)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2138)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1065)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1130)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1123)\r\n```\r\n\r\nAfter this exception, the sender microservice gets the following broken pipe exception when trying to send messages to the RabbitMQ server.\r\n\r\n```\r\norg.springframework.amqp.AmqpIOException: java.net.SocketException: Broken pipe (Write failed)\r\n\tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)\r\n\tat org.springframework.amqp.rabbit.connection.RabbitAccessor.convertRabbitAccessException(RabbitAccessor.java:113)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2192)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2138)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1065)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1130)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1123)\r\n```\r\n\r\nThe sender microservice has the following configured, aside from defaults:\r\n\r\n```\r\n# Don&#39;t requeue rejected deliveries\r\n# Messages can get requeued due to exceptions thrown on the consumer thread\r\nspring.rabbitmq.listener.simple.default-requeue-rejected = false\r\n\r\n# Change Spring RMQ listener mode to NONE from default AUTO\r\n# https://docs.spring.io/spring-amqp/reference/html/#containerAttributes\r\nspring.rabbitmq.listener.simple.acknowledge-mode = NONE\r\n```\r\n\r\nThe sender microservice needs to be restarted to re-connect to the RabbitMQ server and to send messages successfully. \r\n\r\nI haven&#39;t been able to replicate the issue. Is this just a network glitch that is not preventable?\r\n\r\nIs there a way to force Spring AMQP to reconnect to the RabbitMQ server?\r\n\r\n\r\nTo fix the issue, I restarted the sender microservice and that reconnected to the RabbitMQ server.\r\n\r\nI am using all default settings for the Spring AMQP connection, so I am not sure what could be causing the network issue.\r\n\r\nI checked the connections between other microservices and the RabbitMQ server and they were not affected by this, even if they are subscribed to the same queue.","title":"Spring AMQP/RabbitMQ - java.net.SocketException: Connection reset by peer (Write failed)","body":"<p>I have a RabbitMQ server in a Kubernetes cluster that I am connecting to using Spring AMQP with default settings and RabbitTemplate class.</p>\n<p>I have a scheduled method in a sender Spring Boot Microservice that sends a message to RabbitMQ queue using <code>RabbitTemplate.convertAndSend()</code>. The scheduled method is called every 15 seconds and the message is consumed by a receiver Spring Boot microservice and processed soon after it is received by the RabbitMQ server.</p>\n<p>Generally, the connection between the RabbitMQ server and the sender Spring Boot Microservice is okay, but rarely (2 times in the last 6 months), the following exception is received and the microservice does not reconnect.</p>\n<pre><code>org.springframework.amqp.AmqpIOException: java.net.SocketException: Connection reset by peer (Write failed)\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)\n    at org.springframework.amqp.rabbit.connection.RabbitAccessor.convertRabbitAccessException(RabbitAccessor.java:113)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2192)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2138)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1065)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1130)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1123)\n</code></pre>\n<p>After this exception, the sender microservice gets the following broken pipe exception when trying to send messages to the RabbitMQ server.</p>\n<pre><code>org.springframework.amqp.AmqpIOException: java.net.SocketException: Broken pipe (Write failed)\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)\n    at org.springframework.amqp.rabbit.connection.RabbitAccessor.convertRabbitAccessException(RabbitAccessor.java:113)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2192)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2138)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1065)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1130)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1123)\n</code></pre>\n<p>The sender microservice has the following configured, aside from defaults:</p>\n<pre><code># Don't requeue rejected deliveries\n# Messages can get requeued due to exceptions thrown on the consumer thread\nspring.rabbitmq.listener.simple.default-requeue-rejected = false\n\n# Change Spring RMQ listener mode to NONE from default AUTO\n# https://docs.spring.io/spring-amqp/reference/html/#containerAttributes\nspring.rabbitmq.listener.simple.acknowledge-mode = NONE\n</code></pre>\n<p>The sender microservice needs to be restarted to re-connect to the RabbitMQ server and to send messages successfully.</p>\n<p>I haven't been able to replicate the issue. Is this just a network glitch that is not preventable?</p>\n<p>Is there a way to force Spring AMQP to reconnect to the RabbitMQ server?</p>\n<p>To fix the issue, I restarted the sender microservice and that reconnected to the RabbitMQ server.</p>\n<p>I am using all default settings for the Spring AMQP connection, so I am not sure what could be causing the network issue.</p>\n<p>I checked the connections between other microservices and the RabbitMQ server and they were not affected by this, even if they are subscribed to the same queue.</p>\n"},{"tags":["java","spring","spring-boot","https","keystore"],"owner":{"account_id":20233641,"reputation":1,"user_id":14839484,"display_name":"rs1996"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692905590,"creation_date":1692905590,"question_id":76972439,"body_markdown":"We are trying to enable our spring-boot application to listen to HTTPS but are encountering the following error on application start up locally:\r\n\r\n```\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\r\n\tat org.springframework.boot.web.reactive.context.WebServerManager.start(WebServerManager.java:54)\r\n\tat org.springframework.boot.web.reactive.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:40)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)\r\n\t... 14 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:243)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\r\n\t... 17 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1075)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:239)\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: DerInputStream.getLength(): lengthTag=111, too big.\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99)\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:258)\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1204)\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1290)\r\n\tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1072)\r\n\t... 21 common frames omitted\r\nCaused by: java.io.IOException: DerInputStream.getLength(): lengthTag=111, too big.\r\n\tat java.base/sun.security.util.DerInputStream.getLength(DerInputStream.java:606)\r\n\tat java.base/sun.security.util.DerValue.init(DerValue.java:390)\r\n\tat java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:331)\r\n\tat java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:344)\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1996)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1479)\r\n\tat org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:67)\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:216)\r\n\tat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:282)\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:246)\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97)\r\n```\r\n\r\n\r\nHere is what we have currently in our application.yml (which sits in our src/main/resources folder as does the keystore):\r\n\r\n```\r\nserver:\r\n  port: 8443\r\n  ssl:\r\n    key-store-type: &#39;PKCS12&#39;\r\n    key-store: &#39;classpath:***.p12&#39;\r\n    key-alias: &#39;***&#39;\r\n    enabled: true\r\n    protocol: &#39;TLS&#39;\r\n    key-store-password: &#39;***&#39;\r\n```\r\n\r\nHowever, if we remove the classpath argument and just place the keystore in the root directory of the project the application runs fine and there are no errors. \r\n\r\n\r\nhttps://stackoverflow.com/questions/56148884/spring-boot-https-pkcs12-derinputstream-getlength-lengthtag-111-too-big\r\n\r\nHave tried following solutions listed here but same error occurs. ","title":"Spring-Boot Application: HTTPS Error on start-up: DerInputStream.getLength(): lengthTag=111, too big","body":"<p>We are trying to enable our spring-boot application to listen to HTTPS but are encountering the following error on application start up locally:</p>\n<pre><code>Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\n    at org.springframework.boot.web.reactive.context.WebServerManager.start(WebServerManager.java:54)\n    at org.springframework.boot.web.reactive.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:40)\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)\n    ... 14 common frames omitted\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:243)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\n    ... 17 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1075)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:239)\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: DerInputStream.getLength(): lengthTag=111, too big.\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:258)\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1204)\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1290)\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1072)\n    ... 21 common frames omitted\nCaused by: java.io.IOException: DerInputStream.getLength(): lengthTag=111, too big.\n    at java.base/sun.security.util.DerInputStream.getLength(DerInputStream.java:606)\n    at java.base/sun.security.util.DerValue.init(DerValue.java:390)\n    at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:331)\n    at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:344)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1996)\n    at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\n    at java.base/java.security.KeyStore.load(KeyStore.java:1479)\n    at org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:67)\n    at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:216)\n    at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:282)\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:246)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97)\n</code></pre>\n<p>Here is what we have currently in our application.yml (which sits in our src/main/resources folder as does the keystore):</p>\n<pre><code>server:\n  port: 8443\n  ssl:\n    key-store-type: 'PKCS12'\n    key-store: 'classpath:***.p12'\n    key-alias: '***'\n    enabled: true\n    protocol: 'TLS'\n    key-store-password: '***'\n</code></pre>\n<p>However, if we remove the classpath argument and just place the keystore in the root directory of the project the application runs fine and there are no errors.</p>\n<p><a href=\"https://stackoverflow.com/questions/56148884/spring-boot-https-pkcs12-derinputstream-getlength-lengthtag-111-too-big\">spring boot https PKCS12 DerInputStream.getLength(): lengthTag=111, too big</a></p>\n<p>Have tried following solutions listed here but same error occurs.</p>\n"},{"tags":["java","jboss","jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1692830965,"post_id":76965270,"comment_id":135679174,"body_markdown":"Generally speaking, yes. You can repurpose existing code using the JMS API between any compliant broker. The ability to change implementations without changing code is one of the main benefits of using an API in the first place. However, your title mentions JBoss EAP and ActiveMQ pooled connection factory, but your question says nothing about them. Please elaborate as to how these things are involved in your use-case as that may change the answer to your question.","body":"Generally speaking, yes. You can repurpose existing code using the JMS API between any compliant broker. The ability to change implementations without changing code is one of the main benefits of using an API in the first place. However, your title mentions JBoss EAP and ActiveMQ pooled connection factory, but your question says nothing about them. Please elaborate as to how these things are involved in your use-case as that may change the answer to your question."},{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1692837842,"post_id":76965270,"comment_id":135679757,"body_markdown":"I edited the question and added information about the resource adapter settings. Pls let me know if you need any additional information. Thx","body":"I edited the question and added information about the resource adapter settings. Pls let me know if you need any additional information. Thx"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1692842882,"post_id":76965270,"comment_id":135680134,"body_markdown":"Are you going to use the instance of ActiveMQ Artemis embedded in JBoss EAP or are you going to use a standalone instance? Also, how are you using the connection factory? Are you injecting it? Are you looking it up in JNDI via `InitialContext`? Can you provide the code that&#39;s using it?","body":"Are you going to use the instance of ActiveMQ Artemis embedded in JBoss EAP or are you going to use a standalone instance? Also, how are you using the connection factory? Are you injecting it? Are you looking it up in JNDI via <code>InitialContext</code>? Can you provide the code that&#39;s using it?"},{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1692884062,"post_id":76965270,"comment_id":135686783,"body_markdown":"ActiveMQ Artemis embedded in JBoss EAP is not utilized. There will be 3 independent Artemis servers (provide support for failover/HA). The connection factory is defined in resource adapter, and is looked up via InitialContext. Sample code using JNDI lookup has been added to the question","body":"ActiveMQ Artemis embedded in JBoss EAP is not utilized. There will be 3 independent Artemis servers (provide support for failover/HA). The connection factory is defined in resource adapter, and is looked up via InitialContext. Sample code using JNDI lookup has been added to the question"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692904845,"creation_date":1692904845,"answer_id":76972387,"question_id":76965270,"body_markdown":"Technically speaking you don&#39;t actually need to change anything in JBoss EAP because ActiveMQ Artemis supports the OpenWire protocol which is used by ActiveMQ &quot;Classic&quot;.","title":"Using existing ActiveMQ &quot;Classic&quot; JCA RA in JBoss EAP 7.4 to connect to ActiveMQ Artemis remote servers by changes to configuration","body":"<p>Technically speaking you don't actually need to change anything in JBoss EAP because ActiveMQ Artemis supports the OpenWire protocol which is used by ActiveMQ &quot;Classic&quot;.</p>\n"}],"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692904845,"creation_date":1692829940,"question_id":76965270,"body_markdown":"Is it possible to repurpose existing code connecting to ActiveMQ &quot;Classic&quot; to connect to ActiveMQ Artemis by changes to configuration? If so what are the important parameters that need to be modified?\r\n\r\nCurrent software is deployed on JBoss EAP 7.4.2 and communicates with 2 remote ActiveMQ &quot;Classic&quot; servers that provide support for failover/ha.\r\n\r\nIn the new architecture the ActiveMQ &quot;Classic&quot; servers will get replaced by 3 independent ActiveMQ Artemis servers (version 2.16.0) which will provide failover/HA. Support for embedded ActiveMQ Artemis in JBoss EAP will not be utilized.\r\n\r\nActiveMQ resource adapter settings:\r\n```xml\r\n\t&lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\r\n\t\t&lt;resource-adapters&gt;\r\n\t\t\t&lt;resource-adapter id=&quot;org.apache.activemq&quot;&gt;\r\n\t\t\t\t&lt;module slot=&quot;main&quot; id=&quot;org.apache.activemq&quot;/&gt;\r\n\t\t\t\t&lt;config-property name=&quot;RedeliveryBackOffMultiplier&quot;&gt;3&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;ServerUrl&quot;&gt;failover:(tcp://x.y.z.49:61616,tcp://x.y.z.50:61616)?randomize=false&amp;amp;jms.watchTopicAdvisories=false&amp;amp;timeout=3000&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;RedeliveryUseExponentialBackOff&quot;&gt;false&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;UserName&quot;&gt;user&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;MaximumRedeliveries&quot;&gt;1&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;UseInboundSession&quot;&gt;true&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;Password&quot;&gt;password&lt;/config-property&gt;\r\n\t\t\t\t&lt;connection-definitions&gt;\r\n\t\t\t\t\t&lt;connection-definition class-name=&quot;org.apache.activemq.ra.ActiveMQManagedConnectionFactory&quot; jndi-name=&quot;java:/ConnectionFactory&quot; enabled=&quot;true&quot; tracking=&quot;false&quot; use-java-context=&quot;true&quot; pool-name=&quot;ConnectionFactory&quot;&gt;\r\n\t\t\t\t\t\t&lt;config-property name=&quot;UseInboundSession&quot;&gt;false&lt;/config-property&gt;\r\n\t\t\t\t\t\t&lt;pool&gt;\r\n\t\t\t\t\t\t\t&lt;min-pool-size&gt;4&lt;/min-pool-size&gt;\r\n\t\t\t\t\t\t\t&lt;max-pool-size&gt;256&lt;/max-pool-size&gt;\r\n\t\t\t\t\t\t\t&lt;prefill&gt;true&lt;/prefill&gt;\r\n\t\t\t\t\t\t&lt;/pool&gt;\r\n\t\t\t\t\t\t&lt;timeout&gt;\r\n\t\t\t\t\t\t\t&lt;blocking-timeout-millis&gt;12000&lt;/blocking-timeout-millis&gt;\r\n\t\t\t\t\t\t\t&lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;\r\n\t\t\t\t\t\t&lt;/timeout&gt;\r\n\t\t\t\t\t&lt;/connection-definition&gt;\r\n\t\t\t\t&lt;/connection-definitions&gt;\r\n```\r\nJNDI is used to lookup the connection factory, using `InitialContext` as shown in the following code\r\n```java\r\nimport javax.inject.Inject;\r\nimport javax.jms.ConnectionFactory;\r\nimport javax.naming.InitialContext;\r\n\r\nimport javax.ejb.Singleton;\r\nimport javax.ejb.Startup;\r\n\r\n@Singleton\r\n@Startup\r\npublic class BootClass {\r\n\t....\r\n\t@PostConstruct\r\n\tpublic void init() {\r\n\t\ttry {\r\n\t\t\t// &quot;java/ConnectionFactory&quot; defined in resource adapter\r\n\t\t\tfinal ConnectionFactory cf = (ConnectionFactory) (new InitialContext()).lookup(&quot;java:/ConnectionFactory&quot;);\r\n\t\t\t\r\n\t\t\t// cf is used with Camel JMS component\r\n```","title":"Using existing ActiveMQ &quot;Classic&quot; JCA RA in JBoss EAP 7.4 to connect to ActiveMQ Artemis remote servers by changes to configuration","body":"<p>Is it possible to repurpose existing code connecting to ActiveMQ &quot;Classic&quot; to connect to ActiveMQ Artemis by changes to configuration? If so what are the important parameters that need to be modified?</p>\n<p>Current software is deployed on JBoss EAP 7.4.2 and communicates with 2 remote ActiveMQ &quot;Classic&quot; servers that provide support for failover/ha.</p>\n<p>In the new architecture the ActiveMQ &quot;Classic&quot; servers will get replaced by 3 independent ActiveMQ Artemis servers (version 2.16.0) which will provide failover/HA. Support for embedded ActiveMQ Artemis in JBoss EAP will not be utilized.</p>\n<p>ActiveMQ resource adapter settings:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\n        &lt;resource-adapters&gt;\n            &lt;resource-adapter id=&quot;org.apache.activemq&quot;&gt;\n                &lt;module slot=&quot;main&quot; id=&quot;org.apache.activemq&quot;/&gt;\n                &lt;config-property name=&quot;RedeliveryBackOffMultiplier&quot;&gt;3&lt;/config-property&gt;\n                &lt;config-property name=&quot;ServerUrl&quot;&gt;failover:(tcp://x.y.z.49:61616,tcp://x.y.z.50:61616)?randomize=false&amp;amp;jms.watchTopicAdvisories=false&amp;amp;timeout=3000&lt;/config-property&gt;\n                &lt;config-property name=&quot;RedeliveryUseExponentialBackOff&quot;&gt;false&lt;/config-property&gt;\n                &lt;config-property name=&quot;UserName&quot;&gt;user&lt;/config-property&gt;\n                &lt;config-property name=&quot;MaximumRedeliveries&quot;&gt;1&lt;/config-property&gt;\n                &lt;config-property name=&quot;UseInboundSession&quot;&gt;true&lt;/config-property&gt;\n                &lt;config-property name=&quot;Password&quot;&gt;password&lt;/config-property&gt;\n                &lt;connection-definitions&gt;\n                    &lt;connection-definition class-name=&quot;org.apache.activemq.ra.ActiveMQManagedConnectionFactory&quot; jndi-name=&quot;java:/ConnectionFactory&quot; enabled=&quot;true&quot; tracking=&quot;false&quot; use-java-context=&quot;true&quot; pool-name=&quot;ConnectionFactory&quot;&gt;\n                        &lt;config-property name=&quot;UseInboundSession&quot;&gt;false&lt;/config-property&gt;\n                        &lt;pool&gt;\n                            &lt;min-pool-size&gt;4&lt;/min-pool-size&gt;\n                            &lt;max-pool-size&gt;256&lt;/max-pool-size&gt;\n                            &lt;prefill&gt;true&lt;/prefill&gt;\n                        &lt;/pool&gt;\n                        &lt;timeout&gt;\n                            &lt;blocking-timeout-millis&gt;12000&lt;/blocking-timeout-millis&gt;\n                            &lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;\n                        &lt;/timeout&gt;\n                    &lt;/connection-definition&gt;\n                &lt;/connection-definitions&gt;\n</code></pre>\n<p>JNDI is used to lookup the connection factory, using <code>InitialContext</code> as shown in the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.inject.Inject;\nimport javax.jms.ConnectionFactory;\nimport javax.naming.InitialContext;\n\nimport javax.ejb.Singleton;\nimport javax.ejb.Startup;\n\n@Singleton\n@Startup\npublic class BootClass {\n    ....\n    @PostConstruct\n    public void init() {\n        try {\n            // &quot;java/ConnectionFactory&quot; defined in resource adapter\n            final ConnectionFactory cf = (ConnectionFactory) (new InitialContext()).lookup(&quot;java:/ConnectionFactory&quot;);\n            \n            // cf is used with Camel JMS component\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","jwt","bean-validation"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692877260,"post_id":76968842,"comment_id":135685114,"body_markdown":"based on error trace check the answer of this question that i gave [The method cannot decide whether the patterns are Spring MVC or not](https://stackoverflow.com/questions/76852537/endpoint-spring-security-configuration-returning-the-method-cannot-decide-whet/76865442#76865442)","body":"based on error trace check the answer of this question that i gave <a href=\"https://stackoverflow.com/questions/76852537/endpoint-spring-security-configuration-returning-the-method-cannot-decide-whet/76865442#76865442\">The method cannot decide whether the patterns are Spring MVC or not</a>"},{"owner":{"account_id":21156016,"reputation":3,"user_id":17601311,"display_name":"sdidd"},"score":0,"creation_date":1692971955,"post_id":76968842,"comment_id":135701771,"body_markdown":"Thank you for this will keep in mind about the builder.","body":"Thank you for this will keep in mind about the builder."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1692904842,"creation_date":1692893428,"answer_id":76971150,"question_id":76968842,"body_markdown":"The answer to the problem you report is given by Andrei Lisa in his answer. You should upvote the answer he links.\r\n\r\nHowever, there are quite a few other mistakes in the config you report:\r\n- you have no `securityMatcher` in the filter-chain with highest priority (the client one) =&gt; it will intercept all requests and the resource server filter-chain will never get a chance to be tried.\r\n- access to `/login/**` and `/oauth2/**` should be processed by your client filter-chain and be listed in the `permitAll` routes if you want login to work\r\n- you have configured nothing to convert Keycloak roles to Spring authorities. This not done the same way for clients and resource server.\r\n- Keycloak is fully compliant with OIDC. You should be using Spring Security logout **sucess** handler for OIDC instead of defining your own logout handler (`LogoutHandler` and `LogoutSuccessHandler` are not the same thing).\r\n\r\nIf using [&quot;my&quot; starter][1], you&#39;d have no Java conf at all and avoided the problem you report as well as all those I listed. \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons#oidc-starter","title":"Springboot keycloak oauth2 bean dependency errors","body":"<p>The answer to the problem you report is given by Andrei Lisa in his answer. You should upvote the answer he links.</p>\n<p>However, there are quite a few other mistakes in the config you report:</p>\n<ul>\n<li>you have no <code>securityMatcher</code> in the filter-chain with highest priority (the client one) =&gt; it will intercept all requests and the resource server filter-chain will never get a chance to be tried.</li>\n<li>access to <code>/login/**</code> and <code>/oauth2/**</code> should be processed by your client filter-chain and be listed in the <code>permitAll</code> routes if you want login to work</li>\n<li>you have configured nothing to convert Keycloak roles to Spring authorities. This not done the same way for clients and resource server.</li>\n<li>Keycloak is fully compliant with OIDC. You should be using Spring Security logout <strong>sucess</strong> handler for OIDC instead of defining your own logout handler (<code>LogoutHandler</code> and <code>LogoutSuccessHandler</code> are not the same thing).</li>\n</ul>\n<p>If using <a href=\"https://github.com/ch4mpy/spring-addons#oidc-starter\" rel=\"nofollow noreferrer\">&quot;my&quot; starter</a>, you'd have no Java conf at all and avoided the problem you report as well as all those I listed.</p>\n"}],"owner":{"account_id":21156016,"reputation":3,"user_id":17601311,"display_name":"sdidd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76971150,"answer_count":1,"score":0,"last_activity_date":1692904842,"creation_date":1692876852,"question_id":76968842,"body_markdown":"So i am trying to use Springboot and keycloak authorization and authentication for a simple login form. Am getting this error:\r\n&gt; Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;clientFilterChain&#39; defined in class path resource [com/login/java/config/SecurityConfig.class]: Factory method &#39;clientFilterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n&gt; \r\n&gt; Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;clientFilterChain&#39; defined in class path resource [com/login/java/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;clientFilterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n&gt; \r\n&gt; Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;clientFilterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n\r\nThe errors are shortened to only required lines.\r\nKeyCloak is running on 8080 with realm master\r\n\r\n**SecurityConfig.java**\r\n```\r\npackage com.login.java.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer;\r\nimport org.springframework.security.core.session.SessionRegistryImpl;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.session.RegisterSessionAuthenticationStrategy;\r\nimport org.springframework.security.web.authentication.session.SessionAuthenticationStrategy;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n\r\n@Configuration\t\r\n@EnableWebSecurity\t\r\nclass SecurityConfig{\t\r\n\t\r\n\t@Autowired\r\n    private final KeycloakLogoutHandler keycloakLogoutHandler;\t\r\n\t\r\n\t@Autowired\r\n    SecurityConfig(KeycloakLogoutHandler keycloakLogoutHandler) {\t\r\n        this.keycloakLogoutHandler = keycloakLogoutHandler;\t\r\n    }\r\n    \r\n    @Bean\r\n    SessionAuthenticationStrategy sessionAuthenticationStrategy() {\t\r\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\t\r\n    }\r\n\r\n    @Order(1)\r\n    @Bean\r\n    SecurityFilterChain clientFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(HttpMethod.GET, &quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated())\r\n            .oauth2Login(withDefaults())\r\n            .logout(logout -&gt; logout\r\n                .addLogoutHandler(keycloakLogoutHandler)\r\n                .logoutSuccessUrl(&quot;/&quot;));\t\r\n        return http.build();\t\t\r\n    }\r\n\r\n\r\n    @Order(2)\r\n    @Bean\r\n    SecurityFilterChain resourceServerFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(HttpMethod.GET,&quot;/home*&quot;)\r\n                .hasRole(&quot;user&quot;)\r\n                .anyRequest()\r\n                .authenticated());\t\r\n        http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\t\r\n        return http.build();\t\r\n    }\r\n\r\n    @Bean\r\n    AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\t\r\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\t\r\n            .build();\t\r\n    }\t\r\n}\r\n```\r\n\r\n**LoginController.java**\r\n\r\n```\r\npackage com.login.java;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.client.RestTemplate;\r\nimport org.springframework.web.util.UriComponentsBuilder;\r\n\r\nimport com.login.java.model.user;\r\nimport com.login.java.model.userInterface;\r\n\r\n@Controller\r\npublic class LoginController\r\n{\r\n\tString lol = &quot;LOL&quot;;\r\n\tprivate userInterface userInterface;\r\n\r\n\tprivate RestTemplate restTemplate = new RestTemplate();\r\n\r\n\t@Autowired\r\n\t public LoginController(userInterface userInterface) \r\n\t {\r\n\t    this.userInterface = userInterface;\r\n\t }\r\n\r\n\t@GetMapping(path = &quot;/&quot;)\r\n\tpublic String checkMVC()\r\n\t{\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t\r\n\t@RequestMapping(path = &quot;/login&quot;)\r\n\tpublic String loginHomepage(\r\n\t\t\t@RequestParam(&quot;username&quot;) String username,\r\n\t\t\t@RequestParam(&quot;password&quot;) String password,\r\n\t\t\tModel model)\r\n\t{\r\n\t\tuser u;\r\n\t\tSystem.out.println(&quot;Searching for user: &quot; + username);\r\n\t\tu = userInterface.findByUsername(username);\r\n\t\tif (u != null)\r\n\t\t{\r\n\t\t    System.out.println(&quot;User found: &quot; + u.getUsername());\r\n\t\t    model.addAttribute(&quot;username&quot;, username);\r\n\t\t    return &quot;home&quot;;\r\n\t\t}\r\n\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(path = &quot;/register&quot;)\r\n\tpublic String gotoregisterationpage()\r\n\t{\r\n\t\treturn &quot;register&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(path = &quot;/create-user&quot;)\r\n\tpublic String gotoregistermicroservice(\r\n\t        @RequestParam(&quot;username&quot;) String username,\r\n\t        @RequestParam(&quot;email&quot;) String email,\r\n\t        @RequestParam(&quot;password&quot;) String password,\r\n\t        @RequestParam(&quot;cpassword&quot;) String cpassword,\r\n\t        Model model)\r\n\t{\r\n\t    if (password.equals(cpassword))\r\n\t    {\r\n\t        // Construct URL with path variables\r\n\t        String registrationUrl = &quot;http://localhost:8081/register-user/&quot;+username+&quot;/&quot;+password+&quot;/&quot;+email;\r\n\r\n\t        // Create UriComponentsBuilder to build the URL with variables\r\n\t        UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(registrationUrl);\r\n\r\n\t        // Set path variables\r\n\t        builder.queryParam(&quot;id&quot;, 1)\r\n\t        .queryParam(&quot;username&quot;, username)\r\n\t               .queryParam(&quot;password&quot;, password)\r\n\t               .queryParam(&quot;email&quot;, email);\r\n\r\n\t        // Make a GET request using RestTemplate\r\n\t        restTemplate.getForObject(builder.toUriString(), String.class);\r\n\r\n\t        model.addAttribute(&quot;registrationSuccess&quot;, &quot;Registered Kindly Login!!&quot;);\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t        model.addAttribute(&quot;registrationError&quot;, &quot;Password Not matching!!&quot;);\r\n\t        return &quot;login&quot;;\r\n\t    }\r\n\r\n\t    return &quot;login&quot;;\r\n\t}\r\n\r\n\t@GetMapping(path = &quot;/logout&quot;)\r\n\tpublic String logout()\r\n\t{\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.login&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;microservice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;name&gt;skam-login&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t\t&lt;oauth.version&gt;2.3.3.RELEASE&lt;/oauth.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${oauth.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n**\r\nApplication.properties**\r\n```\r\n##DB Connection\r\nspring.datasource.url= #has correct URL\r\nspring.datasource.username = #has correct username\r\nspring.datasource.password = #has correct pass\r\nspring.jpa.show-sql = true\r\nspring.jpa.open-in-view= false\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n\r\n##MVC view\r\nspring.mvc.view.prefix = /WEB-INF/\r\nspring.mvc.view.suffix=.jsp\r\nspring.mvc.static-path-pattern=/resources/**\r\n\r\nserver.port = 8081\r\n\r\n##Spring Security\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration\r\n\r\n##KeyCloak\r\nspring.security.oauth2.client.registration.keycloak.client-id=keycloak\r\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.keycloak.scope=openid\r\n\r\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://127.0.0.1:8080/realms/master\r\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\r\n\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://127.0.0.1:8080/realms/master\r\n```\r\n\r\n**My Folder tree structure**\r\n\r\n```\r\n│   .classpath\r\n│   .gitignore\r\n│   .project\r\n│   HELP.md\r\n│   mvnw\r\n│   mvnw.cmd\r\n│   pom.xml\r\n│   README.md\r\n│\r\n├───.settings\r\n│       org.eclipse.core.resources.prefs\r\n│       org.eclipse.jdt.apt.core.prefs\r\n│       org.eclipse.jdt.core.prefs\r\n│       org.springframework.ide.eclipse.prefs\r\n│\r\n├───src\r\n│   ├───main\r\n│   │   ├───java\r\n│   │   │   └───com\r\n│   │   │       └───login\r\n│   │   │           └───java\r\n│   │   │               │   LoginController.java\r\n│   │   │               │   SkamLoginmApplication.java\r\n│   │   │               │\r\n│   │   │               ├───config\r\n│   │   │               │       KeycloakLogoutHandler.java\r\n│   │   │               │       RestClientConfiguration.java\r\n│   │   │               │       SecurityConfig.java\r\n│   │   │               │\r\n│   │   │               └───model\r\n│   │   │                       user.java\r\n│   │   │                       userInterface.java\r\n│   │   │\r\n│   │   ├───resources\r\n│   │   │       application.properties\r\n│   │   │\r\n│   │   └───webapp\r\n│   │       └───WEB-INF\r\n│   │               home.jsp\r\n│   │               login.jsp\r\n│   │               register.jsp\r\n│   │\r\n│   └───test\r\n│       ├───java\r\n│       └───resources\r\n└───target\r\n    │   microservice-0.0.1.jar\r\n    │   microservice-0.0.1.jar.original\r\n    │\r\n    ├───classes\r\n    │   │   application.properties\r\n    │   │\r\n    │   ├───com\r\n    │   │   └───login\r\n    │   │       └───java\r\n    │   │           │   LoginController.class\r\n    │   │           │   SkamLoginmApplication.class\r\n    │   │           │\r\n    │   │           ├───config\r\n    │   │           │       KeycloakLogoutHandler.class\r\n    │   │           │       RestClientConfiguration.class\r\n    │   │           │       SecurityConfig.class\r\n    │   │           │\r\n    │   │           └───model\r\n    │   │                   user.class\r\n    │   │                   userInterface.class\r\n    │   │\r\n    │   ├───META-INF\r\n    │   │   │   MANIFEST.MF\r\n    │   │   │\r\n    │   │   └───maven\r\n    │   │       └───com.login\r\n    │   │           └───microservice\r\n    │   │                   pom.properties\r\n    │   │                   pom.xml\r\n    │   │\r\n    │   └───WEB-INF\r\n    │           home.jsp\r\n    │           login.jsp\r\n    │           register.jsp\r\n    │\r\n    ├───generated-sources\r\n    │   └───annotations\r\n    ├───generated-test-sources\r\n    │   └───test-annotations\r\n    ├───maven-archiver\r\n    │       pom.properties\r\n    │\r\n    ├───maven-status\r\n    │   └───maven-compiler-plugin\r\n    │       ├───compile\r\n    │       │   └───default-compile\r\n    │       │           createdFiles.lst\r\n    │       │           inputFiles.lst\r\n    │       │\r\n    │       └───testCompile\r\n    │           └───default-testCompile\r\n    │                   createdFiles.lst\r\n    │                   inputFiles.lst\r\n    │\r\n    └───test-classes\r\n```\r\n\r\n\r\n\r\nTried to see the migration documentation of spring security 6 and spring cloud but just couldn&#39;t find the solution.\r\n\r\nAdapters are decapitated so went on to use spring security resource server and was faced with this error of Bean.\r\n\r\nEven if this goes some others comes up like antmatching. ","title":"Springboot keycloak oauth2 bean dependency errors","body":"<p>So i am trying to use Springboot and keycloak authorization and authentication for a simple login form. Am getting this error:</p>\n<blockquote>\n<p>Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'clientFilterChain' defined in class path resource [com/login/java/config/SecurityConfig.class]: Factory method 'clientFilterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).</p>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'clientFilterChain' defined in class path resource [com/login/java/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'clientFilterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).</p>\n<p>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'clientFilterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).</p>\n</blockquote>\n<p>The errors are shortened to only required lines.\nKeyCloak is running on 8080 with realm master</p>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>package com.login.java.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer;\nimport org.springframework.security.core.session.SessionRegistryImpl;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.session.RegisterSessionAuthenticationStrategy;\nimport org.springframework.security.web.authentication.session.SessionAuthenticationStrategy;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.RestTemplate;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\n\n@Configuration  \n@EnableWebSecurity  \nclass SecurityConfig{   \n    \n    @Autowired\n    private final KeycloakLogoutHandler keycloakLogoutHandler;  \n    \n    @Autowired\n    SecurityConfig(KeycloakLogoutHandler keycloakLogoutHandler) {   \n        this.keycloakLogoutHandler = keycloakLogoutHandler; \n    }\n    \n    @Bean\n    SessionAuthenticationStrategy sessionAuthenticationStrategy() { \n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());    \n    }\n\n    @Order(1)\n    @Bean\n    SecurityFilterChain clientFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                .requestMatchers(HttpMethod.GET, &quot;/&quot;).permitAll()\n                .anyRequest().authenticated())\n            .oauth2Login(withDefaults())\n            .logout(logout -&gt; logout\n                .addLogoutHandler(keycloakLogoutHandler)\n                .logoutSuccessUrl(&quot;/&quot;));    \n        return http.build();        \n    }\n\n\n    @Order(2)\n    @Bean\n    SecurityFilterChain resourceServerFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                .requestMatchers(HttpMethod.GET,&quot;/home*&quot;)\n                .hasRole(&quot;user&quot;)\n                .anyRequest()\n                .authenticated());  \n        http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt); \n        return http.build();    \n    }\n\n    @Bean\n    AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {   \n        return http.getSharedObject(AuthenticationManagerBuilder.class) \n            .build();   \n    }   \n}\n</code></pre>\n<p><strong>LoginController.java</strong></p>\n<pre><code>package com.login.java;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Service;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.util.UriComponentsBuilder;\n\nimport com.login.java.model.user;\nimport com.login.java.model.userInterface;\n\n@Controller\npublic class LoginController\n{\n    String lol = &quot;LOL&quot;;\n    private userInterface userInterface;\n\n    private RestTemplate restTemplate = new RestTemplate();\n\n    @Autowired\n     public LoginController(userInterface userInterface) \n     {\n        this.userInterface = userInterface;\n     }\n\n    @GetMapping(path = &quot;/&quot;)\n    public String checkMVC()\n    {\n        return &quot;login&quot;;\n    }\n    \n    \n    @RequestMapping(path = &quot;/login&quot;)\n    public String loginHomepage(\n            @RequestParam(&quot;username&quot;) String username,\n            @RequestParam(&quot;password&quot;) String password,\n            Model model)\n    {\n        user u;\n        System.out.println(&quot;Searching for user: &quot; + username);\n        u = userInterface.findByUsername(username);\n        if (u != null)\n        {\n            System.out.println(&quot;User found: &quot; + u.getUsername());\n            model.addAttribute(&quot;username&quot;, username);\n            return &quot;home&quot;;\n        }\n\n        return &quot;login&quot;;\n    }\n\n    @RequestMapping(path = &quot;/register&quot;)\n    public String gotoregisterationpage()\n    {\n        return &quot;register&quot;;\n    }\n\n    @RequestMapping(path = &quot;/create-user&quot;)\n    public String gotoregistermicroservice(\n            @RequestParam(&quot;username&quot;) String username,\n            @RequestParam(&quot;email&quot;) String email,\n            @RequestParam(&quot;password&quot;) String password,\n            @RequestParam(&quot;cpassword&quot;) String cpassword,\n            Model model)\n    {\n        if (password.equals(cpassword))\n        {\n            // Construct URL with path variables\n            String registrationUrl = &quot;http://localhost:8081/register-user/&quot;+username+&quot;/&quot;+password+&quot;/&quot;+email;\n\n            // Create UriComponentsBuilder to build the URL with variables\n            UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(registrationUrl);\n\n            // Set path variables\n            builder.queryParam(&quot;id&quot;, 1)\n            .queryParam(&quot;username&quot;, username)\n                   .queryParam(&quot;password&quot;, password)\n                   .queryParam(&quot;email&quot;, email);\n\n            // Make a GET request using RestTemplate\n            restTemplate.getForObject(builder.toUriString(), String.class);\n\n            model.addAttribute(&quot;registrationSuccess&quot;, &quot;Registered Kindly Login!!&quot;);\n        }\n        else\n        {\n            model.addAttribute(&quot;registrationError&quot;, &quot;Password Not matching!!&quot;);\n            return &quot;login&quot;;\n        }\n\n        return &quot;login&quot;;\n    }\n\n    @GetMapping(path = &quot;/logout&quot;)\n    public String logout()\n    {\n        return &quot;login&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.login&lt;/groupId&gt;\n    &lt;artifactId&gt;microservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;skam-login&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n        &lt;oauth.version&gt;2.3.3.RELEASE&lt;/oauth.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;version&gt;${oauth.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>**\nApplication.properties**</p>\n<pre><code>##DB Connection\nspring.datasource.url= #has correct URL\nspring.datasource.username = #has correct username\nspring.datasource.password = #has correct pass\nspring.jpa.show-sql = true\nspring.jpa.open-in-view= false\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n\n##MVC view\nspring.mvc.view.prefix = /WEB-INF/\nspring.mvc.view.suffix=.jsp\nspring.mvc.static-path-pattern=/resources/**\n\nserver.port = 8081\n\n##Spring Security\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration\n\n##KeyCloak\nspring.security.oauth2.client.registration.keycloak.client-id=keycloak\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.keycloak.scope=openid\n\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://127.0.0.1:8080/realms/master\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\n\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://127.0.0.1:8080/realms/master\n</code></pre>\n<p><strong>My Folder tree structure</strong></p>\n<pre><code>│   .classpath\n│   .gitignore\n│   .project\n│   HELP.md\n│   mvnw\n│   mvnw.cmd\n│   pom.xml\n│   README.md\n│\n├───.settings\n│       org.eclipse.core.resources.prefs\n│       org.eclipse.jdt.apt.core.prefs\n│       org.eclipse.jdt.core.prefs\n│       org.springframework.ide.eclipse.prefs\n│\n├───src\n│   ├───main\n│   │   ├───java\n│   │   │   └───com\n│   │   │       └───login\n│   │   │           └───java\n│   │   │               │   LoginController.java\n│   │   │               │   SkamLoginmApplication.java\n│   │   │               │\n│   │   │               ├───config\n│   │   │               │       KeycloakLogoutHandler.java\n│   │   │               │       RestClientConfiguration.java\n│   │   │               │       SecurityConfig.java\n│   │   │               │\n│   │   │               └───model\n│   │   │                       user.java\n│   │   │                       userInterface.java\n│   │   │\n│   │   ├───resources\n│   │   │       application.properties\n│   │   │\n│   │   └───webapp\n│   │       └───WEB-INF\n│   │               home.jsp\n│   │               login.jsp\n│   │               register.jsp\n│   │\n│   └───test\n│       ├───java\n│       └───resources\n└───target\n    │   microservice-0.0.1.jar\n    │   microservice-0.0.1.jar.original\n    │\n    ├───classes\n    │   │   application.properties\n    │   │\n    │   ├───com\n    │   │   └───login\n    │   │       └───java\n    │   │           │   LoginController.class\n    │   │           │   SkamLoginmApplication.class\n    │   │           │\n    │   │           ├───config\n    │   │           │       KeycloakLogoutHandler.class\n    │   │           │       RestClientConfiguration.class\n    │   │           │       SecurityConfig.class\n    │   │           │\n    │   │           └───model\n    │   │                   user.class\n    │   │                   userInterface.class\n    │   │\n    │   ├───META-INF\n    │   │   │   MANIFEST.MF\n    │   │   │\n    │   │   └───maven\n    │   │       └───com.login\n    │   │           └───microservice\n    │   │                   pom.properties\n    │   │                   pom.xml\n    │   │\n    │   └───WEB-INF\n    │           home.jsp\n    │           login.jsp\n    │           register.jsp\n    │\n    ├───generated-sources\n    │   └───annotations\n    ├───generated-test-sources\n    │   └───test-annotations\n    ├───maven-archiver\n    │       pom.properties\n    │\n    ├───maven-status\n    │   └───maven-compiler-plugin\n    │       ├───compile\n    │       │   └───default-compile\n    │       │           createdFiles.lst\n    │       │           inputFiles.lst\n    │       │\n    │       └───testCompile\n    │           └───default-testCompile\n    │                   createdFiles.lst\n    │                   inputFiles.lst\n    │\n    └───test-classes\n</code></pre>\n<p>Tried to see the migration documentation of spring security 6 and spring cloud but just couldn't find the solution.</p>\n<p>Adapters are decapitated so went on to use spring security resource server and was faced with this error of Bean.</p>\n<p>Even if this goes some others comes up like antmatching.</p>\n"},{"tags":["java","spring-boot","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":25121108,"reputation":1,"user_id":18969438,"display_name":"Soko Kim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692904462,"creation_date":1692810913,"answer_id":76963554,"question_id":76662964,"body_markdown":"It is because `AbstractTestExecutionListener` is not a Spring Bean. So if you expect to be injected by field injection, it wouldn&#39;t work.\r\n\r\nBut you can extract a port from the `TestContext` which is injected in the method.\r\n\r\n`@Value(&quot;${local.server.port}&quot;)` is exactly the same with `@LocalServerPort`.\r\n\r\n```java\r\n@Override\r\npublic void afterTestMethod(final TestContext testContext) throws Exception {\r\n\tEnvironment environment = testContext.getApplicationContext().getEnvironment();\r\n\tint port = environment.getProperty(&quot;local.server.port&quot;, Integer.class);\r\n\tRestAssured.port = port;\r\n\tJdbcTemplate jdbcTemplate = testContext.getApplicationContext().getBean(JdbcTemplate.class);\r\n\r\n\tList&lt;String&gt; truncateAllTablesQuery = jdbcTemplate.queryForList(&quot;SELECT CONCAT(&#39;TRUNCATE TABLE &#39;, TABLE_NAME, &#39;;&#39;) AS q FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = &#39;chatUniv&#39;&quot;, String.class);\r\n\ttruncateAllTables(jdbcTemplate, truncateAllTablesQuery);\r\n}\r\n```","title":"Spring filed injection into Spring TestExecutionListeners not working","body":"<p>It is because <code>AbstractTestExecutionListener</code> is not a Spring Bean. So if you expect to be injected by field injection, it wouldn't work.</p>\n<p>But you can extract a port from the <code>TestContext</code> which is injected in the method.</p>\n<p><code>@Value(&quot;${local.server.port}&quot;)</code> is exactly the same with <code>@LocalServerPort</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void afterTestMethod(final TestContext testContext) throws Exception {\n    Environment environment = testContext.getApplicationContext().getEnvironment();\n    int port = environment.getProperty(&quot;local.server.port&quot;, Integer.class);\n    RestAssured.port = port;\n    JdbcTemplate jdbcTemplate = testContext.getApplicationContext().getBean(JdbcTemplate.class);\n\n    List&lt;String&gt; truncateAllTablesQuery = jdbcTemplate.queryForList(&quot;SELECT CONCAT('TRUNCATE TABLE ', TABLE_NAME, ';') AS q FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'chatUniv'&quot;, String.class);\n    truncateAllTables(jdbcTemplate, truncateAllTablesQuery);\n}\n</code></pre>\n"}],"owner":{"account_id":24196495,"reputation":33,"user_id":18154957,"display_name":"Jaeyoon Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692904462,"creation_date":1689085291,"question_id":76662964,"body_markdown":"How can I use Spring injection about int field(About random port) into a TestExecutionListener class I wrote extending AbstractTestExecutionListener?\r\n\r\nI make this\r\n\r\n```\r\npublic class IntegrationHelper extends AbstractTestExecutionListener {\r\n\r\n    @LocalServerPort\r\n    private int port;\r\n\r\n    @Override\r\n    public void afterTestMethod(final TestContext testContext) throws Exception {\r\n        RestAssured.port = port;\r\n        JdbcTemplate jdbcTemplate = testContext.getApplicationContext().getBean(JdbcTemplate.class);\r\n\r\n        List&lt;String&gt; truncateAllTablesQuery = jdbcTemplate.queryForList(&quot;SELECT CONCAT(&#39;TRUNCATE TABLE &#39;, TABLE_NAME, &#39;;&#39;) AS q FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = &#39;chatUniv&#39;&quot;, String.class);\r\n        truncateAllTables(jdbcTemplate, truncateAllTablesQuery);\r\n    }\r\n\r\n    private void truncateAllTables(final JdbcTemplate jdbcTemplate, final List&lt;String&gt; truncateAllTablesQuery) {\r\n        jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 0&quot;);\r\n\r\n        for (String truncateQuery : truncateAllTablesQuery) {\r\n            jdbcTemplate.execute(truncateQuery);\r\n        }\r\n\r\n        jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 1&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@TestExecutionListeners(value = {IntegrationHelper.class}, mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic @interface IntegrationTest {\r\n}\r\n```\r\n\r\n```\r\n@IntegrationTest\r\npublic class AuthControllerIntegrationTest {\r\n\r\n    @Autowired\r\n    private AuthService authService;\r\n\r\n    @Autowired\r\n    private MemberRepository memberRepository;\r\n\r\n    @DisplayName(&quot;회원가입을 한다.&quot;)\r\n    @Test\r\n    void register_member() {\r\n        // given\r\n        MemberCreateRequest memberCreateRequest = new MemberCreateRequest(&quot;a@a.com&quot;, &quot;1234&quot;);\r\n\r\n        // when\r\n        Response response = RestAssured.given()\r\n                .contentType(ContentType.JSON)\r\n                .body(memberCreateRequest)\r\n                .when()\r\n                .post(&quot;/api/auth/sign-up&quot;);\r\n\r\n        // then\r\n        response.then()\r\n                .statusCode(HttpStatus.CREATED.value());\r\n    }\r\n}\r\n```\r\n\r\nError message is\r\n```\r\njava.lang.IllegalArgumentException: Port must be greater than 0\r\n\r\n```\r\n\r\nI want to delete duplication code. So I try to move to annotation.\r\nbut random port doesn&#39;t insert in test code\r\n\r\nHelp me please..\r\n\r\nI want to delete duplication code. So I try to move to annotation. but random port doesn&#39;t insert in test code","title":"Spring filed injection into Spring TestExecutionListeners not working","body":"<p>How can I use Spring injection about int field(About random port) into a TestExecutionListener class I wrote extending AbstractTestExecutionListener?</p>\n<p>I make this</p>\n<pre><code>public class IntegrationHelper extends AbstractTestExecutionListener {\n\n    @LocalServerPort\n    private int port;\n\n    @Override\n    public void afterTestMethod(final TestContext testContext) throws Exception {\n        RestAssured.port = port;\n        JdbcTemplate jdbcTemplate = testContext.getApplicationContext().getBean(JdbcTemplate.class);\n\n        List&lt;String&gt; truncateAllTablesQuery = jdbcTemplate.queryForList(&quot;SELECT CONCAT('TRUNCATE TABLE ', TABLE_NAME, ';') AS q FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'chatUniv'&quot;, String.class);\n        truncateAllTables(jdbcTemplate, truncateAllTablesQuery);\n    }\n\n    private void truncateAllTables(final JdbcTemplate jdbcTemplate, final List&lt;String&gt; truncateAllTablesQuery) {\n        jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 0&quot;);\n\n        for (String truncateQuery : truncateAllTablesQuery) {\n            jdbcTemplate.execute(truncateQuery);\n        }\n\n        jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 1&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@TestExecutionListeners(value = {IntegrationHelper.class}, mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic @interface IntegrationTest {\n}\n</code></pre>\n<pre><code>@IntegrationTest\npublic class AuthControllerIntegrationTest {\n\n    @Autowired\n    private AuthService authService;\n\n    @Autowired\n    private MemberRepository memberRepository;\n\n    @DisplayName(&quot;회원가입을 한다.&quot;)\n    @Test\n    void register_member() {\n        // given\n        MemberCreateRequest memberCreateRequest = new MemberCreateRequest(&quot;a@a.com&quot;, &quot;1234&quot;);\n\n        // when\n        Response response = RestAssured.given()\n                .contentType(ContentType.JSON)\n                .body(memberCreateRequest)\n                .when()\n                .post(&quot;/api/auth/sign-up&quot;);\n\n        // then\n        response.then()\n                .statusCode(HttpStatus.CREATED.value());\n    }\n}\n</code></pre>\n<p>Error message is</p>\n<pre><code>java.lang.IllegalArgumentException: Port must be greater than 0\n\n</code></pre>\n<p>I want to delete duplication code. So I try to move to annotation.\nbut random port doesn't insert in test code</p>\n<p>Help me please..</p>\n<p>I want to delete duplication code. So I try to move to annotation. but random port doesn't insert in test code</p>\n"},{"tags":["java","xml","w3c"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1692892657,"post_id":76971040,"comment_id":135688897,"body_markdown":"Have you tried calling `setIgnoringElementContentWhitespace()` *before* `newDocumentBuilder()`? I wouldn&#39;t be surprised if that were the problem. (I wouldn&#39;t personally expect an already-created DocumentBuilder to be modified by a change to the factory that created it.)","body":"Have you tried calling <code>setIgnoringElementContentWhitespace()</code> <i>before</i> <code>newDocumentBuilder()</code>? I wouldn&#39;t be surprised if that were the problem. (I wouldn&#39;t personally expect an already-created DocumentBuilder to be modified by a change to the factory that created it.)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1692898424,"post_id":76971040,"comment_id":135690245,"body_markdown":"They&#39;re not &quot;non-existent elements&quot;, they&#39;re elements you didn&#39;t explicitly create. Whether or not whitespace matters depends on context, not content.","body":"They&#39;re not &quot;non-existent elements&quot;, they&#39;re elements you didn&#39;t explicitly create. Whether or not whitespace matters depends on context, not content."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692903688,"post_id":76971040,"comment_id":135691304,"body_markdown":"“I couldn&#39;t find anything about that behaviour.” 1. Look at org.w3c.dom javadoc. 2. Follow link in that javadoc to DOM Specification. 3. Read in [the section on Text](https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-1312295772) that “If there is no markup inside an element&#39;s content, the text is contained in a single object implementing the Text interface that is the only child of the element. If there is markup, it is parsed into the information items (elements, comments, etc.) and Text nodes that form the list of children of the element.”","body":"“I couldn&#39;t find anything about that behaviour.” 1. Look at org.w3c.dom javadoc. 2. Follow link in that javadoc to DOM Specification. 3. Read in <a href=\"https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-1312295772\" rel=\"nofollow noreferrer\">the section on Text</a> that “If there is no markup inside an element&#39;s content, the text is contained in a single object implementing the Text interface that is the only child of the element. If there is markup, it is parsed into the information items (elements, comments, etc.) and Text nodes that form the list of children of the element.”"},{"owner":{"account_id":3069866,"reputation":479,"user_id":2600803,"accept_rate":78,"display_name":"Mario P. Waxenegger"},"score":0,"creation_date":1692904483,"post_id":76971040,"comment_id":135691458,"body_markdown":"@JonSkeet sorry actually I did call it before the creation I just pasted it wrong in the post. Updated it. still parsing the whitespaces as elements.","body":"@JonSkeet sorry actually I did call it before the creation I just pasted it wrong in the post. Updated it. still parsing the whitespaces as elements."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692898282,"creation_date":1692898282,"answer_id":76971690,"question_id":76971040,"body_markdown":"Whitespace-only text nodes in general are significant: consider\r\n\r\n    &lt;para&gt;A &lt;adj&gt;great&lt;/adj&gt; &lt;adj&gt;green&lt;/adj&gt; &lt;noun&gt;dragon&lt;/noun&gt;.&lt;/para&gt;\r\n\r\nSo if your application wants to treat whitespace as insignificant, you generally have to tell the parser explicitly to throw it away. Different XML APIs have different ways of doing this.","title":"W3C Document.parse() produces unwanted elements","body":"<p>Whitespace-only text nodes in general are significant: consider</p>\n<pre><code>&lt;para&gt;A &lt;adj&gt;great&lt;/adj&gt; &lt;adj&gt;green&lt;/adj&gt; &lt;noun&gt;dragon&lt;/noun&gt;.&lt;/para&gt;\n</code></pre>\n<p>So if your application wants to treat whitespace as insignificant, you generally have to tell the parser explicitly to throw it away. Different XML APIs have different ways of doing this.</p>\n"}],"owner":{"account_id":3069866,"reputation":479,"user_id":2600803,"accept_rate":78,"display_name":"Mario P. Waxenegger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692904424,"creation_date":1692892527,"question_id":76971040,"body_markdown":"I just made up a simple XML file:\r\n\r\n    &lt;main&gt;\r\n        &lt;foo&gt;\r\n            &lt;bar&gt;1&lt;/bar&gt;\r\n            &lt;bar&gt;2&lt;/bar&gt;\r\n            &lt;bar&gt;3&lt;/bar&gt;\r\n        &lt;/foo&gt;\r\n    &lt;/main&gt;\r\n\r\nI just tried to count the `bars` inside `foo` with this code:\r\n    \r\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    dbf.setIgnoringElementContentWhitespace(true);\r\n    \r\n    InputStream is = new FileInputStream(FILE_FORMATTED);\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    \r\n    Document doc = db.parse(is);\r\n    NodeList bars = doc.getElementsByTagName(&quot;foo&quot;).item(0).getChildNodes();\r\n    \r\n    System.out.println(bars.getLength());\r\n\r\nTo my confusion i get `7` printed in the console. I then checked in the debugger what&#39;s inside the NodeList (screenshot appended). The parser apparently produces some Nodes from line breaks and whitespaces.\r\n\r\nWhen I swapped the XML for a file without any formatting (and less readable), I got the expected result `3` printed. Here&#39;s the other XML:\r\n\r\n    &lt;main&gt;&lt;foo&gt;&lt;bar&gt;1&lt;/bar&gt;&lt;bar&gt;2&lt;/bar&gt;&lt;bar&gt;3&lt;/bar&gt;&lt;/foo&gt;&lt;/main&gt;\r\n\r\nI couldn&#39;t find anything about that behaviour. Is it not considered to be used on formatted XML files? Even `dbf.setIgnoringElementContentWhitespace(true)` didn&#39;t work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b54vM.png\r\n\r\n","title":"W3C Document.parse() produces unwanted elements","body":"<p>I just made up a simple XML file:</p>\n<pre><code>&lt;main&gt;\n    &lt;foo&gt;\n        &lt;bar&gt;1&lt;/bar&gt;\n        &lt;bar&gt;2&lt;/bar&gt;\n        &lt;bar&gt;3&lt;/bar&gt;\n    &lt;/foo&gt;\n&lt;/main&gt;\n</code></pre>\n<p>I just tried to count the <code>bars</code> inside <code>foo</code> with this code:</p>\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setIgnoringElementContentWhitespace(true);\n\nInputStream is = new FileInputStream(FILE_FORMATTED);\nDocumentBuilder db = dbf.newDocumentBuilder();\n\nDocument doc = db.parse(is);\nNodeList bars = doc.getElementsByTagName(&quot;foo&quot;).item(0).getChildNodes();\n\nSystem.out.println(bars.getLength());\n</code></pre>\n<p>To my confusion i get <code>7</code> printed in the console. I then checked in the debugger what's inside the NodeList (screenshot appended). The parser apparently produces some Nodes from line breaks and whitespaces.</p>\n<p>When I swapped the XML for a file without any formatting (and less readable), I got the expected result <code>3</code> printed. Here's the other XML:</p>\n<pre><code>&lt;main&gt;&lt;foo&gt;&lt;bar&gt;1&lt;/bar&gt;&lt;bar&gt;2&lt;/bar&gt;&lt;bar&gt;3&lt;/bar&gt;&lt;/foo&gt;&lt;/main&gt;\n</code></pre>\n<p>I couldn't find anything about that behaviour. Is it not considered to be used on formatted XML files? Even <code>dbf.setIgnoringElementContentWhitespace(true)</code> didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/b54vM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b54vM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jmeter","beanshell"],"comments":[{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1379613177,"post_id":18901466,"comment_id":27901227,"body_markdown":"Just to make sure, you did check that the jar you exported really contains your compiled class, and you did restart JMeter after copying it in lib/ext, right?","body":"Just to make sure, you did check that the jar you exported really contains your compiled class, and you did restart JMeter after copying it in lib/ext, right?"},{"owner":{"account_id":423858,"reputation":53,"user_id":803531,"accept_rate":25,"display_name":"Eshi"},"score":0,"creation_date":1379613384,"post_id":18901466,"comment_id":27901334,"body_markdown":"Yes, the jar contains the class I need. I used maven to compile the jars so that it pulls all dependencies as well.","body":"Yes, the jar contains the class I need. I used maven to compile the jars so that it pulls all dependencies as well."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1379613723,"post_id":18901466,"comment_id":27901511,"body_markdown":"Maven will not pack your dependencies inside your jar with the rest of the classes. It will only pack them if you&#39;re building a war. Can you please paste the User class as well?","body":"Maven will not pack your dependencies inside your jar with the rest of the classes. It will only pack them if you&#39;re building a war. Can you please paste the User class as well?"},{"owner":{"account_id":3199615,"reputation":65,"user_id":2701941,"display_name":"PengWu"},"score":0,"creation_date":1379915205,"post_id":18901466,"comment_id":27989038,"body_markdown":"[link](http://www.milinovsky.at/jalbum/) there is the same question you had.","body":"<a href=\"http://www.milinovsky.at/jalbum/\" rel=\"nofollow noreferrer\">link</a> there is the same question you had."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1524546480,"post_id":18901466,"comment_id":87003876,"body_markdown":"Can you show `User` class? (or main parts of it with method)","body":"Can you show <code>User</code> class? (or main parts of it with method)"}],"answers":[{"tags":[],"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379710939,"creation_date":1379710939,"answer_id":18925817,"question_id":18901466,"body_markdown":"Put the jar that contains &quot;com.qa.base.services.user.User&quot; and all its dependencies in jmeter/lib folder and it should work.","title":"JMeter: Calling external classes and methods?","body":"<p>Put the jar that contains \"com.qa.base.services.user.User\" and all its dependencies in jmeter/lib folder and it should work.</p>\n"}],"owner":{"account_id":423858,"reputation":53,"user_id":803531,"accept_rate":25,"display_name":"Eshi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9765,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692903960,"creation_date":1379612403,"question_id":18901466,"body_markdown":"I have a Java test project that I would like to import in my JMeter test so that I can call the existing methods in the test project. I did some research, and came to know that I can create a jar of my Java project, copy the jar into the JMETER_HOME/lib/ext folder, and then use the BeanShell Processor to call the external methods. \r\n\r\nI am trying to use the existing test project, and call its methods to generate a JSON payload. \r\nI added a BeanShell PreProcessor, and did something like:\r\n\r\n    import com.qa.base.services.user.User;\r\n    \r\n    User user = User.generateSimpleUser();\r\n            user.setField(&quot;username&quot;, &quot;testUsername&quot;);\r\n            user.setField(&quot;password&quot;, &quot;testPassword&quot;);\r\n            \r\n    vars.put(&quot;requestJsonPayload&quot;, user.toString());\r\n\r\nThis does not seem to work, and I get an ERROR:\r\n\r\n&gt; ERROR - jmeter.util.BeanShellInterpreter: Error invoking bsh method:\r\n&gt; eval\tSourced file: inline evaluation of: ``import\r\n&gt; com.qa.base.services.user.User&#39;&#39; : Typed variable declaration : Method\r\n&gt; Invocation User.generateSimpleUser()\r\n\r\nAnybody know how I can achieve what I am trying to do? Any suggestions, comments, links to tutorials, examples would be helpful. Thanks in advance!\r\n\r\n**More Info:**\r\n\r\nI am also using a BeanShell PostProcessor that gets the response payload of one of my requests, removes some fields in the payload, and constructs a new payload which I can send as a request payload for another request. The BeanShell PostProcessor works without any issues. I used JSONObject for this, and my code looks like:\r\n\r\n    import org.json.JSONObject;\r\n    \r\n    String jsonString = prev.getResponseDataAsString();\r\n    print(jsonString);\r\n    JSONObject responseJSON = new JSONObject(jsonString);\r\n    responseJSON.remove(&quot;createTime&quot;);\r\n    responseJSON.remove(&quot;id&quot;);\r\n    \r\n    vars.put(&quot;updatedJsonPayload&quot;,responseJSON.toString());\r\n\r\n","title":"JMeter: Calling external classes and methods?","body":"<p>I have a Java test project that I would like to import in my JMeter test so that I can call the existing methods in the test project. I did some research, and came to know that I can create a jar of my Java project, copy the jar into the JMETER_HOME/lib/ext folder, and then use the BeanShell Processor to call the external methods. </p>\n\n<p>I am trying to use the existing test project, and call its methods to generate a JSON payload. \nI added a BeanShell PreProcessor, and did something like:</p>\n\n<pre><code>import com.qa.base.services.user.User;\n\nUser user = User.generateSimpleUser();\n        user.setField(\"username\", \"testUsername\");\n        user.setField(\"password\", \"testPassword\");\n\nvars.put(\"requestJsonPayload\", user.toString());\n</code></pre>\n\n<p>This does not seem to work, and I get an ERROR:</p>\n\n<blockquote>\n  <p>ERROR - jmeter.util.BeanShellInterpreter: Error invoking bsh method:\n  eval  Sourced file: inline evaluation of: ``import\n  com.qa.base.services.user.User'' : Typed variable declaration : Method\n  Invocation User.generateSimpleUser()</p>\n</blockquote>\n\n<p>Anybody know how I can achieve what I am trying to do? Any suggestions, comments, links to tutorials, examples would be helpful. Thanks in advance!</p>\n\n<p><strong>More Info:</strong></p>\n\n<p>I am also using a BeanShell PostProcessor that gets the response payload of one of my requests, removes some fields in the payload, and constructs a new payload which I can send as a request payload for another request. The BeanShell PostProcessor works without any issues. I used JSONObject for this, and my code looks like:</p>\n\n<pre><code>import org.json.JSONObject;\n\nString jsonString = prev.getResponseDataAsString();\nprint(jsonString);\nJSONObject responseJSON = new JSONObject(jsonString);\nresponseJSON.remove(\"createTime\");\nresponseJSON.remove(\"id\");\n\nvars.put(\"updatedJsonPayload\",responseJSON.toString());\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692899584,"post_id":76971779,"comment_id":135690490,"body_markdown":"Shouldn&#39;t that be `System.out.println(Instant.now(c));\n`?","body":"Shouldn&#39;t that be <code>System.out.println(Instant.now(c)); </code>?"},{"owner":{"account_id":9213198,"reputation":97,"user_id":15110545,"display_name":"user15110545"},"score":1,"creation_date":1692900297,"post_id":76971779,"comment_id":135690646,"body_markdown":"Then I get the correct time. But to convert that Instant to `LocalDateTime` I would have to use `LocalDateTime.ofInstant(Instant.now(c), ZoneOffset.UTC)`.","body":"Then I get the correct time. But to convert that Instant to <code>LocalDateTime</code> I would have to use <code>LocalDateTime.ofInstant(Instant.now(c), ZoneOffset.UTC)</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693033535,"post_id":76971779,"comment_id":135709044,"body_markdown":"Yes, there is a UTC conversion going on. You specified your fixed time as 10:15:30 UTC (denoted by the trailing `Z`), and you specified German time zone. So your clock converts 10:15 UTC to German time and gives you 12:15.","body":"Yes, there is a UTC conversion going on. You specified your fixed time as 10:15:30 UTC (denoted by the trailing <code>Z</code>), and you specified German time zone. So your clock converts 10:15 UTC to German time and gives you 12:15."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693130444,"post_id":76971779,"comment_id":135717147,"body_markdown":"You should not want to use `LocalDateTime` for a date and time in UTC anyway. Use `Instant` or `OffsetDateTime`. The latter will even know that it is in UTC (has offset 0 from UTC). For a clock hat gives you a fixed UTC time you may use either of (1) `InstantSource.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;))` (2) `Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneOffset.UTC)` (3) building on the clock you already have: `c.withZone(ZoneOffset.UTC)`.","body":"You should not want to use <code>LocalDateTime</code> for a date and time in UTC anyway. Use <code>Instant</code> or <code>OffsetDateTime</code>. The latter will even know that it is in UTC (has offset 0 from UTC). For a clock hat gives you a fixed UTC time you may use either of (1) <code>InstantSource.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;)&zwnj;&#8203;)</code> (2) <code>Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneOffset.UTC)</code> (3) building on the clock you already have: <code>c.withZone(ZoneOffset.UTC)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692903586,"creation_date":1692903586,"answer_id":76972259,"question_id":76971779,"body_markdown":"2018-04-29T10:15:30.00Z corresponds to 2018-04-29T12:15:30+02:00 and the `LocalDateTime` from this `OffsetDateTime` gives you 2018-04-29T12:15:30; so does your `LocalDateTime.now(c)`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Instant instant = Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;);\r\n            ZoneId zoneId = ZoneId.of(&quot;Europe/Berlin&quot;);\r\n            Clock c= Clock.fixed(instant, zoneId);\r\n    \r\n            // 2018-04-29T10:15:30.00Z corresponds to 2018-04-29T12:15:30+02:00\r\n            OffsetDateTime odt = instant.atZone(zoneId).toOffsetDateTime();\r\n            System.out.println(odt);\r\n    \r\n            // LocalDateTime from this OffsetDateTime results in 2018-04-29T12:15:30\r\n            System.out.println(odt.toLocalDateTime());\r\n    \r\n            // So does LocalDateTime.now(c)\r\n            System.out.println(LocalDateTime.now(c));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    2018-04-29T12:15:30+02:00\r\n    2018-04-29T12:15:30\r\n    2018-04-29T12:15:30\r\n\r\nHow to get your desired output?\r\n---\r\n\r\nYou need to use the UTC offset to get the `LocalDateTime` with the same value as the given `Instant`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Clock c = Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n            LocalDateTime ldt = Instant.now(c).atZone(ZoneOffset.UTC).toLocalDateTime();\r\n            System.out.println(ldt);\r\n        }\r\n    }\r\n**Output:**\r\n\r\n    2018-04-29T10:15:30\r\n\r\n[Online Demo](https://ideone.com/XS0Bin)\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Fixed Clock and LocalDateTime","body":"<p>2018-04-29T10:15:30.00Z corresponds to 2018-04-29T12:15:30+02:00 and the <code>LocalDateTime</code> from this <code>OffsetDateTime</code> gives you 2018-04-29T12:15:30; so does your <code>LocalDateTime.now(c)</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Instant instant = Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;);\n        ZoneId zoneId = ZoneId.of(&quot;Europe/Berlin&quot;);\n        Clock c= Clock.fixed(instant, zoneId);\n\n        // 2018-04-29T10:15:30.00Z corresponds to 2018-04-29T12:15:30+02:00\n        OffsetDateTime odt = instant.atZone(zoneId).toOffsetDateTime();\n        System.out.println(odt);\n\n        // LocalDateTime from this OffsetDateTime results in 2018-04-29T12:15:30\n        System.out.println(odt.toLocalDateTime());\n\n        // So does LocalDateTime.now(c)\n        System.out.println(LocalDateTime.now(c));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2018-04-29T12:15:30+02:00\n2018-04-29T12:15:30\n2018-04-29T12:15:30\n</code></pre>\n<h2>How to get your desired output?</h2>\n<p>You need to use the UTC offset to get the <code>LocalDateTime</code> with the same value as the given <code>Instant</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Clock c = Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneId.of(&quot;Europe/Berlin&quot;));\n        LocalDateTime ldt = Instant.now(c).atZone(ZoneOffset.UTC).toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2018-04-29T10:15:30\n</code></pre>\n<p><a href=\"https://ideone.com/XS0Bin\" rel=\"noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":9213198,"reputation":97,"user_id":15110545,"display_name":"user15110545"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76972259,"answer_count":1,"score":4,"last_activity_date":1692903952,"creation_date":1692899036,"question_id":76971779,"body_markdown":"For testing purposes I want to create a fixed `Clock` with a time zone:\r\n\r\n```java\r\nClock c= Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n//yields FixedClock[2018-04-29T10:15:30Z,Europe/Berlin]\r\n```\r\n\r\nNow I want to use the `Clock` wit `LocalDateTime`:\r\n```java\r\nLocalDateTime.now(c);\r\n//yields 2018-04-29T12:15:30\r\n```\r\n\r\nWhy I&#39;m getting this offset by two hours? Is there a UTC conversion somewhere? What would I have to do to generate a fixed `Clock` with time zone and `LocalDate.now(c)` yields the same time?\r\n","title":"Fixed Clock and LocalDateTime","body":"<p>For testing purposes I want to create a fixed <code>Clock</code> with a time zone:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Clock c= Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneId.of(&quot;Europe/Berlin&quot;));\n//yields FixedClock[2018-04-29T10:15:30Z,Europe/Berlin]\n</code></pre>\n<p>Now I want to use the <code>Clock</code> wit <code>LocalDateTime</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime.now(c);\n//yields 2018-04-29T12:15:30\n</code></pre>\n<p>Why I'm getting this offset by two hours? Is there a UTC conversion somewhere? What would I have to do to generate a fixed <code>Clock</code> with time zone and <code>LocalDate.now(c)</code> yields the same time?</p>\n"},{"tags":["java","text-files","java.util.scanner","network-drive"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692903993,"post_id":76972254,"comment_id":135691361,"body_markdown":"It&#39;s got nothing to do with java. Or at least, nothing to do with the code you pasted; it&#39;s fine.","body":"It&#39;s got nothing to do with java. Or at least, nothing to do with the code you pasted; it&#39;s fine."},{"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"score":0,"creation_date":1692904223,"post_id":76972254,"comment_id":135691407,"body_markdown":"@rzwitserloot I know, just figured I would include the language and the code being used for the full picture","body":"@rzwitserloot I know, just figured I would include the language and the code being used for the full picture"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692916865,"post_id":76972254,"comment_id":135693448,"body_markdown":"What is the size, in bytes, of the file on the C: drive?  What is the size, in bytes, of the file on the N: drive?","body":"What is the size, in bytes, of the file on the C: drive?  What is the size, in bytes, of the file on the N: drive?"},{"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"score":0,"creation_date":1692963199,"post_id":76972254,"comment_id":135699643,"body_markdown":"@VGR Both are same size: 1,248,212 bytes","body":"@VGR Both are same size: 1,248,212 bytes"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692965745,"post_id":76972254,"comment_id":135700215,"body_markdown":"See what happens when you do it like this: `import java.nio.file.Files;import java.nio.file.Path;import java.io.InputStream;public class LineCounter {public static void main(String[] args) throws Exception {try(InputStream in = Files.newInputStream(Path.of(&quot;N:/textfile.txt&quot;))) {int count = 0;int buf = -1;while ((buf = in.read()) &gt; -1) {if (buf == &#39;\\n&#39;) {count++;}}System.out.printf(&quot;File contains %d line(s)%n&quot;, count);}}}`","body":"See what happens when you do it like this: <code>import java.nio.file.Files;import java.nio.file.Path;import java.io.InputStream;public class LineCounter {public static void main(String[] args) throws Exception {try(InputStream in = Files.newInputStream(Path.of(&quot;N:&#47;textfile.txt&quot;))) {int count = 0;int buf = -1;while ((buf = in.read()) &gt; -1) {if (buf == &#39;\\n&#39;) {count++;}}System.out.printf(&quot;File contains %d line(s)%n&quot;, count);}}}</code>"},{"owner":{"account_id":2396133,"reputation":2128,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1692966416,"post_id":76972254,"comment_id":135700367,"body_markdown":"This is really strange. I created a text file with 18,000 lines and 1.24 MB size in a network drive (Z:) but could not reproduce the issue. Your code just gives the correct line number.","body":"This is really strange. I created a text file with 18,000 lines and 1.24 MB size in a network drive (Z:) but could not reproduce the issue. Your code just gives the correct line number."},{"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"score":0,"creation_date":1692967427,"post_id":76972254,"comment_id":135700611,"body_markdown":"@g00se that code counted it correctly!","body":"@g00se that code counted it correctly!"},{"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"score":0,"creation_date":1692969731,"post_id":76972254,"comment_id":135701181,"body_markdown":"@g00se Thank you so much.. I ended up using input stream in conjunction with scanner to perform the operations I needed to.","body":"@g00se Thank you so much.. I ended up using input stream in conjunction with scanner to perform the operations I needed to."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692973701,"post_id":76972254,"comment_id":135702208,"body_markdown":"That&#39;s OK - as long as you don&#39;t use it as a universal solution to line counting as there might be the occasional early/exotic text file for which that won&#39;t work","body":"That&#39;s OK - as long as you don&#39;t use it as a universal solution to line counting as there might be the occasional early/exotic text file for which that won&#39;t work"}],"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692903606,"creation_date":1692903537,"question_id":76972254,"body_markdown":"I have an 18,000 line text file that I am scanning from a mapped network drive. I am using the scanner class in Java. When the file is stored on my local machine, my code confirms that it has 18,000 lines via a line counter variable. Using the same code, but only changing the file path of the text file to the network drive, it returns ~700 lines. Does anyone know why this might be happening? When I drag the file from network drive to C, it returns 700, but when I copy the contents and put it in a new file in C drive, it returns the true number of lines. My code is below:\r\n\r\n    public static void main(String[] args) throws FileNotFoundException\r\n    \t{\r\n    \t\tFile text = new File(&quot;C:\\\\Users\\\\textfile.txt&quot;); //returns correct number of lines\r\n            //File text = new File(&quot;N:\\\\textfile.txt&quot;); //returns incorrect number of lines\r\n    \t\tScanner scan = new Scanner(text);\r\n    \t\tint linecount = 0;\r\n    \t\twhile(scan.hasNextLine())\r\n    \t\t{\r\n    \t\t\tlinecount++;\r\n    \t\t\tscan.nextLine();\r\n    \t\t}\r\n    \t\tscan.close();\r\n    \t\tSystem.out.println(linecount);\r\n    \t}","title":"Java scanning text file incorrectly from network drive","body":"<p>I have an 18,000 line text file that I am scanning from a mapped network drive. I am using the scanner class in Java. When the file is stored on my local machine, my code confirms that it has 18,000 lines via a line counter variable. Using the same code, but only changing the file path of the text file to the network drive, it returns ~700 lines. Does anyone know why this might be happening? When I drag the file from network drive to C, it returns 700, but when I copy the contents and put it in a new file in C drive, it returns the true number of lines. My code is below:</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException\n    {\n        File text = new File(&quot;C:\\\\Users\\\\textfile.txt&quot;); //returns correct number of lines\n        //File text = new File(&quot;N:\\\\textfile.txt&quot;); //returns incorrect number of lines\n        Scanner scan = new Scanner(text);\n        int linecount = 0;\n        while(scan.hasNextLine())\n        {\n            linecount++;\n            scan.nextLine();\n        }\n        scan.close();\n        System.out.println(linecount);\n    }\n</code></pre>\n"},{"tags":["javascript","java","javafx","webengine"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692477454,"post_id":76935553,"comment_id":135629483,"body_markdown":"See the [escaping section for this JavaScript tutorial](https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#escaping-quotes-and-apostrophes-in-strings).  Perhaps the template escaping method described there using back ticks will work for you.","body":"See the <a href=\"https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#escaping-quotes-and-apostrophes-in-strings\" rel=\"nofollow noreferrer\">escaping section for this JavaScript tutorial</a>.  Perhaps the template escaping method described there using back ticks will work for you."}],"answers":[{"tags":[],"owner":{"account_id":15309893,"reputation":580,"user_id":11045508,"display_name":"J. Doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692903309,"creation_date":1692903309,"answer_id":76972226,"question_id":76935553,"body_markdown":"i got it working with replacing the following chars:\r\n\r\n    message.replace(&quot;\\n&quot;, &quot;\\\\n&quot;)\r\n           .replace(&quot;\\r&quot;, &quot;\\\\n&quot;)\r\n           .replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);","title":"error in webengine of javafx when using apostrophe in combination with some javascript","body":"<p>i got it working with replacing the following chars:</p>\n<pre><code>message.replace(&quot;\\n&quot;, &quot;\\\\n&quot;)\n       .replace(&quot;\\r&quot;, &quot;\\\\n&quot;)\n       .replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":15309893,"reputation":580,"user_id":11045508,"display_name":"J. Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76972226,"answer_count":1,"score":0,"last_activity_date":1692903309,"creation_date":1692454822,"question_id":76935553,"body_markdown":"i wrote a little wrapperapplication for an oldschool html4 webchat (so i can send custom messages when someone joins etc.). but i am facing some trouble when i&#39;d like to update the main view.\r\n\r\nmy unit test (to not annoy the guys in the chat) is this:\r\n\r\n    package chatclient.gui;\r\n    \r\n    import chatclient.entities.Message;\r\n    import javafx.stage.Stage;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.testfx.framework.junit5.ApplicationExtension;\r\n    import org.testfx.framework.junit5.Start;\r\n    \r\n    \r\n    \r\n    @ExtendWith(ApplicationExtension.class)\r\n    class FXApplicationTest {\r\n    \r\n    \r\n        FXApplication sut;\r\n    \r\n        private final String killedString = &quot;&quot;&quot;\r\n                &lt;table border=0&gt;&lt;tr&gt;&lt;td valign=bottom&gt;&lt;FONT SIZE=-2&gt;(13:48)&lt;/FONT&gt; &lt;b&gt;&lt;font title=&quot;myself&quot;&gt;&lt;span onclick=&quot;fluester(&#39;myself&#39;)&quot;&gt;\r\n                &lt;b&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;s&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;l&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;a&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;c&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;k&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;i&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;t&lt;/FONT&gt;\r\n                &lt;FONT COLOR=&quot;#000000&quot;&gt;o&lt;/FONT&gt;&lt;/b&gt;&lt;/span&gt;&lt;/b&gt;: &lt;span onclick=&quot;javascript: repClick(&#39;myself&#39;)&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;/synapse/replacer/myself.jpg&quot; alt=&quot;&amp;#58;myself&quot;&gt;&lt;/span&gt;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\r\n                &quot;&quot;&quot;;\r\n        private final String killedString2 = &quot;&lt;table&gt;hi&lt;/table&gt;&quot;;\r\n    \r\n        private final String initString = &quot;&quot;&quot;\r\n                &lt;!doctype html&gt;\r\n                &lt;html lang=&quot;de&quot;&gt;\r\n                &lt;head&gt;\r\n                &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n                &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt;\r\n                &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt;\r\n                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\r\n                &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/someroom/style_stream.css?1692439165&quot;&gt;\r\n                &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n                &lt;script language=&quot;JavaScript&quot;&gt;\r\n                \tdoscroll = true;\r\n                \tparent.forces = false;\r\n                \tfunction Scroller() {\r\n                \t if (parent.force) { doscroll = true }\r\n                \t  if (doscroll != false) {\r\n                \t    window.scrollBy(0,50);\r\n                \t  }\r\n                \t  window.setTimeout(&quot;Scroller()&quot;, 50);\r\n                \t}\r\n                \tScroller();\r\n                \tparent.atok = &#39;UuXaM&#39;;\r\n                \tfunction atok(p1) {\r\n                \t  parent.atok = p1;\r\n                \t}\r\n                            \r\n                \twindow.status=&quot;powered by www.somedomain.de&quot;;\r\n                            \r\n                \twindow.onmouseover=function(e){doscroll=false;};\\s\r\n                \twindow.onmouseout=function(e){doscroll=true;}\r\n                \t\r\n                \tfunction wopen(link,wi,he) {\r\n                \t      wincom = window.open(link ,&quot;fenster&quot;,&quot;toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=1,resizable=0,width=&quot;+wi+&quot;,height=&quot;+he);\r\n                \t      wincom.focus() ;\r\n                \t}\r\n                \t\r\n                \tfunction repClick(rep) {\r\n                \t  parent.info.document.eingabe.message.value+=&#39;:&#39; + rep;\r\n                \t  parent.info.document.eingabe.message.focus();\r\n                \t  return false;\r\n                \t}\r\n                            \r\n                \tfunction CallPrem() {\r\n                \t  window.open(&quot;/someroom/premium/myself/&quot;,&quot;Prem&quot;,&quot;scrollbars=no,width=205,height=260,resizable=no,toolbar=no,status=no,directories=no,menubar=no,location=no&quot;);\r\n                \t}\r\n                            \r\n                \tfunction fluester(fchatter) {\r\n                \t      parent.info.document.eingabe.message.value=&quot;/f &quot;+fchatter+&quot; &quot;;\r\n                \t      parent.info.document.eingabe.message.focus();\r\n                \t      var pos = parent.info.document.eingabe.message.createTextRange();\r\n                \t      pos.collapse(false);\r\n                \t      pos.select();\r\n                \t      return false;\r\n                \t}\r\n                            \r\n                \tfunction team() {\r\n                \t      parent.info.document.eingabe.message.value=&quot;/team &quot;;\r\n                \t      parent.info.document.eingabe.message.focus();\r\n                \t      var pos = parent.info.document.eingabe.message.createTextRange();\r\n                \t      pos.collapse(false);\r\n                \t      pos.select();\r\n                \t      return false;\r\n                \t}\r\n                \t\r\n                \tparent.clearTimeout(parent.cdProbmodus);\r\n                \tparent.clearTimeout(parent.cdProbmodusRC);\r\n                \t\r\n                \tfunction LoginSound() {\r\n                \t\tif (parent.forces) {\r\n                \t\t ausgabe = &#39;&lt;audio autoplay=&quot;autoplay&quot;&gt;&lt;source src=&quot;/8.wav&quot; type=&quot;audio/wav&quot;/&gt;&lt;/audio&gt;&#39;;\r\n                            document.getElementById(&#39;soundcontainer&#39;).innerHTML=ausgabe;\r\n                \t    }\r\n                \t}\r\n                            \r\n                  setTimeout(&#39;parent.info.sende();&#39;, 1000);\r\n                  setTimeout(&#39;parent.info.sendes();&#39;, 1000);\r\n                \t\r\n                &lt;/script&gt;\r\n                &lt;/head&gt;\r\n                &lt;body onFocus=&quot;doscroll=false&quot; onMouseOver=&quot;doscroll=false&quot;&gt;\r\n                powered by &lt;a href=&quot;https://www.somedomain.de&quot; target=&quot;_blank&quot;&gt;https://www.somedomain.de&lt;/a&gt;\r\n                &lt;hr&gt;\r\n                &lt;script language=&quot;JavaScript&quot;&gt;parent.rightFrame.document.location=&quot;/cgi-bin/ol.cgi?cid=someroom&amp;raum=main&quot;;&lt;/script&gt;\r\n                &lt;script type=&quot;text/javascript&quot; src=&quot;/grundscripts.js&quot;&gt;&lt;/script&gt;&lt;script language=&quot;javascript&quot;&gt;linkCnt=0; tds=document.getElementsByTagName(&quot;td&quot;); function autoLink(){for(;linkCnt&lt;tds.length;linkCnt++){ if(tds[linkCnt].innerHTML.match(/([^&quot;&#39;=]+(?:http|ftp|https):\\\\/\\\\/[^&lt;&gt;\\\\s&#39;]+)/i)){tds[linkCnt].innerHTML=tds[linkCnt].innerHTML.replace(/([^&quot;&#39;=]+)((?:http|ftp|https):\\\\/\\\\/[^&lt;&gt;\\\\s&#39;]+)/i, &quot;$1&lt;a href=&#39;$2&#39; target=&#39;_blank&#39;&gt;$2&lt;/a&gt;&quot;);}else{ tds[linkCnt].innerHTML=tds[linkCnt].innerHTML.replace(/([^&quot;&#39;=\\\\/\\\\w\\\\.]+)(\\\\w+\\\\.[a-zA-Z0-9_-]+\\\\.\\\\w\\\\w+[^&lt;&gt;\\\\s&#39;]*)/i, &quot;$1&lt;a href=&#39;http:\\\\/\\\\/$2&#39; target=&#39;_blank&#39;&gt;$2&lt;/a&gt;&quot;);}}}window.setInterval(&quot;autoLink()&quot;, 500)&lt;/script&gt;&lt;br&gt;&lt;style type=text/css&gt;font[color=red]{color:#ae0aa8}&lt;/style&gt;&lt;br&gt;&lt;br&gt;Willkommen &lt;b&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;s&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;l&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;a&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;c&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;k&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;i&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;t&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;o&lt;/FONT&gt;&lt;/b&gt;. &lt;span onclick=&quot;javascript: repClick(&#39;huhu&#39;)&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/huhu.gif&quot; alt=&quot;&amp;#58;huhu&quot;&gt;&lt;/span&gt; Viel Freude beim chatten. &lt;br&gt;&lt;ul&gt;&lt;li&gt;Bei Problemen im Chat bitte wenden an: user2old (vorher user1) &lt;span onclick=&quot;javascript: repClick(&#39;user2old&#39;)&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/user2old.gif&quot; alt=&quot;&amp;#58;user2old&quot;&gt;&lt;/span&gt; user1lein@web.de,&lt;br&gt; oder an user2 &lt;span onclick=&quot;javascript: repClick(&#39;hase&#39;)&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/hase.gif&quot; alt=&quot;&amp;#58;hase&quot;&gt;&lt;/span&gt; haseprof@gmail.com.&lt;br&gt;Bitte die Mail-Adressen f&#252;r eventuelle Notf&#228;lle &lt;u&gt;speichern&lt;/u&gt; (z.B. Ausfall der Chatsoftware).&lt;/li&gt;&lt;br&gt;&lt;li&gt;Wenn irgendetwas im Chat dauerhaft st&#246;rt, bitte ich euch, konstruktive Kritik nicht zur&#252;ckzuhalten, damit nach L&#246;sungen gesucht werden kann.&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;\r\n                &lt;script&gt;function appendText(extraStr) {document.getElementsByTagName(&#39;body&#39;)[0].innerHTML = document.getElementsByTagName(&#39;body&#39;)[0].innerHTML + extraStr;}&lt;/script&gt;\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Start\r\n        private void start(Stage stage) {\r\n            sut = new FXApplication();\r\n            sut.init(initString);\r\n        }\r\n    \r\n        @Test\r\n        void can_init() {\r\n            sut.append(new Message(killedString2, &quot;ourself&quot;));\r\n        }\r\n    }\r\n\r\nwhen i use killedString, i get a big exception. when i use killedString2 it works.\r\ni am 100% sure this is because of &quot; and &#39; - when i replace them i lose the html information, but it works. anyone an idea how i can use the &quot; and &#39; in the webengine too?\r\n\r\nthe exception is this:\r\n\r\n    netscape.javascript.JSException: SyntaxError: Unexpected identifier &#39;myself&#39;. Expected &#39;)&#39; to end an argument list.\r\n    \tat com.sun.webkit.dom.JSObject.fwkMakeException(JSObject.java:160)\r\n    \tat com.sun.webkit.WebPage.twkExecuteScript(Native Method)\r\n    \tat com.sun.webkit.WebPage.executeScript(WebPage.java:1576)\r\n    \tat javafx.scene.web.WebEngine.executeScript(WebEngine.java:985)\r\n    \tat chatclient.gui.FXApplication.lambda$append$12(FXApplication.java:223)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    &gt; Task :test\r\n\r\nthe code i use to actually send the message is this:\r\n    \r\n\r\n        runInFxThread(() -&gt; {\r\n    \r\n                        try {\r\n                            System.out.println(&quot;Appending cleaned string:&quot;);\r\n                            webView.getEngine().executeScript(&quot;appendText(\\&quot;&quot; + s.getCleanedForEngine() + &quot;\\&quot;);&quot;);\r\n                        } catch (Exception ex) {\r\n                            System.out.println(&quot;EXCEPTION APPEARED AT: &quot; + s.getRawString());\r\n                            ex.printStackTrace();\r\n                        }\r\n                        webView.getEngine().executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n                    }\r\n\r\nanyone an idea how to correctly escape those chars without losing html stuff?","title":"error in webengine of javafx when using apostrophe in combination with some javascript","body":"<p>i wrote a little wrapperapplication for an oldschool html4 webchat (so i can send custom messages when someone joins etc.). but i am facing some trouble when i'd like to update the main view.</p>\n<p>my unit test (to not annoy the guys in the chat) is this:</p>\n<pre><code>package chatclient.gui;\n\nimport chatclient.entities.Message;\nimport javafx.stage.Stage;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.testfx.framework.junit5.ApplicationExtension;\nimport org.testfx.framework.junit5.Start;\n\n\n\n@ExtendWith(ApplicationExtension.class)\nclass FXApplicationTest {\n\n\n    FXApplication sut;\n\n    private final String killedString = &quot;&quot;&quot;\n            &lt;table border=0&gt;&lt;tr&gt;&lt;td valign=bottom&gt;&lt;FONT SIZE=-2&gt;(13:48)&lt;/FONT&gt; &lt;b&gt;&lt;font title=&quot;myself&quot;&gt;&lt;span onclick=&quot;fluester('myself')&quot;&gt;\n            &lt;b&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;s&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;l&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;a&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;c&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;k&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;i&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;t&lt;/FONT&gt;\n            &lt;FONT COLOR=&quot;#000000&quot;&gt;o&lt;/FONT&gt;&lt;/b&gt;&lt;/span&gt;&lt;/b&gt;: &lt;span onclick=&quot;javascript: repClick('myself')&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;/synapse/replacer/myself.jpg&quot; alt=&quot;&amp;#58;myself&quot;&gt;&lt;/span&gt;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n            &quot;&quot;&quot;;\n    private final String killedString2 = &quot;&lt;table&gt;hi&lt;/table&gt;&quot;;\n\n    private final String initString = &quot;&quot;&quot;\n            &lt;!doctype html&gt;\n            &lt;html lang=&quot;de&quot;&gt;\n            &lt;head&gt;\n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n            &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt;\n            &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt;\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\n            &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/someroom/style_stream.css?1692439165&quot;&gt;\n            &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js&quot;&gt;&lt;/script&gt;\n            &lt;script language=&quot;JavaScript&quot;&gt;\n                doscroll = true;\n                parent.forces = false;\n                function Scroller() {\n                 if (parent.force) { doscroll = true }\n                  if (doscroll != false) {\n                    window.scrollBy(0,50);\n                  }\n                  window.setTimeout(&quot;Scroller()&quot;, 50);\n                }\n                Scroller();\n                parent.atok = 'UuXaM';\n                function atok(p1) {\n                  parent.atok = p1;\n                }\n                        \n                window.status=&quot;powered by www.somedomain.de&quot;;\n                        \n                window.onmouseover=function(e){doscroll=false;};\\s\n                window.onmouseout=function(e){doscroll=true;}\n                \n                function wopen(link,wi,he) {\n                      wincom = window.open(link ,&quot;fenster&quot;,&quot;toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=1,resizable=0,width=&quot;+wi+&quot;,height=&quot;+he);\n                      wincom.focus() ;\n                }\n                \n                function repClick(rep) {\n                  parent.info.document.eingabe.message.value+=':' + rep;\n                  parent.info.document.eingabe.message.focus();\n                  return false;\n                }\n                        \n                function CallPrem() {\n                  window.open(&quot;/someroom/premium/myself/&quot;,&quot;Prem&quot;,&quot;scrollbars=no,width=205,height=260,resizable=no,toolbar=no,status=no,directories=no,menubar=no,location=no&quot;);\n                }\n                        \n                function fluester(fchatter) {\n                      parent.info.document.eingabe.message.value=&quot;/f &quot;+fchatter+&quot; &quot;;\n                      parent.info.document.eingabe.message.focus();\n                      var pos = parent.info.document.eingabe.message.createTextRange();\n                      pos.collapse(false);\n                      pos.select();\n                      return false;\n                }\n                        \n                function team() {\n                      parent.info.document.eingabe.message.value=&quot;/team &quot;;\n                      parent.info.document.eingabe.message.focus();\n                      var pos = parent.info.document.eingabe.message.createTextRange();\n                      pos.collapse(false);\n                      pos.select();\n                      return false;\n                }\n                \n                parent.clearTimeout(parent.cdProbmodus);\n                parent.clearTimeout(parent.cdProbmodusRC);\n                \n                function LoginSound() {\n                    if (parent.forces) {\n                     ausgabe = '&lt;audio autoplay=&quot;autoplay&quot;&gt;&lt;source src=&quot;/8.wav&quot; type=&quot;audio/wav&quot;/&gt;&lt;/audio&gt;';\n                        document.getElementById('soundcontainer').innerHTML=ausgabe;\n                    }\n                }\n                        \n              setTimeout('parent.info.sende();', 1000);\n              setTimeout('parent.info.sendes();', 1000);\n                \n            &lt;/script&gt;\n            &lt;/head&gt;\n            &lt;body onFocus=&quot;doscroll=false&quot; onMouseOver=&quot;doscroll=false&quot;&gt;\n            powered by &lt;a href=&quot;https://www.somedomain.de&quot; target=&quot;_blank&quot;&gt;https://www.somedomain.de&lt;/a&gt;\n            &lt;hr&gt;\n            &lt;script language=&quot;JavaScript&quot;&gt;parent.rightFrame.document.location=&quot;/cgi-bin/ol.cgi?cid=someroom&amp;raum=main&quot;;&lt;/script&gt;\n            &lt;script type=&quot;text/javascript&quot; src=&quot;/grundscripts.js&quot;&gt;&lt;/script&gt;&lt;script language=&quot;javascript&quot;&gt;linkCnt=0; tds=document.getElementsByTagName(&quot;td&quot;); function autoLink(){for(;linkCnt&lt;tds.length;linkCnt++){ if(tds[linkCnt].innerHTML.match(/([^&quot;'=]+(?:http|ftp|https):\\\\/\\\\/[^&lt;&gt;\\\\s']+)/i)){tds[linkCnt].innerHTML=tds[linkCnt].innerHTML.replace(/([^&quot;'=]+)((?:http|ftp|https):\\\\/\\\\/[^&lt;&gt;\\\\s']+)/i, &quot;$1&lt;a href='$2' target='_blank'&gt;$2&lt;/a&gt;&quot;);}else{ tds[linkCnt].innerHTML=tds[linkCnt].innerHTML.replace(/([^&quot;'=\\\\/\\\\w\\\\.]+)(\\\\w+\\\\.[a-zA-Z0-9_-]+\\\\.\\\\w\\\\w+[^&lt;&gt;\\\\s']*)/i, &quot;$1&lt;a href='http:\\\\/\\\\/$2' target='_blank'&gt;$2&lt;/a&gt;&quot;);}}}window.setInterval(&quot;autoLink()&quot;, 500)&lt;/script&gt;&lt;br&gt;&lt;style type=text/css&gt;font[color=red]{color:#ae0aa8}&lt;/style&gt;&lt;br&gt;&lt;br&gt;Willkommen &lt;b&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;s&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;l&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;a&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;c&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;k&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;i&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;t&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;o&lt;/FONT&gt;&lt;/b&gt;. &lt;span onclick=&quot;javascript: repClick('huhu')&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/huhu.gif&quot; alt=&quot;&amp;#58;huhu&quot;&gt;&lt;/span&gt; Viel Freude beim chatten. &lt;br&gt;&lt;ul&gt;&lt;li&gt;Bei Problemen im Chat bitte wenden an: user2old (vorher user1) &lt;span onclick=&quot;javascript: repClick('user2old')&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/user2old.gif&quot; alt=&quot;&amp;#58;user2old&quot;&gt;&lt;/span&gt; user1lein@web.de,&lt;br&gt; oder an user2 &lt;span onclick=&quot;javascript: repClick('hase')&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/hase.gif&quot; alt=&quot;&amp;#58;hase&quot;&gt;&lt;/span&gt; haseprof@gmail.com.&lt;br&gt;Bitte die Mail-Adressen für eventuelle Notfälle &lt;u&gt;speichern&lt;/u&gt; (z.B. Ausfall der Chatsoftware).&lt;/li&gt;&lt;br&gt;&lt;li&gt;Wenn irgendetwas im Chat dauerhaft stört, bitte ich euch, konstruktive Kritik nicht zurückzuhalten, damit nach Lösungen gesucht werden kann.&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;\n            &lt;script&gt;function appendText(extraStr) {document.getElementsByTagName('body')[0].innerHTML = document.getElementsByTagName('body')[0].innerHTML + extraStr;}&lt;/script&gt;\n            &quot;&quot;&quot;;\n\n    @Start\n    private void start(Stage stage) {\n        sut = new FXApplication();\n        sut.init(initString);\n    }\n\n    @Test\n    void can_init() {\n        sut.append(new Message(killedString2, &quot;ourself&quot;));\n    }\n}\n</code></pre>\n<p>when i use killedString, i get a big exception. when i use killedString2 it works.\ni am 100% sure this is because of &quot; and ' - when i replace them i lose the html information, but it works. anyone an idea how i can use the &quot; and ' in the webengine too?</p>\n<p>the exception is this:</p>\n<pre><code>netscape.javascript.JSException: SyntaxError: Unexpected identifier 'myself'. Expected ')' to end an argument list.\n    at com.sun.webkit.dom.JSObject.fwkMakeException(JSObject.java:160)\n    at com.sun.webkit.WebPage.twkExecuteScript(Native Method)\n    at com.sun.webkit.WebPage.executeScript(WebPage.java:1576)\n    at javafx.scene.web.WebEngine.executeScript(WebEngine.java:985)\n    at chatclient.gui.FXApplication.lambda$append$12(FXApplication.java:223)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n&gt; Task :test\n</code></pre>\n<p>the code i use to actually send the message is this:</p>\n<pre><code>    runInFxThread(() -&gt; {\n\n                    try {\n                        System.out.println(&quot;Appending cleaned string:&quot;);\n                        webView.getEngine().executeScript(&quot;appendText(\\&quot;&quot; + s.getCleanedForEngine() + &quot;\\&quot;);&quot;);\n                    } catch (Exception ex) {\n                        System.out.println(&quot;EXCEPTION APPEARED AT: &quot; + s.getRawString());\n                        ex.printStackTrace();\n                    }\n                    webView.getEngine().executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\n                }\n</code></pre>\n<p>anyone an idea how to correctly escape those chars without losing html stuff?</p>\n"},{"tags":["java","spring","spring-boot","spring-security-oauth2","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":20773955,"reputation":31,"user_id":15255938,"display_name":"Eirik M&#229;seidv&#229;g"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614011553,"creation_date":1614011240,"answer_id":66319535,"question_id":60400286,"body_markdown":"I had the same problem as you have. I solved it by using google&#39;s GoogleIdTokenVerifier. It was very simple to set up.\r\n\r\nThis is my code:\r\n\r\n```\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\r\nimport com.google.api.client.http.javanet.NetHttpTransport;\r\nimport com.google.api.client.json.gson.GsonFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.IOException;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Collections;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/api/authenticate&quot;)\r\npublic final class AuthenticationController {\r\n\r\n    @GetMapping\r\n    public String exchange(@Autowired NetHttpTransport transport, @Autowired GsonFactory factory, HttpServletRequest request) throws GeneralSecurityException, IOException, IllegalAccessException {\r\n        // get id_token from Authorization Bearer\r\n        String token = this.getTokenFromRequest(request);\r\n\r\n        // Create verifier\r\n        GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, factory)\r\n                .setAudience(Collections.singletonList(&lt;CLIENT_ID_HERE&gt;))\r\n                .build();\r\n\r\n        // Verify it\r\n        GoogleIdToken idToken = verifier.verify(token);\r\n        if (idToken == null) {\r\n            throw new IllegalAccessException(&quot;Invalid id_token&quot;);\r\n        }\r\n        // Access payload \r\n        System.out.println(&quot;Email: &quot; + idToken.getPayload().getEmail());\r\n    }\r\n\r\n    public String getTokenFromRequest(HttpServletRequest request) throws IllegalAccessException {\r\n        String token = request.getHeader(&quot;Authorization&quot;);\r\n        String[] parts = token.split(&quot; &quot;);\r\n        if (parts.length != 2 || !parts[0].contains(&quot;Bearer&quot;)) {\r\n            throw new IllegalAccessException(&quot;Authorization Bearer format invalid. &lt;Bearer {token}&gt;&quot;);\r\n        }\r\n        return parts[1];\r\n    }\r\n}\r\n```\r\n\r\nMaven dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.30.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.21.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Spring exchange google access token for user info","body":"<p>I had the same problem as you have. I solved it by using google's GoogleIdTokenVerifier. It was very simple to set up.</p>\n<p>This is my code:</p>\n<pre><code>import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.gson.GsonFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\nimport java.security.GeneralSecurityException;\nimport java.util.Collections;\n\n@RestController\n@RequestMapping(value = &quot;/api/authenticate&quot;)\npublic final class AuthenticationController {\n\n    @GetMapping\n    public String exchange(@Autowired NetHttpTransport transport, @Autowired GsonFactory factory, HttpServletRequest request) throws GeneralSecurityException, IOException, IllegalAccessException {\n        // get id_token from Authorization Bearer\n        String token = this.getTokenFromRequest(request);\n\n        // Create verifier\n        GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, factory)\n                .setAudience(Collections.singletonList(&lt;CLIENT_ID_HERE&gt;))\n                .build();\n\n        // Verify it\n        GoogleIdToken idToken = verifier.verify(token);\n        if (idToken == null) {\n            throw new IllegalAccessException(&quot;Invalid id_token&quot;);\n        }\n        // Access payload \n        System.out.println(&quot;Email: &quot; + idToken.getPayload().getEmail());\n    }\n\n    public String getTokenFromRequest(HttpServletRequest request) throws IllegalAccessException {\n        String token = request.getHeader(&quot;Authorization&quot;);\n        String[] parts = token.split(&quot; &quot;);\n        if (parts.length != 2 || !parts[0].contains(&quot;Bearer&quot;)) {\n            throw new IllegalAccessException(&quot;Authorization Bearer format invalid. &lt;Bearer {token}&gt;&quot;);\n        }\n        return parts[1];\n    }\n}\n</code></pre>\n<p>Maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.30.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\n    &lt;version&gt;1.21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9290297,"reputation":111,"user_id":6898928,"display_name":"Yevhen Oliinyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692902851,"creation_date":1692902851,"answer_id":76972176,"question_id":60400286,"body_markdown":"Maybe I am late, but let me leave it here:\r\n1) The react library you are using intentionally retrieves access token because it assumes you will use it for a frontend, so with this token, you can make any further request to your resource server. In this case, the resource server and auth server are the same.\r\nFor example, you want to use Google as an OAuth provider and show Google\\`s contacts in your frontend app. So Google here is the auth server(react\\`s lib makes Google`s API call for an access token) and resource server(with an access token, your react app makes a request for Google contacts).\r\n2) If the backend enters the game, you need to get an authorization code - a temporary code that the client(not a frontend; it is a client in terms of OAuth spec) will exchange for an access token.\r\nReact requests an auth code to the auth server(Google/Facebook/Okta) to send this code to the backend.\r\nThe backend sends this code along with client_id, secret, grant_type... and other parameters defined in the OAuth spec to the same OAuth server. The Auth server compares all parameters and returns the token if all is correct.\r\nThe backend receives the token so we can declare that we exchanged the token for the code.\r\nThe next step is to send the token back to the frontend, store it on the frontend, and attach it to each further request to the backend.\r\nOf course, we need to handle refresh token as well.\r\n\r\nThis could be a possible controller method to exchange the code for a token.\r\n        \r\n    @PostMapping(&quot;/check/code/google&quot;)\r\n        public ResponseEntity&lt;?&gt; handleGoogleAuthCode(@RequestBody Map&lt;String, String&gt; codeMap) {\r\n            String code = codeMap.get(&quot;code&quot;);\r\n    \r\n            RestTemplate restTemplate = new RestTemplate();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;code&quot;, code);\r\n            params.put(&quot;client_id&quot;, clientId);\r\n            params.put(&quot;client_secret&quot;, clientSecret);\r\n            String redirectUri = &quot;https://bpnckmnjnpoohfnodnhjpehocneckmmc.chromiumapp.org/&quot;;\r\n            params.put(&quot;redirect_uri&quot;, redirectUri);\r\n            params.put(&quot;grant_type&quot;, &quot;authorization_code&quot;);\r\n    \r\n            HttpEntity&lt;Map&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(params, headers);\r\n    \r\n            ResponseEntity&lt;Map&gt; response = restTemplate.postForEntity(&quot;https://oauth2.googleapis.com/token&quot;, request, Map.class);\r\n            Map&lt;String, Object&gt; responseBody = response.getBody();\r\n    \r\n            String accessToken = (String) responseBody.get(&quot;access_token&quot;);\r\n    \r\n            // Use the access token to authenticate the user\r\n            // Your logic here to associate the user with the access token\r\n    \r\n            // Set the authentication in the SecurityContext\r\n            //       Authentication auth = Create your own authentication object based on the user&#39;s details\r\n            //      SecurityContextHolder.getContext().setAuthentication(auth);\r\n    \r\n            return ResponseEntity.ok().build();\r\n        }","title":"Spring exchange google access token for user info","body":"<p>Maybe I am late, but let me leave it here:</p>\n<ol>\n<li>The react library you are using intentionally retrieves access token because it assumes you will use it for a frontend, so with this token, you can make any further request to your resource server. In this case, the resource server and auth server are the same.\nFor example, you want to use Google as an OAuth provider and show Google`s contacts in your frontend app. So Google here is the auth server(react`s lib makes Google`s API call for an access token) and resource server(with an access token, your react app makes a request for Google contacts).</li>\n<li>If the backend enters the game, you need to get an authorization code - a temporary code that the client(not a frontend; it is a client in terms of OAuth spec) will exchange for an access token.\nReact requests an auth code to the auth server(Google/Facebook/Okta) to send this code to the backend.\nThe backend sends this code along with client_id, secret, grant_type... and other parameters defined in the OAuth spec to the same OAuth server. The Auth server compares all parameters and returns the token if all is correct.\nThe backend receives the token so we can declare that we exchanged the token for the code.\nThe next step is to send the token back to the frontend, store it on the frontend, and attach it to each further request to the backend.\nOf course, we need to handle refresh token as well.</li>\n</ol>\n<p>This could be a possible controller method to exchange the code for a token.</p>\n<pre><code>@PostMapping(&quot;/check/code/google&quot;)\n    public ResponseEntity&lt;?&gt; handleGoogleAuthCode(@RequestBody Map&lt;String, String&gt; codeMap) {\n        String code = codeMap.get(&quot;code&quot;);\n\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;code&quot;, code);\n        params.put(&quot;client_id&quot;, clientId);\n        params.put(&quot;client_secret&quot;, clientSecret);\n        String redirectUri = &quot;https://bpnckmnjnpoohfnodnhjpehocneckmmc.chromiumapp.org/&quot;;\n        params.put(&quot;redirect_uri&quot;, redirectUri);\n        params.put(&quot;grant_type&quot;, &quot;authorization_code&quot;);\n\n        HttpEntity&lt;Map&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(params, headers);\n\n        ResponseEntity&lt;Map&gt; response = restTemplate.postForEntity(&quot;https://oauth2.googleapis.com/token&quot;, request, Map.class);\n        Map&lt;String, Object&gt; responseBody = response.getBody();\n\n        String accessToken = (String) responseBody.get(&quot;access_token&quot;);\n\n        // Use the access token to authenticate the user\n        // Your logic here to associate the user with the access token\n\n        // Set the authentication in the SecurityContext\n        //       Authentication auth = Create your own authentication object based on the user's details\n        //      SecurityContextHolder.getContext().setAuthentication(auth);\n\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n"}],"owner":{"account_id":17601277,"reputation":308,"user_id":12771201,"display_name":"caribbean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1636,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692902851,"creation_date":1582651995,"question_id":60400286,"body_markdown":"I am trying to implement google authentication for my website, it is React front end and Spring Boot REST back end.\r\n\r\nFor my React app I&#39;ve found a library that provides a Google Login button, in which I can specify &#39;client-id&#39; of my app, registered in Google developer&#39;s console and the rest (redirection of the user to google authentication page, retrieval of **access token/id token**) is done by this library.\r\n\r\nNow I want to send this access token to my back-end, use it to make a request to google, to verify that this front-end user is a real google user, who correctly authenticated and get this user&#39;s data by showing this access token to google (i only want email/name/sub, which is users unique Google id). Am I looking for some library to exchange this google access token for user data ?\r\n\r\nI&#39;m also confused by the fact that all the oauth tutorials say that when user authenticates on google page, my app would receive an **Authorization Code** but my front end receives, as I said, acces token and id token. Is it because of the library I&#39;m using ? https://www.npmjs.com/package/react-google-login this is the library\r\n\r\nThis is the data that comes to my client app when user autheneticates on google page\r\n[console.log(response) in browser][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OTFzf.png\r\n\r\nThanks","title":"Spring exchange google access token for user info","body":"<p>I am trying to implement google authentication for my website, it is React front end and Spring Boot REST back end.</p>\n\n<p>For my React app I've found a library that provides a Google Login button, in which I can specify 'client-id' of my app, registered in Google developer's console and the rest (redirection of the user to google authentication page, retrieval of <strong>access token/id token</strong>) is done by this library.</p>\n\n<p>Now I want to send this access token to my back-end, use it to make a request to google, to verify that this front-end user is a real google user, who correctly authenticated and get this user's data by showing this access token to google (i only want email/name/sub, which is users unique Google id). Am I looking for some library to exchange this google access token for user data ?</p>\n\n<p>I'm also confused by the fact that all the oauth tutorials say that when user authenticates on google page, my app would receive an <strong>Authorization Code</strong> but my front end receives, as I said, acces token and id token. Is it because of the library I'm using ? <a href=\"https://www.npmjs.com/package/react-google-login\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/react-google-login</a> this is the library</p>\n\n<p>This is the data that comes to my client app when user autheneticates on google page\n<a href=\"https://i.stack.imgur.com/OTFzf.png\" rel=\"nofollow noreferrer\">console.log(response) in browser</a></p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","file","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1620641368,"post_id":67468448,"comment_id":119251480,"body_markdown":"`directoryFolder.mkdirs()` Bad coding. Better: `if ( ! directoryFoldes.exists() if ( !directoryFolder.mkdirs()) return;`","body":"<code>directoryFolder.mkdirs()</code> Bad coding. Better: <code>if ( ! directoryFoldes.exists() if ( !directoryFolder.mkdirs()) return;</code>"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1620713659,"creation_date":1620641264,"answer_id":67468539,"question_id":67468448,"body_markdown":"On An Android 11 device you cannot create directories or files in root of external storage.\r\n\r\nBut you can  in all public directories that are already there.\r\n\r\n```\r\nFile(Environment.getExternalStorageDirectory(), &quot;sample-take-image&quot;)\r\n```\r\nReplace for instance by:\r\n\r\n```\r\nFile(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;sample-take-image&quot;)\r\n```","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<p>On An Android 11 device you cannot create directories or files in root of external storage.</p>\n<p>But you can  in all public directories that are already there.</p>\n<pre><code>File(Environment.getExternalStorageDirectory(), &quot;sample-take-image&quot;)\n</code></pre>\n<p>Replace for instance by:</p>\n<pre><code>File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;sample-take-image&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1788974,"reputation":159,"user_id":1629791,"display_name":"Raman Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634733089,"creation_date":1620641306,"answer_id":67468552,"question_id":67468448,"body_markdown":"Use `getExternalFilesDir()`, `getExternalCacheDir()`, or `getExternalMediaDirs()` (methods on Context), instead of `Environment.getExternalStorageDirectory()` as this is deprecated.","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<p>Use <code>getExternalFilesDir()</code>, <code>getExternalCacheDir()</code>, or <code>getExternalMediaDirs()</code> (methods on Context), instead of <code>Environment.getExternalStorageDirectory()</code> as this is deprecated.</p>\n"},{"tags":[],"owner":{"account_id":4065390,"reputation":705,"user_id":3340529,"display_name":"Ashwin H"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641548829,"creation_date":1641548829,"answer_id":70619368,"question_id":67468448,"body_markdown":"    String dirPath;\r\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\r\n                    dirPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath() + &quot;/&quot; + getString(R.string.app_name) + &quot;/&quot;;\r\n                } else {\r\n                    dirPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot; + getString(R.string.app_name) + &quot;/&quot;;\r\n                }","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<pre><code>String dirPath;\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\n                dirPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath() + &quot;/&quot; + getString(R.string.app_name) + &quot;/&quot;;\n            } else {\n                dirPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot; + getString(R.string.app_name) + &quot;/&quot;;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21229055,"reputation":47,"user_id":15614129,"display_name":"Himanshu HC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692902451,"creation_date":1692902451,"answer_id":76972137,"question_id":67468448,"body_markdown":"In my Case, permission was missing\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\nAlso request to Allow the Storage Permission in the App Setting","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<p>In my Case, permission was missing</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>Also request to Allow the Storage Permission in the App Setting</p>\n"}],"owner":{"account_id":7544172,"reputation":417,"user_id":5727849,"display_name":"Thang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8526,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67468539,"answer_count":4,"score":3,"last_activity_date":1692902451,"creation_date":1620640827,"question_id":67468448,"body_markdown":"I am trying to create a file on the file system, but I still get this exception:\r\n\r\n```\r\nprivate fun getTempFolder(): File {\r\n        val directoryFolder =\r\n            File(Environment.getExternalStorageDirectory(), &quot;sample-take-image&quot;)\r\n        directoryFolder.mkdirs()\r\n        return directoryFolder\r\n    }\r\n    private fun getTempFile(): File {\r\n        val timeStamp = SimpleDateFormat(&quot;yyyyMMdd_HHMMss&quot;, Locale.getDefault()).format(Date())\r\n        return File(\r\n            getTempFolder().absolutePath,\r\n            &quot;image&quot;.plus(Calendar.getInstance().timeInMillis).plus(timeStamp).plus(&quot;.jpg&quot;)\r\n        )\r\n    }\r\n    private fun saveImageToFile(bitmap: Bitmap? = null): String? {\r\n        return try {\r\n            val file = getTempFile()\r\n            Timber.e(&quot;Path: + : ${file.absolutePath}&quot;)\r\n            file.createNewFile()\r\n            val fOut = FileOutputStream(file)\r\n            bitmap?.apply {\r\n                this.compress(Bitmap.CompressFormat.JPEG, 100, fOut)\r\n            }\r\n            fOut.flush()\r\n            fOut.close()\r\n            file?.absolutePath.getDefault()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n            &quot;&quot;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nEven though I got the link after taking the photo camare:\r\n\r\n**: /storage/emulated/0/sample-take-image/image162064003789420210510_160517.jpg**\r\n\r\nSo can someone tell me why I can&#39;t create the file in this case. I am currently on **Android 11**\r\nwith \r\n\r\n  **compileSdkVersion 30\r\n\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n\r\n    minSdkVersion 26**","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<p>I am trying to create a file on the file system, but I still get this exception:</p>\n<pre><code>private fun getTempFolder(): File {\n        val directoryFolder =\n            File(Environment.getExternalStorageDirectory(), &quot;sample-take-image&quot;)\n        directoryFolder.mkdirs()\n        return directoryFolder\n    }\n    private fun getTempFile(): File {\n        val timeStamp = SimpleDateFormat(&quot;yyyyMMdd_HHMMss&quot;, Locale.getDefault()).format(Date())\n        return File(\n            getTempFolder().absolutePath,\n            &quot;image&quot;.plus(Calendar.getInstance().timeInMillis).plus(timeStamp).plus(&quot;.jpg&quot;)\n        )\n    }\n    private fun saveImageToFile(bitmap: Bitmap? = null): String? {\n        return try {\n            val file = getTempFile()\n            Timber.e(&quot;Path: + : ${file.absolutePath}&quot;)\n            file.createNewFile()\n            val fOut = FileOutputStream(file)\n            bitmap?.apply {\n                this.compress(Bitmap.CompressFormat.JPEG, 100, fOut)\n            }\n            fOut.flush()\n            fOut.close()\n            file?.absolutePath.getDefault()\n        } catch (e: Exception) {\n            e.printStackTrace()\n            &quot;&quot;\n        }\n    }\n\n</code></pre>\n<p>Even though I got the link after taking the photo camare:</p>\n<p><strong>: /storage/emulated/0/sample-take-image/image162064003789420210510_160517.jpg</strong></p>\n<p>So can someone tell me why I can't create the file in this case. I am currently on <strong>Android 11</strong>\nwith</p>\n<p>**compileSdkVersion 30</p>\n<pre><code>buildToolsVersion &quot;30.0.2&quot;\n\nminSdkVersion 26**\n</code></pre>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692906807,"post_id":76972116,"comment_id":135691885,"body_markdown":"What do you want to check exactly? Are you in an OAuth2 client or an OAuth2 resource server?","body":"What do you want to check exactly? Are you in an OAuth2 client or an OAuth2 resource server?"},{"owner":{"account_id":29292989,"reputation":1,"user_id":22442993,"display_name":"Eqnuhy77G2"},"score":0,"creation_date":1692935769,"post_id":76972116,"comment_id":135694998,"body_markdown":"I am new in Keycloak and Java Spring. Could you let me know you contact info to explain more. Thanks.","body":"I am new in Keycloak and Java Spring. Could you let me know you contact info to explain more. Thanks."},{"owner":{"account_id":29292989,"reputation":1,"user_id":22442993,"display_name":"Eqnuhy77G2"},"score":0,"creation_date":1692936132,"post_id":76972116,"comment_id":135695025,"body_markdown":"Anyway, I think, I am in OAuth client.","body":"Anyway, I think, I am in OAuth client."}],"owner":{"account_id":29292989,"reputation":1,"user_id":22442993,"display_name":"Eqnuhy77G2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692902287,"creation_date":1692902287,"question_id":76972116,"body_markdown":" \r\n     Keycloak keycloak = KeycloakBuilder\r\n                .builder()\r\n                .serverUrl(&quot;http://localhost:8080/auth&quot;)\r\n                .realm(&quot;master&quot;)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;admin&quot;)\r\n                .clientId(&quot;demoapp&quot;)\r\n                .build();\r\n\r\n\r\n        RealmResource realmResource = keycloak.realm(&quot;springboot&quot;);\r\n\r\n        System.out.println(realmResource);\r\n\r\nI want to check keycloak extra realm called &quot;springboot&quot; user session on my javaspring boot project.","title":"How to get Keycloak extra realm&#39;s user session on my java spring project not using Adapter","body":"<pre><code> Keycloak keycloak = KeycloakBuilder\n            .builder()\n            .serverUrl(&quot;http://localhost:8080/auth&quot;)\n            .realm(&quot;master&quot;)\n            .username(&quot;admin&quot;)\n            .password(&quot;admin&quot;)\n            .clientId(&quot;demoapp&quot;)\n            .build();\n\n\n    RealmResource realmResource = keycloak.realm(&quot;springboot&quot;);\n\n    System.out.println(realmResource);\n</code></pre>\n<p>I want to check keycloak extra realm called &quot;springboot&quot; user session on my javaspring boot project.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1611263024,"post_id":65835461,"comment_id":116402290,"body_markdown":"Can you show the whole console output? What version of JDA are you using?","body":"Can you show the whole console output? What version of JDA are you using?"},{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1611311010,"post_id":65835461,"comment_id":116415696,"body_markdown":"Does this answer your question? [Discord Bot connected to Websocket but not finished loading](https://stackoverflow.com/questions/64562258/discord-bot-connected-to-websocket-but-not-finished-loading)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64562258/discord-bot-connected-to-websocket-but-not-finished-loading\">Discord Bot connected to Websocket but not finished loading</a>"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692901467,"creation_date":1611264110,"answer_id":65835914,"question_id":65835461,"body_markdown":"You are facing an issue described in [a discord developer support article](https://web.archive.org/web/20230324003531/https://support-dev.discord.com/hc/en-us/articles/360056426994):\r\n&gt; WHY IS MY BOT NO LONGER WORKING SUDDENLY?\r\n&gt; \r\n&gt; When the new gateway update was deployed, bots which weren&#39;t adequately prepared to specify gateway intents could have experienced a variety of issues. Common symptoms include:\r\n&gt; \r\n&gt; - The bot not responding anymore, despite being online\r\n&gt; - The bot cache being empty (only seeing a few users across all guilds)\r\n&gt; - A library on ready event not firing or timing out (happening mostly on discord.py and discord.js bots but other libraries might exhibit the same behavior)\r\n&gt; \r\n&gt; If you are affected by this, this is because of 2 gateway changes:\r\n&gt; \r\n&gt; - You no longer have access to disabled privileged intents if you are not specifying intents\r\n&gt; - You can no longer request member info for multiple guilds at the same time\r\n\r\n&gt; HOW DO I GET BACK UP AND RUNNING?\r\nUPDATING YOUR LIBRARY\r\n&gt; \r\n&gt; First, you must make sure you&#39;re using a library version that can handle intents, and by extension no longer requests information on multiple guilds at once.\r\n&gt; \r\n&gt; For discord.py, this means you need to update to v1.5 or higher. \r\n&gt; \r\n&gt; For discord.js, this means you need to update to v12 or higher. \r\n&gt; \r\n&gt; If you&#39;re unsure how to upgrade your bot to a new library release or are unclear regarding the intent compatibility of an alternative library, please see the library links provided in our Developer Community Resources. \r\n\r\n&gt; SPECIFYING GATEWAY INTENTS\r\n&gt; \r\n&gt; Please note that a variety of our gateway intents are not privileged, meaning they do not require specific switches to be flipped or whitelisted access to be requested. You can review the entirety of our available intents [here](https://discord.com/developers/docs/topics/gateway#gateway-intents).\r\n&gt; \r\n&gt; Specifying which intents you&#39;d like to receive varies based on your chosen library. Documentation on how to specify gateway intents in discord.js is available [here](https://discordjs.guide/popular-topics/intents.html). Documentation for specifying gateway intents in discord.py is available [here](https://discordpy.readthedocs.io/en/latest/intents.html).\r\n\r\nSo, you need to update JDA at first. I would recommend you to use the latest version for this. You can see the latest version code here: ![](https://api.bintray.com/packages/dv8fromtheworld/maven/JDA/images/download.svg)\r\n\r\nAfter that, you should change the use of the constructor of JDABuilder as defined [in the README of JDA](https://github.com/discord-jda/JDA) like this:\r\n\r\n    JDABuilder builder=JDABuilder.createDefault(&quot;YOUR_TOKEN_HERE&quot;);\r\n\r\nIf you need privileged gateway intents, you also need to enable those both on the developer page and in your application.","title":"onMessageReceived() not being called | Discord Bot","body":"<p>You are facing an issue described in <a href=\"https://web.archive.org/web/20230324003531/https://support-dev.discord.com/hc/en-us/articles/360056426994\" rel=\"nofollow noreferrer\">a discord developer support article</a>:</p>\n<blockquote>\n<p>WHY IS MY BOT NO LONGER WORKING SUDDENLY?</p>\n<p>When the new gateway update was deployed, bots which weren't adequately prepared to specify gateway intents could have experienced a variety of issues. Common symptoms include:</p>\n<ul>\n<li>The bot not responding anymore, despite being online</li>\n<li>The bot cache being empty (only seeing a few users across all guilds)</li>\n<li>A library on ready event not firing or timing out (happening mostly on discord.py and discord.js bots but other libraries might exhibit the same behavior)</li>\n</ul>\n<p>If you are affected by this, this is because of 2 gateway changes:</p>\n<ul>\n<li>You no longer have access to disabled privileged intents if you are not specifying intents</li>\n<li>You can no longer request member info for multiple guilds at the same time</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>HOW DO I GET BACK UP AND RUNNING?\nUPDATING YOUR LIBRARY</p>\n<p>First, you must make sure you're using a library version that can handle intents, and by extension no longer requests information on multiple guilds at once.</p>\n<p>For discord.py, this means you need to update to v1.5 or higher.</p>\n<p>For discord.js, this means you need to update to v12 or higher.</p>\n<p>If you're unsure how to upgrade your bot to a new library release or are unclear regarding the intent compatibility of an alternative library, please see the library links provided in our Developer Community Resources.</p>\n</blockquote>\n<blockquote>\n<p>SPECIFYING GATEWAY INTENTS</p>\n<p>Please note that a variety of our gateway intents are not privileged, meaning they do not require specific switches to be flipped or whitelisted access to be requested. You can review the entirety of our available intents <a href=\"https://discord.com/developers/docs/topics/gateway#gateway-intents\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Specifying which intents you'd like to receive varies based on your chosen library. Documentation on how to specify gateway intents in discord.js is available <a href=\"https://discordjs.guide/popular-topics/intents.html\" rel=\"nofollow noreferrer\">here</a>. Documentation for specifying gateway intents in discord.py is available <a href=\"https://discordpy.readthedocs.io/en/latest/intents.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n</blockquote>\n<p>So, you need to update JDA at first. I would recommend you to use the latest version for this. You can see the latest version code here: <img src=\"https://api.bintray.com/packages/dv8fromtheworld/maven/JDA/images/download.svg\" alt=\"\" /></p>\n<p>After that, you should change the use of the constructor of JDABuilder as defined <a href=\"https://github.com/discord-jda/JDA\" rel=\"nofollow noreferrer\">in the README of JDA</a> like this:</p>\n<pre><code>JDABuilder builder=JDABuilder.createDefault(&quot;YOUR_TOKEN_HERE&quot;);\n</code></pre>\n<p>If you need privileged gateway intents, you also need to enable those both on the developer page and in your application.</p>\n"}],"owner":{"account_id":18968107,"reputation":323,"user_id":14759299,"display_name":"L0raxeo C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":65835914,"answer_count":1,"score":1,"last_activity_date":1692901467,"creation_date":1611261955,"question_id":65835461,"body_markdown":"I am making my first Discord bot with Java. I am using Gradle. Here is my code so far:\r\n```\r\npublic class Main extends ListenerAdapter {\r\n    public static void main(String[] args) throws LoginException {\r\n        JDABuilder builder = new JDABuilder(AccountType.BOT);\r\n        String token = &quot;x&quot;;\r\n        builder.setToken(token);\r\n        builder.addEventListener(new Main());\r\n        builder.buildAsync();\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(MessageReceivedEvent event) {\r\n        System.out.println(&quot;We received a message from &quot; +\r\n                event.getAuthor().getName() + &quot;: &quot; +\r\n                event.getMessage().getContentDisplay()\r\n        );\r\n\r\n        if (event.getMessage().getContentRaw().equals(&quot;yomyman&quot;)) {\r\n            event.getChannel().sendMessage(&quot;Pong!&quot;).queue();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I execute the program, I do not receive any warnings and my bot goes online in my discord server. However for some reason when I type &quot;yomyman&quot; in any channel, nothing happens. Nothing gets printed to the console, nor does the bot say anything on the. On top of that the method onMessageReceived(); doesn&#39;t get called at all. This is the only code I have in this project.\r\n\r\nAdditional information:\r\n- Gradle is being used\r\n- JDA is being used\r\n- No errors printed to the console","title":"onMessageReceived() not being called | Discord Bot","body":"<p>I am making my first Discord bot with Java. I am using Gradle. Here is my code so far:</p>\n<pre><code>public class Main extends ListenerAdapter {\n    public static void main(String[] args) throws LoginException {\n        JDABuilder builder = new JDABuilder(AccountType.BOT);\n        String token = &quot;x&quot;;\n        builder.setToken(token);\n        builder.addEventListener(new Main());\n        builder.buildAsync();\n    }\n\n    @Override\n    public void onMessageReceived(MessageReceivedEvent event) {\n        System.out.println(&quot;We received a message from &quot; +\n                event.getAuthor().getName() + &quot;: &quot; +\n                event.getMessage().getContentDisplay()\n        );\n\n        if (event.getMessage().getContentRaw().equals(&quot;yomyman&quot;)) {\n            event.getChannel().sendMessage(&quot;Pong!&quot;).queue();\n        }\n    }\n\n}\n</code></pre>\n<p>When I execute the program, I do not receive any warnings and my bot goes online in my discord server. However for some reason when I type &quot;yomyman&quot; in any channel, nothing happens. Nothing gets printed to the console, nor does the bot say anything on the. On top of that the method onMessageReceived(); doesn't get called at all. This is the only code I have in this project.</p>\n<p>Additional information:</p>\n<ul>\n<li>Gradle is being used</li>\n<li>JDA is being used</li>\n<li>No errors printed to the console</li>\n</ul>\n"},{"tags":["java","spring-boot","junit","spring-boot-test","testcase"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692965175,"post_id":76970242,"comment_id":135700112,"body_markdown":"have you tried to check your dependency tree ? with `mvn dependency:tree`","body":"have you tried to check your dependency tree ? with <code>mvn dependency:tree</code>"}],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692900946,"creation_date":1692886703,"question_id":76970242,"body_markdown":"We have a Spring boot v 2.7.x application, running on java 11. And we want to switch to java 17 and Spring boot 3.0.0.\r\nBut now, when I am making the changes locally (IDE is IntelliJ), the following test class:\r\n\r\n``` \r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\n@SpringBootTest\r\nclass MyCompanyAppRegistrationApplicationTests {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n        assertTrue(true);\r\n    }\r\n\r\n}\r\n\r\n```\r\nstarted failing with this error:\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@55a66bbf \r\n\r\ntestClass = company.registration.MyCompanyAppRegistrationApplicationTests, \r\nlocations = [], \r\nclasses = [company.registration.MyCompanyAppRegistrationApplication], \r\ncontextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], \r\npropertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], \r\ncontextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6cc850, \r\n\r\n                      org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@48b22fd4, \r\n                      org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, \r\n                      org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@178270b2, \r\n                      org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, \r\n                      org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, \r\n                      org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3d36dff4, \r\n                      org.springframework.boot.test.context.SpringBootTestAnnotation@3954286c], \r\nresourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [company.registration.MyCompanyAppRegistrationApplication]: Failed to load class [javax.servlet.Filter]\r\nCaused by: java.io.IOException: Failed to load class [javax.servlet.Filter]\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n```\r\n\r\nSince Spring 3.x supports JakartaEE 9 and 10, I have changed all the needed packages from javax* to Jakarta.*. But obviously for some reason somewhere Javax.servlet.Filter is wanted.\r\nWhere I should look into this? Should I look at the dependencies in the pom file? The pom file looks like this:\r\n\r\n```\r\n   &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n        &lt;commons-lib.version&gt;3.2.1&lt;/commons-lib.version&gt;\r\n        &lt;datasource-lib.version&gt;1.4.0&lt;/datasource-lib.version&gt;\r\n\r\n        &lt;wiremock.version&gt;2.27.2&lt;/wiremock.version&gt;\r\n        &lt;archunit.version&gt;1.0.1&lt;/archunit.version&gt;\r\n        &lt;guava.version&gt;31.1-jre&lt;/guava.version&gt;\r\n        &lt;h2.version&gt;1.4.200&lt;/h2.version&gt;\r\n        &lt;jakarta.validaton.api.version&gt;3.0.0&lt;/jakarta.validaton.api.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- internal dependencies--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;my company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lib.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;my company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datasource-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;${datasource-lib.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--PROVIDED--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;${guava.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakarta.validaton.api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!--TEST--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\r\n            &lt;version&gt;${wiremock.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;${h2.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;archunit&lt;/artifactId&gt;\r\n            &lt;version&gt;${archunit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0.2131&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;rules&gt;\r\n                    &lt;/rules&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;name&gt;libs-staging-local&lt;/name&gt;\r\n            &lt;url&gt;https://some-url&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;snapshots&lt;/id&gt;\r\n            &lt;name&gt;libs-snapshot-local&lt;/name&gt;\r\n            &lt;url&gt;https://some-url&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;azd-releases&lt;/id&gt;\r\n            &lt;url&gt;https://some-url&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;azd-snapshots&lt;/id&gt;\r\n            &lt;url&gt;https://some-url&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;apache-central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n```","title":"java.lang.ClassNotFoundException during execution of Contextloads() method in Spring Boot JUnit test case","body":"<p>We have a Spring boot v 2.7.x application, running on java 11. And we want to switch to java 17 and Spring boot 3.0.0.\nBut now, when I am making the changes locally (IDE is IntelliJ), the following test class:</p>\n<pre><code>\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n@SpringBootTest\nclass MyCompanyAppRegistrationApplicationTests {\n\n    @Test\n    void contextLoads() {\n        assertTrue(true);\n    }\n\n}\n\n</code></pre>\n<p>started failing with this error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@55a66bbf \n\ntestClass = company.registration.MyCompanyAppRegistrationApplicationTests, \nlocations = [], \nclasses = [company.registration.MyCompanyAppRegistrationApplication], \ncontextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], \npropertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], \ncontextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6cc850, \n\n                      org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@48b22fd4, \n                      org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, \n                      org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@178270b2, \n                      org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, \n                      org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, \n                      org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3d36dff4, \n                      org.springframework.boot.test.context.SpringBootTestAnnotation@3954286c], \nresourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [company.registration.MyCompanyAppRegistrationApplication]: Failed to load class [javax.servlet.Filter]\nCaused by: java.io.IOException: Failed to load class [javax.servlet.Filter]\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\n</code></pre>\n<p>Since Spring 3.x supports JakartaEE 9 and 10, I have changed all the needed packages from javax* to Jakarta.*. But obviously for some reason somewhere Javax.servlet.Filter is wanted.\nWhere I should look into this? Should I look at the dependencies in the pom file? The pom file looks like this:</p>\n<pre><code>   &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n\n        &lt;commons-lib.version&gt;3.2.1&lt;/commons-lib.version&gt;\n        &lt;datasource-lib.version&gt;1.4.0&lt;/datasource-lib.version&gt;\n\n        &lt;wiremock.version&gt;2.27.2&lt;/wiremock.version&gt;\n        &lt;archunit.version&gt;1.0.1&lt;/archunit.version&gt;\n        &lt;guava.version&gt;31.1-jre&lt;/guava.version&gt;\n        &lt;h2.version&gt;1.4.200&lt;/h2.version&gt;\n        &lt;jakarta.validaton.api.version&gt;3.0.0&lt;/jakarta.validaton.api.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- internal dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;my company&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lib&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;my company&lt;/groupId&gt;\n            &lt;artifactId&gt;datasource-lib&lt;/artifactId&gt;\n            &lt;version&gt;${datasource-lib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--PROVIDED--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakarta.validaton.api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--TEST--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n            &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\n            &lt;version&gt;${wiremock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;${h2.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;${mockito.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit&lt;/artifactId&gt;\n            &lt;version&gt;${archunit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0.2131&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;rules&gt;\n                    &lt;/rules&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;libs-staging-local&lt;/name&gt;\n            &lt;url&gt;https://some-url&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;libs-snapshot-local&lt;/name&gt;\n            &lt;url&gt;https://some-url&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;azd-releases&lt;/id&gt;\n            &lt;url&gt;https://some-url&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;azd-snapshots&lt;/id&gt;\n            &lt;url&gt;https://some-url&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;apache-central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n"},{"tags":["java","java-native-interface","unsatisfiedlinkerror"],"answers":[{"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497439438,"creation_date":1497439438,"answer_id":44543396,"question_id":44538626,"body_markdown":"It rather seems like your JNI library is not visible. Make sure to put it on PATH or add it to java.library.path.\r\n\r\nIf you can provide stack trace, this would definitely help to check whether this is related to your JNI library or some other library that is used by your code.","title":"JNI unsatisfiedlinkerror after client installation","body":"<p>It rather seems like your JNI library is not visible. Make sure to put it on PATH or add it to java.library.path.</p>\n\n<p>If you can provide stack trace, this would definitely help to check whether this is related to your JNI library or some other library that is used by your code.</p>\n"}],"owner":{"account_id":11114106,"reputation":1,"user_id":8158887,"display_name":"Lo&#239;k Manakaua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692900562,"creation_date":1497426515,"question_id":44538626,"body_markdown":"I had to make a C++ bridge between java application and .NET dll, that&#39;s why I used JNI.\r\n\r\nOn my environment all works fine, but when tried to another non-developer computer I catch `unsatisfiedlinkerror exception`.\r\n\r\nMy question is: is it necessary to have JDK for using jni or is it possible with jre which doesn&#39;t have include directory where are jni common files?\r\n\r\nThank you","title":"JNI unsatisfiedlinkerror after client installation","body":"<p>I had to make a C++ bridge between java application and .NET dll, that's why I used JNI.</p>\n<p>On my environment all works fine, but when tried to another non-developer computer I catch <code>unsatisfiedlinkerror exception</code>.</p>\n<p>My question is: is it necessary to have JDK for using jni or is it possible with jre which doesn't have include directory where are jni common files?</p>\n<p>Thank you</p>\n"},{"tags":["java","gradle","minecraft-forge","discord-jda"],"owner":{"account_id":343892,"reputation":1190,"user_id":675881,"accept_rate":90,"display_name":"Richard Hedges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692900473,"creation_date":1692900473,"question_id":76971932,"body_markdown":"I am using Gradle Shadow in an attempt to include all dependencies when building my Minecraft Forge mod JAR. The dependency in question is JDA, which is included in the generated JAR, but when I run the Minecraft server I&#39;m presented with this error: `java.lang.NoClassDefFoundError: org/slf4j/Logger at net.dv8tion.jda.internal.utils.IOUtil.&lt;clinit&gt;(IOUtil.java:35)`\r\n\r\nI would have expected Shadow to include all dependencies (including dependencies of dependencies), but SLF4J is definitely not being included in the generated JAR. I&#39;ve tried a handful of variations, including multiple different slf4j packages, different JDA versions, and a whole bunch of variations of configurations in the build.gradle file.\r\n\r\nGradle: 7.3.3&lt;br&gt;\r\nShadow: 7.0.0\r\n\r\nMy build.gradle file (minus a few mod specifics, i.e. mod id):\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven { url = &#39;https://maven.minecraftforge.net&#39; }\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath group: &#39;net.minecraftforge.gradle&#39;, name: &#39;ForgeGradle&#39;, version: &#39;5.1.+&#39;, changing: true\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.0.0&#39;\r\n}\r\n\r\napply plugin: &#39;net.minecraftforge.gradle&#39;\r\n// Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;maven-publish&#39;\r\napply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\napply plugin: &#39;java-library&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        name &#39;m2-dv8tion&#39;\r\n        url &#39;https://m2.dv8tion.net/releases&#39;\r\n    }\r\n}\r\n\r\nshadowJar {\r\n    dependencies {\r\n        include(dependency(&#39;org.slf4j:slf4j-api:1.7.36&#39;))\r\n        include(dependency(&#39;net.dv8tion:JDA:4.3.0_298&#39;))\r\n    }\r\n}\r\n\r\ndependencies {\r\n    minecraft &#39;net.minecraftforge:forge:1.16.5-36.2.34&#39;\r\n\r\n    implementation &#39;org.slf4j:slf4j-api:1.7.36&#39;\r\n    implementation &#39;net.dv8tion:JDA:4.3.0_298&#39;\r\n\r\n}\r\n```","title":"How you you appropriately include all dependencies when building a Forge jar?","body":"<p>I am using Gradle Shadow in an attempt to include all dependencies when building my Minecraft Forge mod JAR. The dependency in question is JDA, which is included in the generated JAR, but when I run the Minecraft server I'm presented with this error: <code>java.lang.NoClassDefFoundError: org/slf4j/Logger at net.dv8tion.jda.internal.utils.IOUtil.&lt;clinit&gt;(IOUtil.java:35)</code></p>\n<p>I would have expected Shadow to include all dependencies (including dependencies of dependencies), but SLF4J is definitely not being included in the generated JAR. I've tried a handful of variations, including multiple different slf4j packages, different JDA versions, and a whole bunch of variations of configurations in the build.gradle file.</p>\n<p>Gradle: 7.3.3<br>\nShadow: 7.0.0</p>\n<p>My build.gradle file (minus a few mod specifics, i.e. mod id):</p>\n<pre><code>buildscript {\n    repositories {\n        maven { url = 'https://maven.minecraftforge.net' }\n        mavenCentral()\n    }\n    dependencies {\n        classpath group: 'net.minecraftforge.gradle', name: 'ForgeGradle', version: '5.1.+', changing: true\n    }\n}\n\nplugins {\n    id 'com.github.johnrengelman.shadow' version '7.0.0'\n}\n\napply plugin: 'net.minecraftforge.gradle'\n// Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.\napply plugin: 'eclipse'\napply plugin: 'maven-publish'\napply plugin: 'com.github.johnrengelman.shadow'\napply plugin: 'java-library'\n\nrepositories {\n    mavenCentral()\n    maven {\n        name 'm2-dv8tion'\n        url 'https://m2.dv8tion.net/releases'\n    }\n}\n\nshadowJar {\n    dependencies {\n        include(dependency('org.slf4j:slf4j-api:1.7.36'))\n        include(dependency('net.dv8tion:JDA:4.3.0_298'))\n    }\n}\n\ndependencies {\n    minecraft 'net.minecraftforge:forge:1.16.5-36.2.34'\n\n    implementation 'org.slf4j:slf4j-api:1.7.36'\n    implementation 'net.dv8tion:JDA:4.3.0_298'\n\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9767,"page":225,"page_size":100}
