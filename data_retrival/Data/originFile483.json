{"items":[{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682171829,"creation_date":1682171829,"answer_id":76080022,"question_id":76079077,"body_markdown":"It appears that there is an error in the birthday parameter you are trying to send. The format is not correct. It should be something like this:\r\n\r\n    { &#39;nickname&#39;: &#39;bob&#39;, &#39;kind&#39;: &#39;cat&#39;, &#39;birthday&#39;: &#39;2023-04-22T15:00:00Z&#39; }\r\n\r\nIf you only want to store just the year, month, and day, please refer to https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html.\r\n","title":"Failed to read post request in Spring Boot app (400)","body":"<p>It appears that there is an error in the birthday parameter you are trying to send. The format is not correct. It should be something like this:</p>\n<pre><code>{ 'nickname': 'bob', 'kind': 'cat', 'birthday': '2023-04-22T15:00:00Z' }\n</code></pre>\n<p>If you only want to store just the year, month, and day, please refer to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html</a>.</p>\n"}],"owner":{"account_id":28332188,"reputation":1,"user_id":21666290,"display_name":"Jan Potarski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682171829,"creation_date":1682158187,"question_id":76079077,"body_markdown":"I wrote simple CRUD Spring Boot app, but the POST endpoints don&#39;t work for some reason. I send the correct set of key-value pairs, \r\nBut I get the same error every time:\r\n\r\n\r\n```\r\n{\r\n    &quot;nickname&quot;: &quot;bob&quot;,\r\n    &quot;kind&quot;: &quot;cat&quot;,\r\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\r\n    &quot;vetRecords&quot;: null\r\n}\r\n\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\r\n    &quot;instance&quot;: &quot;/api/v1/users/4/animals&quot;\r\n}\r\n\r\n```\r\n\r\n\r\nI tried sending same request with debugger, but it doesn&#39;t stop in moment when I provide request. CommonsRequestLoggingFilter also shows only this: \r\n\r\n\r\n```\r\n2023-04-22T13:59:47.087+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /api/v1/users/4/animals]\r\n2023-04-22T13:59:47.344+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA: POST /api/v1/users/4/animals, payload=\r\n{\r\n    &quot;nickname&quot;: &quot;bob&quot;,\r\n    &quot;kind&quot;: &quot;cat&quot;,\r\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\r\n    &quot;vetRecords&quot;: null\r\n}]\r\n```\r\n\r\n\r\nController:\r\n\r\n\r\n```\r\n@PostMapping(&quot;{id}/animals&quot;)\r\n    public AnimalDto createAnimal(@PathVariable Long id,\r\n                                  @Validated(OnCreate.class) @RequestBody AnimalDto animalDto) {\r\n        Animal animal = animalMapper.toEntity(animalDto);\r\n        Animal createdAnimal = animalService.create(animal, id);\r\n        return animalMapper.toDto(createdAnimal);\r\n    }\r\n```\r\n\r\nDTO:\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AnimalDto {\r\n    @NotNull(message = &quot;Id must be not null&quot;, groups = OnUpdate.class)\r\n    private Long id;\r\n\r\n    @NotNull(message = &quot;Animal name must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    @Length(max = 256, message = &quot;Animal name must be less than 256 symbols&quot;)\r\n    private String nickname;\r\n\r\n    @NotNull(message = &quot;Animal kind must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    @Length(max = 256, message = &quot;Animal kind must be less than 256 symbols&quot;)\r\n    private String kind;\r\n\r\n    @NotNull(message = &quot;Animal age must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    private Date birthday;\r\n\r\n    private List&lt;VetRecord&gt; vetRecords;\r\n}\r\n```\r\n\r\nEntity:\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Animal {\r\n\r\n    private Long id;\r\n    private String nickname;\r\n    private String kind;\r\n    private Date birthday;\r\n    private List&lt;VetRecord&gt; vetRecords;\r\n}\r\n```\r\n\r\nMapper (MapStruct):\r\n\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface AnimalMapper {\r\n\r\n    AnimalDto toDto(Animal animal);\r\n\r\n    List&lt;AnimalDto&gt; toDto(List&lt;Animal&gt; animals);\r\n\r\n    Animal toEntity(AnimalDto animalDto);\r\n}\r\n```\r\n\r\n","title":"Failed to read post request in Spring Boot app (400)","body":"<p>I wrote simple CRUD Spring Boot app, but the POST endpoints don't work for some reason. I send the correct set of key-value pairs,\nBut I get the same error every time:</p>\n<pre><code>{\n    &quot;nickname&quot;: &quot;bob&quot;,\n    &quot;kind&quot;: &quot;cat&quot;,\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\n    &quot;vetRecords&quot;: null\n}\n\n{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\n    &quot;instance&quot;: &quot;/api/v1/users/4/animals&quot;\n}\n\n</code></pre>\n<p>I tried sending same request with debugger, but it doesn't stop in moment when I provide request. CommonsRequestLoggingFilter also shows only this:</p>\n<pre><code>2023-04-22T13:59:47.087+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /api/v1/users/4/animals]\n2023-04-22T13:59:47.344+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA: POST /api/v1/users/4/animals, payload=\n{\n    &quot;nickname&quot;: &quot;bob&quot;,\n    &quot;kind&quot;: &quot;cat&quot;,\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\n    &quot;vetRecords&quot;: null\n}]\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;{id}/animals&quot;)\n    public AnimalDto createAnimal(@PathVariable Long id,\n                                  @Validated(OnCreate.class) @RequestBody AnimalDto animalDto) {\n        Animal animal = animalMapper.toEntity(animalDto);\n        Animal createdAnimal = animalService.create(animal, id);\n        return animalMapper.toDto(createdAnimal);\n    }\n</code></pre>\n<p>DTO:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AnimalDto {\n    @NotNull(message = &quot;Id must be not null&quot;, groups = OnUpdate.class)\n    private Long id;\n\n    @NotNull(message = &quot;Animal name must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    @Length(max = 256, message = &quot;Animal name must be less than 256 symbols&quot;)\n    private String nickname;\n\n    @NotNull(message = &quot;Animal kind must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    @Length(max = 256, message = &quot;Animal kind must be less than 256 symbols&quot;)\n    private String kind;\n\n    @NotNull(message = &quot;Animal age must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    private Date birthday;\n\n    private List&lt;VetRecord&gt; vetRecords;\n}\n</code></pre>\n<p>Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Animal {\n\n    private Long id;\n    private String nickname;\n    private String kind;\n    private Date birthday;\n    private List&lt;VetRecord&gt; vetRecords;\n}\n</code></pre>\n<p>Mapper (MapStruct):</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface AnimalMapper {\n\n    AnimalDto toDto(Animal animal);\n\n    List&lt;AnimalDto&gt; toDto(List&lt;Animal&gt; animals);\n\n    Animal toEntity(AnimalDto animalDto);\n}\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":104665,"reputation":15134,"user_id":279691,"accept_rate":83,"display_name":"Betamoo"},"score":0,"creation_date":1275995994,"post_id":408820,"comment_id":3060420,"body_markdown":"Related: http://stackoverflow.com/questions/2994304/is-java-swing-still-in-use/2994324#2994324","body":"Related: <a href=\"http://stackoverflow.com/questions/2994304/is-java-swing-still-in-use/2994324#2994324\" title=\"is java swing still in use\">stackoverflow.com/questions/2994304/is-java-swing-still-in-u&zwnj;&#8203;se/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1230976138,"creation_date":1230976138,"answer_id":408828,"question_id":408820,"body_markdown":"[Swing vs AWT][1].  Basically AWT came first and is a set of heavyweight UI components (meaning they are wrappers for operating system objects) whereas Swing built on top of AWT with a richer set of lightweight components.\r\n\r\nAny serious Java UI work is done in Swing not AWT, which was primarily used for applets.\r\n\r\n\r\n  [1]: http://dn.codegear.com/article/26970","title":"What is the difference between Swing and AWT?","body":"<p><a href=\"http://dn.codegear.com/article/26970\" rel=\"noreferrer\">Swing vs AWT</a>.  Basically AWT came first and is a set of heavyweight UI components (meaning they are wrappers for operating system objects) whereas Swing built on top of AWT with a richer set of lightweight components.</p>\n\n<p>Any serious Java UI work is done in Swing not AWT, which was primarily used for applets.</p>\n"},{"tags":[],"owner":{"account_id":9733,"reputation":98806,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"down_vote_count":0,"up_vote_count":256,"is_accepted":true,"score":256,"last_activity_date":1375212200,"creation_date":1230976291,"answer_id":408830,"question_id":408820,"body_markdown":"AWT is a Java interface to native system GUI code present in your OS. It will not work the same on every system, although it tries.\r\n\r\nSwing is a more-or-less pure-Java GUI. It uses AWT to create an operating system window and then paints pictures of buttons, labels, text, checkboxes, etc., into that window and responds to all of your mouse-clicks, key entries, etc., deciding for itself what to do instead of letting the operating system handle it. Thus Swing is 100% portable and is the same across platforms (although it is skinnable and has a &quot;pluggable look and feel&quot; that can make it look more or less like how the native windows and widgets would look).\r\n\r\nThese are vastly different approaches to GUI toolkits and have a lot of consequences. A full answer to your question would try to explore all of those. :)  Here are a couple:\r\n\r\nAWT is a cross-platform interface, so even though it uses the underlying OS or native GUI toolkit for its functionality, it doesn&#39;t provide access to everything that those toolkits can do. Advanced or newer AWT widgets that might exist on one platform might not be supported on another. Features of widgets that aren&#39;t the same on every platform might not be supported, or worse, they might work differently on each platform. People used to invest lots of effort to get their AWT applications to work consistently across platforms - for instance, they may try to make calls into native code from Java.\r\n\r\nBecause AWT uses native GUI widgets, your OS knows about them and handles putting them in front of each other, etc., whereas Swing widgets are meaningless pixels within a window from your OS&#39;s point of view. Swing itself handles your widgets&#39; layout and stacking.  Mixing AWT and Swing is highly unsupported and can lead to ridiculous results, such as native buttons that obscure everything else in the dialog box in which they reside because everything else was created with Swing.\r\n\r\nBecause Swing tries to do everything possible in Java other than the very raw graphics routines provided by a native GUI window, it used to incur quite a performance penalty compared to AWT. This made Swing unfortunately slow to catch on. However, this has shrunk dramatically over the last several years due to more optimized JVMs, faster machines, and (I presume) optimization of the Swing internals. Today a Swing application can run fast enough to be serviceable or even zippy, and almost indistinguishable from an application using native widgets. Some will say it took far too long to get to this point, but most will say that it is well worth it.\r\n\r\nFinally, you might also want to check out SWT (the GUI toolkit used for Eclipse, and an alternative to both AWT and Swing), which is somewhat of a return to the AWT idea of accessing native Widgets through Java.","title":"What is the difference between Swing and AWT?","body":"<p>AWT is a Java interface to native system GUI code present in your OS. It will not work the same on every system, although it tries.</p>\n\n<p>Swing is a more-or-less pure-Java GUI. It uses AWT to create an operating system window and then paints pictures of buttons, labels, text, checkboxes, etc., into that window and responds to all of your mouse-clicks, key entries, etc., deciding for itself what to do instead of letting the operating system handle it. Thus Swing is 100% portable and is the same across platforms (although it is skinnable and has a \"pluggable look and feel\" that can make it look more or less like how the native windows and widgets would look).</p>\n\n<p>These are vastly different approaches to GUI toolkits and have a lot of consequences. A full answer to your question would try to explore all of those. :)  Here are a couple:</p>\n\n<p>AWT is a cross-platform interface, so even though it uses the underlying OS or native GUI toolkit for its functionality, it doesn't provide access to everything that those toolkits can do. Advanced or newer AWT widgets that might exist on one platform might not be supported on another. Features of widgets that aren't the same on every platform might not be supported, or worse, they might work differently on each platform. People used to invest lots of effort to get their AWT applications to work consistently across platforms - for instance, they may try to make calls into native code from Java.</p>\n\n<p>Because AWT uses native GUI widgets, your OS knows about them and handles putting them in front of each other, etc., whereas Swing widgets are meaningless pixels within a window from your OS's point of view. Swing itself handles your widgets' layout and stacking.  Mixing AWT and Swing is highly unsupported and can lead to ridiculous results, such as native buttons that obscure everything else in the dialog box in which they reside because everything else was created with Swing.</p>\n\n<p>Because Swing tries to do everything possible in Java other than the very raw graphics routines provided by a native GUI window, it used to incur quite a performance penalty compared to AWT. This made Swing unfortunately slow to catch on. However, this has shrunk dramatically over the last several years due to more optimized JVMs, faster machines, and (I presume) optimization of the Swing internals. Today a Swing application can run fast enough to be serviceable or even zippy, and almost indistinguishable from an application using native widgets. Some will say it took far too long to get to this point, but most will say that it is well worth it.</p>\n\n<p>Finally, you might also want to check out SWT (the GUI toolkit used for Eclipse, and an alternative to both AWT and Swing), which is somewhat of a return to the AWT idea of accessing native Widgets through Java.</p>\n"},{"tags":[],"owner":{"account_id":19561,"reputation":886,"user_id":45934,"accept_rate":100,"display_name":"Access Denied"},"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1467815582,"creation_date":1230979699,"answer_id":408884,"question_id":408820,"body_markdown":" The base difference that which already everyone mentioned is that one is **heavy weight** and other is **light weight**. Let me explain, basically what the term heavy weight means is that when you&#39;re using the awt components the native code used for getting the view component **is generated by the Operating System**, thats why it the look and feel changes **from OS to OS.** Where as in swing components its the responsibility of **JVM to generate the view for the components.** Another statement which i saw is that **swing is MVC based and awt is not.**\r\n","title":"What is the difference between Swing and AWT?","body":"<p>The base difference that which already everyone mentioned is that one is <strong>heavy weight</strong> and other is <strong>light weight</strong>. Let me explain, basically what the term heavy weight means is that when you're using the awt components the native code used for getting the view component <strong>is generated by the Operating System</strong>, thats why it the look and feel changes <strong>from OS to OS.</strong> Where as in swing components its the responsibility of <strong>JVM to generate the view for the components.</strong> Another statement which i saw is that <strong>swing is MVC based and awt is not.</strong></p>\n"},{"tags":[],"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1246935410,"creation_date":1246935410,"answer_id":1090158,"question_id":408820,"body_markdown":"As far as when AWT may be more useful than Swing -\r\n\r\n - you may be targeting an older JVM or platform that doesn&#39;t support Swing. This used to really come into play if you were building Applets - you wanted to target the lowest common denominator so people wouldn&#39;t have to install a newer Java plugin.  I&#39;m not sure what the current most widely installed version of the Java plugin is - this may be different today.\r\n - some people prefer the native look of AWT over Swing&#39;s &#39;not quite there&#39; platform skins. (There are better 3rd party native looking skins than Swing&#39;s implementations BTW) Lots of people preferred using AWT&#39;s FileDialog over Swing&#39;s FileChooser because it gave the platform file dialog most people were used to rather than the &#39;weird&#39; custom Swing one.","title":"What is the difference between Swing and AWT?","body":"<p>As far as when AWT may be more useful than Swing -</p>\n\n<ul>\n<li>you may be targeting an older JVM or platform that doesn't support Swing. This used to really come into play if you were building Applets - you wanted to target the lowest common denominator so people wouldn't have to install a newer Java plugin.  I'm not sure what the current most widely installed version of the Java plugin is - this may be different today.</li>\n<li>some people prefer the native look of AWT over Swing's 'not quite there' platform skins. (There are better 3rd party native looking skins than Swing's implementations BTW) Lots of people preferred using AWT's FileDialog over Swing's FileChooser because it gave the platform file dialog most people were used to rather than the 'weird' custom Swing one.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2311193,"reputation":67,"user_id":2029285,"display_name":"arsh"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1536853411,"creation_date":1359640290,"answer_id":14627362,"question_id":408820,"body_markdown":" - swing component provide much flexible user interface because it\r\n   follow model view controller(mvc).\r\n - awt is not mvc based.\r\n - swing works faster.\r\n - awt does not work faster.\r\n - swing components are light weight.\r\n - awt components are heavy weight.\r\n - swing occupies less memory space.\r\n - awt occupies more memory space.\r\n - swing component is platform independent.\r\n - awt is platform dependent.\r\n - swing require javax.swing package.\r\n - awt require javax.awt package.","title":"What is the difference between Swing and AWT?","body":"<ul>\n<li>swing component provide much flexible user interface because it\nfollow model view controller(mvc).</li>\n<li>awt is not mvc based.</li>\n<li>swing works faster.</li>\n<li>awt does not work faster.</li>\n<li>swing components are light weight.</li>\n<li>awt components are heavy weight.</li>\n<li>swing occupies less memory space.</li>\n<li>awt occupies more memory space.</li>\n<li>swing component is platform independent.</li>\n<li>awt is platform dependent.</li>\n<li>swing require javax.swing package.</li>\n<li>awt require javax.awt package.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2397493,"reputation":81,"user_id":2096024,"display_name":"deepika"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1390080290,"creation_date":1361459937,"answer_id":15005785,"question_id":408820,"body_markdown":"**Swing:**\r\n\r\n1. Swing is part of the java foundation classes.\r\n2. Swing components are platform-independent.\r\n3. Swing components are lightweight components because swing sits on the top of awt.\r\n\r\n**AWT:**\r\n\r\n1. AWT is called the abstract window tool.\r\n2. AWT components are platform-dependent.\r\n3. AWT components are heavyweight components.","title":"What is the difference between Swing and AWT?","body":"<p><strong>Swing:</strong></p>\n\n<ol>\n<li>Swing is part of the java foundation classes.</li>\n<li>Swing components are platform-independent.</li>\n<li>Swing components are lightweight components because swing sits on the top of awt.</li>\n</ol>\n\n<p><strong>AWT:</strong></p>\n\n<ol>\n<li>AWT is called the abstract window tool.</li>\n<li>AWT components are platform-dependent.</li>\n<li>AWT components are heavyweight components.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2622856,"reputation":39,"user_id":2270515,"display_name":"B.DastagiriReddy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1365687465,"creation_date":1365687465,"answer_id":15950286,"question_id":408820,"body_markdown":"**AWT**\r\n1 . AWT occupies more memory space\r\n2 . AWT is platform dependent\r\n3 . AWT require javax.awt package\r\n\r\n**swings**\r\n1 . Swing occupies less memory space\r\n2 . Swing component is platform independent\r\n3 . Swing requires javax.swing package\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p><strong>AWT</strong>\n1 . AWT occupies more memory space\n2 . AWT is platform dependent\n3 . AWT require javax.awt package</p>\n\n<p><strong>swings</strong>\n1 . Swing occupies less memory space\n2 . Swing component is platform independent\n3 . Swing requires javax.swing package</p>\n"},{"tags":[],"owner":{"account_id":2830118,"reputation":101,"user_id":2431861,"display_name":"Surendra Bharadwaj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1391753405,"creation_date":1369820121,"answer_id":16810355,"question_id":408820,"body_markdown":"Several consequences result from this difference between AWT and Swing.\r\n\r\nAWT is a thin layer of code on top of the OS, whereas Swing is much larger.\r\nSwing also has very much richer functionality. Using AWT, you have to\r\nimplement a lot of things yourself, while Swing has them built in. For\r\nGUI-intensive work, AWT feels very primitive to work with compared to Swing.\r\nBecause Swing implements GUI functionality itself rather than relying on the\r\nhost OS, it can offer a richer environment on all platforms Java runs on.\r\nAWT is more limited in supplying the same functionality on all platforms\r\nbecause not all platforms implement the same-looking controls in the same\r\nways.\r\n\r\nSwing components are called &quot;lightweight&quot; because they do not require a\r\nnative OS object to implement their functionality. `JDialog` and `JFrame` are\r\nheavyweight, because they do have a peer. So components like `JButton`,\r\n`JTextArea`, etc., are lightweight because they do not have an OS peer.\r\n\r\n\r\n\r\n&gt; A **peer** is a widget provided by the operating system, such as a\r\n&gt; button object or an entry field object.\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p>Several consequences result from this difference between AWT and Swing.</p>\n\n<p>AWT is a thin layer of code on top of the OS, whereas Swing is much larger.\nSwing also has very much richer functionality. Using AWT, you have to\nimplement a lot of things yourself, while Swing has them built in. For\nGUI-intensive work, AWT feels very primitive to work with compared to Swing.\nBecause Swing implements GUI functionality itself rather than relying on the\nhost OS, it can offer a richer environment on all platforms Java runs on.\nAWT is more limited in supplying the same functionality on all platforms\nbecause not all platforms implement the same-looking controls in the same\nways.</p>\n\n<p>Swing components are called \"lightweight\" because they do not require a\nnative OS object to implement their functionality. <code>JDialog</code> and <code>JFrame</code> are\nheavyweight, because they do have a peer. So components like <code>JButton</code>,\n<code>JTextArea</code>, etc., are lightweight because they do not have an OS peer.</p>\n\n<blockquote>\n  <p>A <strong>peer</strong> is a widget provided by the operating system, such as a\n  button object or an entry field object.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18572672,"reputation":378,"user_id":14229006,"display_name":"Nine Tails"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606483098,"creation_date":1606482745,"answer_id":65037967,"question_id":408820,"body_markdown":"Java 8\r\n# Swing\r\n\r\n - It is a part of Java Foundation Classes\r\n - Swing is built on AWT\r\n - Swing components are lightweight\r\n - Swing supports pluggable look and feel\r\n - Platform independent\r\n - Uses MVC : Model-View-Controller architecture\r\n - package : javax.swing\r\n - Unlike Swing’s other components,\r\nwhich are lightweight, the top-level containers are heavyweight.\r\n\r\n# AWT - Abstract Window Toolkit\r\n\r\n - Platform dependent\r\n - AWT components are heavyweight\r\n - package java.awt\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p>Java 8</p>\n<h1>Swing</h1>\n<ul>\n<li>It is a part of Java Foundation Classes</li>\n<li>Swing is built on AWT</li>\n<li>Swing components are lightweight</li>\n<li>Swing supports pluggable look and feel</li>\n<li>Platform independent</li>\n<li>Uses MVC : Model-View-Controller architecture</li>\n<li>package : javax.swing</li>\n<li>Unlike Swing’s other components,\nwhich are lightweight, the top-level containers are heavyweight.</li>\n</ul>\n<h1>AWT - Abstract Window Toolkit</h1>\n<ul>\n<li>Platform dependent</li>\n<li>AWT components are heavyweight</li>\n<li>package java.awt</li>\n</ul>\n"}],"owner":{"account_id":14374,"reputation":6122,"user_id":29515,"accept_rate":72,"display_name":"Samiksha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232760,"favorite_count":0,"down_vote_count":2,"up_vote_count":248,"accepted_answer_id":408830,"answer_count":9,"score":246,"last_activity_date":1682170223,"creation_date":1230975785,"question_id":408820,"body_markdown":"Can someone please explain me what&#39;s the difference between Swing and AWT?\r\n\r\nAre there any cases where AWT is more useful/advised to use than swing or vice-versa?","title":"What is the difference between Swing and AWT?","body":"<p>Can someone please explain me what's the difference between Swing and AWT?</p>\n\n<p>Are there any cases where AWT is more useful/advised to use than swing or vice-versa?</p>\n"},{"tags":["java","maven","maven-archetype"],"comments":[{"owner":{"account_id":5011487,"reputation":1319,"user_id":4027644,"display_name":"Niveathika"},"score":0,"creation_date":1556216646,"post_id":47346613,"comment_id":98372358,"body_markdown":"Did you find a solution for this?","body":"Did you find a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":15208882,"reputation":395,"user_id":10974363,"display_name":"Squake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560523222,"creation_date":1560523222,"answer_id":56600391,"question_id":47346613,"body_markdown":"It does not seem you can actually do that: https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty\r\n\r\nAccording the documentation you can specify a default or a validation regex. If they are declared you will be prompted with de default value.","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>It does not seem you can actually do that: <a href=\"https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty\" rel=\"nofollow noreferrer\">https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty</a></p>\n\n<p>According the documentation you can specify a default or a validation regex. If they are declared you will be prompted with de default value.</p>\n"},{"tags":[],"owner":{"account_id":5697859,"reputation":1,"user_id":4503843,"display_name":"DavidH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682169142,"creation_date":1681828036,"answer_id":76045820,"question_id":47346613,"body_markdown":"It looks like this functionality is now supported.\r\n\r\nIf you specify a default value, it will not be prompted for unless you specify \r\n\r\n`-DaskForDefaultPropertyValues`\r\n\r\nFound a reference to it in the source code:\r\n\r\nhttps://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\r\n\r\nAlso in the documentation :\r\n\r\nhttps://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>It looks like this functionality is now supported.</p>\n<p>If you specify a default value, it will not be prompted for unless you specify</p>\n<p><code>-DaskForDefaultPropertyValues</code></p>\n<p>Found a reference to it in the source code:</p>\n<p><a href=\"https://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java</a></p>\n<p>Also in the documentation :</p>\n<p><a href=\"https://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html</a></p>\n"}],"owner":{"account_id":10934050,"reputation":31,"user_id":8036322,"display_name":"Pablo Portillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682169142,"creation_date":1510908834,"question_id":47346613,"body_markdown":"So I am doing an archetype and I want to use some properties but don&#180;t want them to be prompted to the user.\r\n\r\nSo for example, I have this code:\r\n\r\n        \t \r\n        &lt;requiredProperty key=&quot;grupo&quot;&gt;\r\n        \t&lt;defaultValue&gt;${artifactId.substring(0,8).toLowerCase()}&lt;/defaultValue&gt;\r\n    \t&lt;/requiredProperty&gt;\r\n\r\nAnd I want to use the defaultValue for the parameter grupo WITHOUT asking the user to accept it as the default value.\r\n\r\nThis question was already asked: https://stackoverflow.com/questions/34021316/maven-create-archetype-is-there-a-way-to-declare-properties-defaulted-to-a-val But it was not answered.\r\n\r\nThank you very much for your time","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>So I am doing an archetype and I want to use some properties but don´t want them to be prompted to the user.</p>\n\n<p>So for example, I have this code:</p>\n\n<pre><code>    &lt;requiredProperty key=\"grupo\"&gt;\n        &lt;defaultValue&gt;${artifactId.substring(0,8).toLowerCase()}&lt;/defaultValue&gt;\n    &lt;/requiredProperty&gt;\n</code></pre>\n\n<p>And I want to use the defaultValue for the parameter grupo WITHOUT asking the user to accept it as the default value.</p>\n\n<p>This question was already asked: <a href=\"https://stackoverflow.com/questions/34021316/maven-create-archetype-is-there-a-way-to-declare-properties-defaulted-to-a-val\">Maven create archetype: Is there a way to declare properties (defaulted to a value) so as not to have them prompted?</a> But it was not answered.</p>\n\n<p>Thank you very much for your time</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682164959,"creation_date":1682164959,"answer_id":76079528,"question_id":76079496,"body_markdown":"As per my understanding, Lombok `@NoArgsConstructor` will generate a `no arguments/default constructor`, by default generated constructor will be `public`.\r\n\r\n    @NoArgsConstructor\r\n    public class NoArgsDemo {\r\n    \r\n      private Long id; \r\n      private String username;\r\n    }\r\n\r\nFrom the docs, \r\n\r\n&gt; @NoArgsConstructor will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless @NoArgsConstructor(force = true) is used, then all final fields are initialized with 0 / false / null.\r\n\r\nReference link: [Lombok NoArgsConstructor][1]\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"Lombok @Value with public no-args constructor","body":"<p>As per my understanding, Lombok <code>@NoArgsConstructor</code> will generate a <code>no arguments/default constructor</code>, by default generated constructor will be <code>public</code>.</p>\n<pre><code>@NoArgsConstructor\npublic class NoArgsDemo {\n\n  private Long id; \n  private String username;\n}\n</code></pre>\n<p>From the docs,</p>\n<blockquote>\n<p>@NoArgsConstructor will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless @NoArgsConstructor(force = true) is used, then all final fields are initialized with 0 / false / null.</p>\n</blockquote>\n<p>Reference link: <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">Lombok NoArgsConstructor</a></p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682167766,"creation_date":1682167766,"answer_id":76079721,"question_id":76079496,"body_markdown":"You should annotate the class `@NoArgsConstructor(force = true)`. Using just `@NoArgsConstructor` will cause a compiler error, because `@Value` makes the fields final.\r\n\r\nFrom the [documentation][1]. \r\n\r\n&gt; `@NoArgsConstructor` will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless `@NoArgsConstructor(force = true)` is used, then all final fields are initialized with 0 / false / null. \r\n\r\nAlso note that:\r\n\r\n&gt; For fields with constraints, such as `@NonNull` fields, no check is generated, so be aware that these constraints will generally not be fulfilled until those fields are properly initialized later.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"Lombok @Value with public no-args constructor","body":"<p>You should annotate the class <code>@NoArgsConstructor(force = true)</code>. Using just <code>@NoArgsConstructor</code> will cause a compiler error, because <code>@Value</code> makes the fields final.</p>\n<p>From the <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<blockquote>\n<p><code>@NoArgsConstructor</code> will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless <code>@NoArgsConstructor(force = true)</code> is used, then all final fields are initialized with 0 / false / null.</p>\n</blockquote>\n<p>Also note that:</p>\n<blockquote>\n<p>For fields with constraints, such as <code>@NonNull</code> fields, no check is generated, so be aware that these constraints will generally not be fulfilled until those fields are properly initialized later.</p>\n</blockquote>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682167766,"creation_date":1682164446,"question_id":76079496,"body_markdown":"I have the below `Occurrence` class, i added the `@Value` annotation to make it immutable, and i set extraPrivate to true for to add a private no-args constructor.\r\n\r\n    @Builder\r\n    @Value\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    public class Occurrence {\r\n      .....\r\n    }\r\n\r\n**lombok.config**\r\n\r\n    config.stopBubbling = true\r\n    lombok.getter.noIsPrefix = true\r\n    lombok.noArgsConstructor.extraPrivate = true\r\n\r\nIs there a way to add a **public no-args constructor** ?","title":"Lombok @Value with public no-args constructor","body":"<p>I have the below <code>Occurrence</code> class, i added the <code>@Value</code> annotation to make it immutable, and i set extraPrivate to true for to add a private no-args constructor.</p>\n<pre><code>@Builder\n@Value\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\npublic class Occurrence {\n  .....\n}\n</code></pre>\n<p><strong>lombok.config</strong></p>\n<pre><code>config.stopBubbling = true\nlombok.getter.noIsPrefix = true\nlombok.noArgsConstructor.extraPrivate = true\n</code></pre>\n<p>Is there a way to add a <strong>public no-args constructor</strong> ?</p>\n"},{"tags":["java","decrement"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682167142,"post_id":76079657,"comment_id":134174530,"body_markdown":"&quot;the value is used before getting change&quot; exactly - the value still changes. Why did you expect the value to stay at 10, when the second `a--` is run?","body":"&quot;the value is used before getting change&quot; exactly - the value still changes. Why did you expect the value to stay at 10, when the second <code>a--</code> is run?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1682167617,"post_id":76079657,"comment_id":134174593,"body_markdown":"The real-world output is &quot;your pull request is rejected; reformulate that expression for clarity&quot;.","body":"The real-world output is &quot;your pull request is rejected; reformulate that expression for clarity&quot;."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682168929,"post_id":76079657,"comment_id":134174793,"body_markdown":"The operands used in a multiplication are evaluated left to right. Evaluating the left `a--` yields 10 as you expected and decrements `a` to 9. Now I leave to you what happens when the right operands is evaluated. :-)","body":"The operands used in a multiplication are evaluated left to right. Evaluating the left <code>a--</code> yields 10 as you expected and decrements <code>a</code> to 9. Now I leave to you what happens when the right operands is evaluated. :-)"}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682167366,"creation_date":1682167366,"answer_id":76079688,"question_id":76079657,"body_markdown":"Java sees `A * B`, so it first needs to compute both arguments, A and B.\r\n\r\nThe left operand (A) `a--` is executed, making `a = 9`, but **returning the value it had before**, so `10`.\r\n\r\nWe now have `10 * a--`. Next, Java executes the right operand (B) and we get `a = 8`, but we use the value it had before the decrement, so `9`.\r\n\r\nWe get `10 * 9`, which is `90`. And `a = 8`.","title":"Post decrement, what is a-- * a--?","body":"<p>Java sees <code>A * B</code>, so it first needs to compute both arguments, A and B.</p>\n<p>The left operand (A) <code>a--</code> is executed, making <code>a = 9</code>, but <strong>returning the value it had before</strong>, so <code>10</code>.</p>\n<p>We now have <code>10 * a--</code>. Next, Java executes the right operand (B) and we get <code>a = 8</code>, but we use the value it had before the decrement, so <code>9</code>.</p>\n<p>We get <code>10 * 9</code>, which is <code>90</code>. And <code>a = 8</code>.</p>\n"}],"owner":{"account_id":28327547,"reputation":1,"user_id":21662339,"display_name":"rahul7214"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1682168152,"answer_count":1,"score":-6,"last_activity_date":1682167510,"creation_date":1682166958,"question_id":76079657,"body_markdown":"&gt; ```java\r\n&gt; int a = 10;\r\n&gt; System.out.println(a-- * a--);\r\n&gt; ```\r\n&gt;\r\n&gt; what will be the output of these print statement and why??\r\n\r\nin post decrement we actually observe that \r\n* the value is used before getting change\r\n\r\nbut here I am getting in one of the operator (a--) is  10 and in another operator (a--) with which we are multiplying is getting 9.\r\n\r\noverall the output which I came across is 100 but the actual output is 90 \r\n\r\nplease explain how?","title":"Post decrement, what is a-- * a--?","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>int a = 10;\nSystem.out.println(a-- * a--);\n</code></pre>\n<p>what will be the output of these print statement and why??</p>\n</blockquote>\n<p>in post decrement we actually observe that</p>\n<ul>\n<li>the value is used before getting change</li>\n</ul>\n<p>but here I am getting in one of the operator (a--) is  10 and in another operator (a--) with which we are multiplying is getting 9.</p>\n<p>overall the output which I came across is 100 but the actual output is 90</p>\n<p>please explain how?</p>\n"},{"tags":["java","docker","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"score":0,"creation_date":1510752706,"post_id":47299204,"comment_id":81567756,"body_markdown":"Btw, i use zookeeper and kafka in docker containers","body":"Btw, i use zookeeper and kafka in docker containers"},{"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"score":5,"creation_date":1511206359,"post_id":47299204,"comment_id":81752697,"body_markdown":"I found my error. When using kafka inside a Docker container, you need to specify the KAFKA_ADVERTISED_HOST_NAME in the yml file. This enables producers and consumers outside of the container to interact with kafka.","body":"I found my error. When using kafka inside a Docker container, you need to specify the KAFKA_ADVERTISED_HOST_NAME in the yml file. This enables producers and consumers outside of the container to interact with kafka."},{"owner":{"account_id":126503,"reputation":2554,"user_id":323044,"accept_rate":26,"display_name":"Alessandro Dionisi"},"score":0,"creation_date":1519224675,"post_id":47299204,"comment_id":84823635,"body_markdown":"Which value did you use?","body":"Which value did you use?"}],"answers":[{"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682167047,"creation_date":1530133987,"answer_id":51071495,"question_id":47299204,"body_markdown":"Using Docker and with Kafka image you need to add the following environment parameters to the container:\r\n\r\n&gt; KAFKA_ZOOKEEPER_CONNECT = X.X.X.X:XXXX (your zookeeper IP or domain : PORT default 2181)\r\n&gt;\r\n&gt; KAFKA_ADVERTISED_HOST_NAME = X.X.X.X (your kafka IP or domain)\r\n&gt;\r\n&gt; KAFKA_ADVERTISED_PORT = XXXX (your kafka PORT number default 9092)\r\n\r\nOptionally:\r\n\r\n&gt; KAFKA_BROKER_ID = 999 (some value) \r\n&gt;\r\n&gt; KAFKA_CREATE_TOPICS=test:1:1 (some topic name to create at start)\r\n\r\nIf it doesn&#39;t work and you still get same message (&quot;Expiring X record(s) for xxxxx: XXXXX ms has passed since batch creation plus linger time&quot;) you can try cleaning the kafka data from zookeeper.","title":"Expiring 1 record(s) for xxxxx: 30030 ms has passed since batch creation plus linger time","body":"<p>Using Docker and with Kafka image you need to add the following environment parameters to the container:</p>\n<blockquote>\n<p>KAFKA_ZOOKEEPER_CONNECT = X.X.X.X:XXXX (your zookeeper IP or domain : PORT default 2181)</p>\n<p>KAFKA_ADVERTISED_HOST_NAME = X.X.X.X (your kafka IP or domain)</p>\n<p>KAFKA_ADVERTISED_PORT = XXXX (your kafka PORT number default 9092)</p>\n</blockquote>\n<p>Optionally:</p>\n<blockquote>\n<p>KAFKA_BROKER_ID = 999 (some value)</p>\n<p>KAFKA_CREATE_TOPICS=test:1:1 (some topic name to create at start)</p>\n</blockquote>\n<p>If it doesn't work and you still get same message (&quot;Expiring X record(s) for xxxxx: XXXXX ms has passed since batch creation plus linger time&quot;) you can try cleaning the kafka data from zookeeper.</p>\n"}],"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8041,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682167047,"creation_date":1510718756,"question_id":47299204,"body_markdown":"**My use case:**\r\nUsing Postman, I call a Spring boot soap endpoint. The endpoint creates a KafkaProducer and send a message to a specific topic. I also have a TaskScheduler to consume the topic.\r\n\r\n**The problem:**\r\nWhen calling soap to push a message to a topic, I get this error:\r\n\r\n&gt; 2017-11-14 21:29:31.463 ERROR 6389 --- [ad | producer-3]\r\n&gt; DomainEntityProducer                     : Expiring 1 record(s) for\r\n&gt; DomainEntityCommandStream-0: 30030 ms has passed since batch creation\r\n&gt; plus linger time 2017-11-14 21:29:31.464 ERROR 6389 ---\r\n&gt; [nio-8080-exec-6] DomainEntityProducer                     :\r\n&gt; org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s)\r\n&gt; for DomainEntityCommandStream-0: 30030 ms has passed since batch\r\n&gt; creation plus linger time\r\n\r\nHere’s the method I use to push to the topic:\r\n\r\n    public DomainEntity push(DomainEntity pDomainEntity) throws Exception {\r\n        logger.log(Level.INFO, &quot;streaming...&quot;);\r\n        wKafkaProperties.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        wKafkaProperties.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        wKafkaProperties.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        KafkaProducer wKafkaProducer = new KafkaProducer(wKafkaProperties);\r\n        ProducerRecord wProducerRecord = new ProducerRecord(&quot;DomainEntityCommandStream&quot;, getJSON(pDomainEntity));\r\n        wKafkaProducer.send(wProducerRecord, (RecordMetadata r, Exception e) -&gt; {\r\n            if (e != null) {\r\n                logger.log(Level.SEVERE, e.getMessage());\r\n            }\r\n        }).get();\r\n        return pDomainEntity;\r\n    }\r\n\r\n\r\nUsing command shell scripts \r\n\r\n&gt; ./kafka-console-producer.sh --broker-list 10.0.1.15:9092 --topic\r\n&gt; DomainEntityCommandStream\r\n\r\nand \r\n\r\n&gt; ./kafka-console-consumer.sh --boostrap-server 10.0.1.15:9092 --topic\r\n&gt; DomainEntityCommandStream --from-beginning\r\n\r\nworks very well.\r\n\r\nGoing through some related problems on Stackoverflow, I have tried to purge the topic:\r\n\r\n&gt; ./kafka-topics.sh --zookeeper 10.0.1.15:9092 --alter --topic\r\n&gt; DomainEntityCommandStream --config retention.ms=1000\r\n\r\nLooking at kafka logs, I see that retention time was altered.\r\n\r\nBut, no luck, I get the same error.\r\n\r\nThe payload is ridiculously small, so why should I change batch.size?\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n    \t\t\t\t  xmlns:gs=&quot;http://soap.problem.com&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;gs:streamDomainEntityRequest&gt;\r\n             &lt;gs:domainEntity&gt;\r\n                    &lt;gs:name&gt;12345&lt;/gs:name&gt;\r\n                    &lt;gs:value&gt;Quebec&lt;/gs:value&gt;\r\n                    &lt;gs:version&gt;666&lt;/gs:version&gt;\r\n                &lt;/gs:domainEntity&gt;\r\n          &lt;/gs:streamDomainEntityRequest&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\n","title":"Expiring 1 record(s) for xxxxx: 30030 ms has passed since batch creation plus linger time","body":"<p><strong>My use case:</strong>\nUsing Postman, I call a Spring boot soap endpoint. The endpoint creates a KafkaProducer and send a message to a specific topic. I also have a TaskScheduler to consume the topic.</p>\n\n<p><strong>The problem:</strong>\nWhen calling soap to push a message to a topic, I get this error:</p>\n\n<blockquote>\n  <p>2017-11-14 21:29:31.463 ERROR 6389 --- [ad | producer-3]\n  DomainEntityProducer                     : Expiring 1 record(s) for\n  DomainEntityCommandStream-0: 30030 ms has passed since batch creation\n  plus linger time 2017-11-14 21:29:31.464 ERROR 6389 ---\n  [nio-8080-exec-6] DomainEntityProducer                     :\n  org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s)\n  for DomainEntityCommandStream-0: 30030 ms has passed since batch\n  creation plus linger time</p>\n</blockquote>\n\n<p>Here’s the method I use to push to the topic:</p>\n\n<pre><code>public DomainEntity push(DomainEntity pDomainEntity) throws Exception {\n    logger.log(Level.INFO, \"streaming...\");\n    wKafkaProperties.put(\"bootstrap.servers\", \"localhost:9092\");\n    wKafkaProperties.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n    wKafkaProperties.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n    KafkaProducer wKafkaProducer = new KafkaProducer(wKafkaProperties);\n    ProducerRecord wProducerRecord = new ProducerRecord(\"DomainEntityCommandStream\", getJSON(pDomainEntity));\n    wKafkaProducer.send(wProducerRecord, (RecordMetadata r, Exception e) -&gt; {\n        if (e != null) {\n            logger.log(Level.SEVERE, e.getMessage());\n        }\n    }).get();\n    return pDomainEntity;\n}\n</code></pre>\n\n<p>Using command shell scripts </p>\n\n<blockquote>\n  <p>./kafka-console-producer.sh --broker-list 10.0.1.15:9092 --topic\n  DomainEntityCommandStream</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>./kafka-console-consumer.sh --boostrap-server 10.0.1.15:9092 --topic\n  DomainEntityCommandStream --from-beginning</p>\n</blockquote>\n\n<p>works very well.</p>\n\n<p>Going through some related problems on Stackoverflow, I have tried to purge the topic:</p>\n\n<blockquote>\n  <p>./kafka-topics.sh --zookeeper 10.0.1.15:9092 --alter --topic\n  DomainEntityCommandStream --config retention.ms=1000</p>\n</blockquote>\n\n<p>Looking at kafka logs, I see that retention time was altered.</p>\n\n<p>But, no luck, I get the same error.</p>\n\n<p>The payload is ridiculously small, so why should I change batch.size?</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\n                  xmlns:gs=\"http://soap.problem.com\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;gs:streamDomainEntityRequest&gt;\n         &lt;gs:domainEntity&gt;\n                &lt;gs:name&gt;12345&lt;/gs:name&gt;\n                &lt;gs:value&gt;Quebec&lt;/gs:value&gt;\n                &lt;gs:version&gt;666&lt;/gs:version&gt;\n            &lt;/gs:domainEntity&gt;\n      &lt;/gs:streamDomainEntityRequest&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":["java","generics","inheritance"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1682166973,"post_id":76079640,"comment_id":134174505,"body_markdown":"Just declare one type parameter, not two, when declaring the subclass then. Is `public abstract class SubClass1&lt;T&gt; extends BaseClass &lt;T, String&gt;{}` what you are looking for?","body":"Just declare one type parameter, not two, when declaring the subclass then. Is <code>public abstract class SubClass1&lt;T&gt; extends BaseClass &lt;T, String&gt;{}</code> what you are looking for?"}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682167018,"creation_date":1682167018,"answer_id":76079664,"question_id":76079640,"body_markdown":"Sure. The syntax for `SubClass1` would be:\r\n\r\n```java\r\npublic abstract class SubClass1&lt;T&gt; extends BaseClass&lt;T, String&gt; {}\r\n```\r\n\r\nSo not `SubClass1&lt;T, String&gt;`, just `SubClass1&lt;T&gt;`, since that is the only generic parameter for this particular class.","title":"Is it possible define a Java generic class with &lt;T, Class&gt; parameters?","body":"<p>Sure. The syntax for <code>SubClass1</code> would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class SubClass1&lt;T&gt; extends BaseClass&lt;T, String&gt; {}\n</code></pre>\n<p>So not <code>SubClass1&lt;T, String&gt;</code>, just <code>SubClass1&lt;T&gt;</code>, since that is the only generic parameter for this particular class.</p>\n"}],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76079664,"answer_count":1,"score":1,"last_activity_date":1682167018,"creation_date":1682166698,"question_id":76079640,"body_markdown":"I am trying to define a base class as:\r\n\r\n    public abstract class BaseClass &lt;T, R&gt; implements Interface1 &lt;T&gt;, Interface2 &lt;R&gt;{}\r\nand in a subclass do \r\n\r\n    public abstract class SubClass1 &lt;T, String&gt;extends BaseClass &lt;T, String&gt;{}\r\n\r\nBasically fix one parameter type and keep the other 1 generic for whoever extends SubClass1.\r\nIs it possible to do so?","title":"Is it possible define a Java generic class with &lt;T, Class&gt; parameters?","body":"<p>I am trying to define a base class as:</p>\n<pre><code>public abstract class BaseClass &lt;T, R&gt; implements Interface1 &lt;T&gt;, Interface2 &lt;R&gt;{}\n</code></pre>\n<p>and in a subclass do</p>\n<pre><code>public abstract class SubClass1 &lt;T, String&gt;extends BaseClass &lt;T, String&gt;{}\n</code></pre>\n<p>Basically fix one parameter type and keep the other 1 generic for whoever extends SubClass1.\nIs it possible to do so?</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"owner":{"account_id":28363017,"reputation":11,"user_id":21692743,"display_name":"Dhruv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682166885,"creation_date":1682150051,"question_id":76078582,"body_markdown":"I am using Spring Kafka in my application, and when the load is too high, it throws the timeout exception:\r\n\r\n```\r\nException: Expiring XX record(s) for topic_name: 600904 ms has passed since batch creation plus linger time at org.springframework.kafka.core.KafkaTemplate.lambda\r\norg.apache.kafka.common.errors.TimeoutException: Expiring 54 record(s) for topic_name: 600904 ms has passed since batch creation plus linger time\r\n```\r\n\r\nI have tried with multiple producer configurations.\r\n\r\n`Changed linger.ms to 0,10,100 and 1000.\r\nChanged batch.size to 131072 and 65000\r\nIncreased the request.timeout.ms to 100000 and 600000`\r\nRest, all the configs are mostly the default ones.\r\n\r\nBy changing these properties, we are reducing or delaying the errors a bit, but still not completely eliminating them.\r\n\r\nI am using the Kafka send() method with a callback. I have tried calling this method async as well, but still no luck.\r\n\r\nEach message would be around 4-6 KB. And 2-3 millions of messages are sent in a short span of time. We have a total of 10 partitions.\r\n\r\nI have seen that calling flush() can help in this case, but that will reduce the performance and increase the sending time.\r\n\r\nIs there anything else apart the configurations which can be done to fix this issue ? \r\nOr if there is any other configuration which needs to be changed ?","title":"Kafka throwing timeout error on high load with error : org.apache.kafka.common.errors.TimeoutException","body":"<p>I am using Spring Kafka in my application, and when the load is too high, it throws the timeout exception:</p>\n<pre><code>Exception: Expiring XX record(s) for topic_name: 600904 ms has passed since batch creation plus linger time at org.springframework.kafka.core.KafkaTemplate.lambda\norg.apache.kafka.common.errors.TimeoutException: Expiring 54 record(s) for topic_name: 600904 ms has passed since batch creation plus linger time\n</code></pre>\n<p>I have tried with multiple producer configurations.</p>\n<p><code>Changed linger.ms to 0,10,100 and 1000. Changed batch.size to 131072 and 65000 Increased the request.timeout.ms to 100000 and 600000</code>\nRest, all the configs are mostly the default ones.</p>\n<p>By changing these properties, we are reducing or delaying the errors a bit, but still not completely eliminating them.</p>\n<p>I am using the Kafka send() method with a callback. I have tried calling this method async as well, but still no luck.</p>\n<p>Each message would be around 4-6 KB. And 2-3 millions of messages are sent in a short span of time. We have a total of 10 partitions.</p>\n<p>I have seen that calling flush() can help in this case, but that will reduce the performance and increase the sending time.</p>\n<p>Is there anything else apart the configurations which can be done to fix this issue ?\nOr if there is any other configuration which needs to be changed ?</p>\n"},{"tags":["java","sql","postgresql"],"comments":[{"owner":{"account_id":403207,"reputation":32989,"user_id":770830,"accept_rate":71,"display_name":"bereal"},"score":3,"creation_date":1679474018,"post_id":75809898,"comment_id":133726641,"body_markdown":"It is likely a parameterized query, what library/language are you using?","body":"It is likely a parameterized query, what library/language are you using?"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679476545,"creation_date":1679476545,"answer_id":75810309,"question_id":75809898,"body_markdown":"This is a parameterized query. `?1` is a parameter that need to be provided when executing the query.\r\n\r\nSince it is a delete query it doesn&#39;t fetch anything.\r\nThe expression `region = ?1` matches those rows where the value of region is the same as the value provided for the parameter.\r\n\r\nHow you provide the parameter depends on the environment you are working in. \r\nMost of the time you encounter this kind of construct when using SQL in other general purpose languages like C, Python, or Java.\r\n","title":"Delete from stu where region = ?1","body":"<p>This is a parameterized query. <code>?1</code> is a parameter that need to be provided when executing the query.</p>\n<p>Since it is a delete query it doesn't fetch anything.\nThe expression <code>region = ?1</code> matches those rows where the value of region is the same as the value provided for the parameter.</p>\n<p>How you provide the parameter depends on the environment you are working in.\nMost of the time you encounter this kind of construct when using SQL in other general purpose languages like C, Python, or Java.</p>\n"}],"owner":{"account_id":24863817,"reputation":21,"user_id":18739201,"display_name":"chandana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75810309,"answer_count":1,"score":0,"last_activity_date":1682166714,"creation_date":1679473788,"question_id":75809898,"body_markdown":"`delete from stu where region = ?1`\r\n\r\nCan anyone help me to understand this query?\r\n\r\n\r\n`=?` (what type of data,it will fetch)","title":"Delete from stu where region = ?1","body":"<p><code>delete from stu where region = ?1</code></p>\n<p>Can anyone help me to understand this query?</p>\n<p><code>=?</code> (what type of data,it will fetch)</p>\n"},{"tags":["java","loops","filter","foreach","stream"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682163490,"post_id":76079404,"comment_id":134174133,"body_markdown":"What is the criterion for a cart item to match a master list item? Are there any matches in your example data?","body":"What is the criterion for a cart item to match a master list item? Are there any matches in your example data?"},{"owner":{"account_id":28378885,"reputation":1,"user_id":21706482,"display_name":"Sandy Java "},"score":0,"creation_date":1682163638,"post_id":76079404,"comment_id":134174148,"body_markdown":"The item name in master list should match the name in the itemId and the price should match. There are other attributes in the cart items, but they are not used in comparison. Hence I have not shown them. In the example, the customer ID 123 matches with the master list.","body":"The item name in master list should match the name in the itemId and the price should match. There are other attributes in the cart items, but they are not used in comparison. Hence I have not shown them. In the example, the customer ID 123 matches with the master list."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682165394,"post_id":76079404,"comment_id":134174330,"body_markdown":"Ah, so `itemId` is the concatenation of `customerId` and `itemName` with a hyphen in between. I understand why I didn’t see this readily. I recommend you edit your question and explain.","body":"Ah, so <code>itemId</code> is the concatenation of <code>customerId</code> and <code>itemName</code> with a hyphen in between. I understand why I didn’t see this readily. I recommend you edit your question and explain."}],"answers":[{"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682163795,"creation_date":1682163795,"answer_id":76079461,"question_id":76079404,"body_markdown":"Yes, You can use Java streams to solve this, Try this code in your code :\r\n\r\n    List&lt;Customer&gt; customersWithAllItems = customers.stream()\r\n                .filter(customer -&gt; {\r\n            List&lt;String&gt; customerItemNames = customer.getCartItems().stream()\r\n                .map(item -&gt; item.getItemId().split(&quot;-&quot;)[1]) \r\n                .collect(Collectors.toList());\r\n            List&lt;String&gt; masterItemNames = masterListItems.stream()\r\n                .map(Item::getItemName)\r\n                .collect(Collectors.toList());\r\n            return masterItemNames.containsAll(customerItemNames);\r\n        })\r\n                .collect(Collectors.toList());\r\n\r\n ","title":"Java stream to compare elements of two lists and find matches","body":"<p>Yes, You can use Java streams to solve this, Try this code in your code :</p>\n<pre><code>List&lt;Customer&gt; customersWithAllItems = customers.stream()\n            .filter(customer -&gt; {\n        List&lt;String&gt; customerItemNames = customer.getCartItems().stream()\n            .map(item -&gt; item.getItemId().split(&quot;-&quot;)[1]) \n            .collect(Collectors.toList());\n        List&lt;String&gt; masterItemNames = masterListItems.stream()\n            .map(Item::getItemName)\n            .collect(Collectors.toList());\n        return masterItemNames.containsAll(customerItemNames);\n    })\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":28378885,"reputation":1,"user_id":21706482,"display_name":"Sandy Java "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682166376,"creation_date":1682162931,"question_id":76079404,"body_markdown":"New to java.\r\nI have two lists - the list of customers with all the items in their cart and the master list of items. The following are the example of the two objects\r\n\r\nCustomer\r\n```\r\n[\r\n{\r\n    &quot;customerId&quot;: 123,\r\n    &quot;cartItems&quot;: [\r\n        {\r\n            &quot;itemId&quot;: &quot;123-XYZ&quot;,\r\n            &quot;itemPrice&quot;: 200\r\n        }, \r\n        {\r\n            &quot;itemId&quot;: &quot;123-ABC&quot;,\r\n            &quot;itemPrice&quot;: 100\r\n        }\r\n    ]\r\n},\r\n{\r\n    &quot;customerId&quot;: 987,\r\n    &quot;cartItems&quot;: [\r\n        {\r\n            &quot;itemId&quot;: &quot;987-XYZ&quot;,\r\n            &quot;itemPrice&quot;: 200\r\n        }\r\n    ]\r\n}\r\n]\r\n```\r\nThe itemID in the customer object contains the customer ID and the item name separated by &quot;-&quot;. \r\n\r\n\r\nMaster list of items\r\n```\r\n[\r\n    {\r\n        &quot;itemName&quot;: &quot;XYZ&quot;,\r\n        &quot;itemPrice&quot;: 200\r\n    },\r\n    {\r\n        &quot;itemName&quot;: &quot;ABC&quot;,\r\n        &quot;itemPrice&quot;: 100\r\n    }\r\n]\r\n```\r\n\r\nI want to compare the two lists and find the customer who has all the items from the master list. The master list is dynamic and can change from time to time. \r\nI am able to execute this using simple for loop with two items in the master list. Kindly suggest if stream function can be used to solve this correctly.\r\n\r\n\r\n```\r\nfor(Customer customer: customers) {\r\n    List&lt;Item&gt; items = customer.getItems();\r\n\r\n    for(Item item: items) {\r\n        if(item.getItemId().contains(masterListItems.getItemName()) &amp; item.getItemPrice().equals(masterListItems.getItemPrice()) {\r\n            System.out.println(&quot;Item found&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Java stream to compare elements of two lists and find matches","body":"<p>New to java.\nI have two lists - the list of customers with all the items in their cart and the master list of items. The following are the example of the two objects</p>\n<p>Customer</p>\n<pre><code>[\n{\n    &quot;customerId&quot;: 123,\n    &quot;cartItems&quot;: [\n        {\n            &quot;itemId&quot;: &quot;123-XYZ&quot;,\n            &quot;itemPrice&quot;: 200\n        }, \n        {\n            &quot;itemId&quot;: &quot;123-ABC&quot;,\n            &quot;itemPrice&quot;: 100\n        }\n    ]\n},\n{\n    &quot;customerId&quot;: 987,\n    &quot;cartItems&quot;: [\n        {\n            &quot;itemId&quot;: &quot;987-XYZ&quot;,\n            &quot;itemPrice&quot;: 200\n        }\n    ]\n}\n]\n</code></pre>\n<p>The itemID in the customer object contains the customer ID and the item name separated by &quot;-&quot;.</p>\n<p>Master list of items</p>\n<pre><code>[\n    {\n        &quot;itemName&quot;: &quot;XYZ&quot;,\n        &quot;itemPrice&quot;: 200\n    },\n    {\n        &quot;itemName&quot;: &quot;ABC&quot;,\n        &quot;itemPrice&quot;: 100\n    }\n]\n</code></pre>\n<p>I want to compare the two lists and find the customer who has all the items from the master list. The master list is dynamic and can change from time to time.\nI am able to execute this using simple for loop with two items in the master list. Kindly suggest if stream function can be used to solve this correctly.</p>\n<pre><code>for(Customer customer: customers) {\n    List&lt;Item&gt; items = customer.getItems();\n\n    for(Item item: items) {\n        if(item.getItemId().contains(masterListItems.getItemName()) &amp; item.getItemPrice().equals(masterListItems.getItemPrice()) {\n            System.out.println(&quot;Item found&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-camel","camel-rest"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1682185366,"post_id":76078350,"comment_id":134176941,"body_markdown":"You should maybe add (in ExceptionProcessor ) a &quot;Content-Type&quot; header with &quot;application/json&quot;","body":"You should maybe add (in ExceptionProcessor ) a &quot;Content-Type&quot; header with &quot;application/json&quot;"}],"owner":{"account_id":9886087,"reputation":51,"user_id":7320571,"display_name":"nik123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682165045,"creation_date":1682145517,"question_id":76078350,"body_markdown":"I am using apache camel to expose rest endpoint from my application.\r\nWhen rest endpoint is successfully executed it is returning expected JSON response like below.\r\n\r\n    {\r\n      &quot;key1&quot;: &quot;value1&quot;,\r\n      &quot;key2&quot;: 123\r\n    }\r\n\r\nwhen there is an exception, onException camel clause get executed and in that case its not returning json response, instead it return java object representation like below\r\n\r\n    com.mypackage.Response@27f674d\r\n\r\nSample route definition as below.\r\n\r\n        rest(&quot;&quot;)\r\n        .consumes(&quot;application/json&quot;)\r\n        .produces(&quot;application/json&quot;)    \r\n        .post(&quot;/endpoint&quot;)\r\n        .bindingMode(RestBindingMode.json)\r\n        .type(Request.class)\r\n        .outType(Response.class)\r\n        .to(&quot;direct:endpoint&quot;)\r\n\r\nRoute endpoint defination\r\n\r\n    onException(Exception.class)\r\n    .process(new ExceptionProcessor())\r\n    .convertBodyTo(Response.class)\r\n    .handled(true);\r\n\r\n    from(&quot;direct:endpoint&quot;)\r\n    .streamCaching()\r\n    .process(...)\r\n    .process(...)\r\n    .end()\r\n\r\nExceptionProcessor sample implementation.\r\n\r\n    public class ExceptionProcessor implements Processor{\r\n        public void process(Exchange exchange) throws Exception{\r\n            Response res = new Response();\r\n            res.setKey1(&quot;value1&quot;);\r\n            res.setKey2(123);\r\n            exchange.getMessage().setBody(res);\r\n        }\r\n    }\r\n\r\nWhy onException is returning response as java object string representation?\r\nHow can it return JSON response in case of exception?\r\n","title":"Apache camel &quot;onException&quot; not returning JSON response","body":"<p>I am using apache camel to expose rest endpoint from my application.\nWhen rest endpoint is successfully executed it is returning expected JSON response like below.</p>\n<pre><code>{\n  &quot;key1&quot;: &quot;value1&quot;,\n  &quot;key2&quot;: 123\n}\n</code></pre>\n<p>when there is an exception, onException camel clause get executed and in that case its not returning json response, instead it return java object representation like below</p>\n<pre><code>com.mypackage.Response@27f674d\n</code></pre>\n<p>Sample route definition as below.</p>\n<pre><code>    rest(&quot;&quot;)\n    .consumes(&quot;application/json&quot;)\n    .produces(&quot;application/json&quot;)    \n    .post(&quot;/endpoint&quot;)\n    .bindingMode(RestBindingMode.json)\n    .type(Request.class)\n    .outType(Response.class)\n    .to(&quot;direct:endpoint&quot;)\n</code></pre>\n<p>Route endpoint defination</p>\n<pre><code>onException(Exception.class)\n.process(new ExceptionProcessor())\n.convertBodyTo(Response.class)\n.handled(true);\n\nfrom(&quot;direct:endpoint&quot;)\n.streamCaching()\n.process(...)\n.process(...)\n.end()\n</code></pre>\n<p>ExceptionProcessor sample implementation.</p>\n<pre><code>public class ExceptionProcessor implements Processor{\n    public void process(Exchange exchange) throws Exception{\n        Response res = new Response();\n        res.setKey1(&quot;value1&quot;);\n        res.setKey2(123);\n        exchange.getMessage().setBody(res);\n    }\n}\n</code></pre>\n<p>Why onException is returning response as java object string representation?\nHow can it return JSON response in case of exception?</p>\n"},{"tags":["java","eclipse","intellij-idea","kotlin","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":2527365,"reputation":142481,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1682164686,"creation_date":1437287433,"answer_id":31498603,"question_id":31494013,"body_markdown":"It seems that it&#39;s possible, but there&#39;s no tool for that, just code. There are tests in [j2k module](https://github.com/JetBrains/intellij-community/tree/idea/231.8770.17/plugins/kotlin/j2k) in Kotlin Github repository, the example below is taken from the [tests (AbstractJavaToKotlinConverterSingleFileTest)](https://github.com/JetBrains/intellij-community/blob/idea/231.8770.17/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt):\r\n\r\n    private fun fileToKotlin(text: String, settings: ConverterSettings, project: Project): String {\r\n        val file = createJavaFile(text)\r\n        val converter = JavaToKotlinConverter(project, settings,\r\n                                              IdeaReferenceSearcher, IdeaResolverForConverter)\r\n        return converter.filesToKotlin(listOf(file), J2kPostProcessor(formatCode = true)).results.single()\r\n    }\r\n\r\nI suppose, you can make a .jar of that module and write your own simple wrapper for `JavaToKotlinConverter` to make it work on files.\r\n\r\n---\r\nUPD: the code has migrated to the `intellij-community` repository, you can find relevant tests here: https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt","title":"Run Java to Kotlin converter from the command line?","body":"<p>It seems that it's possible, but there's no tool for that, just code. There are tests in <a href=\"https://github.com/JetBrains/intellij-community/tree/idea/231.8770.17/plugins/kotlin/j2k\" rel=\"nofollow noreferrer\">j2k module</a> in Kotlin Github repository, the example below is taken from the <a href=\"https://github.com/JetBrains/intellij-community/blob/idea/231.8770.17/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt\" rel=\"nofollow noreferrer\">tests (AbstractJavaToKotlinConverterSingleFileTest)</a>:</p>\n<pre><code>private fun fileToKotlin(text: String, settings: ConverterSettings, project: Project): String {\n    val file = createJavaFile(text)\n    val converter = JavaToKotlinConverter(project, settings,\n                                          IdeaReferenceSearcher, IdeaResolverForConverter)\n    return converter.filesToKotlin(listOf(file), J2kPostProcessor(formatCode = true)).results.single()\n}\n</code></pre>\n<p>I suppose, you can make a .jar of that module and write your own simple wrapper for <code>JavaToKotlinConverter</code> to make it work on files.</p>\n<hr />\n<p>UPD: the code has migrated to the <code>intellij-community</code> repository, you can find relevant tests here: <a href=\"https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt</a></p>\n"}],"owner":{"account_id":50430,"reputation":2241,"user_id":150435,"accept_rate":75,"display_name":"Travis Spencer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2717,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":31498603,"answer_count":1,"score":15,"last_activity_date":1682164686,"creation_date":1437242725,"question_id":31494013,"body_markdown":"You can use the Kotlin plug-ins for Intellij and Eclipse to convert Java files to Kotlin. Can this conversion be done from the command line some how without either of these IDEs?","title":"Run Java to Kotlin converter from the command line?","body":"<p>You can use the Kotlin plug-ins for Intellij and Eclipse to convert Java files to Kotlin. Can this conversion be done from the command line some how without either of these IDEs?</p>\n"},{"tags":["java","xml","logging","logback"],"comments":[{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":1,"creation_date":1392728259,"post_id":21831815,"comment_id":33082967,"body_markdown":"How are you running the code? You can try by replacing the \\ by / for file path. Sometimes it doesn&#39;t work","body":"How are you running the code? You can try by replacing the \\ by / for file path. Sometimes it doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1392873148,"creation_date":1392872886,"answer_id":21898643,"question_id":21831815,"body_markdown":"    And I&#39;ve copied it into the root of several locations in my classpath\r\n\r\nlogback has a default way of finding the configuration file here is how the documentation goes:\r\n\r\n&gt;Let us begin by discussing the initialization steps that logback follows to try to configure itself:\r\n    \r\n&gt;1. Logback tries to find a file called logback.groovy in the classpath.\r\n    \r\n&gt;2. If no such file is found, logback tries to find a file called logback-test.xml in the classpath.\r\n\r\n&gt;3. If no such file is found, it checks for the file logback.xml in the classpath..\r\n\r\n&gt;4. If neither file is found, logback configures itself automatically using the BasicConfigurator which will cause logging output to be directed to the console.\r\n\r\n\r\nso probably in your case it is loading the basic configuration when you are seeing the output in console. You can try specifying the path in class-path or do it programatically like [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21885787/setting-logback-xml-path-programatically","title":"Logback Could NOT find resource logback.xml","body":"<pre><code>And I've copied it into the root of several locations in my classpath\n</code></pre>\n\n<p>logback has a default way of finding the configuration file here is how the documentation goes:</p>\n\n<blockquote>\n  <p>Let us begin by discussing the initialization steps that logback follows to try to configure itself:</p>\n  \n  <ol>\n  <li><p>Logback tries to find a file called logback.groovy in the classpath.</p></li>\n  <li><p>If no such file is found, logback tries to find a file called logback-test.xml in the classpath.</p></li>\n  <li><p>If no such file is found, it checks for the file logback.xml in the classpath..</p></li>\n  <li><p>If neither file is found, logback configures itself automatically using the BasicConfigurator which will cause logging output to be directed to the console.</p></li>\n  </ol>\n</blockquote>\n\n<p>so probably in your case it is loading the basic configuration when you are seeing the output in console. You can try specifying the path in class-path or do it programatically like <a href=\"https://stackoverflow.com/questions/21885787/setting-logback-xml-path-programatically\">this</a></p>\n"},{"tags":[],"owner":{"account_id":16904937,"reputation":1,"user_id":12225425,"display_name":"rishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644072515,"creation_date":1644072515,"answer_id":70999078,"question_id":21831815,"body_markdown":"One short and quick solution that works for me for this particular problem is to delete that logback.xml and maven update the project","title":"Logback Could NOT find resource logback.xml","body":"<p>One short and quick solution that works for me for this particular problem is to delete that logback.xml and maven update the project</p>\n"},{"tags":[],"owner":{"account_id":22089978,"reputation":142,"user_id":16348170,"display_name":"hidden_machine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662368994,"creation_date":1662368994,"answer_id":73606997,"question_id":21831815,"body_markdown":"For me the problem arose due to mistakenly having 2 slf4j-api libraries on the classpath. Removing one of them did the trick.","title":"Logback Could NOT find resource logback.xml","body":"<p>For me the problem arose due to mistakenly having 2 slf4j-api libraries on the classpath. Removing one of them did the trick.</p>\n"},{"tags":[],"owner":{"account_id":3159500,"reputation":1541,"user_id":8919607,"display_name":"Pradeep Anchan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682163529,"creation_date":1682163529,"answer_id":76079439,"question_id":21831815,"body_markdown":"For me, the problem got resolved when i restarted my IDE (Intellij-Idea).\\\r\nIt somehow had cached the java-util-logging library and no amount of tweaking was fixing the issue.\\\r\nFinally the restart did the trick.","title":"Logback Could NOT find resource logback.xml","body":"<p>For me, the problem got resolved when i restarted my IDE (Intellij-Idea).<br />\nIt somehow had cached the java-util-logging library and no amount of tweaking was fixing the issue.<br />\nFinally the restart did the trick.</p>\n"}],"owner":{"account_id":3221258,"reputation":340,"user_id":2718665,"accept_rate":38,"display_name":"M_Tech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43256,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1682163529,"creation_date":1392647808,"question_id":21831815,"body_markdown":"It&#39;s working to output to console.\r\nlogger.info(&quot;Hello world info.&quot;); //works just fine...\r\n\r\nHowever the following code returns &#39;Could NOT find resource&#39; error:\r\n\r\n    Logger logger = LoggerFactory.getLogger(&quot;framework.Utilities._Test&quot;);\r\n    LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n    StatusPrinter.print(lc);\r\n\r\nI&#39;m using the following XML:\r\n\r\n    &lt;configuration&gt;\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;C:\\Reports\\logBack.log&lt;/file&gt;\r\n        &lt;!-- encoders are assigned by default the type\r\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAnd I&#39;ve copied it into the root of several locations in my classpath (Windows7\\Environment Variables\\System Variables\\Path) but I still get the error &#39;resource not found&#39;. Any ideas? \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Logback Could NOT find resource logback.xml","body":"<p>It's working to output to console.\nlogger.info(\"Hello world info.\"); //works just fine...</p>\n\n<p>However the following code returns 'Could NOT find resource' error:</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(\"framework.Utilities._Test\");\nLoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\nStatusPrinter.print(lc);\n</code></pre>\n\n<p>I'm using the following XML:</p>\n\n<pre><code>&lt;configuration&gt;\n&lt;appender name=\"FILE\" class=\"ch.qos.logback.core.FileAppender\"&gt;\n    &lt;file&gt;C:\\Reports\\logBack.log&lt;/file&gt;\n    &lt;!-- encoders are assigned by default the type\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=\"debug\"&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>And I've copied it into the root of several locations in my classpath (Windows7\\Environment Variables\\System Variables\\Path) but I still get the error 'resource not found'. Any ideas? </p>\n"},{"tags":["java","text","utf-8","codepages","windows-1256"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405425125,"post_id":24757262,"comment_id":38412208,"body_markdown":"You mean ASCII, rather than ANSI?","body":"You mean ASCII, rather than ANSI?"},{"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"score":0,"creation_date":1405426315,"post_id":24757262,"comment_id":38412967,"body_markdown":"yes i&#39;m using the windows 1256 encoding","body":"yes i&#39;m using the windows 1256 encoding"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405429505,"post_id":24757262,"comment_id":38415161,"body_markdown":"... which is not ASCII","body":"... which is not ASCII"},{"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"score":1,"creation_date":1405481390,"post_id":24757262,"comment_id":38439331,"body_markdown":"Windows-1256 is the ANSI code page if the system locale is set to Arabic.","body":"Windows-1256 is the ANSI code page if the system locale is set to Arabic."}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405426635,"creation_date":1405424827,"answer_id":24757429,"question_id":24757262,"body_markdown":"There isn&#39;t one. ANSI is a pretty old standard by the [American National Standards Institute][1]. It doesn&#39;t support RTL languages like Arabic or Hebrew.\r\n\r\nThe Wikipedia Article &quot;[ANSI escape code][2]&quot; lists all the codes that it supports.\r\n\r\nThe workaround is to use a font which renders the glyphs (characters) you need, print them in the opposite order and use cursor movement commands to right align the text.\r\n\r\n**[EDIT]** You&#39;re confusing a couple of things. First of all, ANSI is a set of escape sequences to control your terminal.\r\n\r\nASCII, Windows 1256 and UTF-8 are character encodings (i.e. ways to represent text as sequences of octets or bytes).\r\n\r\nUnicode is a library of glyphs. It tries to contain each and every glyph that you need to display text in any language. You can encode Unicode data using UTF-8, -16, etc. to serialize it.\r\n\r\nThe special Unicode Character `RIGHT-TO-LEFT EMBEDDING` (U+202B) has no representation in any other character encoding.\r\n\r\nYou will have to write a program to parse the input and then you will have to output the text to the printer, sorting the characters in the correct order. There is no shortcut to do this.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/American_National_Standards_Institute\r\n  [2]: http://en.wikipedia.org/wiki/ANSI_escape_code","title":"ANSI value of RTL character","body":"<p>There isn't one. ANSI is a pretty old standard by the <a href=\"http://en.wikipedia.org/wiki/American_National_Standards_Institute\" rel=\"nofollow\">American National Standards Institute</a>. It doesn't support RTL languages like Arabic or Hebrew.</p>\n\n<p>The Wikipedia Article \"<a href=\"http://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow\">ANSI escape code</a>\" lists all the codes that it supports.</p>\n\n<p>The workaround is to use a font which renders the glyphs (characters) you need, print them in the opposite order and use cursor movement commands to right align the text.</p>\n\n<p><strong>[EDIT]</strong> You're confusing a couple of things. First of all, ANSI is a set of escape sequences to control your terminal.</p>\n\n<p>ASCII, Windows 1256 and UTF-8 are character encodings (i.e. ways to represent text as sequences of octets or bytes).</p>\n\n<p>Unicode is a library of glyphs. It tries to contain each and every glyph that you need to display text in any language. You can encode Unicode data using UTF-8, -16, etc. to serialize it.</p>\n\n<p>The special Unicode Character <code>RIGHT-TO-LEFT EMBEDDING</code> (U+202B) has no representation in any other character encoding.</p>\n\n<p>You will have to write a program to parse the input and then you will have to output the text to the printer, sorting the characters in the correct order. There is no shortcut to do this.</p>\n"},{"tags":[],"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1405481587,"creation_date":1405481587,"answer_id":24771753,"question_id":24757262,"body_markdown":"Windows-1256 is the &quot;ANSI code page&quot; if the system locale is set to Arabic.\r\nA misnomer, but that what is called by all MS documentation...\r\nIn the Windows world &quot;ANSI code page&quot; should read &quot;system code page&quot;\r\n\r\nAnyway, U+202B has no equivalent in  in windows-1256.\r\nYou can probably achieve what you need with\r\n\r\n    U+200E\tLEFT-TO-RIGHT MARK    0xFD in windows-1256\r\n    U+200F\tRIGHT-TO-LEFT MARK    0xFE in windows-1256\t\r\n","title":"ANSI value of RTL character","body":"<p>Windows-1256 is the \"ANSI code page\" if the system locale is set to Arabic.\nA misnomer, but that what is called by all MS documentation...\nIn the Windows world \"ANSI code page\" should read \"system code page\"</p>\n\n<p>Anyway, U+202B has no equivalent in  in windows-1256.\nYou can probably achieve what you need with</p>\n\n<pre><code>U+200E  LEFT-TO-RIGHT MARK    0xFD in windows-1256\nU+200F  RIGHT-TO-LEFT MARK    0xFE in windows-1256  \n</code></pre>\n"}],"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":24771753,"answer_count":2,"score":-1,"last_activity_date":1682162850,"creation_date":1405424349,"question_id":24757262,"body_markdown":"I want to know the ANSI value of the character &quot;\\u202B&quot; that make RTL alignment in the text file, the problem that I&#39;ve used it in UTF8 file and it makes the text RTL but when the text file is ANSI it shows marks &quot;???&quot; that means that this character not identified, so any one can know what&#39;s the opposite code for this character in ANSI?","title":"ANSI value of RTL character","body":"<p>I want to know the ANSI value of the character \"\\u202B\" that make RTL alignment in the text file, the problem that I've used it in UTF8 file and it makes the text RTL but when the text file is ANSI it shows marks \"???\" that means that this character not identified, so any one can know what's the opposite code for this character in ANSI?</p>\n"},{"tags":["java","android","multithreading","surfaceview"],"answers":[{"tags":[],"owner":{"account_id":26533325,"reputation":164,"user_id":20165200,"display_name":"Harshavardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682005316,"creation_date":1681839943,"answer_id":76047639,"question_id":76044923,"body_markdown":"Your **&#39;MyThread&#39;** class appears to be drawing everything on the main UI thread. As a result, the UI freezes due to more work.\r\n\r\nThe best way to avoid this is to create a **&#39;Runnable&#39;** that performs the drawing and forwards it to the **&#39;Handler&#39;** on its own thread.\r\n\r\nHere is how you can modify your code to accomplish this:\r\n\r\nLoader.java\r\n\r\n        public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        Canvas[] canvases = differentCanvasesMap.get(0);\r\n        Bitmap[] bitmaps = differentFramesMap.get(0);\r\n        for (int i = 0; i &lt; canvases.length; i++) {\r\n            canvases[i].drawBitmap(bitmaps[i], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        }\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n    \r\n    private static void iterTmxFrames() {\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                framesFirstAnimIter++;\r\n                framesSecondAnimIter++;\r\n                framesThirdAnimIter++;\r\n                if (framesFirstAnimIter == 3) {\r\n                    framesFirstAnimIter = 0;\r\n                }\r\n                if (framesSecondAnimIter == 2) {\r\n                    framesSecondAnimIter = 0;\r\n                }\r\n                if (framesThirdAnimIter == 2) {\r\n                    framesThirdAnimIter = 0;\r\n                }\r\n    \r\n                // Post the drawing to a handler on a separate thread\r\n                handler.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Canvas[] canvases = differentCanvasesMap.get(0);\r\n                        Bitmap[] bitmaps = differentFramesMap.get(0);\r\n                        for (int i = 0; i &lt; canvases.length; i++) {\r\n                            canvases[i].drawBitmap(bitmaps[i], 0, 0, null);\r\n                        }\r\n                    }\r\n                });\r\n    \r\n                handler.postDelayed(runnable, 1000);\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n\r\nIn the **&#39;drawTmxMaps()&#39;** method, a loop is created to iterate over each canvas and bitmap and draw them all at one time.\r\n\r\nIn the **&#39;iterTmxFrames()&#39;** method, we use a **&#39;Handler&#39;** to post a **&#39;Runnable&#39;** where it separates the threads every 1000ms.\r\n\r\nThe **&#39;Runnable&#39;** performs the actual drawing on the canvas utilizing the bitmaps from **&#39;differentFramesMap&#39;**\r\n\r\nIn the **&#39;MyThread&#39;** class, call **&#39;Loader.drawTmxMaps()&#39;** to draw the bitmaps. Following this, **&#39;surfaceHolder.unlockCanvasAndPost(canvas)**&#39; can be used to post the resulting **&#39;Canvas&#39;** objects to the **&#39;SurfaceHolder&#39;**.\r\n\r\nAfter this, **&#39;SurfaceView&#39;** should no longer freeze or lag when scrolling.\r\n\r\n\r\nIn fact, SurfaceView should be moved from the main UI thread to a separate thread\r\n\r\n1. Create a new thread to handle the surfaceView movement.\r\n\r\n    private class MoveSurfaceViewThread extends Thread {\r\n    private final SurfaceView surfaceView;\r\n    private final float moveX;\r\n    private final float moveY;\r\n \r\n    public MoveSurfaceViewThread(SurfaceView surfaceView, float moveX, float moveY) {\r\n        this.surfaceView = surfaceView;\r\n        this.moveX = moveX;\r\n        this.moveY = moveY;\r\n    }\r\n \r\n    @Override\r\n    public void run() {\r\n        surfaceView.setX(moveX);\r\n        surfaceView.setY(moveY);\r\n    }\r\n    }\r\n\r\n2. In your custom GestureDetector, create an instance of the \r\n   MoveSurfaceViewThread and start it on scroll\r\n\r\n   \r\n\r\n        public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, \r\n        float distanceY) {\r\n        float moveX = gameSurface.getX() - distanceX;\r\n        float moveY = gameSurface.getY() - distanceY;\r\n     \r\n        // Create a new thread to move the surfaceView\r\n        MoveSurfaceViewThread moveSurfaceViewThread = new \r\n        MoveSurfaceViewThread(gameSurface, moveX, moveY);\r\n        moveSurfaceViewThread.start();\r\n        return true;\r\n        }\r\n\r\n\r\nPutting SurfaceView on a separate thread will make the app more responsive and prevent the UI thread from being blocked.\r\n\r\n\r\n\r\n","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>Your <strong>'MyThread'</strong> class appears to be drawing everything on the main UI thread. As a result, the UI freezes due to more work.</p>\n<p>The best way to avoid this is to create a <strong>'Runnable'</strong> that performs the drawing and forwards it to the <strong>'Handler'</strong> on its own thread.</p>\n<p>Here is how you can modify your code to accomplish this:</p>\n<p>Loader.java</p>\n<pre><code>    public static void drawTmxMaps(Canvas canvas, Context context) {\n    Canvas[] canvases = differentCanvasesMap.get(0);\n    Bitmap[] bitmaps = differentFramesMap.get(0);\n    for (int i = 0; i &lt; canvases.length; i++) {\n        canvases[i].drawBitmap(bitmaps[i], 0, 0, PaintTemplates.getInstance(context).pMap);\n    }\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = new Runnable() {\n        @Override\n        public void run() {\n            framesFirstAnimIter++;\n            framesSecondAnimIter++;\n            framesThirdAnimIter++;\n            if (framesFirstAnimIter == 3) {\n                framesFirstAnimIter = 0;\n            }\n            if (framesSecondAnimIter == 2) {\n                framesSecondAnimIter = 0;\n            }\n            if (framesThirdAnimIter == 2) {\n                framesThirdAnimIter = 0;\n            }\n\n            // Post the drawing to a handler on a separate thread\n            handler.post(new Runnable() {\n                @Override\n                public void run() {\n                    Canvas[] canvases = differentCanvasesMap.get(0);\n                    Bitmap[] bitmaps = differentFramesMap.get(0);\n                    for (int i = 0; i &lt; canvases.length; i++) {\n                        canvases[i].drawBitmap(bitmaps[i], 0, 0, null);\n                    }\n                }\n            });\n\n            handler.postDelayed(runnable, 1000);\n        }\n    };\n    handler.postDelayed(runnable, 1000);\n}\n</code></pre>\n<p>In the <strong>'drawTmxMaps()'</strong> method, a loop is created to iterate over each canvas and bitmap and draw them all at one time.</p>\n<p>In the <strong>'iterTmxFrames()'</strong> method, we use a <strong>'Handler'</strong> to post a <strong>'Runnable'</strong> where it separates the threads every 1000ms.</p>\n<p>The <strong>'Runnable'</strong> performs the actual drawing on the canvas utilizing the bitmaps from <strong>'differentFramesMap'</strong></p>\n<p>In the <strong>'MyThread'</strong> class, call <strong>'Loader.drawTmxMaps()'</strong> to draw the bitmaps. Following this, <strong>'surfaceHolder.unlockCanvasAndPost(canvas)</strong>' can be used to post the resulting <strong>'Canvas'</strong> objects to the <strong>'SurfaceHolder'</strong>.</p>\n<p>After this, <strong>'SurfaceView'</strong> should no longer freeze or lag when scrolling.</p>\n<p>In fact, SurfaceView should be moved from the main UI thread to a separate thread</p>\n<ol>\n<li><p>Create a new thread to handle the surfaceView movement.</p>\n<p>private class MoveSurfaceViewThread extends Thread {\nprivate final SurfaceView surfaceView;\nprivate final float moveX;\nprivate final float moveY;</p>\n<p>public MoveSurfaceViewThread(SurfaceView surfaceView, float moveX, float moveY) {\nthis.surfaceView = surfaceView;\nthis.moveX = moveX;\nthis.moveY = moveY;\n}</p>\n<p>@Override\npublic void run() {\nsurfaceView.setX(moveX);\nsurfaceView.setY(moveY);\n}\n}</p>\n</li>\n<li><p>In your custom GestureDetector, create an instance of the\nMoveSurfaceViewThread and start it on scroll</p>\n<pre><code> public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, \n float distanceY) {\n float moveX = gameSurface.getX() - distanceX;\n float moveY = gameSurface.getY() - distanceY;\n\n // Create a new thread to move the surfaceView\n MoveSurfaceViewThread moveSurfaceViewThread = new \n MoveSurfaceViewThread(gameSurface, moveX, moveY);\n moveSurfaceViewThread.start();\n return true;\n }\n</code></pre>\n</li>\n</ol>\n<p>Putting SurfaceView on a separate thread will make the app more responsive and prevent the UI thread from being blocked.</p>\n"},{"tags":[],"owner":{"account_id":26533325,"reputation":164,"user_id":20165200,"display_name":"Harshavardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682059514,"creation_date":1682005212,"answer_id":76065927,"question_id":76044923,"body_markdown":"Your code should look like this:\r\n\r\n**Loader.java:**\r\n\r\n    public class Loader {\r\n    private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\r\n    private static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\r\n    private static boolean isIterStarted = false;\r\n    private static int framesFirstAnimIter = 0;\r\n    private static int framesSecondAnimIter = 0;\r\n    private static int framesThirdAnimIter = 0;\r\n    private static Handler handler = new Handler(Looper.getMainLooper());\r\n    private static Runnable runnable;\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n    private static void iterTmxFrames() {\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                framesFirstAnimIter++;\r\n                framesSecondAnimIter++;\r\n                framesThirdAnimIter++;\r\n                if (framesFirstAnimIter == 3)\r\n                    framesFirstAnimIter = 0;\r\n                if (framesSecondAnimIter == 2)\r\n                    framesSecondAnimIter = 0;\r\n                if (framesThirdAnimIter == 2)\r\n                    framesThirdAnimIter = 0;\r\n                handler.postDelayed(runnable, 1000);\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n    }\r\n\r\n**MyThread.java:**\r\n\r\n    public class MyThread extends Thread {\r\n    private final SurfaceHolder surfaceHolder;\r\n    private final GameSurface gameSurface;\r\n    private boolean isRunning;\r\n    private long delay = 33; // 30 FPS\r\n    private long startTime;\r\n    private long loopTime;\r\n    private float scrollX;\r\n    private float scrollY;\r\n\r\n    public MyThread(SurfaceHolder surfaceHolder, GameSurface gameSurface) {\r\n        this.surfaceHolder = surfaceHolder;\r\n        this.gameSurface = gameSurface;\r\n    }\r\n\r\n    public void setRunning(boolean running) {\r\n        isRunning = running;\r\n    }\r\n\r\n    public void setScroll(float scrollX, float scrollY) {\r\n        this.scrollX = scrollX;\r\n        this.scrollY = scrollY;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (isRunning) {\r\n            startTime = SystemClock.uptimeMillis();\r\n            Canvas canvas = surfaceHolder.lockCanvas(null);\r\n            if (canvas != null) {\r\n                synchronized (surfaceHolder) {\r\n                    canvas.translate(-scrollX, -scrollY);\r\n                    Loader.drawTmxMaps(canvas, gameSurface.getContext());\r\n                    surfaceHolder.unlockCanvasAndPost(canvas);\r\n                }\r\n            }\r\n            loopTime = SystemClock.uptimeMillis() - startTime;\r\n            if (loopTime &lt; delay) {\r\n                try {\r\n                    Thread.sleep(delay - loopTime);\r\n                } catch (InterruptedException e) {\r\n                    Log.e(&quot;Interrupted ex&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>Your code should look like this:</p>\n<p><strong>Loader.java:</strong></p>\n<pre><code>public class Loader {\nprivate static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\nprivate static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\nprivate static boolean isIterStarted = false;\nprivate static int framesFirstAnimIter = 0;\nprivate static int framesSecondAnimIter = 0;\nprivate static int framesThirdAnimIter = 0;\nprivate static Handler handler = new Handler(Looper.getMainLooper());\nprivate static Runnable runnable;\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = new Runnable() {\n        @Override\n        public void run() {\n            framesFirstAnimIter++;\n            framesSecondAnimIter++;\n            framesThirdAnimIter++;\n            if (framesFirstAnimIter == 3)\n                framesFirstAnimIter = 0;\n            if (framesSecondAnimIter == 2)\n                framesSecondAnimIter = 0;\n            if (framesThirdAnimIter == 2)\n                framesThirdAnimIter = 0;\n            handler.postDelayed(runnable, 1000);\n        }\n    };\n    handler.postDelayed(runnable, 1000);\n}\n}\n</code></pre>\n<p><strong>MyThread.java:</strong></p>\n<pre><code>public class MyThread extends Thread {\nprivate final SurfaceHolder surfaceHolder;\nprivate final GameSurface gameSurface;\nprivate boolean isRunning;\nprivate long delay = 33; // 30 FPS\nprivate long startTime;\nprivate long loopTime;\nprivate float scrollX;\nprivate float scrollY;\n\npublic MyThread(SurfaceHolder surfaceHolder, GameSurface gameSurface) {\n    this.surfaceHolder = surfaceHolder;\n    this.gameSurface = gameSurface;\n}\n\npublic void setRunning(boolean running) {\n    isRunning = running;\n}\n\npublic void setScroll(float scrollX, float scrollY) {\n    this.scrollX = scrollX;\n    this.scrollY = scrollY;\n}\n\n@Override\npublic void run() {\n    while (isRunning) {\n        startTime = SystemClock.uptimeMillis();\n        Canvas canvas = surfaceHolder.lockCanvas(null);\n        if (canvas != null) {\n            synchronized (surfaceHolder) {\n                canvas.translate(-scrollX, -scrollY);\n                Loader.drawTmxMaps(canvas, gameSurface.getContext());\n                surfaceHolder.unlockCanvasAndPost(canvas);\n            }\n        }\n        loopTime = SystemClock.uptimeMillis() - startTime;\n        if (loopTime &lt; delay) {\n            try {\n                Thread.sleep(delay - loopTime);\n            } catch (InterruptedException e) {\n                Log.e(&quot;Interrupted ex&quot;, e.getMessage());\n            }\n        }\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76065927,"answer_count":2,"score":0,"last_activity_date":1682162456,"creation_date":1681822697,"question_id":76044923,"body_markdown":"I want to do `canvas.drawBitmap(...)` multiple times but now app freezes (ANR) once I move my SurfaceView (call         `surfaceView.setX(gs.moveX); surfaceView.setY(gs.moveY); ` in `onScroll(...)`) in my SurfaceView class with custom GestureDetector. This SurfaceView flow is controlled by GameThread in which I draw 3 times `canvas.drawBitmap(...)`. What is worth noticing is that when I comment out second or third `canvas.drawBitmap(...)` from `drawTmxMaps(...)` then app scrolls almost correctly - almost because it works but scrolling is laggy. \r\n\r\nSo how to solve my problem?\r\n\r\nHere is my code.\r\n\r\nLoader.java\r\n\r\n    private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\r\n    private static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\r\n\r\n    (...)\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n    private static void iterTmxFrames() {\r\n        runnable = () -&gt; {\r\n            framesFirstAnimIter++;\r\n            framesSecondAnimIter++;\r\n            framesThirdAnimIter++;\r\n            if (framesFirstAnimIter == 3)\r\n                framesFirstAnimIter = 0;\r\n            if (framesSecondAnimIter == 2)\r\n                framesSecondAnimIter = 0;\r\n            if (framesThirdAnimIter == 2)\r\n                framesThirdAnimIter = 0;\r\n            handler.postDelayed(runnable, 1000);\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n\r\n\r\n\r\nMyThread.java\r\n\r\n        @Override\r\n    public void run() {\r\n        while (isRunning) {\r\n            startTime = SystemClock.uptimeMillis();\r\n            Canvas canvas = surfaceHolder.lockCanvas(null);\r\n            if (canvas != null) {\r\n                synchronized (surfaceHolder) {\r\n\r\n                    TmxLoader.drawTmxMaps(canvas, gameSurface.getContext());\r\n\r\n                    surfaceHolder.unlockCanvasAndPost(canvas);\r\n                }\r\n            }\r\n\r\n            loopTime = SystemClock.uptimeMillis() - startTime;\r\n\r\n            if (loopTime &lt; delay) {\r\n                try {\r\n                    Thread.sleep(delay - loopTime);\r\n                } catch (InterruptedException e) {\r\n                    Log.e(&quot;Interupted ex&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**EDIT after answer**\r\n\r\nNow there is no ANR but the surface seems not to refresh because thre are old positions of canvas on the screen. It looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSolved by simply adding `canvas.drawARGB(255, 0, 0, 0);` as a first method in GameThread run().\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KGlQx.jpg","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>I want to do <code>canvas.drawBitmap(...)</code> multiple times but now app freezes (ANR) once I move my SurfaceView (call         <code>surfaceView.setX(gs.moveX); surfaceView.setY(gs.moveY); </code> in <code>onScroll(...)</code>) in my SurfaceView class with custom GestureDetector. This SurfaceView flow is controlled by GameThread in which I draw 3 times <code>canvas.drawBitmap(...)</code>. What is worth noticing is that when I comment out second or third <code>canvas.drawBitmap(...)</code> from <code>drawTmxMaps(...)</code> then app scrolls almost correctly - almost because it works but scrolling is laggy.</p>\n<p>So how to solve my problem?</p>\n<p>Here is my code.</p>\n<p>Loader.java</p>\n<pre><code>private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\nprivate static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\n\n(...)\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = () -&gt; {\n        framesFirstAnimIter++;\n        framesSecondAnimIter++;\n        framesThirdAnimIter++;\n        if (framesFirstAnimIter == 3)\n            framesFirstAnimIter = 0;\n        if (framesSecondAnimIter == 2)\n            framesSecondAnimIter = 0;\n        if (framesThirdAnimIter == 2)\n            framesThirdAnimIter = 0;\n        handler.postDelayed(runnable, 1000);\n    };\n    handler.postDelayed(runnable, 1000);\n}\n</code></pre>\n<p>MyThread.java</p>\n<pre><code>    @Override\npublic void run() {\n    while (isRunning) {\n        startTime = SystemClock.uptimeMillis();\n        Canvas canvas = surfaceHolder.lockCanvas(null);\n        if (canvas != null) {\n            synchronized (surfaceHolder) {\n\n                TmxLoader.drawTmxMaps(canvas, gameSurface.getContext());\n\n                surfaceHolder.unlockCanvasAndPost(canvas);\n            }\n        }\n\n        loopTime = SystemClock.uptimeMillis() - startTime;\n\n        if (loopTime &lt; delay) {\n            try {\n                Thread.sleep(delay - loopTime);\n            } catch (InterruptedException e) {\n                Log.e(&quot;Interupted ex&quot;, e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>EDIT after answer</strong></p>\n<p>Now there is no ANR but the surface seems not to refresh because thre are old positions of canvas on the screen. It looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/KGlQx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KGlQx.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Solved by simply adding <code>canvas.drawARGB(255, 0, 0, 0);</code> as a first method in GameThread run().</p>\n"},{"tags":["java","logging","stream","log4j"],"answers":[{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1347346622,"creation_date":1347345886,"answer_id":12364125,"question_id":12363027,"body_markdown":"Simple solution would be to write your own inputStream wrapper\r\n\r\nSomething like:\r\n\r\n    class LogingInputStream extends BufferedStream {\r\n        ByteArrayOutputStream copy4log = new ByteArrayOutputStream();\r\n        InputStream source;\r\n\r\n        public LogingInputStream( InputStream source ) { this.source = source; }\r\n        \r\n        public int read() {\r\n            int value = source.read()\r\n            logCopy.write( value );\r\n            return value;\r\n        }\r\n\r\n        public void close() {\r\n            source.close();\r\n            StreamUtils.copy(xml, new LogOutputStreamUtil(copy4log, Level.INFO));\r\n            copy4log.close();\r\n        }\r\n\r\n        .....more code here\r\n    }\r\n\r\nAnyway, general idea is that you need to intercept inputstream read methods.\r\n\r\nThere are other ways to accomplish this like copying source inputStream into a buffer (bytearray, string or whatever suits you), logging that buffer, and creating another inputStream around buffer and returning it to a caller instead source inputStream. It is simpler to do, but is it right solution depends on your usecase.","title":"Log Stream data using log4j","body":"<p>Simple solution would be to write your own inputStream wrapper</p>\n\n<p>Something like:</p>\n\n<pre><code>class LogingInputStream extends BufferedStream {\n    ByteArrayOutputStream copy4log = new ByteArrayOutputStream();\n    InputStream source;\n\n    public LogingInputStream( InputStream source ) { this.source = source; }\n\n    public int read() {\n        int value = source.read()\n        logCopy.write( value );\n        return value;\n    }\n\n    public void close() {\n        source.close();\n        StreamUtils.copy(xml, new LogOutputStreamUtil(copy4log, Level.INFO));\n        copy4log.close();\n    }\n\n    .....more code here\n}\n</code></pre>\n\n<p>Anyway, general idea is that you need to intercept inputstream read methods.</p>\n\n<p>There are other ways to accomplish this like copying source inputStream into a buffer (bytearray, string or whatever suits you), logging that buffer, and creating another inputStream around buffer and returning it to a caller instead source inputStream. It is simpler to do, but is it right solution depends on your usecase.</p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682159248,"creation_date":1576106262,"answer_id":59295556,"question_id":12363027,"body_markdown":"This is a very old question, however the other option to doing this these days would be to use the [log4J IOStreams](https://logging.apache.org/log4j/2.x/log4j-iostreams.html) classes. These allow you to present a Streaming interface, but have the results go to a log file of your choice.","title":"Log Stream data using log4j","body":"<p>This is a very old question, however the other option to doing this these days would be to use the <a href=\"https://logging.apache.org/log4j/2.x/log4j-iostreams.html\" rel=\"nofollow noreferrer\">log4J IOStreams</a> classes. These allow you to present a Streaming interface, but have the results go to a log file of your choice.</p>\n"}],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12364125,"answer_count":2,"score":0,"last_activity_date":1682159248,"creation_date":1347339671,"question_id":12363027,"body_markdown":"I am getting stream data from an http connection.\r\nI want to log the stream to log files using log4j.\r\n\r\nI need this stream further to do some other operations (must be retained)\r\n\r\nHow can I do that?\r\n\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n    connection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n    InputStream xml = connection.getInputStream();\r\n\r\nI tried this one:\r\n\r\n`StreamUtils.copy(xml, new LogOutputStreamUtil(log, Level.INFO));`\r\n\r\nwhere LogOutputStreamUtil from http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm\r\n\r\n\r\nBut as soon as it got logged. Stream is getting closed :(","title":"Log Stream data using log4j","body":"<p>I am getting stream data from an http connection.\nI want to log the stream to log files using log4j.</p>\n\n<p>I need this stream further to do some other operations (must be retained)</p>\n\n<p>How can I do that?</p>\n\n<pre><code>HttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestMethod(\"GET\");\nconnection.setRequestProperty(\"Accept\", \"application/xml\");\nInputStream xml = connection.getInputStream();\n</code></pre>\n\n<p>I tried this one:</p>\n\n<p><code>StreamUtils.copy(xml, new LogOutputStreamUtil(log, Level.INFO));</code></p>\n\n<p>where LogOutputStreamUtil from <a href=\"http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm\" rel=\"nofollow\">http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm</a></p>\n\n<p>But as soon as it got logged. Stream is getting closed :(</p>\n"},{"tags":["java","spring","spring-cloud","completable-future","spring-cloud-sleuth"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682159116,"creation_date":1612532690,"answer_id":66064406,"question_id":66064271,"body_markdown":"What you can do is retrieve the span (e.g. via `tracer.currentSpan()`) before `log.info(&quot;first&quot;)`, pass the span to the lambda with `log.info(&quot;second&quot;)` and manually continue the trace via `tracer.withSpanInScope(span)`. It would look like this:\r\n\r\n    Span span = tracer.currentSpan();\r\n    log.info(&quot;first&quot;);\r\n    apnsClient.sendNotification(...).handle((response, cause) -&gt; {\r\n         try (SpanInScope ws = tracer.withSpanInScope(span)) {\r\n             log.info(&quot;second&quot;);\r\n         }\r\n    });","title":"Keep trace/span across CompletableFuture in Spring Cloud Sleuth","body":"<p>What you can do is retrieve the span (e.g. via <code>tracer.currentSpan()</code>) before <code>log.info(&quot;first&quot;)</code>, pass the span to the lambda with <code>log.info(&quot;second&quot;)</code> and manually continue the trace via <code>tracer.withSpanInScope(span)</code>. It would look like this:</p>\n<pre><code>Span span = tracer.currentSpan();\nlog.info(&quot;first&quot;);\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\n     try (SpanInScope ws = tracer.withSpanInScope(span)) {\n         log.info(&quot;second&quot;);\n     }\n});\n</code></pre>\n"}],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66064406,"answer_count":1,"score":2,"last_activity_date":1682159116,"creation_date":1612532275,"question_id":66064271,"body_markdown":"I am using Sleuth with `CompletableFuture.handle`. Example:\r\n\r\n```\r\nlog.info(&quot;first&quot;);\r\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\r\n     log.info(&quot;second&quot;);\r\n});\r\n```\r\n\r\nI want the `second` log to have the same trace id as the `first` log. However, it does not. Thus I wonder what to do? Thanks!\r\n\r\nP.S. I cannot control how `apnsClient.sendNotification` manage threads (since that is from [Pushy](https://github.com/jchambers/pushy)), so there is no way to use things like [LazyTraceExecutor](https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/integrations.html#sleuth-async-executor-service-integration).","title":"Keep trace/span across CompletableFuture in Spring Cloud Sleuth","body":"<p>I am using Sleuth with <code>CompletableFuture.handle</code>. Example:</p>\n<pre><code>log.info(&quot;first&quot;);\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\n     log.info(&quot;second&quot;);\n});\n</code></pre>\n<p>I want the <code>second</code> log to have the same trace id as the <code>first</code> log. However, it does not. Thus I wonder what to do? Thanks!</p>\n<p>P.S. I cannot control how <code>apnsClient.sendNotification</code> manage threads (since that is from <a href=\"https://github.com/jchambers/pushy\" rel=\"nofollow noreferrer\">Pushy</a>), so there is no way to use things like <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/integrations.html#sleuth-async-executor-service-integration\" rel=\"nofollow noreferrer\">LazyTraceExecutor</a>.</p>\n"},{"tags":["java","arrays","for-loop","object"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1682156241,"post_id":76078884,"comment_id":134173417,"body_markdown":"What do you think that `for(int i=0; i &lt; arrFast.length;i++) { arrFast[i] = charg1; }` does? (A) set some entry of `arrFast` to `charg1`, (B) set all entries of `arrFast` to `charg1`?","body":"What do you think that <code>for(int i=0; i &lt; arrFast.length;i++) { arrFast[i] = charg1; }</code> does? (A) set some entry of <code>arrFast</code> to <code>charg1</code>, (B) set all entries of <code>arrFast</code> to <code>charg1</code>?"},{"owner":{"account_id":28378324,"reputation":1,"user_id":21706014,"display_name":"liraz"},"score":0,"creation_date":1682156604,"post_id":76078884,"comment_id":134173446,"body_markdown":"so how can i refer each time to a diffrent object?","body":"so how can i refer each time to a diffrent object?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682157601,"post_id":76078884,"comment_id":134173529,"body_markdown":"You could for example use an additional field per array that contains the first free index (`int arrFastFirstFree` and `int arrUsFirstFree`). Or your for loop could check the entry in the array and if it is null then store the object at that position and stop the loop. Or you could use a pre-made helper class like `java.util.ArrayList`","body":"You could for example use an additional field per array that contains the first free index (<code>int arrFastFirstFree</code> and <code>int arrUsFirstFree</code>). Or your for loop could check the entry in the array and if it is null then store the object at that position and stop the loop. Or you could use a pre-made helper class like <code>java.util.ArrayList</code>"},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1682157844,"post_id":76078884,"comment_id":134173554,"body_markdown":"Instead of filling the array completely with the current value each time (which is exactly what the `For loop` does) you should write the current value into the current array element! So eg `arrUs[currentUs++] = charg1;` ... btw write `If (highway == true)` or better `if (highway)` but not `if (highway = true)`","body":"Instead of filling the array completely with the current value each time (which is exactly what the <code>For loop</code> does) you should write the current value into the current array element! So eg <code>arrUs[currentUs++] = charg1;</code> ... btw write <code>If (highway == true)</code> or better <code>if (highway)</code> but not <code>if (highway = true)</code>"}],"answers":[{"tags":[],"owner":{"account_id":28378609,"reputation":1,"user_id":21706249,"display_name":"Cauterium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682158292,"creation_date":1682158292,"answer_id":76079085,"question_id":76078884,"body_markdown":"The problem is, that you are setting every entry in your array to charg1 inside the for loops.\r\nIf you want to use an array here you could do something like this:\r\n\r\n    for(int i = 0, i &lt; arrFast.length(); i++) {\r\n        if (arrFast[i] == null) {\r\n            arrFast[i] = charg1;\r\n            break;\r\n        }\r\n    }\r\n\r\nHere you iterate through the array, check for each entry, if it is free and set the first free entry to charg1, but there might still be the case, that the array is full, in which case it would remain unchanged.\r\n\r\nWhat I&#39;d rather suggest, is that you use an ArrayList instead:\r\n\r\n    private ArrayList&lt;ChargingPoint&gt; listFast = new ArrayList&lt;ChargingPoint&gt;(); // Create a new ArrayList to store your ChargingPoints\r\n    listFast.add(charg1) // Add a new ChargingPoint to the ArrayList\r\n\r\nThat way you don&#39;t have to worry about the list getting full. You can also remove entries from the list using .remove() and some other useful stuff.","title":"Adding an object to object array in java","body":"<p>The problem is, that you are setting every entry in your array to charg1 inside the for loops.\nIf you want to use an array here you could do something like this:</p>\n<pre><code>for(int i = 0, i &lt; arrFast.length(); i++) {\n    if (arrFast[i] == null) {\n        arrFast[i] = charg1;\n        break;\n    }\n}\n</code></pre>\n<p>Here you iterate through the array, check for each entry, if it is free and set the first free entry to charg1, but there might still be the case, that the array is full, in which case it would remain unchanged.</p>\n<p>What I'd rather suggest, is that you use an ArrayList instead:</p>\n<pre><code>private ArrayList&lt;ChargingPoint&gt; listFast = new ArrayList&lt;ChargingPoint&gt;(); // Create a new ArrayList to store your ChargingPoints\nlistFast.add(charg1) // Add a new ChargingPoint to the ArrayList\n</code></pre>\n<p>That way you don't have to worry about the list getting full. You can also remove entries from the list using .remove() and some other useful stuff.</p>\n"}],"owner":{"account_id":28378324,"reputation":1,"user_id":21706014,"display_name":"liraz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682158292,"creation_date":1682155140,"question_id":76078884,"body_markdown":"i have a class named ChargingPoint and i created a 2 objects arrays of ChargingPoint in a class named fuelSt\r\nIn the class FuelSt i created an object named charg1 so that i can add objects to the arrays \r\nIn the main im creating 4 ChargingPoints\r\n2 that have the letter f and needs to be added to the array arrFast \r\n2 who have the letter u and needs to be added to the array arrUs\r\n\r\nsomehow its showing me only the last element multiple times and i dont understand why\r\nthank u in advance\r\n \r\n\r\nim trying the put 2 objects in arrFast\r\nand 2 objects in arrUs\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n**ChargingPoint class=**\r\npublic class ChargingPoint {\r\n\r\n\tprivate double kw;\r\n\tprivate double trf;\r\n    private char isFast;\r\n    private String code;\r\n    \r\n   \r\n    \r\n    \r\n    public ChargingPoint (String code,char isFast) {\r\n    this.code = code;\r\n    this.isFast = isFast;\r\n    trf = 1.5;\r\n    \r\n    \r\n    }\r\n    public void setTRF(double trf ) {\r\n    \tif(trf &gt;=0) {\r\n    \t\tthis.trf = trf;\r\n    \t\t\r\n    \t}\r\n    \telse{\r\n    \t\tSystem.out.println(&quot;Error,invaild input&quot;);\r\n    \t}\r\n    }\r\n    public void setKW(double kw) {\r\n    \tif(kw &gt;=0) {\r\n    \t\tthis.kw= kw;\r\n    \t\t\r\n    \t}\r\n    \telse {\r\n    \t\tSystem.out.println(&quot;Error,invaild input&quot;);\r\n    \t\r\n    \t}\r\n    \t}\r\n\r\n    public double getKW() {\r\n    \treturn kw;\r\n    }\r\n    public double getTRF() {\r\n    \treturn trf;\r\n    }\r\n    public char getISFAST() {\r\n    return isFast;\r\n    }\r\n    public String getCODE() {\r\n    \treturn code;\r\n    }\r\n    public double consumptionTotal(double KW,double TRF) {\r\n    \tdouble sum;\r\n    \tthis.kw = KW;\r\n    \tthis.trf = TRF;\r\n    \tsum = (TRF*KW);\r\n    \treturn sum;\r\n    }\r\n    public void print(){\r\n    \tSystem.out.println(&quot;kw =&quot; + kw + &quot;, trf =&quot; + trf + &quot;, isFast =&quot; + isFast + &quot;, code =&quot; + code);\r\n    \t\r\n    }\r\n    public ChargingPoint() {\r\n    }\r\n    public char getIsFast() {\r\n    \treturn isFast;\r\n    \t\r\n    }\r\n    \r\n    public double consumptionTotal() {\r\n\t\treturn (trf*kw);\r\n\t}\r\n   public String toString() {\r\n        return &quot;kw: &quot;+this.kw+&quot; &quot;+&quot;isfast: &quot;+this.isFast + &quot; &quot;+&quot;code: &quot;+this.code;\r\n     }\r\n```\r\n\r\n \r\n   \r\n    \r\n   \r\n\r\n\r\n\r\n```\r\n**FuelSt class=**\r\npublic class FuelSt {\r\n\t\r\n\tprivate ChargingPoint[] arrUs;\r\n\tprivate int currentUs ;\r\n    private ChargingPoint[] arrFast;\r\n\tprivate int currentFt ;\r\n    private boolean highway = true;\r\n    ChargingPoint charg1 = new ChargingPoint();\r\n    ChargingPoint charg2 = new ChargingPoint();\r\n    \r\n \r\n   \r\n    \r\n    public FuelSt (boolean highway) {\r\n    \tif(highway = true) {\r\n    \t\tthis.highway = highway;\r\n    \t\tdouble c;\r\n    \t\tc = charg1.consumptionTotal();\r\n    \t\tc = c -((c*13)/100);\r\n    \t}\r\n    \telse {\r\n    \t\tthis.highway =false;\r\n    \t}\r\n    \t\r\n\r\n    }\r\n    \r\n   \r\n\tpublic boolean addChargingPoint (ChargingPoint charg1){\r\n    \t//ChargingPoint[] arrFast = new ChargingPoint[30];\r\n    \t//ChargingPoint[] arrUs = new ChargingPoint[30];\r\n\t\r\n    \tif(charg1.getIsFast() == &#39;f&#39;) {\r\n    \t\tif(arrFast == null) {\r\n    \t\tarrFast = new ChargingPoint[30];\r\n    \t\t}\r\n    \t\telse {\r\n\r\n    \t\tfor(int i=0; i &lt; arrFast.length;i++) {\r\n    \t\t\t  arrFast[i] = charg1; \r\n    \t\t\t \r\n    \t\t\t\r\n\r\n    \t        \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t}\r\n            else if (charg1.getIsFast() == &#39;u&#39;) {\r\n    \t\tif(arrUs == null) {\r\n        \t\tarrUs = new ChargingPoint[30];\r\n        \t\t}\r\n    \t\telse {\r\n    \t\tfor(int i=0; i &lt; arrUs.length;i++) {\r\n    \t\t\tarrUs[i] = charg1;\r\n    \t\t\tcurrentUs++;\r\n    \t\t\t\r\n    \t }\r\n            }\r\n            }\r\n            \r\n\r\n\r\n\r\n    \t\t\r\n        return false;\r\n}\r\n```\r\n\r\n\t\t\t\r\n```\r\n**Main=**\r\npublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t System.out.print(&quot;is the fuel next to a highway?&quot;);  \r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tboolean yes = in.nextBoolean();\r\n\t\t \r\n\t    FuelSt fuelroad = new FuelSt(yes);\r\n\t    \r\n\t \r\n\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\tdouble kw = in.nextDouble();\r\n\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\tchar isFast = (char)System.in.read();\r\n\t    System.out.println(&quot;type code&quot;);\r\n\t\tString code = in.next();\r\n\t\tChargingPoint chargF= new ChargingPoint(code,isFast);\r\n\t\tchargF.setKW(kw);\r\n\t\tfuelroad.addChargingPoint(chargF);\r\n\t\tchargF.print();\r\n\t\t\r\n\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\tdouble kw1 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\tchar isFast1 = (char)System.in.read();\r\n\t    System.out.println(&quot;type code&quot;);\r\n\t\tString code1 = in.next();\r\n\t\tChargingPoint chargF1= new ChargingPoint(code1,isFast1);\r\n\t\tchargF1.setKW(kw1);\r\n\t\tfuelroad.addChargingPoint(chargF1);\r\n\t\t\r\n\t\tchargF1.print();\r\n\t\tSystem.out.println(Arrays.toString(fuelroad.getarrFast()));\r\n\t\t//System.out.println(fuelroad.getarrFast());\r\n\t\t\r\n\t\r\n\t\r\n\t\t\r\n\t\t  \r\n\t\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\t\tdouble kw2 = in.nextDouble();\r\n\t\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\t\tchar isFast2 = (char)System.in.read();\r\n\t\t    System.out.println(&quot;type code&quot;);\r\n\t\t\tString code2 = in.next();\r\n\t\t\tChargingPoint chargU = new ChargingPoint(code2,isFast2);\r\n\t\t\tchargU.setKW(kw2);\r\n\t\t    fuelroad.addChargingPoint(chargU);\r\n\t\t\tchargU.print();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\t\tdouble kw3 = in.nextDouble();\r\n\t\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\t\tchar isFast3 = (char)System.in.read();\r\n\t\t    System.out.println(&quot;type code&quot;);\r\n\t\t\tString code3 = in.next();\r\n\t\t    ChargingPoint chargU1 = new ChargingPoint(code3,isFast3);\r\n\t\t    chargU1.setKW(kw3);\r\n\t\t\tfuelroad.addChargingPoint(chargU1);\r\n\t\t\tchargU1.print();\r\n\t\t\t\r\n```\r\n","title":"Adding an object to object array in java","body":"<p>i have a class named ChargingPoint and i created a 2 objects arrays of ChargingPoint in a class named fuelSt\nIn the class FuelSt i created an object named charg1 so that i can add objects to the arrays\nIn the main im creating 4 ChargingPoints\n2 that have the letter f and needs to be added to the array arrFast\n2 who have the letter u and needs to be added to the array arrUs</p>\n<p>somehow its showing me only the last element multiple times and i dont understand why\nthank u in advance</p>\n<p>im trying the put 2 objects in arrFast\nand 2 objects in arrUs</p>\n<pre><code>**ChargingPoint class=**\npublic class ChargingPoint {\n\n    private double kw;\n    private double trf;\n    private char isFast;\n    private String code;\n    \n   \n    \n    \n    public ChargingPoint (String code,char isFast) {\n    this.code = code;\n    this.isFast = isFast;\n    trf = 1.5;\n    \n    \n    }\n    public void setTRF(double trf ) {\n        if(trf &gt;=0) {\n            this.trf = trf;\n            \n        }\n        else{\n            System.out.println(&quot;Error,invaild input&quot;);\n        }\n    }\n    public void setKW(double kw) {\n        if(kw &gt;=0) {\n            this.kw= kw;\n            \n        }\n        else {\n            System.out.println(&quot;Error,invaild input&quot;);\n        \n        }\n        }\n\n    public double getKW() {\n        return kw;\n    }\n    public double getTRF() {\n        return trf;\n    }\n    public char getISFAST() {\n    return isFast;\n    }\n    public String getCODE() {\n        return code;\n    }\n    public double consumptionTotal(double KW,double TRF) {\n        double sum;\n        this.kw = KW;\n        this.trf = TRF;\n        sum = (TRF*KW);\n        return sum;\n    }\n    public void print(){\n        System.out.println(&quot;kw =&quot; + kw + &quot;, trf =&quot; + trf + &quot;, isFast =&quot; + isFast + &quot;, code =&quot; + code);\n        \n    }\n    public ChargingPoint() {\n    }\n    public char getIsFast() {\n        return isFast;\n        \n    }\n    \n    public double consumptionTotal() {\n        return (trf*kw);\n    }\n   public String toString() {\n        return &quot;kw: &quot;+this.kw+&quot; &quot;+&quot;isfast: &quot;+this.isFast + &quot; &quot;+&quot;code: &quot;+this.code;\n     }\n</code></pre>\n<pre><code>**FuelSt class=**\npublic class FuelSt {\n    \n    private ChargingPoint[] arrUs;\n    private int currentUs ;\n    private ChargingPoint[] arrFast;\n    private int currentFt ;\n    private boolean highway = true;\n    ChargingPoint charg1 = new ChargingPoint();\n    ChargingPoint charg2 = new ChargingPoint();\n    \n \n   \n    \n    public FuelSt (boolean highway) {\n        if(highway = true) {\n            this.highway = highway;\n            double c;\n            c = charg1.consumptionTotal();\n            c = c -((c*13)/100);\n        }\n        else {\n            this.highway =false;\n        }\n        \n\n    }\n    \n   \n    public boolean addChargingPoint (ChargingPoint charg1){\n        //ChargingPoint[] arrFast = new ChargingPoint[30];\n        //ChargingPoint[] arrUs = new ChargingPoint[30];\n    \n        if(charg1.getIsFast() == 'f') {\n            if(arrFast == null) {\n            arrFast = new ChargingPoint[30];\n            }\n            else {\n\n            for(int i=0; i &lt; arrFast.length;i++) {\n                  arrFast[i] = charg1; \n                 \n                \n\n                \n                }\n            }\n            }\n            else if (charg1.getIsFast() == 'u') {\n            if(arrUs == null) {\n                arrUs = new ChargingPoint[30];\n                }\n            else {\n            for(int i=0; i &lt; arrUs.length;i++) {\n                arrUs[i] = charg1;\n                currentUs++;\n                \n         }\n            }\n            }\n            \n\n\n\n            \n        return false;\n}\n</code></pre>\n<pre><code>**Main=**\npublic static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n         System.out.print(&quot;is the fuel next to a highway?&quot;);  \n        Scanner in = new Scanner(System.in);\n        boolean yes = in.nextBoolean();\n         \n        FuelSt fuelroad = new FuelSt(yes);\n        \n     \n        System.out.println(&quot;type kw&quot;);\n        double kw = in.nextDouble();\n        System.out.println(&quot;type u/f&quot;);\n        char isFast = (char)System.in.read();\n        System.out.println(&quot;type code&quot;);\n        String code = in.next();\n        ChargingPoint chargF= new ChargingPoint(code,isFast);\n        chargF.setKW(kw);\n        fuelroad.addChargingPoint(chargF);\n        chargF.print();\n        \n        System.out.println(&quot;type kw&quot;);\n        double kw1 = in.nextDouble();\n        System.out.println(&quot;type u/f&quot;);\n        char isFast1 = (char)System.in.read();\n        System.out.println(&quot;type code&quot;);\n        String code1 = in.next();\n        ChargingPoint chargF1= new ChargingPoint(code1,isFast1);\n        chargF1.setKW(kw1);\n        fuelroad.addChargingPoint(chargF1);\n        \n        chargF1.print();\n        System.out.println(Arrays.toString(fuelroad.getarrFast()));\n        //System.out.println(fuelroad.getarrFast());\n        \n    \n    \n        \n          \n            System.out.println(&quot;type kw&quot;);\n            double kw2 = in.nextDouble();\n            System.out.println(&quot;type u/f&quot;);\n            char isFast2 = (char)System.in.read();\n            System.out.println(&quot;type code&quot;);\n            String code2 = in.next();\n            ChargingPoint chargU = new ChargingPoint(code2,isFast2);\n            chargU.setKW(kw2);\n            fuelroad.addChargingPoint(chargU);\n            chargU.print();\n            \n            \n            System.out.println(&quot;type kw&quot;);\n            double kw3 = in.nextDouble();\n            System.out.println(&quot;type u/f&quot;);\n            char isFast3 = (char)System.in.read();\n            System.out.println(&quot;type code&quot;);\n            String code3 = in.next();\n            ChargingPoint chargU1 = new ChargingPoint(code3,isFast3);\n            chargU1.setKW(kw3);\n            fuelroad.addChargingPoint(chargU1);\n            chargU1.print();\n            \n</code></pre>\n"},{"tags":["java","spring-boot","testing","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597776741,"post_id":63471868,"comment_id":112243070,"body_markdown":"its is quite simple, you are blocking a reactive application, and blocking is not allowed. If you wish to test reactive return types use the `StepVerifier` and not `assert` https://projectreactor.io/docs/core/release/reference/#_testing_a_scenario_with_stepverifier","body":"its is quite simple, you are blocking a reactive application, and blocking is not allowed. If you wish to test reactive return types use the <code>StepVerifier</code> and not <code>assert</code> <a href=\"https://projectreactor.io/docs/core/release/reference/#_testing_a_scenario_with_stepverifier\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/&hellip;</a>"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597787001,"post_id":63471868,"comment_id":112246820,"body_markdown":"@ThomasAndolf - Unfortunately doesn&#39;t seem that simple.  I tried with StepVerifier and the result is the same only the error message end changes to ` [Context0{}] and the name is [stepVerifier ]` instead of the current one posted in the question.","body":"@ThomasAndolf - Unfortunately doesn&#39;t seem that simple.  I tried with StepVerifier and the result is the same only the error message end changes to ` [Context0{}] and the name is [stepVerifier ]` instead of the current one posted in the question."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597817901,"post_id":63471868,"comment_id":112253648,"body_markdown":"Dont explain your code, post what you have tried because it is the solution and you are probably implementing it wrong.","body":"Dont explain your code, post what you have tried because it is the solution and you are probably implementing it wrong."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597818806,"post_id":63471868,"comment_id":112253944,"body_markdown":"@ThomasAndolf - sure mate. I have updated the question with the StepVerifier implementation and the error which seems still same issue.","body":"@ThomasAndolf - sure mate. I have updated the question with the StepVerifier implementation and the error which seems still same issue."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597822143,"post_id":63471868,"comment_id":112255219,"body_markdown":"i read up a bit on the exception and it has somerthing to do when you are not registering beans correctly in the spring context. i dont like the usage of `@DirtiesContext` can you please produce a small reproducible example.","body":"i read up a bit on the exception and it has somerthing to do when you are not registering beans correctly in the spring context. i dont like the usage of <code>@DirtiesContext</code> can you please produce a small reproducible example."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597824536,"post_id":63471868,"comment_id":112256342,"body_markdown":"Hi, thanks for the support, I will try to do that. Also, I noticed that if I run those same tests directly from IntelliJ they actually pass, but not when running from the command line, or in the pipeline, so I am more puzzled by it now.","body":"Hi, thanks for the support, I will try to do that. Also, I noticed that if I run those same tests directly from IntelliJ they actually pass, but not when running from the command line, or in the pipeline, so I am more puzzled by it now."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597831160,"post_id":63471868,"comment_id":112259498,"body_markdown":"Then check your java versions could be that","body":"Then check your java versions could be that"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597831373,"post_id":63471868,"comment_id":112259596,"body_markdown":"Yep, sure. First thing I did. They&#39;re exactly the same. What I noticed is that if I run the tests in isolation they always pass, but when running all tests(even from IntelliJ) the reactive ones fail with this error.","body":"Yep, sure. First thing I did. They&#39;re exactly the same. What I noticed is that if I run the tests in isolation they always pass, but when running all tests(even from IntelliJ) the reactive ones fail with this error."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597832349,"post_id":63471868,"comment_id":112260026,"body_markdown":"Then you have what is called overbleeding between tests and in pretty sure the `@DirtiesContext` has something to do with it. If you declare it, it will destroy the entire context between tests. You should avoid using it because it slows down tests. Instead try with the aproach, clean up, set up test data, assert for each test using a combination of `@Before` and such to avoid test overbleeding.","body":"Then you have what is called overbleeding between tests and in pretty sure the <code>@DirtiesContext</code> has something to do with it. If you declare it, it will destroy the entire context between tests. You should avoid using it because it slows down tests. Instead try with the aproach, clean up, set up test data, assert for each test using a combination of <code>@Before</code> and such to avoid test overbleeding."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597832546,"post_id":63471868,"comment_id":112260114,"body_markdown":"Many think that `@DirtiesContext` is a simple way to just &quot;reset&quot; your application, but its not, destroying and rebuilding the context takes time. Only reason to use it is if you are doing something that makes the context irreparable for instance changing the state of something etc.","body":"Many think that <code>@DirtiesContext</code> is a simple way to just &quot;reset&quot; your application, but its not, destroying and rebuilding the context takes time. Only reason to use it is if you are doing something that makes the context irreparable for instance changing the state of something etc."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597833106,"post_id":63471868,"comment_id":112260364,"body_markdown":"but it is hard to give any more advice without seeing your full source code.","body":"but it is hard to give any more advice without seeing your full source code."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597845077,"post_id":63471868,"comment_id":112266367,"body_markdown":"Hi, I finally manage to sort it out. I will publish an answer for what solved in my case. relevant to notice that this project uses a combination of Spring MVC and WebFlux so it&#39;s running in Tomcat.","body":"Hi, I finally manage to sort it out. I will publish an answer for what solved in my case. relevant to notice that this project uses a combination of Spring MVC and WebFlux so it&#39;s running in Tomcat."}],"answers":[{"tags":[],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597845331,"creation_date":1597845331,"answer_id":63488585,"question_id":63471868,"body_markdown":"I finally manage to sort it out, unfortunately not sure of the root cause but what fixed it was removing the properties from the @SpringBootTest annotation and using it&#39;s defaults. Clearly something has changed in there with the upgrade of the dependencies which caused the issue. \r\n\r\nSo it works when like this: \r\n\r\n    ...\r\n    @RunWith(SpringRunner.class)\r\n\r\n    // below annotation properties were removed which fixed the tests...\r\n    @SpringBootTest\r\n\r\n    @Import({AccountApiClient.class,...})\r\n    @DirtiesContext\r\n    @AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\r\n     ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\r\n     consumerName = &quot;AccountServiceV2&quot;,\r\n     stubsPerConsumer = true)\r\n    public class AccountsClientTest {","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I finally manage to sort it out, unfortunately not sure of the root cause but what fixed it was removing the properties from the @SpringBootTest annotation and using it's defaults. Clearly something has changed in there with the upgrade of the dependencies which caused the issue.</p>\n<p>So it works when like this:</p>\n<pre><code>...\n@RunWith(SpringRunner.class)\n\n// below annotation properties were removed which fixed the tests...\n@SpringBootTest\n\n@Import({AccountApiClient.class,...})\n@DirtiesContext\n@AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\n ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\n consumerName = &quot;AccountServiceV2&quot;,\n stubsPerConsumer = true)\npublic class AccountsClientTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598542950,"creation_date":1598542950,"answer_id":63619608,"question_id":63471868,"body_markdown":"I have a similar issue after adding \r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI solved this by removing @DirtiesContext","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I have a similar issue after adding</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I solved this by removing @DirtiesContext</p>\n"}],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63488585,"answer_count":2,"score":0,"last_activity_date":1682158139,"creation_date":1597764567,"question_id":63471868,"body_markdown":"I have some Spring Boot integration tests which worked fine in Spring Boot 2.1 but now that I have upgraded to Spring Boot 2.2 they&#39;re failing. Using default spring-boot parent dependency management. Some failing tests which used to work are as simple as this example: \r\n\r\n    ...\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(\r\n     webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n     properties = {&quot;spring.sleuth.enabled=false&quot;})\r\n    @Import({AccountApiClient.class,...})\r\n    @DirtiesContext\r\n    @AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\r\n     ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\r\n     consumerName = &quot;AccountServiceV2&quot;,\r\n     stubsPerConsumer = true)\r\n    public class AccountsClientTest {\r\n    \r\n    @Autowired\r\n    AccountService accountService;\r\n\r\n    @Test\r\n    public void verifyAccountsShouldReturnEmpty() {\r\n        Mono&lt;List&lt;Accounts&gt;&gt; acc = accountService.getAccounts(new AccountId(ACC_ID));\r\n        assertThat(acc.block(), hasSize(0));\r\n     }\r\n     ...\r\n\r\nBefore the upgrade, this test passes as expected but after the upgrade, it fails with the following error: \r\n\r\n```\r\n[ERROR] verifyAccountsShouldReturnEmpty  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\r\nreactor.core.Exceptions$ReactiveException: java.lang.AssertionError: Spring Context [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d605944, started on Tue Aug 18 10:00:09 CEST 2020, parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a035db9] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [blocking]\r\n```\r\n\r\nI have many tests with similar behaviour after upgrading. It fails on line `assertThat(acc.block(), hasSize(0));` \r\n\r\nWhat might be causing this?\r\n\r\nUpdate\r\n---\r\n\r\nI&#39;ve tried changing the test to use StepVerifier as suggested in comments but didn&#39;t work: \r\n\r\n    @Test\r\n    public void verifyAccountsShouldReturnEmpty() {\r\n      StepVerifier.create(\r\n          accountService.getAccounts(new AccountId(ACC_ID)))\r\n          .expectNext(Collections.emptyList())\r\n          .verifyComplete();\r\n    }\r\n\r\nThe end of the error just changed to: `parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@985b9f6] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [stepVerifier ]))` which seems the same issue as using block but now with StepVerifier.\r\n","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I have some Spring Boot integration tests which worked fine in Spring Boot 2.1 but now that I have upgraded to Spring Boot 2.2 they're failing. Using default spring-boot parent dependency management. Some failing tests which used to work are as simple as this example:</p>\n<pre><code>...\n@RunWith(SpringRunner.class)\n@SpringBootTest(\n webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n properties = {&quot;spring.sleuth.enabled=false&quot;})\n@Import({AccountApiClient.class,...})\n@DirtiesContext\n@AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\n ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\n consumerName = &quot;AccountServiceV2&quot;,\n stubsPerConsumer = true)\npublic class AccountsClientTest {\n\n@Autowired\nAccountService accountService;\n\n@Test\npublic void verifyAccountsShouldReturnEmpty() {\n    Mono&lt;List&lt;Accounts&gt;&gt; acc = accountService.getAccounts(new AccountId(ACC_ID));\n    assertThat(acc.block(), hasSize(0));\n }\n ...\n</code></pre>\n<p>Before the upgrade, this test passes as expected but after the upgrade, it fails with the following error:</p>\n<pre><code>[ERROR] verifyAccountsShouldReturnEmpty  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\nreactor.core.Exceptions$ReactiveException: java.lang.AssertionError: Spring Context [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d605944, started on Tue Aug 18 10:00:09 CEST 2020, parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a035db9] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [blocking]\n</code></pre>\n<p>I have many tests with similar behaviour after upgrading. It fails on line <code>assertThat(acc.block(), hasSize(0));</code></p>\n<p>What might be causing this?</p>\n<h2>Update</h2>\n<p>I've tried changing the test to use StepVerifier as suggested in comments but didn't work:</p>\n<pre><code>@Test\npublic void verifyAccountsShouldReturnEmpty() {\n  StepVerifier.create(\n      accountService.getAccounts(new AccountId(ACC_ID)))\n      .expectNext(Collections.emptyList())\n      .verifyComplete();\n}\n</code></pre>\n<p>The end of the error just changed to: <code>parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@985b9f6] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [stepVerifier ]))</code> which seems the same issue as using block but now with StepVerifier.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682167346,"post_id":76078960,"comment_id":134174557,"body_markdown":"Why: `Each project need to pick up the maven_setting.xml ` is this neccesary???","body":"Why: <code>Each project need to pick up the maven_setting.xml </code> is this neccesary???"}],"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682157539,"creation_date":1682156441,"question_id":76078960,"body_markdown":"I have around 25 project. Right now, I am building manually one by one. I thought of using maven reactor module.\r\n\r\nEach project what I have I run manually with following commands\r\n\r\n    mvn clean install -s devops/ci/maven_setting.xml.\r\n\r\nThis maven_setting.xml have the activeProfiles. Each project will have different activeProfiles.\r\n\r\n\r\nNow the problem is I am try to run all the projects together by creating maven reactor.\r\n\r\nBelow is the pom.xml file where I have included all projects.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n     &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mt.pom&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mt-base-retail-pom&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;mt-base-retail-pom&lt;/name&gt;\r\n     &lt;profiles&gt;\r\n       &lt;profile&gt;\r\n          &lt;id&gt;all-parent-pom&lt;/id&gt;\r\n          &lt;modules&gt;\r\n\t\t     &lt;module&gt;../mt-base-parent-pom&lt;/module&gt;&gt;\r\n\t\t     &lt;module&gt;../mt-functional-service-pom&lt;/module&gt; etc\r\n\t      &lt;/modules&gt;\r\n\t   &lt;/profile&gt;\r\n\t   &lt;profile&gt;\r\n          &lt;id&gt;all-common-sdk&lt;/id&gt;\r\n          &lt;modules&gt;\r\n\t\t     &lt;module&gt;../mt-elasticsearch-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-entity-annotation-processor&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-mongodb-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-neo4j-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-sql-starter&lt;/module&gt;  etc\r\n\t      &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n\t   &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nNow when I try to build all-common-sdk projects with \r\n\r\n    mvn clean install -P all-common-sdk\r\n\r\nEach project need to pick up the maven_setting.xml from its own subfolder which is not happening.\r\n\r\nHow to make the maven_setting.xml as part of maven modules.\r\n\r\nNote: This maven_settings.xml will have different active profiles for each project.\r\n\r\nPlease let me if there is any other way as well so that I can build all projects at a time in single shot.\r\n\r\n","title":"How do I run each module with different commands in maven reactor","body":"<p>I have around 25 project. Right now, I am building manually one by one. I thought of using maven reactor module.</p>\n<p>Each project what I have I run manually with following commands</p>\n<pre><code>mvn clean install -s devops/ci/maven_setting.xml.\n</code></pre>\n<p>This maven_setting.xml have the activeProfiles. Each project will have different activeProfiles.</p>\n<p>Now the problem is I am try to run all the projects together by creating maven reactor.</p>\n<p>Below is the pom.xml file where I have included all projects.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.mt.pom&lt;/groupId&gt;\n&lt;artifactId&gt;mt-base-retail-pom&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;name&gt;mt-base-retail-pom&lt;/name&gt;\n &lt;profiles&gt;\n   &lt;profile&gt;\n      &lt;id&gt;all-parent-pom&lt;/id&gt;\n      &lt;modules&gt;\n         &lt;module&gt;../mt-base-parent-pom&lt;/module&gt;&gt;\n         &lt;module&gt;../mt-functional-service-pom&lt;/module&gt; etc\n      &lt;/modules&gt;\n   &lt;/profile&gt;\n   &lt;profile&gt;\n      &lt;id&gt;all-common-sdk&lt;/id&gt;\n      &lt;modules&gt;\n         &lt;module&gt;../mt-elasticsearch-starter&lt;/module&gt;\n         &lt;module&gt;../mt-entity-annotation-processor&lt;/module&gt;\n         &lt;module&gt;../mt-mongodb-starter&lt;/module&gt;\n         &lt;module&gt;../mt-neo4j-starter&lt;/module&gt;\n         &lt;module&gt;../mt-sql-starter&lt;/module&gt;  etc\n      &lt;/modules&gt;\n    &lt;/profile&gt;\n   &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now when I try to build all-common-sdk projects with</p>\n<pre><code>mvn clean install -P all-common-sdk\n</code></pre>\n<p>Each project need to pick up the maven_setting.xml from its own subfolder which is not happening.</p>\n<p>How to make the maven_setting.xml as part of maven modules.</p>\n<p>Note: This maven_settings.xml will have different active profiles for each project.</p>\n<p>Please let me if there is any other way as well so that I can build all projects at a time in single shot.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5712315,"reputation":260,"user_id":4513858,"accept_rate":9,"display_name":"localplutonium"},"score":3,"creation_date":1461395595,"post_id":36807712,"comment_id":61188967,"body_markdown":"just make a new array that is +1 size of the old one put the new item at the first index and then fill in the rest with the old","body":"just make a new array that is +1 size of the old one put the new item at the first index and then fill in the rest with the old"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1461396076,"post_id":36807712,"comment_id":61189078,"body_markdown":"Make a `StackArray` that wraps an `Array`.","body":"Make a <code>StackArray</code> that wraps an <code>Array</code>."}],"answers":[{"tags":[],"owner":{"account_id":4490621,"reputation":3759,"user_id":3651800,"display_name":"Matt Coubrough"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461395562,"creation_date":1461395562,"answer_id":36807842,"question_id":36807712,"body_markdown":"As per the [Java tutorials][1] (which I thoroughly recommend beginners to work through)\r\n\r\n&gt; An *array* is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed. \r\n\r\nBecause arrays cannot be resized - you can *overwrite* the first element, but to perform an *insert* you must create a new array 1 larger than the previous one, put your new element in the first position and fill the rest of the array with the existing elements.\r\n\r\n**Of course, in practice don&#39;t do this. Instead use a collection that suits your actual use-case.**\r\n\r\nSo the actual answer to your question is: The simplest way to add an item to front of a java array is to use a better collection type such as a [Deque][2].\r\n\r\nI cannot think of *any* valid reason in Java to not use a more appropriate collection than a raw array if inserting to the front is required. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>As per the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow\">Java tutorials</a> (which I thoroughly recommend beginners to work through)</p>\n\n<blockquote>\n  <p>An <em>array</em> is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed. </p>\n</blockquote>\n\n<p>Because arrays cannot be resized - you can <em>overwrite</em> the first element, but to perform an <em>insert</em> you must create a new array 1 larger than the previous one, put your new element in the first position and fill the rest of the array with the existing elements.</p>\n\n<p><strong>Of course, in practice don't do this. Instead use a collection that suits your actual use-case.</strong></p>\n\n<p>So the actual answer to your question is: The simplest way to add an item to front of a java array is to use a better collection type such as a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html\" rel=\"nofollow\">Deque</a>.</p>\n\n<p>I cannot think of <em>any</em> valid reason in Java to not use a more appropriate collection than a raw array if inserting to the front is required. </p>\n"},{"tags":[],"owner":{"account_id":8157508,"reputation":1007,"user_id":6142587,"display_name":"Carlos Parra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461396300,"creation_date":1461396300,"answer_id":36807950,"question_id":36807712,"body_markdown":"Why not just use an ArrayList?\r\n\r\nYou could use an Array convert it to a List as follows:\r\n\r\n    List&lt;Integer&gt; myList = Arrays.asList(1,2,3); \r\n    //Instead of 1,2,3 you could create an Integer array: Integer[] myArray = {1,2,3};\r\n    \r\n    myList.add(0, 25);\r\n\r\n\r\nIf you decide doing this way, you could check the answers of this question:\r\n\r\nhttps://stackoverflow.com/questions/12949690/java-arrays-how-to-add-elements-at-the-beginning\r\n\r\nor just check out the documentation:\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Why not just use an ArrayList?</p>\n\n<p>You could use an Array convert it to a List as follows:</p>\n\n<pre><code>List&lt;Integer&gt; myList = Arrays.asList(1,2,3); \n//Instead of 1,2,3 you could create an Integer array: Integer[] myArray = {1,2,3};\n\nmyList.add(0, 25);\n</code></pre>\n\n<p>If you decide doing this way, you could check the answers of this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12949690/java-arrays-how-to-add-elements-at-the-beginning\">Java Arrays how to add elements at the beginning</a></p>\n\n<p>or just check out the documentation:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html</a></p>\n"},{"tags":[],"owner":{"account_id":253349,"reputation":7254,"user_id":531984,"accept_rate":67,"display_name":"Eminem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461398838,"creation_date":1461398838,"answer_id":36808293,"question_id":36807712,"body_markdown":"    for(int i = roadVehicles.length; i &gt; 0; i--) {\r\n        if (roadVehicles[i-1] != null) {\r\n            roadVehicles[i] = roadVehicles[i-1];                \r\n        }\r\n    }\r\n    roadVehicles[0] = car;","title":"Simplest way to add an item to beginning of an array in Java","body":"<pre><code>for(int i = roadVehicles.length; i &gt; 0; i--) {\n    if (roadVehicles[i-1] != null) {\n        roadVehicles[i] = roadVehicles[i-1];                \n    }\n}\nroadVehicles[0] = car;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8307126,"reputation":76,"user_id":6243715,"display_name":"Dario Corsetti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461399452,"creation_date":1461399452,"answer_id":36808389,"question_id":36807712,"body_markdown":"Once created an array cannot be resized. If you have to add an element you&#39;ll need to create a new array.\r\nIf you know the array type it&#39;s trivial, but a nicer solution will work with any array type, using the `java.lang.reflect.Array`\r\n\r\nExample code:\r\n\r\n    public static Object addElementInFrontOfArray(Object array, Object element) {\r\n         int newArraySize = Array.getLength(array)+1;\r\n         Object newArray = Array.newInstance(element.getClass(), newArraySize);\r\n         //Add first element\r\n         Array.set(newArray, 0, element);\r\n         for (int i=1 ; i&lt;newArraySize; i++) {\r\n             Array.set(newArray, i, Array.get(array, i-1));\r\n         }\r\n         return newArray;\r\n    }\r\n\r\nConsider that you can pass a int[] array as parameter but a Integer[] arrary will be returned","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Once created an array cannot be resized. If you have to add an element you'll need to create a new array.\nIf you know the array type it's trivial, but a nicer solution will work with any array type, using the <code>java.lang.reflect.Array</code></p>\n\n<p>Example code:</p>\n\n<pre><code>public static Object addElementInFrontOfArray(Object array, Object element) {\n     int newArraySize = Array.getLength(array)+1;\n     Object newArray = Array.newInstance(element.getClass(), newArraySize);\n     //Add first element\n     Array.set(newArray, 0, element);\n     for (int i=1 ; i&lt;newArraySize; i++) {\n         Array.set(newArray, i, Array.get(array, i-1));\n     }\n     return newArray;\n}\n</code></pre>\n\n<p>Consider that you can pass a int[] array as parameter but a Integer[] arrary will be returned</p>\n"},{"tags":[],"owner":{"account_id":7008272,"reputation":7615,"user_id":5372008,"display_name":"Teocci"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1615236803,"creation_date":1537509185,"answer_id":52437408,"question_id":36807712,"body_markdown":"There are two ways to do this. One, using `Objects` or another using `generics`. I recommend you to use `generics` because gives you more flexibility as you gonna see in these examples.\r\n\r\nIn this first implementation the function `add2BeginningOfArray` is using `generics`:\r\n\r\n```java\r\npublic static &lt;T&gt; T[] add2BeginningOfArray(T[] elements, T element)\r\n{\r\n    T[] newArray = Arrays.copyOf(elements, elements.length + 1);\r\n    newArray[0] = element;\r\n    System.arraycopy(elements, 0, newArray, 1, elements.length);\r\n\r\n    return newArray;\r\n}\r\n```\r\n\r\nCalling this function is really simple. For instance, if you have a class `Dot` and you want to add an element to the beginning of an array of `Dot` objects you just need to do this:\r\n\r\n```java\r\nint size = 20;\r\nDot[] dots = new Dot[size];\r\nfor (int i = 0; i &lt; size; i++) {\r\n    dots[i] = new Dot(&quot;This is a dot&quot;);\r\n}\r\n\r\nDot goal = new Dot(&quot;This is a goal&quot;);\r\n\r\nSystem.out.println(Arrays.toString(add2BeginningOfArray(dots, goal)));\r\n```\r\nYou can also implement a function declaring the function parameters as `Object` as shown in this example:\r\n\r\n```java\r\npublic static Object[] add2BeginningOfArray(Object[] elements, Object element){\r\n    Object[] tempArr = new Object[elements.length + 1];\r\n    tempArr[0] = element;\r\n    System.arraycopy(elements, 0, tempArr, 1, elements.length);\r\n}\r\n```\r\n\r\nNow, what is the problem?  Well, not a big problem but now you need to declare your array as `Object[]` and use this kind of declaration to work with it.\r\n\r\n```java\r\nObject[] foo = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;};\r\n\r\n//adding an element to the beginning array\r\nObject[] numbers = add2BeginningOfArray(foo, &quot;1&quot;);\r\nSystem.out.println(Arrays.toString(numbers));\r\n```\r\n\r\nFor me the `generics` approach is cleaner and more scalable, so I really recommend it over the `Object` approach. \r\n","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>There are two ways to do this. One, using <code>Objects</code> or another using <code>generics</code>. I recommend you to use <code>generics</code> because gives you more flexibility as you gonna see in these examples.</p>\n<p>In this first implementation the function <code>add2BeginningOfArray</code> is using <code>generics</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T[] add2BeginningOfArray(T[] elements, T element)\n{\n    T[] newArray = Arrays.copyOf(elements, elements.length + 1);\n    newArray[0] = element;\n    System.arraycopy(elements, 0, newArray, 1, elements.length);\n\n    return newArray;\n}\n</code></pre>\n<p>Calling this function is really simple. For instance, if you have a class <code>Dot</code> and you want to add an element to the beginning of an array of <code>Dot</code> objects you just need to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int size = 20;\nDot[] dots = new Dot[size];\nfor (int i = 0; i &lt; size; i++) {\n    dots[i] = new Dot(&quot;This is a dot&quot;);\n}\n\nDot goal = new Dot(&quot;This is a goal&quot;);\n\nSystem.out.println(Arrays.toString(add2BeginningOfArray(dots, goal)));\n</code></pre>\n<p>You can also implement a function declaring the function parameters as <code>Object</code> as shown in this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Object[] add2BeginningOfArray(Object[] elements, Object element){\n    Object[] tempArr = new Object[elements.length + 1];\n    tempArr[0] = element;\n    System.arraycopy(elements, 0, tempArr, 1, elements.length);\n}\n</code></pre>\n<p>Now, what is the problem?  Well, not a big problem but now you need to declare your array as <code>Object[]</code> and use this kind of declaration to work with it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object[] foo = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;};\n\n//adding an element to the beginning array\nObject[] numbers = add2BeginningOfArray(foo, &quot;1&quot;);\nSystem.out.println(Arrays.toString(numbers));\n</code></pre>\n<p>For me the <code>generics</code> approach is cleaner and more scalable, so I really recommend it over the <code>Object</code> approach.</p>\n"},{"tags":[],"owner":{"account_id":8434780,"reputation":669,"user_id":6329250,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546859031,"creation_date":1543571612,"answer_id":53555082,"question_id":36807712,"body_markdown":"Apache Commons Lang class &#39;ArrayUtils&#39; makes this very easy, if that is an option for you:\r\n\r\n    char[] arrayA = {&#39;b&#39;, &#39;c&#39;};\r\n\tchar[] arrayB = ArrayUtils.add(arrayA, 0, &#39;a&#39;);\r\n    // arrayB: [a, b, c]","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Apache Commons Lang class 'ArrayUtils' makes this very easy, if that is an option for you:</p>\n\n<pre><code>char[] arrayA = {'b', 'c'};\nchar[] arrayB = ArrayUtils.add(arrayA, 0, 'a');\n// arrayB: [a, b, c]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4020618,"reputation":46,"user_id":3311110,"display_name":"user3311110"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545851695,"creation_date":1545851695,"answer_id":53936189,"question_id":36807712,"body_markdown":"Considering this source\r\n\r\nhttps://www.journaldev.com/763/java-array-add-elements\r\n\r\nyou can add new elements at the beginning of you array by doing this:\r\n\r\n        public static Object[] add(Object[] arr, Object... elements){\r\n        Object[] tempArr = new Object[arr.length+elements.length];\r\n        System.arraycopy(arr, 0, tempArr, elements.length, arr.length);\r\n\r\n        for(int i=0; i &lt; elements.length; i++)\r\n            tempArr[i] = elements[i];\r\n        return tempArr;\r\n\r\n    }","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Considering this source</p>\n\n<p><a href=\"https://www.journaldev.com/763/java-array-add-elements\" rel=\"nofollow noreferrer\">https://www.journaldev.com/763/java-array-add-elements</a></p>\n\n<p>you can add new elements at the beginning of you array by doing this:</p>\n\n<pre><code>    public static Object[] add(Object[] arr, Object... elements){\n    Object[] tempArr = new Object[arr.length+elements.length];\n    System.arraycopy(arr, 0, tempArr, elements.length, arr.length);\n\n    for(int i=0; i &lt; elements.length; i++)\n        tempArr[i] = elements[i];\n    return tempArr;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553195172,"creation_date":1553195172,"answer_id":55287614,"question_id":36807712,"body_markdown":"here&#39;s a concrete example of the simplest way I could find:\r\n\r\n    \tList&lt;StackTraceElement&gt; stack = new ArrayList&lt;StackTraceElement&gt; (Arrays.asList (e.getStackTrace()));\r\n\t\tstack.add (0, new StackTraceElement (&quot;class&quot;, &quot;method&quot;, &quot;file&quot;, 25439));\r\n\t\tStackTraceElement[] newStack = new StackTraceElement[stack.size()];\r\n\t\tnewStack = stack.toArray (newStack);  \r\n\t\te.setStackTrace (newStack);\r\n\r\nBasically it uses `java.util.Arrays.asList()` to turn the array into a `List`, adds to the list and then turns the list back into an array with `List.toArray()`.\r\n\r\nAs everybody has said, you can&#39;t really add to the beginning of an array unless you shift all the elements by one first, or as in my solution, you make a new array.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>here's a concrete example of the simplest way I could find:</p>\n\n<pre><code>    List&lt;StackTraceElement&gt; stack = new ArrayList&lt;StackTraceElement&gt; (Arrays.asList (e.getStackTrace()));\n    stack.add (0, new StackTraceElement (\"class\", \"method\", \"file\", 25439));\n    StackTraceElement[] newStack = new StackTraceElement[stack.size()];\n    newStack = stack.toArray (newStack);  \n    e.setStackTrace (newStack);\n</code></pre>\n\n<p>Basically it uses <code>java.util.Arrays.asList()</code> to turn the array into a <code>List</code>, adds to the list and then turns the list back into an array with <code>List.toArray()</code>.</p>\n\n<p>As everybody has said, you can't really add to the beginning of an array unless you shift all the elements by one first, or as in my solution, you make a new array.</p>\n"},{"tags":[],"owner":{"account_id":21242194,"reputation":11,"user_id":15625474,"display_name":"Lukas"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1618336566,"creation_date":1618336566,"answer_id":67080054,"question_id":36807712,"body_markdown":"Just .unshift()\r\n\r\nThis adds an element to the beginning of an array.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Just .unshift()</p>\n<p>This adds an element to the beginning of an array.</p>\n"},{"tags":[],"owner":{"account_id":9269537,"reputation":722,"user_id":6883983,"display_name":"Roman Lototskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682155462,"creation_date":1682154605,"answer_id":76078855,"question_id":36807712,"body_markdown":"I used this method:\r\n\r\n    public void addFront(Item item) { //add item to the front\r\n        Item temp = arr[0];\r\n        arr[0] = item;\r\n        for (int i = 1; i &lt; arr.length - 1; i++) {\r\n            Item temp2 = arr[i];\r\n            arr[i] = temp;\r\n            temp = temp2;\r\n        }\r\n    }\r\n\r\nStill you shoud manage resising or ArrayIndexOutOfBoundsException in case you add more elements than initially predifined length of your array. \r\nIt was exercise 3.5.27 from &quot;Algorithms&quot; fourth edition from Robert Sedgewick &amp; Kevin Wayne.\r\n","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>I used this method:</p>\n<pre><code>public void addFront(Item item) { //add item to the front\n    Item temp = arr[0];\n    arr[0] = item;\n    for (int i = 1; i &lt; arr.length - 1; i++) {\n        Item temp2 = arr[i];\n        arr[i] = temp;\n        temp = temp2;\n    }\n}\n</code></pre>\n<p>Still you shoud manage resising or ArrayIndexOutOfBoundsException in case you add more elements than initially predifined length of your array.\nIt was exercise 3.5.27 from &quot;Algorithms&quot; fourth edition from Robert Sedgewick &amp; Kevin Wayne.</p>\n"}],"owner":{"account_id":253349,"reputation":7254,"user_id":531984,"accept_rate":67,"display_name":"Eminem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43082,"favorite_count":0,"down_vote_count":6,"up_vote_count":16,"accepted_answer_id":36808293,"answer_count":10,"score":10,"last_activity_date":1682155462,"creation_date":1461394745,"question_id":36807712,"body_markdown":"I need the **simplest** way to add an item to the front of an Java array.  \r\nI need the Java array NOT the ArrayList.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>I need the <strong>simplest</strong> way to add an item to the front of an Java array.<br />\nI need the Java array NOT the ArrayList.</p>\n"},{"tags":["java","file-io","iostream","inputstream","outputstream"],"comments":[{"owner":{"account_id":10448,"reputation":91684,"user_id":19746,"accept_rate":91,"display_name":"Piskvor left the building"},"score":0,"creation_date":1303564172,"post_id":5764323,"comment_id":6601478,"body_markdown":"Could you read the whole file as a byte stream, then find your delimiters in there, put the parts into byte arrays and read those as the respective streams?","body":"Could you read the whole file as a byte stream, then find your delimiters in there, put the parts into byte arrays and read those as the respective streams?"},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303564578,"post_id":5764323,"comment_id":6601515,"body_markdown":"That may work up until the object that needs to be read, but I feel there might be a more direct way.","body":"That may work up until the object that needs to be read, but I feel there might be a more direct way."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303565249,"creation_date":1303565249,"answer_id":5764422,"question_id":5764323,"body_markdown":"Redesign the file. There is no sensible way of implementing it as presently designed. For example the object presupposes an ObjectOutputStream, which has a header - where&#39;s that going to go? And how are you going to know where to switch from bytes to chars?\r\n\r\nI would probably use an ObjectOutputStream for the whole thing and write everything as objects. Then Serialization solves all those problems for you. After all you don&#39;t actually care what&#39;s in the file, only how to read and write it.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Redesign the file. There is no sensible way of implementing it as presently designed. For example the object presupposes an ObjectOutputStream, which has a header - where's that going to go? And how are you going to know where to switch from bytes to chars?</p>\n\n<p>I would probably use an ObjectOutputStream for the whole thing and write everything as objects. Then Serialization solves all those problems for you. After all you don't actually care what's in the file, only how to read and write it.</p>\n"},{"tags":[],"owner":{"account_id":325673,"reputation":1405,"user_id":646998,"accept_rate":83,"display_name":"Christopher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303571781,"creation_date":1303571781,"answer_id":5765000,"question_id":5764323,"body_markdown":"Can you change the structure of the file? It is unclear because the first sentence of your question contradicts being able to add delineators. If you &lt;b&gt;can&lt;/b&gt; change the file structure you could output the different data types into separate files. I would consider this the &#39;proper&#39; way to delineate the data streams.\r\n\r\nIf you are stuck with the file the way it is then you will need to write an interface to the file&#39;s structure which in practice is a shopping list of read operations and a lot of exception handling. A hackish way to program because it will require a hex editor and a lot of trial and error but it works in certain cases.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Can you change the structure of the file? It is unclear because the first sentence of your question contradicts being able to add delineators. If you <b>can</b> change the file structure you could output the different data types into separate files. I would consider this the 'proper' way to delineate the data streams.</p>\n\n<p>If you are stuck with the file the way it is then you will need to write an interface to the file's structure which in practice is a shopping list of read operations and a lot of exception handling. A hackish way to program because it will require a hex editor and a lot of trial and error but it works in certain cases.</p>\n"},{"tags":[],"owner":{"account_id":106190,"reputation":9362,"user_id":282968,"accept_rate":73,"display_name":"MJB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303583545,"creation_date":1303583545,"answer_id":5766087,"question_id":5764323,"body_markdown":"Why not write the file as XML, possibly with a nice simple library like XSTream. If you are concerned about space, wrap it in gzip compression.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Why not write the file as XML, possibly with a nice simple library like XSTream. If you are concerned about space, wrap it in gzip compression.</p>\n"},{"tags":[],"owner":{"account_id":211113,"reputation":376,"user_id":463100,"display_name":"Noah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303596631,"creation_date":1303596631,"answer_id":5767287,"question_id":5764323,"body_markdown":"If you have control over the file format, and it&#39;s not an exceptionally large file (i.e. &lt; 1 GiB), have you thought about using Google&#39;s Protocol Buffers?\r\n\r\nThey generate code that parses (and serializes) file/byte[] content. Protocol buffers use a tagging approach on every value that includes (1) field number and (2) a type, so they have nice properties such as forward/backward compatability with optional fields etc. They are fairly well optimized for both speed and file size, adding only ~2 bytes of overhead for a short byte[], with ~2-4 additional bytes to encode the length on larger byte[] fields (VarInt encoded lengths).\r\n\r\nThis could be overkill, but if you have a bunch of different fields &amp; types, protobuf is really helpful. See: http://code.google.com/p/protobuf/.\r\n\r\nAn alternative is Thrift by Facebook, with support for a few more languages although possibly less use in the wild last I checked.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>If you have control over the file format, and it's not an exceptionally large file (i.e. &lt; 1 GiB), have you thought about using Google's Protocol Buffers?</p>\n\n<p>They generate code that parses (and serializes) file/byte[] content. Protocol buffers use a tagging approach on every value that includes (1) field number and (2) a type, so they have nice properties such as forward/backward compatability with optional fields etc. They are fairly well optimized for both speed and file size, adding only ~2 bytes of overhead for a short byte[], with ~2-4 additional bytes to encode the length on larger byte[] fields (VarInt encoded lengths).</p>\n\n<p>This could be overkill, but if you have a bunch of different fields &amp; types, protobuf is really helpful. See: <a href=\"http://code.google.com/p/protobuf/\" rel=\"nofollow\">http://code.google.com/p/protobuf/</a>.</p>\n\n<p>An alternative is Thrift by Facebook, with support for a few more languages although possibly less use in the wild last I checked.</p>\n"},{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1303597962,"creation_date":1303597962,"answer_id":5767410,"question_id":5764323,"body_markdown":"As **EJP** already suggested, use ObjectOutputStream and ObjectInputStream an0d wrap your other elements as an object(s). I&#39;m giving as an answer so I could show an example (it&#39;s hard to do it in comment) EJP - if you want to embed it in your question, please do and I&#39;ll delete the answer.\r\n\r\n    class MyWrapedData implements serializeable{\r\n        private String string1;\r\n        private String string2;\r\n        private char   char1;\r\n        // constructors\r\n        // getters setters\r\n    }\r\n\r\nWrite to file:\r\n\r\n    ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(fileName));\r\n    out.writeObject(myWrappedDataInstance);\r\n    out.flush();\r\n\r\nRead from file\r\n\r\n    ObjectInputStream in = new ObjectInputStream(new FileInputStream(fileName));\r\n    Object obj = in.readObject();\r\n    MyWrapedData wraped = null;\r\n    if ((obj != null) &amp;&amp; (obj instanceof MyWrappedData))\r\n        wraped = (MyWrapedData)obj;\r\n    // get the specific elements from the wraped object\r\n\r\nsee very clear example here: [Read][1] and [Write][2]\r\n\r\n\r\n  [1]: http://www.javadb.com/reading-objects-from-file-using-objectinputstream\r\n  [2]: http://www.javadb.com/writing-objects-to-file-with-objectoutputstream","title":"What is the proper way to write/read a file with different IO streams","body":"<p>As <strong>EJP</strong> already suggested, use ObjectOutputStream and ObjectInputStream an0d wrap your other elements as an object(s). I'm giving as an answer so I could show an example (it's hard to do it in comment) EJP - if you want to embed it in your question, please do and I'll delete the answer.</p>\n\n<pre><code>class MyWrapedData implements serializeable{\n    private String string1;\n    private String string2;\n    private char   char1;\n    // constructors\n    // getters setters\n}\n</code></pre>\n\n<p>Write to file:</p>\n\n<pre><code>ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(fileName));\nout.writeObject(myWrappedDataInstance);\nout.flush();\n</code></pre>\n\n<p>Read from file</p>\n\n<pre><code>ObjectInputStream in = new ObjectInputStream(new FileInputStream(fileName));\nObject obj = in.readObject();\nMyWrapedData wraped = null;\nif ((obj != null) &amp;&amp; (obj instanceof MyWrappedData))\n    wraped = (MyWrapedData)obj;\n// get the specific elements from the wraped object\n</code></pre>\n\n<p>see very clear example here: <a href=\"http://www.javadb.com/reading-objects-from-file-using-objectinputstream\" rel=\"nofollow\">Read</a> and <a href=\"http://www.javadb.com/writing-objects-to-file-with-objectoutputstream\" rel=\"nofollow\">Write</a></p>\n"},{"tags":[],"owner":{"account_id":327864,"reputation":51,"user_id":650483,"display_name":"Thiago Veronezi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306861141,"creation_date":1306861141,"answer_id":6190945,"question_id":5764323,"body_markdown":"If the structure of your file is not fixed, consider using a wrapper per type. First you need to create the interface of your wrapper classes….\r\n\r\n&lt;pre&gt;\r\ninterface MyWrapper extends Serializable {\r\n\tvoid accept(MyWrapperVisitor visitor);\r\n}\r\n&lt;/pre&gt;\r\n\r\nThen you create the MyWrapperVisitor interface…\r\n\r\n&lt;pre&gt;\r\ninterface MyWrapperVisitor {\r\n\tvoid visit(MyString wrapper);\r\n\tvoid visit(MyChar wrapper);\r\n\tvoid visit(MyLong wrapper);\r\n\tvoid visit(MyCustomObject wrapper);\r\n}\r\n&lt;/pre&gt;\r\n\r\nThen you create your wrapper classes…\r\n\r\n&lt;pre&gt;\r\nclass MyString implements MyWrapper {\r\n\tpublic final String value;\r\n\r\n\tpublic MyString(String value) {\r\n\t\tsuper();\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void accept(MyWrapperVisitor visitor) {\r\n\t\tvisitor.visit(this);\r\n\t\t\r\n\t}\r\n}\r\n.\r\n.\r\n.\r\n&lt;/pre&gt;\r\n\r\nAnd finally you read your objects…\r\n\r\n&lt;pre&gt;\r\nfinal InputStream in = new FileInputStream(myfile);\r\nfinal ObjectInputStream objIn = new ObjectInputStream(in);\r\nfinal MyWrapperVisitor visitor = new MyWrapperVisitor() {\r\n\t@Override\r\n\tpublic void visit(MyString wrapper) {\r\n\t\t//your logic here\r\n\t\t\r\n\t}\r\n\t.\r\n\t.\r\n\t.\r\n};\r\n\r\n//loop over all your objects here\r\nfinal MyWrapper wrapper = (MyWrapper) objIn.readObject();\r\nwrapper.accept(visitor);\r\n&lt;/pre&gt;","title":"What is the proper way to write/read a file with different IO streams","body":"<p>If the structure of your file is not fixed, consider using a wrapper per type. First you need to create the interface of your wrapper classes….</p>\n\n<pre>\ninterface MyWrapper extends Serializable {\n    void accept(MyWrapperVisitor visitor);\n}\n</pre>\n\n<p>Then you create the MyWrapperVisitor interface…</p>\n\n<pre>\ninterface MyWrapperVisitor {\n    void visit(MyString wrapper);\n    void visit(MyChar wrapper);\n    void visit(MyLong wrapper);\n    void visit(MyCustomObject wrapper);\n}\n</pre>\n\n<p>Then you create your wrapper classes…</p>\n\n<pre>\nclass MyString implements MyWrapper {\n    public final String value;\n\n    public MyString(String value) {\n        super();\n        this.value = value;\n    }\n\n    @Override\n    public void accept(MyWrapperVisitor visitor) {\n        visitor.visit(this);\n\n    }\n}\n.\n.\n.\n</pre>\n\n<p>And finally you read your objects…</p>\n\n<pre>\nfinal InputStream in = new FileInputStream(myfile);\nfinal ObjectInputStream objIn = new ObjectInputStream(in);\nfinal MyWrapperVisitor visitor = new MyWrapperVisitor() {\n    @Override\n    public void visit(MyString wrapper) {\n        //your logic here\n\n    }\n    .\n    .\n    .\n};\n\n//loop over all your objects here\nfinal MyWrapper wrapper = (MyWrapper) objIn.readObject();\nwrapper.accept(visitor);\n</pre>\n"}],"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5767410,"answer_count":6,"score":2,"last_activity_date":1682154308,"creation_date":1303563898,"question_id":5764323,"body_markdown":"I have a file that contains bytes, chars, and an object, all of which need to be written then read.  What would be the best way to utilize Java&#39;s different IO streams for writing and reading these data types?  \r\n\r\nMore specifically, is there a proper way to add delimiters and recognize those delimiters, then triggering what stream should be used?  I believe I need some clarification on using multiple streams in the same file, something I have never studied before.  A thorough explanation would be a sufficient answer.\r\n","title":"What is the proper way to write/read a file with different IO streams","body":"<p>I have a file that contains bytes, chars, and an object, all of which need to be written then read.  What would be the best way to utilize Java's different IO streams for writing and reading these data types?</p>\n<p>More specifically, is there a proper way to add delimiters and recognize those delimiters, then triggering what stream should be used?  I believe I need some clarification on using multiple streams in the same file, something I have never studied before.  A thorough explanation would be a sufficient answer.</p>\n"},{"tags":["java","android","kotlin","gradle","build"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1682151321,"post_id":76078578,"comment_id":134172962,"body_markdown":"`None of us have ever worked with android before` ?? I think you mean: `None of us have ever worked with Android Studio before`. Add that tag. You have problems with Android Studio. Not with Android.","body":"<code>None of us have ever worked with android before</code> ?? I think you mean: <code>None of us have ever worked with Android Studio before</code>. Add that tag. You have problems with Android Studio. Not with Android."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1682152794,"post_id":76078578,"comment_id":134173084,"body_markdown":"I disagree. The issue is with the Gradle build, and has nothing to do with the IDE. It would be exactly the same on the command line. Nothing in this question is specific to Android Studio, so it would be an inappropriate tag for this question.","body":"I disagree. The issue is with the Gradle build, and has nothing to do with the IDE. It would be exactly the same on the command line. Nothing in this question is specific to Android Studio, so it would be an inappropriate tag for this question."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682151984,"creation_date":1682151984,"answer_id":76078690,"question_id":76078578,"body_markdown":"`lifecycle-extensions` was discontinued after version 2.2.0, but you are specifying version 2.6.1. You can remove this line:\r\n\r\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\r\n\r\nYou are already using the various `-ktx` versions of the lifecycle libraries, which is now the correct way to get the extensions.\r\n\r\nIn your `buildscript` block in the other file, you should replace `jcenter()` with `mavenCentral()` and you can remove the following, since it is redundant to using `google()`:\r\n\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p><code>lifecycle-extensions</code> was discontinued after version 2.2.0, but you are specifying version 2.6.1. You can remove this line:</p>\n<pre><code>implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\n</code></pre>\n<p>You are already using the various <code>-ktx</code> versions of the lifecycle libraries, which is now the correct way to get the extensions.</p>\n<p>In your <code>buildscript</code> block in the other file, you should replace <code>jcenter()</code> with <code>mavenCentral()</code> and you can remove the following, since it is redundant to using <code>google()</code>:</p>\n<pre><code>    maven {\n        url &quot;https://maven.google.com&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682153811,"creation_date":1682153811,"answer_id":76078802,"question_id":76078578,"body_markdown":"You are trying to import version 2.6.1 of the `android.arch.lifecycle:extensions` library which does not exist.\r\n\r\nAccording to the [Google maven repository](https://maven.google.com/web/m_index.html#android.arch.lifecycle:extensions:1.1.1) the latest version is 1.1.1. ","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p>You are trying to import version 2.6.1 of the <code>android.arch.lifecycle:extensions</code> library which does not exist.</p>\n<p>According to the <a href=\"https://maven.google.com/web/m_index.html#android.arch.lifecycle:extensions:1.1.1\" rel=\"nofollow noreferrer\">Google maven repository</a> the latest version is 1.1.1.</p>\n"}],"owner":{"account_id":28377965,"reputation":13,"user_id":21705710,"display_name":"epicobadah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76078690,"answer_count":2,"score":1,"last_activity_date":1682153811,"creation_date":1682150001,"question_id":76078578,"body_markdown":"So I have a group project I am working on in which we are developing an android app. None of us have ever worked with android before, and have been largely learning off of youtube tutorials. We&#39;ve been having success, but as I finished with my component, I started getting errors on build and I have no idea what they mean.[Build errors, therest of which just saying the debug failed.](https://i.stack.imgur.com/jIibH.png) it seems like it may just be dependencies or gradle issues, but most of the project is in java and I did this in kotlin so maybe that&#39;s an issue, but I am not sure what to do. \r\n\r\n\r\nBelow are the dependencies in my build.gradle(Module:app)\r\n\r\n```\r\ndependencies {\r\n\r\n    def lifecycle_version = &quot;2.6.1&quot;\r\n    def nav_version = &quot;2.5.3&quot;\r\n    def recyclerview_version = &quot;1.3.0&quot;\r\n    def material_version = &quot;1.4.0-alpha01&quot;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.5.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-firestore:8.0.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    // ViewModel\r\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\r\n    // LiveData\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\r\n\r\n    // Navigation\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n\r\n    // recyclerview\r\n    implementation &quot;androidx.recyclerview:recyclerview:$recyclerview_version&quot;\r\n\r\n    // material\r\n    implementation &quot;com.google.android.material:material:$material_version&quot;\r\n\r\n\r\n    //OTP PIN\r\n}\r\n```\r\n\r\nand below here is my entire build.gradle(project)\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.4.31&quot;\r\n    repositories{\r\n        google()\r\n        jcenter()\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.5.3&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n}\r\n```\r\n\r\n\r\n\r\nI wasn&#39;t really sure what to try, but I went and tried to update the versions of implementations like lifecycle, navigation, recyclerview and material. None of these seemed to have worked though. I also tried adding maven to my repositories, but seemingly to no success. I am not sure if this is an error with my actual code, as the project is mostly java but I did my component in kotlin, but I didn&#39;t think that should be an issue, and the errors seem to be build/gradle related. Any help/ideas is appreciated.","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p>So I have a group project I am working on in which we are developing an android app. None of us have ever worked with android before, and have been largely learning off of youtube tutorials. We've been having success, but as I finished with my component, I started getting errors on build and I have no idea what they mean.<a href=\"https://i.stack.imgur.com/jIibH.png\" rel=\"nofollow noreferrer\">Build errors, therest of which just saying the debug failed.</a> it seems like it may just be dependencies or gradle issues, but most of the project is in java and I did this in kotlin so maybe that's an issue, but I am not sure what to do.</p>\n<p>Below are the dependencies in my build.gradle(Module:app)</p>\n<pre><code>dependencies {\n\n    def lifecycle_version = &quot;2.6.1&quot;\n    def nav_version = &quot;2.5.3&quot;\n    def recyclerview_version = &quot;1.3.0&quot;\n    def material_version = &quot;1.4.0-alpha01&quot;\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth-ktx:21.3.0'\n    implementation 'com.google.firebase:firebase-auth:21.3.0'\n    implementation 'com.google.firebase:firebase-firestore:24.5.0'\n    implementation 'com.firebaseui:firebase-ui-firestore:8.0.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    // ViewModel\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\n    // LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\n\n    // Navigation\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n    // recyclerview\n    implementation &quot;androidx.recyclerview:recyclerview:$recyclerview_version&quot;\n\n    // material\n    implementation &quot;com.google.android.material:material:$material_version&quot;\n\n\n    //OTP PIN\n}\n</code></pre>\n<p>and below here is my entire build.gradle(project)</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.4.31&quot;\n    repositories{\n        google()\n        jcenter()\n        maven {\n            url &quot;https://maven.google.com&quot;\n        }\n    }\n    dependencies {\n        def nav_version = &quot;2.5.3&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n<p>I wasn't really sure what to try, but I went and tried to update the versions of implementations like lifecycle, navigation, recyclerview and material. None of these seemed to have worked though. I also tried adding maven to my repositories, but seemingly to no success. I am not sure if this is an error with my actual code, as the project is mostly java but I did my component in kotlin, but I didn't think that should be an issue, and the errors seem to be build/gradle related. Any help/ideas is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jackson","java-17"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1682157626,"post_id":76078716,"comment_id":134173532,"body_markdown":"Can&#39;t test right now, but if I remember correctly you need to use `@JsonProperty` on every parameter in the constructor.","body":"Can&#39;t test right now, but if I remember correctly you need to use <code>@JsonProperty</code> on every parameter in the constructor."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1682157661,"post_id":76078716,"comment_id":134173540,"body_markdown":"Which version of Jackson are you using? https://github.com/FasterXML/jackson-databind/issues/2709","body":"Which version of Jackson are you using? <a href=\"https://github.com/FasterXML/jackson-databind/issues/2709\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/2709</a>"},{"owner":{"account_id":12672203,"reputation":27,"user_id":9209365,"display_name":"Binary"},"score":0,"creation_date":1682163063,"post_id":76078716,"comment_id":134174091,"body_markdown":"Adding `@JsonProperty` fixed it for me. Strange how it works without it in 2 other dtos I have, but it doesn&#39;t on this one. thanks, @chaosfire","body":"Adding <code>@JsonProperty</code> fixed it for me. Strange how it works without it in 2 other dtos I have, but it doesn&#39;t on this one. thanks, @chaosfire"}],"owner":{"account_id":12672203,"reputation":27,"user_id":9209365,"display_name":"Binary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682153190,"creation_date":1682152407,"question_id":76078716,"body_markdown":"I have a method in a rest controller that takes a JSON request body and should deserialize it into a record called TransactionDTO, but it keeps giving me the error: `Could not resolve parameter [0] in private org.springframework.http.ResponseEntity&lt;com.web.store.app.backend.dto.TransactionDTO&gt; com.web.store.app.backend.controller.TransactionController.saveTransaction(com.web.store.app.backend.dto.TransactionDTO): JSON parse error: Can not set final java.util.List field com.web.store.app.backend.dto.TransactionDTO.productIds to java.util.ArrayList`\r\n\r\nI know that the problem is because I am using a record. When I change it to a class and remove the final from the parameters it works, but I want to avoid using a class as a DTO if possible.\r\n\r\nthe method:\r\n\r\n```\r\n    @PostMapping(value = &quot;add&quot;)\r\n    private ResponseEntity&lt;TransactionDTO&gt; saveTransaction(@Valid @RequestBody TransactionDTO transactionDTO) {\r\n\r\n        return transactionService.saveTransaction(transactionDTO).map(\r\n                transaction -&gt; ResponseEntity.status(HttpStatus.CREATED).body(transaction)).orElseGet(\r\n                () -&gt; ResponseEntity\r\n                        .status(HttpStatus.BAD_REQUEST)\r\n                        .build());\r\n    }\r\n```\r\n\r\nTransactionDTO:\r\n\r\n```\r\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\npublic record TransactionDTO(String id, Long userId,\r\n                             @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mmXXX&quot;, shape = JsonFormat.Shape.STRING)\r\n                             ZonedDateTime createdAt, List&lt;String&gt; productIds) {}\r\n```\r\n\r\nThe request used:\r\n\r\n`curl --location &#39;localhost:8080/transaction/api/add&#39; \\ --header &#39;Content-Type: application/json&#39; \\ --data &#39;{     &quot;id&quot;: &quot;TRNS03&quot;,     &quot;user_id&quot;: 1,     &quot;created_at&quot;:&quot;2023-03-19T06:33-06:00&quot;,     &quot;product_ids&quot;:[&quot;PRD003&quot;] }&#39;`\r\n\r\n","title":"Deserializing a JSON into a record causes JSON parse error","body":"<p>I have a method in a rest controller that takes a JSON request body and should deserialize it into a record called TransactionDTO, but it keeps giving me the error: <code>Could not resolve parameter [0] in private org.springframework.http.ResponseEntity&lt;com.web.store.app.backend.dto.TransactionDTO&gt; com.web.store.app.backend.controller.TransactionController.saveTransaction(com.web.store.app.backend.dto.TransactionDTO): JSON parse error: Can not set final java.util.List field com.web.store.app.backend.dto.TransactionDTO.productIds to java.util.ArrayList</code></p>\n<p>I know that the problem is because I am using a record. When I change it to a class and remove the final from the parameters it works, but I want to avoid using a class as a DTO if possible.</p>\n<p>the method:</p>\n<pre><code>    @PostMapping(value = &quot;add&quot;)\n    private ResponseEntity&lt;TransactionDTO&gt; saveTransaction(@Valid @RequestBody TransactionDTO transactionDTO) {\n\n        return transactionService.saveTransaction(transactionDTO).map(\n                transaction -&gt; ResponseEntity.status(HttpStatus.CREATED).body(transaction)).orElseGet(\n                () -&gt; ResponseEntity\n                        .status(HttpStatus.BAD_REQUEST)\n                        .build());\n    }\n</code></pre>\n<p>TransactionDTO:</p>\n<pre><code>@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic record TransactionDTO(String id, Long userId,\n                             @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mmXXX&quot;, shape = JsonFormat.Shape.STRING)\n                             ZonedDateTime createdAt, List&lt;String&gt; productIds) {}\n</code></pre>\n<p>The request used:</p>\n<p><code>curl --location 'localhost:8080/transaction/api/add' \\ --header 'Content-Type: application/json' \\ --data '{     &quot;id&quot;: &quot;TRNS03&quot;,     &quot;user_id&quot;: 1,     &quot;created_at&quot;:&quot;2023-03-19T06:33-06:00&quot;,     &quot;product_ids&quot;:[&quot;PRD003&quot;] }'</code></p>\n"},{"tags":["java","date","enums","java.util.scanner"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682151950,"post_id":76078060,"comment_id":134173016,"body_markdown":"Using enums is a good idea. You need not create your own `Month` enum, it is built in already, and it’s better not to &quot;reinvent the wheel&quot;. Inport `java.time.Month`. You may consider an enum for the astrological signs too. Inside each of the cases of your switch statement you will still need if-else for choosing between the two possible Zodiac sings for that month.","body":"Using enums is a good idea. You need not create your own <code>Month</code> enum, it is built in already, and it’s better not to &quot;reinvent the wheel&quot;. Inport <code>java.time.Month</code>. You may consider an enum for the astrological signs too. Inside each of the cases of your switch statement you will still need if-else for choosing between the two possible Zodiac sings for that month."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682152336,"post_id":76078060,"comment_id":134173043,"body_markdown":"It may not be what your mentor intended, but for production code one would use a `DateTimeFormatter.ofPattern(&quot;MMMM&quot;, Locale.ENGLISH)` and convert into a `Month` enum value using `Month.from(yourDateTimeFormatter.parse(userInputString))`.","body":"It may not be what your mentor intended, but for production code one would use a <code>DateTimeFormatter.ofPattern(&quot;MMMM&quot;, Locale.ENGLISH)</code> and convert into a <code>Month</code> enum value using <code>Month.from(yourDateTimeFormatter.parse(userInputString))</code>."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682181547,"post_id":76078060,"comment_id":134176439,"body_markdown":"I think what I&#39;m confused on is how I implement this with my scanner input, I&#39;m not sure If the way I&#39;ve constructed the program makes it out of scope or not","body":"I think what I&#39;m confused on is how I implement this with my scanner input, I&#39;m not sure If the way I&#39;ve constructed the program makes it out of scope or not"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682191087,"post_id":76078060,"comment_id":134177601,"body_markdown":"I had intended `userInputString` to be the string read from the user through your scanner -- what is caled  `birthMonth` in your code, yes, sorry, using a different name was confusing.","body":"I had intended <code>userInputString</code> to be the string read from the user through your scanner -- what is caled  <code>birthMonth</code> in your code, yes, sorry, using a different name was confusing."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682192936,"post_id":76078060,"comment_id":134177822,"body_markdown":"Thank you. I think another issue I&#39;m having Is I&#39;m not sure if these methods should be in the main method or outside of it. When It&#39;s outside the main method I&#39;m struggling to understand what&#39;s actually supposed to be in my main method. This challenge is really exposing what I do and don&#39;t know lol","body":"Thank you. I think another issue I&#39;m having Is I&#39;m not sure if these methods should be in the main method or outside of it. When It&#39;s outside the main method I&#39;m struggling to understand what&#39;s actually supposed to be in my main method. This challenge is really exposing what I do and don&#39;t know lol"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682193409,"post_id":76078060,"comment_id":134177883,"body_markdown":"I understand. It’s a design decision what to put where, so there isn’t just one correct answer. Options include: (1) Put it in the `main` method and pass the `Month` object obtained as argument to the method you are calling. (2) Pass the string from the user to the method and convert to `Month` inside the method. (3) Code a separate method for reading the user input and converting it. This method would then return a `Month` object after having read the input through the scanner and converted.","body":"I understand. It’s a design decision what to put where, so there isn’t just one correct answer. Options include: (1) Put it in the <code>main</code> method and pass the <code>Month</code> object obtained as argument to the method you are calling. (2) Pass the string from the user to the method and convert to <code>Month</code> inside the method. (3) Code a separate method for reading the user input and converting it. This method would then return a <code>Month</code> object after having read the input through the scanner and converted."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682194831,"post_id":76078060,"comment_id":134178029,"body_markdown":"also I&#39;m having a problem where im trying to switch for each case, but i keep getting &quot;January cannot be resolved to a variable&quot; when trying to pass in the user input for each case. I&#39;m using switch(Month.valueOf(birthMonth)) and I&#39;m unsure why this doesn&#39;t work","body":"also I&#39;m having a problem where im trying to switch for each case, but i keep getting &quot;January cannot be resolved to a variable&quot; when trying to pass in the user input for each case. I&#39;m using switch(Month.valueOf(birthMonth)) and I&#39;m unsure why this doesn&#39;t work"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682198644,"post_id":76078060,"comment_id":134178458,"body_markdown":"If you are using the built-in `Month` enum, the constants are named `JANUARY`, etc., in all uppercase (this follows the Java naming conventions). So you need `switch (Month.valueOf(birthMonth.toUpperCase()))` and then `case Month.JANUARY:`,, etc.","body":"If you are using the built-in <code>Month</code> enum, the constants are named <code>JANUARY</code>, etc., in all uppercase (this follows the Java naming conventions). So you need <code>switch (Month.valueOf(birthMonth.toUpperCase()))</code> and then <code>case Month.JANUARY:</code>,, etc."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682139114,"creation_date":1682139114,"answer_id":76078076,"question_id":76078060,"body_markdown":"You can use the `valueOf` method on the `enum` type to convert a `String` to the corresponding enum.\r\n\r\n```java\r\nswitch (Month.valueOf(birthMonth)) {\r\ncase January -&gt; System.out.println(&quot;January&quot;); // or do something else...\r\n// etc...\r\n}\r\n```\r\n\r\nYou might also want to catch `IllegalArgumentException` in case the user enters an invalid month.","title":"How to combine scanner input and enum for months of the year?","body":"<p>You can use the <code>valueOf</code> method on the <code>enum</code> type to convert a <code>String</code> to the corresponding enum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (Month.valueOf(birthMonth)) {\ncase January -&gt; System.out.println(&quot;January&quot;); // or do something else...\n// etc...\n}\n</code></pre>\n<p>You might also want to catch <code>IllegalArgumentException</code> in case the user enters an invalid month.</p>\n"}],"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682152393,"creation_date":1682138643,"question_id":76078060,"body_markdown":"I&#39;m trying to play around with a program I made to tell you what your zodiac sign is and previously I was just running scannner inuput through if statements to determine the sign given birth month and birth day. Now my mentor has challenged me to use enum and switching between months of the year. My problem is conceptually I&#39;m very confused as to how to bring these two concepts together\r\n\r\nHere&#39;s my code below so far but I&#39;m really just shooting in the dark here\r\n```\r\nimport java.util.Scanner;\r\n\r\nenum Month {\r\n    \r\nJanuary,\r\nFebruary,\r\nMarch,\r\nApril,\r\nMay,\r\nJune,\r\nJuly,\r\nAugust,\r\nSeptember,\r\nOctober,\r\nNovember,\r\nDecember\r\n}\r\n\r\nclass MyStarSign3 {\r\n\r\n    Month month;\r\n\r\n    public EnumTest(Month month) {\r\n\r\n        this.month = month;\r\n    }\r\n\r\n    public void monthBorn() {\r\n        switch (month) {\r\n\r\n            case January:\r\n\r\n\r\n            case February:\r\n\r\n\r\n            case March:\r\n\r\n\r\n            case April:\r\n\r\n\r\n            case May:\r\n\r\n\r\n            case June: \r\n\r\n\r\n            case July:\r\n\r\n\r\n            case August:\r\n\r\n\r\n            case September:\r\n\r\n\r\n            case October:\r\n\r\n\r\n            case November:\r\n\r\n\r\n            case December:\r\n\r\n\r\n            default:\r\n\r\n\r\n                \r\n        }\r\n    }\r\n\r\n\r\n                public static void main(String[] args) {\r\n\r\n                        Scanner monthInput = new Scanner(System.in);\r\n\r\n                        String birthMonth = monthInput.nextLine();\r\n\r\n                }\r\n\r\n}\r\n```","title":"How to combine scanner input and enum for months of the year?","body":"<p>I'm trying to play around with a program I made to tell you what your zodiac sign is and previously I was just running scannner inuput through if statements to determine the sign given birth month and birth day. Now my mentor has challenged me to use enum and switching between months of the year. My problem is conceptually I'm very confused as to how to bring these two concepts together</p>\n<p>Here's my code below so far but I'm really just shooting in the dark here</p>\n<pre><code>import java.util.Scanner;\n\nenum Month {\n    \nJanuary,\nFebruary,\nMarch,\nApril,\nMay,\nJune,\nJuly,\nAugust,\nSeptember,\nOctober,\nNovember,\nDecember\n}\n\nclass MyStarSign3 {\n\n    Month month;\n\n    public EnumTest(Month month) {\n\n        this.month = month;\n    }\n\n    public void monthBorn() {\n        switch (month) {\n\n            case January:\n\n\n            case February:\n\n\n            case March:\n\n\n            case April:\n\n\n            case May:\n\n\n            case June: \n\n\n            case July:\n\n\n            case August:\n\n\n            case September:\n\n\n            case October:\n\n\n            case November:\n\n\n            case December:\n\n\n            default:\n\n\n                \n        }\n    }\n\n\n                public static void main(String[] args) {\n\n                        Scanner monthInput = new Scanner(System.in);\n\n                        String birthMonth = monthInput.nextLine();\n\n                }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"score":0,"creation_date":1439671193,"post_id":32029018,"comment_id":51959782,"body_markdown":"Why would you rather use Visual Studio?","body":"Why would you rather use Visual Studio?"},{"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"score":0,"creation_date":1439671338,"post_id":32029018,"comment_id":51959816,"body_markdown":"While your question is about importing an already existing project, there is a question regarding Android development in VS: http://stackoverflow.com/questions/1371939/how-can-i-use-ms-visual-studio-for-android-development","body":"While your question is about importing an already existing project, there is a question regarding Android development in VS: <a href=\"http://stackoverflow.com/questions/1371939/how-can-i-use-ms-visual-studio-for-android-development\" title=\"how can i use ms visual studio for android development\">stackoverflow.com/questions/1371939/&hellip;</a>"},{"owner":{"account_id":226622,"reputation":173,"user_id":487770,"display_name":"Joe&#39;s Morgue"},"score":0,"creation_date":1439681547,"post_id":32029018,"comment_id":51962342,"body_markdown":"I want to use VS because it can do cross platform development, which would be a definite bonus.  The first app I want to release is almost done in Java, and if I want to release it on an iDevice, most of my work should be done...","body":"I want to use VS because it can do cross platform development, which would be a definite bonus.  The first app I want to release is almost done in Java, and if I want to release it on an iDevice, most of my work should be done..."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":3,"creation_date":1439788558,"post_id":32029018,"comment_id":51986412,"body_markdown":"You almost certainly have a fundamental misunderstanding about how this all works.","body":"You almost certainly have a fundamental misunderstanding about how this all works."},{"owner":{"account_id":3710243,"reputation":1642,"user_id":3087778,"accept_rate":75,"display_name":"neferpitou"},"score":0,"creation_date":1439816467,"post_id":32029018,"comment_id":52001399,"body_markdown":"Using Cross-platform is a nightmare in the long run, you cant even utilize the full potential of each device and you are only limited to some API&#39;s.","body":"Using Cross-platform is a nightmare in the long run, you cant even utilize the full potential of each device and you are only limited to some API&#39;s."},{"owner":{"account_id":141690,"reputation":1319,"user_id":2747755,"accept_rate":80,"display_name":"Andy Krouwel"},"score":0,"creation_date":1506958380,"post_id":32029018,"comment_id":80011882,"body_markdown":"Any advance on this? VS2015 and VS2017 support importing Eclipse projects, but not Android Studio so far as I can tell.","body":"Any advance on this? VS2015 and VS2017 support importing Eclipse projects, but not Android Studio so far as I can tell."}],"answers":[{"tags":[],"owner":{"account_id":18148013,"reputation":81,"user_id":13201106,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610067088,"creation_date":1610032597,"answer_id":65615052,"question_id":32029018,"body_markdown":"No there is no way to convert it. Android Studio only supports IntelliJ and not Visual Studio, but you could rewrite the project in xamarin which is supported by visual studio. ","title":"Port android app from Android Studio to Microsoft Visual Studio","body":"<p>No there is no way to convert it. Android Studio only supports IntelliJ and not Visual Studio, but you could rewrite the project in xamarin which is supported by visual studio.</p>\n"},{"tags":[],"owner":{"account_id":25065837,"reputation":1,"user_id":18920181,"display_name":"Vic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650727383,"creation_date":1650727383,"answer_id":71980998,"question_id":32029018,"body_markdown":"Try VisualStudio Community, it&#39;s designed for cross-platform development. Use your &quot;gradlew&quot; files for project configuration.","title":"Port android app from Android Studio to Microsoft Visual Studio","body":"<p>Try VisualStudio Community, it's designed for cross-platform development. Use your &quot;gradlew&quot; files for project configuration.</p>\n"},{"tags":[],"owner":{"account_id":28199084,"reputation":11,"user_id":21553185,"display_name":"App Rank Portal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682152285,"creation_date":1682152285,"answer_id":76078706,"question_id":32029018,"body_markdown":"You can try transcoding it. However, to publish apps on different platforms, you need to sign up for app development accounts on those platforms and use the respective tools to publish apps. For example, if you want to publish your app on the Microsoft Store, you need to sign up for an app development account on Microsoft and use Visual Studio to publish the app.","title":"Port android app from Android Studio to Microsoft Visual Studio","body":"<p>You can try transcoding it. However, to publish apps on different platforms, you need to sign up for app development accounts on those platforms and use the respective tools to publish apps. For example, if you want to publish your app on the Microsoft Store, you need to sign up for an app development account on Microsoft and use Visual Studio to publish the app.</p>\n"}],"owner":{"account_id":226622,"reputation":173,"user_id":487770,"display_name":"Joe&#39;s Morgue"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2731,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1682152285,"creation_date":1439670306,"question_id":32029018,"body_markdown":"I have an app written in Android Studio, that I want to work on using Visual Studio.\r\n\r\nIs there a way to import my project into Visual Studio?","title":"Port android app from Android Studio to Microsoft Visual Studio","body":"<p>I have an app written in Android Studio, that I want to work on using Visual Studio.</p>\n\n<p>Is there a way to import my project into Visual Studio?</p>\n"},{"tags":["java","spring-boot","reflection","jdbctemplate"],"comments":[{"owner":{"account_id":229445,"reputation":22393,"user_id":492410,"accept_rate":57,"display_name":"ddewaele"},"score":0,"creation_date":1682150998,"post_id":76078587,"comment_id":134172942,"body_markdown":"It&#39;s unclear where you suffer performance and unclear what your use-case is (you want to dynamically select a number of attributes (between 1-160) and return a generic response object (like a map or something ?). Are these attributes simple @Column methods / do you have relationships on your entity ? What are the requirements for the response object ?","body":"It&#39;s unclear where you suffer performance and unclear what your use-case is (you want to dynamically select a number of attributes (between 1-160) and return a generic response object (like a map or something ?). Are these attributes simple @Column methods / do you have relationships on your entity ? What are the requirements for the response object ?"},{"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"score":0,"creation_date":1682151643,"post_id":76078587,"comment_id":134172984,"body_markdown":"Basically from the query output how can I construct a object Dynamially. Modified the input","body":"Basically from the query output how can I construct a object Dynamially. Modified the input"},{"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"score":0,"creation_date":1682152354,"post_id":76078587,"comment_id":134173047,"body_markdown":"HI @ddewaele\nI have modified the question for it to be more clear.","body":"HI @ddewaele I have modified the question for it to be more clear."},{"owner":{"account_id":229445,"reputation":22393,"user_id":492410,"accept_rate":57,"display_name":"ddewaele"},"score":0,"creation_date":1682233914,"post_id":76078587,"comment_id":134180897,"body_markdown":"and what&#39;s wrong with just returning a response object DTO where some of the fields are null ? how will you (or the client) decide what fields you are interested in ?. Seems like you are mixing 2 concepts here ... an ORM solution with a relatively tight coupling between the domain entities and the table, versus a standard SQL solution where you would just return a Map of key/value pairs","body":"and what&#39;s wrong with just returning a response object DTO where some of the fields are null ? how will you (or the client) decide what fields you are interested in ?. Seems like you are mixing 2 concepts here ... an ORM solution with a relatively tight coupling between the domain entities and the table, versus a standard SQL solution where you would just return a Map of key/value pairs"}],"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682152160,"creation_date":1682150253,"question_id":76078587,"body_markdown":"Below is my DTO object and I  am constructing SQL query based on the user selection.So,it can be having any set of properties from the DTO class.\r\n\r\n\r\n    Eg: Sample SQL queries: (Any combination)\r\n    select res.NAME from RESPONSE res ;\r\n    select res.NAME , res.CITY from RESPONSE res ; \r\n    select res.NAME , res.PRICE from RESPONSE res ;\r\n    ....\r\n    select res.* from RESPONSE res ; \r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;RESPONSE&quot;)    \r\n    public class Response{\r\n        \r\n        @Cloumn(&quot;NAME&quot;)\r\n        private String name;\r\n        @Cloumn(&quot;CITY&quot;)\r\n        private String city;\r\n        @Cloumn(&quot;AMOUNT&quot;)\r\n        private BigDecimal amount;\r\n        ...\r\n        @Cloumn(&quot;PRICE&quot;)\r\n        private BigDecimal price;\r\n        }\r\n        \r\n        List&lt;String&gt; userSelectionList=getUserSelectionList();\r\n        String sql=generateSqlBasedOnUserSelection();\r\n        List&lt;Response&gt; responseList=new ArrayList();\r\n        jdbcTemplate.query(sql,new RowCallBackHandler(){\r\n        \r\n        public void processRows(ResultSet resultSet) throws SqlException{\r\n         Response response=new Response();\r\n        //How will set the properties in Response object from ResultSet.\r\n    \r\n         responseList.add(response);\r\n    \r\n        }","title":"Set up properties dynamically in DTO object from the output of RowCallBackHandler in spring-boot application","body":"<p>Below is my DTO object and I  am constructing SQL query based on the user selection.So,it can be having any set of properties from the DTO class.</p>\n<pre><code>Eg: Sample SQL queries: (Any combination)\nselect res.NAME from RESPONSE res ;\nselect res.NAME , res.CITY from RESPONSE res ; \nselect res.NAME , res.PRICE from RESPONSE res ;\n....\nselect res.* from RESPONSE res ; \n\n\n@Entity\n@Table(name=&quot;RESPONSE&quot;)    \npublic class Response{\n    \n    @Cloumn(&quot;NAME&quot;)\n    private String name;\n    @Cloumn(&quot;CITY&quot;)\n    private String city;\n    @Cloumn(&quot;AMOUNT&quot;)\n    private BigDecimal amount;\n    ...\n    @Cloumn(&quot;PRICE&quot;)\n    private BigDecimal price;\n    }\n    \n    List&lt;String&gt; userSelectionList=getUserSelectionList();\n    String sql=generateSqlBasedOnUserSelection();\n    List&lt;Response&gt; responseList=new ArrayList();\n    jdbcTemplate.query(sql,new RowCallBackHandler(){\n    \n    public void processRows(ResultSet resultSet) throws SqlException{\n     Response response=new Response();\n    //How will set the properties in Response object from ResultSet.\n\n     responseList.add(response);\n\n    }\n</code></pre>\n"},{"tags":["java","database","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682016550,"post_id":76066897,"comment_id":134153617,"body_markdown":"Hello, please share the code of entity class Alumnos.","body":"Hello, please share the code of entity class Alumnos."},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682016997,"post_id":76066897,"comment_id":134153699,"body_markdown":"Added the class to the post, thank you.","body":"Added the class to the post, thank you."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682018765,"post_id":76066897,"comment_id":134154051,"body_markdown":"Entity class looks good. The table name is defined as &#39;alumnos&#39; lowercase. I wonder why HSQL says in the error message &#39;ALUMNOS&#39; uppercase. Maybe somewhere in persistence.xml this uppercase name is used?","body":"Entity class looks good. The table name is defined as &#39;alumnos&#39; lowercase. I wonder why HSQL says in the error message &#39;ALUMNOS&#39; uppercase. Maybe somewhere in persistence.xml this uppercase name is used?"},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682025965,"post_id":76066897,"comment_id":134155367,"body_markdown":"No, there isn&#39;t any. Added it to the post as well, for reference.","body":"No, there isn&#39;t any. Added it to the post as well, for reference."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682059596,"post_id":76066897,"comment_id":134159052,"body_markdown":"Which user has created the table &#39;alumnos&#39;? Was it &#39;root&#39;? If not then use the same user for connection. Or grant permission to root user for access to your tables. And also - is any specific schema defined?","body":"Which user has created the table &#39;alumnos&#39;? Was it &#39;root&#39;? If not then use the same user for connection. Or grant permission to root user for access to your tables. And also - is any specific schema defined?"},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682064467,"post_id":76066897,"comment_id":134160060,"body_markdown":"Yes, it&#39;s user root. I&#39;ve just given all privileges to root for the schema I&#39;m using but I keep getting the same exception.","body":"Yes, it&#39;s user root. I&#39;ve just given all privileges to root for the schema I&#39;m using but I keep getting the same exception."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682077908,"post_id":76066897,"comment_id":134162914,"body_markdown":"OK. So the table is define in a schema. Please add schema as property hibernate.default_schema. Otherwise Hibernate uses the default - without schema.","body":"OK. So the table is define in a schema. Please add schema as property hibernate.default_schema. Otherwise Hibernate uses the default - without schema."},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682103391,"post_id":76066897,"comment_id":134168566,"body_markdown":"This is being tough! I basically broke my project and had to redo everything. I&#39;ve updated the code in my post. I noticed that I (previously) had 2 persistence units, and the name didn&#39;t match in my persistence.xml. I thought that fixing that would fix the problem, but I&#39;m getting the same exception. Right now, I only have 1 persistence unit.  and I (think) I am using the correct name. I&#39;ve also added the schema property as you said.","body":"This is being tough! I basically broke my project and had to redo everything. I&#39;ve updated the code in my post. I noticed that I (previously) had 2 persistence units, and the name didn&#39;t match in my persistence.xml. I thought that fixing that would fix the problem, but I&#39;m getting the same exception. Right now, I only have 1 persistence unit.  and I (think) I am using the correct name. I&#39;ve also added the schema property as you said."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1682103760,"post_id":76066897,"comment_id":134168627,"body_markdown":"HQSLDB is case sensitive, so `ALUMNOS` doesn&#39;t equal to alumnos. All table names must be exactly the same as the name in `@Table` annotation. Please, check it.","body":"HQSLDB is case sensitive, so <code>ALUMNOS</code> doesn&#39;t equal to alumnos. All table names must be exactly the same as the name in <code>@Table</code> annotation. Please, check it."},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682104220,"post_id":76066897,"comment_id":134168714,"body_markdown":"My @Table annotation specifies name=&quot;alumnos&quot; and my database table is &quot;alumnos&quot;.","body":"My @Table annotation specifies name=&quot;alumnos&quot; and my database table is &quot;alumnos&quot;."},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682126426,"post_id":76066897,"comment_id":134171371,"body_markdown":"Using the same query in the JPA console works perfectly fine, also.","body":"Using the same query in the JPA console works perfectly fine, also."}],"answers":[{"tags":[],"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682151104,"creation_date":1682151104,"answer_id":76078638,"question_id":76066897,"body_markdown":"Finally solved it.\r\n\r\nI was missing the datasource for the persistence unit, so tomee (obviously, but not so obvious to me 2 days ago) wasn&#39;t being able to find it. So I added to the persistence unit properties in persistence.xml\r\n\r\n    &lt;jta-data-source&gt;jdbc/dataresource&lt;/jta-data-source&gt;\r\n\r\nAnd added the datasource to tomee.xml in the conf folder of the tomee directory\r\n\r\n    &lt;Resource id=&quot;jdbc/dataresource&quot; type=&quot;javax.sql.DataSource&quot;&gt;\r\n    JdbcDriver = com.mysql.jdbc.Driver\r\n    JdbcUrl = jdbc:mysql://localhost:3306/notasexample\r\n    UserName = root\r\n    Password = \r\n    JtaManaged = true\r\n    &lt;/Resource&gt;\r\n\r\nI also needed to add the mysql connector jar in the lib folder of the tomee directory.\r\n\r\n","title":"org.hsqldb.HsqlException: user lacks privilege or object not found: ALUMNOS","body":"<p>Finally solved it.</p>\n<p>I was missing the datasource for the persistence unit, so tomee (obviously, but not so obvious to me 2 days ago) wasn't being able to find it. So I added to the persistence unit properties in persistence.xml</p>\n<pre><code>&lt;jta-data-source&gt;jdbc/dataresource&lt;/jta-data-source&gt;\n</code></pre>\n<p>And added the datasource to tomee.xml in the conf folder of the tomee directory</p>\n<pre><code>&lt;Resource id=&quot;jdbc/dataresource&quot; type=&quot;javax.sql.DataSource&quot;&gt;\nJdbcDriver = com.mysql.jdbc.Driver\nJdbcUrl = jdbc:mysql://localhost:3306/notasexample\nUserName = root\nPassword = \nJtaManaged = true\n&lt;/Resource&gt;\n</code></pre>\n<p>I also needed to add the mysql connector jar in the lib folder of the tomee directory.</p>\n"}],"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76078638,"answer_count":1,"score":0,"last_activity_date":1682151104,"creation_date":1682012569,"question_id":76066897,"body_markdown":"I am a student trying to build a simple web app using EJB and JPA in IntelliJ. Right now I&#39;m just trying to print the list of &quot;alumnos&quot; contained in my mysql db. This is my EJB\r\n\r\n```\r\n@Stateless\r\npublic class AlumnosBean {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public List&lt;Alumnos&gt; getAlumnos() {\r\n        Query query = entityManager.createQuery(&quot;SELECT a FROM Alumnos a&quot;);\r\n        List&lt;Alumnos&gt; resultList = query.getResultList();\r\n        return resultList;\r\n    }\r\n}\r\n```\r\n\r\nAnd my servlet\r\n\r\n\r\n```\r\n@WebServlet(name = &quot;ListAlumnos&quot;, value = &quot;/ListAlumnos&quot;)\r\npublic class ListAlumnos extends HttpServlet {\r\n    @EJB\r\n    private AlumnosBean alumnosBean;\r\n\r\n    public void init() {\r\n       \r\n    }\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        List&lt;Alumnos&gt; alumnos = alumnosBean.getAlumnos();\r\n        request.setAttribute(&quot;alumnos&quot;, alumnos);\r\n        request.getRequestDispatcher(&quot;/alumnos.jsp&quot;).forward(request, response);\r\n    }\r\n\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\nclass Alumnos\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;alumnos&quot;, schema = &quot;notasexample&quot;)\r\npublic class Alumnos {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Size(max = 25)\r\n    @NotNull\r\n    @Column(name = &quot;nombre&quot;, nullable = false, length = 25)\r\n    private String nombre;\r\n\r\n    @Size(max = 25)\r\n    @NotNull\r\n    @Column(name = &quot;nom_user&quot;, nullable = false, length = 25)\r\n    private String nomUser;\r\n\r\n    @Size(max = 25)\r\n    @NotNull\r\n    @Column(name = &quot;password&quot;, nullable = false, length = 25)\r\n    private String password;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;nota&quot;, nullable = false)\r\n    private Float nota;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;modulo&quot;, nullable = false)\r\n    private Integer modulo;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNombre() {\r\n        return nombre;\r\n    }\r\n\r\n    public void setNombre(String nombre) {\r\n        this.nombre = nombre;\r\n    }\r\n\r\n    public String getNomUser() {\r\n        return nomUser;\r\n    }\r\n\r\n    public void setNomUser(String nomUser) {\r\n        this.nomUser = nomUser;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Float getNota() {\r\n        return nota;\r\n    }\r\n\r\n    public void setNota(Float nota) {\r\n        this.nota = nota;\r\n    }\r\n\r\n    public Integer getModulo() {\r\n        return modulo;\r\n    }\r\n\r\n    public void setModulo(Integer modulo) {\r\n        this.modulo = modulo;\r\n    }\r\n\r\n}\r\n```\r\npersistence.xml\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;CRUDWeb&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.car.crudweb.entities.Alumnos&lt;/class&gt;\r\n        &lt;class&gt;com.car.crudweb.entities.Historial&lt;/class&gt;\r\n        &lt;class&gt;com.car.crudweb.entities.Modulos&lt;/class&gt;\r\n        &lt;class&gt;com.car.crudweb.entities.Profesores&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/notasexample&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;none&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;notasexample&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nI get a nested exception \r\n&gt; jakarta.ejb.EJBException: The bean encountered a non-application exception; nested exception is: \r\n\tjakarta.persistence.PersistenceException: Converting `org.hibernate.exception.SQLGrammarException` to JPA `PersistenceException` : could not prepare statement\r\n\r\nroot cause\r\n&gt; org.hsqldb.HsqlException: user lacks privilege or object not found: ALUMNOS\r\n\r\nI do have a table called &quot;alumnos&quot; in my database and my persistence.xml file gives root access. I&#39;ve granted all privileges to root. \r\n\r\nI&#39;ve also used the JPA console to execute the same query I&#39;m using in the EJB and it works perfectly fine. It returns the alumnos contained in my db.\r\n\r\nI don&#39;t know what&#39;s wrong. I&#39;ve been searching online for similar problems but haven&#39;t found anything that works for me. \r\n","title":"org.hsqldb.HsqlException: user lacks privilege or object not found: ALUMNOS","body":"<p>I am a student trying to build a simple web app using EJB and JPA in IntelliJ. Right now I'm just trying to print the list of &quot;alumnos&quot; contained in my mysql db. This is my EJB</p>\n<pre><code>@Stateless\npublic class AlumnosBean {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public List&lt;Alumnos&gt; getAlumnos() {\n        Query query = entityManager.createQuery(&quot;SELECT a FROM Alumnos a&quot;);\n        List&lt;Alumnos&gt; resultList = query.getResultList();\n        return resultList;\n    }\n}\n</code></pre>\n<p>And my servlet</p>\n<pre><code>@WebServlet(name = &quot;ListAlumnos&quot;, value = &quot;/ListAlumnos&quot;)\npublic class ListAlumnos extends HttpServlet {\n    @EJB\n    private AlumnosBean alumnosBean;\n\n    public void init() {\n       \n    }\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        List&lt;Alumnos&gt; alumnos = alumnosBean.getAlumnos();\n        request.setAttribute(&quot;alumnos&quot;, alumnos);\n        request.getRequestDispatcher(&quot;/alumnos.jsp&quot;).forward(request, response);\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>class Alumnos</p>\n<pre><code>@Entity\n@Table(name = &quot;alumnos&quot;, schema = &quot;notasexample&quot;)\npublic class Alumnos {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @Size(max = 25)\n    @NotNull\n    @Column(name = &quot;nombre&quot;, nullable = false, length = 25)\n    private String nombre;\n\n    @Size(max = 25)\n    @NotNull\n    @Column(name = &quot;nom_user&quot;, nullable = false, length = 25)\n    private String nomUser;\n\n    @Size(max = 25)\n    @NotNull\n    @Column(name = &quot;password&quot;, nullable = false, length = 25)\n    private String password;\n\n    @NotNull\n    @Column(name = &quot;nota&quot;, nullable = false)\n    private Float nota;\n\n    @NotNull\n    @Column(name = &quot;modulo&quot;, nullable = false)\n    private Integer modulo;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public String getNomUser() {\n        return nomUser;\n    }\n\n    public void setNomUser(String nomUser) {\n        this.nomUser = nomUser;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Float getNota() {\n        return nota;\n    }\n\n    public void setNota(Float nota) {\n        this.nota = nota;\n    }\n\n    public Integer getModulo() {\n        return modulo;\n    }\n\n    public void setModulo(Integer modulo) {\n        this.modulo = modulo;\n    }\n\n}\n</code></pre>\n<p>persistence.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n    &lt;persistence-unit name=&quot;CRUDWeb&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.car.crudweb.entities.Alumnos&lt;/class&gt;\n        &lt;class&gt;com.car.crudweb.entities.Historial&lt;/class&gt;\n        &lt;class&gt;com.car.crudweb.entities.Modulos&lt;/class&gt;\n        &lt;class&gt;com.car.crudweb.entities.Profesores&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/notasexample&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;none&quot;/&gt;\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;notasexample&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I get a nested exception</p>\n<blockquote>\n<p>jakarta.ejb.EJBException: The bean encountered a non-application exception; nested exception is:\njakarta.persistence.PersistenceException: Converting <code>org.hibernate.exception.SQLGrammarException</code> to JPA <code>PersistenceException</code> : could not prepare statement</p>\n</blockquote>\n<p>root cause</p>\n<blockquote>\n<p>org.hsqldb.HsqlException: user lacks privilege or object not found: ALUMNOS</p>\n</blockquote>\n<p>I do have a table called &quot;alumnos&quot; in my database and my persistence.xml file gives root access. I've granted all privileges to root.</p>\n<p>I've also used the JPA console to execute the same query I'm using in the EJB and it works perfectly fine. It returns the alumnos contained in my db.</p>\n<p>I don't know what's wrong. I've been searching online for similar problems but haven't found anything that works for me.</p>\n"},{"tags":["java","spring","file","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682150984,"creation_date":1682150984,"answer_id":76078632,"question_id":76078021,"body_markdown":"According to the error stack message , there are may be some potential issues \r\n- pls ensure class ```File```  which in your code snippet is localated at  package path ``` java.io ```, Noticed that the message ```The PluginProtos.CodeGeneratorResponse.File(String)``` , it seems like you had been a wrong way in import ```File``` package .\r\n- Checkout the ```File path```,make sure the path ```PathToProducts + imageFile.getOriginalFilename()``` is available ; \r\n\r\nProvided more infomation or minimum operational demo will be more efficient and accurate  for yout issue!","title":"The constructor PluginProtos.CodeGeneratorResponse.File(String) is undefined","body":"<p>According to the error stack message , there are may be some potential issues</p>\n<ul>\n<li>pls ensure class <code>File</code>  which in your code snippet is localated at  package path <code>java.io</code>, Noticed that the message <code>The PluginProtos.CodeGeneratorResponse.File(String)</code> , it seems like you had been a wrong way in import <code>File</code> package .</li>\n<li>Checkout the <code>File path</code>,make sure the path <code>PathToProducts + imageFile.getOriginalFilename()</code> is available ;</li>\n</ul>\n<p>Provided more infomation or minimum operational demo will be more efficient and accurate  for yout issue!</p>\n"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76078632,"answer_count":1,"score":0,"last_activity_date":1682150984,"creation_date":1682137560,"question_id":76078021,"body_markdown":"i have an error when i try to create &quot;File fileSave = new File()&quot; I get the error:\r\n&quot;The PluginProtos.CodeGeneratorResponse.File(String) constructor is undefined&quot;. please help me:\r\n\r\n\r\n\r\nthis is my code:\r\n```\r\n    public String UpLoadFile(MultipartHttpServletRequest request) {\r\n    \tString PathToProducts = servletContext.getRealPath(&quot;/resources/Image/products/&quot;);\r\n    \tIterator&lt;String&gt; imageName = request.getFileNames();\r\n    \tMultipartFile imageFile =request.getFile(imageName.next());\r\n    \t\r\n    \tFile fileSave = new File(PathToProducts + imageFile.getOriginalFilename());\r\n    \t\r\n    \t\r\n    \treturn&quot;&quot;;\r\n    }\r\n```","title":"The constructor PluginProtos.CodeGeneratorResponse.File(String) is undefined","body":"<p>i have an error when i try to create &quot;File fileSave = new File()&quot; I get the error:\n&quot;The PluginProtos.CodeGeneratorResponse.File(String) constructor is undefined&quot;. please help me:</p>\n<p>this is my code:</p>\n<pre><code>    public String UpLoadFile(MultipartHttpServletRequest request) {\n        String PathToProducts = servletContext.getRealPath(&quot;/resources/Image/products/&quot;);\n        Iterator&lt;String&gt; imageName = request.getFileNames();\n        MultipartFile imageFile =request.getFile(imageName.next());\n        \n        File fileSave = new File(PathToProducts + imageFile.getOriginalFilename());\n        \n        \n        return&quot;&quot;;\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-cloudwatch"],"owner":{"account_id":10290120,"reputation":158,"user_id":7592111,"accept_rate":83,"display_name":"A.Learn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682150019,"creation_date":1682150019,"question_id":76078581,"body_markdown":"I used to save my LogStreamId of lambda in database for co-relation of logStreamId with a business event.\r\nWhen I started using AWS Snap_Start feature of AWS lambda logStreamId is set to null and I guess reason is following -\r\n\r\n&gt; AWS_LAMBDA_LOG_GROUP_NAME, AWS_LAMBDA_LOG_STREAM_NAME – The name of\r\n&gt; the Amazon CloudWatch Logs group and stream for the function. The\r\n&gt; AWS_LAMBDA_LOG_GROUP_NAME and AWS_LAMBDA_LOG_STREAM_NAME environment\r\n&gt; variables are not available in Lambda SnapStart functions.\r\n\r\nSo my question is how do I get cloudwatch logStreamId in SnapStart lambda functions ","title":"How do I get LogStreamId in snap_start AWS lambda functions","body":"<p>I used to save my LogStreamId of lambda in database for co-relation of logStreamId with a business event.\nWhen I started using AWS Snap_Start feature of AWS lambda logStreamId is set to null and I guess reason is following -</p>\n<blockquote>\n<p>AWS_LAMBDA_LOG_GROUP_NAME, AWS_LAMBDA_LOG_STREAM_NAME – The name of\nthe Amazon CloudWatch Logs group and stream for the function. The\nAWS_LAMBDA_LOG_GROUP_NAME and AWS_LAMBDA_LOG_STREAM_NAME environment\nvariables are not available in Lambda SnapStart functions.</p>\n</blockquote>\n<p>So my question is how do I get cloudwatch logStreamId in SnapStart lambda functions</p>\n"},{"tags":["java","parsing","exception","numberformatexception"],"comments":[{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":0,"creation_date":1340392554,"post_id":11162671,"comment_id":14640025,"body_markdown":"This isn&#39;t necessarily bad practice, but it may help to show us what the input looks like. IMO, you can **never** do enough error checking.","body":"This isn&#39;t necessarily bad practice, but it may help to show us what the input looks like. IMO, you can <b>never</b> do enough error checking."},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1340392558,"post_id":11162671,"comment_id":14640028,"body_markdown":"I think it&#39;s ugly and difficult to read, but there isn&#39;t a better solution. That&#39;s one of the reasons I don&#39;t like checked exceptions http://c2.com/cgi/wiki?TheProblemWithCheckedExceptions","body":"I think it&#39;s ugly and difficult to read, but there isn&#39;t a better solution. That&#39;s one of the reasons I don&#39;t like checked exceptions <a href=\"http://c2.com/cgi/wiki?TheProblemWithCheckedExceptions\" rel=\"nofollow noreferrer\">c2.com/cgi/wiki?TheProblemWithCheckedExceptions</a>"},{"owner":{"account_id":164832,"reputation":6558,"user_id":387852,"accept_rate":71,"display_name":"Michael McGowan"},"score":1,"creation_date":1340393927,"post_id":11162671,"comment_id":14640529,"body_markdown":"You might find [this question](http://stackoverflow.com/q/5378005/387852) is relevant.","body":"You might find <a href=\"http://stackoverflow.com/q/5378005/387852\">this question</a> is relevant."},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1340723317,"post_id":11162671,"comment_id":14718784,"body_markdown":"Did you ever resolve this issue?","body":"Did you ever resolve this issue?"},{"owner":{"display_name":"user1266094"},"score":0,"creation_date":1340831265,"post_id":11162671,"comment_id":14759990,"body_markdown":"@AlexLockwood I was still hoping for new answers...with no luck :) So i will wrap the exception in a method boolean isHex(String str), just for clarity :)","body":"@AlexLockwood I was still hoping for new answers...with no luck :) So i will wrap the exception in a method boolean isHex(String str), just for clarity :)"},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1340831326,"post_id":11162671,"comment_id":14760011,"body_markdown":"@integeruser sounds good. this sounds like something you don&#39;t have to worry too much about anyway... just do it whichever way you think looks best :)","body":"@integeruser sounds good. this sounds like something you don&#39;t have to worry too much about anyway... just do it whichever way you think looks best :)"}],"answers":[{"tags":[],"owner":{"account_id":189531,"reputation":22741,"user_id":428916,"accept_rate":69,"display_name":"Rocky Pulley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340392489,"creation_date":1340392489,"answer_id":11162698,"question_id":11162671,"body_markdown":"It depends on the context, in many cases it&#39;s bad but if it&#39;s going to be a place that&#39;s very likely to have bad input and you have a default to set it to then you would want to catch it.","title":"Is catching NumberFormatException a bad practice?","body":"<p>It depends on the context, in many cases it's bad but if it's going to be a place that's very likely to have bad input and you have a default to set it to then you would want to catch it.</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1340392537,"creation_date":1340392537,"answer_id":11162704,"question_id":11162671,"body_markdown":"Yours is the second question I&#39;ve seen today asking about this.\r\n\r\nNo, it&#39;s perfectly appropriate to catch this exception.\r\n\r\nAnd it&#39;s *definitely* better form to catch a *more explicit* exception (like &quot;NumberFormatException&quot;) than a generic &quot;Exception&quot;.\r\n\r\nIMHO...\r\n\r\nPS:\r\n*Where* you put the exception: at this level, or higher-up, is a different question.\r\n\r\nThe rule of thumb is &quot;the lowest level where you know what happened, and how best to recover.&quot;\r\n\r\nOr, to put it differently (quoting from a link below):\r\n\r\n  &quot;A method should only catch an exception when it can handle it in some sensible way.&quot;\r\n\r\nHere&#39;s some discussion:\r\n\r\n  * https://stackoverflow.com/questions/10977482/at-what-level-and-how-is-appropriate-to-catch-exceptions\r\n\r\n  * https://stackoverflow.com/questions/2737328/why-should-i-not-wrap-every-block-in-try-catch\r\n\r\n","title":"Is catching NumberFormatException a bad practice?","body":"<p>Yours is the second question I've seen today asking about this.</p>\n\n<p>No, it's perfectly appropriate to catch this exception.</p>\n\n<p>And it's <em>definitely</em> better form to catch a <em>more explicit</em> exception (like \"NumberFormatException\") than a generic \"Exception\".</p>\n\n<p>IMHO...</p>\n\n<p>PS:\n<em>Where</em> you put the exception: at this level, or higher-up, is a different question.</p>\n\n<p>The rule of thumb is \"the lowest level where you know what happened, and how best to recover.\"</p>\n\n<p>Or, to put it differently (quoting from a link below):</p>\n\n<p>\"A method should only catch an exception when it can handle it in some sensible way.\"</p>\n\n<p>Here's some discussion:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/10977482/at-what-level-and-how-is-appropriate-to-catch-exceptions\">At what level and how is appropriate to catch exceptions</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/2737328/why-should-i-not-wrap-every-block-in-try-catch\">Why should I not wrap every block in &quot;try&quot;-&quot;catch&quot;?</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340395345,"creation_date":1340392681,"answer_id":11162731,"question_id":11162671,"body_markdown":"No, it&#39;s not &quot;bad practice&quot;. It just depends on the situation. \r\n\r\nFor example, as an Android, if the user inputs a string &quot;123a&quot; into a text box that is only supposed to accept integers, and is subsequently parsed, an exception will be thrown causing the application to crash. In this case, it would make perfect sense to catch the exception and prompt the user to re-enter the text.","title":"Is catching NumberFormatException a bad practice?","body":"<p>No, it's not \"bad practice\". It just depends on the situation. </p>\n\n<p>For example, as an Android, if the user inputs a string \"123a\" into a text box that is only supposed to accept integers, and is subsequently parsed, an exception will be thrown causing the application to crash. In this case, it would make perfect sense to catch the exception and prompt the user to re-enter the text.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340393557,"creation_date":1340393126,"answer_id":11162838,"question_id":11162671,"body_markdown":"Its `Not about how good you code looks`, but `how good your code works`..........\r\n`Ya offcourse it should be readable,` **As famously said...**\r\n\r\n**Any fool can write a code that computer can understand, but only great programmers write codes that humans can understand.**\r\n\r\nIts perfectly fine in some cases where, you need to have such kind of exceptions in place.\r\n\r\n  `When you want to catch multiple exceptions which belong to the same inheritance tree,` ` then create a try block, and multiple catch blocks from more specific to more ` `abstract.`\r\n\r\n\r\neg:\r\n\r\n    `Animal &lt;--- Carnivores &lt;--- Dog`\r\n\r\n  Now suppose there is a **DogException, CarnivoresException, AnimalException**.\r\n\r\n  Then it must be like this,\r\n\r\n   \r\n\r\n    try{\r\n    \r\n               // your code \r\n    \r\n         }\r\n          catch(DogException d){}\r\n          catch(CarnivoresException c){}\r\n          catch( AnimalException a){}\r\n\r\n**Above catches has been cascaded from more specific to more abstract so that the exception is caught to it very cause.**\r\n  \r\n**If there is no inheritance, then catch can be in any order...**\r\n\r\n\r\n\r\n","title":"Is catching NumberFormatException a bad practice?","body":"<p>Its <code>Not about how good you code looks</code>, but <code>how good your code works</code>..........\n<code>Ya offcourse it should be readable,</code> <strong>As famously said...</strong></p>\n\n<p><strong>Any fool can write a code that computer can understand, but only great programmers write codes that humans can understand.</strong></p>\n\n<p>Its perfectly fine in some cases where, you need to have such kind of exceptions in place.</p>\n\n<p><code>When you want to catch multiple exceptions which belong to the same inheritance tree,</code> <code>then create a try block, and multiple catch blocks from more specific to more</code> <code>abstract.</code></p>\n\n<p>eg:</p>\n\n<pre><code>`Animal &lt;--- Carnivores &lt;--- Dog`\n</code></pre>\n\n<p>Now suppose there is a <strong>DogException, CarnivoresException, AnimalException</strong>.</p>\n\n<p>Then it must be like this,</p>\n\n<pre><code>try{\n\n           // your code \n\n     }\n      catch(DogException d){}\n      catch(CarnivoresException c){}\n      catch( AnimalException a){}\n</code></pre>\n\n<p><strong>Above catches has been cascaded from more specific to more abstract so that the exception is caught to it very cause.</strong></p>\n\n<p><strong>If there is no inheritance, then catch can be in any order...</strong></p>\n"},{"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1340831547,"creation_date":1340394286,"answer_id":11163057,"question_id":11162671,"body_markdown":"In your case I would prefer something like an `isHexDigit` method to using `NumberFormatException`, unless there are some assumptions that you can make about the format of your data - from your description it seems that there aren&#39;t such assumptions about when you&#39;ll encounter hex numbers vs. non-hex numbers.\r\n\r\nThis is because exceptions should be used to handle _exceptional conditions_, and if the expectation from your data is: _either hex digits or non-hex digits, separated by spaces_, then there&#39;s nothing exceptional about encountering a token that is other than a hex digit. \r\n\r\nFurthermore using the Exception _does_ make the code less readable: without comments about the data, it hides the fact that interspersed non-hex digits are acceptable and expected input.\r\n\r\nHaving stated that preference, I might use exception handling to handle this case, and I certainly see plenty of code that does so. Lots of good functionality is wrapped up for you in that combination of decode/parseInt/NumberFormatException. I wouldn&#39;t use this without an explicit comment that clearly explains what I&#39;m doing.","title":"Is catching NumberFormatException a bad practice?","body":"<p>In your case I would prefer something like an <code>isHexDigit</code> method to using <code>NumberFormatException</code>, unless there are some assumptions that you can make about the format of your data - from your description it seems that there aren't such assumptions about when you'll encounter hex numbers vs. non-hex numbers.</p>\n\n<p>This is because exceptions should be used to handle <em>exceptional conditions</em>, and if the expectation from your data is: <em>either hex digits or non-hex digits, separated by spaces</em>, then there's nothing exceptional about encountering a token that is other than a hex digit. </p>\n\n<p>Furthermore using the Exception <em>does</em> make the code less readable: without comments about the data, it hides the fact that interspersed non-hex digits are acceptable and expected input.</p>\n\n<p>Having stated that preference, I might use exception handling to handle this case, and I certainly see plenty of code that does so. Lots of good functionality is wrapped up for you in that combination of decode/parseInt/NumberFormatException. I wouldn't use this without an explicit comment that clearly explains what I'm doing.</p>\n"},{"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1682149560,"creation_date":1340395334,"answer_id":11163309,"question_id":11162671,"body_markdown":"Exception handling is an integral part (and one of the design goals) of the Java programming language... you shouldn&#39;t cast them off just because you think they are &quot;ugly&quot;.\r\n\r\nThat said, if you want a simple and readable way to handle `NumberFormatException`s, you might consider using the [`NumberUtils`](http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/math/NumberUtils.html#toInt(java.lang.String,%20int)) class instead. \r\n\r\nThe `toInt(String str, int defaultValue)` method converts a `String` to an `int`, returning a default value if the conversion fails. If the string is `null`, the default value is returned.\r\n\r\n     NumberUtils.toInt(null, 1) = 1\r\n     NumberUtils.toInt(&quot;&quot;, 1)   = 1\r\n     NumberUtils.toInt(&quot;1&quot;, 0)  = 1\r\n\r\nThe method encapsulates exception catching and handling, as seen in the [source code](http://grepcode.com/file/repo1.maven.org/maven2/commons-lang/commons-lang/2.3/org/apache/commons/lang/math/NumberUtils.java#NumberUtils.toInt%28java.lang.String%2Cint%29) below. As a result, the client only needs to make a single method call.\r\n\r\n    public static int toInt(String str, int defaultValue) {         \r\n        if(str == null) {\r\n            return defaultValue;\r\n        }\r\n        try {\r\n            return Integer.parseInt(str);\r\n        } catch (NumberFormatException nfe) {\r\n            return defaultValue;\r\n        }\r\n    }","title":"Is catching NumberFormatException a bad practice?","body":"<p>Exception handling is an integral part (and one of the design goals) of the Java programming language... you shouldn't cast them off just because you think they are &quot;ugly&quot;.</p>\n<p>That said, if you want a simple and readable way to handle <code>NumberFormatException</code>s, you might consider using the <a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/math/NumberUtils.html#toInt(java.lang.String,%20int)\" rel=\"nofollow noreferrer\"><code>NumberUtils</code></a> class instead.</p>\n<p>The <code>toInt(String str, int defaultValue)</code> method converts a <code>String</code> to an <code>int</code>, returning a default value if the conversion fails. If the string is <code>null</code>, the default value is returned.</p>\n<pre><code> NumberUtils.toInt(null, 1) = 1\n NumberUtils.toInt(&quot;&quot;, 1)   = 1\n NumberUtils.toInt(&quot;1&quot;, 0)  = 1\n</code></pre>\n<p>The method encapsulates exception catching and handling, as seen in the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/commons-lang/commons-lang/2.3/org/apache/commons/lang/math/NumberUtils.java#NumberUtils.toInt%28java.lang.String%2Cint%29\" rel=\"nofollow noreferrer\">source code</a> below. As a result, the client only needs to make a single method call.</p>\n<pre><code>public static int toInt(String str, int defaultValue) {         \n    if(str == null) {\n        return defaultValue;\n    }\n    try {\n        return Integer.parseInt(str);\n    } catch (NumberFormatException nfe) {\n        return defaultValue;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":419305,"reputation":3118,"user_id":796401,"display_name":"RalphChapin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340395765,"creation_date":1340395765,"answer_id":11163398,"question_id":11162671,"body_markdown":"It&#39;s the best you can do.  A method is either going to return some kind of success/error indicator or its going to throw an exception, it&#39;s just a question of which is most convenient.  Here Sun&#39;s made the decision for us, so no need for a debate.\r\n\r\nWhat does rather bug me about this is that the exception is going to include a full stack trace!  In your particular case, if you are reading millions of these strings, you _will_ notice the (completely unnecessary) poor performance.  If it matters to you, you might want to consider writing your own method (you can use the Sun code as a guide.)  Then you can decide for yourself whether you want to use an exception or not.  If you do, keep a static copy of the exception handy and always throw that to save allocation time.  And override `fillInStackTrace` so it does nothing and you don&#39;t have a meaningless stack trace in your exception.","title":"Is catching NumberFormatException a bad practice?","body":"<p>It's the best you can do.  A method is either going to return some kind of success/error indicator or its going to throw an exception, it's just a question of which is most convenient.  Here Sun's made the decision for us, so no need for a debate.</p>\n\n<p>What does rather bug me about this is that the exception is going to include a full stack trace!  In your particular case, if you are reading millions of these strings, you <em>will</em> notice the (completely unnecessary) poor performance.  If it matters to you, you might want to consider writing your own method (you can use the Sun code as a guide.)  Then you can decide for yourself whether you want to use an exception or not.  If you do, keep a static copy of the exception handy and always throw that to save allocation time.  And override <code>fillInStackTrace</code> so it does nothing and you don't have a meaningless stack trace in your exception.</p>\n"}],"owner":{"display_name":"user1266094"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2508,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":11163309,"answer_count":7,"score":10,"last_activity_date":1682149560,"creation_date":1340392356,"question_id":11162671,"body_markdown":"I have to parse a String that can assume hex values or other non-hex values\r\n \r\n`0xff`, `0x31` or `A`, `PC`, `label`, and so on.\r\n\r\nI use this code to divide the two cases:\r\n\r\n    String input = readInput();\r\n    \r\n    try {\r\n        int hex = Integer.decode(input);\t\t\t\r\n        // use hex ...\r\n      \r\n    } catch (NumberFormatException e) {\r\n       // input is not a hex, continue parsing\r\n    }\r\n\r\nCan this code be considered &quot;ugly&quot; or difficult to read? Are there other (maybe more elegant) solutions?\r\n\r\nEDIT : I want to clarify that (in my case) **a wrong input doesn&#39;t exist**: i just need to distinguish if it is a hex number, or not.\r\nAnd just for completeness, i&#39;m making a simple assebler for [DCPU-16][1].\r\n\r\n\r\n  [1]: http://0x10c.com/doc/dcpu-16.txt","title":"Is catching NumberFormatException a bad practice?","body":"<p>I have to parse a String that can assume hex values or other non-hex values</p>\n\n<p><code>0xff</code>, <code>0x31</code> or <code>A</code>, <code>PC</code>, <code>label</code>, and so on.</p>\n\n<p>I use this code to divide the two cases:</p>\n\n<pre><code>String input = readInput();\n\ntry {\n    int hex = Integer.decode(input);            \n    // use hex ...\n\n} catch (NumberFormatException e) {\n   // input is not a hex, continue parsing\n}\n</code></pre>\n\n<p>Can this code be considered \"ugly\" or difficult to read? Are there other (maybe more elegant) solutions?</p>\n\n<p>EDIT : I want to clarify that (in my case) <strong>a wrong input doesn't exist</strong>: i just need to distinguish if it is a hex number, or not.\nAnd just for completeness, i'm making a simple assebler for <a href=\"http://0x10c.com/doc/dcpu-16.txt\" rel=\"nofollow\">DCPU-16</a>.</p>\n"},{"tags":["c#","java","generics"],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1682149458,"creation_date":1271036305,"answer_id":2619436,"question_id":2619429,"body_markdown":"You can&#39;t replicate that in Java because generics are fundamentally different between C# and Java. Java uses type erasure so generic type arguments aren&#39;t (mostly) retained at runtime. If you want to construct elements of your generic type argument then you&#39;ll need to pass in a class instance:\r\n\r\n    public class Bar&lt;T extends Foo&gt; {\r\n      private final Class&lt;T&gt; clazz;\r\n    \r\n      public class Bar(Class&lt;T&gt; clazz) {\r\n        this.clazz = clazz;\r\n      }\r\n    \r\n      public T newInstance() {\r\n        return clazz.newInstance(); // this will throw checked exceptions\r\n      }\r\n    }\r\n\r\n**Edit:** Just to cover the issue of runtime type safety of generic type arguments: clearly Java doesn&#39;t *natively* have it because of type erasure: there are no runtime types for generic type arguments. There is a solution however. You use [`Collections.checkedList()`][1]:\r\n\r\n    List&lt;String&gt; list = Collections.checkedList(new ArrayList&lt;String&gt;(),\r\n                          String.class);\r\n\r\nThis collection will now throw an exception if you try to insert something that isn&#39;t a `String`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#checkedList(java.util.List,%20java.lang.Class)\r\n","title":"C# to Java: where T : new() Syntax","body":"<p>You can't replicate that in Java because generics are fundamentally different between C# and Java. Java uses type erasure so generic type arguments aren't (mostly) retained at runtime. If you want to construct elements of your generic type argument then you'll need to pass in a class instance:</p>\n<pre><code>public class Bar&lt;T extends Foo&gt; {\n  private final Class&lt;T&gt; clazz;\n\n  public class Bar(Class&lt;T&gt; clazz) {\n    this.clazz = clazz;\n  }\n\n  public T newInstance() {\n    return clazz.newInstance(); // this will throw checked exceptions\n  }\n}\n</code></pre>\n<p><strong>Edit:</strong> Just to cover the issue of runtime type safety of generic type arguments: clearly Java doesn't <em>natively</em> have it because of type erasure: there are no runtime types for generic type arguments. There is a solution however. You use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#checkedList(java.util.List,%20java.lang.Class)\" rel=\"nofollow noreferrer\"><code>Collections.checkedList()</code></a>:</p>\n<pre><code>List&lt;String&gt; list = Collections.checkedList(new ArrayList&lt;String&gt;(),\n                      String.class);\n</code></pre>\n<p>This collection will now throw an exception if you try to insert something that isn't a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271036338,"creation_date":1271036338,"answer_id":2619438,"question_id":2619429,"body_markdown":"You cannot. Java implements generic type safety with erasure and does not support the typing based on the signature of a constructor, so there is no way to do exactly that and have a static type check.","title":"C# to Java: where T : new() Syntax","body":"<p>You cannot. Java implements generic type safety with erasure and does not support the typing based on the signature of a constructor, so there is no way to do exactly that and have a static type check.</p>\n"},{"tags":[],"owner":{"account_id":65554,"reputation":14672,"user_id":192819,"accept_rate":76,"display_name":"jpswain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271046833,"creation_date":1271046833,"answer_id":2619899,"question_id":2619429,"body_markdown":"Hope this helps.  Please note, this requires a no-arg constructor be present in the you are creating a new instance of.\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\npublic class TypeStuff {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    // *** PUBLIC STATIC VOID MAIN ***\r\n    public static void main(String[] args) {\r\n        TypeStuff ts = new TypeStuff();\r\n        ts.run();\r\n    }\r\n\r\n    // *** CONSTRUCTOR ***\r\n    public TypeStuff () {\r\n    }\r\n\r\n    public void run() {\r\n        Fruit banana = new Banana();\r\n\r\n        Fruit dupe = newT(banana);\r\n        System.out.println(&quot;dupe.getColor()=&quot; + dupe.getColor());\r\n\r\n        Fruit orange = new Orange();\r\n        Fruit dupe2 = newT(orange);\r\n        System.out.println(&quot;dupe2.getColor()=&quot; + dupe2.getColor());\r\n    }\r\n\r\n    public &amp;lt;T extends Fruit&amp;gt; T newT(T fruit) {\r\n        T dupe = null;\r\n        try {\r\n            Class clazz = fruit.getClass();\r\n            dupe = (T) clazz.newInstance();\r\n        } catch (Exception ex) {\r\n        } finally {\r\n            return dupe;\r\n        }\r\n    }\r\n\r\n    interface Fruit {\r\n        String getColor();\r\n    }\r\n    static class Banana implements Fruit {\r\n        public Banana() {\r\n        }\r\n        @Override\r\n        public String getColor() {\r\n            return &quot;Yellow&quot;;\r\n        }\r\n    }\r\n    static class Orange implements Fruit {\r\n        public Orange() {\r\n        }\r\n        @Override\r\n        public String getColor() {\r\n            return &quot;Orange&quot;;\r\n        }\r\n    }\r\n\r\n\r\n} // CLOSE CLASS.\r\n\r\n&lt;/code&gt;\r\n&lt;/pre&gt;","title":"C# to Java: where T : new() Syntax","body":"<p>Hope this helps.  Please note, this requires a no-arg constructor be present in the you are creating a new instance of.</p>\n\n<pre>\n<code>\npublic class TypeStuff {\n\n    private static final long serialVersionUID = 1L;\n\n    // *** PUBLIC STATIC VOID MAIN ***\n    public static void main(String[] args) {\n        TypeStuff ts = new TypeStuff();\n        ts.run();\n    }\n\n    // *** CONSTRUCTOR ***\n    public TypeStuff () {\n    }\n\n    public void run() {\n        Fruit banana = new Banana();\n\n        Fruit dupe = newT(banana);\n        System.out.println(\"dupe.getColor()=\" + dupe.getColor());\n\n        Fruit orange = new Orange();\n        Fruit dupe2 = newT(orange);\n        System.out.println(\"dupe2.getColor()=\" + dupe2.getColor());\n    }\n\n    public &lt;T extends Fruit&gt; T newT(T fruit) {\n        T dupe = null;\n        try {\n            Class clazz = fruit.getClass();\n            dupe = (T) clazz.newInstance();\n        } catch (Exception ex) {\n        } finally {\n            return dupe;\n        }\n    }\n\n    interface Fruit {\n        String getColor();\n    }\n    static class Banana implements Fruit {\n        public Banana() {\n        }\n        @Override\n        public String getColor() {\n            return \"Yellow\";\n        }\n    }\n    static class Orange implements Fruit {\n        public Orange() {\n        }\n        @Override\n        public String getColor() {\n            return \"Orange\";\n        }\n    }\n\n\n} // CLOSE CLASS.\n\n</code>\n</pre>\n"}],"owner":{"display_name":"user295190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2967,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":2619436,"answer_count":3,"score":4,"last_activity_date":1682149458,"creation_date":1271036135,"question_id":2619429,"body_markdown":"I am porting some C# code over to Java. I am having trouble with the where Syntax, specifically new(). I understand that where is similar to Java&#39;s generic: T extends FOO. \r\n\r\n**How I can replicate the new() argument in Java?**\r\n\r\n[&quot;The new() Constraint lets the compiler know that any type argument supplied must have an accessible parameterless--or default-- constructor.&quot; - MSDN][1]\r\n\r\nie:\r\n\r\n    public class BAR&lt;T&gt; : BAR\r\n           where T : FOO, new()\r\n\r\nHere is how I implemented cletus&#39;s solution:\r\n\r\n    public class BAR&lt;T extends FOO&gt; extends ABSTRACTBAR {\r\n        public BAR(T t) throws InstantiationException, IllegalAccessException{ \r\n            t.getClass().newInstance();\r\n            this.value = t;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/6b0scde8(VS.80).aspx","title":"C# to Java: where T : new() Syntax","body":"<p>I am porting some C# code over to Java. I am having trouble with the where Syntax, specifically new(). I understand that where is similar to Java's generic: T extends FOO. </p>\n\n<p><strong>How I can replicate the new() argument in Java?</strong></p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/6b0scde8(VS.80).aspx\" rel=\"nofollow noreferrer\">\"The new() Constraint lets the compiler know that any type argument supplied must have an accessible parameterless--or default-- constructor.\" - MSDN</a></p>\n\n<p>ie:</p>\n\n<pre><code>public class BAR&lt;T&gt; : BAR\n       where T : FOO, new()\n</code></pre>\n\n<p>Here is how I implemented cletus's solution:</p>\n\n<pre><code>public class BAR&lt;T extends FOO&gt; extends ABSTRACTBAR {\n    public BAR(T t) throws InstantiationException, IllegalAccessException{ \n        t.getClass().newInstance();\n        this.value = t;\n    }\n}\n</code></pre>\n"},{"tags":["java","indexing","neo4j"],"answers":[{"tags":[],"owner":{"account_id":376992,"reputation":41434,"user_id":728812,"display_name":"Michael Hunger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1682149379,"creation_date":1335507253,"answer_id":10345647,"question_id":10342934,"body_markdown":"Your approach is perfectly valid.\r\nIf you want to query all students of a school you can use:\r\n\r\n    Iterable&lt;Node&gt; pupils = index.query(schoolName + &quot;:*&quot;);\r\n\r\n\r\nYou can also just add both fields to the index:\r\n\r\n    index.add(node, &quot;schoolName&quot;, studentId);\r\n    index.add(node, &quot;id&quot;, studentId);\r\n\r\nand then query them by a combined query\r\n\r\n    Iterable&lt;Node&gt; pupils = index.query(&quot;schoolName:&quot;+schoolName + &quot; AND id:&quot;+id);\r\n\r\nThe first one is smaller in index size but the second one is more powerful.\r\nPerformance wise it won&#39;t make such a big difference (but you can test it and report back).\r\n\r\nYou could also use an structure in the graph where a school is a node and the pupils are attached to it by a `LEARNS_AT` relationship which can also have a `start` and `end` temporal property, so it is easier to model your domain. See this [demo graph][1]\r\n\r\n\r\n  [1]: http://console.neo4j.org/?init=(1)%20%7B%22name%22%20%3A%20%22MIT%22%7D%0A(2)%20%7B%22name%22%3A%22you%22%7D%0A(3)%20%7B%22name%22%3A%22me%22%7D%0A(1)%3C-%5B%3ALEARNS_AT%5D-(2)%20%7B%20%22start%22%20%3A%2019980101%2C%20%22end%22%20%3A%2020053112%20%7D%20%0A(1)%3C-%5B%3ALEARNS_AT%5D-(3)%20%7B%20%22start%22%20%3A%2020000101%7D%20%0A&amp;query=start%20school%3Dnode(1)%20match%20school-%5Br%5D-pupil%20return%20school%2Cr%2C%20pupil%0A&amp;no_root=true","title":"Indexing in Neo4j","body":"<p>Your approach is perfectly valid.\nIf you want to query all students of a school you can use:</p>\n<pre><code>Iterable&lt;Node&gt; pupils = index.query(schoolName + &quot;:*&quot;);\n</code></pre>\n<p>You can also just add both fields to the index:</p>\n<pre><code>index.add(node, &quot;schoolName&quot;, studentId);\nindex.add(node, &quot;id&quot;, studentId);\n</code></pre>\n<p>and then query them by a combined query</p>\n<pre><code>Iterable&lt;Node&gt; pupils = index.query(&quot;schoolName:&quot;+schoolName + &quot; AND id:&quot;+id);\n</code></pre>\n<p>The first one is smaller in index size but the second one is more powerful.\nPerformance wise it won't make such a big difference (but you can test it and report back).</p>\n<p>You could also use an structure in the graph where a school is a node and the pupils are attached to it by a <code>LEARNS_AT</code> relationship which can also have a <code>start</code> and <code>end</code> temporal property, so it is easier to model your domain. See this <a href=\"http://console.neo4j.org/?init=(1)%20%7B%22name%22%20%3A%20%22MIT%22%7D%0A(2)%20%7B%22name%22%3A%22you%22%7D%0A(3)%20%7B%22name%22%3A%22me%22%7D%0A(1)%3C-%5B%3ALEARNS_AT%5D-(2)%20%7B%20%22start%22%20%3A%2019980101%2C%20%22end%22%20%3A%2020053112%20%7D%20%0A(1)%3C-%5B%3ALEARNS_AT%5D-(3)%20%7B%20%22start%22%20%3A%2020000101%7D%20%0A&amp;query=start%20school%3Dnode(1)%20match%20school-%5Br%5D-pupil%20return%20school%2Cr%2C%20pupil%0A&amp;no_root=true\" rel=\"nofollow noreferrer\">demo graph</a></p>\n"}],"owner":{"account_id":370721,"reputation":157866,"user_id":942852,"accept_rate":62,"display_name":"Nitzan Tomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3252,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":10345647,"answer_count":1,"score":4,"last_activity_date":1682149379,"creation_date":1335483798,"question_id":10342934,"body_markdown":"I&#39;m wonderring what&#39;s a better approach when needing to have multiple indecies based on some node type or field.\r\nFor example, let&#39;s say I want to have a graph of students and want to index them by their school and id.\r\n\r\nAs I understand I can have an index per school like this:\r\n\r\n    // add student\r\n    Index&lt;Node&gt; index = this.graphDb.index().forNodes(schoolName);\r\n    Node node = this.graphDb.createNode();\r\n    node.setProperty(&quot;id&quot;, studentId);\r\n    index.add(node, &quot;id&quot;, studentId);\r\n    \r\n    // get student\r\n    Index&lt;Node&gt; index = this.graphDb.index().forNodes(schoolName);\r\n    Node node = index.get(&quot;id&quot;, studentId).getSingle();\r\n\r\nI can on the other hand use one index and do something like:\r\n\r\n    // add student\r\n    Index&lt;Node&gt; index = this.graphDb.index().forNodes(&quot;schools&quot;);\r\n    Node node = this.graphDb.createNode();\r\n    node.setProperty(&quot;id&quot;, studentId);\r\n    index.add(node, schoolName + &quot;:id&quot;, studentId);\r\n    \r\n    // get student\r\n    Index&lt;Node&gt; index = this.graphDb.index().forNodes(&quot;schools&quot;);\r\n    Node node = index.get(schoolName + &quot;:id&quot;, studentId).getSingle();\r\n\r\nWhat is a better approach?\r\nAny advantages to one over the other?\r\nEspecially performance wise or storage wise, when there are a lot of nodes involved.\r\n\r\nThanks","title":"Indexing in Neo4j","body":"<p>I'm wonderring what's a better approach when needing to have multiple indecies based on some node type or field.\nFor example, let's say I want to have a graph of students and want to index them by their school and id.</p>\n\n<p>As I understand I can have an index per school like this:</p>\n\n<pre><code>// add student\nIndex&lt;Node&gt; index = this.graphDb.index().forNodes(schoolName);\nNode node = this.graphDb.createNode();\nnode.setProperty(\"id\", studentId);\nindex.add(node, \"id\", studentId);\n\n// get student\nIndex&lt;Node&gt; index = this.graphDb.index().forNodes(schoolName);\nNode node = index.get(\"id\", studentId).getSingle();\n</code></pre>\n\n<p>I can on the other hand use one index and do something like:</p>\n\n<pre><code>// add student\nIndex&lt;Node&gt; index = this.graphDb.index().forNodes(\"schools\");\nNode node = this.graphDb.createNode();\nnode.setProperty(\"id\", studentId);\nindex.add(node, schoolName + \":id\", studentId);\n\n// get student\nIndex&lt;Node&gt; index = this.graphDb.index().forNodes(\"schools\");\nNode node = index.get(schoolName + \":id\", studentId).getSingle();\n</code></pre>\n\n<p>What is a better approach?\nAny advantages to one over the other?\nEspecially performance wise or storage wise, when there are a lot of nodes involved.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","excel","apache-poi","fileoutputstream"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1682147536,"post_id":76078315,"comment_id":134172637,"body_markdown":"You haven&#39;t closed the Workbook… it hat a `.close()` method, too, and you can `flush()` the `FileOutputStream` in addition.","body":"You haven&#39;t closed the Workbook… it hat a <code>.close()</code> method, too, and you can <code>flush()</code> the <code>FileOutputStream</code> in addition."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1682163500,"post_id":76078315,"comment_id":134174135,"body_markdown":"Check your `Workbook` implementation, and use the appropriate file extension.","body":"Check your <code>Workbook</code> implementation, and use the appropriate file extension."}],"owner":{"account_id":12116062,"reputation":7,"user_id":8850176,"display_name":"Miss.Q"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682147703,"creation_date":1682144882,"question_id":76078315,"body_markdown":"I am using Apache Poi to create an Excel file for my project, but I met a few weird issues while trying it. \r\n\r\n```\r\npublic void createfile(Request request, Response response) throws Exception {\r\ntry {\r\n        Integer id = ParamUtils.getParamInt(request, &quot;id&quot;, null);\r\n        Workbook workbook = new HSSFWorkbook();\r\n        Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\r\n        FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;);\r\n        workbook.write(fileOut);\r\n        fileOut.close();\r\n        }\r\n        catch (IncorrectData e) {\r\n            return e;\r\n        }\r\n\r\n    }\r\n\r\n```\r\nFirstly, I got a **format or extension that is not valid** error when I try to open the file I create with this function. Secondly, I got **file in use locked for editing by another user** but I clearly closed OutputStream at the end of the code.\r\nOne last question, it was a function at my server and I was wondering if I can pass/return this Excel file to the front to download it?\r\n\r\nThanks!","title":"Apache Poi Format or extension is not valid and file in use locked for editing by another user","body":"<p>I am using Apache Poi to create an Excel file for my project, but I met a few weird issues while trying it.</p>\n<pre><code>public void createfile(Request request, Response response) throws Exception {\ntry {\n        Integer id = ParamUtils.getParamInt(request, &quot;id&quot;, null);\n        Workbook workbook = new HSSFWorkbook();\n        Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\n        FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;);\n        workbook.write(fileOut);\n        fileOut.close();\n        }\n        catch (IncorrectData e) {\n            return e;\n        }\n\n    }\n\n</code></pre>\n<p>Firstly, I got a <strong>format or extension that is not valid</strong> error when I try to open the file I create with this function. Secondly, I got <strong>file in use locked for editing by another user</strong> but I clearly closed OutputStream at the end of the code.\nOne last question, it was a function at my server and I was wondering if I can pass/return this Excel file to the front to download it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","math","finance","formula"],"comments":[{"owner":{"account_id":45901,"reputation":10334,"user_id":135494,"accept_rate":84,"display_name":"Clement Herreman"},"score":4,"creation_date":1247836709,"post_id":1143180,"comment_id":961083,"body_markdown":"Not computer-related, it&#39;s just math... Not even math. -1 from me.","body":"Not computer-related, it&#39;s just math... Not even math. -1 from me."},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":0,"creation_date":1247837068,"post_id":1143180,"comment_id":961122,"body_markdown":"Initiate humor: 18% per month?!  Holy cow!  What in the world are you investing in?!  ;-)","body":"Initiate humor: 18% per month?!  Holy cow!  What in the world are you investing in?!  ;-)"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":2,"creation_date":1247837100,"post_id":1143180,"comment_id":961127,"body_markdown":"Fixed the title to reflect question, which is in fact programming related.","body":"Fixed the title to reflect question, which is in fact programming related."},{"owner":{"account_id":38180,"reputation":1853,"user_id":109426,"accept_rate":97,"display_name":"Bryan"},"score":2,"creation_date":1247843437,"post_id":1143180,"comment_id":961880,"body_markdown":"Where are you getting an 18%/year interest from?","body":"Where are you getting an 18%/year interest from?"},{"owner":{"account_id":41025,"reputation":10135,"user_id":119139,"accept_rate":67,"display_name":"nightingale2k1"},"score":0,"creation_date":1247879873,"post_id":1143180,"comment_id":964616,"body_markdown":"it is kind of giving credits to people for business... \n\ni&#39;m giving rough estimation, it actually less than 15% :)","body":"it is kind of giving credits to people for business...   i&#39;m giving rough estimation, it actually less than 15% :)"}],"answers":[{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1247836924,"creation_date":1247836924,"answer_id":1143231,"question_id":1143180,"body_markdown":"If you are not doing it for lending purposes, the simple formulae posted in other answers will probably be good enough.\r\n\r\nIf this is for any kind of financial activity, beware of any simple calculation for compound interest. If it is for any lending you are probably required to conform to strict rules (e.g in the UK the rate must be quoted in the form of an APR). \r\n\r\nThe calculations need to take into account:\r\n\r\n - the variable days in a month\r\n - whether interest is applied daily or monthly\r\n - what day the borrowing was drawn down\r\n - the day of the month payment has been taken.\r\n - other stuff  I can&#39;t remember but you&#39;d better look up for your contract to be legally binding\r\n\r\nIn practice this needs a form of iteration to find the regular and final payments.\r\n\r\n","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>If you are not doing it for lending purposes, the simple formulae posted in other answers will probably be good enough.</p>\n\n<p>If this is for any kind of financial activity, beware of any simple calculation for compound interest. If it is for any lending you are probably required to conform to strict rules (e.g in the UK the rate must be quoted in the form of an APR). </p>\n\n<p>The calculations need to take into account:</p>\n\n<ul>\n<li>the variable days in a month</li>\n<li>whether interest is applied daily or monthly</li>\n<li>what day the borrowing was drawn down</li>\n<li>the day of the month payment has been taken.</li>\n<li>other stuff  I can't remember but you'd better look up for your contract to be legally binding</li>\n</ul>\n\n<p>In practice this needs a form of iteration to find the regular and final payments.</p>\n"},{"tags":[],"owner":{"account_id":19555,"reputation":237913,"user_id":45914,"accept_rate":68,"display_name":"jason"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1682147545,"creation_date":1247837049,"answer_id":1143242,"question_id":1143180,"body_markdown":"Let us say that you are investing `D` dollars at the beginning of each month for `M` months earning an interest rate of `r` compounded monthly. We will set `i = r / 12`. At the end of `M` months you will have\r\n\r\n    D * (1 + i)^M + D * (1 + i)^(M - 1) + D * (1 + i)^(M - 2) + ...\r\n        D * (1 + i)\r\n\r\nin your account. This is because the `D` dollars in the first month are invested for `M` months, the `D` dollars in the second month are invested for `M-1` months, and so on. This is a [geometric progression](http://en.wikipedia.org/wiki/Geometric_progression) and simplifies to\r\n\r\n    D * (1 + i) * ((1 + i)^M - 1) / i.\r\n\r\nTherefore, if you want `X` in your account at the end of `M` months you solve\r\n\r\n    X = D * (1 + i) * ((1 + i)^M - 1) / i\r\n\r\nfor `D` to obtain\r\n\r\n    D = X * i / ((1 + i) * ((1 + i)^M - 1)).\r\n\r\nYou don&#39;t really need an API here to solve this as you can see the solution is quite simple. The concept that you might want to read about here is that of [annuities](http://en.wikipedia.org/wiki/Annuity_(finance_theory)).","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>Let us say that you are investing <code>D</code> dollars at the beginning of each month for <code>M</code> months earning an interest rate of <code>r</code> compounded monthly. We will set <code>i = r / 12</code>. At the end of <code>M</code> months you will have</p>\n<pre><code>D * (1 + i)^M + D * (1 + i)^(M - 1) + D * (1 + i)^(M - 2) + ...\n    D * (1 + i)\n</code></pre>\n<p>in your account. This is because the <code>D</code> dollars in the first month are invested for <code>M</code> months, the <code>D</code> dollars in the second month are invested for <code>M-1</code> months, and so on. This is a <a href=\"http://en.wikipedia.org/wiki/Geometric_progression\" rel=\"nofollow noreferrer\">geometric progression</a> and simplifies to</p>\n<pre><code>D * (1 + i) * ((1 + i)^M - 1) / i.\n</code></pre>\n<p>Therefore, if you want <code>X</code> in your account at the end of <code>M</code> months you solve</p>\n<pre><code>X = D * (1 + i) * ((1 + i)^M - 1) / i\n</code></pre>\n<p>for <code>D</code> to obtain</p>\n<pre><code>D = X * i / ((1 + i) * ((1 + i)^M - 1)).\n</code></pre>\n<p>You don't really need an API here to solve this as you can see the solution is quite simple. The concept that you might want to read about here is that of <a href=\"http://en.wikipedia.org/wiki/Annuity_(finance_theory)\" rel=\"nofollow noreferrer\">annuities</a>.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1247837478,"creation_date":1247837478,"answer_id":1143280,"question_id":1143180,"body_markdown":"I think [this][1] gets you what you want. Its even LGPL, even though if you are getting 18% returns on your money, price shouldn&#39;t matter ;-).\r\n\r\n\r\n  [1]: http://www.getobjects.com/Components/Finance/TVM/tvm.html","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>I think <a href=\"http://www.getobjects.com/Components/Finance/TVM/tvm.html\" rel=\"nofollow noreferrer\">this</a> gets you what you want. Its even LGPL, even though if you are getting 18% returns on your money, price shouldn't matter ;-).</p>\n"},{"tags":[],"owner":{"account_id":24381,"reputation":64431,"user_id":61989,"accept_rate":79,"display_name":"Patrick McDonald"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1247848987,"creation_date":1247837600,"answer_id":1143292,"question_id":1143180,"body_markdown":"The [formula][1] you want is `S = R * [(1+i)^n - 1] / i` where \r\n\r\n    S = the required amount at the end (1,000,000)\r\n    R = the regular payment (what you want)\r\n    i = the periodic rate of interest (0.015)\r\n    n = the number of time periods (24)\r\n\r\nso your answer R = 1000000 * .015 / (1.015^24 - 1) (~= 34924.10)\r\n\r\n**EDIT:**\r\n\r\nThis assumes payments are at the end of each period, if payments are made at the beginning of each period, then divide your answer by (1+i)\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Annuity_(finance_theory)","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/Annuity_(finance_theory)\" rel=\"nofollow noreferrer\">formula</a> you want is <code>S = R * [(1+i)^n - 1] / i</code> where </p>\n\n<pre><code>S = the required amount at the end (1,000,000)\nR = the regular payment (what you want)\ni = the periodic rate of interest (0.015)\nn = the number of time periods (24)\n</code></pre>\n\n<p>so your answer R = 1000000 * .015 / (1.015^24 - 1) (~= 34924.10)</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This assumes payments are at the end of each period, if payments are made at the beginning of each period, then divide your answer by (1+i)</p>\n"}],"owner":{"account_id":41025,"reputation":10135,"user_id":119139,"accept_rate":67,"display_name":"nightingale2k1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3054,"favorite_count":0,"down_vote_count":5,"up_vote_count":8,"accepted_answer_id":1143242,"answer_count":4,"score":3,"last_activity_date":1682147545,"creation_date":1247836310,"question_id":1143180,"body_markdown":"I was asked by my boss to create a module for calculating reverse compound. \r\n\r\nThe question is: if I want to achieve $1.000.000,00 in 24 months with interest rate 18%/year (or 1.5%/month). how much money do I have to save every month?\r\n\r\nI searched on the internet, but found nothing except people referring to the Excel formula.\r\nDo you know what the mathematical formula is for this case?\r\n\r\nI am using Java for this module.  Is there any Java library or API?\r\n\r\n","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>I was asked by my boss to create a module for calculating reverse compound. </p>\n\n<p>The question is: if I want to achieve $1.000.000,00 in 24 months with interest rate 18%/year (or 1.5%/month). how much money do I have to save every month?</p>\n\n<p>I searched on the internet, but found nothing except people referring to the Excel formula.\nDo you know what the mathematical formula is for this case?</p>\n\n<p>I am using Java for this module.  Is there any Java library or API?</p>\n"},{"tags":["java","api","graphics","3d"],"comments":[{"owner":{"account_id":36250,"reputation":5908,"user_id":103258,"display_name":"haffax"},"score":1,"creation_date":1248992415,"post_id":1197791,"comment_id":1033278,"body_markdown":"Why Java? Better use C++, your options increase tenfold even when restricting yourself to multi-platform solutions. It is easier to learn C++ than getting lacking Java libs to work.\nAlso irrlicht&#39;s java binding hasn&#39;t been updated for almost two years. Irrlicht itself is C++.","body":"Why Java? Better use C++, your options increase tenfold even when restricting yourself to multi-platform solutions. It is easier to learn C++ than getting lacking Java libs to work. Also irrlicht&#39;s java binding hasn&#39;t been updated for almost two years. Irrlicht itself is C++."},{"owner":{"account_id":24563,"reputation":6529,"user_id":62575,"accept_rate":72,"display_name":"worbel"},"score":3,"creation_date":1248998254,"post_id":1197791,"comment_id":1033596,"body_markdown":"@haffax My program does a lot of work with line input and MIDI files, I don&#39;t think I would get that with C++ easily. I know its difficult to do it with C# (there&#39;s no official support in the API). I could only imagine how much harder it would be in C++ :)","body":"@haffax My program does a lot of work with line input and MIDI files, I don&#39;t think I would get that with C++ easily. I know its difficult to do it with C# (there&#39;s no official support in the API). I could only imagine how much harder it would be in C++ :)"},{"owner":{"account_id":279461,"reputation":396,"user_id":574630,"display_name":"mbien"},"score":1,"creation_date":1315971191,"post_id":1197791,"comment_id":8955408,"body_markdown":"jogl moved from java.net to jogamp: http://jogamp.org/ you linked the old project home.","body":"jogl moved from java.net to jogamp: <a href=\"http://jogamp.org/\" rel=\"nofollow noreferrer\">jogamp.org</a> you linked the old project home."}],"answers":[{"tags":[],"owner":{"account_id":11452,"reputation":9706,"user_id":22080,"display_name":"Harald Scheirich"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1248836767,"creation_date":1248836767,"answer_id":1197869,"question_id":1197791,"body_markdown":"You are mixing libraries and levels of libraries, Jogl and lwjgl are both pretty thin wrappers around OpenGl (IIRC lwjgl has more wrappers for OpenAL i.e. audio). While you can write a game using pure opengl you will probably spend a lot of time managing geometry, building (or reinventing) a scenegraph and other management functionality. \r\n\r\nProcessing is mostly 2D oriented.\r\n\r\nI don&#39;t have any experience with ogre4j, but the last time I looked JMonkey was under current development looking at the [2.0 repository][1] there is a long list of changes that are current.\r\n\r\nIf you are not too set on using Java consider some of the alternatives [Torque][2] (private Scripting Language) [Panda3d][3] (python) or the aforementioned OGRE using C++. I don&#39;t know what classes and constructs you are talking about in your first paragraph, but having a library or backend that takes care of the scene management, visibility calculations, sound management, game loop, possibly even networking might be a better driver for your decision than a specific language feature.\r\n\r\n  [1]: http://code.google.com/p/jmonkeyengine/source/list\r\n  [2]: http://www.garagegames.com\r\n  [3]: http://www.panda3d.org/","title":"Best 3D Java Engine","body":"<p>You are mixing libraries and levels of libraries, Jogl and lwjgl are both pretty thin wrappers around OpenGl (IIRC lwjgl has more wrappers for OpenAL i.e. audio). While you can write a game using pure opengl you will probably spend a lot of time managing geometry, building (or reinventing) a scenegraph and other management functionality. </p>\n\n<p>Processing is mostly 2D oriented.</p>\n\n<p>I don't have any experience with ogre4j, but the last time I looked JMonkey was under current development looking at the <a href=\"http://code.google.com/p/jmonkeyengine/source/list\" rel=\"noreferrer\">2.0 repository</a> there is a long list of changes that are current.</p>\n\n<p>If you are not too set on using Java consider some of the alternatives <a href=\"http://www.garagegames.com\" rel=\"noreferrer\">Torque</a> (private Scripting Language) <a href=\"http://www.panda3d.org/\" rel=\"noreferrer\">Panda3d</a> (python) or the aforementioned OGRE using C++. I don't know what classes and constructs you are talking about in your first paragraph, but having a library or backend that takes care of the scene management, visibility calculations, sound management, game loop, possibly even networking might be a better driver for your decision than a specific language feature.</p>\n"},{"tags":[],"owner":{"account_id":261698,"reputation":6422,"user_id":546060,"accept_rate":86,"display_name":"Charles Goodwin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1682147458,"creation_date":1315778569,"answer_id":7381576,"question_id":1197791,"body_markdown":"I would look at Ardor3D and have another look at JMonkeyEngine.\r\n\r\n---\r\n\r\n[Ardor3D][1]\r\n-------\r\n\r\n**UPDATE:** *Ardor3D&#39;s developer [ceased the project][2], but a subset of it [continues to exist](https://gouessej.wordpress.com/2014/11/22/ardor3d-est-mort-vive-jogamps-ardor3d-continuation-ardor3d-is-dead-long-life-to-jogamps-ardor3d-continuation/)*\r\n\r\nCreated by the original JMonkeyEngine developer(s) who decided a clean break was required so they could start over and use all the experience gained to create a better API and platform.\r\n\r\nThe people I know who have used Ardor3D have very positive things to say about its design and API.  It is actively maintained and has a good community and good API documentation, although tutorials are a little short in supply and generally you&#39;ll have to be familiar with 3D programming concepts to be able to pick it up.\r\n\r\n----\r\n\r\n[JMonkeyEngine 3][3]\r\n--------\r\n\r\nA community-led rewrite of JMonkeyEngine 2, driven by dissatisfaction with JME2 design and related issues caused by said design, it has gone from strength to strength since its release.\r\n\r\nThere is ample documentation including tutorials and plenty of projects using it.  If you had issues with JMonkeyEngine 2 or earlier, it is well worth another look at version 3.\r\n\r\n----\r\n\r\nOthers\r\n----\r\n* [Env3D][4]\r\n* [jPCT][5]\r\n* [3dzzd][6]\r\n* [Jake2][7]\r\n* [Xith3D][8]\r\n\r\n\r\n  [1]: http://www.ardor3d.com/\r\n  [2]: http://ardor3d.forumatic.com/viewtopic.php?f=4&amp;t=12755\r\n  [3]: http://www.jmonkeyengine.com/\r\n  [4]: http://env3d.sourceforge.net\r\n  [5]: http://www.jpct.net/\r\n  [6]: http://dzzd.net/\r\n  [7]: http://bytonic.de/html/jake2.html\r\n  [8]: http://www.xith.org","title":"Best 3D Java Engine","body":"<p>I would look at Ardor3D and have another look at JMonkeyEngine.</p>\n<hr />\n<h2><a href=\"http://www.ardor3d.com/\" rel=\"nofollow noreferrer\">Ardor3D</a></h2>\n<p><strong>UPDATE:</strong> <em>Ardor3D's developer <a href=\"http://ardor3d.forumatic.com/viewtopic.php?f=4&amp;t=12755\" rel=\"nofollow noreferrer\">ceased the project</a>, but a subset of it <a href=\"https://gouessej.wordpress.com/2014/11/22/ardor3d-est-mort-vive-jogamps-ardor3d-continuation-ardor3d-is-dead-long-life-to-jogamps-ardor3d-continuation/\" rel=\"nofollow noreferrer\">continues to exist</a></em></p>\n<p>Created by the original JMonkeyEngine developer(s) who decided a clean break was required so they could start over and use all the experience gained to create a better API and platform.</p>\n<p>The people I know who have used Ardor3D have very positive things to say about its design and API.  It is actively maintained and has a good community and good API documentation, although tutorials are a little short in supply and generally you'll have to be familiar with 3D programming concepts to be able to pick it up.</p>\n<hr />\n<h2><a href=\"http://www.jmonkeyengine.com/\" rel=\"nofollow noreferrer\">JMonkeyEngine 3</a></h2>\n<p>A community-led rewrite of JMonkeyEngine 2, driven by dissatisfaction with JME2 design and related issues caused by said design, it has gone from strength to strength since its release.</p>\n<p>There is ample documentation including tutorials and plenty of projects using it.  If you had issues with JMonkeyEngine 2 or earlier, it is well worth another look at version 3.</p>\n<hr />\n<h2>Others</h2>\n<ul>\n<li><a href=\"http://env3d.sourceforge.net\" rel=\"nofollow noreferrer\">Env3D</a></li>\n<li><a href=\"http://www.jpct.net/\" rel=\"nofollow noreferrer\">jPCT</a></li>\n<li><a href=\"http://dzzd.net/\" rel=\"nofollow noreferrer\">3dzzd</a></li>\n<li><a href=\"http://bytonic.de/html/jake2.html\" rel=\"nofollow noreferrer\">Jake2</a></li>\n<li><a href=\"http://www.xith.org\" rel=\"nofollow noreferrer\">Xith3D</a></li>\n</ul>\n"}],"owner":{"account_id":24563,"reputation":6529,"user_id":62575,"accept_rate":72,"display_name":"worbel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52753,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"closed_date":1431884622,"answer_count":2,"score":39,"last_activity_date":1682147458,"creation_date":1248834831,"question_id":1197791,"body_markdown":"Looking for an easy to use 3D Java Engine API (i.e. not wrapper) that has a good community and good development. Extra features (i.e. audio, input, etc.) are not necessary but nice.\r\n\r\nList of the most popular Java 3D graphics APIs I found:\r\n\r\n**Wrappers / Low Level**\r\n\r\n - [JOGL][1] - Strong community / Good support / Active\r\n - [Java3D][2] - Abandoned (or slowly dying), phased out Scene Graph (or re-tooling into JavaFX?)\r\n - [lwjgl][3] - Open GL wrapper, with audio and input handling / Active\r\n\r\n----------\r\n\r\n**Engines**\r\n\r\n**[jMonkey Engine][4]** - [Wikipedia][5] - [Active][6] \r\n\r\n - Branching between version 3.0 and 2.0 (may hurt community)\r\n\r\n**[ogre4j][7]** - [Wikipedia][8] - [Active][9]\r\n\r\n - Parent project [OGRE][10] - [Active][11] - C++\r\n\r\n**[Bindenlicht][12]** - No Wikipedia! - [Not active][13]\r\n\r\n - Parent project [Irrlicht][14] - [Wikipedia][15] - [Active][16] - C++\r\n\r\n----------\r\n\r\n**High Level (Not designed for gaming)**\r\n\r\n - [Processing][17] - Doesn&#39;t seem suited for gaming but for graphics visualizations and demos\r\n - [Jzy3d][18] - An easy to use Java API for 3d charts (surfaces, scatters, bar charts, etc). Built on top of JOGL\r\n\r\n----------\r\n\r\n**Update**: Please pick a JAVA engine and explain why its your choice! Thanks!\r\n\r\n\r\n  [1]: http://jogamp.org/\r\n  [2]: http://java.sun.com/javase/technologies/desktop/java3d/\r\n  [3]: http://www.lwjgl.org/\r\n  [4]: http://en.wikipedia.org/wiki/JMonkey_Engine\r\n  [5]: http://en.wikipedia.org/wiki/JMonkey_Engine\r\n  [6]: http://code.google.com/p/jmonkeyengine/source/list\r\n  [7]: http://ogre4j.sourceforge.net/\r\n  [8]: http://en.wikipedia.org/wiki/Ogre4j\r\n  [9]: http://sourceforge.net/project/stats/detail.php?group_id=143864&amp;ugn=ogre4j&amp;type=svn&amp;mode=year\r\n  [10]: http://www.ogre3d.org/\r\n  [11]: http://ogre.svn.sourceforge.net/viewvc/ogre/\r\n  [12]: http://sourceforge.net/projects/bindenlicht/\r\n  [13]: http://sourceforge.net/projects/bindenlicht/files/\r\n  [14]: http://irrlicht.sourceforge.net/\r\n  [15]: http://en.wikipedia.org/wiki/Irrlicht_Engine\r\n  [16]: http://sourceforge.net/projects/irrlicht/\r\n  [17]: http://processing.org/\r\n  [18]: http://www.jzy3d.org/","title":"Best 3D Java Engine","body":"<p>Looking for an easy to use 3D Java Engine API (i.e. not wrapper) that has a good community and good development. Extra features (i.e. audio, input, etc.) are not necessary but nice.</p>\n\n<p>List of the most popular Java 3D graphics APIs I found:</p>\n\n<p><strong>Wrappers / Low Level</strong></p>\n\n<ul>\n<li><a href=\"http://jogamp.org/\" rel=\"noreferrer\">JOGL</a> - Strong community / Good support / Active</li>\n<li><a href=\"http://java.sun.com/javase/technologies/desktop/java3d/\" rel=\"noreferrer\">Java3D</a> - Abandoned (or slowly dying), phased out Scene Graph (or re-tooling into JavaFX?)</li>\n<li><a href=\"http://www.lwjgl.org/\" rel=\"noreferrer\">lwjgl</a> - Open GL wrapper, with audio and input handling / Active</li>\n</ul>\n\n<hr>\n\n<p><strong>Engines</strong></p>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/JMonkey_Engine\" rel=\"noreferrer\">jMonkey Engine</a></strong> - <a href=\"http://en.wikipedia.org/wiki/JMonkey_Engine\" rel=\"noreferrer\">Wikipedia</a> - <a href=\"http://code.google.com/p/jmonkeyengine/source/list\" rel=\"noreferrer\">Active</a> </p>\n\n<ul>\n<li>Branching between version 3.0 and 2.0 (may hurt community)</li>\n</ul>\n\n<p><strong><a href=\"http://ogre4j.sourceforge.net/\" rel=\"noreferrer\">ogre4j</a></strong> - <a href=\"http://en.wikipedia.org/wiki/Ogre4j\" rel=\"noreferrer\">Wikipedia</a> - <a href=\"http://sourceforge.net/project/stats/detail.php?group_id=143864&amp;ugn=ogre4j&amp;type=svn&amp;mode=year\" rel=\"noreferrer\">Active</a></p>\n\n<ul>\n<li>Parent project <a href=\"http://www.ogre3d.org/\" rel=\"noreferrer\">OGRE</a> - <a href=\"http://ogre.svn.sourceforge.net/viewvc/ogre/\" rel=\"noreferrer\">Active</a> - C++</li>\n</ul>\n\n<p><strong><a href=\"http://sourceforge.net/projects/bindenlicht/\" rel=\"noreferrer\">Bindenlicht</a></strong> - No Wikipedia! - <a href=\"http://sourceforge.net/projects/bindenlicht/files/\" rel=\"noreferrer\">Not active</a></p>\n\n<ul>\n<li>Parent project <a href=\"http://irrlicht.sourceforge.net/\" rel=\"noreferrer\">Irrlicht</a> - <a href=\"http://en.wikipedia.org/wiki/Irrlicht_Engine\" rel=\"noreferrer\">Wikipedia</a> - <a href=\"http://sourceforge.net/projects/irrlicht/\" rel=\"noreferrer\">Active</a> - C++</li>\n</ul>\n\n<hr>\n\n<p><strong>High Level (Not designed for gaming)</strong></p>\n\n<ul>\n<li><a href=\"http://processing.org/\" rel=\"noreferrer\">Processing</a> - Doesn't seem suited for gaming but for graphics visualizations and demos</li>\n<li><a href=\"http://www.jzy3d.org/\" rel=\"noreferrer\">Jzy3d</a> - An easy to use Java API for 3d charts (surfaces, scatters, bar charts, etc). Built on top of JOGL</li>\n</ul>\n\n<hr>\n\n<p><strong>Update</strong>: Please pick a JAVA engine and explain why its your choice! Thanks!</p>\n"},{"tags":["java","random","filenames"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1263351757,"post_id":2054078,"comment_id":1981685,"body_markdown":"And did you look in the File class, perhaps at a method named createTempFile?","body":"And did you look in the File class, perhaps at a method named createTempFile?"},{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":0,"creation_date":1480582557,"post_id":2054078,"comment_id":69025051,"body_markdown":"@JamesKPolk I did, and then I ended up here because I did not find any method in the `File` class that does that; certainly not `createTempFile`; that would be OK if I wanted to create the file, which is not what this question asks, regardless of whether the OP wants that or not.","body":"@JamesKPolk I did, and then I ended up here because I did not find any method in the <code>File</code> class that does that; certainly not <code>createTempFile</code>; that would be OK if I wanted to create the file, which is not what this question asks, regardless of whether the OP wants that or not."}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1682147323,"creation_date":1263351916,"answer_id":2054101,"question_id":2054078,"body_markdown":"[`File.createTempFile()`][1] allows you to specify a directory so:\r\n\r\n    File uniqueFile = File.createTempFile(&quot;post&quot;, &quot;.html&quot;, new File(&quot;/var/www/doc&quot;));\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\r\n","title":"In Java: create unique random filename in a directory","body":"<p><a href=\"https://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\"><code>File.createTempFile()</code></a> allows you to specify a directory so:</p>\n<pre><code>File uniqueFile = File.createTempFile(&quot;post&quot;, &quot;.html&quot;, new File(&quot;/var/www/doc&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"down_vote_count":11,"up_vote_count":3,"is_accepted":false,"score":-8,"last_activity_date":1263351995,"creation_date":1263351995,"answer_id":2054106,"question_id":2054078,"body_markdown":"You want the `File.createTempFile(String, String, File)` overload.\r\n\r\nWhich you would have seen immediately had you bothered to look at the documentation.","title":"In Java: create unique random filename in a directory","body":"<p>You want the <code>File.createTempFile(String, String, File)</code> overload.</p>\n\n<p>Which you would have seen immediately had you bothered to look at the documentation.</p>\n"}],"owner":{"account_id":39297,"reputation":16022,"user_id":113247,"accept_rate":69,"display_name":"Quintin Par"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11992,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":2054101,"answer_count":2,"score":4,"last_activity_date":1682147323,"creation_date":1263351509,"question_id":2054078,"body_markdown":"How do I create a random unique filename in a directory (of my choice)?   \r\n\r\n***Note:*** I don’t want this file in the system temp path but rather in the directory I specify \r\n","title":"In Java: create unique random filename in a directory","body":"<p>How do I create a random unique filename in a directory (of my choice)?   </p>\n\n<p><strong><em>Note:</em></strong> I don’t want this file in the system temp path but rather in the directory I specify </p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"score":0,"creation_date":1271067887,"post_id":2621251,"comment_id":19679911,"body_markdown":"The eval method looks like Ruby&#39;s eval, so maybe you could look at how [JRuby](http://kenai.com/projects/jruby/sources) does it.","body":"The eval method looks like Ruby&#39;s eval, so maybe you could look at how <a href=\"http://kenai.com/projects/jruby/sources\" rel=\"nofollow noreferrer\">JRuby</a> does it."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1271067887,"creation_date":1271067887,"answer_id":2621277,"question_id":2621251,"body_markdown":"You can loop over all methods of a class using:\r\n\r\n    cls.getMethods(); // gets all public methods (from the whole class hierarchy)\r\n    \r\nor\r\n\r\n    cls.getDeclaredMethods(); // get all methods declared by this class\r\n\r\n.\r\n\r\n    for (Method method : cls.getMethods()) {\r\n        // make your checks and calls here\r\n    }","title":"Using Java reflection to create eval() method","body":"<p>You can loop over all methods of a class using:</p>\n\n<pre><code>cls.getMethods(); // gets all public methods (from the whole class hierarchy)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>cls.getDeclaredMethods(); // get all methods declared by this class\n</code></pre>\n\n<p>.</p>\n\n<pre><code>for (Method method : cls.getMethods()) {\n    // make your checks and calls here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271067927,"creation_date":1271067927,"answer_id":2621279,"question_id":2621251,"body_markdown":"You can use `getMethods()` which returns an array of all methods of a class. \r\nInside the loop you can inspect the parameters of each method.\r\n\r\n    for(Method m : cl.getMethods()) {\r\n       Class&lt;?&gt;[] params = m.getParameterTypes();\r\n       ...\r\n    }\r\n\r\nOtherwise you can use `getDelcaredMethods()` which will allow you to &quot;see&quot; private methods (but not inherited methods). Note that if you want to invoke a private methods you must first  apply [setAccessible(boolean flag)][1] on it:\r\n\r\n    for(Method m : cl.getDelcaredMethods()) {\r\n       m.setAccessible(true);\r\n       Class&lt;?&gt;[] params = m.getParameterTypes();\r\n       ...\r\n    }\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible%28java.lang.reflect.AccessibleObject[],%20boolean%29","title":"Using Java reflection to create eval() method","body":"<p>You can use <code>getMethods()</code> which returns an array of all methods of a class. \nInside the loop you can inspect the parameters of each method.</p>\n\n<pre><code>for(Method m : cl.getMethods()) {\n   Class&lt;?&gt;[] params = m.getParameterTypes();\n   ...\n}\n</code></pre>\n\n<p>Otherwise you can use <code>getDelcaredMethods()</code> which will allow you to \"see\" private methods (but not inherited methods). Note that if you want to invoke a private methods you must first  apply <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible%28java.lang.reflect.AccessibleObject[],%20boolean%29\" rel=\"nofollow noreferrer\">setAccessible(boolean flag)</a> on it:</p>\n\n<pre><code>for(Method m : cl.getDelcaredMethods()) {\n   m.setAccessible(true);\n   Class&lt;?&gt;[] params = m.getParameterTypes();\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1682147098,"creation_date":1271067958,"answer_id":2621283,"question_id":2621251,"body_markdown":"You will need to call [`Class.getMethods()`][1] and iterate through them looking for the correct function.\r\n\r\n    For (Method method : clazz.getMethods()) {\r\n      if (method.getName().equals(&quot;...&quot;)) {\r\n        ...\r\n      }\r\n    }\r\n\r\nThe reason for this is that there can be multiple methods with the same name and different parameter types (ie the method name is overloaded).\r\n\r\n`getMethods()` returns all the public methods in the class, including those from superclasses. An alternative is [`Class.getDeclaredMethods()`][2], which returns all methods in that class *only*.\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getMethods()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getDeclaredMethods()","title":"Using Java reflection to create eval() method","body":"<p>You will need to call <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getMethods()\" rel=\"nofollow noreferrer\"><code>Class.getMethods()</code></a> and iterate through them looking for the correct function.</p>\n<pre><code>For (Method method : clazz.getMethods()) {\n  if (method.getName().equals(&quot;...&quot;)) {\n    ...\n  }\n}\n</code></pre>\n<p>The reason for this is that there can be multiple methods with the same name and different parameter types (ie the method name is overloaded).</p>\n<p><code>getMethods()</code> returns all the public methods in the class, including those from superclasses. An alternative is <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getDeclaredMethods()\" rel=\"nofollow noreferrer\"><code>Class.getDeclaredMethods()</code></a>, which returns all methods in that class <em>only</em>.</p>\n"},{"tags":[],"owner":{"account_id":112738,"reputation":838,"user_id":297221,"accept_rate":56,"display_name":"heldopslippers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271070560,"creation_date":1271070560,"answer_id":2621522,"question_id":2621251,"body_markdown":"Ok thanxs to all the people who answered my question here the final solution:\r\n\r\n    import java.lang.reflect.Method;\r\n    public class Main {\r\n       public static void main(String[] args){\r\n          String func = &quot;test&quot;;\r\n          Object arguments[] = {&quot;this is &quot;, &quot;really cool&quot;};\r\n          try{\r\n             Class cl = Class.forName(&quot;Main&quot;);\r\n             for (Method method : cl.getMethods()){\r\n                if(method.getName().equals(func)){\r\n                   method.invoke(null, arguments);\r\n                }\r\n              }\r\n           } catch (Exception ioe){\r\n              System.out.println(ioe);\r\n           }\r\n        }\r\n      public static void test(String s, String b){\r\n         System.out.println(s+b);\r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"Using Java reflection to create eval() method","body":"<p>Ok thanxs to all the people who answered my question here the final solution:</p>\n\n<pre><code>import java.lang.reflect.Method;\npublic class Main {\n   public static void main(String[] args){\n      String func = \"test\";\n      Object arguments[] = {\"this is \", \"really cool\"};\n      try{\n         Class cl = Class.forName(\"Main\");\n         for (Method method : cl.getMethods()){\n            if(method.getName().equals(func)){\n               method.invoke(null, arguments);\n            }\n          }\n       } catch (Exception ioe){\n          System.out.println(ioe);\n       }\n    }\n  public static void test(String s, String b){\n     System.out.println(s+b);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":112738,"reputation":838,"user_id":297221,"accept_rate":56,"display_name":"heldopslippers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17293,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2621283,"answer_count":4,"score":5,"last_activity_date":1682147098,"creation_date":1271067608,"question_id":2621251,"body_markdown":"I have a question about reflection\r\nI am trying to have some kind of eval() method. So i can call for example: \r\n\r\n    eval(&quot;test(&#39;woohoo&#39;)&quot;);\r\n\r\nNow I understand the there is no eval method in java but there is reflection. I made the following code:\r\n\r\n    String s = &quot;test&quot;;\r\n    Class cl = Class.forName(&quot;Main&quot;);\r\n    Method method = cl.getMethod(s, String.class);\r\n    method.invoke(null, &quot;woohoo&quot;);\r\n\r\nThis works perfectly (of course there is a try, catch block around this code). It runs the test method. However I want to call multiple methods who all have different parameters.\r\n\r\nI don&#39;t know what parameters these are (so not only String.class). But how is this possible? how \r\ncan I get the parameter types of a method ?\r\nI know of the following method:\r\n\r\n    Class[] parameterTypes = method.getParameterTypes();\r\n\r\nBut that will return the parameterTypes of the method I just selected! with the following statement:\r\n\r\n    Method method = cl.getMethod(s, String.class);\r\n\r\nAny help would be appreciated ! ","title":"Using Java reflection to create eval() method","body":"<p>I have a question about reflection\nI am trying to have some kind of eval() method. So i can call for example: </p>\n\n<pre><code>eval(\"test('woohoo')\");\n</code></pre>\n\n<p>Now I understand the there is no eval method in java but there is reflection. I made the following code:</p>\n\n<pre><code>String s = \"test\";\nClass cl = Class.forName(\"Main\");\nMethod method = cl.getMethod(s, String.class);\nmethod.invoke(null, \"woohoo\");\n</code></pre>\n\n<p>This works perfectly (of course there is a try, catch block around this code). It runs the test method. However I want to call multiple methods who all have different parameters.</p>\n\n<p>I don't know what parameters these are (so not only String.class). But how is this possible? how \ncan I get the parameter types of a method ?\nI know of the following method:</p>\n\n<pre><code>Class[] parameterTypes = method.getParameterTypes();\n</code></pre>\n\n<p>But that will return the parameterTypes of the method I just selected! with the following statement:</p>\n\n<pre><code>Method method = cl.getMethod(s, String.class);\n</code></pre>\n\n<p>Any help would be appreciated ! </p>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1681982560,"post_id":76062497,"comment_id":134145293,"body_markdown":"Does this answer your question? [What does &quot;Could not find or load main class&quot; mean?](https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\">What does &quot;Could not find or load main class&quot; mean?</a>"}],"answers":[{"tags":[],"owner":{"account_id":28321072,"reputation":28,"user_id":21656861,"display_name":"Janosch Lion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682146723,"creation_date":1682146723,"answer_id":76078406,"question_id":76062497,"body_markdown":"You need to run the command ``java org.example.Main`` in the output folder.","title":"Java :Could not find or load main class","body":"<p>You need to run the command <code>java org.example.Main</code> in the output folder.</p>\n"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682146723,"creation_date":1681982442,"question_id":76062497,"body_markdown":"Main class:\r\n\r\n    package org.example;\r\n\r\n    public class Main {\r\n         public static void main(String[] args) {\r\n       }\r\n    }\r\n\r\n\r\nis located at project\\src\\main\\java\\org\\example\\Main.java\r\n\r\nI go over project\\src\\main\\java\\ directory and apply:\r\n\r\n    java org.example.Main\r\nAnd get: Could not find or load main class org.example.Main\r\n\r\nI tried also:\r\n\r\n    java -classpath org/example Main\r\nAnd:\r\n\r\n    java -classpath ../../../ org/example/Main\r\n\r\nBut with the same result.\r\nI&#39;m using gradle for build.\r\n\r\nWhat am I doing wrong?","title":"Java :Could not find or load main class","body":"<p>Main class:</p>\n<pre><code>package org.example;\n\npublic class Main {\n     public static void main(String[] args) {\n   }\n}\n</code></pre>\n<p>is located at project\\src\\main\\java\\org\\example\\Main.java</p>\n<p>I go over project\\src\\main\\java\\ directory and apply:</p>\n<pre><code>java org.example.Main\n</code></pre>\n<p>And get: Could not find or load main class org.example.Main</p>\n<p>I tried also:</p>\n<pre><code>java -classpath org/example Main\n</code></pre>\n<p>And:</p>\n<pre><code>java -classpath ../../../ org/example/Main\n</code></pre>\n<p>But with the same result.\nI'm using gradle for build.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","concurrency","synchronized"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1682106919,"post_id":76076276,"comment_id":134169178,"body_markdown":"Did you try running it several times? Each time the output shall be different.","body":"Did you try running it several times? Each time the output shall be different."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682116522,"post_id":76076276,"comment_id":134170545,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":23897357,"reputation":61,"user_id":17896099,"display_name":"H-Bar"},"score":1,"creation_date":1682123449,"post_id":76076276,"comment_id":134171187,"body_markdown":"The output shows the run mentods of all threads being executed completly only then the next thread executes. If counterB used a different lock then its outputs would be interleaved with the other outputs.","body":"The output shows the run mentods of all threads being executed completly only then the next thread executes. If counterB used a different lock then its outputs would be interleaved with the other outputs."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682145779,"creation_date":1682113229,"answer_id":76076875,"question_id":76076276,"body_markdown":"Your assumption that `counter` and `counterB` use different locks **is wrong**.\r\n\r\n**Why**: because you declared your lock as\r\n\r\n    private Integer lock = 0;\r\n\r\nand the JVM caches `Integer` objects for all values from -128 to 127.\r\n\r\nDeclare your lock as\r\n\r\n    private Object lock = new Object();\r\n\r\nand only then will `counter` and `counterB` use different locks!\r\n\r\n----\r\nNote the important distinction here between object references and the referenced objects:\r\n\r\nBoth `counter` and `counterB` have a field `lock`, but these fields are not objects, they are merely references to some object.\r\n\r\nFor\r\n\r\n    private Integer lock = 0;\r\n\r\nthat referenced &quot;some object&quot; is the same for `counter` and `counterB` (because the Java Language Specification requires this for boxing of `int` values in the range -128 to 127) and synchronization happens on the object, not on the reference.\r\n\r\nExcerpt from the [Java Language Specification, Boxing Conversion](https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.7):\r\n\r\n&gt; If the value `p` being boxed is the result of evaluating a constant expression (&#167;15.29) of type `boolean`, `byte`, `char`, `short`, `int`, or `long`, and the result is `true`, `false`, a character in the range `&#39;\\u0000&#39;` to `&#39;\\u007f&#39;` inclusive, or an integer in the range `-128` to `127` inclusive, then let `a` and `b` be the results of any two boxing conversions of `p`. It is always the case that `a == b`.","title":"Why are all my threads using the same lock?","body":"<p>Your assumption that <code>counter</code> and <code>counterB</code> use different locks <strong>is wrong</strong>.</p>\n<p><strong>Why</strong>: because you declared your lock as</p>\n<pre><code>private Integer lock = 0;\n</code></pre>\n<p>and the JVM caches <code>Integer</code> objects for all values from -128 to 127.</p>\n<p>Declare your lock as</p>\n<pre><code>private Object lock = new Object();\n</code></pre>\n<p>and only then will <code>counter</code> and <code>counterB</code> use different locks!</p>\n<hr />\n<p>Note the important distinction here between object references and the referenced objects:</p>\n<p>Both <code>counter</code> and <code>counterB</code> have a field <code>lock</code>, but these fields are not objects, they are merely references to some object.</p>\n<p>For</p>\n<pre><code>private Integer lock = 0;\n</code></pre>\n<p>that referenced &quot;some object&quot; is the same for <code>counter</code> and <code>counterB</code> (because the Java Language Specification requires this for boxing of <code>int</code> values in the range -128 to 127) and synchronization happens on the object, not on the reference.</p>\n<p>Excerpt from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">Java Language Specification, Boxing Conversion</a>:</p>\n<blockquote>\n<p>If the value <code>p</code> being boxed is the result of evaluating a constant expression (§15.29) of type <code>boolean</code>, <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, or <code>long</code>, and the result is <code>true</code>, <code>false</code>, a character in the range <code>'\\u0000'</code> to <code>'\\u007f'</code> inclusive, or an integer in the range <code>-128</code> to <code>127</code> inclusive, then let <code>a</code> and <code>b</code> be the results of any two boxing conversions of <code>p</code>. It is always the case that <code>a == b</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":23897357,"reputation":61,"user_id":17896099,"display_name":"H-Bar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76076875,"answer_count":1,"score":0,"last_activity_date":1682145779,"creation_date":1682105951,"question_id":76076276,"body_markdown":"I recently came across this code snippet\r\n\r\n```\r\nclass Counter2 implements Runnable{\r\n\r\n    private int value = 0;\r\n\r\n    \r\n    private Integer lock = 0;\r\n\r\n    \r\n\r\n    public void increment(){\r\n        try {\r\n            Thread.sleep(20);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        value++;\r\n    }\r\n\r\n    public void decrement(){\r\n        value--;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        synchronized(lock) {\r\n            this.increment();\r\n            System.out.println(String.format(&quot;%s incremented value, value = %s&quot;, Thread.currentThread().getName(), this.value));\r\n            this.decrement();\r\n            System.out.println(String.format(&quot;%s decremented value, value = %s&quot;, Thread.currentThread().getName(), this.value));\r\n        }\r\n    }\r\n}\r\npublic class Part8_synchronized_keyword_1 {\r\n    \r\n    public static void main(String[] args) {\r\n        Counter2 counter = new Counter2();\r\n        new Thread(counter,&quot;Thread1&quot;).start();\r\n        new Thread(counter,&quot;Thread2&quot;).start();\r\n        new Thread(counter,&quot;Thread3&quot;).start();\r\n        new Thread(counter,&quot;Thread4&quot;).start();\r\n        Counter2 counterB = new Counter2();\r\n        new Thread(counterB, &quot;ThreadB&quot;).start();\r\n\r\n    }\r\n}\r\n\r\n```\r\nI get the output as follows\r\n\r\n```\r\nThread1 incremented value, value = 1\r\nThread1 decremented value, value = 0\r\nThreadB incremented value, value = 1\r\nThreadB decremented value, value = 0\r\nThread4 incremented value, value = 1\r\nThread4 decremented value, value = 0\r\nThread3 incremented value, value = 1\r\nThread3 decremented value, value = 0\r\nThread2 incremented value, value = 1\r\nThread2 decremented value, value = 0\r\n```\r\nWhy is it that it seems that threadB is competing with thread1...4 for the same lock?.\r\nBecause from my understanding the lock object will be different for counterB and counter\r\n","title":"Why are all my threads using the same lock?","body":"<p>I recently came across this code snippet</p>\n<pre><code>class Counter2 implements Runnable{\n\n    private int value = 0;\n\n    \n    private Integer lock = 0;\n\n    \n\n    public void increment(){\n        try {\n            Thread.sleep(20);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        value++;\n    }\n\n    public void decrement(){\n        value--;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    @Override\n    public void run() {\n        synchronized(lock) {\n            this.increment();\n            System.out.println(String.format(&quot;%s incremented value, value = %s&quot;, Thread.currentThread().getName(), this.value));\n            this.decrement();\n            System.out.println(String.format(&quot;%s decremented value, value = %s&quot;, Thread.currentThread().getName(), this.value));\n        }\n    }\n}\npublic class Part8_synchronized_keyword_1 {\n    \n    public static void main(String[] args) {\n        Counter2 counter = new Counter2();\n        new Thread(counter,&quot;Thread1&quot;).start();\n        new Thread(counter,&quot;Thread2&quot;).start();\n        new Thread(counter,&quot;Thread3&quot;).start();\n        new Thread(counter,&quot;Thread4&quot;).start();\n        Counter2 counterB = new Counter2();\n        new Thread(counterB, &quot;ThreadB&quot;).start();\n\n    }\n}\n\n</code></pre>\n<p>I get the output as follows</p>\n<pre><code>Thread1 incremented value, value = 1\nThread1 decremented value, value = 0\nThreadB incremented value, value = 1\nThreadB decremented value, value = 0\nThread4 incremented value, value = 1\nThread4 decremented value, value = 0\nThread3 incremented value, value = 1\nThread3 decremented value, value = 0\nThread2 incremented value, value = 1\nThread2 decremented value, value = 0\n</code></pre>\n<p>Why is it that it seems that threadB is competing with thread1...4 for the same lock?.\nBecause from my understanding the lock object will be different for counterB and counter</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","aws-lambda","ec2-ami"],"comments":[{"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"score":1,"creation_date":1681982675,"post_id":76062197,"comment_id":134145323,"body_markdown":"are you running any application in that EC2 Instance?","body":"are you running any application in that EC2 Instance?"},{"owner":{"account_id":20575872,"reputation":1,"user_id":15103071,"display_name":"Joe Jones"},"score":0,"creation_date":1682041228,"post_id":76062197,"comment_id":134157143,"body_markdown":"No application at the moment.","body":"No application at the moment."}],"answers":[{"tags":[],"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682145496,"creation_date":1682145496,"answer_id":76078349,"question_id":76062197,"body_markdown":"[Target group health check is different from instance health check.][1] \r\n\r\nIts purpose is to check if the application in your instance works correctly by sending request to the port which you specified and check if that port returns http status code as expected.\r\n\r\nThere must be application running on your selected port for target group to work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42466157/whats-the-difference-between-elb-health-check-and-ec2-health-check?rq=2","title":"Target health check failing continuously","body":"<p><a href=\"https://stackoverflow.com/questions/42466157/whats-the-difference-between-elb-health-check-and-ec2-health-check?rq=2\">Target group health check is different from instance health check.</a></p>\n<p>Its purpose is to check if the application in your instance works correctly by sending request to the port which you specified and check if that port returns http status code as expected.</p>\n<p>There must be application running on your selected port for target group to work.</p>\n"}],"owner":{"account_id":20575872,"reputation":1,"user_id":15103071,"display_name":"Joe Jones"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682145496,"creation_date":1681980518,"question_id":76062197,"body_markdown":"For a new instance created for EC2 in AWS cloud, trying to assign the same to load balancer based on target group.\r\n\r\nSteps followed:\r\n- Created load balancer\r\n- Created EC2 instance and configured security group with inbound traffic allowed from load balancer\r\n- Created target group and added EC2 instance in target\r\n- Configured the listener in load balancer to redirect specific path (&#39;/taskA/*&#39;) to newly created target group.\r\n\r\nAfter above steps waited for a while for target groups to initialize and setup. \r\nLater observed that under Registered targets section, status shows unhealthy and it says health check failed. \r\n\r\nNot sure what needs to be checked since the status description also dont mention exact failure reasons.\r\n\r\nPlease help to understand better this issue by sharing your views. \r\n\r\n\r\n\r\nExpecting the target group to work as expected and for any incoming request it should check for url path configured and redirect to specific instance page as configured in load balancer.","title":"Target health check failing continuously","body":"<p>For a new instance created for EC2 in AWS cloud, trying to assign the same to load balancer based on target group.</p>\n<p>Steps followed:</p>\n<ul>\n<li>Created load balancer</li>\n<li>Created EC2 instance and configured security group with inbound traffic allowed from load balancer</li>\n<li>Created target group and added EC2 instance in target</li>\n<li>Configured the listener in load balancer to redirect specific path ('/taskA/*') to newly created target group.</li>\n</ul>\n<p>After above steps waited for a while for target groups to initialize and setup.\nLater observed that under Registered targets section, status shows unhealthy and it says health check failed.</p>\n<p>Not sure what needs to be checked since the status description also dont mention exact failure reasons.</p>\n<p>Please help to understand better this issue by sharing your views.</p>\n<p>Expecting the target group to work as expected and for any incoming request it should check for url path configured and redirect to specific instance page as configured in load balancer.</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1681487872,"post_id":76016898,"comment_id":134069696,"body_markdown":"you posted the controller instead of the service","body":"you posted the controller instead of the service"},{"owner":{"account_id":28205901,"reputation":11,"user_id":21559005,"display_name":"Swarup Saha"},"score":0,"creation_date":1681581817,"post_id":76016898,"comment_id":134081017,"body_markdown":"@SharonBenAsher Sorry for the duplicate code, im new to this.\nI have updated the service class with proper information.\nfeel free to ask if you need anything more.","body":"@SharonBenAsher Sorry for the duplicate code, im new to this. I have updated the service class with proper information. feel free to ask if you need anything more."}],"answers":[{"tags":[],"owner":{"account_id":16796963,"reputation":114,"user_id":12143234,"display_name":"Uttam Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682143287,"creation_date":1682143287,"answer_id":76078241,"question_id":76016898,"body_markdown":"If you want to return &quot;Email already taken&quot; when email already exists, here you have to change code like bellow : \r\n\r\n      Optional&lt;Student&gt; studentOptional = studentRepository.findByEmail(email);\r\n                if(studentOptional.isPresent()){\r\n                    throw new IllegalStateException(&quot;Email already taken&quot;);\r\n                }\r\n\r\nHope this solve your problem.\r\n","title":"Debugging an Issue which is in the StudentService class - Exception is not working in the code","body":"<p>If you want to return &quot;Email already taken&quot; when email already exists, here you have to change code like bellow :</p>\n<pre><code>  Optional&lt;Student&gt; studentOptional = studentRepository.findByEmail(email);\n            if(studentOptional.isPresent()){\n                throw new IllegalStateException(&quot;Email already taken&quot;);\n            }\n</code></pre>\n<p>Hope this solve your problem.</p>\n"}],"owner":{"account_id":28205901,"reputation":11,"user_id":21559005,"display_name":"Swarup Saha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682143287,"creation_date":1681487544,"question_id":76016898,"body_markdown":"This is the StudentController Class\r\n\r\n\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/student&quot;)\r\npublic class StudentController {\r\n    private final StudentService studentService;\r\n    @Autowired\r\n    public StudentController(StudentService studentService) {\r\n        this.studentService = studentService;\r\n    }\r\n    @GetMapping\r\n    public List&lt;Student&gt; getStudents(){\r\n        return studentService.getStudents();\r\n    }\r\n    @PostMapping\r\n    public void registerNewStudent(@RequestBody Student student){\r\n        studentService.addNewStudent(student);\r\n    }\r\n    @DeleteMapping(path = &quot;{studentId}&quot;)\r\n    public void deleteStudent(@PathVariable (&quot;studentId&quot;) Long studentId){\r\n        studentService.deleteStudent(studentId);\r\n    }\r\n    @PutMapping(path = &quot;{studentId}&quot;)\r\n    public void updateStudent(\r\n            @PathVariable(&quot;studentId&quot;) Long studentId,\r\n            @RequestParam(required = false) String name,\r\n            @RequestParam(required = false) String email){\r\n        studentService.updateStudent(studentId, name, email);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nBelow is the StudentService Class:\r\n\r\n\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class StudentService {\r\n    private final StudentRepository studentRepository;\r\n    public StudentService(StudentRepository studentRepository) {\r\n        this.studentRepository = studentRepository;\r\n    }\r\n    public List&lt;Student&gt; getStudents(){\r\n        return studentRepository.findAll();\r\n    }\r\n\r\n    public void addNewStudent(Student student) {\r\n        Optional&lt;Student&gt; studentOptional = studentRepository\r\n                .findStudentByEmail(student.getEmail());\r\n        if(studentOptional.isPresent()){\r\n            throw new IllegalStateException(&quot;Email already taken&quot;);\r\n        }\r\n        studentRepository.save(student);\r\n    }\r\n\r\n    public void deleteStudent(Long studentId) {\r\n        boolean exists = studentRepository.existsById(studentId);\r\n        if(!exists){\r\n            throw new IllegalStateException(\r\n                    &quot;Student with ID &quot; + studentId + &quot; does not exists.&quot;);\r\n        }\r\n        studentRepository.deleteById(studentId);\r\n    }\r\n\r\n    @Transactional\r\n    public void updateStudent( Long studentId,\r\n                               String name,\r\n                               String email){\r\n        Student student = studentRepository.findById(studentId)\r\n                .orElseThrow(() -&gt; new IllegalStateException(\r\n                        &quot;Student with ID &quot; + studentId + &quot; does not exists&quot;));\r\n\r\n        if(name != null &amp;&amp; name.length() &gt; 0 &amp;&amp;\r\n            !Objects.equals(student.getName(),name)){\r\n            student.setName(name);\r\n        }\r\n        if(email != null &amp;&amp; email.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(student.getEmail(),email)){\r\n            Optional&lt;Student&gt; studentOptional = studentRepository.findStudentByEmail(email);\r\n            if(studentOptional.isPresent()){\r\n                throw new IllegalStateException(&quot;Email already taken&quot;);\r\n            }\r\n            student.setEmail(email);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\nThis is the generated-request.http file \r\n\r\n\r\n```\r\n###\r\nPUT http://localhost:8080/api/v1/student/1?name=Maria&amp;email=maria@gmail.com\r\nContent-Type: application/json\r\n\r\n&lt;&gt; 2023-04-14T205328.500.json\r\n```\r\n\r\nApplication Properties:\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/student\r\nspring.datasource.username= postgres\r\nspring.datasource.password= 9435561259\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nserver.error.include-message=always\r\n```\r\n\r\n\r\n\r\nThe Server is working as it should with all the working CRUDE properties, but in the PUT property of the server:\r\n\r\n1. when i first try to update the name of the student with proper ID, it takes effect\r\n2. When i check for the exception for an ID which is not there it works even then\r\n3. But when i try to update the ID with the same email address it should throw an exception of &quot;Email already taken&quot;.\r\n But somehow it is not doing that. Its still showing status code 200.\r\n\r\nCan someone give their valuable inputs in this issue.\r\nYour response are highly valuable to me. ","title":"Debugging an Issue which is in the StudentService class - Exception is not working in the code","body":"<p>This is the StudentController Class</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n@RestController\n@RequestMapping(path = &quot;api/v1/student&quot;)\npublic class StudentController {\n    private final StudentService studentService;\n    @Autowired\n    public StudentController(StudentService studentService) {\n        this.studentService = studentService;\n    }\n    @GetMapping\n    public List&lt;Student&gt; getStudents(){\n        return studentService.getStudents();\n    }\n    @PostMapping\n    public void registerNewStudent(@RequestBody Student student){\n        studentService.addNewStudent(student);\n    }\n    @DeleteMapping(path = &quot;{studentId}&quot;)\n    public void deleteStudent(@PathVariable (&quot;studentId&quot;) Long studentId){\n        studentService.deleteStudent(studentId);\n    }\n    @PutMapping(path = &quot;{studentId}&quot;)\n    public void updateStudent(\n            @PathVariable(&quot;studentId&quot;) Long studentId,\n            @RequestParam(required = false) String name,\n            @RequestParam(required = false) String email){\n        studentService.updateStudent(studentId, name, email);\n    }\n}\n</code></pre>\n<p>Below is the StudentService Class:</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\n\n@Service\npublic class StudentService {\n    private final StudentRepository studentRepository;\n    public StudentService(StudentRepository studentRepository) {\n        this.studentRepository = studentRepository;\n    }\n    public List&lt;Student&gt; getStudents(){\n        return studentRepository.findAll();\n    }\n\n    public void addNewStudent(Student student) {\n        Optional&lt;Student&gt; studentOptional = studentRepository\n                .findStudentByEmail(student.getEmail());\n        if(studentOptional.isPresent()){\n            throw new IllegalStateException(&quot;Email already taken&quot;);\n        }\n        studentRepository.save(student);\n    }\n\n    public void deleteStudent(Long studentId) {\n        boolean exists = studentRepository.existsById(studentId);\n        if(!exists){\n            throw new IllegalStateException(\n                    &quot;Student with ID &quot; + studentId + &quot; does not exists.&quot;);\n        }\n        studentRepository.deleteById(studentId);\n    }\n\n    @Transactional\n    public void updateStudent( Long studentId,\n                               String name,\n                               String email){\n        Student student = studentRepository.findById(studentId)\n                .orElseThrow(() -&gt; new IllegalStateException(\n                        &quot;Student with ID &quot; + studentId + &quot; does not exists&quot;));\n\n        if(name != null &amp;&amp; name.length() &gt; 0 &amp;&amp;\n            !Objects.equals(student.getName(),name)){\n            student.setName(name);\n        }\n        if(email != null &amp;&amp; email.length() &gt; 0 &amp;&amp;\n                !Objects.equals(student.getEmail(),email)){\n            Optional&lt;Student&gt; studentOptional = studentRepository.findStudentByEmail(email);\n            if(studentOptional.isPresent()){\n                throw new IllegalStateException(&quot;Email already taken&quot;);\n            }\n            student.setEmail(email);\n        }\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</code></pre>\n<p>This is the generated-request.http file</p>\n<pre><code>###\nPUT http://localhost:8080/api/v1/student/1?name=Maria&amp;email=maria@gmail.com\nContent-Type: application/json\n\n&lt;&gt; 2023-04-14T205328.500.json\n</code></pre>\n<p>Application Properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/student\nspring.datasource.username= postgres\nspring.datasource.password= 9435561259\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.error.include-message=always\n</code></pre>\n<p>The Server is working as it should with all the working CRUDE properties, but in the PUT property of the server:</p>\n<ol>\n<li>when i first try to update the name of the student with proper ID, it takes effect</li>\n<li>When i check for the exception for an ID which is not there it works even then</li>\n<li>But when i try to update the ID with the same email address it should throw an exception of &quot;Email already taken&quot;.\nBut somehow it is not doing that. Its still showing status code 200.</li>\n</ol>\n<p>Can someone give their valuable inputs in this issue.\nYour response are highly valuable to me.</p>\n"},{"tags":["java","hibernate","sorting","boolean","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":3028,"reputation":10097,"user_id":4287,"accept_rate":96,"display_name":"Robert J. Walker"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1349285679,"creation_date":1349285679,"answer_id":12713833,"question_id":12713759,"body_markdown":"It will sort `false` first, since in the database `true` and `false` are represented as `1` and `0`, respectively.","title":"How are Booleans sorted?","body":"<p>It will sort <code>false</code> first, since in the database <code>true</code> and <code>false</code> are represented as <code>1</code> and <code>0</code>, respectively.</p>\n"},{"tags":[],"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1349285835,"creation_date":1349285835,"answer_id":12713874,"question_id":12713759,"body_markdown":"By default, `boolean`s are sorted with `false` first, followed by `true`.  This is because in binary `false` equals `0` and `true` equals `1`.  Hence the old C paradigm of `while(1) { }` (which, incidentally, doesn&#39;t compile in Java).","title":"How are Booleans sorted?","body":"<p>By default, <code>boolean</code>s are sorted with <code>false</code> first, followed by <code>true</code>.  This is because in binary <code>false</code> equals <code>0</code> and <code>true</code> equals <code>1</code>.  Hence the old C paradigm of <code>while(1) { }</code> (which, incidentally, doesn't compile in Java).</p>\n"}],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14070,"favorite_count":0,"down_vote_count":7,"up_vote_count":12,"accepted_answer_id":12713833,"answer_count":2,"score":5,"last_activity_date":1682143091,"creation_date":1349285420,"question_id":12713759,"body_markdown":"I am sorting with the following code:\r\n\r\n    undoneCategories = session.createCriteria(Category.class);\r\n    undoneCategories.add(Restrictions.eq(&quot;Done&quot;, false));\r\n    undoneCategories.addOrder(Order.asc(&quot;UpwardGenerator&quot;));\r\n    undoneCategories.setMaxResults(1);\r\n\r\nwhere `UpwardGenerator` is `boolean`.\r\n\r\nHow will it be sorted? With `false` first, or with `true` first? What about `null`/`nil`/undefined values?","title":"How are Booleans sorted?","body":"<p>I am sorting with the following code:</p>\n<pre><code>undoneCategories = session.createCriteria(Category.class);\nundoneCategories.add(Restrictions.eq(&quot;Done&quot;, false));\nundoneCategories.addOrder(Order.asc(&quot;UpwardGenerator&quot;));\nundoneCategories.setMaxResults(1);\n</code></pre>\n<p>where <code>UpwardGenerator</code> is <code>boolean</code>.</p>\n<p>How will it be sorted? With <code>false</code> first, or with <code>true</code> first? What about <code>null</code>/<code>nil</code>/undefined values?</p>\n"},{"tags":["java","spring","postgresql","jdbc","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":1140370,"reputation":1023,"user_id":1124471,"accept_rate":62,"display_name":"workwise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682140747,"creation_date":1682140747,"answer_id":76078134,"question_id":76078095,"body_markdown":"So first I tried checking error logs but no connection attempts were being logged. I came to know connections are not logged by default so turned them on with:\r\n\r\n    log_connections = on\r\n\r\nin file `/etc/postgresql/14/main/postgresql.conf` (in my case, on ubuntu linux)\r\n\r\n\r\nThen, the error logs (in my case file `/var/log/postgresql/postgresql-14-main.log` on ubuntu), showed that jdbc connections were not reaching the server while normal socket connections were being shown.\r\n\r\nThat made me crosscheck the ports in the spring boot application and the postgresql conf file, and I found that the `application.xml` was using a different port to connect than the default one `5434` (but it was very similar looking to the default port, which is why I missed noticing it at a cursory inspection earlier).\r\n\r\n\r\n\r\n","title":"PostgreSQL + JDBC - authentication failed","body":"<p>So first I tried checking error logs but no connection attempts were being logged. I came to know connections are not logged by default so turned them on with:</p>\n<pre><code>log_connections = on\n</code></pre>\n<p>in file <code>/etc/postgresql/14/main/postgresql.conf</code> (in my case, on ubuntu linux)</p>\n<p>Then, the error logs (in my case file <code>/var/log/postgresql/postgresql-14-main.log</code> on ubuntu), showed that jdbc connections were not reaching the server while normal socket connections were being shown.</p>\n<p>That made me crosscheck the ports in the spring boot application and the postgresql conf file, and I found that the <code>application.xml</code> was using a different port to connect than the default one <code>5434</code> (but it was very similar looking to the default port, which is why I missed noticing it at a cursory inspection earlier).</p>\n"}],"owner":{"account_id":1140370,"reputation":1023,"user_id":1124471,"accept_rate":62,"display_name":"workwise"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682140747,"creation_date":1682139626,"question_id":76078095,"body_markdown":"*Update: It was a silly port configuration issue at my end - but answering below how I resolved it just in case it helps someone.*\r\n\r\n\r\nIn my spring boot application, running on Ubuntu 22 with PostgreSQL 14.7, I am getting a password authentication error when trying to connect to the postgresql server:\r\n\r\n    org.postgresql.util.PSQLException: FATAL: password authentication failed for user \r\n\r\n\r\nI have tried `password`, `md5`, `trust` and `scram-sha-256` as the settings in `pg_hba.conf`\r\n\r\n\r\n    # IPv4 local connections:\r\n    #host    all             all             127.0.0.1/32            scram-sha-256\r\n    host    all             all             127.0.0.1/32            trust\r\n    #host    all             all             127.0.0.1/32            password\r\n    \r\n    # IPv6 local connections:\r\n    #host    all             all             ::1/128                 scram-sha-256\r\n    host    all             all             ::1/128                 trust\r\n    #host    all             all             ::1/128                  password\r\n\r\n\r\n\r\nI am able to connect with the username / password combination through command line. In case it matters, I am using `mvn spring-boot:run` command to run the spring boot application.\r\n\r\n\r\nSomewhere I read that upgrading the postgresql driver to a specific version helps, so I have added this version in `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;version&gt;42.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHow to identify the problem with the spring boot application connection and fix it? Please help!\r\n\r\n","title":"PostgreSQL + JDBC - authentication failed","body":"<p><em>Update: It was a silly port configuration issue at my end - but answering below how I resolved it just in case it helps someone.</em></p>\n<p>In my spring boot application, running on Ubuntu 22 with PostgreSQL 14.7, I am getting a password authentication error when trying to connect to the postgresql server:</p>\n<pre><code>org.postgresql.util.PSQLException: FATAL: password authentication failed for user \n</code></pre>\n<p>I have tried <code>password</code>, <code>md5</code>, <code>trust</code> and <code>scram-sha-256</code> as the settings in <code>pg_hba.conf</code></p>\n<pre><code># IPv4 local connections:\n#host    all             all             127.0.0.1/32            scram-sha-256\nhost    all             all             127.0.0.1/32            trust\n#host    all             all             127.0.0.1/32            password\n\n# IPv6 local connections:\n#host    all             all             ::1/128                 scram-sha-256\nhost    all             all             ::1/128                 trust\n#host    all             all             ::1/128                  password\n</code></pre>\n<p>I am able to connect with the username / password combination through command line. In case it matters, I am using <code>mvn spring-boot:run</code> command to run the spring boot application.</p>\n<p>Somewhere I read that upgrading the postgresql driver to a specific version helps, so I have added this version in <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;version&gt;42.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How to identify the problem with the spring boot application connection and fix it? Please help!</p>\n"},{"tags":["java","arrays","pass-by-reference"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":9,"creation_date":1328333905,"post_id":9138691,"comment_id":11487352,"body_markdown":"Why not simply test this? And if you have, what was your conclusion? (not my down-vote by the way)","body":"Why not simply test this? And if you have, what was your conclusion? (not my down-vote by the way)"},{"owner":{"account_id":245807,"reputation":6998,"user_id":519539,"accept_rate":91,"display_name":"Petro Semeniuk"},"score":1,"creation_date":1328334633,"post_id":9138691,"comment_id":11487429,"body_markdown":"I have no problem with  downvote :-). I agree that this is very basic question however I also asked it to myself earl in career and what official java tutor on sun (now oracle) offers is usually either very generic or very high level is java is your first programming language you are learning.","body":"I have no problem with  downvote :-). I agree that this is very basic question however I also asked it to myself earl in career and what official java tutor on sun (now oracle) offers is usually either very generic or very high level is java is your first programming language you are learning."}],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1328336410,"creation_date":1328333982,"answer_id":9138699,"question_id":9138691,"body_markdown":"Everything in Java is pass-by-value.  However, if you&#39;re passing a reference, it&#39;s the value of the reference.\r\n\r\nSince Java methods can&#39;t reach into the caller&#39;s stack to reassign variables, no method call can change the identity of a reference (address) there.  This is what we mean when we say Java is not pass-by-reference.  This contrasts with C++ (and similar languages), which allows this in some cases.\r\n\r\nNow let&#39;s look at some effects.\r\n\r\nIf I do:\r\n\r\n    Object[] o = ...\r\n    mutateArray(o);\r\n\r\nthe *contents* can be different afterwards, since all `mutateArray` needs is the address of an array to change its contents.  However, the address of `o` will be the same.  If I do:\r\n\r\n    String x = &quot;foo&quot;;\r\n    tryToMutateString(x);\r\n\r\nthe address of `x` is again the same afterwards.  Since strings are immutable, this implies that it will also still be `&quot;foo&quot;`.\r\n\r\nTo mutate an object is to change the contents of it (e.g. successfully changing the last element of `o`, or trying to change the last letter of &quot;foo&quot; to &#39;d&#39;).  This should not be be confused with reassigning `x` or `o` in the caller&#39;s stack (impossible).\r\n\r\nThe Wikipedia section on [call by sharing][1] may shed additional light.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing","title":"Are arrays in java pass by reference or pass by value?","body":"<p>Everything in Java is pass-by-value.  However, if you're passing a reference, it's the value of the reference.</p>\n\n<p>Since Java methods can't reach into the caller's stack to reassign variables, no method call can change the identity of a reference (address) there.  This is what we mean when we say Java is not pass-by-reference.  This contrasts with C++ (and similar languages), which allows this in some cases.</p>\n\n<p>Now let's look at some effects.</p>\n\n<p>If I do:</p>\n\n<pre><code>Object[] o = ...\nmutateArray(o);\n</code></pre>\n\n<p>the <em>contents</em> can be different afterwards, since all <code>mutateArray</code> needs is the address of an array to change its contents.  However, the address of <code>o</code> will be the same.  If I do:</p>\n\n<pre><code>String x = \"foo\";\ntryToMutateString(x);\n</code></pre>\n\n<p>the address of <code>x</code> is again the same afterwards.  Since strings are immutable, this implies that it will also still be <code>\"foo\"</code>.</p>\n\n<p>To mutate an object is to change the contents of it (e.g. successfully changing the last element of <code>o</code>, or trying to change the last letter of \"foo\" to 'd').  This should not be be confused with reassigning <code>x</code> or <code>o</code> in the caller's stack (impossible).</p>\n\n<p>The Wikipedia section on <a href=\"http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing\" rel=\"noreferrer\">call by sharing</a> may shed additional light.</p>\n"},{"tags":[],"owner":{"account_id":1210971,"reputation":3207,"user_id":1179505,"display_name":"Retief"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1328334200,"creation_date":1328334200,"answer_id":9138715,"question_id":9138691,"body_markdown":"Arrays, like all other objects, are pass by reference (technically, you are passing a reference by value, but from the objects point of view, it is passed by reference).  If you pass an array to a method and the method changes the array, the caller will see the changes.  If you want to avoid having your copy modified, you need to copy it yourself.  It doesn&#39;t matter whether the array contains primitives or objects.  In general, this is the behavior you want, since passing by value would involve unnecessarily copying the (potentially large) array every time you use it as an argument.","title":"Are arrays in java pass by reference or pass by value?","body":"<p>Arrays, like all other objects, are pass by reference (technically, you are passing a reference by value, but from the objects point of view, it is passed by reference).  If you pass an array to a method and the method changes the array, the caller will see the changes.  If you want to avoid having your copy modified, you need to copy it yourself.  It doesn't matter whether the array contains primitives or objects.  In general, this is the behavior you want, since passing by value would involve unnecessarily copying the (potentially large) array every time you use it as an argument.</p>\n"},{"tags":[],"owner":{"account_id":1222642,"reputation":1,"user_id":1188961,"display_name":"Sachin Gupta"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1328335947,"creation_date":1328335947,"answer_id":9138835,"question_id":9138691,"body_markdown":"The Jist of it is - everything in Java is passed by reference, unless it is a primitive.","title":"Are arrays in java pass by reference or pass by value?","body":"<p>The Jist of it is - everything in Java is passed by reference, unless it is a primitive.</p>\n"},{"tags":[],"owner":{"account_id":27892097,"reputation":15,"user_id":21298248,"display_name":"Shreya Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682140668,"creation_date":1682140668,"answer_id":76078130,"question_id":9138691,"body_markdown":"Everything in java is passed by value, it is confusing because when we create an object or array in java, we store the address of that object in our variable(and not the object). So when we pass that variable in a method, that method takes the address(which is a value) and store it in its local variable. any changes to the local variable will not be reflected in the original variable.\r\nhowever, we can use the local variable(which contains the address of the object) to access the fields and methods of the object.\r\nsame is with the array as it is also an object.\r\n\r\nhere is how we can use all this knowledge\r\n\r\n    package newStart;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class JavaIsAlwaysCallByValueArray {\r\n\r\n\r\n    static void swap(int[] a,int[] b )\r\n    {\r\n\t    int[] temp=a;\r\n\t    a=b;\r\n\t    b=temp; //all this is doing is swapping the address of local variables \r\n    of this method which will not be reflected in main method \r\n    }\r\n\r\n    static void swapThisWay(int[] a,int b[])\r\n    {\r\n\t    int[] temp=new int[b.length];\r\n\t    for(int i=0;i&lt;a.length;i++)  //here we are using this variable to \r\n    access field of array object\r\n\t\t    temp[i]=a[i];\r\n\t    for(int i=0;i&lt;b.length;i++)\r\n\t    {\r\n\t\t    a[i]=b[i];\r\n\t    }\r\n\t    for(int i=0;i&lt;b.length;i++)\r\n\t\t    b[i]=temp[i];\r\n        `enter code here`}\r\n\r\n    public static void main(String args[])\r\n    {\r\n\t    int a1[]= {1,2,4,6,8};\r\n\t    int a2[]= {6,5,3,8,9};\r\n\t    swap(a1,a2);\r\n\t    System.out.println(&quot;just swap \\na1 : &quot;+Arrays.toString(a1)+&quot;\\na2 : \r\n    &quot;+Arrays.toString(a2));\r\n\t    swapThisWay(a1,a2);\r\n\t    System.out.println(&quot;Now \\na1 : &quot;+Arrays.toString(a1)+&quot;\\na2 : \r\n    &quot;+Arrays.toString(a2));\r\n    }\r\n\r\n    }\r\n","title":"Are arrays in java pass by reference or pass by value?","body":"<p>Everything in java is passed by value, it is confusing because when we create an object or array in java, we store the address of that object in our variable(and not the object). So when we pass that variable in a method, that method takes the address(which is a value) and store it in its local variable. any changes to the local variable will not be reflected in the original variable.\nhowever, we can use the local variable(which contains the address of the object) to access the fields and methods of the object.\nsame is with the array as it is also an object.</p>\n<p>here is how we can use all this knowledge</p>\n<pre><code>package newStart;\n\nimport java.util.Arrays;\n\npublic class JavaIsAlwaysCallByValueArray {\n\n\nstatic void swap(int[] a,int[] b )\n{\n    int[] temp=a;\n    a=b;\n    b=temp; //all this is doing is swapping the address of local variables \nof this method which will not be reflected in main method \n}\n\nstatic void swapThisWay(int[] a,int b[])\n{\n    int[] temp=new int[b.length];\n    for(int i=0;i&lt;a.length;i++)  //here we are using this variable to \naccess field of array object\n        temp[i]=a[i];\n    for(int i=0;i&lt;b.length;i++)\n    {\n        a[i]=b[i];\n    }\n    for(int i=0;i&lt;b.length;i++)\n        b[i]=temp[i];\n    `enter code here`}\n\npublic static void main(String args[])\n{\n    int a1[]= {1,2,4,6,8};\n    int a2[]= {6,5,3,8,9};\n    swap(a1,a2);\n    System.out.println(&quot;just swap \\na1 : &quot;+Arrays.toString(a1)+&quot;\\na2 : \n&quot;+Arrays.toString(a2));\n    swapThisWay(a1,a2);\n    System.out.println(&quot;Now \\na1 : &quot;+Arrays.toString(a1)+&quot;\\na2 : \n&quot;+Arrays.toString(a2));\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":1204808,"reputation":11030,"user_id":1174719,"accept_rate":88,"display_name":"Nosrettap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4681,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":9138699,"answer_count":4,"score":5,"last_activity_date":1682140668,"creation_date":1328333803,"question_id":9138691,"body_markdown":"Are arrays in Java pass by reference or pass by value?\r\n\r\nSuppose I have an array called `data` that contains objects of some type. Now let us suppose that I pass and store that array in class A and then I pass it to class B and class B changes one of the entries of the array. Will class A&#39;s version of the array change? Does it matter if this was an array of primitives (such as `int`) instead?  What about ArrayLists?\r\n","title":"Are arrays in java pass by reference or pass by value?","body":"<p>Are arrays in Java pass by reference or pass by value?</p>\n<p>Suppose I have an array called <code>data</code> that contains objects of some type. Now let us suppose that I pass and store that array in class A and then I pass it to class B and class B changes one of the entries of the array. Will class A's version of the array change? Does it matter if this was an array of primitives (such as <code>int</code>) instead?  What about ArrayLists?</p>\n"},{"tags":["java","spring-boot","spring-security","websocket","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1682138178,"creation_date":1682138178,"answer_id":76078042,"question_id":76076405,"body_markdown":"Here is basic auth implementation:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n            .requestMatchers(&quot;/&quot;, &quot;/ws/**&quot;)\r\n            .permitAll()\r\n            .and()\r\n            .authorizeHttpRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .formLogin()\r\n            .and()\r\n            .logout(logout -&gt; logout.logoutSuccessUrl(&quot;/&quot;));\r\n        return http.build();\r\n      }\r\n    \r\n      @Bean\r\n      public InMemoryUserDetailsManager userDetailsService() {\r\n        UserDetails user =\r\n            User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;123&quot;).roles(&quot;USER&quot;).build();\r\n        UserDetails user2 =\r\n            User.withDefaultPasswordEncoder().username(&quot;user&quot;).password(&quot;123&quot;).roles(&quot;USER&quot;).build();\r\n        return new InMemoryUserDetailsManager(List.of(user, user2));\r\n      }\r\n    }\r\n\r\nIt uses form login. If you want to see all source codes check it out:\r\nhttps://github.com/gurkanucar/spring-boot-secure-websocket","title":"Java Spring Security 6 Websocket","body":"<p>Here is basic auth implementation:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests()\n        .requestMatchers(&quot;/&quot;, &quot;/ws/**&quot;)\n        .permitAll()\n        .and()\n        .authorizeHttpRequests()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .formLogin()\n        .and()\n        .logout(logout -&gt; logout.logoutSuccessUrl(&quot;/&quot;));\n    return http.build();\n  }\n\n  @Bean\n  public InMemoryUserDetailsManager userDetailsService() {\n    UserDetails user =\n        User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;123&quot;).roles(&quot;USER&quot;).build();\n    UserDetails user2 =\n        User.withDefaultPasswordEncoder().username(&quot;user&quot;).password(&quot;123&quot;).roles(&quot;USER&quot;).build();\n    return new InMemoryUserDetailsManager(List.of(user, user2));\n  }\n}\n</code></pre>\n<p>It uses form login. If you want to see all source codes check it out:\n<a href=\"https://github.com/gurkanucar/spring-boot-secure-websocket\" rel=\"nofollow noreferrer\">https://github.com/gurkanucar/spring-boot-secure-websocket</a></p>\n"}],"owner":{"account_id":24972636,"reputation":13,"user_id":18835666,"display_name":"Maruusa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76078042,"answer_count":1,"score":1,"last_activity_date":1682138178,"creation_date":1682107317,"question_id":76076405,"body_markdown":"First, I tried to make a clean simple project with websockets without security, here&#39;s the code:\r\n\r\nController:\r\n```\r\n@RestController\r\npublic class Controller {\r\n    private final SimpMessagingTemplate template;\r\n\r\n    public Controller(SimpMessagingTemplate template) {\r\n        this.template = template;\r\n    }\r\n\r\n    @PostMapping(&quot;/sendLong&quot;)\r\n    public void sendLong(@RequestParam(&quot;id&quot;) Long id) {\r\n        template.convertAndSend(&quot;/topic/long&quot;, id);\r\n    }\r\n}\r\n```\r\n\r\nConfiguration:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;)\r\n                .setAllowedOriginPatterns(&quot;*&quot;)\r\n                .withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/topic&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nClient side:\r\n```\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;WebSocket Test&lt;/title&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/sockjs-client@1.5.0/dist/sockjs.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;script&gt;\r\n        const sock = new SockJS(&#39;http://localhost:8080/ws&#39;);\r\n        const stompClient = Stomp.over(sock);\r\n\t\t\r\n        stompClient.connect({}, (frame) =&gt; {\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            stompClient.subscribe(&#39;/topic/long&#39;, (message) =&gt; {\r\n                console.log(&#39;Received: &#39; + message.body);\r\n            });\r\n        });\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nAt this stage, everything works perfectly, but when I connect security, I get an error \r\n\r\n\r\n[Error](https://i.stack.imgur.com/xNeiv.png)\r\n\r\n\r\nhere&#39;s the security code:\r\n\r\nSecurity configuration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .permitAll()\r\n                .and()\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nWebsocket security configuration\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocketSecurity\r\npublic class WebSocketSecurityConfig {\r\n\r\n    @Bean\r\n    AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\r\n        messages\r\n                .anyMessage().permitAll();\r\n        return messages.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere I am trying to allow access to endpoints for all users, but the connection does not work, I tried different methods like:\r\n\r\n\r\n```\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\r\n    }\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        AuthorizationManager&lt;Message&lt;?&gt;&gt; myAuthorizationRules = AuthenticatedAuthorizationManager.anonymous();\r\n        AuthorizationChannelInterceptor authz = new AuthorizationChannelInterceptor(myAuthorizationRules);\r\n        AuthorizationEventPublisher publisher = new SpringAuthorizationEventPublisher(this.context);\r\n        authz.setAuthorizationEventPublisher(publisher);\r\n        registration.interceptors(new SecurityContextChannelInterceptor(), authz);\r\n    }\r\n```\r\n\r\n\r\nAs far as I understand, this disables csrf, but none of this helps, what could be the problem? \r\n\r\nAlso, in the future, I plan to connect a JWT filter. How is the JWT token obtained when working with WebSocket on Spring Boot 3 and Security 6?","title":"Java Spring Security 6 Websocket","body":"<p>First, I tried to make a clean simple project with websockets without security, here's the code:</p>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class Controller {\n    private final SimpMessagingTemplate template;\n\n    public Controller(SimpMessagingTemplate template) {\n        this.template = template;\n    }\n\n    @PostMapping(&quot;/sendLong&quot;)\n    public void sendLong(@RequestParam(&quot;id&quot;) Long id) {\n        template.convertAndSend(&quot;/topic/long&quot;, id);\n    }\n}\n</code></pre>\n<p>Configuration:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws&quot;)\n                .setAllowedOriginPatterns(&quot;*&quot;)\n                .withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n    \n}\n\n</code></pre>\n<p>Client side:</p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;WebSocket Test&lt;/title&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/sockjs-client@1.5.0/dist/sockjs.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;script&gt;\n        const sock = new SockJS('http://localhost:8080/ws');\n        const stompClient = Stomp.over(sock);\n        \n        stompClient.connect({}, (frame) =&gt; {\n            console.log('Connected: ' + frame);\n            stompClient.subscribe('/topic/long', (message) =&gt; {\n                console.log('Received: ' + message.body);\n            });\n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>At this stage, everything works perfectly, but when I connect security, I get an error</p>\n<p><a href=\"https://i.stack.imgur.com/xNeiv.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>here's the security code:</p>\n<p>Security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .anyRequest()\n                .permitAll()\n                .and()\n                .build();\n    }\n}\n</code></pre>\n<p>Websocket security configuration</p>\n<pre><code>@Configuration\n@EnableWebSocketSecurity\npublic class WebSocketSecurityConfig {\n\n    @Bean\n    AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\n        messages\n                .anyMessage().permitAll();\n        return messages.build();\n    }\n}\n</code></pre>\n<p>Here I am trying to allow access to endpoints for all users, but the connection does not work, I tried different methods like:</p>\n<pre><code>    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        AuthorizationManager&lt;Message&lt;?&gt;&gt; myAuthorizationRules = AuthenticatedAuthorizationManager.anonymous();\n        AuthorizationChannelInterceptor authz = new AuthorizationChannelInterceptor(myAuthorizationRules);\n        AuthorizationEventPublisher publisher = new SpringAuthorizationEventPublisher(this.context);\n        authz.setAuthorizationEventPublisher(publisher);\n        registration.interceptors(new SecurityContextChannelInterceptor(), authz);\n    }\n</code></pre>\n<p>As far as I understand, this disables csrf, but none of this helps, what could be the problem?</p>\n<p>Also, in the future, I plan to connect a JWT filter. How is the JWT token obtained when working with WebSocket on Spring Boot 3 and Security 6?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":12969919,"reputation":51,"user_id":9376010,"display_name":"Akhlaq Rifat Rahman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592768453,"creation_date":1592768453,"answer_id":62503575,"question_id":62503143,"body_markdown":"After looking for some solutions from various websites, i have managed to make an pdf generator app. Where i convert the whole view as it is in my pdf. It works for me. Hope that it may be a help to you.\r\n\r\n    private fun savePdf() {\r\n        val printAttributes = PrintAttributes.Builder()\r\n                .setMediaSize(PrintAttributes.MediaSize.ISO_A4)\r\n                .setResolution(Resolution(&quot;id&quot;, Context.PRINT_SERVICE, 400, 600))\r\n                .setColorMode(PrintAttributes.COLOR_MODE_COLOR)\r\n                .setMinMargins(PrintAttributes.Margins.NO_MARGINS)\r\n                .build()\r\n        val pdfDocument = PrintedPdfDocument(this, printAttributes)\r\n        val content = findViewById&lt;View&gt;(R.id.linearLayoutId)\r\n        val pageInfo = PageInfo.Builder(content.width, content.height, 1).create()\r\n        val page = pdfDocument.startPage(pageInfo)\r\n        content.draw(page.canvas)\r\n        pdfDocument.finishPage(page)\r\n        val file = File(Environment.getExternalStorageDirectory(), &quot;/hello9.pdf&quot;)\r\n        try {\r\n            pdfDocument.writeTo(FileOutputStream(file))\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n        pdfDocument.close()\r\n    }","title":"center image in PdfDocument","body":"<p>After looking for some solutions from various websites, i have managed to make an pdf generator app. Where i convert the whole view as it is in my pdf. It works for me. Hope that it may be a help to you.</p>\n<pre><code>private fun savePdf() {\n    val printAttributes = PrintAttributes.Builder()\n            .setMediaSize(PrintAttributes.MediaSize.ISO_A4)\n            .setResolution(Resolution(&quot;id&quot;, Context.PRINT_SERVICE, 400, 600))\n            .setColorMode(PrintAttributes.COLOR_MODE_COLOR)\n            .setMinMargins(PrintAttributes.Margins.NO_MARGINS)\n            .build()\n    val pdfDocument = PrintedPdfDocument(this, printAttributes)\n    val content = findViewById&lt;View&gt;(R.id.linearLayoutId)\n    val pageInfo = PageInfo.Builder(content.width, content.height, 1).create()\n    val page = pdfDocument.startPage(pageInfo)\n    content.draw(page.canvas)\n    pdfDocument.finishPage(page)\n    val file = File(Environment.getExternalStorageDirectory(), &quot;/hello9.pdf&quot;)\n    try {\n        pdfDocument.writeTo(FileOutputStream(file))\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n    pdfDocument.close()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3067357,"reputation":21,"user_id":2598762,"display_name":"GreddyDC5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682030816,"creation_date":1682030816,"answer_id":76068721,"question_id":62503143,"body_markdown":"I was not working on a solution to center an image in a pdf. My view is actually a table layout but doing this is what allowed me to center the canvas inside the generated PDF. Centering your image inside the pdf should be the same.\r\n\r\n\r\n    Canvas canvas = page.getCanvas();\r\n    canvas.translate(dx, dy);\r\n\r\nWhere dx and dy are float values that will move your canvas along the x and y axes.\r\n\r\nI then added the code below, in my case, to complete what I needed to do.\r\n\r\n    view.draw(canvas);\r\n    document.finishPage(page);","title":"center image in PdfDocument","body":"<p>I was not working on a solution to center an image in a pdf. My view is actually a table layout but doing this is what allowed me to center the canvas inside the generated PDF. Centering your image inside the pdf should be the same.</p>\n<pre><code>Canvas canvas = page.getCanvas();\ncanvas.translate(dx, dy);\n</code></pre>\n<p>Where dx and dy are float values that will move your canvas along the x and y axes.</p>\n<p>I then added the code below, in my case, to complete what I needed to do.</p>\n<pre><code>view.draw(canvas);\ndocument.finishPage(page);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682133009,"creation_date":1682133009,"answer_id":76077829,"question_id":62503143,"body_markdown":"to place objects centrally you take width of page and object and Subract/2\r\n\r\n\r\nBefore\r\n```\r\nPdfDocument.PageInfo pageInfo = new\r\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\r\n                            PdfDocument.Page page = document.startPage(pageInfo);\r\n\r\n                            Canvas canvas = page.getCanvas();\r\n                            Rect rectangle = new Rect(0,0,500,500);\r\n\r\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\r\n                            document.finishPage(page);\r\n```\r\n\r\nevery day maths `new Rect ( (595-500)/2, (842-500)/2, 500, 500 )`\r\nso 95/2 and 342/2 \r\n\r\nAfter\r\n```\r\nPdfDocument.PageInfo pageInfo = new\r\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\r\n                            PdfDocument.Page page = document.startPage(pageInfo);\r\n\r\n                            Canvas canvas = page.getCanvas();\r\n                            Rect rectangle = new Rect(47.5,171,500,500);\r\n\r\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\r\n                            document.finishPage(page);\r\n``` ","title":"center image in PdfDocument","body":"<p>to place objects centrally you take width of page and object and Subract/2</p>\n<p>Before</p>\n<pre><code>PdfDocument.PageInfo pageInfo = new\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\n                            PdfDocument.Page page = document.startPage(pageInfo);\n\n                            Canvas canvas = page.getCanvas();\n                            Rect rectangle = new Rect(0,0,500,500);\n\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\n                            document.finishPage(page);\n</code></pre>\n<p>every day maths <code>new Rect ( (595-500)/2, (842-500)/2, 500, 500 )</code>\nso 95/2 and 342/2</p>\n<p>After</p>\n<pre><code>PdfDocument.PageInfo pageInfo = new\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\n                            PdfDocument.Page page = document.startPage(pageInfo);\n\n                            Canvas canvas = page.getCanvas();\n                            Rect rectangle = new Rect(47.5,171,500,500);\n\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\n                            document.finishPage(page);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682137326,"creation_date":1682137326,"answer_id":76078014,"question_id":62503143,"body_markdown":"This might help.\r\n\r\n\r\n    // Calculate the size of the page\r\n    int pageWidth = 595;\r\n    int pageHeight = 842;\r\n    \r\n    // Get the size of the bitmap\r\n    Bitmap bitmap = bitmapArray.get(i);\r\n    int bitmapWidth = bitmap.getWidth();\r\n    int bitmapHeight = bitmap.getHeight();\r\n    \r\n    // Calculate the scale factor to fit the bitmap onto the page\r\n    float scaleFactor = Math.min((float)pageWidth / bitmapWidth, (float)pageHeight / bitmapHeight);\r\n    \r\n    // Calculate the new bitmap dimensions and position to center it on the page\r\n    int scaledBitmapWidth = (int)(bitmapWidth * scaleFactor);\r\n    int scaledBitmapHeight = (int)(bitmapHeight * scaleFactor);\r\n    int left = (pageWidth - scaledBitmapWidth) / 2;\r\n    int top = (pageHeight - scaledBitmapHeight) / 2;\r\n    int right = left + scaledBitmapWidth;\r\n    int bottom = top + scaledBitmapHeight;\r\n    Rect rectangle = new Rect(left, top, right, bottom);\r\n    \r\n    // Draw the scaled bitmap on the canvas at the calculated position\r\n    Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, scaledBitmapWidth, scaledBitmapHeight, true);\r\n    PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(pageWidth, pageHeight, 1).create();\r\n    PdfDocument.Page page = document.startPage(pageInfo);\r\n    Canvas canvas = page.getCanvas();\r\n    canvas.drawBitmap(scaledBitmap, null, rectangle, null);\r\n    document.finishPage(page);\r\n\r\n","title":"center image in PdfDocument","body":"<p>This might help.</p>\n<pre><code>// Calculate the size of the page\nint pageWidth = 595;\nint pageHeight = 842;\n\n// Get the size of the bitmap\nBitmap bitmap = bitmapArray.get(i);\nint bitmapWidth = bitmap.getWidth();\nint bitmapHeight = bitmap.getHeight();\n\n// Calculate the scale factor to fit the bitmap onto the page\nfloat scaleFactor = Math.min((float)pageWidth / bitmapWidth, (float)pageHeight / bitmapHeight);\n\n// Calculate the new bitmap dimensions and position to center it on the page\nint scaledBitmapWidth = (int)(bitmapWidth * scaleFactor);\nint scaledBitmapHeight = (int)(bitmapHeight * scaleFactor);\nint left = (pageWidth - scaledBitmapWidth) / 2;\nint top = (pageHeight - scaledBitmapHeight) / 2;\nint right = left + scaledBitmapWidth;\nint bottom = top + scaledBitmapHeight;\nRect rectangle = new Rect(left, top, right, bottom);\n\n// Draw the scaled bitmap on the canvas at the calculated position\nBitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, scaledBitmapWidth, scaledBitmapHeight, true);\nPdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(pageWidth, pageHeight, 1).create();\nPdfDocument.Page page = document.startPage(pageInfo);\nCanvas canvas = page.getCanvas();\ncanvas.drawBitmap(scaledBitmap, null, rectangle, null);\ndocument.finishPage(page);\n</code></pre>\n"}],"owner":{"account_id":6926316,"reputation":4123,"user_id":5317298,"accept_rate":70,"display_name":"RGS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1682137326,"creation_date":1592765893,"question_id":62503143,"body_markdown":"I have a PdfDocument A4 type.\r\nI&#39;d like to center an image vertically and horizontally on it. I tried this:\r\n\r\n     PdfDocument.PageInfo pageInfo = new\r\n                                        PdfDocument.PageInfo.Builder(595, 842, 1).create();\r\n                                PdfDocument.Page page = document.startPage(pageInfo);\r\n    \r\n                                Canvas canvas = page.getCanvas();\r\n                                Rect rectangle = new Rect(0,0,500,500);\r\n    \r\n                                canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\r\n                                document.finishPage(page);\r\n\r\nBut the image is not centered. Any ideas how to solve it?","title":"center image in PdfDocument","body":"<p>I have a PdfDocument A4 type.\nI'd like to center an image vertically and horizontally on it. I tried this:</p>\n<pre><code> PdfDocument.PageInfo pageInfo = new\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\n                            PdfDocument.Page page = document.startPage(pageInfo);\n\n                            Canvas canvas = page.getCanvas();\n                            Rect rectangle = new Rect(0,0,500,500);\n\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\n                            document.finishPage(page);\n</code></pre>\n<p>But the image is not centered. Any ideas how to solve it?</p>\n"},{"tags":["java","amazon-web-services","encryption","base64","amazon-kms"],"answers":[{"tags":[],"owner":{"account_id":13765969,"reputation":63,"user_id":9934537,"display_name":"Yuvraj Jagga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604473693,"creation_date":1604466550,"answer_id":64674534,"question_id":64662874,"body_markdown":"Just to update here in case anyone got stock at this problem.\r\n\r\nWhile debugging found out that, the capacity and the limit of _ByteBuffer_ object obtained using the get methods of the KMS response was different than the default capacity and limit while creating one from the cipherText in the _decrypt_ method. So this caused the exception.\r\n\r\n","title":"Decrypt cypherTextBlob using AWS KMS programmatically in Java ? InvalidCiphertextException","body":"<p>Just to update here in case anyone got stock at this problem.</p>\n<p>While debugging found out that, the capacity and the limit of <em>ByteBuffer</em> object obtained using the get methods of the KMS response was different than the default capacity and limit while creating one from the cipherText in the <em>decrypt</em> method. So this caused the exception.</p>\n"},{"tags":[],"owner":{"account_id":10879796,"reputation":1,"user_id":7999129,"display_name":"Pritesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682135954,"creation_date":1681899365,"answer_id":76053317,"question_id":64662874,"body_markdown":"I am also faced same problem.Then i realised i am converting to String directly. But we can  Store as ByteBuffer. so i did it and retrived it. the problem is resolved.\r\n\r\n```\r\n  EncryptResponse response = kmsClient.encrypt(encryptRequest);\r\n\r\n  CreateSecretRequest createSecretRequest = CreateSecretRequest.builder()\r\n      .name(&quot;dev/encrypte******&quot;)\r\n      .kmsKeyId(config.getArn())\r\n      .secretBinary(response.ciphertextBlob())\r\n      .build();\r\n\r\n  -- --Decryption-- --\r\n\r\n  DecryptResponse decryptResponse = kmsClient.decrypt(decryptRequest);\r\n  String decrypted = new String(decryptResponse.plaintext().asByteArray());\r\n```\r\n","title":"Decrypt cypherTextBlob using AWS KMS programmatically in Java ? InvalidCiphertextException","body":"<p>I am also faced same problem.Then i realised i am converting to String directly. But we can  Store as ByteBuffer. so i did it and retrived it. the problem is resolved.</p>\n<pre><code>  EncryptResponse response = kmsClient.encrypt(encryptRequest);\n\n  CreateSecretRequest createSecretRequest = CreateSecretRequest.builder()\n      .name(&quot;dev/encrypte******&quot;)\n      .kmsKeyId(config.getArn())\n      .secretBinary(response.ciphertextBlob())\n      .build();\n\n  -- --Decryption-- --\n\n  DecryptResponse decryptResponse = kmsClient.decrypt(decryptRequest);\n  String decrypted = new String(decryptResponse.plaintext().asByteArray());\n</code></pre>\n"}],"owner":{"account_id":13765969,"reputation":63,"user_id":9934537,"display_name":"Yuvraj Jagga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2062,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682135954,"creation_date":1604406595,"question_id":64662874,"body_markdown":"I am a bit new to cryptography and never used AWS KMS to encrypt data before.\r\nI am using AWS SDK for Java for KMS.\r\nBut while trying to encrypt and decrypt using AWS KMS API Operations, I am facing the exception InvalidCiphertextException\r\n\r\n\r\n```  \r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kms&lt;/artifactId&gt;\r\n      &lt;version&gt;2.15.19&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n\r\n**Encrypt part**\r\n```\r\nString encrypt(String plainText){\r\nEncryptRequest encryptRequest = new EncryptRequest().withKeyId(keyId).withPlaintext(plainText);\r\n\r\n//calling encrypt function here \r\nEncryptResult response = kmsClient.encrypt(encryptRequest);\r\ncipherText =  new String(response.getCiphertextBlob().array());\r\n//calling decrypt function here\r\nreturn decrypt(cipherText);\r\n}\r\n```\r\n\r\n**Decrypt part in decrypt method**\r\n```\r\npublic String decrypt(String cipherText){\r\nByteBuffer cyphertextBlob = ByteBuffer.wrap(cipherText.getBytes());\r\n\r\n//Point 1: Exception is thrown at this point while calling decrypt operation API.\r\n\r\nDecryptRequest request = new DecryptRequest().withKeyId(keyId).withCiphertextBlob(cyphertextBlob);\r\n}\r\n```\r\nThe problem is I get the following error at the point of making the api call (Point 1)\r\n\r\n```com.amazonaws.services.kms.model.InvalidCiphertextException: null (Service: AWSKMS; Status Code: 400; Error Code: InvalidCiphertextException; Request ID: 45720b33-3637-490a-8c6a-d7491ccadf94; Proxy: null)```\r\n\r\n\r\nInvalidCiphertextException. While going through AWS documents, here are the points I understood, \r\n\r\n\r\n - The encryption context is cryptographically tied to the cypher text so **InvalidCiphertextException** is thrown if we don&#39;t provide the encryptionContext in decrypt operation. But I am not providing encryptionContext while encrypting.\r\n - I also tried using withEncryptionContext(null) while preparing the Encryption and Decryption Context.\r\n\r\n\r\nDo I need to do any other step to manipulate/transform the cipher text before using decryption request ?\r\n\r\ncan anyone help with this please ?\r\n ","title":"Decrypt cypherTextBlob using AWS KMS programmatically in Java ? InvalidCiphertextException","body":"<p>I am a bit new to cryptography and never used AWS KMS to encrypt data before.\nI am using AWS SDK for Java for KMS.\nBut while trying to encrypt and decrypt using AWS KMS API Operations, I am facing the exception InvalidCiphertextException</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;kms&lt;/artifactId&gt;\n      &lt;version&gt;2.15.19&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p><strong>Encrypt part</strong></p>\n<pre><code>String encrypt(String plainText){\nEncryptRequest encryptRequest = new EncryptRequest().withKeyId(keyId).withPlaintext(plainText);\n\n//calling encrypt function here \nEncryptResult response = kmsClient.encrypt(encryptRequest);\ncipherText =  new String(response.getCiphertextBlob().array());\n//calling decrypt function here\nreturn decrypt(cipherText);\n}\n</code></pre>\n<p><strong>Decrypt part in decrypt method</strong></p>\n<pre><code>public String decrypt(String cipherText){\nByteBuffer cyphertextBlob = ByteBuffer.wrap(cipherText.getBytes());\n\n//Point 1: Exception is thrown at this point while calling decrypt operation API.\n\nDecryptRequest request = new DecryptRequest().withKeyId(keyId).withCiphertextBlob(cyphertextBlob);\n}\n</code></pre>\n<p>The problem is I get the following error at the point of making the api call (Point 1)</p>\n<p><code>com.amazonaws.services.kms.model.InvalidCiphertextException: null (Service: AWSKMS; Status Code: 400; Error Code: InvalidCiphertextException; Request ID: 45720b33-3637-490a-8c6a-d7491ccadf94; Proxy: null)</code></p>\n<p>InvalidCiphertextException. While going through AWS documents, here are the points I understood,</p>\n<ul>\n<li>The encryption context is cryptographically tied to the cypher text so <strong>InvalidCiphertextException</strong> is thrown if we don't provide the encryptionContext in decrypt operation. But I am not providing encryptionContext while encrypting.</li>\n<li>I also tried using withEncryptionContext(null) while preparing the Encryption and Decryption Context.</li>\n</ul>\n<p>Do I need to do any other step to manipulate/transform the cipher text before using decryption request ?</p>\n<p>can anyone help with this please ?</p>\n"},{"tags":["java","public-key-encryption","public-key","pgp","secret-key"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682140901,"post_id":76077812,"comment_id":134172199,"body_markdown":"**What version of bouncycastle?** The last version with `makeKeyFromPassPhrase` in `PGPUtil` was 1.46 in 2011 (after that it moved to the decryptorFactory) and even 1.46 should handle S2K hash #8 = SHA256. (Note the _encryption_ algorithm is irrelevant, it&#39;s the S2K hash at issue. You could try changing that.)","body":"<b>What version of bouncycastle?</b> The last version with <code>makeKeyFromPassPhrase</code> in <code>PGPUtil</code> was 1.46 in 2011 (after that it moved to the decryptorFactory) and even 1.46 should handle S2K hash #8 = SHA256. (Note the <i>encryption</i> algorithm is irrelevant, it&#39;s the S2K hash at issue. You could try changing that.)"},{"owner":{"account_id":28376596,"reputation":1,"user_id":21704561,"display_name":"javaConsumtion"},"score":0,"creation_date":1682170868,"post_id":76077812,"comment_id":134175040,"body_markdown":"bouncycastle 1.45\n\nWork is pushing for me to use this version...I have tried to oush for 1.46...","body":"bouncycastle 1.45  Work is pushing for me to use this version...I have tried to oush for 1.46..."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682381606,"post_id":76077812,"comment_id":134203151,"body_markdown":"Wow! I would push for something not more than 5 years old! But if you are stuck with 1.45, you&#39;ll have to create or convert the key with an older s2k hash. How did you create this key? In GnuPG 2.2 --s2k-digest-algo is apparently no longer configurable for keys, but it still uses SHA-1 not SHA-256.","body":"Wow! I would push for something not more than 5 years old! But if you are stuck with 1.45, you&#39;ll have to create or convert the key with an older s2k hash. How did you create this key? In GnuPG 2.2 --s2k-digest-algo is apparently no longer configurable for keys, but it still uses SHA-1 not SHA-256."}],"owner":{"account_id":28376596,"reputation":1,"user_id":21704561,"display_name":"javaConsumtion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682132599,"creation_date":1682132599,"question_id":76077812,"body_markdown":"I am currently working on a PgPEncryptionService and am successfully able to encrypt the file with my pub keys. The issue I am facing is with decryption.\r\n\r\nI am currently receiving this error when running my test case for my decrypting methods.\r\n\r\n\r\n```\r\n[main] INFO com.rxbenefits.service.impl.PGPEncryptionService - Secret key algorithm: 9\r\n\r\norg.bouncycastle.openpgp.PGPException: unknown hash algorithm: 8\r\n\r\n\tat org.bouncycastle.openpgp.PGPUtil.getS2kDigestName(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPUtil.makeKeyFromPassPhrase(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPSecretKey.extractKeyData(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPSecretKey.extractPrivateKey(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPSecretKey.extractPrivateKey(Unknown Source)\r\n\tat com.rxbenefits.service.impl.PGPEncryptionService.findSecretKey(PGPEncryptionService.java:102)\r\n\tat com.rxbenefits.service.impl.PGPEncryptionService.decryptFile(PGPEncryptionService.java:132)\r\n\tat com.rxbenefits.service.impl.PGPEncryptionServiceTest.testFileEncryption(PGPEncryptionServiceTest.java:55)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n```\r\n\r\n\r\nAnd when running in debug I can see values are coming through fine....and the only thing I can find in the debugger for algorithm 9 is the one pictured below\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/b1Tav.png)\r\n\r\nAnyways. I am at a loss as to what I am doing wrong. I have generated these keys myself, and am able to encrypt with the pub key...but for some reason decryption is kicking my butt. Below are the two methods I am using to decrypt.\r\n\r\n\r\n**This is the Decryption Method**\r\n\r\n```\r\n    /**\r\n     * decrypt the passed in message stream\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static void decryptFile(InputStream in, OutputStream out, InputStream keyIn, char[] passwd) throws Exception\r\n    {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\r\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n        PGPEncryptedDataList enc;\r\n        Object o = pgpF.nextObject();\r\n        // the first object might be a PGP marker packet.\r\n        if (o instanceof PGPEncryptedDataList)\r\n        {\r\n            enc = (PGPEncryptedDataList) o;\r\n        }\r\n        else\r\n        {\r\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n        }\r\n        // find the secret key\r\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\r\n        PGPPrivateKey sKey = null;\r\n        PGPPublicKeyEncryptedData pbe = null;\r\n        while (sKey == null &amp;&amp; it.hasNext())\r\n        {\r\n            pbe = it.next();\r\n            sKey = findSecretKey(keyIn, pbe.getKeyID(), passwd);\r\n        }\r\n        if (sKey == null)\r\n        {\r\n            throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\r\n        }\r\n        InputStream clear = pbe.getDataStream(sKey, &quot;BC&quot;);\r\n        PGPObjectFactory plainFact = new PGPObjectFactory(clear);\r\n        Object message = plainFact.nextObject();\r\n        PGPObjectFactory pgpFact = null;\r\n        if (message instanceof PGPCompressedData)\r\n        {\r\n            PGPCompressedData cData = (PGPCompressedData) message;\r\n            pgpFact = new PGPObjectFactory(cData.getDataStream());\r\n            message = pgpFact.nextObject();\r\n        }\r\n        if (message instanceof PGPLiteralData)\r\n        {\r\n            PGPLiteralData ld = (PGPLiteralData) message;\r\n            InputStream unc = ld.getInputStream();\r\n            int ch;\r\n            while ((ch = unc.read()) &gt;= 0)\r\n            {\r\n                out.write(ch);\r\n            }\r\n        }\r\n        else if (message instanceof PGPOnePassSignatureList)\r\n        {\r\n            PGPOnePassSignatureList p1 = (PGPOnePassSignatureList) message;\r\n\r\n            PGPOnePassSignature ops = p1.get(0);\r\n\r\n            PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\r\n\r\n            InputStream unc = ld.getInputStream();\r\n            int ch;\r\n            while ((ch = unc.read()) &gt;= 0)\r\n            {\r\n                out.write(ch);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            throw new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\r\n        }\r\n        if (pbe.isIntegrityProtected())\r\n        {\r\n            if (!pbe.verify())\r\n            {\r\n                throw new PGPException(&quot;Message failed integrity check&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n**This is the method being used to get the secret key**\r\n\r\n```\r\nprivate static PGPPrivateKey findSecretKey(InputStream keyIn, long keyID, char[] pass) throws IOException, PGPException, NoSuchProviderException {\r\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(org.bouncycastle.openpgp.PGPUtil.getDecoderStream(keyIn));\r\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n\r\n        if (pgpSecKey == null) {\r\n            return null;\r\n        }\r\n\r\n        log.info(&quot;Secret key algorithm: &quot; + pgpSecKey.getKeyEncryptionAlgorithm());\r\n\r\n        return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\r\n    }\r\n```\r\n\r\n**This is my unit test for the above**\r\n\r\n```\r\n       @Test\r\n        public void testFileEncryption() throws Exception {\r\n            // create unencrypted file\r\n        String tempPath = &quot;temp&quot;;\r\n        FileRepo fileRepo = new FileRepo();\r\n        fileRepo.setEncryptionKeyNo(123L);\r\n\r\n        // Create the unencrypted file\r\n        File unencryptedFile = new File(&quot;unencrypted.txt&quot;);\r\n        try (PrintWriter writer = new PrintWriter(unencryptedFile)) {\r\n            writer.println(&quot;Hello, world!&quot;);\r\n        }\r\n\r\n        // Encrypt the file\r\n        File encryptedFile = new File(tempPath + unencryptedFile.getName() + &quot;.pgp&quot;);\r\n        File encryptedResult = new File(&quot;encrypted.txt&quot;);\r\n        try (OutputStream out = new DataOutputStream(new FileOutputStream(encryptedFile));\r\n             FileInputStream publicKeyStream = new FileInputStream(publicKey)) {\r\n            encryptFile(out, unencryptedFile.getPath(), readPublicKey(publicKeyStream), false, true);\r\n            try (InputStream in = new FileInputStream(encryptedFile);\r\n                 OutputStream outResult = new FileOutputStream(encryptedResult);\r\n                 FileInputStream privateKeyStream = new FileInputStream(secretKey)) {\r\n                // Decrypt the encrypted file\r\n                decryptFile(in, outResult, privateKeyStream, passPhrase);\r\n            }\r\n        }\r\n\r\n        // Check that the decrypted file matches the original unencrypted file\r\n        try (BufferedReader reader1 = new BufferedReader(new FileReader(unencryptedFile));\r\n             BufferedReader reader2 = new BufferedReader(new FileReader(encryptedResult))) {\r\n            String line1 = reader1.readLine();\r\n            String line2 = reader2.readLine();\r\n            while (line1 != null &amp;&amp; line2 != null) {\r\n                assertEquals(line1, line2);\r\n                line1 = reader1.readLine();\r\n                line2 = reader2.readLine();\r\n            }\r\n            assertNull(line1);\r\n            assertNull(line2);\r\n        }\r\n\r\n        // Clean up the files\r\n        unencryptedFile.delete();\r\n        encryptedFile.delete();\r\n        encryptedResult.delete();\r\n    }\r\n```\r\n\r\n\r\n\r\nThe findSecretKey method is the one I am receiving the error at. Specifically when it&#39;s returning pgpSecKey.extractPrivateKey.\r\n\r\n\r\n\r\nThings I thought were the issue:\r\n\r\nWrong password. (This is not the case. I have created 4 different key pairs with passwords of 12345 and none work)\r\n\r\nChanging the algorithm being used while encrypting. (now using AES_256 and error still remains)","title":"Decrypting PgP Encrypted File","body":"<p>I am currently working on a PgPEncryptionService and am successfully able to encrypt the file with my pub keys. The issue I am facing is with decryption.</p>\n<p>I am currently receiving this error when running my test case for my decrypting methods.</p>\n<pre><code>[main] INFO com.rxbenefits.service.impl.PGPEncryptionService - Secret key algorithm: 9\n\norg.bouncycastle.openpgp.PGPException: unknown hash algorithm: 8\n\n    at org.bouncycastle.openpgp.PGPUtil.getS2kDigestName(Unknown Source)\n    at org.bouncycastle.openpgp.PGPUtil.makeKeyFromPassPhrase(Unknown Source)\n    at org.bouncycastle.openpgp.PGPSecretKey.extractKeyData(Unknown Source)\n    at org.bouncycastle.openpgp.PGPSecretKey.extractPrivateKey(Unknown Source)\n    at org.bouncycastle.openpgp.PGPSecretKey.extractPrivateKey(Unknown Source)\n    at com.rxbenefits.service.impl.PGPEncryptionService.findSecretKey(PGPEncryptionService.java:102)\n    at com.rxbenefits.service.impl.PGPEncryptionService.decryptFile(PGPEncryptionService.java:132)\n    at com.rxbenefits.service.impl.PGPEncryptionServiceTest.testFileEncryption(PGPEncryptionServiceTest.java:55)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n</code></pre>\n<p>And when running in debug I can see values are coming through fine....and the only thing I can find in the debugger for algorithm 9 is the one pictured below</p>\n<p><a href=\"https://i.stack.imgur.com/b1Tav.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Anyways. I am at a loss as to what I am doing wrong. I have generated these keys myself, and am able to encrypt with the pub key...but for some reason decryption is kicking my butt. Below are the two methods I am using to decrypt.</p>\n<p><strong>This is the Decryption Method</strong></p>\n<pre><code>    /**\n     * decrypt the passed in message stream\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static void decryptFile(InputStream in, OutputStream out, InputStream keyIn, char[] passwd) throws Exception\n    {\n        Security.addProvider(new BouncyCastleProvider());\n        in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList enc;\n        Object o = pgpF.nextObject();\n        // the first object might be a PGP marker packet.\n        if (o instanceof PGPEncryptedDataList)\n        {\n            enc = (PGPEncryptedDataList) o;\n        }\n        else\n        {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n        // find the secret key\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n        while (sKey == null &amp;&amp; it.hasNext())\n        {\n            pbe = it.next();\n            sKey = findSecretKey(keyIn, pbe.getKeyID(), passwd);\n        }\n        if (sKey == null)\n        {\n            throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\n        }\n        InputStream clear = pbe.getDataStream(sKey, &quot;BC&quot;);\n        PGPObjectFactory plainFact = new PGPObjectFactory(clear);\n        Object message = plainFact.nextObject();\n        PGPObjectFactory pgpFact = null;\n        if (message instanceof PGPCompressedData)\n        {\n            PGPCompressedData cData = (PGPCompressedData) message;\n            pgpFact = new PGPObjectFactory(cData.getDataStream());\n            message = pgpFact.nextObject();\n        }\n        if (message instanceof PGPLiteralData)\n        {\n            PGPLiteralData ld = (PGPLiteralData) message;\n            InputStream unc = ld.getInputStream();\n            int ch;\n            while ((ch = unc.read()) &gt;= 0)\n            {\n                out.write(ch);\n            }\n        }\n        else if (message instanceof PGPOnePassSignatureList)\n        {\n            PGPOnePassSignatureList p1 = (PGPOnePassSignatureList) message;\n\n            PGPOnePassSignature ops = p1.get(0);\n\n            PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\n\n            InputStream unc = ld.getInputStream();\n            int ch;\n            while ((ch = unc.read()) &gt;= 0)\n            {\n                out.write(ch);\n            }\n        }\n        else\n        {\n            throw new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\n        }\n        if (pbe.isIntegrityProtected())\n        {\n            if (!pbe.verify())\n            {\n                throw new PGPException(&quot;Message failed integrity check&quot;);\n            }\n        }\n    }\n</code></pre>\n<p><strong>This is the method being used to get the secret key</strong></p>\n<pre><code>private static PGPPrivateKey findSecretKey(InputStream keyIn, long keyID, char[] pass) throws IOException, PGPException, NoSuchProviderException {\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(org.bouncycastle.openpgp.PGPUtil.getDecoderStream(keyIn));\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n\n        if (pgpSecKey == null) {\n            return null;\n        }\n\n        log.info(&quot;Secret key algorithm: &quot; + pgpSecKey.getKeyEncryptionAlgorithm());\n\n        return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\n    }\n</code></pre>\n<p><strong>This is my unit test for the above</strong></p>\n<pre><code>       @Test\n        public void testFileEncryption() throws Exception {\n            // create unencrypted file\n        String tempPath = &quot;temp&quot;;\n        FileRepo fileRepo = new FileRepo();\n        fileRepo.setEncryptionKeyNo(123L);\n\n        // Create the unencrypted file\n        File unencryptedFile = new File(&quot;unencrypted.txt&quot;);\n        try (PrintWriter writer = new PrintWriter(unencryptedFile)) {\n            writer.println(&quot;Hello, world!&quot;);\n        }\n\n        // Encrypt the file\n        File encryptedFile = new File(tempPath + unencryptedFile.getName() + &quot;.pgp&quot;);\n        File encryptedResult = new File(&quot;encrypted.txt&quot;);\n        try (OutputStream out = new DataOutputStream(new FileOutputStream(encryptedFile));\n             FileInputStream publicKeyStream = new FileInputStream(publicKey)) {\n            encryptFile(out, unencryptedFile.getPath(), readPublicKey(publicKeyStream), false, true);\n            try (InputStream in = new FileInputStream(encryptedFile);\n                 OutputStream outResult = new FileOutputStream(encryptedResult);\n                 FileInputStream privateKeyStream = new FileInputStream(secretKey)) {\n                // Decrypt the encrypted file\n                decryptFile(in, outResult, privateKeyStream, passPhrase);\n            }\n        }\n\n        // Check that the decrypted file matches the original unencrypted file\n        try (BufferedReader reader1 = new BufferedReader(new FileReader(unencryptedFile));\n             BufferedReader reader2 = new BufferedReader(new FileReader(encryptedResult))) {\n            String line1 = reader1.readLine();\n            String line2 = reader2.readLine();\n            while (line1 != null &amp;&amp; line2 != null) {\n                assertEquals(line1, line2);\n                line1 = reader1.readLine();\n                line2 = reader2.readLine();\n            }\n            assertNull(line1);\n            assertNull(line2);\n        }\n\n        // Clean up the files\n        unencryptedFile.delete();\n        encryptedFile.delete();\n        encryptedResult.delete();\n    }\n</code></pre>\n<p>The findSecretKey method is the one I am receiving the error at. Specifically when it's returning pgpSecKey.extractPrivateKey.</p>\n<p>Things I thought were the issue:</p>\n<p>Wrong password. (This is not the case. I have created 4 different key pairs with passwords of 12345 and none work)</p>\n<p>Changing the algorithm being used while encrypting. (now using AES_256 and error still remains)</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1682127607,"post_id":76077506,"comment_id":134171427,"body_markdown":"Are you using the method parameters in anywhere else, other than to call `someMethodN()`?","body":"Are you using the method parameters in anywhere else, other than to call <code>someMethodN()</code>?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1682128770,"post_id":76077506,"comment_id":134171483,"body_markdown":"What’s the use of the `AtomicReference` in these methods?","body":"What’s the use of the <code>AtomicReference</code> in these methods?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1682129827,"post_id":76077506,"comment_id":134171564,"body_markdown":"What does `// …` stand for in these methods? Is it the same for all of them or different in each?","body":"What does <code>&#47;&#47; …</code> stand for in these methods? Is it the same for all of them or different in each?"},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682131033,"post_id":76077506,"comment_id":134171620,"body_markdown":"@Sweeper Yes, only used in `someMethodN()`","body":"@Sweeper Yes, only used in <code>someMethodN()</code>"},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682131075,"post_id":76077506,"comment_id":134171621,"body_markdown":"@TimMoore Yes same code for all","body":"@TimMoore Yes same code for all"},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682131461,"post_id":76077506,"comment_id":134171637,"body_markdown":"@TimMoore The purpose of the method is to send a message to another thread and then wait for a response. The complexity of this process is intentionally hidden, and only the variable is shown because it has the same type as the return type.","body":"@TimMoore The purpose of the method is to send a message to another thread and then wait for a response. The complexity of this process is intentionally hidden, and only the variable is shown because it has the same type as the return type."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682131450,"creation_date":1682131450,"answer_id":76077779,"question_id":76077506,"body_markdown":"You can declare a generic helper like this:\r\n\r\n    private &lt;T&gt; T helper(Supplier&lt;T&gt; method) {\r\n        AtomicReference&lt;T&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(method.get());\r\n        // ...\r\n        return res.get();\r\n    }\r\n\r\nIt takes a `Supplier&lt;T&gt;`, representing the method you are going to call. The arguments to the method will be captured on the caller&#39;s side.\r\n\r\nFor example, `f1` can be declared using this `helper` like this:\r\n\r\n    private int f1(int t) {\r\n        return helper(() -&gt; someMethod1(t));\r\n    }\r\n\r\nAnother example for `f3`,\r\n\r\n    private float f1(float x, float y) {\r\n        return helper(() -&gt; someMethod3(x, y));\r\n    }","title":"How to design a generic method to avoid code repetition in Java?","body":"<p>You can declare a generic helper like this:</p>\n<pre><code>private &lt;T&gt; T helper(Supplier&lt;T&gt; method) {\n    AtomicReference&lt;T&gt; res = new AtomicReference&lt;&gt;();\n    res.set(method.get());\n    // ...\n    return res.get();\n}\n</code></pre>\n<p>It takes a <code>Supplier&lt;T&gt;</code>, representing the method you are going to call. The arguments to the method will be captured on the caller's side.</p>\n<p>For example, <code>f1</code> can be declared using this <code>helper</code> like this:</p>\n<pre><code>private int f1(int t) {\n    return helper(() -&gt; someMethod1(t));\n}\n</code></pre>\n<p>Another example for <code>f3</code>,</p>\n<pre><code>private float f1(float x, float y) {\n    return helper(() -&gt; someMethod3(x, y));\n}\n</code></pre>\n"}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76077779,"answer_count":1,"score":0,"last_activity_date":1682131450,"creation_date":1682123753,"question_id":76077506,"body_markdown":"I have several methods (around 10) in my Java code that have similar structure, but different return types, method arguments, and the specific methods they call (`someMethod()`). An example is:\r\n\r\n    private int f1(int t) {\r\n        AtomicReference&lt;Integer&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(someMethod1(t));\r\n        // ...\r\n        return res.get();\r\n    }\r\n    \r\n    private int f2(String text) {\r\n        AtomicReference&lt;Integer&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(someMethod2(text));\r\n        // ...\r\n        return res.get();\r\n    }\r\n    \r\n    private float f3(float x, float y) {\r\n        AtomicReference&lt;Float&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(someMethod3(x, y));\r\n        // ...\r\n        return res.get();\r\n    }\r\n    \r\n    private float f4() {\r\n        AtomicReference&lt;Float&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(someMethod4());\r\n        // ...\r\n        return res.get();\r\n    }\r\n\r\nI would like to avoid code repetition and design a generic helper method that can handle these cases. What would be the best approach to do this?","title":"How to design a generic method to avoid code repetition in Java?","body":"<p>I have several methods (around 10) in my Java code that have similar structure, but different return types, method arguments, and the specific methods they call (<code>someMethod()</code>). An example is:</p>\n<pre><code>private int f1(int t) {\n    AtomicReference&lt;Integer&gt; res = new AtomicReference&lt;&gt;();\n    res.set(someMethod1(t));\n    // ...\n    return res.get();\n}\n\nprivate int f2(String text) {\n    AtomicReference&lt;Integer&gt; res = new AtomicReference&lt;&gt;();\n    res.set(someMethod2(text));\n    // ...\n    return res.get();\n}\n\nprivate float f3(float x, float y) {\n    AtomicReference&lt;Float&gt; res = new AtomicReference&lt;&gt;();\n    res.set(someMethod3(x, y));\n    // ...\n    return res.get();\n}\n\nprivate float f4() {\n    AtomicReference&lt;Float&gt; res = new AtomicReference&lt;&gt;();\n    res.set(someMethod4());\n    // ...\n    return res.get();\n}\n</code></pre>\n<p>I would like to avoid code repetition and design a generic helper method that can handle these cases. What would be the best approach to do this?</p>\n"},{"tags":["java","arrays","json","serialization","gson"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682118765,"post_id":76077168,"comment_id":134170768,"body_markdown":"You have a small typo in your target JSON - it should be `&quot;profile2&quot;:` not `&quot;profile2:&quot;`.","body":"You have a small typo in your target JSON - it should be <code>&quot;profile2&quot;:</code> not <code>&quot;profile2:&quot;</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1682118819,"post_id":76077168,"comment_id":134170772,"body_markdown":"A Java `Map` of `Profile` objects, where the map&#39;s keys are `&quot;profile1&quot;`, `&quot;profile2&quot;`, and so on... is a natural fit for what you appear to need.","body":"A Java <code>Map</code> of <code>Profile</code> objects, where the map&#39;s keys are <code>&quot;profile1&quot;</code>, <code>&quot;profile2&quot;</code>, and so on... is a natural fit for what you appear to need."},{"owner":{"account_id":23055327,"reputation":3,"user_id":18393311,"display_name":"doctordingus"},"score":0,"creation_date":1682130386,"post_id":76077168,"comment_id":134171595,"body_markdown":"@andrewJames You&#39;re right, I just fixed that. And also I can&#39;t believe I haven&#39;t considered just using a Map, that&#39;s a great suggestion. Thank you","body":"@andrewJames You&#39;re right, I just fixed that. And also I can&#39;t believe I haven&#39;t considered just using a Map, that&#39;s a great suggestion. Thank you"}],"owner":{"account_id":23055327,"reputation":3,"user_id":18393311,"display_name":"doctordingus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682130287,"creation_date":1682117155,"question_id":76077168,"body_markdown":"I have a class:\r\n\r\n\r\n```java\r\npublic class Profile {\r\n    private int name;\r\n\r\n    // getter and setter\r\n}\r\n```\r\n\r\nand this method elsewhere:\r\n\r\n\r\n```java\r\npublic static void printProfiles(Profile[] profiles) {\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    System.out.println(gson.toJson(profiles));\r\n}\r\n```\r\n\r\nAs expected, I get the following result:\r\n\r\n\r\n```js\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;some name 1&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;some name 2&quot;\r\n  }\r\n]\r\n```\r\n\r\nBut I would like the Profile[] array to be serialized as a JSON object instead of as a JSON array, such that each profile in the output JSON has an assigned key for it, and that they&#39;re nested in a JSON object instead of an array. Something like this:\r\n\r\n\r\n```js\r\n{\r\n  &quot;profile1&quot;: {\r\n    &quot;name&quot;: &quot;some name 1&quot;\r\n  },\r\n  &quot;profile2&quot;: {\r\n    &quot;name&quot;: &quot;some name 2&quot;\r\n  }\r\n}\r\n```\r\n\r\nHow would I go about accomplishing this? I&#39;m not very familiar with GSON and couldn&#39;t figure out the solution to this by going through the documentation. Thanks in advance!\r\n\r\n I&#39;ve tried creating a Profiles class:\r\n\r\n\r\n```java\r\npublic class Profiles {\r\n    private Profile profile1;\r\n    private Profile profile2;\r\n    // etc\r\n    \r\n    // setters and getters\r\n}\r\n```\r\nand then updating my method:\r\n\r\n```java\r\npublic static void printProfiles(Profiles profiles) {\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    System.out.println(gson.toJson(profiles));\r\n}\r\n```\r\nwhich gives the expected results. But this is obviously not a real solution because the number of Profiles varies and can be in the hundreds.","title":"How can I use GSON to serialize an array as a JSON object instead of a JSON array?","body":"<p>I have a class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Profile {\n    private int name;\n\n    // getter and setter\n}\n</code></pre>\n<p>and this method elsewhere:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void printProfiles(Profile[] profiles) {\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    System.out.println(gson.toJson(profiles));\n}\n</code></pre>\n<p>As expected, I get the following result:</p>\n<pre class=\"lang-js prettyprint-override\"><code>[\n  {\n    &quot;name&quot;: &quot;some name 1&quot;\n  },\n  {\n    &quot;name&quot;: &quot;some name 2&quot;\n  }\n]\n</code></pre>\n<p>But I would like the Profile[] array to be serialized as a JSON object instead of as a JSON array, such that each profile in the output JSON has an assigned key for it, and that they're nested in a JSON object instead of an array. Something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;profile1&quot;: {\n    &quot;name&quot;: &quot;some name 1&quot;\n  },\n  &quot;profile2&quot;: {\n    &quot;name&quot;: &quot;some name 2&quot;\n  }\n}\n</code></pre>\n<p>How would I go about accomplishing this? I'm not very familiar with GSON and couldn't figure out the solution to this by going through the documentation. Thanks in advance!</p>\n<p>I've tried creating a Profiles class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Profiles {\n    private Profile profile1;\n    private Profile profile2;\n    // etc\n    \n    // setters and getters\n}\n</code></pre>\n<p>and then updating my method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void printProfiles(Profiles profiles) {\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    System.out.println(gson.toJson(profiles));\n}\n</code></pre>\n<p>which gives the expected results. But this is obviously not a real solution because the number of Profiles varies and can be in the hundreds.</p>\n"},{"tags":["java","android","if-statement","settext"],"comments":[{"owner":{"account_id":2932591,"reputation":4163,"user_id":2512399,"display_name":"Michael Markidis"},"score":1,"creation_date":1682129218,"post_id":76077673,"comment_id":134171520,"body_markdown":"`textView.setText((value == 0) ? &quot;no&quot; : &quot;yes&quot;);`","body":"<code>textView.setText((value == 0) ? &quot;no&quot; : &quot;yes&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682129607,"creation_date":1682129607,"answer_id":76077693,"question_id":76077673,"body_markdown":"You can use the [ternary operator](https://en.wikipedia.org/wiki/Ternary_conditional_operator).\r\n\r\n```java\r\ntextView.setText(value == 0 ? &quot;no&quot; : &quot;yes&quot;);\r\n```\r\n\r\nNote that you can always just write out the `if` and `else` statements directly, though.\r\n\r\n```java\r\nif (value == 0) textView.setText(&quot;no&quot;);\r\nelse textView.setText(&quot;yes&quot;);\r\n```","title":"How do I use an if statement inside of setText?","body":"<p>You can use the <a href=\"https://en.wikipedia.org/wiki/Ternary_conditional_operator\" rel=\"nofollow noreferrer\">ternary operator</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>textView.setText(value == 0 ? &quot;no&quot; : &quot;yes&quot;);\n</code></pre>\n<p>Note that you can always just write out the <code>if</code> and <code>else</code> statements directly, though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (value == 0) textView.setText(&quot;no&quot;);\nelse textView.setText(&quot;yes&quot;);\n</code></pre>\n"}],"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76077693,"answer_count":1,"score":0,"last_activity_date":1682129607,"creation_date":1682128994,"question_id":76077673,"body_markdown":"I want to have a `setText` with an `if` statement inside, so I can easily pick a value for viewing. I remember seeing something like it in MIT App Inventor, so I think it&#39;s possible.\r\n\r\nFor example,\r\n```\r\ntextView.setText(if (value == 0) {&quot;no&quot;}else {&quot;yes&quot;};\r\n```","title":"How do I use an if statement inside of setText?","body":"<p>I want to have a <code>setText</code> with an <code>if</code> statement inside, so I can easily pick a value for viewing. I remember seeing something like it in MIT App Inventor, so I think it's possible.</p>\n<p>For example,</p>\n<pre><code>textView.setText(if (value == 0) {&quot;no&quot;}else {&quot;yes&quot;};\n</code></pre>\n"},{"tags":["java","freetts"],"answers":[{"tags":[],"owner":{"account_id":1452062,"reputation":2999,"user_id":1368690,"accept_rate":98,"display_name":"hamena314"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1452524746,"creation_date":1452524746,"answer_id":34724673,"question_id":34724104,"body_markdown":"You could use the [MBROLA][1] - Project. It&#39;s free and offers \r\nseveral languages.\r\n\r\nYou will need to download the project-package itself and the voices. \r\n\r\nFor a step-by-step guide on how to install and use MBROLA you can go to here:\r\n\r\nhttps://stackoverflow.com/a/26236563/1368690\r\n\r\nOr go to the project page itself:\r\n\r\nhttp://tcts.fpms.ac.be/synthesis/mbrola.html\r\n\r\nWhen you scroll down a bit, there a lots of voice you can test and see, if they will be usefull for you.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/MBROLA","title":"text to speech in java using freetts","body":"<p>You could use the <a href=\"https://en.wikipedia.org/wiki/MBROLA\" rel=\"nofollow noreferrer\">MBROLA</a> - Project. It's free and offers \nseveral languages.</p>\n\n<p>You will need to download the project-package itself and the voices. </p>\n\n<p>For a step-by-step guide on how to install and use MBROLA you can go to here:</p>\n\n<p><a href=\"https://stackoverflow.com/a/26236563/1368690\">https://stackoverflow.com/a/26236563/1368690</a></p>\n\n<p>Or go to the project page itself:</p>\n\n<p><a href=\"http://tcts.fpms.ac.be/synthesis/mbrola.html\" rel=\"nofollow noreferrer\">http://tcts.fpms.ac.be/synthesis/mbrola.html</a></p>\n\n<p>When you scroll down a bit, there a lots of voice you can test and see, if they will be usefull for you.</p>\n"}],"owner":{"account_id":7608175,"reputation":43,"user_id":5770087,"display_name":"anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34724673,"answer_count":1,"score":1,"last_activity_date":1682129276,"creation_date":1452523045,"question_id":34724104,"body_markdown":"I am using freetts jar file for text to speech. \r\nBut I need much more voices like Indian English.\r\n\r\nThere my code is:\r\n\r\n \r\n      import com.sun.speech.freetts.Voice;\r\n      import com.sun.speech.freetts.VoiceManager;\r\n\r\n     class s\r\n     {\r\n\r\n         VoiceManager freettsVM;\r\n         Voice freettsVoice;\r\n         private Voice voice;\r\n         public s(String voiceName) \r\n         {\r\n              VoiceManager voiceManager = VoiceManager.getInstance();\r\n               voice = voiceManager.getVoice(voiceName);\r\n          }\r\n          public void speak(String msg) {\r\n              freettsVoice.allocate();\r\n              freettsVoice.speak(msg);\r\n              freettsVoice.deallocate();\r\n          }\r\n     }\r\n     public class Main {\r\n    \tpublic static void main(String[] args) {\r\n\t\tString speekstring = txtmassage.getText();\r\n                s t = new s(&quot;kevin16&quot;);\r\n                t.speak(speekstring);}\r\n     }\r\n\r\nIt’s work correctly, but I need more voices.\r\n\r\n\r\nnow i changed my code into [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/M99DX.png\r\n\r\nthen there error is\r\n\r\n     Could not validate any MBROLA voices at\r\n\r\n      C:/Users/anand/Documents/NetBeansProjects/mbrola\r\n\r\n      Make sure you FULLY specify the path to\r\n      the MBROLA directory using the mbrola.base\r\n      system property.\r\n\r\n      Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n              at newpro.TestTTS.&lt;init&gt;(TestTTS.java:20)\r\n             at newpro.TestTTS.main(TestTTS.java:29)\r\n      Java Result: 1\r\n      BUILD SUCCESSFUL (total time: 0 seconds)","title":"text to speech in java using freetts","body":"<p>I am using freetts jar file for text to speech. \nBut I need much more voices like Indian English.</p>\n\n<p>There my code is:</p>\n\n<pre><code>  import com.sun.speech.freetts.Voice;\n  import com.sun.speech.freetts.VoiceManager;\n\n class s\n {\n\n     VoiceManager freettsVM;\n     Voice freettsVoice;\n     private Voice voice;\n     public s(String voiceName) \n     {\n          VoiceManager voiceManager = VoiceManager.getInstance();\n           voice = voiceManager.getVoice(voiceName);\n      }\n      public void speak(String msg) {\n          freettsVoice.allocate();\n          freettsVoice.speak(msg);\n          freettsVoice.deallocate();\n      }\n }\n public class Main {\n    public static void main(String[] args) {\n    String speekstring = txtmassage.getText();\n            s t = new s(\"kevin16\");\n            t.speak(speekstring);}\n }\n</code></pre>\n\n<p>It’s work correctly, but I need more voices.</p>\n\n<p>now i changed my code into <a href=\"https://i.stack.imgur.com/M99DX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M99DX.png\" alt=\"enter image description here\"></a></p>\n\n<p>then there error is</p>\n\n<pre><code> Could not validate any MBROLA voices at\n\n  C:/Users/anand/Documents/NetBeansProjects/mbrola\n\n  Make sure you FULLY specify the path to\n  the MBROLA directory using the mbrola.base\n  system property.\n\n  Exception in thread \"main\" java.lang.NullPointerException\n          at newpro.TestTTS.&lt;init&gt;(TestTTS.java:20)\n         at newpro.TestTTS.main(TestTTS.java:29)\n  Java Result: 1\n  BUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679864418,"post_id":75850341,"comment_id":133792933,"body_markdown":"This likely has nothing to do with your code or your JAR file, but rather how Java was installed on your macOS and Linux computers. Or maybe even limitations imposed by the OS. On Windows, you can &quot;associate&quot; JAR files with `java.exe`; I believe this is done via the registry, and typically done automatically by the Java installer. I don&#39;t know how to do the same on Linux or macOS. As an aside, it may be easier to deploy your application as a native executable (see e.g., `jpackage`).","body":"This likely has nothing to do with your code or your JAR file, but rather how Java was installed on your macOS and Linux computers. Or maybe even limitations imposed by the OS. On Windows, you can &quot;associate&quot; JAR files with <code>java.exe</code>; I believe this is done via the registry, and typically done automatically by the Java installer. I don&#39;t know how to do the same on Linux or macOS. As an aside, it may be easier to deploy your application as a native executable (see e.g., <code>jpackage</code>)."}],"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682128464,"creation_date":1679862047,"question_id":75850341,"body_markdown":"I created a JAR file and the problem is that on Windows we can open the JAR file with a double click, and on Mac and Linux they have to use the terminal. Why?\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n          &lt;classifier&gt;win&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n          &lt;classifier&gt;linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n          &lt;classifier&gt;mac&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI am making the JAR file with the shade plugin 3.4.1 on Maven.\r\n\r\n\r\n\r\n","title":"JAR file of a Java/JavaFX application works on Linux and Mac only with the terminal. Why? (Maven)","body":"<p>I created a JAR file and the problem is that on Windows we can open the JAR file with a double click, and on Mac and Linux they have to use the terminal. Why?</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;win&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;linux&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I am making the JAR file with the shade plugin 3.4.1 on Maven.</p>\n"},{"tags":["java","macos","javafx"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":1,"creation_date":1681935574,"post_id":76058255,"comment_id":134138951,"body_markdown":"This might be helpful: https://stackoverflow.com/questions/57544721/cannot-execute-javafx-sample-on-macos-no-toolkit-found","body":"This might be helpful: <a href=\"https://stackoverflow.com/questions/57544721/cannot-execute-javafx-sample-on-macos-no-toolkit-found\" title=\"cannot execute javafx sample on macos no toolkit found\">stackoverflow.com/questions/57544721/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1681943118,"post_id":76058255,"comment_id":134140120,"body_markdown":"Verify that you installed the correct version for your Mac.","body":"Verify that you installed the correct version for your Mac."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681955405,"post_id":76058255,"comment_id":134141392,"body_markdown":"I don&#39;t understand why you put `...` in the build plugins section to leave out important relevant info on what you are doing.","body":"I don&#39;t understand why you put <code>...</code> in the build plugins section to leave out important relevant info on what you are doing."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681955530,"post_id":76058255,"comment_id":134141405,"body_markdown":"If you are building a cross-platform jar using [maven shade](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing) or something similar (unsupported configuration), then *all* javafx dependencies (including transitive ones), should be listed in the pom.xml with *all* relevant platform classifiers *for each javafx dependency*.  There is also no need for unclassified javafx dependencies for such a build.","body":"If you are building a cross-platform jar using <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">maven shade</a> or something similar (unsupported configuration), then <i>all</i> javafx dependencies (including transitive ones), should be listed in the pom.xml with <i>all</i> relevant platform classifiers <i>for each javafx dependency</i>.  There is also no need for unclassified javafx dependencies for such a build."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1681955717,"post_id":76058255,"comment_id":134141418,"body_markdown":"Use the same verison for *all* JavaFX dependencies and don&#39;t use `ea` versions.","body":"Use the same verison for <i>all</i> JavaFX dependencies and don&#39;t use <code>ea</code> versions."},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1681989901,"post_id":76058255,"comment_id":134146981,"body_markdown":"I dont understand :( i tried it but i didn&#180;t work.","body":"I dont understand :( i tried it but i didn&#180;t work."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681997383,"post_id":76058255,"comment_id":134148886,"body_markdown":"You can&#39;t be helped without a [mcve], a better description of what you are trying to do, and the actual commands you are running.  Unless somebody can replicate your issues, your chance of receiving a more helpful answer is very low.  If you don&#39;t understand something, then you need to explicitly explain what you don&#39;t understand, otherwise, others cannot understand what you don&#39;t understand.  You can edit the question to improve it.","body":"You can&#39;t be helped without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, a better description of what you are trying to do, and the actual commands you are running.  Unless somebody can replicate your issues, your chance of receiving a more helpful answer is very low.  If you don&#39;t understand something, then you need to explicitly explain what you don&#39;t understand, otherwise, others cannot understand what you don&#39;t understand.  You can edit the question to improve it."},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1682006505,"post_id":76058255,"comment_id":134151396,"body_markdown":"Can you look to this: https://stackoverflow.com/questions/76065181/javafx-application-dont-work-for-mac-when-i-am-adding-to-maven-two-dependencies?noredirect=1#comment134149898_76065181\n\nI am not able to edit this question, because stacks says my question is a spam, when I try to edit it. I changed the pom a little bit, and now when I am deleting 2 dependencies, its works for mac user but then it dont work for linux and windows user","body":"Can you look to this: <a href=\"https://stackoverflow.com/questions/76065181/javafx-application-dont-work-for-mac-when-i-am-adding-to-maven-two-dependencies?noredirect=1#comment134149898_76065181\" title=\"javafx application dont work for mac when i am adding to maven two dependencies\">stackoverflow.com/questions/76065181/&hellip;</a>  I am not able to edit this question, because stacks says my question is a spam, when I try to edit it. I changed the pom a little bit, and now when I am deleting 2 dependencies, its works for mac user but then it dont work for linux and windows user"},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1682008132,"post_id":76058255,"comment_id":134151821,"body_markdown":"@JdjdjwVdvdhdh Can you quote the exact text of the error message? I see no reason that this question would be considered spam, or why you&#39;d be blocked from editing it. I was able to edit just fine.","body":"@JdjdjwVdvdhdh Can you quote the exact text of the error message? I see no reason that this question would be considered spam, or why you&#39;d be blocked from editing it. I was able to edit just fine."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1682024506,"post_id":76058255,"comment_id":134155096,"body_markdown":"[Being unresponsive to requests for clarification is not helpful.](http://idownvotedbecau.se/beingunresponsive)","body":"<a href=\"http://idownvotedbecau.se/beingunresponsive\" rel=\"nofollow noreferrer\">Being unresponsive to requests for clarification is not helpful.</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1682034480,"post_id":76058255,"comment_id":134156426,"body_markdown":"Why did you place classified dependencies in your pom.xml?","body":"Why did you place classified dependencies in your pom.xml?"}],"answers":[{"tags":[],"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682059949,"creation_date":1681943745,"answer_id":76059283,"question_id":76058255,"body_markdown":"Use the JavaFX Maven plugin to automatically pull in the correct libraries for your platform:\r\n\r\n```xml\r\n&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\nand then to add dependencies on `javafx.fxml` and `javafx.controls`:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"JavaFX application works on Linux and Windows, but not on Macs (our Macs have M chips","body":"<p>Use the JavaFX Maven plugin to automatically pull in the correct libraries for your platform:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>and then to add dependencies on <code>javafx.fxml</code> and <code>javafx.controls</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682128315,"creation_date":1681933315,"question_id":76058255,"body_markdown":"I built a JavaFX application, which work on Windows and Linux, but not on Macs.\r\n\r\nI tried the application with two Macs, and both have an [M chip][1].\r\n\r\nThis is the error which I get:\r\n\r\n```lang-none\r\nGraphics Device initialization failed for :&#160;&#160;es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:268)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&#160;&#160;&#160;&#160;at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&#160;&#160;&#160;&#160;at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&#160;&#160;&#160;&#160;at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n&#160;&#160;&#160;&#160;at java.base/java.lang.Thread.run(Thread.java:1589)\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n&#160;&#160;&#160;&#160;at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n&#160;&#160;&#160;&#160;at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&#160;&#160;&#160;&#160;at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: No toolkit found\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:280)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&#160;&#160;&#160;&#160;at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&#160;&#160;&#160;&#160;... 2 more`\r\n```\r\nThis is my pom:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;...&lt;/groupId&gt;\r\n  &lt;artifactId&gt;...&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;...&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\r\n    &lt;javafx.version&gt;20-ea+4&lt;/javafx.version&gt;\r\n    &lt;java.version&gt;19.0.2&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jdom&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jdom2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n      &lt;classifier&gt;win&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n      &lt;classifier&gt;linux&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n      &lt;classifier&gt;mac&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n      &lt;classifier&gt;mac&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n      &lt;classifier&gt;mac-aarch64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n      &lt;classifier&gt;mac&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-media --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n ...\r\n\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhat I do make false?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apple_M1\r\n","title":"JavaFX application works on Linux and Windows, but not on Macs (our Macs have M chips","body":"<p>I built a JavaFX application, which work on Windows and Linux, but not on Macs.</p>\n<p>I tried the application with two Macs, and both have an <a href=\"https://en.wikipedia.org/wiki/Apple_M1\" rel=\"nofollow noreferrer\">M chip</a>.</p>\n<p>This is the error which I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Graphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:268)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: No toolkit found\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:280)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 2 more`\n</code></pre>\n<p>This is my pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;...&lt;/groupId&gt;\n  &lt;artifactId&gt;...&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;...&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\n    &lt;javafx.version&gt;20-ea+4&lt;/javafx.version&gt;\n    &lt;java.version&gt;19.0.2&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jdom&lt;/groupId&gt;\n      &lt;artifactId&gt;jdom2&lt;/artifactId&gt;\n      &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;win&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;linux&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n      &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n      &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n      &lt;classifier&gt;mac-aarch64&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-media --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n ...\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What I do make false?</p>\n"},{"tags":["java","git","intellij-idea"],"comments":[{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":2,"creation_date":1679223352,"post_id":75781492,"comment_id":133679514,"body_markdown":"did you try `git stash`?","body":"did you try <code>git stash</code>?"},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1679223467,"post_id":75781492,"comment_id":133679522,"body_markdown":"What is git stash? How can I make this on intelij?","body":"What is git stash? How can I make this on intelij?"},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1679223630,"post_id":75781492,"comment_id":133679545,"body_markdown":"you can run this command in intellij console.","body":"you can run this command in intellij console."},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1679223656,"post_id":75781492,"comment_id":133679547,"body_markdown":"you can find its docs here https://www.git-scm.com/docs/git-stash","body":"you can find its docs here <a href=\"https://www.git-scm.com/docs/git-stash\" rel=\"nofollow noreferrer\">git-scm.com/docs/git-stash</a>"},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1679223664,"post_id":75781492,"comment_id":133679549,"body_markdown":"git-stash - Stash the changes in a dirty working directory away","body":"git-stash - Stash the changes in a dirty working directory away"},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1679224121,"post_id":75781492,"comment_id":133679617,"body_markdown":"But what means that? The changes are hidden, so still accessible?","body":"But what means that? The changes are hidden, so still accessible?"}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679226614,"creation_date":1679226614,"answer_id":75781766,"question_id":75781492,"body_markdown":"It depends on what have you managed to do at this point.\r\n\r\n1. If you have already committed your changes, you can just do (make sure to check out to the appropriate branch before) `git reset --hard &lt;COMMIT_HASH&gt;` and reset the `HEAD` to the commit in the remote. Then you can just `git pull` and you should be fine. \r\n\r\n2. If you have not committed anything yet, you can just do `git reset --hard HEAD` (Again, checkout to the branch you need in advance) and this will discard any staged and unstaged changes you have made.\r\n\r\nP.S: Just beware that this approaches will **discard your local changes entirely** (though there will be an option to restore them via `git reflog`, but its another topic)","title":"How can I discard all the changes, which I didn’t push, so I made the changes locally in a branch and just want pull the current branch from GitLab","body":"<p>It depends on what have you managed to do at this point.</p>\n<ol>\n<li><p>If you have already committed your changes, you can just do (make sure to check out to the appropriate branch before) <code>git reset --hard &lt;COMMIT_HASH&gt;</code> and reset the <code>HEAD</code> to the commit in the remote. Then you can just <code>git pull</code> and you should be fine.</p>\n</li>\n<li><p>If you have not committed anything yet, you can just do <code>git reset --hard HEAD</code> (Again, checkout to the branch you need in advance) and this will discard any staged and unstaged changes you have made.</p>\n</li>\n</ol>\n<p>P.S: Just beware that this approaches will <strong>discard your local changes entirely</strong> (though there will be an option to restore them via <code>git reflog</code>, but its another topic)</p>\n"},{"tags":[],"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682126948,"creation_date":1679283360,"answer_id":75786397,"question_id":75781492,"body_markdown":"Just as @JAMSHAID mentioned in comment, you could use the Git Stash feature to save the change and restore it back later.\r\n\r\nSee here to know how to use the Git Stash in IDEA: *[Stash changes][1]* \r\n\r\nAlso check the [Git Stash documentation][2].\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/work-on-several-features-simultaneously.html#stash\r\n  [2]: https://git-scm.com/docs/git-stash\r\n\r\n","title":"How can I discard all the changes, which I didn’t push, so I made the changes locally in a branch and just want pull the current branch from GitLab","body":"<p>Just as @JAMSHAID mentioned in comment, you could use the Git Stash feature to save the change and restore it back later.</p>\n<p>See here to know how to use the Git Stash in IDEA: <em><a href=\"https://www.jetbrains.com/help/idea/work-on-several-features-simultaneously.html#stash\" rel=\"nofollow noreferrer\">Stash changes</a></em></p>\n<p>Also check the <a href=\"https://git-scm.com/docs/git-stash\" rel=\"nofollow noreferrer\">Git Stash documentation</a>.</p>\n"}],"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1682126948,"creation_date":1679223308,"question_id":75781492,"body_markdown":"I worked on a branch in [IntelliJ][1]. I have deleted code out of sight and now just want to fetch the entire branch again without my changes remaining. I have not pushed anything. How can I do this?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n\r\n\r\n\r\n","title":"How can I discard all the changes, which I didn’t push, so I made the changes locally in a branch and just want pull the current branch from GitLab","body":"<p>I worked on a branch in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a>. I have deleted code out of sight and now just want to fetch the entire branch again without my changes remaining. I have not pushed anything. How can I do this?</p>\n"},{"tags":["java","instrumentation","javaagents"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682136677,"post_id":76077565,"comment_id":134171966,"body_markdown":"&quot;Any thoughts on what I&#39;m missing?&quot;  It looks like the javassist JAR file is not on the runtime classpath.","body":"&quot;Any thoughts on what I&#39;m missing?&quot;  It looks like the javassist JAR file is not on the runtime classpath."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682137302,"post_id":76077565,"comment_id":134172011,"body_markdown":"Since you are using `-jar` that means that you can&#39;t use `-cp`.  So EITHER you need to create a shaded jar that incorporates the classes in the javassist jar OR you need to add it to the Class-Path manifest entry.  I&#39;m not sure whether this needs to be in your &quot;agent.jar&quot; or your &quot;application.jar&quot;.  I suspect that either will work.","body":"Since you are using <code>-jar</code> that means that you can&#39;t use <code>-cp</code>.  So EITHER you need to create a shaded jar that incorporates the classes in the javassist jar OR you need to add it to the Class-Path manifest entry.  I&#39;m not sure whether this needs to be in your &quot;agent.jar&quot; or your &quot;application.jar&quot;.  I suspect that either will work."}],"owner":{"account_id":11084233,"reputation":23,"user_id":8138527,"display_name":"Kolisetty Raghavendra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682125833,"creation_date":1682125833,"question_id":76077565,"body_markdown":"I went through a baledung [article][1] on Java instrumentation api and trying to run the code from the article on my machine.\r\n\r\nI&#39;m basically trying to do a static load. My agent code is unable to instantiate the ```ClassFileTransformer``` class from ```premain``` method and fails with ```NoClassDefFoundError```\r\n\r\nThe code looks like this -\r\n\r\n```\r\npublic class MyInstrumentationAgent {\r\n    public static void premain(String agentArgs, Instrumentation inst) {\r\n        // some stuff that is working fine\r\n\r\n        AtmTransformer dt = new AtmTransformer(clazz.getName(), classLoader); //fails here after unable to find AtmTransformer class\r\n    }\r\n}\r\n```\r\n\r\nThe agent class and transformer class are in the same java package and the agent jar I built contains both the ```MyInstrumentationAgent.java``` and ```AtmTransformer.java```.\r\n\r\nI ran the code using the following command -\r\n```\r\njava -javaagent:core-java-jvm-0.0.1-SNAPSHOT-agent.jar -jar core-java-jvm-0.0.1-SNAPSHOT-application.jar\r\n```\r\n\r\nand this is the error stack trace I get -\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\r\nCaused by: java.lang.NoClassDefFoundError: javassist/NotFoundException\r\n\tat com.baeldung.instrumentation.agent.MyInstrumentationAgent.transform(MyInstrumentationAgent.java:46)\r\n\tat com.baeldung.instrumentation.agent.MyInstrumentationAgent.transformClass(MyInstrumentationAgent.java:28)\r\n\tat com.baeldung.instrumentation.agent.MyInstrumentationAgent.premain(MyInstrumentationAgent.java:11)\r\n\t... 6 more\r\nCaused by: java.lang.ClassNotFoundException: javassist.NotFoundException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 9 more\r\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\n```\r\n\r\nAny thoughts on what I&#39;m missing?\r\n\r\n  [1]: https://www.baeldung.com/java-instrumentation","title":"java.lang.NoClassDefFoundError when my Java instrumentation agent class tries to instantiate ClassFileTransformer","body":"<p>I went through a baledung <a href=\"https://www.baeldung.com/java-instrumentation\" rel=\"nofollow noreferrer\">article</a> on Java instrumentation api and trying to run the code from the article on my machine.</p>\n<p>I'm basically trying to do a static load. My agent code is unable to instantiate the <code>ClassFileTransformer</code> class from <code>premain</code> method and fails with <code>NoClassDefFoundError</code></p>\n<p>The code looks like this -</p>\n<pre><code>public class MyInstrumentationAgent {\n    public static void premain(String agentArgs, Instrumentation inst) {\n        // some stuff that is working fine\n\n        AtmTransformer dt = new AtmTransformer(clazz.getName(), classLoader); //fails here after unable to find AtmTransformer class\n    }\n}\n</code></pre>\n<p>The agent class and transformer class are in the same java package and the agent jar I built contains both the <code>MyInstrumentationAgent.java</code> and <code>AtmTransformer.java</code>.</p>\n<p>I ran the code using the following command -</p>\n<pre><code>java -javaagent:core-java-jvm-0.0.1-SNAPSHOT-agent.jar -jar core-java-jvm-0.0.1-SNAPSHOT-application.jar\n</code></pre>\n<p>and this is the error stack trace I get -</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\nCaused by: java.lang.NoClassDefFoundError: javassist/NotFoundException\n    at com.baeldung.instrumentation.agent.MyInstrumentationAgent.transform(MyInstrumentationAgent.java:46)\n    at com.baeldung.instrumentation.agent.MyInstrumentationAgent.transformClass(MyInstrumentationAgent.java:28)\n    at com.baeldung.instrumentation.agent.MyInstrumentationAgent.premain(MyInstrumentationAgent.java:11)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: javassist.NotFoundException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 9 more\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\n</code></pre>\n<p>Any thoughts on what I'm missing?</p>\n"},{"tags":["java","eclipse","user-interface","blackjack","breezy"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1682135065,"post_id":76076833,"comment_id":134171874,"body_markdown":"Show us your project setup. Which level of Java are you targeting? Which runtime are you compiling against? IDE aside, show us why this *should* work for your setup.","body":"Show us your project setup. Which level of Java are you targeting? Which runtime are you compiling against? IDE aside, show us why this <i>should</i> work for your setup."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1682141910,"post_id":76076833,"comment_id":134172262,"body_markdown":"You probably have a module-info.java in your project so you are using the Java module system which requires you to specify that you are using these modules in that file. Delete the module-info.java to stop using the module system.","body":"You probably have a module-info.java in your project so you are using the Java module system which requires you to specify that you are using these modules in that file. Delete the module-info.java to stop using the module system."},{"owner":{"account_id":28375155,"reputation":1,"user_id":21703328,"display_name":"Addi E"},"score":0,"creation_date":1682295522,"post_id":76076833,"comment_id":134188127,"body_markdown":"thanks all! i figured out a new system with a non-mac computer:)","body":"thanks all! i figured out a new system with a non-mac computer:)"}],"owner":{"account_id":28375155,"reputation":1,"user_id":21703328,"display_name":"Addi E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682123920,"creation_date":1682112792,"question_id":76076833,"body_markdown":"I am trying to write the chapter 7 program of blackjack from the Java book my school uses and everything in my code is working except for the imports. I am importing java.awt and BreezyGUI and it is giving me the error message &quot;The package java.awt is not accessible&quot; and &quot;The package BreezyGUI is not accessible&quot; \r\n\r\nDirect code: \r\n\r\n    import java.awt.*;\r\n    import BreezyGUI.*;\r\n\r\nI use a mac pc (it is slightly older but has updated software) and the Eclipse IDE that I use is 2022-12. Can someone help me with importing this the right way and using the right path? I&#39;m not very good at programming but need to get this project done for my class. ANY HELP WILL BE APPRECIATED!!\r\n\r\n\r\nI&#39;ve tried getting four different BreezyGUIs and different classpath routes but nothing has worked. I don&#39;t understand the java.awt so I don&#39;t know what to do there. \r\n\r\nHere&#39;s what I have creating the frame and with imports (I can share more code if anyone needs):\r\n\r\npackage blackjack;\r\nimport java.awt.*;\r\n//java.awt is underlined red with error message &quot;The package java.awt is not accessible&quot;\r\nimport BreezyGUI.*;\r\n//BreezyGUI is underlined red with error message &quot;The package BreezyGUI is not accessible&quot;\r\npublic class blackjackInterface extends GBFrame {","title":"import java.awt.*; and import BreezyGUI.*; give error messages saying the packages aren&#39;t available","body":"<p>I am trying to write the chapter 7 program of blackjack from the Java book my school uses and everything in my code is working except for the imports. I am importing java.awt and BreezyGUI and it is giving me the error message &quot;The package java.awt is not accessible&quot; and &quot;The package BreezyGUI is not accessible&quot;</p>\n<p>Direct code:</p>\n<pre><code>import java.awt.*;\nimport BreezyGUI.*;\n</code></pre>\n<p>I use a mac pc (it is slightly older but has updated software) and the Eclipse IDE that I use is 2022-12. Can someone help me with importing this the right way and using the right path? I'm not very good at programming but need to get this project done for my class. ANY HELP WILL BE APPRECIATED!!</p>\n<p>I've tried getting four different BreezyGUIs and different classpath routes but nothing has worked. I don't understand the java.awt so I don't know what to do there.</p>\n<p>Here's what I have creating the frame and with imports (I can share more code if anyone needs):</p>\n<p>package blackjack;\nimport java.awt.<em>;\n//java.awt is underlined red with error message &quot;The package java.awt is not accessible&quot;\nimport BreezyGUI.</em>;\n//BreezyGUI is underlined red with error message &quot;The package BreezyGUI is not accessible&quot;\npublic class blackjackInterface extends GBFrame {</p>\n"},{"tags":["java","jenkins","java-8","jenkins-pipeline","jenkins-plugins"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681495566,"post_id":76017783,"comment_id":134071422,"body_markdown":"What&#39;s the problem with installing Java &gt;= 11 and running all your stuff on it? 1.8 is pretty old now","body":"What&#39;s the problem with installing Java &gt;= 11 and running all your stuff on it? 1.8 is pretty old now"},{"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"score":0,"creation_date":1681509710,"post_id":76017783,"comment_id":134073712,"body_markdown":"Jenkins must to be run in java 11, but you can run maven builds with java 1.8. Expand you question to explain how your jobs are configured.","body":"Jenkins must to be run in java 11, but you can run maven builds with java 1.8. Expand you question to explain how your jobs are configured."}],"answers":[{"tags":[],"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682123019,"creation_date":1681509062,"answer_id":76019193,"question_id":76017783,"body_markdown":"As of Jenkins 2.357, [Jenkins requires Java 11](https://www.jenkins.io/doc/upgrade-guide/2.361/#upgrading-to-jenkins-lts-2-361-1) to run. That change was [well commmunicated](https://www.jenkins.io/blog/2022/06/28/require-java-11/).\r\n\r\nIf you are using the [maven job type][1], that job type depends on the underlying app&#39;s Java, instead of one specified in the JDK tools ( [Oracle](https://plugins.jenkins.io/jdk-tool/) / [Temurin](https://plugins.jenkins.io/jdk-tool/) ). That&#39;s just one of many issues with its use and why it&#39;s been [strongly discouraged](https://plugins.jenkins.io/maven-plugin/#plugin-content-risks) for years in favour our Freestyle or pipeline jobs. \r\n\r\nYour choices are don&#39;t upgrade and keep your system at risk, or bite the bullet and convert to Freestyle/Pipeline. Can you use job-dsl or a template and some groovy scripting to convert?\r\n\r\nYou could also try: [Setting the -source and -target of the Java Compiler](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html) or using [maven toolchains](https://maven.apache.org/guides/mini/guide-using-toolchains.html); not sure either will work though.\r\n\r\n\r\n  [1]: https://plugins.jenkins.io/maven-plugin/","title":"Cannot able to run Maven Builds after updating Jenkins Version","body":"<p>As of Jenkins 2.357, <a href=\"https://www.jenkins.io/doc/upgrade-guide/2.361/#upgrading-to-jenkins-lts-2-361-1\" rel=\"nofollow noreferrer\">Jenkins requires Java 11</a> to run. That change was <a href=\"https://www.jenkins.io/blog/2022/06/28/require-java-11/\" rel=\"nofollow noreferrer\">well commmunicated</a>.</p>\n<p>If you are using the <a href=\"https://plugins.jenkins.io/maven-plugin/\" rel=\"nofollow noreferrer\">maven job type</a>, that job type depends on the underlying app's Java, instead of one specified in the JDK tools ( <a href=\"https://plugins.jenkins.io/jdk-tool/\" rel=\"nofollow noreferrer\">Oracle</a> / <a href=\"https://plugins.jenkins.io/jdk-tool/\" rel=\"nofollow noreferrer\">Temurin</a> ). That's just one of many issues with its use and why it's been <a href=\"https://plugins.jenkins.io/maven-plugin/#plugin-content-risks\" rel=\"nofollow noreferrer\">strongly discouraged</a> for years in favour our Freestyle or pipeline jobs.</p>\n<p>Your choices are don't upgrade and keep your system at risk, or bite the bullet and convert to Freestyle/Pipeline. Can you use job-dsl or a template and some groovy scripting to convert?</p>\n<p>You could also try: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">Setting the -source and -target of the Java Compiler</a> or using <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">maven toolchains</a>; not sure either will work though.</p>\n"}],"owner":{"account_id":26004423,"reputation":65,"user_id":19714358,"display_name":"Ramesh Thiyagarajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76019193,"answer_count":1,"score":0,"last_activity_date":1682123019,"creation_date":1681494901,"question_id":76017783,"body_markdown":"We have updated our Jenkins Version to 2.361.3, after that we couldn&#39;t able to run Maven Projects.\r\n\r\nWe are getting below error.\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: hudson/remoting/Launcher has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\nBut build is going fine with freestyle project.\r\n\r\nAfter some googling we get to know that the latest jenkins will require to have java 11 to work with maven project, we cannot able to run java 8 projects as maven jobs.\r\n\r\nIs there any workaround for this?\r\n\r\nBecause we have more that 100 maven jobs, which we couldn&#39;t easily shift to pipeline or freestyle jobs.","title":"Cannot able to run Maven Builds after updating Jenkins Version","body":"<p>We have updated our Jenkins Version to 2.361.3, after that we couldn't able to run Maven Projects.</p>\n<p>We are getting below error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: hudson/remoting/Launcher has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>But build is going fine with freestyle project.</p>\n<p>After some googling we get to know that the latest jenkins will require to have java 11 to work with maven project, we cannot able to run java 8 projects as maven jobs.</p>\n<p>Is there any workaround for this?</p>\n<p>Because we have more that 100 maven jobs, which we couldn't easily shift to pipeline or freestyle jobs.</p>\n"},{"tags":["java","graphics","graphics2d","clip"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518937202,"post_id":48849169,"comment_id":84702115,"body_markdown":"The term you&#39;re after is &quot;soft clipping&quot;, `setClip` DOES NOT provide support antialiasing, which is generally why I don&#39;t use and instead, lean towards masking techniques instead, while more complicated, they allow for soft clipping. [For example](https://stackoverflow.com/questions/25394366/custom-round-skin-gui/25395267#25395267) and [example](https://stackoverflow.com/questions/31423130/how-to-make-circle-image-label-in-java/31424601#31424601) and [example](https://stackoverflow.com/questions/17644900/how-to-add-imagepanel-in-jpanel-inside-jframe/17645036#17645036)","body":"The term you&#39;re after is &quot;soft clipping&quot;, <code>setClip</code> DOES NOT provide support antialiasing, which is generally why I don&#39;t use and instead, lean towards masking techniques instead, while more complicated, they allow for soft clipping. <a href=\"https://stackoverflow.com/questions/25394366/custom-round-skin-gui/25395267#25395267\">For example</a> and <a href=\"https://stackoverflow.com/questions/31423130/how-to-make-circle-image-label-in-java/31424601#31424601\">example</a> and <a href=\"https://stackoverflow.com/questions/17644900/how-to-add-imagepanel-in-jpanel-inside-jframe/17645036#17645036\">example</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518937435,"post_id":48849169,"comment_id":84702158,"body_markdown":"*&quot;but this pertains to JPanels and images, but I am not dealing with either of those&quot;* - Then where are you getting the `Graphics` context from?","body":"<i>&quot;but this pertains to JPanels and images, but I am not dealing with either of those&quot;</i> - Then where are you getting the <code>Graphics</code> context from?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518937541,"post_id":48849169,"comment_id":84702176,"body_markdown":"[A more advanced concept](https://stackoverflow.com/questions/34423155/applying-colour-to-the-transparent-area-of-a-jbutton-image-but-not-that-of-its/34425760#34425760)","body":"<a href=\"https://stackoverflow.com/questions/34423155/applying-colour-to-the-transparent-area-of-a-jbutton-image-but-not-that-of-its/34425760#34425760\">A more advanced concept</a>"},{"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"score":0,"creation_date":1518948459,"post_id":48849169,"comment_id":84704431,"body_markdown":"@MadProgrammer I took a look at those examples, but I am still unsure how to apply them. And I meant I wasn&#39;t dealing with `JPanels` or `Images` in the sense that I&#39;m not trying to clip or change the shape of panels or images. The only panel I&#39;m using is a single panel that takes the space of the `JFrame` in order for me to draw on. So I don&#39;t understand how I would use masking (from my understanding is achieved by changing the shapes of `JPanels` in addition to drawing around them?) in only a `Graphics` context where I&#39;m not using any additional `JPanels` or `Images` from.","body":"@MadProgrammer I took a look at those examples, but I am still unsure how to apply them. And I meant I wasn&#39;t dealing with <code>JPanels</code> or <code>Images</code> in the sense that I&#39;m not trying to clip or change the shape of panels or images. The only panel I&#39;m using is a single panel that takes the space of the <code>JFrame</code> in order for me to draw on. So I don&#39;t understand how I would use masking (from my understanding is achieved by changing the shapes of <code>JPanels</code> in addition to drawing around them?) in only a <code>Graphics</code> context where I&#39;m not using any additional <code>JPanels</code> or <code>Images</code> from."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518984127,"post_id":48849169,"comment_id":84715398,"body_markdown":"Here&#39;s the problem, the question lacks context, there&#39;s no way that we can surmise from you question how you are obtaining information, how you are manipulating. I&#39;ve now provided no less then 4 runnable examples which demonstrate a &quot;soft clipping&quot; approach which would solve the core issue. The problem now is, you need to figure out how best to incorporate those ideas into your problem - The basic answer to your question is &quot;use a soft clipping approach&quot; - beyond that, it&#39;s impossible for us to provide you with any additional support","body":"Here&#39;s the problem, the question lacks context, there&#39;s no way that we can surmise from you question how you are obtaining information, how you are manipulating. I&#39;ve now provided no less then 4 runnable examples which demonstrate a &quot;soft clipping&quot; approach which would solve the core issue. The problem now is, you need to figure out how best to incorporate those ideas into your problem - The basic answer to your question is &quot;use a soft clipping approach&quot; - beyond that, it&#39;s impossible for us to provide you with any additional support"},{"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"score":0,"creation_date":1518998351,"post_id":48849169,"comment_id":84719316,"body_markdown":"@MadProgrammer what context would you like me to provide? I&#39;ve been looking into soft clipping but I still don&#39;t know how I would use it for just a single `Graphics` and single `JPanel`.","body":"@MadProgrammer what context would you like me to provide? I&#39;ve been looking into soft clipping but I still don&#39;t know how I would use it for just a single <code>Graphics</code> and single <code>JPanel</code>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518998548,"post_id":48849169,"comment_id":84719351,"body_markdown":"A [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) which demonstrated the issue would be a good start","body":"A <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> which demonstrated the issue would be a good start"},{"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"score":0,"creation_date":1519075095,"post_id":48849169,"comment_id":84752480,"body_markdown":"@MadProgrammer added","body":"@MadProgrammer added"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519075491,"creation_date":1519075491,"answer_id":48874406,"question_id":48849169,"body_markdown":"So, based on your example, the &quot;simple&quot; answer is, cheat.\r\n\r\n[![Soft clipping][1]][1]\r\n\r\n    RoundRectangle2D clippingArea = new RoundRectangle2D.Double(50, 50, getWidth() - 100, getHeight() - 100, 40, 40);\r\n    // Make the clipping space rectangular\r\n    g.setClip(clippingArea.getBounds2D());\r\n\r\n    g.setColor(Color.WHITE);\r\n    g.fill(clippingArea);\r\n    g.setColor(Color.BLACK);\r\n\r\nBasically all this does it makes the clipping area rectangular and then fills it using the `RoundRectangle2D` shape.  \r\n\r\nBecause most of your issues revolve around the edges, this eliminates the core problem, the round edges.\r\n\r\nThere are different ways you &quot;might&quot; solve the issue, using intermediate `BufferedImage`s is one (so you can constraint the content to the specified area, but still apply &quot;soft clipping&quot;), but for this context, this would be the immediately simplest solution available to you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uD8zc.png","title":"Clipping is jagged despite anti-aliasing","body":"<p>So, based on your example, the \"simple\" answer is, cheat.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uD8zc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uD8zc.png\" alt=\"Soft clipping\"></a></p>\n\n<pre><code>RoundRectangle2D clippingArea = new RoundRectangle2D.Double(50, 50, getWidth() - 100, getHeight() - 100, 40, 40);\n// Make the clipping space rectangular\ng.setClip(clippingArea.getBounds2D());\n\ng.setColor(Color.WHITE);\ng.fill(clippingArea);\ng.setColor(Color.BLACK);\n</code></pre>\n\n<p>Basically all this does it makes the clipping area rectangular and then fills it using the <code>RoundRectangle2D</code> shape.  </p>\n\n<p>Because most of your issues revolve around the edges, this eliminates the core problem, the round edges.</p>\n\n<p>There are different ways you \"might\" solve the issue, using intermediate <code>BufferedImage</code>s is one (so you can constraint the content to the specified area, but still apply \"soft clipping\"), but for this context, this would be the immediately simplest solution available to you</p>\n"},{"tags":[],"owner":{"account_id":28375761,"reputation":1,"user_id":21703835,"display_name":"mort kh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682122804,"creation_date":1682122498,"answer_id":76077444,"question_id":48849169,"body_markdown":"There are two ideas for the problem you raised.\r\n\r\n**The first idea**&lt;br&gt;\r\nSet the clip with the *setClip()* method and draw in a specific range using the methods of the Graphics class. *This was an idea that you also proposed.*\r\n\r\n**The second idea**&lt;br&gt;\r\nCreate a BufferedImage object that has a graphicsObj field of type Graphics.\r\nSet a Rendering Hint for the Graphics object like below:\r\n\r\n    graphicsObj.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\nDraw an oval with the *fillOval()* method.\r\nThen, using the *setComposite()* method, set an AlphaComponent object for the Graphics object as follows:\r\n\r\n    AlphaComposite alphaComposite = AlphaComposite.getInstance(AlphaComposite.SRC_IN);\r\n    graphicsObj.setComposite(alphaComposite);\r\n\r\nThen draw something using a method like drawImage or any other method.\r\n**this BufferedImage is what you want.**\r\nJust don&#39;t forget to use the following Rendering Hint wherever you want to draw the BufferedImage:\r\n\r\n    setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n\r\n\r\nExample:\r\n\r\n    public void paint(Graphics g) {\r\n\t\t\t\tsuper.paint(g);\r\n\r\n\t\t\t\tBufferedImage bufferedImage = new BufferedImage(50, 50, BufferedImage.TYPE_INT_ARGB);\r\n\r\n\t\t\t\tGraphics2D bg2 = bufferedImage.createGraphics();\r\n\r\n\t\t\t\tbg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n\t\t\t\tbg2.fillOval(0, 0, bufferedImage.getWidth(), bufferedImage.getHeight());\r\n\r\n\t\t\t\tAlphaComposite alphaComposite = AlphaComposite.getInstance(AlphaComposite.SRC_IN);\r\n\t\t\t\tbg2.setComposite(alphaComposite);\r\n\r\n\t\t\t\tImage img = null;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\timg = ImageIO.read(new File(&quot;some-image.png&quot;));\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (img == null) {\r\n\t\t\t\t\t// TODO something\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbg2.drawImage(img, 0, 0, bufferedImage.getWidth(), bufferedImage.getHeight(), null);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\t\t\t\r\n\t\t\t\tg2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n\r\n\t\t\t\t\tg2.drawImage(bufferedImage, 0, 0, getWidth(), getHeight(), null);\r\n\t\t\t}\r\n\t\t}\r\nThe second idea result:\r\n[The second idea result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LibS1.jpg","title":"Clipping is jagged despite anti-aliasing","body":"<p>There are two ideas for the problem you raised.</p>\n<p><strong>The first idea</strong><br>\nSet the clip with the <em>setClip()</em> method and draw in a specific range using the methods of the Graphics class. <em>This was an idea that you also proposed.</em></p>\n<p><strong>The second idea</strong><br>\nCreate a BufferedImage object that has a graphicsObj field of type Graphics.\nSet a Rendering Hint for the Graphics object like below:</p>\n<pre><code>graphicsObj.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n</code></pre>\n<p>Draw an oval with the <em>fillOval()</em> method.\nThen, using the <em>setComposite()</em> method, set an AlphaComponent object for the Graphics object as follows:</p>\n<pre><code>AlphaComposite alphaComposite = AlphaComposite.getInstance(AlphaComposite.SRC_IN);\ngraphicsObj.setComposite(alphaComposite);\n</code></pre>\n<p>Then draw something using a method like drawImage or any other method.\n<strong>this BufferedImage is what you want.</strong>\nJust don't forget to use the following Rendering Hint wherever you want to draw the BufferedImage:</p>\n<pre><code>setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n</code></pre>\n<p>Example:</p>\n<pre><code>public void paint(Graphics g) {\n            super.paint(g);\n\n            BufferedImage bufferedImage = new BufferedImage(50, 50, BufferedImage.TYPE_INT_ARGB);\n\n            Graphics2D bg2 = bufferedImage.createGraphics();\n\n            bg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n            bg2.fillOval(0, 0, bufferedImage.getWidth(), bufferedImage.getHeight());\n\n            AlphaComposite alphaComposite = AlphaComposite.getInstance(AlphaComposite.SRC_IN);\n            bg2.setComposite(alphaComposite);\n\n            Image img = null;\n            \n            try {\n                img = ImageIO.read(new File(&quot;some-image.png&quot;));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            \n            if (img == null) {\n                // TODO something\n            } else {\n                bg2.drawImage(img, 0, 0, bufferedImage.getWidth(), bufferedImage.getHeight(), null);\n            }\n\n            Graphics2D g2 = (Graphics2D) g;\n            \n            g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n\n                g2.drawImage(bufferedImage, 0, 0, getWidth(), getHeight(), null);\n        }\n    }\n</code></pre>\n<p>The second idea result:\n<a href=\"https://i.stack.imgur.com/LibS1.jpg\" rel=\"nofollow noreferrer\">The second idea result</a></p>\n"}],"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682122804,"creation_date":1518936447,"question_id":48849169,"body_markdown":"I am trying to clip my `Graphics2D` canvas using `RoundRectangle2D.Double`, but the clipping is very jagged and not smooth. I have the following code to anti-alias:\r\n\r\n    Graphics2D g = (Graphics2D)graphics;\r\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    g.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n\r\nI know it is working because when I draw a `RoundRectangle2D.Double` using `Graphics2D.fill()` the smoothing is fine. How do I make the clipping smooth?\r\n\r\nNote: I am aware of [this post][1], but this pertains to `JPanels` and images, but I am not dealing with either of those. I am just trying to smoothly clip a section of the drawing area.\r\n\r\nThanks in advance for any help.\r\n\r\n**Example.java**\r\n\r\n\timport java.awt.*;\r\n\timport java.awt.geom.RoundRectangle2D;\r\n\t\r\n\timport javax.swing.*;\r\n\t\r\n\tpublic class Example extends JPanel {\r\n\t\tpublic Example() {\r\n\t\t\tJFrame frame = new JFrame();\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setResizable(false);\r\n\t\t\tframe.setLocation(10, 10);\r\n\t\t\tsetPreferredSize(new Dimension(400, 400));\r\n\t\t\tsetBackground(Color.BLACK);\r\n\t\t\tContainer container = frame.getContentPane();\r\n\t\t\tcontainer.add(this);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setVisible(true);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void paintComponent(Graphics graphics) {\r\n\t\t\tsuper.paintComponent(graphics);\r\n\t\t\tGraphics2D g = (Graphics2D)graphics;\r\n\t\t\tg.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\t\r\n\t\t\tRoundRectangle2D clippingArea = new RoundRectangle2D.Double(50, 50, getWidth() - 100, getHeight() -100, 40, 40);\r\n\t\t\tg.setClip(clippingArea);\r\n\t\t\t\r\n\t\t\tg.setColor(Color.WHITE);\r\n\t\t\tg.fillRect(0, 0, getWidth(), getHeight());\r\n\t\t\tg.setColor(Color.BLACK);\r\n\t\t\tString s = &quot;area for me to draw on where&quot;;\r\n\t\t\tg.drawString(s, getWidth()/2 - g.getFontMetrics().stringWidth(s)/2, getHeight()/2 - g.getFontMetrics().getHeight());\r\n\t\t\ts = &quot;the roundrectangle should be anti-aliased&quot;;\r\n\t\t\tg.drawString(s, getWidth()/2 - g.getFontMetrics().stringWidth(s)/2, getHeight()/2);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Example();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24045580/roundrectangle2d-clip-is-not-very-smooth","title":"Clipping is jagged despite anti-aliasing","body":"<p>I am trying to clip my <code>Graphics2D</code> canvas using <code>RoundRectangle2D.Double</code>, but the clipping is very jagged and not smooth. I have the following code to anti-alias:</p>\n\n<pre><code>Graphics2D g = (Graphics2D)graphics;\ng.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\ng.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n</code></pre>\n\n<p>I know it is working because when I draw a <code>RoundRectangle2D.Double</code> using <code>Graphics2D.fill()</code> the smoothing is fine. How do I make the clipping smooth?</p>\n\n<p>Note: I am aware of <a href=\"https://stackoverflow.com/questions/24045580/roundrectangle2d-clip-is-not-very-smooth\">this post</a>, but this pertains to <code>JPanels</code> and images, but I am not dealing with either of those. I am just trying to smoothly clip a section of the drawing area.</p>\n\n<p>Thanks in advance for any help.</p>\n\n<p><strong>Example.java</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.geom.RoundRectangle2D;\n\nimport javax.swing.*;\n\npublic class Example extends JPanel {\n    public Example() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setLocation(10, 10);\n        setPreferredSize(new Dimension(400, 400));\n        setBackground(Color.BLACK);\n        Container container = frame.getContentPane();\n        container.add(this);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public void paintComponent(Graphics graphics) {\n        super.paintComponent(graphics);\n        Graphics2D g = (Graphics2D)graphics;\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        RoundRectangle2D clippingArea = new RoundRectangle2D.Double(50, 50, getWidth() - 100, getHeight() -100, 40, 40);\n        g.setClip(clippingArea);\n\n        g.setColor(Color.WHITE);\n        g.fillRect(0, 0, getWidth(), getHeight());\n        g.setColor(Color.BLACK);\n        String s = \"area for me to draw on where\";\n        g.drawString(s, getWidth()/2 - g.getFontMetrics().stringWidth(s)/2, getHeight()/2 - g.getFontMetrics().getHeight());\n        s = \"the roundrectangle should be anti-aliased\";\n        g.drawString(s, getWidth()/2 - g.getFontMetrics().stringWidth(s)/2, getHeight()/2);\n    }\n\n    public static void main(String[] args) {\n        new Example();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","spring-test"],"answers":[{"tags":[],"owner":{"account_id":23766356,"reputation":51,"user_id":17781072,"display_name":"Alexandre Rocha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682120826,"creation_date":1682118772,"answer_id":76077249,"question_id":76073311,"body_markdown":"Your `JwtTokenUtil` class might not be registered as a bean in the Spring Container, so there&#39;s no way it can be injected as a dependency to another classes using `@Autowired`.\r\n\r\nIn order for a bean to be managed by Spring, you have either to:\r\n\r\nmake it a component, using `@Component` or its derivatives -- `@Service` and `@Repository`: \r\n\r\n```java\r\n@Component\r\npublic class JwtTokenUtil {\r\n    // your class&#39; fields and methods\r\n}\r\n\r\n```\r\n\r\n... or to make it a return type of a method annotated with `@Bean`, which *indicates that a method produces a bean to be managed by the Spring container* (definition from the [Spring&#39;s API documentation][1]). Often, a method like that is declared in a `@Configuration` class, because it&#39;s loaded as soon as your application starts, while the Spring&#39;s Application Context searches for beans to register to the Spring Container:\r\n\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public JwtTokenUtil jwtTokenUtil() {\r\n        return new JwtTokenUtil();\r\n    }\r\n}\r\n```\r\n\r\nObs.: I would like to ask you if you already did it, but unfortunately I cannot add a comment to your question because I don&#39;t have 50 reputation yet. I hope it helps you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html","title":"Can&#39;t autowire method in spring boot test","body":"<p>Your <code>JwtTokenUtil</code> class might not be registered as a bean in the Spring Container, so there's no way it can be injected as a dependency to another classes using <code>@Autowired</code>.</p>\n<p>In order for a bean to be managed by Spring, you have either to:</p>\n<p>make it a component, using <code>@Component</code> or its derivatives -- <code>@Service</code> and <code>@Repository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtTokenUtil {\n    // your class' fields and methods\n}\n\n</code></pre>\n<p>... or to make it a return type of a method annotated with <code>@Bean</code>, which <em>indicates that a method produces a bean to be managed by the Spring container</em> (definition from the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"nofollow noreferrer\">Spring's API documentation</a>). Often, a method like that is declared in a <code>@Configuration</code> class, because it's loaded as soon as your application starts, while the Spring's Application Context searches for beans to register to the Spring Container:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public JwtTokenUtil jwtTokenUtil() {\n        return new JwtTokenUtil();\n    }\n}\n</code></pre>\n<p>Obs.: I would like to ask you if you already did it, but unfortunately I cannot add a comment to your question because I don't have 50 reputation yet. I hope it helps you.</p>\n"}],"owner":{"account_id":28368936,"reputation":1,"user_id":21697860,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682120826,"creation_date":1682081183,"question_id":76073311,"body_markdown":"I&#39;m trying to test a Login with JWT but everytime I try to test this method it gives me a:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;it.security.jwt.JwtTokenUtil.generateToken(org.springframework.security.core.userdetails.UserDetails)&quot; because &quot;this.jwtTokenUtil&quot; is null \r\n```\r\n\r\nThe class I use is this:\r\n\r\n```\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class AuthenticationRestControllerTest {\r\n    @Autowired\r\n    private JwtTokenUtil jwtTokenUtil;\r\n    \r\n    @Test\r\n    public void loginTest() throws Exception {\r\n        JwtUser userDetails;\r\n        userDetails = JwtUserFactory.create(&quot;user&quot;, null);\r\n        String token = jwtTokenUtil.generateToken(userDetails);\r\n        Assert.assertNotNull(token);\r\n    }\r\n}\r\n```\r\n\r\nI also tried with mock and other tests stuff but nothing it worked for me.\r\n\r\nAny idea of what I missed?\r\n\r\nor anything to improve my login test","title":"Can&#39;t autowire method in spring boot test","body":"<p>I'm trying to test a Login with JWT but everytime I try to test this method it gives me a:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;it.security.jwt.JwtTokenUtil.generateToken(org.springframework.security.core.userdetails.UserDetails)&quot; because &quot;this.jwtTokenUtil&quot; is null \n</code></pre>\n<p>The class I use is this:</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class AuthenticationRestControllerTest {\n    @Autowired\n    private JwtTokenUtil jwtTokenUtil;\n    \n    @Test\n    public void loginTest() throws Exception {\n        JwtUser userDetails;\n        userDetails = JwtUserFactory.create(&quot;user&quot;, null);\n        String token = jwtTokenUtil.generateToken(userDetails);\n        Assert.assertNotNull(token);\n    }\n}\n</code></pre>\n<p>I also tried with mock and other tests stuff but nothing it worked for me.</p>\n<p>Any idea of what I missed?</p>\n<p>or anything to improve my login test</p>\n"},{"tags":["java","csv","deserialization","opencsv"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682134944,"post_id":76077330,"comment_id":134171866,"body_markdown":"So, you&#39;re not looking for just any CSV parser library that can create instances of the model for you, but specifically a library that can work with `@Value.Immutable`?","body":"So, you&#39;re not looking for just any CSV parser library that can create instances of the model for you, but specifically a library that can work with <code>@Value.Immutable</code>?"},{"owner":{"account_id":19765943,"reputation":57,"user_id":14473971,"display_name":"mitriola"},"score":0,"creation_date":1682264556,"post_id":76077330,"comment_id":134184338,"body_markdown":"Yea, was wondering if there a library that exists to do this cleanly without having to read it into a data object first and then building the immutable. I&#39;ve looked around some more, and it seems like there might not be a library for this right now.","body":"Yea, was wondering if there a library that exists to do this cleanly without having to read it into a data object first and then building the immutable. I&#39;ve looked around some more, and it seems like there might not be a library for this right now."}],"owner":{"account_id":19765943,"reputation":57,"user_id":14473971,"display_name":"mitriola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682120199,"creation_date":1682120199,"question_id":76077330,"body_markdown":"I have a simple view that&#39;s modeled after some CSV data:\r\n\r\n```\r\n@Value.Style(stagedBuilder = true)\r\n@Value.Immutable\r\npublic interface MyImmutablePerson {\r\n    String getName();\r\n    Optional&lt;Integer&gt; getAge();\r\n    Optional&lt;String&gt; getAddress();\r\n}\r\n```\r\n\r\nI have a CSV file matching the data as:\r\n```\r\nname,age,address\r\nJohn,10,123 Main St\r\nJack,11,123 Main St\r\nJake,12,123 Main St\r\n```\r\n\r\nI&#39;ve been testing with some CSV libraries, but none seem to support reading into the immutable object.\r\n\r\nThe best I&#39;ve been able to do is splitting it, and then manually building my object myself\r\n\r\n```\r\nrecord = reader.readLine().split(&#39;,&#39;)\r\n\r\nImmutableMyImmutablePerson.builder()\r\n    .name(record[0])\r\n    .age(record[1])\r\n    .address(record[2])\r\n```\r\n\r\nThis example with 3 columns it&#39;s fine, but in my implementation, I have a ton of columns and it doesn&#39;t feel clean having to construct the object manually. Are there any CSV libraries that support reading the line directly into my Immutable?\r\n","title":"Is it possible to read from CSV into a Immutable Object cleanly?","body":"<p>I have a simple view that's modeled after some CSV data:</p>\n<pre><code>@Value.Style(stagedBuilder = true)\n@Value.Immutable\npublic interface MyImmutablePerson {\n    String getName();\n    Optional&lt;Integer&gt; getAge();\n    Optional&lt;String&gt; getAddress();\n}\n</code></pre>\n<p>I have a CSV file matching the data as:</p>\n<pre><code>name,age,address\nJohn,10,123 Main St\nJack,11,123 Main St\nJake,12,123 Main St\n</code></pre>\n<p>I've been testing with some CSV libraries, but none seem to support reading into the immutable object.</p>\n<p>The best I've been able to do is splitting it, and then manually building my object myself</p>\n<pre><code>record = reader.readLine().split(',')\n\nImmutableMyImmutablePerson.builder()\n    .name(record[0])\n    .age(record[1])\n    .address(record[2])\n</code></pre>\n<p>This example with 3 columns it's fine, but in my implementation, I have a ton of columns and it doesn't feel clean having to construct the object manually. Are there any CSV libraries that support reading the line directly into my Immutable?</p>\n"},{"tags":["java","optional-chaining"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1682116588,"post_id":76076960,"comment_id":134170552,"body_markdown":"Just use `builder().age(Optional.ofNullable(myPerson.getAge()))` etc","body":"Just use <code>builder().age(Optional.ofNullable(myPerson.getAge()))</code> etc"},{"owner":{"account_id":19765943,"reputation":57,"user_id":14473971,"display_name":"mitriola"},"score":0,"creation_date":1682116954,"post_id":76076960,"comment_id":134170593,"body_markdown":"hmm this returns an error `Cannot resolve method &#39;age(Optional&lt;T&gt;)&#39;`, and trying to cast it to an Optional&lt;Integer&gt; says that it&#39;s an inconvertible type","body":"hmm this returns an error <code>Cannot resolve method &#39;age(Optional&lt;T&gt;)&#39;</code>, and trying to cast it to an Optional&lt;Integer&gt; says that it&#39;s an inconvertible type"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1682117236,"post_id":76076960,"comment_id":134170612,"body_markdown":"Make MyImmutablePerson a class and add @Builder? Or make it a `record`?","body":"Make MyImmutablePerson a class and add @Builder? Or make it a <code>record</code>?"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682119977,"creation_date":1682114543,"answer_id":76076972,"question_id":76076960,"body_markdown":"`return `[`Optional.ofNullable(age)`][1]`;`!?;)\r\n\r\n&gt;Returns an Optional describing the given value, if non-null, otherwise returns an empty Optional.\r\n\r\n\r\nFor &quot;conversion&quot; (String-&gt;Integer) [@bro](https://stackoverflow.com/users/16320675/user16320675) proposed [`Optional.map()`][2]!(thx!)\r\nWhich...\r\n&gt;If a value is present, returns an `Optional` describing (as if by `ofNullable(T)`) the result of applying the given mapping function to the value, otherwise returns an empty `Optional`.\r\n\r\nSo that we can finally:\r\n```\r\nprivate /*static*/ Optional&lt;Integer&gt; checkNullAge(String age) {\r\n    // try {\r\n    \r\n    return Optional.ofNullable(age).map(Integer::valueOf);\r\n    // } catch (NumberFormatException nfE) ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#ofNullable(T)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)","title":"Efficient way to check if a getter will return null in Java before passing to Optional?","body":"<p><code>return </code><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#ofNullable(T)\" rel=\"nofollow noreferrer\"><code>Optional.ofNullable(age)</code></a><code>;</code>!?;)</p>\n<blockquote>\n<p>Returns an Optional describing the given value, if non-null, otherwise returns an empty Optional.</p>\n</blockquote>\n<p>For &quot;conversion&quot; (String-&gt;Integer) <a href=\"https://stackoverflow.com/users/16320675/user16320675\">@bro</a> proposed <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Optional.map()</code></a>!(thx!)\nWhich...</p>\n<blockquote>\n<p>If a value is present, returns an <code>Optional</code> describing (as if by <code>ofNullable(T)</code>) the result of applying the given mapping function to the value, otherwise returns an empty <code>Optional</code>.</p>\n</blockquote>\n<p>So that we can finally:</p>\n<pre><code>private /*static*/ Optional&lt;Integer&gt; checkNullAge(String age) {\n    // try {\n    \n    return Optional.ofNullable(age).map(Integer::valueOf);\n    // } catch (NumberFormatException nfE) ...\n}\n</code></pre>\n"}],"owner":{"account_id":19765943,"reputation":57,"user_id":14473971,"display_name":"mitriola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76076972,"answer_count":1,"score":1,"last_activity_date":1682119977,"creation_date":1682114364,"question_id":76076960,"body_markdown":"I have a simple data class such as\r\n```\r\n@Data\r\n@Builder\r\npublic class MyPerson implements Serializable {\r\n    String name;\r\n    String age; //Purposely keeping as String here\r\n    String address;\r\n}\r\n```\r\n\r\nAfter constructing the object, I want to construct an Immutable object using it with the following definition, where I know name will never be null, but age and address might:\r\n\r\n```\r\n@Value.Style(stagedBuilder = true)\r\n@Value.Immutable\r\npublic interface MyImmutablePerson extends Serializable {\r\n    String getName();\r\n    Optional&lt;Integer&gt; getAge();\r\n    Optional&lt;String&gt; getAddress();\r\n}\r\n    \r\n```\r\n\r\nThe first person object is created, and now want to create this second Immutable object, where age and address could be null\r\n```\r\nMyImmutablePerson.builder()\r\n    .name(myPerson.getName())\r\n    .age(myPerson.getAge()) //Could be null!\r\n    .address(myPerson.getAddress()) //Could be null!\r\n    .build()\r\n    \r\n```\r\n\r\nMy thought it is that I could pass to another function to check and return an empty optional if it is null:\r\n\r\n```\r\nprivate Optional&lt;Integer&gt; checkNullAge(String age) {\r\n    if (age.isNull()) {\r\n        return Optional.empty()\r\n    }\r\n    \r\n    return Optional.of(age);\r\n}\r\n```\r\n\r\nIn doing this, I have duplicate another class just for Strings, another class for Boolean,.... etc. which is super ineficient.\r\n\r\nIs there a better way to do a null check and then return an empty optional?","title":"Efficient way to check if a getter will return null in Java before passing to Optional?","body":"<p>I have a simple data class such as</p>\n<pre><code>@Data\n@Builder\npublic class MyPerson implements Serializable {\n    String name;\n    String age; //Purposely keeping as String here\n    String address;\n}\n</code></pre>\n<p>After constructing the object, I want to construct an Immutable object using it with the following definition, where I know name will never be null, but age and address might:</p>\n<pre><code>@Value.Style(stagedBuilder = true)\n@Value.Immutable\npublic interface MyImmutablePerson extends Serializable {\n    String getName();\n    Optional&lt;Integer&gt; getAge();\n    Optional&lt;String&gt; getAddress();\n}\n    \n</code></pre>\n<p>The first person object is created, and now want to create this second Immutable object, where age and address could be null</p>\n<pre><code>MyImmutablePerson.builder()\n    .name(myPerson.getName())\n    .age(myPerson.getAge()) //Could be null!\n    .address(myPerson.getAddress()) //Could be null!\n    .build()\n    \n</code></pre>\n<p>My thought it is that I could pass to another function to check and return an empty optional if it is null:</p>\n<pre><code>private Optional&lt;Integer&gt; checkNullAge(String age) {\n    if (age.isNull()) {\n        return Optional.empty()\n    }\n    \n    return Optional.of(age);\n}\n</code></pre>\n<p>In doing this, I have duplicate another class just for Strings, another class for Boolean,.... etc. which is super ineficient.</p>\n<p>Is there a better way to do a null check and then return an empty optional?</p>\n"},{"tags":["java","get","null","set","return"],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682119333,"creation_date":1682119333,"answer_id":76077284,"question_id":76076934,"body_markdown":"It looks like the &quot;CampusPath&quot; instantiated in your run() method never has his &quot;path&quot; attribute set.\r\n\r\nYou are setting a brand new instance of &quot;CampusPath&quot; in the &quot;Campus&quot; instance, the two &quot;CampusPath&quot; objects are two seperate references and setting one of the two does not mutate the other. ","title":"Even I set a value with a set method, it returns null from a get method","body":"<p>It looks like the &quot;CampusPath&quot; instantiated in your run() method never has his &quot;path&quot; attribute set.</p>\n<p>You are setting a brand new instance of &quot;CampusPath&quot; in the &quot;Campus&quot; instance, the two &quot;CampusPath&quot; objects are two seperate references and setting one of the two does not mutate the other.</p>\n"}],"owner":{"account_id":28375243,"reputation":3,"user_id":21703403,"display_name":"hmu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76077284,"answer_count":1,"score":0,"last_activity_date":1682119704,"creation_date":1682114003,"question_id":76076934,"body_markdown":"This is my main code\r\n```\r\npublic class PSugangSincheong {\r\n\r\n\tpublic void run(VUserInfo vUserInfo) {\t\r\n\t\tCampus campus = new Campus();\r\n\t\tCollege college = new College();\r\n\t\tDepartment department = new Department();\r\n\t\tLecture lecture = new Lecture();\r\n\t\tCampusPath campusPath = new CampusPath();\r\n\t\tCollegePath collegePath = new CollegePath();\r\n\t\tDepartmentPath departmentPath = new DepartmentPath();\r\n\t\t\r\n\t\ttry {\r\n//\t\t\tSystem.out.println(vUserInfo.getName() + &quot;welcome.\\n&quot;);\r\n\t\t\tint input = 0;\r\n\t\t\tString path = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\data\\\\root.txt&quot;;\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\t\r\n\t\t\tcampus.show(path);\r\n\t\t\tinput = sc.nextInt();\r\n\t\t\tcampus.run(input, path);\r\n\t\t\tpath = campusPath.getCampuspath();\r\n\t\t\tSystem.out.println(path);\r\n\t\t\t\r\n\t\t\tcollege.show(path);\r\n//\t\t\tinput = sc.nextInt();\r\n//\t\t\tcollege.run(input, path);\r\n//\t\t\tpath = collegePath.getCollegepath();\r\n\t\t\t\r\n//\t\t\tdepartment.show(path);\r\n//\t\t\tinput = sc.nextInt();\r\n//\t\t\tdepartment.run(input, path);\r\n//\t\t\tpath = departmentPath.getDepartmentpath();\r\n\t\t\t\r\n//\t\t\tlecture.show(path);\r\n//\t\t\tinput = sc.nextInt();\r\n//\t\t\tlecture.run(input, path);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t} catch (FileNotFoundException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nand this is my campus class\r\n```\r\npublic class Campus {\r\n\tString newPath = &quot;&quot;;\r\n\tCampusPath campusPath = new CampusPath();\r\n\t\r\n\tArrayList&lt;String&gt; campusNum = new ArrayList&lt;&gt;();\r\n\tArrayList&lt;String&gt; campusName = new ArrayList&lt;&gt;();\r\n\tArrayList&lt;String&gt; campus= new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic void show(String path) throws FileNotFoundException {\r\n\t\tScanner campusFile = new Scanner(new File(path));\r\n\t\t\r\n\t\tSystem.out.println(&quot;input a number.&quot;);\r\n\t\twhile(campusFile.hasNext()) {\r\n\t\t\tString line = campusFile.nextLine();\r\n\t\t\tSystem.out.println(line);\r\n\t\t\tString[] tokens = line.split(&quot; &quot;);\r\n\t\t\tcampusNum.add(tokens[0]);\r\n\t\t\tcampusName.add(tokens[1]);\r\n\t\t\tcampus.add(tokens[2]);\r\n\t\t}\r\n\t\tcampusFile.close();\r\n\t}\r\n\t\r\n\tpublic void run(int input, String path) {\r\n\t\twhile(true) {\r\n\t\t\tif(input &lt;= Integer.parseInt(campusNum.get(campusNum.size()-1)) &amp;&amp; input &gt;= Integer.parseInt(campusNum.get(0))) {\r\n\t\t\t\tfor(int i = 0; i &lt; campusNum.size(); i++) {\r\n\t\t\t\t\tif(input == Integer.parseInt(campusNum.get(i))) {\r\n\t\t\t\t\t\tSystem.out.println(campusName.get(i) + &quot;campus\\n&quot;);\r\n\t\t\t\t\t\tnewPath = campus.get(i);\r\n\t\t\t\t\t\tpath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\data\\\\&quot;+ newPath +&quot;.txt&quot;;\r\n\t\t\t\t\t\tcampusPath.setCampuspath(path);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(&quot;wrong number.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n```\r\nand this is my campus path code\r\n```\r\npublic class CampusPath {\r\n\tprivate String path;\r\n\t\r\n\tpublic void setCampuspath(String path) {\r\n\t\tthis.path = path;\r\n\t}\r\n\r\n\tpublic String getCampuspath() {\r\n\t\treturn path;\r\n\t}\r\n\r\n}\r\n```\r\nthe problem is when I do `path = campusPath.getCampuspath();`, it returns a null data not a path.\r\ncould any one help me. It&#39;s a bit long code.. I&#39;m sorry about that...\r\n\r\nI expected it to set the path and return the path. It sets the path correctly but returns null. when I set it and get it immediately it works but when I do it like the code above it doesn&#39;t work. I tried debugging and a lot but don&#39;t know why it changes into null.","title":"Even I set a value with a set method, it returns null from a get method","body":"<p>This is my main code</p>\n<pre><code>public class PSugangSincheong {\n\n    public void run(VUserInfo vUserInfo) {  \n        Campus campus = new Campus();\n        College college = new College();\n        Department department = new Department();\n        Lecture lecture = new Lecture();\n        CampusPath campusPath = new CampusPath();\n        CollegePath collegePath = new CollegePath();\n        DepartmentPath departmentPath = new DepartmentPath();\n        \n        try {\n//          System.out.println(vUserInfo.getName() + &quot;welcome.\\n&quot;);\n            int input = 0;\n            String path = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\data\\\\root.txt&quot;;\n            Scanner sc = new Scanner(System.in);\n            \n            campus.show(path);\n            input = sc.nextInt();\n            campus.run(input, path);\n            path = campusPath.getCampuspath();\n            System.out.println(path);\n            \n            college.show(path);\n//          input = sc.nextInt();\n//          college.run(input, path);\n//          path = collegePath.getCollegepath();\n            \n//          department.show(path);\n//          input = sc.nextInt();\n//          department.run(input, path);\n//          path = departmentPath.getDepartmentpath();\n            \n//          lecture.show(path);\n//          input = sc.nextInt();\n//          lecture.run(input, path);\n            \n            \n            \n            \n            \n            \n        \n        } catch (FileNotFoundException e) {\n\n            e.printStackTrace();\n        }\n        \n    }\n\n}\n</code></pre>\n<p>and this is my campus class</p>\n<pre><code>public class Campus {\n    String newPath = &quot;&quot;;\n    CampusPath campusPath = new CampusPath();\n    \n    ArrayList&lt;String&gt; campusNum = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; campusName = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; campus= new ArrayList&lt;&gt;();\n    \n    public void show(String path) throws FileNotFoundException {\n        Scanner campusFile = new Scanner(new File(path));\n        \n        System.out.println(&quot;input a number.&quot;);\n        while(campusFile.hasNext()) {\n            String line = campusFile.nextLine();\n            System.out.println(line);\n            String[] tokens = line.split(&quot; &quot;);\n            campusNum.add(tokens[0]);\n            campusName.add(tokens[1]);\n            campus.add(tokens[2]);\n        }\n        campusFile.close();\n    }\n    \n    public void run(int input, String path) {\n        while(true) {\n            if(input &lt;= Integer.parseInt(campusNum.get(campusNum.size()-1)) &amp;&amp; input &gt;= Integer.parseInt(campusNum.get(0))) {\n                for(int i = 0; i &lt; campusNum.size(); i++) {\n                    if(input == Integer.parseInt(campusNum.get(i))) {\n                        System.out.println(campusName.get(i) + &quot;campus\\n&quot;);\n                        newPath = campus.get(i);\n                        path = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\data\\\\&quot;+ newPath +&quot;.txt&quot;;\n                        campusPath.setCampuspath(path);\n                    }\n                }           \n                break;\n            }else {\n                System.out.println(&quot;wrong number.&quot;);\n            }\n        }\n    }\n    \n    \n\n}\n</code></pre>\n<p>and this is my campus path code</p>\n<pre><code>public class CampusPath {\n    private String path;\n    \n    public void setCampuspath(String path) {\n        this.path = path;\n    }\n\n    public String getCampuspath() {\n        return path;\n    }\n\n}\n</code></pre>\n<p>the problem is when I do <code>path = campusPath.getCampuspath();</code>, it returns a null data not a path.\ncould any one help me. It's a bit long code.. I'm sorry about that...</p>\n<p>I expected it to set the path and return the path. It sets the path correctly but returns null. when I set it and get it immediately it works but when I do it like the code above it doesn't work. I tried debugging and a lot but don't know why it changes into null.</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"score":0,"creation_date":1407339509,"post_id":25077549,"comment_id":39178347,"body_markdown":"Can you share your job and job repository configuration (assuming you&#39;re using the MapJobRepository that user3218114 mentions)?","body":"Can you share your job and job repository configuration (assuming you&#39;re using the MapJobRepository that user3218114 mentions)?"}],"answers":[{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1473531729,"creation_date":1406887280,"answer_id":25077659,"question_id":25077549,"body_markdown":"&gt; I want to run it without any database persistence\r\n\r\nYou can use [`MapJobRepositoryFactoryBean`](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/repository/support/MapJobRepositoryFactoryBean.html) and [`ResourcelessTransactionManager`](http://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/support/transaction/ResourcelessTransactionManager.html)\r\n\r\nsample configuration:\r\n\r\n\t&lt;bean id=&quot;transactionManager&quot;\r\n\t\tclass=&quot;org.springframework.batch.support.transaction.ResourcelessTransactionManager&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;jobRepository&quot;\r\n\t\tclass=&quot;org.springframework.batch.core.repository.support.MapJobRepositoryFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;jobLauncher&quot;\r\n\t\tclass=&quot;org.springframework.batch.core.launch.support.SimpleJobLauncher&quot;&gt;\r\n\t\t&lt;property name=&quot;jobRepository&quot; ref=&quot;jobRepository&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nFor Spring 4.X, the annotation based configuration would be as follows:\r\n\r\n    @Bean\r\n    public PlatformTransactionManager getTransactionManager() {\r\n    \treturn new ResourcelessTransactionManager();\r\n    }\r\n    \r\n    @Bean\r\n    public JobRepository getJobRepo() {\r\n    \treturn new MapJobRepositoryFactoryBean(getTransactionManager()).getObject();\r\n    }","title":"Spring-Batch without persisting metadata to database?","body":"<blockquote>\n  <p>I want to run it without any database persistence</p>\n</blockquote>\n\n<p>You can use <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/repository/support/MapJobRepositoryFactoryBean.html\" rel=\"noreferrer\"><code>MapJobRepositoryFactoryBean</code></a> and <a href=\"http://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/support/transaction/ResourcelessTransactionManager.html\" rel=\"noreferrer\"><code>ResourcelessTransactionManager</code></a></p>\n\n<p>sample configuration:</p>\n\n<pre><code>&lt;bean id=\"transactionManager\"\n    class=\"org.springframework.batch.support.transaction.ResourcelessTransactionManager\" /&gt;\n\n&lt;bean id=\"jobRepository\"\n    class=\"org.springframework.batch.core.repository.support.MapJobRepositoryFactoryBean\"&gt;\n    &lt;property name=\"transactionManager\" ref=\"transactionManager\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"jobLauncher\"\n    class=\"org.springframework.batch.core.launch.support.SimpleJobLauncher\"&gt;\n    &lt;property name=\"jobRepository\" ref=\"jobRepository\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>For Spring 4.X, the annotation based configuration would be as follows:</p>\n\n<pre><code>@Bean\npublic PlatformTransactionManager getTransactionManager() {\n    return new ResourcelessTransactionManager();\n}\n\n@Bean\npublic JobRepository getJobRepo() {\n    return new MapJobRepositoryFactoryBean(getTransactionManager()).getObject();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":174042,"reputation":2240,"user_id":403157,"accept_rate":84,"display_name":"Cleankod"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1417598425,"creation_date":1417598425,"answer_id":27267778,"question_id":25077549,"body_markdown":"After tweaking @Braj&#39;s answer, my working configuration looks as follows:\r\n\r\n\r\n    @Bean\r\n    public ResourcelessTransactionManager transactionManager() {\r\n    \treturn new ResourcelessTransactionManager();\r\n    }\r\n    \r\n    @Bean\r\n    public JobRepository jobRepository(ResourcelessTransactionManager transactionManager) throws Exception {\r\n    \tMapJobRepositoryFactoryBean mapJobRepositoryFactoryBean = new MapJobRepositoryFactoryBean(transactionManager);\r\n    \tmapJobRepositoryFactoryBean.setTransactionManager(transactionManager);\r\n    \treturn mapJobRepositoryFactoryBean.getObject();\r\n    }\r\n    \r\n    @Bean\r\n    public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\r\n    \tSimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher();\r\n    \tsimpleJobLauncher.setJobRepository(jobRepository);\r\n    \treturn simpleJobLauncher;\r\n    }\r\n\r\n\r\n","title":"Spring-Batch without persisting metadata to database?","body":"<p>After tweaking @Braj's answer, my working configuration looks as follows:</p>\n\n<pre><code>@Bean\npublic ResourcelessTransactionManager transactionManager() {\n    return new ResourcelessTransactionManager();\n}\n\n@Bean\npublic JobRepository jobRepository(ResourcelessTransactionManager transactionManager) throws Exception {\n    MapJobRepositoryFactoryBean mapJobRepositoryFactoryBean = new MapJobRepositoryFactoryBean(transactionManager);\n    mapJobRepositoryFactoryBean.setTransactionManager(transactionManager);\n    return mapJobRepositoryFactoryBean.getObject();\n}\n\n@Bean\npublic SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\n    SimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher();\n    simpleJobLauncher.setJobRepository(jobRepository);\n    return simpleJobLauncher;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1488993056,"creation_date":1488993056,"answer_id":42677607,"question_id":25077549,"body_markdown":"Simply create a configuration without datasource for Batch configuration :\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @EnableBatchProcessing\r\n    public class BatchConfiguration extends DefaultBatchConfigurer {\r\n    \r\n    \t@Override\r\n    \tpublic void setDataSource(DataSource dataSource) {\r\n    \t\t// override to do not set datasource even if a datasource exist.\r\n    \t\t// initialize will use a Map based JobRepository (instead of database)\r\n    \t}\r\n    \r\n    }\r\n\r\nIt will initialize JobRepository and JobExplorer with a in memory map based implementation.\r\nhttps://github.com/spring-projects/spring-batch/blob/342d27bc1ed83312bdcd9c0cb30510f4c469e47d/spring-batch-core/src/main/java/org/springframework/batch/core/configuration/annotation/DefaultBatchConfigurer.java#L84\r\n\r\nand you can use you&#39;re production datasource as well even if auto configured with spring boot.","title":"Spring-Batch without persisting metadata to database?","body":"<p>Simply create a configuration without datasource for Batch configuration :</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@EnableBatchProcessing\npublic class BatchConfiguration extends DefaultBatchConfigurer {\n\n    @Override\n    public void setDataSource(DataSource dataSource) {\n        // override to do not set datasource even if a datasource exist.\n        // initialize will use a Map based JobRepository (instead of database)\n    }\n\n}\n</code></pre>\n\n<p>It will initialize JobRepository and JobExplorer with a in memory map based implementation.\n<a href=\"https://github.com/spring-projects/spring-batch/blob/342d27bc1ed83312bdcd9c0cb30510f4c469e47d/spring-batch-core/src/main/java/org/springframework/batch/core/configuration/annotation/DefaultBatchConfigurer.java#L84\" rel=\"noreferrer\">https://github.com/spring-projects/spring-batch/blob/342d27bc1ed83312bdcd9c0cb30510f4c469e47d/spring-batch-core/src/main/java/org/springframework/batch/core/configuration/annotation/DefaultBatchConfigurer.java#L84</a></p>\n\n<p>and you can use you're production datasource as well even if auto configured with spring boot.</p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1493739778,"creation_date":1493739778,"answer_id":43742074,"question_id":25077549,"body_markdown":"I came back to my own question, as the solution did not work anymore.\r\nAs of spring-batch-1.5.3 use as follows:\r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\n    ...\r\n    \t@Bean\r\n    \tpublic PlatformTransactionManager transactionManager() {\r\n    \t    return new ResourcelessTransactionManager();\r\n    \t}\r\n    }","title":"Spring-Batch without persisting metadata to database?","body":"<p>I came back to my own question, as the solution did not work anymore.\nAs of spring-batch-1.5.3 use as follows:</p>\n\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\n...\n    @Bean\n    public PlatformTransactionManager transactionManager() {\n        return new ResourcelessTransactionManager();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4078308,"reputation":3651,"user_id":3349358,"accept_rate":88,"display_name":"gmode"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1494925483,"creation_date":1494925483,"answer_id":43996948,"question_id":25077549,"body_markdown":"In addition to @Braj-s response I had to exclude Batch autoconfiguration:\r\n**`@SpringBootApplication(exclude = {BatchAutoConfiguration.class})`**\r\n\r\nIt was not working otherwise.\r\nThis includes Spring Boot application","title":"Spring-Batch without persisting metadata to database?","body":"<p>In addition to @Braj-s response I had to exclude Batch autoconfiguration:\n<strong><code>@SpringBootApplication(exclude = {BatchAutoConfiguration.class})</code></strong></p>\n\n<p>It was not working otherwise.\nThis includes Spring Boot application</p>\n"},{"tags":[],"owner":{"account_id":9120639,"reputation":728,"user_id":6786156,"display_name":"MKaz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499327358,"creation_date":1499327358,"answer_id":44942810,"question_id":25077549,"body_markdown":"If you don&#39;t want to store job&#39;s metadata in the database, configuration looks as follows\r\n\r\n \r\n\r\n    @Configuration\r\n\tpublic class InMemoryJobRepositoryConfiguration {\r\n    @Bean\r\n    public ResourcelessTransactionManager transactionManager() {\r\n        return new ResourcelessTransactionManager();\r\n    }\r\n\r\n    @Bean\r\n    public MapJobRepositoryFactoryBean mapJobRepositoryFactory(ResourcelessTransactionManager transactionManager)\r\n            throws Exception {\r\n        MapJobRepositoryFactoryBean factory = new MapJobRepositoryFactoryBean(transactionManager);\r\n        factory.afterPropertiesSet();\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public JobRepository jobRepository(MapJobRepositoryFactoryBean repositoryFactory) throws Exception {\r\n        return repositoryFactory.getObject();\r\n    }\r\n\r\n    @Bean\r\n    public JobExplorer jobExplorer(MapJobRepositoryFactoryBean repositoryFactory) {\r\n        return new SimpleJobExplorer(repositoryFactory.getJobInstanceDao(), repositoryFactory.getJobExecutionDao(),\r\n                repositoryFactory.getStepExecutionDao(), repositoryFactory.getExecutionContextDao());\r\n    }\r\n    \r\n    @Bean\r\n    public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\r\n        SimpleJobLauncher launcher = new SimpleJobLauncher();\r\n        launcher.setJobRepository(jobRepository);\r\n        return launcher;\r\n    }\r\n\t}\r\nIf job needs to read/write business data to the database and the datasource is configured as follows.\r\n\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n\r\nspring batch creates internal schema (BATCH_* tables and sequences) using that datasource. To prevent this from happening set flag `spring.batch.initializer.enabled=false` in application.properties.\r\n","title":"Spring-Batch without persisting metadata to database?","body":"<p>If you don't want to store job's metadata in the database, configuration looks as follows</p>\n\n<pre><code>@Configuration\npublic class InMemoryJobRepositoryConfiguration {\n@Bean\npublic ResourcelessTransactionManager transactionManager() {\n    return new ResourcelessTransactionManager();\n}\n\n@Bean\npublic MapJobRepositoryFactoryBean mapJobRepositoryFactory(ResourcelessTransactionManager transactionManager)\n        throws Exception {\n    MapJobRepositoryFactoryBean factory = new MapJobRepositoryFactoryBean(transactionManager);\n    factory.afterPropertiesSet();\n    return factory;\n}\n\n@Bean\npublic JobRepository jobRepository(MapJobRepositoryFactoryBean repositoryFactory) throws Exception {\n    return repositoryFactory.getObject();\n}\n\n@Bean\npublic JobExplorer jobExplorer(MapJobRepositoryFactoryBean repositoryFactory) {\n    return new SimpleJobExplorer(repositoryFactory.getJobInstanceDao(), repositoryFactory.getJobExecutionDao(),\n            repositoryFactory.getStepExecutionDao(), repositoryFactory.getExecutionContextDao());\n}\n\n@Bean\npublic SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\n    SimpleJobLauncher launcher = new SimpleJobLauncher();\n    launcher.setJobRepository(jobRepository);\n    return launcher;\n}\n}\n</code></pre>\n\n<p>If job needs to read/write business data to the database and the datasource is configured as follows.</p>\n\n<pre><code>@Autowired\nprivate DataSource dataSource;\n</code></pre>\n\n<p>spring batch creates internal schema (BATCH_* tables and sequences) using that datasource. To prevent this from happening set flag <code>spring.batch.initializer.enabled=false</code> in application.properties.</p>\n"},{"tags":[],"owner":{"account_id":3039783,"reputation":391,"user_id":2577092,"accept_rate":17,"display_name":"Tracy Xia"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1529102451,"creation_date":1517357582,"answer_id":48532528,"question_id":25077549,"body_markdown":"I tried all of the solutions above, but it does not work with my particular scenario because my spring batch job has advanced features such as multi-threading. It needs a database. So here is what I did to solve the problem: \r\n\r\n    @Configuration\r\n    public class FakeBatchConfig implements BatchConfigurer {\r\n    \r\n      PlatformTransactionManager transactionManager;\r\n      JobRepository jobRepository;\r\n      JobLauncher jobLauncher;\r\n      JobExplorer jobExplorer;\r\n    \r\n      @Override\r\n      public JobRepository getJobRepository() {\r\n        return jobRepository;\r\n      }\r\n    \r\n      @Override\r\n      public PlatformTransactionManager getTransactionManager() {\r\n        return transactionManager;\r\n      }\r\n    \r\n      @Override\r\n      public JobLauncher getJobLauncher() {\r\n        return jobLauncher;\r\n      }\r\n    \r\n      @Override\r\n      public JobExplorer getJobExplorer() {\r\n        return jobExplorer;\r\n      }\r\n    \r\n      @PostConstruct\r\n      void initialize() throws Exception {\r\n    \r\n        if (this.transactionManager == null) {\r\n          this.transactionManager = new ResourcelessTransactionManager();\r\n        }\r\n    \r\n        MapJobRepositoryFactoryBean jobRepositoryFactory = new MapJobRepositoryFactoryBean(this.transactionManager);\r\n        jobRepositoryFactory.afterPropertiesSet();\r\n        this.jobRepository = jobRepositoryFactory.getObject();\r\n    \r\n        MapJobExplorerFactoryBean jobExplorerFactory = new MapJobExplorerFactoryBean(jobRepositoryFactory);\r\n        jobExplorerFactory.afterPropertiesSet();\r\n        this.jobExplorer = jobExplorerFactory.getObject();\r\n        this.jobLauncher = createJobLauncher();\r\n      }\r\n    \r\n      private JobLauncher createJobLauncher() throws Exception {\r\n        SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\r\n        jobLauncher.setJobRepository(jobRepository);\r\n        jobLauncher.afterPropertiesSet();\r\n        return jobLauncher;\r\n      }\r\n    \r\n    }","title":"Spring-Batch without persisting metadata to database?","body":"<p>I tried all of the solutions above, but it does not work with my particular scenario because my spring batch job has advanced features such as multi-threading. It needs a database. So here is what I did to solve the problem: </p>\n\n<pre><code>@Configuration\npublic class FakeBatchConfig implements BatchConfigurer {\n\n  PlatformTransactionManager transactionManager;\n  JobRepository jobRepository;\n  JobLauncher jobLauncher;\n  JobExplorer jobExplorer;\n\n  @Override\n  public JobRepository getJobRepository() {\n    return jobRepository;\n  }\n\n  @Override\n  public PlatformTransactionManager getTransactionManager() {\n    return transactionManager;\n  }\n\n  @Override\n  public JobLauncher getJobLauncher() {\n    return jobLauncher;\n  }\n\n  @Override\n  public JobExplorer getJobExplorer() {\n    return jobExplorer;\n  }\n\n  @PostConstruct\n  void initialize() throws Exception {\n\n    if (this.transactionManager == null) {\n      this.transactionManager = new ResourcelessTransactionManager();\n    }\n\n    MapJobRepositoryFactoryBean jobRepositoryFactory = new MapJobRepositoryFactoryBean(this.transactionManager);\n    jobRepositoryFactory.afterPropertiesSet();\n    this.jobRepository = jobRepositoryFactory.getObject();\n\n    MapJobExplorerFactoryBean jobExplorerFactory = new MapJobExplorerFactoryBean(jobRepositoryFactory);\n    jobExplorerFactory.afterPropertiesSet();\n    this.jobExplorer = jobExplorerFactory.getObject();\n    this.jobLauncher = createJobLauncher();\n  }\n\n  private JobLauncher createJobLauncher() throws Exception {\n    SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\n    jobLauncher.setJobRepository(jobRepository);\n    jobLauncher.afterPropertiesSet();\n    return jobLauncher;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3020026,"reputation":105,"user_id":2561296,"accept_rate":75,"display_name":"Akhil Khandelwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532960726,"creation_date":1532960726,"answer_id":51596228,"question_id":25077549,"body_markdown":"After reading all the answers provided I got it working. I used mix of membersound and Aure77 solution. I found out there was no need to override setDataSource method. DefaultBatchConfigurer automatically takes care of PlatformTransactionManager and DataSource is not required. Please note I am using Spring boot 2.0.3.RELEASE.\r\nFollowing is the method I used\r\n\r\n    @SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\r\n    @EnableBatchProcessing\r\n    public class DemoApplication extends DefaultBatchConfigurer {\r\n    \r\n    \t@Autowired\r\n    \tprivate JobBuilderFactory jobs;\r\n    \r\n    \t@Autowired\r\n    \tprivate StepBuilderFactory steps;\r\n    \r\n    \t@Bean\r\n    \tprotected Tasklet tasklet() {\r\n    \r\n    \t\treturn new Tasklet() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic RepeatStatus execute(StepContribution contribution, ChunkContext context) {\r\n    \t\t\t\treturn RepeatStatus.FINISHED;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Job job() throws Exception {\r\n    \t\treturn this.jobs.get(&quot;job&quot;).start(step1()).build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tprotected Step step1() throws Exception {\r\n    \t\treturn this.steps.get(&quot;step1&quot;).tasklet(tasklet()).build();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t//System.exit(SpringApplication.exit(SpringApplication.run(DemoApplication.class, args)));\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }","title":"Spring-Batch without persisting metadata to database?","body":"<p>After reading all the answers provided I got it working. I used mix of membersound and Aure77 solution. I found out there was no need to override setDataSource method. DefaultBatchConfigurer automatically takes care of PlatformTransactionManager and DataSource is not required. Please note I am using Spring boot 2.0.3.RELEASE.\nFollowing is the method I used</p>\n\n<pre><code>@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\n@EnableBatchProcessing\npublic class DemoApplication extends DefaultBatchConfigurer {\n\n    @Autowired\n    private JobBuilderFactory jobs;\n\n    @Autowired\n    private StepBuilderFactory steps;\n\n    @Bean\n    protected Tasklet tasklet() {\n\n        return new Tasklet() {\n            @Override\n            public RepeatStatus execute(StepContribution contribution, ChunkContext context) {\n                return RepeatStatus.FINISHED;\n            }\n        };\n    }\n\n    @Bean\n    public Job job() throws Exception {\n        return this.jobs.get(\"job\").start(step1()).build();\n    }\n\n    @Bean\n    protected Step step1() throws Exception {\n        return this.steps.get(\"step1\").tasklet(tasklet()).build();\n    }\n\n    public static void main(String[] args) throws Exception {\n        //System.exit(SpringApplication.exit(SpringApplication.run(DemoApplication.class, args)));\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6425988,"reputation":606,"user_id":4981126,"display_name":"bl4ckr0se"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1533136874,"creation_date":1533136874,"answer_id":51636996,"question_id":25077549,"body_markdown":"The simplest of all is add an embedded database to classpath. \r\nNaturally in production is not recommended but if you&#39;re using it to learn, save time.\r\n\r\nAdd to your pom.xml the embedded H2 database dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThat&#39;s all.","title":"Spring-Batch without persisting metadata to database?","body":"<p>The simplest of all is add an embedded database to classpath. \nNaturally in production is not recommended but if you're using it to learn, save time.</p>\n\n<p>Add to your pom.xml the embedded H2 database dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>That's all.</p>\n"},{"tags":[],"owner":{"account_id":8374880,"reputation":715,"user_id":6288659,"display_name":"rv.comm"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576853583,"creation_date":1576853583,"answer_id":59427207,"question_id":25077549,"body_markdown":"Following changes can be made to use the Spring Batch without having to create spring batch related metadata database structures.\r\n\r\nThis worked for me:\r\n\r\n1. Added bean of type `ResourcelessTransactionManager` and configured `MapJobRepositoryFactoryBean`. \r\n2. Using the configured bean `MapJobRepositoryFactoryBean` created a `SimpleJoblauncher` bean. \r\n3. Added annotation `@EnableBatchProcessing` below `@SpringBootApplication`. \r\n4. To override the defaults I had to add `spring.main.allow-bean-definition-overriding=true` in `application.properties`. ","title":"Spring-Batch without persisting metadata to database?","body":"<p>Following changes can be made to use the Spring Batch without having to create spring batch related metadata database structures.</p>\n\n<p>This worked for me:</p>\n\n<ol>\n<li>Added bean of type <code>ResourcelessTransactionManager</code> and configured <code>MapJobRepositoryFactoryBean</code>. </li>\n<li>Using the configured bean <code>MapJobRepositoryFactoryBean</code> created a <code>SimpleJoblauncher</code> bean. </li>\n<li>Added annotation <code>@EnableBatchProcessing</code> below <code>@SpringBootApplication</code>. </li>\n<li>To override the defaults I had to add <code>spring.main.allow-bean-definition-overriding=true</code> in <code>application.properties</code>. </li>\n</ol>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113532,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":43742074,"answer_count":10,"score":65,"last_activity_date":1682119425,"creation_date":1406886919,"question_id":25077549,"body_markdown":"I want to create a `spring-batch` job, but I want to run it without any database persistence. Unfortunately spring-batch requires to write `metadata` ob the job cycles to a database somehow, thus procing me to provide at least some kind of db with transactionmanager and entitymanager.\r\n\r\nIt it possible to prevent the metadata and run independently from txmanagers and databases?\r\n\r\n\r\nUpdate:\r\n\r\n    ERROR org.springframework.batch.core.job.AbstractJob: Encountered fatal error executing job\r\n    java.lang.NullPointerException\r\n    \tat org.springframework.batch.core.repository.dao.MapJobExecutionDao.synchronizeStatus(MapJobExecutionDao.java:158) ~[spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\r\n    \tat org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:161) ~[spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_51]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_51]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_51]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_51]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98) ~[spring-tx-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262) ~[spring-tx-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95) ~[spring-tx-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat com.sun.proxy.$Proxy134.update(Unknown Source) ~[?:?]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_51]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_51]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_51]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_51]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) ~[spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat com.sun.proxy.$Proxy134.update(Unknown Source) ~[?:?]\r\n    \tat org.springframework.batch.core.job.AbstractJob.updateStatus(AbstractJob.java:416) ~[spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\r\n    \tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:299) [spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135) [spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\r\n    \tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128) [spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_51]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_51]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_51]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_51]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat com.sun.proxy.$Proxy50.run(Unknown Source) [?:?]","title":"Spring-Batch without persisting metadata to database?","body":"<p>I want to create a <code>spring-batch</code> job, but I want to run it without any database persistence. Unfortunately spring-batch requires to write <code>metadata</code> ob the job cycles to a database somehow, thus procing me to provide at least some kind of db with transactionmanager and entitymanager.</p>\n\n<p>It it possible to prevent the metadata and run independently from txmanagers and databases?</p>\n\n<p>Update:</p>\n\n<pre><code>ERROR org.springframework.batch.core.job.AbstractJob: Encountered fatal error executing job\njava.lang.NullPointerException\n    at org.springframework.batch.core.repository.dao.MapJobExecutionDao.synchronizeStatus(MapJobExecutionDao.java:158) ~[spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:161) ~[spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_51]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_51]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_51]\n    at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_51]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98) ~[spring-tx-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262) ~[spring-tx-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95) ~[spring-tx-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at com.sun.proxy.$Proxy134.update(Unknown Source) ~[?:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_51]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_51]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_51]\n    at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_51]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) ~[spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) ~[spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at com.sun.proxy.$Proxy134.update(Unknown Source) ~[?:?]\n    at org.springframework.batch.core.job.AbstractJob.updateStatus(AbstractJob.java:416) ~[spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:299) [spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135) [spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128) [spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_51]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_51]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_51]\n    at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_51]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-3.0.1.RELEASE.jar:3.0.1.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) [spring-aop-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at com.sun.proxy.$Proxy50.run(Unknown Source) [?:?]\n</code></pre>\n"},{"tags":["java","visual-studio-code","javac","vscode-code-runner"],"answers":[{"tags":[],"owner":{"account_id":4791465,"reputation":7961,"user_id":3870547,"display_name":"zmag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575350763,"creation_date":1575350763,"answer_id":59150646,"question_id":55130565,"body_markdown":"VS Code doesn&#39;t recognize whether system environment variable is changed or not until reboot your system.\r\n\r\nOr if **Run as administrator** VS code, your command line in VS Code works properly .","title":"Visual Studio Code javac cannot be found or is written wrong","body":"<p>VS Code doesn't recognize whether system environment variable is changed or not until reboot your system.</p>\n\n<p>Or if <strong>Run as administrator</strong> VS code, your command line in VS Code works properly .</p>\n"}],"owner":{"account_id":15507315,"reputation":652,"user_id":11187104,"display_name":"Dimitri Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1325,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682117667,"creation_date":1552424379,"question_id":55130565,"body_markdown":"I wanted to know how I can solve this issue. I changed the environment variables to the JDK version I have installed and can check within the command line with `javac -version` if it is installed and it says yes. \r\n\r\nNow I don&#39;t know how I can fix this problem I changed the json.file in file &gt; preferences &gt; settings. Or in the file settings and inserted `&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.2`&quot;, when I downloaded all the extensions visible in the picture below.\r\n\r\nHow can I fix this to output code with the Code Runner extension? \r\n\r\n[Visual studio code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9lzXY.png","title":"Visual Studio Code javac cannot be found or is written wrong","body":"<p>I wanted to know how I can solve this issue. I changed the environment variables to the JDK version I have installed and can check within the command line with <code>javac -version</code> if it is installed and it says yes.</p>\n<p>Now I don't know how I can fix this problem I changed the json.file in file &gt; preferences &gt; settings. Or in the file settings and inserted <code>&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.2</code>&quot;, when I downloaded all the extensions visible in the picture below.</p>\n<p>How can I fix this to output code with the Code Runner extension?</p>\n<p><a href=\"https://i.stack.imgur.com/9lzXY.png\" rel=\"nofollow noreferrer\">Visual studio code</a></p>\n"},{"tags":["java","spring-security","jwt","spring-resource-server"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1678361388,"post_id":75682243,"comment_id":133519226,"body_markdown":"Can you please post your `jwtToUserConverter` alts&#229; please post your full debug logs","body":"Can you please post your <code>jwtToUserConverter</code> alts&#229; please post your full debug logs"},{"owner":{"account_id":27972420,"reputation":21,"user_id":21361894,"display_name":"lilpipehit"},"score":0,"creation_date":1678365863,"post_id":75682243,"comment_id":133520512,"body_markdown":"Also added partial debug log for when I pass an empty token, no space to add the full log.","body":"Also added partial debug log for when I pass an empty token, no space to add the full log."},{"owner":{"account_id":10605946,"reputation":116,"user_id":7811351,"display_name":"Hoxtygen"},"score":0,"creation_date":1687723633,"post_id":75682243,"comment_id":134972886,"body_markdown":"Started learning Java this year, been on implementing expired jwt for weeks no luck. Everything I&#39;ve tried seems to have something missing. Your implementation helped me out. Thanks.","body":"Started learning Java this year, been on implementing expired jwt for weeks no luck. Everything I&#39;ve tried seems to have something missing. Your implementation helped me out. Thanks."},{"owner":{"account_id":27972420,"reputation":21,"user_id":21361894,"display_name":"lilpipehit"},"score":0,"creation_date":1690588376,"post_id":75682243,"comment_id":135379292,"body_markdown":"That&#39;s awesome, glad to be of help, you&#39;re welcome!","body":"That&#39;s awesome, glad to be of help, you&#39;re welcome!"}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678370427,"creation_date":1678370427,"answer_id":75685635,"question_id":75682243,"body_markdown":"Based on your logs, the `BearerAuthenticationEntryPoint` is being called from [the line 77][1]:\r\n\r\n```\r\nat org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.lambda$new$0(BearerTokenAuthenticationFilter.java:77)\r\n```\r\n\r\nThis is the `authenticationFailureHandler` field, which then invokes the `AuthenticationEntryPoint`. If I&#39;m not mistaken, the `oauth2ResourceServer` DSL does not uses the same `AuthenticationEntryPoint` from `exceptionHandling()`, therefore you have to explicitly configure it, like so:\r\n\r\n```java\r\nhttp\r\n\t// ...\r\n\t.oauth2ResourceServer((oauth2) -&gt; oauth2\r\n\t\t.jwt((jwt) -&gt; jwt.jwtAuthenticationConverter(jwtToUserConverter))\r\n        .authenticationEntryPoint(new CustomAuthenticationEntryPoint())\r\n\t);\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/8c17b978c881fb0df3961cbc7f4a01c6f97deede/oauth2/oauth2-resource-server/src/main/java/org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter.java#L77","title":"Why isn&#39;t my CustomAuthenticationEntryPoint commence method getting called for invalid or expired JWT tokens in Java?","body":"<p>Based on your logs, the <code>BearerAuthenticationEntryPoint</code> is being called from <a href=\"https://github.com/spring-projects/spring-security/blob/8c17b978c881fb0df3961cbc7f4a01c6f97deede/oauth2/oauth2-resource-server/src/main/java/org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter.java#L77\" rel=\"nofollow noreferrer\">the line 77</a>:</p>\n<pre><code>at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.lambda$new$0(BearerTokenAuthenticationFilter.java:77)\n</code></pre>\n<p>This is the <code>authenticationFailureHandler</code> field, which then invokes the <code>AuthenticationEntryPoint</code>. If I'm not mistaken, the <code>oauth2ResourceServer</code> DSL does not uses the same <code>AuthenticationEntryPoint</code> from <code>exceptionHandling()</code>, therefore you have to explicitly configure it, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    // ...\n    .oauth2ResourceServer((oauth2) -&gt; oauth2\n        .jwt((jwt) -&gt; jwt.jwtAuthenticationConverter(jwtToUserConverter))\n        .authenticationEntryPoint(new CustomAuthenticationEntryPoint())\n    );\n</code></pre>\n"}],"owner":{"account_id":27972420,"reputation":21,"user_id":21361894,"display_name":"lilpipehit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75685635,"answer_count":1,"score":2,"last_activity_date":1682117171,"creation_date":1678351713,"question_id":75682243,"body_markdown":"Why doesn&#39;t this commence method get called for when jwt token is invalid or expired? It gets called for when the token is empty. Weird thing is that while debugging I found out that the BearerTokenAuthenticationEntryPoint.commence() method is being called when token is invalid or expired. And this class is part of standard java library and is final so cannot be extended. But it implements the same interface that I implemment - AuthenticationEntryPoint, still my commence method doesn&#39;t get called. It only gets called when token is empty.\r\n\r\n```\r\npublic class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n  public CustomAuthenticationEntryPoint() {\r\n  }\r\n\r\n  @Override\r\n  public void commence(HttpServletRequest httpServletRequest, HttpServletResponse response, AuthenticationException authenticationException) throws IOException {\r\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n    HttpStatus status = HttpStatus.UNAUTHORIZED;\r\n\r\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n    body.put(&quot;status&quot;, status.name());\r\n    body.put(&quot;statusCode&quot;, status.value());\r\n    body.put(&quot;message&quot;, &quot;You need to login first in order to perform this action&quot;);\r\n\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    mapper.writeValue(response.getOutputStream(), body);\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m using it like this:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n            .authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll() \r\n                .requestMatchers(&quot;/api/v1/admin/**&quot;).hasAuthority(Authority.ADMIN.name())\r\n                .anyRequest().authenticated()\r\n            )\r\n        .csrf().disable()\r\n        .cors().disable()\r\n        .httpBasic().disable()\r\n        .oauth2ResourceServer((oauth2) -&gt;\r\n            oauth2.jwt((jwt) -&gt; jwt.jwtAuthenticationConverter(jwtToUserConverter))\r\n        )\r\n        .sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n        .exceptionHandling((exceptions) -&gt; exceptions\r\n            .authenticationEntryPoint(new CustomAuthenticationEntryPoint())\r\n            .accessDeniedHandler(new CustomAccessDeniedHandler())\r\n        );\r\n    return http.build();\r\n}\r\n```\r\n\r\nI tried implementing AuthenticationEntryPoint and expected that my commence() method would be called when the token is invalid or expired. But my commence() method isn&#39;t called, instead BearerTokenAuthenticationEntryPoint.commence() method is being called.\r\n\r\nHere&#39;s my JwtToUserConverter:\r\n\r\n\r\n    @Component\r\n    public class JwtToUserConverter implements Converter&lt;Jwt, UsernamePasswordAuthenticationToken&gt; {\r\n        @Override\r\n        public UsernamePasswordAuthenticationToken convert(Jwt jwt) {\r\n            // extract user information from the JWT\r\n            String username = jwt.getSubject();\r\n            List&lt;LinkedTreeMap&gt; authoritiesList = jwt.getClaim(&quot;authorities&quot;);\r\n    \r\n            // create a collection of SimpleGrantedAuthority objects\r\n            Collection&lt;SimpleGrantedAuthority&gt; grantedAuthorities = authoritiesList.stream()\r\n                .map(authority -&gt; new SimpleGrantedAuthority((String) authority.get(&quot;role&quot;)))\r\n                .collect(Collectors.toList());\r\n    \r\n            // create the UsernamePasswordAuthenticationToken\r\n            return new UsernamePasswordAuthenticationToken(username, null, grantedAuthorities);\r\n        }\r\n    \r\n    }\r\n\r\nHere&#39;s the full debug log for when I pass an invalid token:\r\n\r\n    &quot;http-nio-4983-exec-2@10996&quot; daemon prio=5 tid=0x1b nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \t  at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationEntryPoint.commence(BearerTokenAuthenticationEntryPoint.java:63)\r\n    \t  at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.lambda$new$0(BearerTokenAuthenticationFilter.java:77)\r\n    \t  at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter$$Lambda$1321/0x00000008014cfaf8.commence(Unknown Source:-1)\r\n    \t  at org.springframework.security.web.authentication.AuthenticationEntryPointFailureHandler.onAuthenticationFailure(AuthenticationEntryPointFailureHandler.java:55)\r\n    \t  at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:150)\r\n    \t  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \t  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \t  at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n    \t  at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n    \t  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \t  at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \t  at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \t  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \t  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \t  at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n    \t  at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n    \t  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \t  at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n    \t  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \t  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \t  at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \t  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \t  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \t  at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n    \t  at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n    \t  at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n    \t  at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n    \t  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \t  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \t  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \t  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \t  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \t  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \t  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \t  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \t  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \t  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \t  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \t  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \t  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \t  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \t  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n    \t  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \t  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \t  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    \t  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \t  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \t  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \t  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n    \t  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \t  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\r\n    \t  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\r\n    \t  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-1@10995&quot; daemon prio=5 tid=0x1a nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-3@10997&quot; daemon prio=5 tid=0x1c nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-4@10998&quot; daemon prio=5 tid=0x1d nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-5@10999&quot; daemon prio=5 tid=0x1e nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-6@11000&quot; daemon prio=5 tid=0x1f nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-7@11001&quot; daemon prio=5 tid=0x20 nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-8@11002&quot; daemon prio=5 tid=0x21 nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-9@11003&quot; daemon prio=5 tid=0x22 nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-exec-10@11004&quot; daemon prio=5 tid=0x23 nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\r\n    \t  at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    \t  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;Catalina-utility-1@5848&quot; prio=1 tid=0x15 nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n    \t  at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n    \t  at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n    \t  at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\r\n    \t  at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;Catalina-utility-2@5847&quot; prio=1 tid=0x16 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n    \t  at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n    \t  at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \t  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;HikariPool-1 housekeeper@7166&quot; daemon prio=5 tid=0x18 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \t  at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\r\n    \t  at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n    \t  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n    \t  at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n    \t  at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n    \t  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-Poller@11046&quot; daemon prio=5 tid=0x24 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \t  at sun.nio.ch.WEPoll.wait(WEPoll.java:-1)\r\n    \t  at sun.nio.ch.WEPollSelectorImpl.doSelect(WEPollSelectorImpl.java:111)\r\n    \t  at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:129)\r\n    \t  - locked &lt;0x2c5f&gt; (a sun.nio.ch.WEPollSelectorImpl)\r\n    \t  - locked &lt;0x2c60&gt; (a sun.nio.ch.Util$2)\r\n    \t  at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\r\n    \t  at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:751)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;http-nio-4983-Acceptor@11048&quot; daemon prio=5 tid=0x25 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \t  at sun.nio.ch.Net.accept(Net.java:-1)\r\n    \t  at sun.nio.ch.ServerSocketChannelImpl.implAccept(ServerSocketChannelImpl.java:425)\r\n    \t  at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:391)\r\n    \t  at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:520)\r\n    \t  at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:79)\r\n    \t  at org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:128)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \r\n    &quot;Common-Cleaner@11356&quot; daemon prio=8 tid=0xc nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at java.lang.Object.wait(Object.java:-1)\r\n    \t  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\r\n    \t  at jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:140)\r\n    \t  at java.lang.Thread.run(Thread.java:833)\r\n    \t  at jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:162)\r\n    \r\n    &quot;container-0@5846&quot; prio=5 tid=0x17 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \t  at java.lang.Thread.sleep(Thread.java:-1)\r\n    \t  at org.apache.catalina.core.StandardServer.await(StandardServer.java:562)\r\n    \t  at org.springframework.boot.web.embedded.tomcat.TomcatWebServer$1.run(TomcatWebServer.java:197)\r\n    \r\n    &quot;Reference Handler@11352&quot; daemon prio=10 tid=0x2 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \t  at java.lang.ref.Reference.waitForReferencePendingList(Reference.java:-1)\r\n    \t  at java.lang.ref.Reference.processPendingReferences(Reference.java:253)\r\n    \t  at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:215)\r\n    \r\n    &quot;Finalizer@11353&quot; daemon prio=8 tid=0x3 nid=NA waiting\r\n      java.lang.Thread.State: WAITING\r\n    \t  at java.lang.Object.wait(Object.java:-1)\r\n    \t  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\r\n    \t  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:176)\r\n    \t  at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:172)\r\n    \r\n    &quot;Signal Dispatcher@11354&quot; daemon prio=9 tid=0x4 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Attach Listener@11355&quot; daemon prio=5 tid=0x5 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Notification Thread@727&quot; daemon prio=9 tid=0x10 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;DestroyJavaVM@11045&quot; prio=5 tid=0x26 nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n\r\nAnd here&#39;s partial debug log for when I pass an empty token:\r\n\r\n    &quot;http-nio-4983-exec-3@10997&quot; daemon prio=5 tid=0x1c nid=NA runnable\r\n      java.lang.Thread.State: RUNNABLE\r\n    \t  at com.onlineshop.main.config.security.exceptions.CustomAuthenticationEntryPoint.commence(CustomAuthenticationEntryPoint.java:21)\r\n    \t  at org.springframework.security.web.access.ExceptionTranslationFilter.sendStartAuthentication(ExceptionTranslationFilter.java:219)\r\n    \t  at org.springframework.security.web.access.ExceptionTranslationFilter.handleAccessDeniedException(ExceptionTranslationFilter.java:197)\r\n    \t  at org.springframework.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException(ExceptionTranslationFilter.java:178)\r\n    \t  at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:147)\r\n    \t  at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n    \t  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)","title":"Why isn&#39;t my CustomAuthenticationEntryPoint commence method getting called for invalid or expired JWT tokens in Java?","body":"<p>Why doesn't this commence method get called for when jwt token is invalid or expired? It gets called for when the token is empty. Weird thing is that while debugging I found out that the BearerTokenAuthenticationEntryPoint.commence() method is being called when token is invalid or expired. And this class is part of standard java library and is final so cannot be extended. But it implements the same interface that I implemment - AuthenticationEntryPoint, still my commence method doesn't get called. It only gets called when token is empty.</p>\n<pre><code>public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\n  public CustomAuthenticationEntryPoint() {\n  }\n\n  @Override\n  public void commence(HttpServletRequest httpServletRequest, HttpServletResponse response, AuthenticationException authenticationException) throws IOException {\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n    HttpStatus status = HttpStatus.UNAUTHORIZED;\n\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n    body.put(&quot;status&quot;, status.name());\n    body.put(&quot;statusCode&quot;, status.value());\n    body.put(&quot;message&quot;, &quot;You need to login first in order to perform this action&quot;);\n\n    final ObjectMapper mapper = new ObjectMapper();\n    mapper.writeValue(response.getOutputStream(), body);\n  }\n}\n</code></pre>\n<p>I'm using it like this:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests((authorize) -&gt; authorize\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll() \n                .requestMatchers(&quot;/api/v1/admin/**&quot;).hasAuthority(Authority.ADMIN.name())\n                .anyRequest().authenticated()\n            )\n        .csrf().disable()\n        .cors().disable()\n        .httpBasic().disable()\n        .oauth2ResourceServer((oauth2) -&gt;\n            oauth2.jwt((jwt) -&gt; jwt.jwtAuthenticationConverter(jwtToUserConverter))\n        )\n        .sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n        .exceptionHandling((exceptions) -&gt; exceptions\n            .authenticationEntryPoint(new CustomAuthenticationEntryPoint())\n            .accessDeniedHandler(new CustomAccessDeniedHandler())\n        );\n    return http.build();\n}\n</code></pre>\n<p>I tried implementing AuthenticationEntryPoint and expected that my commence() method would be called when the token is invalid or expired. But my commence() method isn't called, instead BearerTokenAuthenticationEntryPoint.commence() method is being called.</p>\n<p>Here's my JwtToUserConverter:</p>\n<pre><code>@Component\npublic class JwtToUserConverter implements Converter&lt;Jwt, UsernamePasswordAuthenticationToken&gt; {\n    @Override\n    public UsernamePasswordAuthenticationToken convert(Jwt jwt) {\n        // extract user information from the JWT\n        String username = jwt.getSubject();\n        List&lt;LinkedTreeMap&gt; authoritiesList = jwt.getClaim(&quot;authorities&quot;);\n\n        // create a collection of SimpleGrantedAuthority objects\n        Collection&lt;SimpleGrantedAuthority&gt; grantedAuthorities = authoritiesList.stream()\n            .map(authority -&gt; new SimpleGrantedAuthority((String) authority.get(&quot;role&quot;)))\n            .collect(Collectors.toList());\n\n        // create the UsernamePasswordAuthenticationToken\n        return new UsernamePasswordAuthenticationToken(username, null, grantedAuthorities);\n    }\n\n}\n</code></pre>\n<p>Here's the full debug log for when I pass an invalid token:</p>\n<pre><code>&quot;http-nio-4983-exec-2@10996&quot; daemon prio=5 tid=0x1b nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationEntryPoint.commence(BearerTokenAuthenticationEntryPoint.java:63)\n      at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.lambda$new$0(BearerTokenAuthenticationFilter.java:77)\n      at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter$$Lambda$1321/0x00000008014cfaf8.commence(Unknown Source:-1)\n      at org.springframework.security.web.authentication.AuthenticationEntryPointFailureHandler.onAuthenticationFailure(AuthenticationEntryPointFailureHandler.java:55)\n      at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:150)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n      at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n      at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n      at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n      at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n      at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n      at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n      at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n      at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n      at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n      at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n      at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n      at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n      at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n      at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n      at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n      at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\n      at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n      at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\n      at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\n      at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-1@10995&quot; daemon prio=5 tid=0x1a nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-3@10997&quot; daemon prio=5 tid=0x1c nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-4@10998&quot; daemon prio=5 tid=0x1d nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-5@10999&quot; daemon prio=5 tid=0x1e nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-6@11000&quot; daemon prio=5 tid=0x1f nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-7@11001&quot; daemon prio=5 tid=0x20 nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-8@11002&quot; daemon prio=5 tid=0x21 nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-9@11003&quot; daemon prio=5 tid=0x22 nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-exec-10@11004&quot; daemon prio=5 tid=0x23 nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:117)\n      at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;Catalina-utility-1@5848&quot; prio=1 tid=0x15 nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n      at java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n      at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n      at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;Catalina-utility-2@5847&quot; prio=1 tid=0x16 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n      at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;HikariPool-1 housekeeper@7166&quot; daemon prio=5 tid=0x18 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at jdk.internal.misc.Unsafe.park(Unsafe.java:-1)\n      at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n      at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-Poller@11046&quot; daemon prio=5 tid=0x24 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at sun.nio.ch.WEPoll.wait(WEPoll.java:-1)\n      at sun.nio.ch.WEPollSelectorImpl.doSelect(WEPollSelectorImpl.java:111)\n      at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:129)\n      - locked &lt;0x2c5f&gt; (a sun.nio.ch.WEPollSelectorImpl)\n      - locked &lt;0x2c60&gt; (a sun.nio.ch.Util$2)\n      at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\n      at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:751)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;http-nio-4983-Acceptor@11048&quot; daemon prio=5 tid=0x25 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at sun.nio.ch.Net.accept(Net.java:-1)\n      at sun.nio.ch.ServerSocketChannelImpl.implAccept(ServerSocketChannelImpl.java:425)\n      at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:391)\n      at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:520)\n      at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:79)\n      at org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:128)\n      at java.lang.Thread.run(Thread.java:833)\n\n&quot;Common-Cleaner@11356&quot; daemon prio=8 tid=0xc nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at java.lang.Object.wait(Object.java:-1)\n      at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\n      at jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:140)\n      at java.lang.Thread.run(Thread.java:833)\n      at jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:162)\n\n&quot;container-0@5846&quot; prio=5 tid=0x17 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at java.lang.Thread.sleep(Thread.java:-1)\n      at org.apache.catalina.core.StandardServer.await(StandardServer.java:562)\n      at org.springframework.boot.web.embedded.tomcat.TomcatWebServer$1.run(TomcatWebServer.java:197)\n\n&quot;Reference Handler@11352&quot; daemon prio=10 tid=0x2 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at java.lang.ref.Reference.waitForReferencePendingList(Reference.java:-1)\n      at java.lang.ref.Reference.processPendingReferences(Reference.java:253)\n      at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:215)\n\n&quot;Finalizer@11353&quot; daemon prio=8 tid=0x3 nid=NA waiting\n  java.lang.Thread.State: WAITING\n      at java.lang.Object.wait(Object.java:-1)\n      at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\n      at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:176)\n      at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:172)\n\n&quot;Signal Dispatcher@11354&quot; daemon prio=9 tid=0x4 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n\n&quot;Attach Listener@11355&quot; daemon prio=5 tid=0x5 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n\n&quot;Notification Thread@727&quot; daemon prio=9 tid=0x10 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n\n&quot;DestroyJavaVM@11045&quot; prio=5 tid=0x26 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n</code></pre>\n<p>And here's partial debug log for when I pass an empty token:</p>\n<pre><code>&quot;http-nio-4983-exec-3@10997&quot; daemon prio=5 tid=0x1c nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at com.onlineshop.main.config.security.exceptions.CustomAuthenticationEntryPoint.commence(CustomAuthenticationEntryPoint.java:21)\n      at org.springframework.security.web.access.ExceptionTranslationFilter.sendStartAuthentication(ExceptionTranslationFilter.java:219)\n      at org.springframework.security.web.access.ExceptionTranslationFilter.handleAccessDeniedException(ExceptionTranslationFilter.java:197)\n      at org.springframework.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException(ExceptionTranslationFilter.java:178)\n      at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:147)\n      at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n</code></pre>\n"},{"tags":["java","mysql","arraylist","jtable"],"comments":[{"owner":{"account_id":4962182,"reputation":650,"user_id":3992894,"display_name":"Michael McKay"},"score":0,"creation_date":1513102882,"post_id":47774209,"comment_id":82519390,"body_markdown":"Is the issue saving the data or providing a better user experience? Your solution to saving the data is correct as far as I can see - in your button action listener, you need to loop over the data in the table and add each row to the database.  See https://docs.oracle.com/javase/8/docs/api/javax/swing/table/DefaultTableModel.html#getDataVector--","body":"Is the issue saving the data or providing a better user experience? Your solution to saving the data is correct as far as I can see - in your button action listener, you need to loop over the data in the table and add each row to the database.  See <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/table/DefaultTableModel.html#getDataVector--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/swing/table/&hellip;</a>"},{"owner":{"account_id":10420505,"reputation":31,"user_id":7683295,"accept_rate":60,"display_name":"Sky Mage"},"score":0,"creation_date":1513154563,"post_id":47774209,"comment_id":82538492,"body_markdown":"It&#39;s providing better user experience. Because think about it, if you are going to add an exam in the table for that one candidate, and the moment you add the record, it&#39;s not there immediately (because you have to SAVE it in order for that record to be there the next time you look at this candidate&#39;s profile). I want the record to be seen in there my the user (however it is only saved temporary in an ArrayList). Once the user is ready with whatever candidate they are registering for an exam, they click &quot;Save&quot; and the data saved in the ArrayList are updated in the SQL database.","body":"It&#39;s providing better user experience. Because think about it, if you are going to add an exam in the table for that one candidate, and the moment you add the record, it&#39;s not there immediately (because you have to SAVE it in order for that record to be there the next time you look at this candidate&#39;s profile). I want the record to be seen in there my the user (however it is only saved temporary in an ArrayList). Once the user is ready with whatever candidate they are registering for an exam, they click &quot;Save&quot; and the data saved in the ArrayList are updated in the SQL database."}],"answers":[{"tags":[],"owner":{"account_id":4962182,"reputation":650,"user_id":3992894,"display_name":"Michael McKay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513180159,"creation_date":1513102491,"answer_id":47779051,"question_id":47774209,"body_markdown":"To improve the user experience, the data binding/operations in your tables needs to be seamless and should happen with as little user input as possible. Consider not using the save button but saving the data as soon as the row loses its focus.  To do this you will need a standard [MVC design][1] where the table row represents a view record, the cells are the view fields and a model provides a persistence layer or object for the data. In between, the controller manages the connection between the two. The key to making it seamless is the communications between these elements.\r\n\r\nUse the Swing events to capture UI changes and provide the communication.  See [How To Use Tables][2] for examples and ideas.  Using those ideas, you can see how a user change in one table, fired as an event, can be listened for/caught and used to update the data in the second table.  You can also see how to &quot;save&quot; the data in a row back to the database when the row selection changes or the row/table loses focus.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#modelchange","title":"Going to need some advice: I want to add and display objects in an ArrayList using jTable, then add these records to SQL database","body":"<p>To improve the user experience, the data binding/operations in your tables needs to be seamless and should happen with as little user input as possible. Consider not using the save button but saving the data as soon as the row loses its focus.  To do this you will need a standard <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">MVC design</a> where the table row represents a view record, the cells are the view fields and a model provides a persistence layer or object for the data. In between, the controller manages the connection between the two. The key to making it seamless is the communications between these elements.</p>\n\n<p>Use the Swing events to capture UI changes and provide the communication.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#modelchange\" rel=\"nofollow noreferrer\">How To Use Tables</a> for examples and ideas.  Using those ideas, you can see how a user change in one table, fired as an event, can be listened for/caught and used to update the data in the second table.  You can also see how to \"save\" the data in a row back to the database when the row selection changes or the row/table loses focus.</p>\n"}],"owner":{"account_id":10420505,"reputation":31,"user_id":7683295,"accept_rate":60,"display_name":"Sky Mage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682117120,"creation_date":1513086398,"question_id":47774209,"body_markdown":"Hello there fellow developers,\r\n\r\nI have a small issue here that I think I know how to solve, but I am not sure if this is the best way to go about it.\r\nI have a database with a couple of tables, though we are only concerned about 2 tables in here. One table is &quot;Candidate&quot; table and the other one is &quot;Exams&quot; table. Now, whenever I want to add a Candidate to the database, I need to fill his details. The Exams table is linked to that and every candidate has taken different exams at different times. However the record is created in both databases whenever I click &quot;Save&quot; button, but since the Exams table is in every candidate profile, whenever the user adds an exam entry for a particular student, it is not displayed.\r\n\r\nNow my solution is to add whatever exam records into an ArrayList and then show the results in jTable, and after &quot;Save&quot; is clicked, all of these records will be added to the database. I don&#39;t know if this is the perfect way to do this, but I am open to suggestions of how else can I do it. Note that for exams table I MUST have the Candidate_id, which will not exist if a record is not created by pressing &quot;Save&quot;. So in that case, I would create the student record and then add all of his examinations from the ArrayList to the database (as I have now a Candidate_id, which is my foreign key).\r\n\r\n&lt;!-- Paste the part of the code that shows the problem. (Please indent 4 spaces.) --&gt;\r\nOk here is this &quot;Save&quot; button functionality:\r\n\r\n    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {\r\n        mrdb.addCandidatesRecord (&quot;Candidates&quot;,txtFName.getText(), \r\n        txtMName.getText(),\r\n        txtLName.getText(),Integer.parseInt(txtAge.getText(),10), \r\n        Integer.parseInt(txtGrade.getText(), 10));\r\n        mrdb.addExamRecord(&quot;Exams&quot;, txtExam.getText(), \r\n        Integer.parseInt(ExamNumber.getText(),10), txtDateTime.getText());\r\n    }\r\nAnyway, you can see I have an object of &quot;mrdb&quot; which is a class that I made to manage everything that has to do with MySQL database, but my problem here is not the database, it&#39;s the &quot;front end&quot;. So here is the confusing bit for me. How do I use just an ArrayList and to show records in jTable? So i have started writing this code, and that&#39;s in my GUI class just below of the code block I showed above. \r\n\r\n    private class examinations{\r\n        private int id;\r\n        private int candidate_id;\r\n        private String date;\r\n        private String exam;\r\n        private String examNumber;\r\n\r\n        public examinations(int id, int student_id, String date, String exam, String examNumber) {\r\n            this.id = id;\r\n            this.student_id = student_id;\r\n            this.date = date;\r\n            this.exam= exam;\r\n            this.examNumber= examNumber;\r\n        }\r\n    \r\n        public ArrayList ListExams(){\r\n            ArrayList&lt;exams&gt; list = new ArrayList&lt;exams&gt;();\r\n        \r\n            return list;\r\n        }\r\n    \r\n        public void addRollToTable(){\r\n            DefaultTableModel model = (DefaultTableModel)tableExams.getModel();\r\n            ArrayList&lt;exams&gt; list = ListExams();\r\n            Object rowData[] = new Object[5];\r\n            for(int i = 0; i &lt; list.size(); i++) {\r\n                rowData[0] = list.get(i).id;\r\n                rowData[1] = list.get(i).student_id;\r\n                rowData[2] = list.get(i).date;\r\n                rowData[3] = list.get(i).exam;\r\n                rowData[4] = list.get(i).examNumber;\r\n\r\n                model.addRow(rowData);\r\n            }\r\n        }\r\n    }\r\n\r\nUnfortunately as you can see, the array here isn&#39;t really dynamic. It&#39;s array of objects, but I can only put limited amount (so I am gonna have to assume that for each candidate, the school should be able to add an x number of exams (i.e. ALL of the exams), and deal with the overhead. **Is there another way to do this more dynamically?**\r\nAnd I guess, once those are added, then all I have to do is pull all of those objects out of the array, and use PreparedStatement and add them in the database once the &quot;Save&quot; button is clicked, Correct? Here is the method that I was calling earlier with my mrdb object.\r\n\r\n    public void addExamRecord(String tableName,String exam,\r\n        String examNumber, String date){\r\n        String sql = &quot;INSERT INTO &quot; + tableName + &quot;(candidate_id, date,&quot;+\r\n                    &quot;exam, number_Exam) &quot;+\r\n                    &quot;VALUES(?,?,?,?)&quot;;\r\n        try{ \r\n            prepSTMT= conn.prepareStatement(sql);\r\n            prepSTMT.setInt(1, getCandidate_id()); // create the candidate record, in order to get the candidate_id\r\n            prepSTMT.setString(2, exam);\r\n            prepSTMT.setString(3, examNumber);\r\n            prepSTMT.setDate(4, java.sql.Date.valueOf(date));\r\n            prepSTMT.executeUpdate();\r\n        }catch(SQLException e){\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }   \r\n    }\r\n\r\nIf you have any questions for more code, just say, but the problem here is again, most of all, how do I create the illusion of the user adding things to the database, but the records being added by only them clicking one button &quot;Save&quot;?","title":"Going to need some advice: I want to add and display objects in an ArrayList using jTable, then add these records to SQL database","body":"<p>Hello there fellow developers,</p>\n<p>I have a small issue here that I think I know how to solve, but I am not sure if this is the best way to go about it.\nI have a database with a couple of tables, though we are only concerned about 2 tables in here. One table is &quot;Candidate&quot; table and the other one is &quot;Exams&quot; table. Now, whenever I want to add a Candidate to the database, I need to fill his details. The Exams table is linked to that and every candidate has taken different exams at different times. However the record is created in both databases whenever I click &quot;Save&quot; button, but since the Exams table is in every candidate profile, whenever the user adds an exam entry for a particular student, it is not displayed.</p>\n<p>Now my solution is to add whatever exam records into an ArrayList and then show the results in jTable, and after &quot;Save&quot; is clicked, all of these records will be added to the database. I don't know if this is the perfect way to do this, but I am open to suggestions of how else can I do it. Note that for exams table I MUST have the Candidate_id, which will not exist if a record is not created by pressing &quot;Save&quot;. So in that case, I would create the student record and then add all of his examinations from the ArrayList to the database (as I have now a Candidate_id, which is my foreign key).</p>\n\n<p>Ok here is this &quot;Save&quot; button functionality:</p>\n<pre><code>private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {\n    mrdb.addCandidatesRecord (&quot;Candidates&quot;,txtFName.getText(), \n    txtMName.getText(),\n    txtLName.getText(),Integer.parseInt(txtAge.getText(),10), \n    Integer.parseInt(txtGrade.getText(), 10));\n    mrdb.addExamRecord(&quot;Exams&quot;, txtExam.getText(), \n    Integer.parseInt(ExamNumber.getText(),10), txtDateTime.getText());\n}\n</code></pre>\n<p>Anyway, you can see I have an object of &quot;mrdb&quot; which is a class that I made to manage everything that has to do with MySQL database, but my problem here is not the database, it's the &quot;front end&quot;. So here is the confusing bit for me. How do I use just an ArrayList and to show records in jTable? So i have started writing this code, and that's in my GUI class just below of the code block I showed above.</p>\n<pre><code>private class examinations{\n    private int id;\n    private int candidate_id;\n    private String date;\n    private String exam;\n    private String examNumber;\n\n    public examinations(int id, int student_id, String date, String exam, String examNumber) {\n        this.id = id;\n        this.student_id = student_id;\n        this.date = date;\n        this.exam= exam;\n        this.examNumber= examNumber;\n    }\n\n    public ArrayList ListExams(){\n        ArrayList&lt;exams&gt; list = new ArrayList&lt;exams&gt;();\n    \n        return list;\n    }\n\n    public void addRollToTable(){\n        DefaultTableModel model = (DefaultTableModel)tableExams.getModel();\n        ArrayList&lt;exams&gt; list = ListExams();\n        Object rowData[] = new Object[5];\n        for(int i = 0; i &lt; list.size(); i++) {\n            rowData[0] = list.get(i).id;\n            rowData[1] = list.get(i).student_id;\n            rowData[2] = list.get(i).date;\n            rowData[3] = list.get(i).exam;\n            rowData[4] = list.get(i).examNumber;\n\n            model.addRow(rowData);\n        }\n    }\n}\n</code></pre>\n<p>Unfortunately as you can see, the array here isn't really dynamic. It's array of objects, but I can only put limited amount (so I am gonna have to assume that for each candidate, the school should be able to add an x number of exams (i.e. ALL of the exams), and deal with the overhead. <strong>Is there another way to do this more dynamically?</strong>\nAnd I guess, once those are added, then all I have to do is pull all of those objects out of the array, and use PreparedStatement and add them in the database once the &quot;Save&quot; button is clicked, Correct? Here is the method that I was calling earlier with my mrdb object.</p>\n<pre><code>public void addExamRecord(String tableName,String exam,\n    String examNumber, String date){\n    String sql = &quot;INSERT INTO &quot; + tableName + &quot;(candidate_id, date,&quot;+\n                &quot;exam, number_Exam) &quot;+\n                &quot;VALUES(?,?,?,?)&quot;;\n    try{ \n        prepSTMT= conn.prepareStatement(sql);\n        prepSTMT.setInt(1, getCandidate_id()); // create the candidate record, in order to get the candidate_id\n        prepSTMT.setString(2, exam);\n        prepSTMT.setString(3, examNumber);\n        prepSTMT.setDate(4, java.sql.Date.valueOf(date));\n        prepSTMT.executeUpdate();\n    }catch(SQLException e){\n        JOptionPane.showMessageDialog(null, e);\n    }   \n}\n</code></pre>\n<p>If you have any questions for more code, just say, but the problem here is again, most of all, how do I create the illusion of the user adding things to the database, but the records being added by only them clicking one button &quot;Save&quot;?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","csrf"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1678201180,"post_id":75663325,"comment_id":133484847,"body_markdown":"I&#39;m currently hitting the same kind of problem with an Angular front-end trying to trigger the gateway logout. What kind of front-end are you using?","body":"I&#39;m currently hitting the same kind of problem with an Angular front-end trying to trigger the gateway logout. What kind of front-end are you using?"},{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1678201458,"post_id":75663325,"comment_id":133484933,"body_markdown":"Currently I&#39;m using postman to test but in production I have a react frontend which is still not integrated","body":"Currently I&#39;m using postman to test but in production I have a react frontend which is still not integrated"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678210083,"creation_date":1678210083,"answer_id":75665337,"question_id":75663325,"body_markdown":"You are obviously just beginning your journey to CSRF configuration. I recommand you start with the [Spring documentation][1]. Like really. Read it carefully even before the rest of this answer.\r\n\r\nThe REST API(s) behind the gateway can probably be configured as &quot;stateless&quot; (`http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)` in a servlet or `http.securityContextRepository(NoOpServerSecurityContextRepository.getInstance())` in a reactive app) and, as a consequence, CSRF protection can be disabled on it (`http.csrf().disable()`). You then configure Postman with OAuth2 authorization and query the API directly (not through the gateway).\r\n\r\nDepending on your React frontend being configured as an OAuth2 public client or the gateway as a **B**ackend **F**or **F**rontend (OAuth2 confidential client with `TokenRelay` filter), the needs for CSRF protection are quite different:\r\n- in the first case, the gateway can be transparent to security and, as it handles neither login nor logout (both are done by the OAuth2 client lib in React app), nor anything related to user session, CSRF is not a concern\r\n- in the second case, the gateway has to maintain sessions for authorization-code flow to succeed and for the `TokenRelay` filter to work (keep OAuth2 tokens associated with each browser session). As a consequence, CSRF must be enabled and, as your app is Javascript based, with Cookie repo (`http.csrf().csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse());` on a reactive application like `spring-cloud-gateway`). You&#39;ll then have to configure your frontend to send the CSRF token (received as cookie) as `X-XSRF-TOKEN` header (same requirement for Postman if you want to send requests through the gateway instead of querying the API(s) directly).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/reactive/exploits/csrf.html","title":"How to generate and pass CSRF token for a route in spring cloud gateway with Spring Security","body":"<p>You are obviously just beginning your journey to CSRF configuration. I recommand you start with the <a href=\"https://docs.spring.io/spring-security/reference/reactive/exploits/csrf.html\" rel=\"nofollow noreferrer\">Spring documentation</a>. Like really. Read it carefully even before the rest of this answer.</p>\n<p>The REST API(s) behind the gateway can probably be configured as &quot;stateless&quot; (<code>http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</code> in a servlet or <code>http.securityContextRepository(NoOpServerSecurityContextRepository.getInstance())</code> in a reactive app) and, as a consequence, CSRF protection can be disabled on it (<code>http.csrf().disable()</code>). You then configure Postman with OAuth2 authorization and query the API directly (not through the gateway).</p>\n<p>Depending on your React frontend being configured as an OAuth2 public client or the gateway as a <strong>B</strong>ackend <strong>F</strong>or <strong>F</strong>rontend (OAuth2 confidential client with <code>TokenRelay</code> filter), the needs for CSRF protection are quite different:</p>\n<ul>\n<li>in the first case, the gateway can be transparent to security and, as it handles neither login nor logout (both are done by the OAuth2 client lib in React app), nor anything related to user session, CSRF is not a concern</li>\n<li>in the second case, the gateway has to maintain sessions for authorization-code flow to succeed and for the <code>TokenRelay</code> filter to work (keep OAuth2 tokens associated with each browser session). As a consequence, CSRF must be enabled and, as your app is Javascript based, with Cookie repo (<code>http.csrf().csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse());</code> on a reactive application like <code>spring-cloud-gateway</code>). You'll then have to configure your frontend to send the CSRF token (received as cookie) as <code>X-XSRF-TOKEN</code> header (same requirement for Postman if you want to send requests through the gateway instead of querying the API(s) directly).</li>\n</ul>\n"}],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75665337,"answer_count":1,"score":0,"last_activity_date":1682117039,"creation_date":1678199661,"question_id":75663325,"body_markdown":"I&#39;m trying to implement Oauth2 based authentication using `Okta`, `Spring Cloud Gateway` &amp; `Spring Security`. The objective that I want to achieve is I want a route of spring cloud gateway to be available for all without any authentication. I know spring cloud gateway uses `WebFlux`. So according to that only I&#39;m configuring Spring Security.  I have three routes in spring cloud gateway. \r\n\r\n- /auth\r\n- /doctors\r\n- /patients\r\n\r\nI want any of these `/auth/**` routes should be available to all because here my users signup so I can not put authentication there. For the other two `/doctors/**` and `/patients/**` I want authentication and Authorisation. In the `SecurityConfig` in cloud gateway I&#39;m trying to achieve the same. Currently I have made this config:\r\n\r\n```java\r\n    package com.sb.projects.medica.gateway.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\r\n    import org.springframework.security.config.web.server.ServerHttpSecurity;\r\n    import org.springframework.security.web.server.SecurityWebFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\r\n            httpSecurity.authorizeExchange(exchanges -&gt; {\r\n                exchanges.pathMatchers(&quot;/doctor/**&quot;, &quot;/patient/**&quot;).authenticated();\r\n                exchanges.pathMatchers(&quot;/auth/**&quot;).permitAll();\r\n            }).oauth2Client().and().oauth2ResourceServer().jwt();\r\n            return httpSecurity.build();\r\n        }\r\n    }\r\n```\r\n\r\nBut it does not seem to work. When I try to hit any route of `/auth/**` I get\r\n&gt; An expected CSRF token cannot be found\r\n\r\nHow can I solve this error. How can I create a csrf token and send it to frontend\r\n","title":"How to generate and pass CSRF token for a route in spring cloud gateway with Spring Security","body":"<p>I'm trying to implement Oauth2 based authentication using <code>Okta</code>, <code>Spring Cloud Gateway</code> &amp; <code>Spring Security</code>. The objective that I want to achieve is I want a route of spring cloud gateway to be available for all without any authentication. I know spring cloud gateway uses <code>WebFlux</code>. So according to that only I'm configuring Spring Security.  I have three routes in spring cloud gateway.</p>\n<ul>\n<li>/auth</li>\n<li>/doctors</li>\n<li>/patients</li>\n</ul>\n<p>I want any of these <code>/auth/**</code> routes should be available to all because here my users signup so I can not put authentication there. For the other two <code>/doctors/**</code> and <code>/patients/**</code> I want authentication and Authorisation. In the <code>SecurityConfig</code> in cloud gateway I'm trying to achieve the same. Currently I have made this config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.sb.projects.medica.gateway.config;\n    \n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\n    import org.springframework.security.config.web.server.ServerHttpSecurity;\n    import org.springframework.security.web.server.SecurityWebFilterChain;\n    \n    @Configuration\n    @EnableWebFluxSecurity\n    public class SecurityConfig {\n        @Bean\n        public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\n            httpSecurity.authorizeExchange(exchanges -&gt; {\n                exchanges.pathMatchers(&quot;/doctor/**&quot;, &quot;/patient/**&quot;).authenticated();\n                exchanges.pathMatchers(&quot;/auth/**&quot;).permitAll();\n            }).oauth2Client().and().oauth2ResourceServer().jwt();\n            return httpSecurity.build();\n        }\n    }\n</code></pre>\n<p>But it does not seem to work. When I try to hit any route of <code>/auth/**</code> I get</p>\n<blockquote>\n<p>An expected CSRF token cannot be found</p>\n</blockquote>\n<p>How can I solve this error. How can I create a csrf token and send it to frontend</p>\n"},{"tags":["java","spring-boot","spring-authorization-server","oauth-2.1"],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678252519,"creation_date":1678252519,"answer_id":75669639,"question_id":75580624,"body_markdown":"Endpoint to revoke [localhost:9000/oauth2/revoke][1]\r\n\r\nWe can pass either access/refresh token.\r\n\r\n    curl --location &#39;localhost:9000/oauth2/revoke&#39; \\\r\n    --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n    --header &#39;Cookie: JSESSIONID=42ABBC9357A174FB206AAE7EAD3C0228&#39; \\\r\n    --data-urlencode &#39;token=eyJraWQiOiIwMWNjNWNjNi04YmQ0LTRjOTctYTZhZi01ZWY0Zjg5ZWY1YmIiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJiMjZhOTU5Yy0yYzA2LTQ0ODctYjNiNS1jYjNiNWYzODZmYTUiLCJhdWQiOiIxIiwibmJmIjoxNjc3OTQwMjk2LCJzY29wZSI6WyJyZWFkIl0sInJvbGVzIjpbIlJPTEVfQURNSU4iXSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo5MDAwIiwiZXhwIjoxNjc3OTQwNTk2LCJpYXQiOjE2Nzc5NDAyOTZ9.ib1sDlAryine5rhBhq38_MCiNWDQeiDJpH7auXRKAuumi4lcDNb9jPFwlD2NcJyHYeCfGAaTG0KJTBg_FJTVcL579kxjwCawUT6TMRdK2QLVLE0IawDSg3j-GUGcpjdyyTvyg5y9Tdv_22NOcWega4ZguXLjhIGH-Fk7nVrApz5ARlAXoafg-09i_LMVDvs6T30xHD11xvWdx3QubiYUV_fzfbK6vNdE1mXzqXBA9hcf7u1HNVgUmzMQI97_y92Svp3DtVFc-v8bhn7hiBcFjERI7hxL57m-0RK0Qne0pvqcge7sb-OXB84F14EP8m2ic3eWwnJ1IjED5-OF0isW_Q&#39; \\\r\n    --data-urlencode &#39;client_id=1&#39; \\\r\n    --data-urlencode &#39;client_secret=Thirumal&#39;\r\n\r\n\r\n  [1]: https://localhost:9000/oauth2/revoke","title":"How to revoke oauth2.1 token in spring boot new authorization server?","body":"<p>Endpoint to revoke <a href=\"https://localhost:9000/oauth2/revoke\" rel=\"nofollow noreferrer\">localhost:9000/oauth2/revoke</a></p>\n<p>We can pass either access/refresh token.</p>\n<pre><code>curl --location 'localhost:9000/oauth2/revoke' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--header 'Cookie: JSESSIONID=42ABBC9357A174FB206AAE7EAD3C0228' \\\n--data-urlencode 'token=eyJraWQiOiIwMWNjNWNjNi04YmQ0LTRjOTctYTZhZi01ZWY0Zjg5ZWY1YmIiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJiMjZhOTU5Yy0yYzA2LTQ0ODctYjNiNS1jYjNiNWYzODZmYTUiLCJhdWQiOiIxIiwibmJmIjoxNjc3OTQwMjk2LCJzY29wZSI6WyJyZWFkIl0sInJvbGVzIjpbIlJPTEVfQURNSU4iXSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo5MDAwIiwiZXhwIjoxNjc3OTQwNTk2LCJpYXQiOjE2Nzc5NDAyOTZ9.ib1sDlAryine5rhBhq38_MCiNWDQeiDJpH7auXRKAuumi4lcDNb9jPFwlD2NcJyHYeCfGAaTG0KJTBg_FJTVcL579kxjwCawUT6TMRdK2QLVLE0IawDSg3j-GUGcpjdyyTvyg5y9Tdv_22NOcWega4ZguXLjhIGH-Fk7nVrApz5ARlAXoafg-09i_LMVDvs6T30xHD11xvWdx3QubiYUV_fzfbK6vNdE1mXzqXBA9hcf7u1HNVgUmzMQI97_y92Svp3DtVFc-v8bhn7hiBcFjERI7hxL57m-0RK0Qne0pvqcge7sb-OXB84F14EP8m2ic3eWwnJ1IjED5-OF0isW_Q' \\\n--data-urlencode 'client_id=1' \\\n--data-urlencode 'client_secret=Thirumal'\n</code></pre>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75669639,"answer_count":1,"score":0,"last_activity_date":1682116743,"creation_date":1677501717,"question_id":75580624,"body_markdown":"How to revoke the oAuth2 token in the spring boot new authorization server?\r\n\r\nAlso, where can we find all the endpoints of the authorization server?\r\n[https://github.com/spring-projects/spring-authorization-server][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-authorization-server","title":"How to revoke oauth2.1 token in spring boot new authorization server?","body":"<p>How to revoke the oAuth2 token in the spring boot new authorization server?</p>\n<p>Also, where can we find all the endpoints of the authorization server?\n<a href=\"https://github.com/spring-projects/spring-authorization-server\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-authorization-server</a></p>\n"},{"tags":["java","maven","visual-studio-code","vscode-code-runner"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1614831258,"post_id":66468029,"comment_id":117506583,"body_markdown":"What&#39;s the full command on the line starting with `[Running]`?","body":"What&#39;s the full command on the line starting with <code>[Running]</code>?"},{"owner":{"account_id":17352941,"reputation":3,"user_id":12571016,"display_name":"Seifert Han"},"score":0,"creation_date":1614843581,"post_id":66468029,"comment_id":117509704,"body_markdown":"@tgdavies Code Runner is an extension(or so-called &quot;plugin&quot;) for VSCode. Theoretically, it supports over 40 program languages includes JAVA and can run the user&#39;s programs only by using the mouse&#39;s left button to choose &quot;Run Code&quot; without typing any command. Please consider the introduction and reference about it as follow link: [link](https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner)","body":"@tgdavies Code Runner is an extension(or so-called &quot;plugin&quot;) for VSCode. Theoretically, it supports over 40 program languages includes JAVA and can run the user&#39;s programs only by using the mouse&#39;s left button to choose &quot;Run Code&quot; without typing any command. Please consider the introduction and reference about it as follow link: <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1614845081,"post_id":66468029,"comment_id":117510304,"body_markdown":"If you look at your screenshot, you&#39;ll see that the first line of the output appears to be a command that Code Runner has generated to run your program. There must be something about that command which causes the error message you are getting, but without seeing the command we can&#39;t tell what it is.","body":"If you look at your screenshot, you&#39;ll see that the first line of the output appears to be a command that Code Runner has generated to run your program. There must be something about that command which causes the error message you are getting, but without seeing the command we can&#39;t tell what it is."},{"owner":{"account_id":17352941,"reputation":3,"user_id":12571016,"display_name":"Seifert Han"},"score":0,"creation_date":1614849460,"post_id":66468029,"comment_id":117512368,"body_markdown":"@tgdavies Thank you for the mention. The whole message of the first line of the output is &quot;[Running] cd &quot;/Users/seiferthan/Dropbox/macAirCoding101/JAVA/Jave8Maven/learnjava8/src/main/java/org/seifert/learnjava8/ch3/&quot; &amp;&amp; javac UsingNumber.java &amp;&amp; java UsingNumber\n&quot;.","body":"@tgdavies Thank you for the mention. The whole message of the first line of the output is &quot;[Running] cd &quot;/Users/seiferthan/Dropbox/macAirCoding101/JAVA/Jave8Maven/l&zwnj;&#8203;earnjava8/src/main/j&zwnj;&#8203;ava/org/seifert/lear&zwnj;&#8203;njava8/ch3/&quot; &amp;&amp; javac UsingNumber.java &amp;&amp; java UsingNumber &quot;."}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614909618,"creation_date":1614909618,"answer_id":66485693,"question_id":66468029,"body_markdown":"The error occurs because it must be called with its fully qualified name.  To be clear, the name of this class is not `hello`, It&#39;s `org.seifert.learnjava8.hello`. I create a simple maven project, so the right execution command is:\r\n1. Turn to the folder java: `cd src\\main\\java`\r\n2. Compile the .java file: `javac org\\seifert\\learnjava8\\hello.java`\r\n3. Run the java file: `java org.seifert.learnjava8.hello`\r\n[![enter image description here][1]][1]\r\n \r\nWhen it comes to run the java file by Code Runner, the execution commands is \r\n\r\n    &quot;code-runner.executorMap&quot;:{\r\n        &quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\r\n    }\r\n\r\nThe `$dir` represents the direct path to current opened file, and the `javac` and `java` command doesn&#39;t include the package to be compiled together, then caused the error:\r\n[![enter image description here][2]][2]\r\n\r\nSo the **solution** is turning to the settings and edit the `&quot;code-runner.executorMap&quot;`:\r\n\r\n    &quot;code-runner.executorMap&quot;:{\r\n            &quot;java&quot;: &quot;cd /users/seiferthan/.../src/main/java &amp;&amp; javac org/seifert/learnjava8/$fileName &amp;&amp; java org.seifert.learnjava8.$fileNameWithoutExt&quot;,\r\n        }\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mEeyK.png\r\n  [2]: https://i.stack.imgur.com/clrkf.png\r\n  [3]: https://i.stack.imgur.com/oVquL.png","title":"Show &quot;java.lang.NoClassDefFoundError&quot; (with Maven) when using &quot;Code Runner&quot;","body":"<p>The error occurs because it must be called with its fully qualified name.  To be clear, the name of this class is not <code>hello</code>, It's <code>org.seifert.learnjava8.hello</code>. I create a simple maven project, so the right execution command is:</p>\n<ol>\n<li>Turn to the folder java: <code>cd src\\main\\java</code></li>\n<li>Compile the .java file: <code>javac org\\seifert\\learnjava8\\hello.java</code></li>\n<li>Run the java file: <code>java org.seifert.learnjava8.hello</code>\n<a href=\"https://i.stack.imgur.com/mEeyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mEeyK.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>When it comes to run the java file by Code Runner, the execution commands is</p>\n<pre><code>&quot;code-runner.executorMap&quot;:{\n    &quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\n}\n</code></pre>\n<p>The <code>$dir</code> represents the direct path to current opened file, and the <code>javac</code> and <code>java</code> command doesn't include the package to be compiled together, then caused the error:\n<a href=\"https://i.stack.imgur.com/clrkf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clrkf.png\" alt=\"enter image description here\" /></a></p>\n<p>So the <strong>solution</strong> is turning to the settings and edit the <code>&quot;code-runner.executorMap&quot;</code>:</p>\n<pre><code>&quot;code-runner.executorMap&quot;:{\n        &quot;java&quot;: &quot;cd /users/seiferthan/.../src/main/java &amp;&amp; javac org/seifert/learnjava8/$fileName &amp;&amp; java org.seifert.learnjava8.$fileNameWithoutExt&quot;,\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oVquL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oVquL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25824376,"reputation":11,"user_id":19562853,"display_name":"syedsadiquh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657995260,"creation_date":1657993399,"answer_id":73006425,"question_id":66468029,"body_markdown":"The error is because of it isn&#39;t called by its &quot;fully qualified name&quot;. The project has to be called as `hello.java` rather than simply `hello`. The execution command for your file should be:\r\n      `java &lt;directory in which your file lies&gt; hello.java` \r\n\r\nSo your error should have looked like this:\r\n[The error is shown in this picture][1].\r\nAnd if you use `.java` then, the problem can be solved as:\r\n[The solved program is in this picture][2]\r\n\r\nAs you mentioned you use code runner. Follow the steps:\r\n\r\n 1. Head over to the setting of your vscode and search for code runner and find \r\n\r\n&gt; Coderunner: Executor Map\r\n\r\n2. Click on &quot;Edit in settings.json&quot;\r\n[Settings page][3].\r\n\r\n3. Look for java as: [java in settings.json page][4]\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    &quot;code-runner.executorMap&quot;: {\r\n      &quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\r\n     }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n4. Just add `.java` at the end of the line inside the Double quotes WITHOUT ANY SPACE. Then, save it.\r\n\r\n\r\n&lt;!-- language: lang-JSON --&gt;\r\n\r\n    &quot;code-runner.executorMap&quot;: {\r\n            &quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt.java&quot;,\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n5. Now run your program. You are good to go!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jDFCe.jpg\r\n  [2]: https://i.stack.imgur.com/Bqrsn.jpg\r\n  [3]: https://i.stack.imgur.com/Xaaij.jpg\r\n  [4]: https://i.stack.imgur.com/zS0Wh.png","title":"Show &quot;java.lang.NoClassDefFoundError&quot; (with Maven) when using &quot;Code Runner&quot;","body":"<p>The error is because of it isn't called by its &quot;fully qualified name&quot;. The project has to be called as <code>hello.java</code> rather than simply <code>hello</code>. The execution command for your file should be:\n<code>java &lt;directory in which your file lies&gt; hello.java</code></p>\n<p>So your error should have looked like this:\n<a href=\"https://i.stack.imgur.com/jDFCe.jpg\" rel=\"nofollow noreferrer\">The error is shown in this picture</a>.\nAnd if you use <code>.java</code> then, the problem can be solved as:\n<a href=\"https://i.stack.imgur.com/Bqrsn.jpg\" rel=\"nofollow noreferrer\">The solved program is in this picture</a></p>\n<p>As you mentioned you use code runner. Follow the steps:</p>\n<ol>\n<li>Head over to the setting of your vscode and search for code runner and find</li>\n</ol>\n<blockquote>\n<p>Coderunner: Executor Map</p>\n</blockquote>\n<ol start=\"2\">\n<li><p>Click on &quot;Edit in settings.json&quot;\n<a href=\"https://i.stack.imgur.com/Xaaij.jpg\" rel=\"nofollow noreferrer\">Settings page</a>.</p>\n</li>\n<li><p>Look for java as: <a href=\"https://i.stack.imgur.com/zS0Wh.png\" rel=\"nofollow noreferrer\">java in settings.json page</a></p>\n</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;code-runner.executorMap&quot;: {\n  &quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\n }\n</code></pre>\n\n<ol start=\"4\">\n<li>Just add <code>.java</code> at the end of the line inside the Double quotes WITHOUT ANY SPACE. Then, save it.</li>\n</ol>\n<pre class=\"lang-JSON prettyprint-override\"><code>&quot;code-runner.executorMap&quot;: {\n        &quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt.java&quot;,\n}\n</code></pre>\n\n<ol start=\"5\">\n<li>Now run your program. You are good to go!</li>\n</ol>\n"}],"owner":{"account_id":17352941,"reputation":3,"user_id":12571016,"display_name":"Seifert Han"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66485693,"answer_count":2,"score":0,"last_activity_date":1682116722,"creation_date":1614827489,"question_id":66468029,"body_markdown":"I am using VS Code with Maven to learn Java (my javac -version is 11.0.10) under macOS Big Sur.\r\n\r\nIt is ok when I run the code in the terminal by using &quot;RUN,&quot; which show on the list of VS Code. However, it always shows the error &quot;Could Not Find Or Load Main Class&quot;(actually in Chinese &quot;找不到或無法載入主要類別 hello&quot;) and the reason &quot;java.lang.NoClassDefFoundError: org/seifert/learnjava8/hello (wrong name: hello)&quot;.\r\n\r\nAs you can see, the .java file is just a straightforward one to show&quot;hello world.&quot;\r\n[the whole screen image here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eZxos.png\r\n\r\nHad anyone who uses Code Runner met this problem before? How can I resolve this?","title":"Show &quot;java.lang.NoClassDefFoundError&quot; (with Maven) when using &quot;Code Runner&quot;","body":"<p>I am using VS Code with Maven to learn Java (my javac -version is 11.0.10) under macOS Big Sur.</p>\n<p>It is ok when I run the code in the terminal by using &quot;RUN,&quot; which show on the list of VS Code. However, it always shows the error &quot;Could Not Find Or Load Main Class&quot;(actually in Chinese &quot;找不到或無法載入主要類別 hello&quot;) and the reason &quot;java.lang.NoClassDefFoundError: org/seifert/learnjava8/hello (wrong name: hello)&quot;.</p>\n<p>As you can see, the .java file is just a straightforward one to show&quot;hello world.&quot;\n<a href=\"https://i.stack.imgur.com/eZxos.png\" rel=\"nofollow noreferrer\">the whole screen image here</a></p>\n<p>Had anyone who uses Code Runner met this problem before? How can I resolve this?</p>\n"},{"tags":["java","maven","jar","ant","checksum"],"comments":[{"owner":{"account_id":18020055,"reputation":481,"user_id":13097536,"display_name":"L&#234; Ho&#224;ng Dững"},"score":1,"creation_date":1595922674,"post_id":63129294,"comment_id":111633599,"body_markdown":"Does this answer your question? [Can I add jars to maven 2 build classpath without installing them?](https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them\">Can I add jars to maven 2 build classpath without installing them?</a>"},{"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"score":0,"creation_date":1595928351,"post_id":63129294,"comment_id":111636257,"body_markdown":"Hey thanks for sharing , i am exploring this option","body":"Hey thanks for sharing , i am exploring this option"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1595924382,"creation_date":1595924382,"answer_id":63129849,"question_id":63129294,"body_markdown":"If you really want to update the project, I would take these 25 jars and look in MavenCentral if there any version of them.\r\n\r\nSo if you just find `junit.jar` in your directory, add a reasonably new version of junit.\r\n\r\nOf course, this might break things that need to be repaired, but in going forward, it is better to rely on official, new artifacts.\r\n\r\nIf this is not possible for some artifacts, add them to your company Nexus/Artifactory if you have one.","title":"How to get jar versions - checksum method and manifest file not giving version","body":"<p>If you really want to update the project, I would take these 25 jars and look in MavenCentral if there any version of them.</p>\n<p>So if you just find <code>junit.jar</code> in your directory, add a reasonably new version of junit.</p>\n<p>Of course, this might break things that need to be repaired, but in going forward, it is better to rely on official, new artifacts.</p>\n<p>If this is not possible for some artifacts, add them to your company Nexus/Artifactory if you have one.</p>\n"}],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63129849,"answer_count":1,"score":1,"last_activity_date":1682116117,"creation_date":1595922350,"question_id":63129294,"body_markdown":"I am working on a legacy app and its in Ant build. Now we are moving it from Ant to Maven which requires dependency config of jar files in pom.xml.\r\nThere are some 60 jars for which I need to generate this info. I have tried below 2 methods for getting jar versions:\r\n\r\n 1. generate jar checksum and check the corresponding jar on [https://search.maven.org/][1] using checksum \r\n 2. generate manifest file of jar and check **implementation-version** or **bundle-version** and find out the jar dependency details through the version found.\r\n\r\nThis has worked for most of jars, but there are some 25 jars for which none of above methods are working. \r\n\r\nChecksum is generated for all but for these remaining jars, checksum doesn&#39;t give anything on [https://search.maven.org/][1] \r\n\r\nAnd for some, no version detail is there in manifest file. \r\n\r\nPlease let me know how to proceed with this, I am stuck here now. I don&#39;t know what can work here for such jars.\r\n\r\nEven if I find no details for some jars, what can be way to still include them in my pom file - is there a way or not? If not, can I simply keep them as jars only instead configuring in pom? \r\n","title":"How to get jar versions - checksum method and manifest file not giving version","body":"<p>I am working on a legacy app and its in Ant build. Now we are moving it from Ant to Maven which requires dependency config of jar files in pom.xml.\nThere are some 60 jars for which I need to generate this info. I have tried below 2 methods for getting jar versions:</p>\n<ol>\n<li>generate jar checksum and check the corresponding jar on [https://search.maven.org/][1] using checksum</li>\n<li>generate manifest file of jar and check <strong>implementation-version</strong> or <strong>bundle-version</strong> and find out the jar dependency details through the version found.</li>\n</ol>\n<p>This has worked for most of jars, but there are some 25 jars for which none of above methods are working.</p>\n<p>Checksum is generated for all but for these remaining jars, checksum doesn't give anything on [https://search.maven.org/][1]</p>\n<p>And for some, no version detail is there in manifest file.</p>\n<p>Please let me know how to proceed with this, I am stuck here now. I don't know what can work here for such jars.</p>\n<p>Even if I find no details for some jars, what can be way to still include them in my pom file - is there a way or not? If not, can I simply keep them as jars only instead configuring in pom?</p>\n"},{"tags":["java","spring-security","oauth-2.0"],"owner":{"account_id":285469,"reputation":637,"user_id":584154,"accept_rate":50,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682115175,"creation_date":1681823971,"question_id":76045120,"body_markdown":"\r\nI am trying to implement role based authorization using Spring security 6 and Google for authentication. Though the solution works for endpoint (`/authnz/user`) configured for any authorized user but fails for the endpoint (`/authnz/super/payments`)in which the user should have a given role ( e.g ROLE=&#39;SUPER&#39;). \r\nFor the testing purpose I have created a `UserDetailsService`  where the system  always return the user who has the ROLE=SUPER\r\n\r\nI tried the answer provided here https://stackoverflow.com/a/72392539/584154 but it didn&#39;t work for me.\r\n\r\nBelow is my configuration class \r\n```\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http, UserDetailsService userDetailsService) throws Exception {\r\n\t\thttp.authorizeHttpRequests((authorizeHttpRequests) -&gt;\r\n\t\t\t\tauthorizeHttpRequests\r\n\t\t\t\t\t.requestMatchers(&quot;/authnz/super/**&quot;).hasRole(&quot;SUPER&quot;)\r\n\t\t\t\t\t.requestMatchers(&quot;/authnz/**&quot;).authenticated()\r\n\t\t\t\t\t.anyRequest().permitAll() )\r\n\t\t\t.csrf(c -&gt; c.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()) )\r\n\t\t\t.exceptionHandling((e) -&gt;e.accessDeniedPage(&quot;/failure&quot;) )\r\n\t\t\t.logout(l -&gt; l.logoutSuccessUrl(&quot;/&quot;)\r\n\t\t\t\t\t.permitAll()\r\n\t\t\t\t\t.deleteCookies(&quot;JSESSIONID&quot;)\r\n\t\t\t\t\t.invalidateHttpSession(true) )\r\n\t\t\t.oauth2Login()\r\n\t\t\t.userInfoEndpoint()\r\n\t\t\t;\r\n\t\t DefaultSecurityFilterChain build = http.build();\r\n\t\t return build;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n\t    return authenticationConfiguration.getAuthenticationManager();\r\n\t}\r\n\t@Bean\r\n \tpublic UserDetailsService userDetailsService() {\r\n\t\tUserDetailsService svc = new MyUserDetailsService();\r\n\t\treturn svc;\r\n \t}\r\n\tprivate static class MyUserDetailsService implements UserDetailsService{\r\n\t\t@Override\r\n\t\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t\tSystem.out.println(&quot;load by username&quot;);\r\n\t\t\tUserDetails userDetails = User.builder().roles(&quot;SUPER&quot;).build();\r\n\t\t\treturn userDetails;\r\n\t\t}\r\n\t}\r\n```\r\nThe exception I am stuck at is `AccessDeniedException: Access Denied` with following snippet of trace:\r\n```\r\n2023-04-18T00:13:43.661-04:00 TRACE 8488 --- [nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4396eea6]\r\n2023-04-18T00:13:43.662-04:00 TRACE 8488 --- [nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4396eea6] using AuthorityAuthorizationManager[authorities=[ROLE_SUPER]]\r\n2023-04-18T00:13:43.662-04:00 TRACE 8488 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [1232323232], Granted Authorities: [[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{at_blah=jasdfkjadfkjadfda, sub=1232323232, email_verified=true, iss=https://accounts.google.com, given_name=nash, locale=en, nonce=ahajkfsioweurwpifaspoiofasaippo, picture=https://lh3.googleusercontent.com/a/euywuiyruiqyuiryqruiqy, aud=[blahblah.apps.googleusercontent.com], azp=blahblah.apps.googleusercontent.com, name=yada, exp=2023-04-18T05:13:29Z, family_name=blah, iat=2023-04-18T04:13:29Z, email=blash@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=hafdspowepo], Granted Authorities=[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]] from SPRING_SECURITY_CONTEXT\r\n2023-04-18T00:13:43.662-04:00 TRACE 8488 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2AuthenticationToken [Principal=Name: [1232323232], Granted Authorities: [[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{at_blah=jasdfkjadfkjadfda, sub=1232323232, email_verified=true, iss=https://accounts.google.com, given_name=nash, locale=en, nonce=ahajkfsioweurwpifaspoiofasaippo, picture=https://lh3.googleusercontent.com/a/euywuiyruiqyuiryqruiqy, aud=[blahblah.apps.googleusercontent.com], azp=blahblah.apps.googleusercontent.com, name=yada, exp=2023-04-18T05:13:29Z, family_name=blah, iat=2023-04-18T04:13:29Z, email=blash@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=hafdspowepo], Granted Authorities=[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]\r\n2023-04-18T00:13:43.662-04:00 TRACE 8488 --- [nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending OAuth2AuthenticationToken [Principal=Name: [1232323232], Granted Authorities: [[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{at_blah=jasdfkjadfkjadfda, sub=1232323232, email_verified=true, iss=https://accounts.google.com, given_name=nash, locale=en, nonce=ahajkfsioweurwpifaspoiofasaippo, picture=https://lh3.googleusercontent.com/a/euywuiyruiqyuiryqruiqy, aud=[blahblah.apps.googleusercontent.com], azp=blahblah.apps.googleusercontent.com, name=yada, exp=2023-04-18T05:13:29Z, family_name=blah, iat=2023-04-18T04:13:29Z, email=blash@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=hafdspowepo], Granted Authorities=[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]] to access denied handler since access is denied\r\n\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n```\r\nI have also checked in my code , at [github][1] if you want to give it a shot. \r\nJust edit the `client-id` and `client-secret`  in the `application.yml` file \r\n \r\n\r\n\r\n  [1]: https://github.com/nash-hash/aouth2","title":"can&#39;t get role based authorization working for spring security 6","body":"<p>I am trying to implement role based authorization using Spring security 6 and Google for authentication. Though the solution works for endpoint (<code>/authnz/user</code>) configured for any authorized user but fails for the endpoint (<code>/authnz/super/payments</code>)in which the user should have a given role ( e.g ROLE='SUPER').\nFor the testing purpose I have created a <code>UserDetailsService</code>  where the system  always return the user who has the ROLE=SUPER</p>\n<p>I tried the answer provided here <a href=\"https://stackoverflow.com/a/72392539/584154\">https://stackoverflow.com/a/72392539/584154</a> but it didn't work for me.</p>\n<p>Below is my configuration class</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, UserDetailsService userDetailsService) throws Exception {\n        http.authorizeHttpRequests((authorizeHttpRequests) -&gt;\n                authorizeHttpRequests\n                    .requestMatchers(&quot;/authnz/super/**&quot;).hasRole(&quot;SUPER&quot;)\n                    .requestMatchers(&quot;/authnz/**&quot;).authenticated()\n                    .anyRequest().permitAll() )\n            .csrf(c -&gt; c.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()) )\n            .exceptionHandling((e) -&gt;e.accessDeniedPage(&quot;/failure&quot;) )\n            .logout(l -&gt; l.logoutSuccessUrl(&quot;/&quot;)\n                    .permitAll()\n                    .deleteCookies(&quot;JSESSIONID&quot;)\n                    .invalidateHttpSession(true) )\n            .oauth2Login()\n            .userInfoEndpoint()\n            ;\n         DefaultSecurityFilterChain build = http.build();\n         return build;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetailsService svc = new MyUserDetailsService();\n        return svc;\n    }\n    private static class MyUserDetailsService implements UserDetailsService{\n        @Override\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n            System.out.println(&quot;load by username&quot;);\n            UserDetails userDetails = User.builder().roles(&quot;SUPER&quot;).build();\n            return userDetails;\n        }\n    }\n</code></pre>\n<p>The exception I am stuck at is <code>AccessDeniedException: Access Denied</code> with following snippet of trace:</p>\n<pre><code>2023-04-18T00:13:43.661-04:00 TRACE 8488 --- [nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4396eea6]\n2023-04-18T00:13:43.662-04:00 TRACE 8488 --- [nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4396eea6] using AuthorityAuthorizationManager[authorities=[ROLE_SUPER]]\n2023-04-18T00:13:43.662-04:00 TRACE 8488 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [1232323232], Granted Authorities: [[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{at_blah=jasdfkjadfkjadfda, sub=1232323232, email_verified=true, iss=https://accounts.google.com, given_name=nash, locale=en, nonce=ahajkfsioweurwpifaspoiofasaippo, picture=https://lh3.googleusercontent.com/a/euywuiyruiqyuiryqruiqy, aud=[blahblah.apps.googleusercontent.com], azp=blahblah.apps.googleusercontent.com, name=yada, exp=2023-04-18T05:13:29Z, family_name=blah, iat=2023-04-18T04:13:29Z, email=blash@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=hafdspowepo], Granted Authorities=[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]] from SPRING_SECURITY_CONTEXT\n2023-04-18T00:13:43.662-04:00 TRACE 8488 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2AuthenticationToken [Principal=Name: [1232323232], Granted Authorities: [[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{at_blah=jasdfkjadfkjadfda, sub=1232323232, email_verified=true, iss=https://accounts.google.com, given_name=nash, locale=en, nonce=ahajkfsioweurwpifaspoiofasaippo, picture=https://lh3.googleusercontent.com/a/euywuiyruiqyuiryqruiqy, aud=[blahblah.apps.googleusercontent.com], azp=blahblah.apps.googleusercontent.com, name=yada, exp=2023-04-18T05:13:29Z, family_name=blah, iat=2023-04-18T04:13:29Z, email=blash@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=hafdspowepo], Granted Authorities=[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]\n2023-04-18T00:13:43.662-04:00 TRACE 8488 --- [nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending OAuth2AuthenticationToken [Principal=Name: [1232323232], Granted Authorities: [[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{at_blah=jasdfkjadfkjadfda, sub=1232323232, email_verified=true, iss=https://accounts.google.com, given_name=nash, locale=en, nonce=ahajkfsioweurwpifaspoiofasaippo, picture=https://lh3.googleusercontent.com/a/euywuiyruiqyuiryqruiqy, aud=[blahblah.apps.googleusercontent.com], azp=blahblah.apps.googleusercontent.com, name=yada, exp=2023-04-18T05:13:29Z, family_name=blah, iat=2023-04-18T04:13:29Z, email=blash@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=hafdspowepo], Granted Authorities=[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]] to access denied handler since access is denied\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n</code></pre>\n<p>I have also checked in my code , at <a href=\"https://github.com/nash-hash/aouth2\" rel=\"nofollow noreferrer\">github</a> if you want to give it a shot.\nJust edit the <code>client-id</code> and <code>client-secret</code>  in the <code>application.yml</code> file</p>\n"},{"tags":["java","file-locking"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1682115509,"post_id":76076859,"comment_id":134170432,"body_markdown":"FileLock is delegated to the underlying operating system. I guess it prevents for other processes make a &quot;file lock violation&quot; situation. Bad news, Java cannot guarantee that FileLock works perfectly on a certain operating- and file system. Take a look at [Platform Dependencies](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileLock.html) section. And here is a [groundwork](https://stackoverflow.com/a/58871479/5043481) to test it.","body":"FileLock is delegated to the underlying operating system. I guess it prevents for other processes make a &quot;file lock violation&quot; situation. Bad news, Java cannot guarantee that FileLock works perfectly on a certain operating- and file system. Take a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileLock.html\" rel=\"nofollow noreferrer\">Platform Dependencies</a> section. And here is a <a href=\"https://stackoverflow.com/a/58871479/5043481\">groundwork</a> to test it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682116004,"post_id":76076859,"comment_id":134170486,"body_markdown":"[&quot;mapped byte buffer&quot;(random access file, nio channel)](https://stackoverflow.com/search?tab=votes&amp;q=Mappedbytebuffer&amp;searchOn=3) sounds promising...","body":"<a href=\"https://stackoverflow.com/search?tab=votes&amp;q=Mappedbytebuffer&amp;searchOn=3\">&quot;mapped byte buffer&quot;(random access file, nio channel)</a> sounds promising..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682117618,"post_id":76076859,"comment_id":134170647,"body_markdown":"I can’t tell from your wording whether a [shared lock](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/channels/FileChannel.html#tryLock(long,long,boolean)) an acceptable solution or not.","body":"I can’t tell from your wording whether a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/channels/FileChannel.html#tryLock(long,long,boolean)\" rel=\"nofollow noreferrer\">shared lock</a> an acceptable solution or not."},{"owner":{"account_id":28375224,"reputation":1,"user_id":21703387,"display_name":"Michael"},"score":0,"creation_date":1682168322,"post_id":76076859,"comment_id":134174698,"body_markdown":"I do know about FileLock, accessible via FileChannel. However, my needs go beyond that. I was hoping that I don&#39;t have to add some custom &quot;advisory&quot; sharing on top of the &quot;advisory&quot; locks provided by FileLock on linux, but rather get something that already exists.","body":"I do know about FileLock, accessible via FileChannel. However, my needs go beyond that. I was hoping that I don&#39;t have to add some custom &quot;advisory&quot; sharing on top of the &quot;advisory&quot; locks provided by FileLock on linux, but rather get something that already exists."},{"owner":{"account_id":28375224,"reputation":1,"user_id":21703387,"display_name":"Michael"},"score":0,"creation_date":1682168391,"post_id":76076859,"comment_id":134174707,"body_markdown":"How does MappedByteBuffer help me with sharing/locking?  I didn&#39;t see anything relevant in the API documentation.","body":"How does MappedByteBuffer help me with sharing/locking?  I didn&#39;t see anything relevant in the API documentation."}],"owner":{"account_id":28375224,"reputation":1,"user_id":21703387,"display_name":"Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682113855,"creation_date":1682113092,"question_id":76076859,"body_markdown":"I need to be able to have multiple processes accessing a single file such that there is at most one writer but potentially multiple readers that have the file open at the same time (enforced at file opening time). If the writer decides to update a certain byte range, the readers must not access that byte range until the writer is finished with its update.\r\n\r\nI can express the file level sharing in C# using FileAccess.ReadWrite/FileShare.Read when opening the file for writing and FileAccess.Read/FileShare.ReadWrite when opening the file for reading. This also disallows any further writers.\r\n\r\nByte ranges can then be temporarily locked for reading/updating using FileStream.Lock (or, as unfortunately shared locks are not available in the basic C# APIs, calling Window&#39;s system API function LockFileEx).\r\n\r\nIs there a way to express this behavior in Java (targeting linux) without resorting to introducing a separate lock file to manage file level sharing? \r\nI.e. how can I specify sharing when opening a file in Java and then perform separate locking on byte ranges?\r\n\r\nI did check various API documentation for RandomAccessFile and FileChannel. While I did find something about byte range locking, there does not appear to be anything about file sharing and access limitations for other processes accessing the same file.","title":"Java file sharing/byte range locking","body":"<p>I need to be able to have multiple processes accessing a single file such that there is at most one writer but potentially multiple readers that have the file open at the same time (enforced at file opening time). If the writer decides to update a certain byte range, the readers must not access that byte range until the writer is finished with its update.</p>\n<p>I can express the file level sharing in C# using FileAccess.ReadWrite/FileShare.Read when opening the file for writing and FileAccess.Read/FileShare.ReadWrite when opening the file for reading. This also disallows any further writers.</p>\n<p>Byte ranges can then be temporarily locked for reading/updating using FileStream.Lock (or, as unfortunately shared locks are not available in the basic C# APIs, calling Window's system API function LockFileEx).</p>\n<p>Is there a way to express this behavior in Java (targeting linux) without resorting to introducing a separate lock file to manage file level sharing?\nI.e. how can I specify sharing when opening a file in Java and then perform separate locking on byte ranges?</p>\n<p>I did check various API documentation for RandomAccessFile and FileChannel. While I did find something about byte range locking, there does not appear to be anything about file sharing and access limitations for other processes accessing the same file.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-kinesis"],"answers":[{"tags":[],"owner":{"account_id":3911664,"reputation":578,"user_id":3236794,"accept_rate":50,"display_name":"user3236794"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682110773,"creation_date":1682110773,"answer_id":76076667,"question_id":76076588,"body_markdown":"I figured it out. For some reason I was using `com.amazonaws.services.kinesis.model` and `software.amazon.awssdk.services.kinesis.model` in my project. I was using the  `KinesisClient` from one package and the `PutRecordRequest` from the other package. ","title":"Why isn&#39;t KenisisClient.putRecord() not accepting a valid PutRecordRequest","body":"<p>I figured it out. For some reason I was using <code>com.amazonaws.services.kinesis.model</code> and <code>software.amazon.awssdk.services.kinesis.model</code> in my project. I was using the  <code>KinesisClient</code> from one package and the <code>PutRecordRequest</code> from the other package.</p>\n"},{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682113674,"creation_date":1682112945,"answer_id":76076845,"question_id":76076588,"body_markdown":"To work with AWS Services and Java, best pratice is to use [AWS SDK for Java V2][1]. The package **software.amazon.awssdk.services.kinesis.model** is V2. You are using V1, which is not recommended as specified on this AWS Page: \r\n\r\n[AWS SDK Code Examples][2]\r\n\r\nThe full Java V2 code example for this operation is: \r\n\r\n        package com.example.kinesis;\r\n    \r\n    //snippet-start:[kinesis.java2.putrecord.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.SdkBytes;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.kinesis.KinesisClient;\r\n    import software.amazon.awssdk.services.kinesis.model.PutRecordRequest;\r\n    import software.amazon.awssdk.services.kinesis.model.KinesisException;\r\n    import software.amazon.awssdk.services.kinesis.model.DescribeStreamRequest;\r\n    import software.amazon.awssdk.services.kinesis.model.DescribeStreamResponse;\r\n    //snippet-end:[kinesis.java2.putrecord.import]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    public class StockTradesWriter {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;    &lt;streamName&gt;\\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;    streamName - The Amazon Kinesis data stream to which records are written (for example, StockTradeStream)\\n\\n&quot;;\r\n    \r\n                if (args.length != 1) {\r\n                    System.out.println(usage);\r\n                    System.exit(1);\r\n                }\r\n    \r\n                String streamName = args[0];\r\n                Region region = Region.US_EAST_1;\r\n                KinesisClient kinesisClient = KinesisClient.builder()\r\n                    .region(region)\r\n                    .credentialsProvider(ProfileCredentialsProvider.create())\r\n                    .build();\r\n    \r\n                // Ensure that the Kinesis Stream is valid.\r\n                validateStream(kinesisClient, streamName);\r\n                setStockData( kinesisClient, streamName);\r\n                kinesisClient.close();\r\n        }\r\n    \r\n        // snippet-start:[kinesis.java2.putrecord.main]\r\n        public static void setStockData( KinesisClient kinesisClient, String streamName) {\r\n    \r\n            try {\r\n                // Repeatedly send stock trades with a 100 milliseconds wait in between.\r\n                StockTradeGenerator stockTradeGenerator = new StockTradeGenerator();\r\n    \r\n                // Put in 50 Records for this example.\r\n                int index = 50;\r\n                for (int x=0; x&lt;index; x++){\r\n                    StockTrade trade = stockTradeGenerator.getRandomTrade();\r\n                    sendStockTrade(trade, kinesisClient, streamName);\r\n                    Thread.sleep(100);\r\n                }\r\n    \r\n            } catch (KinesisException | InterruptedException e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n    \r\n        private static void sendStockTrade(StockTrade trade, KinesisClient kinesisClient,\r\n                                           String streamName) {\r\n            byte[] bytes = trade.toJsonAsBytes();\r\n    \r\n            // The bytes could be null if there is an issue with the JSON serialization by the Jackson JSON library.\r\n            if (bytes == null) {\r\n                System.out.println(&quot;Could not get JSON bytes for stock trade&quot;);\r\n                return;\r\n            }\r\n    \r\n            System.out.println(&quot;Putting trade: &quot; + trade);\r\n            PutRecordRequest request = PutRecordRequest.builder()\r\n                .partitionKey(trade.getTickerSymbol()) // We use the ticker symbol as the partition key, explained in the Supplemental Information section below.\r\n                .streamName(streamName)\r\n                .data(SdkBytes.fromByteArray(bytes))\r\n                .build();\r\n    \r\n            try {\r\n                kinesisClient.putRecord(request);\r\n            } catch (KinesisException e) {\r\n                System.err.println(e.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void validateStream(KinesisClient kinesisClient, String streamName) {\r\n            try {\r\n                DescribeStreamRequest describeStreamRequest = DescribeStreamRequest.builder()\r\n                    .streamName(streamName)\r\n                    .build();\r\n    \r\n                DescribeStreamResponse describeStreamResponse = kinesisClient.describeStream(describeStreamRequest);\r\n    \r\n                if(!describeStreamResponse.streamDescription().streamStatus().toString().equals(&quot;ACTIVE&quot;)) {\r\n                    System.err.println(&quot;Stream &quot; + streamName + &quot; is not active. Please wait a few moments and try again.&quot;);\r\n                    System.exit(1);\r\n                }\r\n    \r\n            }catch (KinesisException e) {\r\n                System.err.println(&quot;Error found while describing the stream &quot; + streamName);\r\n                System.err.println(e);\r\n                System.exit(1);\r\n            }\r\n        }\r\n        // snippet-end:[kinesis.java2.putrecord.main]\r\n    }\r\n\r\nYou can find this AWS SDK for Java V2 example in the AWS Code Lib here: \r\n\r\n[Kinesis examples using SDK for Java 2.x][3]\r\n\r\nIf you prefer using Github, here is where all AWS Java V2 code examples are located:\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [2]: https://github.com/awsdocs/aws-doc-sdk-examples#aws-sdk-code-examples\r\n  [3]: https://docs.aws.amazon.com/code-library/latest/ug/java_2_kinesis_code_examples.html","title":"Why isn&#39;t KenisisClient.putRecord() not accepting a valid PutRecordRequest","body":"<p>To work with AWS Services and Java, best pratice is to use <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS SDK for Java V2</a>. The package <strong>software.amazon.awssdk.services.kinesis.model</strong> is V2. You are using V1, which is not recommended as specified on this AWS Page:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples#aws-sdk-code-examples\" rel=\"nofollow noreferrer\">AWS SDK Code Examples</a></p>\n<p>The full Java V2 code example for this operation is:</p>\n<pre><code>    package com.example.kinesis;\n\n//snippet-start:[kinesis.java2.putrecord.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.SdkBytes;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.kinesis.KinesisClient;\nimport software.amazon.awssdk.services.kinesis.model.PutRecordRequest;\nimport software.amazon.awssdk.services.kinesis.model.KinesisException;\nimport software.amazon.awssdk.services.kinesis.model.DescribeStreamRequest;\nimport software.amazon.awssdk.services.kinesis.model.DescribeStreamResponse;\n//snippet-end:[kinesis.java2.putrecord.import]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\npublic class StockTradesWriter {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;streamName&gt;\\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    streamName - The Amazon Kinesis data stream to which records are written (for example, StockTradeStream)\\n\\n&quot;;\n\n            if (args.length != 1) {\n                System.out.println(usage);\n                System.exit(1);\n            }\n\n            String streamName = args[0];\n            Region region = Region.US_EAST_1;\n            KinesisClient kinesisClient = KinesisClient.builder()\n                .region(region)\n                .credentialsProvider(ProfileCredentialsProvider.create())\n                .build();\n\n            // Ensure that the Kinesis Stream is valid.\n            validateStream(kinesisClient, streamName);\n            setStockData( kinesisClient, streamName);\n            kinesisClient.close();\n    }\n\n    // snippet-start:[kinesis.java2.putrecord.main]\n    public static void setStockData( KinesisClient kinesisClient, String streamName) {\n\n        try {\n            // Repeatedly send stock trades with a 100 milliseconds wait in between.\n            StockTradeGenerator stockTradeGenerator = new StockTradeGenerator();\n\n            // Put in 50 Records for this example.\n            int index = 50;\n            for (int x=0; x&lt;index; x++){\n                StockTrade trade = stockTradeGenerator.getRandomTrade();\n                sendStockTrade(trade, kinesisClient, streamName);\n                Thread.sleep(100);\n            }\n\n        } catch (KinesisException | InterruptedException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n        System.out.println(&quot;Done&quot;);\n    }\n\n    private static void sendStockTrade(StockTrade trade, KinesisClient kinesisClient,\n                                       String streamName) {\n        byte[] bytes = trade.toJsonAsBytes();\n\n        // The bytes could be null if there is an issue with the JSON serialization by the Jackson JSON library.\n        if (bytes == null) {\n            System.out.println(&quot;Could not get JSON bytes for stock trade&quot;);\n            return;\n        }\n\n        System.out.println(&quot;Putting trade: &quot; + trade);\n        PutRecordRequest request = PutRecordRequest.builder()\n            .partitionKey(trade.getTickerSymbol()) // We use the ticker symbol as the partition key, explained in the Supplemental Information section below.\n            .streamName(streamName)\n            .data(SdkBytes.fromByteArray(bytes))\n            .build();\n\n        try {\n            kinesisClient.putRecord(request);\n        } catch (KinesisException e) {\n            System.err.println(e.getMessage());\n        }\n    }\n\n    private static void validateStream(KinesisClient kinesisClient, String streamName) {\n        try {\n            DescribeStreamRequest describeStreamRequest = DescribeStreamRequest.builder()\n                .streamName(streamName)\n                .build();\n\n            DescribeStreamResponse describeStreamResponse = kinesisClient.describeStream(describeStreamRequest);\n\n            if(!describeStreamResponse.streamDescription().streamStatus().toString().equals(&quot;ACTIVE&quot;)) {\n                System.err.println(&quot;Stream &quot; + streamName + &quot; is not active. Please wait a few moments and try again.&quot;);\n                System.exit(1);\n            }\n\n        }catch (KinesisException e) {\n            System.err.println(&quot;Error found while describing the stream &quot; + streamName);\n            System.err.println(e);\n            System.exit(1);\n        }\n    }\n    // snippet-end:[kinesis.java2.putrecord.main]\n}\n</code></pre>\n<p>You can find this AWS SDK for Java V2 example in the AWS Code Lib here:</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/java_2_kinesis_code_examples.html\" rel=\"nofollow noreferrer\">Kinesis examples using SDK for Java 2.x</a></p>\n<p>If you prefer using Github, here is where all AWS Java V2 code examples are located:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2</a></p>\n"}],"owner":{"account_id":3911664,"reputation":578,"user_id":3236794,"accept_rate":50,"display_name":"user3236794"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76076667,"answer_count":2,"score":0,"last_activity_date":1682113674,"creation_date":1682109844,"question_id":76076588,"body_markdown":"Here is my code\r\n```java\r\n      KinesisClient kinesisClient = KinesisClient.builder().build();\r\n      PutRecordRequest putRecordRequest = new PutRecordRequest();\r\n      putRecordRequest.setStreamName(&quot;stream-name&quot;);\r\n      putRecordRequest.setPartitionKey(&quot;SomeString-&quot; + UUID.randomUUID());\r\n      putRecordRequest.setData(ByteBuffer.wrap(data));\r\n\r\n      PutRecordResponse putRecordResponse = kinesisClient.putRecord(putRecordRequest);\r\n```\r\n\r\nFor some strange reason it&#39;s saying it can&#39;t resolve the `putRecord(PutRecordRequest)` method even though it&#39;s clearly there when I look at the decompiled jar file. It even autocompletes that method when I start to type it.\r\n\r\n[![autocomplete_image][1]][1]\r\n\r\nWhat could be going wrong here? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W9Cqo.png","title":"Why isn&#39;t KenisisClient.putRecord() not accepting a valid PutRecordRequest","body":"<p>Here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>      KinesisClient kinesisClient = KinesisClient.builder().build();\n      PutRecordRequest putRecordRequest = new PutRecordRequest();\n      putRecordRequest.setStreamName(&quot;stream-name&quot;);\n      putRecordRequest.setPartitionKey(&quot;SomeString-&quot; + UUID.randomUUID());\n      putRecordRequest.setData(ByteBuffer.wrap(data));\n\n      PutRecordResponse putRecordResponse = kinesisClient.putRecord(putRecordRequest);\n</code></pre>\n<p>For some strange reason it's saying it can't resolve the <code>putRecord(PutRecordRequest)</code> method even though it's clearly there when I look at the decompiled jar file. It even autocompletes that method when I start to type it.</p>\n<p><a href=\"https://i.stack.imgur.com/W9Cqo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W9Cqo.png\" alt=\"autocomplete_image\" /></a></p>\n<p>What could be going wrong here?</p>\n"},{"tags":["java","jsf","java-8","jsf-2.2"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1432295905,"post_id":30395398,"comment_id":48879849,"body_markdown":"Until it&#39;s supported you can use a converter.","body":"Until it&#39;s supported you can use a converter."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":1,"creation_date":1432295957,"post_id":30395398,"comment_id":48879892,"body_markdown":"The replacement for `java.util.Date` (which is NOT deprecated - by the way) is `java.time.Instant`, not `LocalDate` or other *local* types.","body":"The replacement for <code>java.util.Date</code> (which is NOT deprecated - by the way) is <code>java.time.Instant</code>, not <code>LocalDate</code> or other <i>local</i> types."},{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":0,"creation_date":1432308674,"post_id":30395398,"comment_id":48888782,"body_markdown":"&quot;*The `Date` class has been deprecated for ages.*&quot; - untrue. Although the most of the methods of the `Date` class have already been deprecated, the class itself has not been deprecated yet and is still available for use. You can always create a custom converter in JSF for any of your use-cases.","body":"&quot;<i>The <code>Date</code> class has been deprecated for ages.</i>&quot; - untrue. Although the most of the methods of the <code>Date</code> class have already been deprecated, the class itself has not been deprecated yet and is still available for use. You can always create a custom converter in JSF for any of your use-cases."},{"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"score":0,"creation_date":1432319863,"post_id":30395398,"comment_id":48895071,"body_markdown":"I tried to improve the question. Thanks for correcting me on the deprecation fact.","body":"I tried to improve the question. Thanks for correcting me on the deprecation fact."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1435910682,"post_id":30395398,"comment_id":50406220,"body_markdown":"Sure the date class is full of deprecated methods. But the existing f:convertDateTime doesn&#39;t make use of any of those deprecated methods, yet your question somehow implies that and that&#39;s not really nice. In any case, JSF 2.3 will require Java 8, so that creates room for a new standard converter for Java 8 time API.","body":"Sure the date class is full of deprecated methods. But the existing f:convertDateTime doesn&#39;t make use of any of those deprecated methods, yet your question somehow implies that and that&#39;s not really nice. In any case, JSF 2.3 will require Java 8, so that creates room for a new standard converter for Java 8 time API."},{"owner":{"account_id":6783557,"reputation":1252,"user_id":5223047,"display_name":"ltlBeBoy"},"score":4,"creation_date":1519842928,"post_id":30395398,"comment_id":85077598,"body_markdown":"[JSF 2.3](https://javaserverfaces.github.io/docs/2.3/javadocs/javax/faces/convert/DateTimeConverter.html#setType-java.lang.String-) supports the new types `localDate`, `localDateTime`, `localTime`, `offsetTime`, `offsetDateTime`, and `zonedDateTime` to support the Java 8 time API. But keep in mind when using these new types that the converter attribute `timeZone` is ignored because the new time API has everything it needs to determine the correct time zone! See also [What&#39;s new in JSF 2.3?](http://arjan-tijms.omnifaces.org/p/jsf-23.html#1370)","body":"<a href=\"https://javaserverfaces.github.io/docs/2.3/javadocs/javax/faces/convert/DateTimeConverter.html#setType-java.lang.String-\" rel=\"nofollow noreferrer\">JSF 2.3</a> supports the new types <code>localDate</code>, <code>localDateTime</code>, <code>localTime</code>, <code>offsetTime</code>, <code>offsetDateTime</code>, and <code>zonedDateTime</code> to support the Java 8 time API. But keep in mind when using these new types that the converter attribute <code>timeZone</code> is ignored because the new time API has everything it needs to determine the correct time zone! See also <a href=\"http://arjan-tijms.omnifaces.org/p/jsf-23.html#1370\" rel=\"nofollow noreferrer\">What&#39;s new in JSF 2.3?</a>"},{"owner":{"account_id":1717188,"reputation":935,"user_id":1574012,"accept_rate":67,"display_name":"cljk"},"score":1,"creation_date":1557263238,"post_id":30395398,"comment_id":98704523,"body_markdown":"I made the experience now myself - even in JSF 2.3 the support for java.time seems to be somewhat limited... or weird at least for me.","body":"I made the experience now myself - even in JSF 2.3 the support for java.time seems to be somewhat limited... or weird at least for me."},{"owner":{"account_id":1717188,"reputation":935,"user_id":1574012,"accept_rate":67,"display_name":"cljk"},"score":0,"creation_date":1557263350,"post_id":30395398,"comment_id":98704564,"body_markdown":"First Instant is NOT supported but the other types ... but you have to specify them. Why that? Also the timezone parameter is ignored. Thats sad because I want to display the dates for different time zones. Lost some hours and reverted all back to good old Date.","body":"First Instant is NOT supported but the other types ... but you have to specify them. Why that? Also the timezone parameter is ignored. Thats sad because I want to display the dates for different time zones. Lost some hours and reverted all back to good old Date."}],"answers":[{"tags":[],"owner":{"account_id":6561636,"reputation":3683,"user_id":5072526,"accept_rate":57,"display_name":"hinneLinks"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1584126817,"creation_date":1435910430,"answer_id":31201621,"question_id":30395398,"body_markdown":"Just write your own Converter and extend the `javax.faces.convert.DateTimeConverter` - that way you can Reuse all the attributes that `&lt;f:convertDateTime&gt;` supports. Also it will take care of Localization too. Unfortunately it&#39;s a bit more complicated to write a Converter with Attributes.\r\n\r\n**Create component**  \r\nFirst write your own Converter that extends `javax.faces.convert.DateTimeConverter` - just let the super-calls do all the work (including locale-stuff) and convert the result from/to LocalDate.\r\n\r\n    @FacesConverter(value = LocalDateConverter.ID)\r\n    public class LocalDateConverter extends DateTimeConverter {\r\n        public static final String ID = &quot;com.example.LocalDateConverter&quot;;\r\n\r\n        @Override\r\n        public Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) {\r\n            Object o = super.getAsObject(facesContext, uiComponent, value);\r\n            \r\n            if (o == null) {\r\n                return null;\r\n            }\r\n\r\n            if (o instanceof Date) {\r\n                Instant instant = Instant.ofEpochMilli(((Date) o).getTime());\r\n                return LocalDateTime.ofInstant(instant, ZoneId.systemDefault()).toLocalDate();\r\n            } else {\r\n                throw new IllegalArgumentException(String.format(&quot;value=%s could not be converted to a LocalDate, result super.getAsObject=%s&quot;, value, o));\r\n            }\r\n        }\r\n          \r\n        @Override\r\n        public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) {\r\n            if (value == null) {\r\n                return super.getAsString(facesContext, uiComponent,value);\r\n            }\r\n            \r\n            if (value instanceof LocalDate) {\r\n                LocalDate lDate = (LocalDate) value;\r\n                Instant instant = lDate.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant();\r\n                Date date = Date.from(instant);\r\n                return super.getAsString(facesContext, uiComponent, date);\r\n            } else {\r\n                throw new IllegalArgumentException(String.format(&quot;value=%s is not a instanceof LocalDate&quot;, value));\r\n            }\r\n        }\r\n    }\r\n\r\nThen create a file `LocalDateConverter-taglib.xml` in `META-INF`:\r\n\r\n    &lt;facelet-taglib version=&quot;2.2&quot;\r\n        xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facelettaglibrary_2_2.xsd&quot;&gt;\r\n\r\n        &lt;namespace&gt;http://example.com/LocalDateConverter&lt;/namespace&gt;\r\n        &lt;tag&gt;\r\n            &lt;tag-name&gt;convertLocalDate&lt;/tag-name&gt;\r\n            &lt;converter&gt;\r\n                &lt;converter-id&gt;com.example.LocalDateConverter&lt;/converter-id&gt;\r\n            &lt;/converter&gt;\r\n        &lt;/tag&gt;\r\n    &lt;/facelet-taglib&gt;\r\n     \r\n\r\nAnd lastly, register the taglib in `web.xml`:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;javax.faces.FACELETS_LIBRARIES&lt;/param-name&gt;\r\n        &lt;param-value&gt;/META-INF/LocalDateConverter-taglib.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n**Usage**  \r\nTo use the new Tag in your JSF-Page add the new Taglib `xmlns:ldc=&quot;http://example.com/LocalDateConverter&quot;` and  use the tag:\r\n\r\n    &lt;ldc:convertLocalDate type=&quot;both&quot; dateStyle=&quot;full&quot;/&gt;\r\n","title":"f:convertDateTime support for Java8 LocalDate / LocalDateTime?","body":"<p>Just write your own Converter and extend the <code>javax.faces.convert.DateTimeConverter</code> - that way you can Reuse all the attributes that <code>&lt;f:convertDateTime&gt;</code> supports. Also it will take care of Localization too. Unfortunately it's a bit more complicated to write a Converter with Attributes.</p>\n\n<p><strong>Create component</strong><br>\nFirst write your own Converter that extends <code>javax.faces.convert.DateTimeConverter</code> - just let the super-calls do all the work (including locale-stuff) and convert the result from/to LocalDate.</p>\n\n<pre><code>@FacesConverter(value = LocalDateConverter.ID)\npublic class LocalDateConverter extends DateTimeConverter {\n    public static final String ID = \"com.example.LocalDateConverter\";\n\n    @Override\n    public Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) {\n        Object o = super.getAsObject(facesContext, uiComponent, value);\n\n        if (o == null) {\n            return null;\n        }\n\n        if (o instanceof Date) {\n            Instant instant = Instant.ofEpochMilli(((Date) o).getTime());\n            return LocalDateTime.ofInstant(instant, ZoneId.systemDefault()).toLocalDate();\n        } else {\n            throw new IllegalArgumentException(String.format(\"value=%s could not be converted to a LocalDate, result super.getAsObject=%s\", value, o));\n        }\n    }\n\n    @Override\n    public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) {\n        if (value == null) {\n            return super.getAsString(facesContext, uiComponent,value);\n        }\n\n        if (value instanceof LocalDate) {\n            LocalDate lDate = (LocalDate) value;\n            Instant instant = lDate.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant();\n            Date date = Date.from(instant);\n            return super.getAsString(facesContext, uiComponent, date);\n        } else {\n            throw new IllegalArgumentException(String.format(\"value=%s is not a instanceof LocalDate\", value));\n        }\n    }\n}\n</code></pre>\n\n<p>Then create a file <code>LocalDateConverter-taglib.xml</code> in <code>META-INF</code>:</p>\n\n<pre><code>&lt;facelet-taglib version=\"2.2\"\n    xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facelettaglibrary_2_2.xsd\"&gt;\n\n    &lt;namespace&gt;http://example.com/LocalDateConverter&lt;/namespace&gt;\n    &lt;tag&gt;\n        &lt;tag-name&gt;convertLocalDate&lt;/tag-name&gt;\n        &lt;converter&gt;\n            &lt;converter-id&gt;com.example.LocalDateConverter&lt;/converter-id&gt;\n        &lt;/converter&gt;\n    &lt;/tag&gt;\n&lt;/facelet-taglib&gt;\n</code></pre>\n\n<p>And lastly, register the taglib in <code>web.xml</code>:</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;javax.faces.FACELETS_LIBRARIES&lt;/param-name&gt;\n    &lt;param-value&gt;/META-INF/LocalDateConverter-taglib.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p><strong>Usage</strong><br>\nTo use the new Tag in your JSF-Page add the new Taglib <code>xmlns:ldc=\"http://example.com/LocalDateConverter\"</code> and  use the tag:</p>\n\n<pre><code>&lt;ldc:convertLocalDate type=\"both\" dateStyle=\"full\"/&gt;\n</code></pre>\n"}],"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19176,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"closed_date":1458123028,"answer_count":1,"score":12,"last_activity_date":1682113149,"creation_date":1432293710,"question_id":30395398,"body_markdown":"The JSF Core Tag [f:convertDateTime][1] can format [java.util.Date][2] objects. The Date class has many deprecated methods and with Java 8 come new classes to present local dates and times: [LocalDateTime][3] and [LocalDate][4].\r\n\r\n[f:convertDateTime][1] can not format [LocalDateTime][3] nor [LocalDate][4].\r\n\r\nDoes anybody know, if there is an equivalent to the JSF core tag convertDateTime that can deal with LocalDateTime objects? Is support planned for a future release, or are alternative tags available?\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/javaserver-faces-2-2/vdldocs-facelets/f/convertDateTime.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"f:convertDateTime support for Java8 LocalDate / LocalDateTime?","body":"<p>The JSF Core Tag <a href=\"https://docs.oracle.com/javaee/7/javaserver-faces-2-2/vdldocs-facelets/f/convertDateTime.html\" rel=\"nofollow noreferrer\">f:convertDateTime</a> can format <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">java.util.Date</a> objects. The Date class has many deprecated methods and with Java 8 come new classes to present local dates and times: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a>.</p>\n<p><a href=\"https://docs.oracle.com/javaee/7/javaserver-faces-2-2/vdldocs-facelets/f/convertDateTime.html\" rel=\"nofollow noreferrer\">f:convertDateTime</a> can not format <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a> nor <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a>.</p>\n<p>Does anybody know, if there is an equivalent to the JSF core tag convertDateTime that can deal with LocalDateTime objects? Is support planned for a future release, or are alternative tags available?</p>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":14365404,"reputation":2987,"user_id":10376604,"display_name":"GrahamD"},"score":0,"creation_date":1580758198,"post_id":60045646,"comment_id":106195189,"body_markdown":"If the onPressed code is working, why don&#39;t you move the onFieldSubmitted code there as well?What are you trying to achieve with onFieldSubmitted? PS. I didn&#39;t mark u down.","body":"If the onPressed code is working, why don&#39;t you move the onFieldSubmitted code there as well?What are you trying to achieve with onFieldSubmitted? PS. I didn&#39;t mark u down."},{"owner":{"account_id":17680816,"reputation":83,"user_id":12834798,"display_name":"Harsh"},"score":0,"creation_date":1580841839,"post_id":60045646,"comment_id":106228224,"body_markdown":"@GrahamD Sorry for this as I am new to this flutter development. Thank you for your help, it did work.","body":"@GrahamD Sorry for this as I am new to this flutter development. Thank you for your help, it did work."},{"owner":{"account_id":14365404,"reputation":2987,"user_id":10376604,"display_name":"GrahamD"},"score":0,"creation_date":1580897032,"post_id":60045646,"comment_id":106245700,"body_markdown":"No worries. We are all learning.","body":"No worries. We are all learning."}],"answers":[{"tags":[],"owner":{"account_id":18977110,"reputation":41,"user_id":13849335,"display_name":"Ifeanyi "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619350357,"creation_date":1619350357,"answer_id":67252902,"question_id":60045646,"body_markdown":"You can use _controller.text to get the value in the Textfield currently. ","title":"OnFieldSubmitted does not take the text value provided using TextFormField in Flutter","body":"<p>You can use _controller.text to get the value in the Textfield currently.</p>\n"},{"tags":[],"owner":{"account_id":15577599,"reputation":79,"user_id":11238327,"display_name":"Umesh Tikhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620761808,"creation_date":1620761808,"answer_id":67493296,"question_id":60045646,"body_markdown":"You need to pass the text to the  `onFieldSubmitted: (_controller.text)` like this will solve the issue.","title":"OnFieldSubmitted does not take the text value provided using TextFormField in Flutter","body":"<p>You need to pass the text to the  <code>onFieldSubmitted: (_controller.text)</code> like this will solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":2009481,"reputation":6374,"user_id":1798328,"display_name":"BambinoUA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634727185,"creation_date":1634727185,"answer_id":69644686,"question_id":60045646,"body_markdown":"You need to implement this:\r\n```dart\r\n/// In `State` class body\r\nString _message;\r\nfinal _formKey = GlobalKey&lt;FormState&gt;();\r\n\r\n/// In `build` method body.\r\nForm(\r\n  key: _formKey,        // &lt;-- This is required.\r\n  child: TextFormField(\r\n    controller: _controller,\r\n    onSave: (value) {\r\n      _message = value;\r\n    }\r\n  ),\r\n),\r\n\r\nIconButton(\r\n  icon: Icon(\r\n    Icons.send,\r\n    color: Colors.blue\r\n  ),\r\n  onPressed: () {\r\n    if(_formKey.currentState.validate()) {\r\n      _formKey.currentState.save(); // This call triggers `onSave` callbacks.\r\n      _sendMesage(_message);        // Handle _message variable.\r\n    }\r\n  },\r\n,\r\n\r\n\r\n\r\n```","title":"OnFieldSubmitted does not take the text value provided using TextFormField in Flutter","body":"<p>You need to implement this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>/// In `State` class body\nString _message;\nfinal _formKey = GlobalKey&lt;FormState&gt;();\n\n/// In `build` method body.\nForm(\n  key: _formKey,        // &lt;-- This is required.\n  child: TextFormField(\n    controller: _controller,\n    onSave: (value) {\n      _message = value;\n    }\n  ),\n),\n\nIconButton(\n  icon: Icon(\n    Icons.send,\n    color: Colors.blue\n  ),\n  onPressed: () {\n    if(_formKey.currentState.validate()) {\n      _formKey.currentState.save(); // This call triggers `onSave` callbacks.\n      _sendMesage(_message);        // Handle _message variable.\n    }\n  },\n,\n\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682111599,"creation_date":1682111599,"answer_id":76076741,"question_id":60045646,"body_markdown":"You might need to unfocus the field before taking the value, e.g. with:\r\n\r\n```dart\r\nFocusManager.instance.primaryFocus?.unfocus();\r\n```\r\n\r\nAn older ***deprecated*** way of doing the same is:\r\n\r\n```dart\r\nFocusScope.of(context).requestFocus(FocusNode());\r\n```","title":"OnFieldSubmitted does not take the text value provided using TextFormField in Flutter","body":"<p>You might need to unfocus the field before taking the value, e.g. with:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>FocusManager.instance.primaryFocus?.unfocus();\n</code></pre>\n<p>An older <em><strong>deprecated</strong></em> way of doing the same is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>FocusScope.of(context).requestFocus(FocusNode());\n</code></pre>\n"}],"owner":{"account_id":17680816,"reputation":83,"user_id":12834798,"display_name":"Harsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7196,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1682111599,"creation_date":1580756939,"question_id":60045646,"body_markdown":"I am trying to get the data from the text field. While pressing the send button I need the data provided in text field to be stored up in &#39;_message&#39;. This is not working as expected thus my Map(newMessage) does not hold any value and thus my message list is empty.\r\nI need some solution so that my _message hold the value provided using OnFieldSubmitted.\r\n\r\nEven while running the app it only prints (send &#39;value written in text box&#39;) and does not print the _message provided using OnFeildSubmitted.\r\n\r\n     Padding(\r\n            padding: EdgeInsets.all(12.0),\r\n            child: Row(\r\n              children: &lt;Widget&gt;[\r\n                Expanded( \r\n                    child: TextFormField(\r\n                  controller: _controller,\r\n                  onFieldSubmitted: (String _message){\r\n                    print(&quot;on submit  &quot;+_message);\r\n                    Map&lt;String,dynamic&gt; newMessage = {\r\n                      &quot;type&quot;: &quot;string&quot;,\r\n                      &quot;content&quot;: _message,\r\n                      &quot;from&quot;: &quot;me&quot;,\r\n           \r\n                \r\n                    };\r\n                    List&lt;dynamic&gt; newList = _listOfMessages;\r\n                    newList.add(newMessage);\r\n\r\n                    setState(() {\r\n                      _listOfMessages = newList;\r\n                    });\r\n                    _controller.clear();\r\n                    \r\n                  },\r\n                  decoration: InputDecoration(\r\n                    hintText: &quot;Type your message here&quot;,\r\n                  ),\r\n                )),\r\n                Padding(\r\n                  padding: EdgeInsets.all(8.0),\r\n                \r\n                  child: Center(\r\n                    child: IconButton(\r\n                    icon: Icon(Icons.send,\r\n                    color: Colors.blue),\r\n\r\n                    onPressed: () {\r\n                      print(&quot;send &quot; + _controller.text);\r\n                    },\r\n                  ),\r\n                  )\r\n                )\r\n              ],","title":"OnFieldSubmitted does not take the text value provided using TextFormField in Flutter","body":"<p>I am trying to get the data from the text field. While pressing the send button I need the data provided in text field to be stored up in '_message'. This is not working as expected thus my Map(newMessage) does not hold any value and thus my message list is empty.\nI need some solution so that my _message hold the value provided using OnFieldSubmitted.</p>\n\n<p>Even while running the app it only prints (send 'value written in text box') and does not print the _message provided using OnFeildSubmitted.</p>\n\n<pre><code> Padding(\n        padding: EdgeInsets.all(12.0),\n        child: Row(\n          children: &lt;Widget&gt;[\n            Expanded( \n                child: TextFormField(\n              controller: _controller,\n              onFieldSubmitted: (String _message){\n                print(\"on submit  \"+_message);\n                Map&lt;String,dynamic&gt; newMessage = {\n                  \"type\": \"string\",\n                  \"content\": _message,\n                  \"from\": \"me\",\n\n\n                };\n                List&lt;dynamic&gt; newList = _listOfMessages;\n                newList.add(newMessage);\n\n                setState(() {\n                  _listOfMessages = newList;\n                });\n                _controller.clear();\n\n              },\n              decoration: InputDecoration(\n                hintText: \"Type your message here\",\n              ),\n            )),\n            Padding(\n              padding: EdgeInsets.all(8.0),\n\n              child: Center(\n                child: IconButton(\n                icon: Icon(Icons.send,\n                color: Colors.blue),\n\n                onPressed: () {\n                  print(\"send \" + _controller.text);\n                },\n              ),\n              )\n            )\n          ],\n</code></pre>\n"},{"tags":["java","json","jayway"],"comments":[{"owner":{"account_id":4052302,"reputation":143,"user_id":3331412,"display_name":"comdotlinux"},"score":0,"creation_date":1682106569,"post_id":76076066,"comment_id":134169128,"body_markdown":"Looks like the Json itself is incorrect? so I&#39;m not able to test it as well unfortunately","body":"Looks like the Json itself is incorrect? so I&#39;m not able to test it as well unfortunately"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1682106796,"post_id":76076066,"comment_id":134169163,"body_markdown":"Your JSON is invalid, you are missing a closing `]` at the end of your `assignedLocations` array . Also, you are missing the final closing `}`. Your final 10 line should be: `} } } }] }] }] } } } }`. Paste your JSON data into [JSON Lint](https://jsonlint.com/) to make sure it is valid.","body":"Your JSON is invalid, you are missing a closing <code>]</code> at the end of your <code>assignedLocations</code> array . Also, you are missing the final closing <code>}</code>. Your final 10 line should be: <code>} } } }] }] }] } } } }</code>. Paste your JSON data into <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">JSON Lint</a> to make sure it is valid."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682111355,"creation_date":1682111355,"answer_id":76076718,"question_id":76076066,"body_markdown":"The following path expression finds the value `17` for `departmentNumber`, in the corrected (valid) version of your JSON. The result is actually a `JSONArray` - but it only contains 1 value - the `17`.\r\n\r\nYou can compare it with your version to see the differences - and decide for yourself if this is what you do actually need.\r\n\r\n```\r\n$.data.storeGtin.assignmentInfo.assignedLocations[*].assignments[*].assignments[?(@.eslTag != null &amp;&amp; @.eslTag.barcode == &#39;w422-5r72&#39;)].modular.category.department.departmentNumber\r\n```\r\n\r\nBasically:\r\n\r\n - the original expression was missing a level for the 2nd `assignments` array.\r\n - `eslTag` is an object in your sample, so I assume the comparison should be against `null` not `&#39;null&#39;`.\r\n - the barcode comparison should refer to `eslTag.barcode`, and not simply `barcode`.\r\n - the &quot;equals to&quot; operator is `==`, not `=`.\r\n\r\n[Reference](https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html).\r\n\r\n---\r\n\r\nThe point in the question about &quot;_when the value has a hyphen_&quot; was not actually relevant to the problem.","title":"How to get json path in java when the json value has hyphen","body":"<p>The following path expression finds the value <code>17</code> for <code>departmentNumber</code>, in the corrected (valid) version of your JSON. The result is actually a <code>JSONArray</code> - but it only contains 1 value - the <code>17</code>.</p>\n<p>You can compare it with your version to see the differences - and decide for yourself if this is what you do actually need.</p>\n<pre><code>$.data.storeGtin.assignmentInfo.assignedLocations[*].assignments[*].assignments[?(@.eslTag != null &amp;&amp; @.eslTag.barcode == 'w422-5r72')].modular.category.department.departmentNumber\n</code></pre>\n<p>Basically:</p>\n<ul>\n<li>the original expression was missing a level for the 2nd <code>assignments</code> array.</li>\n<li><code>eslTag</code> is an object in your sample, so I assume the comparison should be against <code>null</code> not <code>'null'</code>.</li>\n<li>the barcode comparison should refer to <code>eslTag.barcode</code>, and not simply <code>barcode</code>.</li>\n<li>the &quot;equals to&quot; operator is <code>==</code>, not <code>=</code>.</li>\n</ul>\n<p><a href=\"https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html\" rel=\"nofollow noreferrer\">Reference</a>.</p>\n<hr />\n<p>The point in the question about &quot;<em>when the value has a hyphen</em>&quot; was not actually relevant to the problem.</p>\n"}],"owner":{"account_id":11758585,"reputation":11,"user_id":8605464,"display_name":"Mahen C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76076718,"answer_count":1,"score":0,"last_activity_date":1682111355,"creation_date":1682103795,"question_id":76076066,"body_markdown":"How to get json path in java when the json value has hyphen?\r\n\r\n\r\nI have `com.jayway.jsonpath.InvalidPathException`.\r\n\r\n**Error message**:\r\n\r\n```\r\ncom.jayway.jsonpath.InvalidPathException: Expected character: )\r\n\r\n\tat com.jayway.jsonpath.internal.CharacterIndex.readSignificantChar(CharacterIndex.java:218)\r\n\tat com.jayway.jsonpath.internal.filter.FilterCompiler.readLogicalANDOperand(FilterCompiler.java:185)\r\n\tat com.jayway.jsonpath.internal.filter.FilterCompiler.readLogicalAND(FilterCompiler.java:151)\r\n\tat com.jayway.jsonpath.internal.filter.FilterCompiler.readLogicalOR(FilterCompiler.java:131)\r\n\tat com.jayway.jsonpath.internal.filter.FilterCompiler.compile(FilterCompiler.java:77)\r\n\tat com.jayway.jsonpath.internal.filter.FilterCompiler.compile(FilterCompiler.java:53)\r\n\tat com.jayway.jsonpath.internal.path.PathCompiler.readFilterToken(PathCompiler.java:461)\r\n\tat com.jayway.jsonpath.internal.path.PathCompiler.readNextToken(PathCompiler.java:141)\r\n\tat com.jayway.jsonpath.internal.path.PathCompiler.readPropertyOrFunctionToken(PathCompiler.java:237)\r\n```\r\n\r\n**JSON value:** \r\n```\r\n    {\r\n  &quot;data&quot;: {\r\n    &quot;storeGtin&quot;: {\r\n      &quot;gtin&quot;: &quot;64491100727&quot;,\r\n      &quot;countryCode&quot;: &quot;IN&quot;,\r\n      &quot;storeId&quot;: &quot;100&quot;,\r\n      &quot;assignmentInfo&quot;: {\r\n        &quot;capacity&quot;: 118,\r\n        &quot;featureFlag&quot;: false,\r\n        &quot;assignedLocations&quot;: [\r\n          {\r\n            &quot;capacity&quot;: 52,\r\n            &quot;featureFlag&quot;: false,\r\n            &quot;storeLocation&quot;: {\r\n              &quot;sgln&quot;: &quot;11&quot;,\r\n              &quot;sgln195&quot;: &quot;11.F.E.25.1&quot;,\r\n              &quot;legacyId&quot;: &quot;101035402&quot;\r\n            },\r\n            &quot;assignments&quot;: [\r\n              {\r\n                &quot;capacity&quot;: 66,\r\n                &quot;featureFlag&quot;: false,\r\n                &quot;storeLocation&quot;: {\r\n                  &quot;sgln&quot;: &quot;5577557755775100001022310&quot;,\r\n                  &quot;sgln195&quot;: &quot;5577557755775W.SF.D.26.1&quot;,\r\n                  &quot;legacyId&quot;: &quot;101246052&quot;\r\n                },\r\n                &quot;assignments&quot;: [\r\n                  {\r\n                    &quot;gtin&quot;: &quot;64491100727&quot;,\r\n                    &quot;type&quot;: &quot;AASASA&quot;,\r\n                    &quot;assigner&quot;: &quot;SASAQW&quot;,\r\n                    &quot;assignTs&quot;: &quot;2023-04-12T17:14:42.880Z&quot;,\r\n                    &quot;eslTag&quot;: {\r\n                      &quot;barcode&quot;: &quot;w422-5r72&quot;,\r\n                      &quot;vendor&quot;: &quot;CMK&quot;\r\n                    },\r\n                    &quot;sequenceNumber&quot;: 2,\r\n                    &quot;modularSectionNumber&quot;: 2,\r\n                    &quot;capacityCnt&quot;: 66,\r\n                    &quot;replenishmentGroupNumber&quot;: &quot;207186183&quot;,\r\n                    &quot;vertFacingCnt&quot;: 10,\r\n                    &quot;horizFacingCnt&quot;: 10,\r\n                    &quot;merchandiseStyleCode&quot;: 0,\r\n                    &quot;modular&quot;: {\r\n                      &quot;modularName&quot;: &quot;020FTX078IN BLINDS AND SHADES&quot;,\r\n                      &quot;planId&quot;: 12912966,\r\n                      &quot;effectiveDate&quot;: &quot;2023-01-02&quot;,\r\n                      &quot;relayDate&quot;: &quot;2023-01-02&quot;,\r\n                      &quot;discontinueDate&quot;: null,\r\n                      &quot;status&quot;: &quot;Y&quot;,\r\n                      &quot;category&quot;: {\r\n                        &quot;categoryName&quot;: &quot;BLINDS AND SHADES&quot;,\r\n                        &quot;categoryNumber&quot;: 305,\r\n                        &quot;department&quot;: {\r\n                          &quot;departmentNumber&quot;: 17,\r\n                          &quot;departmentName&quot;: &quot;HOME DECOR&quot;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\n**JSON Path:**\r\n```\r\n$.data.storeGtin.assignmentInfo.assignedLocations[*].assignments[?(@.barcode=&#39;w422-5r72&#39; &amp;&amp; @.eslTag!=&#39;null&#39;)].modular.category.department.departmentNumber\r\n```\r\n","title":"How to get json path in java when the json value has hyphen","body":"<p>How to get json path in java when the json value has hyphen?</p>\n<p>I have <code>com.jayway.jsonpath.InvalidPathException</code>.</p>\n<p><strong>Error message</strong>:</p>\n<pre><code>com.jayway.jsonpath.InvalidPathException: Expected character: )\n\n    at com.jayway.jsonpath.internal.CharacterIndex.readSignificantChar(CharacterIndex.java:218)\n    at com.jayway.jsonpath.internal.filter.FilterCompiler.readLogicalANDOperand(FilterCompiler.java:185)\n    at com.jayway.jsonpath.internal.filter.FilterCompiler.readLogicalAND(FilterCompiler.java:151)\n    at com.jayway.jsonpath.internal.filter.FilterCompiler.readLogicalOR(FilterCompiler.java:131)\n    at com.jayway.jsonpath.internal.filter.FilterCompiler.compile(FilterCompiler.java:77)\n    at com.jayway.jsonpath.internal.filter.FilterCompiler.compile(FilterCompiler.java:53)\n    at com.jayway.jsonpath.internal.path.PathCompiler.readFilterToken(PathCompiler.java:461)\n    at com.jayway.jsonpath.internal.path.PathCompiler.readNextToken(PathCompiler.java:141)\n    at com.jayway.jsonpath.internal.path.PathCompiler.readPropertyOrFunctionToken(PathCompiler.java:237)\n</code></pre>\n<p><strong>JSON value:</strong></p>\n<pre><code>    {\n  &quot;data&quot;: {\n    &quot;storeGtin&quot;: {\n      &quot;gtin&quot;: &quot;64491100727&quot;,\n      &quot;countryCode&quot;: &quot;IN&quot;,\n      &quot;storeId&quot;: &quot;100&quot;,\n      &quot;assignmentInfo&quot;: {\n        &quot;capacity&quot;: 118,\n        &quot;featureFlag&quot;: false,\n        &quot;assignedLocations&quot;: [\n          {\n            &quot;capacity&quot;: 52,\n            &quot;featureFlag&quot;: false,\n            &quot;storeLocation&quot;: {\n              &quot;sgln&quot;: &quot;11&quot;,\n              &quot;sgln195&quot;: &quot;11.F.E.25.1&quot;,\n              &quot;legacyId&quot;: &quot;101035402&quot;\n            },\n            &quot;assignments&quot;: [\n              {\n                &quot;capacity&quot;: 66,\n                &quot;featureFlag&quot;: false,\n                &quot;storeLocation&quot;: {\n                  &quot;sgln&quot;: &quot;5577557755775100001022310&quot;,\n                  &quot;sgln195&quot;: &quot;5577557755775W.SF.D.26.1&quot;,\n                  &quot;legacyId&quot;: &quot;101246052&quot;\n                },\n                &quot;assignments&quot;: [\n                  {\n                    &quot;gtin&quot;: &quot;64491100727&quot;,\n                    &quot;type&quot;: &quot;AASASA&quot;,\n                    &quot;assigner&quot;: &quot;SASAQW&quot;,\n                    &quot;assignTs&quot;: &quot;2023-04-12T17:14:42.880Z&quot;,\n                    &quot;eslTag&quot;: {\n                      &quot;barcode&quot;: &quot;w422-5r72&quot;,\n                      &quot;vendor&quot;: &quot;CMK&quot;\n                    },\n                    &quot;sequenceNumber&quot;: 2,\n                    &quot;modularSectionNumber&quot;: 2,\n                    &quot;capacityCnt&quot;: 66,\n                    &quot;replenishmentGroupNumber&quot;: &quot;207186183&quot;,\n                    &quot;vertFacingCnt&quot;: 10,\n                    &quot;horizFacingCnt&quot;: 10,\n                    &quot;merchandiseStyleCode&quot;: 0,\n                    &quot;modular&quot;: {\n                      &quot;modularName&quot;: &quot;020FTX078IN BLINDS AND SHADES&quot;,\n                      &quot;planId&quot;: 12912966,\n                      &quot;effectiveDate&quot;: &quot;2023-01-02&quot;,\n                      &quot;relayDate&quot;: &quot;2023-01-02&quot;,\n                      &quot;discontinueDate&quot;: null,\n                      &quot;status&quot;: &quot;Y&quot;,\n                      &quot;category&quot;: {\n                        &quot;categoryName&quot;: &quot;BLINDS AND SHADES&quot;,\n                        &quot;categoryNumber&quot;: 305,\n                        &quot;department&quot;: {\n                          &quot;departmentNumber&quot;: 17,\n                          &quot;departmentName&quot;: &quot;HOME DECOR&quot;\n                        }\n                      }\n                    }\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      }\n    }\n</code></pre>\n<p><strong>JSON Path:</strong></p>\n<pre><code>$.data.storeGtin.assignmentInfo.assignedLocations[*].assignments[?(@.barcode='w422-5r72' &amp;&amp; @.eslTag!='null')].modular.category.department.departmentNumber\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-data-r2dbc"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1675798066,"post_id":75376728,"comment_id":133005106,"body_markdown":"From what package @Id annotation in your domain is?","body":"From what package @Id annotation in your domain is?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675801391,"post_id":75376728,"comment_id":133006067,"body_markdown":"also I can see you have id column in database in upper case.","body":"also I can see you have id column in database in upper case."},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1675846218,"post_id":75376728,"comment_id":133013673,"body_markdown":"@kerbermeister Id is imported from javax.persistence. and you are right - I change import package to org.springframework.data.annotation.Id and it works! can you write it in answer I will apply it?","body":"@kerbermeister Id is imported from javax.persistence. and you are right - I change import package to org.springframework.data.annotation.Id and it works! can you write it in answer I will apply it?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675846270,"post_id":75376728,"comment_id":133013689,"body_markdown":"I think it does not recognize id filed since it expects &quot;id&quot;, not &quot;ID&quot;","body":"I think it does not recognize id filed since it expects &quot;id&quot;, not &quot;ID&quot;"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1675846358,"post_id":75376728,"comment_id":133013729,"body_markdown":"@kerbermeister problem is in wrong import. org.springframework.data.annotation.Id did the job. id in database is written in lower case(maybe Intelij transformed it during execution)","body":"@kerbermeister problem is in wrong import. org.springframework.data.annotation.Id did the job. id in database is written in lower case(maybe Intelij transformed it during execution)"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1675860607,"post_id":75376728,"comment_id":133018006,"body_markdown":"@kerbermeister could you add this information in answer and I will approve it?","body":"@kerbermeister could you add this information in answer and I will approve it?"}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675861332,"creation_date":1675861332,"answer_id":75386208,"question_id":75376728,"body_markdown":"The problem may be in wrong import of `@Id` annotation in your domain.\r\n\r\nIt should be from package\r\n\r\n    org.springframework.data.annotation.Id\r\n\r\nBut in your case it is from package \r\n\r\n    javax.persistence\r\n\r\nAlso, consider the naming of fields. As in your domain id is declared as &quot;id&quot;, I can see in your create script id as &quot;ID&quot; (in uppercase).\r\n\r\n","title":"Error on getting records by id using r2dbc","body":"<p>The problem may be in wrong import of <code>@Id</code> annotation in your domain.</p>\n<p>It should be from package</p>\n<pre><code>org.springframework.data.annotation.Id\n</code></pre>\n<p>But in your case it is from package</p>\n<pre><code>javax.persistence\n</code></pre>\n<p>Also, consider the naming of fields. As in your domain id is declared as &quot;id&quot;, I can see in your create script id as &quot;ID&quot; (in uppercase).</p>\n"},{"tags":[],"owner":{"account_id":17138160,"reputation":25,"user_id":12402753,"display_name":"Mehrdad Bozorgmehr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682111271,"creation_date":1682111224,"answer_id":76076711,"question_id":75376728,"body_markdown":"You can use an Entity in rd2bc without @id. Or use it in the correct’s package name.","title":"Error on getting records by id using r2dbc","body":"<p>You can use an Entity in rd2bc without @id. Or use it in the correct’s package name.</p>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75386208,"answer_count":2,"score":0,"last_activity_date":1682111271,"creation_date":1675789646,"question_id":75376728,"body_markdown":"In sandbox project trying reactive webflux with springboot and postgres. I added r2dbc, created endpoints - get all records and post endpoints work, but appeared problem with requests which use path variable (get one record, or delete by id)\r\nHere is my code:\r\n\r\n    @SpringBootApplication\r\n    @EnableR2dbcAuditing\r\n    public class Springboot2Application {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Springboot2Application.class, args);\r\n    \t}\r\n    }\r\n\r\nController:\r\n\r\n    @RequiredArgsConstructor\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class ToDoController {\r\n        private final ToDoRepository repository;\r\n    \r\n        @GetMapping(value = &quot;/to-do/{toDoId}&quot;, produces = {\r\n                MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE, MediaType.TEXT_XML_VALUE})\r\n        public Mono&lt;ResponseEntity&lt;ToDo&gt;&gt; getToDo(@Valid @PathVariable Long toDoId) {\r\n            return repository.findById(toDoId)\r\n                    .map(ResponseEntity::ok);\r\n        }\r\n    }\r\n\r\nrepository:\r\n\r\n    @Repository\r\n    public interface ToDoRepository extends R2dbcRepository&lt;ToDo,Long&gt; {\r\n    }\r\n\r\nentity:\r\n\r\n    @Data\r\n    @RequiredArgsConstructor\r\n    @Table(name = &quot;to_do&quot;)\r\n    public class ToDo {\r\n        @Id\r\n        private Long id;\r\n        @Version\r\n        private Long version;\r\n        @NotNull\r\n        @NotBlank\r\n        private String description;\r\n        @CreatedDate\r\n        private Timestamp created;\r\n        @LastModifiedDate\r\n        private Timestamp modified;\r\n        private boolean completed;\r\n    }\r\n\r\nr2dbc config:\r\n\r\n    @Configuration\r\n    @EnableR2dbcRepositories(basePackages = &quot;com.springboot2.repository&quot;)\r\n    public class R2DBCConfig extends AbstractR2dbcConfiguration {\r\n        @Bean\r\n        public ConnectionFactory connectionFactory() {\r\n            return ConnectionFactories.get(\r\n                    ConnectionFactoryOptions.builder()\r\n                            .option(DRIVER, &quot;postgresql&quot;)\r\n                            .option(HOST, &quot;localhost&quot;)\r\n                            .option(PORT, 5432)\r\n                            .option(USER, &quot;admin&quot;)\r\n                            .option(PASSWORD, &quot;admin&quot;)\r\n                            .option(DATABASE, &quot;springdb&quot;)\r\n                            .build());\r\n        }\r\n    \r\n        @Bean\r\n        ReactiveTransactionManager transactionManager(ConnectionFactory connectionFactory) {\r\n            return new R2dbcTransactionManager(connectionFactory);\r\n        }\r\n    }\r\n\r\n\r\nAnd my pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springboot&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;springboot2&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;8&lt;/java.version&gt;\r\n            &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!--\t\tDB,ORM, and plugins--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.1.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--\t\tReactive libs--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\ntable creation sql:\r\n\r\n    CREATE TABLE to_do\r\n    (\r\n        ID          SERIAL primary key ,\r\n        version     bigint,\r\n        description char(255),\r\n        created     timestamp,\r\n        modified    timestamp,\r\n        completed   boolean\r\n    );\r\n\r\n\r\nSo when I execute `GET http://localhost:8080/api/v1/to-do/3` I get:\r\n\r\n    java.lang.IllegalStateException: Required identifier property not found for class com.springboot2.domain.ToDo\r\n\r\nI tried to define this using @Query in repository, but got same result. I suppose problem can be either in my table, or in entity, but I can&#39;t see it. And also seems `@Version` does not work(every time writes null to table)","title":"Error on getting records by id using r2dbc","body":"<p>In sandbox project trying reactive webflux with springboot and postgres. I added r2dbc, created endpoints - get all records and post endpoints work, but appeared problem with requests which use path variable (get one record, or delete by id)\nHere is my code:</p>\n<pre><code>@SpringBootApplication\n@EnableR2dbcAuditing\npublic class Springboot2Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot2Application.class, args);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RequiredArgsConstructor\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class ToDoController {\n    private final ToDoRepository repository;\n\n    @GetMapping(value = &quot;/to-do/{toDoId}&quot;, produces = {\n            MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE, MediaType.TEXT_XML_VALUE})\n    public Mono&lt;ResponseEntity&lt;ToDo&gt;&gt; getToDo(@Valid @PathVariable Long toDoId) {\n        return repository.findById(toDoId)\n                .map(ResponseEntity::ok);\n    }\n}\n</code></pre>\n<p>repository:</p>\n<pre><code>@Repository\npublic interface ToDoRepository extends R2dbcRepository&lt;ToDo,Long&gt; {\n}\n</code></pre>\n<p>entity:</p>\n<pre><code>@Data\n@RequiredArgsConstructor\n@Table(name = &quot;to_do&quot;)\npublic class ToDo {\n    @Id\n    private Long id;\n    @Version\n    private Long version;\n    @NotNull\n    @NotBlank\n    private String description;\n    @CreatedDate\n    private Timestamp created;\n    @LastModifiedDate\n    private Timestamp modified;\n    private boolean completed;\n}\n</code></pre>\n<p>r2dbc config:</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories(basePackages = &quot;com.springboot2.repository&quot;)\npublic class R2DBCConfig extends AbstractR2dbcConfiguration {\n    @Bean\n    public ConnectionFactory connectionFactory() {\n        return ConnectionFactories.get(\n                ConnectionFactoryOptions.builder()\n                        .option(DRIVER, &quot;postgresql&quot;)\n                        .option(HOST, &quot;localhost&quot;)\n                        .option(PORT, 5432)\n                        .option(USER, &quot;admin&quot;)\n                        .option(PASSWORD, &quot;admin&quot;)\n                        .option(DATABASE, &quot;springdb&quot;)\n                        .build());\n    }\n\n    @Bean\n    ReactiveTransactionManager transactionManager(ConnectionFactory connectionFactory) {\n        return new R2dbcTransactionManager(connectionFactory);\n    }\n}\n</code></pre>\n<p>And my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--        DB,ORM, and plugins--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n            &lt;version&gt;0.8.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--        Reactive libs--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>table creation sql:</p>\n<pre><code>CREATE TABLE to_do\n(\n    ID          SERIAL primary key ,\n    version     bigint,\n    description char(255),\n    created     timestamp,\n    modified    timestamp,\n    completed   boolean\n);\n</code></pre>\n<p>So when I execute <code>GET http://localhost:8080/api/v1/to-do/3</code> I get:</p>\n<pre><code>java.lang.IllegalStateException: Required identifier property not found for class com.springboot2.domain.ToDo\n</code></pre>\n<p>I tried to define this using @Query in repository, but got same result. I suppose problem can be either in my table, or in entity, but I can't see it. And also seems <code>@Version</code> does not work(every time writes null to table)</p>\n"},{"tags":["java","image","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682109595,"creation_date":1682007246,"answer_id":76066243,"question_id":76066158,"body_markdown":"Use an [`embedded-resource`](https://stackoverflow.com/tags/embedded-resource/info) instead:\r\n\r\n    InputStream inputStream = this.getClass().getResourceAsStream(&quot;plus_minus_icon.png&quot;);\r\n\r\nThen convert the input stream as shown in this [answer](https://stackoverflow.com/a/6464492/2180785):\r\n\r\n    BufferedImage plusMinusIcon = ImageIO.read(inputStream);\r\n\r\n&gt; I entered your code, but after running, &quot;inputStream == null&quot;, returns true\r\n\r\nYour image should be located in a `resources` folder, as shown in the [How to use icons](https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html) tutorial, also see [this answer](https://stackoverflow.com/a/9866659/2180785) for more information, and you can also refer to [this tutorial](https://mkyong.com/java/java-read-a-file-from-resources-folder/) for the explanation on why it needs to be in a `resources` folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I `System.out.println(inputStream)` this is what I get:\r\n\r\n    java.io.BufferedInputStream@57829d67\r\n\r\nIf it&#39;s not in the resources folder, I get the same error as you\r\n\r\nRunnable example:\r\n\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class ImageLoader {\r\n        public static void main(String[] args) {\r\n            ImageLoader imageLoader = new ImageLoader();\r\n            imageLoader.loadResource();\r\n        }\r\n    \r\n        private void loadResource() {\r\n            InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;plus_minus_icon.png&quot;);\r\n    \r\n            System.out.println(inputStream);\r\n    \r\n            try {\r\n                BufferedImage plusMinusIcon = ImageIO.read(inputStream);\r\n    \r\n                System.out.println(plusMinusIcon);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Xmqh.png","title":"Java ImageUtil.loadImageResource - Failed to load image","body":"<p>Use an <a href=\"https://stackoverflow.com/tags/embedded-resource/info\"><code>embedded-resource</code></a> instead:</p>\n<pre><code>InputStream inputStream = this.getClass().getResourceAsStream(&quot;plus_minus_icon.png&quot;);\n</code></pre>\n<p>Then convert the input stream as shown in this <a href=\"https://stackoverflow.com/a/6464492/2180785\">answer</a>:</p>\n<pre><code>BufferedImage plusMinusIcon = ImageIO.read(inputStream);\n</code></pre>\n<blockquote>\n<p>I entered your code, but after running, &quot;inputStream == null&quot;, returns true</p>\n</blockquote>\n<p>Your image should be located in a <code>resources</code> folder, as shown in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html\" rel=\"nofollow noreferrer\">How to use icons</a> tutorial, also see <a href=\"https://stackoverflow.com/a/9866659/2180785\">this answer</a> for more information, and you can also refer to <a href=\"https://mkyong.com/java/java-read-a-file-from-resources-folder/\" rel=\"nofollow noreferrer\">this tutorial</a> for the explanation on why it needs to be in a <code>resources</code> folder.</p>\n<p><a href=\"https://i.stack.imgur.com/1Xmqh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Xmqh.png\" alt=\"enter image description here\" /></a></p>\n<p>When I <code>System.out.println(inputStream)</code> this is what I get:</p>\n<pre><code>java.io.BufferedInputStream@57829d67\n</code></pre>\n<p>If it's not in the resources folder, I get the same error as you</p>\n<p>Runnable example:</p>\n<pre><code>import javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class ImageLoader {\n    public static void main(String[] args) {\n        ImageLoader imageLoader = new ImageLoader();\n        imageLoader.loadResource();\n    }\n\n    private void loadResource() {\n        InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;plus_minus_icon.png&quot;);\n\n        System.out.println(inputStream);\n\n        try {\n            BufferedImage plusMinusIcon = ImageIO.read(inputStream);\n\n            System.out.println(plusMinusIcon);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19156344,"reputation":47,"user_id":13993098,"display_name":"TravelKidKurty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76066243,"answer_count":1,"score":1,"last_activity_date":1682111026,"creation_date":1682006722,"question_id":76066158,"body_markdown":"Im trying to load an image from my project directory into a BufferedImage resource, but getting an error stating that it cannot load the image. Here is the line providing the error:\r\n\r\n    final BufferedImage plusMinusIcon = ImageUtil.loadImageResource(CalculatorProPlugin.class, &quot;plus_minus_icon.png&quot;);\r\n\r\nAnd here is the error I receive when trying to build: \r\n\r\n    net.runelite.client.util.ImageUtil - Failed to load image from class: \r\n    ...plugins.calculatorpro.CalculatorProPlugin path: \r\n    ...plugins.calculatorpro/plus_minus_icon.png\r\n\r\nThe image is saved in the projects directory, and if I copy the path to &quot;plus_minus_icon.png&quot; from the directory, I get &quot;...plugins.calculatorpro\\plus_minus_icon.png&quot;, so it matches what I put in the code\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWORKING ANSWER: \r\nUsing Frakcool&#39;s suggestions from below, he helped me to create a working solution:\r\n\r\n    InputStream inputStream = CalculatorProPlugin.class.getResourceAsStream(&quot;/plus_minus_icon.png&quot;);\r\n    BufferedImage plusMinusIcon = null;\r\n    plusMinusIcon = ImageIO.read(inputStream);\r\nWith my icons stored in a resource folder within the project directory:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J4cEY.png\r\n  [2]: https://i.stack.imgur.com/4rnfl.png","title":"Java ImageUtil.loadImageResource - Failed to load image","body":"<p>Im trying to load an image from my project directory into a BufferedImage resource, but getting an error stating that it cannot load the image. Here is the line providing the error:</p>\n<pre><code>final BufferedImage plusMinusIcon = ImageUtil.loadImageResource(CalculatorProPlugin.class, &quot;plus_minus_icon.png&quot;);\n</code></pre>\n<p>And here is the error I receive when trying to build:</p>\n<pre><code>net.runelite.client.util.ImageUtil - Failed to load image from class: \n...plugins.calculatorpro.CalculatorProPlugin path: \n...plugins.calculatorpro/plus_minus_icon.png\n</code></pre>\n<p>The image is saved in the projects directory, and if I copy the path to &quot;plus_minus_icon.png&quot; from the directory, I get &quot;...plugins.calculatorpro\\plus_minus_icon.png&quot;, so it matches what I put in the code</p>\n<p><a href=\"https://i.stack.imgur.com/J4cEY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J4cEY.png\" alt=\"enter image description here\" /></a></p>\n<p>WORKING ANSWER:\nUsing Frakcool's suggestions from below, he helped me to create a working solution:</p>\n<pre><code>InputStream inputStream = CalculatorProPlugin.class.getResourceAsStream(&quot;/plus_minus_icon.png&quot;);\nBufferedImage plusMinusIcon = null;\nplusMinusIcon = ImageIO.read(inputStream);\n</code></pre>\n<p>With my icons stored in a resource folder within the project directory:\n<a href=\"https://i.stack.imgur.com/4rnfl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4rnfl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","character-encoding","export-to-csv","charset"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1682092986,"post_id":76074826,"comment_id":134166488,"body_markdown":"I don&#39;t get it. For one thing I don&#39;t know what `StreamUtils` is. But why would you change a character set to get a currency symbol? You do know that UTF-8 has all currency symbols? Needless to say, you can&#39;t do Korean with Cp1252","body":"I don&#39;t get it. For one thing I don&#39;t know what <code>StreamUtils</code> is. But why would you change a character set to get a currency symbol? You do know that UTF-8 has all currency symbols? Needless to say, you can&#39;t do Korean with Cp1252"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1682093198,"post_id":76074826,"comment_id":134166533,"body_markdown":"As far as I&#39;m aware `₩` is not in cp1252. Unless I&#39;m misreading, why not run it through the utf8 encoding?","body":"As far as I&#39;m aware <code>₩</code> is not in cp1252. Unless I&#39;m misreading, why not run it through the utf8 encoding?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1682093406,"post_id":76074826,"comment_id":134166582,"body_markdown":"Where and how are you displaying your currency symbol? In a console? When opening the CSV file in a text file reader? What font is used (and does it support the symbol)? What encoding is assumed by the console/tool? Why not use UTF-8 end-to-end for all your data?","body":"Where and how are you displaying your currency symbol? In a console? When opening the CSV file in a text file reader? What font is used (and does it support the symbol)? What encoding is assumed by the console/tool? Why not use UTF-8 end-to-end for all your data?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682094473,"post_id":76074826,"comment_id":134166869,"body_markdown":"Open the file up using a program like `Notepad++`. It can do a good job of guessing the character encoding of the file. My guess is that it&#39;s `UTF8`. It might be a good idea to encode your output file to `UTF8` also.","body":"Open the file up using a program like <code>Notepad++</code>. It can do a good job of guessing the character encoding of the file. My guess is that it&#39;s <code>UTF8</code>. It might be a good idea to encode your output file to <code>UTF8</code> also."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1682111495,"post_id":76074826,"comment_id":134169909,"body_markdown":"&quot;dont know why it was downvoted&quot; --&gt; What is &quot;response&quot; in &quot;response.getOutputStream()&quot;? Where does &quot;writer.toString()&quot; come from? Your own class? What is &quot;StreamUtils.copy&quot;? You left so much open to interpretation and guess work. There was also no &quot;working code&quot; that anyone could use to reproduce your issue.","body":"&quot;dont know why it was downvoted&quot; --&gt; What is &quot;response&quot; in &quot;response.getOutputStream()&quot;? Where does &quot;writer.toString()&quot; come from? Your own class? What is &quot;StreamUtils.copy&quot;? You left so much open to interpretation and guess work. There was also no &quot;working code&quot; that anyone could use to reproduce your issue."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682111020,"creation_date":1682093493,"answer_id":76074951,"question_id":76074826,"body_markdown":"You seem to be switching between Windows 1252 and UTF-8, which seems like a strange decision, why not just always deliver UTF-8?\r\n\r\nSo, if you want to support 2 different encodings, you have to:\r\n\r\n 1. Set the 2 options in &quot;produces&quot;\r\n 2. Set the type with the character set:\r\n\r\ne.g.\r\n\r\n    ...\r\n    .header(&quot;content-type&quot;,&quot;text/plain;charset=Cp1252&quot;)\r\n    ... \r\n\r\nor\r\n\r\n    ... \r\n    .header(&quot;content-type&quot;,&quot;text/plain;charset=UTF-8&quot;)\r\n    ... \r\n\r\nOriginal answer showed both possible options :\r\n\r\n    . . . \r\n    // .header(&quot;content-type&quot;,&quot;text/plain;charset=[Cp1252|UTF-8]&quot;)\r\n    . . . \r\n","title":"Korean currency symbol converting to &quot;?&quot; while writing to CSV file using Java","body":"<p>You seem to be switching between Windows 1252 and UTF-8, which seems like a strange decision, why not just always deliver UTF-8?</p>\n<p>So, if you want to support 2 different encodings, you have to:</p>\n<ol>\n<li>Set the 2 options in &quot;produces&quot;</li>\n<li>Set the type with the character set:</li>\n</ol>\n<p>e.g.</p>\n<pre><code>...\n.header(&quot;content-type&quot;,&quot;text/plain;charset=Cp1252&quot;)\n... \n</code></pre>\n<p>or</p>\n<pre><code>... \n.header(&quot;content-type&quot;,&quot;text/plain;charset=UTF-8&quot;)\n... \n</code></pre>\n<p>Original answer showed both possible options :</p>\n<pre><code>. . . \n// .header(&quot;content-type&quot;,&quot;text/plain;charset=[Cp1252|UTF-8]&quot;)\n. . . \n</code></pre>\n"}],"owner":{"account_id":5248939,"reputation":119,"user_id":4193767,"accept_rate":67,"display_name":"Developer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682111020,"creation_date":1682092444,"question_id":76074826,"body_markdown":"I am exporting a table into CSV using Java code. The code can have price in any currency. \r\nFollowing code is used to do that\r\n\r\nIf Currency is GBP is Euro \r\n\r\n    StreamUtils.copy(writer.toString(), Charset.forName(&quot;Cp1252&quot;), response.getOutputStream());\r\n\r\nIf any other currency\r\n\r\n     &#160;\r\n\r\n     StreamUtils.copy(writer.toString(), StandardCharsets.UTF_8, response.getOutputStream());\r\n\r\nThis is done to correctly display the currency symbol. First line works fine for Euro and GBP but shows ? for Korean and few other symbols, though during debugging it correctly captures the korean currency symbol. Any ideas?","title":"Korean currency symbol converting to &quot;?&quot; while writing to CSV file using Java","body":"<p>I am exporting a table into CSV using Java code. The code can have price in any currency.\nFollowing code is used to do that</p>\n<p>If Currency is GBP is Euro</p>\n<pre><code>StreamUtils.copy(writer.toString(), Charset.forName(&quot;Cp1252&quot;), response.getOutputStream());\n</code></pre>\n<p>If any other currency</p>\n<pre><code>  \n\n StreamUtils.copy(writer.toString(), StandardCharsets.UTF_8, response.getOutputStream());\n</code></pre>\n<p>This is done to correctly display the currency symbol. First line works fine for Euro and GBP but shows ? for Korean and few other symbols, though during debugging it correctly captures the korean currency symbol. Any ideas?</p>\n"},{"tags":["java","spring","maven","tomcat","spring-boot"],"comments":[{"owner":{"account_id":936608,"reputation":1545,"user_id":965431,"display_name":"S&#225;ndor Juhos"},"score":3,"creation_date":1498476662,"post_id":44758701,"comment_id":76497938,"body_markdown":"Try the: &quot;java -jar  -Dserver.port=8090 jarfilename.jar&quot; command","body":"Try the: &quot;java -jar  -Dserver.port=8090 jarfilename.jar&quot; command"},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":1,"creation_date":1498476863,"post_id":44758701,"comment_id":76498074,"body_markdown":"Hi @S&#225;ndorJuhos thank you so much , it works fine , but can you explain me please why it ignores the property server.port = 8090 in the application.properties file ?","body":"Hi @S&#225;ndorJuhos thank you so much , it works fine , but can you explain me please why it ignores the property server.port = 8090 in the application.properties file ?"},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1498480261,"post_id":44758701,"comment_id":76500107,"body_markdown":"@Ali, are you using springboot with embedded tomcat or a standalone tomcat? `server.port` only works in embedded tomcat mode. If you are using a standalone tomcat, then it doesn&#39;t work. You have to set the port by manually configuring in `server.xml` of tomcat. Can you confirm?","body":"@Ali, are you using springboot with embedded tomcat or a standalone tomcat? <code>server.port</code> only works in embedded tomcat mode. If you are using a standalone tomcat, then it doesn&#39;t work. You have to set the port by manually configuring in <code>server.xml</code> of tomcat. Can you confirm?"},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1498482770,"post_id":44758701,"comment_id":76501818,"body_markdown":"thank you @harshavmb for your timr, yes i&#39;m using embedded tomcat , but i solved the probelm, regards","body":"thank you @harshavmb for your timr, yes i&#39;m using embedded tomcat , but i solved the probelm, regards"}],"answers":[{"tags":[],"owner":{"account_id":7238324,"reputation":172,"user_id":5522710,"display_name":"iBiber"},"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1498478916,"creation_date":1498478916,"answer_id":44759389,"question_id":44758701,"body_markdown":"Is the application.properties located at the right location?\r\nDescription from [Spring.io][1]:\r\n&gt; SpringApplication will load properties from application.properties files in the following locations and add them to the Spring Environment:\r\n&gt;\r\n&gt;    1. A /config subdirectory of the current directory.\r\n&gt;    2. The current directory\r\n&gt;    3. A classpath /config package\r\n&gt;    4. The classpath root\r\n&gt;\r\n&gt; The list is ordered by precedence (properties defined in locations higher in the list override those defined in lower locations).\r\n\r\nUse `java -jar -Dserver.port=8090 jarfilename.jar` to set the port from command line.\r\n\r\nHint, from [Spring.io][2]: If you want to use the short term `-Dport=8090`, you can use `server.port=${port:8080}` in your application property file.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html","title":"server.port properties not working after buildin spring boot project","body":"<p>Is the application.properties located at the right location?\nDescription from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">Spring.io</a>:</p>\n\n<blockquote>\n  <p>SpringApplication will load properties from application.properties files in the following locations and add them to the Spring Environment:</p>\n  \n  <ol>\n  <li>A /config subdirectory of the current directory.</li>\n  <li>The current directory</li>\n  <li>A classpath /config package</li>\n  <li>The classpath root</li>\n  </ol>\n  \n  <p>The list is ordered by precedence (properties defined in locations higher in the list override those defined in lower locations).</p>\n</blockquote>\n\n<p>Use <code>java -jar -Dserver.port=8090 jarfilename.jar</code> to set the port from command line.</p>\n\n<p>Hint, from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\" rel=\"noreferrer\">Spring.io</a>: If you want to use the short term <code>-Dport=8090</code>, you can use <code>server.port=${port:8080}</code> in your application property file.</p>\n"},{"tags":[],"owner":{"account_id":5402812,"reputation":386,"user_id":4302168,"display_name":"liuzhengyang"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1586932259,"creation_date":1586932259,"answer_id":61222638,"question_id":44758701,"body_markdown":"I encountered the same problem, in my case, I didn&#39;t pass the args to SpringApplication.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    SpringApplication.run(MySpringConfiguration.class);\r\n}\r\n```\r\nshould be \r\n```\r\npublic static void main(String[] args) {\r\n    SpringApplication.run(MySpringConfiguration.class, args);\r\n}\r\n```","title":"server.port properties not working after buildin spring boot project","body":"<p>I encountered the same problem, in my case, I didn't pass the args to SpringApplication.</p>\n\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(MySpringConfiguration.class);\n}\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(MySpringConfiguration.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15147271,"reputation":5,"user_id":10930612,"display_name":"Bylaw"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614521842,"creation_date":1614521842,"answer_id":66410010,"question_id":44758701,"body_markdown":"I know its an old post, but I might know the answer(maybe it will help others): **There is a hierarchy with the configuration settings.** \r\n\r\nThe *applicaton.properties file is at the bottom*(OS env. variables, Java System properties etc. are all above), on the other hand, *terminal parameters are at the top*.\r\n\r\nSo  when the server initialized, it used the port from a property setting, that is higher in the hierarchy ladder. \r\n\r\n\r\n","title":"server.port properties not working after buildin spring boot project","body":"<p>I know its an old post, but I might know the answer(maybe it will help others): <strong>There is a hierarchy with the configuration settings.</strong></p>\n<p>The <em>applicaton.properties file is at the bottom</em>(OS env. variables, Java System properties etc. are all above), on the other hand, <em>terminal parameters are at the top</em>.</p>\n<p>So  when the server initialized, it used the port from a property setting, that is higher in the hierarchy ladder.</p>\n"},{"tags":[],"owner":{"account_id":20898416,"reputation":1,"user_id":15352047,"display_name":"martin earnest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667391180,"creation_date":1667391180,"answer_id":74288973,"question_id":44758701,"body_markdown":"when you create spring boot application using &#39;spring initializer&#39; select jar file ","title":"server.port properties not working after buildin spring boot project","body":"<p>when you create spring boot application using 'spring initializer' select jar file</p>\n"},{"tags":[],"owner":{"account_id":22179694,"reputation":11,"user_id":16423599,"display_name":"gprem062"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677751390,"creation_date":1677751176,"answer_id":75613855,"question_id":44758701,"body_markdown":"The application.properties file is excluded. \r\n\r\n\r\n----------\r\nGo to project properties -&gt; Java Build Path -&gt; &lt;Choose your project&#39;s /src/main/resources&gt; -&gt; Double click on Excluded -&gt; Remove (** pattern mostly) -&gt; Apply.\r\n\r\n\r\n----------\r\nNow recheck","title":"server.port properties not working after buildin spring boot project","body":"<p>The application.properties file is excluded.</p>\n<hr />\n<p>Go to project properties -&gt; Java Build Path -&gt; &lt;Choose your project's /src/main/resources&gt; -&gt; Double click on Excluded -&gt; Remove (** pattern mostly) -&gt; Apply.</p>\n<hr />\n<p>Now recheck</p>\n"},{"tags":[],"owner":{"account_id":5225894,"reputation":66,"user_id":4852205,"display_name":"Pablo Diego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682109858,"creation_date":1682109858,"answer_id":76076589,"question_id":44758701,"body_markdown":"I configured SERVER_PORT environment variable and had same problem. With this variable configured, the application.properties does not work. After remove environment variable &quot;SERVER_PORT&quot; or just edit it, I could change the port.  \r\n\r\nReference: [Spring - 78.3 Change the HTTP Port][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/howto-embedded-web-servers.html","title":"server.port properties not working after buildin spring boot project","body":"<p>I configured SERVER_PORT environment variable and had same problem. With this variable configured, the application.properties does not work. After remove environment variable &quot;SERVER_PORT&quot; or just edit it, I could change the port.</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/howto-embedded-web-servers.html\" rel=\"nofollow noreferrer\">Spring - 78.3 Change the HTTP Port</a></p>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24105,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44759389,"answer_count":6,"score":6,"last_activity_date":1682109858,"creation_date":1498476550,"question_id":44758701,"body_markdown":"i&#39;m working on spring boot project and all works fine , now i want to build and run the app.\r\nin the application.properties file i set the property `server.port = 8090`\r\nafter building the project using maven i run the following command \r\n`java -jar jarfilename.jar` but it says the port `8080` is already in use.\r\ni try these commands:\r\n\r\n    java -jar  -Dport=8090 jarfilename.jar\r\nand \r\n\r\n    java -jar  jarfilename.jar --port=8090\r\n\r\nbut also i got the same message  the port `8080` is already in use.\r\n\r\nI&#39;m wondering why it takes the  port number `8080`  and ignore the port number `8090` that i set in the application.properties file.\r\n\r\nNote : (I&#39;m using tomcat embedded server) and  when i check the folder target/classes.. application.properties i didn&#39;t find the property `server.port=8090`.\r\n\r\ncan anyone explain to me what&#39; happen exacly?\r\nthanks in advance.\r\n","title":"server.port properties not working after buildin spring boot project","body":"<p>i'm working on spring boot project and all works fine , now i want to build and run the app.\nin the application.properties file i set the property <code>server.port = 8090</code>\nafter building the project using maven i run the following command \n<code>java -jar jarfilename.jar</code> but it says the port <code>8080</code> is already in use.\ni try these commands:</p>\n\n<pre><code>java -jar  -Dport=8090 jarfilename.jar\n</code></pre>\n\n<p>and </p>\n\n<pre><code>java -jar  jarfilename.jar --port=8090\n</code></pre>\n\n<p>but also i got the same message  the port <code>8080</code> is already in use.</p>\n\n<p>I'm wondering why it takes the  port number <code>8080</code>  and ignore the port number <code>8090</code> that i set in the application.properties file.</p>\n\n<p>Note : (I'm using tomcat embedded server) and  when i check the folder target/classes.. application.properties i didn't find the property <code>server.port=8090</code>.</p>\n\n<p>can anyone explain to me what' happen exacly?\nthanks in advance.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","gradle"],"owner":{"account_id":17330286,"reputation":193,"user_id":12553573,"display_name":"Ethan Solomon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682109413,"creation_date":1682094424,"question_id":76075080,"body_markdown":"I&#39;ve been trying to get the gradle plugin for liquibase+hibernate working based on several tutorials I have found online, and whenever I try generate the diff, I keep getting the following exception: \r\n```\r\nDriver class was not specified and could not be determined from the url (hibernate:spring:com.project.database.dto?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy)\r\n```\r\n\r\nThe path: &quot;hibernate:spring:com.project.database.dto&quot; represents the package where all my Hibernate Entities are.\r\n\r\nBased on the documentation found here, https://docs.liquibase.com/commands/inspection/diff.html, it seems to be expecting something like \r\n```\r\njdbc:postgres://localhost...\r\n```\r\nHowever, when I do that, the diff command works without any errors, but that is incorrect, as it appears to not pick up any changes I made to any of the entities. Based on several tutorials (or for example, this Stack over flow question here: https://stackoverflow.com/questions/57158781/cannot-find-database-driver-driver-class-was-not-specified-and-could-not-be-de), it does seem like the &quot;hibernate:spring:...&quot; referenceUrl is needed).\r\n\r\nThis is my gradle file:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &#39;org.liquibase.gradle&#39; version &#39;2.2.0&#39;\r\n}\r\n\r\ngroup &#39;com.project&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\n\r\ndependencies {\r\n    //spring\r\n    //db--------------------------------------------------------------------\r\n    // https://mvnrepository.com/artifact/com.h2database/h2\r\n    testImplementation group: &#39;com.h2database&#39;, name: &#39;h2&#39;, version: &#39;1.3.148&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    // https://mvnrepository.com/artifact/org.postgresql/postgresql\r\n    implementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.6.0&#39;\r\n    // https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n    implementation group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.33&#39;\r\n    //db migration ----------------------------------------------------------\r\n    // https://mvnrepository.com/artifact/org.liquibase/liquibase-core\r\n    //Liquibase\r\n    implementation group: &#39;org.liquibase&#39;, name: &#39;liquibase-core&#39;, version: &#39;4.21.1&#39;\r\n\r\n    liquibaseRuntime &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    liquibaseRuntime &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    liquibaseRuntime &#39;org.liquibase:liquibase-core:4.16.1&#39;\r\n    liquibaseRuntime &#39;org.liquibase:liquibase-groovy-dsl:3.0.2&#39;\r\n    liquibaseRuntime &#39;info.picocli:picocli:4.6.1&#39;\r\n    liquibaseRuntime group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39;\r\n    liquibaseRuntime(&quot;ch.qos.logback:logback-core:1.2.3&quot;)\r\n    liquibaseRuntime(&quot;ch.qos.logback:logback-classic:1.2.3&quot;)\r\n    liquibaseRuntime &#39;org.liquibase.ext:liquibase-hibernate5:3.6&#39;\r\n    liquibaseRuntime group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.6.0&#39;\r\n    liquibaseRuntime sourceSets.main.output\r\n\r\n    //--------------------------------------------------------------------\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n    //unit test\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\nliquibase {\r\n    activities {\r\n        main {\r\n            changelogFile &quot;src/main/resources/db/changelog/db.changelog-master.yaml&quot;\r\n            url &quot;jdbc:postgresql://localhost:5432/db&quot;\r\n            username &quot;user&quot;\r\n            password &quot;pass&quot;\r\n            driver &quot;org.postgresql.Driver&quot;\r\n            referenceUrl &quot;hibernate:spring:com.project.database.dto?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;\r\n        }\r\n    }\r\n}\r\n```","title":"Liquibase Hibernate Gradle Plugin diff not working","body":"<p>I've been trying to get the gradle plugin for liquibase+hibernate working based on several tutorials I have found online, and whenever I try generate the diff, I keep getting the following exception:</p>\n<pre><code>Driver class was not specified and could not be determined from the url (hibernate:spring:com.project.database.dto?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy)\n</code></pre>\n<p>The path: &quot;hibernate:spring:com.project.database.dto&quot; represents the package where all my Hibernate Entities are.</p>\n<p>Based on the documentation found here, <a href=\"https://docs.liquibase.com/commands/inspection/diff.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/commands/inspection/diff.html</a>, it seems to be expecting something like</p>\n<pre><code>jdbc:postgres://localhost...\n</code></pre>\n<p>However, when I do that, the diff command works without any errors, but that is incorrect, as it appears to not pick up any changes I made to any of the entities. Based on several tutorials (or for example, this Stack over flow question here: <a href=\"https://stackoverflow.com/questions/57158781/cannot-find-database-driver-driver-class-was-not-specified-and-could-not-be-de\">&quot;Cannot find database driver: Driver class was not specified and could not be determined from the url&quot; error on using liquibase-hibernate plugin</a>), it does seem like the &quot;hibernate:spring:...&quot; referenceUrl is needed).</p>\n<p>This is my gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'org.liquibase.gradle' version '2.2.0'\n}\n\ngroup 'com.project'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n    //spring\n    //db--------------------------------------------------------------------\n    // https://mvnrepository.com/artifact/com.h2database/h2\n    testImplementation group: 'com.h2database', name: 'h2', version: '1.3.148'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    // https://mvnrepository.com/artifact/org.postgresql/postgresql\n    implementation group: 'org.postgresql', name: 'postgresql', version: '42.6.0'\n    // https://mvnrepository.com/artifact/mysql/mysql-connector-java\n    implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.33'\n    //db migration ----------------------------------------------------------\n    // https://mvnrepository.com/artifact/org.liquibase/liquibase-core\n    //Liquibase\n    implementation group: 'org.liquibase', name: 'liquibase-core', version: '4.21.1'\n\n    liquibaseRuntime 'org.springframework.boot:spring-boot-starter-test'\n    liquibaseRuntime 'org.springframework.boot:spring-boot-starter-data-jpa'\n    liquibaseRuntime 'org.liquibase:liquibase-core:4.16.1'\n    liquibaseRuntime 'org.liquibase:liquibase-groovy-dsl:3.0.2'\n    liquibaseRuntime 'info.picocli:picocli:4.6.1'\n    liquibaseRuntime group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'\n    liquibaseRuntime(&quot;ch.qos.logback:logback-core:1.2.3&quot;)\n    liquibaseRuntime(&quot;ch.qos.logback:logback-classic:1.2.3&quot;)\n    liquibaseRuntime 'org.liquibase.ext:liquibase-hibernate5:3.6'\n    liquibaseRuntime group: 'org.postgresql', name: 'postgresql', version: '42.6.0'\n    liquibaseRuntime sourceSets.main.output\n\n    //--------------------------------------------------------------------\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    //unit test\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nliquibase {\n    activities {\n        main {\n            changelogFile &quot;src/main/resources/db/changelog/db.changelog-master.yaml&quot;\n            url &quot;jdbc:postgresql://localhost:5432/db&quot;\n            username &quot;user&quot;\n            password &quot;pass&quot;\n            driver &quot;org.postgresql.Driver&quot;\n            referenceUrl &quot;hibernate:spring:com.project.database.dto?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jakarta-ee","servlet-filters"],"comments":[{"owner":{"account_id":2386165,"reputation":151,"user_id":2087103,"accept_rate":75,"display_name":"user2087103"},"score":0,"creation_date":1682016255,"post_id":76067287,"comment_id":134153560,"body_markdown":"I guess you are not using spring Security, right?","body":"I guess you are not using spring Security, right?"},{"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"score":0,"creation_date":1682016544,"post_id":76067287,"comment_id":134153615,"body_markdown":"@user2087103 Correct, I need to interface with a proprietary authentication server that doesn&#39;t play nicely with Spring Security.","body":"@user2087103 Correct, I need to interface with a proprietary authentication server that doesn&#39;t play nicely with Spring Security."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682016954,"post_id":76067287,"comment_id":134153694,"body_markdown":"you are missing an `@Autowired` on the field or (better) a constructor","body":"you are missing an <code>@Autowired</code> on the field or (better) a constructor"},{"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"score":0,"creation_date":1682017613,"post_id":76067287,"comment_id":134153826,"body_markdown":"That seems to have fixed it @grekier. Post it as an answer and I can accept it.","body":"That seems to have fixed it @grekier. Post it as an answer and I can accept it."},{"owner":{"account_id":2386165,"reputation":151,"user_id":2087103,"accept_rate":75,"display_name":"user2087103"},"score":0,"creation_date":1682017665,"post_id":76067287,"comment_id":134153837,"body_markdown":"Well i recommend you to do not invent the wheel and create a customauthenticationprovider in which you perform your queries. You will be grateful on the long term. Anyway, seems forgot the autowired","body":"Well i recommend you to do not invent the wheel and create a customauthenticationprovider in which you perform your queries. You will be grateful on the long term. Anyway, seems forgot the autowired"}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682108841,"creation_date":1682017641,"answer_id":76067481,"question_id":76067287,"body_markdown":"You are missing an `@Autowired` on the `SystemPropertyReposity spr` field or, even better a constructor","title":"How do I access the database from within a jakarta servlet Filter?","body":"<p>You are missing an <code>@Autowired</code> on the <code>SystemPropertyReposity spr</code> field or, even better a constructor</p>\n"}],"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76067481,"answer_count":1,"score":0,"last_activity_date":1682108841,"creation_date":1682016031,"question_id":76067287,"body_markdown":"I&#39;m working on a Spring Boot web application and I&#39;m implementing a filter (jakarta.servlet.Filter) for authentication. The filter needs some information from the database before it can authenticate the provided credentials, but I can&#39;t figure out how to get at the data because it&#39;s outside of the context of the Spring framework.\r\n\r\nIf I define a reference to a repository (org.springframework.stereotype.Repository) it doesn&#39;t get populated, it remains null. eg:\r\n\r\n```\r\n@Component\r\npublic class AuthFilter implements Filter {\r\n    private SystemPropertyReposity spr;   // &lt;-- null\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        SystemProperty sp = spr.findByPropertyKey(CLIENT_ID_KEY); // &lt;-- NullPointerException because spr is null.\r\n    }\r\n}\r\n```\r\n```\r\n@Repository\r\npublic interface SystemPropertyRepository extends JpaRepository&lt;SystemProperty, Integer&gt;{\r\n    SystemProperty findByPropertyKey(String propertyKey);\r\n}\r\n```\r\n\r\nI have the following set in my `application.properties`:\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/mypostgresdb\r\nspring.datasource.username=####\r\nspring.datasource.password=####\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\nElsewhere in my application, wherever it&#39;s within a Spring framework context, I&#39;m able to access the database without problem. It&#39;s probably something simple I&#39;ve overlooked, but how am I supposed to get at my database from within my filter?","title":"How do I access the database from within a jakarta servlet Filter?","body":"<p>I'm working on a Spring Boot web application and I'm implementing a filter (jakarta.servlet.Filter) for authentication. The filter needs some information from the database before it can authenticate the provided credentials, but I can't figure out how to get at the data because it's outside of the context of the Spring framework.</p>\n<p>If I define a reference to a repository (org.springframework.stereotype.Repository) it doesn't get populated, it remains null. eg:</p>\n<pre><code>@Component\npublic class AuthFilter implements Filter {\n    private SystemPropertyReposity spr;   // &lt;-- null\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        SystemProperty sp = spr.findByPropertyKey(CLIENT_ID_KEY); // &lt;-- NullPointerException because spr is null.\n    }\n}\n</code></pre>\n<pre><code>@Repository\npublic interface SystemPropertyRepository extends JpaRepository&lt;SystemProperty, Integer&gt;{\n    SystemProperty findByPropertyKey(String propertyKey);\n}\n</code></pre>\n<p>I have the following set in my <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/mypostgresdb\nspring.datasource.username=####\nspring.datasource.password=####\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>Elsewhere in my application, wherever it's within a Spring framework context, I'm able to access the database without problem. It's probably something simple I've overlooked, but how am I supposed to get at my database from within my filter?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":429476,"reputation":884,"user_id":812389,"accept_rate":25,"display_name":"navaltiger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682108007,"creation_date":1682105856,"answer_id":76076267,"question_id":76076266,"body_markdown":"Solution:\r\nTo solve this,\r\n\r\n* Retrieve Document from MongoDB and map it as Model\r\n* Take `Map&lt;String,Object&gt;` from user\r\nand push updates\r\n```java\r\npublic boolean updateObjectAttributes(SomeModel someModel, Map&lt;String, Object&gt; list) throws Exception { \r\n\r\n    if (list != null &amp;&amp; !list.isEmpty()) {\r\n        for (Map.Entry&lt;String, Object&gt; entry : list.entrySet()) {\r\n            Field f = SomeModel.class.getDeclaredField(entry.getKey());\r\n            f.setAccessible(true);\r\n            f.set(someModel , entry.getValue());\r\n        }\r\n    }\r\n    //... Further validations followed by mongo update\r\n}\r\n```","title":"How to update java object from fields and values provided in Map","body":"<p>Solution:\nTo solve this,</p>\n<ul>\n<li>Retrieve Document from MongoDB and map it as Model</li>\n<li>Take <code>Map&lt;String,Object&gt;</code> from user\nand push updates</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean updateObjectAttributes(SomeModel someModel, Map&lt;String, Object&gt; list) throws Exception { \n\n    if (list != null &amp;&amp; !list.isEmpty()) {\n        for (Map.Entry&lt;String, Object&gt; entry : list.entrySet()) {\n            Field f = SomeModel.class.getDeclaredField(entry.getKey());\n            f.setAccessible(true);\n            f.set(someModel , entry.getValue());\n        }\n    }\n    //... Further validations followed by mongo update\n}\n</code></pre>\n"}],"owner":{"account_id":429476,"reputation":884,"user_id":812389,"accept_rate":25,"display_name":"navaltiger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682108007,"creation_date":1682105856,"question_id":76076266,"body_markdown":"I need to update a document in MongoDB. This document has many fields, and I want to avoid taking entire document from User.  Basically user should only provide Map (key-val, where key is field name and value is respective value) \r\nI tried Update from Spring Data, but it was removing other fields. ","title":"How to update java object from fields and values provided in Map","body":"<p>I need to update a document in MongoDB. This document has many fields, and I want to avoid taking entire document from User.  Basically user should only provide Map (key-val, where key is field name and value is respective value)\nI tried Update from Spring Data, but it was removing other fields.</p>\n"},{"tags":["java","recursion","arraylist","methods","stdout"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1682101078,"post_id":76075659,"comment_id":134168158,"body_markdown":"Do you need to use recursion? Have you considered a loop alternative?","body":"Do you need to use recursion? Have you considered a loop alternative?"},{"owner":{"account_id":26751596,"reputation":61,"user_id":20350866,"display_name":"vishalpd"},"score":0,"creation_date":1682102129,"post_id":76075659,"comment_id":134168340,"body_markdown":"you are right, i should use while loop, it&#39;s much simpler and easy. What should i use as a condition for the while loop?","body":"you are right, i should use while loop, it&#39;s much simpler and easy. What should i use as a condition for the while loop?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1682104709,"post_id":76075659,"comment_id":134168807,"body_markdown":"Up to you. I might use `while ( ! teamAddedSuccess) `","body":"Up to you. I might use <code>while ( ! teamAddedSuccess) </code>"}],"answers":[{"tags":[],"owner":{"account_id":19248214,"reputation":440,"user_id":15063341,"display_name":"Visrut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682100220,"creation_date":1682100220,"answer_id":76075702,"question_id":76075659,"body_markdown":"You have to maintain some kind of `state` that can have two values based on our goal `show first print statement` and `don&#39;t show first print statement` we can use `boolean` for that.\r\n\r\nSo In your case, if we maintain `isAlreadyExist` as a `boolean` we can start to get this behavior with `recursion` and `state management`.\r\n\r\nSomething like below\r\n```java\r\npublic boolean isAlreadyExist = false;\r\n\r\npublic void addTeam(){\r\nif(!isAlreadyExist) {\r\n        System.out.print(&quot;Please enter the name of the team: &quot;);\r\n}\r\n        String teamName = In.nextLine();\r\n        if (teamExists(teamName) == null){ //teamExists() returns the team object if found else null \r\n            teams.add(new Team(teamName));\r\n            System.out.println(&quot;Team &quot; + teamName + &quot; added! &quot;);\r\n            this.isAlreadyExist = false;\r\n        }\r\n        else{\r\n            System.out.print(&quot;Team &quot; + teamName + &quot; already exist! &quot;);\r\n            this.isAlreadyExist = true;\r\n            addTeam();\r\n        }\r\n        teamsPage();\r\n    }\r\n```\r\n\r\nYou can maintain this state in a function argument as well, in this case, you have to pass a new state when you call the function it would increase the memory in the stack for every call but if you maintain the state as the class variable itself or globally in other languages it would be memory efficient maybe.","title":"How to print another statement in a recursive method when called again","body":"<p>You have to maintain some kind of <code>state</code> that can have two values based on our goal <code>show first print statement</code> and <code>don't show first print statement</code> we can use <code>boolean</code> for that.</p>\n<p>So In your case, if we maintain <code>isAlreadyExist</code> as a <code>boolean</code> we can start to get this behavior with <code>recursion</code> and <code>state management</code>.</p>\n<p>Something like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isAlreadyExist = false;\n\npublic void addTeam(){\nif(!isAlreadyExist) {\n        System.out.print(&quot;Please enter the name of the team: &quot;);\n}\n        String teamName = In.nextLine();\n        if (teamExists(teamName) == null){ //teamExists() returns the team object if found else null \n            teams.add(new Team(teamName));\n            System.out.println(&quot;Team &quot; + teamName + &quot; added! &quot;);\n            this.isAlreadyExist = false;\n        }\n        else{\n            System.out.print(&quot;Team &quot; + teamName + &quot; already exist! &quot;);\n            this.isAlreadyExist = true;\n            addTeam();\n        }\n        teamsPage();\n    }\n</code></pre>\n<p>You can maintain this state in a function argument as well, in this case, you have to pass a new state when you call the function it would increase the memory in the stack for every call but if you maintain the state as the class variable itself or globally in other languages it would be memory efficient maybe.</p>\n"},{"tags":[],"owner":{"account_id":26751596,"reputation":61,"user_id":20350866,"display_name":"vishalpd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682107775,"creation_date":1682107775,"answer_id":76076438,"question_id":76075659,"body_markdown":"The method didn&#39;t had to be recursive. I implemented function using while loops as suggested by a comment.\r\n\r\n```java\r\npublic void addTeam (){\r\n        System.out.print(&quot;Please enter the name of the team: &quot;);\r\n        String teamName = In.nextLine();\r\n        while (teamExists(teamName) != null){\r\n            System.out.print(&quot;Team &quot; + teamName + &quot; already exist! Please enter a new name: &quot;);\r\n            teamName = In.nextLine();\r\n        }\r\n        teams.add(new Team(teamName));\r\n        System.out.println(&quot;Team &quot; + teamName + &quot; added!&quot;);\r\n        teamsPage();\r\n    }\r\n```\r\n\r\nI love while loops.","title":"How to print another statement in a recursive method when called again","body":"<p>The method didn't had to be recursive. I implemented function using while loops as suggested by a comment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addTeam (){\n        System.out.print(&quot;Please enter the name of the team: &quot;);\n        String teamName = In.nextLine();\n        while (teamExists(teamName) != null){\n            System.out.print(&quot;Team &quot; + teamName + &quot; already exist! Please enter a new name: &quot;);\n            teamName = In.nextLine();\n        }\n        teams.add(new Team(teamName));\n        System.out.println(&quot;Team &quot; + teamName + &quot; added!&quot;);\n        teamsPage();\n    }\n</code></pre>\n<p>I love while loops.</p>\n"}],"owner":{"account_id":26751596,"reputation":61,"user_id":20350866,"display_name":"vishalpd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682107775,"creation_date":1682099791,"question_id":76075659,"body_markdown":"The `addTeam` method asks user for a String input. The new team is added in the arraylist if it does not exists else runs the method again.\r\n\r\nI want to change it so that if team already exists in the list it will print &quot;*team already exists! Please enter a new name*&quot; and ask user for input again without printing that first print statement in the method.\r\n\r\nedit: I cannot create a new field outside the method. Additionally, it doesn&#39;t have to a recursive method necessarily. Using loops may make it work too?\r\n\r\n\r\n```java\r\npublic void addTeam(){\r\n        System.out.print(&quot;Please enter the name of the team: &quot;);\r\n        String teamName = In.nextLine();   //In.nextLine() prompts user for String input\r\n        if (teamExists(teamName) == null){ //teamExists() returns the team object if found else null \r\n            teams.add(new Team(teamName));\r\n            System.out.println(&quot;Team &quot; + teamName + &quot; added! &quot;);\r\n        }\r\n        else{\r\n            System.out.print(&quot;Team &quot; + teamName + &quot; already exist! &quot;);\r\n            addTeam();\r\n        }\r\n        teamsPage();\r\n    }\r\n```\r\nSample I/O\r\n\r\n    Please enter the name of the team: Knicks\r\n    Team Knicks already exist! Please enter a new name: Lakers\r\n    Team Lakers already exist! Please enter a new name: Bulls\r\n    Team Bulls already exist! Please enter a new name: Warriors\r\n    Team Warriors added!","title":"How to print another statement in a recursive method when called again","body":"<p>The <code>addTeam</code> method asks user for a String input. The new team is added in the arraylist if it does not exists else runs the method again.</p>\n<p>I want to change it so that if team already exists in the list it will print &quot;<em>team already exists! Please enter a new name</em>&quot; and ask user for input again without printing that first print statement in the method.</p>\n<p>edit: I cannot create a new field outside the method. Additionally, it doesn't have to a recursive method necessarily. Using loops may make it work too?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addTeam(){\n        System.out.print(&quot;Please enter the name of the team: &quot;);\n        String teamName = In.nextLine();   //In.nextLine() prompts user for String input\n        if (teamExists(teamName) == null){ //teamExists() returns the team object if found else null \n            teams.add(new Team(teamName));\n            System.out.println(&quot;Team &quot; + teamName + &quot; added! &quot;);\n        }\n        else{\n            System.out.print(&quot;Team &quot; + teamName + &quot; already exist! &quot;);\n            addTeam();\n        }\n        teamsPage();\n    }\n</code></pre>\n<p>Sample I/O</p>\n<pre><code>Please enter the name of the team: Knicks\nTeam Knicks already exist! Please enter a new name: Lakers\nTeam Lakers already exist! Please enter a new name: Bulls\nTeam Bulls already exist! Please enter a new name: Warriors\nTeam Warriors added!\n</code></pre>\n"},{"tags":["java","formatting","itext"],"owner":{"account_id":17061435,"reputation":113,"user_id":12344762,"display_name":"linux_user36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682107745,"creation_date":1682107745,"question_id":76076437,"body_markdown":"I&#39;ve noticed that iText 7 (sometimes) auto-inserts a space between two pieces of text if the first is italicized (i.e. &quot;*like*this&quot; -&gt; &quot;*like* this&quot;). The example below illustrates my problem:\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\n\r\nimport com.itextpdf.kernel.geom.PageSize;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Text;\r\n\r\npublic class PdfItalic {\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\tPdfDocument document = new PdfDocument(new PdfWriter(new File(&quot;italic.pdf&quot;)));\r\n\t\tDocument doc = new Document(document, PageSize.A4);\r\n\r\n\t\tParagraph p = new Paragraph();\r\n\t\tp.add(new Text(&quot;abc&quot;).setItalic());\r\n\t\tp.add(new Text(&quot;def&quot;));\r\n\r\n\t\tdoc.add(p);\r\n\t\tdoc.close();\r\n\t}\r\n}\r\n```\r\n\r\nWhich looks as follows when opened in a PDF viewer (and no, it is not a kerning problem; when I copy the text in a PDF viewer, it also copies that ghost space):\r\n\r\n[![Unwanted space between &quot;abc&quot; and &quot;def&quot;][1]][1]\r\n\r\nI want to avoid this behavior at any cost. How can I prevent iText 7 from inserting those misplaces spaces?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dWstx.png","title":"iText 7 inserting unwanted space after italic span","body":"<p>I've noticed that iText 7 (sometimes) auto-inserts a space between two pieces of text if the first is italicized (i.e. &quot;<em>like</em>this&quot; -&gt; &quot;<em>like</em> this&quot;). The example below illustrates my problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileNotFoundException;\n\nimport com.itextpdf.kernel.geom.PageSize;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Text;\n\npublic class PdfItalic {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        PdfDocument document = new PdfDocument(new PdfWriter(new File(&quot;italic.pdf&quot;)));\n        Document doc = new Document(document, PageSize.A4);\n\n        Paragraph p = new Paragraph();\n        p.add(new Text(&quot;abc&quot;).setItalic());\n        p.add(new Text(&quot;def&quot;));\n\n        doc.add(p);\n        doc.close();\n    }\n}\n</code></pre>\n<p>Which looks as follows when opened in a PDF viewer (and no, it is not a kerning problem; when I copy the text in a PDF viewer, it also copies that ghost space):</p>\n<p><a href=\"https://i.stack.imgur.com/dWstx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dWstx.png\" alt=\"Unwanted space between &quot;abc&quot; and &quot;def&quot;\" /></a></p>\n<p>I want to avoid this behavior at any cost. How can I prevent iText 7 from inserting those misplaces spaces?</p>\n"},{"tags":["java","data-structures","stack"],"comments":[{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1404518783,"post_id":24581818,"comment_id":38080124,"body_markdown":"Yeah, don&#39;t use `Stack`. `LinkedList` itself actually has the right methods to be used as a stack, so that would do if you really want a `LinkedList`-backed stack.","body":"Yeah, don&#39;t use <code>Stack</code>. <code>LinkedList</code> itself actually has the right methods to be used as a stack, so that would do if you really want a <code>LinkedList</code>-backed stack."},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":2,"creation_date":1404518784,"post_id":24581818,"comment_id":38080125,"body_markdown":"That said, the amortized overhead of expanding the array is offset by the improved locality of reference of an array, the reduced object overhead (an array is cheaper than a bunch of linked list nodes), and the lower cost of pushing or popping when you don&#39;t have to expand the array.","body":"That said, the amortized overhead of expanding the array is offset by the improved locality of reference of an array, the reduced object overhead (an array is cheaper than a bunch of linked list nodes), and the lower cost of pushing or popping when you don&#39;t have to expand the array."},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1404519046,"post_id":24581818,"comment_id":38080174,"body_markdown":"http://java.dzone.com/articles/why-future-generations-will","body":"<a href=\"http://java.dzone.com/articles/why-future-generations-will\" rel=\"nofollow noreferrer\">java.dzone.com/articles/why-future-generations-will</a>"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404521733,"post_id":24581818,"comment_id":38080562,"body_markdown":"A stack can be implemented many different ways.  The implementers of Stack chose to use an array, based on their priorities.  Others may have different priorities.","body":"A stack can be implemented many different ways.  The implementers of Stack chose to use an array, based on their priorities.  Others may have different priorities."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1601783399,"post_id":24581818,"comment_id":113510673,"body_markdown":"Amir&#39;s link is now https://dzone.com/articles/why-future-generations-will","body":"Amir&#39;s link is now <a href=\"https://dzone.com/articles/why-future-generations-will\" rel=\"nofollow noreferrer\">dzone.com/articles/why-future-generations-will</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1601779778,"creation_date":1404520367,"answer_id":24581952,"question_id":24581818,"body_markdown":"&gt; If you use add to front and remove from front in the linkedlist than it can be efficient way of of implementing stack, instead of working about increasing the size of the array when its 75% or some threshold full. \r\n\r\nThe trade-offs are more complicated than that.\r\n\r\n - A stack that is implement using a linked list would need 3 or 4 times as much space per stack entry as an array-based implementation:\r\n     - In an array-based implementation, a stack element just requires one reference-sized array cell.\r\n     - In a linked-list based implementation, each stack element consists of a &quot;node&quot; object containing 2 references (or 3 if doubly-linked).  Then you have to add the overhead of the node&#39;s object header and possible heap node padding.\r\n\r\n   &lt;sup&gt;You may waste some space due to resizing, but *on average* the math says that the wastage is much less than the &quot;node&quot; overheads.  If you are not prepared to take my word for this, do the math yourself for various combinations of platform assumptions; e.g. reference size, object header size, heap node size granularity, array resize strategy, etc.&lt;/sup&gt;\r\n\r\n - An array-based stack has predictable locality, whereas the objects that represent a linked list&#39;s entries could be scattered throughout the heap.\r\n\r\n - If you expand an array-based data structure by a fixed percentage when it gets full, AND the stack has a long life, THEN the cost of the expansion is amortized, and becomes irrelevant.\r\n\r\nOn the flip-side a linked-list based implementation does have the advantage that space gets released (i.e. becomes eligible for GCing) when the stack empties.\r\n\r\nIn short, different implementation approaches will be better depending on how the stack is going to be used.  But the `Stack` implementors had to pick just one.\r\n\r\n-------------------\r\n\r\nThe other point is that `Stack` is a really old class that existed in Java 1.0 ... before the collections framework was introduced.  The API and aspects of the implementation are constrained by the need for backwards compatibility.  \r\n\r\nIf you want better APIs and better (or different) performance characteristics, look at the classes that implement the `Dequeue` interface.","title":"Why stack using array why not linkedlist","body":"<blockquote>\n<p>If you use add to front and remove from front in the linkedlist than it can be efficient way of of implementing stack, instead of working about increasing the size of the array when its 75% or some threshold full.</p>\n</blockquote>\n<p>The trade-offs are more complicated than that.</p>\n<ul>\n<li><p>A stack that is implement using a linked list would need 3 or 4 times as much space per stack entry as an array-based implementation:</p>\n<ul>\n<li>In an array-based implementation, a stack element just requires one reference-sized array cell.</li>\n<li>In a linked-list based implementation, each stack element consists of a &quot;node&quot; object containing 2 references (or 3 if doubly-linked).  Then you have to add the overhead of the node's object header and possible heap node padding.</li>\n</ul>\n<p><sup>You may waste some space due to resizing, but <em>on average</em> the math says that the wastage is much less than the &quot;node&quot; overheads.  If you are not prepared to take my word for this, do the math yourself for various combinations of platform assumptions; e.g. reference size, object header size, heap node size granularity, array resize strategy, etc.</sup></p>\n</li>\n<li><p>An array-based stack has predictable locality, whereas the objects that represent a linked list's entries could be scattered throughout the heap.</p>\n</li>\n<li><p>If you expand an array-based data structure by a fixed percentage when it gets full, AND the stack has a long life, THEN the cost of the expansion is amortized, and becomes irrelevant.</p>\n</li>\n</ul>\n<p>On the flip-side a linked-list based implementation does have the advantage that space gets released (i.e. becomes eligible for GCing) when the stack empties.</p>\n<p>In short, different implementation approaches will be better depending on how the stack is going to be used.  But the <code>Stack</code> implementors had to pick just one.</p>\n<hr />\n<p>The other point is that <code>Stack</code> is a really old class that existed in Java 1.0 ... before the collections framework was introduced.  The API and aspects of the implementation are constrained by the need for backwards compatibility.</p>\n<p>If you want better APIs and better (or different) performance characteristics, look at the classes that implement the <code>Dequeue</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404525787,"creation_date":1404525787,"answer_id":24582343,"question_id":24581818,"body_markdown":"Stack does not need access to the first element, push / pop / peek work only with the last element and array is good for that.","title":"Why stack using array why not linkedlist","body":"<p>Stack does not need access to the first element, push / pop / peek work only with the last element and array is good for that.</p>\n"},{"tags":[],"owner":{"account_id":25880940,"reputation":1,"user_id":19610008,"display_name":"Jatin Lanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682107223,"creation_date":1682107223,"answer_id":76076398,"question_id":24581818,"body_markdown":"Linked lists require extra memory to store pointers to the next element, which can be less memory efficient than arrays.","title":"Why stack using array why not linkedlist","body":"<p>Linked lists require extra memory to store pointers to the next element, which can be less memory efficient than arrays.</p>\n"}],"owner":{"account_id":1746735,"reputation":1497,"user_id":1596751,"accept_rate":46,"display_name":"plzdontkillme"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24581952,"answer_count":3,"score":2,"last_activity_date":1682107223,"creation_date":1404518515,"question_id":24581818,"body_markdown":"Why Stack is implemented using array not using linkedlist ?\r\n\r\nIf you use add to front and remove from front in the linkedlist than it can be efficient way of of implementing stack, instead of working about increasing the size of the array when it&#39;s 75% or some threshold full. ","title":"Why stack using array why not linkedlist","body":"<p>Why Stack is implemented using array not using linkedlist ?</p>\n\n<p>If you use add to front and remove from front in the linkedlist than it can be efficient way of of implementing stack, instead of working about increasing the size of the array when it's 75% or some threshold full. </p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriver"],"comments":[{"owner":{"account_id":1582991,"reputation":2281,"user_id":1467914,"accept_rate":75,"display_name":"topsail"},"score":0,"creation_date":1682108929,"post_id":76076396,"comment_id":134169512,"body_markdown":"Have you tried these suggestions: [selenium-unable-to-find-a-free-port](https://stackoverflow.com/questions/41858790/selenium-unable-to-find-a-free-port)","body":"Have you tried these suggestions: <a href=\"https://stackoverflow.com/questions/41858790/selenium-unable-to-find-a-free-port\">selenium-unable-to-find-a-free-port</a>"},{"owner":{"account_id":15311739,"reputation":161,"user_id":11046842,"display_name":"Revanth Kovuri"},"score":0,"creation_date":1682369608,"post_id":76076396,"comment_id":134201612,"body_markdown":"@topsail Yes, nothing worked.","body":"@topsail Yes, nothing worked."}],"owner":{"account_id":15311739,"reputation":161,"user_id":11046842,"display_name":"Revanth Kovuri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682107210,"creation_date":1682107210,"question_id":76076396,"body_markdown":"Seeing below error when trying to create an instance of ChromeDriver. Using Mac and eclipse for my first Selenium project.\r\n\r\nCode Used:\r\n\t\t\r\n\r\n    WebDriver chromeDriver = new ChromeDriver();\r\n    \t\tchromeDriver.get(&quot;https://www.selenium.dev&quot;);\r\n    \t\tSystem.out.println(chromeDriver.getTitle());\r\n    \t\tSystem.out.println(chromeDriver.getCurrentUrl());\r\n\r\nError Received:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Unable to find a free port\r\n    \tat org.openqa.selenium.net.PortProber.findFreePort(PortProber.java:62)\r\n    \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:441)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:162)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n    \tat SeIntro.main(SeIntro.java:12)\r\n\r\n\r\n","title":"Unable to find a free port for ChromeDriver","body":"<p>Seeing below error when trying to create an instance of ChromeDriver. Using Mac and eclipse for my first Selenium project.</p>\n<p>Code Used:</p>\n<pre><code>WebDriver chromeDriver = new ChromeDriver();\n        chromeDriver.get(&quot;https://www.selenium.dev&quot;);\n        System.out.println(chromeDriver.getTitle());\n        System.out.println(chromeDriver.getCurrentUrl());\n</code></pre>\n<p>Error Received:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Unable to find a free port\n    at org.openqa.selenium.net.PortProber.findFreePort(PortProber.java:62)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:441)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:162)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\n    at SeIntro.main(SeIntro.java:12)\n</code></pre>\n"},{"tags":["java","spring-boot","paypal","webclient"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682093221,"creation_date":1682090734,"answer_id":76074590,"question_id":76074367,"body_markdown":"The api doc you link to says the cancel body is json and contains {“reason”: “too expensive”}. You are sending a form. Hence 415: form ≠ json.\r\n\r\n\r\nTry this:\r\n\r\n    String body = “{\\”reason\\”: \\”too expensive\\”}”;\r\n    \r\n    WebClient client = WebClient.create(host);\r\n    \r\n            WebClient.ResponseSpec responseSpec = client.post()\r\n       .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;/cancel&quot;)\r\n                .headers(h -&gt; {\r\n                    h.setBearerAuth(token);\r\n                })\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(BodyInserters.fromValue(body))\r\n                .retrieve();","title":"Java Springboot WebClient call to API results in http-415","body":"<p>The api doc you link to says the cancel body is json and contains {“reason”: “too expensive”}. You are sending a form. Hence 415: form ≠ json.</p>\n<p>Try this:</p>\n<pre><code>String body = “{\\”reason\\”: \\”too expensive\\”}”;\n\nWebClient client = WebClient.create(host);\n\n        WebClient.ResponseSpec responseSpec = client.post()\n   .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;/cancel&quot;)\n            .headers(h -&gt; {\n                h.setBearerAuth(token);\n            })\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(BodyInserters.fromValue(body))\n            .retrieve();\n</code></pre>\n"}],"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76074590,"answer_count":1,"score":0,"last_activity_date":1682106876,"creation_date":1682089086,"question_id":76074367,"body_markdown":"I am working with Java Spring boot - and I am trying to complete the integration of the paypal subscriptions api.\r\n\r\nI&#39;ve got a show subscription plan working in WebClient - although I am unable to complete the functionality for the cancel subscription method.\r\n\r\nI get a 415 error -- \r\n\r\n&quot;message&quot;: &quot;415 Unsupported Media Type from POST https://api.sandbox.paypal.com/v1/billing/subscriptions/I-JJ0B8HRKSRYV/cancel&quot;,\r\n\r\nhttps://developer.paypal.com/api/rest/responses/\r\n\r\nhttps://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions_cancel\r\n-- when I look at the curl approach - it claims content-type and accept are in the header -- but it could also be the way I&#39;ve tried to add the body?\r\n\r\nhttps://reflectoring.io/spring-webclient/\r\n\r\n//showSubscriptionDetails method\r\n\r\n    @CrossOrigin\r\n    @GetMapping(&quot;/api/showsubscriptiondetails&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;BaseResponse&gt; showSubscriptionDetails(\r\n            @RequestParam(&quot;subscriptionID&quot;) String subscriptionID\r\n    ) throws PayPalRESTException {\r\n        BaseResponse response = new BaseResponse();\r\n    \r\n        String bearerToken = generateAccessToken();\r\n        String token = bearerToken.split(&quot; &quot;)[1].trim();\r\n    \r\n        WebClient client = WebClient.create(host);\r\n    \r\n        WebClient.ResponseSpec responseSpec = client.get()\r\n                .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;?fields=plan&quot;)\r\n                .headers(h -&gt; {\r\n                    h.setBearerAuth(token);\r\n                })\r\n                .retrieve();\r\n    \r\n        String responseBody = responseSpec.bodyToMono(String.class).block();\r\n    \r\n    \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode root = null;\r\n        try {\r\n            root = mapper.readTree(responseBody);\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        JsonNode status = root.path(&quot;status&quot;);\r\n        JsonNode plan = root.path(&quot;plan&quot;).get(&quot;name&quot;);\r\n    \r\n        BasicDBObject res = new BasicDBObject();\r\n        res.put(&quot;status&quot;, status);\r\n        res.put(&quot;plan&quot;, plan);\r\n    \r\n        response.setCode(&quot;OK&quot;);\r\n        response.setData(res);\r\n        response.setDescription(appMessageLocalUtil.getLanguageMessage(&quot;subscription.found&quot;));\r\n        return ResponseEntity.ok().body(response);\r\n    }\r\n\r\n\r\n\r\n//cancelSubscription method\r\n\r\n\r\n    MultiValueMap&lt;String, String&gt; bodyValues = new LinkedMultiValueMap&lt;&gt;();\r\n    bodyValues.add(&quot;reason&quot;, &quot;too expensive&quot;);\r\n\r\n\r\n    String bearerToken = generateAccessToken();\r\n    String token = bearerToken.split(&quot; &quot;)[1].trim();\r\n\r\n    WebClient client = WebClient.create(host);\r\n\r\n    WebClient.ResponseSpec responseSpec = client.post()\r\n            .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;/cancel&quot;)\r\n            .headers(h -&gt; {\r\n                h.setBearerAuth(token);\r\n            })\r\n            .retrieve();\r\n\r\n    String responseBody = responseSpec.bodyToMono(String.class).block();\r\n\r\n    System.out.println(&quot;responseSpec-- &quot;+ responseSpec);\r\n    System.out.println(&quot;responseBody-- &quot;+ responseBody);\r\n\r\n\r\n... attempts\r\n\r\n\r\nI&#39;ve tried adding the content type in the header and as part of the main build but nothing seems to pass.\r\n\r\n           WebClient client = WebClient.create(host);\r\n    \r\n            WebClient.ResponseSpec responseSpec = client.post()\r\n                    .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;/cancel&quot;)\r\n                    .headers(h -&gt; {\r\n                        h.setBearerAuth(token);\r\n                        //h.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n                        //h.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n                    })\r\n                    .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                    //.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n                    //.contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                    //.accept(MediaType.APPLICATION_JSON)\r\n                    .body(BodyInserters.fromFormData(bodyValues))\r\n                    .retrieve();\r\n\r\n\r\n--\r\n21st April 2023\r\n--\r\nworking code was this - making body an object and using fromValue in the bodyinserter -- responseBody is null on outcome- but it does cancel the subscribe id\r\n\r\n    BasicDBObject body = new BasicDBObject();\r\n    body.put(&quot;reason&quot;, &quot;xxx&quot;);\r\n    \r\n    String bearerToken = generateAccessToken();\r\n    String token = bearerToken.split(&quot; &quot;)[1].trim();\r\n    \r\n    WebClient client = WebClient.create(host);\r\n    \r\n    WebClient.ResponseSpec responseSpec = client.post()\r\n            .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;/cancel&quot;)\r\n            .headers(h -&gt; {\r\n                h.setBearerAuth(token);\r\n            })\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(BodyInserters.fromValue(body))\r\n            .retrieve();\r\n    \r\n    String responseBody = responseSpec.bodyToMono(String.class).block();\r\n    System.out.println(&quot;responseSpec-- &quot;+ responseSpec);\r\n    System.out.println(&quot;responseBody-- &quot;+ responseBody);","title":"Java Springboot WebClient call to API results in http-415","body":"<p>I am working with Java Spring boot - and I am trying to complete the integration of the paypal subscriptions api.</p>\n<p>I've got a show subscription plan working in WebClient - although I am unable to complete the functionality for the cancel subscription method.</p>\n<p>I get a 415 error --</p>\n<p>&quot;message&quot;: &quot;415 Unsupported Media Type from POST <a href=\"https://api.sandbox.paypal.com/v1/billing/subscriptions/I-JJ0B8HRKSRYV/cancel%22\" rel=\"nofollow noreferrer\">https://api.sandbox.paypal.com/v1/billing/subscriptions/I-JJ0B8HRKSRYV/cancel&quot;</a>,</p>\n<p><a href=\"https://developer.paypal.com/api/rest/responses/\" rel=\"nofollow noreferrer\">https://developer.paypal.com/api/rest/responses/</a></p>\n<p><a href=\"https://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions_cancel\" rel=\"nofollow noreferrer\">https://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions_cancel</a>\n-- when I look at the curl approach - it claims content-type and accept are in the header -- but it could also be the way I've tried to add the body?</p>\n<p><a href=\"https://reflectoring.io/spring-webclient/\" rel=\"nofollow noreferrer\">https://reflectoring.io/spring-webclient/</a></p>\n<p>//showSubscriptionDetails method</p>\n<pre><code>@CrossOrigin\n@GetMapping(&quot;/api/showsubscriptiondetails&quot;)\n@ResponseBody\npublic ResponseEntity&lt;BaseResponse&gt; showSubscriptionDetails(\n        @RequestParam(&quot;subscriptionID&quot;) String subscriptionID\n) throws PayPalRESTException {\n    BaseResponse response = new BaseResponse();\n\n    String bearerToken = generateAccessToken();\n    String token = bearerToken.split(&quot; &quot;)[1].trim();\n\n    WebClient client = WebClient.create(host);\n\n    WebClient.ResponseSpec responseSpec = client.get()\n            .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;?fields=plan&quot;)\n            .headers(h -&gt; {\n                h.setBearerAuth(token);\n            })\n            .retrieve();\n\n    String responseBody = responseSpec.bodyToMono(String.class).block();\n\n\n    ObjectMapper mapper = new ObjectMapper();\n    JsonNode root = null;\n    try {\n        root = mapper.readTree(responseBody);\n    } catch (JsonProcessingException e) {\n        e.printStackTrace();\n    }\n    JsonNode status = root.path(&quot;status&quot;);\n    JsonNode plan = root.path(&quot;plan&quot;).get(&quot;name&quot;);\n\n    BasicDBObject res = new BasicDBObject();\n    res.put(&quot;status&quot;, status);\n    res.put(&quot;plan&quot;, plan);\n\n    response.setCode(&quot;OK&quot;);\n    response.setData(res);\n    response.setDescription(appMessageLocalUtil.getLanguageMessage(&quot;subscription.found&quot;));\n    return ResponseEntity.ok().body(response);\n}\n</code></pre>\n<p>//cancelSubscription method</p>\n<pre><code>MultiValueMap&lt;String, String&gt; bodyValues = new LinkedMultiValueMap&lt;&gt;();\nbodyValues.add(&quot;reason&quot;, &quot;too expensive&quot;);\n\n\nString bearerToken = generateAccessToken();\nString token = bearerToken.split(&quot; &quot;)[1].trim();\n\nWebClient client = WebClient.create(host);\n\nWebClient.ResponseSpec responseSpec = client.post()\n        .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;/cancel&quot;)\n        .headers(h -&gt; {\n            h.setBearerAuth(token);\n        })\n        .retrieve();\n\nString responseBody = responseSpec.bodyToMono(String.class).block();\n\nSystem.out.println(&quot;responseSpec-- &quot;+ responseSpec);\nSystem.out.println(&quot;responseBody-- &quot;+ responseBody);\n</code></pre>\n<p>... attempts</p>\n<p>I've tried adding the content type in the header and as part of the main build but nothing seems to pass.</p>\n<pre><code>       WebClient client = WebClient.create(host);\n\n        WebClient.ResponseSpec responseSpec = client.post()\n                .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;/cancel&quot;)\n                .headers(h -&gt; {\n                    h.setBearerAuth(token);\n                    //h.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n                    //h.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n                })\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                //.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n                //.contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                //.accept(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromFormData(bodyValues))\n                .retrieve();\n</code></pre>\n<h2>--\n21st April 2023</h2>\n<p>working code was this - making body an object and using fromValue in the bodyinserter -- responseBody is null on outcome- but it does cancel the subscribe id</p>\n<pre><code>BasicDBObject body = new BasicDBObject();\nbody.put(&quot;reason&quot;, &quot;xxx&quot;);\n\nString bearerToken = generateAccessToken();\nString token = bearerToken.split(&quot; &quot;)[1].trim();\n\nWebClient client = WebClient.create(host);\n\nWebClient.ResponseSpec responseSpec = client.post()\n        .uri(&quot;/v1/billing/subscriptions/&quot;+subscriptionID+&quot;/cancel&quot;)\n        .headers(h -&gt; {\n            h.setBearerAuth(token);\n        })\n        .contentType(MediaType.APPLICATION_JSON)\n        .body(BodyInserters.fromValue(body))\n        .retrieve();\n\nString responseBody = responseSpec.bodyToMono(String.class).block();\nSystem.out.println(&quot;responseSpec-- &quot;+ responseSpec);\nSystem.out.println(&quot;responseBody-- &quot;+ responseBody);\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":27842488,"reputation":15,"user_id":21258697,"display_name":"JavaStudent001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682106793,"creation_date":1682104627,"question_id":76076165,"body_markdown":"I have been fighting with roles all day long and I can&#39;t solve this :(.\r\nMy code below:\r\n\r\nSecurityConfig.class\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        private final RsaKeyProperties rsaKeys;\r\n    \r\n        public SecurityConfig(RsaKeyProperties rsaKeys) {\r\n            this.rsaKeys = rsaKeys;\r\n        }\r\n    \r\n        @Bean\r\n        public InMemoryUserDetailsManager user() {\r\n            return new InMemoryUserDetailsManager(\r\n                    User.withUsername(&quot;wojtek&quot;)\r\n                            .password(&quot;{noop}password&quot;)\r\n                            .roles(&quot;USER&quot;)\r\n                            .build()\r\n            );\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .csrf(csrf -&gt; csrf.disable())\r\n                    .authorizeHttpRequests(auth -&gt;\r\n                            auth\r\n                                    .requestMatchers(&quot;/token&quot;).authenticated()\r\n                                    .requestMatchers(&quot;/&quot;).hasRole(&quot;USER&quot;)\r\n                    )\r\n                    .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .httpBasic(withDefaults())\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        JwtDecoder jwtDecoder() {\r\n            return NimbusJwtDecoder.withPublicKey(rsaKeys.publicKey()).build();\r\n        }\r\n    \r\n        @Bean\r\n        JwtEncoder jwtEncoder() {\r\n            JWK jwk = new RSAKey.Builder(rsaKeys.publicKey()).privateKey(rsaKeys.privateKey()).build();\r\n            JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n            return new NimbusJwtEncoder(jwks);\r\n        }\r\n    }\r\n\r\nTokenService.class\r\n\r\n    @Service\r\n    public class TokenService {\r\n    \r\n        private final JwtEncoder encoder;\r\n    \r\n        public TokenService(JwtEncoder encoder) {\r\n            this.encoder = encoder;\r\n        }\r\n    \r\n    \r\n        public String generateToken(Authentication authentication) {\r\n            Instant now = Instant.now();\r\n            String scope = authentication.getAuthorities().stream()\r\n                    .map(GrantedAuthority::getAuthority)\r\n                    .collect(Collectors.joining(&quot; &quot;));\r\n    \r\n            System.out.println(scope);\r\n    \r\n            JwtClaimsSet claims = JwtClaimsSet.builder()\r\n                    .issuer(&quot;self&quot;)\r\n                    .issuedAt(now)\r\n                    .expiresAt(now.plus(1, ChronoUnit.HOURS))\r\n                    .subject(authentication.getName())\r\n                    .claim(&quot;roles&quot;, scope)\r\n                    .build();\r\n    \r\n            return encoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\r\n        }\r\n    }\r\n\r\nHomeController.java\r\n\r\n    @RestController\r\n    public class HomeController {\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public String home(Principal principal) {\r\n            return &quot;Hello, &quot; + principal.getName() + &quot;!&quot;;\r\n        }\r\n    }\r\n\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\r\nI don&#39;t have any idea :(.\r\nWhat is the problem? \r\n\r\n    System.out.println(scope); //prints ROLE_USER\r\n\r\nThank you for help!\r\n\r\n//EDIT\r\nAll fine works!\r\n\r\nwith\r\n\r\n    .requestMatchers(&quot;/&quot;).hasAuthority(&quot;SCOPE_USER&quot;)\r\n\r\n    User.withUsername(&quot;wojtek&quot;)\r\n                    .password(&quot;{noop}password&quot;)\r\n                    .authorities(&quot;USER&quot;)\r\n                    .build());\r\n\r\n    JwtClaimsSet claims = JwtClaimsSet.builder()\r\n            .issuer(&quot;self&quot;)\r\n            .issuedAt(now)\r\n            .expiresAt(now.plus(1, ChronoUnit.HOURS))\r\n            .subject(authentication.getName())\r\n            .claim(&quot;scope&quot;, scope)\r\n            .build();","title":"Roles don&#39;t work in Spring Boot Oauth Resource Server","body":"<p>I have been fighting with roles all day long and I can't solve this :(.\nMy code below:</p>\n<p>SecurityConfig.class</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final RsaKeyProperties rsaKeys;\n\n    public SecurityConfig(RsaKeyProperties rsaKeys) {\n        this.rsaKeys = rsaKeys;\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager user() {\n        return new InMemoryUserDetailsManager(\n                User.withUsername(&quot;wojtek&quot;)\n                        .password(&quot;{noop}password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build()\n        );\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests(auth -&gt;\n                        auth\n                                .requestMatchers(&quot;/token&quot;).authenticated()\n                                .requestMatchers(&quot;/&quot;).hasRole(&quot;USER&quot;)\n                )\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .httpBasic(withDefaults())\n                .build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withPublicKey(rsaKeys.publicKey()).build();\n    }\n\n    @Bean\n    JwtEncoder jwtEncoder() {\n        JWK jwk = new RSAKey.Builder(rsaKeys.publicKey()).privateKey(rsaKeys.privateKey()).build();\n        JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n        return new NimbusJwtEncoder(jwks);\n    }\n}\n</code></pre>\n<p>TokenService.class</p>\n<pre><code>@Service\npublic class TokenService {\n\n    private final JwtEncoder encoder;\n\n    public TokenService(JwtEncoder encoder) {\n        this.encoder = encoder;\n    }\n\n\n    public String generateToken(Authentication authentication) {\n        Instant now = Instant.now();\n        String scope = authentication.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.joining(&quot; &quot;));\n\n        System.out.println(scope);\n\n        JwtClaimsSet claims = JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;)\n                .issuedAt(now)\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\n                .subject(authentication.getName())\n                .claim(&quot;roles&quot;, scope)\n                .build();\n\n        return encoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\n    }\n}\n</code></pre>\n<p>HomeController.java</p>\n<pre><code>@RestController\npublic class HomeController {\n\n    @GetMapping(&quot;/&quot;)\n    public String home(Principal principal) {\n        return &quot;Hello, &quot; + principal.getName() + &quot;!&quot;;\n    }\n}\n</code></pre>\n<p>I had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI had logged and sent request at &quot;/&quot; and I get 403 Forbidden Error.\nI don't have any idea :(.\nWhat is the problem?</p>\n<pre><code>System.out.println(scope); //prints ROLE_USER\n</code></pre>\n<p>Thank you for help!</p>\n<p>//EDIT\nAll fine works!</p>\n<p>with</p>\n<pre><code>.requestMatchers(&quot;/&quot;).hasAuthority(&quot;SCOPE_USER&quot;)\n\nUser.withUsername(&quot;wojtek&quot;)\n                .password(&quot;{noop}password&quot;)\n                .authorities(&quot;USER&quot;)\n                .build());\n\nJwtClaimsSet claims = JwtClaimsSet.builder()\n        .issuer(&quot;self&quot;)\n        .issuedAt(now)\n        .expiresAt(now.plus(1, ChronoUnit.HOURS))\n        .subject(authentication.getName())\n        .claim(&quot;scope&quot;, scope)\n        .build();\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-motionlayout"],"comments":[{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1681828513,"post_id":76040722,"comment_id":134117666,"body_markdown":"Where is the MotionLayout?","body":"Where is the MotionLayout?"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1681864336,"post_id":76040722,"comment_id":134124785,"body_markdown":"@hoford i have updated the code if you want to take a look , Thank you","body":"@hoford i have updated the code if you want to take a look , Thank you"}],"answers":[{"tags":[],"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682106650,"creation_date":1682106650,"answer_id":76076337,"question_id":76040722,"body_markdown":"**The main problem**\r\n\r\nIt looks like you are trying to drag the ```LinearLayout``` up\r\nBut do not define ```motion:touchAnchorId=&quot;@+id/linearLayout&quot;```\r\n```xml\r\n        &lt;OnSwipe \r\n            app:touchAnchorSide=&quot;top&quot;\r\n            app:touchAnchorId=&quot;@+id/linearLayout&quot;\r\n         /&gt;\r\n\r\n```\r\nadditional OnSwipe arguments would modify the default behavior.\r\nBased on preferences.\r\n  \r\n**Secondary problem**\r\n\r\nLooking at only attributes. You are going from:\r\n```XML\r\n    \r\n        &lt;ImageView\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_height=&quot;150dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;parent&quot;/&gt;\r\n   \r\n\r\n```\r\n\r\nto \r\n\r\n```XML\r\n    &lt;ImageView\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n```\r\n\r\nThe ```LinearLayout``` goes from 50% below the screen to  wrap_content. I am not sure what is meant to happen here.\r\nThere are many possible effects you want.\r\n\r\nIf you want to hide extra off screen you could have the start look like this\r\n```xml\r\n &lt;LinearLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;-75dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;parent&quot;/&gt;\r\n```\r\nBut there are many possibilities.","title":"Make MotionLayout in android expand fully in screen","body":"<p><strong>The main problem</strong></p>\n<p>It looks like you are trying to drag the <code>LinearLayout</code> up\nBut do not define <code>motion:touchAnchorId=&quot;@+id/linearLayout&quot;</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;OnSwipe \n            app:touchAnchorSide=&quot;top&quot;\n            app:touchAnchorId=&quot;@+id/linearLayout&quot;\n         /&gt;\n\n</code></pre>\n<p>additional OnSwipe arguments would modify the default behavior.\nBased on preferences.</p>\n<p><strong>Secondary problem</strong></p>\n<p>Looking at only attributes. You are going from:</p>\n<pre><code>    \n        &lt;ImageView\n            android:layout_height=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_height=&quot;150dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;parent&quot;/&gt;\n   \n\n</code></pre>\n<p>to</p>\n<pre><code>    &lt;ImageView\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n</code></pre>\n<p>The <code>LinearLayout</code> goes from 50% below the screen to  wrap_content. I am not sure what is meant to happen here.\nThere are many possible effects you want.</p>\n<p>If you want to hide extra off screen you could have the start look like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;LinearLayout\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;-75dp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;parent&quot;/&gt;\n</code></pre>\n<p>But there are many possibilities.</p>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682106650,"creation_date":1681786296,"question_id":76040722,"body_markdown":"I have an app where i&#39;m animating two views to expand and collapse accordingly against each others , for direction i&#39;m using drag up , inside my xml file i have a recyclerView which only make motion layout as much as its content whereas i want the motionlayout to expand even up , any idea Thank you in advance .\r\n\r\n\r\n * This is my motion_layout_start\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.motion.widget.MotionLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    app:layoutDescription=&quot;@xml/activity_main_scene&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/download&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:background=&quot;@drawable/curvy_black_layout&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:fontFamily=&quot;sans-serif-condensed-medium&quot;\r\n            android:padding=&quot;20dp&quot;\r\n            android:scrollbars=&quot;vertical&quot;\r\n            android:text=&quot;@string/str&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;\r\n\r\n```\r\n\r\n * This is my motion_scene_end layout\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/download&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@drawable/curvy_black_layout&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:scrollbars=&quot;vertical&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:fontFamily=&quot;sans-serif-condensed-medium&quot;\r\n            android:padding=&quot;20dp&quot;\r\n            android:text=&quot;@string/str&quot;/&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n * This is layout description xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;MotionScene xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n    &lt;Transition\r\n        app:constraintSetEnd=&quot;@layout/activity_main_motion_scene_end&quot;\r\n        app:constraintSetStart=&quot;@layout/activity_main_motion_scene_start&quot; &gt;\r\n\r\n        &lt;OnSwipe app:touchAnchorSide=&quot;top&quot;\r\n            app:onTouchUp=&quot;stop&quot;\r\n            app:autoCompleteMode=&quot;spring&quot;/&gt;\r\n    &lt;/Transition&gt;\r\n&lt;/MotionScene&gt;\r\n\r\n\r\n```\r\n\r\n\r\n * This is an image from my app ( i have drawn that horizontal red line to show that&#39;s the max it expands based on recycler content , but i want it to expand fully )\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eGy4J.png","title":"Make MotionLayout in android expand fully in screen","body":"<p>I have an app where i'm animating two views to expand and collapse accordingly against each others , for direction i'm using drag up , inside my xml file i have a recyclerView which only make motion layout as much as its content whereas i want the motionlayout to expand even up , any idea Thank you in advance .</p>\n<ul>\n<li>This is my motion_layout_start</li>\n</ul>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.motion.widget.MotionLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    app:layoutDescription=&quot;@xml/activity_main_scene&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/download&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;150dp&quot;\n        android:background=&quot;@drawable/curvy_black_layout&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fontFamily=&quot;sans-serif-condensed-medium&quot;\n            android:padding=&quot;20dp&quot;\n            android:scrollbars=&quot;vertical&quot;\n            android:text=&quot;@string/str&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;\n\n</code></pre>\n<ul>\n<li>This is my motion_scene_end layout</li>\n</ul>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/download&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:background=&quot;@drawable/curvy_black_layout&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:scrollbars=&quot;vertical&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:fontFamily=&quot;sans-serif-condensed-medium&quot;\n            android:padding=&quot;20dp&quot;\n            android:text=&quot;@string/str&quot;/&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<ul>\n<li>This is layout description xml</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;MotionScene xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    \n    &lt;Transition\n        app:constraintSetEnd=&quot;@layout/activity_main_motion_scene_end&quot;\n        app:constraintSetStart=&quot;@layout/activity_main_motion_scene_start&quot; &gt;\n\n        &lt;OnSwipe app:touchAnchorSide=&quot;top&quot;\n            app:onTouchUp=&quot;stop&quot;\n            app:autoCompleteMode=&quot;spring&quot;/&gt;\n    &lt;/Transition&gt;\n&lt;/MotionScene&gt;\n\n\n</code></pre>\n<ul>\n<li>This is an image from my app ( i have drawn that horizontal red line to show that's the max it expands based on recycler content , but i want it to expand fully )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/eGy4J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eGy4J.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","design-patterns","dependency-injection","java-11"],"comments":[{"owner":{"account_id":224853,"reputation":345,"user_id":484962,"display_name":"Lini"},"score":0,"creation_date":1682086517,"post_id":76069538,"comment_id":134165020,"body_markdown":"DI works when there is exactly one matching type, otherwise you need qualifier (at least in CDI). Can an enum CommandType help? If command and handler have the same CommandType it is a match.","body":"DI works when there is exactly one matching type, otherwise you need qualifier (at least in CDI). Can an enum CommandType help? If command and handler have the same CommandType it is a match."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682047941,"creation_date":1682047445,"answer_id":76069664,"question_id":76069538,"body_markdown":"Because of type erasure, the `handle` method doesn&#39;t actually know what type you have passed into the `RESULT` type parameter, and therefore cannot select a handler based on the result type. It doesn&#39;t know the `COMMAND` type parameter either, but you can *kind of* get it by `command.getClass()`. This wouldn&#39;t work either, if the command can be null, or if you pass a more derived class than what you passed to the `COMMAND` type parameter.\r\n\r\nAll that is to say, the caller has to pass a `Class`, to indicate the class of the result, and if `command.getClass()` isn&#39;t enough, the class of the command.\r\n\r\nNow onto how you would retrieve the handlers. Assuming all your handlers implement the interface directly and supplies actual classes for the `COMMAND` and `RESULT` type parameters, it is possible to get the correct handler from a list of `Handler&lt;?, ?&gt;` using `getActualTypeArguments` [like this][1].\r\n\r\n```\r\nfor (var handler : handlers) {\r\n    var typeArguments = ((ParameterizedType)handler.getClass().getGenericInterfaces()[0]).getActualTypeArguments()\r\n    if (typeArguments[0] == command.getClass() &amp;&amp; typeArguments[1] == resultClass) {\r\n        // this handler is correct!\r\n    }\r\n}\r\n```\r\n\r\nThat said, I prefer using a `Map&lt;Pair&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt;, Handler&lt;?,?&gt;&gt;` to store the handlers, essentially storing the `COMMAND` and `RESULT` information as `Class`es in the map&#39;s keys.\r\n\r\n    private final Map&lt;Pair&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt;, Handler&lt;?, ?&gt;&gt; handlers = new HashMap&lt;&gt;();\r\n\r\n    // always use this to add handlers\r\n    private &lt;COMMAND, RESULT&gt; void registerHandler(\r\n        Class&lt;COMMAND&gt; commandClass,\r\n        Class&lt;RESULT&gt; resultClass,\r\n        Handler&lt;? super COMMAND, ? extends RESULT&gt; handler) {\r\n        handlers.put(new Pair&lt;&gt;(commandClass, resultClass), handler);\r\n    }\r\n\r\nThen `handle` can be implemented like this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // optionally, add a Class&lt;COMMAND&gt; parameter, instead of using command.getClass to get the command class\r\n    public &lt;COMMAND, RESULT&gt; RESULT handle(COMMAND command, Class&lt;RESULT&gt; resultClass) {\r\n        var handler = (Handler&lt;COMMAND, RESULT&gt;)handlers.get(\r\n            new Pair&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt;(command.getClass(), resultClass)\r\n        );\r\n        \r\n        if (handler == null) {\r\n            throw new HandlerNotFoundException(...);\r\n        }\r\n        return handler.handle(command);\r\n    }\r\n\r\nNote that since this uses `Class`es, it does not distinguish between e.g. `List&lt;Integer&gt;` and `List&lt;String&gt;`. If you want to distinguish between those, the caller needs to pass `Type`s (which involves [this trick][2] with a helper class). And using a map probably wouldn&#39;t be as useful. You&#39;d just go through the list and compare the `Type`s manually.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9935028/5133585\r\n  [2]: https://stackoverflow.com/q/30005110/5133585","title":"How to delegate a command to the proper handler based on its generic types","body":"<p>Because of type erasure, the <code>handle</code> method doesn't actually know what type you have passed into the <code>RESULT</code> type parameter, and therefore cannot select a handler based on the result type. It doesn't know the <code>COMMAND</code> type parameter either, but you can <em>kind of</em> get it by <code>command.getClass()</code>. This wouldn't work either, if the command can be null, or if you pass a more derived class than what you passed to the <code>COMMAND</code> type parameter.</p>\n<p>All that is to say, the caller has to pass a <code>Class</code>, to indicate the class of the result, and if <code>command.getClass()</code> isn't enough, the class of the command.</p>\n<p>Now onto how you would retrieve the handlers. Assuming all your handlers implement the interface directly and supplies actual classes for the <code>COMMAND</code> and <code>RESULT</code> type parameters, it is possible to get the correct handler from a list of <code>Handler&lt;?, ?&gt;</code> using <code>getActualTypeArguments</code> <a href=\"https://stackoverflow.com/a/9935028/5133585\">like this</a>.</p>\n<pre><code>for (var handler : handlers) {\n    var typeArguments = ((ParameterizedType)handler.getClass().getGenericInterfaces()[0]).getActualTypeArguments()\n    if (typeArguments[0] == command.getClass() &amp;&amp; typeArguments[1] == resultClass) {\n        // this handler is correct!\n    }\n}\n</code></pre>\n<p>That said, I prefer using a <code>Map&lt;Pair&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt;, Handler&lt;?,?&gt;&gt;</code> to store the handlers, essentially storing the <code>COMMAND</code> and <code>RESULT</code> information as <code>Class</code>es in the map's keys.</p>\n<pre><code>private final Map&lt;Pair&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt;, Handler&lt;?, ?&gt;&gt; handlers = new HashMap&lt;&gt;();\n\n// always use this to add handlers\nprivate &lt;COMMAND, RESULT&gt; void registerHandler(\n    Class&lt;COMMAND&gt; commandClass,\n    Class&lt;RESULT&gt; resultClass,\n    Handler&lt;? super COMMAND, ? extends RESULT&gt; handler) {\n    handlers.put(new Pair&lt;&gt;(commandClass, resultClass), handler);\n}\n</code></pre>\n<p>Then <code>handle</code> can be implemented like this:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n// optionally, add a Class&lt;COMMAND&gt; parameter, instead of using command.getClass to get the command class\npublic &lt;COMMAND, RESULT&gt; RESULT handle(COMMAND command, Class&lt;RESULT&gt; resultClass) {\n    var handler = (Handler&lt;COMMAND, RESULT&gt;)handlers.get(\n        new Pair&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt;(command.getClass(), resultClass)\n    );\n    \n    if (handler == null) {\n        throw new HandlerNotFoundException(...);\n    }\n    return handler.handle(command);\n}\n</code></pre>\n<p>Note that since this uses <code>Class</code>es, it does not distinguish between e.g. <code>List&lt;Integer&gt;</code> and <code>List&lt;String&gt;</code>. If you want to distinguish between those, the caller needs to pass <code>Type</code>s (which involves <a href=\"https://stackoverflow.com/q/30005110/5133585\">this trick</a> with a helper class). And using a map probably wouldn't be as useful. You'd just go through the list and compare the <code>Type</code>s manually.</p>\n"},{"tags":[],"owner":{"account_id":1535480,"reputation":1100,"user_id":1431656,"accept_rate":63,"display_name":"Jeep87c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682105586,"creation_date":1682050521,"answer_id":76069850,"question_id":76069538,"body_markdown":"Mixing with what @Sweeper suggested and my desire to not pass the RESULT class as a parameter to my method, the only way I see how to achieve this is by adding a reference in the COMMAND to the RESULT as follow:\r\n\r\n```\r\npublic interface Command&lt;REQUEST, RESULT&gt; {\r\n    public REQUEST request();\r\n  }\r\n\r\npublic record Query(UUID id) implements Command&lt;UUID, SomeView&gt; {\r\n    @Override\r\n    public UUID request() {\r\n      return id;\r\n    }\r\n  }\r\n\r\npublic class Dispatcher {\r\n  private final Map&lt;Pair&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt;, Handler&lt;?, ?&gt;&gt; handlers = new HashMap&lt;&gt;();\r\n\r\n  public &lt;REQUEST, RESULT&gt; RESULT handle(Command&lt;REQUEST, RESULT&gt; cmd) {\r\n    // handlers.put(Pair.of(UUID.class, SomeResult.class), someHandler);\r\n\r\n    Type[] actualTypeArguments = ((ParameterizedType) cmd.getClass()\r\n        .getGenericInterfaces()[0]).getActualTypeArguments();\r\n    Class&lt;?&gt; a = (Class&lt;?&gt;) actualTypeArguments[0];\r\n    Class&lt;?&gt; b = (Class&lt;?&gt;)  actualTypeArguments[1];\r\n    var handler = (Handler&lt;COMMAND, RESULT&gt;) handlers.get(Pair.of(a, b));\r\n\r\n    return handler.handle(cmd);\r\n  }\r\n}\r\n```\r\n\r\nDoing so, the command passed to the handle method has a reference to the RESULT class which we can access through reflection.\r\n\r\nAlthough this is working and fun to know, I would be challenging the usage of it since reflection always come with a performance cost.","title":"How to delegate a command to the proper handler based on its generic types","body":"<p>Mixing with what @Sweeper suggested and my desire to not pass the RESULT class as a parameter to my method, the only way I see how to achieve this is by adding a reference in the COMMAND to the RESULT as follow:</p>\n<pre><code>public interface Command&lt;REQUEST, RESULT&gt; {\n    public REQUEST request();\n  }\n\npublic record Query(UUID id) implements Command&lt;UUID, SomeView&gt; {\n    @Override\n    public UUID request() {\n      return id;\n    }\n  }\n\npublic class Dispatcher {\n  private final Map&lt;Pair&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt;, Handler&lt;?, ?&gt;&gt; handlers = new HashMap&lt;&gt;();\n\n  public &lt;REQUEST, RESULT&gt; RESULT handle(Command&lt;REQUEST, RESULT&gt; cmd) {\n    // handlers.put(Pair.of(UUID.class, SomeResult.class), someHandler);\n\n    Type[] actualTypeArguments = ((ParameterizedType) cmd.getClass()\n        .getGenericInterfaces()[0]).getActualTypeArguments();\n    Class&lt;?&gt; a = (Class&lt;?&gt;) actualTypeArguments[0];\n    Class&lt;?&gt; b = (Class&lt;?&gt;)  actualTypeArguments[1];\n    var handler = (Handler&lt;COMMAND, RESULT&gt;) handlers.get(Pair.of(a, b));\n\n    return handler.handle(cmd);\n  }\n}\n</code></pre>\n<p>Doing so, the command passed to the handle method has a reference to the RESULT class which we can access through reflection.</p>\n<p>Although this is working and fun to know, I would be challenging the usage of it since reflection always come with a performance cost.</p>\n"}],"owner":{"account_id":1535480,"reputation":1100,"user_id":1431656,"accept_rate":63,"display_name":"Jeep87c"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682105586,"creation_date":1682045220,"question_id":76069538,"body_markdown":"Is there a clean way to delegate a command to the proper handler by matching the generic types of the command and result ?\r\n\r\n```\r\npublic interface Handler&lt;COMMAND, RESULT&gt; {\r\n\r\n  public RESULT handle(COMMAND command);\r\n\r\n}\r\n\r\npublic class Dispatcher {\r\n  // proper constructor filling the handlers list\r\n\r\n  private final List&lt;Handler&lt;?, ?&gt;&gt; handlers = new ArrayList&lt;&gt;();\r\n\r\n  public &lt;COMMAND, RESULT&gt; RESULT handle(COMMAND command) {\r\n    Handler&lt;COMMAND, RESULT&gt; handler;\r\n    return handlers.stream()\r\n        .filter(h -&gt; h instanceof Handler&lt;COMMAND, RESULT&gt;)\r\n        .findFirst()\r\n        .get()\r\n        .handle(command);\r\n  }\r\n```\r\n\r\nBuild fails stating \r\n\r\n&gt; Handler&lt;capture of ?, capture of ?&gt;&#39; cannot be safely cast to\r\n&gt; &#39;Handler&lt;ENTRY, RESULT&gt;\r\n\r\nIs this even possible ?\r\nI&#39;m wondering how DI libraries do this as this is &quot;similar&quot; IMO.","title":"How to delegate a command to the proper handler based on its generic types","body":"<p>Is there a clean way to delegate a command to the proper handler by matching the generic types of the command and result ?</p>\n<pre><code>public interface Handler&lt;COMMAND, RESULT&gt; {\n\n  public RESULT handle(COMMAND command);\n\n}\n\npublic class Dispatcher {\n  // proper constructor filling the handlers list\n\n  private final List&lt;Handler&lt;?, ?&gt;&gt; handlers = new ArrayList&lt;&gt;();\n\n  public &lt;COMMAND, RESULT&gt; RESULT handle(COMMAND command) {\n    Handler&lt;COMMAND, RESULT&gt; handler;\n    return handlers.stream()\n        .filter(h -&gt; h instanceof Handler&lt;COMMAND, RESULT&gt;)\n        .findFirst()\n        .get()\n        .handle(command);\n  }\n</code></pre>\n<p>Build fails stating</p>\n<blockquote>\n<p>Handler&lt;capture of ?, capture of ?&gt;' cannot be safely cast to\n'Handler&lt;ENTRY, RESULT&gt;</p>\n</blockquote>\n<p>Is this even possible ?\nI'm wondering how DI libraries do this as this is &quot;similar&quot; IMO.</p>\n"},{"tags":["java","oracle","jdbc","ant","ojdbc"],"answers":[{"tags":[],"owner":{"account_id":15777284,"reputation":23,"user_id":11384772,"display_name":"TooManyCooks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682099628,"creation_date":1682099628,"answer_id":76075642,"question_id":76075231,"body_markdown":"A co-worker was able to get it working by manually specifying the classpath:\r\n\r\n    java -cp ..\\..\\..\\lib\\ojdbc7.jar;test.jar com.company.TestApp.TestProj.Main\r\n\r\nI don&#39;t understand why this is needed, but I suspect I&#39;m not properly including the ojdbc jar file in my ant script. If anyone can explain to me the way to fix this, it would be greatly appreciated!","title":"&quot;ExceptionInInitializerError&quot; when querying Oracle DB from jar built with Ant, but it works fine in IDE","body":"<p>A co-worker was able to get it working by manually specifying the classpath:</p>\n<pre><code>java -cp ..\\..\\..\\lib\\ojdbc7.jar;test.jar com.company.TestApp.TestProj.Main\n</code></pre>\n<p>I don't understand why this is needed, but I suspect I'm not properly including the ojdbc jar file in my ant script. If anyone can explain to me the way to fix this, it would be greatly appreciated!</p>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682105389,"creation_date":1682104414,"answer_id":76076146,"question_id":76075231,"body_markdown":"To get your fat JAR to run using `java -jar test.jar`, you need to make a small change to your Ant script.\r\n\r\nChange this:\r\n\r\n```xml\r\n&lt;zipfileset src=&quot;${lib.dir}/ojdbc8-19.3.0.0.jar&quot;&gt;\r\n    &lt;include name=&quot;**/*.class&quot;/&gt;\r\n&lt;/zipfileset&gt;\r\n```\r\n\r\nto this:\r\n\r\n```xml\r\n&lt;zipfileset src=&quot;${lib.dir}/ojdbc8-19.3.0.0.jar&quot;&gt;\r\n    &lt;include name=&quot;**/*.*&quot;/&gt;\r\n&lt;/zipfileset&gt;\r\n```\r\n\r\nThe reason: There are more than just `.class` files in the Oracle JDBC JAR. \r\n\r\nThere are also (for example) properties files such as\r\n\r\n    defaultConnectionProperties.properties\r\n\r\n...and other files.\r\n\r\nI don&#39;t know which _specific_ missing file was the root cause of your exception. I just performed a build to include everything.\r\n\r\n---\r\n\r\n**Digression:**\r\n\r\nYou may already know the following - but for future visitors to this question...\r\n\r\nIt&#39;s worth noting also that the JDBC file contains a file called `java.sql.Driver` in `META-INF/services` - and that file contains the name of the Oracle driver class:\r\n \r\n    oracle.jdbc.OracleDriver\r\n\r\nNormally, this is used to automatically load the Oracle JDBC driver - so you don&#39;t need the following line of code:\r\n\r\n    Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n\r\nHowever that works by scanning the library JAR files - and since you no longer have the Oracle JAR file inside your application &quot;fat&quot; jar, you still _do_ need the above line of code.\r\n\r\nThis is one of those relatively rare cases where that line is still needed, these days, to avoid a `No suitable driver found` exception.\r\n","title":"&quot;ExceptionInInitializerError&quot; when querying Oracle DB from jar built with Ant, but it works fine in IDE","body":"<p>To get your fat JAR to run using <code>java -jar test.jar</code>, you need to make a small change to your Ant script.</p>\n<p>Change this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;zipfileset src=&quot;${lib.dir}/ojdbc8-19.3.0.0.jar&quot;&gt;\n    &lt;include name=&quot;**/*.class&quot;/&gt;\n&lt;/zipfileset&gt;\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;zipfileset src=&quot;${lib.dir}/ojdbc8-19.3.0.0.jar&quot;&gt;\n    &lt;include name=&quot;**/*.*&quot;/&gt;\n&lt;/zipfileset&gt;\n</code></pre>\n<p>The reason: There are more than just <code>.class</code> files in the Oracle JDBC JAR.</p>\n<p>There are also (for example) properties files such as</p>\n<pre><code>defaultConnectionProperties.properties\n</code></pre>\n<p>...and other files.</p>\n<p>I don't know which <em>specific</em> missing file was the root cause of your exception. I just performed a build to include everything.</p>\n<hr />\n<p><strong>Digression:</strong></p>\n<p>You may already know the following - but for future visitors to this question...</p>\n<p>It's worth noting also that the JDBC file contains a file called <code>java.sql.Driver</code> in <code>META-INF/services</code> - and that file contains the name of the Oracle driver class:</p>\n<pre><code>oracle.jdbc.OracleDriver\n</code></pre>\n<p>Normally, this is used to automatically load the Oracle JDBC driver - so you don't need the following line of code:</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\n</code></pre>\n<p>However that works by scanning the library JAR files - and since you no longer have the Oracle JAR file inside your application &quot;fat&quot; jar, you still <em>do</em> need the above line of code.</p>\n<p>This is one of those relatively rare cases where that line is still needed, these days, to avoid a <code>No suitable driver found</code> exception.</p>\n"}],"owner":{"account_id":15777284,"reputation":23,"user_id":11384772,"display_name":"TooManyCooks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76076146,"answer_count":2,"score":0,"last_activity_date":1682105389,"creation_date":1682095854,"question_id":76075231,"body_markdown":"When I run my Java code in my IDE, it runs successfully. When I build a jar file and run it from the commandline, I receive a &quot;java.lang.ExceptionInInitializerError&quot; on the line which performs the actual query. I suspect there&#39;s a problem with my Apache Ant build script, but I&#39;m not certain.\r\n\r\nHere is my extremely simplified code (yes, I know I&#39;m not fully closing out the DB connection on failure, but this is something small I created just to get the simplest version of code I could that still exhibits the error):\r\n\r\n```\r\npackage com.company.TestApp.TestProj;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\npublic class Main {\r\n    public Main() {\r\n        super();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Main main = new Main();\r\n        main.run();\r\n    }\r\n    \r\n    public void run() {\r\n        System.out.println(&quot;Starting&quot;);\r\n\r\n        try {\r\n            Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n            Connection db = DriverManager.getConnection(connectionString, schema, password);\r\n            if (db.isValid(10)) {\r\n                System.out.println(&quot;Connected&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Not connected&quot;);\r\n                throw new Exception(&quot;Not connected&quot;);\r\n            }\r\n            \r\n            String sql = &quot;SELECT * FROM dual&quot;;\r\n            \r\n            Statement statement = db.createStatement();\r\n            ResultSet rs = statement.executeQuery(sql);\r\n            \r\n            while (rs.next()) {\r\n                System.out.println(&quot;Record&quot;);\r\n            }\r\n            \r\n            rs.close();\r\n            statement.close();\r\n            \r\n            \r\n            db.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy extremely simplified Apache Ant build script is:\r\n\r\n```\r\n&lt;project name=&quot;test&quot; basedir=&quot;.&quot; default=&quot;main&quot;&gt;\r\n\r\n    &lt;property name=&quot;src.dir&quot;     value=&quot;src&quot;/&gt;\r\n\r\n    &lt;property name=&quot;build.dir&quot;   value=&quot;build&quot;/&gt;\r\n    &lt;property name=&quot;classes.dir&quot; value=&quot;${build.dir}/classes&quot;/&gt;\r\n    &lt;property name=&quot;jar.dir&quot;     value=&quot;${build.dir}/jar&quot;/&gt;\r\n\r\n    &lt;property name=&quot;main-class&quot;  value=&quot;com.company.TestApp.TestProj.Main&quot;/&gt;\r\n\r\n    &lt;property name=&quot;lib.dir&quot;     value=&quot;../lib&quot;/&gt;\r\n\r\n    &lt;path id=&quot;classpath&quot;&gt;\r\n        &lt;fileset dir=&quot;${lib.dir}&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n    &lt;/path&gt;\r\n\r\n    &lt;target name=&quot;clean&quot;&gt;\r\n        &lt;delete dir=&quot;${build.dir}&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;${classes.dir}&quot;/&gt;\r\n        &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;classpath&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;${jar.dir}&quot;/&gt;\r\n        &lt;jar destfile=&quot;${jar.dir}/${ant.project.name}.jar&quot; basedir=&quot;${classes.dir}&quot;&gt;\r\n            &lt;fileset dir=&quot;${jar.dir}&quot;&gt;\r\n                &lt;include name=&quot;**/*.class&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;zipfileset src=&quot;${lib.dir}/ojdbc7.jar&quot;&gt;\r\n                &lt;include name=&quot;**/*.class&quot;/&gt;\r\n            &lt;/zipfileset&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main-class}&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;run&quot; depends=&quot;jar&quot;&gt;\r\n        &lt;java fork=&quot;true&quot; classname=&quot;${main-class}&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;path refid=&quot;classpath&quot;/&gt;\r\n                &lt;path location=&quot;${jar.dir}/${ant.project.name}.jar&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n        &lt;/java&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;clean-build&quot; depends=&quot;clean,jar&quot;/&gt;\r\n\r\n    &lt;target name=&quot;main&quot; depends=&quot;clean,run&quot;/&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nMy IDE is JDeveloper 12.1.3.0.0.\r\nMy JAVA_HOME and path are set to JDK1.8.0_291.\r\nMy Oracle DB is 19.13.0.0.0\r\n\r\nWhen I run the program from my IDE, I get the expected results of:\r\n\r\n```\r\nStarting\r\nConnected\r\nRecord\r\n\r\n```\r\n\r\nWhen I run the jar from the commandline with &quot;java -jar test.jar&quot; the output is:\r\n\r\n```\r\nStarting\r\nConnected\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at oracle.jdbc.driver.OracleStatement.configureRowData(OracleStatement.java:760)\r\n        at oracle.jdbc.driver.OracleStatement.&lt;init&gt;(OracleStatement.java:696)\r\n        at oracle.jdbc.driver.T4CStatement.&lt;init&gt;(T4CStatement.java:1152)\r\n        at oracle.jdbc.driver.T4CDriverExtension.allocateStatement(T4CDriverExtension.java:46)\r\n        at oracle.jdbc.driver.PhysicalConnection.createStatement(PhysicalConnection.java:3914)\r\n        at oracle.jdbc.driver.PhysicalConnection.createStatement(PhysicalConnection.java:3874)\r\n        at com.company.TestApp.TestProj.Main.run(Main.java:34)\r\n        at com.company.TestApp.TestProj.Main.main(Main.java:15)\r\nCaused by: java.lang.NullPointerException\r\n        at oracle.jdbc.driver.DynamicByteArray$1.run(DynamicByteArray.java:540)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at oracle.jdbc.driver.DynamicByteArray.&lt;clinit&gt;(DynamicByteArray.java:535)\r\n        ... 8 more\r\n```\r\n\r\nI am running Java JDK1.8.0_291, but I&#39;ve tried it on other machines with different versions of Java and receive the same error. I&#39;m using the ojdbc7.jar that came with JDeveloper.","title":"&quot;ExceptionInInitializerError&quot; when querying Oracle DB from jar built with Ant, but it works fine in IDE","body":"<p>When I run my Java code in my IDE, it runs successfully. When I build a jar file and run it from the commandline, I receive a &quot;java.lang.ExceptionInInitializerError&quot; on the line which performs the actual query. I suspect there's a problem with my Apache Ant build script, but I'm not certain.</p>\n<p>Here is my extremely simplified code (yes, I know I'm not fully closing out the DB connection on failure, but this is something small I created just to get the simplest version of code I could that still exhibits the error):</p>\n<pre><code>package com.company.TestApp.TestProj;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\npublic class Main {\n    public Main() {\n        super();\n    }\n\n    public static void main(String[] args) {\n        Main main = new Main();\n        main.run();\n    }\n    \n    public void run() {\n        System.out.println(&quot;Starting&quot;);\n\n        try {\n            Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\n            Connection db = DriverManager.getConnection(connectionString, schema, password);\n            if (db.isValid(10)) {\n                System.out.println(&quot;Connected&quot;);\n            }\n            else {\n                System.out.println(&quot;Not connected&quot;);\n                throw new Exception(&quot;Not connected&quot;);\n            }\n            \n            String sql = &quot;SELECT * FROM dual&quot;;\n            \n            Statement statement = db.createStatement();\n            ResultSet rs = statement.executeQuery(sql);\n            \n            while (rs.next()) {\n                System.out.println(&quot;Record&quot;);\n            }\n            \n            rs.close();\n            statement.close();\n            \n            \n            db.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>My extremely simplified Apache Ant build script is:</p>\n<pre><code>&lt;project name=&quot;test&quot; basedir=&quot;.&quot; default=&quot;main&quot;&gt;\n\n    &lt;property name=&quot;src.dir&quot;     value=&quot;src&quot;/&gt;\n\n    &lt;property name=&quot;build.dir&quot;   value=&quot;build&quot;/&gt;\n    &lt;property name=&quot;classes.dir&quot; value=&quot;${build.dir}/classes&quot;/&gt;\n    &lt;property name=&quot;jar.dir&quot;     value=&quot;${build.dir}/jar&quot;/&gt;\n\n    &lt;property name=&quot;main-class&quot;  value=&quot;com.company.TestApp.TestProj.Main&quot;/&gt;\n\n    &lt;property name=&quot;lib.dir&quot;     value=&quot;../lib&quot;/&gt;\n\n    &lt;path id=&quot;classpath&quot;&gt;\n        &lt;fileset dir=&quot;${lib.dir}&quot; includes=&quot;**/*.jar&quot;/&gt;\n    &lt;/path&gt;\n\n    &lt;target name=&quot;clean&quot;&gt;\n        &lt;delete dir=&quot;${build.dir}&quot;/&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;compile&quot;&gt;\n        &lt;mkdir dir=&quot;${classes.dir}&quot;/&gt;\n        &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;classpath&quot;/&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;\n        &lt;mkdir dir=&quot;${jar.dir}&quot;/&gt;\n        &lt;jar destfile=&quot;${jar.dir}/${ant.project.name}.jar&quot; basedir=&quot;${classes.dir}&quot;&gt;\n            &lt;fileset dir=&quot;${jar.dir}&quot;&gt;\n                &lt;include name=&quot;**/*.class&quot;/&gt;\n            &lt;/fileset&gt;\n            &lt;zipfileset src=&quot;${lib.dir}/ojdbc7.jar&quot;&gt;\n                &lt;include name=&quot;**/*.class&quot;/&gt;\n            &lt;/zipfileset&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main-class}&quot;/&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;run&quot; depends=&quot;jar&quot;&gt;\n        &lt;java fork=&quot;true&quot; classname=&quot;${main-class}&quot;&gt;\n            &lt;classpath&gt;\n                &lt;path refid=&quot;classpath&quot;/&gt;\n                &lt;path location=&quot;${jar.dir}/${ant.project.name}.jar&quot;/&gt;\n            &lt;/classpath&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;clean-build&quot; depends=&quot;clean,jar&quot;/&gt;\n\n    &lt;target name=&quot;main&quot; depends=&quot;clean,run&quot;/&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My IDE is JDeveloper 12.1.3.0.0.\nMy JAVA_HOME and path are set to JDK1.8.0_291.\nMy Oracle DB is 19.13.0.0.0</p>\n<p>When I run the program from my IDE, I get the expected results of:</p>\n<pre><code>Starting\nConnected\nRecord\n\n</code></pre>\n<p>When I run the jar from the commandline with &quot;java -jar test.jar&quot; the output is:</p>\n<pre><code>Starting\nConnected\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at oracle.jdbc.driver.OracleStatement.configureRowData(OracleStatement.java:760)\n        at oracle.jdbc.driver.OracleStatement.&lt;init&gt;(OracleStatement.java:696)\n        at oracle.jdbc.driver.T4CStatement.&lt;init&gt;(T4CStatement.java:1152)\n        at oracle.jdbc.driver.T4CDriverExtension.allocateStatement(T4CDriverExtension.java:46)\n        at oracle.jdbc.driver.PhysicalConnection.createStatement(PhysicalConnection.java:3914)\n        at oracle.jdbc.driver.PhysicalConnection.createStatement(PhysicalConnection.java:3874)\n        at com.company.TestApp.TestProj.Main.run(Main.java:34)\n        at com.company.TestApp.TestProj.Main.main(Main.java:15)\nCaused by: java.lang.NullPointerException\n        at oracle.jdbc.driver.DynamicByteArray$1.run(DynamicByteArray.java:540)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at oracle.jdbc.driver.DynamicByteArray.&lt;clinit&gt;(DynamicByteArray.java:535)\n        ... 8 more\n</code></pre>\n<p>I am running Java JDK1.8.0_291, but I've tried it on other machines with different versions of Java and receive the same error. I'm using the ojdbc7.jar that came with JDeveloper.</p>\n"},{"tags":["java","bapi","jco"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1429182341,"post_id":29672575,"comment_id":47483221,"body_markdown":"Do Linux systems use DLLs?","body":"Do Linux systems use DLLs?"},{"owner":{"display_name":"user180100"},"score":1,"creation_date":1429182624,"post_id":29672575,"comment_id":47483403,"body_markdown":"As stated by the error, you have to put `sapjcorfc.so` in `/home/dev/Desktop/CLSSnanobi/rahul/dlls`","body":"As stated by the error, you have to put <code>sapjcorfc.so</code> in <code>&#47;home&#47;dev&#47;Desktop&#47;CLSSnanobi&#47;rahul&#47;dlls</code>"},{"owner":{"account_id":110384,"reputation":1025,"user_id":292095,"display_name":"mjturner"},"score":0,"creation_date":1438764840,"post_id":29672575,"comment_id":51578561,"body_markdown":"@Seelenvirtuose They&#39;re called shared libraries on Unix systems (basically the same idea - dynamically loaded libraries).","body":"@Seelenvirtuose They&#39;re called shared libraries on Unix systems (basically the same idea - dynamically loaded libraries)."}],"answers":[{"tags":[],"owner":{"account_id":110384,"reputation":1025,"user_id":292095,"display_name":"mjturner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438766777,"creation_date":1438766777,"answer_id":31828470,"question_id":29672575,"body_markdown":"The SAP Java Connector is not a pure Java solution - you need a platform-specific native library for it to work. As @RC said, you need to place that platform-specific library in a location that the JVM can find.\r\n\r\nThe library should be included with your JCo installation (`libsapjco3.so` for JCo 3.x), but if you don&#39;t have it you can obtain it by downloading the NetWeaver RFC SDK (amongst other things).\r\n\r\nFor more information:\r\n\r\n* [1077727](http://service.sap.com/sap/support/notes/1077727) - SAP JCo 3.0 release and support strategy\r\n* [Note 1025361](http://service.sap.com/sap/support/notes/1025361) - Installation, Support and Availability of the SAP NetWeaver RFC Library\r\n* [Note 1005832](http://service.sap.com/sap/support/notes/1005832) - Overview on RFC Libraries and SDKs","title":"SAP JCO for Ubuntu 64 bit could not initialize sapjcorfc","body":"<p>The SAP Java Connector is not a pure Java solution - you need a platform-specific native library for it to work. As @RC said, you need to place that platform-specific library in a location that the JVM can find.</p>\n\n<p>The library should be included with your JCo installation (<code>libsapjco3.so</code> for JCo 3.x), but if you don't have it you can obtain it by downloading the NetWeaver RFC SDK (amongst other things).</p>\n\n<p>For more information:</p>\n\n<ul>\n<li><a href=\"http://service.sap.com/sap/support/notes/1077727\" rel=\"nofollow\">1077727</a> - SAP JCo 3.0 release and support strategy</li>\n<li><a href=\"http://service.sap.com/sap/support/notes/1025361\" rel=\"nofollow\">Note 1025361</a> - Installation, Support and Availability of the SAP NetWeaver RFC Library</li>\n<li><a href=\"http://service.sap.com/sap/support/notes/1005832\" rel=\"nofollow\">Note 1005832</a> - Overview on RFC Libraries and SDKs</li>\n</ul>\n"}],"owner":{"account_id":2443006,"reputation":121,"user_id":2131001,"accept_rate":0,"display_name":"user2131001"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682104875,"creation_date":1429181682,"question_id":29672575,"body_markdown":"I used 64 bit JCO JAR and DLL files to call BAPI in Java \r\nbut is giving some exception like:\r\n\r\n&gt; Exception in thread `&quot;main&quot; java.lang.ExceptionInInitializerError: JCO.classInitialize()`: Could not load middleware layer `&#39;com.sap.mw.jco.rfc.MiddlewareRFC&#39; JCO.nativeInit()`: Could not initialize dynamic link library `sapjcorfc` [no `sapjcorfc` in `java.library.path`]. `java.library.path [/home/dev/Desktop/CLSSnanobi/rahul/dlls]` at `com.sap.mw.jco.JCO.&lt;clinit&gt;(JCO.java:871)`\r\n\r\nI googled a lot but I can&#39;t find any solution.\r\n","title":"SAP JCO for Ubuntu 64 bit could not initialize sapjcorfc","body":"<p>I used 64 bit JCO JAR and DLL files to call BAPI in Java\nbut is giving some exception like:</p>\n<blockquote>\n<p>Exception in thread <code>&quot;main&quot; java.lang.ExceptionInInitializerError: JCO.classInitialize()</code>: Could not load middleware layer <code>'com.sap.mw.jco.rfc.MiddlewareRFC' JCO.nativeInit()</code>: Could not initialize dynamic link library <code>sapjcorfc</code> [no <code>sapjcorfc</code> in <code>java.library.path</code>]. <code>java.library.path [/home/dev/Desktop/CLSSnanobi/rahul/dlls]</code> at <code>com.sap.mw.jco.JCO.&lt;clinit&gt;(JCO.java:871)</code></p>\n</blockquote>\n<p>I googled a lot but I can't find any solution.</p>\n"},{"tags":["java","spring","mockito","cucumber","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1625571888,"creation_date":1625571888,"answer_id":68269966,"question_id":68269912,"body_markdown":"So, mock beans are created but not **injected** to the test suite. I guess you should put both `@Autowired` and `@MockBean` annotations.\r\n\r\nHere is a similar question: https://stackoverflow.com/questions/41347764/spring-mockbean-not-injected-with-cucumber","title":"@MockBean injected correctly but with null value on test class","body":"<p>So, mock beans are created but not <strong>injected</strong> to the test suite. I guess you should put both <code>@Autowired</code> and <code>@MockBean</code> annotations.</p>\n<p>Here is a similar question: <a href=\"https://stackoverflow.com/questions/41347764/spring-mockbean-not-injected-with-cucumber\">Spring @MockBean not injected with Cucumber</a></p>\n"},{"tags":[],"owner":{"account_id":2475536,"reputation":119,"user_id":2156260,"display_name":"ObviousChild"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682104564,"creation_date":1682104564,"answer_id":76076157,"question_id":68269912,"body_markdown":"I landed here because I had the same problem. I found following solution, and seems better than the accepted solution which needs multiple annotations (which actually did not work for me). Adding here for anyone that may find it useful.\r\n\r\nAnnotate the test class to use MockitExtension as shown below\r\n\r\n    @ExtendWith(value={SpringExtension.class, MockitoExtension.class})\r\n","title":"@MockBean injected correctly but with null value on test class","body":"<p>I landed here because I had the same problem. I found following solution, and seems better than the accepted solution which needs multiple annotations (which actually did not work for me). Adding here for anyone that may find it useful.</p>\n<p>Annotate the test class to use MockitExtension as shown below</p>\n<pre><code>@ExtendWith(value={SpringExtension.class, MockitoExtension.class})\n</code></pre>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68269966,"answer_count":2,"score":2,"last_activity_date":1682104564,"creation_date":1625571613,"question_id":68269912,"body_markdown":"I am using tests with Cucumber and Spring Boot\r\n\r\n\r\n    @CucumberContextConfiguration\r\n    @ActiveProfiles(profiles = { &quot;cucumber&quot; })\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n    @ExtendWith(SpringExtension.class)\r\n    public class FooTest {\r\n    \r\n        @Autowired\r\n        BatchService batchService;\r\n    \r\n        @MockBean\r\n        S3ClientService s3ClientService;\r\n    \r\n        @MockBean\r\n        HttpClientService httpClientService;\r\n    \r\n        @SpyBean\r\n        UndueService undueService;\r\n    \r\n    \r\n        @Given(&quot;^foo cucumber test$&quot;)\r\n        public void foo_cucumber_test() {\r\n            System.out.println(&quot;Foo Test&quot;);\r\n        }\r\n    }\r\n\r\nWhen I run/debug my test with a break point on @Given method\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI got this weird behavior, the `@Mockbean`/`@SpyBean` are correctly injected but in the test class its values are `null` !! and I can&#39;t run Mockito functions `verify` or `when` \r\n\r\nBut when I run a test without cucumber\r\n\r\n    @Test\r\n    void fooTest() {\r\n        System.out.println(&quot;Foo Test&quot;);\r\n    }\r\n\r\nIt works fine !! the values are not `null`\r\n\r\n  [1]: https://i.stack.imgur.com/vG9OG.png","title":"@MockBean injected correctly but with null value on test class","body":"<p>I am using tests with Cucumber and Spring Boot</p>\n<pre><code>@CucumberContextConfiguration\n@ActiveProfiles(profiles = { &quot;cucumber&quot; })\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\n@ExtendWith(SpringExtension.class)\npublic class FooTest {\n\n    @Autowired\n    BatchService batchService;\n\n    @MockBean\n    S3ClientService s3ClientService;\n\n    @MockBean\n    HttpClientService httpClientService;\n\n    @SpyBean\n    UndueService undueService;\n\n\n    @Given(&quot;^foo cucumber test$&quot;)\n    public void foo_cucumber_test() {\n        System.out.println(&quot;Foo Test&quot;);\n    }\n}\n</code></pre>\n<p>When I run/debug my test with a break point on @Given method</p>\n<p><a href=\"https://i.stack.imgur.com/vG9OG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vG9OG.png\" alt=\"enter image description here\" /></a></p>\n<p>I got this weird behavior, the <code>@Mockbean</code>/<code>@SpyBean</code> are correctly injected but in the test class its values are <code>null</code> !! and I can't run Mockito functions <code>verify</code> or <code>when</code></p>\n<p>But when I run a test without cucumber</p>\n<pre><code>@Test\nvoid fooTest() {\n    System.out.println(&quot;Foo Test&quot;);\n}\n</code></pre>\n<p>It works fine !! the values are not <code>null</code></p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":0,"creation_date":1415355566,"post_id":26798896,"comment_id":42171690,"body_markdown":"Try to Indent the code. It&#39;s difficult to undersrand.","body":"Try to Indent the code. It&#39;s difficult to undersrand."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1415355570,"post_id":26798896,"comment_id":42171692,"body_markdown":"Please format your code in a readable manner.","body":"Please format your code in a readable manner."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1415355587,"post_id":26798896,"comment_id":42171705,"body_markdown":"@AbimaranKugathasan *Indent* :)","body":"@AbimaranKugathasan <i>Indent</i> :)"},{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":0,"creation_date":1415355647,"post_id":26798896,"comment_id":42171732,"body_markdown":"@m0skit0 : Type, corrected","body":"@m0skit0 : Type, corrected"},{"owner":{"account_id":3349780,"reputation":1888,"user_id":2814043,"display_name":"Oncaphillis"},"score":0,"creation_date":1415355771,"post_id":26798896,"comment_id":42171816,"body_markdown":"The error message/exception type would be helpful. And the type of the table columns.","body":"The error message/exception type would be helpful. And the type of the table columns."},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1415356240,"post_id":26798896,"comment_id":42172063,"body_markdown":"perhaps you should store your data inside the while loop?","body":"perhaps you should store your data inside the while loop?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1415361772,"post_id":26798896,"comment_id":42175129,"body_markdown":"@AbimaranKugathasan *Typo* :)","body":"@AbimaranKugathasan <i>Typo</i> :)"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1415361851,"post_id":26798896,"comment_id":42175163,"body_markdown":"What is the error you&#39;re getting? Please post the full stacktrace.","body":"What is the error you&#39;re getting? Please post the full stacktrace."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1415361915,"post_id":26798896,"comment_id":42175195,"body_markdown":"Btw, you split line is doing nothing. `String#split` returns a `String[]` and you&#39;re not using it.","body":"Btw, you split line is doing nothing. <code>String#split</code> returns a <code>String[]</code> and you&#39;re not using it."}],"answers":[{"tags":[],"owner":{"account_id":4321909,"reputation":1218,"user_id":3529829,"display_name":"Tirtha R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415356253,"creation_date":1415356253,"answer_id":26799163,"question_id":26798896,"body_markdown":"You have not stored information read from the file in any variable (vrms, irms or total). Correct your code before posting here for the issue.\r\n\r\nPosting the sample data file and column data types will be helpful.","title":"How do I read the contents of a file and store it in a database using Java?","body":"<p>You have not stored information read from the file in any variable (vrms, irms or total). Correct your code before posting here for the issue.</p>\n\n<p>Posting the sample data file and column data types will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":4696705,"reputation":143,"user_id":3801402,"display_name":"Amit Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1415362050,"creation_date":1415362050,"answer_id":26800957,"question_id":26798896,"body_markdown":"This is sample code which might be helpful..\r\nReplace the column names with correct db columns.\r\n\r\n    public static void main(String[] args) throws IOException, SQLException {\r\n\r\n    PreparedStatement preparedstatement = null;\r\n\r\n\r\n    try{\r\n        String read=null;\r\n        in = new BufferedReader(new FileReader(&quot;patientlist.txt&quot;)); \r\n        while ((read = in.readLine()) != null) {\r\n            String[] splited = read.split(&quot;\\\\s+&quot;);\r\n            name=splited[0];\r\n            age=splited[1];\r\n            height=splited[2];\r\n            weight=splited[3];      \r\n            addpatient(connection, preparedstatement, name, age, height, weight);\r\n        }\r\n\r\n    }\r\n    catch (IOException e) {System.out.println(&quot;There was a problem: &quot; + e);}\r\n        if (connection != null)\r\n        try{connection.close();} catch(SQLException ignore){} \r\n    }\r\n\r\n\r\n    public static void addpatient(Connection connection, PreparedStatement preparedstatement, String name, String age, String height, String weight) throws SQLException{\r\n    preparedstatement=connection.prepareStatement(&quot;insert into allpatients(name, age, height, weight) values(?,?,?,?)&quot;);\r\n    preparedstatement.setString(1, name);\r\n    preparedstatement.setString(2, age);\r\n    preparedstatement.setString(3, height);\r\n    preparedstatement.setString(4, weight);\r\n    preparedstatement.executeUpdate();\r\n\r\n\r\n    }","title":"How do I read the contents of a file and store it in a database using Java?","body":"<p>This is sample code which might be helpful..\nReplace the column names with correct db columns.</p>\n\n<pre><code>public static void main(String[] args) throws IOException, SQLException {\n\nPreparedStatement preparedstatement = null;\n\n\ntry{\n    String read=null;\n    in = new BufferedReader(new FileReader(\"patientlist.txt\")); \n    while ((read = in.readLine()) != null) {\n        String[] splited = read.split(\"\\\\s+\");\n        name=splited[0];\n        age=splited[1];\n        height=splited[2];\n        weight=splited[3];      \n        addpatient(connection, preparedstatement, name, age, height, weight);\n    }\n\n}\ncatch (IOException e) {System.out.println(\"There was a problem: \" + e);}\n    if (connection != null)\n    try{connection.close();} catch(SQLException ignore){} \n}\n\n\npublic static void addpatient(Connection connection, PreparedStatement preparedstatement, String name, String age, String height, String weight) throws SQLException{\npreparedstatement=connection.prepareStatement(\"insert into allpatients(name, age, height, weight) values(?,?,?,?)\");\npreparedstatement.setString(1, name);\npreparedstatement.setString(2, age);\npreparedstatement.setString(3, height);\npreparedstatement.setString(4, weight);\npreparedstatement.executeUpdate();\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":5288427,"reputation":17,"user_id":4221640,"display_name":"Kodimalar Shantharam"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10370,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":26800957,"answer_count":2,"score":0,"last_activity_date":1682104414,"creation_date":1415355370,"question_id":26798896,"body_markdown":"I need to read a file by column and store it in a database. My problem is the file contents are not stored in the database and the code just reads the contents. I am getting an error in storing it.\r\n\r\n**Code:**\r\n\r\n```java\r\npublic class Test3 {\r\n\r\n    private static String vrms;\r\n    private static String irms;\r\n    private static String total;\r\n\r\n    public static Connection getConnection() {\r\n        try {\r\n            String driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n            String url = &quot;jdbc:mysql://localhost:3306/test3&quot;;\r\n            String username = &quot;root&quot;;\r\n            String password = &quot;&quot;;\r\n\r\n            Class.forName(driver);\r\n            Connection conn = DriverManager.getConnection(url, username,password);\r\n            System.out.println(&quot;Connection Established&quot;);\r\n            return conn;\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Connection not established&quot;);\r\n            return null;\r\n        }\t\r\n    }\r\n    public static void main(String[] args) throws Exception {\r\n        FileInputStream fstream = new \r\n        FileInputStream(&quot;D:/data/database.txt&quot;);\r\n        DataInputStream in = new DataInputStream(fstream);\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n        String strLine;\r\n        while ((strLine = br.readLine()) != null) {\r\n            strLine.split(&quot; &quot;);\r\n            System.out.println(strLine);\r\n        } \r\n        in.close();\r\n        FileInputStream fis = null;\r\n        PreparedStatement pstmt = null;\r\n        Connection conn = null;\r\n        try {\r\n            conn = getConnection();\r\n            conn.setAutoCommit(false);\r\n            File file = new File(strLine);\r\n            fis = new FileInputStream(file);\r\n            pstmt = conn.prepareStatement(&quot;insert into meter1(vrms, irms, total) values (?, ?, ?)&quot;);\r\n            pstmt.setString(1, vrms);\r\n            pstmt.setString(2, irms);\r\n            pstmt.setString(3, total);\r\n            pstmt.executeUpdate();\r\n            conn.commit();\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error: &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        } finally {\r\n            pstmt.close();\r\n            fis.close();\r\n            conn.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\t\r\nThis is the error:\r\n\r\n```\r\n10 11 0\r\n12 13 0\r\n14 15 0\r\nConnection Established\r\nError: null\r\n    java.lang.NullPointerException\r\n    at java.io.File.&lt;init&gt;(Unknown Source)\r\n    at vidhya.Test3.main(Test3.java:71)\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    at vidhya.Test3.main(Test3.java:85)\r\n```","title":"How do I read the contents of a file and store it in a database using Java?","body":"<p>I need to read a file by column and store it in a database. My problem is the file contents are not stored in the database and the code just reads the contents. I am getting an error in storing it.</p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test3 {\n\n    private static String vrms;\n    private static String irms;\n    private static String total;\n\n    public static Connection getConnection() {\n        try {\n            String driver = &quot;com.mysql.jdbc.Driver&quot;;\n            String url = &quot;jdbc:mysql://localhost:3306/test3&quot;;\n            String username = &quot;root&quot;;\n            String password = &quot;&quot;;\n\n            Class.forName(driver);\n            Connection conn = DriverManager.getConnection(url, username,password);\n            System.out.println(&quot;Connection Established&quot;);\n            return conn;\n        } catch (Exception e) {\n            System.out.println(&quot;Connection not established&quot;);\n            return null;\n        }   \n    }\n    public static void main(String[] args) throws Exception {\n        FileInputStream fstream = new \n        FileInputStream(&quot;D:/data/database.txt&quot;);\n        DataInputStream in = new DataInputStream(fstream);\n        BufferedReader br = new BufferedReader(new InputStreamReader(in));\n        String strLine;\n        while ((strLine = br.readLine()) != null) {\n            strLine.split(&quot; &quot;);\n            System.out.println(strLine);\n        } \n        in.close();\n        FileInputStream fis = null;\n        PreparedStatement pstmt = null;\n        Connection conn = null;\n        try {\n            conn = getConnection();\n            conn.setAutoCommit(false);\n            File file = new File(strLine);\n            fis = new FileInputStream(file);\n            pstmt = conn.prepareStatement(&quot;insert into meter1(vrms, irms, total) values (?, ?, ?)&quot;);\n            pstmt.setString(1, vrms);\n            pstmt.setString(2, irms);\n            pstmt.setString(3, total);\n            pstmt.executeUpdate();\n            conn.commit();\n        } catch (Exception e) {\n            System.err.println(&quot;Error: &quot; + e.getMessage());\n            e.printStackTrace();\n        } finally {\n            pstmt.close();\n            fis.close();\n            conn.close();\n        }\n    }\n}\n</code></pre>\n<p>This is the error:</p>\n<pre><code>10 11 0\n12 13 0\n14 15 0\nConnection Established\nError: null\n    java.lang.NullPointerException\n    at java.io.File.&lt;init&gt;(Unknown Source)\n    at vidhya.Test3.main(Test3.java:71)\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at vidhya.Test3.main(Test3.java:85)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","security","key"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1682091501,"post_id":76074655,"comment_id":134166168,"body_markdown":"Try secrets.yml without the top-level stripe: Unless there is something in your code but unshared that we should know about.","body":"Try secrets.yml without the top-level stripe: Unless there is something in your code but unshared that we should know about."}],"answers":[{"tags":[],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682104109,"creation_date":1682104109,"answer_id":76076110,"question_id":76074655,"body_markdown":"Instead of `spring.config.additional-location=classpath:secrets.yml`\r\nuse `spring.config.import=optional:secrets.yml`\r\n\r\nalso, remove `stripe` parent element in your secrets.yml if you want to access the values as you specified.","title":"Using a secrets.yml for API keys in Spring Boot","body":"<p>Instead of <code>spring.config.additional-location=classpath:secrets.yml</code>\nuse <code>spring.config.import=optional:secrets.yml</code></p>\n<p>also, remove <code>stripe</code> parent element in your secrets.yml if you want to access the values as you specified.</p>\n"}],"owner":{"account_id":1612692,"reputation":269,"user_id":1491213,"display_name":"triplej"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76076110,"answer_count":1,"score":0,"last_activity_date":1682104109,"creation_date":1682091254,"question_id":76074655,"body_markdown":"I have a program using Stripe API. I am trying to setup a secrets.yml file that will be in the .gitignore. Here&#39;s my current attempt:\r\n\r\nsecrets.yml:\r\n\r\n    stripe:\r\n     STRIPE_PUBLIC_KEY: key1\r\n     STRIPE_SECRET_KEY: key2\r\n\r\nThe relevant application.properties:\r\n\r\n    spring.profiles.include=secrets\r\n    spring.config.additional-location=classpath:secrets.yml\r\n\r\nBoth files are in `src/main/resource/`\r\n\r\nThis is the Java code:\r\n\r\n    @Value(&quot;${STRIPE_SECRET_KEY}&quot;)\r\n    private String secretKey;\r\n\r\n\t@Value(&quot;${STRIPE_PUBLIC_KEY}&quot;)\r\n\tprivate String stripePublicKey;\r\n\r\n\r\n\r\nThe program works correctly when the keys are inside application.properties.\r\n\r\nEDIT:\r\n\r\nWhen I use a non-top level yml, it still fails. secrets.yml:\r\n\r\n    STRIPE_PUBLIC_KEY: key1\r\n    STRIPE_SECRET_KEY: key2\r\n","title":"Using a secrets.yml for API keys in Spring Boot","body":"<p>I have a program using Stripe API. I am trying to setup a secrets.yml file that will be in the .gitignore. Here's my current attempt:</p>\n<p>secrets.yml:</p>\n<pre><code>stripe:\n STRIPE_PUBLIC_KEY: key1\n STRIPE_SECRET_KEY: key2\n</code></pre>\n<p>The relevant application.properties:</p>\n<pre><code>spring.profiles.include=secrets\nspring.config.additional-location=classpath:secrets.yml\n</code></pre>\n<p>Both files are in <code>src/main/resource/</code></p>\n<p>This is the Java code:</p>\n<pre><code>@Value(&quot;${STRIPE_SECRET_KEY}&quot;)\nprivate String secretKey;\n\n@Value(&quot;${STRIPE_PUBLIC_KEY}&quot;)\nprivate String stripePublicKey;\n</code></pre>\n<p>The program works correctly when the keys are inside application.properties.</p>\n<p>EDIT:</p>\n<p>When I use a non-top level yml, it still fails. secrets.yml:</p>\n<pre><code>STRIPE_PUBLIC_KEY: key1\nSTRIPE_SECRET_KEY: key2\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"score":0,"creation_date":1684231400,"post_id":76076086,"comment_id":134484103,"body_markdown":"same for me unfortunately :( . Seems to be a bug of relatively recent eclipse or whatever software component is responsible for the scrapbook. At least this didn&#39;t happen in earlier versions. Maybe you should add your eclipse version to the description of this question ... Mine is 2022-12 (4.26.0) . Sorry to not be of any help.","body":"same for me unfortunately :( . Seems to be a bug of relatively recent eclipse or whatever software component is responsible for the scrapbook. At least this didn&#39;t happen in earlier versions. Maybe you should add your eclipse version to the description of this question ... Mine is 2022-12 (4.26.0) . Sorry to not be of any help."},{"owner":{"account_id":231645,"reputation":1390,"user_id":495987,"accept_rate":50,"display_name":"Mike"},"score":0,"creation_date":1686682857,"post_id":76076086,"comment_id":134832175,"body_markdown":"This is also happening on Eclipse STSVersion: 4.18.1.RELEASE\nBuild Id: 202305021758\nRevision: 85103b61dc8f2777b48c9a1ff1e55c7057f156f2","body":"This is also happening on Eclipse STSVersion: 4.18.1.RELEASE Build Id: 202305021758 Revision: 85103b61dc8f2777b48c9a1ff1e55c7057f156f2"}],"owner":{"account_id":3683512,"reputation":476,"user_id":3067860,"display_name":"user3067860"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682103924,"creation_date":1682103924,"question_id":76076086,"body_markdown":"1. Create a new Eclipse project.\r\n2. Create a new .jpage file in that project.\r\n3. Right click in the editor and choose Set imports...\r\n4. Add type...\r\n\r\nAt this point the dialog matches my import type and it shows up correctly in the import list.\r\n\r\n4. Click OK on the dialog.\r\n5. Try to execute my Scrapbook code.\r\n\r\nAt this point I get errors &quot;cannot be resolved to a type&quot;, etc., as though the imports are not imported.\r\n\r\n6. Re-open the dialog.\r\n\r\nAt this point no imports are showing in the dialog, as though my imports didn&#39;t save at all.\r\n\r\nThere are no errors showing in the Error Log view in Eclipse.\r\n\r\nHow can I add imports for the Scrapbook in Eclipse? Where is this supposed to save?","title":"Eclipse Scrapbook &gt; Set Imports... not saving","body":"<ol>\n<li>Create a new Eclipse project.</li>\n<li>Create a new .jpage file in that project.</li>\n<li>Right click in the editor and choose Set imports...</li>\n<li>Add type...</li>\n</ol>\n<p>At this point the dialog matches my import type and it shows up correctly in the import list.</p>\n<ol start=\"4\">\n<li>Click OK on the dialog.</li>\n<li>Try to execute my Scrapbook code.</li>\n</ol>\n<p>At this point I get errors &quot;cannot be resolved to a type&quot;, etc., as though the imports are not imported.</p>\n<ol start=\"6\">\n<li>Re-open the dialog.</li>\n</ol>\n<p>At this point no imports are showing in the dialog, as though my imports didn't save at all.</p>\n<p>There are no errors showing in the Error Log view in Eclipse.</p>\n<p>How can I add imports for the Scrapbook in Eclipse? Where is this supposed to save?</p>\n"},{"tags":["java","spring-boot","java-stream","azure-cosmosdb","azure-cosmosdb-sqlapi"],"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1681720511,"post_id":76001372,"comment_id":134096271,"body_markdown":"what consistency level? Did you check if the Cosmos RU are enough? are you getting http 429? (you can check that in the cosmos metrics on the azure portal); What responses are you referring, writes or reads?","body":"what consistency level? Did you check if the Cosmos RU are enough? are you getting http 429? (you can check that in the cosmos metrics on the azure portal); What responses are you referring, writes or reads?"}],"answers":[{"tags":[],"owner":{"account_id":17250869,"reputation":114,"user_id":12491066,"display_name":"Theo van Kraay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682103836,"creation_date":1682103836,"answer_id":76076075,"question_id":76001372,"body_markdown":"If you have not already, I suggest enabling query metrics and response diagnostics in your Configuration.java (or equivalent). The response diagnostics will help debug client side resource issues, and query metrics will help rule out high RU charges, as the cause of your slow response times. From there, you may need to investigate other areas, such as data model, partition key, etc. \r\n\r\n    @Bean\r\n    public CosmosConfig cosmosConfig() {\r\n        return CosmosConfig.builder()\r\n                           .responseDiagnosticsProcessor(new ResponseDiagnosticsProcessorImplementation())\r\n                           .enableQueryMetrics(properties.isQueryMetricsEnabled())\r\n                           .build();\r\n    }\r\n    \r\n    private static class ResponseDiagnosticsProcessorImplementation implements ResponseDiagnosticsProcessor {\r\n    \r\n        @Override\r\n        public void processResponseDiagnostics(@Nullable ResponseDiagnostics responseDiagnostics) {\r\n            logger.info(&quot;Response Diagnostics {}&quot;, responseDiagnostics);\r\n        }\r\n    }\r\n\r\nSee also quickstart sample [here][1].\r\n\r\n\r\n  [1]: https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/cosmos/azure-spring-data-cosmos/cosmos-quickstart-samples/src/main/java/com/azure/spring/data/cosmos/samples/quickstart/SampleAppConfiguration.java","title":"Spring Cosmos - Some requests gives slow response, stucks in Unsafe.park wait for seconds","body":"<p>If you have not already, I suggest enabling query metrics and response diagnostics in your Configuration.java (or equivalent). The response diagnostics will help debug client side resource issues, and query metrics will help rule out high RU charges, as the cause of your slow response times. From there, you may need to investigate other areas, such as data model, partition key, etc.</p>\n<pre><code>@Bean\npublic CosmosConfig cosmosConfig() {\n    return CosmosConfig.builder()\n                       .responseDiagnosticsProcessor(new ResponseDiagnosticsProcessorImplementation())\n                       .enableQueryMetrics(properties.isQueryMetricsEnabled())\n                       .build();\n}\n\nprivate static class ResponseDiagnosticsProcessorImplementation implements ResponseDiagnosticsProcessor {\n\n    @Override\n    public void processResponseDiagnostics(@Nullable ResponseDiagnostics responseDiagnostics) {\n        logger.info(&quot;Response Diagnostics {}&quot;, responseDiagnostics);\n    }\n}\n</code></pre>\n<p>See also quickstart sample <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/cosmos/azure-spring-data-cosmos/cosmos-quickstart-samples/src/main/java/com/azure/spring/data/cosmos/samples/quickstart/SampleAppConfiguration.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5156543,"reputation":1,"user_id":8218360,"display_name":"MANGESH MANDLIK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682103836,"creation_date":1681356263,"question_id":76001372,"body_markdown":"We are connecting to cosmos database using azure-spring-data-cosmos library. We are able to receive response in 20ms but for 5% requests (1TPS load) it takes more than 5seconds. Requests stucks in Unsafe.park.\r\n\r\n\r\n```\r\ncontainer.queryItems(querySpec, options, Store.class)\r\n                    .stream()\r\n                    .collect(Collectors.toList());\r\n```\r\n\r\nWe observed it takes time in .collect(Collectors.toList());\r\n\r\n\r\n```\r\nDirectConnectionConfig directConnectionConfig = DirectConnectionConfig.getDefaultConfig();                  \r\n            cosmosClient = new CosmosClientBuilder()\r\n                    .endpoint(uri)\r\n                    .key(key)\r\n                    .contentResponseOnWriteEnabled(true)\r\n                    .directMode(directConnectionConfig)\r\n                    .multipleWriteRegionsEnabled(true)\r\n                    .consistencyLevel(ConsistencyLevel.valueOf(consistencyLevel.trim().toUpperCase()))\r\n                    .preferredRegions(Arrays.asList(preferredRegion.split(&quot;\\\\s*,\\\\s*&quot;)))\r\n                    .buildClient();\r\n```\r\n\r\nWhy requests goes in wait state ? How to improve this ? \r\n\r\n\r\nWe tried setting maxRequestsPerConnection= 8 or 16. And idleEndpointTimeout = 24hrs. No luck.","title":"Spring Cosmos - Some requests gives slow response, stucks in Unsafe.park wait for seconds","body":"<p>We are connecting to cosmos database using azure-spring-data-cosmos library. We are able to receive response in 20ms but for 5% requests (1TPS load) it takes more than 5seconds. Requests stucks in Unsafe.park.</p>\n<pre><code>container.queryItems(querySpec, options, Store.class)\n                    .stream()\n                    .collect(Collectors.toList());\n</code></pre>\n<p>We observed it takes time in .collect(Collectors.toList());</p>\n<pre><code>DirectConnectionConfig directConnectionConfig = DirectConnectionConfig.getDefaultConfig();                  \n            cosmosClient = new CosmosClientBuilder()\n                    .endpoint(uri)\n                    .key(key)\n                    .contentResponseOnWriteEnabled(true)\n                    .directMode(directConnectionConfig)\n                    .multipleWriteRegionsEnabled(true)\n                    .consistencyLevel(ConsistencyLevel.valueOf(consistencyLevel.trim().toUpperCase()))\n                    .preferredRegions(Arrays.asList(preferredRegion.split(&quot;\\\\s*,\\\\s*&quot;)))\n                    .buildClient();\n</code></pre>\n<p>Why requests goes in wait state ? How to improve this ?</p>\n<p>We tried setting maxRequestsPerConnection= 8 or 16. And idleEndpointTimeout = 24hrs. No luck.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9509,"page":483,"page_size":100}
