{"items":[{"tags":["java","mysql","spring","junit","h2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1633481214,"post_id":69458662,"comment_id":122769438,"body_markdown":"`condition ? ifFalse: ifFalse` shouldn&#39;t the first `ifFalse` be `ifTrue`?","body":"<code>condition ? ifFalse: ifFalse</code> shouldn&#39;t the first <code>ifFalse</code> be <code>ifTrue</code>?"},{"owner":{"account_id":22686232,"reputation":71,"user_id":16855811,"display_name":"Zhmel"},"score":0,"creation_date":1633527643,"post_id":69458662,"comment_id":122783459,"body_markdown":"Edited, typo when writing this post.","body":"Edited, typo when writing this post."}],"answers":[{"tags":[],"owner":{"account_id":22686232,"reputation":71,"user_id":16855811,"display_name":"Zhmel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633539150,"creation_date":1633539150,"answer_id":69469738,"question_id":69458662,"body_markdown":"**Solved it:**\r\nApparently H2 also has problems interpreting the `&amp;&amp;` operator. I changed it to `AND`, which is interchangeable with `&amp;&amp;` in mySQL, and now H2 interprets it and test passes, and I get the desired result when deployed using MariaDB.\r\n\r\n[stackoverflow question about AND-&amp;&amp;](https://stackoverflow.com/a/4105692/16855811)\r\n\r\n[doc on operators precedence](https://dev.mysql.com/doc/refman/8.0/en/operator-precedence.html)\r\n\r\n[mySQL manual on AND,&amp;&amp;](https://dev.mysql.com/doc/refman/8.0/en/logical-operators.html#operator_and)","title":"H2 DB supporting IF conditionals from SQL","body":"<p><strong>Solved it:</strong>\nApparently H2 also has problems interpreting the <code>&amp;&amp;</code> operator. I changed it to <code>AND</code>, which is interchangeable with <code>&amp;&amp;</code> in mySQL, and now H2 interprets it and test passes, and I get the desired result when deployed using MariaDB.</p>\n<p><a href=\"https://stackoverflow.com/a/4105692/16855811\">stackoverflow question about AND-&amp;&amp;</a></p>\n<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/operator-precedence.html\" rel=\"nofollow noreferrer\">doc on operators precedence</a></p>\n<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/logical-operators.html#operator_and\" rel=\"nofollow noreferrer\">mySQL manual on AND,&amp;&amp;</a></p>\n"}],"owner":{"account_id":22686232,"reputation":71,"user_id":16855811,"display_name":"Zhmel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69469738,"answer_count":1,"score":0,"last_activity_date":1633539150,"creation_date":1633480968,"question_id":69458662,"body_markdown":"I have a sql native query in JDBC that uses an IF clause (I also tried with CASE WHEN) and it works fine in production, since I use MariaDB. But for my unit tests we use H2, the issue is that H2 does not understand some sql syntax. \r\n\r\nI found here https://stackoverflow.com/questions/46408493/dbunit-jdbcsqlexception-function-not-found about user-defined SQL functions, I created my alias function for the IF() sql method and it works for one of the cases I need it to work. The first case is as follows `IF(table.value = 0, &#39;yes&#39;, &#39;no&#39;)`, but the second case uses a nested comparator as follows `IF(table.value1 = 0 &amp;&amp; table.value2 =0, &#39;yes&#39;, &#39;no&#39;)`, in this case it is failing.\r\n\r\nThis is my IF user-defined SQL function\r\n\r\n```\r\n@SuppressWarnings(&quot;unused&quot;)\r\npublic class H2Function {\r\n    public static String IF(Boolean condition, String ifTrue, String ifFalse) {\r\n        return condition ? ifTrue: ifFalse;\r\n    }\r\n}\r\n```\r\n\r\nHere how I link it in the properties.yaml file\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:db__PRIMARY__;MODE=MySQL;DB_CLOSE_ON_EXIT=FALSE\r\n    driver-class-name: org.h2.Driver\r\n    hikari:\r\n      connection-init-sql: &quot;CREATE ALIAS IF NOT EXISTS IF DETERMINISTIC FOR \\&quot;com.package.test.H2Function.IF\\&quot;;&quot;\r\n```\r\n\r\nAnd the native query definition\r\n```\r\n&quot;SELECT user, Coalesce(AVG(value1), 0) AS avg1,&quot;\r\n&quot; Coalesce(AVG(value2), 0) AS avg2, Coalesce(AVG(value3), 0) AS avg3, &quot;\r\n&quot; IF(Coalesce(AVG(value1), 0)=0 &amp;&amp; Coalesce(AVG(value2), 0)=0, &#39;yes&#39;, &#39;no&#39;) AS bottom &quot; &quot; FROM table tb ... &quot;\r\n```\r\nI cannot use internally the avg1 and avg2 due to query aliases not working properly.\r\nUsing just `IF(Coalesce(AVG(value1), 0)=0, &#39;yes&#39;, &#39;no&#39;)` or `IF(Coalesce(AVG(value2), 0)=0, &#39;yes&#39;, &#39;no&#39;)` works fine with my user-defined sql function, but using both with `&amp;&amp;` fails.\r\nP.D.: All of this is to be able to sort all records that have value1=value2=0 always to the bottom of the list, no matter the sorting order, if you know a way to accomplish this without going into so much trouble, please let me know.","title":"H2 DB supporting IF conditionals from SQL","body":"<p>I have a sql native query in JDBC that uses an IF clause (I also tried with CASE WHEN) and it works fine in production, since I use MariaDB. But for my unit tests we use H2, the issue is that H2 does not understand some sql syntax.</p>\n<p>I found here <a href=\"https://stackoverflow.com/questions/46408493/dbunit-jdbcsqlexception-function-not-found\">DbUnit - JdbcSQLException: Function &quot;*&quot; not found</a> about user-defined SQL functions, I created my alias function for the IF() sql method and it works for one of the cases I need it to work. The first case is as follows <code>IF(table.value = 0, 'yes', 'no')</code>, but the second case uses a nested comparator as follows <code>IF(table.value1 = 0 &amp;&amp; table.value2 =0, 'yes', 'no')</code>, in this case it is failing.</p>\n<p>This is my IF user-defined SQL function</p>\n<pre><code>@SuppressWarnings(&quot;unused&quot;)\npublic class H2Function {\n    public static String IF(Boolean condition, String ifTrue, String ifFalse) {\n        return condition ? ifTrue: ifFalse;\n    }\n}\n</code></pre>\n<p>Here how I link it in the properties.yaml file</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:db__PRIMARY__;MODE=MySQL;DB_CLOSE_ON_EXIT=FALSE\n    driver-class-name: org.h2.Driver\n    hikari:\n      connection-init-sql: &quot;CREATE ALIAS IF NOT EXISTS IF DETERMINISTIC FOR \\&quot;com.package.test.H2Function.IF\\&quot;;&quot;\n</code></pre>\n<p>And the native query definition</p>\n<pre><code>&quot;SELECT user, Coalesce(AVG(value1), 0) AS avg1,&quot;\n&quot; Coalesce(AVG(value2), 0) AS avg2, Coalesce(AVG(value3), 0) AS avg3, &quot;\n&quot; IF(Coalesce(AVG(value1), 0)=0 &amp;&amp; Coalesce(AVG(value2), 0)=0, 'yes', 'no') AS bottom &quot; &quot; FROM table tb ... &quot;\n</code></pre>\n<p>I cannot use internally the avg1 and avg2 due to query aliases not working properly.\nUsing just <code>IF(Coalesce(AVG(value1), 0)=0, 'yes', 'no')</code> or <code>IF(Coalesce(AVG(value2), 0)=0, 'yes', 'no')</code> works fine with my user-defined sql function, but using both with <code>&amp;&amp;</code> fails.\nP.D.: All of this is to be able to sort all records that have value1=value2=0 always to the bottom of the list, no matter the sorting order, if you know a way to accomplish this without going into so much trouble, please let me know.</p>\n"},{"tags":["java","garbage-collection","g1gc"],"answers":[{"tags":[],"owner":{"account_id":16157964,"reputation":201,"user_id":11664792,"display_name":"HyperProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633539087,"creation_date":1633539087,"answer_id":69469724,"question_id":69469469,"body_markdown":"The method getCollectionTime returns a long value of the approximate accumulated collection elapsed time in milliseconds.\r\n\r\n[Java docs on the GarbageCollectorMXBean Interface][1]\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/api/java/lang/management/GarbageCollectorMXBean.html","title":"What does GarbageCollectorMXBean#getCollectionTime mean in G1GC","body":"<p>The method getCollectionTime returns a long value of the approximate accumulated collection elapsed time in milliseconds.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/management/GarbageCollectorMXBean.html\" rel=\"nofollow noreferrer\">Java docs on the GarbageCollectorMXBean Interface</a></p>\n"}],"owner":{"account_id":3598538,"reputation":341,"user_id":3002471,"display_name":"Sairam Cherupally"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633539087,"creation_date":1633538071,"question_id":69469469,"body_markdown":"What does GarbageCollectorMXBean#getCollectionTime mean in G1GC. Is it the sum of pause time(time spent by STW phase) and concurrent phase or something else? ","title":"What does GarbageCollectorMXBean#getCollectionTime mean in G1GC","body":"<p>What does GarbageCollectorMXBean#getCollectionTime mean in G1GC. Is it the sum of pause time(time spent by STW phase) and concurrent phase or something else?</p>\n"},{"tags":["java","spring-boot","mqtt","spring-jms","activemq-artemis"],"comments":[{"owner":{"account_id":18859061,"reputation":91,"user_id":13756339,"display_name":"ShreyasJavahar"},"score":0,"creation_date":1632983174,"post_id":69373823,"comment_id":122641050,"body_markdown":"Hi Justin, this application is meant to connect to a microcontroller that transmits data in a char[]. The consumer in my post is a part of some existing code and since it accepts a char[], I coded the test producer to send a char[] to the consumer. However, I&#39;ve tried the same with a String instead of char[] to no avail.","body":"Hi Justin, this application is meant to connect to a microcontroller that transmits data in a char[]. The consumer in my post is a part of some existing code and since it accepts a char[], I coded the test producer to send a char[] to the consumer. However, I&#39;ve tried the same with a String instead of char[] to no avail."},{"owner":{"account_id":18859061,"reputation":91,"user_id":13756339,"display_name":"ShreyasJavahar"},"score":0,"creation_date":1633075602,"post_id":69373823,"comment_id":122668445,"body_markdown":"@JustinBertram I&#39;ve edited my question. Please do let me know if there&#39;s anything else I can provide that would help.","body":"@JustinBertram I&#39;ve edited my question. Please do let me know if there&#39;s anything else I can provide that would help."},{"owner":{"account_id":18859061,"reputation":91,"user_id":13756339,"display_name":"ShreyasJavahar"},"score":0,"creation_date":1633339104,"post_id":69373823,"comment_id":122723893,"body_markdown":"@JustinBertram I&#39;ve cleaned up the post and included the spring boot client and MQTT.fx client logs.","body":"@JustinBertram I&#39;ve cleaned up the post and included the spring boot client and MQTT.fx client logs."}],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632919796,"creation_date":1632919796,"answer_id":69376732,"question_id":69373823,"body_markdown":"Changing the signature of `consumeWeatherForecastRequest` method to `private void consumeWeatherForecastRequest(String incomingMessage)` should fix your issue.","title":"ActiveMQ Artemis messages not being consumed by topics defined on client tool MQTT.fx","body":"<p>Changing the signature of <code>consumeWeatherForecastRequest</code> method to <code>private void consumeWeatherForecastRequest(String incomingMessage)</code> should fix your issue.</p>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633538998,"creation_date":1633361646,"answer_id":69438673,"question_id":69373823,"body_markdown":"You say that when you&#39;re testing the Spring Boot clients you send a message to `server.weatherForecast` and the after some processing a response is sent to `AMEBAA000105.device.weatherForecast`. However, that is *not* what the logs show. The logs indicate that you send a message to `jms.topic.server.weatherForecast` and `jms.topic.AMEBAA000105.device.weatherForecast` respectively. Notice the `jms.topic.` prefix.\r\n\r\nI believe this is the root of your problem because according to the logs the MQTT actually *will* use `server.weatherForecast` and `AMEBAA000105.device.weatherForecast`. Since the two clients aren&#39;t using matching names then they can never work together with your current configuration.\r\n\r\nMy guess is that you&#39;re using a legacy Artemis 1.x client from your Spring Boot applications and that is why the `jms.topic.` prefix is being used. You should either move to a newer client (e.g. one that matches the broker version you&#39;re using) or configure the `anycastPrefix` and `multicastPrefix` to support the legacy 1.x client. The default `broker.xml` has a comment which explains how to do this:\r\n```xml\r\n&lt;!-- Note: If an acceptor needs to be compatible with HornetQ and/or Artemis 1.x clients add\r\n           &quot;anycastPrefix=jms.queue.;multicastPrefix=jms.topic.&quot; to the acceptor url.\r\n           See https://issues.apache.org/jira/browse/ARTEMIS-1644 for more information. --&gt;\r\n```\r\nThis comment appears in the `acceptors` block by default, but it looks like you removed it since it&#39;s not in the XML you pasted.\r\n\r\nIf you want to confirm which library the client is using the simplest way to to find out is simply to inspect the client&#39;s environment. However, if that doesn&#39;t work and you have access to the broker logs then you can [enable `TRACE` logging](https://activemq.apache.org/components/artemis/documentation/latest/logging.html#activating-trace-for-a-specific-logger) for `org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl` and then look at the `version` passed in the `CreateSessionMessage`. If it&#39;s &lt; `131` then it&#39;s not a 2.18.0 client.","title":"ActiveMQ Artemis messages not being consumed by topics defined on client tool MQTT.fx","body":"<p>You say that when you're testing the Spring Boot clients you send a message to <code>server.weatherForecast</code> and the after some processing a response is sent to <code>AMEBAA000105.device.weatherForecast</code>. However, that is <em>not</em> what the logs show. The logs indicate that you send a message to <code>jms.topic.server.weatherForecast</code> and <code>jms.topic.AMEBAA000105.device.weatherForecast</code> respectively. Notice the <code>jms.topic.</code> prefix.</p>\n<p>I believe this is the root of your problem because according to the logs the MQTT actually <em>will</em> use <code>server.weatherForecast</code> and <code>AMEBAA000105.device.weatherForecast</code>. Since the two clients aren't using matching names then they can never work together with your current configuration.</p>\n<p>My guess is that you're using a legacy Artemis 1.x client from your Spring Boot applications and that is why the <code>jms.topic.</code> prefix is being used. You should either move to a newer client (e.g. one that matches the broker version you're using) or configure the <code>anycastPrefix</code> and <code>multicastPrefix</code> to support the legacy 1.x client. The default <code>broker.xml</code> has a comment which explains how to do this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Note: If an acceptor needs to be compatible with HornetQ and/or Artemis 1.x clients add\n           &quot;anycastPrefix=jms.queue.;multicastPrefix=jms.topic.&quot; to the acceptor url.\n           See https://issues.apache.org/jira/browse/ARTEMIS-1644 for more information. --&gt;\n</code></pre>\n<p>This comment appears in the <code>acceptors</code> block by default, but it looks like you removed it since it's not in the XML you pasted.</p>\n<p>If you want to confirm which library the client is using the simplest way to to find out is simply to inspect the client's environment. However, if that doesn't work and you have access to the broker logs then you can <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/logging.html#activating-trace-for-a-specific-logger\" rel=\"nofollow noreferrer\">enable <code>TRACE</code> logging</a> for <code>org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl</code> and then look at the <code>version</code> passed in the <code>CreateSessionMessage</code>. If it's &lt; <code>131</code> then it's not a 2.18.0 client.</p>\n"}],"owner":{"account_id":18859061,"reputation":91,"user_id":13756339,"display_name":"ShreyasJavahar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69438673,"answer_count":2,"score":1,"last_activity_date":1633538998,"creation_date":1632908050,"question_id":69373823,"body_markdown":"My use case warrants the use of a publish-subscribe model, so I&#39;m using topics that are defined in  my Spring Boot client. I&#39;ve used the tool MQTT.fx and two Spring Boot clients to test things. The two Spring Boot clients are able to communicate with each other, but the MQTT.fx client only connects to the broker and does not produce or consume messages. The two Spring Boot clients both connect to port `61616`, and the MQTT.fx client connects to port `1883`.\r\n\r\nFor my project, I need to get the MQTT.fx client working as it is highly representative of the microcontroller that is intended to work with the server. Failure on MQTT.fx is failure on the microcontroller.\r\n\r\nThe `acceptor` configuration in my `broker.xml` file is as show below.\r\n```xml\r\n&lt;acceptors&gt;\r\n     &lt;!-- Acceptor for every supported protocol --&gt;\r\n     &lt;acceptor name=&quot;artemis&quot;&gt;tcp://0.0.0.0:61616?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true;supportAdvisory=false;suppressInternalManagementObjects=false&lt;/acceptor&gt;\r\n\r\n     &lt;!-- AMQP Acceptor.  Listens on default AMQP port for AMQP traffic.--&gt;\r\n     &lt;acceptor name=&quot;amqp&quot;&gt;tcp://0.0.0.0:5672?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=AMQP;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpMinLargeMessageSize=102400;amqpDuplicateDetection=true&lt;/acceptor&gt;\r\n\r\n     &lt;!-- STOMP Acceptor. --&gt;\r\n     &lt;acceptor name=&quot;stomp&quot;&gt;tcp://0.0.0.0:61613?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=STOMP;useEpoll=true&lt;/acceptor&gt;\r\n\r\n     &lt;!-- HornetQ Compatibility Acceptor.  Enables HornetQ Core and STOMP for legacy HornetQ clients. --&gt;\r\n     &lt;acceptor name=&quot;hornetq&quot;&gt;tcp://0.0.0.0:5445?anycastPrefix=jms.queue.;multicastPrefix=jms.topic.;protocols=HORNETQ,STOMP;useEpoll=true&lt;/acceptor&gt;\r\n\r\n     &lt;!-- MQTT Acceptor --&gt;\r\n     &lt;acceptor name=&quot;mqtt&quot;&gt;tcp://0.0.0.0:1883?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=MQTT;useEpoll=true&lt;/acceptor&gt;\r\n&lt;/acceptors&gt;\r\n```\r\nThe logs when the Spring Boot clients communicate are as below. First, a message is sent to the topic `server.weatherForecast`, and consequently, after some processing, a response is sent to `AMEBAA000105.device.weatherForecast`.\r\n```\r\n2021-10-04 14:14:04,860 [AUDIT](Thread-8 (activemq-netty-threads)) \r\n\r\nAMQ601715: User admin(admins)@127.0.0.1:1125 successfully authenticated\r\n2021-10-04 14:14:04,860 [AUDIT](Thread-8 (activemq-netty-threads)) AMQ601267: User admin(admins)@127.0.0.1:1125 is creating a core session on target resource ActiveMQServerImpl::name=0.0.0.0 [with parameters: [3b141c41-24ef-11ec-aa52-00155d831300, null, ****, 102400, RemotingConnectionImpl [ID=6280c69f, clientID=null, nodeID=b719c384-1d0a-11ec-8b7c-00155d831300, transportConnection=org.apache.activemq.artemis.core.remoting.impl.netty.NettyServerConnection@417b6fef[ID=6280c69f, local= /127.0.0.1:61616, remote=/127.0.0.1:1125]], true, true, false, false, null, org.apache.activemq.artemis.core.protocol.core.impl.CoreSessionCallback@103d417f, true, OperationContextImpl [61828916] [minimalStore=9223372036854775807, storeLineUp=0, stored=0, minimalReplicated=9223372036854775807, replicationLineUp=0, replicated=0, paged=0, minimalPage=9223372036854775807, pageLineUp=0, errorCode=-1, errorMessage=null, executorsPending=0, executor=OrderedExecutor(tasks=[])], {}]]\r\n2021-10-04 14:14:04,864 [AUDIT](Thread-7 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601500: User admin(admins)@127.0.0.1:1125 is sending a message CoreMessage[messageID=528267,durable=true,userID=3b146a62-24ef-11ec-aa52-00155d831300,priority=4, timestamp=Mon Oct 04 14:14:04 IST 2021,expiration=0, durable=true, address=jms.topic.server.weatherForecast,size=314,properties=TypedProperties[__AMQ_CID=3b13ce1f-24ef-11ec-aa52-00155d831300]]@1994364957, with Context: RoutingContextImpl(Address=null, routingType=null, PreviousAddress=null previousRoute:null, reusable=null, version=0)\r\n..................................................\r\n\r\n2021-10-04 14:14:04,865 [AUDIT](Thread-7 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601501: User admin(admins)@127.0.0.1:1110 is consuming a message from 41207748-6ed3-42d2-b75e-044805212686: Reference[528267]:RELIABLE:CoreMessage[messageID=528267,durable=true,userID=3b146a62-24ef-11ec-aa52-00155d831300,priority=4, timestamp=Mon Oct 04 14:14:04 IST 2021,expiration=0, durable=true, address=jms.topic.server.weatherForecast,size=314,properties=TypedProperties[__AMQ_CID=3b13ce1f-24ef-11ec-aa52-00155d831300]]@1994364957\r\n2021-10-04 14:14:04,868 [AUDIT](Thread-4 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601502: User admin(admins)@127.0.0.1:1110 is acknowledging a message from 41207748-6ed3-42d2-b75e-044805212686: CoreMessage[messageID=528267,durable=true,userID=3b146a62-24ef-11ec-aa52-00155d831300,priority=4, timestamp=Mon Oct 04 14:14:04 IST 2021,expiration=0, durable=true, address=jms.topic.server.weatherForecast,size=314,properties=TypedProperties[__AMQ_CID=3b13ce1f-24ef-11ec-aa52-00155d831300]]@1994364957\r\n2021-10-04 14:14:08,059 [AUDIT](Thread-8 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601500: User admin(admins)@127.0.0.1:1110 is sending a message CoreMessage[messageID=528349,durable=true,userID=3cfc1623-24ef-11ec-aa52-00155d831300,priority=4, timestamp=Mon Oct 04 14:14:08 IST 2021,expiration=0, durable=true, address=null,size=190,properties=TypedProperties[__AMQ_CID=d04d0e87-24ee-11ec-aa52-00155d831300]]@600964226, with Context: RoutingContextImpl(Address=jms.topic.AMEBAA000105.device.weatherForecast, routingType=null, PreviousAddress=jms.topic.AMEBAA000105.device.weatherForecast previousRoute:null, reusable=null, version=0)\r\n..................................................\r\n```\r\nThe logs when using MQTT.fx are as below. Initially `AMEBAA000105.device.weatherForecast` is subscribed to, and then a message is sent to `server.weatherForecast`. The Spring Boot client meant to receive these messages does not receive anything, and consequently does not send anything to `AMEBAA000105.device.weatherForecast`. When the publication of a message to `AMEBAA000105.device.weatherForecast` from the Spring Boot client is triggered by another Spring Boot client, MQTT.fx does not capture the message.\r\n```\r\n2021-10-04 14:24:35,443 [AUDIT](Thread-17 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601265: User admin(admins)@192.168.0.107:18640 is creating a core consumer on target resource ServerSessionImpl() [with parameters: [534062, MQTT_FX_Client.AMEBAA000105.device.weatherForecast, null, 0, false, false, -1]]\r\n2021-10-04 14:24:43,719 [AUDIT](Thread-10 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601500: User admin(admins)@192.168.0.107:18640 is sending a message CoreMessage[messageID=534380,durable=false,userID=null,priority=0, timestamp=0,expiration=0, durable=false, address=server.weatherForecast,size=200,properties=TypedProperties[mqtt.message.retain=false,mqtt.qos.level=0]]@1214406991, with Context: RoutingContextImpl(Address=server.weatherForecast, routingType=null, PreviousAddress=null previousRoute:null, reusable=null, version=0)\r\n```\r\nThe above logs are the audit logs. In the `artemis.log` file, MQTT.fx keeps pinging the broker.\r\n```\r\n2021-10-04 14:30:43,727 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\r\n2021-10-04 14:31:43,728 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\r\n2021-10-04 14:32:43,729 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\r\n2021-10-04 14:33:43,731 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\r\n2021-10-04 14:34:43,732 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\r\n2021-10-04 14:35:43,733 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\r\n```\r\nLogs when subscribing or publishing from MQTT.fx in the `artemis.log` file are as below\r\n```\r\n2021-10-04 14:22:27,702 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): IN &lt;&lt; SUBSCRIBE(3)\r\nAMEBAA000105.device.weatherForecast : AT_MOST_ONCE\r\n2021-10-04 14:24:43,718 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): IN &lt;&lt; PUBLISH(-1) topic=server.weatherForecast, qos=AT_MOST_ONCE, retain=false, dup=false, payload={&quot;serialNumber&quot; : &quot;AMEBAA000105&quot;}\r\n```\r\nAny help is much appreciated.","title":"ActiveMQ Artemis messages not being consumed by topics defined on client tool MQTT.fx","body":"<p>My use case warrants the use of a publish-subscribe model, so I'm using topics that are defined in  my Spring Boot client. I've used the tool MQTT.fx and two Spring Boot clients to test things. The two Spring Boot clients are able to communicate with each other, but the MQTT.fx client only connects to the broker and does not produce or consume messages. The two Spring Boot clients both connect to port <code>61616</code>, and the MQTT.fx client connects to port <code>1883</code>.</p>\n<p>For my project, I need to get the MQTT.fx client working as it is highly representative of the microcontroller that is intended to work with the server. Failure on MQTT.fx is failure on the microcontroller.</p>\n<p>The <code>acceptor</code> configuration in my <code>broker.xml</code> file is as show below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;acceptors&gt;\n     &lt;!-- Acceptor for every supported protocol --&gt;\n     &lt;acceptor name=&quot;artemis&quot;&gt;tcp://0.0.0.0:61616?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true;supportAdvisory=false;suppressInternalManagementObjects=false&lt;/acceptor&gt;\n\n     &lt;!-- AMQP Acceptor.  Listens on default AMQP port for AMQP traffic.--&gt;\n     &lt;acceptor name=&quot;amqp&quot;&gt;tcp://0.0.0.0:5672?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=AMQP;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpMinLargeMessageSize=102400;amqpDuplicateDetection=true&lt;/acceptor&gt;\n\n     &lt;!-- STOMP Acceptor. --&gt;\n     &lt;acceptor name=&quot;stomp&quot;&gt;tcp://0.0.0.0:61613?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=STOMP;useEpoll=true&lt;/acceptor&gt;\n\n     &lt;!-- HornetQ Compatibility Acceptor.  Enables HornetQ Core and STOMP for legacy HornetQ clients. --&gt;\n     &lt;acceptor name=&quot;hornetq&quot;&gt;tcp://0.0.0.0:5445?anycastPrefix=jms.queue.;multicastPrefix=jms.topic.;protocols=HORNETQ,STOMP;useEpoll=true&lt;/acceptor&gt;\n\n     &lt;!-- MQTT Acceptor --&gt;\n     &lt;acceptor name=&quot;mqtt&quot;&gt;tcp://0.0.0.0:1883?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=MQTT;useEpoll=true&lt;/acceptor&gt;\n&lt;/acceptors&gt;\n</code></pre>\n<p>The logs when the Spring Boot clients communicate are as below. First, a message is sent to the topic <code>server.weatherForecast</code>, and consequently, after some processing, a response is sent to <code>AMEBAA000105.device.weatherForecast</code>.</p>\n<pre><code>2021-10-04 14:14:04,860 [AUDIT](Thread-8 (activemq-netty-threads)) \n\nAMQ601715: User admin(admins)@127.0.0.1:1125 successfully authenticated\n2021-10-04 14:14:04,860 [AUDIT](Thread-8 (activemq-netty-threads)) AMQ601267: User admin(admins)@127.0.0.1:1125 is creating a core session on target resource ActiveMQServerImpl::name=0.0.0.0 [with parameters: [3b141c41-24ef-11ec-aa52-00155d831300, null, ****, 102400, RemotingConnectionImpl [ID=6280c69f, clientID=null, nodeID=b719c384-1d0a-11ec-8b7c-00155d831300, transportConnection=org.apache.activemq.artemis.core.remoting.impl.netty.NettyServerConnection@417b6fef[ID=6280c69f, local= /127.0.0.1:61616, remote=/127.0.0.1:1125]], true, true, false, false, null, org.apache.activemq.artemis.core.protocol.core.impl.CoreSessionCallback@103d417f, true, OperationContextImpl [61828916] [minimalStore=9223372036854775807, storeLineUp=0, stored=0, minimalReplicated=9223372036854775807, replicationLineUp=0, replicated=0, paged=0, minimalPage=9223372036854775807, pageLineUp=0, errorCode=-1, errorMessage=null, executorsPending=0, executor=OrderedExecutor(tasks=[])], {}]]\n2021-10-04 14:14:04,864 [AUDIT](Thread-7 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601500: User admin(admins)@127.0.0.1:1125 is sending a message CoreMessage[messageID=528267,durable=true,userID=3b146a62-24ef-11ec-aa52-00155d831300,priority=4, timestamp=Mon Oct 04 14:14:04 IST 2021,expiration=0, durable=true, address=jms.topic.server.weatherForecast,size=314,properties=TypedProperties[__AMQ_CID=3b13ce1f-24ef-11ec-aa52-00155d831300]]@1994364957, with Context: RoutingContextImpl(Address=null, routingType=null, PreviousAddress=null previousRoute:null, reusable=null, version=0)\n..................................................\n\n2021-10-04 14:14:04,865 [AUDIT](Thread-7 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601501: User admin(admins)@127.0.0.1:1110 is consuming a message from 41207748-6ed3-42d2-b75e-044805212686: Reference[528267]:RELIABLE:CoreMessage[messageID=528267,durable=true,userID=3b146a62-24ef-11ec-aa52-00155d831300,priority=4, timestamp=Mon Oct 04 14:14:04 IST 2021,expiration=0, durable=true, address=jms.topic.server.weatherForecast,size=314,properties=TypedProperties[__AMQ_CID=3b13ce1f-24ef-11ec-aa52-00155d831300]]@1994364957\n2021-10-04 14:14:04,868 [AUDIT](Thread-4 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601502: User admin(admins)@127.0.0.1:1110 is acknowledging a message from 41207748-6ed3-42d2-b75e-044805212686: CoreMessage[messageID=528267,durable=true,userID=3b146a62-24ef-11ec-aa52-00155d831300,priority=4, timestamp=Mon Oct 04 14:14:04 IST 2021,expiration=0, durable=true, address=jms.topic.server.weatherForecast,size=314,properties=TypedProperties[__AMQ_CID=3b13ce1f-24ef-11ec-aa52-00155d831300]]@1994364957\n2021-10-04 14:14:08,059 [AUDIT](Thread-8 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601500: User admin(admins)@127.0.0.1:1110 is sending a message CoreMessage[messageID=528349,durable=true,userID=3cfc1623-24ef-11ec-aa52-00155d831300,priority=4, timestamp=Mon Oct 04 14:14:08 IST 2021,expiration=0, durable=true, address=null,size=190,properties=TypedProperties[__AMQ_CID=d04d0e87-24ee-11ec-aa52-00155d831300]]@600964226, with Context: RoutingContextImpl(Address=jms.topic.AMEBAA000105.device.weatherForecast, routingType=null, PreviousAddress=jms.topic.AMEBAA000105.device.weatherForecast previousRoute:null, reusable=null, version=0)\n..................................................\n</code></pre>\n<p>The logs when using MQTT.fx are as below. Initially <code>AMEBAA000105.device.weatherForecast</code> is subscribed to, and then a message is sent to <code>server.weatherForecast</code>. The Spring Boot client meant to receive these messages does not receive anything, and consequently does not send anything to <code>AMEBAA000105.device.weatherForecast</code>. When the publication of a message to <code>AMEBAA000105.device.weatherForecast</code> from the Spring Boot client is triggered by another Spring Boot client, MQTT.fx does not capture the message.</p>\n<pre><code>2021-10-04 14:24:35,443 [AUDIT](Thread-17 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601265: User admin(admins)@192.168.0.107:18640 is creating a core consumer on target resource ServerSessionImpl() [with parameters: [534062, MQTT_FX_Client.AMEBAA000105.device.weatherForecast, null, 0, false, false, -1]]\n2021-10-04 14:24:43,719 [AUDIT](Thread-10 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@b62d79)) AMQ601500: User admin(admins)@192.168.0.107:18640 is sending a message CoreMessage[messageID=534380,durable=false,userID=null,priority=0, timestamp=0,expiration=0, durable=false, address=server.weatherForecast,size=200,properties=TypedProperties[mqtt.message.retain=false,mqtt.qos.level=0]]@1214406991, with Context: RoutingContextImpl(Address=server.weatherForecast, routingType=null, PreviousAddress=null previousRoute:null, reusable=null, version=0)\n</code></pre>\n<p>The above logs are the audit logs. In the <code>artemis.log</code> file, MQTT.fx keeps pinging the broker.</p>\n<pre><code>2021-10-04 14:30:43,727 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\n2021-10-04 14:31:43,728 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\n2021-10-04 14:32:43,729 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\n2021-10-04 14:33:43,731 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\n2021-10-04 14:34:43,732 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\n2021-10-04 14:35:43,733 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): OUT &gt;&gt; PINGRESP\n</code></pre>\n<p>Logs when subscribing or publishing from MQTT.fx in the <code>artemis.log</code> file are as below</p>\n<pre><code>2021-10-04 14:22:27,702 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): IN &lt;&lt; SUBSCRIBE(3)\nAMEBAA000105.device.weatherForecast : AT_MOST_ONCE\n2021-10-04 14:24:43,718 TRACE [org.apache.activemq.artemis.core.protocol.mqtt] MQTT(MQTT_FX_Client): IN &lt;&lt; PUBLISH(-1) topic=server.weatherForecast, qos=AT_MOST_ONCE, retain=false, dup=false, payload={&quot;serialNumber&quot; : &quot;AMEBAA000105&quot;}\n</code></pre>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","spring","testing","spring-data"],"answers":[{"tags":[],"owner":{"account_id":9293440,"reputation":1727,"user_id":6901184,"display_name":"Mart&#237;n Zaragoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534162824,"creation_date":1534162824,"answer_id":51822243,"question_id":51821999,"body_markdown":"When running Junit tests with a h2 test database, then the database instance will start when the test suite starts running and stop when tests are done (assuming you&#39;ve configured your database using beans).\r\n\r\nIf you&#39;re using spring-boot, then you can configure your h2 test database like:\r\n\r\nsrc/test/resources/application-test.yml:\r\n\r\n    spring:\r\n      datasource:\r\n        driverClassName: org.h2.Driver\r\n        url: jdbc:h2:mem:testdb\r\n        username: sa\r\n        password:\r\n\r\nAnd configure your test like:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles(profiles = &quot;test&quot;)\r\n    public class SignupControllerTest {\r\n        @Autowired\r\n        private WebApplicationContext webApplicationContext;\r\n\r\n        private MockMvc mockMvc;\r\n\r\n        @Autowired\r\n        private RealityKeeperRepository myrepo;\r\n\r\n\r\nIf you&#39;re using regular spring, then you can configure a DataSource bean with the `@Profile(&quot;test&quot;)` annotation:\r\n\r\n    @Bean\r\n    @Profile(&quot;test&quot;)\r\n    public DataSource devDataSource() {\r\n        return new EmbeddedDatabaseBuilder()\r\n            .setType(EmbeddedDatabaseType.HSQL)\r\n            .build();\r\n    }\r\n\r\nAnd configure your tests like:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {AppConfig.class})\r\n    @ActiveProfiles(profiles = &quot;test&quot;)\r\n    public class MyTest {\r\n        @Autowired\r\n        ...\r\n\r\nYour AppConfig class should be annotated with @Configuration contain the devDataSource bean mentioned above.\r\n","title":"Test database down with Spring","body":"<p>When running Junit tests with a h2 test database, then the database instance will start when the test suite starts running and stop when tests are done (assuming you've configured your database using beans).</p>\n\n<p>If you're using spring-boot, then you can configure your h2 test database like:</p>\n\n<p>src/test/resources/application-test.yml:</p>\n\n<pre><code>spring:\n  datasource:\n    driverClassName: org.h2.Driver\n    url: jdbc:h2:mem:testdb\n    username: sa\n    password:\n</code></pre>\n\n<p>And configure your test like:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(profiles = \"test\")\npublic class SignupControllerTest {\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    private MockMvc mockMvc;\n\n    @Autowired\n    private RealityKeeperRepository myrepo;\n</code></pre>\n\n<p>If you're using regular spring, then you can configure a DataSource bean with the <code>@Profile(\"test\")</code> annotation:</p>\n\n<pre><code>@Bean\n@Profile(\"test\")\npublic DataSource devDataSource() {\n    return new EmbeddedDatabaseBuilder()\n        .setType(EmbeddedDatabaseType.HSQL)\n        .build();\n}\n</code></pre>\n\n<p>And configure your tests like:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {AppConfig.class})\n@ActiveProfiles(profiles = \"test\")\npublic class MyTest {\n    @Autowired\n    ...\n</code></pre>\n\n<p>Your AppConfig class should be annotated with @Configuration contain the devDataSource bean mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":6883244,"reputation":2541,"user_id":5289288,"display_name":"Max Farsikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534163049,"creation_date":1534163049,"answer_id":51822317,"question_id":51821999,"body_markdown":"Yes, if you have H2 dependency and DO NOT have settings for it, then Spring boot will start embedded H2 DB for you.\r\n\r\nThis article should be useful: http://www.springboottutorial.com/spring-boot-and-h2-in-memory-database","title":"Test database down with Spring","body":"<p>Yes, if you have H2 dependency and DO NOT have settings for it, then Spring boot will start embedded H2 DB for you.</p>\n\n<p>This article should be useful: <a href=\"http://www.springboottutorial.com/spring-boot-and-h2-in-memory-database\" rel=\"nofollow noreferrer\">http://www.springboottutorial.com/spring-boot-and-h2-in-memory-database</a></p>\n"},{"tags":[],"owner":{"account_id":5106357,"reputation":389,"user_id":4094329,"display_name":"cici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611060642,"creation_date":1611060642,"answer_id":65791868,"question_id":51821999,"body_markdown":"If testing DB connection, here is old, but still nice [blog on the topic][1]. You should be able to use TestContainers as well, for simpler DB creation.\r\n\r\nIf you need only test some failures on some exact actions (e.g. on repository save), you can simply mock the repository for the test run:\r\n\r\n    var mockedBean = Mockito.mock(MyRepository.class);\r\n    var originalBean = ReflectionTestUtils.getField(articleService, fieldName);\r\n    Mockito.when(mockedBean.save(Mockito.any(MyEntity.class))).thenThrow(new RuntimeException(&quot;My test exception&quot;));\r\n    ReflectionTestUtils.setField(myService, fieldName, mockedBean);\r\n    ...\r\n    // test here\r\n    ...\r\n    // set bean back for other test cases\r\n    ReflectionTestUtils.setField(myService, fieldName, originalBean);\r\n\r\n\r\n  [1]: https://keyholesoftware.com/2016/10/03/automated-integration-tests-failure-scenarios/","title":"Test database down with Spring","body":"<p>If testing DB connection, here is old, but still nice <a href=\"https://keyholesoftware.com/2016/10/03/automated-integration-tests-failure-scenarios/\" rel=\"nofollow noreferrer\">blog on the topic</a>. You should be able to use TestContainers as well, for simpler DB creation.</p>\n<p>If you need only test some failures on some exact actions (e.g. on repository save), you can simply mock the repository for the test run:</p>\n<pre><code>var mockedBean = Mockito.mock(MyRepository.class);\nvar originalBean = ReflectionTestUtils.getField(articleService, fieldName);\nMockito.when(mockedBean.save(Mockito.any(MyEntity.class))).thenThrow(new RuntimeException(&quot;My test exception&quot;));\nReflectionTestUtils.setField(myService, fieldName, mockedBean);\n...\n// test here\n...\n// set bean back for other test cases\nReflectionTestUtils.setField(myService, fieldName, originalBean);\n</code></pre>\n"}],"owner":{"account_id":386848,"reputation":559,"user_id":744839,"accept_rate":60,"display_name":"Sisak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2309,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1633538828,"creation_date":1534161993,"question_id":51821999,"body_markdown":"I need Spring tests for the app behavior during database(connection,down db..) error.\r\nIs there a way to shutdown/kill or start the H2 in-memory db from the Spring unit tests?","title":"Test database down with Spring","body":"<p>I need Spring tests for the app behavior during database(connection,down db..) error.\nIs there a way to shutdown/kill or start the H2 in-memory db from the Spring unit tests?</p>\n"},{"tags":["java","json","rest","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1633533177,"post_id":69465839,"comment_id":122785995,"body_markdown":"Can you add your json to help us test the query? Do you want to get id with condition type=CLIENTREF?","body":"Can you add your json to help us test the query? Do you want to get id with condition type=CLIENTREF?"}],"answers":[{"tags":[],"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633533913,"creation_date":1633525079,"answer_id":69466167,"question_id":69465839,"body_markdown":"The JSON shared in the screenshot should be valid.\r\nBelow is the valid version:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n{\r\n    &quot;riskUltimateParent&quot; : \r\n    [{\r\n        &quot;name&quot;: &quot;Test1&quot;,\r\n        &quot;identifier&quot; : [{&quot;id&quot;:1,&quot;type&quot;:&quot;abcd1&quot;},{&quot;id&quot;:2,&quot;type&quot;:&quot;abcd2&quot;},{&quot;id&quot;:3,&quot;type&quot;:&quot;abcd3&quot;}]\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;Test2&quot;,\r\n        &quot;identifier&quot; : [{&quot;id&quot;:4,&quot;type&quot;:&quot;abcd4&quot;},{&quot;id&quot;:4,&quot;type&quot;:&quot;abcd5&quot;},{&quot;id&quot;:6,&quot;type&quot;:&quot;abcd6&quot;}]\r\n    }]\r\n}\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe JSON path that you are looking for should be `extract().path(&quot;riskUltimateParent[:].identifier[1]&quot;);`  \r\n\r\nIf you need id or type:\r\n\r\n    extract().path(&quot;riskUltimateParent[:].identifier[1].id&quot;);  \r\n    extract().path(&quot;riskUltimateParent[:].identifier[1].type&quot;); \r\n\r\n ","title":"Create path to get a specific object from an array","body":"<p>The JSON shared in the screenshot should be valid.\nBelow is the valid version:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n\"riskUltimateParent\" : \n[{\n    \"name\": \"Test1\",\n    \"identifier\" : [{\"id\":1,\"type\":\"abcd1\"},{\"id\":2,\"type\":\"abcd2\"},{\"id\":3,\"type\":\"abcd3\"}]\n},\n{\n    \"name\": \"Test2\",\n    \"identifier\" : [{\"id\":4,\"type\":\"abcd4\"},{\"id\":4,\"type\":\"abcd5\"},{\"id\":6,\"type\":\"abcd6\"}]\n}]\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The JSON path that you are looking for should be <code>extract().path(&quot;riskUltimateParent[:].identifier[1]&quot;);</code></p>\n<p>If you need id or type:</p>\n<pre><code>extract().path(&quot;riskUltimateParent[:].identifier[1].id&quot;);  \nextract().path(&quot;riskUltimateParent[:].identifier[1].type&quot;); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633538559,"creation_date":1633538559,"answer_id":69469592,"question_id":69465839,"body_markdown":"I use jsonpath jayway, this is the sample code:\r\n\r\n    String res = given()...asString();\r\n    List&lt;String&gt; ids = JsonPath.read(res, &quot;$..identifier[?(@.type == &#39;CLIENTREF&#39;)].id&quot;);\r\n    System.out.println(ids);\r\n    //[&quot;AVIVANVS&quot;,&quot;DAVIDSNKC&quot;]\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Create path to get a specific object from an array","body":"<p>I use jsonpath jayway, this is the sample code:</p>\n<pre><code>String res = given()...asString();\nList&lt;String&gt; ids = JsonPath.read(res, &quot;$..identifier[?(@.type == 'CLIENTREF')].id&quot;);\nSystem.out.println(ids);\n//[&quot;AVIVANVS&quot;,&quot;DAVIDSNKC&quot;]\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22139534,"reputation":73,"user_id":16389773,"display_name":"Bruno Lorena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69469592,"answer_count":2,"score":0,"last_activity_date":1633538559,"creation_date":1633523787,"question_id":69465839,"body_markdown":"I want to get the values from a JSON **highlighted in the image.** \r\nCan anyone help me, how can I build a path to get these values.\r\nWith the code I have it returns me all the id, but I only need a second object that is in the array. **For more details I have left an example in the image.**\r\n \r\n[JSON Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dlUjr.png\r\n\r\nI&#39;m using Restassured to do it. \r\n\r\n```\r\npublic static List&lt;String&gt;  JSON_UltimateParent(String parent) { \r\n\t\tbaseURI = uri;\r\n\t\tList&lt;List&lt;String&gt;&gt;  LinkedListUltimate = \r\n\t\t\t\t\tgiven() \r\n\t\t\t\t\t\t.auth().basic(getJiraUser(), getJiraPass())\r\n\t\t\t\t\t\t.param(&quot;limit&quot;, &quot;74000000&quot;)\r\n\t\t\t\t\t\t.param(&quot;count&quot;, &quot;false&quot;)\r\n\t\t\t\t\t\t.param(&quot;sort&quot;, &quot;accountId&quot;)\r\n\t\t\t\t\t.when()\r\n\t\t\t\t\t\t.get(&quot;/counterparties.json?&quot;+ parent)\r\n\t\t\t\t\t.then() \r\n\t\t\t\t\t\t.extract().path(&quot;riskUltimateParent.identifier.id&quot;); \r\n\r\n\t\tList&lt;String&gt; ultimates = linkedList_To_List(LinkedListUltimate);\r\n\t\t \t\t\t\r\n\t\treturn ultimates;\r\n\t}\r\n\r\nThis method make the parse to list\r\n\r\npublic static List&lt;String&gt; linkedList_To_List(List&lt;List&lt;String&gt;&gt; response){\r\n\t\tList&lt;String&gt; accountIds = response.stream().flatMap(l-&gt; l.stream()).collect(Collectors.toList());\r\n\t\treturn accountIds;\r\n\t}\r\n```\r\n\r\n","title":"Create path to get a specific object from an array","body":"<p>I want to get the values from a JSON <strong>highlighted in the image.</strong>\nCan anyone help me, how can I build a path to get these values.\nWith the code I have it returns me all the id, but I only need a second object that is in the array. <strong>For more details I have left an example in the image.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dlUjr.png\" rel=\"nofollow noreferrer\">JSON Structure</a></p>\n<p>I'm using Restassured to do it.</p>\n<pre><code>public static List&lt;String&gt;  JSON_UltimateParent(String parent) { \n        baseURI = uri;\n        List&lt;List&lt;String&gt;&gt;  LinkedListUltimate = \n                    given() \n                        .auth().basic(getJiraUser(), getJiraPass())\n                        .param(&quot;limit&quot;, &quot;74000000&quot;)\n                        .param(&quot;count&quot;, &quot;false&quot;)\n                        .param(&quot;sort&quot;, &quot;accountId&quot;)\n                    .when()\n                        .get(&quot;/counterparties.json?&quot;+ parent)\n                    .then() \n                        .extract().path(&quot;riskUltimateParent.identifier.id&quot;); \n\n        List&lt;String&gt; ultimates = linkedList_To_List(LinkedListUltimate);\n                    \n        return ultimates;\n    }\n\nThis method make the parse to list\n\npublic static List&lt;String&gt; linkedList_To_List(List&lt;List&lt;String&gt;&gt; response){\n        List&lt;String&gt; accountIds = response.stream().flatMap(l-&gt; l.stream()).collect(Collectors.toList());\n        return accountIds;\n    }\n</code></pre>\n"},{"tags":["java","class","object","generics","reflection"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1633533854,"post_id":69468339,"comment_id":122786330,"body_markdown":"I don&#39;t see anything wrong for a small amount of `instanceof` checks. Not very scaleable, but compile-time-safe not using reflection. UPD: Sorry, not `instanceof` but `someClass == SomeClass` or `SomeClass.class.isAssignableFrom(someClass)` depending on your needs.","body":"I don&#39;t see anything wrong for a small amount of <code>instanceof</code> checks. Not very scaleable, but compile-time-safe not using reflection. UPD: Sorry, not <code>instanceof</code> but <code>someClass == SomeClass</code> or <code>SomeClass.class.isAssignableFrom(someClass)</code> depending on your needs."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1633534234,"post_id":69468339,"comment_id":122786533,"body_markdown":"_&quot;my class does not have any constructors&quot;_ that is not possible: if your code provides no constructor, a default no-arg constructor is generated for you. Please provide a [mre] that demonstrates the problem.","body":"<i>&quot;my class does not have any constructors&quot;</i> that is not possible: if your code provides no constructor, a default no-arg constructor is generated for you. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem."},{"owner":{"account_id":22960616,"reputation":31,"user_id":17090546,"display_name":"Simon Weiler"},"score":0,"creation_date":1633534897,"post_id":69468339,"comment_id":122786789,"body_markdown":"@MarkRotteveel That is exactly my problem. I need a way to access this &quot;default no-arg constructor&quot; or something similar but for a class that is unknown at compile time.","body":"@MarkRotteveel That is exactly my problem. I need a way to access this &quot;default no-arg constructor&quot; or something similar but for a class that is unknown at compile time."},{"owner":{"account_id":4831287,"reputation":11388,"user_id":3899431,"display_name":"Luis Colorado"},"score":0,"creation_date":1633679957,"post_id":69468339,"comment_id":122829049,"body_markdown":"You always have at least one constructor.  If you don&#39;t have it explicit, there&#39;s an implicit, no arguments, constructor derived from the superclass&#39; no arguments constructor that will behave like it was defined as `public MyClass() { super(); }`.","body":"You always have at least one constructor.  If you don&#39;t have it explicit, there&#39;s an implicit, no arguments, constructor derived from the superclass&#39; no arguments constructor that will behave like it was defined as <code>public MyClass() { super(); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633536814,"creation_date":1633535041,"answer_id":69468768,"question_id":69468339,"body_markdown":"Method [`Class::getConstructor`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#getConstructor(java.lang.Class...)) returns public constructor, so it may not detect a non-public no-args constructor:\r\n&gt; Returns a Constructor object that reflects the specified public constructor of the class represented by this Class object. The parameterTypes parameter is an array of Class objects that identify the constructor&#39;s formal parameter types, in declared order. If this Class object represents an inner class declared in a non-static context, the formal parameter types include the explicit enclosing instance as the first parameter.&lt;br/&gt;&lt;br/&gt;\r\nThe constructor to reflect is the public constructor of the class represented by this Class object whose formal parameter types match those specified by parameterTypes.\r\n\r\nSo, method `create(Class&lt;?&gt; someClass)` should be defined and implemented to call [`Class::newInstance`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--), however, as it is deprecated since [Java 9](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#newInstance()) it should be replaced by `someClass.getDeclaredConstructor().newInstance()`.\r\n\r\nAlso, checked exceptions may be caught and wrapped into a `RuntimeException`\r\n```java\r\npublic static &lt;T&gt; T create(Class&lt;T&gt; someClass) {\r\n    try {\r\n        return someClass.getDeclaredConstructor().newInstance();\r\n    } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException ex) {\r\n        throw new RuntimeException(&quot;Failed to create instance of class &quot; + someClass.getName(), ex);\r\n    }\r\n}\r\n```\r\nTest:\r\n```java\r\nMyClass mc = create(MyClass.class);\r\n\r\nSystem.out.println(mc); // overridden toString\r\n```\r\nOutput\r\n```\r\nMyClass :: prop1 = null; prop2 = 0; prop3 = 0\r\n```","title":"Instantiate object of given class by invoking implicit default constructor","body":"<p>Method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#getConstructor(java.lang.Class...)\" rel=\"nofollow noreferrer\"><code>Class::getConstructor</code></a> returns public constructor, so it may not detect a non-public no-args constructor:</p>\n<blockquote>\n<p>Returns a Constructor object that reflects the specified public constructor of the class represented by this Class object. The parameterTypes parameter is an array of Class objects that identify the constructor's formal parameter types, in declared order. If this Class object represents an inner class declared in a non-static context, the formal parameter types include the explicit enclosing instance as the first parameter.<br/><br/>\nThe constructor to reflect is the public constructor of the class represented by this Class object whose formal parameter types match those specified by parameterTypes.</p>\n</blockquote>\n<p>So, method <code>create(Class&lt;?&gt; someClass)</code> should be defined and implemented to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\" rel=\"nofollow noreferrer\"><code>Class::newInstance</code></a>, however, as it is deprecated since <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#newInstance()\" rel=\"nofollow noreferrer\">Java 9</a> it should be replaced by <code>someClass.getDeclaredConstructor().newInstance()</code>.</p>\n<p>Also, checked exceptions may be caught and wrapped into a <code>RuntimeException</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T create(Class&lt;T&gt; someClass) {\n    try {\n        return someClass.getDeclaredConstructor().newInstance();\n    } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException ex) {\n        throw new RuntimeException(&quot;Failed to create instance of class &quot; + someClass.getName(), ex);\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyClass mc = create(MyClass.class);\n\nSystem.out.println(mc); // overridden toString\n</code></pre>\n<p>Output</p>\n<pre><code>MyClass :: prop1 = null; prop2 = 0; prop3 = 0\n</code></pre>\n"}],"owner":{"account_id":22960616,"reputation":31,"user_id":17090546,"display_name":"Simon Weiler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69468768,"answer_count":1,"score":1,"last_activity_date":1633538309,"creation_date":1633533276,"question_id":69468339,"body_markdown":"Currently, I have a situation where I am trying to instantiate an object of a class, with the class given as a parameter, and have the object&#39;s properties initialized with default values (e.g. null). THe problem is, my class does not have any constructors and I am **not** able to add one for various reasons. The possible classes are also not connected by a superclass, they are all direct subclasses of Object. The classes I am trying to instantiate look like the following:\r\n```\r\npublic class MyClass {\r\n  public String prop1;\r\n\r\n  public int prop2;\r\n\r\n  public int prop3;\r\n}\r\n```\r\nThat means the classes contain only properties and no methods, and as such no explicit constuctors. In cases where I know the class beforehand, I can of course just do this:\r\n```\r\npublic MyClass create() {\r\n  return new MyClass();\r\n}\r\n```\r\nIn the above case, the compiler generates me a default constructor for MyClass and initiates all properties with their default values. As pointed out in the comments, this means I technically have a constructor, but one that I am only able to access using the &quot;new&quot; keyword and by knowing the class beforehand. Now, what I am trying to do (basically) is the following:\r\n```\r\npublic someClass create(Class&lt;?&gt; someClass) {\r\n  return new someClass();\r\n}\r\n```\r\nOf course, the &#39;new&#39; keyword won&#39;t work in this scenario, so I have tried out many alternatives, none of which have worked so far:\r\n\r\n1. Using ```someClass.getConstructor().newInstance()``` or ```someClass.getDeclaredConstructor().newInstance()```. Code compiled but I got the expected &quot;NoSuchMethodException&quot; as it could not find an \\&lt;init&gt;-method or constructor for someClass\r\n2. Casting from Object like ```Object newObject = someClass.cast(new Object())```. As expected, this crashes as well, as you can&#39;t cast from a superclass to a subclass\r\n\r\nMy only real alternative right now, as the range of possible classes is not too large, is to conjure up a massive switch-case using &quot;instanceof&quot;s for every class and then just using the &quot;new&quot; keyword in each branch. But as you can imagine, I am not too fond of that.\r\n\r\nSo am I trying to do the impossible or is there a way to do this?\r\n \r\n**SOLUTION:** Turns out the first method was perfectly valid, it was only not working because some of my classes were Arrays, which I did not realize. If I take the actual classes of the objects in the arrays, it works. Sorry for the confusion, it was my mistake all along!","title":"Instantiate object of given class by invoking implicit default constructor","body":"<p>Currently, I have a situation where I am trying to instantiate an object of a class, with the class given as a parameter, and have the object's properties initialized with default values (e.g. null). THe problem is, my class does not have any constructors and I am <strong>not</strong> able to add one for various reasons. The possible classes are also not connected by a superclass, they are all direct subclasses of Object. The classes I am trying to instantiate look like the following:</p>\n<pre><code>public class MyClass {\n  public String prop1;\n\n  public int prop2;\n\n  public int prop3;\n}\n</code></pre>\n<p>That means the classes contain only properties and no methods, and as such no explicit constuctors. In cases where I know the class beforehand, I can of course just do this:</p>\n<pre><code>public MyClass create() {\n  return new MyClass();\n}\n</code></pre>\n<p>In the above case, the compiler generates me a default constructor for MyClass and initiates all properties with their default values. As pointed out in the comments, this means I technically have a constructor, but one that I am only able to access using the &quot;new&quot; keyword and by knowing the class beforehand. Now, what I am trying to do (basically) is the following:</p>\n<pre><code>public someClass create(Class&lt;?&gt; someClass) {\n  return new someClass();\n}\n</code></pre>\n<p>Of course, the 'new' keyword won't work in this scenario, so I have tried out many alternatives, none of which have worked so far:</p>\n<ol>\n<li>Using <code>someClass.getConstructor().newInstance()</code> or <code>someClass.getDeclaredConstructor().newInstance()</code>. Code compiled but I got the expected &quot;NoSuchMethodException&quot; as it could not find an &lt;init&gt;-method or constructor for someClass</li>\n<li>Casting from Object like <code>Object newObject = someClass.cast(new Object())</code>. As expected, this crashes as well, as you can't cast from a superclass to a subclass</li>\n</ol>\n<p>My only real alternative right now, as the range of possible classes is not too large, is to conjure up a massive switch-case using &quot;instanceof&quot;s for every class and then just using the &quot;new&quot; keyword in each branch. But as you can imagine, I am not too fond of that.</p>\n<p>So am I trying to do the impossible or is there a way to do this?</p>\n<p><strong>SOLUTION:</strong> Turns out the first method was perfectly valid, it was only not working because some of my classes were Arrays, which I did not realize. If I take the actual classes of the objects in the arrays, it works. Sorry for the confusion, it was my mistake all along!</p>\n"},{"tags":["java","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":14407093,"reputation":1218,"user_id":10406881,"display_name":"Yasan Glass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633538050,"creation_date":1633538050,"answer_id":69469461,"question_id":69469014,"body_markdown":"You cannot change views of another activity like that.\r\n\r\nYou can send an &#39;extra&#39; parameter with your Intent and read it on Settings activity. You can change the color based on the value you receive via the intent.\r\n\r\nOr if its a more permanent setting, you can save it on SharedPreferences and read it on Main.","title":"Change background color of another activity with button","body":"<p>You cannot change views of another activity like that.</p>\n<p>You can send an 'extra' parameter with your Intent and read it on Settings activity. You can change the color based on the value you receive via the intent.</p>\n<p>Or if its a more permanent setting, you can save it on SharedPreferences and read it on Main.</p>\n"}],"owner":{"account_id":14608261,"reputation":9,"user_id":10550444,"display_name":"Rui Fernando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69469461,"answer_count":1,"score":-2,"last_activity_date":1633538050,"creation_date":1633536116,"question_id":69469014,"body_markdown":"I have two activities main and settings. I want to change the background color of the main using a button that&#39;s on settings. I tried using RelativeLayout and get the layout of the main using the id and changing the color when touching the button but it doesn&#39;t work. I also tried doing with Intent but I don&#39;t know how to do it. Got the code for the settings activity below\r\n\r\n```\r\npublic class Settings extends AppCompatActivity {\r\n    private Button changeColorButton;\r\n    private RelativeLayout layout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_settings);\r\n        changeColorButton = findViewById(R.id.changeColorButton);\r\n        layout = findViewById(R.id.mainLayout);\r\n        /** Called when the user taps the Settings button */\r\n        changeColorButton.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View V){\r\n                Intent intent = new Intent(Settings.this, Main.class);\r\n                startActivity(intent);\r\n                layout.setBackgroundColor(Color.BLUE);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAny help please?","title":"Change background color of another activity with button","body":"<p>I have two activities main and settings. I want to change the background color of the main using a button that's on settings. I tried using RelativeLayout and get the layout of the main using the id and changing the color when touching the button but it doesn't work. I also tried doing with Intent but I don't know how to do it. Got the code for the settings activity below</p>\n<pre><code>public class Settings extends AppCompatActivity {\n    private Button changeColorButton;\n    private RelativeLayout layout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_settings);\n        changeColorButton = findViewById(R.id.changeColorButton);\n        layout = findViewById(R.id.mainLayout);\n        /** Called when the user taps the Settings button */\n        changeColorButton.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View V){\n                Intent intent = new Intent(Settings.this, Main.class);\n                startActivity(intent);\n                layout.setBackgroundColor(Color.BLUE);\n            }\n        });\n    }\n}\n</code></pre>\n<p>Any help please?</p>\n"},{"tags":["java","multithreading","file","concurrency"],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633537918,"creation_date":1633537416,"answer_id":69469304,"question_id":69469189,"body_markdown":"The general way to rely on the file system seems to be wrong. I don&#39;t think you can expect the new file become *immediately* visible for everything and everybody.\r\n\r\nI would extend the method `isJobReady`. It must additionally ensure, the file really exists and is visible for the working thread. Method `isJobReady` must return `false` otherwise (and maybe put a warning into log, if the situation is not synchronized with the RAM state).\r\n\r\nUPDATE: Here is similar problem with only one thread. Atomicity doesn&#39;t belong to the strengths of file systems: https://stackoverflow.com/questions/32583049/creating-new-files-concurrently?lq=1","title":"Latency in file creation when file is created by a thread and read by another thread","body":"<p>The general way to rely on the file system seems to be wrong. I don't think you can expect the new file become <em>immediately</em> visible for everything and everybody.</p>\n<p>I would extend the method <code>isJobReady</code>. It must additionally ensure, the file really exists and is visible for the working thread. Method <code>isJobReady</code> must return <code>false</code> otherwise (and maybe put a warning into log, if the situation is not synchronized with the RAM state).</p>\n<p>UPDATE: Here is similar problem with only one thread. Atomicity doesn't belong to the strengths of file systems: <a href=\"https://stackoverflow.com/questions/32583049/creating-new-files-concurrently?lq=1\">Creating new files concurrently</a></p>\n"}],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633537918,"creation_date":1633536845,"question_id":69469189,"body_markdown":"## The main code ##\r\n\r\nI have a method which uses a service in order to push a job and wait for such service to create a file somewhere. \r\n\r\nSuch service exposes two methods: \r\n\r\n - `String pushJob(...)` &lt;-- will push the job and will return the job id as a string\r\n - `boolean isJobReady(String id)` &lt;-- will return `true` if job is finished, false otherwise\r\n\r\nIn order to wait, this method does something like this:\r\n\r\n    CompletableFuture&lt;Void&gt; waiter = new CompletableFuture&lt;&gt;();\r\n    waitFor(waiter, jobId); //&lt;-- this will poll on the isJobReady endpoint until it responds with true\r\n                            //    when this happens, it will complete the future.\r\n    waiter.get(1, TimeUnit.HOUR); //&lt;-- wait for the job to complete within the hour\r\n    //do something with the file that was created once the get returns without exceptions\r\n\r\n## The unit test ##\r\n\r\nThis works fine, but I would like to test it. Hence, I&#39;ve made a mock implementation of the service exposing the two methods `pushJob` and `isJobReady`:\r\n\r\n    public class MockService implements Service {\r\n\r\n        private volatile boolean isReady;\r\n\r\n        @Override\r\n        public String pushJob() {\r\n            isReady = false;\r\n            CompletableFuture.runAsync(() -&gt; {\r\n                Thread.sleep(10000); //&lt;-- simulates the time spent to perform the job on service side\r\n                File file = new File(&quot;...&quot;); \r\n                if (file.createNewFile()) {\r\n                    isReady = true;\r\n                } else {\r\n                    throw new IllegalStateException(&quot;Could not create test file&quot;);\r\n                }\r\n            });\r\n            return &quot;12345&quot;;\r\n        }\r\n\r\n        @Override\r\n        public boolean isJobReady(String id) {\r\n            return isReady;\r\n        }\r\n    }\r\n\r\nI then inject such mock implementation inside my code in order to test it. \r\n\r\n## The issue ##\r\n\r\nAfter the mock implementation creates the file, it sets the volatile field `isReady` to true so when the main code sees it, it will right after go and search for the file that was created. \r\n\r\nHowever, it finds it once out of two times. \r\n\r\nIf I set a breakpoint right before searching for the file and wait a second, the code will systematically succeed. \r\nBut if I go at normal execution speed (or simply compile time), the test turns to be extremely flaky.\r\n\r\nI figure out that this is a multi-threading issue but I really don&#39;t see how it is possible because the test code will not set the variable `isReady = true` until when it has a response from `createNewFile()` which (according to the javadoc) `Atomically creates a new, empty file named by this abstract pathname if and only if a file with this name does not yet exist.`\r\n\r\nWhy is this happening and how can I correctly synchronize the file system so that the creation of the file inside the mock service is correctly visible on the main code?  ","title":"Latency in file creation when file is created by a thread and read by another thread","body":"<h2>The main code</h2>\n<p>I have a method which uses a service in order to push a job and wait for such service to create a file somewhere.</p>\n<p>Such service exposes two methods:</p>\n<ul>\n<li><code>String pushJob(...)</code> &lt;-- will push the job and will return the job id as a string</li>\n<li><code>boolean isJobReady(String id)</code> &lt;-- will return <code>true</code> if job is finished, false otherwise</li>\n</ul>\n<p>In order to wait, this method does something like this:</p>\n<pre><code>CompletableFuture&lt;Void&gt; waiter = new CompletableFuture&lt;&gt;();\nwaitFor(waiter, jobId); //&lt;-- this will poll on the isJobReady endpoint until it responds with true\n                        //    when this happens, it will complete the future.\nwaiter.get(1, TimeUnit.HOUR); //&lt;-- wait for the job to complete within the hour\n//do something with the file that was created once the get returns without exceptions\n</code></pre>\n<h2>The unit test</h2>\n<p>This works fine, but I would like to test it. Hence, I've made a mock implementation of the service exposing the two methods <code>pushJob</code> and <code>isJobReady</code>:</p>\n<pre><code>public class MockService implements Service {\n\n    private volatile boolean isReady;\n\n    @Override\n    public String pushJob() {\n        isReady = false;\n        CompletableFuture.runAsync(() -&gt; {\n            Thread.sleep(10000); //&lt;-- simulates the time spent to perform the job on service side\n            File file = new File(&quot;...&quot;); \n            if (file.createNewFile()) {\n                isReady = true;\n            } else {\n                throw new IllegalStateException(&quot;Could not create test file&quot;);\n            }\n        });\n        return &quot;12345&quot;;\n    }\n\n    @Override\n    public boolean isJobReady(String id) {\n        return isReady;\n    }\n}\n</code></pre>\n<p>I then inject such mock implementation inside my code in order to test it.</p>\n<h2>The issue</h2>\n<p>After the mock implementation creates the file, it sets the volatile field <code>isReady</code> to true so when the main code sees it, it will right after go and search for the file that was created.</p>\n<p>However, it finds it once out of two times.</p>\n<p>If I set a breakpoint right before searching for the file and wait a second, the code will systematically succeed.\nBut if I go at normal execution speed (or simply compile time), the test turns to be extremely flaky.</p>\n<p>I figure out that this is a multi-threading issue but I really don't see how it is possible because the test code will not set the variable <code>isReady = true</code> until when it has a response from <code>createNewFile()</code> which (according to the javadoc) <code>Atomically creates a new, empty file named by this abstract pathname if and only if a file with this name does not yet exist.</code></p>\n<p>Why is this happening and how can I correctly synchronize the file system so that the creation of the file inside the mock service is correctly visible on the main code?</p>\n"},{"tags":["java","oop","collections","hashmap","iteration"],"answers":[{"tags":[],"owner":{"account_id":22951053,"reputation":175,"user_id":17082325,"display_name":"iggi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633456520,"creation_date":1633455730,"answer_id":69455018,"question_id":69454894,"body_markdown":"You can try to manually find max value by iterating entry set like that\r\n\r\n    HashMap.Entry&lt;String, Integer&gt; maxEntry = new AbstractMap.SimpleEntry&lt;String, Integer&gt;(&quot;temp&quot;, -1);\r\n    for(HashMap.Entry&lt;String, Integer&gt; entry : players.entrySet()) {\r\n        if(entry.getValue() &gt; maxEntry.getValue()) {\r\n            maxEntry = entry;\r\n        }\r\n    }\r\n    System.out.println(maxEntry);\r\n\r\nEntry is a pair of values: key and value.\r\n\r\nWhen you iterate Map you get next entry in iteration, so you can get value from entry by getValue() method and compare it with exiting value in temporary variable (maxEntry).\r\n\r\nYou can get values from Entry to format output like:\r\n\r\n    System.out.println(&quot;Name: &quot; + maxEntry.getKey() + &quot; Age: &quot; + maxEntry.getValue());\r\n\r\n \r\n\r\np. s. Sorry for my bad English \r\n","title":"Iteration on keyset of HashMap","body":"<p>You can try to manually find max value by iterating entry set like that</p>\n<pre><code>HashMap.Entry&lt;String, Integer&gt; maxEntry = new AbstractMap.SimpleEntry&lt;String, Integer&gt;(&quot;temp&quot;, -1);\nfor(HashMap.Entry&lt;String, Integer&gt; entry : players.entrySet()) {\n    if(entry.getValue() &gt; maxEntry.getValue()) {\n        maxEntry = entry;\n    }\n}\nSystem.out.println(maxEntry);\n</code></pre>\n<p>Entry is a pair of values: key and value.</p>\n<p>When you iterate Map you get next entry in iteration, so you can get value from entry by getValue() method and compare it with exiting value in temporary variable (maxEntry).</p>\n<p>You can get values from Entry to format output like:</p>\n<pre><code>System.out.println(&quot;Name: &quot; + maxEntry.getKey() + &quot; Age: &quot; + maxEntry.getValue());\n</code></pre>\n<p>p. s. Sorry for my bad English</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633537794,"creation_date":1633537794,"answer_id":69469398,"question_id":69454894,"body_markdown":"The method [`Collections.max(…)`] expects a `Collection` and will return its maximum element, iterating over the collection’s elements internally. Therefore, there is no need to combine it with a loop in your own code.\r\n\r\nWhen your starting point is a `Map`, which is not a `Collection`, you need to decide for a view, `keySet()`, `entrySet()`, or `values()`, to pass into that method. Since you need both, the value for the comparison and the key for the final result, [`entrySet()`] is the right choice.\r\n\r\nSince the `entrySet()` has the type `Set&lt;Map.Entry&lt;String, Integer&gt;&gt;`, in other words, is a collection of elements not implementing `Comparable`, you need to specify a `Comparator`. The interface `Map.Entry` does already provide convenient built-in comparators, like [`Map.Entry.comparingByValue()`] which is what you want.\r\n\r\nSo, the complete solution using [`Collections.max(…)`][max2] is\r\n\r\n```java\r\nSystem.out.println(\r\n    Collections.max(players.entrySet(), Map.Entry.comparingByValue()).getKey()\r\n);\r\n```\r\n\r\nOf course, you can also iterate over the `entrySet()` manually and identify the maximum element like in [this answer].\r\n\r\n\r\n[`Collections.max(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection)\r\n[max2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection,java.util.Comparator)\r\n[`entrySet()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entrySet()\r\n[`Map.Entry.comparingByValue()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#comparingByValue()\r\n[this answer]: https://stackoverflow.com/a/69455018/2711488","title":"Iteration on keyset of HashMap","body":"<p>The method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collections.max(…)</code></a> expects a <code>Collection</code> and will return its maximum element, iterating over the collection’s elements internally. Therefore, there is no need to combine it with a loop in your own code.</p>\n<p>When your starting point is a <code>Map</code>, which is not a <code>Collection</code>, you need to decide for a view, <code>keySet()</code>, <code>entrySet()</code>, or <code>values()</code>, to pass into that method. Since you need both, the value for the comparison and the key for the final result, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entrySet()\" rel=\"nofollow noreferrer\"><code>entrySet()</code></a> is the right choice.</p>\n<p>Since the <code>entrySet()</code> has the type <code>Set&lt;Map.Entry&lt;String, Integer&gt;&gt;</code>, in other words, is a collection of elements not implementing <code>Comparable</code>, you need to specify a <code>Comparator</code>. The interface <code>Map.Entry</code> does already provide convenient built-in comparators, like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#comparingByValue()\" rel=\"nofollow noreferrer\"><code>Map.Entry.comparingByValue()</code></a> which is what you want.</p>\n<p>So, the complete solution using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Collections.max(…)</code></a> is</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n    Collections.max(players.entrySet(), Map.Entry.comparingByValue()).getKey()\n);\n</code></pre>\n<p>Of course, you can also iterate over the <code>entrySet()</code> manually and identify the maximum element like in <a href=\"https://stackoverflow.com/a/69455018/2711488\">this answer</a>.</p>\n"}],"owner":{"account_id":22950053,"reputation":7,"user_id":17081482,"display_name":"mario mario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69469398,"answer_count":2,"score":0,"last_activity_date":1633537794,"creation_date":1633454974,"question_id":69454894,"body_markdown":"I have difficulty to iterate hashmap and return the keyset with the maximum integer into an HashMap...I leave an example can anyone explain me how to do, thanks.\r\n\r\n    import java.util.*; \r\n\r\n    public class Program {\r\n        public static void main(String[ ] args) {\r\n            HashMap &lt;String, Integer&gt; players = new HashMap&lt;String, Integer&gt;();\r\n            players.put(&quot;Mario&quot;, 27);\r\n            players.put(&quot;Luigi&quot;, 43);\r\n            players.put(&quot;Jack&quot;, 11);\r\n        \r\n            //my problem goes here \r\n        \r\n            for (HashMap.Entry &lt;String, Integer&gt; f : players.entrySet()) {\r\n                System.out.println (Collections.max(f));\r\n                /* \r\n                /usercode/Program.java:13: error: no suitable method found for \r\n                max(Entry&lt;String,Integer&gt;)\r\n                System.out.println (Collections.max(f));\r\n                                               ^\r\n                method Collections.&lt;T#1&gt;max(Collection&lt;? extends T#1&gt;) is not applicable\r\n                (cannot infer type-variable(s) T#1\r\n                (argument mismatch; Entry&lt;String,Integer&gt; cannot be converted to Collection&lt;? extends \r\n                T#1&gt;))\r\n                method Collections.&lt;T#2&gt;max(Collection&lt;? extends T#2&gt;,Comparator&lt;? super T#2&gt;) is not \r\n                applicable\r\n                (cannot infer type-variable(s) T#2\r\n                (actual and formal argument lists differ in length))\r\n                where T#1,T#2 are type-variables:\r\n                T#1 extends Object,Comparable&lt;? super T#1&gt; declared in method &lt;T#1&gt;max(Collection&lt;? \r\n                extends T#1&gt;)\r\n                T#2 extends Object declared in method &lt;T#2&gt;max(Collection&lt;? extends T#2&gt;,Comparator&lt;? \r\n                super T#2&gt;)\r\n                1 error */\r\n            }\r\n        }\r\n    }\r\n\r\nI need it print only keyset Luigi.","title":"Iteration on keyset of HashMap","body":"<p>I have difficulty to iterate hashmap and return the keyset with the maximum integer into an HashMap...I leave an example can anyone explain me how to do, thanks.</p>\n<pre><code>import java.util.*; \n\npublic class Program {\n    public static void main(String[ ] args) {\n        HashMap &lt;String, Integer&gt; players = new HashMap&lt;String, Integer&gt;();\n        players.put(&quot;Mario&quot;, 27);\n        players.put(&quot;Luigi&quot;, 43);\n        players.put(&quot;Jack&quot;, 11);\n    \n        //my problem goes here \n    \n        for (HashMap.Entry &lt;String, Integer&gt; f : players.entrySet()) {\n            System.out.println (Collections.max(f));\n            /* \n            /usercode/Program.java:13: error: no suitable method found for \n            max(Entry&lt;String,Integer&gt;)\n            System.out.println (Collections.max(f));\n                                           ^\n            method Collections.&lt;T#1&gt;max(Collection&lt;? extends T#1&gt;) is not applicable\n            (cannot infer type-variable(s) T#1\n            (argument mismatch; Entry&lt;String,Integer&gt; cannot be converted to Collection&lt;? extends \n            T#1&gt;))\n            method Collections.&lt;T#2&gt;max(Collection&lt;? extends T#2&gt;,Comparator&lt;? super T#2&gt;) is not \n            applicable\n            (cannot infer type-variable(s) T#2\n            (actual and formal argument lists differ in length))\n            where T#1,T#2 are type-variables:\n            T#1 extends Object,Comparable&lt;? super T#1&gt; declared in method &lt;T#1&gt;max(Collection&lt;? \n            extends T#1&gt;)\n            T#2 extends Object declared in method &lt;T#2&gt;max(Collection&lt;? extends T#2&gt;,Comparator&lt;? \n            super T#2&gt;)\n            1 error */\n        }\n    }\n}\n</code></pre>\n<p>I need it print only keyset Luigi.</p>\n"},{"tags":["java","spring","events","lombok","dto"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633537540,"creation_date":1633537540,"answer_id":69469343,"question_id":69468776,"body_markdown":"What you would want to use is [`@SuperBuilder`](https://projectlombok.org/features/experimental/SuperBuilder) instead of `@Builder`. `@SuperBuilder` works with fields from superclasses. This annotation should be added to both super and sub classes as well.\r\n\r\nAlso, we can not call a `builder` on an abstract superclass for obvious reasons. The builder has no way to know which subclass to instantiate. This is not a limitation of Lombok, this is how OOP works.\r\n\r\nBecause of this, we should invoke the builder as follows:\r\n\r\n```Java\r\nfinal CommentDeleteEvent commentDeleteEvent = CommentDeleteEvent.builder()\r\n                                              .comment(commentDTO)                                                                                      \r\n                                              .build();\r\n```","title":"How to create instance with Lombok with extend field","body":"<p>What you would want to use is <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\"><code>@SuperBuilder</code></a> instead of <code>@Builder</code>. <code>@SuperBuilder</code> works with fields from superclasses. This annotation should be added to both super and sub classes as well.</p>\n<p>Also, we can not call a <code>builder</code> on an abstract superclass for obvious reasons. The builder has no way to know which subclass to instantiate. This is not a limitation of Lombok, this is how OOP works.</p>\n<p>Because of this, we should invoke the builder as follows:</p>\n<pre><code>final CommentDeleteEvent commentDeleteEvent = CommentDeleteEvent.builder()\n                                              .comment(commentDTO)                                                                                      \n                                              .build();\n</code></pre>\n"}],"owner":{"account_id":22609560,"reputation":41,"user_id":16789960,"display_name":"Олександр Житарюк"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69469343,"answer_count":1,"score":0,"last_activity_date":1633537540,"creation_date":1633535069,"question_id":69468776,"body_markdown":"I have next problem. I have this method:\r\n```\r\n    public void sendDeletedEvent(final Comment comment) {\r\n        log.info(&quot;SendDeletedEvent.E with Comment: {}&quot;, comment);\r\n        final CommentDTO commentDTO = commentMapper.toDTO(comment);\r\n        final CommentDeleteEvent commentDeleteEvent =  new CommentDeleteEvent(commentDTO);\r\n        kafkaTemplate.send(commentEventTopic, commentDeleteEvent);\r\n        log.info(&quot;SendDeleteEvent.X with CommentDeleteEvent : {}&quot;, commentDeleteEvent);\r\n    }\r\n```\r\nand I want to replace all new creation on lombok builder, but I have some problem. This is my CommentDeleteEvent class:\r\n```\r\n@EqualsAndHashCode(callSuper = true)\r\n@ToString(callSuper = true)\r\n@NoArgsConstructor\r\n@Builder\r\n@Data\r\npublic class CommentDeleteEvent extends AbstractCommentEvent {\r\n    public CommentDeleteEvent(CommentDTO comment) {\r\n        super(DELETE, comment);\r\n    }\r\n}\r\n```\r\nand abstractEvent\r\n```\r\n@EqualsAndHashCode(callSuper = true)\r\n@Data\r\n@Builder\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic abstract class AbstractCommentEvent extends AbstractEvent {\r\n    private CommentDTO comment;\r\n\r\n    public AbstractCommentEvent(EventType eventType, CommentDTO comment) {\r\n        super(eventType);\r\n        this.comment = comment;\r\n    }\r\n}\r\n```\r\nSo when I try to build, builder don`t see abstract CommentDTO field, what I should to do? I can do next code, but I think that is bad idea:\r\n```\r\n        log.info(&quot;SendDeletedEvent.E with Comment: {}&quot;, comment);\r\n        final CommentDTO commentDTO = commentMapper.toDTO(comment);\r\n        final CommentDeleteEvent commentDeleteEvent = (CommentDeleteEvent) AbstractCommentEvent.builder()\r\n                                                                                               .comment(commentDTO)\r\n                                                                                               .build();\r\n        kafkaTemplate.send(commentEventTopic, commentDeleteEvent);\r\n        log.info(&quot;SendDeleteEvent.X with CommentDeleteEvent : {}&quot;, commentDeleteEvent);\r\n```\r\nWhat I should to do, or my idea is not wortest?)\r\n  ","title":"How to create instance with Lombok with extend field","body":"<p>I have next problem. I have this method:</p>\n<pre><code>    public void sendDeletedEvent(final Comment comment) {\n        log.info(&quot;SendDeletedEvent.E with Comment: {}&quot;, comment);\n        final CommentDTO commentDTO = commentMapper.toDTO(comment);\n        final CommentDeleteEvent commentDeleteEvent =  new CommentDeleteEvent(commentDTO);\n        kafkaTemplate.send(commentEventTopic, commentDeleteEvent);\n        log.info(&quot;SendDeleteEvent.X with CommentDeleteEvent : {}&quot;, commentDeleteEvent);\n    }\n</code></pre>\n<p>and I want to replace all new creation on lombok builder, but I have some problem. This is my CommentDeleteEvent class:</p>\n<pre><code>@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\n@NoArgsConstructor\n@Builder\n@Data\npublic class CommentDeleteEvent extends AbstractCommentEvent {\n    public CommentDeleteEvent(CommentDTO comment) {\n        super(DELETE, comment);\n    }\n}\n</code></pre>\n<p>and abstractEvent</p>\n<pre><code>@EqualsAndHashCode(callSuper = true)\n@Data\n@Builder\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic abstract class AbstractCommentEvent extends AbstractEvent {\n    private CommentDTO comment;\n\n    public AbstractCommentEvent(EventType eventType, CommentDTO comment) {\n        super(eventType);\n        this.comment = comment;\n    }\n}\n</code></pre>\n<p>So when I try to build, builder don`t see abstract CommentDTO field, what I should to do? I can do next code, but I think that is bad idea:</p>\n<pre><code>        log.info(&quot;SendDeletedEvent.E with Comment: {}&quot;, comment);\n        final CommentDTO commentDTO = commentMapper.toDTO(comment);\n        final CommentDeleteEvent commentDeleteEvent = (CommentDeleteEvent) AbstractCommentEvent.builder()\n                                                                                               .comment(commentDTO)\n                                                                                               .build();\n        kafkaTemplate.send(commentEventTopic, commentDeleteEvent);\n        log.info(&quot;SendDeleteEvent.X with CommentDeleteEvent : {}&quot;, commentDeleteEvent);\n</code></pre>\n<p>What I should to do, or my idea is not wortest?)</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1633537175,"post_id":69469171,"comment_id":122787770,"body_markdown":"Do you use IDE global inspection profile or a project profile? If the latter, it will be stored in `.idea` directory and you should share it via the version control, see https://intellij-support.jetbrains.com/hc/en-us/articles/206544839.","body":"Do you use IDE global inspection profile or a project profile? If the latter, it will be stored in <code>.idea</code> directory and you should share it via the version control, see <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544839\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/206544839</a>."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1633537273,"post_id":69469171,"comment_id":122787819,"body_markdown":"We don&#39;t use .idea directory. However, if that&#39;s the only way we might have to migrate to that.","body":"We don&#39;t use .idea directory. However, if that&#39;s the only way we might have to migrate to that."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1633537465,"post_id":69469171,"comment_id":122787902,"body_markdown":"At the top of introspection I see I can export the Default IDE profile. The xml file also does not contain my annotations. Let me add that to the question.","body":"At the top of introspection I see I can export the Default IDE profile. The xml file also does not contain my annotations. Let me add that to the question."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633537487,"creation_date":1633537487,"answer_id":69469328,"question_id":69469171,"body_markdown":"Project inspection profiles are stored in `.idea/inspectionProfiles` directory and you can [share it via the version control](https://intellij-support.jetbrains.com/hc/en-us/articles/206544839).\r\n\r\nYou can also make it an IDE global profile that will be stored in the [IDE configuration directory](https://intellij-support.jetbrains.com/hc/en-us/articles/206544519), `inspections` subdirectory. One can use [read-only settings repository](https://www.jetbrains.com/help/idea/sharing-your-ide-settings.html#share-more-settings-through-read-only-repo) to share it with the team.\r\n\r\nThere is a [known bug](https://youtrack.jetbrains.com/issue/IDEA-84055) with exporting the inspection entry points.","title":"How do you export Settings-&gt;Editor-&gt;Inspections-&gt;Java-&gt;Declaration redundancy-&gt;Unused declaration-&gt;Entry Points-&gt;Annotations","body":"<p>Project inspection profiles are stored in <code>.idea/inspectionProfiles</code> directory and you can <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544839\" rel=\"nofollow noreferrer\">share it via the version control</a>.</p>\n<p>You can also make it an IDE global profile that will be stored in the <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544519\" rel=\"nofollow noreferrer\">IDE configuration directory</a>, <code>inspections</code> subdirectory. One can use <a href=\"https://www.jetbrains.com/help/idea/sharing-your-ide-settings.html#share-more-settings-through-read-only-repo\" rel=\"nofollow noreferrer\">read-only settings repository</a> to share it with the team.</p>\n<p>There is a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-84055\" rel=\"nofollow noreferrer\">known bug</a> with exporting the inspection entry points.</p>\n"}],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69469328,"answer_count":1,"score":0,"last_activity_date":1633537519,"creation_date":1633536792,"question_id":69469171,"body_markdown":"How do you export Settings-&gt;Editor-&gt;Inspections-&gt;Java-&gt;Declaration redundancy-&gt;Unused declaration-&gt;Entry Points-&gt;Annotations and similar settings?\r\n\r\nFor example, I have configured Spring&#39;s @Value and @Autowired annotations to be implicitly written to get rid of a lot of warnings generated by the IDE. I have a bunch of similar best practice configurations I want to share with developers on the team. \r\n\r\nI have tried the suggested approach in https://stackoverflow.com/questions/15863256/how-to-save-export-all-the-settings-of-intellij-idea but the exported zip does not contain my setting anywhere:\r\n```\r\nunzip settings.zip\r\ngrep -r -i autowire .\r\n&lt;empty result&gt;\r\n```\r\n\r\nAt the top of introspection I see I can export the Default IDE profile. The exported xml file also does not contain my annotations:\r\n```\r\ncat Default.xml\r\n&lt;profile version=&quot;1.0&quot;&gt;\r\n  &lt;option name=&quot;myName&quot; value=&quot;Default&quot; /&gt;\r\n&lt;/profile&gt;\r\n```","title":"How do you export Settings-&gt;Editor-&gt;Inspections-&gt;Java-&gt;Declaration redundancy-&gt;Unused declaration-&gt;Entry Points-&gt;Annotations","body":"<p>How do you export Settings-&gt;Editor-&gt;Inspections-&gt;Java-&gt;Declaration redundancy-&gt;Unused declaration-&gt;Entry Points-&gt;Annotations and similar settings?</p>\n<p>For example, I have configured Spring's @Value and @Autowired annotations to be implicitly written to get rid of a lot of warnings generated by the IDE. I have a bunch of similar best practice configurations I want to share with developers on the team.</p>\n<p>I have tried the suggested approach in <a href=\"https://stackoverflow.com/questions/15863256/how-to-save-export-all-the-settings-of-intellij-idea\">How to save/export all the settings of IntelliJ IDEA?</a> but the exported zip does not contain my setting anywhere:</p>\n<pre><code>unzip settings.zip\ngrep -r -i autowire .\n&lt;empty result&gt;\n</code></pre>\n<p>At the top of introspection I see I can export the Default IDE profile. The exported xml file also does not contain my annotations:</p>\n<pre><code>cat Default.xml\n&lt;profile version=&quot;1.0&quot;&gt;\n  &lt;option name=&quot;myName&quot; value=&quot;Default&quot; /&gt;\n&lt;/profile&gt;\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1365450839,"post_id":15887703,"comment_id":22621444,"body_markdown":"Why are you using a `for` loop and completely ignoring `i`? You&#39;re just going the same thing over and over, for every character in the string. And what _should_ `xyzThere(&quot;abc.xyzxyz&quot;)` return?","body":"Why are you using a <code>for</code> loop and completely ignoring <code>i</code>? You&#39;re just going the same thing over and over, for every character in the string. And what <i>should</i> <code>xyzThere(&quot;abc.xyzxyz&quot;)</code> return?"},{"owner":{"account_id":1425012,"reputation":1316,"user_id":1348782,"accept_rate":76,"display_name":"nommyravian"},"score":0,"creation_date":1365450957,"post_id":15887703,"comment_id":22621503,"body_markdown":"what should be the result for the test case which you mentioned? Does it pass or not?","body":"what should be the result for the test case which you mentioned? Does it pass or not?"},{"owner":{"account_id":2350143,"reputation":1117,"user_id":2059238,"accept_rate":44,"display_name":"Karan Goel"},"score":0,"creation_date":1365450958,"post_id":15887703,"comment_id":22621504,"body_markdown":"Depending on your philosophical bent, answer to `xyzThere(&quot;abc.xyzxyz&quot;)` may be `true` or `false` unless the question states if only the first occurrence of `xyz`/&#39;.xyz&#39; to check. Also, instead of `str.contains(&quot;.xyz&quot;) == false`, use `!str.contains(&quot;.xyz&quot;)`. And, drop the `for` loop.","body":"Depending on your philosophical bent, answer to <code>xyzThere(&quot;abc.xyzxyz&quot;)</code> may be <code>true</code> or <code>false</code> unless the question states if only the first occurrence of <code>xyz</code>/&#39;.xyz&#39; to check. Also, instead of <code>str.contains(&quot;.xyz&quot;) == false</code>, use <code>!str.contains(&quot;.xyz&quot;)</code>. And, drop the <code>for</code> loop."},{"owner":{"account_id":2571058,"reputation":1133,"user_id":2229775,"accept_rate":78,"display_name":"Manas Bajaj"},"score":0,"creation_date":1365450981,"post_id":15887703,"comment_id":22621517,"body_markdown":"My bad, was trying to do it some other way, forgot to delete that line.","body":"My bad, was trying to do it some other way, forgot to delete that line."},{"owner":{"account_id":2571058,"reputation":1133,"user_id":2229775,"accept_rate":78,"display_name":"Manas Bajaj"},"score":0,"creation_date":1365451029,"post_id":15887703,"comment_id":22621537,"body_markdown":"@nommyravian, it should return &#39;true&#39;, but returns false in my case.","body":"@nommyravian, it should return &#39;true&#39;, but returns false in my case."}],"answers":[{"tags":[],"owner":{"account_id":88049,"reputation":3539,"user_id":1107536,"display_name":"Xavier Delamotte"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365451987,"creation_date":1365450947,"answer_id":15887777,"question_id":15887703,"body_markdown":"\tpublic static boolean xyzThere(String str) {\r\n\t\tint i = -1;\r\n\t\twhile ((i = str.indexOf(&quot;xyz&quot;, i + 1 )) != -1) {\r\n\t\t\tif (i == 0 || (str.charAt(i-1) != &#39;.&#39;)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>public static boolean xyzThere(String str) {\n    int i = -1;\n    while ((i = str.indexOf(\"xyz\", i + 1 )) != -1) {\n        if (i == 0 || (str.charAt(i-1) != '.')) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1365451680,"creation_date":1365450965,"answer_id":15887786,"question_id":15887703,"body_markdown":"    public boolean xyzThere(String str) {\r\n        return(!str.contains(&quot;.xyz&quot;) &amp;&amp; str.contains(&quot;xyz&quot;));\r\n    }\r\n\r\nEdit: Given that &quot;.xyzxyz&quot; should return true, the solution should be:\r\n\r\n    public boolean xyzThere(String str) {\r\n        int index = str.indexOf(&quot;.xyz&quot;);\r\n        if(index &gt;= 0) {\r\n            return xyzThere(str.substring(0, index)) || xyzThere(str.substring(index + 4));\r\n        } else return (str.contains(&quot;xyz&quot;));\r\n    }","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>public boolean xyzThere(String str) {\n    return(!str.contains(\".xyz\") &amp;&amp; str.contains(\"xyz\"));\n}\n</code></pre>\n\n<p>Edit: Given that \".xyzxyz\" should return true, the solution should be:</p>\n\n<pre><code>public boolean xyzThere(String str) {\n    int index = str.indexOf(\".xyz\");\n    if(index &gt;= 0) {\n        return xyzThere(str.substring(0, index)) || xyzThere(str.substring(index + 4));\n    } else return (str.contains(\"xyz\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365452405,"creation_date":1365452405,"answer_id":15888204,"question_id":15887703,"body_markdown":"Ok, let&#39;s translate your question into a regexp:\r\n\r\n`^` From the start of the string  \r\n`(|.*[^\\.])` followed by either nothing or any amount of any chars and and any char except `.`   \r\n`xyz` and then xyz\r\n\r\nJava code:\r\n\r\n    public static boolean xyzThere(String str) {\r\n        return str.matches(&quot;^(|.*[^\\\\.])xyz&quot;);\r\n    }","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>Ok, let's translate your question into a regexp:</p>\n\n<p><code>^</code> From the start of the string<br>\n<code>(|.*[^\\.])</code> followed by either nothing or any amount of any chars and and any char except <code>.</code><br>\n<code>xyz</code> and then xyz</p>\n\n<p>Java code:</p>\n\n<pre><code>public static boolean xyzThere(String str) {\n    return str.matches(\"^(|.*[^\\\\.])xyz\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2608603,"reputation":11,"user_id":2259208,"display_name":"DXDenton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365452640,"creation_date":1365452640,"answer_id":15888280,"question_id":15887703,"body_markdown":"Ok, I know everyone is eager to share their expertise but straight giving the kid the answer does little good.\r\n\r\n@EnTHuSiAsTx94\r\n\r\nI was able to pass all of the tests with three statements. Here is a hint: Try using the string `replace` method. Here is the method signature:\r\n\r\n    String replace(CharSequence target, CharSequence replacement)\r\n\r\nOn a minor note, the first condition in your if statement can be simplified from:\r\n\r\n    str.contains(&quot;.xyz&quot;) == false\r\n\r\nto:\r\n\r\n    !str.contains(&quot;.xyz&quot;)\r\n\r\nThe `contains` method already returns true or false, so there is no need for the explicit equals comparison.\r\n","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>Ok, I know everyone is eager to share their expertise but straight giving the kid the answer does little good.</p>\n\n<p>@EnTHuSiAsTx94</p>\n\n<p>I was able to pass all of the tests with three statements. Here is a hint: Try using the string <code>replace</code> method. Here is the method signature:</p>\n\n<pre><code>String replace(CharSequence target, CharSequence replacement)\n</code></pre>\n\n<p>On a minor note, the first condition in your if statement can be simplified from:</p>\n\n<pre><code>str.contains(\".xyz\") == false\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>!str.contains(\".xyz\")\n</code></pre>\n\n<p>The <code>contains</code> method already returns true or false, so there is no need for the explicit equals comparison.</p>\n"},{"tags":[],"owner":{"account_id":3752861,"reputation":26,"user_id":3119954,"display_name":"user3119954"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387511282,"creation_date":1387511282,"answer_id":20695948,"question_id":15887703,"body_markdown":"    public boolean xyzThere(String str) {\r\n    return str.startsWith(&quot;xyz&quot;) || str.matches(&quot;.*[^.]xyz.*&quot;);\r\n    }\r\n\r\n","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>public boolean xyzThere(String str) {\nreturn str.startsWith(\"xyz\") || str.matches(\".*[^.]xyz.*\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6924362,"reputation":1,"user_id":5315857,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469746814,"creation_date":1441953427,"answer_id":32517054,"question_id":15887703,"body_markdown":"    boolean flag = false;\r\n    if(str.length()&lt;=3){\r\n       flag = str.contains(&quot;xyz&quot;); \r\n    }\r\n\r\n   \tfor (int i = 0; i &lt; str.length()-3; i++) {\r\n\t    if (!str.substring(i, i+3).equals(&quot;xyz&quot;) &amp;&amp; \r\n                str.substring(i, i+4).equals(&quot;.xyz&quot;)) {\r\n    \t\tflag=false;\r\n    \t}else{\r\n   \t\t\tif(str.contains(&quot;xyz&quot;)) flag=true;\r\n   \t\t}\r\n   \t}\r\n    return flag;","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>boolean flag = false;\nif(str.length()&lt;=3){\n   flag = str.contains(\"xyz\"); \n}\n\nfor (int i = 0; i &lt; str.length()-3; i++) {\n    if (!str.substring(i, i+3).equals(\"xyz\") &amp;&amp; \n            str.substring(i, i+4).equals(\".xyz\")) {\n        flag=false;\n    }else{\n        if(str.contains(\"xyz\")) flag=true;\n    }\n}\nreturn flag;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8911659,"reputation":31,"user_id":6651657,"display_name":"R. Pehrson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469835292,"creation_date":1469740242,"answer_id":38646807,"question_id":15887703,"body_markdown":"Alternatively, you could replace all occurrences of &quot;.xyz&quot; in the string with &quot;&quot;, then use the .contains method to verify that the modified string still contains &quot;xyz&quot;. Like so:\r\n   \r\n    return str.replace(&quot;.xyz&quot;, &quot;&quot;).contains(&quot;xyz&quot;);","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>Alternatively, you could replace all occurrences of \".xyz\" in the string with \"\", then use the .contains method to verify that the modified string still contains \"xyz\". Like so:</p>\n\n<pre><code>return str.replace(\".xyz\", \"\").contains(\"xyz\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9348894,"reputation":379,"user_id":6939269,"accept_rate":100,"display_name":"coder kemp"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1514769039,"creation_date":1514509286,"answer_id":48016215,"question_id":15887703,"body_markdown":"    public boolean xyzThere(String str) {\r\n      boolean res=false;\r\n      if(str.length()&lt;3)res=false;\r\n      if(str.length()==3){\r\n        if(str.equals(&quot;xyz&quot;))res=true;\r\n        else res=false;\r\n      }\r\n      if(str.length()&gt;3){\r\n       for(int i=0;i&lt;str.length()-2;i++){\r\n         if(str.charAt(i)==&#39;x&#39; &amp;&amp; str.charAt(i+1)==&#39;y&#39; &amp;&amp; str.charAt(i+2)==&#39;z&#39;){\r\n           if(i==0 || str.charAt(i-1)!=&#39;.&#39;)res=true;\r\n         }\r\n       }\r\n      }\r\n      return res;\r\n    }\r\n\r\n","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>public boolean xyzThere(String str) {\n  boolean res=false;\n  if(str.length()&lt;3)res=false;\n  if(str.length()==3){\n    if(str.equals(\"xyz\"))res=true;\n    else res=false;\n  }\n  if(str.length()&gt;3){\n   for(int i=0;i&lt;str.length()-2;i++){\n     if(str.charAt(i)=='x' &amp;&amp; str.charAt(i+1)=='y' &amp;&amp; str.charAt(i+2)=='z'){\n       if(i==0 || str.charAt(i-1)!='.')res=true;\n     }\n   }\n  }\n  return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12921273,"reputation":11,"user_id":10010726,"display_name":"tkuzub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549455438,"creation_date":1549455438,"answer_id":54553478,"question_id":15887703,"body_markdown":"    public class XyzThereDemo {\r\n        public static void main(String[] args) {\r\n            System.out.println(xyzThere(&quot;abcxyz&quot;));\r\n            System.out.println(xyzThere(&quot;abc.xyz&quot;));\r\n            System.out.println(xyzThere(&quot;xyz.abc&quot;));\r\n        }\r\n    \r\n        public static boolean xyzThere(String str) {\r\n            int xyz = 0;\r\n            for (int i = 0; i &lt; str.length() - 2; i++) {\r\n    \r\n    \r\n                if (str.charAt(i) == &#39;.&#39;) {\r\n                    i++;\r\n                    continue;\r\n    \r\n                }\r\n    \r\n                String sub = str.substring(i, i + 3);\r\n    \r\n    \r\n                if (sub.equals(&quot;xyz&quot;)) {\r\n                    xyz++;\r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n            return xyz != 0;\r\n        }\r\n    }\r\n\r\n","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>public class XyzThereDemo {\n    public static void main(String[] args) {\n        System.out.println(xyzThere(\"abcxyz\"));\n        System.out.println(xyzThere(\"abc.xyz\"));\n        System.out.println(xyzThere(\"xyz.abc\"));\n    }\n\n    public static boolean xyzThere(String str) {\n        int xyz = 0;\n        for (int i = 0; i &lt; str.length() - 2; i++) {\n\n\n            if (str.charAt(i) == '.') {\n                i++;\n                continue;\n\n            }\n\n            String sub = str.substring(i, i + 3);\n\n\n            if (sub.equals(\"xyz\")) {\n                xyz++;\n            }\n\n\n        }\n\n        return xyz != 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16140734,"reputation":1,"user_id":11651946,"display_name":"Thaneesh reddy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1560618836,"creation_date":1560618836,"answer_id":56612512,"question_id":15887703,"body_markdown":"simple solution just by replace and check the &quot;xyz &quot; in a thats it\r\n```\r\ndef xyz_there(str):\r\n   a=str.replace(&#39;.xyz&#39;,&#39;&#39;)\r\n   return &#39;xyz&#39; in a\r\n```","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>simple solution just by replace and check the \"xyz \" in a thats it</p>\n\n<pre><code>def xyz_there(str):\n   a=str.replace('.xyz','')\n   return 'xyz' in a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16521530,"reputation":1,"user_id":11937561,"display_name":"Rares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566043323,"creation_date":1566043323,"answer_id":57536099,"question_id":15887703,"body_markdown":" Another method\r\n\r\n    public boolean xyzThere(String str) {\r\n     if(str.startsWith(&quot;xyz&quot;)) return true;\r\n    for(int i=0;i&lt;str.length()-3;i++) {\r\n       if(str.substring(i+1,i+4).equals(&quot;xyz&quot;) &amp;&amp; str.charAt(i)!=&#39;.&#39;) return true;\r\n    }\r\n\t  return false;\r\n    }\r\n","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>Another method</p>\n\n<pre><code>public boolean xyzThere(String str) {\n if(str.startsWith(\"xyz\")) return true;\nfor(int i=0;i&lt;str.length()-3;i++) {\n   if(str.substring(i+1,i+4).equals(\"xyz\") &amp;&amp; str.charAt(i)!='.') return true;\n}\n  return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13518249,"reputation":21,"user_id":12290936,"display_name":"designDemon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572348504,"creation_date":1572346203,"answer_id":58605975,"question_id":15887703,"body_markdown":"You can use the equivalent java code for the following solution:\r\n\r\n    def xyz_there(str):\r\n      pres = str.count(&#39;xyz&#39;)\r\n      abs = str.count(&#39;.xyz&#39;)\r\n      if pres&gt;abs:\r\n        return True\r\n      else:\r\n        return False","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>You can use the equivalent java code for the following solution:</p>\n\n<pre><code>def xyz_there(str):\n  pres = str.count('xyz')\n  abs = str.count('.xyz')\n  if pres&gt;abs:\n    return True\n  else:\n    return False\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17483857,"reputation":35,"user_id":12677313,"display_name":"SANROOKIE"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578563792,"creation_date":1578505808,"answer_id":59651278,"question_id":15887703,"body_markdown":"&#39;&#39;&#39;python\r\n\r\n    def xyz_there(str):\r\n\r\n        dot=str.find(&#39;.&#39;)    # if period is present in str if not dot==-1\r\n        if dot==-1:            # if yes dot will show position of period  \r\n            return &#39;xyz&#39; in str\r\n        elif dot!=-1:                 #if period is present at position dot\r\n            if &#39;xyz&#39; in str[:dot]:    \r\n                return True                    \r\n            while str[dot+1:].find(&#39;.&#39;)!=-1:   #while another period is present \r\n                if  &#39;.xyz&#39; in str[dot+1:]==False:  # .xyz will not be counted  \r\n                    return True\r\n            else:\r\n                dot=dot+str[dot+1:].find(&#39;.&#39;)+2 #now dot=previous dot+new dot+2\r\n        else:\r\n            return &#39;xyz&#39; in str[dot+2:]\r\n&#39;&#39;&#39;","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>'''python</p>\n\n<pre><code>def xyz_there(str):\n\n    dot=str.find('.')    # if period is present in str if not dot==-1\n    if dot==-1:            # if yes dot will show position of period  \n        return 'xyz' in str\n    elif dot!=-1:                 #if period is present at position dot\n        if 'xyz' in str[:dot]:    \n            return True                    \n        while str[dot+1:].find('.')!=-1:   #while another period is present \n            if  '.xyz' in str[dot+1:]==False:  # .xyz will not be counted  \n                return True\n        else:\n            dot=dot+str[dot+1:].find('.')+2 #now dot=previous dot+new dot+2\n    else:\n        return 'xyz' in str[dot+2:]\n</code></pre>\n\n<p>'''</p>\n"},{"tags":[],"owner":{"account_id":16236573,"reputation":1,"user_id":11723935,"display_name":"Mungunbayar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586791498,"creation_date":1586789757,"answer_id":61190591,"question_id":15887703,"body_markdown":"    def xyz_there(str):\r\n      list = [i for i in range(len(str)) if str.startswith(&#39;xyz&#39;, i)]\r\n      if list == []:\r\n        return False\r\n      else:\r\n        found = 0\r\n        for l in list:\r\n          if str[l-1:l+3] != &quot;.xyz&quot;:\r\n            found += 1\r\n        if found &gt;=1:\r\n          return True\r\n        else:\r\n          return False\r\n      \r\n     \r\n\r\n![][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Q6Xq8.png\r\n","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>def xyz_there(str):\n  list = [i for i in range(len(str)) if str.startswith('xyz', i)]\n  if list == []:\n    return False\n  else:\n    found = 0\n    for l in list:\n      if str[l-1:l+3] != \".xyz\":\n        found += 1\n    if found &gt;=1:\n      return True\n    else:\n      return False\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Q6Xq8.png\" alt=\"\"></p>\n"},{"tags":[],"owner":{"account_id":17932763,"reputation":11,"user_id":13029752,"display_name":"Rahul Gheewala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589737064,"creation_date":1589728440,"answer_id":61854074,"question_id":15887703,"body_markdown":"```\r\npublic boolean xyzThere(String str) {\r\n  \r\n    if (str.startsWith(&quot;xyz&quot;)){\r\n      return true;\r\n    }\r\n\r\n    for (int i = 0; i &lt; str.length()-2; i++) {\r\n\t\t\t\r\n\t    if (str.subSequence(i, i + 3).equals(&quot;xyz&quot;) &amp;&amp; !(str.charAt(i-1) == &#39;.&#39;)) {\r\n\t    \treturn true;\r\n\t    }\r\n\t}\r\n    return false;\r\n}\r\n```","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>public boolean xyzThere(String str) {\n\n    if (str.startsWith(\"xyz\")){\n      return true;\n    }\n\n    for (int i = 0; i &lt; str.length()-2; i++) {\n\n        if (str.subSequence(i, i + 3).equals(\"xyz\") &amp;&amp; !(str.charAt(i-1) == '.')) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18661918,"reputation":1,"user_id":13602915,"display_name":"YashBora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596373344,"creation_date":1596373344,"answer_id":63216328,"question_id":15887703,"body_markdown":"This is the best possible and easiest way to solve this question with very simple logic:\r\n\r\n```\r\ndef xyz_there(str):\r\n  for i in range(len(str)):\r\n    if str[i-1]!= &#39;.&#39; and str[i:i+3]==&#39;xyz&#39; :\r\n      return True\r\n  return False\r\n```","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>This is the best possible and easiest way to solve this question with very simple logic:</p>\n<pre><code>def xyz_there(str):\n  for i in range(len(str)):\n    if str[i-1]!= '.' and str[i:i+3]=='xyz' :\n      return True\n  return False\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5931858,"reputation":369,"user_id":4666063,"display_name":"Ammy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601287146,"creation_date":1601287146,"answer_id":64099961,"question_id":15887703,"body_markdown":"  \r\n\r\n     public boolean xyzThere(String str) {\r\n\r\n\t\tboolean flag = false;\r\n\t\t\r\n\t\tif (str.startsWith(&quot;xyz&quot;))\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; str.length() - 3; i++)\r\n\t\t{\r\n                                             \r\n\t\t\tif (str.charAt(i) != &#39;.&#39; &amp;&amp; str.charAt(i + 1) == &#39;x&#39;\r\n\t\t\t\t&amp;&amp; str.charAt(i + 2) == &#39;y&#39; &amp;&amp; str.charAt(i + 3) == &#39;z&#39;)\r\n\t\t\t{\r\n\t\t\t  flag = true;\r\n\t\t\t  break;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn  flag;\r\n    }\r\n","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code> public boolean xyzThere(String str) {\n\n    boolean flag = false;\n    \n    if (str.startsWith(&quot;xyz&quot;))\n    {\n        return true;\n    }\n\n    for (int i = 0; i &lt; str.length() - 3; i++)\n    {\n                                         \n        if (str.charAt(i) != '.' &amp;&amp; str.charAt(i + 1) == 'x'\n            &amp;&amp; str.charAt(i + 2) == 'y' &amp;&amp; str.charAt(i + 3) == 'z')\n        {\n          flag = true;\n          break;\n        }\n    }\n    return  flag;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21450257,"reputation":1,"user_id":15802856,"display_name":"Farha Rubena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619841770,"creation_date":1619841770,"answer_id":67342765,"question_id":15887703,"body_markdown":"    def xyz_there(str1):\r\n      \r\n      for i in range(len(str1)):\r\n        if str1[i-1] != &#39;.&#39; and str1[i:i+3] == &#39;xyz&#39;:\r\n          return True\r\n      else:\r\n        return False","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<pre><code>def xyz_there(str1):\n  \n  for i in range(len(str1)):\n    if str1[i-1] != '.' and str1[i:i+3] == 'xyz':\n      return True\n  else:\n    return False\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124718,"reputation":1,"user_id":16377308,"display_name":"Jayant Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625751845,"creation_date":1625751845,"answer_id":68302825,"question_id":15887703,"body_markdown":"def xyz_there(str):\r\n\r\n  if &#39;.xxyz&#39; in str:\r\n\r\n    return&#39;.xxyz&#39; in str\r\n\r\n  if &#39;.&#39; in str:\r\n\r\n    a=str.replace(&quot;.xyz&quot;,&quot;&quot;)\r\n\r\n    return &#39;xyz&#39; in a\r\n\r\n  if &#39;.&#39; not in str:\r\n\r\n    return &#39;xyz&#39; in str","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>def xyz_there(str):</p>\n<p>if '.xxyz' in str:</p>\n<pre><code>return'.xxyz' in str\n</code></pre>\n<p>if '.' in str:</p>\n<pre><code>a=str.replace(&quot;.xyz&quot;,&quot;&quot;)\n\nreturn 'xyz' in a\n</code></pre>\n<p>if '.' not in str:</p>\n<pre><code>return 'xyz' in str\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20230445,"reputation":43,"user_id":14837124,"display_name":"Neel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630251840,"creation_date":1630251840,"answer_id":68974524,"question_id":15887703,"body_markdown":"The below code worked fine for me: \r\n\r\n    if &#39;.xyz&#39; in str:\r\n      return xyz_there(str.replace(&#39;.xyz&#39;,&#39;&#39;))\r\n    elif &#39;xyz&#39; in str:\r\n      return True\r\n  \r\n    return False","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>The below code worked fine for me:</p>\n<pre><code>if '.xyz' in str:\n  return xyz_there(str.replace('.xyz',''))\nelif 'xyz' in str:\n  return True\n\nreturn False\n</code></pre>\n"}],"owner":{"account_id":2571058,"reputation":1133,"user_id":2229775,"accept_rate":78,"display_name":"Manas Bajaj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16156,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":15887786,"answer_count":20,"score":3,"last_activity_date":1633536956,"creation_date":1365450706,"question_id":15887703,"body_markdown":"I&#39;m trying to solve this CodingBat problem: \r\n\r\n&gt; Return true if the given string contains an appearance of &quot;xyz&quot; where the xyz is not directly preceeded by a period (.). So &quot;xxyz&quot; counts but &quot;x.xyz&quot; does not. \r\n\r\n    xyzThere(&quot;abcxyz&quot;) → true\r\n    xyzThere(&quot;abc.xyz&quot;) → false\r\n    xyzThere(&quot;xyz.abc&quot;) → true\r\n\r\nMy attempt:\r\n\r\n    public boolean xyzThere(String str) {\r\n      boolean res = false;\r\n     \r\n      if(str.contains(&quot;.xyz&quot;) == false &amp;&amp; str.contains(&quot;xyz&quot;)){\r\n        res = true;\r\n      }\r\n      \r\n      return res;\r\n      \r\n    }\r\n\r\nThe problem is that is passes all the tests except the one below because it contains two instances of xyz:\r\n\r\n    xyzThere(&quot;abc.xyzxyz&quot;)\r\n\r\nHow can I make it pass all tests?","title":"Return true if string cointains &quot;xyz&quot; not preceeded by a period?","body":"<p>I'm trying to solve this CodingBat problem: </p>\n\n<blockquote>\n  <p>Return true if the given string contains an appearance of \"xyz\" where the xyz is not directly preceeded by a period (.). So \"xxyz\" counts but \"x.xyz\" does not. </p>\n</blockquote>\n\n<pre><code>xyzThere(\"abcxyz\") → true\nxyzThere(\"abc.xyz\") → false\nxyzThere(\"xyz.abc\") → true\n</code></pre>\n\n<p>My attempt:</p>\n\n<pre><code>public boolean xyzThere(String str) {\n  boolean res = false;\n\n  if(str.contains(\".xyz\") == false &amp;&amp; str.contains(\"xyz\")){\n    res = true;\n  }\n\n  return res;\n\n}\n</code></pre>\n\n<p>The problem is that is passes all the tests except the one below because it contains two instances of xyz:</p>\n\n<pre><code>xyzThere(\"abc.xyzxyz\")\n</code></pre>\n\n<p>How can I make it pass all tests?</p>\n"},{"tags":["java","serialization"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340604453,"creation_date":1340604453,"answer_id":11184181,"question_id":11184156,"body_markdown":"&gt; These two functions are all qualified with private keyword, how are they called during the serializing process?\r\n\r\nJava serialization involves magic in the JVM, basically. Heck, it can involve creating an object without calling a constructor, even.\r\n\r\n&gt; We all know that Java Serializable Interface is an empty interface, so how does the serializing mechanism knows to call these two function to serialize and deserialize?\r\n\r\nIt&#39;s easy to tell (from suitably trusted code) whether a class provides certain methods, via reflection. The serialization framework code is sufficiently trusted to determine that as well as invoking the methods.\r\n\r\nJust detecting and invoking a private method from another class is feasible (again, with suitably trusted code) in normal Java of course:\r\n\r\n    import java.lang.reflect.*;\r\n    \r\n    class Other {\r\n        private static void privateMethod() {\r\n            System.out.println(&quot;You can&#39;t call me, can you?&quot;);\r\n        }\r\n    }\r\n    \r\n    public class Test {\r\n        public static void main (String[] args) throws Exception {\r\n            Method method = Other.class.getDeclaredMethod(&quot;privateMethod&quot;);\r\n            method.setAccessible(true);\r\n            method.invoke(null);\r\n        }\r\n    }","title":"Serialize self defined type in Java","body":"<blockquote>\n  <p>These two functions are all qualified with private keyword, how are they called during the serializing process?</p>\n</blockquote>\n\n<p>Java serialization involves magic in the JVM, basically. Heck, it can involve creating an object without calling a constructor, even.</p>\n\n<blockquote>\n  <p>We all know that Java Serializable Interface is an empty interface, so how does the serializing mechanism knows to call these two function to serialize and deserialize?</p>\n</blockquote>\n\n<p>It's easy to tell (from suitably trusted code) whether a class provides certain methods, via reflection. The serialization framework code is sufficiently trusted to determine that as well as invoking the methods.</p>\n\n<p>Just detecting and invoking a private method from another class is feasible (again, with suitably trusted code) in normal Java of course:</p>\n\n<pre><code>import java.lang.reflect.*;\n\nclass Other {\n    private static void privateMethod() {\n        System.out.println(\"You can't call me, can you?\");\n    }\n}\n\npublic class Test {\n    public static void main (String[] args) throws Exception {\n        Method method = Other.class.getDeclaredMethod(\"privateMethod\");\n        method.setAccessible(true);\n        method.invoke(null);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1340604475,"creation_date":1340604475,"answer_id":11184186,"question_id":11184156,"body_markdown":"The answer to both questions is that these things are hard-coded in the Java implementation, so the &quot;normal&quot; rules don&#39;t apply (which is probably a bit inconsistent).","title":"Serialize self defined type in Java","body":"<p>The answer to both questions is that these things are hard-coded in the Java implementation, so the \"normal\" rules don't apply (which is probably a bit inconsistent).</p>\n"}],"owner":{"account_id":239010,"reputation":2106,"user_id":508305,"accept_rate":74,"display_name":"cheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11184181,"answer_count":2,"score":2,"last_activity_date":1633536851,"creation_date":1340604283,"question_id":11184156,"body_markdown":"I am reading some materials on Java serialization and found that, for self defined type, we can define two member functions in the type to change the default serializing behavior:\r\n\r\n    private void readObject(java.io.ObjectInputStream in)\r\n    private void writeObject(java.io.ObjectOutputStream out)\r\n\r\nI have two questions about this:&lt;BR&gt;\r\n1. These two functions are all qualified with `private` keyword, how are they called during the serializing process? &lt;BR&gt;\r\n2. We all know that Java `Serializable` Interface is an empty interface, so how does the serializing mechanism knows to call these two function to serialize and deserialize?\r\n\r\nLooking forward to you help!\r\n\r\ncheng","title":"Serialize self defined type in Java","body":"<p>I am reading some materials on Java serialization and found that, for self defined type, we can define two member functions in the type to change the default serializing behavior:</p>\n\n<pre><code>private void readObject(java.io.ObjectInputStream in)\nprivate void writeObject(java.io.ObjectOutputStream out)\n</code></pre>\n\n<p>I have two questions about this:<BR>\n1. These two functions are all qualified with <code>private</code> keyword, how are they called during the serializing process? <BR>\n2. We all know that Java <code>Serializable</code> Interface is an empty interface, so how does the serializing mechanism knows to call these two function to serialize and deserialize?</p>\n\n<p>Looking forward to you help!</p>\n\n<p>cheng</p>\n"},{"tags":["java","file","filewriter"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1633537922,"post_id":69469167,"comment_id":122788079,"body_markdown":"Try using Thread.sleep() to wait awhile until the file gets created(eg. Thread.sleep(3000)).","body":"Try using Thread.sleep() to wait awhile until the file gets created(eg. Thread.sleep(3000))."},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1633538159,"post_id":69469167,"comment_id":122788171,"body_markdown":"I&#39;ve tried putting up to Thread.sleep(20000) with no success.","body":"I&#39;ve tried putting up to Thread.sleep(20000) with no success."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1633538946,"post_id":69469167,"comment_id":122788480,"body_markdown":"If you require to set up a file to run your test why don&#39;t you try calling it in a @BeforeMethod annotation instead of in your test? Is it required that that method be in your test?","body":"If you require to set up a file to run your test why don&#39;t you try calling it in a @BeforeMethod annotation instead of in your test? Is it required that that method be in your test?"},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1633539063,"post_id":69469167,"comment_id":122788527,"body_markdown":"The content of the file depends on some data calculated at the beginning of the test itself","body":"The content of the file depends on some data calculated at the beginning of the test itself"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1633546653,"post_id":69469167,"comment_id":122791394,"body_markdown":"I think the problem must be in your func.method() itself, can you display the method?","body":"I think the problem must be in your func.method() itself, can you display the method?"},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1633591090,"post_id":69469167,"comment_id":122801326,"body_markdown":"It&#39;s a method of an internal library in my company which read the file using a Java InputStream","body":"It&#39;s a method of an internal library in my company which read the file using a Java InputStream"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1633640313,"post_id":69469167,"comment_id":122821152,"body_markdown":"Try running the `createTempJsonFile()` method in a separate thread and waiting in the main thread.","body":"Try running the <code>createTempJsonFile()</code> method in a separate thread and waiting in the main thread."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1633800679,"post_id":69469167,"comment_id":122859502,"body_markdown":"what progress have you made on this?","body":"what progress have you made on this?"}],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633536780,"creation_date":1633536780,"question_id":69469167,"body_markdown":"I have the following code in a test:\r\n\r\n    @Test\r\n    void genericTest() {\r\n        //stuff\r\n        createTempJsonFile(filename, body);\r\n        func.method(filename);\r\n        //stuff\r\n    }\r\n\r\n    private void createTempJsonFile(String filename, String body) {\r\n            try {\r\n                File file = new File(filename);\r\n                FileWriter writer = new FileWriter(file);\r\n                writer.write(body);\r\n                writer.close();\r\n            } catch (IOException e) {\r\n              //stuff\r\n            }\r\n        }\r\n\r\nThe file is correctly created. The problem is that `func.method` does not find it, indeed Intellij only shows me the file created (appearing in the file list) at the end of the execution of the test.\r\n\r\nThe issue is not the file path because on the further executions (when the file already exists since it was created at the end of the previous one), the test regularly passes.\r\n\r\nTo me, it looks like the file creation is finalized only at the end of the test and that would be unacceptable since I need to operate in it in the test itself.\r\n\r\nHow can I fix it? Is there a way to make the `func.method` wait until the file is generated?","title":"force file creation/writing before the end of the test","body":"<p>I have the following code in a test:</p>\n<pre><code>@Test\nvoid genericTest() {\n    //stuff\n    createTempJsonFile(filename, body);\n    func.method(filename);\n    //stuff\n}\n\nprivate void createTempJsonFile(String filename, String body) {\n        try {\n            File file = new File(filename);\n            FileWriter writer = new FileWriter(file);\n            writer.write(body);\n            writer.close();\n        } catch (IOException e) {\n          //stuff\n        }\n    }\n</code></pre>\n<p>The file is correctly created. The problem is that <code>func.method</code> does not find it, indeed Intellij only shows me the file created (appearing in the file list) at the end of the execution of the test.</p>\n<p>The issue is not the file path because on the further executions (when the file already exists since it was created at the end of the previous one), the test regularly passes.</p>\n<p>To me, it looks like the file creation is finalized only at the end of the test and that would be unacceptable since I need to operate in it in the test itself.</p>\n<p>How can I fix it? Is there a way to make the <code>func.method</code> wait until the file is generated?</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1221762629,"post_id":95181,"comment_id":14860,"body_markdown":"Can you modify MyClass2 or not? Does the non-serializable property value need to be preserved by serialization?\n\nThe right approach depends on this.","body":"Can you modify MyClass2 or not? Does the non-serializable property value need to be preserved by serialization?  The right approach depends on this."},{"owner":{"account_id":7406,"reputation":14638,"user_id":12860,"accept_rate":98,"display_name":"Burkhard"},"score":0,"creation_date":1221822281,"post_id":95181,"comment_id":17085,"body_markdown":"MyClass2 could be modified. However, it would be better not to, since I build on top of it and it can be modified by others.","body":"MyClass2 could be modified. However, it would be better not to, since I build on top of it and it can be modified by others."}],"answers":[{"tags":[],"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1221762231,"creation_date":1221761845,"answer_id":95208,"question_id":95181,"body_markdown":"MyClass2 is just an interface so techinicaly it has no properties, only methods.  That being said if you have instance variables that are themselves not serializeable the only way I know of to get around it is to declare those fields transient.\r\n\r\nex:\r\n\r\n    private transient Foo foo;\r\n\r\nWhen you declare a field transient it will be ignored during the serialization and deserialization process.  Keep in mind that when you deserialize an object with a transient field that field&#39;s value will always be it&#39;s default (usually null.)\r\n\r\nNote you can also override the readResolve() method of your class in order to initialize transient fields based on other system state.","title":"Java Serialization with non serializable parts","body":"<p>MyClass2 is just an interface so techinicaly it has no properties, only methods.  That being said if you have instance variables that are themselves not serializeable the only way I know of to get around it is to declare those fields transient.</p>\n\n<p>ex:</p>\n\n<pre><code>private transient Foo foo;\n</code></pre>\n\n<p>When you declare a field transient it will be ignored during the serialization and deserialization process.  Keep in mind that when you deserialize an object with a transient field that field's value will always be it's default (usually null.)</p>\n\n<p>Note you can also override the readResolve() method of your class in order to initialize transient fields based on other system state.</p>\n"},{"tags":[],"owner":{"account_id":8975,"reputation":6356,"user_id":16399,"accept_rate":92,"display_name":"sk."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1502267501,"creation_date":1221761922,"answer_id":95224,"question_id":95181,"body_markdown":"You will need to implement `writeObject()` and `readObject()` and do manual serialization/deserialization of those fields. See the javadoc page for `java.io.Serializable` for details. Josh Bloch&#39;s *Effective Java* also has some good chapters on implementing robust and secure serialization.","title":"Java Serialization with non serializable parts","body":"<p>You will need to implement <code>writeObject()</code> and <code>readObject()</code> and do manual serialization/deserialization of those fields. See the javadoc page for <code>java.io.Serializable</code> for details. Josh Bloch's <em>Effective Java</em> also has some good chapters on implementing robust and secure serialization.</p>\n"},{"tags":[],"owner":{"account_id":4907,"reputation":2907,"user_id":7610,"display_name":"Hank"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1221762039,"creation_date":1221762039,"answer_id":95242,"question_id":95181,"body_markdown":"You can start by looking into the _transient_ keyword, which marks fields as not part of the persistent state of an object.","title":"Java Serialization with non serializable parts","body":"<p>You can start by looking into the <em>transient</em> keyword, which marks fields as not part of the persistent state of an object.</p>\n"},{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1347043545,"creation_date":1221762176,"answer_id":95272,"question_id":95181,"body_markdown":"If you can modify MyClass2, the easiest way to address this is declare the property transient.","title":"Java Serialization with non serializable parts","body":"<p>If you can modify MyClass2, the easiest way to address this is declare the property transient.</p>\n"},{"tags":[],"owner":{"account_id":1497,"reputation":10898,"user_id":1996,"accept_rate":78,"display_name":"Boris Terzic"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1448636372,"creation_date":1221762187,"answer_id":95273,"question_id":95181,"body_markdown":"[XStream][1] is a great library for doing fast Java to XML serialization for any object no matter if it is Serializable or not. Even if the XML target format doesn&#39;t suit you, you can use the source code to learn how to do it.\r\n\r\n\r\n  [1]: http://x-stream.github.io","title":"Java Serialization with non serializable parts","body":"<p><a href=\"http://x-stream.github.io\" rel=\"nofollow noreferrer\">XStream</a> is a great library for doing fast Java to XML serialization for any object no matter if it is Serializable or not. Even if the XML target format doesn't suit you, you can use the source code to learn how to do it.</p>\n"},{"tags":[],"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1221784766,"creation_date":1221762440,"answer_id":95323,"question_id":95181,"body_markdown":"Depends why that member of MyClass2 isn&#39;t serializable.\r\n\r\nIf there&#39;s some good reason why MyClass2 can&#39;t be represented in a serialized form, then chances are good the same reason applies to MyClass, since it&#39;s a subclass.\r\n\r\nIt may be possible to write a custom serialized form for MyClass by implementing readObject and writeObject, in such a way that the state of the MyClass2 instance data in MyClass can be suitably recreated from the serialized data. This would be the way to go if MyClass2&#39;s API is fixed and you can&#39;t add Serializable.\r\n\r\nBut first you should figure out why MyClass2 isn&#39;t serializable, and maybe change it.\r\n","title":"Java Serialization with non serializable parts","body":"<p>Depends why that member of MyClass2 isn't serializable.</p>\n\n<p>If there's some good reason why MyClass2 can't be represented in a serialized form, then chances are good the same reason applies to MyClass, since it's a subclass.</p>\n\n<p>It may be possible to write a custom serialized form for MyClass by implementing readObject and writeObject, in such a way that the state of the MyClass2 instance data in MyClass can be suitably recreated from the serialized data. This would be the way to go if MyClass2's API is fixed and you can't add Serializable.</p>\n\n<p>But first you should figure out why MyClass2 isn't serializable, and maybe change it.</p>\n"},{"tags":[],"owner":{"account_id":5382,"reputation":10719,"user_id":2495576,"accept_rate":100,"display_name":"Scott Bale"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1221776670,"creation_date":1221776670,"answer_id":97630,"question_id":95181,"body_markdown":"As someone else noted, chapter 11 of Josh Bloch&#39;s [Effective Java][1] is an indispensible resource on Java Serialization.\r\n\r\nA couple points from that chapter pertinent to your question:\r\n\r\n- assuming you want to serialize the state of the non-serializable field in MyClass2, that field must be accessible to MyClass, either directly or through getters and setters.  MyClass will have to implement custom serialization by providing readObject and writeObject methods.\r\n- the non-serializable field&#39;s Class must have an API to allow getting it&#39;s state (for writing to the object stream) and then instantiating a new instance with that state (when later reading from the object stream.)\r\n- per Item 74 of Effective Java, MyClass2 *must* have a no-arg constructor accessible to MyClass, otherwise it is impossible for MyClass to extend MyClass2 and implement Serializable.\r\n\r\nI&#39;ve written a quick example below illustrating this.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nclass MyClass extends MyClass2 implements Serializable{\r\n  \r\n  public MyClass(int quantity) {\r\n    setNonSerializableProperty(new NonSerializableClass(quantity));\r\n  }\r\n\r\n  private void writeObject(java.io.ObjectOutputStream out)\r\n  throws IOException{\r\n    // note, here we don&#39;t need out.defaultWriteObject(); because\r\n    // MyClass has no other state to serialize\r\n    out.writeInt(super.getNonSerializableProperty().getQuantity());\r\n  }\r\n\r\n  private void readObject(java.io.ObjectInputStream in)\r\n  throws IOException {\r\n    // note, here we don&#39;t need in.defaultReadObject();\r\n    // because MyClass has no other state to deserialize\r\n    super.setNonSerializableProperty(new NonSerializableClass(in.readInt()));\r\n  }\r\n}\r\n\r\n/* this class must have no-arg constructor accessible to MyClass */\r\nclass MyClass2 {\r\n  \r\n  /* this property must be gettable/settable by MyClass.  It cannot be final, therefore. */\r\n  private NonSerializableClass nonSerializableProperty;\r\n\r\n  public void setNonSerializableProperty(NonSerializableClass nonSerializableProperty) {\r\n    this.nonSerializableProperty = nonSerializableProperty;\r\n  }\r\n\r\n  public NonSerializableClass getNonSerializableProperty() {\r\n    return nonSerializableProperty;\r\n  }\r\n}\r\n\r\nclass NonSerializableClass{\r\n  \r\n  private final int quantity;\r\n  \r\n  public NonSerializableClass(int quantity){\r\n    this.quantity = quantity;\r\n  }\r\n\r\n  public int getQuantity() {\r\n    return quantity;\r\n  }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n  [1]: http://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683","title":"Java Serialization with non serializable parts","body":"<p>As someone else noted, chapter 11 of Josh Bloch's <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a> is an indispensible resource on Java Serialization.</p>\n\n<p>A couple points from that chapter pertinent to your question:</p>\n\n<ul>\n<li>assuming you want to serialize the state of the non-serializable field in MyClass2, that field must be accessible to MyClass, either directly or through getters and setters.  MyClass will have to implement custom serialization by providing readObject and writeObject methods.</li>\n<li>the non-serializable field's Class must have an API to allow getting it's state (for writing to the object stream) and then instantiating a new instance with that state (when later reading from the object stream.)</li>\n<li>per Item 74 of Effective Java, MyClass2 <em>must</em> have a no-arg constructor accessible to MyClass, otherwise it is impossible for MyClass to extend MyClass2 and implement Serializable.</li>\n</ul>\n\n<p>I've written a quick example below illustrating this.</p>\n\n<pre><code>\nclass MyClass extends MyClass2 implements Serializable{\n\n  public MyClass(int quantity) {\n    setNonSerializableProperty(new NonSerializableClass(quantity));\n  }\n\n  private void writeObject(java.io.ObjectOutputStream out)\n  throws IOException{\n    // note, here we don't need out.defaultWriteObject(); because\n    // MyClass has no other state to serialize\n    out.writeInt(super.getNonSerializableProperty().getQuantity());\n  }\n\n  private void readObject(java.io.ObjectInputStream in)\n  throws IOException {\n    // note, here we don't need in.defaultReadObject();\n    // because MyClass has no other state to deserialize\n    super.setNonSerializableProperty(new NonSerializableClass(in.readInt()));\n  }\n}\n\n/* this class must have no-arg constructor accessible to MyClass */\nclass MyClass2 {\n\n  /* this property must be gettable/settable by MyClass.  It cannot be final, therefore. */\n  private NonSerializableClass nonSerializableProperty;\n\n  public void setNonSerializableProperty(NonSerializableClass nonSerializableProperty) {\n    this.nonSerializableProperty = nonSerializableProperty;\n  }\n\n  public NonSerializableClass getNonSerializableProperty() {\n    return nonSerializableProperty;\n  }\n}\n\nclass NonSerializableClass{\n\n  private final int quantity;\n\n  public NonSerializableClass(int quantity){\n    this.quantity = quantity;\n  }\n\n  public int getQuantity() {\n    return quantity;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1221819718,"creation_date":1221819718,"answer_id":100949,"question_id":95181,"body_markdown":"A useful approach for serialising instances of non-serializable classes (or at least subclasses of) is known a Serial Proxy. Essentially you implement writeReplace to return an instance of a completely different serializable class which implements readResolve to return a copy of the original object. I wrote an example of serialising java.awt.BasicStroke on [Usenet][1]\r\n\r\n\r\n  [1]: http://groups.google.com/group/comp.lang.java.programmer/msg/820a7343ae7713a6","title":"Java Serialization with non serializable parts","body":"<p>A useful approach for serialising instances of non-serializable classes (or at least subclasses of) is known a Serial Proxy. Essentially you implement writeReplace to return an instance of a completely different serializable class which implements readResolve to return a copy of the original object. I wrote an example of serialising java.awt.BasicStroke on <a href=\"http://groups.google.com/group/comp.lang.java.programmer/msg/820a7343ae7713a6\" rel=\"nofollow noreferrer\">Usenet</a></p>\n"},{"tags":[],"owner":{"account_id":7406,"reputation":14638,"user_id":12860,"accept_rate":98,"display_name":"Burkhard"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1222101235,"creation_date":1222101235,"answer_id":115950,"question_id":95181,"body_markdown":"Several possibilities poped out and i resume them here:\r\n\r\n- Implement writeObject() and readObject() as [sk][1] suggested\r\n- declare the property transient and it won&#39;t be serialized as first stated by [hank][2]\r\n- use XStream as stated by [boris-terzic][3]\r\n- use a Serial Proxy as stated by [tom-hawtin-tackline][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/16399/sk\r\n  [2]: https://stackoverflow.com/users/7610/hank\r\n  [3]: https://stackoverflow.com/users/1996/boris-terzic\r\n  [4]: https://stackoverflow.com/users/4725/tom-hawtin-tackline","title":"Java Serialization with non serializable parts","body":"<p>Several possibilities poped out and i resume them here:</p>\n\n<ul>\n<li>Implement writeObject() and readObject() as <a href=\"https://stackoverflow.com/users/16399/sk\">sk</a> suggested</li>\n<li>declare the property transient and it won't be serialized as first stated by <a href=\"https://stackoverflow.com/users/7610/hank\">hank</a></li>\n<li>use XStream as stated by <a href=\"https://stackoverflow.com/users/1996/boris-terzic\">boris-terzic</a></li>\n<li>use a Serial Proxy as stated by <a href=\"https://stackoverflow.com/users/4725/tom-hawtin-tackline\">tom-hawtin-tackline</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1197182,"reputation":1476,"user_id":1168635,"accept_rate":50,"display_name":"Radim Burget"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1477563147,"creation_date":1352739066,"answer_id":13347836,"question_id":95181,"body_markdown":"If possible, the non-serialiable parts can be set as transient\r\n\r\n    private transient SomeClass myClz;\r\n\r\nOtherwise you can use [Kryo][1]. Kryo is a fast and efficient object graph serialization framework for Java (e.g. JAVA serialization of java.awt.Color requires 170 bytes, Kryo only 4 bytes), which can serialize also non serializable objects. Kryo can also perform automatic deep and shallow copying/cloning. This is direct copying from object to object, not `object-&gt;bytes-&gt;object`.\r\n\r\nHere is an example how to use kryo\r\n\r\n    Kryo kryo = new Kryo();\r\n    // #### Store to disk...\r\n    Output output = new Output(new FileOutputStream(&quot;file.bin&quot;));\r\n    SomeClass someObject = ...\r\n    kryo.writeObject(output, someObject);\r\n    output.close();\r\n    // ### Restore from disk...\r\n    Input input = new Input(new FileInputStream(&quot;file.bin&quot;));\r\n    SomeClass someObject = kryo.readObject(input, SomeClass.class);\r\n    input.close();\r\n\r\n\r\nSerialized objects can be also compressed by registering exact serializer:\r\n    \r\n    kryo.register(SomeObject.class, new DeflateCompressor(new FieldSerializer(kryo, SomeObject.class)));\r\n\r\n\r\n  [1]: https://github.com/EsotericSoftware/kryo","title":"Java Serialization with non serializable parts","body":"<p>If possible, the non-serialiable parts can be set as transient</p>\n\n<pre><code>private transient SomeClass myClz;\n</code></pre>\n\n<p>Otherwise you can use <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow\">Kryo</a>. Kryo is a fast and efficient object graph serialization framework for Java (e.g. JAVA serialization of java.awt.Color requires 170 bytes, Kryo only 4 bytes), which can serialize also non serializable objects. Kryo can also perform automatic deep and shallow copying/cloning. This is direct copying from object to object, not <code>object-&gt;bytes-&gt;object</code>.</p>\n\n<p>Here is an example how to use kryo</p>\n\n<pre><code>Kryo kryo = new Kryo();\n// #### Store to disk...\nOutput output = new Output(new FileOutputStream(\"file.bin\"));\nSomeClass someObject = ...\nkryo.writeObject(output, someObject);\noutput.close();\n// ### Restore from disk...\nInput input = new Input(new FileInputStream(\"file.bin\"));\nSomeClass someObject = kryo.readObject(input, SomeClass.class);\ninput.close();\n</code></pre>\n\n<p>Serialized objects can be also compressed by registering exact serializer:</p>\n\n<pre><code>kryo.register(SomeObject.class, new DeflateCompressor(new FieldSerializer(kryo, SomeObject.class)));\n</code></pre>\n"}],"owner":{"account_id":7406,"reputation":14638,"user_id":12860,"accept_rate":98,"display_name":"Burkhard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103173,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":97630,"answer_count":10,"score":56,"last_activity_date":1633536570,"creation_date":1221761715,"question_id":95181,"body_markdown":"I have:\r\n\r\n    class MyClass extends MyClass2 implements Serializable {\r\n      //...\r\n    }\r\n\r\nIn MyClass2 is a property that is not serializable. How can I serialize (and de-serialize) this object?\r\n\r\nCorrection: MyClass2 is, of course, not an interface but a class.","title":"Java Serialization with non serializable parts","body":"<p>I have:</p>\n\n<pre><code>class MyClass extends MyClass2 implements Serializable {\n  //...\n}\n</code></pre>\n\n<p>In MyClass2 is a property that is not serializable. How can I serialize (and de-serialize) this object?</p>\n\n<p>Correction: MyClass2 is, of course, not an interface but a class.</p>\n"},{"tags":["java","generics","serialization"],"comments":[{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":1,"creation_date":1276279853,"post_id":3025059,"comment_id":3093312,"body_markdown":"Maybe you could clarify your question or concern... Java serialization works just fine with objects of any type, including those with generic type parameters.","body":"Maybe you could clarify your question or concern... Java serialization works just fine with objects of any type, including those with generic type parameters."}],"answers":[{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1276280417,"creation_date":1276280417,"answer_id":3025223,"question_id":3025059,"body_markdown":"I *think* I understand the question, though it could be stated less vaguely.  When you deserialize, you could cast to raw `ArrayList` and as long as that doesn&#39;t throw a `ClassCastException` you know you got that part right; but if you further cast to `ArrayList&lt;String&gt;` (or `List&lt;String&gt;`), you&#39;ll get a warning that this is not safe.  The collection might contain Integers and this cast alone won&#39;t catch that.\r\n\r\nThe usual best course of action is just to match your serialization and deserialization code to each other carefully, and suppress the warnings that result.","title":"Java. Best procedure to de-serialize a Java generic object?","body":"<p>I <em>think</em> I understand the question, though it could be stated less vaguely.  When you deserialize, you could cast to raw <code>ArrayList</code> and as long as that doesn't throw a <code>ClassCastException</code> you know you got that part right; but if you further cast to <code>ArrayList&lt;String&gt;</code> (or <code>List&lt;String&gt;</code>), you'll get a warning that this is not safe.  The collection might contain Integers and this cast alone won't catch that.</p>\n\n<p>The usual best course of action is just to match your serialization and deserialization code to each other carefully, and suppress the warnings that result.</p>\n"},{"tags":[],"owner":{"account_id":150948,"reputation":3961,"user_id":364485,"accept_rate":78,"display_name":"Curtis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276280949,"creation_date":1276280949,"answer_id":3025279,"question_id":3025059,"body_markdown":"I think you&#39;re going to be stuck with the unsafe cast warnings here - Serialization can only deal with characteristics of the objects that end up in the actual bytecode, and (as I understand it) generics are stripped out by the compiler.  The guts of the deserialization mechanism don&#39;t have any understanding of generic parameters.","title":"Java. Best procedure to de-serialize a Java generic object?","body":"<p>I think you're going to be stuck with the unsafe cast warnings here - Serialization can only deal with characteristics of the objects that end up in the actual bytecode, and (as I understand it) generics are stripped out by the compiler.  The guts of the deserialization mechanism don't have any understanding of generic parameters.</p>\n"}],"owner":{"account_id":6363,"reputation":15047,"user_id":10675,"accept_rate":77,"display_name":"Jake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3025223,"answer_count":2,"score":3,"last_activity_date":1633536353,"creation_date":1276279004,"question_id":3025059,"body_markdown":"What is the best procedure for storing and retrieving, using native Java serialization, generic objects like `ArrayList&lt;String&gt;`?\r\n\r\nEdit:  To clarify.  When I serialize an object of type `ArrayList&lt;String&gt;` I&#39;d like to de-serialize to the same type of object.  However, I know of no way to cast back to this generic object without causing warnings.","title":"Java. Best procedure to de-serialize a Java generic object?","body":"<p>What is the best procedure for storing and retrieving, using native Java serialization, generic objects like <code>ArrayList&lt;String&gt;</code>?</p>\n\n<p>Edit:  To clarify.  When I serialize an object of type <code>ArrayList&lt;String&gt;</code> I'd like to de-serialize to the same type of object.  However, I know of no way to cast back to this generic object without causing warnings.</p>\n"},{"tags":["java","linux","pid","isalive","processhandle"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633536262,"creation_date":1633535624,"answer_id":69468901,"question_id":69468710,"body_markdown":"Having a look at the implementation of [`ProcessHandleImpl.isAlive()`](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/ProcessHandleImpl.java#L377) (Java 11 version) it seems that this method might return `true` if the native method [`isAlive0(pid)`](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/ProcessHandleImpl.java#L391) returns 0 - which it does &quot;if the start time cannot be determined&quot;. The same native method is also used to determine whether to return an empty optional (returns -1) or not (returns 0 or actual start time). [`ProcessHandle.allProcesses()`](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/ProcessHandle.java#L197) on the other hand gets all children of pid 0 and then calls `getProcessPids0(...)` (another native method) to return the pids and start times. \r\n\r\nSo it seems to be a difference in the native code of the JVM you&#39;re using - or one in your OS (depends on what the native code is doing).\r\n\r\nTo &quot;fix&quot; your first snippet, you could eliminate the &quot;0&quot; start times by using `info().startInstant().isPresent()`:\r\n\r\n    public static final boolean isProcessRunning( final long pid, final boolean excludeUnsure ) {\r\n\t    Optional&lt; ProcessHandle &gt; optionalProcess = ProcessHandle.of( pid );\r\n\t    \r\n\t    if( excludeUnsure ) {\r\n\t\t    return optionalProcess.map(ph -&gt; ph.info())\r\n\t                .flatMap(info -&gt; info.startInstant())\r\n\t                .isPresent();\r\n\t    } else {\r\n\t    \treturn optionalProcess.map(ph -&gt; ph.isAlive()).orElse(Boolean.FALSE);\r\n\t    }\t   \r\n\t }","title":"ProcessHandle returns ambiguous results","body":"<p>Having a look at the implementation of <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/ProcessHandleImpl.java#L377\" rel=\"nofollow noreferrer\"><code>ProcessHandleImpl.isAlive()</code></a> (Java 11 version) it seems that this method might return <code>true</code> if the native method <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/ProcessHandleImpl.java#L391\" rel=\"nofollow noreferrer\"><code>isAlive0(pid)</code></a> returns 0 - which it does &quot;if the start time cannot be determined&quot;. The same native method is also used to determine whether to return an empty optional (returns -1) or not (returns 0 or actual start time). <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/ProcessHandle.java#L197\" rel=\"nofollow noreferrer\"><code>ProcessHandle.allProcesses()</code></a> on the other hand gets all children of pid 0 and then calls <code>getProcessPids0(...)</code> (another native method) to return the pids and start times.</p>\n<p>So it seems to be a difference in the native code of the JVM you're using - or one in your OS (depends on what the native code is doing).</p>\n<p>To &quot;fix&quot; your first snippet, you could eliminate the &quot;0&quot; start times by using <code>info().startInstant().isPresent()</code>:</p>\n<pre><code>public static final boolean isProcessRunning( final long pid, final boolean excludeUnsure ) {\n    Optional&lt; ProcessHandle &gt; optionalProcess = ProcessHandle.of( pid );\n    \n    if( excludeUnsure ) {\n        return optionalProcess.map(ph -&gt; ph.info())\n                .flatMap(info -&gt; info.startInstant())\n                .isPresent();\n    } else {\n        return optionalProcess.map(ph -&gt; ph.isAlive()).orElse(Boolean.FALSE);\n    }      \n }\n</code></pre>\n"}],"owner":{"account_id":7688833,"reputation":3,"user_id":5825736,"display_name":"Tobias F."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69468901,"answer_count":1,"score":0,"last_activity_date":1633536262,"creation_date":1633534813,"question_id":69468710,"body_markdown":"I&#39;ve two Java 11 methods that check whether a process for a given PID is running:\r\n\r\n      public static final boolean isProcessRunning( final long pid ) {\r\n        Optional&lt; ProcessHandle &gt; optionalProcess = ProcessHandle.of( pid );\r\n        return optionalProcess.isPresent() &amp;&amp; optionalProcess.get().isAlive();\r\n      }\r\n    \r\n      public static boolean isProcessRunning2( final long pid ) {\r\n        return ProcessHandle.allProcesses()\r\n            .filter( p -&gt; p.pid() == pid )\r\n            .anyMatch( p -&gt; p.isAlive() );\r\n      }\r\n\r\nWhen checking multiple PIDs on Linux clients, I&#39;m getting sometimes different results for certain PIDs, where the first implementation always returns `true` and the second one always `false`.\r\n\r\nChecking some &quot;false positives&quot; with shell command `ps -ef | grep &lt;pid&gt;` shows that first implementation seems to be wrong, the OS doesn&#39;t know about these processes neither.\r\nAssumably the second implementation is always right but seems to be very inefficient.\r\n\r\nWhat&#39;s wrong with the first implementation and how can I fix it?","title":"ProcessHandle returns ambiguous results","body":"<p>I've two Java 11 methods that check whether a process for a given PID is running:</p>\n<pre><code>  public static final boolean isProcessRunning( final long pid ) {\n    Optional&lt; ProcessHandle &gt; optionalProcess = ProcessHandle.of( pid );\n    return optionalProcess.isPresent() &amp;&amp; optionalProcess.get().isAlive();\n  }\n\n  public static boolean isProcessRunning2( final long pid ) {\n    return ProcessHandle.allProcesses()\n        .filter( p -&gt; p.pid() == pid )\n        .anyMatch( p -&gt; p.isAlive() );\n  }\n</code></pre>\n<p>When checking multiple PIDs on Linux clients, I'm getting sometimes different results for certain PIDs, where the first implementation always returns <code>true</code> and the second one always <code>false</code>.</p>\n<p>Checking some &quot;false positives&quot; with shell command <code>ps -ef | grep &lt;pid&gt;</code> shows that first implementation seems to be wrong, the OS doesn't know about these processes neither.\nAssumably the second implementation is always right but seems to be very inefficient.</p>\n<p>What's wrong with the first implementation and how can I fix it?</p>\n"},{"tags":["java","date","timezone","format"],"comments":[{"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1289992192,"post_id":4203718,"comment_id":4545149,"body_markdown":"http://joda-time.sourceforge.net/  makes all date manipulations in java much much easier","body":"<a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">joda-time.sourceforge.net</a>  makes all date manipulations in java much much easier"},{"owner":{"account_id":98378,"reputation":2722,"user_id":266333,"accept_rate":56,"display_name":"John"},"score":0,"creation_date":1289994093,"post_id":4203718,"comment_id":4545431,"body_markdown":"@Emil i got to know this feature after you said :), Thanks.","body":"@Emil i got to know this feature after you said :), Thanks."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1485121634,"post_id":4203718,"comment_id":70781210,"body_markdown":"FYI, the [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.","body":"FYI, the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1289998737,"creation_date":1289991905,"answer_id":4203739,"question_id":4203718,"body_markdown":"Use [SimpleDateFormat][1]  \r\n\r\n    String string1 = &quot;2009-10-10 12:12:12 &quot;;\r\n    SimpleDateFormat sdf =  new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss Z&quot;)\r\n    sdf.setTimeZone(tz);\r\n    Date date = sdf.parse(string1);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.6/docs/api/java/text/SimpleDateFormat.html","title":"Converting string to date with timezone","body":"<p>Use <a href=\"http://download.oracle.com/javase/1.6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a>  </p>\n\n<pre><code>String string1 = \"2009-10-10 12:12:12 \";\nSimpleDateFormat sdf =  new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss Z\")\nsdf.setTimeZone(tz);\nDate date = sdf.parse(string1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473746803,"creation_date":1289992303,"answer_id":4203767,"question_id":4203718,"body_markdown":"Create a new instance of [SimpleDateFormat][1] using your date pattern. Afterwards you can call it&#39;s parse method to convert date strings to a **java.util.Date** object.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html","title":"Converting string to date with timezone","body":"<p>Create a new instance of <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a> using your date pattern. Afterwards you can call it's parse method to convert date strings to a <strong>java.util.Date</strong> object.</p>\n"},{"tags":[],"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1405123313,"creation_date":1289998094,"answer_id":4204485,"question_id":4203718,"body_markdown":"You can use [SimpleDateFormat][1] with `yyyy-MM-dd HH:mm:ss` and explicitly set the [TimeZone][2]:\n\n\n    public static Date getSomeDate(final String str, final TimeZone tz)\n        throws ParseException {\n      final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm a&quot;);\n      sdf.setTimeZone(tz);\n      return sdf.parse(str);\n    }\n    \n    /**\n     * @param args\n     * @throws IOException\n     * @throws InterruptedException\n     * @throws ParseException\n     */\n    public static void main(final String[] args) throws ParseException {\n      final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss Z&quot;);\n      System.out.println(sdf.format(getSomeDate(\n          &quot;2010-11-17 01:12 pm&quot;, TimeZone.getTimeZone(&quot;Europe/Berlin&quot;))));\n      System.out.println(sdf.format(getSomeDate(\n          &quot;2010-11-17 01:12 pm&quot;, TimeZone.getTimeZone(&quot;America/Chicago&quot;))));\n    }\n\n\nPrints out: \n\n&gt; 2010-11-17 13:12:00 +0100\n&gt;\n&gt; 2010-11-17 20:12:00 +0100\n\n**Update 2010-12-01:**\nIf you want to explicitly printout a special TimeZone, set it in the SimpleDateFormat:\n\n    sdf.setTimeZone(TimeZone .getTimeZone(&quot;IST&quot;)); \n    System.out.println(sdf.format(getSomeDate(\n        &quot;2010-11-17 01:12 pm&quot;, TimeZone.getTimeZone(&quot;IST&quot;))));\n \nWhich prints `2010-11-17 13:12:00 +0530`\n\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/TimeZone.html","title":"Converting string to date with timezone","body":"<p>You can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> with <code>yyyy-MM-dd HH:mm:ss</code> and explicitly set the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/TimeZone.html\" rel=\"noreferrer\">TimeZone</a>:</p>\n<pre><code>public static Date getSomeDate(final String str, final TimeZone tz)\n    throws ParseException {\n  final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm a&quot;);\n  sdf.setTimeZone(tz);\n  return sdf.parse(str);\n}\n\n/**\n * @param args\n * @throws IOException\n * @throws InterruptedException\n * @throws ParseException\n */\npublic static void main(final String[] args) throws ParseException {\n  final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss Z&quot;);\n  System.out.println(sdf.format(getSomeDate(\n      &quot;2010-11-17 01:12 pm&quot;, TimeZone.getTimeZone(&quot;Europe/Berlin&quot;))));\n  System.out.println(sdf.format(getSomeDate(\n      &quot;2010-11-17 01:12 pm&quot;, TimeZone.getTimeZone(&quot;America/Chicago&quot;))));\n}\n</code></pre>\n<p>Prints out:</p>\n<blockquote>\n<p>2010-11-17 13:12:00 +0100</p>\n<p>2010-11-17 20:12:00 +0100</p>\n</blockquote>\n<p><strong>Update 2010-12-01:</strong>\nIf you want to explicitly printout a special TimeZone, set it in the SimpleDateFormat:</p>\n<pre><code>sdf.setTimeZone(TimeZone .getTimeZone(&quot;IST&quot;)); \nSystem.out.println(sdf.format(getSomeDate(\n    &quot;2010-11-17 01:12 pm&quot;, TimeZone.getTimeZone(&quot;IST&quot;))));\n</code></pre>\n<p>Which prints <code>2010-11-17 13:12:00 +0530</code></p>\n"},{"tags":[],"owner":{"account_id":2912658,"reputation":2392,"user_id":2496554,"display_name":"Somum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485111660,"creation_date":1485111660,"answer_id":41794966,"question_id":4203718,"body_markdown":"Undoubtedly, the format which is generally used will be of a form `2014-10-05T15:23:01Z` (TZ)\r\n\r\nFor that one has to use this code\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n    String dateInString = &quot;2014-10-05T15:23:01Z&quot;;\r\n\r\n     try {\r\n\r\n         Date date = formatter.parse(dateInString.replaceAll(&quot;Z$&quot;, &quot;+0000&quot;));\r\n         System.out.println(date);\r\n\r\n     } catch (ParseException e) {\r\n         e.printStackTrace();\r\n     }\r\n\r\nIts output will be Sun Oct 05 20:53:01 IST 2014\r\n\r\nHowever, I am not sure why we had to replaceAll &quot;Z&quot; if you do not add replaceAll the program will fail.","title":"Converting string to date with timezone","body":"<p>Undoubtedly, the format which is generally used will be of a form <code>2014-10-05T15:23:01Z</code> (TZ)</p>\n\n<p>For that one has to use this code</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\");\nString dateInString = \"2014-10-05T15:23:01Z\";\n\n try {\n\n     Date date = formatter.parse(dateInString.replaceAll(\"Z$\", \"+0000\"));\n     System.out.println(date);\n\n } catch (ParseException e) {\n     e.printStackTrace();\n }\n</code></pre>\n\n<p>Its output will be Sun Oct 05 20:53:01 IST 2014</p>\n\n<p>However, I am not sure why we had to replaceAll \"Z\" if you do not add replaceAll the program will fail.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1551205829,"creation_date":1485121158,"answer_id":41796443,"question_id":4203718,"body_markdown":"# tl;dr\r\n\r\n    LocalDateTime.parse(                        // Parse string as value without time zone and without offset-from-UTC.\r\n        &quot;2017-01-23 12:34 PM&quot; , \r\n        DateTimeFormatter.ofPattern( &quot;uuuu-MM-dd hh:mm a&quot; )\r\n    )                                           // Returns a `LocalDateTime` object.\r\n    .atZone( ZoneId.of( &quot;America/Montreal&quot; ) )  // Assign time zone, to determine a moment. Returns a `ZonedDateTime` object.\r\n    .toInstant()                                // Adjusts from zone to UTC.\r\n    .toString()                                 // Generate string: 2017-01-23T17:34:00Z\r\n    .replace( &quot;T&quot; , &quot; &quot; )                       // Substitute SPACE for &#39;T&#39; in middle.\r\n    .replace( &quot;Z&quot; , &quot; Z&quot; )                      // Insert SPACE before &#39;Z&#39;.\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe other Answers use the troublesome old date-time classes (`Date`, `Calendar`, etc.), now legacy, supplanted by the java.time classes.\r\n\r\n# `LocalDateTime`\r\n\r\n&gt;I have a string in the pattern yyyy-MM-dd hh:mm a \r\n\r\nSuch an input string lacks any indication of offset-from-UTC or time zone. So we parse as a [`LocalDateTime`][1]. \r\n\r\nDefine a formatting pattern to match your input with a [`DateTimeFormatter`][2] object.\r\n\r\n    String input = &quot;2017-01-23 12:34 PM&quot; ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuu-MM-dd hh:mm a&quot; );\r\n    LocalDateTime ldt = LocalDateTime.parse( input , f );\r\n\r\n&gt;ldt.toString(): 2017-01-23T12:34\r\n\r\nNote that a `LocalDateTime` is *not* a specific moment, only a vague idea about a range of possible moments. For example, a few minutes after midnight in Paris France is still “yesterday” in Montr&#233;al Canada. So without the context of a time zone such as [`Europe/Paris`][3] or [`America/Montreal`][4], just saying “a few minutes after midnight” has no meaning.\r\n\r\n# `ZoneId`\r\n\r\n&gt;and i can get the time zone object separately in which the above string represents the date.\r\n\r\nA time zone is represented by the [`ZoneId`][5] class. \r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n\r\n# `ZonedDateTime`\r\n\r\nApply the `ZoneId` to get a [`ZonedDateTime`][6] which is indeed a point on the timeline, a specific moment in history.\r\n\r\n    ZonedDateTime zdt = ldt.atZone( z );\r\n\r\n&gt;zdt.toString(): 2017-01-23T12:34-05:00[America/Montreal]\r\n\r\n# `Instant`\r\n\r\n&gt;I want to convert this to the below format. yyyy-MM-dd HH:mm:ss Z\r\n\r\nFirst, know that a `Z` literal character is short for `Zulu` and means [UTC][7]. In other words, an [offset-from-UTC][8] of zero hours, `+00:00`.\r\n\r\nThe [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\nYou can extract a `Instant` object from a `ZonedDateTime`. \r\n\r\n    Instant instant = zdt.toInstant();  // Extracting the same moment but in UTC.\r\n\r\nTo generate a string in standard [ISO 8601][9] format, such as `2017-01-22T18:21:13.354Z`, call `toString`. The standard format has no spaces, uses a `T` to separate the year-month-date from the hour-minute-second, and appends the `Z` canonically for an offset of zero. \r\n\r\n    String output = instant.toString();\r\n\r\n&gt;instant.toString(): 2017-01-23T17:34:00Z\r\n\r\nI strongly suggest using the standard formats whenever possible. If you insist on using spaces as in your stated desired format, either define your own formatting pattern in a [`DateTimeFormatter`][2] object or just do a string manipulation on the output of [`Instant::toString`][10].\r\n\r\n    String output = instant.toString()\r\n                           .replace( &quot;T&quot; , &quot; &quot; )  // Substitute SPACE for T.\r\n                           .replace( &quot;Z&quot; , &quot; Z&quot; ); // Insert SPACE before Z.\r\n\r\n&gt;output: 2017-01-23 17:34:00 Z\r\n\r\nTry this [code live at IdeOne.com][11].\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [3]: https://en.wikipedia.org/wiki/Europe/Paris\r\n  [4]: https://en.wikipedia.org/wiki/America/Montreal\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [7]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [8]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [9]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [10]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--\r\n  [11]: http://ideone.com/XE0kh6","title":"Converting string to date with timezone","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDateTime.parse(                        // Parse string as value without time zone and without offset-from-UTC.\n    \"2017-01-23 12:34 PM\" , \n    DateTimeFormatter.ofPattern( \"uuuu-MM-dd hh:mm a\" )\n)                                           // Returns a `LocalDateTime` object.\n.atZone( ZoneId.of( \"America/Montreal\" ) )  // Assign time zone, to determine a moment. Returns a `ZonedDateTime` object.\n.toInstant()                                // Adjusts from zone to UTC.\n.toString()                                 // Generate string: 2017-01-23T17:34:00Z\n.replace( \"T\" , \" \" )                       // Substitute SPACE for 'T' in middle.\n.replace( \"Z\" , \" Z\" )                      // Insert SPACE before 'Z'.\n</code></pre>\n\n<h1>Avoid legacy date-time classes</h1>\n\n<p>The other Answers use the troublesome old date-time classes (<code>Date</code>, <code>Calendar</code>, etc.), now legacy, supplanted by the java.time classes.</p>\n\n<h1><code>LocalDateTime</code></h1>\n\n<blockquote>\n  <p>I have a string in the pattern yyyy-MM-dd hh:mm a </p>\n</blockquote>\n\n<p>Such an input string lacks any indication of offset-from-UTC or time zone. So we parse as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>. </p>\n\n<p>Define a formatting pattern to match your input with a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> object.</p>\n\n<pre><code>String input = \"2017-01-23 12:34 PM\" ;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( \"uuuu-MM-dd hh:mm a\" );\nLocalDateTime ldt = LocalDateTime.parse( input , f );\n</code></pre>\n\n<blockquote>\n  <p>ldt.toString(): 2017-01-23T12:34</p>\n</blockquote>\n\n<p>Note that a <code>LocalDateTime</code> is <em>not</em> a specific moment, only a vague idea about a range of possible moments. For example, a few minutes after midnight in Paris France is still “yesterday” in Montréal Canada. So without the context of a time zone such as <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\"><code>Europe/Paris</code></a> or <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\"><code>America/Montreal</code></a>, just saying “a few minutes after midnight” has no meaning.</p>\n\n<h1><code>ZoneId</code></h1>\n\n<blockquote>\n  <p>and i can get the time zone object separately in which the above string represents the date.</p>\n</blockquote>\n\n<p>A time zone is represented by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> class. </p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\n</code></pre>\n\n<h1><code>ZonedDateTime</code></h1>\n\n<p>Apply the <code>ZoneId</code> to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> which is indeed a point on the timeline, a specific moment in history.</p>\n\n<pre><code>ZonedDateTime zdt = ldt.atZone( z );\n</code></pre>\n\n<blockquote>\n  <p>zdt.toString(): 2017-01-23T12:34-05:00[America/Montreal]</p>\n</blockquote>\n\n<h1><code>Instant</code></h1>\n\n<blockquote>\n  <p>I want to convert this to the below format. yyyy-MM-dd HH:mm:ss Z</p>\n</blockquote>\n\n<p>First, know that a <code>Z</code> literal character is short for <code>Zulu</code> and means <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. In other words, an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> of zero hours, <code>+00:00</code>.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction). </p>\n\n<p>You can extract a <code>Instant</code> object from a <code>ZonedDateTime</code>. </p>\n\n<pre><code>Instant instant = zdt.toInstant();  // Extracting the same moment but in UTC.\n</code></pre>\n\n<p>To generate a string in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format, such as <code>2017-01-22T18:21:13.354Z</code>, call <code>toString</code>. The standard format has no spaces, uses a <code>T</code> to separate the year-month-date from the hour-minute-second, and appends the <code>Z</code> canonically for an offset of zero. </p>\n\n<pre><code>String output = instant.toString();\n</code></pre>\n\n<blockquote>\n  <p>instant.toString(): 2017-01-23T17:34:00Z</p>\n</blockquote>\n\n<p>I strongly suggest using the standard formats whenever possible. If you insist on using spaces as in your stated desired format, either define your own formatting pattern in a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> object or just do a string manipulation on the output of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--\" rel=\"noreferrer\"><code>Instant::toString</code></a>.</p>\n\n<pre><code>String output = instant.toString()\n                       .replace( \"T\" , \" \" )  // Substitute SPACE for T.\n                       .replace( \"Z\" , \" Z\" ); // Insert SPACE before Z.\n</code></pre>\n\n<blockquote>\n  <p>output: 2017-01-23 17:34:00 Z</p>\n</blockquote>\n\n<p>Try this <a href=\"http://ideone.com/XE0kh6\" rel=\"noreferrer\">code live at IdeOne.com</a>.</p>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":14844669,"reputation":1,"user_id":10720317,"display_name":"PMFrank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633536080,"creation_date":1633536080,"answer_id":69469008,"question_id":4203718,"body_markdown":"Please try this for the format &quot;yyyy-MM-dd HH:mm:ss Z&quot;,\r\nEg: &quot;2020-12-11 22:59:59 GMT&quot;, you can use different time zones like PST, GMT, etc.","title":"Converting string to date with timezone","body":"<p>Please try this for the format &quot;yyyy-MM-dd HH:mm:ss Z&quot;,\nEg: &quot;2020-12-11 22:59:59 GMT&quot;, you can use different time zones like PST, GMT, etc.</p>\n"}],"owner":{"account_id":98378,"reputation":2722,"user_id":266333,"accept_rate":56,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126252,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":6,"score":20,"last_activity_date":1633536080,"creation_date":1289991802,"question_id":4203718,"body_markdown":"I have a string in the pattern yyyy-MM-dd hh:mm a\r\nand i can get the time zone object separately in which the above string represents the date.\r\n\r\nI want to convert this to the below format.\r\nyyyy-MM-dd HH:mm:ss Z\r\n\r\nHow can i do this?","title":"Converting string to date with timezone","body":"<p>I have a string in the pattern yyyy-MM-dd hh:mm a\nand i can get the time zone object separately in which the above string represents the date.</p>\n\n<p>I want to convert this to the below format.\nyyyy-MM-dd HH:mm:ss Z</p>\n\n<p>How can i do this?</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":4,"creation_date":1301853120,"post_id":5531321,"comment_id":6284624,"body_markdown":"Know what the errors are would help a whole lot.","body":"Know what the errors are would help a whole lot."}],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301853393,"creation_date":1301853393,"answer_id":5531373,"question_id":5531321,"body_markdown":"Code seems ok, except a double, unclear decaration (first `f_out` then `fout` declared and used).\r\n\r\nAre you sure that classes that you want to serialize do implement the `Serializable` tag interface? In anycase I suggest you to write the whole `ArrayList` to the object output stream instead that trying to append single objects.","title":"Serializing a java object","body":"<p>Code seems ok, except a double, unclear decaration (first <code>f_out</code> then <code>fout</code> declared and used).</p>\n\n<p>Are you sure that classes that you want to serialize do implement the <code>Serializable</code> tag interface? In anycase I suggest you to write the whole <code>ArrayList</code> to the object output stream instead that trying to append single objects.</p>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301853414,"creation_date":1301853414,"answer_id":5531379,"question_id":5531321,"body_markdown":"Well, it&#39;s not going to do what you *want* because every time you open the `FileOutputStream` it&#39;s going to overwrite the last file -- so you&#39;ll always have exactly one item in the file.\r\n\r\nAlso, your `FileOutputStream` is named `f_out` when you declare it outside the scope of the `try`, but you then create another one named `fout` inside that scope.\r\n\r\nI&#39;m not exactly sure what happens if you close the `ObjectOutputStream` instead of the `FileOutputStream` -- I *think* it should close the `FileOutputStream` but I&#39;m not sure.","title":"Serializing a java object","body":"<p>Well, it's not going to do what you <em>want</em> because every time you open the <code>FileOutputStream</code> it's going to overwrite the last file -- so you'll always have exactly one item in the file.</p>\n\n<p>Also, your <code>FileOutputStream</code> is named <code>f_out</code> when you declare it outside the scope of the <code>try</code>, but you then create another one named <code>fout</code> inside that scope.</p>\n\n<p>I'm not exactly sure what happens if you close the <code>ObjectOutputStream</code> instead of the <code>FileOutputStream</code> -- I <em>think</em> it should close the <code>FileOutputStream</code> but I'm not sure.</p>\n"},{"tags":[],"owner":{"account_id":199887,"reputation":3242,"user_id":445452,"accept_rate":61,"display_name":"sreeprasad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1301863342,"creation_date":1301863342,"answer_id":5532365,"question_id":5531321,"body_markdown":"Code appears &#39;ok&#39; . Theses are my observations :\r\n\r\n 1. Your class must implement the Serializable interface\r\n 2. FileOutputStream f_out; is never read\r\n 3. Instead of appending single object why don’t you put the entire ArrayList  i.e  (itemList) to the\r\n    object output stream\r\n 4. Catch &#39;IOException&#39; first before trying &#39;Exception&#39; \r\n\r\n","title":"Serializing a java object","body":"<p>Code appears 'ok' . Theses are my observations :</p>\n\n<ol>\n<li>Your class must implement the Serializable interface</li>\n<li>FileOutputStream f_out; is never read</li>\n<li>Instead of appending single object why don’t you put the entire ArrayList  i.e  (itemList) to the\nobject output stream</li>\n<li>Catch 'IOException' first before trying 'Exception' </li>\n</ol>\n"}],"owner":{"account_id":730190,"reputation":321,"user_id":689228,"accept_rate":0,"display_name":"kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633536063,"creation_date":1301852991,"question_id":5531321,"body_markdown":"I&#39;m trying to serialize java objects but i keep getting a list of errors. my program accepts multiple values and creates an instance of a class with them. the created object then gets stored in a StorageSystem class... it looks something like this\r\n\r\n        aCD = new CD(title, artist, playTime, numOfTracks);\r\n        store.addItem(aCD);\r\n\r\nThen in the storage system i add the stored object to an arrayList... what i also want to do is add the object to a serialized file... my method for doing this is below... Am i going about this the wrong way. thanks... \r\n\r\n\r\n    public void addItem(Item hold)                      // adds object to the ArrayList\r\n    {\r\n        itemList.add(hold);\r\n\r\n        totalStored++;\r\n\r\n        FileOutputStream f_out;\r\n        try\r\n        {\r\n            FileOutputStream fout = new FileOutputStream(&quot;thequeue.ser&quot;);\r\n            ObjectOutputStream oos = new ObjectOutputStream(fout);\r\n            oos.writeObject(hold);\r\n            oos.close();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Serializing a java object","body":"<p>I'm trying to serialize java objects but i keep getting a list of errors. my program accepts multiple values and creates an instance of a class with them. the created object then gets stored in a StorageSystem class... it looks something like this</p>\n\n<pre><code>    aCD = new CD(title, artist, playTime, numOfTracks);\n    store.addItem(aCD);\n</code></pre>\n\n<p>Then in the storage system i add the stored object to an arrayList... what i also want to do is add the object to a serialized file... my method for doing this is below... Am i going about this the wrong way. thanks... </p>\n\n<pre><code>public void addItem(Item hold)                      // adds object to the ArrayList\n{\n    itemList.add(hold);\n\n    totalStored++;\n\n    FileOutputStream f_out;\n    try\n    {\n        FileOutputStream fout = new FileOutputStream(\"thequeue.ser\");\n        ObjectOutputStream oos = new ObjectOutputStream(fout);\n        oos.writeObject(hold);\n        oos.close();\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"score":2,"creation_date":1383965243,"post_id":6163872,"comment_id":29559251,"body_markdown":"`class SFoo extends com.library.Foo implements Serializable {}` ?","body":"<code>class SFoo extends com.library.Foo implements Serializable {}</code> ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1583661786,"post_id":6163872,"comment_id":107186343,"body_markdown":"@wchargin No. That only serializes the data of the serializable part, not of the on-serializable library part being extended.","body":"@wchargin No. That only serializes the data of the serializable part, not of the on-serializable library part being extended."}],"answers":[{"tags":[],"owner":{"account_id":164832,"reputation":6558,"user_id":387852,"accept_rate":71,"display_name":"Michael McGowan"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1306610530,"creation_date":1306610530,"answer_id":6163883,"question_id":6163872,"body_markdown":"If the class is not final, you can make your own class that extends it and implements Serializable.  There are lots of other ways to serialize besides Java&#39;s built-in mechanism though.","title":"How to serialize a non-serializable in Java?","body":"<p>If the class is not final, you can make your own class that extends it and implements Serializable.  There are lots of other ways to serialize besides Java's built-in mechanism though.</p>\n"},{"tags":[],"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1474667572,"creation_date":1306610701,"answer_id":6163891,"question_id":6163872,"body_markdown":"You can&#39;t serialise a class that doesn&#39;t implement `Serializable`, but you can wrap it in a class that does. To do this, you should implement `readObject` and `writeObject` on your wrapper class so you can serialise its objects in a custom way.\r\n\r\n+ First, make your non-serialisable field `transient`.\r\n+ In `writeObject`, first call `defaultWriteObject` on the stream to store all the non-transient fields, then call other methods to serialise the individual properties of your non-serialisable object.\r\n+ In `readObject`, first call `defaultReadObject` on the stream to read back all the non-transient fields, then call other methods (corresponding to the ones you added to `writeObject`) to deserialise your non-serialisable object.\r\n\r\nI hope this makes sense. :-)","title":"How to serialize a non-serializable in Java?","body":"<p>You can't serialise a class that doesn't implement <code>Serializable</code>, but you can wrap it in a class that does. To do this, you should implement <code>readObject</code> and <code>writeObject</code> on your wrapper class so you can serialise its objects in a custom way.</p>\n\n<ul>\n<li>First, make your non-serialisable field <code>transient</code>.</li>\n<li>In <code>writeObject</code>, first call <code>defaultWriteObject</code> on the stream to store all the non-transient fields, then call other methods to serialise the individual properties of your non-serialisable object.</li>\n<li>In <code>readObject</code>, first call <code>defaultReadObject</code> on the stream to read back all the non-transient fields, then call other methods (corresponding to the ones you added to <code>writeObject</code>) to deserialise your non-serialisable object.</li>\n</ul>\n\n<p>I hope this makes sense. :-)</p>\n"},{"tags":[],"owner":{"account_id":70373,"reputation":7742,"user_id":204143,"accept_rate":57,"display_name":"Steve Emmerson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1306612206,"creation_date":1306612206,"answer_id":6163994,"question_id":6163872,"body_markdown":"Wrap the non-serializable class in a class of your own that implements `Serializable`. In your class&#39;s `writeObject` method, do whatever&#39;s necessary to serialize sufficient information on the non-serializable object so that your class&#39;s `readObject` method can reconstruct it.\r\n\r\nAlternatively, contact the developer of the non-serializable class and tell him to fix it. :-)","title":"How to serialize a non-serializable in Java?","body":"<p>Wrap the non-serializable class in a class of your own that implements <code>Serializable</code>. In your class's <code>writeObject</code> method, do whatever's necessary to serialize sufficient information on the non-serializable object so that your class's <code>readObject</code> method can reconstruct it.</p>\n\n<p>Alternatively, contact the developer of the non-serializable class and tell him to fix it. :-)</p>\n"},{"tags":[],"owner":{"account_id":2107038,"reputation":49,"user_id":1873146,"display_name":"rox"},"down_vote_count":6,"up_vote_count":6,"is_accepted":false,"score":0,"last_activity_date":1354552602,"creation_date":1354552602,"answer_id":13687679,"question_id":6163872,"body_markdown":"If your class already implements the Serializable interface (required for serializing), all you must do is to declare the field you don&#39;t want to serialize with transient:\r\n\r\n        public transient String description;","title":"How to serialize a non-serializable in Java?","body":"<p>If your class already implements the Serializable interface (required for serializing), all you must do is to declare the field you don't want to serialize with transient:</p>\n\n<pre><code>    public transient String description;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509429465,"creation_date":1509429465,"answer_id":47028768,"question_id":6163872,"body_markdown":"You can use Kryo. It works on non serialized classes but classes needs registered aforehand.","title":"How to serialize a non-serializable in Java?","body":"<p>You can use Kryo. It works on non serialized classes but classes needs registered aforehand.</p>\n"}],"owner":{"account_id":5174,"reputation":21080,"user_id":8203,"accept_rate":88,"display_name":"Martin08"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38359,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":6163891,"answer_count":5,"score":48,"last_activity_date":1633535819,"creation_date":1306610373,"question_id":6163872,"body_markdown":"How can I serialize an object that does not implement Serializable? I cannot mark it Serializable because the class is from a 3rd party library.","title":"How to serialize a non-serializable in Java?","body":"<p>How can I serialize an object that does not implement Serializable? I cannot mark it Serializable because the class is from a 3rd party library.</p>\n"},{"tags":["java","hibernate","jpa","geolocation","geospatial"],"comments":[{"owner":{"display_name":"user1228"},"score":0,"creation_date":1323355193,"post_id":8404090,"comment_id":10419845,"body_markdown":"I don&#39;t know; you might get more traction over at [gis.se].  Also, please try to not have more than one question per post; point one here is complex enough!","body":"I don&#39;t know; you might get more traction over at <a href=\"https://gis.stackexchange.com\">Geographic Information Systems</a>.  Also, please try to not have more than one question per post; point one here is complex enough!"},{"owner":{"account_id":329906,"reputation":12891,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":1,"creation_date":1443000248,"post_id":8404090,"comment_id":53312136,"body_markdown":"Unfortunately the link to the tutorial for this question is now dead.","body":"Unfortunately the link to the tutorial for this question is now dead."}],"answers":[{"tags":[],"owner":{"account_id":220781,"reputation":2881,"user_id":478380,"accept_rate":89,"display_name":"Gnat"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1323356370,"creation_date":1323356370,"answer_id":8432949,"question_id":8404090,"body_markdown":"JTS doesn&#39;t care what your point&#39;s units or coordinate system is.\r\n\r\nHowever, [it does assume that the coordinates are on a Cartesian plane](http://tsusiatsoftware.net/jts/jts-faq/jts-faq.html), so some geometry operations such as distance calculations may be inaccurate over long distances. (They don&#39;t yet support geodetic calculations.)\r\n\r\nIt should be fine for simple storage uses.\r\n\r\nHowever, an important point to note is that the longitude is the X value and the latitude the Y value. So we say &quot;lat/long&quot;, but JTS will expect it in the order &quot;long/lat&quot;. So you should be using `geometryFactory.createPoint(new Coordinate(longitude, latitude))`","title":"Converting lat/long to JTS?","body":"<p>JTS doesn't care what your point's units or coordinate system is.</p>\n\n<p>However, <a href=\"http://tsusiatsoftware.net/jts/jts-faq/jts-faq.html\">it does assume that the coordinates are on a Cartesian plane</a>, so some geometry operations such as distance calculations may be inaccurate over long distances. (They don't yet support geodetic calculations.)</p>\n\n<p>It should be fine for simple storage uses.</p>\n\n<p>However, an important point to note is that the longitude is the X value and the latitude the Y value. So we say \"lat/long\", but JTS will expect it in the order \"long/lat\". So you should be using <code>geometryFactory.createPoint(new Coordinate(longitude, latitude))</code></p>\n"},{"tags":[],"owner":{"account_id":484214,"reputation":8039,"user_id":899752,"display_name":"mdup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371214225,"creation_date":1371214225,"answer_id":17108862,"question_id":8404090,"body_markdown":"I have had the same problem here and I translated the coords from Lat/Long to UTM (see http://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system). \r\n\r\nBasically you convert from Lat/Long to an (X,Y) pair, but the interesting fact is that those X and Y are real meters, so you can make accurate calculations which depend on distance. (Actually, you must account for a small distortion, but negligible when talking about meter-scale accuracy).\r\n\r\nI wasn&#39;t really happy with the LatLong2UTM functions that existing Java frameworks provided, so I rolled out my own. I ported one from some online javascript converter without much trouble.","title":"Converting lat/long to JTS?","body":"<p>I have had the same problem here and I translated the coords from Lat/Long to UTM (see <a href=\"http://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system</a>). </p>\n\n<p>Basically you convert from Lat/Long to an (X,Y) pair, but the interesting fact is that those X and Y are real meters, so you can make accurate calculations which depend on distance. (Actually, you must account for a small distortion, but negligible when talking about meter-scale accuracy).</p>\n\n<p>I wasn't really happy with the LatLong2UTM functions that existing Java frameworks provided, so I rolled out my own. I ported one from some online javascript converter without much trouble.</p>\n"},{"tags":[],"owner":{"account_id":2745328,"reputation":1136,"user_id":2365873,"accept_rate":64,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373615224,"creation_date":1373615224,"answer_id":17610029,"question_id":8404090,"body_markdown":"Here is how to create your coordinate in WGS-84 :\r\n\r\n        double EARTH_RADIUS = 6378137.0;\r\n        double x = longitude * EARTH_RADIUS * Math.PI / 180.;\r\n        double y = EARTH_RADIUS * Math.sin(Math.toRadians(latitude));\r\n        return new Coordinate(x,y,0.);\r\n\r\nCheers","title":"Converting lat/long to JTS?","body":"<p>Here is how to create your coordinate in WGS-84 :</p>\n\n<pre><code>    double EARTH_RADIUS = 6378137.0;\n    double x = longitude * EARTH_RADIUS * Math.PI / 180.;\n    double y = EARTH_RADIUS * Math.sin(Math.toRadians(latitude));\n    return new Coordinate(x,y,0.);\n</code></pre>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466610138,"creation_date":1466610138,"answer_id":37972731,"question_id":8404090,"body_markdown":"To sum up what others said, when converting to Coordinate there are 3 main things to take care of:\r\n\r\n - **Projection.** JTS works in a Cartesian plane, so all distortion from e.g. Mercator propagates into your calculation. Thus, you should only use it on quite short-ranged area. I&#39;m not sure about the precise magnitude, but I think everything below a degree of expansion should be fine. Stay below 0.1 degree and you&#39;re definitely on the safe side.\r\n - **Units.** You can put perfectly any unit into JTS. The trouble is you can&#39;t tell JTS whether you&#39;re using meters, or degrees, or anything else. So you must take care yourself that you either stick to one unit, or convert wherever necessary.\r\n - **Standard.** The ISO standard states that geospatial coordinates are provided lat first. However, it competes with the GeoJSON/WKT standards which both state lon first, so reverse. Both standard groups have applications sticking to them (for instance, Apache Lucene switched standards between releases without changing the method signature, thus causing headaches to hundreds of users wondering why their maps all of a sudden were flipped), and JTS is holding on the GeoJSON/WKT version. Pay attention to that wherever you pass the data from another library - it may follow GeoJSON and WKT, or ISO, you should inform yourself in advance. (Believe me. I already had trouble with this, and it can be really annoying going through the entire code and flipping the order.)\r\n\r\nSo, no that&#39;s not right. You&#39;re straight walking into the third problem. JTS is lon first.\r\n\r\nAlso, you might consider using [Neo4j Spatial][1] instead of hibernate. It uses the graph querying speed of Neo4j, and has built-in JTS support. It also has one of the most comfortable Java APIs around IMHO.\r\n\r\n\r\n  [1]: https://github.com/neo4j-contrib/spatial","title":"Converting lat/long to JTS?","body":"<p>To sum up what others said, when converting to Coordinate there are 3 main things to take care of:</p>\n\n<ul>\n<li><strong>Projection.</strong> JTS works in a Cartesian plane, so all distortion from e.g. Mercator propagates into your calculation. Thus, you should only use it on quite short-ranged area. I'm not sure about the precise magnitude, but I think everything below a degree of expansion should be fine. Stay below 0.1 degree and you're definitely on the safe side.</li>\n<li><strong>Units.</strong> You can put perfectly any unit into JTS. The trouble is you can't tell JTS whether you're using meters, or degrees, or anything else. So you must take care yourself that you either stick to one unit, or convert wherever necessary.</li>\n<li><strong>Standard.</strong> The ISO standard states that geospatial coordinates are provided lat first. However, it competes with the GeoJSON/WKT standards which both state lon first, so reverse. Both standard groups have applications sticking to them (for instance, Apache Lucene switched standards between releases without changing the method signature, thus causing headaches to hundreds of users wondering why their maps all of a sudden were flipped), and JTS is holding on the GeoJSON/WKT version. Pay attention to that wherever you pass the data from another library - it may follow GeoJSON and WKT, or ISO, you should inform yourself in advance. (Believe me. I already had trouble with this, and it can be really annoying going through the entire code and flipping the order.)</li>\n</ul>\n\n<p>So, no that's not right. You're straight walking into the third problem. JTS is lon first.</p>\n\n<p>Also, you might consider using <a href=\"https://github.com/neo4j-contrib/spatial\" rel=\"nofollow\">Neo4j Spatial</a> instead of hibernate. It uses the graph querying speed of Neo4j, and has built-in JTS support. It also has one of the most comfortable Java APIs around IMHO.</p>\n"},{"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633535794,"creation_date":1633535794,"answer_id":69468941,"question_id":8404090,"body_markdown":"Here is a copy-paste solution to create JTS Points with given latitude and longitude values. \r\n\r\n```java\r\nimport com.vividsolutions.jts.geom.Coordinate;\r\nimport com.vividsolutions.jts.geom.GeometryFactory;\r\nimport com.vividsolutions.jts.geom.LineString;\r\nimport com.vividsolutions.jts.geom.Point;\r\nimport com.vividsolutions.jts.geom.PrecisionModel;\r\n\r\npublic class GeometriesFactory {\r\n\r\n\tprivate static GeometryFactory factory4326 \r\n        = new GeometryFactory(new PrecisionModel(PrecisionModel.FLOATING), 4326);\r\n\r\n\tpublic static Point createPoint(Double pLatitude, Double pLongitude){\r\n        // inverted parameters are OK\r\n\t\treturn factory4326.createPoint(new Coordinate(pLongitude, pLatitude));\r\n\t}\r\n\t\r\n\tpublic static LineString createLineString(Coordinate[] pCoordsArray){\r\n\t\treturn factory4326.createLineString(pCoordsArray);\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n[Source](https://gist.github.com/russellhoff/54af4abd5862baf86afceb8407ff85e4)","title":"Converting lat/long to JTS?","body":"<p>Here is a copy-paste solution to create JTS Points with given latitude and longitude values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.vividsolutions.jts.geom.Coordinate;\nimport com.vividsolutions.jts.geom.GeometryFactory;\nimport com.vividsolutions.jts.geom.LineString;\nimport com.vividsolutions.jts.geom.Point;\nimport com.vividsolutions.jts.geom.PrecisionModel;\n\npublic class GeometriesFactory {\n\n    private static GeometryFactory factory4326 \n        = new GeometryFactory(new PrecisionModel(PrecisionModel.FLOATING), 4326);\n\n    public static Point createPoint(Double pLatitude, Double pLongitude){\n        // inverted parameters are OK\n        return factory4326.createPoint(new Coordinate(pLongitude, pLatitude));\n    }\n    \n    public static LineString createLineString(Coordinate[] pCoordsArray){\n        return factory4326.createLineString(pCoordsArray);\n    }\n    \n}\n\n</code></pre>\n<p><a href=\"https://gist.github.com/russellhoff/54af4abd5862baf86afceb8407ff85e4\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":222096,"reputation":10190,"user_id":480467,"accept_rate":0,"display_name":"Werner Altewischer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22705,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":5,"score":23,"last_activity_date":1633535794,"creation_date":1323192329,"question_id":8404090,"body_markdown":"I am trying to integrate hibernate spatial with JPA for Geo searches. I have been referencing the &lt;a href=&quot;http://www.hibernatespatial.org/tutorial.html&quot;&gt;tutorial&lt;/a&gt; on the official site (I am not associated with hibernatespatial).  \r\n\r\nThe tutorial, unfortunately, does not cover how to create a Point instance from a latitude/longitude pair.  I&#39;m attempting to do this here, but I am still not sure if this is this the right way to convert a latitude/longitude pair to a JTS Point instance:\r\n\r\n    import com.vividsolutions.jts.geom.Coordinate;\r\n    import com.vividsolutions.jts.geom.GeometryFactory;\r\n    import com.vividsolutions.jts.geom.Point;\r\n    import org.geotools.geometry.jts.JTSFactoryFinder;\r\n    import org.hibernate.annotations.Type;\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Location {\r\n    \r\n        private Double latitude;\r\n        \r\n        private Double longitude;\r\n        \r\n        @Type(type = &quot;org.hibernatespatial.GeometryUserType&quot;)\r\n        private Point coordinates;\r\n        \r\n        private final GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory(null);\r\n        \r\n        @PrePersist\r\n        @PreUpdate\r\n        public void updateCoordinate() {\r\n            if (this.latitude == null || this.longitude == null) {\r\n                this.coordinates = null;\r\n            } else {\r\n                this.coordinates = geometryFactory.createPoint(new Coordinate(latitude, longitude));\r\n            }\r\n        }\r\n        \r\n        public Double getLatitude() {\r\n            return latitude;\r\n        }\r\n        \r\n        public void setLatitude(Double latitude) {\r\n            this.latitude = latitude;\r\n        }\r\n        \r\n        public Double getLongitude() {\r\n            return longitude;\r\n        }\r\n        \r\n        public void setLongitude(Double longitude) {\r\n            this.longitude = longitude;\r\n        }\r\n    }\r\n\r\n","title":"Converting lat/long to JTS?","body":"<p>I am trying to integrate hibernate spatial with JPA for Geo searches. I have been referencing the <a href=\"http://www.hibernatespatial.org/tutorial.html\">tutorial</a> on the official site (I am not associated with hibernatespatial).  </p>\n\n<p>The tutorial, unfortunately, does not cover how to create a Point instance from a latitude/longitude pair.  I'm attempting to do this here, but I am still not sure if this is this the right way to convert a latitude/longitude pair to a JTS Point instance:</p>\n\n<pre><code>import com.vividsolutions.jts.geom.Coordinate;\nimport com.vividsolutions.jts.geom.GeometryFactory;\nimport com.vividsolutions.jts.geom.Point;\nimport org.geotools.geometry.jts.JTSFactoryFinder;\nimport org.hibernate.annotations.Type;\nimport javax.persistence.*;\n\n@Entity\npublic class Location {\n\n    private Double latitude;\n\n    private Double longitude;\n\n    @Type(type = \"org.hibernatespatial.GeometryUserType\")\n    private Point coordinates;\n\n    private final GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory(null);\n\n    @PrePersist\n    @PreUpdate\n    public void updateCoordinate() {\n        if (this.latitude == null || this.longitude == null) {\n            this.coordinates = null;\n        } else {\n            this.coordinates = geometryFactory.createPoint(new Coordinate(latitude, longitude));\n        }\n    }\n\n    public Double getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(Double latitude) {\n        this.latitude = latitude;\n    }\n\n    public Double getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(Double longitude) {\n        this.longitude = longitude;\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","avro"],"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1633535510,"creation_date":1471342941,"question_id":38972377,"body_markdown":"I am trying to write a generic serializer for my Avro-generated Java objects. By begging, borrowing and stealing I came up with the following method:\r\n\r\n\tpublic byte[] serialize(T data) {\r\n\t\tSpecificDatumWriter&lt;T&gt; writer = new SpecificDatumWriter&lt;&gt;(tClass);\r\n\t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t\tBinaryEncoder encoder = EncoderFactory.get().binaryEncoder(out, null);\r\n\t\ttry {\r\n\t\t\twriter.write(data, encoder);\r\n\t\t\tencoder.flush();\r\n\t\t\tByteBuffer serialized = ByteBuffer.allocate(out.toByteArray().length);\r\n\t\t\tserialized.put(out.toByteArray());\r\n\t\t\treturn serialized.array();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nI have two questions:\r\n\r\n1. Is the schema included in this byte array? If I try to deserialize this byte array with a tClass of a different version, will it be ok? (as long as the schemas are backwards-compatible)\r\n\r\n2. If this is how I&#39;m meant to serialize Avro POJOs, what if anything are the following used for in my Avro generated POJO:\r\n\r\n\t\tpublic org.apache.avro.Schema getSchema() {\r\n\t\t\treturn SCHEMA$;\r\n\t\t}\r\n\t\t\r\n\t\tprivate static final org.apache.avro.io.DatumWriter WRITER$ = new org.apache.avro.specific.SpecificDatumWriter(SCHEMA$);\r\n\t\r\n\t\t@Override\r\n\t\tpublic void writeExternal(java.io.ObjectOutput out) throws java.io.IOException {\r\n\t\t\tWRITER$.write(this, SpecificData.getEncoder(out));\r\n\t\t}\r\n\t\r\n\t\tprivate static final org.apache.avro.io.DatumReader READER$ = new org.apache.avro.specific.SpecificDatumReader(SCHEMA$);\r\n\t\r\n\t\t@Override\r\n\t\tpublic void readExternal(java.io.ObjectInput in) throws java.io.IOException {\r\n\t\t\tREADER$.read(this, SpecificData.getDecoder(in));\r\n\t\t}\r\n\r\nAm I missing something?","title":"How to serialize Java POJOs generated from Avro","body":"<p>I am trying to write a generic serializer for my Avro-generated Java objects. By begging, borrowing and stealing I came up with the following method:</p>\n\n<pre><code>public byte[] serialize(T data) {\n    SpecificDatumWriter&lt;T&gt; writer = new SpecificDatumWriter&lt;&gt;(tClass);\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    BinaryEncoder encoder = EncoderFactory.get().binaryEncoder(out, null);\n    try {\n        writer.write(data, encoder);\n        encoder.flush();\n        ByteBuffer serialized = ByteBuffer.allocate(out.toByteArray().length);\n        serialized.put(out.toByteArray());\n        return serialized.array();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>I have two questions:</p>\n\n<ol>\n<li><p>Is the schema included in this byte array? If I try to deserialize this byte array with a tClass of a different version, will it be ok? (as long as the schemas are backwards-compatible)</p></li>\n<li><p>If this is how I'm meant to serialize Avro POJOs, what if anything are the following used for in my Avro generated POJO:</p>\n\n<pre><code>public org.apache.avro.Schema getSchema() {\n    return SCHEMA$;\n}\n\nprivate static final org.apache.avro.io.DatumWriter WRITER$ = new org.apache.avro.specific.SpecificDatumWriter(SCHEMA$);\n\n@Override\npublic void writeExternal(java.io.ObjectOutput out) throws java.io.IOException {\n    WRITER$.write(this, SpecificData.getEncoder(out));\n}\n\nprivate static final org.apache.avro.io.DatumReader READER$ = new org.apache.avro.specific.SpecificDatumReader(SCHEMA$);\n\n@Override\npublic void readExternal(java.io.ObjectInput in) throws java.io.IOException {\n    READER$.read(this, SpecificData.getDecoder(in));\n}\n</code></pre></li>\n</ol>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":1,"creation_date":1633459257,"post_id":69455641,"comment_id":122764072,"body_markdown":"Does this answer your question? [Saving and Reading Bitmaps/Images from Internal memory in Android](https://stackoverflow.com/questions/17674634/saving-and-reading-bitmaps-images-from-internal-memory-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17674634/saving-and-reading-bitmaps-images-from-internal-memory-in-android\">Saving and Reading Bitmaps/Images from Internal memory in Android</a>"},{"owner":{"display_name":"user15084425"},"score":0,"creation_date":1633459774,"post_id":69455641,"comment_id":122764258,"body_markdown":"@OmarShawky No, because I am getting the Image from ImageView.","body":"@OmarShawky No, because I am getting the Image from ImageView."},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1633460052,"post_id":69455641,"comment_id":122764353,"body_markdown":"well it would be the same if you used `Bitmap bitmap = imageView.getDrawable().getBitmap();`, that would get you the bitmap to continue the previously proposed question. - https://stackoverflow.com/q/26865787/10485156","body":"well it would be the same if you used <code>Bitmap bitmap = imageView.getDrawable().getBitmap();</code>, that would get you the bitmap to continue the previously proposed question. - <a href=\"https://stackoverflow.com/q/26865787/10485156\">stackoverflow.com/q/26865787/10485156</a>"},{"owner":{"display_name":"user15084425"},"score":0,"creation_date":1633460424,"post_id":69455641,"comment_id":122764494,"body_markdown":"@OmarShawky .getBitmap() gives error when I make it.","body":"@OmarShawky .getBitmap() gives error when I make it."}],"answers":[{"tags":[],"owner":{"account_id":19627125,"reputation":186,"user_id":14366207,"display_name":"Omar Hemaia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633535481,"creation_date":1633462996,"answer_id":69456403,"question_id":69455641,"body_markdown":"This is what you want :\r\n\r\n\t//saveToGalleryButton is the id of the button that you will click to save the image to gallery\r\n\tsaveToGalleryButton.setOnClickListener(new View.OnClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onClick(View _view) {\r\n\t\t\ttry {\r\n\t\t\t\tjava.io.FileOutputStream fos = new java.io.FileOutputStream(new java.io.File(path));\r\n\t//path is a String file path where your image will be saved\r\n\t//for example : &quot;/storage/emulated/0/DCIM/your image.jpg&quot;\r\n\t((android.graphics.drawable.BitmapDrawable)yourImageView.getDrawable()).getBitmap().compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n\t//yourImageView is the id of ImageView that you want to get the image from\r\n\t\t\t\tfos.flush().close();\r\n\t\t\t} catch (Exception e){\r\n\t\t\t\t//to do something with the exception\r\n\t\t\t} }\r\n\t}\r\n\t});\r\n\r\n**Edit :** Don&#39;t forget to add this to your AndroidManifest.xml file :\r\n \r\n   \t&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;","title":"How can I save an ImageView into gallery?","body":"<p>This is what you want :</p>\n<pre><code>//saveToGalleryButton is the id of the button that you will click to save the image to gallery\nsaveToGalleryButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View _view) {\n        try {\n            java.io.FileOutputStream fos = new java.io.FileOutputStream(new java.io.File(path));\n//path is a String file path where your image will be saved\n//for example : &quot;/storage/emulated/0/DCIM/your image.jpg&quot;\n((android.graphics.drawable.BitmapDrawable)yourImageView.getDrawable()).getBitmap().compress(Bitmap.CompressFormat.JPEG, 100, fos);\n//yourImageView is the id of ImageView that you want to get the image from\n            fos.flush().close();\n        } catch (Exception e){\n            //to do something with the exception\n        } }\n}\n});\n</code></pre>\n<p><strong>Edit :</strong> Don't forget to add this to your AndroidManifest.xml file :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"}],"owner":{"display_name":"user15084425"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633535481,"creation_date":1633459083,"question_id":69455641,"body_markdown":"I have an app that generates ImageViews. I added a button to download it but I don&#39;t know how to make it. Already looked everywhere but I couldn&#39;t find anything. Can you help me. I want to download the imageview to gallery when button pressed.","title":"How can I save an ImageView into gallery?","body":"<p>I have an app that generates ImageViews. I added a button to download it but I don't know how to make it. Already looked everywhere but I couldn't find anything. Can you help me. I want to download the imageview to gallery when button pressed.</p>\n"},{"tags":["java","android","android-11"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1633535441,"post_id":69468087,"comment_id":122787042,"body_markdown":"&quot;I can get a decent path&quot; -- the path is meaningless; please ignore it. &quot;If there are a way to get a &quot;File&quot;(java.io) from within the &quot;onActivityResult&quot; method&quot; -- no, because you are not working with files. Use `ContentResolver` and `DocumentFile` to work with the documents that you get back from those `Intent` actions.","body":"&quot;I can get a decent path&quot; -- the path is meaningless; please ignore it. &quot;If there are a way to get a &quot;File&quot;(java.io) from within the &quot;onActivityResult&quot; method&quot; -- no, because you are not working with files. Use <code>ContentResolver</code> and <code>DocumentFile</code> to work with the documents that you get back from those <code>Intent</code> actions."},{"owner":{"account_id":7690845,"reputation":3570,"user_id":5827197,"accept_rate":60,"display_name":"Zaid Mirza"},"score":0,"creation_date":1643788223,"post_id":69468087,"comment_id":125429000,"body_markdown":"@CommonsWare I&#39;m not getting RESULT CODE 0 on Android 11 when the intent is fired with OPEN DOCUMENT flag.","body":"@CommonsWare I&#39;m not getting RESULT CODE 0 on Android 11 when the intent is fired with OPEN DOCUMENT flag."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1643802130,"post_id":69468087,"comment_id":125434387,"body_markdown":"@ZaidMirza: `ACTION_OPEN_DOCUMENT` is an `Intent` action, not a flag.","body":"@ZaidMirza: <code>ACTION_OPEN_DOCUMENT</code> is an <code>Intent</code> action, not a flag."},{"owner":{"account_id":7690845,"reputation":3570,"user_id":5827197,"accept_rate":60,"display_name":"Zaid Mirza"},"score":0,"creation_date":1643804671,"post_id":69468087,"comment_id":125435307,"body_markdown":"@CommonsWare my Bad, Yes. The issue is resolved. I had to implement ActivityResultAPI instead onActvityResult\n\nhttps://stackoverflow.com/questions/70952359/onactivityresult-always-returns-result-canceled-code-0-on-android-11/70952504#70952504","body":"@CommonsWare my Bad, Yes. The issue is resolved. I had to implement ActivityResultAPI instead onActvityResult  <a href=\"https://stackoverflow.com/questions/70952359/onactivityresult-always-returns-result-canceled-code-0-on-android-11/70952504#70952504\" title=\"onactivityresult always returns result canceled code 0 on android 11\">stackoverflow.com/questions/70952359/&hellip;</a>"}],"owner":{"account_id":6777903,"reputation":36,"user_id":5219167,"display_name":"Jethro Gibbs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633535337,"answer_count":0,"score":1,"last_activity_date":1633535352,"creation_date":1633532256,"question_id":69468087,"body_markdown":"I am struggling to access files in downloads folder that user can select. \r\n\r\nUsing the following to give user to select file\r\n\r\n    Intent intent;\r\n        if (SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\r\n            intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        } else {\r\n            intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        }\r\n\r\n        // Filter to only show results that can be &quot;opened&quot;, such as a\r\n        // file (as opposed to a list of contacts or timezones)\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\r\n        // Filter to show only application/pdf, using the image MIME data type.\r\n        intent.setType(PDF_MIME_TYPE);\r\n\r\n        if (activity != null) {\r\n            activity.startActivityForResult(intent, requestCode);\r\n        }\r\n \r\nAs you might know then the following method is called when user selects the file\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) \r\n\r\n(Expected): Please see the following I can get a decent path from selecting another folder I created &quot;fromPC&quot;(observe it is a file named:&quot;815&quot; and extension &quot;PDF&quot;):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n(Problem): When doing the exact same code but selecting &quot;Downloads&quot; folder I only get &quot;873&quot; at the end but the file name I selected was &quot;PaymentNotification&quot; and extension &quot;PDF&quot;:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m5BaS.png\r\n  [2]: https://i.stack.imgur.com/GasN3.png\r\n\r\nReading online but nothing quite as specific as this.\r\n\r\nSo I am not sure how to let user select a file example PDF from &quot;Downloads&quot; folder after the scope storage change in new Android thanks in advance for the answer?\r\n\r\nIf there are a way to get a &quot;File&quot;(java.io) from within the &quot;onActivityResult&quot; method it would also solve my problem?\r\n\r\n","title":"Android 11 use &quot;Intent.ACTION_OPEN_DOCUMENT&quot; select file in &quot;Downloads&quot; folder","body":"<p>I am struggling to access files in downloads folder that user can select.</p>\n<p>Using the following to give user to select file</p>\n<pre><code>Intent intent;\n    if (SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\n        intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n    } else {\n        intent = new Intent(Intent.ACTION_GET_CONTENT);\n    }\n\n    // Filter to only show results that can be &quot;opened&quot;, such as a\n    // file (as opposed to a list of contacts or timezones)\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\n\n    // Filter to show only application/pdf, using the image MIME data type.\n    intent.setType(PDF_MIME_TYPE);\n\n    if (activity != null) {\n        activity.startActivityForResult(intent, requestCode);\n    }\n</code></pre>\n<p>As you might know then the following method is called when user selects the file</p>\n<pre><code>@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) \n</code></pre>\n<p>(Expected): Please see the following I can get a decent path from selecting another folder I created &quot;fromPC&quot;(observe it is a file named:&quot;815&quot; and extension &quot;PDF&quot;):</p>\n<p><a href=\"https://i.stack.imgur.com/m5BaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m5BaS.png\" alt=\"enter image description here\" /></a></p>\n<p>(Problem): When doing the exact same code but selecting &quot;Downloads&quot; folder I only get &quot;873&quot; at the end but the file name I selected was &quot;PaymentNotification&quot; and extension &quot;PDF&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/GasN3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GasN3.png\" alt=\"enter image description here\" /></a></p>\n<p>Reading online but nothing quite as specific as this.</p>\n<p>So I am not sure how to let user select a file example PDF from &quot;Downloads&quot; folder after the scope storage change in new Android thanks in advance for the answer?</p>\n<p>If there are a way to get a &quot;File&quot;(java.io) from within the &quot;onActivityResult&quot; method it would also solve my problem?</p>\n"},{"tags":["java","multithreading","synchronize"],"comments":[{"owner":{"account_id":280890,"reputation":5871,"user_id":576857,"accept_rate":88,"display_name":"Al Kepp"},"score":1,"creation_date":1318961298,"post_id":7811701,"comment_id":9519043,"body_markdown":"I am sure that it doesn&#39;t depend on the names of variables. Synchronized are calls on actual objects, not variables.","body":"I am sure that it doesn&#39;t depend on the names of variables. Synchronized are calls on actual objects, not variables."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1318962052,"post_id":7811701,"comment_id":9519212,"body_markdown":"Related to http://stackoverflow.com/questions/578904/how-do-synchronized-static-methods-work-in-java","body":"Related to <a href=\"http://stackoverflow.com/questions/578904/how-do-synchronized-static-methods-work-in-java\" title=\"how do synchronized static methods work in java\">stackoverflow.com/questions/578904/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1318978016,"creation_date":1318961462,"answer_id":7811765,"question_id":7811701,"body_markdown":"You are confusing a static *method* with a static *class*.  If `setLastAccess` was a static *method* then if it is marked as `synchronized`, it would lock on the `Class` instance in the `ClassLoader` -- there is only one of these per loader.  If the method was static and synchronized then threads would be locking on the same object.\r\n\r\nHowever, in your example the `Thingie` *class* is marked as static, not the method.  The static keyword on a *class* means that `Thingie` is not tied to the outer `SyncExample ` class -- it does _not_ mean that there is only one instance of `Thingie` and it does not affect synchronization.  So in your example, when `setLastAccess` is marked `synchronized`, it is locking on the instance of the class `Thingie` (`this`).  Since there are two instances (`thingie1` and `thingie2`) then the locks are on different objects.  Obviously, if both threads were passed in `thingie1` then they would both be locking on the same object.\r\n\r\nHere&#39;s some reading:\r\n\r\n  * [Synchronized methods showing static and instance][1]\r\n  * [Nested classes.][2]\r\n  * [Synchronized methods][3].\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/classes.html#260369\r\n  [2]: http://download.oracle.com/javase/tutorial/java/javaOO/nested.html\r\n  [3]: http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html","title":"Synchronized keyword and static classes in java","body":"<p>You are confusing a static <em>method</em> with a static <em>class</em>.  If <code>setLastAccess</code> was a static <em>method</em> then if it is marked as <code>synchronized</code>, it would lock on the <code>Class</code> instance in the <code>ClassLoader</code> -- there is only one of these per loader.  If the method was static and synchronized then threads would be locking on the same object.</p>\n\n<p>However, in your example the <code>Thingie</code> <em>class</em> is marked as static, not the method.  The static keyword on a <em>class</em> means that <code>Thingie</code> is not tied to the outer <code>SyncExample</code> class -- it does <em>not</em> mean that there is only one instance of <code>Thingie</code> and it does not affect synchronization.  So in your example, when <code>setLastAccess</code> is marked <code>synchronized</code>, it is locking on the instance of the class <code>Thingie</code> (<code>this</code>).  Since there are two instances (<code>thingie1</code> and <code>thingie2</code>) then the locks are on different objects.  Obviously, if both threads were passed in <code>thingie1</code> then they would both be locking on the same object.</p>\n\n<p>Here's some reading:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#260369\" rel=\"nofollow\">Synchronized methods showing static and instance</a></li>\n<li><a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow\">Nested classes.</a></li>\n<li><a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow\">Synchronized methods</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":443653,"reputation":2215,"user_id":835000,"accept_rate":83,"display_name":"svaor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1318963706,"creation_date":1318961636,"answer_id":7811791,"question_id":7811701,"body_markdown":"This code:\r\n\r\n    class SomeClass {\r\n        public synchronized void setLastAccess(Date date) {\r\n        }\r\n    }\r\n\r\nis the same as:\r\n\r\n    class SomeClass {\r\n        public void setLastAccess(Date date) {\r\n            synchronized(this) {\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnd this code:\r\n\r\n    class SomeClass {\r\n        public static synchronized void setLastAccess(Date date) {\r\n        }\r\n    }\r\n\r\nis the same as:\r\n\r\n    class SomeClass {\r\n        public static void setLastAccess(Date date) {\r\n            synchronized(SomeClass.class) {\r\n            }\r\n        }\r\n    }\r\n","title":"Synchronized keyword and static classes in java","body":"<p>This code:</p>\n\n<pre><code>class SomeClass {\n    public synchronized void setLastAccess(Date date) {\n    }\n}\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>class SomeClass {\n    public void setLastAccess(Date date) {\n        synchronized(this) {\n        }\n    }\n}\n</code></pre>\n\n<p>And this code:</p>\n\n<pre><code>class SomeClass {\n    public static synchronized void setLastAccess(Date date) {\n    }\n}\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>class SomeClass {\n    public static void setLastAccess(Date date) {\n        synchronized(SomeClass.class) {\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":893887,"reputation":2079,"user_id":931607,"accept_rate":88,"display_name":"java_mouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318964970,"creation_date":1318964970,"answer_id":7812361,"question_id":7811701,"body_markdown":"If a synchronized method is a instance method, the locking is done on each object. so if you have 2 objects obj1 and obj2 , they can execute the methods with the with their own instances locked.\r\n\r\nIf a static method is synchronized, the lock is done on the class object. So that method as well as any other static methods can&#39;t be executed when the first static synchronized method is getting executed.\r\n","title":"Synchronized keyword and static classes in java","body":"<p>If a synchronized method is a instance method, the locking is done on each object. so if you have 2 objects obj1 and obj2 , they can execute the methods with the with their own instances locked.</p>\n\n<p>If a static method is synchronized, the lock is done on the class object. So that method as well as any other static methods can't be executed when the first static synchronized method is getting executed.</p>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633535213,"creation_date":1633535213,"answer_id":69468804,"question_id":7811701,"body_markdown":"Nice example to explain about the static synchronized in classes in java.\r\n\r\nI have created a method called &quot;BookSeat&quot; and I made it synchronized. Even I am using\r\nsynchronized keyword but still I got inconsistent result. To avoid this, just put \r\nstatic keyword with this method and you will get correct result.\r\n\r\n\r\n            package io.reactivestax.codepractice.mutithreading;\r\n            class BookTheaterApp{\r\n                  static int total_seats=20;\r\n                    static synchronized void BookSeat(int ticket){\r\n                    if(total_seats&gt;=ticket){\r\n                        System.out.println(ticket+&quot; Ticket booked successfully.&quot;);\r\n                        total_seats=total_seats-ticket;\r\n                        System.out.println(&quot;Seats left :&quot;+total_seats);\r\n                    }else {\r\n                        System.out.println(&quot;We cannot booked tickets &quot;);\r\n                        System.out.println(&quot;Required tickets: &quot;+ticket);\r\n                        System.out.println(&quot;Total tickets: &quot;+total_seats);\r\n                    }\r\n                }\r\n            }\r\n\r\n            class MyThread1 extends Thread{\r\n                BookTheaterApp b1;\r\n                int seats;\r\n                MyThread1(BookTheaterApp b1,int seats){\r\n                    this.b1=b1;\r\n                    this.seats =seats;\r\n                }\r\n                @Override\r\n                public void run(){\r\n                    b1.BookSeat(seats);\r\n                }\r\n            }\r\n\r\n            class MyThread2 extends Thread{\r\n                BookTheaterApp b2;\r\n                int seats;\r\n                MyThread2(BookTheaterApp b2,int seats){\r\n                    this.b2=b2;\r\n                    this.seats =seats;\r\n                }\r\n                @Override\r\n                public void run(){\r\n                    b2.BookSeat(seats);\r\n                }\r\n            }\r\n\r\n            public class StaticSynchro {\r\n                public static void main(String[] args) {\r\n                    BookTheaterApp b1= new BookTheaterApp();\r\n                    MyThread1 t1= new MyThread1(b1,7);\r\n                    t1.start();\r\n                    MyThread2 t2= new MyThread2(b1,6);\r\n                    t2.start();\r\n                    BookTheaterApp b2= new BookTheaterApp();\r\n                    MyThread1 t3= new MyThread1(b2,5);\r\n                    t3.start();\r\n                    MyThread2 t4= new MyThread2(b2,7);\r\n                    t4.start();\r\n                }\r\n            }\r\n","title":"Synchronized keyword and static classes in java","body":"<p>Nice example to explain about the static synchronized in classes in java.</p>\n<p>I have created a method called &quot;BookSeat&quot; and I made it synchronized. Even I am using\nsynchronized keyword but still I got inconsistent result. To avoid this, just put\nstatic keyword with this method and you will get correct result.</p>\n<pre><code>        package io.reactivestax.codepractice.mutithreading;\n        class BookTheaterApp{\n              static int total_seats=20;\n                static synchronized void BookSeat(int ticket){\n                if(total_seats&gt;=ticket){\n                    System.out.println(ticket+&quot; Ticket booked successfully.&quot;);\n                    total_seats=total_seats-ticket;\n                    System.out.println(&quot;Seats left :&quot;+total_seats);\n                }else {\n                    System.out.println(&quot;We cannot booked tickets &quot;);\n                    System.out.println(&quot;Required tickets: &quot;+ticket);\n                    System.out.println(&quot;Total tickets: &quot;+total_seats);\n                }\n            }\n        }\n\n        class MyThread1 extends Thread{\n            BookTheaterApp b1;\n            int seats;\n            MyThread1(BookTheaterApp b1,int seats){\n                this.b1=b1;\n                this.seats =seats;\n            }\n            @Override\n            public void run(){\n                b1.BookSeat(seats);\n            }\n        }\n\n        class MyThread2 extends Thread{\n            BookTheaterApp b2;\n            int seats;\n            MyThread2(BookTheaterApp b2,int seats){\n                this.b2=b2;\n                this.seats =seats;\n            }\n            @Override\n            public void run(){\n                b2.BookSeat(seats);\n            }\n        }\n\n        public class StaticSynchro {\n            public static void main(String[] args) {\n                BookTheaterApp b1= new BookTheaterApp();\n                MyThread1 t1= new MyThread1(b1,7);\n                t1.start();\n                MyThread2 t2= new MyThread2(b1,6);\n                t2.start();\n                BookTheaterApp b2= new BookTheaterApp();\n                MyThread1 t3= new MyThread1(b2,5);\n                t3.start();\n                MyThread2 t4= new MyThread2(b2,7);\n                t4.start();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":57617,"reputation":15823,"user_id":172617,"accept_rate":76,"display_name":"larryq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7811765,"answer_count":4,"score":1,"last_activity_date":1633535213,"creation_date":1318961155,"question_id":7811701,"body_markdown":"I was reading a threading tutorial that’s originally from (I believe) the IBM developerworks site.  In it they talked about the synchronized keyword and how a synchronized block of code is locked by the actual object, not the block of code itself.  \r\n\r\nFor instance, in the code below the authors state that even though the static class ‘`Thingie`’s `setLastAccess` method is listed as synchronized, the two threads defined below it can each call `setLastAccess` simultaneously, because they’re using different values for thingie.  But if thingie is static won’t that mean they’re using the same value?\r\n\r\nIs it the case that the variable names only need be different, even if they&#39;re referring to the same object?\r\n\r\n    public class SyncExample {\r\n    \tpublic static class Thingie {\r\n    \t\tprivate Date lastAccess;\r\n    \t\tpublic synchronized void setLastAccess(Date date) {\r\n    \t\t\tthis.lastAccess = date;\r\n    \t\t}\r\n    \t}\r\n    \tpublic static class MyThread extends Thread {\r\n    \t\tprivate Thingie thingie;\r\n    \t\tpublic MyThread(Thingie thingie) {\r\n    \t\t\tthis.thingie = thingie;\r\n    \t\t}\r\n    \t\tpublic void run() {\r\n    \t\t\tthingie.setLastAccess(new Date());\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main() {\r\n    \t\tThingie thingie1 = new Thingie(),\r\n    \t\tthingie2 = new Thingie();\r\n    \t\tnew MyThread(thingie1).start();\r\n    \t\tnew MyThread(thingie2).start();\r\n    \t}\r\n    } \r\n\r\n","title":"Synchronized keyword and static classes in java","body":"<p>I was reading a threading tutorial that’s originally from (I believe) the IBM developerworks site.  In it they talked about the synchronized keyword and how a synchronized block of code is locked by the actual object, not the block of code itself.  </p>\n\n<p>For instance, in the code below the authors state that even though the static class ‘<code>Thingie</code>’s <code>setLastAccess</code> method is listed as synchronized, the two threads defined below it can each call <code>setLastAccess</code> simultaneously, because they’re using different values for thingie.  But if thingie is static won’t that mean they’re using the same value?</p>\n\n<p>Is it the case that the variable names only need be different, even if they're referring to the same object?</p>\n\n<pre><code>public class SyncExample {\n    public static class Thingie {\n        private Date lastAccess;\n        public synchronized void setLastAccess(Date date) {\n            this.lastAccess = date;\n        }\n    }\n    public static class MyThread extends Thread {\n        private Thingie thingie;\n        public MyThread(Thingie thingie) {\n            this.thingie = thingie;\n        }\n        public void run() {\n            thingie.setLastAccess(new Date());\n        }\n    }\n    public static void main() {\n        Thingie thingie1 = new Thingie(),\n        thingie2 = new Thingie();\n        new MyThread(thingie1).start();\n        new MyThread(thingie2).start();\n    }\n} \n</code></pre>\n"},{"tags":["java","serialization","code-generation"],"comments":[{"owner":{"account_id":413970,"reputation":751,"user_id":787926,"display_name":"Vincent Koeman"},"score":2,"creation_date":1307547487,"post_id":6281423,"comment_id":7332720,"body_markdown":"I don&#39;t think there is any (standard) way to do this","body":"I don&#39;t think there is any (standard) way to do this"},{"owner":{"account_id":255578,"reputation":4097,"user_id":535724,"accept_rate":60,"display_name":"umlcat"},"score":1,"creation_date":1307547514,"post_id":6281423,"comment_id":7332728,"body_markdown":"(+1) for &quot;Why do you want this&quot;, many questions want something unusual, but, it doesn&#39;t explain why. And there is a lot of auto code generation out there, when the main stuff is generated, and only a few details are coded by hand...","body":"(+1) for &quot;Why do you want this&quot;, many questions want something unusual, but, it doesn&#39;t explain why. And there is a lot of auto code generation out there, when the main stuff is generated, and only a few details are coded by hand..."},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":1,"creation_date":1307547639,"post_id":6281423,"comment_id":7332774,"body_markdown":"Another alternative would be static code generation (by an external entity) - so you don&#39;t have to do it by hand. The benefit of this is that you don&#39;t have to spend CPU cycles deserializing it.","body":"Another alternative would be static code generation (by an external entity) - so you don&#39;t have to do it by hand. The benefit of this is that you don&#39;t have to spend CPU cycles deserializing it."},{"owner":{"account_id":1098359,"reputation":8264,"user_id":1091453,"display_name":"Cwt"},"score":0,"creation_date":1383332043,"post_id":6281423,"comment_id":29319352,"body_markdown":"Although it some time ago, have you an example for &quot;partially create complex objects programmatically&quot; and &quot;complete the creation manually&quot;?\nDid you find a suitable alternative?","body":"Although it some time ago, have you an example for &quot;partially create complex objects programmatically&quot; and &quot;complete the creation manually&quot;? Did you find a suitable alternative?"},{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1386455196,"post_id":6281423,"comment_id":30548832,"body_markdown":"This is possible but It will work with all Java objects.","body":"This is possible but It will work with all Java objects."}],"answers":[{"tags":[],"owner":{"account_id":285358,"reputation":13115,"user_id":583980,"accept_rate":74,"display_name":"Swaranga Sarma"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1307547833,"creation_date":1307547833,"answer_id":6281531,"question_id":6281423,"body_markdown":"You **can** achieve custom serialization of your objects. You have to implement two methods in your class with the exact signature:\r\n\r\n    private void writeObject(ObjectOutputStream oos)\r\n    {\r\n        //write your serialization code here\r\n    }\r\n    \r\n    \r\n    private void readObject(ObjectInputStream ois)\r\n    {\r\n        //write your de-serialization code here\r\n    }\r\n\r\nHowever the amount of flexibility that you are seeking is very doubtful.","title":"Serialize a Java object to Java code?","body":"<p>You <strong>can</strong> achieve custom serialization of your objects. You have to implement two methods in your class with the exact signature:</p>\n\n<pre><code>private void writeObject(ObjectOutputStream oos)\n{\n    //write your serialization code here\n}\n\n\nprivate void readObject(ObjectInputStream ois)\n{\n    //write your de-serialization code here\n}\n</code></pre>\n\n<p>However the amount of flexibility that you are seeking is very doubtful.</p>\n"},{"tags":[],"owner":{"account_id":3062,"reputation":45059,"user_id":4332,"accept_rate":88,"display_name":"Adrian Mouat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307547842,"creation_date":1307547842,"answer_id":6281533,"question_id":6281423,"body_markdown":"Could you use Clojure instead and integrate it with your Java code? Clojure is homoiconic - its data is identical to its code, so you can do things like this very easily. \r\n\r\nMaps are a basic datatype in Clojure.","title":"Serialize a Java object to Java code?","body":"<p>Could you use Clojure instead and integrate it with your Java code? Clojure is homoiconic - its data is identical to its code, so you can do things like this very easily. </p>\n\n<p>Maps are a basic datatype in Clojure.</p>\n"},{"tags":[],"owner":{"account_id":1057609,"reputation":545,"user_id":1059979,"display_name":"Manuel_B"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386449916,"creation_date":1386449916,"answer_id":20446554,"question_id":6281423,"body_markdown":"I implemented this functionality in a new github project. You can find the project here:\r\n\r\nhttps://github.com/ManuelB/java-bean-to-code-serializer\r\n\r\nThe project does not have any external dependencies except junit.\r\n\r\nCurrently it is not supporting arrays for serialization yet. Nevertheless there is already a lot of functionalities:\r\n\r\n            Object2CodeObjectOutputStream object2CodeObjectOutputStream = new Object2CodeObjectOutputStream(\r\n                byteArrayOutputStream);\r\n            object2CodeObjectOutputStream.writeObject(&lt;your-java-bean&gt;);\r\n            System.out.println(\r\n                    byteArrayOutputStream.toString());","title":"Serialize a Java object to Java code?","body":"<p>I implemented this functionality in a new github project. You can find the project here:</p>\n\n<p><a href=\"https://github.com/ManuelB/java-bean-to-code-serializer\" rel=\"nofollow\">https://github.com/ManuelB/java-bean-to-code-serializer</a></p>\n\n<p>The project does not have any external dependencies except junit.</p>\n\n<p>Currently it is not supporting arrays for serialization yet. Nevertheless there is already a lot of functionalities:</p>\n\n<pre><code>        Object2CodeObjectOutputStream object2CodeObjectOutputStream = new Object2CodeObjectOutputStream(\n            byteArrayOutputStream);\n        object2CodeObjectOutputStream.writeObject(&lt;your-java-bean&gt;);\n        System.out.println(\n                byteArrayOutputStream.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386454529,"creation_date":1386454529,"answer_id":20447370,"question_id":6281423,"body_markdown":"The pre-release of Long Term Persistence (java.beans.Encoder and friends) had both an XMLEncoder and a Java encoder. You can probably still download it somewhere.","title":"Serialize a Java object to Java code?","body":"<p>The pre-release of Long Term Persistence (java.beans.Encoder and friends) had both an XMLEncoder and a Java encoder. You can probably still download it somewhere.</p>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447996887,"creation_date":1447996887,"answer_id":33819549,"question_id":6281423,"body_markdown":"I had a similar problem recently and the little framework [testrecorder](https://github.com/almondtools/testrecorder) evolved from it. It does also support objects not complying to the Java Bean Conventions. Your example be serializable like this:\r\n\r\n    Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;();\r\n    m.put(&quot;bar&quot;,new Integer(21));\r\n\r\n    CodeSerializer codeSerializer = new CodeSerializer();\r\n    System.out.println(codeSerializer.serialize(m)); // of course you can put this string to a file output stream\r\n\r\nand the output would be:\r\n\r\n     HashMap map1 = new LinkedHashMap&lt;&gt;();\r\n     map1.put(&quot;foo&quot;, 21);\r\n\r\nOne may call `serialize(Type, Object)` to make `map1` a more generic Type (e.g. `Map` or `Map&lt;String, Integer&gt;`).","title":"Serialize a Java object to Java code?","body":"<p>I had a similar problem recently and the little framework <a href=\"https://github.com/almondtools/testrecorder\" rel=\"nofollow\">testrecorder</a> evolved from it. It does also support objects not complying to the Java Bean Conventions. Your example be serializable like this:</p>\n\n<pre><code>Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;();\nm.put(\"bar\",new Integer(21));\n\nCodeSerializer codeSerializer = new CodeSerializer();\nSystem.out.println(codeSerializer.serialize(m)); // of course you can put this string to a file output stream\n</code></pre>\n\n<p>and the output would be:</p>\n\n<pre><code> HashMap map1 = new LinkedHashMap&lt;&gt;();\n map1.put(\"foo\", 21);\n</code></pre>\n\n<p>One may call <code>serialize(Type, Object)</code> to make <code>map1</code> a more generic Type (e.g. <code>Map</code> or <code>Map&lt;String, Integer&gt;</code>).</p>\n"}],"owner":{"account_id":48890,"reputation":1786,"user_id":145395,"accept_rate":0,"display_name":"Andrew Gilmartin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1633535202,"creation_date":1307547377,"question_id":6281423,"body_markdown":"Is there an implementation that will serialize a Java object as Java code? For example, if I have the object\r\n\r\n    Map&lt;String,Integer&gt; m = new Map&lt;String,Integer&gt;();\r\n    m.put(&quot;foo&quot;,new Integer(21));\r\n\r\nI could serialize this using\r\n\r\n    ObjectOutputStream out = new ObjectOutputStream( ... );\r\n    out.writeObject( m );\r\n    out.flush();\r\n\r\nand the output would, for example, be\r\n\r\n    java.util.Map&lt;String,Integer&gt; m = new java.util.Map&lt;String,Integer&gt;(); \r\n    m.put(&quot;foo&quot;,new Integer(21));\r\n\r\nWhy would you want this? Sometimes it is easier to partially create complex objects programmatically and then complete the creation manually in code. This code can then be included in the source and version controlled with everything else. Note that using external serialized objects is not exceptable.\r\n\r\nThanks for any help you can give.\r\n","title":"Serialize a Java object to Java code?","body":"<p>Is there an implementation that will serialize a Java object as Java code? For example, if I have the object</p>\n\n<pre><code>Map&lt;String,Integer&gt; m = new Map&lt;String,Integer&gt;();\nm.put(\"foo\",new Integer(21));\n</code></pre>\n\n<p>I could serialize this using</p>\n\n<pre><code>ObjectOutputStream out = new ObjectOutputStream( ... );\nout.writeObject( m );\nout.flush();\n</code></pre>\n\n<p>and the output would, for example, be</p>\n\n<pre><code>java.util.Map&lt;String,Integer&gt; m = new java.util.Map&lt;String,Integer&gt;(); \nm.put(\"foo\",new Integer(21));\n</code></pre>\n\n<p>Why would you want this? Sometimes it is easier to partially create complex objects programmatically and then complete the creation manually in code. This code can then be included in the source and version controlled with everything else. Note that using external serialized objects is not exceptable.</p>\n\n<p>Thanks for any help you can give.</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633483632,"post_id":69454991,"comment_id":122769778,"body_markdown":"Lambdas, or streams? Which is it? They aren&#39;t the same thing.","body":"Lambdas, or streams? Which is it? They aren&#39;t the same thing."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634708530,"post_id":69454991,"comment_id":123094104,"body_markdown":"Why? The right way to compare them is with `List.equals()`. You don&#39;t have to do any of this.","body":"Why? The right way to compare them is with <code>List.equals()</code>. You don&#39;t have to do any of this."}],"answers":[{"tags":[],"owner":{"account_id":1891014,"reputation":3150,"user_id":1709089,"display_name":"dajavax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633534959,"creation_date":1633477707,"answer_id":69458398,"question_id":69454991,"body_markdown":"From your statement, I understand you want to return `false` instead of running the `Assert.fail`.\r\nThe way of doing this by only using Streams is:\r\n```java\r\nreturn !productDetailsFromInputData.stream().map(i -&gt;\r\n        productDetailsFromApplication.stream().filter((a) -&gt; a.get(&quot;ProductName&quot;).toString().equalsIgnoreCase(i.get(&quot;ProductName&quot;).toString())).findAny()\r\n                .map(a -&gt;\r\n                        !a.get(&quot;Perpetual&quot;).toString().equalsIgnoreCase(i.get(&quot;Perpetual&quot;).toString()) || !a.get(&quot;Quantity&quot;).toString().equalsIgnoreCase(i.get(&quot;Quantity&quot;).toString()))\r\n                .orElse(true)\r\n).anyMatch(b -&gt; b);\r\n```\r\nNotice I am mapping the failures to `true`, that&#39;s because `anyMatch` would look for any true value. We then negate that with the `!` in the return.\r\n\r\nIf you want to keep the LOGGER verbosity, you can probably do something like:\r\n```java\r\nreturn !productDetailsFromInputData.stream().map(i -&gt;\r\n        productDetailsFromApplication.stream().filter((a) -&gt; a.get(&quot;ProductName&quot;).toString().equalsIgnoreCase(i.get(&quot;ProductName&quot;).toString())).findAny()\r\n                .map(a -&gt; {\r\n                    if(!a.get(&quot;Quantity&quot;).toString().equalsIgnoreCase(i.get(&quot;Quantity&quot;).toString())) {\r\n                        LOGGER.error(&quot;APP Quantity does not matches with Input Quantity for Product &quot;+i.get(&quot;ProductName&quot;).toString()\r\n                                +&quot; App Quantity &quot;+a.get(&quot;Quantity&quot;).toString()+&quot; Input Quantity &quot;+i.get(&quot;Quantity&quot;).toString());\r\n                        return true;\r\n                    }\r\n                    if(!a.get(&quot;Perpetual&quot;).toString().equalsIgnoreCase(i.get(&quot;Perpetual&quot;).toString())) {\r\n                        LOGGER.error(&quot;App Perpetual value does not matches with Input Perpetual value for Product &quot;\r\n                                +i.get(&quot;ProductName&quot;).toString() +&quot; App Perpetual &quot;+a.get(&quot;Perpetual&quot;).toString()+&quot; Input perpetual &quot;+i.get(&quot;Perpetual&quot;).toString());\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                })\r\n                .orElseGet(() -&gt; {\r\n                    LOGGER.error(&quot;Did not find any matching Product Name with the given details in App&quot;);\r\n                    return true;\r\n                })\r\n).anyMatch(b -&gt; b);\r\n```\r\nHowever, I would suggest not to use only Streams and first converting `productDetailsFromApplication` to a Map so it is faster to find the match:\r\n```java\r\nMap&lt;String, Map&lt;String, Object&gt;&gt; mapFromApplication = productDetailsFromApplication.stream().collect(Collectors.toMap(e -&gt; e.get(&quot;ProductName&quot;).toString(), Function.identity()));\r\nreturn !productDetailsFromInputData.stream().map(i -&gt;\r\n        Optional.ofNullable(mapFromApplication.get(i.get(&quot;ProductName&quot;).toString()))\r\n                .map(a -&gt; {\r\n                    if(!a.get(&quot;Quantity&quot;).toString().equalsIgnoreCase(i.get(&quot;Quantity&quot;).toString())) {\r\n                        LOGGER.error(&quot;APP Quantity does not matches with Input Quantity for Product &quot;+i.get(&quot;ProductName&quot;).toString()\r\n                                +&quot; App Quantity &quot;+a.get(&quot;Quantity&quot;).toString()+&quot; Input Quantity &quot;+i.get(&quot;Quantity&quot;).toString());\r\n                        return true;\r\n                    }\r\n                    if(!a.get(&quot;Perpetual&quot;).toString().equalsIgnoreCase(i.get(&quot;Perpetual&quot;).toString())) {\r\n                        LOGGER.error(&quot;App Perpetual value does not matches with Input Perpetual value for Product &quot;\r\n                                +i.get(&quot;ProductName&quot;).toString() +&quot; App Perpetual &quot;+a.get(&quot;Perpetual&quot;).toString()+&quot; Input perpetual &quot;+i.get(&quot;Perpetual&quot;).toString());\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                })\r\n                .orElseGet(() -&gt; {\r\n                    LOGGER.error(&quot;Did not find any matching Product Name with the given details in App&quot;);\r\n                    return true;\r\n                })\r\n).anyMatch(b -&gt; b);\r\n```\r\nThis would stop on the first failure and not count all of them. If you could benefit from counting the failures and/or logging all of them, you could use `.filter(b -&gt; b).count()` instead of `.anyMatch(b -&gt; b)`.\r\n```java\r\nlong count = productDetailsFromInputData.stream().map(i -&gt;\r\n...\r\n.filter(b -&gt; b).count();\r\nif(count&gt;0) {\r\n    LOGGER.error(count+&quot; failures.&quot;);\r\n    return false;\r\n} else {\r\n    return true;\r\n}\r\n\r\n```\r\nEDIT: You can actually move the `anyMatch` statement further up replacing the first `map`, but having it at the bottom let&#39;s you change it easily to other uses such as the `count` if needed.","title":"What is the right way to compare the List of HashMap in Java using streams","body":"<p>From your statement, I understand you want to return <code>false</code> instead of running the <code>Assert.fail</code>.\nThe way of doing this by only using Streams is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return !productDetailsFromInputData.stream().map(i -&gt;\n        productDetailsFromApplication.stream().filter((a) -&gt; a.get(&quot;ProductName&quot;).toString().equalsIgnoreCase(i.get(&quot;ProductName&quot;).toString())).findAny()\n                .map(a -&gt;\n                        !a.get(&quot;Perpetual&quot;).toString().equalsIgnoreCase(i.get(&quot;Perpetual&quot;).toString()) || !a.get(&quot;Quantity&quot;).toString().equalsIgnoreCase(i.get(&quot;Quantity&quot;).toString()))\n                .orElse(true)\n).anyMatch(b -&gt; b);\n</code></pre>\n<p>Notice I am mapping the failures to <code>true</code>, that's because <code>anyMatch</code> would look for any true value. We then negate that with the <code>!</code> in the return.</p>\n<p>If you want to keep the LOGGER verbosity, you can probably do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return !productDetailsFromInputData.stream().map(i -&gt;\n        productDetailsFromApplication.stream().filter((a) -&gt; a.get(&quot;ProductName&quot;).toString().equalsIgnoreCase(i.get(&quot;ProductName&quot;).toString())).findAny()\n                .map(a -&gt; {\n                    if(!a.get(&quot;Quantity&quot;).toString().equalsIgnoreCase(i.get(&quot;Quantity&quot;).toString())) {\n                        LOGGER.error(&quot;APP Quantity does not matches with Input Quantity for Product &quot;+i.get(&quot;ProductName&quot;).toString()\n                                +&quot; App Quantity &quot;+a.get(&quot;Quantity&quot;).toString()+&quot; Input Quantity &quot;+i.get(&quot;Quantity&quot;).toString());\n                        return true;\n                    }\n                    if(!a.get(&quot;Perpetual&quot;).toString().equalsIgnoreCase(i.get(&quot;Perpetual&quot;).toString())) {\n                        LOGGER.error(&quot;App Perpetual value does not matches with Input Perpetual value for Product &quot;\n                                +i.get(&quot;ProductName&quot;).toString() +&quot; App Perpetual &quot;+a.get(&quot;Perpetual&quot;).toString()+&quot; Input perpetual &quot;+i.get(&quot;Perpetual&quot;).toString());\n                        return true;\n                    }\n                    return false;\n                })\n                .orElseGet(() -&gt; {\n                    LOGGER.error(&quot;Did not find any matching Product Name with the given details in App&quot;);\n                    return true;\n                })\n).anyMatch(b -&gt; b);\n</code></pre>\n<p>However, I would suggest not to use only Streams and first converting <code>productDetailsFromApplication</code> to a Map so it is faster to find the match:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Map&lt;String, Object&gt;&gt; mapFromApplication = productDetailsFromApplication.stream().collect(Collectors.toMap(e -&gt; e.get(&quot;ProductName&quot;).toString(), Function.identity()));\nreturn !productDetailsFromInputData.stream().map(i -&gt;\n        Optional.ofNullable(mapFromApplication.get(i.get(&quot;ProductName&quot;).toString()))\n                .map(a -&gt; {\n                    if(!a.get(&quot;Quantity&quot;).toString().equalsIgnoreCase(i.get(&quot;Quantity&quot;).toString())) {\n                        LOGGER.error(&quot;APP Quantity does not matches with Input Quantity for Product &quot;+i.get(&quot;ProductName&quot;).toString()\n                                +&quot; App Quantity &quot;+a.get(&quot;Quantity&quot;).toString()+&quot; Input Quantity &quot;+i.get(&quot;Quantity&quot;).toString());\n                        return true;\n                    }\n                    if(!a.get(&quot;Perpetual&quot;).toString().equalsIgnoreCase(i.get(&quot;Perpetual&quot;).toString())) {\n                        LOGGER.error(&quot;App Perpetual value does not matches with Input Perpetual value for Product &quot;\n                                +i.get(&quot;ProductName&quot;).toString() +&quot; App Perpetual &quot;+a.get(&quot;Perpetual&quot;).toString()+&quot; Input perpetual &quot;+i.get(&quot;Perpetual&quot;).toString());\n                        return true;\n                    }\n                    return false;\n                })\n                .orElseGet(() -&gt; {\n                    LOGGER.error(&quot;Did not find any matching Product Name with the given details in App&quot;);\n                    return true;\n                })\n).anyMatch(b -&gt; b);\n</code></pre>\n<p>This would stop on the first failure and not count all of them. If you could benefit from counting the failures and/or logging all of them, you could use <code>.filter(b -&gt; b).count()</code> instead of <code>.anyMatch(b -&gt; b)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>long count = productDetailsFromInputData.stream().map(i -&gt;\n...\n.filter(b -&gt; b).count();\nif(count&gt;0) {\n    LOGGER.error(count+&quot; failures.&quot;);\n    return false;\n} else {\n    return true;\n}\n\n</code></pre>\n<p>EDIT: You can actually move the <code>anyMatch</code> statement further up replacing the first <code>map</code>, but having it at the bottom let's you change it easily to other uses such as the <code>count</code> if needed.</p>\n"}],"owner":{"account_id":14932858,"reputation":541,"user_id":10781809,"display_name":"Kovid Mehta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69458398,"answer_count":1,"score":0,"last_activity_date":1633534959,"creation_date":1633455561,"question_id":69454991,"body_markdown":"I want to compare two List of HashMaps in Java. I want to understand a way to compare them using lambda expressions and not with a nested for loop. \r\n\r\nTwo List of HashMaps :\r\n1. productDetailsFromInputData; \r\n\r\nSample Data : \r\n\r\n        [{ProductName=Prod1, Quantity=1.0, Perpetual=true}, \r\n        {ProductName=Prod2, Quantity=1.0, Perpetual=false}, \r\n        {ProductName=Prod3, Quantity=1.0, Perpetual=false}]\r\n\r\n2. productDetailsFromApplication;\r\n\r\nSample Data :   \r\n\r\n        [{Perpetual=true, ProductName=Prod1, Quantity=1.0}, \r\n        {Perpetual=true,  ProductName=Prod2, Quantity=1.0}, \r\n        {Perpetual=false, ProductName=Prod3, Quantity=2.0}, \r\n        {Perpetual=false, ProductName=Prod4, Quantity=1.0}, \r\n        {Perpetual=false, ProductName=Prod5, Quantity=1.0}, \r\n        {Perpetual=false, ProductName=Prod6, Quantity=1.0}] \r\n\r\nLogic :\r\nI want to loop through the productDetailsFromInputData List and fetch the ProductName Value for each hashmap, check if the value exists in any of the hashmaps present in productDetailsFromApplication List. If not, mark the result as failed. \r\n\r\nIf the ProductName Exists as value in any one of the hashmap of productDetailsFromApplication List, fetch the Perpetual and Quantity values from that hashmap and compare it with hashmap in productDetailsFromInputData list. \r\n\r\nI have tried below approach as of now :\r\n\r\n        for(HashMap&lt;String,Object&gt; inputProductHashMap : productDetailsFromInputData) {\r\n               String productName = inputProductHashMap.get(&quot;ProductName&quot;).toString();\r\n               String inputQuantity = inputProductHashMap.get(&quot;Quantity&quot;).toString();\r\n               String inputPerpetual = inputProductHashMap.get(&quot;Perpetual&quot;).toString();\r\n               LOGGER.info(&quot;Validating Product details for Product &quot;+productName);\r\n               if(productDetailsFromApplication.stream().anyMatch(t-&gt;t.containsValue(productName))){\r\n                   productDetailsFromApplication.stream()\r\n                                   .filter(p-&gt;p.containsValue(productName))\r\n                                   .findAny().ifPresent(p-&gt;\r\n                                   {\r\n                                       String AppQuantity = p.get(&quot;Quantity&quot;).toString();\r\n                                       String AppPerpetual = p.get(&quot;Perpetual&quot;).toString();\r\n                                       LOGGER.info(&quot;Found the Product details in SFDC matching with input data&quot;);\r\n                                       if(!inputQuantity.equalsIgnoreCase(AppQuantity)){\r\n                                           LOGGER.error(&quot;APP Quantity does not matches with Input Quantity for Product &quot;+productName\r\n                                                   +&quot; App Quantity &quot;+AppQuantity+&quot; Input Quantity &quot;+inputQuantity);\r\n                                           Assert.fail(&quot;Product Validation Failed for &quot;+productName);\r\n                                       }\r\n                                       if(!inputPerpetual.equalsIgnoreCase(AppPerpetual)){\r\n                                           LOGGER.error(&quot;App Perpetual value does not matches with Input Perpetual value for Product &quot;\r\n                                                   +productName +&quot; App Perpetual &quot;+AppPerpetual+&quot; Input perpetual &quot;+inputPerpetual);\r\n                                           Assert.fail(&quot;Product Validation Failed &quot;+productName);\r\n                                       }\r\n                                   });\r\n    \r\n               }\r\n               else {\r\n                   LOGGER.error(&quot;Did not find any matching Product Name with the given details in App&quot;);\r\n                   return false;\r\n               }\r\n            }\r\n\r\nI want to understand if there is a way to remove the first for loop as well. As I am fairly new to using lambda and streams, how can I optimize it.\r\n\r\nAlso I would like to know a way to return boolean value if the code reaches the `LOGGER.error` part where I have currently added assertions to mark the failures.\r\n\r\nIf there is an existing Stack-overflow question that covers the solution to this problem, feel free to guide me there.","title":"What is the right way to compare the List of HashMap in Java using streams","body":"<p>I want to compare two List of HashMaps in Java. I want to understand a way to compare them using lambda expressions and not with a nested for loop.</p>\n<p>Two List of HashMaps :</p>\n<ol>\n<li>productDetailsFromInputData;</li>\n</ol>\n<p>Sample Data :</p>\n<pre><code>    [{ProductName=Prod1, Quantity=1.0, Perpetual=true}, \n    {ProductName=Prod2, Quantity=1.0, Perpetual=false}, \n    {ProductName=Prod3, Quantity=1.0, Perpetual=false}]\n</code></pre>\n<ol start=\"2\">\n<li>productDetailsFromApplication;</li>\n</ol>\n<p>Sample Data :</p>\n<pre><code>    [{Perpetual=true, ProductName=Prod1, Quantity=1.0}, \n    {Perpetual=true,  ProductName=Prod2, Quantity=1.0}, \n    {Perpetual=false, ProductName=Prod3, Quantity=2.0}, \n    {Perpetual=false, ProductName=Prod4, Quantity=1.0}, \n    {Perpetual=false, ProductName=Prod5, Quantity=1.0}, \n    {Perpetual=false, ProductName=Prod6, Quantity=1.0}] \n</code></pre>\n<p>Logic :\nI want to loop through the productDetailsFromInputData List and fetch the ProductName Value for each hashmap, check if the value exists in any of the hashmaps present in productDetailsFromApplication List. If not, mark the result as failed.</p>\n<p>If the ProductName Exists as value in any one of the hashmap of productDetailsFromApplication List, fetch the Perpetual and Quantity values from that hashmap and compare it with hashmap in productDetailsFromInputData list.</p>\n<p>I have tried below approach as of now :</p>\n<pre><code>    for(HashMap&lt;String,Object&gt; inputProductHashMap : productDetailsFromInputData) {\n           String productName = inputProductHashMap.get(&quot;ProductName&quot;).toString();\n           String inputQuantity = inputProductHashMap.get(&quot;Quantity&quot;).toString();\n           String inputPerpetual = inputProductHashMap.get(&quot;Perpetual&quot;).toString();\n           LOGGER.info(&quot;Validating Product details for Product &quot;+productName);\n           if(productDetailsFromApplication.stream().anyMatch(t-&gt;t.containsValue(productName))){\n               productDetailsFromApplication.stream()\n                               .filter(p-&gt;p.containsValue(productName))\n                               .findAny().ifPresent(p-&gt;\n                               {\n                                   String AppQuantity = p.get(&quot;Quantity&quot;).toString();\n                                   String AppPerpetual = p.get(&quot;Perpetual&quot;).toString();\n                                   LOGGER.info(&quot;Found the Product details in SFDC matching with input data&quot;);\n                                   if(!inputQuantity.equalsIgnoreCase(AppQuantity)){\n                                       LOGGER.error(&quot;APP Quantity does not matches with Input Quantity for Product &quot;+productName\n                                               +&quot; App Quantity &quot;+AppQuantity+&quot; Input Quantity &quot;+inputQuantity);\n                                       Assert.fail(&quot;Product Validation Failed for &quot;+productName);\n                                   }\n                                   if(!inputPerpetual.equalsIgnoreCase(AppPerpetual)){\n                                       LOGGER.error(&quot;App Perpetual value does not matches with Input Perpetual value for Product &quot;\n                                               +productName +&quot; App Perpetual &quot;+AppPerpetual+&quot; Input perpetual &quot;+inputPerpetual);\n                                       Assert.fail(&quot;Product Validation Failed &quot;+productName);\n                                   }\n                               });\n\n           }\n           else {\n               LOGGER.error(&quot;Did not find any matching Product Name with the given details in App&quot;);\n               return false;\n           }\n        }\n</code></pre>\n<p>I want to understand if there is a way to remove the first for loop as well. As I am fairly new to using lambda and streams, how can I optimize it.</p>\n<p>Also I would like to know a way to return boolean value if the code reaches the <code>LOGGER.error</code> part where I have currently added assertions to mark the failures.</p>\n<p>If there is an existing Stack-overflow question that covers the solution to this problem, feel free to guide me there.</p>\n"},{"tags":["java","firebase","android-studio"],"comments":[{"owner":{"account_id":19521978,"reputation":332,"user_id":15455285,"display_name":"Spectator"},"score":0,"creation_date":1633533041,"post_id":69468202,"comment_id":122785924,"body_markdown":"is your project connected to firebase?","body":"is your project connected to firebase?"},{"owner":{"display_name":"user14346592"},"score":0,"creation_date":1633533419,"post_id":69468202,"comment_id":122786117,"body_markdown":"yes connected .","body":"yes connected ."},{"owner":{"account_id":19521978,"reputation":332,"user_id":15455285,"display_name":"Spectator"},"score":0,"creation_date":1633533583,"post_id":69468202,"comment_id":122786201,"body_markdown":"may be you are accidently delete your google-services.json? or changed your SHA-1?","body":"may be you are accidently delete your google-services.json? or changed your SHA-1?"},{"owner":{"account_id":19521978,"reputation":332,"user_id":15455285,"display_name":"Spectator"},"score":0,"creation_date":1633533990,"post_id":69468202,"comment_id":122786402,"body_markdown":"also\n mFirebaseInstance.getReference(&quot;Name2&quot;) \nshould be \n mFirebaseInstance.child(&quot;Name2&quot;)","body":"also  mFirebaseInstance.getReference(&quot;Name2&quot;)  should be   mFirebaseInstance.child(&quot;Name2&quot;)"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1633534012,"post_id":69468202,"comment_id":122786416,"body_markdown":"Try checking if your firebase rules are updated(allow access to the database).","body":"Try checking if your firebase rules are updated(allow access to the database)."},{"owner":{"display_name":"user14346592"},"score":0,"creation_date":1633534178,"post_id":69468202,"comment_id":122786509,"body_markdown":"Yes, I changed SHA-1","body":"Yes, I changed SHA-1"},{"owner":{"account_id":19521978,"reputation":332,"user_id":15455285,"display_name":"Spectator"},"score":0,"creation_date":1633534342,"post_id":69468202,"comment_id":122786577,"body_markdown":"You need to change it (or add another one) in your firebase project settings","body":"You need to change it (or add another one) in your firebase project settings"},{"owner":{"display_name":"user14346592"},"score":0,"creation_date":1633556003,"post_id":69468202,"comment_id":122794410,"body_markdown":"I add SHA-1 but dint work","body":"I add SHA-1 but dint work"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633589568,"post_id":69468202,"comment_id":122800809,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data). Please respond with @AlexMamo","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>. Please respond with @AlexMamo"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1633639960,"post_id":69468202,"comment_id":122821032,"body_markdown":"Can you add your storing coding? I only see code that listens for updates.","body":"Can you add your storing coding? I only see code that listens for updates."}],"answers":[{"tags":[],"owner":{"account_id":19521978,"reputation":332,"user_id":15455285,"display_name":"Spectator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633534765,"creation_date":1633534765,"answer_id":69468698,"question_id":69468202,"body_markdown":"In comments we find a problem, you need to add another one SHA-1, or change existing one. Go to your project. then tap on your project and go to settings. in bottom, tap to add new fingerprint, or delete\r\n\r\n\r\n\r\n[![step1][1]][1]\r\n\r\n\r\n\r\n\r\n[![step2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7v22B.png\r\n  [2]: https://i.stack.imgur.com/xLA0d.png\r\n\r\n","title":"Why Can&#39;t read data From Database Firebase?","body":"<p>In comments we find a problem, you need to add another one SHA-1, or change existing one. Go to your project. then tap on your project and go to settings. in bottom, tap to add new fingerprint, or delete</p>\n<p><a href=\"https://i.stack.imgur.com/7v22B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7v22B.png\" alt=\"step1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xLA0d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xLA0d.png\" alt=\"step2\" /></a></p>\n"}],"owner":{"display_name":"user14346592"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69468698,"answer_count":1,"score":0,"last_activity_date":1633534765,"creation_date":1633532678,"question_id":69468202,"body_markdown":"\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n\r\n     mFirebaseInstance = FirebaseDatabase.getInstance();\r\n    \r\n            mFirebaseDatabase = mFirebaseInstance.getReference(&quot;Name&quot;);\r\n    \r\n    \r\n            mFirebaseInstance.getReference(&quot;Name2&quot;).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    Log.e(TAG, &quot;App title updated&quot;);\r\n    \r\n                     appTitle = dataSnapshot.getValue(String.class);\r\n    \r\n    \r\n                    // update toolbar title\r\n    \r\n                    textGrid.setText(appTitle);\r\n                    if (appTitle == &quot;tt&quot;){\r\n                        Toast.makeText(getApplicationContext() ,&quot;dsfsdf&quot;,Toast.LENGTH_LONG).show();\r\n                    }\r\n    \r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError error) {\r\n                    // Failed to read value\r\n                    Log.e(TAG, &quot;Failed to read app title value.&quot;, error.toException());\r\n                    Toast.makeText(getApplicationContext() ,&quot;Error read Value&quot;,Toast.LENGTH_LONG).show();\r\n    \r\n                }\r\n            });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  **I store name information that was working a few days ago and the information is stored on firebase Realtime, and now you don&#39;t do\r\n it, and nothing goes to Database.**\r\n\r\n\r\n\r\n\r\n\r\n\r\n**in my dependencies i Used** \r\n\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.2&#39;\r\n\r\n\r\n\r\n\r\n**and in build Gradle (project)**\r\n\r\n\r\n     dependencies {\r\n    \r\n            classpath &#39;com.android.tools.build:gradle:4.0.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n            classpath &#39;com.github.dcendents:android-maven-gradle-plugin:2.1&#39;\r\n            classpath &#39;com.google.firebase:perf-plugin:1.3.1&#39;\r\n            classpath &#39;com.android.tools.build:gradle:4.0.0&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.0&#39;\r\n            classpath &#39;com.google.gms:google-services:2.0.0-alpha2&#39;\r\n    \r\n    \r\n    \r\n        }\r\n\r\n\r\n\r\n","title":"Why Can&#39;t read data From Database Firebase?","body":"<pre><code> mFirebaseInstance = FirebaseDatabase.getInstance();\n\n        mFirebaseDatabase = mFirebaseInstance.getReference(&quot;Name&quot;);\n\n\n        mFirebaseInstance.getReference(&quot;Name2&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                Log.e(TAG, &quot;App title updated&quot;);\n\n                 appTitle = dataSnapshot.getValue(String.class);\n\n\n                // update toolbar title\n\n                textGrid.setText(appTitle);\n                if (appTitle == &quot;tt&quot;){\n                    Toast.makeText(getApplicationContext() ,&quot;dsfsdf&quot;,Toast.LENGTH_LONG).show();\n                }\n\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError error) {\n                // Failed to read value\n                Log.e(TAG, &quot;Failed to read app title value.&quot;, error.toException());\n                Toast.makeText(getApplicationContext() ,&quot;Error read Value&quot;,Toast.LENGTH_LONG).show();\n\n            }\n        });\n</code></pre>\n<p><strong>I store name information that was working a few days ago and the information is stored on firebase Realtime, and now you don't do\nit, and nothing goes to Database.</strong></p>\n<p><strong>in my dependencies i Used</strong></p>\n<pre><code>implementation 'com.google.firebase:firebase-database:20.0.2'\n</code></pre>\n<p><strong>and in build Gradle (project)</strong></p>\n<pre><code> dependencies {\n\n        classpath 'com.android.tools.build:gradle:4.0.1'\n        classpath 'com.google.gms:google-services:4.3.10'\n        classpath 'com.github.dcendents:android-maven-gradle-plugin:2.1'\n        classpath 'com.google.firebase:perf-plugin:1.3.1'\n        classpath 'com.android.tools.build:gradle:4.0.0'\n        classpath 'com.google.gms:google-services:4.3.0'\n        classpath 'com.google.gms:google-services:2.0.0-alpha2'\n\n\n\n    }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9064,"reputation":1940,"user_id":16590,"accept_rate":29,"display_name":"Roman Pl&#225;šil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221730800,"creation_date":1221730800,"answer_id":91242,"question_id":91214,"body_markdown":"XStream is a serialization library I used for serialization to XML. It should be possible and rather easy to extend it so that it writes Java code.","title":"Serialize Java objects into Java code","body":"<p>XStream is a serialization library I used for serialization to XML. It should be possible and rather easy to extend it so that it writes Java code.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1221731018,"creation_date":1221731018,"answer_id":91260,"question_id":91214,"body_markdown":"Serialised data represents the internal data of objects. There isn&#39;t enough information to work out what methods you would need to call on the objects to reproduce the internal state.\r\n\r\nThere are two obvious approaches:\r\n\r\n * Encode the serialised data in a literal String and deserialise that.\r\n * Use java.beans XML persistence, which should be easy enough to process with your favourite XML-&gt;Java source technique.","title":"Serialize Java objects into Java code","body":"<p>Serialised data represents the internal data of objects. There isn't enough information to work out what methods you would need to call on the objects to reproduce the internal state.</p>\n\n<p>There are two obvious approaches:</p>\n\n<ul>\n<li>Encode the serialised data in a literal String and deserialise that.</li>\n<li>Use java.beans XML persistence, which should be easy enough to process with your favourite XML->Java source technique.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7205,"reputation":86,"user_id":12412,"display_name":"Simon Collins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1221731047,"creation_date":1221731047,"answer_id":91265,"question_id":91214,"body_markdown":"I am not aware of any libraries that will do this out of the box but you should be able to take one of the many object to XML serialisation libraries and customise the backend code to generate Java. Would probably not be much code.\r\n\r\nFor example a quick google turned up [XStream][1]. I&#39;ve never used it but is seems to support multiple backends other than XML - e.g. JSON. You can implement your own writer and just write out the Java code needed to recreate the hierarchy.\r\n\r\nI&#39;m sure you could do the same with other libraries, in particular if you can hook into a SAX event stream.\r\n\r\nSee:\r\n[HierarchicalStreamWriter][2]\r\n\r\n\r\n  [1]: http://xstream.codehaus.org/\r\n  [2]: http://xstream.codehaus.org/javadoc/com/thoughtworks/xstream/io/HierarchicalStreamWriter.html","title":"Serialize Java objects into Java code","body":"<p>I am not aware of any libraries that will do this out of the box but you should be able to take one of the many object to XML serialisation libraries and customise the backend code to generate Java. Would probably not be much code.</p>\n\n<p>For example a quick google turned up <a href=\"http://xstream.codehaus.org/\" rel=\"nofollow noreferrer\">XStream</a>. I've never used it but is seems to support multiple backends other than XML - e.g. JSON. You can implement your own writer and just write out the Java code needed to recreate the hierarchy.</p>\n\n<p>I'm sure you could do the same with other libraries, in particular if you can hook into a SAX event stream.</p>\n\n<p>See:\n<a href=\"http://xstream.codehaus.org/javadoc/com/thoughtworks/xstream/io/HierarchicalStreamWriter.html\" rel=\"nofollow noreferrer\">HierarchicalStreamWriter</a></p>\n"},{"tags":[],"owner":{"account_id":28626,"reputation":18594,"user_id":76661,"accept_rate":59,"display_name":"paweloque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258382923,"creation_date":1258382923,"answer_id":1742619,"question_id":91214,"body_markdown":"Great question. I was thinking about serializing objects into java code to make testing easier. The use case would be to load some data into a db, then generate the code creating an object and later use this code in test methods to initialize data without the need to access the DB. \r\n\r\nIt is somehow true that the object state doesn&#39;t contain enough info to know how it&#39;s been created and transformed, however, for simple java beans there is no reason why this shouldn&#39;t be possible. \r\n\r\nDo you feel like writing a small library for this purpose? I&#39;ll start coding soon!\r\n\r\n","title":"Serialize Java objects into Java code","body":"<p>Great question. I was thinking about serializing objects into java code to make testing easier. The use case would be to load some data into a db, then generate the code creating an object and later use this code in test methods to initialize data without the need to access the DB. </p>\n\n<p>It is somehow true that the object state doesn't contain enough info to know how it's been created and transformed, however, for simple java beans there is no reason why this shouldn't be possible. </p>\n\n<p>Do you feel like writing a small library for this purpose? I'll start coding soon!</p>\n"}],"owner":{"account_id":9442,"reputation":93,"user_id":17456,"display_name":"user17456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":91265,"answer_count":4,"score":9,"last_activity_date":1633534606,"creation_date":1221730288,"question_id":91214,"body_markdown":"Does somebody know a Java library which serializes a Java object hierarchy into Java code which generates this object hierarchy? Like Object/XML serialization, only that the output format is not binary/XML but Java code.","title":"Serialize Java objects into Java code","body":"<p>Does somebody know a Java library which serializes a Java object hierarchy into Java code which generates this object hierarchy? Like Object/XML serialization, only that the output format is not binary/XML but Java code.</p>\n"},{"tags":["java","android","android-layout","webview"],"answers":[{"tags":[],"owner":{"account_id":22598073,"reputation":452,"user_id":16780065,"display_name":"nima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630596091,"creation_date":1630587173,"answer_id":69030670,"question_id":69028490,"body_markdown":"If the site is https. Webview does not allow resources that are http to be uploaded.  \r\nThere are several ways to solve this problem:\r\n\r\n1- Change Http Files To Https In Your Site.   \r\nFor example, for your site, the image source in the post-14.css file:\r\n\r\nhttp://neurofinance.rf.gd/wp-content/uploads/2021/07/бэк-1.png   \r\nTo   \r\nhttps://neurofinance.rf.gd/wp-content/uploads/2021/07/бэк-1.png\r\n\r\nand ....\r\n\r\n    \r\n    \r\n\r\n2-   \r\nA-If you&#39;re targeting API level 26 or above, you must first enable it in the manifest file. Add\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\ninto `&lt;application&gt;` tag.\r\n\r\n\r\n\r\n\r\nB-Use the following command for WebView:\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= 21) \r\n            webView.getSettings().setMixedContentMode( WebSettings.MIXED_CONTENT_COMPATIBILITY_MODE );\r\n\r\n","title":"Webview from Android Studio does show a navigation menu and background logo","body":"<p>If the site is https. Webview does not allow resources that are http to be uploaded.<br />\nThere are several ways to solve this problem:</p>\n<p>1- Change Http Files To Https In Your Site.<br />\nFor example, for your site, the image source in the post-14.css file:</p>\n<p><a href=\"http://neurofinance.rf.gd/wp-content/uploads/2021/07/%D0%B1%D1%8D%D0%BA-1.png\" rel=\"nofollow noreferrer\">http://neurofinance.rf.gd/wp-content/uploads/2021/07/бэк-1.png</a><br />\nTo<br />\n<a href=\"https://neurofinance.rf.gd/wp-content/uploads/2021/07/%D0%B1%D1%8D%D0%BA-1.png\" rel=\"nofollow noreferrer\">https://neurofinance.rf.gd/wp-content/uploads/2021/07/бэк-1.png</a></p>\n<p>and ....</p>\n<p>2-<br />\nA-If you're targeting API level 26 or above, you must first enable it in the manifest file. Add</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>into <code>&lt;application&gt;</code> tag.</p>\n<p>B-Use the following command for WebView:</p>\n<pre><code>        if (Build.VERSION.SDK_INT &gt;= 21) \n        webView.getSettings().setMixedContentMode( WebSettings.MIXED_CONTENT_COMPATIBILITY_MODE );\n</code></pre>\n"}],"owner":{"account_id":17184015,"reputation":197,"user_id":12438977,"display_name":"ElonMuskofBadIdeas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69030670,"answer_count":1,"score":3,"last_activity_date":1633534511,"creation_date":1630578449,"question_id":69028490,"body_markdown":"\r\n\r\n**Context**  \r\nI&#39;m trying to implement a webview for my website, using Android Studio and Java. Here is the code for\r\n\r\n- MainActivity.java\r\n\r\n```java\r\npackage com.example.neurofinance;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.TargetApi;\r\nimport android.net.http.SslError;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.View;\r\nimport android.webkit.SslErrorHandler;\r\nimport android.webkit.WebResourceRequest;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        this.getWindow().getDecorView().setSystemUiVisibility(\r\n\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n\r\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\r\n\r\n\r\n\r\n        WebView webView = findViewById(R.id.webView);\r\n        //WebSettings webSettings = webView.getSettings();\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n//        webSettings.setJavaScriptEnabled(true);\r\n//        webSettings.setDomStorageEnabled(true);\r\n\r\n        webView.getSettings().setUseWideViewPort(true);//setting wide view\r\n        webView.getSettings().setLoadWithOverviewMode(true);//setting default zoomed out view\r\n        webView.setInitialScale(1);\r\n        webView.getSettings().setBuiltInZoomControls(true);//setting zoom controls\r\n\r\n        webView.loadUrl(&quot;www.URL.com&quot;);\r\n        \r\n\r\n        WebViewClient webViewClient = new WebViewClient() {\r\n\r\n            @SuppressWarnings(&quot;deprecation&quot;) @Override\r\n\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\r\n                view.loadUrl(url);\r\n\r\n                return true;\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onReceivedSslError (WebView view, SslErrorHandler handler, SslError error) {\r\n                handler.proceed();\r\n            }\r\n\r\n            @TargetApi(Build.VERSION_CODES.N) @Override\r\n\r\n            public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n\r\n                view.loadUrl(request.getUrl().toString());\r\n\r\n                return true;\r\n\r\n            }\r\n\r\n        };\r\n\r\n        webView.setWebViewClient(webViewClient);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n- AndroidManifest.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.neurofinance&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;&gt;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n- activity_main.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**Problem**  \r\nMy webview does not show the navigation menu (dots) and the banner. The following two screenshots show my webview (left) and the website itself (right).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nThe solution from this [post](https://stackoverflow.com/questions/47360233/website-menu-bar-not-working-with-webview-android-while-working-fine-in-mobile-b) did not help.\r\nNamely, I tried these:\r\n```java\r\nwebSettings.setJavaScriptEnabled(true);\r\nwebSettings.setDomStorageEnabled(true);\r\n```\r\n\r\nCan anyone suggest to me what I can do here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/teHBl.png","title":"Webview from Android Studio does show a navigation menu and background logo","body":"<p><strong>Context</strong><br />\nI'm trying to implement a webview for my website, using Android Studio and Java. Here is the code for</p>\n<ul>\n<li>MainActivity.java</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.neurofinance;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.TargetApi;\nimport android.net.http.SslError;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.View;\nimport android.webkit.SslErrorHandler;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        return true;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        this.getWindow().getDecorView().setSystemUiVisibility(\n\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\n\n\n\n        WebView webView = findViewById(R.id.webView);\n        //WebSettings webSettings = webView.getSettings();\n        webView.getSettings().setDomStorageEnabled(true);\n\n        webView.getSettings().setJavaScriptEnabled(true);\n//        webSettings.setJavaScriptEnabled(true);\n//        webSettings.setDomStorageEnabled(true);\n\n        webView.getSettings().setUseWideViewPort(true);//setting wide view\n        webView.getSettings().setLoadWithOverviewMode(true);//setting default zoomed out view\n        webView.setInitialScale(1);\n        webView.getSettings().setBuiltInZoomControls(true);//setting zoom controls\n\n        webView.loadUrl(&quot;www.URL.com&quot;);\n        \n\n        WebViewClient webViewClient = new WebViewClient() {\n\n            @SuppressWarnings(&quot;deprecation&quot;) @Override\n\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n                view.loadUrl(url);\n\n                return true;\n\n            }\n\n            @Override\n            public void onReceivedSslError (WebView view, SslErrorHandler handler, SslError error) {\n                handler.proceed();\n            }\n\n            @TargetApi(Build.VERSION_CODES.N) @Override\n\n            public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n\n                view.loadUrl(request.getUrl().toString());\n\n                return true;\n\n            }\n\n        };\n\n        webView.setWebViewClient(webViewClient);\n\n\n    }\n}\n</code></pre>\n<ul>\n<li>AndroidManifest.xml</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.neurofinance&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;&gt;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<ul>\n<li>activity_main.xml</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Problem</strong><br />\nMy webview does not show the navigation menu (dots) and the banner. The following two screenshots show my webview (left) and the website itself (right).</p>\n<p><a href=\"https://i.stack.imgur.com/teHBl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/teHBl.png\" alt=\"enter image description here\" /></a></p>\n<p>The solution from this <a href=\"https://stackoverflow.com/questions/47360233/website-menu-bar-not-working-with-webview-android-while-working-fine-in-mobile-b\">post</a> did not help.\nNamely, I tried these:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webSettings.setJavaScriptEnabled(true);\nwebSettings.setDomStorageEnabled(true);\n</code></pre>\n<p>Can anyone suggest to me what I can do here?</p>\n"},{"tags":["java","android","android-layout","webview","push-notification"],"comments":[{"owner":{"account_id":17523909,"reputation":407,"user_id":12709358,"display_name":"Elango"},"score":0,"creation_date":1631628020,"post_id":69078346,"comment_id":122270369,"body_markdown":"instead of you can call intent to any browsers","body":"instead of you can call intent to any browsers"},{"owner":{"account_id":16453770,"reputation":11,"user_id":11886539,"display_name":"Arc Official"},"score":0,"creation_date":1631659339,"post_id":69078346,"comment_id":122281196,"body_markdown":"Try this: https://stackoverflow.com/questions/53991937/android-webview-push-notification/59282866#59282866 Best to see if there is anything else.","body":"Try this: <a href=\"https://stackoverflow.com/questions/53991937/android-webview-push-notification/59282866#59282866\" title=\"android webview push notification\">stackoverflow.com/questions/53991937/&hellip;</a> Best to see if there is anything else."}],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631256630,"creation_date":1631256630,"answer_id":69128313,"question_id":69078346,"body_markdown":"could that be useful to you?\r\n\r\nhttps://stackoverflow.com/questions/10476616/android-push-notification-with-webview\r\n\r\nhttps://github.com/ashraf-alsamman/android-webview-app-with-push-notification\r\n\r\nhttps://medium.com/shibinco/creating-a-webview-android-app-with-push-notification-7fd48541a913\r\n\r\nHopefuly you can make it work from one of those example","title":"Allow notifications Android webview","body":"<p>could that be useful to you?</p>\n<p><a href=\"https://stackoverflow.com/questions/10476616/android-push-notification-with-webview\">Android Push Notification not opening my activity with webview</a></p>\n<p><a href=\"https://github.com/ashraf-alsamman/android-webview-app-with-push-notification\" rel=\"nofollow noreferrer\">https://github.com/ashraf-alsamman/android-webview-app-with-push-notification</a></p>\n<p><a href=\"https://medium.com/shibinco/creating-a-webview-android-app-with-push-notification-7fd48541a913\" rel=\"nofollow noreferrer\">https://medium.com/shibinco/creating-a-webview-android-app-with-push-notification-7fd48541a913</a></p>\n<p>Hopefuly you can make it work from one of those example</p>\n"},{"tags":[],"owner":{"account_id":7538388,"reputation":1412,"user_id":5723943,"display_name":"Rediska"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1631592479,"creation_date":1631592479,"answer_id":69171689,"question_id":69078346,"body_markdown":"The WebView does not support the API that websites use to show notifications, while browsers do support that API. This is why you see the notifications in the browser, but not in the WebView.\r\nSee [this page][1] for the list of environments that support the notifications API.\r\n\r\nIf your WebView displays a website that you control, you may modify the website to use some other mechanism to show notifications (via some java interface). \r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API","title":"Allow notifications Android webview","body":"<p>The WebView does not support the API that websites use to show notifications, while browsers do support that API. This is why you see the notifications in the browser, but not in the WebView.\nSee <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API\" rel=\"nofollow noreferrer\">this page</a> for the list of environments that support the notifications API.</p>\n<p>If your WebView displays a website that you control, you may modify the website to use some other mechanism to show notifications (via some java interface).</p>\n"},{"tags":[],"owner":{"account_id":19016904,"reputation":13,"user_id":14149982,"display_name":"di on Minecraft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631724540,"creation_date":1631724540,"answer_id":69197030,"question_id":69078346,"body_markdown":"Not sure I can be much help but you may have made the code supportable for only the website, and not the actual app. I&#39;m a beginner myself so I don&#39;t know much but I think that&#39;s the problem here.","title":"Allow notifications Android webview","body":"<p>Not sure I can be much help but you may have made the code supportable for only the website, and not the actual app. I'm a beginner myself so I don't know much but I think that's the problem here.</p>\n"}],"owner":{"account_id":17184015,"reputation":197,"user_id":12438977,"display_name":"ElonMuskofBadIdeas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2493,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69171689,"answer_count":3,"score":5,"last_activity_date":1633534490,"creation_date":1630949247,"question_id":69078346,"body_markdown":"\r\n\r\n**Context**\r\nI&#39;m trying to add push notifications that come from my website.\r\nMy code:  \r\n\r\n- MainActivity.java\r\n\r\n```java\r\npackage com.example.neurofinance;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.TargetApi;\r\nimport android.content.Context;\r\nimport android.net.http.SslError;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.View;\r\nimport android.webkit.JavascriptInterface;\r\nimport android.webkit.SslErrorHandler;\r\nimport android.webkit.WebResourceRequest;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\n\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public class WebAppInterface {\r\n        Context mContext;\r\n\r\n        /** Instantiate the interface and set the context */\r\n        WebAppInterface(Context c) {\r\n            mContext = c;\r\n        }\r\n\r\n        /** Show a toast from the web page */\r\n        @JavascriptInterface\r\n        public void showToast(String toast) {\r\n            Toast.makeText(mContext, toast, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        this.getWindow().getDecorView().setSystemUiVisibility(\r\n\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n\r\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\r\n\r\n\r\n\r\n        WebView webView = findViewById(R.id.webView);\r\n        webView.addJavascriptInterface(new WebAppInterface(this), &quot;Android&quot;);\r\n        \r\n        webView.getSettings().setDomStorageEnabled(true);\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n\r\n\r\n\r\n        webView.getSettings().setUseWideViewPort(true);//setting wide view\r\n        webView.getSettings().setLoadWithOverviewMode(true);//setting default zoomed out view\r\n        webView.setInitialScale(1);\r\n        webView.getSettings().setBuiltInZoomControls(true);//setting zoom controls\r\n\r\n        webView.loadUrl(&quot;www.URL.com&quot;);\r\n        \r\n\r\n        WebViewClient webViewClient = new WebViewClient() {\r\n\r\n            @SuppressWarnings(&quot;deprecation&quot;) @Override\r\n\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\r\n                view.loadUrl(url);\r\n\r\n                return true;\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onReceivedSslError (WebView view, SslErrorHandler handler, SslError error) {\r\n                handler.proceed();\r\n            }\r\n\r\n            @TargetApi(Build.VERSION_CODES.N) @Override\r\n\r\n            public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n\r\n                view.loadUrl(request.getUrl().toString());\r\n\r\n                return true;\r\n\r\n            }\r\n        };\r\n\r\n        webView.setWebViewClient(webViewClient);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= 21)\r\n            webView.getSettings().setMixedContentMode( WebSettings.MIXED_CONTENT_ALWAYS_ALLOW );\r\n    }\r\n}\r\n```\r\n\r\n- AndroidManifest.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.neurofinance&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n- activity_main.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**Problem**  \r\nI tried code from this [post](https://stackoverflow.com/a/59282866/12438977) but it did not help.\r\n\r\nHowever, I think that I should allow notifications somewhere. I tried to open my website in a browser and it actually asks the permission while my app does not. (left: browser, right: webview)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lH5v6.jpg","title":"Allow notifications Android webview","body":"<p><strong>Context</strong>\nI'm trying to add push notifications that come from my website.\nMy code:</p>\n<ul>\n<li>MainActivity.java</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.neurofinance;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.TargetApi;\nimport android.content.Context;\nimport android.net.http.SslError;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.View;\nimport android.webkit.JavascriptInterface;\nimport android.webkit.SslErrorHandler;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\n\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    public class WebAppInterface {\n        Context mContext;\n\n        /** Instantiate the interface and set the context */\n        WebAppInterface(Context c) {\n            mContext = c;\n        }\n\n        /** Show a toast from the web page */\n        @JavascriptInterface\n        public void showToast(String toast) {\n            Toast.makeText(mContext, toast, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        return true;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        this.getWindow().getDecorView().setSystemUiVisibility(\n\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\n\n\n\n        WebView webView = findViewById(R.id.webView);\n        webView.addJavascriptInterface(new WebAppInterface(this), &quot;Android&quot;);\n        \n        webView.getSettings().setDomStorageEnabled(true);\n\n        webView.getSettings().setJavaScriptEnabled(true);\n\n\n\n        webView.getSettings().setUseWideViewPort(true);//setting wide view\n        webView.getSettings().setLoadWithOverviewMode(true);//setting default zoomed out view\n        webView.setInitialScale(1);\n        webView.getSettings().setBuiltInZoomControls(true);//setting zoom controls\n\n        webView.loadUrl(&quot;www.URL.com&quot;);\n        \n\n        WebViewClient webViewClient = new WebViewClient() {\n\n            @SuppressWarnings(&quot;deprecation&quot;) @Override\n\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n                view.loadUrl(url);\n\n                return true;\n\n            }\n\n            @Override\n            public void onReceivedSslError (WebView view, SslErrorHandler handler, SslError error) {\n                handler.proceed();\n            }\n\n            @TargetApi(Build.VERSION_CODES.N) @Override\n\n            public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n\n                view.loadUrl(request.getUrl().toString());\n\n                return true;\n\n            }\n        };\n\n        webView.setWebViewClient(webViewClient);\n\n        if (Build.VERSION.SDK_INT &gt;= 21)\n            webView.getSettings().setMixedContentMode( WebSettings.MIXED_CONTENT_ALWAYS_ALLOW );\n    }\n}\n</code></pre>\n<ul>\n<li>AndroidManifest.xml</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.neurofinance&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<ul>\n<li>activity_main.xml</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Problem</strong><br />\nI tried code from this <a href=\"https://stackoverflow.com/a/59282866/12438977\">post</a> but it did not help.</p>\n<p>However, I think that I should allow notifications somewhere. I tried to open my website in a browser and it actually asks the permission while my app does not. (left: browser, right: webview)</p>\n<p><a href=\"https://i.stack.imgur.com/lH5v6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lH5v6.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1310712067,"post_id":6703466,"comment_id":7934768,"body_markdown":"What *kind* of test are you talking about? With JUnit all tests are executed in the same JVM, so there wouldn&#39;t be a special need to pass *vm arguments to every test*...","body":"What <i>kind</i> of test are you talking about? With JUnit all tests are executed in the same JVM, so there wouldn&#39;t be a special need to pass <i>vm arguments to every test</i>..."}],"answers":[{"tags":[],"owner":{"account_id":242656,"reputation":26086,"user_id":514316,"accept_rate":80,"display_name":"TheOneTeam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310711981,"creation_date":1310711981,"answer_id":6703525,"question_id":6703466,"body_markdown":"Eclipse have already a built-in JUnit for you.\r\n\r\nYou can use JUnit to run different parameters on your main program.\r\n\r\n","title":"Eclipse - passing VM parameter to every test in the project","body":"<p>Eclipse have already a built-in JUnit for you.</p>\n\n<p>You can use JUnit to run different parameters on your main program.</p>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1310715518,"creation_date":1310715518,"answer_id":6703944,"question_id":6703466,"body_markdown":"Run your test once, this creates a run configuration.\r\n\r\nRun-&gt; Run Configurations -&gt; JUnit, select your run configuration, then you have an arguments tab to specify JVM or program arguments.\r\n\r\nYou can then duplicate this run configuration to use for other tests. I&#39;m not aware of any way to make a default setting to be applied to all future test launches.","title":"Eclipse - passing VM parameter to every test in the project","body":"<p>Run your test once, this creates a run configuration.</p>\n\n<p>Run-> Run Configurations -> JUnit, select your run configuration, then you have an arguments tab to specify JVM or program arguments.</p>\n\n<p>You can then duplicate this run configuration to use for other tests. I'm not aware of any way to make a default setting to be applied to all future test launches.</p>\n"},{"tags":[],"owner":{"account_id":440398,"reputation":3039,"user_id":829941,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1496947119,"creation_date":1310721573,"answer_id":6704987,"question_id":6703466,"body_markdown":"We change the JRE Configuration in Eclipse (Preferences&gt;Java&gt;Installed JREs). There you can set default VM Arguments which are used for anything you run with that JRE.\r\n\r\nNow simply configure your project to use this JRE (Java Build Path) and you should be on the right way.\r\n\r\n[![Edit JRE - Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MW6LX.png","title":"Eclipse - passing VM parameter to every test in the project","body":"<p>We change the JRE Configuration in Eclipse (Preferences>Java>Installed JREs). There you can set default VM Arguments which are used for anything you run with that JRE.</p>\n\n<p>Now simply configure your project to use this JRE (Java Build Path) and you should be on the right way.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MW6LX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MW6LX.png\" alt=\"Edit JRE - Eclipse\"></a></p>\n"},{"tags":[],"owner":{"account_id":160026,"reputation":8395,"user_id":379779,"accept_rate":57,"display_name":"zawhtut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310722800,"creation_date":1310722800,"answer_id":6705200,"question_id":6703466,"body_markdown":"I think you are using &quot;Program Argument&quot; instead of &quot;VM argument&quot; now. If you use VM argument it&#39;s mean globally applied to all of your tests.","title":"Eclipse - passing VM parameter to every test in the project","body":"<p>I think you are using \"Program Argument\" instead of \"VM argument\" now. If you use VM argument it's mean globally applied to all of your tests.</p>\n"}],"owner":{"account_id":141485,"reputation":7515,"user_id":739927,"accept_rate":88,"display_name":"Jarek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14211,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":6704987,"answer_count":4,"score":10,"last_activity_date":1633533422,"creation_date":1310711497,"question_id":6703466,"body_markdown":"I need to pass a VM parameter to every test that is run in the project. Setting this manually doesn&#39;t seem to be the most convenient solution, so is there any possibility to pass the parameter to every test automatically.\r\n\r\nThank you for help.","title":"Eclipse - passing VM parameter to every test in the project","body":"<p>I need to pass a VM parameter to every test that is run in the project. Setting this manually doesn't seem to be the most convenient solution, so is there any possibility to pass the parameter to every test automatically.</p>\n\n<p>Thank you for help.</p>\n"},{"tags":["java","android","api","google-maps"],"comments":[{"owner":{"account_id":11516395,"reputation":545,"user_id":8439650,"accept_rate":35,"display_name":"kinza"},"score":0,"creation_date":1528279551,"post_id":44146016,"comment_id":88443737,"body_markdown":"hey.. any update on this?","body":"hey.. any update on this?"}],"answers":[{"tags":[],"owner":{"account_id":10551132,"reputation":768,"user_id":7773813,"display_name":"Sidharth Anil"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633533410,"creation_date":1495601686,"answer_id":44149262,"question_id":44146016,"body_markdown":"Do mMap.animateCamera(...) instead of mMap.moveCamera(..)\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n    \r\n        mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\r\n        // Add a marker in Uman and move the camera\r\n        LatLng uman = new LatLng(48.754683, 30.216339 );\r\n        mMap.addMarker(new MarkerOptions().position(uman).title(&quot;Home Town&quot;));\r\n        mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(uman, 10.0F));\r\n    }","title":"Zooming Animation in Google Maps","body":"<p>Do mMap.animateCamera(...) instead of mMap.moveCamera(..)</p>\n<pre><code>@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n\n    mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\n    // Add a marker in Uman and move the camera\n    LatLng uman = new LatLng(48.754683, 30.216339 );\n    mMap.addMarker(new MarkerOptions().position(uman).title(&quot;Home Town&quot;));\n    mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(uman, 10.0F));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114917,"reputation":43,"user_id":7473924,"display_name":"Bala"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501454630,"creation_date":1501454630,"answer_id":45405425,"question_id":44146016,"body_markdown":"Try this ....\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\r\n        // Add a marker in Uman and move the camera\r\n        LatLng uman = new LatLng(48.754683, 30.216339 );\r\n        mMap.addMarker(new MarkerOptions().position(uman).title(&quot;Home Town&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(uman, 10));\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            public void run() {                       \r\n                mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(uman, 16));\r\n            }\r\n        }, 1000);\r\n    }","title":"Zooming Animation in Google Maps","body":"<p>Try this ....</p>\n\n<pre><code>@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n\n    mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\n    // Add a marker in Uman and move the camera\n    LatLng uman = new LatLng(48.754683, 30.216339 );\n    mMap.addMarker(new MarkerOptions().position(uman).title(\"Home Town\"));\n    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(uman, 10));\n    Handler handler = new Handler();\n    handler.postDelayed(new Runnable() {\n        public void run() {                       \n            mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(uman, 16));\n        }\n    }, 1000);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6153574,"reputation":11374,"user_id":4797289,"display_name":"Rasoul Miri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537162371,"creation_date":1537162371,"answer_id":52361270,"question_id":44146016,"body_markdown":"for animation replace moveCamera to animateCamera \r\n\r\n**java** \r\n \r\n\r\n    map.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 15));\r\n\r\n**kotlin:**\r\n\r\n     val cameraUpdate = CameraUpdateFactory.newLatLngZoom(latLng, 15f)\r\n     map.animateCamera(cameraUpdate)","title":"Zooming Animation in Google Maps","body":"<p>for animation replace moveCamera to animateCamera </p>\n\n<p><strong>java</strong> </p>\n\n<pre><code>map.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 15));\n</code></pre>\n\n<p><strong>kotlin:</strong></p>\n\n<pre><code> val cameraUpdate = CameraUpdateFactory.newLatLngZoom(latLng, 15f)\n map.animateCamera(cameraUpdate)\n</code></pre>\n"}],"owner":{"account_id":10510722,"reputation":171,"user_id":7746529,"accept_rate":64,"display_name":"Eddie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7076,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1633533410,"creation_date":1495578304,"question_id":44146016,"body_markdown":"I am learning about `Google Maps API` on `Android` and I have just learned how to do this.\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\r\n        // Add a marker in Uman and move the camera\r\n        LatLng uman = new LatLng(48.754683, 30.216339 );\r\n        mMap.addMarker(new MarkerOptions().position(uman).title(&quot;Home Town&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(uman, 10));\r\n    }\r\n\r\nBut instead of the map loading directly into the marker, I want it to load fully zoomed out, and zoom in into the marker in an animation... \r\n\r\nReally hope that makes sense...","title":"Zooming Animation in Google Maps","body":"<p>I am learning about <code>Google Maps API</code> on <code>Android</code> and I have just learned how to do this.</p>\n\n<pre><code>@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n\n    mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\n    // Add a marker in Uman and move the camera\n    LatLng uman = new LatLng(48.754683, 30.216339 );\n    mMap.addMarker(new MarkerOptions().position(uman).title(\"Home Town\"));\n    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(uman, 10));\n}\n</code></pre>\n\n<p>But instead of the map loading directly into the marker, I want it to load fully zoomed out, and zoom in into the marker in an animation... </p>\n\n<p>Really hope that makes sense...</p>\n"},{"tags":["java","scala","perl","signature","public-key"],"answers":[{"tags":[],"owner":{"account_id":4213579,"reputation":85,"user_id":3450546,"accept_rate":89,"display_name":"user3450546"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633533075,"creation_date":1633533075,"answer_id":69468291,"question_id":69346031,"body_markdown":"I have found a solution. I achieved that by correcting the signature algorithm and its default values in Perl. Also you have to take care of the new line characters (\\n). The modified code for verification should look like this in Scala -\r\n\r\n        object Verify_Test extends App {\r\n    \r\n    \r\n      var privateKeyString = new String(Files.readAllBytes(Paths.get(&quot;private_key.pem&quot;)), Charset.defaultCharset)\r\n      privateKeyString = privateKeyString.replaceAll(&quot;\\\\n&quot;, &quot;&quot;).replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;)\r\n    \r\n      var publicKeyString = new String(Files.readAllBytes(Paths.get(&quot;public_key.pem&quot;)), Charset.defaultCharset)\r\n      publicKeyString = publicKeyString.replaceAll(&quot;\\\\n&quot;, &quot;&quot;).replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;)\r\n    \r\n      val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n    \r\n      val encodedPrivateKeySpec = new PKCS8EncodedKeySpec(Base64.decodeBase64(privateKeyString))\r\n      val privateKey = keyFactory.generatePrivate(encodedPrivateKeySpec)\r\n    \r\n      val encodedPublicKeySpec = new X509EncodedKeySpec(Base64.decodeBase64(publicKeyString))\r\n      val publicKey = keyFactory.generatePublic(encodedPublicKeySpec)\r\n    \r\n      var encodedSignatureVale = new String(Files.readAllBytes(Paths.get(&quot;hashedSignature&quot;)), Charset.defaultCharset)\r\n      encodedSignatureVale = encodedSignatureVale.replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\r\n      println(encodedSignatureVale)\r\n    \r\n      var actualValue = new String(Files.readAllBytes(Paths.get(&quot;original data&quot;)), Charset.defaultCharset)\r\n      //actualValue = actualValue.replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\r\n      println(actualValue)\r\n    \r\n      val signature = Signature.getInstance(&quot;SHA256withRSA&quot;)\r\n      //signature.initSign(privateKey)\r\n      //signature.update(&quot;Hello, World\\n&quot;.getBytes(&quot;UTF-8&quot;))\r\n      //val signatureValue = signature.sign\r\n      //val encodedSignatureVale = Base64.encodeBase64String(signatureValue)\r\n      //println(Base64.encodeBase64String(signatureValue))\r\n    \r\n    \r\n      signature.initVerify(publicKey)\r\n      // signature.update(&quot;Hello, World\\n&quot;.getBytes(&quot;UTF-8&quot;))\r\n      signature.update(actualValue.getBytes(&quot;UTF-8&quot;))\r\n      val bool = signature.verify(Base64.decodeBase64(encodedSignatureVale))\r\n      println(bool)\r\n      if (bool) println(&quot;Signature verified&quot;)\r\n      else println(&quot;Signature failed&quot;)}\r\n\r\nRemember I have taken both private and public key here. But we can use only public for verification. \r\n\r\nThe Perl code for signing will be - \r\n\r\n    use File::Slurp   qw(read_file);\r\n    use File::Slurp   qw(write_file);\r\n    use MIME::Base64  qw(encode_base64);\r\n    require Crypt::PK::RSA;\r\n    my $datatosign = read_file( &#39;payload.txt&#39;);\r\n    my $privatekey = Crypt::PK::RSA-&gt;new(&#39;private_key.pem&#39;);\r\n    \r\n    my $signature = $privatekey-&gt;rsa_sign_message($datatosign, &#39;SHA256&#39;, &#39;v1.5&#39;);\r\n    my $hash = encode_base64($signature, &#39;&#39;);\r\n    write_file(&#39;payload.hash&#39;, $hash);\r\n\r\n","title":"Migrate Public/Private Keys from one programming language to other for Signing Payload and verifying them","body":"<p>I have found a solution. I achieved that by correcting the signature algorithm and its default values in Perl. Also you have to take care of the new line characters (\\n). The modified code for verification should look like this in Scala -</p>\n<pre><code>    object Verify_Test extends App {\n\n\n  var privateKeyString = new String(Files.readAllBytes(Paths.get(&quot;private_key.pem&quot;)), Charset.defaultCharset)\n  privateKeyString = privateKeyString.replaceAll(&quot;\\\\n&quot;, &quot;&quot;).replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;)\n\n  var publicKeyString = new String(Files.readAllBytes(Paths.get(&quot;public_key.pem&quot;)), Charset.defaultCharset)\n  publicKeyString = publicKeyString.replaceAll(&quot;\\\\n&quot;, &quot;&quot;).replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;)\n\n  val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n\n  val encodedPrivateKeySpec = new PKCS8EncodedKeySpec(Base64.decodeBase64(privateKeyString))\n  val privateKey = keyFactory.generatePrivate(encodedPrivateKeySpec)\n\n  val encodedPublicKeySpec = new X509EncodedKeySpec(Base64.decodeBase64(publicKeyString))\n  val publicKey = keyFactory.generatePublic(encodedPublicKeySpec)\n\n  var encodedSignatureVale = new String(Files.readAllBytes(Paths.get(&quot;hashedSignature&quot;)), Charset.defaultCharset)\n  encodedSignatureVale = encodedSignatureVale.replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\n  println(encodedSignatureVale)\n\n  var actualValue = new String(Files.readAllBytes(Paths.get(&quot;original data&quot;)), Charset.defaultCharset)\n  //actualValue = actualValue.replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\n  println(actualValue)\n\n  val signature = Signature.getInstance(&quot;SHA256withRSA&quot;)\n  //signature.initSign(privateKey)\n  //signature.update(&quot;Hello, World\\n&quot;.getBytes(&quot;UTF-8&quot;))\n  //val signatureValue = signature.sign\n  //val encodedSignatureVale = Base64.encodeBase64String(signatureValue)\n  //println(Base64.encodeBase64String(signatureValue))\n\n\n  signature.initVerify(publicKey)\n  // signature.update(&quot;Hello, World\\n&quot;.getBytes(&quot;UTF-8&quot;))\n  signature.update(actualValue.getBytes(&quot;UTF-8&quot;))\n  val bool = signature.verify(Base64.decodeBase64(encodedSignatureVale))\n  println(bool)\n  if (bool) println(&quot;Signature verified&quot;)\n  else println(&quot;Signature failed&quot;)}\n</code></pre>\n<p>Remember I have taken both private and public key here. But we can use only public for verification.</p>\n<p>The Perl code for signing will be -</p>\n<pre><code>use File::Slurp   qw(read_file);\nuse File::Slurp   qw(write_file);\nuse MIME::Base64  qw(encode_base64);\nrequire Crypt::PK::RSA;\nmy $datatosign = read_file( 'payload.txt');\nmy $privatekey = Crypt::PK::RSA-&gt;new('private_key.pem');\n\nmy $signature = $privatekey-&gt;rsa_sign_message($datatosign, 'SHA256', 'v1.5');\nmy $hash = encode_base64($signature, '');\nwrite_file('payload.hash', $hash);\n</code></pre>\n"}],"owner":{"account_id":4213579,"reputation":85,"user_id":3450546,"accept_rate":89,"display_name":"user3450546"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633533075,"creation_date":1632743169,"question_id":69346031,"body_markdown":"I have one Perl Script that sign the payload with private key(id_rsa), generated in linux machine with SSH-Keygen or OpenSSL. After that I am taking the hash or the signed value, decoding it in base 64 and sending to my scala code. Here I send two things, the public key(id_rsa.pub) and the encoded signature. \r\n\r\nNow when I verify the signature it always give me false result.\r\nI have tried the opposite, like singing in Scala and verifying with Perl. It returned me false.\r\nI generated the keys in Scala and put them in Linux and done the signing and verifying part from Perl. It worked. It even worked when I imported both keys in scala and try to do the signing and verifying part both from scala.\r\n\r\nBut whenever I am mixing up these two like signing in Perl and verifying in Scala or signing in Scala and verifying in Perl, it is giving me a false result. \r\n\r\nMy question is is there any common format that I can use here. The code I am using is -\r\n\r\n    val fileOpened = Source.fromFile(&quot;file.hash&quot;) // taking the hashed value\r\n      val payload = fileOpened.getLines.mkString //file contents as string\r\n      val decodedString = Base64.getDecoder.decode(payload.getBytes) // Base64 Decoding of the hashed value\r\n      println(&quot;decodedString, the hash value was base64 encoded, so decoded it and took into bytes&quot;)\r\n      println(decodedString) //the hash value was base64 encoded, so decoded it and took into bytes\r\n    \r\n      val fileOpened1 = Source.fromFile(&quot;file&quot;)\r\n      val ComareElement = fileOpened1.getLines.mkString\r\n      val decodedString1 = new String(ComareElement).getBytes\r\n      println(&quot;decodedString1,  this is the main payload to compare, turned into bytes&quot;)\r\n      println(decodedString1) // this is the main payload to compare, turned into bytes\r\n    \r\n      //val keyPairGen = KeyPairGenerator.getInstance(&quot;RSA&quot;) //Creating KeyPair generator object\r\n      //keyPairGen.initialize(2048, new SecureRandom) //Initializing the key pair generator\r\n      //val pair: KeyPair = keyPairGen.generateKeyPair\r\n    \r\n      // save public key as id_rsa.pub\r\n      //val x509keySpec = new X509EncodedKeySpec(pair.getPublic.getEncoded)\r\n      //val publicKeyStream = new FileOutputStream(&quot;C:\\\\MyWorkSpace\\\\PayLoadSign\\\\src\\\\main\\\\scala\\\\id_rsa.pub&quot;)\r\n      //publicKeyStream.write(x509keySpec.getEncoded)\r\n    \r\n      // save private key as id_rsa\r\n      //val pkcs8KeySpec = new PKCS8EncodedKeySpec(pair.getPrivate.getEncoded)\r\n      //val privateKeyStream = new FileOutputStream(&quot;id_rsa&quot;)\r\n      //privateKeyStream.write(pkcs8KeySpec.getEncoded)\r\n    \r\n      val filePublicKey = new File(&quot;id_rsa.pub&quot;)\r\n      var inputStream = new FileInputStream(&quot;id_rsa.pub&quot;)\r\n      val encodedPublicKey: Array[Byte] = new Array[Byte](filePublicKey.length.toInt)\r\n      inputStream.read(encodedPublicKey)\r\n      inputStream.close()\r\n    \r\n      val filePrivateKey = new File(&quot;id_rsa&quot;)\r\n      inputStream = new FileInputStream(&quot;id_rsa&quot;)\r\n      val encodedPrivateKey: Array[Byte] = new Array[Byte](filePrivateKey.length.toInt)\r\n      println(&quot;The key is now &quot; +encodedPrivateKey)\r\n      inputStream.read(encodedPrivateKey)\r\n      inputStream.close()\r\n    \r\n      val keyFactory: KeyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n    \r\n      // public key\r\n      val publicKeySpec: X509EncodedKeySpec = new X509EncodedKeySpec(encodedPublicKey)\r\n      val publicKey: PublicKey = keyFactory.generatePublic(publicKeySpec)\r\n    \r\n      // private key\r\n      val privateKeySpec: PKCS8EncodedKeySpec = new PKCS8EncodedKeySpec(encodedPrivateKey)\r\n      val privateKey: PrivateKey = keyFactory.generatePrivate(privateKeySpec)\r\n    \r\n      new KeyPair(publicKey, privateKey)\r\n    \r\n      // val pair = keyPairGen.generateKeyPair //Generate the pair of keys\r\n      //val privKey = pair.getPrivate //Getting the privatekey from the key pair\r\n      //val pubKey = pair.getPublic  //Getting the PublicKey from the key pair\r\n      val privKey = privateKey //Getting the privatekey from the key pair\r\n      val pubKey = publicKey  //Getting the PublicKey from the key pair\r\n      println(&quot;Getting the privateKey from the key pair &quot; + privateKey)\r\n      println(&quot;Getting the publicKey from the key pair &quot; + publicKey)\r\n    \r\n      var writer = new PrintWriter(new File(&quot;C:\\\\MyWorkSpace\\\\PayLoadSign\\\\src\\\\main\\\\scala\\\\Private_Key&quot;))\r\n      writer.write(privKey.toString)\r\n      writer.close()\r\n      writer = new PrintWriter(new File(&quot;C:\\\\MyWorkSpace\\\\PayLoadSign\\\\src\\\\main\\\\scala\\\\Public_Key&quot;))\r\n      writer.write(pubKey.toString)\r\n      writer.close()\r\n    \r\n      val sign = Signature.getInstance(&quot;SHA256withRSA&quot;) //Creating a Signature object\r\n      //sign.initSign(privKey)\r\n      //val bytes = payload.getBytes //Initializing the signature\r\n      val bytes = decodedString\r\n      println(bytes)\r\n      //sign.update(bytes) //Adding data to the signature\r\n      //val signature = sign.sign //Calculating the signature\r\n      //val signedPayload = new BASE64Encoder().encode(signature)\r\n      //writer = new PrintWriter(new File(&quot;file.hash&quot;))\r\n      //writer.write(signedPayload)\r\n      //writer.close()\r\n    \r\n      println(bytes)\r\n      sign.initVerify(pubKey)  //Initializing the signature\r\n      sign.update(bytes)\r\n      //println(signature)\r\n      //val bool = sign.verify(new BASE64Decoder().decodeBuffer(signedPayload)) //Verifying the signature\r\n      //println(sign.verify(signature))\r\n      val bool = sign.verify(bytes)\r\n      println(bool)\r\n      if (bool) System.out.println(&quot;Signature verified&quot;)\r\n      else System.out.println(&quot;Signature failed&quot;)\r\n    }\r\n\r\n","title":"Migrate Public/Private Keys from one programming language to other for Signing Payload and verifying them","body":"<p>I have one Perl Script that sign the payload with private key(id_rsa), generated in linux machine with SSH-Keygen or OpenSSL. After that I am taking the hash or the signed value, decoding it in base 64 and sending to my scala code. Here I send two things, the public key(id_rsa.pub) and the encoded signature.</p>\n<p>Now when I verify the signature it always give me false result.\nI have tried the opposite, like singing in Scala and verifying with Perl. It returned me false.\nI generated the keys in Scala and put them in Linux and done the signing and verifying part from Perl. It worked. It even worked when I imported both keys in scala and try to do the signing and verifying part both from scala.</p>\n<p>But whenever I am mixing up these two like signing in Perl and verifying in Scala or signing in Scala and verifying in Perl, it is giving me a false result.</p>\n<p>My question is is there any common format that I can use here. The code I am using is -</p>\n<pre><code>val fileOpened = Source.fromFile(&quot;file.hash&quot;) // taking the hashed value\n  val payload = fileOpened.getLines.mkString //file contents as string\n  val decodedString = Base64.getDecoder.decode(payload.getBytes) // Base64 Decoding of the hashed value\n  println(&quot;decodedString, the hash value was base64 encoded, so decoded it and took into bytes&quot;)\n  println(decodedString) //the hash value was base64 encoded, so decoded it and took into bytes\n\n  val fileOpened1 = Source.fromFile(&quot;file&quot;)\n  val ComareElement = fileOpened1.getLines.mkString\n  val decodedString1 = new String(ComareElement).getBytes\n  println(&quot;decodedString1,  this is the main payload to compare, turned into bytes&quot;)\n  println(decodedString1) // this is the main payload to compare, turned into bytes\n\n  //val keyPairGen = KeyPairGenerator.getInstance(&quot;RSA&quot;) //Creating KeyPair generator object\n  //keyPairGen.initialize(2048, new SecureRandom) //Initializing the key pair generator\n  //val pair: KeyPair = keyPairGen.generateKeyPair\n\n  // save public key as id_rsa.pub\n  //val x509keySpec = new X509EncodedKeySpec(pair.getPublic.getEncoded)\n  //val publicKeyStream = new FileOutputStream(&quot;C:\\\\MyWorkSpace\\\\PayLoadSign\\\\src\\\\main\\\\scala\\\\id_rsa.pub&quot;)\n  //publicKeyStream.write(x509keySpec.getEncoded)\n\n  // save private key as id_rsa\n  //val pkcs8KeySpec = new PKCS8EncodedKeySpec(pair.getPrivate.getEncoded)\n  //val privateKeyStream = new FileOutputStream(&quot;id_rsa&quot;)\n  //privateKeyStream.write(pkcs8KeySpec.getEncoded)\n\n  val filePublicKey = new File(&quot;id_rsa.pub&quot;)\n  var inputStream = new FileInputStream(&quot;id_rsa.pub&quot;)\n  val encodedPublicKey: Array[Byte] = new Array[Byte](filePublicKey.length.toInt)\n  inputStream.read(encodedPublicKey)\n  inputStream.close()\n\n  val filePrivateKey = new File(&quot;id_rsa&quot;)\n  inputStream = new FileInputStream(&quot;id_rsa&quot;)\n  val encodedPrivateKey: Array[Byte] = new Array[Byte](filePrivateKey.length.toInt)\n  println(&quot;The key is now &quot; +encodedPrivateKey)\n  inputStream.read(encodedPrivateKey)\n  inputStream.close()\n\n  val keyFactory: KeyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n\n  // public key\n  val publicKeySpec: X509EncodedKeySpec = new X509EncodedKeySpec(encodedPublicKey)\n  val publicKey: PublicKey = keyFactory.generatePublic(publicKeySpec)\n\n  // private key\n  val privateKeySpec: PKCS8EncodedKeySpec = new PKCS8EncodedKeySpec(encodedPrivateKey)\n  val privateKey: PrivateKey = keyFactory.generatePrivate(privateKeySpec)\n\n  new KeyPair(publicKey, privateKey)\n\n  // val pair = keyPairGen.generateKeyPair //Generate the pair of keys\n  //val privKey = pair.getPrivate //Getting the privatekey from the key pair\n  //val pubKey = pair.getPublic  //Getting the PublicKey from the key pair\n  val privKey = privateKey //Getting the privatekey from the key pair\n  val pubKey = publicKey  //Getting the PublicKey from the key pair\n  println(&quot;Getting the privateKey from the key pair &quot; + privateKey)\n  println(&quot;Getting the publicKey from the key pair &quot; + publicKey)\n\n  var writer = new PrintWriter(new File(&quot;C:\\\\MyWorkSpace\\\\PayLoadSign\\\\src\\\\main\\\\scala\\\\Private_Key&quot;))\n  writer.write(privKey.toString)\n  writer.close()\n  writer = new PrintWriter(new File(&quot;C:\\\\MyWorkSpace\\\\PayLoadSign\\\\src\\\\main\\\\scala\\\\Public_Key&quot;))\n  writer.write(pubKey.toString)\n  writer.close()\n\n  val sign = Signature.getInstance(&quot;SHA256withRSA&quot;) //Creating a Signature object\n  //sign.initSign(privKey)\n  //val bytes = payload.getBytes //Initializing the signature\n  val bytes = decodedString\n  println(bytes)\n  //sign.update(bytes) //Adding data to the signature\n  //val signature = sign.sign //Calculating the signature\n  //val signedPayload = new BASE64Encoder().encode(signature)\n  //writer = new PrintWriter(new File(&quot;file.hash&quot;))\n  //writer.write(signedPayload)\n  //writer.close()\n\n  println(bytes)\n  sign.initVerify(pubKey)  //Initializing the signature\n  sign.update(bytes)\n  //println(signature)\n  //val bool = sign.verify(new BASE64Decoder().decodeBuffer(signedPayload)) //Verifying the signature\n  //println(sign.verify(signature))\n  val bool = sign.verify(bytes)\n  println(bool)\n  if (bool) System.out.println(&quot;Signature verified&quot;)\n  else System.out.println(&quot;Signature failed&quot;)\n}\n</code></pre>\n"},{"tags":["java","android","camera"],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1476207020,"creation_date":1476207020,"answer_id":39983168,"question_id":39965408,"body_markdown":"The basic formula is\r\n\r\n    FOV.x = 2 * atan(SENSOR_INFO_PHYSICAL_SIZE.x / (2 * LENS_FOCAL_LENGTH))\r\n    FOV.y = 2 * atan(SENSOR_INFO_PHYSICAL_SIZE.y / (2 * LENS_FOCAL_LENGTH))\r\n\r\nThis is an [approximation][1] assuming an ideal lens, etc, but generally good enough.\r\n\r\nThis calculates the FOV for the entire sensor pixel array.\r\n\r\nHowever, the actual field of view of a given output will be smaller; first, the readout area of the sensor is often smaller than the full pixel array, so instead of using PHYSICAL_SIZE directly, you need to first scale it by the ratio of the pixel array pixel count to the active array pixel count (SENSOR_INFO_ACTIVE_ARRAY_SIZE / SENSOR_INFO_PIXEL_ARRAY_SIZE).\r\n\r\nThen, the field of view depends on the aspect ratio of the output(s) you&#39;ve configured (a 16:9 FOV will be different than a 4:3 FOV), relative to the aspect ratio of the active array, and the aspect ratio of the crop region (digital zoom) if it&#39;s smaller than than the full active array.\r\n\r\nEach output buffer will be the result of minimally further cropping the cropRegion for the corresponding capture request to reach the correct output aspect ratio. (http://source.android.com/devices/camera/camera3_crop_reprocess.html has diagrams).\r\n\r\nSo let&#39;s say we have a sensor that has a pixel array of (120,120), and we have an active array rectangle of (10,10)-(110,110), so width/height of 100,100.\r\n\r\nWe configure two outputs, output A is (40,30), output B is (50, 50). Let&#39;s leave the crop region at the maximum (0,0)-(100,100).\r\n\r\nThe horizontal FOV for output A and B will be the same, because the maximum-area crop will result in both outputs using the full active array width:\r\n\r\n    output_physical_width = SENSOR_INFO_PHYSICAL_SIZE.x * ACTIVE_ARRAY.w / PIXEL_ARRAY.w\r\n    FOV_x = 2 * atan(output_physical_width / (2 * LENS_FOCAL_LENGTH))\r\n\r\nHowever, the vertical FOVs will differ - output A will only use 3/4 of the vertical space due to the aspect ratio mismatch:\r\n\r\n    active_array_aspect = ACTIVE_ARRAY.w / ACTIVE_ARRAY.h\r\n    output_a_aspect = output_a.w / output_a.h\r\n    output_b_aspect = output_b.w / output_b.h\r\n    output_a_physical_height = SENSOR_INFO_PHYSICAL_SIZE.y * ACTIVE_ARRAY.h / PIXEL_ARRAY.h * output_a_aspect / active_array_aspect\r\n    output_b_physical_height = SENSOR_INFO_PHYSICAL_SIZE.y * ACTIVE_ARRAY.h / PIXEL_ARRAY.h * output_b_aspect / active_array_aspect\r\n    FOV_a_y = 2 * atan(output_a_physical_height / (2 * LENS_FOCAL_LENGTH))\r\n    FOV_b_y = 2 * atan(output_b_physical_height / (2 * LENS_FOCAL_LENGTH))\r\n\r\nThe above works when the output aspect ratio is &lt;= active array aspect ratio (letterboxing); if that&#39;s not true, then the output horizontal dimension is reduced and the vertical dimension covers the whole active array (pillarboxing). The scale factor for the horizontal direction is then active_array_aspect/output_aspect.\r\n\r\nIf you want to calculate the FOV for a zoomed-in view, then substitute the crop region dimensions/aspect ratio for the active array dimensions/aspect ratio.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Angle_of_view#Calculating_a_camera.27s_angle_of_view","title":"What is the Android Camera2 API equivalent of Camera.Parameters.getHorizontalViewAngle() and Camera.Parameters.getVerticalViewAngle()?","body":"<p>The basic formula is</p>\n\n<pre><code>FOV.x = 2 * atan(SENSOR_INFO_PHYSICAL_SIZE.x / (2 * LENS_FOCAL_LENGTH))\nFOV.y = 2 * atan(SENSOR_INFO_PHYSICAL_SIZE.y / (2 * LENS_FOCAL_LENGTH))\n</code></pre>\n\n<p>This is an <a href=\"https://en.wikipedia.org/wiki/Angle_of_view#Calculating_a_camera.27s_angle_of_view\" rel=\"noreferrer\">approximation</a> assuming an ideal lens, etc, but generally good enough.</p>\n\n<p>This calculates the FOV for the entire sensor pixel array.</p>\n\n<p>However, the actual field of view of a given output will be smaller; first, the readout area of the sensor is often smaller than the full pixel array, so instead of using PHYSICAL_SIZE directly, you need to first scale it by the ratio of the pixel array pixel count to the active array pixel count (SENSOR_INFO_ACTIVE_ARRAY_SIZE / SENSOR_INFO_PIXEL_ARRAY_SIZE).</p>\n\n<p>Then, the field of view depends on the aspect ratio of the output(s) you've configured (a 16:9 FOV will be different than a 4:3 FOV), relative to the aspect ratio of the active array, and the aspect ratio of the crop region (digital zoom) if it's smaller than than the full active array.</p>\n\n<p>Each output buffer will be the result of minimally further cropping the cropRegion for the corresponding capture request to reach the correct output aspect ratio. (<a href=\"http://source.android.com/devices/camera/camera3_crop_reprocess.html\" rel=\"noreferrer\">http://source.android.com/devices/camera/camera3_crop_reprocess.html</a> has diagrams).</p>\n\n<p>So let's say we have a sensor that has a pixel array of (120,120), and we have an active array rectangle of (10,10)-(110,110), so width/height of 100,100.</p>\n\n<p>We configure two outputs, output A is (40,30), output B is (50, 50). Let's leave the crop region at the maximum (0,0)-(100,100).</p>\n\n<p>The horizontal FOV for output A and B will be the same, because the maximum-area crop will result in both outputs using the full active array width:</p>\n\n<pre><code>output_physical_width = SENSOR_INFO_PHYSICAL_SIZE.x * ACTIVE_ARRAY.w / PIXEL_ARRAY.w\nFOV_x = 2 * atan(output_physical_width / (2 * LENS_FOCAL_LENGTH))\n</code></pre>\n\n<p>However, the vertical FOVs will differ - output A will only use 3/4 of the vertical space due to the aspect ratio mismatch:</p>\n\n<pre><code>active_array_aspect = ACTIVE_ARRAY.w / ACTIVE_ARRAY.h\noutput_a_aspect = output_a.w / output_a.h\noutput_b_aspect = output_b.w / output_b.h\noutput_a_physical_height = SENSOR_INFO_PHYSICAL_SIZE.y * ACTIVE_ARRAY.h / PIXEL_ARRAY.h * output_a_aspect / active_array_aspect\noutput_b_physical_height = SENSOR_INFO_PHYSICAL_SIZE.y * ACTIVE_ARRAY.h / PIXEL_ARRAY.h * output_b_aspect / active_array_aspect\nFOV_a_y = 2 * atan(output_a_physical_height / (2 * LENS_FOCAL_LENGTH))\nFOV_b_y = 2 * atan(output_b_physical_height / (2 * LENS_FOCAL_LENGTH))\n</code></pre>\n\n<p>The above works when the output aspect ratio is &lt;= active array aspect ratio (letterboxing); if that's not true, then the output horizontal dimension is reduced and the vertical dimension covers the whole active array (pillarboxing). The scale factor for the horizontal direction is then active_array_aspect/output_aspect.</p>\n\n<p>If you want to calculate the FOV for a zoomed-in view, then substitute the crop region dimensions/aspect ratio for the active array dimensions/aspect ratio.</p>\n"},{"tags":[],"owner":{"account_id":195414,"reputation":3260,"user_id":1060382,"display_name":"Joel Teply"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1503589741,"creation_date":1503589741,"answer_id":45866014,"question_id":39965408,"body_markdown":"    private float getHFOV(CameraCharacteristics info) {\r\n        SizeF sensorSize = info.get(CameraCharacteristics.SENSOR_INFO_PHYSICAL_SIZE);\r\n        float[] focalLengths = info.get(CameraCharacteristics.LENS_INFO_AVAILABLE_FOCAL_LENGTHS);\r\n\r\n        if (focalLengths != null &amp;&amp; focalLengths.length &gt; 0) {\r\n            return (float) (2.0f * atan(sensorSize.getWidth() / (2.0f * focalLengths[0])));\r\n        }\r\n\r\n        return 1.1f;\r\n    }","title":"What is the Android Camera2 API equivalent of Camera.Parameters.getHorizontalViewAngle() and Camera.Parameters.getVerticalViewAngle()?","body":"<pre><code>private float getHFOV(CameraCharacteristics info) {\n    SizeF sensorSize = info.get(CameraCharacteristics.SENSOR_INFO_PHYSICAL_SIZE);\n    float[] focalLengths = info.get(CameraCharacteristics.LENS_INFO_AVAILABLE_FOCAL_LENGTHS);\n\n    if (focalLengths != null &amp;&amp; focalLengths.length &gt; 0) {\n        return (float) (2.0f * atan(sensorSize.getWidth() / (2.0f * focalLengths[0])));\n    }\n\n    return 1.1f;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":396912,"reputation":9397,"user_id":760746,"accept_rate":81,"display_name":"Nobody moving away from SE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633533070,"creation_date":1633532207,"answer_id":69468067,"question_id":39965408,"body_markdown":"While [Eddy Talvala&#39;s answer](https://stackoverflow.com/a/39983168/760746) gives you a solution, that is only viable for objects at a distance. However, as https://en.wikipedia.org/wiki/Angle_of_view#Macro_photography notes, for close subjects, you cannot assume the distance between lense and sensor to be equal to the focus distance. This distance cannot be queried but calculated `S_2 = S_1 * focal length / (S_1 - focal length)`\r\n\r\nIn this case `S_1` is the minimal focus distance which can be computed from `LENS_INFO_MINIMUM_FOCUS_DISTANCE` when `LENS_INFO_FOCUS_DISTANCE_CALIBRATION` is not `uncalibrated`, in which case `LENS_INFO_MINIMUM_FOCUS_DISTANCE` has a unit of diopter (`1/m`).\r\n\r\nSo the final formula becomes:\r\n\r\n```\r\n// focal length/physical size is in mm -&gt; convert from diopter (1/m) to mm\r\nS_1 = 1000 / LENS_INFO_MINIMUM_FOCUS_DISTANCE\r\nS_2 = LENS_FOCAL_LENGTH * S_1 / (S_1 - LENS_FOCAL_LENGTH)\r\nFOV.x = 2 * atan(SENSOR_INFO_PHYSICAL_SIZE.x / (2 * S_2))\r\n```\r\n\r\nI measured this and compared with the computation for a Mi 9T Pro with following results:\r\n\r\n| name | value  |\r\n|------|--------|\r\n| Focal Length | 4.77 mm |\r\n| Physical Sensor Size | 6,4x4,8 mm |\r\n| minimum focus distance | 10 diopter |\r\n| hyperfocal distance | 0.123 diopter |\r\n| **calculated FOV.y hyperfocal** | 53.4&#176; |\r\n| **calculated FOV.y macro** | 51.2&#176; |\r\n|||\r\n| Framesize (y) | 9.6 cm |\r\n| Distance | 10.2 cm |\r\n| **measured FOV** | 50.4&#176; |\r\n","title":"What is the Android Camera2 API equivalent of Camera.Parameters.getHorizontalViewAngle() and Camera.Parameters.getVerticalViewAngle()?","body":"<p>While <a href=\"https://stackoverflow.com/a/39983168/760746\">Eddy Talvala's answer</a> gives you a solution, that is only viable for objects at a distance. However, as <a href=\"https://en.wikipedia.org/wiki/Angle_of_view#Macro_photography\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Angle_of_view#Macro_photography</a> notes, for close subjects, you cannot assume the distance between lense and sensor to be equal to the focus distance. This distance cannot be queried but calculated <code>S_2 = S_1 * focal length / (S_1 - focal length)</code></p>\n<p>In this case <code>S_1</code> is the minimal focus distance which can be computed from <code>LENS_INFO_MINIMUM_FOCUS_DISTANCE</code> when <code>LENS_INFO_FOCUS_DISTANCE_CALIBRATION</code> is not <code>uncalibrated</code>, in which case <code>LENS_INFO_MINIMUM_FOCUS_DISTANCE</code> has a unit of diopter (<code>1/m</code>).</p>\n<p>So the final formula becomes:</p>\n<pre><code>// focal length/physical size is in mm -&gt; convert from diopter (1/m) to mm\nS_1 = 1000 / LENS_INFO_MINIMUM_FOCUS_DISTANCE\nS_2 = LENS_FOCAL_LENGTH * S_1 / (S_1 - LENS_FOCAL_LENGTH)\nFOV.x = 2 * atan(SENSOR_INFO_PHYSICAL_SIZE.x / (2 * S_2))\n</code></pre>\n<p>I measured this and compared with the computation for a Mi 9T Pro with following results:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>name</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Focal Length</td>\n<td>4.77 mm</td>\n</tr>\n<tr>\n<td>Physical Sensor Size</td>\n<td>6,4x4,8 mm</td>\n</tr>\n<tr>\n<td>minimum focus distance</td>\n<td>10 diopter</td>\n</tr>\n<tr>\n<td>hyperfocal distance</td>\n<td>0.123 diopter</td>\n</tr>\n<tr>\n<td><strong>calculated FOV.y hyperfocal</strong></td>\n<td>53.4°</td>\n</tr>\n<tr>\n<td><strong>calculated FOV.y macro</strong></td>\n<td>51.2°</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>Framesize (y)</td>\n<td>9.6 cm</td>\n</tr>\n<tr>\n<td>Distance</td>\n<td>10.2 cm</td>\n</tr>\n<tr>\n<td><strong>measured FOV</strong></td>\n<td>50.4°</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":300121,"reputation":517,"user_id":607091,"accept_rate":67,"display_name":"TonyTheJet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5961,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":39983168,"answer_count":3,"score":9,"last_activity_date":1633533070,"creation_date":1476127760,"question_id":39965408,"body_markdown":"It&#39;s all in the title, but in the now-deprecated Android Camera API, there were two methods: Camera.Parameters.getHorizontalViewAngle() and Camera.Parameters.getVerticalViewAngle().\r\n\r\nNow, with the current Camera2 API, it seems there is no equivalent to these in the docs. I&#39;m assuming that this is because FOV angles are more complicated and nuanced than a simple horizontal and vertical value, but I can&#39;t find any information online about how to calculate the total field of view for an Android device using the newer Camera2 API.","title":"What is the Android Camera2 API equivalent of Camera.Parameters.getHorizontalViewAngle() and Camera.Parameters.getVerticalViewAngle()?","body":"<p>It's all in the title, but in the now-deprecated Android Camera API, there were two methods: Camera.Parameters.getHorizontalViewAngle() and Camera.Parameters.getVerticalViewAngle().</p>\n\n<p>Now, with the current Camera2 API, it seems there is no equivalent to these in the docs. I'm assuming that this is because FOV angles are more complicated and nuanced than a simple horizontal and vertical value, but I can't find any information online about how to calculate the total field of view for an Android device using the newer Camera2 API.</p>\n"},{"tags":["java","android","statusbar","transparent"],"comments":[{"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"score":0,"creation_date":1602772694,"post_id":64372987,"comment_id":113831526,"body_markdown":"You&#39;d be better off posting code rather than images","body":"You&#39;d be better off posting code rather than images"},{"owner":{"account_id":16435301,"reputation":1,"user_id":11873038,"display_name":"DK_KHAN"},"score":0,"creation_date":1602833637,"post_id":64372987,"comment_id":113850326,"body_markdown":"Dear read my post i a have added both source code and image","body":"Dear read my post i a have added both source code and image"}],"owner":{"account_id":16435301,"reputation":1,"user_id":11873038,"display_name":"DK_KHAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633532978,"creation_date":1602769573,"question_id":64372987,"body_markdown":"Hello i have a transparent status bar in android and it&#39;s working in my old project and now i have new project and it is giving me warning for deprecated.\r\n\r\n**code to transparent status bar**\r\n\r\n    activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n    activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);                activity.getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN );\r\n    activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);\r\n    activity.getWindow().setNavigationBarColor(R.color.dark_background);\r\n    activity.getWindow().setStatusBarColor(Color.TRANSPARENT);\r\n\r\n**New project Configuration**\r\n\r\n    minSdkVersion 21\r\n    targetSdkVersion 30\r\n\r\n**Old project Configuration**\r\n\r\n    minSdkVersion 21\r\n    targetSdkVersion 29\r\n\r\n**I know it&#39;s just because of API 30 any one know how to remove warning**\r\n\r\n**Old Project SS**\r\n[1]: https://i.stack.imgur.com/2G0A9.png\r\n\r\n**New project SS**\r\n  [2]: https://i.stack.imgur.com/o2uCA.png","title":"Transparent status bar in API 30","body":"<p>Hello i have a transparent status bar in android and it's working in my old project and now i have new project and it is giving me warning for deprecated.</p>\n<p><strong>code to transparent status bar</strong></p>\n<pre><code>activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\nactivity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);                activity.getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN );\nactivity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);\nactivity.getWindow().setNavigationBarColor(R.color.dark_background);\nactivity.getWindow().setStatusBarColor(Color.TRANSPARENT);\n</code></pre>\n<p><strong>New project Configuration</strong></p>\n<pre><code>minSdkVersion 21\ntargetSdkVersion 30\n</code></pre>\n<p><strong>Old project Configuration</strong></p>\n<pre><code>minSdkVersion 21\ntargetSdkVersion 29\n</code></pre>\n<p><strong>I know it's just because of API 30 any one know how to remove warning</strong></p>\n<p><strong>Old Project SS</strong>\n[1]: <a href=\"https://i.stack.imgur.com/2G0A9.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2G0A9.png</a></p>\n<p><strong>New project SS</strong>\n[2]: <a href=\"https://i.stack.imgur.com/o2uCA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/o2uCA.png</a></p>\n"},{"tags":["java","andengine","bezier"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1413924751,"post_id":26481342,"comment_id":41625358,"body_markdown":"Don&#39;t add your additional information as an answer: put it here, in your question, and then delete the answer you made for it. At 670 reputation, you should know all the information goes in your question =)","body":"Don&#39;t add your additional information as an answer: put it here, in your question, and then delete the answer you made for it. At 670 reputation, you should know all the information goes in your question =)"},{"owner":{"account_id":966249,"reputation":3617,"user_id":989631,"accept_rate":70,"display_name":"Błażej"},"score":0,"creation_date":1413962239,"post_id":26481342,"comment_id":41635989,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I thought &quot;share your knowledge, Q&amp;A-style&quot; is proper way. It isn&#39;t?","body":"@Mike&#39;Pomax&#39;Kamermans I thought &quot;share your knowledge, Q&amp;A-style&quot; is proper way. It isn&#39;t?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1414141266,"post_id":26481342,"comment_id":41712854,"body_markdown":"not if it&#39;s your own question. all information pertaining to your question, unless you&#39;re literally answering your own question, goes in the original post, not as follow ups.","body":"not if it&#39;s your own question. all information pertaining to your question, unless you&#39;re literally answering your own question, goes in the original post, not as follow ups."},{"owner":{"account_id":966249,"reputation":3617,"user_id":989631,"accept_rate":70,"display_name":"Błażej"},"score":0,"creation_date":1414146408,"post_id":26481342,"comment_id":41715143,"body_markdown":"oo good to know. I will keep that in mind :)","body":"oo good to know. I will keep that in mind :)"}],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633532796,"creation_date":1413924705,"answer_id":26496071,"question_id":26481342,"body_markdown":"Simply calculate the quadratic curve coordinates (for position) and tangent (for orientation). The code is simple.\r\n\r\n    double[] getPoint(double[] x, double[] y, double t) {\r\n      double mt = 1-t;\r\n      return new double[]{\r\n        x[0]*mt*mt + 2*x[1]*mt*t + x[2]*t*t,\r\n        y[0]*mt*mt + 2*y[1]*mt*t + y[2]*t*t\r\n      };\r\n    }\r\n\r\n    double[] getTangent(double[] x, double[] y, double t) {\r\n      double mt = t-1; // note: NOT 1-t\r\n      return new double[]{\r\n        2*(x[0]*mt - x[1]*(2*t-1) + x[2]*t),\r\n        2*(y[0]*mt - y[1]*(2*t-1) + y[2]*t)\r\n      };\r\n    }\r\n\r\nPlace your &quot;thing&quot; at the coordinate you get from `getPoint`, and then if you need it to follow your path, rotate your thing so that its axis of travel lines up with the tangent you get out of `getTangent`. Done.","title":"How to calculate Quadratic Bezier Curve","body":"<p>Simply calculate the quadratic curve coordinates (for position) and tangent (for orientation). The code is simple.</p>\n<pre><code>double[] getPoint(double[] x, double[] y, double t) {\n  double mt = 1-t;\n  return new double[]{\n    x[0]*mt*mt + 2*x[1]*mt*t + x[2]*t*t,\n    y[0]*mt*mt + 2*y[1]*mt*t + y[2]*t*t\n  };\n}\n\ndouble[] getTangent(double[] x, double[] y, double t) {\n  double mt = t-1; // note: NOT 1-t\n  return new double[]{\n    2*(x[0]*mt - x[1]*(2*t-1) + x[2]*t),\n    2*(y[0]*mt - y[1]*(2*t-1) + y[2]*t)\n  };\n}\n</code></pre>\n<p>Place your &quot;thing&quot; at the coordinate you get from <code>getPoint</code>, and then if you need it to follow your path, rotate your thing so that its axis of travel lines up with the tangent you get out of <code>getTangent</code>. Done.</p>\n"}],"owner":{"account_id":966249,"reputation":3617,"user_id":989631,"accept_rate":70,"display_name":"Błażej"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633532796,"creation_date":1413877328,"question_id":26481342,"body_markdown":"I want to put some Sprites on path. I thought about calculate bezier path and then put sprites on calculated points. But I can&#39;t find in java method to do that.\r\n\r\n\r\n----------\r\n\r\nSOLVED\r\n------\r\n\r\nThis is my main method to draw line of images\r\n\r\n    private List&lt;Sprite&gt; drawStarLine(Point start, Point end, Point control1, Point control2, int starsCount,TextureRegion pTexture) {\r\n        ArrayList&lt;Sprite&gt; starsForReturn = new ArrayList&lt;Sprite&gt;();\r\n        ArrayList&lt;Point&gt; points = new ArrayList&lt;Point&gt;(generateBezierPath(start, end, control1, control2, starsCount));\r\n        for (int i = 0; i &lt; points.size(); i++) {\r\n            Point p = points.get(i);\r\n            Sprite s = new Sprite((float) p.getX(), (float) p.getY(), pTexture, activity.getVertexBufferObjectManager());\r\n            s.setScale(mainScaleX / 2);\r\n            starsForReturn.add(s);\r\n        }\r\n        return starsForReturn;\r\n    }\r\n\r\nThis is how I calculate bezier path\r\n\r\n    private List&lt;Point&gt; generateBezierPath(Point origin, Point destination, Point control1, Point control2, int segments) {\r\n        ArrayList&lt;Point&gt; pointsForReturn = new ArrayList&lt;Point&gt;();\r\n    \r\n        float t = 0;\r\n        for (int i = 0; i &lt; segments; i++) {\r\n            Point p = new Point();\r\n            p.setX(Math.pow(1 - t, 3) * origin.x + 3.0f * Math.pow(1 - t, 2) * t * control1.x + 3.0f * (1 - t) * t * t * control2.x + t * t * t * destination.x);\r\n            p.setY(Math.pow(1 - t, 3) * origin.y + 3.0f * Math.pow(1 - t, 2) * t * control1.y + 3.0f * (1 - t) * t * t * control2.y + t * t * t * destination.y);\r\n            t += 1.0f / segments;\r\n            pointsForReturn.add(p);\r\n        }\r\n        pointsForReturn.add(destination);\r\n        return pointsForReturn;\r\n    }\r\n\r\n","title":"How to calculate Quadratic Bezier Curve","body":"<p>I want to put some Sprites on path. I thought about calculate bezier path and then put sprites on calculated points. But I can't find in java method to do that.</p>\n\n<hr>\n\n<h2>SOLVED</h2>\n\n<p>This is my main method to draw line of images</p>\n\n<pre><code>private List&lt;Sprite&gt; drawStarLine(Point start, Point end, Point control1, Point control2, int starsCount,TextureRegion pTexture) {\n    ArrayList&lt;Sprite&gt; starsForReturn = new ArrayList&lt;Sprite&gt;();\n    ArrayList&lt;Point&gt; points = new ArrayList&lt;Point&gt;(generateBezierPath(start, end, control1, control2, starsCount));\n    for (int i = 0; i &lt; points.size(); i++) {\n        Point p = points.get(i);\n        Sprite s = new Sprite((float) p.getX(), (float) p.getY(), pTexture, activity.getVertexBufferObjectManager());\n        s.setScale(mainScaleX / 2);\n        starsForReturn.add(s);\n    }\n    return starsForReturn;\n}\n</code></pre>\n\n<p>This is how I calculate bezier path</p>\n\n<pre><code>private List&lt;Point&gt; generateBezierPath(Point origin, Point destination, Point control1, Point control2, int segments) {\n    ArrayList&lt;Point&gt; pointsForReturn = new ArrayList&lt;Point&gt;();\n\n    float t = 0;\n    for (int i = 0; i &lt; segments; i++) {\n        Point p = new Point();\n        p.setX(Math.pow(1 - t, 3) * origin.x + 3.0f * Math.pow(1 - t, 2) * t * control1.x + 3.0f * (1 - t) * t * t * control2.x + t * t * t * destination.x);\n        p.setY(Math.pow(1 - t, 3) * origin.y + 3.0f * Math.pow(1 - t, 2) * t * control1.y + 3.0f * (1 - t) * t * t * control2.y + t * t * t * destination.y);\n        t += 1.0f / segments;\n        pointsForReturn.add(p);\n    }\n    pointsForReturn.add(destination);\n    return pointsForReturn;\n}\n</code></pre>\n"},{"tags":["java","objectmapper","jsonconverter"],"comments":[{"owner":{"account_id":3689663,"reputation":2857,"user_id":3072566,"display_name":"litelite"},"score":0,"creation_date":1633531093,"post_id":69467619,"comment_id":122785060,"body_markdown":"I think your main problem is that you are trying to reuse a class for something that it was not meant for. Maybe the solution is to not reuse that class and create a new one that fit the need instead of forcing the hand of the framework. \n\nInteresting read for your problem: https://en.wikipedia.org/wiki/Liskov_substitution_principle","body":"I think your main problem is that you are trying to reuse a class for something that it was not meant for. Maybe the solution is to not reuse that class and create a new one that fit the need instead of forcing the hand of the framework.   Interesting read for your problem: <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Liskov_substitution_principle</a>"},{"owner":{"account_id":6753452,"reputation":115,"user_id":5202764,"display_name":"N.Rajal"},"score":0,"creation_date":1633591738,"post_id":69467619,"comment_id":122801547,"body_markdown":"Right, that was another thing that crossed my mind. However the APIs I&#39;m writing are part of a pre-existing controller and the classes are being used in other APIs, so I also want to maintain consistency.\nI&#39;m not sure if it would be a good idea to have same set of classes and subclasses (defining same real world object) with the difference being an annotation on top of them in the same controller.","body":"Right, that was another thing that crossed my mind. However the APIs I&#39;m writing are part of a pre-existing controller and the classes are being used in other APIs, so I also want to maintain consistency. I&#39;m not sure if it would be a good idea to have same set of classes and subclasses (defining same real world object) with the difference being an annotation on top of them in the same controller."}],"owner":{"account_id":6753452,"reputation":115,"user_id":5202764,"display_name":"N.Rajal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633532762,"creation_date":1633530428,"question_id":69467619,"body_markdown":"There is a class annotated with `@JsonIgnoreProperties` (base class) and some subclasses extending it. \r\nNow, in one Post API, the request body (a map) could be type of any of the subclasses. I have written code to create instance of base class based on an additional type property (using object mapper). But since my base and subclasses are annotated with `@JsonIgnoreProperties`, even if I&#39;m sending incorrect pair of properties and data, mapping is not failing.\r\n\r\nHow do I fail this? There are other APIs using this base and subclass and hence I don&#39;t want to tamper with the existing classes. \r\nIs there a way to nullify this ignore check or something during the switch case conversion? ","title":"Ignoring the @JsonIgnoreProperties check","body":"<p>There is a class annotated with <code>@JsonIgnoreProperties</code> (base class) and some subclasses extending it.\nNow, in one Post API, the request body (a map) could be type of any of the subclasses. I have written code to create instance of base class based on an additional type property (using object mapper). But since my base and subclasses are annotated with <code>@JsonIgnoreProperties</code>, even if I'm sending incorrect pair of properties and data, mapping is not failing.</p>\n<p>How do I fail this? There are other APIs using this base and subclass and hence I don't want to tamper with the existing classes.\nIs there a way to nullify this ignore check or something during the switch case conversion?</p>\n"},{"tags":["java","mapping","orika"],"answers":[{"tags":[],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633532668,"creation_date":1633532668,"answer_id":69468198,"question_id":69467636,"body_markdown":"        MapperFactory build = new \r\n        DefaultMapperFactory.Builder().build();\r\n        build.classMap(A.class, A.class)\r\n                .customize(\r\n                        new CustomMapper&lt;&gt;() {\r\n                            @Override\r\n                            public void mapAtoB(A source, A destination, MappingContext context) {\r\n                                b.setFilter(a.getFilter());\r\n                            }\r\n                        }\r\n                )\r\n                .byDefault()\r\n                .register();","title":"How to map Object to Object if source and destination is same","body":"<pre><code>    MapperFactory build = new \n    DefaultMapperFactory.Builder().build();\n    build.classMap(A.class, A.class)\n            .customize(\n                    new CustomMapper&lt;&gt;() {\n                        @Override\n                        public void mapAtoB(A source, A destination, MappingContext context) {\n                            b.setFilter(a.getFilter());\n                        }\n                    }\n            )\n            .byDefault()\n            .register();\n</code></pre>\n"}],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633532668,"creation_date":1633530495,"question_id":69467636,"body_markdown":"I have \r\n\r\n    public class A {\r\n        private String id;\r\n        private Object filter;\r\n    }\r\nI build Object A with data\r\n\r\n    {\r\n        &quot;id&quot;:1,\r\n        &quot;filter&quot; : {\r\n          &quot;ids&quot;:[1,2,3],\r\n          &quot;type&quot;: &quot;1&quot;\r\n        }\r\n    }\r\nAfter \r\n\r\n    A b = mapper.map(a, A.class)\r\nb.filter is empty. How to fix it?","title":"How to map Object to Object if source and destination is same","body":"<p>I have</p>\n<pre><code>public class A {\n    private String id;\n    private Object filter;\n}\n</code></pre>\n<p>I build Object A with data</p>\n<pre><code>{\n    &quot;id&quot;:1,\n    &quot;filter&quot; : {\n      &quot;ids&quot;:[1,2,3],\n      &quot;type&quot;: &quot;1&quot;\n    }\n}\n</code></pre>\n<p>After</p>\n<pre><code>A b = mapper.map(a, A.class)\n</code></pre>\n<p>b.filter is empty. How to fix it?</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1633470468,"post_id":69457400,"comment_id":122767501,"body_markdown":"This is pretty vague. In what way does your code not work? What happens when you run it?","body":"This is pretty vague. In what way does your code not work? What happens when you run it?"},{"owner":{"account_id":6122442,"reputation":67,"user_id":4775568,"display_name":"Brady Shober"},"score":0,"creation_date":1633470579,"post_id":69457400,"comment_id":122767525,"body_markdown":"@Kenster The data that returns from the fetchData method does not have lowercased field names.","body":"@Kenster The data that returns from the fetchData method does not have lowercased field names."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1633528586,"post_id":69457400,"comment_id":122783880,"body_markdown":"Maybe [this](https://stackoverflow.com/a/39417942/11713777) can help you.","body":"Maybe <a href=\"https://stackoverflow.com/a/39417942/11713777\">this</a> can help you."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633487555,"creation_date":1633487555,"answer_id":69459196,"question_id":69457400,"body_markdown":"A [`PropertyNamingStrategy`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/PropertyNamingStrategy.html) affects how JSON property names are mapped from methods and fields in a Java class. This code doesn&#39;t do any mapping to Java objects, it only deserializes JSON into a `JsonNode`. In that case, `PropertyNamingStrategy` doesn&#39;t apply, and the names are retained from the original JSON source.\r\n\r\n","title":"Jackson ObjectMappper Lowercase Strategy Not Working","body":"<p>A <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/PropertyNamingStrategy.html\" rel=\"nofollow noreferrer\"><code>PropertyNamingStrategy</code></a> affects how JSON property names are mapped from methods and fields in a Java class. This code doesn't do any mapping to Java objects, it only deserializes JSON into a <code>JsonNode</code>. In that case, <code>PropertyNamingStrategy</code> doesn't apply, and the names are retained from the original JSON source.</p>\n"},{"tags":[],"owner":{"account_id":6122442,"reputation":67,"user_id":4775568,"display_name":"Brady Shober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633532619,"creation_date":1633532619,"answer_id":69468186,"question_id":69457400,"body_markdown":"I was able to find the following gist which is working for me https://gist.github.com/stmcallister/92d0b4c2355a490ffed008cfbda69063\r\n\r\nThere&#39;s probably a better solution out there but this is perfect for my use case.","title":"Jackson ObjectMappper Lowercase Strategy Not Working","body":"<p>I was able to find the following gist which is working for me <a href=\"https://gist.github.com/stmcallister/92d0b4c2355a490ffed008cfbda69063\" rel=\"nofollow noreferrer\">https://gist.github.com/stmcallister/92d0b4c2355a490ffed008cfbda69063</a></p>\n<p>There's probably a better solution out there but this is perfect for my use case.</p>\n"}],"owner":{"account_id":6122442,"reputation":67,"user_id":4775568,"display_name":"Brady Shober"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633532619,"creation_date":1633468920,"question_id":69457400,"body_markdown":"I am writing a process that needs to pull JSON data from an API and provide it to another system that requires the field names to be completely lowercased. I have attempted to utilize the built in LowerCaseStrategy but this does not work. An example of what I have tried is:\r\n\r\n    package com.example\r\n\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.PropertyNamingStrategies;\r\n    \r\n    public class Example {\r\n       private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n       public Example(){\r\n          mapper.setPropertyNamingStrategy(new PropertyNamingStrategies.LowerCaseStrategy());\r\n       }\r\n    \r\n       public JsonNode fetchData(String url) throws MalformedURLException, IOException{\r\n          JsonNode data = mapper.readTree(new URL(url));\r\n          return data;\r\n       }\r\n    }\r\n\r\n","title":"Jackson ObjectMappper Lowercase Strategy Not Working","body":"<p>I am writing a process that needs to pull JSON data from an API and provide it to another system that requires the field names to be completely lowercased. I have attempted to utilize the built in LowerCaseStrategy but this does not work. An example of what I have tried is:</p>\n<pre><code>package com.example\n\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.PropertyNamingStrategies;\n\npublic class Example {\n   private static final ObjectMapper mapper = new ObjectMapper();\n\n   public Example(){\n      mapper.setPropertyNamingStrategy(new PropertyNamingStrategies.LowerCaseStrategy());\n   }\n\n   public JsonNode fetchData(String url) throws MalformedURLException, IOException{\n      JsonNode data = mapper.readTree(new URL(url));\n      return data;\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1633106329,"post_id":69408889,"comment_id":122680708,"body_markdown":"Please specify IntelliJ IDEA, Tomcat and JDK versions you are using and share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please specify IntelliJ IDEA, Tomcat and JDK versions you are using and share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1633359178,"post_id":69408889,"comment_id":122732325,"body_markdown":"@CrazyCoder\nThanks for the great idea. In an attempt to create a minimal example, I created a clean project and created index.html and everything works there. Now I just have to copy everything step by step into a new project until I run into the same error. Then it will be clear at what step the problem arose.","body":"@CrazyCoder Thanks for the great idea. In an attempt to create a minimal example, I created a clean project and created index.html and everything works there. Now I just have to copy everything step by step into a new project until I run into the same error. Then it will be clear at what step the problem arose."}],"answers":[{"tags":[],"owner":{"account_id":22907420,"reputation":11,"user_id":17045265,"display_name":"Possible Panda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633105525,"creation_date":1633104502,"answer_id":69408931,"question_id":69408889,"body_markdown":"I&#39;m pretty sure all you have to do is to put this in your head!\r\n\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n\r\nHope it works!\r\n\r\nEDIT: I see you are already doing this. Do you have the newest version of HTML? If not, try updating itv\r\n","title":"The html page displays question marks instead of Russian letters","body":"<p>I'm pretty sure all you have to do is to put this in your head!</p>\n<pre><code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n</code></pre>\n<p>Hope it works!</p>\n<p>EDIT: I see you are already doing this. Do you have the newest version of HTML? If not, try updating itv</p>\n"}],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633532286,"creation_date":1633104308,"question_id":69408889,"body_markdown":"please help if anyone knows what the matter is. I have already tried everything I found on the Internet, but so far to no avail. For some reason, when launching a project in Idea, question marks are displayed on the page instead of Russian letters\r\n\r\nWhat I&#39;ve already tried:\r\n\r\n 1. I made sure that the windows console responds to the chcp request with 866\r\n    I read that it is better to set this value\r\n 2. Also in the regional standard settings, in the tab additionally, I clicked the **&quot;change \r\n    system language&quot;** button and there unchecked the **&quot;Beta version: Use Unicode (UTF-8) to \r\n    support the language worldwide.&quot;** Save and reboot.\r\n 3. In files **idea.exe.vmoptions** and **idea64.exe.vmoptions** Added the following line: - \r\n    **Dfile.encoding = UTF-8**\r\n    Also added it in the editor **Idea&gt; EditConfigurations&gt; Tomcat&gt; VM options**. Also added it in \r\n    the editor **Idea&gt; Help&gt; Edit Custom VM Options**\r\n 4. Also in the **File&gt; Settings&gt; FileEncodings** settings set **Global Encoding** to UTF-8\r\n    **Project Encoding** to UTF-8 **Default encoding for project files**: UTF-8 Create UTF-8 files \r\n    with NO BOOM\r\n 5. In the lower right corner of the editor, I also set UTF-8\r\n 6. I put the meta tag in the header in this format. `&lt;meta content=&#39;text/html; charset=UTF-8&#39; http-equiv=&#39;Content-Type&#39;/&gt;`\r\n 7. I also resave my index.html just in case using a notepad with UTF-8 encoding\r\n 8. I launched the index.html page itself by double clicking in the folder and it normally \r\n    displays the button with the Russian language, as well as the test text with the Russian \r\n    language. however, when I click the run Tomcat button in idea for some reason, the page shows \r\n    question marks instead of Russian letters\r\n 9. Configured tomcat as said here: https://www.baeldung.com/tomcat-utf-8\r\n\r\n    And yet, for some reason, when launching the project through idea, Content-type is shown in \r\n    responce-headers: text / html; charset = ISO-8859-1\r\n\r\nIntellIJ Idea v2020.1\r\nMavenVersion v3.6.1\r\nProject SDK 1.8 Java version\r\nTomCat v9.0.48\r\n\r\nDependencies\r\nspring-core \t\t5.2.16.RELEASE\r\nspring-context\t\t5.2.16.RELEASE\r\nspring-web\t\t    5.2.16.RELEASE\r\nspring-webmvc\t\t5.2.16.RELEASE\r\nthymeleaf-spring5\t3.0.12.RELEASE\r\njavax.servlet-api\t4.0.1\r\n\r\nI found a moment in which the Russian language on the site page turns from letters to question marks.\r\n\r\nAt first everything opens normally when mine\r\nindex is in the directory\r\nwebapp&gt; Index\r\nThen when I create two settings classes\r\nSpringConfig implements WebMvcConfigurer\r\nand\r\nSpringMvcDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer\r\nand put my index under the path webapp&gt; WEB-INF&gt; index.html\r\nstarts to be called through MainController.\r\nFrom this moment on, Russian letters are no longer recognized.\r\n\r\nHere is the minimum code from which the error begins to appear.\r\n\r\n**MainController**\r\n\r\n    package ru.shop.three_d_print.сontrollers;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    @Controller\r\n    public class MainController\r\n    {\r\n        @GetMapping\r\n        public String index()\r\n        {\r\n            System.out.println(&quot;called&quot;);\r\n            return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\n**SpringConfig**\r\n\r\n    package ru.shop.three_d_print.config;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.thymeleaf.spring5.SpringTemplateEngine;\r\n    import org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver;\r\n    import org.thymeleaf.spring5.view.ThymeleafViewResolver;\r\n    \r\n    @Configuration\r\n    @ComponentScan(&quot;ru.shop.three_d_print&quot;)\r\n    @EnableWebMvc\r\n    public class SpringConfig implements WebMvcConfigurer\r\n    {\r\n        private final ApplicationContext applicationContext;\r\n    \r\n        @Autowired\r\n        public SpringConfig(ApplicationContext applicationContext)\r\n        {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry)\r\n        {\r\n            registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void configureViewResolvers(ViewResolverRegistry registry)\r\n        {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine());\r\n            registry.viewResolver(resolver);\r\n        }\r\n    \r\n        @Bean\r\n        public SpringTemplateEngine templateEngine()\r\n        {\r\n            SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n            templateEngine.setTemplateResolver(templateResolver());\r\n            templateEngine.setEnableSpringELCompiler(true);\r\n            return templateEngine;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringResourceTemplateResolver templateResolver()\r\n        {\r\n            SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n            templateResolver.setApplicationContext(applicationContext);\r\n            templateResolver.setPrefix(&quot;/WEB-INF/&quot;);\r\n            templateResolver.setSuffix(&quot;.html&quot;);\r\n            return templateResolver;\r\n        }\r\n    }\r\n\r\n**SpringMvcDispatcherServletInitializer**\r\n\r\n    package ru.shop.three_d_print.config;\r\n    import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n    public class SpringMvcDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer\r\n    {\r\n        @Override\r\n        protected Class&lt;?&gt;[] getRootConfigClasses()\r\n        {\r\n            return null;\r\n        }\r\n        @Override\r\n        protected Class&lt;?&gt;[] getServletConfigClasses()\r\n        {\r\n            return new Class[] {SpringConfig.class};\r\n        }\r\n        @Override\r\n        protected String[] getServletMappings()\r\n        {\r\n            return new String[] {&quot;/&quot;};\r\n        }\r\n    }\r\n\r\n**Index**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;ru&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta content=&#39;text/html; charset=UTF-8&#39; http-equiv=&#39;Content-Type&#39;/&gt;\r\n        &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        Sentence in english.\r\n        Предложение на русском.\r\n        build 3 inner\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAnd result:\r\n\r\nSentence in english. ?????&#181;???&#187;???&#182;?&#181;?????&#181; ???&#176; ??????????????. build 3 inner","title":"The html page displays question marks instead of Russian letters","body":"<p>please help if anyone knows what the matter is. I have already tried everything I found on the Internet, but so far to no avail. For some reason, when launching a project in Idea, question marks are displayed on the page instead of Russian letters</p>\n<p>What I've already tried:</p>\n<ol>\n<li><p>I made sure that the windows console responds to the chcp request with 866\nI read that it is better to set this value</p>\n</li>\n<li><p>Also in the regional standard settings, in the tab additionally, I clicked the <strong>&quot;change\nsystem language&quot;</strong> button and there unchecked the <strong>&quot;Beta version: Use Unicode (UTF-8) to\nsupport the language worldwide.&quot;</strong> Save and reboot.</p>\n</li>\n<li><p>In files <strong>idea.exe.vmoptions</strong> and <strong>idea64.exe.vmoptions</strong> Added the following line: -\n<strong>Dfile.encoding = UTF-8</strong>\nAlso added it in the editor <strong>Idea&gt; EditConfigurations&gt; Tomcat&gt; VM options</strong>. Also added it in\nthe editor <strong>Idea&gt; Help&gt; Edit Custom VM Options</strong></p>\n</li>\n<li><p>Also in the <strong>File&gt; Settings&gt; FileEncodings</strong> settings set <strong>Global Encoding</strong> to UTF-8\n<strong>Project Encoding</strong> to UTF-8 <strong>Default encoding for project files</strong>: UTF-8 Create UTF-8 files\nwith NO BOOM</p>\n</li>\n<li><p>In the lower right corner of the editor, I also set UTF-8</p>\n</li>\n<li><p>I put the meta tag in the header in this format. <code>&lt;meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/&gt;</code></p>\n</li>\n<li><p>I also resave my index.html just in case using a notepad with UTF-8 encoding</p>\n</li>\n<li><p>I launched the index.html page itself by double clicking in the folder and it normally\ndisplays the button with the Russian language, as well as the test text with the Russian\nlanguage. however, when I click the run Tomcat button in idea for some reason, the page shows\nquestion marks instead of Russian letters</p>\n</li>\n<li><p>Configured tomcat as said here: <a href=\"https://www.baeldung.com/tomcat-utf-8\" rel=\"nofollow noreferrer\">https://www.baeldung.com/tomcat-utf-8</a></p>\n<p>And yet, for some reason, when launching the project through idea, Content-type is shown in\nresponce-headers: text / html; charset = ISO-8859-1</p>\n</li>\n</ol>\n<p>IntellIJ Idea v2020.1\nMavenVersion v3.6.1\nProject SDK 1.8 Java version\nTomCat v9.0.48</p>\n<p>Dependencies\nspring-core         5.2.16.RELEASE\nspring-context      5.2.16.RELEASE\nspring-web          5.2.16.RELEASE\nspring-webmvc       5.2.16.RELEASE\nthymeleaf-spring5   3.0.12.RELEASE\njavax.servlet-api   4.0.1</p>\n<p>I found a moment in which the Russian language on the site page turns from letters to question marks.</p>\n<p>At first everything opens normally when mine\nindex is in the directory\nwebapp&gt; Index\nThen when I create two settings classes\nSpringConfig implements WebMvcConfigurer\nand\nSpringMvcDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer\nand put my index under the path webapp&gt; WEB-INF&gt; index.html\nstarts to be called through MainController.\nFrom this moment on, Russian letters are no longer recognized.</p>\n<p>Here is the minimum code from which the error begins to appear.</p>\n<p><strong>MainController</strong></p>\n<pre><code>package ru.shop.three_d_print.сontrollers;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class MainController\n{\n    @GetMapping\n    public String index()\n    {\n        System.out.println(&quot;called&quot;);\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p><strong>SpringConfig</strong></p>\n<pre><code>package ru.shop.three_d_print.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\nimport org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver;\nimport org.thymeleaf.spring5.view.ThymeleafViewResolver;\n\n@Configuration\n@ComponentScan(&quot;ru.shop.three_d_print&quot;)\n@EnableWebMvc\npublic class SpringConfig implements WebMvcConfigurer\n{\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext)\n    {\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry)\n    {\n        registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry)\n    {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        registry.viewResolver(resolver);\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine()\n    {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setEnableSpringELCompiler(true);\n        return templateEngine;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver()\n    {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;/WEB-INF/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        return templateResolver;\n    }\n}\n</code></pre>\n<p><strong>SpringMvcDispatcherServletInitializer</strong></p>\n<pre><code>package ru.shop.three_d_print.config;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\npublic class SpringMvcDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer\n{\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses()\n    {\n        return null;\n    }\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses()\n    {\n        return new Class[] {SpringConfig.class};\n    }\n    @Override\n    protected String[] getServletMappings()\n    {\n        return new String[] {&quot;/&quot;};\n    }\n}\n</code></pre>\n<p><strong>Index</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;ru&quot;&gt;\n&lt;head&gt;\n    &lt;meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    Sentence in english.\n    Предложение на русском.\n    build 3 inner\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And result:</p>\n<p>Sentence in english. ?????µ???»???¶?µ?????µ ???° ??????????????. build 3 inner</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":0,"creation_date":1632896948,"post_id":69369870,"comment_id":122613088,"body_markdown":"Just to clarify, you mentioned IntelliJ, are you launching the build from IntelliJ? Does it work from a terminal? Thanks.","body":"Just to clarify, you mentioned IntelliJ, are you launching the build from IntelliJ? Does it work from a terminal? Thanks."},{"owner":{"account_id":16536196,"reputation":129,"user_id":11948161,"display_name":"Davi Bogo"},"score":0,"creation_date":1632913588,"post_id":69369870,"comment_id":122620161,"body_markdown":"Yes, I&#39;m lauching from IntelliJ, but I&#39;ve tested from my Linux terminal as well, same results","body":"Yes, I&#39;m lauching from IntelliJ, but I&#39;ve tested from my Linux terminal as well, same results"},{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":1,"creation_date":1632984835,"post_id":69369870,"comment_id":122641633,"body_markdown":"It looks like an issue with your env. I was able to build a project using the POM you posted above. Perhaps, try cleaning your Maven repo?","body":"It looks like an issue with your env. I was able to build a project using the POM you posted above. Perhaps, try cleaning your Maven repo?"},{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":0,"creation_date":1632988320,"post_id":69369870,"comment_id":122643067,"body_markdown":"btw, you probably don&#39;t need this dependency     ````&lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt;````","body":"btw, you probably don&#39;t need this dependency     <code>&lt;dependency&gt;       &lt;groupId&gt;org.apache.maven.plugins&lt;&#47;groupId&gt;       &lt;artifactId&gt;maven-failsafe-plugin&lt;&#47;artifactId&gt;       &lt;version&gt;3.0.0-M5&lt;&#47;version&gt;       &lt;type&gt;maven-plugin&lt;&#47;type&gt;     &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":16536196,"reputation":129,"user_id":11948161,"display_name":"Davi Bogo"},"score":0,"creation_date":1633002026,"post_id":69369870,"comment_id":122648590,"body_markdown":"I think my work computer just has a locked in env, cause every time I&#39;ve changed it, some minutes later when I would look for it, it has changed places for the previous one. Idk how, but this seems to be the issue.","body":"I think my work computer just has a locked in env, cause every time I&#39;ve changed it, some minutes later when I would look for it, it has changed places for the previous one. Idk how, but this seems to be the issue."}],"answers":[{"tags":[],"owner":{"account_id":16536196,"reputation":129,"user_id":11948161,"display_name":"Davi Bogo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633532278,"creation_date":1633532278,"answer_id":69468092,"question_id":69369870,"body_markdown":"I&#39;ve discovered why this was happening some days ago, I was using jabba to manage my java versions, but I forgot about it, so when I tried to update my java versions, as well as my JAVA_HOME, it wasn&#39;t updating, because I was doing the wrong way.\r\n\r\nLong history short, the problem was my java version and JAVA_HOME, I&#39;ve updated the correct way using jabba, and it worked!\r\n\r\nif you are running through the same problem I hope this helps","title":"BootstrapSessionListener not present When trying to run ./mvnw package","body":"<p>I've discovered why this was happening some days ago, I was using jabba to manage my java versions, but I forgot about it, so when I tried to update my java versions, as well as my JAVA_HOME, it wasn't updating, because I was doing the wrong way.</p>\n<p>Long history short, the problem was my java version and JAVA_HOME, I've updated the correct way using jabba, and it worked!</p>\n<p>if you are running through the same problem I hope this helps</p>\n"}],"owner":{"account_id":16536196,"reputation":129,"user_id":11948161,"display_name":"Davi Bogo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69468092,"answer_count":1,"score":0,"last_activity_date":1633532278,"creation_date":1632876601,"question_id":69369870,"body_markdown":"I&#39;m trying to run my Quarkus application or even create a jar.\r\nBut i&#39;m getting really frustrated since everytime I tried to change something the same error occurs.\r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.integral&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quero-reurb&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;properties&gt;\r\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n        &lt;maven.compiler.parameters&gt;true&lt;/maven.compiler.parameters&gt;\r\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;quarkus.platform.artifact-id&gt;quarkus-universe-bom&lt;/quarkus.platform.artifact-id&gt;\r\n        &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\r\n        &lt;quarkus.platform.version&gt;2.0.2.Final&lt;/quarkus.platform.version&gt;\r\n        &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-multipart&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-smallrye-opentracing&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-security-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-test-security&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n          &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n          &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n            &lt;extensions&gt;true&lt;/extensions&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;build&lt;/goal&gt;\r\n                  &lt;goal&gt;generate-code&lt;/goal&gt;\r\n                  &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;parameters&gt;${maven.compiler.parameters}&lt;/parameters&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemPropertyVariables&gt;\r\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n              &lt;/systemPropertyVariables&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;native&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;property&gt;\r\n              &lt;name&gt;native&lt;/name&gt;\r\n            &lt;/property&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;systemPropertyVariables&gt;\r\n                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                  &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n          &lt;properties&gt;\r\n            &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nAs you can see I&#39;m using Maven 3.8.1 and java 11, My IntelliJ is already configured at settings and module to use SDK 11 and my JAVA_HOME has been configured too with JDK 11.\r\n\r\nIt seems to be something with versions but I really thing I&#39;ve already updated everything in my application, so maybe I&#39;m letting something pass?\r\n\r\nThis is the error I&#39;m getting:\r\n\r\n    [INFO] Scanning for projects...\r\n    [WARNING] Error injecting: io.quarkus.maven.components.BootstrapSessionListener\r\n    java.lang.TypeNotPresentException: Type io.quarkus.maven.components.BootstrapSessionListener not present\r\n        at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:147)\r\n        at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\r\n        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at org.eclipse.sisu.bean.BeanScheduler$CycleActivator.onProvision (BeanScheduler.java:230)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:120)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get (ProviderToInternalFactoryAdapter.java:40)\r\n        at com.google.inject.internal.SingletonScope$1.get (SingletonScope.java:168)\r\n        at com.google.inject.internal.InternalFactoryToProviderAdapter.get (InternalFactoryToProviderAdapter.java:39)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n        at org.eclipse.sisu.wire.EntryListAdapter$ValueIterator.next (EntryListAdapter.java:111)\r\n        at java.util.AbstractCollection.addAll (AbstractCollection.java:343)\r\n        at org.apache.maven.DefaultMaven.getLifecycleParticipants (DefaultMaven.java:397)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:39)\r\n        at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:122)\r\n        at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:61)\r\n    Caused by: java.lang.UnsupportedClassVersionError: io/quarkus/maven/components/BootstrapSessionListener has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nEdit: I&#39;ve changed now to java 17 everywhere and getting the same error","title":"BootstrapSessionListener not present When trying to run ./mvnw package","body":"<p>I'm trying to run my Quarkus application or even create a jar.\nBut i'm getting really frustrated since everytime I tried to change something the same error occurs.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.integral&lt;/groupId&gt;\n  &lt;artifactId&gt;quero-reurb&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.parameters&gt;true&lt;/maven.compiler.parameters&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-universe-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.0.2.Final&lt;/quarkus.platform.version&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-multipart&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-smallrye-opentracing&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-security-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-test-security&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n      &lt;artifactId&gt;poi&lt;/artifactId&gt;\n      &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build&lt;/goal&gt;\n              &lt;goal&gt;generate-code&lt;/goal&gt;\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;parameters&gt;${maven.compiler.parameters}&lt;/parameters&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;systemPropertyVariables&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n          &lt;/systemPropertyVariables&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;native&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;systemPropertyVariables&gt;\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n              &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n      &lt;properties&gt;\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>As you can see I'm using Maven 3.8.1 and java 11, My IntelliJ is already configured at settings and module to use SDK 11 and my JAVA_HOME has been configured too with JDK 11.</p>\n<p>It seems to be something with versions but I really thing I've already updated everything in my application, so maybe I'm letting something pass?</p>\n<p>This is the error I'm getting:</p>\n<pre><code>[INFO] Scanning for projects...\n[WARNING] Error injecting: io.quarkus.maven.components.BootstrapSessionListener\njava.lang.TypeNotPresentException: Type io.quarkus.maven.components.BootstrapSessionListener not present\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:147)\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at org.eclipse.sisu.bean.BeanScheduler$CycleActivator.onProvision (BeanScheduler.java:230)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:120)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get (ProviderToInternalFactoryAdapter.java:40)\n    at com.google.inject.internal.SingletonScope$1.get (SingletonScope.java:168)\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get (InternalFactoryToProviderAdapter.java:39)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.eclipse.sisu.wire.EntryListAdapter$ValueIterator.next (EntryListAdapter.java:111)\n    at java.util.AbstractCollection.addAll (AbstractCollection.java:343)\n    at org.apache.maven.DefaultMaven.getLifecycleParticipants (DefaultMaven.java:397)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:39)\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:122)\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:61)\nCaused by: java.lang.UnsupportedClassVersionError: io/quarkus/maven/components/BootstrapSessionListener has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>Edit: I've changed now to java 17 everywhere and getting the same error</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1633532665,"post_id":69468074,"comment_id":122785768,"body_markdown":"I guess you could experiment with a custom implementation of `HttpMessageConverter` if you don&#39;t need the `\\n` context at all (I doubt). Why do you need it after all?","body":"I guess you could experiment with a custom implementation of <code>HttpMessageConverter</code> if you don&#39;t need the <code>\\n</code> context at all (I doubt). Why do you need it after all?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1633532743,"post_id":69468074,"comment_id":122785811,"body_markdown":"Must it be a &quot;controller advice&quot;??.... assuming spring-boot defaults (jackson-json): https://stackoverflow.com/q/6852213/592355 this could help/duplicates.","body":"Must it be a &quot;controller advice&quot;??.... assuming spring-boot defaults (jackson-json): <a href=\"https://stackoverflow.com/q/6852213/592355\">stackoverflow.com/q/6852213/592355</a> this could help/duplicates."},{"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"score":0,"creation_date":1633534802,"post_id":69468074,"comment_id":122786750,"body_markdown":"@fluffy the UI client lacks capability to evaluate \\n. They need \\\\n and \\\\t and on on.","body":"@fluffy the UI client lacks capability to evaluate \\n. They need \\\\n and \\\\t and on on."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1633534990,"post_id":69468074,"comment_id":122786833,"body_markdown":"@Halley I don&#39;t really understand what you mean by &quot;evaluating `\\n`&quot;. If it&#39;s a part of the domain logic (at least it sounds so), why not emit properly escaped strings in your services for any `T` rather than modifying the output?","body":"@Halley I don&#39;t really understand what you mean by &quot;evaluating <code>\\n</code>&quot;. If it&#39;s a part of the domain logic (at least it sounds so), why not emit properly escaped strings in your services for any <code>T</code> rather than modifying the output?"},{"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"score":0,"creation_date":1633535228,"post_id":69468074,"comment_id":122786940,"body_markdown":"UI client cannot create a new line with just `\\n`. When the data get stored in the database, all the new lines are getting encoded as `\\n`. This needs to be done only to certain controllers which have apis which are consumed by those clients.","body":"UI client cannot create a new line with just <code>\\n</code>. When the data get stored in the database, all the new lines are getting encoded as <code>\\n</code>. This needs to be done only to certain controllers which have apis which are consumed by those clients."},{"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"score":1,"creation_date":1633535264,"post_id":69468074,"comment_id":122786963,"body_markdown":"@xerx593 The question you linked has the necessary answers I need. I believe we can mark this as duplicate. Cheers","body":"@xerx593 The question you linked has the necessary answers I need. I believe we can mark this as duplicate. Cheers"}],"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633571844,"answer_count":0,"score":1,"last_activity_date":1633532226,"creation_date":1633532226,"question_id":69468074,"body_markdown":"Is there a way I can write a generic controller advice to replace all control characters like \\n in the response of a Spring Boot controller? Currently, the return type of the controller is of type `ResponseEntity&lt;T&gt;`. There will be multiple attributes within the POJO that needs this string replacement. I am trying to avoid doing a string replace on each and every attribute of the POJO. \r\n","title":"Spring boot - Escape control characters in controller response?","body":"<p>Is there a way I can write a generic controller advice to replace all control characters like \\n in the response of a Spring Boot controller? Currently, the return type of the controller is of type <code>ResponseEntity&lt;T&gt;</code>. There will be multiple attributes within the POJO that needs this string replacement. I am trying to avoid doing a string replace on each and every attribute of the POJO.</p>\n"},{"tags":["java","filter","jax-rs","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633532217,"creation_date":1633532217,"answer_id":69468072,"question_id":69466162,"body_markdown":"Turns out it wasn&#39;t related to GET vs POST \r\n\r\nmy GET method was returning a Multi&lt;?&gt; . I converted this to Uni&lt;List&lt;?&gt;&gt; and it worked.\r\n\r\nFrom the documentation i found this snippet\r\n\r\n```\r\nReactive developers may wonder why we can&#39;t return a stream of fruits directly. It tends to eb a bad idea with a database....\r\n```\r\n\r\nThe keyword being `we can&#39;t` so I imagine this is not supported functionality","title":"ServerResponseFilter not being applied to GET","body":"<p>Turns out it wasn't related to GET vs POST</p>\n<p>my GET method was returning a Multi . I converted this to Uni&gt; and it worked.</p>\n<p>From the documentation i found this snippet</p>\n<pre><code>Reactive developers may wonder why we can't return a stream of fruits directly. It tends to eb a bad idea with a database....\n</code></pre>\n<p>The keyword being <code>we can't</code> so I imagine this is not supported functionality</p>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633532217,"creation_date":1633525049,"question_id":69466162,"body_markdown":"I have a Quarkus application with the following filters definition:\r\n\r\n```\r\n\r\n@ApplicationScoped\r\n@Slf4j\r\npublic class Filters {\r\n\r\n\r\n// some @Inject parameters i&#39;m using\r\n\r\n  @ServerRequestFilter(preMatching = true)\r\n  public void requestLoggingFilter(ContainerRequestContext requestContext) {\r\n    log.info(&quot;Recv: [{}] {}, {}&quot;, requestContext.getHeaderString(&quot;myHeader&quot;), requestContext.getMethod(), requestContext.getUriInfo().getRequestUri());\r\n  }\r\n\r\n\r\n\r\n  @ServerResponseFilter\r\n  public void responseBasicHeaderFilter(ContainerResponseContext responseContext) {\r\n    responseContext.getHeaders().putSingle(&quot;myHeader, &quot;myValue&quot;);\r\n  }\r\n\r\n  @ServerResponseFilter\r\n  public void responseLoggingFilter(ContainerResponseContext responseContext) {\r\n    log.info(&quot;Sent: [{}] {} {}&quot;, responseContext.getHeaderString(&quot;myHeader&quot;), , responseContext.getStatusInfo(), responseContext.getEntity());\r\n  }\r\n}\r\n```\r\n\r\nAnd I have two tests: \r\nTest Class config: \r\n```\r\n@QuarkusTest\r\npublic class MyTest {\r\n...\r\n}\r\n```\r\n\r\n\r\nTest A: \r\n```\r\n  final Response response = given()\r\n        .post(BASE_URL)\r\n        .then()\r\n        .extract().response();\r\n    assertEquals(200, response.getStatusCode(), () -&gt; &quot;Got: &quot; + response.prettyPrint());\r\n    assertEquals(&quot;myValue&quot;, response.getHeader(&quot;myHeader&quot;));\r\n\r\n  final Response response2 = given()\r\n        .get(BASE_URL)\r\n        .then()\r\n        .extract().response();\r\n    assertEquals(200, response2.getStatusCode(), () -&gt; &quot;Got: &quot; + response2.prettyPrint());\r\n    assertEquals(&quot;myValue&quot;, response2.getHeader(&quot;myHeader&quot;));\r\n\r\n```\r\n\r\nTest B:\r\n```\r\n  final Response response = given()\r\n        .post(BASE_URL)\r\n        .then()\r\n        .extract().response();\r\n    assertEquals(200, response.getStatusCode(), () -&gt; &quot;Got: &quot; + response.prettyPrint());\r\n    assertEquals(&quot;myValue&quot;, response.getHeader(&quot;myHeader&quot;));\r\n```\r\n\r\n\r\nIf i run Test B on it&#39;s own, it passes.\r\n\r\nIf i run Test A however the last assertion fails (the header value is not there).\r\n\r\nThe `@ServerResponseFilter` seem to not be called beyond the first time,  however `@ServerRequestFilter` seem to be fine.\r\n\r\nI have tested the api manually and can confirm the same behaviour. Calling the GET request first will also have the same behaviour.\r\n\r\nI have verified that the response generated by my Controller (pojo) is generated successfully. \r\n\r\nWhat could be preventing it from being rerun? \r\n\r\n","title":"ServerResponseFilter not being applied to GET","body":"<p>I have a Quarkus application with the following filters definition:</p>\n<pre><code>\n@ApplicationScoped\n@Slf4j\npublic class Filters {\n\n\n// some @Inject parameters i'm using\n\n  @ServerRequestFilter(preMatching = true)\n  public void requestLoggingFilter(ContainerRequestContext requestContext) {\n    log.info(&quot;Recv: [{}] {}, {}&quot;, requestContext.getHeaderString(&quot;myHeader&quot;), requestContext.getMethod(), requestContext.getUriInfo().getRequestUri());\n  }\n\n\n\n  @ServerResponseFilter\n  public void responseBasicHeaderFilter(ContainerResponseContext responseContext) {\n    responseContext.getHeaders().putSingle(&quot;myHeader, &quot;myValue&quot;);\n  }\n\n  @ServerResponseFilter\n  public void responseLoggingFilter(ContainerResponseContext responseContext) {\n    log.info(&quot;Sent: [{}] {} {}&quot;, responseContext.getHeaderString(&quot;myHeader&quot;), , responseContext.getStatusInfo(), responseContext.getEntity());\n  }\n}\n</code></pre>\n<p>And I have two tests:\nTest Class config:</p>\n<pre><code>@QuarkusTest\npublic class MyTest {\n...\n}\n</code></pre>\n<p>Test A:</p>\n<pre><code>  final Response response = given()\n        .post(BASE_URL)\n        .then()\n        .extract().response();\n    assertEquals(200, response.getStatusCode(), () -&gt; &quot;Got: &quot; + response.prettyPrint());\n    assertEquals(&quot;myValue&quot;, response.getHeader(&quot;myHeader&quot;));\n\n  final Response response2 = given()\n        .get(BASE_URL)\n        .then()\n        .extract().response();\n    assertEquals(200, response2.getStatusCode(), () -&gt; &quot;Got: &quot; + response2.prettyPrint());\n    assertEquals(&quot;myValue&quot;, response2.getHeader(&quot;myHeader&quot;));\n\n</code></pre>\n<p>Test B:</p>\n<pre><code>  final Response response = given()\n        .post(BASE_URL)\n        .then()\n        .extract().response();\n    assertEquals(200, response.getStatusCode(), () -&gt; &quot;Got: &quot; + response.prettyPrint());\n    assertEquals(&quot;myValue&quot;, response.getHeader(&quot;myHeader&quot;));\n</code></pre>\n<p>If i run Test B on it's own, it passes.</p>\n<p>If i run Test A however the last assertion fails (the header value is not there).</p>\n<p>The <code>@ServerResponseFilter</code> seem to not be called beyond the first time,  however <code>@ServerRequestFilter</code> seem to be fine.</p>\n<p>I have tested the api manually and can confirm the same behaviour. Calling the GET request first will also have the same behaviour.</p>\n<p>I have verified that the response generated by my Controller (pojo) is generated successfully.</p>\n<p>What could be preventing it from being rerun?</p>\n"},{"tags":["java","http","tomcat","logging","spring-boot"],"comments":[{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1398613860,"post_id":23325389,"comment_id":35714593,"body_markdown":"I assume you meant &quot;application.properties&quot;? The spelling error in the file name is the only obvious error I can see. Note that the `logging.file` has no effect on the tomcat access log though (although the file ought to be created if you are using a &quot;normal&quot; project setup). Normally the Tomcat valve creates logs in &quot;./logs&quot; (i.e. relative to user.dir).","body":"I assume you meant &quot;application.properties&quot;? The spelling error in the file name is the only obvious error I can see. Note that the <code>logging.file</code> has no effect on the tomcat access log though (although the file ought to be created if you are using a &quot;normal&quot; project setup). Normally the Tomcat valve creates logs in &quot;./logs&quot; (i.e. relative to user.dir)."},{"owner":{"account_id":964125,"reputation":2496,"user_id":987889,"accept_rate":45,"display_name":"Mati"},"score":0,"creation_date":1398614758,"post_id":23325389,"comment_id":35714923,"body_markdown":"Yes, that was my misspell, but in my project it is correct. I know that Spring reads it correctly, because `server.port=9900` works properly. I can&#39;t see directory specified by you :(","body":"Yes, that was my misspell, but in my project it is correct. I know that Spring reads it correctly, because <code>server.port=9900</code> works properly. I can&#39;t see directory specified by you :("},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1398615060,"post_id":23325389,"comment_id":35715044,"body_markdown":"Can you share your project?","body":"Can you share your project?"},{"owner":{"account_id":964125,"reputation":2496,"user_id":987889,"accept_rate":45,"display_name":"Mati"},"score":0,"creation_date":1398617241,"post_id":23325389,"comment_id":35715859,"body_markdown":"Unfortunately no, it is project in my job... maybe there is something in configuration or in pom.xml needed for this to works?","body":"Unfortunately no, it is project in my job... maybe there is something in configuration or in pom.xml needed for this to works?"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1398631498,"post_id":23325389,"comment_id":35721122,"body_markdown":"Works for me. Maybe you can create a simple project that doesn&#39;t behave the way you expect and post it in github? If it helps, here&#39;s an example of an app that uses the access log successfully: https://github.com/spring-io/sagan/tree/master/sagan-site.","body":"Works for me. Maybe you can create a simple project that doesn&#39;t behave the way you expect and post it in github? If it helps, here&#39;s an example of an app that uses the access log successfully: <a href=\"https://github.com/spring-io/sagan/tree/master/sagan-site\" rel=\"nofollow noreferrer\">github.com/spring-io/sagan/tree/master/sagan-site</a>."},{"owner":{"account_id":964125,"reputation":2496,"user_id":987889,"accept_rate":45,"display_name":"Mati"},"score":0,"creation_date":1398637169,"post_id":23325389,"comment_id":35722896,"body_markdown":"I have found solution in this repo. It isn&#39;t `server.tomcat.access-log-enabled` but `server.tomcat.accessLogEnabled`(in reference it is as dash separated [link](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#appendix)) . Thank you verry much! If you write this as an answer I can check it as a correct answer :)","body":"I have found solution in this repo. It isn&#39;t <code>server.tomcat.access-log-enabled</code> but <code>server.tomcat.accessLogEnabled</code>(in reference it is as dash separated <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#appendix\" rel=\"nofollow noreferrer\">link</a>) . Thank you verry much! If you write this as an answer I can check it as a correct answer :)"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1433755744,"post_id":23325389,"comment_id":49468625,"body_markdown":"The form of the flag in your properties file makes no different (hyphens or camel case work equally well).","body":"The form of the flag in your properties file makes no different (hyphens or camel case work equally well)."},{"owner":{"account_id":964125,"reputation":2496,"user_id":987889,"accept_rate":45,"display_name":"Mati"},"score":1,"creation_date":1433756307,"post_id":23325389,"comment_id":49469007,"body_markdown":"At the time I have written this questions, hyphens just didn&#39;t work. I&#39;m glad to hear that now it works.","body":"At the time I have written this questions, hyphens just didn&#39;t work. I&#39;m glad to hear that now it works."}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1436256772,"creation_date":1398665762,"answer_id":23333789,"question_id":23325389,"body_markdown":"Try\r\n\r\n    server.tomcat.accessLogEnabled=true\r\n    server.tomcat.accessLogPattern=%a asdasd\r\n\r\nand look in `/tmp/tomcat.&lt;random&gt;.&lt;port&gt;/logs` for the output files. Set  `server.tomcat.basedir` property to change the directory.","title":"Spring Boot enable http requests logging (access logs)","body":"<p>Try</p>\n\n<pre><code>server.tomcat.accessLogEnabled=true\nserver.tomcat.accessLogPattern=%a asdasd\n</code></pre>\n\n<p>and look in <code>/tmp/tomcat.&lt;random&gt;.&lt;port&gt;/logs</code> for the output files. Set  <code>server.tomcat.basedir</code> property to change the directory.</p>\n"},{"tags":[],"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1471261454,"creation_date":1464605706,"answer_id":37523922,"question_id":23325389,"body_markdown":"Here it goes a way to have them displayed in console or whatever file you choose. Declare Tomcat&#39;s [`RequestDumperFilter`][1] in any `@Configuration` class:\r\n\r\n\t@Bean\r\n\tpublic FilterRegistrationBean requestDumperFilter() {\r\n\t\tFilterRegistrationBean registration = new FilterRegistrationBean();\r\n\t\tFilter requestDumperFilter = new RequestDumperFilter();\r\n\t\tregistration.setFilter(requestDumperFilter);\r\n\t\tregistration.addUrlPatterns(&quot;/*&quot;);\r\n\t\treturn registration;\r\n\t}\r\n\r\nAnd that&#39;s the output:\r\n\r\n    http-nio-8765-exec-1 START TIME        =30-may-2016 12:45:41\r\n    http-nio-8765-exec-1         requestURI=/info\r\n    http-nio-8765-exec-1           authType=null\r\n    http-nio-8765-exec-1  characterEncoding=UTF-8\r\n    http-nio-8765-exec-1      contentLength=-1\r\n    http-nio-8765-exec-1        contentType=null\r\n    http-nio-8765-exec-1        contextPath=\r\n    http-nio-8765-exec-1             cookie=JSESSIONID=E7259F5F9ED6B04CBE5A294C5F8CA5C6\r\n    http-nio-8765-exec-1             header=host=mies-057:8765\r\n    http-nio-8765-exec-1             header=connection=keep-alive\r\n    http-nio-8765-exec-1             header=accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\n    http-nio-8765-exec-1             header=upgrade-insecure-requests=1\r\n    http-nio-8765-exec-1             header=user-agent=Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36\r\n    http-nio-8765-exec-1             header=referer=http://mies-057:1111/\r\n    http-nio-8765-exec-1             header=accept-encoding=gzip, deflate, sdch\r\n    http-nio-8765-exec-1             header=accept-language=es-ES,es;q=0.8\r\n    http-nio-8765-exec-1             header=cookie=JSESSIONID=E7259F5F9ED6B04CBE5A294C5F8CA5C6\r\n    http-nio-8765-exec-1             locale=es_ES\r\n    http-nio-8765-exec-1             method=GET\r\n    http-nio-8765-exec-1           pathInfo=null\r\n    http-nio-8765-exec-1           protocol=HTTP/1.1\r\n    http-nio-8765-exec-1        queryString=null\r\n    http-nio-8765-exec-1         remoteAddr=192.168.56.1\r\n    http-nio-8765-exec-1         remoteHost=192.168.56.1\r\n    http-nio-8765-exec-1         remoteUser=null\r\n    http-nio-8765-exec-1 requestedSessionId=E7259F5F9ED6B04CBE5A294C5F8CA5C6\r\n    http-nio-8765-exec-1             scheme=http\r\n    http-nio-8765-exec-1         serverName=mies-057\r\n    http-nio-8765-exec-1         serverPort=8765\r\n    http-nio-8765-exec-1        servletPath=/info\r\n    http-nio-8765-exec-1           isSecure=false\r\n    http-nio-8765-exec-1 ------------------=--------------------------------------------\r\n    http-nio-8765-exec-1 ------------------=--------------------------------------------\r\n    http-nio-8765-exec-1           authType=null\r\n    http-nio-8765-exec-1        contentType=application/json;charset=UTF-8\r\n    http-nio-8765-exec-1             header=Strict-Transport-Security=max-age=31536000 ; includeSubDomains\r\n    http-nio-8765-exec-1             header=X-Application-Context=EDGE:8765\r\n    http-nio-8765-exec-1             header=Content-Type=application/json;charset=UTF-8\r\n    http-nio-8765-exec-1             header=Transfer-Encoding=chunked\r\n    http-nio-8765-exec-1             header=Date=Mon, 30 May 2016 10:45:41 GMT\r\n    http-nio-8765-exec-1             status=200\r\n    http-nio-8765-exec-1 END TIME          =30-may-2016 12:45:41\r\n    http-nio-8765-exec-1 ===============================================================\r\n\r\nThen manage it as any standard Spring Boot log.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Request_Dumper_Filter","title":"Spring Boot enable http requests logging (access logs)","body":"<p>Here it goes a way to have them displayed in console or whatever file you choose. Declare Tomcat's <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Request_Dumper_Filter\"><code>RequestDumperFilter</code></a> in any <code>@Configuration</code> class:</p>\n\n<pre><code>@Bean\npublic FilterRegistrationBean requestDumperFilter() {\n    FilterRegistrationBean registration = new FilterRegistrationBean();\n    Filter requestDumperFilter = new RequestDumperFilter();\n    registration.setFilter(requestDumperFilter);\n    registration.addUrlPatterns(\"/*\");\n    return registration;\n}\n</code></pre>\n\n<p>And that's the output:</p>\n\n<pre><code>http-nio-8765-exec-1 START TIME        =30-may-2016 12:45:41\nhttp-nio-8765-exec-1         requestURI=/info\nhttp-nio-8765-exec-1           authType=null\nhttp-nio-8765-exec-1  characterEncoding=UTF-8\nhttp-nio-8765-exec-1      contentLength=-1\nhttp-nio-8765-exec-1        contentType=null\nhttp-nio-8765-exec-1        contextPath=\nhttp-nio-8765-exec-1             cookie=JSESSIONID=E7259F5F9ED6B04CBE5A294C5F8CA5C6\nhttp-nio-8765-exec-1             header=host=mies-057:8765\nhttp-nio-8765-exec-1             header=connection=keep-alive\nhttp-nio-8765-exec-1             header=accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nhttp-nio-8765-exec-1             header=upgrade-insecure-requests=1\nhttp-nio-8765-exec-1             header=user-agent=Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36\nhttp-nio-8765-exec-1             header=referer=http://mies-057:1111/\nhttp-nio-8765-exec-1             header=accept-encoding=gzip, deflate, sdch\nhttp-nio-8765-exec-1             header=accept-language=es-ES,es;q=0.8\nhttp-nio-8765-exec-1             header=cookie=JSESSIONID=E7259F5F9ED6B04CBE5A294C5F8CA5C6\nhttp-nio-8765-exec-1             locale=es_ES\nhttp-nio-8765-exec-1             method=GET\nhttp-nio-8765-exec-1           pathInfo=null\nhttp-nio-8765-exec-1           protocol=HTTP/1.1\nhttp-nio-8765-exec-1        queryString=null\nhttp-nio-8765-exec-1         remoteAddr=192.168.56.1\nhttp-nio-8765-exec-1         remoteHost=192.168.56.1\nhttp-nio-8765-exec-1         remoteUser=null\nhttp-nio-8765-exec-1 requestedSessionId=E7259F5F9ED6B04CBE5A294C5F8CA5C6\nhttp-nio-8765-exec-1             scheme=http\nhttp-nio-8765-exec-1         serverName=mies-057\nhttp-nio-8765-exec-1         serverPort=8765\nhttp-nio-8765-exec-1        servletPath=/info\nhttp-nio-8765-exec-1           isSecure=false\nhttp-nio-8765-exec-1 ------------------=--------------------------------------------\nhttp-nio-8765-exec-1 ------------------=--------------------------------------------\nhttp-nio-8765-exec-1           authType=null\nhttp-nio-8765-exec-1        contentType=application/json;charset=UTF-8\nhttp-nio-8765-exec-1             header=Strict-Transport-Security=max-age=31536000 ; includeSubDomains\nhttp-nio-8765-exec-1             header=X-Application-Context=EDGE:8765\nhttp-nio-8765-exec-1             header=Content-Type=application/json;charset=UTF-8\nhttp-nio-8765-exec-1             header=Transfer-Encoding=chunked\nhttp-nio-8765-exec-1             header=Date=Mon, 30 May 2016 10:45:41 GMT\nhttp-nio-8765-exec-1             status=200\nhttp-nio-8765-exec-1 END TIME          =30-may-2016 12:45:41\nhttp-nio-8765-exec-1 ===============================================================\n</code></pre>\n\n<p>Then manage it as any standard Spring Boot log.</p>\n"},{"tags":[],"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1488452178,"creation_date":1488452178,"answer_id":42553474,"question_id":23325389,"body_markdown":"In Spring Boot 1.5.1 the [properties mentioned by Dave Syer][1] no longer works, instead they&#39;re renamed into:\r\n\r\n    server.tomcat.basedir=target/tomcat-logs\r\n    server.tomcat.accesslog.enabled=true\r\n    server.tomcat.accesslog.pattern=%t %a &quot;%r&quot; %s (%D ms)\r\n\r\nUsing the configuration above, if running the project via its root directory the log will be available at target/tomcat-logs/log/access_log.*\r\n\r\n  [1]: https://stackoverflow.com/a/23333789/179630","title":"Spring Boot enable http requests logging (access logs)","body":"<p>In Spring Boot 1.5.1 the <a href=\"https://stackoverflow.com/a/23333789/179630\">properties mentioned by Dave Syer</a> no longer works, instead they're renamed into:</p>\n\n<pre><code>server.tomcat.basedir=target/tomcat-logs\nserver.tomcat.accesslog.enabled=true\nserver.tomcat.accesslog.pattern=%t %a \"%r\" %s (%D ms)\n</code></pre>\n\n<p>Using the configuration above, if running the project via its root directory the log will be available at target/tomcat-logs/log/access_log.*</p>\n"},{"tags":[],"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1590410481,"creation_date":1590410481,"answer_id":62002598,"question_id":23325389,"body_markdown":"With Spring Boot **2.X**, if you want to manage **Access logs**, add these lines to your `application.yml` file:\r\n\r\n    server:\r\n      tomcat:\r\n        basedir: /home/tmp\r\n        accesslog:\r\n          enabled: true\r\n\r\nIt will create a folder named `logs` in the basedir you defined (`/home/tmp` here) containing the access log files.\r\n\r\nIf you want to have access logs in the console do like that:\r\n\r\n    server:\r\n      tomcat:\r\n        accesslog:\r\n          enabled: true\r\n          directory: /dev\r\n          prefix: stdout\r\n          buffered: false\r\n          suffix:\r\n          file-date-format:\r\n\r\nIt will rediect logs to **/dev/stdout**\r\n\r\nMore informations: https://community.pivotal.io/s/article/how-to-configure-access-log-entries-for-a-spring-boot-app?language=en_US","title":"Spring Boot enable http requests logging (access logs)","body":"<p>With Spring Boot <strong>2.X</strong>, if you want to manage <strong>Access logs</strong>, add these lines to your <code>application.yml</code> file:</p>\n\n<pre><code>server:\n  tomcat:\n    basedir: /home/tmp\n    accesslog:\n      enabled: true\n</code></pre>\n\n<p>It will create a folder named <code>logs</code> in the basedir you defined (<code>/home/tmp</code> here) containing the access log files.</p>\n\n<p>If you want to have access logs in the console do like that:</p>\n\n<pre><code>server:\n  tomcat:\n    accesslog:\n      enabled: true\n      directory: /dev\n      prefix: stdout\n      buffered: false\n      suffix:\n      file-date-format:\n</code></pre>\n\n<p>It will rediect logs to <strong>/dev/stdout</strong></p>\n\n<p>More informations: <a href=\"https://community.pivotal.io/s/article/how-to-configure-access-log-entries-for-a-spring-boot-app?language=en_US\" rel=\"noreferrer\">https://community.pivotal.io/s/article/how-to-configure-access-log-entries-for-a-spring-boot-app?language=en_US</a></p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633531456,"creation_date":1633531456,"answer_id":69467888,"question_id":23325389,"body_markdown":"If you have a Spring Boot app, and would like to enable http logging to `stdout`, as might be useful in a containerised application, without modifying and code or config files you can add the following environment variables\r\n```\r\nserver.tomcat.accesslog.enabled=true\r\nserver.tomcat.accesslog.directory=/dev\r\nserver.tomcat.accesslog.prefix=stdout\r\nserver.tomcat.accesslog.suffix=\r\nserver.tomcat.accesslog.file-date-format=\r\n```\r\nNote `suffix` and `file-date-format` should be set to nothing\r\n\r\nThen restart your app and you should get logging","title":"Spring Boot enable http requests logging (access logs)","body":"<p>If you have a Spring Boot app, and would like to enable http logging to <code>stdout</code>, as might be useful in a containerised application, without modifying and code or config files you can add the following environment variables</p>\n<pre><code>server.tomcat.accesslog.enabled=true\nserver.tomcat.accesslog.directory=/dev\nserver.tomcat.accesslog.prefix=stdout\nserver.tomcat.accesslog.suffix=\nserver.tomcat.accesslog.file-date-format=\n</code></pre>\n<p>Note <code>suffix</code> and <code>file-date-format</code> should be set to nothing</p>\n<p>Then restart your app and you should get logging</p>\n"}],"owner":{"account_id":964125,"reputation":2496,"user_id":987889,"accept_rate":45,"display_name":"Mati"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51193,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":23333789,"answer_count":5,"score":40,"last_activity_date":1633531456,"creation_date":1398613345,"question_id":23325389,"body_markdown":"How to enable access logs in an embedded **tomcat** server provided by **spring boot**? I&#39;ve tried this in `application.properties` but it doesn&#39;t create file, neither logs to console.\r\n\r\n    server.tomcat.access-log-enabled=true\r\n    server.tomcat.access-log-pattern=%a asdasd\r\n    logging.file=/home/mati/mylog.log\r\n    ","title":"Spring Boot enable http requests logging (access logs)","body":"<p>How to enable access logs in an embedded <strong>tomcat</strong> server provided by <strong>spring boot</strong>? I've tried this in <code>application.properties</code> but it doesn't create file, neither logs to console.</p>\n\n<pre><code>server.tomcat.access-log-enabled=true\nserver.tomcat.access-log-pattern=%a asdasd\nlogging.file=/home/mati/mylog.log\n</code></pre>\n"},{"tags":["java","google-chrome"],"comments":[{"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"score":0,"creation_date":1633530066,"post_id":69467318,"comment_id":122784610,"body_markdown":"Good catch. I tested this in CMD and the path still isnt found even though I thought this was the correct default path","body":"Good catch. I tested this in CMD and the path still isnt found even though I thought this was the correct default path"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1633530092,"post_id":69467318,"comment_id":122784622,"body_markdown":"Does this answer your question? [How to get chrome version using command prompt in windows](https://stackoverflow.com/questions/50880917/how-to-get-chrome-version-using-command-prompt-in-windows)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50880917/how-to-get-chrome-version-using-command-prompt-in-windows\">How to get chrome version using command prompt in windows</a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1633530180,"post_id":69467318,"comment_id":122784662,"body_markdown":"It seems this is tricky, and changed several times in the past, with versions of chrome and windows....","body":"It seems this is tricky, and changed several times in the past, with versions of chrome and windows...."},{"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"score":0,"creation_date":1633530369,"post_id":69467318,"comment_id":122784756,"body_markdown":"That seems to work in command line fine, I&#39;ll just have to parse the returned value after I figure out how to get that value in java.","body":"That seems to work in command line fine, I&#39;ll just have to parse the returned value after I figure out how to get that value in java."}],"answers":[{"tags":[],"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633531442,"creation_date":1633531442,"answer_id":69467881,"question_id":69467318,"body_markdown":"I managed to get it to work like this: \r\n```\r\n\tpublic static void chromeVersion() throws IOException {\r\n\t\t\r\n\t\tRuntime rt = Runtime.getRuntime();\r\n\t\tProcess proc = rt.exec(&quot;reg query &quot; + &quot;HKEY_CURRENT_USER\\\\Software\\\\Google\\\\Chrome\\\\BLBeacon &quot; +  &quot;/v version&quot;);\r\n\t\tBufferedReader stdInput = new BufferedReader(new \r\n\t\t\t     InputStreamReader(proc.getInputStream()));\r\n\r\n\t\t\tBufferedReader stdError = new BufferedReader(new \r\n\t\t\t     InputStreamReader(proc.getErrorStream()));\r\n\r\n\t\t\t// Read the output from the command\r\n\t\t\tSystem.out.println(&quot;Here is the standard output of the command:\\n&quot;);\r\n\t\t\tString s = null;\r\n\t\t\twhile ((s = stdInput.readLine()) != null) {\r\n\t\t\t    System.out.println(s);\r\n\t\t\t}\r\n\r\n\t\t\t// Read any errors from the attempted command\r\n\t\t\tSystem.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\r\n\t\t\twhile ((s = stdError.readLine()) != null) {\r\n\t\t\t    System.out.println(s);\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\nThis will print:\r\n```\r\nHere is the standard output of the command:\r\n\r\n\r\nHKEY_CURRENT_USER\\Software\\Google\\Chrome\\BLBeacon\r\n    version    REG_SZ    93.0.4577.82\r\n\r\nHere is the standard error of the command (if any):\r\n```","title":"How to get the version number of Google Chrome installed on OS?","body":"<p>I managed to get it to work like this:</p>\n<pre><code>    public static void chromeVersion() throws IOException {\n        \n        Runtime rt = Runtime.getRuntime();\n        Process proc = rt.exec(&quot;reg query &quot; + &quot;HKEY_CURRENT_USER\\\\Software\\\\Google\\\\Chrome\\\\BLBeacon &quot; +  &quot;/v version&quot;);\n        BufferedReader stdInput = new BufferedReader(new \n                 InputStreamReader(proc.getInputStream()));\n\n            BufferedReader stdError = new BufferedReader(new \n                 InputStreamReader(proc.getErrorStream()));\n\n            // Read the output from the command\n            System.out.println(&quot;Here is the standard output of the command:\\n&quot;);\n            String s = null;\n            while ((s = stdInput.readLine()) != null) {\n                System.out.println(s);\n            }\n\n            // Read any errors from the attempted command\n            System.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\n            while ((s = stdError.readLine()) != null) {\n                System.out.println(s);\n            }\n        \n    }\n</code></pre>\n<p>This will print:</p>\n<pre><code>Here is the standard output of the command:\n\n\nHKEY_CURRENT_USER\\Software\\Google\\Chrome\\BLBeacon\n    version    REG_SZ    93.0.4577.82\n\nHere is the standard error of the command (if any):\n</code></pre>\n"}],"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69467881,"answer_count":1,"score":1,"last_activity_date":1633531442,"creation_date":1633529290,"question_id":69467318,"body_markdown":"I am trying to write a selenium script that can work without needing any updates. I&#39;d like to be able to run the program, and determine which Google Chrome version is currently installed on OS (it can be either Windows or Linux), and then install the compatible ChromeDriver from there.\r\n\r\nI already tried this to simply attempt printing the value:\r\n```\r\n\tpublic static void chromeVersion() throws IOException {\r\n\t\tString installPath = &quot;&quot;;\r\n\t\tProcess userProcess;\r\n\t\tBufferedReader usersReader;\r\n\t\tif(SystemUtils.IS_OS_WINDOWS) {\r\n\t\t\tinstallPath = &quot;C:/Program Files/Google/Chrome/Application/chrome.exe&quot;;\r\n            userProcess = Runtime.getRuntime().exec(installPath + &quot; --version&quot;);\r\n            usersReader = new BufferedReader(new InputStreamReader(userProcess.getInputStream()));\r\n            String p;\r\n            while ((p = usersReader.readLine()) != null){\r\n                System.out.println(p);\r\n            }\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\nBut it prints a runtime error saying that the path cannot be found. Even if the path was correct, I doubt that this is the best solution since the path technically could vary even from one Windows computer to another. \r\n\r\nWhat else can I do to accomplish this task?\r\n\r\nEDIT: after further research, it seems that this may not be possible in Java? Thoughts?\r\n\r\nEDIT: Hulk in the comments pointed out that I can do this: \r\n```\r\n\tpublic static void chromeVersion() throws IOException {\r\n\t\tString installPath = &quot;&quot;;\r\n\t\tProcess userProcess;\r\n\t\tBufferedReader usersReader;\r\n\t\tif(SystemUtils.IS_OS_WINDOWS) {\r\n\t\t\tinstallPath = &quot;reg query &#39;HKEY_CURRENT_USER\\\\Software\\\\Google\\\\Chrome\\\\BLBeacon&#39; /v version&quot;;\r\n;\r\n            userProcess = Runtime.getRuntime().exec(installPath);\r\n            usersReader = new BufferedReader(new InputStreamReader(userProcess.getInputStream()));\r\n            String p;\r\n            while ((p = usersReader.readLine()) != null){\r\n                System.out.println(p);\r\n            }\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\nThis however does not print anything, but if I run `reg query &quot;HKEY_CURRENT_USER\\Software\\Google\\Chrome\\BLBeacon&quot; /v version` from CMD then I get this:\r\n```\r\nHKEY_CURRENT_USER\\Software\\Google\\Chrome\\BLBeacon\r\n    version    REG_SZ    93.0.4577.82\r\n```","title":"How to get the version number of Google Chrome installed on OS?","body":"<p>I am trying to write a selenium script that can work without needing any updates. I'd like to be able to run the program, and determine which Google Chrome version is currently installed on OS (it can be either Windows or Linux), and then install the compatible ChromeDriver from there.</p>\n<p>I already tried this to simply attempt printing the value:</p>\n<pre><code>    public static void chromeVersion() throws IOException {\n        String installPath = &quot;&quot;;\n        Process userProcess;\n        BufferedReader usersReader;\n        if(SystemUtils.IS_OS_WINDOWS) {\n            installPath = &quot;C:/Program Files/Google/Chrome/Application/chrome.exe&quot;;\n            userProcess = Runtime.getRuntime().exec(installPath + &quot; --version&quot;);\n            usersReader = new BufferedReader(new InputStreamReader(userProcess.getInputStream()));\n            String p;\n            while ((p = usersReader.readLine()) != null){\n                System.out.println(p);\n            }\n        }\n        \n    }\n</code></pre>\n<p>But it prints a runtime error saying that the path cannot be found. Even if the path was correct, I doubt that this is the best solution since the path technically could vary even from one Windows computer to another.</p>\n<p>What else can I do to accomplish this task?</p>\n<p>EDIT: after further research, it seems that this may not be possible in Java? Thoughts?</p>\n<p>EDIT: Hulk in the comments pointed out that I can do this:</p>\n<pre><code>    public static void chromeVersion() throws IOException {\n        String installPath = &quot;&quot;;\n        Process userProcess;\n        BufferedReader usersReader;\n        if(SystemUtils.IS_OS_WINDOWS) {\n            installPath = &quot;reg query 'HKEY_CURRENT_USER\\\\Software\\\\Google\\\\Chrome\\\\BLBeacon' /v version&quot;;\n;\n            userProcess = Runtime.getRuntime().exec(installPath);\n            usersReader = new BufferedReader(new InputStreamReader(userProcess.getInputStream()));\n            String p;\n            while ((p = usersReader.readLine()) != null){\n                System.out.println(p);\n            }\n        }\n        \n    }\n</code></pre>\n<p>This however does not print anything, but if I run <code>reg query &quot;HKEY_CURRENT_USER\\Software\\Google\\Chrome\\BLBeacon&quot; /v version</code> from CMD then I get this:</p>\n<pre><code>HKEY_CURRENT_USER\\Software\\Google\\Chrome\\BLBeacon\n    version    REG_SZ    93.0.4577.82\n</code></pre>\n"},{"tags":["java","mysql","spring","querydsl"],"answers":[{"tags":[],"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633531119,"creation_date":1633531119,"answer_id":69467794,"question_id":69465948,"body_markdown":"A different database would typically be provided through a different EntityManager when creating the QueryFactory. For implementing multi-tenancy through different schema’s, you can look at the alternatives described at https://www.baeldung.com/hibernate-5-multitenancy .\r\n\r\nThere is no way to query specific database or schema in JPQL itself, nor HQL - or query any table that is not mapped as an entity for that matter - so using Querydsl to generate the JPQL or HQL for you has the same limitation.","title":"Can define the database name beside the table when using query DSL?","body":"<p>A different database would typically be provided through a different EntityManager when creating the QueryFactory. For implementing multi-tenancy through different schema’s, you can look at the alternatives described at <a href=\"https://www.baeldung.com/hibernate-5-multitenancy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-5-multitenancy</a> .</p>\n<p>There is no way to query specific database or schema in JPQL itself, nor HQL - or query any table that is not mapped as an entity for that matter - so using Querydsl to generate the JPQL or HQL for you has the same limitation.</p>\n"}],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69467794,"answer_count":1,"score":0,"last_activity_date":1633531119,"creation_date":1633524254,"question_id":69465948,"body_markdown":"Can we define database beside entity name instead of switch to specific schema each time fetch data in multi-tenant applications?   \r\n\r\nFor instance:- \r\n```\r\nQEntity qEntity = QEntity.entity;\r\nJPAQueryFactory queryFactory = new JPAQueryFactory(em);\r\nqueryFactory.from(database_name+qEntity).select(qEntity.id,....)\r\n```","title":"Can define the database name beside the table when using query DSL?","body":"<p>Can we define database beside entity name instead of switch to specific schema each time fetch data in multi-tenant applications?</p>\n<p>For instance:-</p>\n<pre><code>QEntity qEntity = QEntity.entity;\nJPAQueryFactory queryFactory = new JPAQueryFactory(em);\nqueryFactory.from(database_name+qEntity).select(qEntity.id,....)\n</code></pre>\n"},{"tags":["java","spring","kotlin"],"comments":[{"owner":{"account_id":6650480,"reputation":7479,"user_id":5132804,"accept_rate":73,"display_name":"Alberto S."},"score":3,"creation_date":1633523372,"post_id":69465689,"comment_id":122781446,"body_markdown":"&quot;What am I missing?&quot; Minimum, reproducible code. There could be several reasons for your issue, in order to properly replicate it (and support!) I&#39;d suggest you to push your code (only the required parts) to a public git repo","body":"&quot;What am I missing?&quot; Minimum, reproducible code. There could be several reasons for your issue, in order to properly replicate it (and support!) I&#39;d suggest you to push your code (only the required parts) to a public git repo"},{"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"score":0,"creation_date":1633523852,"post_id":69465689,"comment_id":122781680,"body_markdown":"The new/empty project was simply created from Spring initializer as described. I have added two example controllers I used to test the issue.","body":"The new/empty project was simply created from Spring initializer as described. I have added two example controllers I used to test the issue."},{"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"score":0,"creation_date":1633525593,"post_id":69465689,"comment_id":122782510,"body_markdown":"Did you check if the package under which the java controller is present has a component scan on? If not try adding @ComponentScan for it.","body":"Did you check if the package under which the java controller is present has a component scan on? If not try adding @ComponentScan for it."},{"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"score":0,"creation_date":1633526406,"post_id":69465689,"comment_id":122782891,"body_markdown":"I did try that @AmitMahajan, however IntelliJ warns me that it is redundant and it also does not fix the issue. My guess is that Spring only scans .kt files and not .java files. Is this configurable somewhere?","body":"I did try that @AmitMahajan, however IntelliJ warns me that it is redundant and it also does not fix the issue. My guess is that Spring only scans .kt files and not .java files. Is this configurable somewhere?"},{"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"score":0,"creation_date":1633526816,"post_id":69465689,"comment_id":122783090,"body_markdown":"can you share the contents of config files?","body":"can you share the contents of config files?"},{"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"score":0,"creation_date":1633529533,"post_id":69465689,"comment_id":122784355,"body_markdown":"attched the build.gradle.kt file. Is there anything else you&#39;d like to see? @AmitMahajan","body":"attched the build.gradle.kt file. Is there anything else you&#39;d like to see? @AmitMahajan"}],"answers":[{"tags":[],"owner":{"account_id":21238030,"reputation":11,"user_id":15621957,"display_name":"jjakubowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633527426,"creation_date":1633527426,"answer_id":69466823,"question_id":69465689,"body_markdown":"I guess you are using Spring MVC. Are you sure that you have a view &quot;test&quot;? Because it can also be an issue. Try to annotate it with `RestController` instead of `Controller` and see if it&#39;s returning anything. For purpose of that test I would remove method parameter too","title":"Java Controller in Kotlin SpringBoot project","body":"<p>I guess you are using Spring MVC. Are you sure that you have a view &quot;test&quot;? Because it can also be an issue. Try to annotate it with <code>RestController</code> instead of <code>Controller</code> and see if it's returning anything. For purpose of that test I would remove method parameter too</p>\n"},{"tags":[],"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633530868,"creation_date":1633530538,"answer_id":69467649,"question_id":69465689,"body_markdown":"It works fine for me. \r\nMake sure you put the java controller under source -&gt; main -&gt; java directory and not under source -&gt; main -&gt; kotlin\r\nMake sure java is enabled when you import the project in Intellij.\r\n\r\nHere are the settings:\r\nDempApplication:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;example&quot;)\r\n    class DemoApplication\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n    \trunApplication&lt;DemoApplication&gt;(*args)\r\n    }\r\n\r\nJava Controller:\r\n\r\n    @RestController\r\n    public class UserController {\r\n        @GetMapping(&quot;/user&quot;)\r\n        public String test() {\r\n            return &quot;test&quot;;\r\n        }\r\n    }\r\n\r\nDependencies:\r\n\t\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-rest&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    \tcompileOnly(&quot;org.projectlombok:lombok&quot;)\r\n    \truntimeOnly(&quot;org.hsqldb:hsqldb&quot;)\r\n    \tannotationProcessor(&quot;org.projectlombok:lombok&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)","title":"Java Controller in Kotlin SpringBoot project","body":"<p>It works fine for me.\nMake sure you put the java controller under source -&gt; main -&gt; java directory and not under source -&gt; main -&gt; kotlin\nMake sure java is enabled when you import the project in Intellij.</p>\n<p>Here are the settings:\nDempApplication:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;example&quot;)\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApplication&gt;(*args)\n}\n</code></pre>\n<p>Java Controller:</p>\n<pre><code>@RestController\npublic class UserController {\n    @GetMapping(&quot;/user&quot;)\n    public String test() {\n        return &quot;test&quot;;\n    }\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-rest&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    compileOnly(&quot;org.projectlombok:lombok&quot;)\n    runtimeOnly(&quot;org.hsqldb:hsqldb&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n</code></pre>\n"}],"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633530868,"creation_date":1633523154,"question_id":69465689,"body_markdown":"The new/empty project stub was generated using Spring Initializer on IntelliJ using Kotlin as the language choice along with Gradle.\r\n\r\nHowever, adding a Java controller to the project root does not seem to be found when the application is run. All endpoints return a 404. I tested a Kotlin controller and it is working as expected.\r\n\r\nExample Java Controller: \r\n\r\n    @Controller\r\n    public class TestController {\r\n        @PostMapping(&quot;/&quot;)\r\n        public String test() {\r\n            return &quot;test&quot;;\r\n        }\r\n    }\r\n\r\n\r\nExample Kotlin Controller:\r\n\r\n    @Controller\r\n    class TestController {\r\n        @GetMapping(&quot;/&quot;)\r\n        fun test(model: Model): String {\r\n            return &quot;test&quot;\r\n        }\r\n    }\r\n\r\nbuild.gradle.kts:\r\n\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n    \r\n    plugins {\r\n        id(&quot;org.springframework.boot&quot;) version &quot;2.5.5&quot;\r\n        id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot;\r\n        kotlin(&quot;jvm&quot;) version &quot;1.5.31&quot;\r\n        kotlin(&quot;plugin.spring&quot;) version &quot;1.5.31&quot;\r\n    }\r\n    \r\n    group = &quot;com.example&quot;\r\n    version = &quot;0.0.1-SNAPSHOT&quot;\r\n    java.sourceCompatibility = JavaVersion.VERSION_11\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom(configurations.annotationProcessor.get())\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n        implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n        compileOnly(&quot;org.projectlombok:lombok&quot;)\r\n        annotationProcessor(&quot;org.projectlombok:lombok&quot;)\r\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    }\r\n    \r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n        kotlinOptions {\r\n            freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n            jvmTarget = &quot;11&quot;\r\n        }\r\n    }\r\n    \r\n    tasks.withType&lt;Test&gt; {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n","title":"Java Controller in Kotlin SpringBoot project","body":"<p>The new/empty project stub was generated using Spring Initializer on IntelliJ using Kotlin as the language choice along with Gradle.</p>\n<p>However, adding a Java controller to the project root does not seem to be found when the application is run. All endpoints return a 404. I tested a Kotlin controller and it is working as expected.</p>\n<p>Example Java Controller:</p>\n<pre><code>@Controller\npublic class TestController {\n    @PostMapping(&quot;/&quot;)\n    public String test() {\n        return &quot;test&quot;;\n    }\n}\n</code></pre>\n<p>Example Kotlin Controller:</p>\n<pre><code>@Controller\nclass TestController {\n    @GetMapping(&quot;/&quot;)\n    fun test(model: Model): String {\n        return &quot;test&quot;\n    }\n}\n</code></pre>\n<p>build.gradle.kts:</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;2.5.5&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.5.31&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.5.31&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_11\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    compileOnly(&quot;org.projectlombok:lombok&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;11&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","jdbc","connection","database-connection"],"answers":[{"tags":[],"owner":{"account_id":11890894,"reputation":143,"user_id":8701784,"display_name":"Yakim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633440490,"creation_date":1633440490,"answer_id":69451384,"question_id":69450939,"body_markdown":"you can use \r\n\r\n    DatabaseMetaData metaData = connection.getMetaData();\r\n          String[] types = {&quot;TABLE&quot;};\r\n          //Retrieving the columns in the database\r\n          ResultSet tables = metaData.getTables(null, null, &quot;%&quot;, types);\r\n\r\nfor getting list if tables. But maybe it is better to use ORM","title":"How to get Entity and Table from Connection","body":"<p>you can use</p>\n<pre><code>DatabaseMetaData metaData = connection.getMetaData();\n      String[] types = {&quot;TABLE&quot;};\n      //Retrieving the columns in the database\n      ResultSet tables = metaData.getTables(null, null, &quot;%&quot;, types);\n</code></pre>\n<p>for getting list if tables. But maybe it is better to use ORM</p>\n"},{"tags":[],"owner":{"account_id":14729237,"reputation":261,"user_id":10788507,"display_name":"Franco Berardi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633441490,"creation_date":1633440862,"answer_id":69451472,"question_id":69450939,"body_markdown":"You could create a baseEntity class with an abstract method &quot;getTableName&quot; to be sure that any class in the model must implement it.\r\n\r\n**Generic entity**\r\n\r\n    public abstract class BaseEntity implements Serializable {\r\n    \r\n        private OffsetDateTime createdAt;\r\n    \r\n        private String createdBy;\r\n    \r\n        private OffsetDateTime updatedAt;\r\n    \r\n        private String updatedBy;\r\n    \r\n        private boolean deleted;\r\n    \r\n        private String deletedBy;\r\n    \r\n        private OffsetDateTime deletedAt;\r\n    \r\n        public abstract Long getId();\r\n        \r\n        public abstract String getTableName();\r\n    \r\n        public OffsetDateTime getCreatedAt() {\r\n            return createdAt;\r\n        }\r\n    \r\n        public String getCreatedBy() {\r\n            return createdBy;\r\n        }\r\n    \r\n        public OffsetDateTime getUpdatedAt() {\r\n            return updatedAt;\r\n        }\r\n    \r\n        public String getUpdatedBy() {\r\n            return updatedBy;\r\n        }\r\n    \r\n        public boolean isDeleted() {\r\n            return deleted;\r\n        }\r\n    \r\n        public String getDeletedBy() {\r\n            return deletedBy;\r\n        }\r\n    \r\n        public OffsetDateTime getDeletedAt() {\r\n            return deletedAt;\r\n        }\r\n    }\r\n\r\n**Student entity must extends baseEntity**\r\n\r\n    public class Student extends BaseEntity {\r\n        private static final String TABLE = &quot;STUDENT&quot;;\r\n    \r\n        private Long id;\r\n    \r\n        public Student() {\r\n        }\r\n    \r\n        public Student(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Override\r\n        public Long getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Override\r\n        public String getTableName() {\r\n            return TABLE;\r\n        }    \r\n    }\r\n\r\n**How to build stmt?**\r\n\r\n    public static String deleteStmt = &quot;DELETE FROM %s WHERE id = ?&quot;;\r\n    \r\n    public static void main(String[] args) {\r\n        Connection conn = ...;\r\n        Student student = new Student(1L);\r\n        \r\n        deleteEntity(student, conn);        \r\n    }\r\n\r\n    public static String deleteEntity(BaseEntity entity, Connection connection) {\r\n        String stmt = String.format(deleteStmt, entity.getTableName());\r\n        \r\n        \r\n        try {\r\n            try (PreparedStatement st = connection\r\n                    .prepareStatement(stmt)) {\r\n\r\n                st.setInt(1, entity.getId());\r\n                st.executeUpdate();\r\n            }\r\n        } catch (SQLException ex) {\r\n            throw new IncorrectSqlQueryException(&quot;Some errors with deleting student by ID from table students.&quot;, ex);\r\n        }\r\n    }\r\n","title":"How to get Entity and Table from Connection","body":"<p>You could create a baseEntity class with an abstract method &quot;getTableName&quot; to be sure that any class in the model must implement it.</p>\n<p><strong>Generic entity</strong></p>\n<pre><code>public abstract class BaseEntity implements Serializable {\n\n    private OffsetDateTime createdAt;\n\n    private String createdBy;\n\n    private OffsetDateTime updatedAt;\n\n    private String updatedBy;\n\n    private boolean deleted;\n\n    private String deletedBy;\n\n    private OffsetDateTime deletedAt;\n\n    public abstract Long getId();\n    \n    public abstract String getTableName();\n\n    public OffsetDateTime getCreatedAt() {\n        return createdAt;\n    }\n\n    public String getCreatedBy() {\n        return createdBy;\n    }\n\n    public OffsetDateTime getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public String getUpdatedBy() {\n        return updatedBy;\n    }\n\n    public boolean isDeleted() {\n        return deleted;\n    }\n\n    public String getDeletedBy() {\n        return deletedBy;\n    }\n\n    public OffsetDateTime getDeletedAt() {\n        return deletedAt;\n    }\n}\n</code></pre>\n<p><strong>Student entity must extends baseEntity</strong></p>\n<pre><code>public class Student extends BaseEntity {\n    private static final String TABLE = &quot;STUDENT&quot;;\n\n    private Long id;\n\n    public Student() {\n    }\n\n    public Student(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public Long getId() {\n        return this.id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public String getTableName() {\n        return TABLE;\n    }    \n}\n</code></pre>\n<p><strong>How to build stmt?</strong></p>\n<pre><code>public static String deleteStmt = &quot;DELETE FROM %s WHERE id = ?&quot;;\n\npublic static void main(String[] args) {\n    Connection conn = ...;\n    Student student = new Student(1L);\n    \n    deleteEntity(student, conn);        \n}\n\npublic static String deleteEntity(BaseEntity entity, Connection connection) {\n    String stmt = String.format(deleteStmt, entity.getTableName());\n    \n    \n    try {\n        try (PreparedStatement st = connection\n                .prepareStatement(stmt)) {\n\n            st.setInt(1, entity.getId());\n            st.executeUpdate();\n        }\n    } catch (SQLException ex) {\n        throw new IncorrectSqlQueryException(&quot;Some errors with deleting student by ID from table students.&quot;, ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22930972,"reputation":13,"user_id":17065267,"display_name":"Mary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633530697,"creation_date":1633438766,"question_id":69450939,"body_markdown":"I use JDBC and I have the method like this \r\n\r\n     @Override\r\n    public void deleteStudentById(int studentId, Connection connection) {\r\n\r\n        try {\r\n            try (PreparedStatement st = connection\r\n                    .prepareStatement(&quot;DELETE FROM students WHERE student_id=?&quot;)) {\r\n\r\n                st.setInt(1, studentId);\r\n                st.executeUpdate();\r\n            }\r\n        } catch (SQLException ex) {\r\n            throw new IncorrectSqlQueryException(&quot;Some errors with deleting student by ID from table students.&quot;, ex);\r\n        }\r\n    }\r\n\r\nI want to rewrite this method and make it more general that not only student can be deleted but any entity, something like that \r\n\r\n    @Override\r\n    public void deleteById(Entity entity, Connection connection) { };\r\n\r\nMy Connection calls here \r\n\r\n            Connection connection = connectionFactory.connectToDatabase();\r\nand here is implementation of it \r\n\r\n    public class ConnectionFactory {\r\n\r\n    private static final String PATH_TO_DATABASE_PROPERTIES = &quot;db.properties&quot;;\r\n\r\n    public static Connection connectToDatabase() {\r\n        DBProperties dbProperties = new DBProperties();\r\n\r\n        Connection connection = null;\r\n        try {\r\n            connection = dbProperties.getConfigProperties(PATH_TO_DATABASE_PROPERTIES);\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return connection;\r\n    }\r\n    }\r\n\r\nIn order to solve it , as I understand I need to get table Name from Connection. Is it possible and how can I do it?\r\n\r\nI tried `connection.getSchema()` but it returned just `public`","title":"How to get Entity and Table from Connection","body":"<p>I use JDBC and I have the method like this</p>\n<pre><code> @Override\npublic void deleteStudentById(int studentId, Connection connection) {\n\n    try {\n        try (PreparedStatement st = connection\n                .prepareStatement(&quot;DELETE FROM students WHERE student_id=?&quot;)) {\n\n            st.setInt(1, studentId);\n            st.executeUpdate();\n        }\n    } catch (SQLException ex) {\n        throw new IncorrectSqlQueryException(&quot;Some errors with deleting student by ID from table students.&quot;, ex);\n    }\n}\n</code></pre>\n<p>I want to rewrite this method and make it more general that not only student can be deleted but any entity, something like that</p>\n<pre><code>@Override\npublic void deleteById(Entity entity, Connection connection) { };\n</code></pre>\n<p>My Connection calls here</p>\n<pre><code>        Connection connection = connectionFactory.connectToDatabase();\n</code></pre>\n<p>and here is implementation of it</p>\n<pre><code>public class ConnectionFactory {\n\nprivate static final String PATH_TO_DATABASE_PROPERTIES = &quot;db.properties&quot;;\n\npublic static Connection connectToDatabase() {\n    DBProperties dbProperties = new DBProperties();\n\n    Connection connection = null;\n    try {\n        connection = dbProperties.getConfigProperties(PATH_TO_DATABASE_PROPERTIES);\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    return connection;\n}\n}\n</code></pre>\n<p>In order to solve it , as I understand I need to get table Name from Connection. Is it possible and how can I do it?</p>\n<p>I tried <code>connection.getSchema()</code> but it returned just <code>public</code></p>\n"},{"tags":["java","oracle","query-optimization","sql-execution-plan"],"comments":[{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1633417458,"post_id":69445932,"comment_id":122746932,"body_markdown":"if the elapsed time is more or less the same, the problem is not the `fetching` phase, but the `execution` phase of the sql statement. You are using adaptive plans, so the CBO is changing plans if it considers is better. I know sometimes it doesn&#39;t , but normally it is related to statistics collection. How often are you collecting statistics in the partitioned table ? and which granularity are you using ? Do you have indexes in the partitioned table ?","body":"if the elapsed time is more or less the same, the problem is not the <code>fetching</code> phase, but the <code>execution</code> phase of the sql statement. You are using adaptive plans, so the CBO is changing plans if it considers is better. I know sometimes it doesn&#39;t , but normally it is related to statistics collection. How often are you collecting statistics in the partitioned table ? and which granularity are you using ? Do you have indexes in the partitioned table ?"},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":0,"creation_date":1633417463,"post_id":69445932,"comment_id":122746938,"body_markdown":"It appears that `item_history` is partitioned.  What is the partition key?  `event_date`?  How selective is `operator_id` in `package`?  Is that defined as a `varchar2` rather than a `number`?  Because your query is comparing it to a number which would prevent the optimizer from using an index on `operator_id` like I&#39;d expect you&#39;d want to.  I&#39;d expect that you&#39;d want `package_name` indexed as well since I assume that would be reasonably selective.  Are any of the other predicates selective?","body":"It appears that <code>item_history</code> is partitioned.  What is the partition key?  <code>event_date</code>?  How selective is <code>operator_id</code> in <code>package</code>?  Is that defined as a <code>varchar2</code> rather than a <code>number</code>?  Because your query is comparing it to a number which would prevent the optimizer from using an index on <code>operator_id</code> like I&#39;d expect you&#39;d want to.  I&#39;d expect that you&#39;d want <code>package_name</code> indexed as well since I assume that would be reasonably selective.  Are any of the other predicates selective?"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1633442060,"post_id":69445932,"comment_id":122757033,"body_markdown":"@RobertoHernandez I think the collection is daily, but I don&#39;t know about granularity. The index over the event_date exists.","body":"@RobertoHernandez I think the collection is daily, but I don&#39;t know about granularity. The index over the event_date exists."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1633442453,"post_id":69445932,"comment_id":122757243,"body_markdown":"@JustinCave `OPERATOR_ID` is String in Java, in table is varchar(32), is a FK to another table. `package_name` is not indexed, only has an unique constraint.","body":"@JustinCave <code>OPERATOR_ID</code> is String in Java, in table is varchar(32), is a FK to another table. <code>package_name</code> is not indexed, only has an unique constraint."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1633442508,"post_id":69445932,"comment_id":122757278,"body_markdown":"I have updated the plans used before and during the incident.","body":"I have updated the plans used before and during the incident."},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1633444165,"post_id":69445932,"comment_id":122758059,"body_markdown":"the third plan contains a PARALLEL execution, that is why you see entries containing the words PX COORDINATOR and PX SEND. Either you run the query once with parallel or your DBA has created a SQL Profile with parallelism.","body":"the third plan contains a PARALLEL execution, that is why you see entries containing the words PX COORDINATOR and PX SEND. Either you run the query once with parallel or your DBA has created a SQL Profile with parallelism."},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":0,"creation_date":1633467809,"post_id":69445932,"comment_id":122766788,"body_markdown":"If `operator_id` is a `varchar2` in the database and is being bound as a String in Java, the examples you posted where you were comparing it to a number are problematic because it prevents Oracle from using the index on `package` that the second plan appears to be using.","body":"If <code>operator_id</code> is a <code>varchar2</code> in the database and is being bound as a String in Java, the examples you posted where you were comparing it to a number are problematic because it prevents Oracle from using the index on <code>package</code> that the second plan appears to be using."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1633511400,"post_id":69445932,"comment_id":122776400,"body_markdown":"@JustinCave sorry, I checked the report from DBA, the first param is VARCHAR, not number. The SQL is my test, not the real one. I ran the queries again with string param in SQL and updated the question, but the time taken seems not changed much.","body":"@JustinCave sorry, I checked the report from DBA, the first param is VARCHAR, not number. The SQL is my test, not the real one. I ran the queries again with string param in SQL and updated the question, but the time taken seems not changed much."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1633511547,"post_id":69445932,"comment_id":122776474,"body_markdown":"@RobertoHernandez The report is taken from production, and I think at that time, Oracle changed the plan itself, without human interference. The production always runs fine and fulfills its task, so no one had any reason to change anything.","body":"@RobertoHernandez The report is taken from production, and I think at that time, Oracle changed the plan itself, without human interference. The production always runs fine and fulfills its task, so no one had any reason to change anything."},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":1,"creation_date":1633519373,"post_id":69445932,"comment_id":122779745,"body_markdown":"@WesternGun, Oracle never does that. The third one is because a SQL Profile for this SQL ID was generated with parellellism. That might happen automatically if your DBA has enabled auto sql profile generation.","body":"@WesternGun, Oracle never does that. The third one is because a SQL Profile for this SQL ID was generated with parellellism. That might happen automatically if your DBA has enabled auto sql profile generation."},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1633519538,"post_id":69445932,"comment_id":122779811,"body_markdown":"@WesternGun, if your Java Application is using `bind variables` a possibility is that the adaptive plan is suffering from `bind peeking`.  Check this with your dba. I would advice to create a SQL Plan Baseline for the sqlid / plan hash you say it works fine. Thereby Oracle will use always that plan","body":"@WesternGun, if your Java Application is using <code>bind variables</code> a possibility is that the adaptive plan is suffering from <code>bind peeking</code>.  Check this with your dba. I would advice to create a SQL Plan Baseline for the sqlid / plan hash you say it works fine. Thereby Oracle will use always that plan"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1633523873,"post_id":69445932,"comment_id":122781689,"body_markdown":"Thanks @RobertoHernandez, I am not DBA but let me try to summarize: 1, ask our DBA to disable &quot;Auto SQL profile generation&quot;, 2, create a &quot;SQL plan baseline&quot; for the good execution plan, right? So, what command/query should the DBA run? Thanks.","body":"Thanks @RobertoHernandez, I am not DBA but let me try to summarize: 1, ask our DBA to disable &quot;Auto SQL profile generation&quot;, 2, create a &quot;SQL plan baseline&quot; for the good execution plan, right? So, what command/query should the DBA run? Thanks."},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1633529833,"post_id":69445932,"comment_id":122784504,"body_markdown":"@WesternGun, I will put that in the answer section","body":"@WesternGun, I will put that in the answer section"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1633530290,"post_id":69445932,"comment_id":122784718,"body_markdown":"@RobertoHernandez thanks. Do you think it&#39;s better to change the query to using `fetch first 500000 rows only` or not? I mean, should I touch the code, wait for another week, and see which is the new plan in use, is it better, or just don&#39;t touch the code, let DBA do their work?","body":"@RobertoHernandez thanks. Do you think it&#39;s better to change the query to using <code>fetch first 500000 rows only</code> or not? I mean, should I touch the code, wait for another week, and see which is the new plan in use, is it better, or just don&#39;t touch the code, let DBA do their work?"},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":1,"creation_date":1633530793,"post_id":69445932,"comment_id":122784924,"body_markdown":"I think your wrong execution was due to the SQL Profile ( the one with parallel workers ). I would insist for your DBA to avoid auto sql profile generation altogether. I don&#39;t think you have a problem in fetching, but in execution. Nevertheless, if your bind peeking issue might lead to the optimizer to use different plans, Baselines are always the way to go, as you assure the same plan will always be used no matter what values are in the bind variables. I also believe the indexes are not used because the selectivity is not enough to compensate, thus Oracle is using full scan","body":"I think your wrong execution was due to the SQL Profile ( the one with parallel workers ). I would insist for your DBA to avoid auto sql profile generation altogether. I don&#39;t think you have a problem in fetching, but in execution. Nevertheless, if your bind peeking issue might lead to the optimizer to use different plans, Baselines are always the way to go, as you assure the same plan will always be used no matter what values are in the bind variables. I also believe the indexes are not used because the selectivity is not enough to compensate, thus Oracle is using full scan"}],"answers":[{"tags":[],"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633530652,"creation_date":1633530652,"answer_id":69467678,"question_id":69445932,"body_markdown":"As requested by the comment&#39;s section, let me summarize:\r\n\r\n - If one statement runs in parallel with the same `sql_id`, then it is clear that either you run the statement, or a SQL Profile was generated as recommendation to improve the execution using parallel query. \r\n - That can only happen automatically when SQL Profiles are automatically accepted. \r\n - My advice: That is a really bad practice. SQL Profiles should not be automatically accepted. They should be reviewed by the DBAS, and only accepted after consideration and proper analysis. \r\n\r\nA normal scenario is the so called `bind peeking` issue. I am not going to explain it, you have a lot of articles in Internet about it. One way to fix it is to create a `sql plan baseline`. \r\n\r\n**How to create a SQL Plan Baseline ?**\r\n\r\nFrom Cache \r\n\r\nStep 1  \r\n\r\nManual plan loading can be used in conjunction with, or as an alternative to automatic plan capture. The load operations are performed using the `DBMS_SPM` package, which allows SQL plan baselines to be loaded from SQL tuning sets or from specific SQL statements in the cursor cache. Manually loaded statements are flagged as accepted by default. If a SQL plan baseline is present for a SQL statement, the plan is added to the baseline, otherwise a new baseline is created.\r\n\r\n    DECLARE\r\n      l_plans_loaded  PLS_INTEGER;\r\n    BEGIN\r\n      l_plans_loaded := DBMS_SPM.load_plans_from_sqlset(\r\n        sqlset_name =&gt; &#39;my_sqlset&#39;);\r\n    END;\r\n    /\r\n\r\n    DECLARE\r\n      l_plans_loaded  PLS_INTEGER;\r\n    BEGIN\r\n      l_plans_loaded := DBMS_SPM.load_plans_from_cursor_cache(\r\n        sql_id =&gt; &#39;yoursqlid&#39;, plan_hash_value =&gt; &#39;yourplanhasvalue&#39;);\r\n    END;\r\n    /\r\n\r\nThe return value of the `LOAD_PLANS_FROM_SQLSET` and `LOAD_PLANS_FROM_CURSOR_CACHE` functions indicates the number of plan loaded by the function call.\r\n\r\n    SELECT sql_handle, plan_name, enabled, accepted FROM   dba_sql_plan_baselines \r\n\r\nVerify that the plan is accepted and enabled. \r\n\r\nIf the `sql_id` and `plan_hash_value` are not longer in memory, you would need to use AWR for creating the baseline. If that is the case, here you have a very good guide step by step\r\n\r\n[Sql Baseline using AWR][1]\r\n\r\n\r\n  [1]: https://dbtechno.blogspot.com/2020/06/12c-sql-baseline-loading-sql-plan-from.html","title":"Oracle DB - why would execution plan of this seeming wrong query changed suddenly? Not sure if the correct version can fix the plan","body":"<p>As requested by the comment's section, let me summarize:</p>\n<ul>\n<li>If one statement runs in parallel with the same <code>sql_id</code>, then it is clear that either you run the statement, or a SQL Profile was generated as recommendation to improve the execution using parallel query.</li>\n<li>That can only happen automatically when SQL Profiles are automatically accepted.</li>\n<li>My advice: That is a really bad practice. SQL Profiles should not be automatically accepted. They should be reviewed by the DBAS, and only accepted after consideration and proper analysis.</li>\n</ul>\n<p>A normal scenario is the so called <code>bind peeking</code> issue. I am not going to explain it, you have a lot of articles in Internet about it. One way to fix it is to create a <code>sql plan baseline</code>.</p>\n<p><strong>How to create a SQL Plan Baseline ?</strong></p>\n<p>From Cache</p>\n<p>Step 1</p>\n<p>Manual plan loading can be used in conjunction with, or as an alternative to automatic plan capture. The load operations are performed using the <code>DBMS_SPM</code> package, which allows SQL plan baselines to be loaded from SQL tuning sets or from specific SQL statements in the cursor cache. Manually loaded statements are flagged as accepted by default. If a SQL plan baseline is present for a SQL statement, the plan is added to the baseline, otherwise a new baseline is created.</p>\n<pre><code>DECLARE\n  l_plans_loaded  PLS_INTEGER;\nBEGIN\n  l_plans_loaded := DBMS_SPM.load_plans_from_sqlset(\n    sqlset_name =&gt; 'my_sqlset');\nEND;\n/\n\nDECLARE\n  l_plans_loaded  PLS_INTEGER;\nBEGIN\n  l_plans_loaded := DBMS_SPM.load_plans_from_cursor_cache(\n    sql_id =&gt; 'yoursqlid', plan_hash_value =&gt; 'yourplanhasvalue');\nEND;\n/\n</code></pre>\n<p>The return value of the <code>LOAD_PLANS_FROM_SQLSET</code> and <code>LOAD_PLANS_FROM_CURSOR_CACHE</code> functions indicates the number of plan loaded by the function call.</p>\n<pre><code>SELECT sql_handle, plan_name, enabled, accepted FROM   dba_sql_plan_baselines \n</code></pre>\n<p>Verify that the plan is accepted and enabled.</p>\n<p>If the <code>sql_id</code> and <code>plan_hash_value</code> are not longer in memory, you would need to use AWR for creating the baseline. If that is the case, here you have a very good guide step by step</p>\n<p><a href=\"https://dbtechno.blogspot.com/2020/06/12c-sql-baseline-loading-sql-plan-from.html\" rel=\"nofollow noreferrer\">Sql Baseline using AWR</a></p>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633530652,"creation_date":1633416265,"question_id":69445932,"body_markdown":"Long version:\r\nI have a large table which I want to execute a query like:\r\n\r\n```sql\r\n-- original\r\nselect IH.* from ITEM_HISTORY IH \r\n    join ITEM_PACKAGE IP on IP.PACKAGE_NAME = IH.PACKAGE_NAME \r\n    where IP.OPERATOR_ID = ? \r\n    and (\r\n        IH.OPERATION != &#39;CHANGE_OWNER&#39; OR IH.EVENT_DATE = IH.INSTALLATION_DATE\r\n    ) and IH.EXTERNAL_SERVICE_ACTION != &#39;NOT_APPLICABLE&#39; \r\n    and IH.EVENT_DATE &gt;= ? and IH.EVENT_DATE &lt; ?\r\n    and ROWNUM &lt;= 500000\r\n    order by IH.EVENT_DATE\r\n```\r\nwhich is a native query defined in `@NamedNativeQuery` of JPA.\r\nEach row represents a change event happened to an item. There are so many operators who can modify items, so `ITEM_HISTORY` table is a huge table which oftentimes causes us trouble. It contains millions of records and often times out. \r\n\r\nRecently, we have an incident where when production pods running this query, Oracle suddenly changed the execution plan to a bad one, going a less optimized &quot;route&quot;, and slowed down the pods, finally leads to application non responsiveness. We had to restart the pod to make it back to normal. Clients are unhappy and DB team just fixed the execution plan to the usual, better one. But they ask us, as DEV, what can be done at application side.\r\n\r\nAt first sight, I think: ah, this is wrong, because in Oracle database, we should use &quot;inline view&quot; or `fetch first X rows`, because in this way, Oracle database knows how to optimize it with stopkey sort or window sort pushed rank, so, this is an easy one!(I learned these from [here](https://www.youtube.com/watch?v=rhOVF82KY7E) and [here](https://blogs.oracle.com/oraclemagazine/post/on-rownum-and-limiting-results))\r\n\r\nSo I changed it to:\r\n\r\n```sql\r\n-- version 1\r\nselect * from (\r\n    select IH.* from ITEM_HISTORY IH \r\n        join ITEM_PACKAGE IP on IP.PACKAGE_NAME = IH.PACKAGE_NAME \r\n        where IP.OPERATOR_ID = ? \r\n        and (\r\n            IH.OPERATION != &#39;CHANGE_OWNER&#39; OR IH.EVENT_DATE = IH.INSTALLATION_DATE\r\n        ) and IH.EXTERNAL_SERVICE_ACTION != &#39;NOT_APPLICABLE&#39; \r\n        and IH.EVENT_DATE &gt;= ? and IH.EVENT_DATE &lt; ?\r\n        order by IH.EVENT_DATE\r\n) where ROWNUM &lt;= 500000\r\n```\r\nAnd, this one:\r\n```sql\r\n-- version 2\r\nselect IH.* from ITEM_HISTORY IH \r\n    join ITEM_PACKAGE IP on IP.PACKAGE_NAME = IH.PACKAGE_NAME \r\n    where IP.OPERATOR_ID = ? \r\n    and (\r\n        IH.OPERATION != &#39;CHANGE_OWNER&#39; OR IH.EVENT_DATE = IH.INSTALLATION_DATE\r\n    ) and IH.EXTERNAL_SERVICE_ACTION != &#39;NOT_APPLICABLE&#39; \r\n    and IH.EVENT_DATE &gt;= ? and IH.EVENT_DATE &lt; ?\r\n    and ROWNUM &lt;= 500000\r\n    order by IH.EVENT_DATE\r\n    fetch first 500000 rows only;\r\n```\r\n\r\nBut, I don&#39;t find much performance improvement. I see version 1 is even slower than original, and version 2 is faster, but the execution plans shows the same cost. \r\n(The test is done in staging env, where the range filter will fetch 400K rows)\r\n\r\n```sql\r\n-- original 21789 ms / 34598 ms\r\nexplain plan for\r\nselect * from ITEM_HISTORY IH \r\njoin PACKAGE P on P.PACKAGE_NAME = IH.PACKAGE_NAME\r\nwhere OPERATOR_ID = &#39;88000001&#39; and (IH.OPERATION != &#39;CHANGE_OWNER&#39; OR IH.EVENT_DATE = IH.INSTALLATION_DATE) \r\nand IH.EXTERNAL_SERVICE_ACTION != &#39;NOT_APPLICABLE&#39;\r\nand IH.EVENT_DATE &gt;= TO_DATE(&#39;2018/07/01&#39;, &#39;yyyy/mm/dd&#39;) and IH.EVENT_DATE &lt; TO_DATE(&#39;2020/05/01&#39;, &#39;yyyy/mm/dd&#39;)\r\nand rownum &lt; 500000\r\norder by IH.EVENT_DATE;\r\n\r\nSELECT * FROM TABLE(DBMS_XPLAN.DIP.AY(NULL));\r\n-- Plan hash.value: 1529757427\r\n--  \r\n-- ----------------------------------------------------------------------------------------------------------------------------\r\n-- | Id  | Operation                   | Name                 | Rows  | Bytes |TempP.| Cost (%CPU)| Time     | Pstart| Pstop |\r\n-- ----------------------------------------------------------------------------------------------------------------------------\r\n-- |   0 | SELECT STATEMENT            |                      | 66280 |    29M|       |   133K  (1)| 00:00:06 |       |       |\r\n-- |   1 |  SORT ORDER BY              |                      | 66280 |    29M|    34M|   133K  (1)| 00:00:06 |       |       |\r\n-- |*  2 |   COUNT STOPKEY             |                      |       |       |       |            |          |       |       |\r\n-- |*  3 |    hash.JOIN                |                      | 66280 |    29M|       |   126K  (1)| 00:00:05 |       |       |\r\n-- |*  4 |     TABLE ACCESS FULL       | PACKAGE              |   545 |   120K|       |    25   (0)| 00:00:01 |       |       |\r\n-- |   5 |     PARTITION RANGE ITERATOR|                      |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\r\n-- |*  6 |      TABLE ACCESS FULL      | ITEM_HISTORY         |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\r\n-- ----------------------------------------------------------------------------------------------------------------------------\r\n--  \r\n-- Predicate Information (identified by operation id):\r\n-- ---------------------------------------------------\r\n--  \r\n--    2 - filter(ROWNUM&lt;500000)\r\n--    3 - access(&quot;P&quot;.&quot;PACKAGE_NAME&quot;=&quot;IH&quot;.&quot;PACKAGE_NAME&quot;)\r\n--    4 - filter(&quot;P&quot;.&quot;OPERATOR_ID&quot;=&#39;88000001&#39;)\r\n--    6 - filter(&quot;IH&quot;.&quot;EXTERNAL_SERVICE_ACTION&quot;&lt;&gt;&#39;NOT_APPLICABLE&#39; AND (&quot;IH&quot;.&quot;OPERATION&quot;&lt;&gt;&#39;CHANGE_OWNER&#39; OR \r\n--               &quot;IH&quot;.&quot;EVENT_DATE&quot;=&quot;IH&quot;.&quot;INSTALLATION_DATE&quot;))\r\n--  \r\n-- Note\r\n-- -----\r\n--    - this is an adaptive plan\r\n\r\n-- final query(new) 33342 ms / 26423 ms\r\nselect * from (\r\n    select * from ITEM_HISTORY IH \r\n    join PACKAGE P on P.PACKAGE_NAME = IH.PACKAGE_NAME\r\n    where OPERATOR_ID = &#39;88000001&#39; and (IH.OPERATION != &#39;CHANGE_OWNER&#39; OR IH.EVENT_DATE = IH.INSTALLATION_DATE) \r\n    and IH.EXTERNAL_SERVICE_ACTION != &#39;NOT_APPLICABLE&#39;\r\n    and IH.EVENT_DATE &gt;= TO_DATE(&#39;2018/07/01&#39;, &#39;yyyy/mm/dd&#39;) and IH.EVENT_DATE &lt; TO_DATE(&#39;2020/05/01&#39;, &#39;yyyy/mm/dd&#39;)\r\n    order by IH.EVENT_DATE\r\n) where rownum &lt; 500000;\r\nSELECT *   FROM TABLE(DBMS_XPLAN.DIP.AY(NULL));\r\n-- Plan hash.value: 3376840570\r\n--  \r\n-- -----------------------------------------------------------------------------------------------------------------------------\r\n-- | Id  | Operation                    | Name                 | Rows  | Bytes |TempP.| Cost (%CPU)| Time     | Pstart| Pstop |\r\n-- -----------------------------------------------------------------------------------------------------------------------------\r\n-- |   0 | SELECT STATEMENT             |                      | 66280 |   412M|       |   133K  (1)| 00:00:06 |       |       |\r\n-- |*  1 |  COUNT STOPKEY               |                      |       |       |       |            |          |       |       |\r\n-- |   2 |   VIEW                       |                      | 66280 |   412M|       |   133K  (1)| 00:00:06 |       |       |\r\n-- |*  3 |    SORT ORDER BY STOPKEY     |                      | 66280 |    29M|    34M|   133K  (1)| 00:00:06 |       |       |\r\n-- |*  4 |     hash.JOIN                |                      | 66280 |    29M|       |   126K  (1)| 00:00:05 |       |       |\r\n-- |*  5 |      TABLE ACCESS FULL       | PACKAGE |   545 |   120K|       |    25   (0)| 00:00:01 |       |       |\r\n-- |   6 |      PARTITION RANGE ITERATOR|                      |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\r\n-- |*  7 |       TABLE ACCESS FULL      | ITEM_HISTORY |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\r\n-- -----------------------------------------------------------------------------------------------------------------------------\r\n--  \r\n-- Predicate Information (identified by operation id):\r\n-- ---------------------------------------------------\r\n--  \r\n--    1 - filter(ROWNUM&lt;500000)\r\n--    3 - filter(ROWNUM&lt;500000)\r\n--    4 - access(&quot;P&quot;.&quot;PACKAGE_NAME&quot;=&quot;IH&quot;.&quot;PACKAGE_NAME&quot;)\r\n--    5 - filter(&quot;P&quot;.&quot;OPERATOR_ID&quot;=&#39;88000001&#39;)\r\n--    7 - filter(&quot;IH&quot;.&quot;EXTERNAL_SERVICE_ACTION&quot;&lt;&gt;&#39;NOT_APPLICABLE&#39; AND (&quot;IH&quot;.&quot;OPERATION&quot;&lt;&gt;&#39;CHANGE_OWNER&#39; OR \r\n--               &quot;IH&quot;.&quot;EVENT_DATE&quot;=&quot;IH&quot;.&quot;INSTALLATION_DATE&quot;))\r\n\r\n\r\n-- final query 2(fetch X rows only) 19662 ms / 19437 ms \r\nexplain plan for\r\n    select * from ITEM_HISTORY IH \r\n    join PACKAGE P on P.PACKAGE_NAME = IH.PACKAGE_NAME\r\n    where OPERATOR_ID = &#39;88000001&#39; and (IH.OPERATION != &#39;CHANGE_OWNER&#39; OR IH.EVENT_DATE = IH.INSTALLATION_DATE) \r\n    and IH.EXTERNAL_SERVICE_ACTION != &#39;NOT_APPLICABLE&#39;\r\n    and IH.EVENT_DATE &gt;= TO_DATE(&#39;2018/07/01&#39;, &#39;yyyy/mm/dd&#39;) and IH.EVENT_DATE &lt; TO_DATE(&#39;2020/05/01&#39;, &#39;yyyy/mm/dd&#39;)\r\n    order by IH.EVENT_DATE\r\nfetch first 500000 rows only;\r\nSELECT * \r\n  FROM TABLE(DBMS_XPLAN.DIP.AY(NULL));\r\n--Plan hash.value: 3207167953\r\n-- \r\n------------------------------------------------------------------------------------------------------------------------------\r\n--| Id  | Operation                   | Name                 | Rows  | Bytes |TempP.| Cost (%CPU)| Time     | Pstart| Pstop |\r\n------------------------------------------------------------------------------------------------------------------------------\r\n--|   0 | SELECT STATEMENT            |                      |   500K|  3120M|       |   133K  (1)| 00:00:06 |       |       |\r\n--|*  1 |  VIEW                       |                      |   500K|  3120M|       |   133K  (1)| 00:00:06 |       |       |\r\n--|*  2 |   WINDOW SORT PUIH.D RANK   |                      | 66280 |    29M|    34M|   133K  (1)| 00:00:06 |       |       |\r\n--|*  3 |    hash.JOIN                |                      | 66280 |    29M|       |   126K  (1)| 00:00:05 |       |       |\r\n--|*  4 |     TABLE ACCESS FULL       | PACKAGE              |   545 |   120K|       |    25   (0)| 00:00:01 |       |       |\r\n--|   5 |     PARTITION RANGE ITERATOR|                      |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\r\n--|*  6 |      TABLE ACCESS FULL      | ITEM_HISTORY         |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\r\n------------------------------------------------------------------------------------------------------------------------------\r\n-- \r\n--Predicate Information (identified by operation id):\r\n-----------------------------------------------------\r\n-- \r\n--   1 - filter(&quot;from$_subquery$_004&quot;.&quot;rowlimit_$$_rownumber&quot;&lt;=500000)\r\n--   2 - filter(ROW_NUMBER() OVER ( ORDER BY &quot;IH&quot;.&quot;EVENT_DATE&quot;)&lt;=500000)\r\n--   3 - access(&quot;P&quot;.&quot;PACKAGE_NAME&quot;=&quot;IH&quot;.&quot;PACKAGE_NAME&quot;)\r\n--   4 - filter(&quot;P&quot;.&quot;OPERATOR_ID&quot;=&#39;88000001&#39;)\r\n--   6 - filter(&quot;IH&quot;.&quot;EXTERNAL_SERVICE_ACTION&quot;&lt;&gt;&#39;NOT_APPLICABLE&#39; AND (&quot;IH&quot;.&quot;OPERATION&quot;&lt;&gt;&#39;CHANGE_OWNER&#39; OR \r\n--              &quot;IH&quot;.&quot;EVENT_DATE&quot;=&quot;IH&quot;.&quot;INSTALLATION_DATE&quot;))\r\n\r\n```\r\n\r\n\r\nSo, the question:\r\n\r\n - At last, will the version 2 solve the execution changed to bad one problem? I am not sure.\r\n &lt;strike&gt;- Does it have to do with the rows fetched? I suspect that most of the time, the rows are so few, that original version, even wrong, have covered all rows, so it&#39;s actually correct, as when X &lt; 500K, original will fetch all and sort, which gives correct results. But at the time of incident the rows number became bigger, and the plan changed. But I am not DBA and I am not sure&lt;/strike&gt; DBA said that this query always returns almost 500K records indeed, so we always have a lot of rows to fetch.\r\n - What can cause an execution plan change, and then slow down the Oracle DB, and then leads to application crash? I don&#39;t get it.\r\n\r\nEDIT:\r\nI managed to get the execution plans used during the incident. The first one and second one are usually used. The bad one is the third one. Timestamp 1 and 2 are several days before incident time. Timestamp 3 is incident time. \r\n\r\n| DBID | SQL_ID | PLAN_HASH_VALUE | ID | OPERATION | OPTIONS | OBJECT_NODE | OBJECT# | OBJECT_OWNER | OBJECT_NAME | OBJECT_ALIAS | OBJECT_TYPE | OPTIMIZER | PARENT_ID | DEPTH | POSITION | SEARCH_COLUMNS | COST | CARDINALITY | BYTES | OTHER_TAG | PARTITION_START | PARTITION_STOP | PARTITION_ID | OTHER | DISTRIBUTION | CPU_COST | IO_COST | TEMP_SPACE | ACCESS_PREDICATES | FILTER_PREDICATES | PROJECTION | TIME | QBLOCK_NAME | REMARKS | TIMESTAMP | OTHER_XML | CON_DBID | CON_ID|\r\n| - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - |\r\n| random_number | random_id | hash1 | 0 | SELECT STATEMENT |  |  |  |  |  |  |  | ALL_ROWS |  | 0 | 111 | 0 | 111 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp1 |  | random_number | 0|\r\n| random_number | random_id | hash1 | 1 | SORT | ORDER BY |  |  |  |  |  |  |  | 0 | 1 | 1 | 0 | 111 | 30 | 8220 |  |  |  |  |  |  | 40060576 | 110 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp1 |  | random_number | 0|\r\n| random_number | random_id | hash1 | 2 | COUNT | STOPKEY |  |  |  |  |  |  |  | 1 | 2 | 1 | 0 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp1 |  | random_number | 0|\r\n| random_number | random_id | hash1 | 3 | FILTER |  |  |  |  |  |  |  |  | 2 | 3 | 1 | 0 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp1 |  | random_number | 0|\r\n| random_number | random_id | hash1 | 4 | HASH JOIN |  |  |  |  |  |  |  |  | 3 | 4 | 1 | 0 | 110 | 30 | 8220 |  |  |  |  |  |  | 5581756 | 110 |  |  |  |  | 1 |  |  | timestamp1 |  | random_number | 0|\r\n| random_number | random_id | hash1 | 5 | TABLE ACCESS | FULL |  | 175586 | MY_APP | PACKAGE | SP@SEL$1 | TABLE |  | 4 | 5 | 1 | 0 | 105 | 27 | 945 |  |  |  |  |  |  | 4897690 | 105 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp1 |  | random_number | 0|\r\n| random_number | random_id | hash1 | 6 | PARTITION RANGE | ITERATOR |  |  |  |  |  |  |  | 4 | 5 | 2 | 0 | 5 | 426 | 101814 |  | KEY | KEY | 6 |  |  | 37416 | 5 |  |  |  |  | 1 |  |  | timestamp1 |  | random_number | 0|\r\n| random_number | random_id | hash1 | 7 | TABLE ACCESS | BY LOCAL INDEX ROWID BATCHED |  | 174723 | MY_APP | ITEM_HISTORY | SH@SEL$1 | TABLE |  | 6 | 6 | 1 | 0 | 5 | 426 | 101814 |  | KEY | KEY | 6 |  |  | 37416 | 5 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp1 |  | random_number | 0|\r\n| random_number | random_id | hash1 | 8 | INDEX | RANGE SCAN |  | 174726 | MY_APP | IX_ITEM_HISTORY_EVENTD | SH@SEL$1 | INDEX |  | 7 | 7 | 1 | 1 | 3 | 1 |  |  | KEY | KEY | 6 |  |  | 21764 | 3 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp1 |  | random_number | 0|\r\n|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | |\r\n| random_number | random_id | hash2 | 0 | SELECT STATEMENT |  |  |  |  |  |  |  | ALL_ROWS |  | 0 | 6 | 0 | 6 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 2021-09-01 23:00:00 |  | random_number | 0|\r\n| random_number | random_id | hash2 | 1 | COUNT | STOPKEY |  |  |  |  |  |  |  | 0 | 1 | 1 | 0 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | SEL$58A6D7F6 |  | timestamp2 || random_number | 0|\r\n| random_number | random_id | hash2 | 2 | FILTER |  |  |  |  |  |  |  |  | 1 | 2 | 1 | 0 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp2 |  | random_number | 0|\r\n| random_number | random_id | hash2 | 3 | NESTED LOOPS |  |  |  |  |  |  |  |  | 2 | 3 | 1 | 0 | 6 | 1 | 274 |  |  |  |  |  |  | 47177 | 6 |  |  |  |  | 1 |  |  | timestamp2 |  | random_number | 0|\r\n| random_number | random_id | hash2 | 4 | NESTED LOOPS |  |  |  |  |  |  |  |  | 3 | 4 | 1 | 0 | 6 | 1 | 274 |  |  |  |  |  |  | 47177 | 6 |  |  |  |  | 1 |  |  | timestamp2 |  | random_number | 0|\r\n| random_number | random_id | hash2 | 5 | PARTITION RANGE | ITERATOR |  |  |  |  |  |  |  | 4 | 5 | 1 | 0 | 5 | 1 | 239 |  | KEY | KEY | 5 |  |  | 37416 | 5 |  |  |  |  | 1 |  |  | timestamp2 |  | random_number | 0|\r\n| random_number | random_id | hash2 | 6 | TABLE ACCESS | BY LOCAL INDEX ROWID |  | 174723 | MY_APP | ITEM_HISTORY | SH@SEL$1 | TABLE |  | 5 | 6 | 1 | 0 | 5 | 1 | 239 |  | KEY | KEY | 5 |  |  | 37416 | 5 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp2 |  | random_number | 0|\r\n| random_number | random_id | hash2 | 7 | INDEX | RANGE SCAN |  | 174726 | MY_APP | IX_ITEM_HISTORY_EVENTD | SH@SEL$1 | INDEX |  | 6 | 7 | 1 | 1 | 3 | 1 |  |  | KEY | KEY | 5 |  |  | 21764 | 3 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp2 |  | random_number | 0|\r\n| random_number | random_id | hash2 | 8 | INDEX | UNIQUE SCAN |  | 175998 | MY_APP | UK_PACKAGE_NAME | SP@SEL$1 | INDEX (UNIQUE) |  | 4 | 5 | 2 | 1 | 0 | 1 |  |  |  |  |  |  |  | 1900 | 0 |  |  |  |  |  | SEL$58A6D7F6 |  | timestamp2 |  | random_number | 0|\r\n| random_number | random_id | hash2 | 9 | TABLE ACCESS | BY INDEX ROWID |  | 175586 | MY_APP | PACKAGE | SP@SEL$1 | TABLE |  | 3 | 4 | 2 | 0 | 1 | 1 | 35 |  |  |  |  |  |  | 9761 | 1 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp2 |  | random_number | 0|\r\n|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | |\r\n| random_number | random_id | hash3 | 0 | SELECT STATEMENT |  |  |  |  |  |  |  | HINT: ALL_ROWS |  | 0 | 25551 | 0 | 25551 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 1 | SORT | ORDER BY |  |  |  |  |  |  |  | 0 | 1 | 1 | 0 | 25551 | 391 | 111044 |  |  |  |  |  |  | 1414967960 | 25510 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 2 | COUNT | STOPKEY |  |  |  |  |  |  |  | 1 | 2 | 1 | 0 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 3 | PX COORDINATOR |  |  |  |  |  |  |  |  | 2 | 3 | 1 | 0 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 4 | PX SEND | QC (RANDOM) | :Q1001 |  | SYS | :TQ10001 |  |  |  | 3 | 4 | 1 | 0 | 25550 | 391 | 111044 | PARALLEL_TO_SERIAL |  |  |  |  | QC (RANDOM) | 1376651756 | 25510 |  |  |  |  | 1 |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 5 | COUNT | STOPKEY | :Q1001 |  |  |  |  |  |  | 4 | 5 | 1 | 0 |  |  |  | PARALLEL_COMBINED_WITH_CHILD |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 6 | FILTER |  | :Q1001 |  |  |  |  |  |  | 5 | 6 | 1 | 0 |  |  |  | PARALLEL_COMBINED_WITH_CHILD |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 7 | HASH JOIN |  | :Q1001 |  |  |  |  |  |  | 6 | 7 | 1 | 0 | 25550 | 391 | 111044 | PARALLEL_COMBINED_WITH_PARENT |  |  |  |  |  | 1376651756 | 25510 |  |  |  |  | 1 |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 8 | JOIN FILTER | CREATE | :Q1001 |  | SYS | :BF0000 |  |  |  | 7 | 8 | 1 | 0 | 105 | 21 | 735 | PARALLEL_COMBINED_WITH_PARENT |  |  |  |  |  | 4938130 | 105 |  |  |  |  | 1 |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 9 | PX RECEIVE |  | :Q1001 |  |  |  |  |  |  | 8 | 9 | 1 | 0 | 105 | 21 | 735 | PARALLEL_COMBINED_WITH_PARENT |  |  |  |  |  | 4938130 | 105 |  |  |  |  | 1 |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 10 | PX SEND | BROADCAST | :Q1000 |  | SYS | :TQ10000 |  |  |  | 9 | 10 | 1 | 0 | 105 | 21 | 735 | PARALLEL_FROM_SERIAL |  |  |  |  | BROADCAST | 4938130 | 105 |  |  |  |  | 1 |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 11 | PX SELECTOR |  | :Q1000 |  |  |  |  |  |  | 10 | 11 | 1 | 0 |  |  |  | SINGLE_COMBINED_WITH_CHILD |  |  |  |  |  |  |  |  |  |  |  |  |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 12 | TABLE ACCESS | FULL | :Q1000 | 175586 | MY_APP | PACKAGE | SP@SEL$1 | TABLE |  | 11 | 12 | 1 | 0 | 105 | 21 | 735 | SINGLE_COMBINED_WITH_PARENT |  |  |  |  |  | 4938130 | 105 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 13 | JOIN FILTER | USE | :Q1001 |  | SYS | :BF0000 |  |  |  | 7 | 8 | 2 | 0 | 25445 | 14946 | 3721554 | PARALLEL_COMBINED_WITH_PARENT |  |  |  |  |  | 1370926276 | 25405 |  |  |  |  | 1 |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 14 | PX BLOCK | ITERATOR | :Q1001 |  |  |  |  |  |  | 13 | 9 | 1 | 0 | 25445 | 14946 | 3721554 | PARALLEL_COMBINED_WITH_CHILD | KEY | KEY | 14 |  |  | 1370926276 | 25405 |  |  |  |  | 1 |  |  | timestamp3 |  | random_number | 0|\r\n| random_number | random_id | hash3 | 15 | TABLE ACCESS | FULL | :Q1001 | 174723 | MY_APP | ITEM_HISTORY | SH@SEL$1 | TABLE |  | 14 | 10 | 1 | 0 | 25445 | 14946 | 3721554 | PARALLEL_COMBINED_WITH_PARENT | KEY | KEY | 14 |  |  | 1370926276 | 25405 |  |  |  |  | 1 | SEL$58A6D7F6 |  | timestamp3 |  | random_number | 0|\r\n\r\n","title":"Oracle DB - why would execution plan of this seeming wrong query changed suddenly? Not sure if the correct version can fix the plan","body":"<p>Long version:\nI have a large table which I want to execute a query like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- original\nselect IH.* from ITEM_HISTORY IH \n    join ITEM_PACKAGE IP on IP.PACKAGE_NAME = IH.PACKAGE_NAME \n    where IP.OPERATOR_ID = ? \n    and (\n        IH.OPERATION != 'CHANGE_OWNER' OR IH.EVENT_DATE = IH.INSTALLATION_DATE\n    ) and IH.EXTERNAL_SERVICE_ACTION != 'NOT_APPLICABLE' \n    and IH.EVENT_DATE &gt;= ? and IH.EVENT_DATE &lt; ?\n    and ROWNUM &lt;= 500000\n    order by IH.EVENT_DATE\n</code></pre>\n<p>which is a native query defined in <code>@NamedNativeQuery</code> of JPA.\nEach row represents a change event happened to an item. There are so many operators who can modify items, so <code>ITEM_HISTORY</code> table is a huge table which oftentimes causes us trouble. It contains millions of records and often times out.</p>\n<p>Recently, we have an incident where when production pods running this query, Oracle suddenly changed the execution plan to a bad one, going a less optimized &quot;route&quot;, and slowed down the pods, finally leads to application non responsiveness. We had to restart the pod to make it back to normal. Clients are unhappy and DB team just fixed the execution plan to the usual, better one. But they ask us, as DEV, what can be done at application side.</p>\n<p>At first sight, I think: ah, this is wrong, because in Oracle database, we should use &quot;inline view&quot; or <code>fetch first X rows</code>, because in this way, Oracle database knows how to optimize it with stopkey sort or window sort pushed rank, so, this is an easy one!(I learned these from <a href=\"https://www.youtube.com/watch?v=rhOVF82KY7E\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://blogs.oracle.com/oraclemagazine/post/on-rownum-and-limiting-results\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>So I changed it to:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- version 1\nselect * from (\n    select IH.* from ITEM_HISTORY IH \n        join ITEM_PACKAGE IP on IP.PACKAGE_NAME = IH.PACKAGE_NAME \n        where IP.OPERATOR_ID = ? \n        and (\n            IH.OPERATION != 'CHANGE_OWNER' OR IH.EVENT_DATE = IH.INSTALLATION_DATE\n        ) and IH.EXTERNAL_SERVICE_ACTION != 'NOT_APPLICABLE' \n        and IH.EVENT_DATE &gt;= ? and IH.EVENT_DATE &lt; ?\n        order by IH.EVENT_DATE\n) where ROWNUM &lt;= 500000\n</code></pre>\n<p>And, this one:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- version 2\nselect IH.* from ITEM_HISTORY IH \n    join ITEM_PACKAGE IP on IP.PACKAGE_NAME = IH.PACKAGE_NAME \n    where IP.OPERATOR_ID = ? \n    and (\n        IH.OPERATION != 'CHANGE_OWNER' OR IH.EVENT_DATE = IH.INSTALLATION_DATE\n    ) and IH.EXTERNAL_SERVICE_ACTION != 'NOT_APPLICABLE' \n    and IH.EVENT_DATE &gt;= ? and IH.EVENT_DATE &lt; ?\n    and ROWNUM &lt;= 500000\n    order by IH.EVENT_DATE\n    fetch first 500000 rows only;\n</code></pre>\n<p>But, I don't find much performance improvement. I see version 1 is even slower than original, and version 2 is faster, but the execution plans shows the same cost.\n(The test is done in staging env, where the range filter will fetch 400K rows)</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- original 21789 ms / 34598 ms\nexplain plan for\nselect * from ITEM_HISTORY IH \njoin PACKAGE P on P.PACKAGE_NAME = IH.PACKAGE_NAME\nwhere OPERATOR_ID = '88000001' and (IH.OPERATION != 'CHANGE_OWNER' OR IH.EVENT_DATE = IH.INSTALLATION_DATE) \nand IH.EXTERNAL_SERVICE_ACTION != 'NOT_APPLICABLE'\nand IH.EVENT_DATE &gt;= TO_DATE('2018/07/01', 'yyyy/mm/dd') and IH.EVENT_DATE &lt; TO_DATE('2020/05/01', 'yyyy/mm/dd')\nand rownum &lt; 500000\norder by IH.EVENT_DATE;\n\nSELECT * FROM TABLE(DBMS_XPLAN.DIP.AY(NULL));\n-- Plan hash.value: 1529757427\n--  \n-- ----------------------------------------------------------------------------------------------------------------------------\n-- | Id  | Operation                   | Name                 | Rows  | Bytes |TempP.| Cost (%CPU)| Time     | Pstart| Pstop |\n-- ----------------------------------------------------------------------------------------------------------------------------\n-- |   0 | SELECT STATEMENT            |                      | 66280 |    29M|       |   133K  (1)| 00:00:06 |       |       |\n-- |   1 |  SORT ORDER BY              |                      | 66280 |    29M|    34M|   133K  (1)| 00:00:06 |       |       |\n-- |*  2 |   COUNT STOPKEY             |                      |       |       |       |            |          |       |       |\n-- |*  3 |    hash.JOIN                |                      | 66280 |    29M|       |   126K  (1)| 00:00:05 |       |       |\n-- |*  4 |     TABLE ACCESS FULL       | PACKAGE              |   545 |   120K|       |    25   (0)| 00:00:01 |       |       |\n-- |   5 |     PARTITION RANGE ITERATOR|                      |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\n-- |*  6 |      TABLE ACCESS FULL      | ITEM_HISTORY         |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\n-- ----------------------------------------------------------------------------------------------------------------------------\n--  \n-- Predicate Information (identified by operation id):\n-- ---------------------------------------------------\n--  \n--    2 - filter(ROWNUM&lt;500000)\n--    3 - access(&quot;P&quot;.&quot;PACKAGE_NAME&quot;=&quot;IH&quot;.&quot;PACKAGE_NAME&quot;)\n--    4 - filter(&quot;P&quot;.&quot;OPERATOR_ID&quot;='88000001')\n--    6 - filter(&quot;IH&quot;.&quot;EXTERNAL_SERVICE_ACTION&quot;&lt;&gt;'NOT_APPLICABLE' AND (&quot;IH&quot;.&quot;OPERATION&quot;&lt;&gt;'CHANGE_OWNER' OR \n--               &quot;IH&quot;.&quot;EVENT_DATE&quot;=&quot;IH&quot;.&quot;INSTALLATION_DATE&quot;))\n--  \n-- Note\n-- -----\n--    - this is an adaptive plan\n\n-- final query(new) 33342 ms / 26423 ms\nselect * from (\n    select * from ITEM_HISTORY IH \n    join PACKAGE P on P.PACKAGE_NAME = IH.PACKAGE_NAME\n    where OPERATOR_ID = '88000001' and (IH.OPERATION != 'CHANGE_OWNER' OR IH.EVENT_DATE = IH.INSTALLATION_DATE) \n    and IH.EXTERNAL_SERVICE_ACTION != 'NOT_APPLICABLE'\n    and IH.EVENT_DATE &gt;= TO_DATE('2018/07/01', 'yyyy/mm/dd') and IH.EVENT_DATE &lt; TO_DATE('2020/05/01', 'yyyy/mm/dd')\n    order by IH.EVENT_DATE\n) where rownum &lt; 500000;\nSELECT *   FROM TABLE(DBMS_XPLAN.DIP.AY(NULL));\n-- Plan hash.value: 3376840570\n--  \n-- -----------------------------------------------------------------------------------------------------------------------------\n-- | Id  | Operation                    | Name                 | Rows  | Bytes |TempP.| Cost (%CPU)| Time     | Pstart| Pstop |\n-- -----------------------------------------------------------------------------------------------------------------------------\n-- |   0 | SELECT STATEMENT             |                      | 66280 |   412M|       |   133K  (1)| 00:00:06 |       |       |\n-- |*  1 |  COUNT STOPKEY               |                      |       |       |       |            |          |       |       |\n-- |   2 |   VIEW                       |                      | 66280 |   412M|       |   133K  (1)| 00:00:06 |       |       |\n-- |*  3 |    SORT ORDER BY STOPKEY     |                      | 66280 |    29M|    34M|   133K  (1)| 00:00:06 |       |       |\n-- |*  4 |     hash.JOIN                |                      | 66280 |    29M|       |   126K  (1)| 00:00:05 |       |       |\n-- |*  5 |      TABLE ACCESS FULL       | PACKAGE |   545 |   120K|       |    25   (0)| 00:00:01 |       |       |\n-- |   6 |      PARTITION RANGE ITERATOR|                      |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\n-- |*  7 |       TABLE ACCESS FULL      | ITEM_HISTORY |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\n-- -----------------------------------------------------------------------------------------------------------------------------\n--  \n-- Predicate Information (identified by operation id):\n-- ---------------------------------------------------\n--  \n--    1 - filter(ROWNUM&lt;500000)\n--    3 - filter(ROWNUM&lt;500000)\n--    4 - access(&quot;P&quot;.&quot;PACKAGE_NAME&quot;=&quot;IH&quot;.&quot;PACKAGE_NAME&quot;)\n--    5 - filter(&quot;P&quot;.&quot;OPERATOR_ID&quot;='88000001')\n--    7 - filter(&quot;IH&quot;.&quot;EXTERNAL_SERVICE_ACTION&quot;&lt;&gt;'NOT_APPLICABLE' AND (&quot;IH&quot;.&quot;OPERATION&quot;&lt;&gt;'CHANGE_OWNER' OR \n--               &quot;IH&quot;.&quot;EVENT_DATE&quot;=&quot;IH&quot;.&quot;INSTALLATION_DATE&quot;))\n\n\n-- final query 2(fetch X rows only) 19662 ms / 19437 ms \nexplain plan for\n    select * from ITEM_HISTORY IH \n    join PACKAGE P on P.PACKAGE_NAME = IH.PACKAGE_NAME\n    where OPERATOR_ID = '88000001' and (IH.OPERATION != 'CHANGE_OWNER' OR IH.EVENT_DATE = IH.INSTALLATION_DATE) \n    and IH.EXTERNAL_SERVICE_ACTION != 'NOT_APPLICABLE'\n    and IH.EVENT_DATE &gt;= TO_DATE('2018/07/01', 'yyyy/mm/dd') and IH.EVENT_DATE &lt; TO_DATE('2020/05/01', 'yyyy/mm/dd')\n    order by IH.EVENT_DATE\nfetch first 500000 rows only;\nSELECT * \n  FROM TABLE(DBMS_XPLAN.DIP.AY(NULL));\n--Plan hash.value: 3207167953\n-- \n------------------------------------------------------------------------------------------------------------------------------\n--| Id  | Operation                   | Name                 | Rows  | Bytes |TempP.| Cost (%CPU)| Time     | Pstart| Pstop |\n------------------------------------------------------------------------------------------------------------------------------\n--|   0 | SELECT STATEMENT            |                      |   500K|  3120M|       |   133K  (1)| 00:00:06 |       |       |\n--|*  1 |  VIEW                       |                      |   500K|  3120M|       |   133K  (1)| 00:00:06 |       |       |\n--|*  2 |   WINDOW SORT PUIH.D RANK   |                      | 66280 |    29M|    34M|   133K  (1)| 00:00:06 |       |       |\n--|*  3 |    hash.JOIN                |                      | 66280 |    29M|       |   126K  (1)| 00:00:05 |       |       |\n--|*  4 |     TABLE ACCESS FULL       | PACKAGE              |   545 |   120K|       |    25   (0)| 00:00:01 |       |       |\n--|   5 |     PARTITION RANGE ITERATOR|                      |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\n--|*  6 |      TABLE ACCESS FULL      | ITEM_HISTORY         |   287K|    64M|       |   126K  (1)| 00:00:05 |    44 |    65 |\n------------------------------------------------------------------------------------------------------------------------------\n-- \n--Predicate Information (identified by operation id):\n-----------------------------------------------------\n-- \n--   1 - filter(&quot;from$_subquery$_004&quot;.&quot;rowlimit_$$_rownumber&quot;&lt;=500000)\n--   2 - filter(ROW_NUMBER() OVER ( ORDER BY &quot;IH&quot;.&quot;EVENT_DATE&quot;)&lt;=500000)\n--   3 - access(&quot;P&quot;.&quot;PACKAGE_NAME&quot;=&quot;IH&quot;.&quot;PACKAGE_NAME&quot;)\n--   4 - filter(&quot;P&quot;.&quot;OPERATOR_ID&quot;='88000001')\n--   6 - filter(&quot;IH&quot;.&quot;EXTERNAL_SERVICE_ACTION&quot;&lt;&gt;'NOT_APPLICABLE' AND (&quot;IH&quot;.&quot;OPERATION&quot;&lt;&gt;'CHANGE_OWNER' OR \n--              &quot;IH&quot;.&quot;EVENT_DATE&quot;=&quot;IH&quot;.&quot;INSTALLATION_DATE&quot;))\n\n</code></pre>\n<p>So, the question:</p>\n<ul>\n<li>At last, will the version 2 solve the execution changed to bad one problem? I am not sure.\n<strike>- Does it have to do with the rows fetched? I suspect that most of the time, the rows are so few, that original version, even wrong, have covered all rows, so it's actually correct, as when X &lt; 500K, original will fetch all and sort, which gives correct results. But at the time of incident the rows number became bigger, and the plan changed. But I am not DBA and I am not sure</strike> DBA said that this query always returns almost 500K records indeed, so we always have a lot of rows to fetch.</li>\n<li>What can cause an execution plan change, and then slow down the Oracle DB, and then leads to application crash? I don't get it.</li>\n</ul>\n<p>EDIT:\nI managed to get the execution plans used during the incident. The first one and second one are usually used. The bad one is the third one. Timestamp 1 and 2 are several days before incident time. Timestamp 3 is incident time.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>DBID</th>\n<th>SQL_ID</th>\n<th>PLAN_HASH_VALUE</th>\n<th>ID</th>\n<th>OPERATION</th>\n<th>OPTIONS</th>\n<th>OBJECT_NODE</th>\n<th>OBJECT#</th>\n<th>OBJECT_OWNER</th>\n<th>OBJECT_NAME</th>\n<th>OBJECT_ALIAS</th>\n<th>OBJECT_TYPE</th>\n<th>OPTIMIZER</th>\n<th>PARENT_ID</th>\n<th>DEPTH</th>\n<th>POSITION</th>\n<th>SEARCH_COLUMNS</th>\n<th>COST</th>\n<th>CARDINALITY</th>\n<th>BYTES</th>\n<th>OTHER_TAG</th>\n<th>PARTITION_START</th>\n<th>PARTITION_STOP</th>\n<th>PARTITION_ID</th>\n<th>OTHER</th>\n<th>DISTRIBUTION</th>\n<th>CPU_COST</th>\n<th>IO_COST</th>\n<th>TEMP_SPACE</th>\n<th>ACCESS_PREDICATES</th>\n<th>FILTER_PREDICATES</th>\n<th>PROJECTION</th>\n<th>TIME</th>\n<th>QBLOCK_NAME</th>\n<th>REMARKS</th>\n<th>TIMESTAMP</th>\n<th>OTHER_XML</th>\n<th>CON_DBID</th>\n<th>CON_ID</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>0</td>\n<td>SELECT STATEMENT</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>ALL_ROWS</td>\n<td></td>\n<td>0</td>\n<td>111</td>\n<td>0</td>\n<td>111</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>1</td>\n<td>SORT</td>\n<td>ORDER BY</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n<td>111</td>\n<td>30</td>\n<td>8220</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>40060576</td>\n<td>110</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>2</td>\n<td>COUNT</td>\n<td>STOPKEY</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>2</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>3</td>\n<td>FILTER</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>2</td>\n<td>3</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>4</td>\n<td>HASH JOIN</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>3</td>\n<td>4</td>\n<td>1</td>\n<td>0</td>\n<td>110</td>\n<td>30</td>\n<td>8220</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>5581756</td>\n<td>110</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>5</td>\n<td>TABLE ACCESS</td>\n<td>FULL</td>\n<td></td>\n<td>175586</td>\n<td>MY_APP</td>\n<td>PACKAGE</td>\n<td>SP@SEL$1</td>\n<td>TABLE</td>\n<td></td>\n<td>4</td>\n<td>5</td>\n<td>1</td>\n<td>0</td>\n<td>105</td>\n<td>27</td>\n<td>945</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>4897690</td>\n<td>105</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>6</td>\n<td>PARTITION RANGE</td>\n<td>ITERATOR</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>4</td>\n<td>5</td>\n<td>2</td>\n<td>0</td>\n<td>5</td>\n<td>426</td>\n<td>101814</td>\n<td></td>\n<td>KEY</td>\n<td>KEY</td>\n<td>6</td>\n<td></td>\n<td></td>\n<td>37416</td>\n<td>5</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>7</td>\n<td>TABLE ACCESS</td>\n<td>BY LOCAL INDEX ROWID BATCHED</td>\n<td></td>\n<td>174723</td>\n<td>MY_APP</td>\n<td>ITEM_HISTORY</td>\n<td>SH@SEL$1</td>\n<td>TABLE</td>\n<td></td>\n<td>6</td>\n<td>6</td>\n<td>1</td>\n<td>0</td>\n<td>5</td>\n<td>426</td>\n<td>101814</td>\n<td></td>\n<td>KEY</td>\n<td>KEY</td>\n<td>6</td>\n<td></td>\n<td></td>\n<td>37416</td>\n<td>5</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash1</td>\n<td>8</td>\n<td>INDEX</td>\n<td>RANGE SCAN</td>\n<td></td>\n<td>174726</td>\n<td>MY_APP</td>\n<td>IX_ITEM_HISTORY_EVENTD</td>\n<td>SH@SEL$1</td>\n<td>INDEX</td>\n<td></td>\n<td>7</td>\n<td>7</td>\n<td>1</td>\n<td>1</td>\n<td>3</td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>KEY</td>\n<td>KEY</td>\n<td>6</td>\n<td></td>\n<td></td>\n<td>21764</td>\n<td>3</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp1</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>0</td>\n<td>SELECT STATEMENT</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>ALL_ROWS</td>\n<td></td>\n<td>0</td>\n<td>6</td>\n<td>0</td>\n<td>6</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>2021-09-01 23:00:00</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>1</td>\n<td>COUNT</td>\n<td>STOPKEY</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>2</td>\n<td>FILTER</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>2</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>3</td>\n<td>NESTED LOOPS</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>2</td>\n<td>3</td>\n<td>1</td>\n<td>0</td>\n<td>6</td>\n<td>1</td>\n<td>274</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>47177</td>\n<td>6</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>4</td>\n<td>NESTED LOOPS</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>3</td>\n<td>4</td>\n<td>1</td>\n<td>0</td>\n<td>6</td>\n<td>1</td>\n<td>274</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>47177</td>\n<td>6</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>5</td>\n<td>PARTITION RANGE</td>\n<td>ITERATOR</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>4</td>\n<td>5</td>\n<td>1</td>\n<td>0</td>\n<td>5</td>\n<td>1</td>\n<td>239</td>\n<td></td>\n<td>KEY</td>\n<td>KEY</td>\n<td>5</td>\n<td></td>\n<td></td>\n<td>37416</td>\n<td>5</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>6</td>\n<td>TABLE ACCESS</td>\n<td>BY LOCAL INDEX ROWID</td>\n<td></td>\n<td>174723</td>\n<td>MY_APP</td>\n<td>ITEM_HISTORY</td>\n<td>SH@SEL$1</td>\n<td>TABLE</td>\n<td></td>\n<td>5</td>\n<td>6</td>\n<td>1</td>\n<td>0</td>\n<td>5</td>\n<td>1</td>\n<td>239</td>\n<td></td>\n<td>KEY</td>\n<td>KEY</td>\n<td>5</td>\n<td></td>\n<td></td>\n<td>37416</td>\n<td>5</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>7</td>\n<td>INDEX</td>\n<td>RANGE SCAN</td>\n<td></td>\n<td>174726</td>\n<td>MY_APP</td>\n<td>IX_ITEM_HISTORY_EVENTD</td>\n<td>SH@SEL$1</td>\n<td>INDEX</td>\n<td></td>\n<td>6</td>\n<td>7</td>\n<td>1</td>\n<td>1</td>\n<td>3</td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>KEY</td>\n<td>KEY</td>\n<td>5</td>\n<td></td>\n<td></td>\n<td>21764</td>\n<td>3</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>8</td>\n<td>INDEX</td>\n<td>UNIQUE SCAN</td>\n<td></td>\n<td>175998</td>\n<td>MY_APP</td>\n<td>UK_PACKAGE_NAME</td>\n<td>SP@SEL$1</td>\n<td>INDEX (UNIQUE)</td>\n<td></td>\n<td>4</td>\n<td>5</td>\n<td>2</td>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1900</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash2</td>\n<td>9</td>\n<td>TABLE ACCESS</td>\n<td>BY INDEX ROWID</td>\n<td></td>\n<td>175586</td>\n<td>MY_APP</td>\n<td>PACKAGE</td>\n<td>SP@SEL$1</td>\n<td>TABLE</td>\n<td></td>\n<td>3</td>\n<td>4</td>\n<td>2</td>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>35</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>9761</td>\n<td>1</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp2</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>0</td>\n<td>SELECT STATEMENT</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>HINT: ALL_ROWS</td>\n<td></td>\n<td>0</td>\n<td>25551</td>\n<td>0</td>\n<td>25551</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>1</td>\n<td>SORT</td>\n<td>ORDER BY</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n<td>25551</td>\n<td>391</td>\n<td>111044</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1414967960</td>\n<td>25510</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>2</td>\n<td>COUNT</td>\n<td>STOPKEY</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>2</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>3</td>\n<td>PX COORDINATOR</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>2</td>\n<td>3</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>4</td>\n<td>PX SEND</td>\n<td>QC (RANDOM)</td>\n<td>:Q1001</td>\n<td></td>\n<td>SYS</td>\n<td>:TQ10001</td>\n<td></td>\n<td></td>\n<td></td>\n<td>3</td>\n<td>4</td>\n<td>1</td>\n<td>0</td>\n<td>25550</td>\n<td>391</td>\n<td>111044</td>\n<td>PARALLEL_TO_SERIAL</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>QC (RANDOM)</td>\n<td>1376651756</td>\n<td>25510</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>5</td>\n<td>COUNT</td>\n<td>STOPKEY</td>\n<td>:Q1001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>4</td>\n<td>5</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td>PARALLEL_COMBINED_WITH_CHILD</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>6</td>\n<td>FILTER</td>\n<td></td>\n<td>:Q1001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>5</td>\n<td>6</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td>PARALLEL_COMBINED_WITH_CHILD</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>7</td>\n<td>HASH JOIN</td>\n<td></td>\n<td>:Q1001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>6</td>\n<td>7</td>\n<td>1</td>\n<td>0</td>\n<td>25550</td>\n<td>391</td>\n<td>111044</td>\n<td>PARALLEL_COMBINED_WITH_PARENT</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1376651756</td>\n<td>25510</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>8</td>\n<td>JOIN FILTER</td>\n<td>CREATE</td>\n<td>:Q1001</td>\n<td></td>\n<td>SYS</td>\n<td>:BF0000</td>\n<td></td>\n<td></td>\n<td></td>\n<td>7</td>\n<td>8</td>\n<td>1</td>\n<td>0</td>\n<td>105</td>\n<td>21</td>\n<td>735</td>\n<td>PARALLEL_COMBINED_WITH_PARENT</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>4938130</td>\n<td>105</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>9</td>\n<td>PX RECEIVE</td>\n<td></td>\n<td>:Q1001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>8</td>\n<td>9</td>\n<td>1</td>\n<td>0</td>\n<td>105</td>\n<td>21</td>\n<td>735</td>\n<td>PARALLEL_COMBINED_WITH_PARENT</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>4938130</td>\n<td>105</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>10</td>\n<td>PX SEND</td>\n<td>BROADCAST</td>\n<td>:Q1000</td>\n<td></td>\n<td>SYS</td>\n<td>:TQ10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td>9</td>\n<td>10</td>\n<td>1</td>\n<td>0</td>\n<td>105</td>\n<td>21</td>\n<td>735</td>\n<td>PARALLEL_FROM_SERIAL</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>BROADCAST</td>\n<td>4938130</td>\n<td>105</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>11</td>\n<td>PX SELECTOR</td>\n<td></td>\n<td>:Q1000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>10</td>\n<td>11</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td></td>\n<td></td>\n<td>SINGLE_COMBINED_WITH_CHILD</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>12</td>\n<td>TABLE ACCESS</td>\n<td>FULL</td>\n<td>:Q1000</td>\n<td>175586</td>\n<td>MY_APP</td>\n<td>PACKAGE</td>\n<td>SP@SEL$1</td>\n<td>TABLE</td>\n<td></td>\n<td>11</td>\n<td>12</td>\n<td>1</td>\n<td>0</td>\n<td>105</td>\n<td>21</td>\n<td>735</td>\n<td>SINGLE_COMBINED_WITH_PARENT</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>4938130</td>\n<td>105</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>13</td>\n<td>JOIN FILTER</td>\n<td>USE</td>\n<td>:Q1001</td>\n<td></td>\n<td>SYS</td>\n<td>:BF0000</td>\n<td></td>\n<td></td>\n<td></td>\n<td>7</td>\n<td>8</td>\n<td>2</td>\n<td>0</td>\n<td>25445</td>\n<td>14946</td>\n<td>3721554</td>\n<td>PARALLEL_COMBINED_WITH_PARENT</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1370926276</td>\n<td>25405</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>14</td>\n<td>PX BLOCK</td>\n<td>ITERATOR</td>\n<td>:Q1001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>13</td>\n<td>9</td>\n<td>1</td>\n<td>0</td>\n<td>25445</td>\n<td>14946</td>\n<td>3721554</td>\n<td>PARALLEL_COMBINED_WITH_CHILD</td>\n<td>KEY</td>\n<td>KEY</td>\n<td>14</td>\n<td></td>\n<td></td>\n<td>1370926276</td>\n<td>25405</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>random_number</td>\n<td>random_id</td>\n<td>hash3</td>\n<td>15</td>\n<td>TABLE ACCESS</td>\n<td>FULL</td>\n<td>:Q1001</td>\n<td>174723</td>\n<td>MY_APP</td>\n<td>ITEM_HISTORY</td>\n<td>SH@SEL$1</td>\n<td>TABLE</td>\n<td></td>\n<td>14</td>\n<td>10</td>\n<td>1</td>\n<td>0</td>\n<td>25445</td>\n<td>14946</td>\n<td>3721554</td>\n<td>PARALLEL_COMBINED_WITH_PARENT</td>\n<td>KEY</td>\n<td>KEY</td>\n<td>14</td>\n<td></td>\n<td></td>\n<td>1370926276</td>\n<td>25405</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>1</td>\n<td>SEL$58A6D7F6</td>\n<td></td>\n<td>timestamp3</td>\n<td></td>\n<td>random_number</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","maven","tomcat"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633530447,"creation_date":1633530447,"answer_id":69467622,"question_id":69467068,"body_markdown":"So i guess you should learn about CORS policy.\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\r\n\r\nThe user will block the request if you uses XMLHttpRequest from\r\nHost A to Host B without permission of Host B.\r\n\r\nHowever, we can by pass CORS by adding few headers at Host B. The backend api often use this policy to handle many different requests which come from different host.\r\n\r\nYou can take an example here:\r\n\r\n    ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Methods&quot;,&quot;GET, OPTIONS, HEAD, PUT, POST&quot;);\r\n\r\nMore detail:\r\n     \r\n\r\nhttps://howtodoinjava.com/java/servlets/java-cors-filter-example/\r\n","title":"CORS header error when i use ajax request from my front end to access db in Tomcat , maven","body":"<p>So i guess you should learn about CORS policy.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a></p>\n<p>The user will block the request if you uses XMLHttpRequest from\nHost A to Host B without permission of Host B.</p>\n<p>However, we can by pass CORS by adding few headers at Host B. The backend api often use this policy to handle many different requests which come from different host.</p>\n<p>You can take an example here:</p>\n<pre><code>((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Methods&quot;,&quot;GET, OPTIONS, HEAD, PUT, POST&quot;);\n</code></pre>\n<p>More detail:</p>\n<p><a href=\"https://howtodoinjava.com/java/servlets/java-cors-filter-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/servlets/java-cors-filter-example/</a></p>\n"}],"owner":{"account_id":22839731,"reputation":105,"user_id":16986959,"display_name":"It&#39;s Siddiqi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633530447,"creation_date":1633528349,"question_id":69467068,"body_markdown":"So i created this resource which returns an array of products.\r\n```\r\npublic class MyResource {\r\n\r\n    /**\r\n     * Method handling HTTP GET requests. The returned object will be sent\r\n     * to the client as &quot;text/plain&quot; media type.\r\n     *\r\n     * @return String that will be returned as a text/plain response.\r\n     */\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Object getbook()\r\n    {\r\n        Products p = new Products();\r\n        \r\n        \r\n        Gson gson = new GsonBuilder().create();\r\n        return gson.toJson(p.getAll());\r\n    }\r\n```\r\nBut when i call this api from my front end it says \r\nAccess to XMLHttpRequest at &#39;http://localhost:8085/demoRest/webapi/myresource&#39; from origin &#39;http://localhost:8083&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nhere is my ajax request\r\n```\r\n$(function() {\r\nvar val = &quot;&quot;;\r\n$(&quot;#submit&quot;).click(function(event){\r\n    event.preventDefault();\r\n\r\n    $.ajax({\r\n        type: &quot;GET&quot;,\r\n        dataType:&quot;json&quot;,\r\n        url:  &quot;http://localhost:8085/demoRest/webapi/myresource&quot;,\r\n        success: function(data) {\r\n            console.log(&quot;response:&quot; + data);\r\n            //$.each(data, function(j, pdata) {\r\n              //  val= val + &quot;[ &quot;+pdata.title +&quot; &quot; + pdata.author +&quot;]&quot;;\r\n           // });\r\n           // $(&quot;#data&quot;).text(val);\r\n        },\r\n        error: function(jqXHR, textStatus, errorThrown) {\r\n            console.log(&#39; Error in processing! &#39;+textStatus);\r\n        }\r\n    });\r\n});\r\n});\r\n\r\n```\r\nMy Webxml \r\n```\r\n&lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.demoRest&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```\r\nUsing tomcat version 10 ","title":"CORS header error when i use ajax request from my front end to access db in Tomcat , maven","body":"<p>So i created this resource which returns an array of products.</p>\n<pre><code>public class MyResource {\n\n    /**\n     * Method handling HTTP GET requests. The returned object will be sent\n     * to the client as &quot;text/plain&quot; media type.\n     *\n     * @return String that will be returned as a text/plain response.\n     */\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Object getbook()\n    {\n        Products p = new Products();\n        \n        \n        Gson gson = new GsonBuilder().create();\n        return gson.toJson(p.getAll());\n    }\n</code></pre>\n<p>But when i call this api from my front end it says\nAccess to XMLHttpRequest at 'http://localhost:8085/demoRest/webapi/myresource' from origin 'http://localhost:8083' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>here is my ajax request</p>\n<pre><code>$(function() {\nvar val = &quot;&quot;;\n$(&quot;#submit&quot;).click(function(event){\n    event.preventDefault();\n\n    $.ajax({\n        type: &quot;GET&quot;,\n        dataType:&quot;json&quot;,\n        url:  &quot;http://localhost:8085/demoRest/webapi/myresource&quot;,\n        success: function(data) {\n            console.log(&quot;response:&quot; + data);\n            //$.each(data, function(j, pdata) {\n              //  val= val + &quot;[ &quot;+pdata.title +&quot; &quot; + pdata.author +&quot;]&quot;;\n           // });\n           // $(&quot;#data&quot;).text(val);\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            console.log(' Error in processing! '+textStatus);\n        }\n    });\n});\n});\n\n</code></pre>\n<p>My Webxml</p>\n<pre><code>&lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.demoRest&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<p>Using tomcat version 10</p>\n"},{"tags":["java","spring","rest","oauth","spring-security"],"comments":[{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1541610762,"post_id":31555128,"comment_id":93277623,"body_markdown":"Possible duplicate of [Customise oath2 token request to accept extra data](https://stackoverflow.com/q/31154557/608639)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/31154557/608639\">Customise oath2 token request to accept extra data</a>"}],"answers":[{"tags":[],"owner":{"account_id":2631567,"reputation":2281,"user_id":2277393,"accept_rate":63,"display_name":"SooCheng Koh"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1441593194,"creation_date":1441593194,"answer_id":32430352,"question_id":31555128,"body_markdown":"http://localhost:8084/Domain/oauth/token?grant_type=password&amp;client_id=restapp&amp;client_secret=restapp&amp;username=anoo@codelynks.com&amp;password=mypass&amp;additional_param=abc123\r\n\r\n\tHttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\r\n\tlog.info(&quot;additional_param: &quot; + request.getParameter(&quot;additional_param&quot;));\r\n\r\nlog will show \r\n\r\n    additional_param: abc123","title":"Spring security with oauth2 adding additional parameters to authorization URL?","body":"<p><a href=\"http://localhost:8084/Domain/oauth/token?grant_type=password&amp;client_id=restapp&amp;client_secret=restapp&amp;username=anoo@codelynks.com&amp;password=mypass&amp;additional_param=abc123\" rel=\"noreferrer\">http://localhost:8084/Domain/oauth/token?grant_type=password&amp;client_id=restapp&amp;client_secret=restapp&amp;username=anoo@codelynks.com&amp;password=mypass&amp;additional_param=abc123</a></p>\n\n<pre><code>HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\nlog.info(\"additional_param: \" + request.getParameter(\"additional_param\"));\n</code></pre>\n\n<p>log will show </p>\n\n<pre><code>additional_param: abc123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11059780,"reputation":11,"user_id":8121477,"display_name":"Thiago Medeiros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521076891,"creation_date":1521076891,"answer_id":49290119,"question_id":31555128,"body_markdown":"Although AOP is used when it comes  to crosscutting concerns, this approach worked as expected and I think It is a valid approach.\r\n\r\n@Aspect\r\npublic class Oauth2Aspect {\r\n\r\n    @AfterReturning(&quot;execution( * org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(..))&quot;)\r\n    public void executeAfterAuthentication() throws Exception {\r\n        System.out.println(&quot;:Authentication done&quot;);\r\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\r\n        System.out.println(&quot;:Authentication done &quot; + request.getParameter(&quot;deviceInfo&quot;));\r\n    }\r\n}","title":"Spring security with oauth2 adding additional parameters to authorization URL?","body":"<p>Although AOP is used when it comes  to crosscutting concerns, this approach worked as expected and I think It is a valid approach.</p>\n\n<p>@Aspect\npublic class Oauth2Aspect {</p>\n\n<pre><code>@AfterReturning(\"execution( * org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(..))\")\npublic void executeAfterAuthentication() throws Exception {\n    System.out.println(\":Authentication done\");\n    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\n    System.out.println(\":Authentication done \" + request.getParameter(\"deviceInfo\"));\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":6182680,"reputation":1817,"user_id":4817630,"accept_rate":50,"display_name":"Stella"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11088,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1633530402,"creation_date":1437545316,"question_id":31555128,"body_markdown":"I have implemented Spring Security in my restful web service. In fact, I have to add an extra parameter with the request from client side and should fetch it from the service when request for authentication/accesstoken.\r\n\r\n**spring-security.xml**\r\n\r\n&lt;!-- language: xml --&gt;    \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:oauth=&quot;http://www.springframework.org/schema/security/oauth2&quot;\r\n               xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n               xmlns:sec=&quot;http://www.springframework.org/schema/security&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n               xsi:schemaLocation=&quot;http://www.springframework.org/schema/security/oauth2 http://www.springframework.org/schema/security/spring-security-oauth2-2.0.xsd\r\n        \t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd \r\n        \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd &quot;&gt;\r\n\r\n            &lt;!-- @author Nagesh.Chauhan(neel4soft@gmail.com) --&gt;  \r\n        \r\n            &lt;!-- This is default url to get a token from OAuth --&gt;\r\n            &lt;http pattern=&quot;/oauth/token&quot; create-session=&quot;stateless&quot;\r\n                      authentication-manager-ref=&quot;clientAuthenticationManager&quot;\r\n                      xmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n                &lt;intercept-url pattern=&quot;/oauth/token&quot; access=&quot;IS_AUTHENTICATED_FULLY&quot; /&gt;\r\n                &lt;anonymous enabled=&quot;false&quot; /&gt;\r\n                &lt;http-basic entry-point-ref=&quot;clientAuthenticationEntryPoint&quot; /&gt;\r\n                &lt;!-- include this only if you need to authenticate clients via request \r\n                parameters --&gt;\r\n                &lt;custom-filter ref=&quot;clientCredentialsTokenEndpointFilter&quot; \r\n                                       after=&quot;BASIC_AUTH_FILTER&quot; /&gt;\r\n                &lt;access-denied-handler ref=&quot;oauthAccessDeniedHandler&quot; /&gt;\r\n            &lt;/http&gt;\r\n        \r\n            &lt;!-- This is where we tells spring security what URL should be protected \r\n            and what roles have access to them --&gt;\r\n            &lt;http pattern=&quot;/api/**&quot; create-session=&quot;never&quot;\r\n                      entry-point-ref=&quot;oauthAuthenticationEntryPoint&quot;\r\n                      access-decision-manager-ref=&quot;accessDecisionManager&quot;\r\n                      xmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n                &lt;anonymous enabled=&quot;false&quot; /&gt;\r\n                &lt;intercept-url pattern=&quot;/api/**&quot; access=&quot;ROLE_APP&quot; /&gt;\r\n                &lt;custom-filter ref=&quot;resourceServerFilter&quot; before=&quot;PRE_AUTH_FILTER&quot; /&gt;\r\n                &lt;access-denied-handler ref=&quot;oauthAccessDeniedHandler&quot; /&gt;\r\n            &lt;/http&gt;\r\n        \r\n        \r\n            &lt;bean id=&quot;oauthAuthenticationEntryPoint&quot;\r\n                      class=&quot;org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint&quot;&gt;\r\n                &lt;property name=&quot;realmName&quot; value=&quot;test&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;clientAuthenticationEntryPoint&quot;\r\n                      class=&quot;org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint&quot;&gt;\r\n                &lt;property name=&quot;realmName&quot; value=&quot;test/client&quot; /&gt;\r\n                &lt;property name=&quot;typeName&quot; value=&quot;Basic&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;oauthAccessDeniedHandler&quot;\r\n                      class=&quot;org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler&quot; /&gt;\r\n        \r\n            &lt;bean id=&quot;clientCredentialsTokenEndpointFilter&quot;\r\n                      class=&quot;org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter&quot;&gt;\r\n                &lt;property name=&quot;authenticationManager&quot; ref=&quot;clientAuthenticationManager&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.UnanimousBased&quot;\r\n                      xmlns=&quot;http://www.springframework.org/schema/beans&quot;&gt;\r\n                &lt;constructor-arg&gt;\r\n                    &lt;list&gt;\r\n                        &lt;bean class=&quot;org.springframework.security.oauth2.provider.vote.ScopeVoter&quot; /&gt;\r\n                        &lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot; /&gt;\r\n                        &lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\r\n                    &lt;/list&gt;\r\n                &lt;/constructor-arg&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;authentication-manager id=&quot;clientAuthenticationManager&quot;\r\n                                        xmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n                &lt;authentication-provider user-service-ref=&quot;clientDetailsUserService&quot; /&gt;\r\n            &lt;/authentication-manager&gt;\r\n                       \r\n            &lt;!-- Custom User details service which is provide the user data --&gt;\r\n            &lt;bean id=&quot;customUserDetailsService&quot;\r\n                  class=&quot;com.weekenter.www.service.impl.CustomUserDetailsService&quot; /&gt;\r\n        \r\n            &lt;authentication-manager alias=&quot;authenticationManager&quot;\r\n                                    xmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n                &lt;authentication-provider user-service-ref=&quot;customUserDetailsService&quot;&gt;  \r\n                    &lt;password-encoder hash=&quot;plaintext&quot;&gt;  \r\n                    &lt;/password-encoder&gt;\r\n                &lt;/authentication-provider&gt; \r\n            &lt;/authentication-manager&gt;\r\n                        \r\n                        \r\n        \t\r\n        \r\n            &lt;bean id=&quot;clientDetailsUserService&quot;\r\n                      class=&quot;org.springframework.security.oauth2.provider.client.ClientDetailsUserDetailsService&quot;&gt;\r\n                &lt;constructor-arg ref=&quot;clientDetails&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        \r\n        \r\n            &lt;!-- This defined token store, we have used inmemory tokenstore for now \r\n            but this can be changed to a user defined one --&gt;\r\n            &lt;bean id=&quot;tokenStore&quot;\r\n                      class=&quot;org.springframework.security.oauth2.provider.token.InMemoryTokenStore&quot; /&gt;\r\n        \r\n            &lt;!-- This is where we defined token based configurations, token validity \r\n            and other things --&gt;\r\n            &lt;bean id=&quot;tokenServices&quot;\r\n                      class=&quot;org.springframework.security.oauth2.provider.token.DefaultTokenServices&quot;&gt;\r\n                &lt;property name=&quot;tokenStore&quot; ref=&quot;tokenStore&quot; /&gt;\r\n                &lt;property name=&quot;supportRefreshToken&quot; value=&quot;true&quot; /&gt;\r\n                &lt;property name=&quot;accessTokenValiditySeconds&quot; value=&quot;120&quot; /&gt;\r\n                &lt;property name=&quot;clientDetailsService&quot; ref=&quot;clientDetails&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;userApprovalHandler&quot;\r\n                      class=&quot;org.springframework.security.oauth2.provider.approval.TokenServicesUserApprovalHandler&quot;&gt;\r\n                &lt;property name=&quot;tokenServices&quot; ref=&quot;tokenServices&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;oauth:authorization-server\r\n                client-details-service-ref=&quot;clientDetails&quot; token-services-ref=&quot;tokenServices&quot;\r\n                user-approval-handler-ref=&quot;userApprovalHandler&quot;&gt;\r\n                &lt;oauth:authorization-code /&gt;\r\n                &lt;oauth:implicit /&gt;\r\n                &lt;oauth:refresh-token /&gt;\r\n                &lt;oauth:client-credentials /&gt;\r\n                &lt;oauth:password /&gt;\r\n            &lt;/oauth:authorization-server&gt;\r\n        \r\n            &lt;oauth:resource-server id=&quot;resourceServerFilter&quot;\r\n                                       resource-id=&quot;test&quot; token-services-ref=&quot;tokenServices&quot; /&gt;\r\n        \r\n            &lt;oauth:client-details-service id=&quot;clientDetails&quot;&gt;\r\n                &lt;!-- client --&gt;\r\n                &lt;oauth:client client-id=&quot;restapp&quot;\r\n                                      authorized-grant-types=&quot;authorization_code,client_credentials&quot;\r\n                                      authorities=&quot;ROLE_APP&quot; scope=&quot;read,write,trust&quot; secret=&quot;secret&quot; /&gt;\r\n        \r\n                &lt;oauth:client client-id=&quot;restapp&quot;\r\n                                      authorized-grant-types=&quot;password,authorization_code,refresh_token,implicit&quot;\r\n                                      secret=&quot;restapp&quot; authorities=&quot;ROLE_APP&quot; /&gt;\r\n        \r\n            &lt;/oauth:client-details-service&gt;\r\n        \r\n            &lt;sec:global-method-security\r\n                pre-post-annotations=&quot;enabled&quot; proxy-target-class=&quot;true&quot;&gt;\r\n                &lt;!--you could also wire in the expression handler up at the layer of the \r\n                http filters. See https://jira.springsource.org/browse/SEC-1452 --&gt;\r\n                &lt;sec:expression-handler ref=&quot;oauthExpressionHandler&quot; /&gt;\r\n            &lt;/sec:global-method-security&gt;\r\n        \r\n            &lt;oauth:expression-handler id=&quot;oauthExpressionHandler&quot; /&gt;\r\n            &lt;oauth:web-expression-handler id=&quot;oauthWebExpressionHandler&quot; /&gt;\r\n        &lt;/beans&gt;\r\n\r\n**CustomUserDetailsService**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        private LoginDao loginDao;\r\n    \r\n        public UserDetails loadUserByUsername(String login)\r\n                throws UsernameNotFoundException {\r\n    \r\n            boolean enabled = true;\r\n            boolean accountNonExpired = true;\r\n            boolean credentialsNonExpired = true;\r\n            boolean accountNonLocked = true;\r\n            com.weekenter.www.entity.User user = null;\r\n            try {\r\n                user = loginDao.getUser(login);\r\n                if (user != null) {\r\n                    if (user.getStatus().equals(&quot;1&quot;)) {\r\n                        enabled = false;\r\n                    }\r\n                } else {\r\n                    throw new UsernameNotFoundException(login + &quot; Not found !&quot;);\r\n                }\r\n    \r\n            } catch (Exception ex) {\r\n                try {\r\n                    throw new Exception(ex.getMessage());\r\n                } catch (Exception ex1) {\r\n                }\r\n            }\r\n    \r\n            return new User(\r\n                    user.getEmail(),\r\n                    user.getPassword(),\r\n                    enabled,\r\n                    accountNonExpired,\r\n                    credentialsNonExpired,\r\n                    accountNonLocked,\r\n                    getAuthorities()\r\n            );\r\n        }\r\n    \r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            List&lt;GrantedAuthority&gt; authList = getGrantedAuthorities(getRoles());\r\n            return authList;\r\n        }\r\n    \r\n        public List&lt;String&gt; getRoles() {\r\n            List&lt;String&gt; roles = new ArrayList&lt;String&gt;();\r\n            roles.add(&quot;ROLE_APP&quot;);\r\n            return roles;\r\n        }\r\n    \r\n        public static List&lt;GrantedAuthority&gt; getGrantedAuthorities(List&lt;String&gt; roles) {\r\n            List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n    \r\n            for (String role : roles) {\r\n                authorities.add(new SimpleGrantedAuthority(role));\r\n            }\r\n            return authorities;\r\n        }\r\n    \r\n    }\r\n\r\nCurrently I am requesting with the URL:\r\n\r\n`http://localhost:8084/Domain/oauth/token?grant_type=password&amp;client_id=restapp&amp;client_secret=restapp&amp;username=anoo@codelynks.com&amp;password=mypass`\r\n\r\nAnd I will get the response\r\n\r\n\r\n    {\r\n    &quot;access_token&quot;:&quot;76e928b2-45e2-4283-88a4-6c01f41b51d3&quot;,&quot;token_type&quot;:&quot;bearer&quot;,&quot;refresh_token&quot;:&quot;8748e8ad-79c1-465d-94fe-13394eea370d&quot;,&quot;expires_in&quot;:119\r\n    }\r\n\r\nI have to enhance it by adding additional parameter `deviceToken`.\r\n\r\nAnd the URL would be:\r\n\r\n`http://localhost:8084/Domain/oauth/token?grant_type=password&amp;client_id=restapp&amp;client_secret=restapp&amp;username=anoo@codelynks.com&amp;password=mypass&amp;deviceToken=something`\r\n\r\nI have treid by implementing `UsernamePasswordAuthenticationFilter`, but it didn&#39;t work. How can I get the `deviceToken` parameter from the web service without affecting the output?","title":"Spring security with oauth2 adding additional parameters to authorization URL?","body":"<p>I have implemented Spring Security in my restful web service. In fact, I have to add an extra parameter with the request from client side and should fetch it from the service when request for authentication/accesstoken.</p>\n\n<p><strong>spring-security.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:oauth=\"http://www.springframework.org/schema/security/oauth2\"\n           xmlns:context=\"http://www.springframework.org/schema/context\"\n           xmlns:sec=\"http://www.springframework.org/schema/security\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n           xsi:schemaLocation=\"http://www.springframework.org/schema/security/oauth2 http://www.springframework.org/schema/security/spring-security-oauth2-2.0.xsd\n            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\n            http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd \n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd \"&gt;\n\n        &lt;!-- @author Nagesh.Chauhan(neel4soft@gmail.com) --&gt;  \n\n        &lt;!-- This is default url to get a token from OAuth --&gt;\n        &lt;http pattern=\"/oauth/token\" create-session=\"stateless\"\n                  authentication-manager-ref=\"clientAuthenticationManager\"\n                  xmlns=\"http://www.springframework.org/schema/security\"&gt;\n            &lt;intercept-url pattern=\"/oauth/token\" access=\"IS_AUTHENTICATED_FULLY\" /&gt;\n            &lt;anonymous enabled=\"false\" /&gt;\n            &lt;http-basic entry-point-ref=\"clientAuthenticationEntryPoint\" /&gt;\n            &lt;!-- include this only if you need to authenticate clients via request \n            parameters --&gt;\n            &lt;custom-filter ref=\"clientCredentialsTokenEndpointFilter\" \n                                   after=\"BASIC_AUTH_FILTER\" /&gt;\n            &lt;access-denied-handler ref=\"oauthAccessDeniedHandler\" /&gt;\n        &lt;/http&gt;\n\n        &lt;!-- This is where we tells spring security what URL should be protected \n        and what roles have access to them --&gt;\n        &lt;http pattern=\"/api/**\" create-session=\"never\"\n                  entry-point-ref=\"oauthAuthenticationEntryPoint\"\n                  access-decision-manager-ref=\"accessDecisionManager\"\n                  xmlns=\"http://www.springframework.org/schema/security\"&gt;\n            &lt;anonymous enabled=\"false\" /&gt;\n            &lt;intercept-url pattern=\"/api/**\" access=\"ROLE_APP\" /&gt;\n            &lt;custom-filter ref=\"resourceServerFilter\" before=\"PRE_AUTH_FILTER\" /&gt;\n            &lt;access-denied-handler ref=\"oauthAccessDeniedHandler\" /&gt;\n        &lt;/http&gt;\n\n\n        &lt;bean id=\"oauthAuthenticationEntryPoint\"\n                  class=\"org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint\"&gt;\n            &lt;property name=\"realmName\" value=\"test\" /&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"clientAuthenticationEntryPoint\"\n                  class=\"org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint\"&gt;\n            &lt;property name=\"realmName\" value=\"test/client\" /&gt;\n            &lt;property name=\"typeName\" value=\"Basic\" /&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"oauthAccessDeniedHandler\"\n                  class=\"org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler\" /&gt;\n\n        &lt;bean id=\"clientCredentialsTokenEndpointFilter\"\n                  class=\"org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter\"&gt;\n            &lt;property name=\"authenticationManager\" ref=\"clientAuthenticationManager\" /&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"accessDecisionManager\" class=\"org.springframework.security.access.vote.UnanimousBased\"\n                  xmlns=\"http://www.springframework.org/schema/beans\"&gt;\n            &lt;constructor-arg&gt;\n                &lt;list&gt;\n                    &lt;bean class=\"org.springframework.security.oauth2.provider.vote.ScopeVoter\" /&gt;\n                    &lt;bean class=\"org.springframework.security.access.vote.RoleVoter\" /&gt;\n                    &lt;bean class=\"org.springframework.security.access.vote.AuthenticatedVoter\" /&gt;\n                &lt;/list&gt;\n            &lt;/constructor-arg&gt;\n        &lt;/bean&gt;\n\n        &lt;authentication-manager id=\"clientAuthenticationManager\"\n                                    xmlns=\"http://www.springframework.org/schema/security\"&gt;\n            &lt;authentication-provider user-service-ref=\"clientDetailsUserService\" /&gt;\n        &lt;/authentication-manager&gt;\n\n        &lt;!-- Custom User details service which is provide the user data --&gt;\n        &lt;bean id=\"customUserDetailsService\"\n              class=\"com.weekenter.www.service.impl.CustomUserDetailsService\" /&gt;\n\n        &lt;authentication-manager alias=\"authenticationManager\"\n                                xmlns=\"http://www.springframework.org/schema/security\"&gt;\n            &lt;authentication-provider user-service-ref=\"customUserDetailsService\"&gt;  \n                &lt;password-encoder hash=\"plaintext\"&gt;  \n                &lt;/password-encoder&gt;\n            &lt;/authentication-provider&gt; \n        &lt;/authentication-manager&gt;\n\n\n\n\n        &lt;bean id=\"clientDetailsUserService\"\n                  class=\"org.springframework.security.oauth2.provider.client.ClientDetailsUserDetailsService\"&gt;\n            &lt;constructor-arg ref=\"clientDetails\" /&gt;\n        &lt;/bean&gt;\n\n\n        &lt;!-- This defined token store, we have used inmemory tokenstore for now \n        but this can be changed to a user defined one --&gt;\n        &lt;bean id=\"tokenStore\"\n                  class=\"org.springframework.security.oauth2.provider.token.InMemoryTokenStore\" /&gt;\n\n        &lt;!-- This is where we defined token based configurations, token validity \n        and other things --&gt;\n        &lt;bean id=\"tokenServices\"\n                  class=\"org.springframework.security.oauth2.provider.token.DefaultTokenServices\"&gt;\n            &lt;property name=\"tokenStore\" ref=\"tokenStore\" /&gt;\n            &lt;property name=\"supportRefreshToken\" value=\"true\" /&gt;\n            &lt;property name=\"accessTokenValiditySeconds\" value=\"120\" /&gt;\n            &lt;property name=\"clientDetailsService\" ref=\"clientDetails\" /&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"userApprovalHandler\"\n                  class=\"org.springframework.security.oauth2.provider.approval.TokenServicesUserApprovalHandler\"&gt;\n            &lt;property name=\"tokenServices\" ref=\"tokenServices\" /&gt;\n        &lt;/bean&gt;\n\n        &lt;oauth:authorization-server\n            client-details-service-ref=\"clientDetails\" token-services-ref=\"tokenServices\"\n            user-approval-handler-ref=\"userApprovalHandler\"&gt;\n            &lt;oauth:authorization-code /&gt;\n            &lt;oauth:implicit /&gt;\n            &lt;oauth:refresh-token /&gt;\n            &lt;oauth:client-credentials /&gt;\n            &lt;oauth:password /&gt;\n        &lt;/oauth:authorization-server&gt;\n\n        &lt;oauth:resource-server id=\"resourceServerFilter\"\n                                   resource-id=\"test\" token-services-ref=\"tokenServices\" /&gt;\n\n        &lt;oauth:client-details-service id=\"clientDetails\"&gt;\n            &lt;!-- client --&gt;\n            &lt;oauth:client client-id=\"restapp\"\n                                  authorized-grant-types=\"authorization_code,client_credentials\"\n                                  authorities=\"ROLE_APP\" scope=\"read,write,trust\" secret=\"secret\" /&gt;\n\n            &lt;oauth:client client-id=\"restapp\"\n                                  authorized-grant-types=\"password,authorization_code,refresh_token,implicit\"\n                                  secret=\"restapp\" authorities=\"ROLE_APP\" /&gt;\n\n        &lt;/oauth:client-details-service&gt;\n\n        &lt;sec:global-method-security\n            pre-post-annotations=\"enabled\" proxy-target-class=\"true\"&gt;\n            &lt;!--you could also wire in the expression handler up at the layer of the \n            http filters. See https://jira.springsource.org/browse/SEC-1452 --&gt;\n            &lt;sec:expression-handler ref=\"oauthExpressionHandler\" /&gt;\n        &lt;/sec:global-method-security&gt;\n\n        &lt;oauth:expression-handler id=\"oauthExpressionHandler\" /&gt;\n        &lt;oauth:web-expression-handler id=\"oauthWebExpressionHandler\" /&gt;\n    &lt;/beans&gt;\n</code></pre>\n\n<p><strong>CustomUserDetailsService</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional(readOnly = true)\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    private LoginDao loginDao;\n\n    public UserDetails loadUserByUsername(String login)\n            throws UsernameNotFoundException {\n\n        boolean enabled = true;\n        boolean accountNonExpired = true;\n        boolean credentialsNonExpired = true;\n        boolean accountNonLocked = true;\n        com.weekenter.www.entity.User user = null;\n        try {\n            user = loginDao.getUser(login);\n            if (user != null) {\n                if (user.getStatus().equals(\"1\")) {\n                    enabled = false;\n                }\n            } else {\n                throw new UsernameNotFoundException(login + \" Not found !\");\n            }\n\n        } catch (Exception ex) {\n            try {\n                throw new Exception(ex.getMessage());\n            } catch (Exception ex1) {\n            }\n        }\n\n        return new User(\n                user.getEmail(),\n                user.getPassword(),\n                enabled,\n                accountNonExpired,\n                credentialsNonExpired,\n                accountNonLocked,\n                getAuthorities()\n        );\n    }\n\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        List&lt;GrantedAuthority&gt; authList = getGrantedAuthorities(getRoles());\n        return authList;\n    }\n\n    public List&lt;String&gt; getRoles() {\n        List&lt;String&gt; roles = new ArrayList&lt;String&gt;();\n        roles.add(\"ROLE_APP\");\n        return roles;\n    }\n\n    public static List&lt;GrantedAuthority&gt; getGrantedAuthorities(List&lt;String&gt; roles) {\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\n\n        for (String role : roles) {\n            authorities.add(new SimpleGrantedAuthority(role));\n        }\n        return authorities;\n    }\n\n}\n</code></pre>\n\n<p>Currently I am requesting with the URL:</p>\n\n<p><code>http://localhost:8084/Domain/oauth/token?grant_type=password&amp;client_id=restapp&amp;client_secret=restapp&amp;username=anoo@codelynks.com&amp;password=mypass</code></p>\n\n<p>And I will get the response</p>\n\n<pre><code>{\n\"access_token\":\"76e928b2-45e2-4283-88a4-6c01f41b51d3\",\"token_type\":\"bearer\",\"refresh_token\":\"8748e8ad-79c1-465d-94fe-13394eea370d\",\"expires_in\":119\n}\n</code></pre>\n\n<p>I have to enhance it by adding additional parameter <code>deviceToken</code>.</p>\n\n<p>And the URL would be:</p>\n\n<p><code>http://localhost:8084/Domain/oauth/token?grant_type=password&amp;client_id=restapp&amp;client_secret=restapp&amp;username=anoo@codelynks.com&amp;password=mypass&amp;deviceToken=something</code></p>\n\n<p>I have treid by implementing <code>UsernamePasswordAuthenticationFilter</code>, but it didn't work. How can I get the <code>deviceToken</code> parameter from the web service without affecting the output?</p>\n"},{"tags":["java","json","spring"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633530348,"creation_date":1633530348,"answer_id":69467594,"question_id":69466648,"body_markdown":"There are two ways.\r\n\r\n1) Setting your Back-End as a REST API and completely separate your Front-End and communicating through REST calls. (as you said with JS/Ajax)\r\n\r\n2) Setting your complete app under one roof. Spring and Thymeleaf are a good option. It works like this, every time you do a /GET request then spring will provide a `template`. Which is a Thymeleaf HTML document which has Thymeleaf specific syntax to make your life easier.\r\nYou can submit your data to your back-end through forms. When you submit the form then your app decides what happens next, will you be redirected somewhere else or will another template be opened...That&#39;s your call.\r\n\r\nIf you want a quick way to do it, go with the second way. Personally, I like the first one. It separates the concerns perfectly.","title":"best way to import form data from HTML to java Spring controller as JSON request body","body":"<p>There are two ways.</p>\n<ol>\n<li><p>Setting your Back-End as a REST API and completely separate your Front-End and communicating through REST calls. (as you said with JS/Ajax)</p>\n</li>\n<li><p>Setting your complete app under one roof. Spring and Thymeleaf are a good option. It works like this, every time you do a /GET request then spring will provide a <code>template</code>. Which is a Thymeleaf HTML document which has Thymeleaf specific syntax to make your life easier.\nYou can submit your data to your back-end through forms. When you submit the form then your app decides what happens next, will you be redirected somewhere else or will another template be opened...That's your call.</p>\n</li>\n</ol>\n<p>If you want a quick way to do it, go with the second way. Personally, I like the first one. It separates the concerns perfectly.</p>\n"}],"owner":{"account_id":5137107,"reputation":5,"user_id":4115496,"display_name":"Hunter Yavitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69467594,"answer_count":1,"score":0,"last_activity_date":1633530348,"creation_date":1633526799,"question_id":69466648,"body_markdown":"I am building my first spring boot project with java in intellij.  When capturing form data from an HTML page, is there a &#39;best practice&#39; way of transporting the data to the server controller as a JSON request body?  I&#39;ve seen solutions with javascript / ajax, but I prefer something more native to the spring library.","title":"best way to import form data from HTML to java Spring controller as JSON request body","body":"<p>I am building my first spring boot project with java in intellij.  When capturing form data from an HTML page, is there a 'best practice' way of transporting the data to the server controller as a JSON request body?  I've seen solutions with javascript / ajax, but I prefer something more native to the spring library.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1633448039,"post_id":69453308,"comment_id":122759869,"body_markdown":"That second method looks like it should work.  What problem are you having?","body":"That second method looks like it should work.  What problem are you having?"},{"owner":{"account_id":22825788,"reputation":25,"user_id":16975082,"display_name":"Quincy van Deursen"},"score":0,"creation_date":1633448421,"post_id":69453308,"comment_id":122760064,"body_markdown":"@markspace the problem is that it doesnt work. Im verry confused right now about which parameters i should give to the method.","body":"@markspace the problem is that it doesnt work. Im verry confused right now about which parameters i should give to the method."},{"owner":{"account_id":8936794,"reputation":323,"user_id":6667372,"display_name":"Chukwu Remijius"},"score":0,"creation_date":1633450823,"post_id":69453308,"comment_id":122761090,"body_markdown":"What is your list of, String or Integer specify?","body":"What is your list of, String or Integer specify?"},{"owner":{"account_id":22825788,"reputation":25,"user_id":16975082,"display_name":"Quincy van Deursen"},"score":0,"creation_date":1633454362,"post_id":69453308,"comment_id":122762415,"body_markdown":"@ChukwuRemijius i have a list of objects.","body":"@ChukwuRemijius i have a list of objects."}],"answers":[{"tags":[],"owner":{"account_id":10787088,"reputation":520,"user_id":7935764,"display_name":"Bonana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633514348,"creation_date":1633448468,"answer_id":69453492,"question_id":69453308,"body_markdown":"There&#39;s 2 different things you can do :\r\n\r\n  1. the method takes an existing list, and add a Doctor to it (you can return it or just modify the existing ArrayList).\r\n\r\nIn this case, you need a name to your param, and don&#39;t create a new ArrayList:\r\n\r\n```java\r\npublic static ArrayList&lt;Doctor&gt; addDoctorToList(ArrayList&lt;Doctor&gt; listOfDoctors ) {\r\n    Scanner scanner = new Scanner(System.in);\r\n...\r\n```\r\n\r\n 2. The method creates a new empty ArrayList, and don&#39;t need to be passed a param, so remove this type in the parenthesis:\r\n\r\n```java\r\npublic static ArrayList&lt;Doctor&gt; addDoctorToList() {\r\n    ArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist&lt;&gt;();\r\n    Scanner scanner = new Scanner(System.in);\r\n...\r\n```","title":"Making a method which returns an ArrayList","body":"<p>There's 2 different things you can do :</p>\n<ol>\n<li>the method takes an existing list, and add a Doctor to it (you can return it or just modify the existing ArrayList).</li>\n</ol>\n<p>In this case, you need a name to your param, and don't create a new ArrayList:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;Doctor&gt; addDoctorToList(ArrayList&lt;Doctor&gt; listOfDoctors ) {\n    Scanner scanner = new Scanner(System.in);\n...\n</code></pre>\n<ol start=\"2\">\n<li>The method creates a new empty ArrayList, and don't need to be passed a param, so remove this type in the parenthesis:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;Doctor&gt; addDoctorToList() {\n    ArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist&lt;&gt;();\n    Scanner scanner = new Scanner(System.in);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8936794,"reputation":323,"user_id":6667372,"display_name":"Chukwu Remijius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633451010,"creation_date":1633451010,"answer_id":69454081,"question_id":69453308,"body_markdown":"Your method is not a type of Doctor list\r\n\r\nSince you are returning a type of doctor object as your list type your method suppose to be the same.\r\n\r\nChange this codes:\r\n\r\n            public static ArrayList&lt;&gt; addDoctorToList(ArrayList&lt;String&gt; var) {\r\n    ArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist\r\n\r\n\r\nTo:\r\n\r\n             public static ArrayList&lt;Doctor&gt; addDoctorToList(ArrayList&lt;String&gt; var) {\r\n    ArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist","title":"Making a method which returns an ArrayList","body":"<p>Your method is not a type of Doctor list</p>\n<p>Since you are returning a type of doctor object as your list type your method suppose to be the same.</p>\n<p>Change this codes:</p>\n<pre><code>        public static ArrayList&lt;&gt; addDoctorToList(ArrayList&lt;String&gt; var) {\nArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist\n</code></pre>\n<p>To:</p>\n<pre><code>         public static ArrayList&lt;Doctor&gt; addDoctorToList(ArrayList&lt;String&gt; var) {\nArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22949716,"reputation":1,"user_id":17081193,"display_name":"Alessandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633455728,"creation_date":1633452106,"answer_id":69454298,"question_id":69453308,"body_markdown":"I guess could work a simple method like this below:\r\n\r\n    public static void insertDoctor(){\r\n       System.out.println(&quot;What&#39;s the name of the doctor?&quot;);\r\n       String nameDoctor=scanner.nextLine();\r\n       System.out.println(&quot;What&#39;s the doctor&#39;s specislisaton?&quot;);\r\n       String specialisationDoctor=scanner.nextLine();\r\n       listOfDoctor.add(new Doctor(nameDoctor, specialisationDoctor));\r\n       System.out.println(&quot;added!&quot;);\r\n    }\r\n\r\n  \r\nWhat do you think about?","title":"Making a method which returns an ArrayList","body":"<p>I guess could work a simple method like this below:</p>\n<pre><code>public static void insertDoctor(){\n   System.out.println(&quot;What's the name of the doctor?&quot;);\n   String nameDoctor=scanner.nextLine();\n   System.out.println(&quot;What's the doctor's specislisaton?&quot;);\n   String specialisationDoctor=scanner.nextLine();\n   listOfDoctor.add(new Doctor(nameDoctor, specialisationDoctor));\n   System.out.println(&quot;added!&quot;);\n}\n</code></pre>\n<p>What do you think about?</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633530022,"creation_date":1633516875,"answer_id":69464217,"question_id":69453308,"body_markdown":"You were close.  Your code should have one and only one `System.in` `Scanner`.\r\n\r\nYou&#39;re creating an `ArrayList` of doctors, which implies more than one doctor.  You need to put the `Scanner` code in a loop so the user can input multiple doctors.  The user has to be able to end the loop, so I tested for the user just pressing the Enter key and not typing anything.  You can change it to &quot;quit&quot; or &quot;done&quot; if you wish.\r\n\r\nHere&#39;s the modified method.\r\n\r\n\tpublic static ArrayList&lt;&gt; addDoctorToList(Scanner scanner) {\r\n\t\tArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist&lt;&gt;();\r\n\t\t\r\n\t\tString nameDoctor = &quot;&quot;;\r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;What is the name of the doctor?&quot;);\r\n\t\t\tnameDoctor = scanner.nextLine().trim();\r\n            if (!nameDoctor.isEmpty()) {\r\n\t\t\t    System.out.println(&quot;What is the doctor&#39;s specialisation?&quot;);\r\n\t\t\t    String specialisationDoctor = scanner.nextLine().trim();\r\n\t\t\t    listOfDoctors.add(new Doctor(nameDoctor, specialisationDoctor));\r\n\t\t\t    System.out.println(&quot;added!&quot;);\r\n            }\r\n\t\t} while (!nameDoctor.isEmpty());\r\n\r\n\t\treturn listOfDoctors;\r\n\t}","title":"Making a method which returns an ArrayList","body":"<p>You were close.  Your code should have one and only one <code>System.in</code> <code>Scanner</code>.</p>\n<p>You're creating an <code>ArrayList</code> of doctors, which implies more than one doctor.  You need to put the <code>Scanner</code> code in a loop so the user can input multiple doctors.  The user has to be able to end the loop, so I tested for the user just pressing the Enter key and not typing anything.  You can change it to &quot;quit&quot; or &quot;done&quot; if you wish.</p>\n<p>Here's the modified method.</p>\n<pre><code>public static ArrayList&lt;&gt; addDoctorToList(Scanner scanner) {\n    ArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist&lt;&gt;();\n    \n    String nameDoctor = &quot;&quot;;\n    do {\n        System.out.println(&quot;What is the name of the doctor?&quot;);\n        nameDoctor = scanner.nextLine().trim();\n        if (!nameDoctor.isEmpty()) {\n            System.out.println(&quot;What is the doctor's specialisation?&quot;);\n            String specialisationDoctor = scanner.nextLine().trim();\n            listOfDoctors.add(new Doctor(nameDoctor, specialisationDoctor));\n            System.out.println(&quot;added!&quot;);\n        }\n    } while (!nameDoctor.isEmpty());\n\n    return listOfDoctors;\n}\n</code></pre>\n"}],"owner":{"account_id":22825788,"reputation":25,"user_id":16975082,"display_name":"Quincy van Deursen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1633530022,"creation_date":1633447790,"question_id":69453308,"body_markdown":"i cant figure out how i can make a method which returns an (updated) ArrayList. I want a method which asks for user input, make an object out of the input, and than put it in a list. I want the method to return this list to the main.\r\n\r\nThis is what i made in the main method:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        ArrayList&lt;Doctor&gt; listOfDoctors = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Examination&gt; listOfExaminations = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Patient&gt; listOfPatients = new ArrayList&lt;&gt;();      \r\n\r\n    while (true) {\r\n            menu(); //shows options 1 to 5\r\n            String option = scanner.nextLine();\r\n            if (option.isEmpty()) {\r\n                break;\r\n            }\r\n            if (option.equals(&quot;1&quot;)) {\r\n                System.out.println(&quot;What is the name of the doctor?&quot;);\r\n                String nameDoctor = scanner.nextLine();\r\n                System.out.println(&quot;What is the doctor&#39;s specialisation?&quot;);\r\n                String specialisationDoctor = scanner.nextLine();\r\n                listOfDoctors.add(new Doctor(nameDoctor, specialisationDoctor));\r\n                System.out.println(&quot;added!&quot;);\r\n            }\r\n\r\nI want to make a method of option 1 but i dont know how. This is what i tried:\r\n\r\n    public static ArrayList&lt;&gt; addDoctorToList(ArrayList&lt;&gt;) {\r\n        ArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist&lt;&gt;();\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;What is the name of the doctor?&quot;);\r\n        String nameDoctor = scanner.nextLine();\r\n        System.out.println(&quot;What is the doctor&#39;s specialisation?&quot;);\r\n        String specialisationDoctor = scanner.nextLine();\r\n        listOfDoctors.add(new Doctor(nameDoctor, specialisationDoctor));\r\n        System.out.println(&quot;added!&quot;);\r\n        return listOfDoctors;\r\n\r\nI hope someone could help me.","title":"Making a method which returns an ArrayList","body":"<p>i cant figure out how i can make a method which returns an (updated) ArrayList. I want a method which asks for user input, make an object out of the input, and than put it in a list. I want the method to return this list to the main.</p>\n<p>This is what i made in the main method:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    ArrayList&lt;Doctor&gt; listOfDoctors = new ArrayList&lt;&gt;();\n    ArrayList&lt;Examination&gt; listOfExaminations = new ArrayList&lt;&gt;();\n    ArrayList&lt;Patient&gt; listOfPatients = new ArrayList&lt;&gt;();      \n\nwhile (true) {\n        menu(); //shows options 1 to 5\n        String option = scanner.nextLine();\n        if (option.isEmpty()) {\n            break;\n        }\n        if (option.equals(&quot;1&quot;)) {\n            System.out.println(&quot;What is the name of the doctor?&quot;);\n            String nameDoctor = scanner.nextLine();\n            System.out.println(&quot;What is the doctor's specialisation?&quot;);\n            String specialisationDoctor = scanner.nextLine();\n            listOfDoctors.add(new Doctor(nameDoctor, specialisationDoctor));\n            System.out.println(&quot;added!&quot;);\n        }\n</code></pre>\n<p>I want to make a method of option 1 but i dont know how. This is what i tried:</p>\n<pre><code>public static ArrayList&lt;&gt; addDoctorToList(ArrayList&lt;&gt;) {\n    ArrayList&lt;Doctor&gt; listOfDoctors = new Arraylist&lt;&gt;();\n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.println(&quot;What is the name of the doctor?&quot;);\n    String nameDoctor = scanner.nextLine();\n    System.out.println(&quot;What is the doctor's specialisation?&quot;);\n    String specialisationDoctor = scanner.nextLine();\n    listOfDoctors.add(new Doctor(nameDoctor, specialisationDoctor));\n    System.out.println(&quot;added!&quot;);\n    return listOfDoctors;\n</code></pre>\n<p>I hope someone could help me.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1006589,"reputation":551,"user_id":1020190,"display_name":"Taha"},"score":0,"creation_date":1633527134,"post_id":69466048,"comment_id":122783233,"body_markdown":"What does your `StaticClass` and the method `getSomeStringAfterSomeProcess` look like?","body":"What does your <code>StaticClass</code> and the method <code>getSomeStringAfterSomeProcess</code> look like?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1633541219,"post_id":69466048,"comment_id":122789389,"body_markdown":"I think its a defect in Mokito. Static mocking is relatively new feature there. If you mock the method using parent class, everything works fine.","body":"I think its a defect in Mokito. Static mocking is relatively new feature there. If you mock the method using parent class, everything works fine."}],"owner":{"account_id":1265651,"reputation":1,"user_id":6701171,"display_name":"yahya nahshal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633529930,"creation_date":1633524636,"question_id":69466048,"body_markdown":"Using the Mockito-inline (3.12.4) and following the Documents in https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nbut still getting the following error:\r\n\r\n   ``` \r\norg.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\n\r\nAlso, this error might show up because:\r\n1. you stub either of: final/private/equals()/hashCode() methods.\r\n   Those methods *cannot* be stubbed/verified.\r\n   Mocking methods declared on non-public parent classes is not supported.\r\n2. inside when() you don&#39;t call method on mock but on some other object.\r\n\r\n```\r\n\r\n```\r\n public class StaticCLass extends SuperStaticCLass {\r\n //... some methods  \r\n}\r\n\r\npublic class SuperStaticClass {\r\n\r\npublic static String getSomeStringAfterSomeProcess(SomeObject object) \r\n{\r\n   return SomeProcess.process(object);\r\n}\r\n}\r\n  \r\n ```\r\n\r\n    \r\n\r\nMy Code will be like following:\r\n\r\n    try (MockedStatic&lt;StaticCLass&gt; mocked = Mockito.mockStatic(StaticCLass.class)) {\r\n            mocked.when(() -&gt; StaticCLass.getSomeStringAfterSomeProcess(param))\r\n                    .thenReturn(&quot;Some Value&quot;);\r\n        }\r\n\r\n\r\n","title":"how to mock a static method with parameters and String return type?","body":"<p>Using the Mockito-inline (3.12.4) and following the Documents in <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks</a></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>but still getting the following error:</p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n when(mock.getArticles()).thenReturn(articles);\n\nAlso, this error might show up because:\n1. you stub either of: final/private/equals()/hashCode() methods.\nThose methods *cannot* be stubbed/verified.\nMocking methods declared on non-public parent classes is not supported.\n2. inside when() you don't call method on mock but on some other object.\n\n</code></pre>\n<pre><code> public class StaticCLass extends SuperStaticCLass {\n //... some methods  \n}\n\npublic class SuperStaticClass {\n\npublic static String getSomeStringAfterSomeProcess(SomeObject object) \n{\n   return SomeProcess.process(object);\n}\n}\n  \n</code></pre>\n<p>My Code will be like following:</p>\n<pre><code>try (MockedStatic&lt;StaticCLass&gt; mocked = Mockito.mockStatic(StaticCLass.class)) {\n        mocked.when(() -&gt; StaticCLass.getSomeStringAfterSomeProcess(param))\n                .thenReturn(&quot;Some Value&quot;);\n    }\n</code></pre>\n"},{"tags":["java","android","firebase-authentication"],"comments":[{"owner":{"account_id":10771113,"reputation":485,"user_id":7924565,"display_name":"Majid Ali"},"score":0,"creation_date":1633512524,"post_id":69463083,"comment_id":122776874,"body_markdown":"https://stackoverflow.com/questions/42040014/firebase-create-user-without-sign-in","body":"<a href=\"https://stackoverflow.com/questions/42040014/firebase-create-user-without-sign-in\" title=\"firebase create user without sign in\">stackoverflow.com/questions/42040014/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633513268,"post_id":69463083,"comment_id":122777252,"body_markdown":"What do you mean by &quot;without signing the new account in while I have logged in the Admin account to create the new account.&quot;?","body":"What do you mean by &quot;without signing the new account in while I have logged in the Admin account to create the new account.&quot;?"},{"owner":{"account_id":22957571,"reputation":11,"user_id":17087928,"display_name":"Xnova98"},"score":0,"creation_date":1633516531,"post_id":69463083,"comment_id":122778591,"body_markdown":"Ok it is like, Admin have to register an account for the staff. I have logged in the admin account, and then admin create an account for the staff. The account creation is done by the firebase function which is  createUserWithEmailAndPassword(). After the creation of the account it will auto login the new staff account created and log out the admin account which is currently signed in. So what I want is admin create the staff account without log in the staff account. @AlexMamo","body":"Ok it is like, Admin have to register an account for the staff. I have logged in the admin account, and then admin create an account for the staff. The account creation is done by the firebase function which is  createUserWithEmailAndPassword(). After the creation of the account it will auto login the new staff account created and log out the admin account which is currently signed in. So what I want is admin create the staff account without log in the staff account. @AlexMamo"}],"owner":{"account_id":22957571,"reputation":11,"user_id":17087928,"display_name":"Xnova98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633529804,"answer_count":0,"score":0,"last_activity_date":1633529824,"creation_date":1633512337,"question_id":69463083,"body_markdown":"I am going to develop a project with an Admin function. The question that I want to ask is how can I create a new Firebase account by using Firebase Authentication without signing the new account in while I have logged in the Admin account to create the new account. I do not want the admin account to be signed out.","title":"Firebase Android (Java) Create a new Account without logging it in","body":"<p>I am going to develop a project with an Admin function. The question that I want to ask is how can I create a new Firebase account by using Firebase Authentication without signing the new account in while I have logged in the Admin account to create the new account. I do not want the admin account to be signed out.</p>\n"},{"tags":["java","pdf","pdfbox","tagged-pdf"],"answers":[{"tags":[],"owner":{"account_id":8231291,"reputation":15,"user_id":6191847,"display_name":"Dilli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633529748,"creation_date":1633529748,"answer_id":69467430,"question_id":69448633,"body_markdown":"&gt; parentNode.removeKid(pdStructureElement);\r\n\r\n   Should be done before &quot;appendkid&quot;.\r\n \r\n\r\n    private static PDStructureElement wrapInElement(String structType, PDStructureElement pdStructureElement) {\r\n        \t\tPDStructureNode parentNode = pdStructureElement.getParent();\r\n        \t\tPDStructureElement structureElement = null;\r\n        \t\tif (parentNode!=null &amp;&amp; parentNode instanceof PDStructureElement)  {\r\n        \t\t\tstructureElement = new PDStructureElement(structType,parentNode);\r\n        \t\t\tparentNode.insertBefore(structureElement,pdStructureElement);\r\n        \t        structureElement.setParent(parentNode);\r\n        \t        parentNode.removeKid(pdStructureElement);\r\n        \t        structureElement.appendKid(pdStructureElement);\r\n        \t\t}\r\n        \t\treturn structureElement;\r\n        \t}","title":"PDFBox I need to wrap the link tags with reference tag","body":"<blockquote>\n<p>parentNode.removeKid(pdStructureElement);</p>\n</blockquote>\n<p>Should be done before &quot;appendkid&quot;.</p>\n<pre><code>private static PDStructureElement wrapInElement(String structType, PDStructureElement pdStructureElement) {\n            PDStructureNode parentNode = pdStructureElement.getParent();\n            PDStructureElement structureElement = null;\n            if (parentNode!=null &amp;&amp; parentNode instanceof PDStructureElement)  {\n                structureElement = new PDStructureElement(structType,parentNode);\n                parentNode.insertBefore(structureElement,pdStructureElement);\n                structureElement.setParent(parentNode);\n                parentNode.removeKid(pdStructureElement);\n                structureElement.appendKid(pdStructureElement);\n            }\n            return structureElement;\n        }\n</code></pre>\n"}],"owner":{"account_id":8231291,"reputation":15,"user_id":6191847,"display_name":"Dilli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69467430,"answer_count":1,"score":0,"last_activity_date":1633529748,"creation_date":1633428832,"question_id":69448633,"body_markdown":"I need to wrap the `link` tags with the `reference` tag.\r\n\r\n    private static PDStructureElement wrapInElement(String structType, PDStructureElement pdStructureElement) {\r\n\t\tPDStructureNode parentNode = pdStructureElement.getParent();\r\n\t\tPDStructureElement structureElement = null;\r\n\t\tif (parentNode!=null &amp;&amp; parentNode instanceof PDStructureElement)  {\r\n\t\t\tstructureElement = new PDStructureElement(structType,parentNode);\r\n\t\t\tstructureElement.setElementIdentifier(&quot;wrap&quot;+noteID++);\r\n\t\t\tparentNode.insertBefore(structureElement,pdStructureElement);\r\n\t        structureElement.setParent(parentNode);\r\n\t        structureElement.appendKid(pdStructureElement);\r\n\t        parentNode.removeKid(pdStructureElement);\r\n\t\t}\r\n\t\treturn structureElement;\r\n\t}\r\n\r\nAnd it does the structural changes. But in PAC3 it shows below error,\r\n\r\n&gt;  &quot;Link&quot; annotation is not nested inside a &quot;Link&quot; structure element\r\n\r\nPlease help me to solve the problem. [Sample PDF here][1].\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1wvBJVdTy4ZNe7RuYEQ892poPZxCntcZA/view?usp=sharing","title":"PDFBox I need to wrap the link tags with reference tag","body":"<p>I need to wrap the <code>link</code> tags with the <code>reference</code> tag.</p>\n<pre><code>private static PDStructureElement wrapInElement(String structType, PDStructureElement pdStructureElement) {\n    PDStructureNode parentNode = pdStructureElement.getParent();\n    PDStructureElement structureElement = null;\n    if (parentNode!=null &amp;&amp; parentNode instanceof PDStructureElement)  {\n        structureElement = new PDStructureElement(structType,parentNode);\n        structureElement.setElementIdentifier(&quot;wrap&quot;+noteID++);\n        parentNode.insertBefore(structureElement,pdStructureElement);\n        structureElement.setParent(parentNode);\n        structureElement.appendKid(pdStructureElement);\n        parentNode.removeKid(pdStructureElement);\n    }\n    return structureElement;\n}\n</code></pre>\n<p>And it does the structural changes. But in PAC3 it shows below error,</p>\n<blockquote>\n<p>&quot;Link&quot; annotation is not nested inside a &quot;Link&quot; structure element</p>\n</blockquote>\n<p>Please help me to solve the problem. <a href=\"https://drive.google.com/file/d/1wvBJVdTy4ZNe7RuYEQ892poPZxCntcZA/view?usp=sharing\" rel=\"nofollow noreferrer\">Sample PDF here</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1633529198,"post_id":69467190,"comment_id":122784193,"body_markdown":"Add the pipe char to your regex : `input.split(&quot;\\\\s{2,}|\\\\|&quot;))`","body":"Add the pipe char to your regex : <code>input.split(&quot;\\\\s{2,}|\\\\|&quot;))</code>"}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633529717,"creation_date":1633529292,"answer_id":69467319,"question_id":69467190,"body_markdown":"If you only want to keep alpha beta and numeric.\r\n\r\nYou can use the below regex:\r\n\r\n    [^a-zA-Z0-9\\s]|\\s{2,}\r\n\r\nAny character is not match a-z, A-Z, 0-9 and single space will be split. ","title":"split whitespace and special character in java","body":"<p>If you only want to keep alpha beta and numeric.</p>\n<p>You can use the below regex:</p>\n<pre><code>[^a-zA-Z0-9\\s]|\\s{2,}\n</code></pre>\n<p>Any character is not match a-z, A-Z, 0-9 and single space will be split.</p>\n"}],"owner":{"account_id":22623675,"reputation":21,"user_id":16802051,"display_name":"archita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633529717,"creation_date":1633528785,"question_id":69467190,"body_markdown":"    input = &quot;Apple|contact issues  problems|add contact&quot;;\r\n\r\nhow to split above string in java. I tried with split(&quot;\\\\s{2,}&quot;)but by using this split for only multi whitespace. but I want below output.\r\n\r\n    output:\r\n    Apple\r\n    contact issues\r\n    problems\r\n    add contact","title":"split whitespace and special character in java","body":"<pre><code>input = &quot;Apple|contact issues  problems|add contact&quot;;\n</code></pre>\n<p>how to split above string in java. I tried with split(&quot;\\s{2,}&quot;)but by using this split for only multi whitespace. but I want below output.</p>\n<pre><code>output:\nApple\ncontact issues\nproblems\nadd contact\n</code></pre>\n"},{"tags":["java","excel","validation","dropdown"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633529597,"creation_date":1633529597,"answer_id":69467401,"question_id":69467003,"body_markdown":"The way to delete a cell content is quite straightforward. You just need to get to the cell\r\n\r\n```\r\ncell.setCellType(CellType.BLANK);\r\n```","title":"I need to delete a drop down list from an .xls file using Java code","body":"<p>The way to delete a cell content is quite straightforward. You just need to get to the cell</p>\n<pre><code>cell.setCellType(CellType.BLANK);\n</code></pre>\n"}],"owner":{"account_id":22959989,"reputation":1,"user_id":17090022,"display_name":"BlackSkull09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633529597,"creation_date":1633528129,"question_id":69467003,"body_markdown":"This is what I tried and it doesn&#39;t seem to work.\r\n\r\n```\r\nHSSFSheet hssfStationSheet = workbook.getSheet(&quot;NameOfTheSheet&quot;);\r\n        CellRangeAddressList addressList = new CellRangeAddressList(0, 60, 0, 50);\r\n        DVConstraint dvConstraint = DVConstraint.createExplicitListConstraint(new String[]{&quot;10&quot;,&quot;20&quot;,&quot;30&quot;});\r\n        DataValidation dataValidation = new HSSFDataValidation(addressList, dvConstraint);\r\n        dataValidation.setEmptyCellAllowed(true);\r\n        dataValidation.setSuppressDropDownArrow(false);\r\n        dataValidation.setShowPromptBox(false);\r\n        for(int index; index &lt;= hssfSheet.getLastRowNum(); index++) {\r\n            hssfStationSheet.addValidationData(dataValidation);\r\n        }\r\n```","title":"I need to delete a drop down list from an .xls file using Java code","body":"<p>This is what I tried and it doesn't seem to work.</p>\n<pre><code>HSSFSheet hssfStationSheet = workbook.getSheet(&quot;NameOfTheSheet&quot;);\n        CellRangeAddressList addressList = new CellRangeAddressList(0, 60, 0, 50);\n        DVConstraint dvConstraint = DVConstraint.createExplicitListConstraint(new String[]{&quot;10&quot;,&quot;20&quot;,&quot;30&quot;});\n        DataValidation dataValidation = new HSSFDataValidation(addressList, dvConstraint);\n        dataValidation.setEmptyCellAllowed(true);\n        dataValidation.setSuppressDropDownArrow(false);\n        dataValidation.setShowPromptBox(false);\n        for(int index; index &lt;= hssfSheet.getLastRowNum(); index++) {\n            hssfStationSheet.addValidationData(dataValidation);\n        }\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1619217225,"post_id":67237294,"comment_id":118847666,"body_markdown":"Is Tomcat already running? If you click on the &quot;Stop&quot; menu item (in your screenshot), does the &quot;Start&quot; option then become available?","body":"Is Tomcat already running? If you click on the &quot;Stop&quot; menu item (in your screenshot), does the &quot;Start&quot; option then become available?"},{"owner":{"account_id":6113295,"reputation":128,"user_id":4769095,"accept_rate":42,"display_name":"pablo casanovas"},"score":0,"creation_date":1619217514,"post_id":67237294,"comment_id":118847726,"body_markdown":"it is not running. I also have an authentification problem. I introduce the user and password that are defined in tomcat-users.xml and they are not accepted","body":"it is not running. I also have an authentification problem. I introduce the user and password that are defined in tomcat-users.xml and they are not accepted"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1619217708,"post_id":67237294,"comment_id":118847778,"body_markdown":"OK, understood - it&#39;s just that in your screenshot, the &quot;start&quot; option is disabled (grey), but the &quot;stop&quot; option is enabled (black)... That only happens (in my experience) if NetBeans thinks Tomcat is already running.","body":"OK, understood - it&#39;s just that in your screenshot, the &quot;start&quot; option is disabled (grey), but the &quot;stop&quot; option is enabled (black)... That only happens (in my experience) if NetBeans thinks Tomcat is already running."},{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1633520453,"post_id":67237294,"comment_id":122780219,"body_markdown":"There are some difficulties with Netbeans 12 and Tomcat plugin, unclear for me. Version 11 works like a charm","body":"There are some difficulties with Netbeans 12 and Tomcat plugin, unclear for me. Version 11 works like a charm"}],"answers":[{"tags":[],"owner":{"account_id":22945893,"reputation":26,"user_id":17077868,"display_name":"Aditya sharma R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633529561,"creation_date":1633519618,"answer_id":69464859,"question_id":67237294,"body_markdown":"Go to the start search Services&gt;Apache Tomcat9.0 &gt; right click &gt; properties &gt;startup type &gt;select[![enter image description here][1]][1] Manual&gt; and stop the server there\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W17uv.png","title":"Can&#39;t Start Tomcat server from Netbeans","body":"<p>Go to the start search Services&gt;Apache Tomcat9.0 &gt; right click &gt; properties &gt;startup type &gt;select<a href=\"https://i.stack.imgur.com/W17uv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W17uv.png\" alt=\"enter image description here\" /></a> Manual&gt; and stop the server there</p>\n"}],"owner":{"account_id":6113295,"reputation":128,"user_id":4769095,"accept_rate":42,"display_name":"pablo casanovas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69464859,"answer_count":1,"score":1,"last_activity_date":1633529561,"creation_date":1619215276,"question_id":67237294,"body_markdown":"I installed Apache Tomcat in my computer. I added the server in Netbeans but I can&#39;t start it because the start button is disabled. See Screenshot\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDoes anybody know what is the problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dMnNL.png","title":"Can&#39;t Start Tomcat server from Netbeans","body":"<p>I installed Apache Tomcat in my computer. I added the server in Netbeans but I can't start it because the start button is disabled. See Screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/dMnNL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dMnNL.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anybody know what is the problem?</p>\n"},{"tags":["java","security","jboss","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1627325889,"post_id":68528325,"comment_id":121121660,"body_markdown":"I&#39;m no expert, but maybe this will help http://www.mastertheboss.com/jbossas/jboss-security/how-to-create-a-custom-elytron-realm/","body":"I&#39;m no expert, but maybe this will help <a href=\"http://www.mastertheboss.com/jbossas/jboss-security/how-to-create-a-custom-elytron-realm/\" rel=\"nofollow noreferrer\">mastertheboss.com/jbossas/jboss-security/&hellip;</a>"},{"owner":{"account_id":891959,"reputation":1774,"user_id":930027,"accept_rate":62,"display_name":"Kevin Joymungol"},"score":0,"creation_date":1697737610,"post_id":68528325,"comment_id":136320737,"body_markdown":"were you able to find a solution? am stuck on this as well, migrating from wildfly 10 to wildfly 27","body":"were you able to find a solution? am stuck on this as well, migrating from wildfly 10 to wildfly 27"}],"answers":[{"tags":[],"owner":{"account_id":4190881,"reputation":21,"user_id":3433521,"display_name":"John Burgess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633529551,"creation_date":1633445182,"answer_id":69452602,"question_id":68528325,"body_markdown":"That login module appears to hardcode the password to PasswordKey.\r\n\r\nBut if you&#39;re looking to translate it to Elytron, custom realms should extend `org.wildfly.security.auth.server.SecurityRealm` in the same sort of way that yours extends `UserNamePasswordLoginModule`.  See `MasterTheBoss`, as was suggested above.","title":"How to migrate PicketBox custom login module to Elytron?","body":"<p>That login module appears to hardcode the password to PasswordKey.</p>\n<p>But if you're looking to translate it to Elytron, custom realms should extend <code>org.wildfly.security.auth.server.SecurityRealm</code> in the same sort of way that yours extends <code>UserNamePasswordLoginModule</code>.  See <code>MasterTheBoss</code>, as was suggested above.</p>\n"}],"owner":{"account_id":1463180,"reputation":571,"user_id":1376887,"accept_rate":29,"display_name":"Paris Karagiannopoulos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633529551,"creation_date":1627295434,"question_id":68528325,"body_markdown":"I have an application that deploys on Wildfly and in the standalone there is this entry:\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:security:2.0&quot;&gt;\r\n        &lt;security-domains&gt;\r\n            &lt;security-domain name=&quot;customLoginModule&quot; cache-type=&quot;default&quot;&gt;\r\n                &lt;authentication&gt;\r\n                    &lt;login-module code=&quot;com.mypackage.MyLoginModule flag=&quot;required&quot;/&gt;\r\n                &lt;/authentication&gt;\r\n            &lt;/security-domain&gt;\r\n    ...\r\n\r\nThere is also this class:\r\n\r\n    public class MyLoginModule extends UsernamePasswordLoginModule {\r\n    \r\n        public static void authenticateUser(HttpServletRequest request, String principalName) {\r\n            try {\r\n                request.login(principalName, &quot;PasswordKey&quot;);\r\n            } catch (ServletException ex) {\r\n                throw new RuntimeException(&quot;...&quot;);\r\n            }\r\n        }\r\n    \r\n        public void initialize(Subject subject, CallbackHandler callbackHandler, Map&lt;String, ?&gt; sharedState, Map&lt;String, ?&gt; options) {\r\n    \r\n            super.iniitalize(subject, callbackHandler, sharedState, options);\r\n        }\r\n    \r\n        private static Group[] createUserGroup() {\r\n    \r\n            SimpleGroup group = new SimpleGroup(&quot;Roles&quot;);\r\n    \r\n            group.addMember(new SimplePrincipal(&quot;MyUser&quot;));\r\n    \r\n            return new Group[]{group};\r\n        }\r\n    \r\n        @Override\r\n        protected String getUsersPassword() {\r\n            return &quot;PasswordKey&quot;;\r\n        }\r\n    \r\n        @Override\r\n        protected boolean validatePassword(String input, String expected) {\r\n            return input.equals(expected);\r\n        }\r\n    \r\n        @Override\r\n        protected Group[] getRoleSets() {\r\n            return createUserGroup();\r\n        }\r\n    }\r\n\r\nInside our login servlet, the static method authenticateUser() is called.\r\n\r\nI do not understand exactly what is the point of this class and how security is working. The need is to remove the PicketBox dependency that provides UsernamePasswordLoginModule because it uses this deprecated Group class. How can I modify the above logic and security-domain in the standalone.xml to work with Elyton security? I read this [migration guide][1] but I am not able to understand how it could be applied in my case. Please help, thanks in advance\r\n\r\n\r\n  [1]: https://docs.jboss.org/author/display/WFLY/Migrate%20Legacy%20Security%20to%20Elytron%20Security.html#119144556_MigrateLegacySecuritytoElytronSecurity-PicketBoxBasedConfiguration","title":"How to migrate PicketBox custom login module to Elytron?","body":"<p>I have an application that deploys on Wildfly and in the standalone there is this entry:</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:security:2.0&quot;&gt;\n    &lt;security-domains&gt;\n        &lt;security-domain name=&quot;customLoginModule&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authentication&gt;\n                &lt;login-module code=&quot;com.mypackage.MyLoginModule flag=&quot;required&quot;/&gt;\n            &lt;/authentication&gt;\n        &lt;/security-domain&gt;\n...\n</code></pre>\n<p>There is also this class:</p>\n<pre><code>public class MyLoginModule extends UsernamePasswordLoginModule {\n\n    public static void authenticateUser(HttpServletRequest request, String principalName) {\n        try {\n            request.login(principalName, &quot;PasswordKey&quot;);\n        } catch (ServletException ex) {\n            throw new RuntimeException(&quot;...&quot;);\n        }\n    }\n\n    public void initialize(Subject subject, CallbackHandler callbackHandler, Map&lt;String, ?&gt; sharedState, Map&lt;String, ?&gt; options) {\n\n        super.iniitalize(subject, callbackHandler, sharedState, options);\n    }\n\n    private static Group[] createUserGroup() {\n\n        SimpleGroup group = new SimpleGroup(&quot;Roles&quot;);\n\n        group.addMember(new SimplePrincipal(&quot;MyUser&quot;));\n\n        return new Group[]{group};\n    }\n\n    @Override\n    protected String getUsersPassword() {\n        return &quot;PasswordKey&quot;;\n    }\n\n    @Override\n    protected boolean validatePassword(String input, String expected) {\n        return input.equals(expected);\n    }\n\n    @Override\n    protected Group[] getRoleSets() {\n        return createUserGroup();\n    }\n}\n</code></pre>\n<p>Inside our login servlet, the static method authenticateUser() is called.</p>\n<p>I do not understand exactly what is the point of this class and how security is working. The need is to remove the PicketBox dependency that provides UsernamePasswordLoginModule because it uses this deprecated Group class. How can I modify the above logic and security-domain in the standalone.xml to work with Elyton security? I read this <a href=\"https://docs.jboss.org/author/display/WFLY/Migrate%20Legacy%20Security%20to%20Elytron%20Security.html#119144556_MigrateLegacySecuritytoElytronSecurity-PicketBoxBasedConfiguration\" rel=\"nofollow noreferrer\">migration guide</a> but I am not able to understand how it could be applied in my case. Please help, thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":19529990,"reputation":81,"user_id":14289996,"display_name":"PS_01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631898755,"creation_date":1631898271,"answer_id":69227178,"question_id":69222695,"body_markdown":"Try implementing the below mentioned properties and see if they help your case:\r\n\r\n 1. Use `@RestController` instead of `@Controller` on your *ReactWebController* class.\r\n\r\n 2. Add a custom **context-path** to the `application.properties` file of your spring-boot application:\r\n\r\n    \r\n\r\n&gt; server.servlet.context-path=MartServer/portal\r\n\r\n 3. You could also make use of a **View Resolver**. It can be configured in the `application.properties` file, as shown below:\r\n\r\n&gt;     spring.mvc.view.prefix=/WEB-INF/\r\n&gt;     spring.mvc.view.suffix=.html\r\n\r\n Check out the official [Spring Boot documentation][1] for further details on configurable properties.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server","title":"Circular View Path Exception in Spring Boot","body":"<p>Try implementing the below mentioned properties and see if they help your case:</p>\n<ol>\n<li><p>Use <code>@RestController</code> instead of <code>@Controller</code> on your <em>ReactWebController</em> class.</p>\n</li>\n<li><p>Add a custom <strong>context-path</strong> to the <code>application.properties</code> file of your spring-boot application:</p>\n</li>\n</ol>\n<blockquote>\n<p>server.servlet.context-path=MartServer/portal</p>\n</blockquote>\n<ol start=\"3\">\n<li>You could also make use of a <strong>View Resolver</strong>. It can be configured in the <code>application.properties</code> file, as shown below:</li>\n</ol>\n<blockquote>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/\nspring.mvc.view.suffix=.html\n</code></pre>\n</blockquote>\n<p>Check out the official <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server\" rel=\"nofollow noreferrer\">Spring Boot documentation</a> for further details on configurable properties.</p>\n"},{"tags":[],"owner":{"account_id":7774964,"reputation":91,"user_id":5883358,"display_name":"Andreea Frincu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633096597,"creation_date":1633096597,"answer_id":69407109,"question_id":69222695,"body_markdown":"As far as I see it is correct to throw you an exception because:\r\n you call the http://localhost/MartServer/portal/user which results the path http://localhost/MartServer/portal/index.html. You defined the paths `&quot;/portal/**&quot;` and `&quot;/portal/user/**&quot;` in your controller =&gt; the path match again.\r\n\r\nI think that is better to review all your paths. \r\n\r\nFor example if you let `&quot;/portal/**&quot;` it will also match the path for http://localhost/MartServer/portal/user. But this depends of what you want to achieve.\r\n","title":"Circular View Path Exception in Spring Boot","body":"<p>As far as I see it is correct to throw you an exception because:\nyou call the http://localhost/MartServer/portal/user which results the path http://localhost/MartServer/portal/index.html. You defined the paths <code>&quot;/portal/**&quot;</code> and <code>&quot;/portal/user/**&quot;</code> in your controller =&gt; the path match again.</p>\n<p>I think that is better to review all your paths.</p>\n<p>For example if you let <code>&quot;/portal/**&quot;</code> it will also match the path for http://localhost/MartServer/portal/user. But this depends of what you want to achieve.</p>\n"}],"owner":{"account_id":20963232,"reputation":25,"user_id":15402182,"display_name":"sb29595"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633529312,"creation_date":1631878139,"question_id":69222695,"body_markdown":"I&#39;m trying to return &quot;index.html&quot; page for every request mapping with below controller:\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    \r\n    @Controller\r\n    public class ReactWebController {\r\n        @RequestMapping(value = {&quot;/&quot;, &quot;/login/**&quot;, &quot;/logout/**&quot;, &quot;/forgotpassword/**&quot;, &quot;/home/**&quot;, &quot;/dashboard/**&quot;\r\n                , &quot;/user/**&quot;, &quot;/profile/**&quot;, &quot;/catalog/**&quot;, &quot;/permission/**&quot;, &quot;/diconnect/**&quot;, &quot;/nsm/**&quot;, &quot;/session/**&quot;\r\n                , &quot;/settings/**&quot;, &quot;/log/**&quot;, &quot;/config/**&quot;, &quot;/delete/**&quot;, &quot;/initialize/**&quot;, &quot;/initial/**&quot;, &quot;/changepassword/**&quot;,\r\n                &quot;/portalconnect/**&quot;, &quot;/portal/**&quot;, &quot;/portal/user/**&quot;, &quot;/portal/profile/**&quot;, &quot;/portal/permission/**&quot;,\r\n                &quot;/portal/catalog/**&quot;, &quot;/portal/metadata-browse/**&quot;,&quot;/portal/search/**&quot;,&quot;/portal-object-overview/**&quot;})\r\n        public String react() throws Exception {\r\n            return &quot;index.html&quot;;\r\n        }\r\n    }\r\n\r\nThe thing is, when I refresh URL it is working when the path is like this: http://localhost:18170/MartServer/user, but not when it has multiple folder kind of paths e.g. http://localhost:18170/MartServer/portal/user. I get below exception details. \r\n\r\n**EDIT:** But it is not the case in port 3000 (frontend) where I didn&#39;t do any build of complete project, backend and frontend are separate.\r\n\r\n    ERROR [/MartServer].[dispatcherServlet].log: Servlet.service() for servlet [dispatcherServlet] in context with path [/MartServer] threw exception [Circular view path [index.html]: would dispatch back to the current handler URL [/MartServer/portal/index.html] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause\r\n    javax.servlet.ServletException: Circular view path [index.html]: would dispatch back to the current handler URL [/MartServer/portal/index.html] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)\r\n\r\nI tried to add `addViewControllers()` and `addResourceHanlders()` as well, but no luck. Can anyone help me how to fix this. Thanks!\r\n\r\nFrontend is React JS, index.html is generated after &quot;npm run build&quot; and is used for controller","title":"Circular View Path Exception in Spring Boot","body":"<p>I'm trying to return &quot;index.html&quot; page for every request mapping with below controller:</p>\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n\n@Controller\npublic class ReactWebController {\n    @RequestMapping(value = {&quot;/&quot;, &quot;/login/**&quot;, &quot;/logout/**&quot;, &quot;/forgotpassword/**&quot;, &quot;/home/**&quot;, &quot;/dashboard/**&quot;\n            , &quot;/user/**&quot;, &quot;/profile/**&quot;, &quot;/catalog/**&quot;, &quot;/permission/**&quot;, &quot;/diconnect/**&quot;, &quot;/nsm/**&quot;, &quot;/session/**&quot;\n            , &quot;/settings/**&quot;, &quot;/log/**&quot;, &quot;/config/**&quot;, &quot;/delete/**&quot;, &quot;/initialize/**&quot;, &quot;/initial/**&quot;, &quot;/changepassword/**&quot;,\n            &quot;/portalconnect/**&quot;, &quot;/portal/**&quot;, &quot;/portal/user/**&quot;, &quot;/portal/profile/**&quot;, &quot;/portal/permission/**&quot;,\n            &quot;/portal/catalog/**&quot;, &quot;/portal/metadata-browse/**&quot;,&quot;/portal/search/**&quot;,&quot;/portal-object-overview/**&quot;})\n    public String react() throws Exception {\n        return &quot;index.html&quot;;\n    }\n}\n</code></pre>\n<p>The thing is, when I refresh URL it is working when the path is like this: http://localhost:18170/MartServer/user, but not when it has multiple folder kind of paths e.g. http://localhost:18170/MartServer/portal/user. I get below exception details.</p>\n<p><strong>EDIT:</strong> But it is not the case in port 3000 (frontend) where I didn't do any build of complete project, backend and frontend are separate.</p>\n<pre><code>ERROR [/MartServer].[dispatcherServlet].log: Servlet.service() for servlet [dispatcherServlet] in context with path [/MartServer] threw exception [Circular view path [index.html]: would dispatch back to the current handler URL [/MartServer/portal/index.html] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause\njavax.servlet.ServletException: Circular view path [index.html]: would dispatch back to the current handler URL [/MartServer/portal/index.html] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)\n</code></pre>\n<p>I tried to add <code>addViewControllers()</code> and <code>addResourceHanlders()</code> as well, but no luck. Can anyone help me how to fix this. Thanks!</p>\n<p>Frontend is React JS, index.html is generated after &quot;npm run build&quot; and is used for controller</p>\n"},{"tags":["java","c++","c"],"comments":[{"owner":{"account_id":70736,"reputation":250847,"user_id":204847,"display_name":"Mike Seymour"},"score":5,"creation_date":1395676865,"post_id":22614449,"comment_id":34434972,"body_markdown":"Which language are you asking about? The answer is (probably, more or less) the same for C and C++, but very different for Java.","body":"Which language are you asking about? The answer is (probably, more or less) the same for C and C++, but very different for Java."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1395677053,"post_id":22614449,"comment_id":34435105,"body_markdown":"It is not the _compiler_ which &quot;searches for it&quot; in the case of Java but the JVM. With C and C++ it is nearly similar, except that it is not the compiler which will look for it but the linker. You can compile object files in C/C++ without having a main() in them.","body":"It is not the <i>compiler</i> which &quot;searches for it&quot; in the case of Java but the JVM. With C and C++ it is nearly similar, except that it is not the compiler which will look for it but the linker. You can compile object files in C/C++ without having a main() in them."},{"owner":{"account_id":1325185,"reputation":2581,"user_id":1270168,"display_name":"jerry"},"score":0,"creation_date":1395677175,"post_id":22614449,"comment_id":34435189,"body_markdown":"Similar to [this question](http://stackoverflow.com/q/3679522/1270168), but I&#39;m not sure it&#39;s a duplicate.","body":"Similar to <a href=\"http://stackoverflow.com/q/3679522/1270168\">this question</a>, but I&#39;m not sure it&#39;s a duplicate."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":2,"creation_date":1395677494,"post_id":22614449,"comment_id":34435431,"body_markdown":"In C/C++, there is typically a &quot;startup&quot; subroutine (which could be written in C, assembly, or something else) that does some setup work and then calls `main`.  The setup work may involve calling subroutines that initialize global variables and call constructors for global variables, and possibly setting up the `argc` and `argv` parameters.","body":"In C/C++, there is typically a &quot;startup&quot; subroutine (which could be written in C, assembly, or something else) that does some setup work and then calls <code>main</code>.  The setup work may involve calling subroutines that initialize global variables and call constructors for global variables, and possibly setting up the <code>argc</code> and <code>argv</code> parameters."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1395677773,"post_id":22614449,"comment_id":34435651,"body_markdown":"In Java, `main` is just a method, only made special by the fact that, when you do `java SomeClass`, the JVM inspects `SomeClass` to find an appropriately described `main` method to invoke.  If it&#39;s not found then the `java` command will report an error.  The compiler has no say in the matter.","body":"In Java, <code>main</code> is just a method, only made special by the fact that, when you do <code>java SomeClass</code>, the JVM inspects <code>SomeClass</code> to find an appropriately described <code>main</code> method to invoke.  If it&#39;s not found then the <code>java</code> command will report an error.  The compiler has no say in the matter."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1395677907,"post_id":22614449,"comment_id":34435760,"body_markdown":"IIRC, there have been versions of C where the C compiler &quot;recognized&quot; `main` and specially packaged it.  This is not in the architecture, though, it&#39;s just an implementation detail.","body":"IIRC, there have been versions of C where the C compiler &quot;recognized&quot; <code>main</code> and specially packaged it.  This is not in the architecture, though, it&#39;s just an implementation detail."},{"owner":{"account_id":4221444,"reputation":63,"user_id":3456143,"display_name":"shw"},"score":0,"creation_date":1396033241,"post_id":22614449,"comment_id":34625939,"body_markdown":"@MikeSeymour- The question is in reference to both the languages i.e., C/C++ as well as Java","body":"@MikeSeymour- The question is in reference to both the languages i.e., C/C++ as well as Java"}],"answers":[{"tags":[],"owner":{"account_id":1143565,"reputation":503902,"user_id":1126841,"display_name":"chepner"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1395677536,"creation_date":1395677536,"answer_id":22614759,"question_id":22614449,"body_markdown":"`main` is not predefined, but it *is* predeclared. In C, your code is linked against a small runtime library that constitutes the *true* starting point of your program. It is this small library that does a minimal amount of stack setup, then calls a function called `main`--it&#39;s hardcoded to do so. Your code runs because you supply the *definition* of `main`.\r\n\r\nThe Java runtime does something similar: the bootstrap code in the virtual machine will invoke the `main` method of whatever class is provided as input.","title":"Where is main stored &amp; is main a keyword? I do know that main() is a method but I am asking about &quot;main&quot;","body":"<p><code>main</code> is not predefined, but it <em>is</em> predeclared. In C, your code is linked against a small runtime library that constitutes the <em>true</em> starting point of your program. It is this small library that does a minimal amount of stack setup, then calls a function called <code>main</code>--it's hardcoded to do so. Your code runs because you supply the <em>definition</em> of <code>main</code>.</p>\n\n<p>The Java runtime does something similar: the bootstrap code in the virtual machine will invoke the <code>main</code> method of whatever class is provided as input.</p>\n"},{"tags":[],"owner":{"display_name":"user2249683"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395677545,"creation_date":1395677545,"answer_id":22614761,"question_id":22614449,"body_markdown":"**C++11**\r\n\r\nJust a quote from the standard:\r\n\r\n&gt; 3.6.1 Main function\r\n&gt; \r\n&gt; A program shall contain a global function called main, which is the\r\n&gt; designated start of the program. It is implementation-defined whether\r\n&gt; a program in a freestanding environment is required to define a main\r\n&gt; function. [ Note: In a freestanding environment, start-up and\r\n&gt; termination is implementation-defined; start- up contains the\r\n&gt; execution of constructors for objects of namespace scope with static\r\n&gt; storage duration; termination contains the execution of destructors\r\n&gt; for objects with static storage duration. — end note ]\r\n&gt; \r\n&gt; An implementation shall not predefine the main function. This function\r\n&gt; shall not be overloaded. It shall have a return type of type int, but\r\n&gt; otherwise its type is implementation-defined. All implementations\r\n&gt; shall allow both of the following definitions of main:\r\n&gt; \r\n&gt; int main() { /* ... */ } and int main(int argc, char* argv[]) { /* ...\r\n&gt; */ }\r\n&gt; \r\n&gt; In the latter form argc shall be the number of arguments passed to the\r\n&gt; program from the environ- ment in which the program is run. If argc is\r\n&gt; nonzero these arguments shall be supplied in argv[0] through\r\n&gt; argv[argc-1] as pointers to the initial characters of null-terminated\r\n&gt; multibyte strings (ntmbs s) (17.5.2.1.4.2) and argv[0] shall be the\r\n&gt; pointer to the initial character of a ntmbs that represents the name\r\n&gt; used to invoke the program or &quot;&quot;. The value of argc shall be\r\n&gt; non-negative. The value of argv[argc] shall be 0. [ Note: It is\r\n&gt; recommended that any further (optional) parameters be added after\r\n&gt; argv. — end note ]\r\n&gt; \r\n&gt; The function main shall not be used within a program. The linkage\r\n&gt; (3.5) of main is implementation-defined. A program that defines main\r\n&gt; as deleted or that declares main to be inline, static, or constexpr is\r\n&gt; ill- formed. The name main is not otherwise reserved. [ Example:\r\n&gt; member functions, classes, and enumerations can be called main, as can\r\n&gt; entities in other namespaces. — end example ]\r\n&gt; \r\n&gt; Terminating the program without leaving the current block (e.g., by\r\n&gt; calling the function std::exit(int) (18.5)) does not destroy any\r\n&gt; objects with automatic storage duration (12.4). If std::exit is called\r\n&gt; to end a program during the destruction of an object with static or\r\n&gt; thread storage duration, the program has undefined behavior.\r\n&gt; \r\n&gt; A return statement in main has the effect of leaving the main function\r\n&gt; (destroying any objects with automatic storage duration) and calling\r\n&gt; std::exit with the return value as the argument. If control reaches\r\n&gt; the end of main without encountering a return statement, the effect is\r\n&gt; that of executing return 0;\r\n\r\n","title":"Where is main stored &amp; is main a keyword? I do know that main() is a method but I am asking about &quot;main&quot;","body":"<p><strong>C++11</strong></p>\n\n<p>Just a quote from the standard:</p>\n\n<blockquote>\n  <p>3.6.1 Main function</p>\n  \n  <p>A program shall contain a global function called main, which is the\n  designated start of the program. It is implementation-defined whether\n  a program in a freestanding environment is required to define a main\n  function. [ Note: In a freestanding environment, start-up and\n  termination is implementation-defined; start- up contains the\n  execution of constructors for objects of namespace scope with static\n  storage duration; termination contains the execution of destructors\n  for objects with static storage duration. — end note ]</p>\n  \n  <p>An implementation shall not predefine the main function. This function\n  shall not be overloaded. It shall have a return type of type int, but\n  otherwise its type is implementation-defined. All implementations\n  shall allow both of the following definitions of main:</p>\n  \n  <p>int main() { /* ... <em>/ } and int main(int argc, char</em> argv[]) { /* ...\n  */ }</p>\n  \n  <p>In the latter form argc shall be the number of arguments passed to the\n  program from the environ- ment in which the program is run. If argc is\n  nonzero these arguments shall be supplied in argv[0] through\n  argv[argc-1] as pointers to the initial characters of null-terminated\n  multibyte strings (ntmbs s) (17.5.2.1.4.2) and argv[0] shall be the\n  pointer to the initial character of a ntmbs that represents the name\n  used to invoke the program or \"\". The value of argc shall be\n  non-negative. The value of argv[argc] shall be 0. [ Note: It is\n  recommended that any further (optional) parameters be added after\n  argv. — end note ]</p>\n  \n  <p>The function main shall not be used within a program. The linkage\n  (3.5) of main is implementation-defined. A program that defines main\n  as deleted or that declares main to be inline, static, or constexpr is\n  ill- formed. The name main is not otherwise reserved. [ Example:\n  member functions, classes, and enumerations can be called main, as can\n  entities in other namespaces. — end example ]</p>\n  \n  <p>Terminating the program without leaving the current block (e.g., by\n  calling the function std::exit(int) (18.5)) does not destroy any\n  objects with automatic storage duration (12.4). If std::exit is called\n  to end a program during the destruction of an object with static or\n  thread storage duration, the program has undefined behavior.</p>\n  \n  <p>A return statement in main has the effect of leaving the main function\n  (destroying any objects with automatic storage duration) and calling\n  std::exit with the return value as the argument. If control reaches\n  the end of main without encountering a return statement, the effect is\n  that of executing return 0;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3004206,"reputation":2232,"user_id":2549037,"display_name":"hellboy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395679522,"creation_date":1395679522,"answer_id":22615500,"question_id":22614449,"body_markdown":"Main is not a keyword in Java. When you try to execute a java code using &quot;java&quot; command, the runtime will load the public class that you are trying to execute and then call the main method defined in the class. The runtime knows that &quot;main&quot; is the method to look for as it is designed that way. The language specification also mandates that there should be a method named &quot;main&quot;, which should be public and static and accept an array of strings as parameter with the return type as void. Since it is public and static, the runtime can call the method without having to instantiate the Class. ","title":"Where is main stored &amp; is main a keyword? I do know that main() is a method but I am asking about &quot;main&quot;","body":"<p>Main is not a keyword in Java. When you try to execute a java code using \"java\" command, the runtime will load the public class that you are trying to execute and then call the main method defined in the class. The runtime knows that \"main\" is the method to look for as it is designed that way. The language specification also mandates that there should be a method named \"main\", which should be public and static and accept an array of strings as parameter with the return type as void. Since it is public and static, the runtime can call the method without having to instantiate the Class. </p>\n"},{"tags":[],"owner":{"account_id":22960204,"reputation":1,"user_id":17090198,"display_name":"Philips George John"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633529216,"creation_date":1633529216,"answer_id":69467300,"question_id":22614449,"body_markdown":"Yes. Main is a keyword in java and in C. An implementation shall not predefine the main function. This function shall not be overloaded. It shall have a return type of type int, but otherwise its type is implementation-defined. All implementations shall allow both of definitions of main.","title":"Where is main stored &amp; is main a keyword? I do know that main() is a method but I am asking about &quot;main&quot;","body":"<p>Yes. Main is a keyword in java and in C. An implementation shall not predefine the main function. This function shall not be overloaded. It shall have a return type of type int, but otherwise its type is implementation-defined. All implementations shall allow both of definitions of main.</p>\n"}],"owner":{"account_id":4221444,"reputation":63,"user_id":3456143,"display_name":"shw"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7852,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":22614759,"answer_count":4,"score":4,"last_activity_date":1633529216,"creation_date":1395676810,"question_id":22614449,"body_markdown":"I do know about the main() method used in C/C++ &amp; Java but since the main() is user defined (as the code inside the main() is defined by the user, it can&#39;t be a predefined method) &amp; in C/C++ the main is not stored in a header file, then where is it exactly located so that the compiler first searches for it in a program? And is main a keyword or something else? I heard somewhere that it is an attribute used as a keyword but I am not sure. Can someone please help me with this? (I would like to know about this in case of both Java &amp; C/C++)","title":"Where is main stored &amp; is main a keyword? I do know that main() is a method but I am asking about &quot;main&quot;","body":"<p>I do know about the main() method used in C/C++ &amp; Java but since the main() is user defined (as the code inside the main() is defined by the user, it can't be a predefined method) &amp; in C/C++ the main is not stored in a header file, then where is it exactly located so that the compiler first searches for it in a program? And is main a keyword or something else? I heard somewhere that it is an attribute used as a keyword but I am not sure. Can someone please help me with this? (I would like to know about this in case of both Java &amp; C/C++)</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":12546935,"reputation":1675,"user_id":9129885,"display_name":"Shubham Chopra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527250211,"creation_date":1527250211,"answer_id":50528923,"question_id":50528654,"body_markdown":"**Modify** \r\n\r\n`&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;` \r\n\r\nto\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;\r\n\r\nThe value=&quot;update&quot; modifies the existing table while value=&quot;create&quot; creates a table, but if the table already exists, it drops the table with the data and creates a table again.\r\n\r\n","title":"JPA Hibernate table doesnt exists","body":"<p><strong>Modify</strong> </p>\n\n<p><code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;</code> </p>\n\n<p>to</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;\n</code></pre>\n\n<p>The value=\"update\" modifies the existing table while value=\"create\" creates a table, but if the table already exists, it drops the table with the data and creates a table again.</p>\n"},{"tags":[],"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527250293,"creation_date":1527250293,"answer_id":50528949,"question_id":50528654,"body_markdown":"Change `&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;`\r\n\r\nRefer here for all possible values of hbm2ddl.auto\r\n\r\nhttps://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do","title":"JPA Hibernate table doesnt exists","body":"<p>Change <code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;</code></p>\n\n<p>Refer here for all possible values of hbm2ddl.auto</p>\n\n<p><a href=\"https://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do\">Hibernate hbm2ddl.auto possible values and what they do?</a></p>\n"},{"tags":[],"owner":{"account_id":6567416,"reputation":755,"user_id":5076511,"accept_rate":100,"display_name":"Fabulous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527250565,"creation_date":1527250565,"answer_id":50529034,"question_id":50528654,"body_markdown":"The error shows up because your `persistance.xml` has been configured to update tables. During the first run, there are no tables that have been created, and thus nothing to update. \r\n\r\nOn the first run, set ` &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;` so that a table can be created from your pojo. Then, set it back to ` &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;` so that your tables can be *updated* instead of being *created* at each run\r\n","title":"JPA Hibernate table doesnt exists","body":"<p>The error shows up because your <code>persistance.xml</code> has been configured to update tables. During the first run, there are no tables that have been created, and thus nothing to update. </p>\n\n<p>On the first run, set <code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;</code> so that a table can be created from your pojo. Then, set it back to <code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;</code> so that your tables can be <em>updated</em> instead of being <em>created</em> at each run</p>\n"},{"tags":[],"owner":{"account_id":13640555,"reputation":86,"user_id":9840626,"display_name":"Matheus Genteluci"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1527251384,"creation_date":1527251384,"answer_id":50529278,"question_id":50528654,"body_markdown":"I tried changing it to:\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;\r\n\r\nand i have also tried changing to:\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot; /&gt;\r\n\r\n Neither one of those two worked.","title":"JPA Hibernate table doesnt exists","body":"<p>I tried changing it to:</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;\n</code></pre>\n\n<p>and i have also tried changing to:</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create-drop\" /&gt;\n</code></pre>\n\n<p>Neither one of those two worked.</p>\n"},{"tags":[],"owner":{"account_id":19117356,"reputation":11,"user_id":13961989,"display_name":"Ashok Maurya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633528718,"creation_date":1633527833,"answer_id":69466934,"question_id":50528654,"body_markdown":"Provide schema as well along with table name e.g.\r\n\r\n    @Table(name=“TAB_ALUNOS”, schema = &quot;dbo&quot;)\r\n\r\n","title":"JPA Hibernate table doesnt exists","body":"<p>Provide schema as well along with table name e.g.</p>\n<pre><code>@Table(name=“TAB_ALUNOS”, schema = &quot;dbo&quot;)\n</code></pre>\n"}],"owner":{"account_id":13640555,"reputation":86,"user_id":9840626,"display_name":"Matheus Genteluci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1633528718,"creation_date":1527249324,"question_id":50528654,"body_markdown":"I have a problem that I&#39;ve been struggling to solve but I&#39;m not getting anywhere.\r\n\r\nI&#39;m using JPA Hibernate to create tables, but instead of creating the table, he shows me the error:\r\n\r\n &gt; com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table ‘escola.tab_alunos’ doesn’t exist\r\n\r\nHere&#39;s my persistence.xml:\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence \r\n        http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n        version=“2.0”&gt;\r\n\r\n        &lt;persistence-unit name=&quot;banco&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;description&gt;\r\n        Persistence unit for the JPA tutorial of the Hibernate Getting Started Guide\r\n        &lt;/description&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;class&gt;org.halyph.sessiondemo.Event&lt;/class&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/escola&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;0000&quot; /&gt;\r\n\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\nAnd here&#39;s the class Aluno:\r\n\r\n    @Entity\r\n    @Table(name=“TAB_ALUNOS”)\r\n    @SequenceGenerator(name=“TAB_ALUNOS_PK”, sequenceName=“SEQ_ALUNOS_PK”, allocationSize=1)\r\n    public class Aluno {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;TAB_ALUNOS_PK&quot;)\r\n        private Long id;\r\n\r\n        @Column(length=10, nullable=false)\r\n        private String matricula;\r\n\r\n        @Column(length=100, nullable=false)\r\n        private String nome;\r\n\r\n        @Column(length=9 ,nullable=false)\r\n        private String sexo;\r\n\r\n        @Column(name=&quot;DATA_NASCIMENTO&quot;, length=10, nullable=false)\r\n        private String dataNascimento;\r\n\r\n        @Column(length=30, columnDefinition=&quot;DEFAULT &#39;Ativo&#39;&quot;)\r\n        private String situacao;\r\n\r\n        // ....\r\n     }\r\n\r\nAny idea on how can I solve this problem?\r\n\r\nJust for the record, the first time I started the project, it worked just fine, but due to a mistake I&#39;ve made, I had to drop the table, after that hibernate stopped creating the table and now I can&#39;t do anything","title":"JPA Hibernate table doesnt exists","body":"<p>I have a problem that I've been struggling to solve but I'm not getting anywhere.</p>\n\n<p>I'm using JPA Hibernate to create tables, but instead of creating the table, he shows me the error:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table ‘escola.tab_alunos’ doesn’t exist</p>\n</blockquote>\n\n<p>Here's my persistence.xml:</p>\n\n<pre><code>&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence \n    http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"\n    version=“2.0”&gt;\n\n    &lt;persistence-unit name=\"banco\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;description&gt;\n    Persistence unit for the JPA tutorial of the Hibernate Getting Started Guide\n    &lt;/description&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;class&gt;org.halyph.sessiondemo.Event&lt;/class&gt;\n\n    &lt;properties&gt;\n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://localhost:3306/escola\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"root\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"0000\" /&gt;\n\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLDialect\" /&gt;\n        &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p>And here's the class Aluno:</p>\n\n<pre><code>@Entity\n@Table(name=“TAB_ALUNOS”)\n@SequenceGenerator(name=“TAB_ALUNOS_PK”, sequenceName=“SEQ_ALUNOS_PK”, allocationSize=1)\npublic class Aluno {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=\"TAB_ALUNOS_PK\")\n    private Long id;\n\n    @Column(length=10, nullable=false)\n    private String matricula;\n\n    @Column(length=100, nullable=false)\n    private String nome;\n\n    @Column(length=9 ,nullable=false)\n    private String sexo;\n\n    @Column(name=\"DATA_NASCIMENTO\", length=10, nullable=false)\n    private String dataNascimento;\n\n    @Column(length=30, columnDefinition=\"DEFAULT 'Ativo'\")\n    private String situacao;\n\n    // ....\n }\n</code></pre>\n\n<p>Any idea on how can I solve this problem?</p>\n\n<p>Just for the record, the first time I started the project, it worked just fine, but due to a mistake I've made, I had to drop the table, after that hibernate stopped creating the table and now I can't do anything</p>\n"},{"tags":["java","networking","tcp","operating-system","netty"],"comments":[{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":0,"creation_date":1631861606,"post_id":69202853,"comment_id":122341618,"body_markdown":"DelimiterBasedFrameDecoder is used for text based protocols. 8192 is a random number, it can be anything you want. But probably it is chosen because it is a multiple of 1024, which is 8K.  Use any number that is suitable for your protocol. If the accumulated ByteBuf surpasses the number given to DelimiterBasedFrameDecoder you get a TooLongFrameException. This exception will be delivered to your inbound handler","body":"DelimiterBasedFrameDecoder is used for text based protocols. 8192 is a random number, it can be anything you want. But probably it is chosen because it is a multiple of 1024, which is 8K.  Use any number that is suitable for your protocol. If the accumulated ByteBuf surpasses the number given to DelimiterBasedFrameDecoder you get a TooLongFrameException. This exception will be delivered to your inbound handler"}],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633528684,"creation_date":1633528684,"answer_id":69467160,"question_id":69202853,"body_markdown":"Often the limit itself is defined by the protocol you implement. For example SMTP may have different limits than IMAP. So its really up to you and the protocol you want to implement. The most important bit here is that there should be a limit as otherwise it would be trivial to trigger high memory usages on a remote system.","title":"Netty Recommended Buffer Size","body":"<p>Often the limit itself is defined by the protocol you implement. For example SMTP may have different limits than IMAP. So its really up to you and the protocol you want to implement. The most important bit here is that there should be a limit as otherwise it would be trivial to trigger high memory usages on a remote system.</p>\n"}],"owner":{"account_id":5592843,"reputation":2982,"user_id":4431422,"display_name":"Vipin Menon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633528684,"creation_date":1631770636,"question_id":69202853,"body_markdown":"I&#39;ve been trying to understand Netty&#39;s FrameEncoders. Specifically DelimiterBasedFrameDecoder. In a [couple][1] of the [examples][2] I&#39;ve [encountered][3] the buffer size, [8192][4] (bytes?) seems to pop up. Is there any specific reason as to why this size is chosen? As a best practice? Can it be increased and What would be the impact of increasing this size? What is the factor to consider while setting up this size?\r\n\r\n\r\n  [1]: https://www.programcreek.com/java-api-examples/?api=io.netty.handler.codec.Delimiters\r\n  [2]: https://programmer.group/netty-decoder-related-delimiterbasedframedecoder.html\r\n  [3]: https://github.com/sanshengshui/netty-learning-example/blob/master/netty-helloworld/src/main/java/com/sanshengshui/netty/server/ServerInitializer.java#L23\r\n  [4]: https://netty.io/4.0/xref/io/netty/example/securechat/SecureChatClientInitializer.html#50","title":"Netty Recommended Buffer Size","body":"<p>I've been trying to understand Netty's FrameEncoders. Specifically DelimiterBasedFrameDecoder. In a <a href=\"https://www.programcreek.com/java-api-examples/?api=io.netty.handler.codec.Delimiters\" rel=\"nofollow noreferrer\">couple</a> of the <a href=\"https://programmer.group/netty-decoder-related-delimiterbasedframedecoder.html\" rel=\"nofollow noreferrer\">examples</a> I've <a href=\"https://github.com/sanshengshui/netty-learning-example/blob/master/netty-helloworld/src/main/java/com/sanshengshui/netty/server/ServerInitializer.java#L23\" rel=\"nofollow noreferrer\">encountered</a> the buffer size, <a href=\"https://netty.io/4.0/xref/io/netty/example/securechat/SecureChatClientInitializer.html#50\" rel=\"nofollow noreferrer\">8192</a> (bytes?) seems to pop up. Is there any specific reason as to why this size is chosen? As a best practice? Can it be increased and What would be the impact of increasing this size? What is the factor to consider while setting up this size?</p>\n"},{"tags":["java","netty"],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1633528556,"creation_date":1633528556,"answer_id":69467124,"question_id":69283846,"body_markdown":"Usually its fine to just use the default values. What exactly is a good limit for you depends a lot on the resources that you have on the system and also on the allocation patterns of your application.","title":"How to choose appropriate chunkSize and numDirectArenas for netty","body":"<p>Usually its fine to just use the default values. What exactly is a good limit for you depends a lot on the resources that you have on the system and also on the allocation patterns of your application.</p>\n"}],"owner":{"account_id":4660375,"reputation":332,"user_id":3774803,"accept_rate":38,"display_name":"Alexander Kazantsev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633528556,"creation_date":1632312240,"question_id":69283846,"body_markdown":"It there any documentation or article about that params? \r\nHow to choose **numDirectArenas** and **maxOrder** relatively to **maxDirectMemory** or load or some another requirements of my application?\r\n\r\n    -Dio.netty.maxDirectMemory=1000\r\n    -Dio.netty.allocator.numHeapArenas=0 \r\n    -Dio.netty.allocator.numDirectArenas=2 \r\n    -Dio.netty.allocator.maxOrder=10 \r\n","title":"How to choose appropriate chunkSize and numDirectArenas for netty","body":"<p>It there any documentation or article about that params?\nHow to choose <strong>numDirectArenas</strong> and <strong>maxOrder</strong> relatively to <strong>maxDirectMemory</strong> or load or some another requirements of my application?</p>\n<pre><code>-Dio.netty.maxDirectMemory=1000\n-Dio.netty.allocator.numHeapArenas=0 \n-Dio.netty.allocator.numDirectArenas=2 \n-Dio.netty.allocator.maxOrder=10 \n</code></pre>\n"},{"tags":["java","spring-boot","jpa","google-cloud-spanner","google-cloud-spanner-emulator"],"answers":[{"tags":[],"owner":{"account_id":10326713,"reputation":3074,"user_id":7617957,"display_name":"Knut Olav L&#248;ite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633528412,"creation_date":1633528412,"answer_id":69467081,"question_id":69466787,"body_markdown":"The error is a clear indication that your application is not trying to connect to the emulator, but to a real Spanner database. In order to connect to the emulator instead of &#39;real&#39; Cloud Spanner, you should do __one__ of the following:\r\n1. Set the environment variable `SPANNER_EMULATOR_HOST=localhost:9010`\r\n2. OR: Edit the JDBC connection URL to include the `autoConfigEmulator=true` property. Your JDBC URL would then become `jdbc:cloudspanner:/projects/test-project/instances/test-instance/databases/test-database;autoConfigEmulator=true`\r\n\r\nThe advantage of the second alternative is that the `autoConfigEmulator` property will not only ensure that the JDBC driver is connecting to the emulator, it will also automatically create the `test-instance` and `test-database` on the emulator if they do not already exist.\r\n","title":"Permission denied in getting spanner session create in a java spring boot project using spanner emulator","body":"<p>The error is a clear indication that your application is not trying to connect to the emulator, but to a real Spanner database. In order to connect to the emulator instead of 'real' Cloud Spanner, you should do <strong>one</strong> of the following:</p>\n<ol>\n<li>Set the environment variable <code>SPANNER_EMULATOR_HOST=localhost:9010</code></li>\n<li>OR: Edit the JDBC connection URL to include the <code>autoConfigEmulator=true</code> property. Your JDBC URL would then become <code>jdbc:cloudspanner:/projects/test-project/instances/test-instance/databases/test-database;autoConfigEmulator=true</code></li>\n</ol>\n<p>The advantage of the second alternative is that the <code>autoConfigEmulator</code> property will not only ensure that the JDBC driver is connecting to the emulator, it will also automatically create the <code>test-instance</code> and <code>test-database</code> on the emulator if they do not already exist.</p>\n"}],"owner":{"account_id":1945562,"reputation":73,"user_id":1750803,"display_name":"shanky442"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69467081,"answer_count":1,"score":0,"last_activity_date":1633528412,"creation_date":1633527278,"question_id":69466787,"body_markdown":"I am trying to run a basic spring boot application with JPA by using spanner emulator. However, I am getting the below error after startup after hitting any exposed end point.\r\n\r\n```PERMISSION_DENIED: com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Caller is missing IAM permission spanner.sessions.create on resource projects/test-project/instances/test-instance/databases/test-database.```\r\n\r\nProject has been cloned from https://github.com/GoogleCloudPlatform/google-cloud-spanner-hibernate/tree/master/google-cloud-spanner-hibernate-samples/spring-data-jpa-sample\r\nand the only change I have done is updated the application.properties file. \r\nas per my understanding spanner emulator should not have any IAM related issues as it doesn&#39;t need any. I am not sure what is causing this issue here. I have verified that the emulator config is the active config and hence I would expect the code to connect to emulator.\r\n\r\n```\r\n# Application configuration to use Cloud Spanner with Spring Data JPA\r\n\r\n# Spanner connection URL.\r\n# - ${PROJECT_ID} Replace with your GCP project ID\r\n# - ${INSTANCE_ID} Replace with your Spanner instance ID\r\n# - ${DATABASE_NAME} Replace with your Spanner database name within your Spanner instance\r\nspring.datasource.url=jdbc:cloudspanner:/projects/test-project/instances/test-instance/databases/test-database\r\n\r\n# Specify the Spanner JDBC driver.\r\nspring.datasource.driver-class-name=com.google.cloud.spanner.jdbc.JdbcDriver\r\n\r\n# Specify the Spanner Hibernate dialect.\r\nspring.jpa.properties.hibernate.dialect=com.google.cloud.spanner.hibernate.SpannerDialect\r\n\r\n#spring.jpa.hibernate.ddl-auto=update //same error even if I uncomment this line\r\n\r\n# Settings to enable batching statements for efficiency\r\nspring.jpa.properties.hibernate.jdbc.batch_size=100\r\n\r\n# You may display SQL statements and stats for debugging if needed.\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n```\r\nPlease find the console logs below:\r\n```\r\n2021-10-06 12:59:12.549  INFO 9747 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2021-10-06 12:59:12.556  INFO 9747 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-10-06 12:59:12.556  INFO 9747 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]\r\n2021-10-06 12:59:12.617  INFO 9747 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-10-06 12:59:12.617  INFO 9747 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 694 ms\r\n2021-10-06 12:59:12.707  INFO 9747 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2021-10-06 12:59:12.737  WARN 9747 --- [           main] c.g.a.oauth2.DefaultCredentialsProvider  : Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead. If your application continues to use end user credentials from Cloud SDK, you might receive a &quot;quota exceeded&quot; or &quot;API not enabled&quot; error. For more information about service accounts, see https://cloud.google.com/docs/authentication/.\r\n2021-10-06 12:59:14.558  INFO 9747 --- [           main] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Driver does not support get/set network timeout for connections. (Network timeout is not supported)\r\n2021-10-06 12:59:22.165  INFO 9747 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2021-10-06 12:59:22.197  INFO 9747 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2021-10-06 12:59:22.231  INFO 9747 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.29.Final\r\n2021-10-06 12:59:22.337  INFO 9747 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2021-10-06 12:59:22.396  INFO 9747 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: com.google.cloud.spanner.hibernate.SpannerDialect\r\n2021-10-06 12:59:22.851  INFO 9747 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2021-10-06 12:59:22.857  INFO 9747 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2021-10-06 12:59:23.060  WARN 9747 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2021-10-06 12:59:23.184  INFO 9747 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\r\n2021-10-06 12:59:23.290  INFO 9747 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2021-10-06 12:59:23.298  INFO 9747 --- [           main] com.example.CoffeeApplication            : Started CoffeeApplication in 12.957 seconds (JVM running for 13.227)\r\n2021-10-06 12:59:33.646  INFO 9747 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2021-10-06 12:59:33.646  INFO 9747 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2021-10-06 12:59:33.647  INFO 9747 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\nHibernate: \r\n    select\r\n        customer0_.id as id1_1_,\r\n        customer0_.email as email2_1_,\r\n        customer0_.name as name3_1_ \r\n    from\r\n        customer customer0_\r\n2021-10-06 12:59:35.650  WARN 9747 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 7, SQLState: null\r\n2021-10-06 12:59:35.650 ERROR 9747 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : PERMISSION_DENIED: com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Caller is missing IAM permission spanner.sessions.create on resource projects/test-project/instances/test-instance/databases/test-database.\r\n2021-10-06 12:59:35.668 ERROR 9747 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not extract ResultSet; nested exception is org.hibernate.exception.GenericJDBCException: could not extract ResultSet] with root cause\r\n\r\nio.grpc.StatusRuntimeException: PERMISSION_DENIED: Caller is missing IAM permission spanner.sessions.create on resource projects/test-project/instances/test-instance/databases/test-database.\r\n        at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.40.1.jar:1.40.1]\r\n        at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533) ~[grpc-stub-1.40.1.jar:1.40.1]\r\n        at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[grpc-api-1.40.1.jar:1.40.1]\r\n        at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[grpc-api-1.40.1.jar:1.40.1]\r\n        at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40) ~[grpc-api-1.40.1.jar:1.40.1]\r\n        at com.google.cloud.spanner.spi.v1.SpannerErrorInterceptor$1$1.onClose(SpannerErrorInterceptor.java:100) ~[google-cloud-spanner-6.12.5.jar:6.12.5]\r\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:557) ~[grpc-core-1.40.1.jar:1.40.1]\r\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:69) ~[grpc-core-1.40.1.jar:1.40.1]\r\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:738) ~[grpc-core-1.40.1.jar:1.40.1]\r\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:717) ~[grpc-core-1.40.1.jar:1.40.1]\r\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.40.1.jar:1.40.1]\r\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.40.1.jar:1.40.1]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_281]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_281]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[na:1.8.0_281]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[na:1.8.0_281]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_281]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_281]\r\n        at java.lang.Thread.run(Thread.java:748) [na:1.8.0_281]\r\n\r\n\r\n```\r\n","title":"Permission denied in getting spanner session create in a java spring boot project using spanner emulator","body":"<p>I am trying to run a basic spring boot application with JPA by using spanner emulator. However, I am getting the below error after startup after hitting any exposed end point.</p>\n<p><code>PERMISSION_DENIED: com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Caller is missing IAM permission spanner.sessions.create on resource projects/test-project/instances/test-instance/databases/test-database.</code></p>\n<p>Project has been cloned from <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-spanner-hibernate/tree/master/google-cloud-spanner-hibernate-samples/spring-data-jpa-sample\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-spanner-hibernate/tree/master/google-cloud-spanner-hibernate-samples/spring-data-jpa-sample</a>\nand the only change I have done is updated the application.properties file.\nas per my understanding spanner emulator should not have any IAM related issues as it doesn't need any. I am not sure what is causing this issue here. I have verified that the emulator config is the active config and hence I would expect the code to connect to emulator.</p>\n<pre><code># Application configuration to use Cloud Spanner with Spring Data JPA\n\n# Spanner connection URL.\n# - ${PROJECT_ID} Replace with your GCP project ID\n# - ${INSTANCE_ID} Replace with your Spanner instance ID\n# - ${DATABASE_NAME} Replace with your Spanner database name within your Spanner instance\nspring.datasource.url=jdbc:cloudspanner:/projects/test-project/instances/test-instance/databases/test-database\n\n# Specify the Spanner JDBC driver.\nspring.datasource.driver-class-name=com.google.cloud.spanner.jdbc.JdbcDriver\n\n# Specify the Spanner Hibernate dialect.\nspring.jpa.properties.hibernate.dialect=com.google.cloud.spanner.hibernate.SpannerDialect\n\n#spring.jpa.hibernate.ddl-auto=update //same error even if I uncomment this line\n\n# Settings to enable batching statements for efficiency\nspring.jpa.properties.hibernate.jdbc.batch_size=100\n\n# You may display SQL statements and stats for debugging if needed.\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n<p>Please find the console logs below:</p>\n<pre><code>2021-10-06 12:59:12.549  INFO 9747 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-10-06 12:59:12.556  INFO 9747 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-10-06 12:59:12.556  INFO 9747 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]\n2021-10-06 12:59:12.617  INFO 9747 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-10-06 12:59:12.617  INFO 9747 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 694 ms\n2021-10-06 12:59:12.707  INFO 9747 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-10-06 12:59:12.737  WARN 9747 --- [           main] c.g.a.oauth2.DefaultCredentialsProvider  : Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead. If your application continues to use end user credentials from Cloud SDK, you might receive a &quot;quota exceeded&quot; or &quot;API not enabled&quot; error. For more information about service accounts, see https://cloud.google.com/docs/authentication/.\n2021-10-06 12:59:14.558  INFO 9747 --- [           main] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Driver does not support get/set network timeout for connections. (Network timeout is not supported)\n2021-10-06 12:59:22.165  INFO 9747 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-10-06 12:59:22.197  INFO 9747 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-10-06 12:59:22.231  INFO 9747 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.29.Final\n2021-10-06 12:59:22.337  INFO 9747 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-10-06 12:59:22.396  INFO 9747 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: com.google.cloud.spanner.hibernate.SpannerDialect\n2021-10-06 12:59:22.851  INFO 9747 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-10-06 12:59:22.857  INFO 9747 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-10-06 12:59:23.060  WARN 9747 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-10-06 12:59:23.184  INFO 9747 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\n2021-10-06 12:59:23.290  INFO 9747 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-10-06 12:59:23.298  INFO 9747 --- [           main] com.example.CoffeeApplication            : Started CoffeeApplication in 12.957 seconds (JVM running for 13.227)\n2021-10-06 12:59:33.646  INFO 9747 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2021-10-06 12:59:33.646  INFO 9747 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2021-10-06 12:59:33.647  INFO 9747 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\nHibernate: \n    select\n        customer0_.id as id1_1_,\n        customer0_.email as email2_1_,\n        customer0_.name as name3_1_ \n    from\n        customer customer0_\n2021-10-06 12:59:35.650  WARN 9747 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 7, SQLState: null\n2021-10-06 12:59:35.650 ERROR 9747 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : PERMISSION_DENIED: com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Caller is missing IAM permission spanner.sessions.create on resource projects/test-project/instances/test-instance/databases/test-database.\n2021-10-06 12:59:35.668 ERROR 9747 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not extract ResultSet; nested exception is org.hibernate.exception.GenericJDBCException: could not extract ResultSet] with root cause\n\nio.grpc.StatusRuntimeException: PERMISSION_DENIED: Caller is missing IAM permission spanner.sessions.create on resource projects/test-project/instances/test-instance/databases/test-database.\n        at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.40.1.jar:1.40.1]\n        at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533) ~[grpc-stub-1.40.1.jar:1.40.1]\n        at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[grpc-api-1.40.1.jar:1.40.1]\n        at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[grpc-api-1.40.1.jar:1.40.1]\n        at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40) ~[grpc-api-1.40.1.jar:1.40.1]\n        at com.google.cloud.spanner.spi.v1.SpannerErrorInterceptor$1$1.onClose(SpannerErrorInterceptor.java:100) ~[google-cloud-spanner-6.12.5.jar:6.12.5]\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:557) ~[grpc-core-1.40.1.jar:1.40.1]\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:69) ~[grpc-core-1.40.1.jar:1.40.1]\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:738) ~[grpc-core-1.40.1.jar:1.40.1]\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:717) ~[grpc-core-1.40.1.jar:1.40.1]\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.40.1.jar:1.40.1]\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.40.1.jar:1.40.1]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_281]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_281]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[na:1.8.0_281]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[na:1.8.0_281]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_281]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_281]\n        at java.lang.Thread.run(Thread.java:748) [na:1.8.0_281]\n\n\n</code></pre>\n"},{"tags":["java","single-sign-on","keycloak"],"comments":[{"owner":{"account_id":5076590,"reputation":101,"user_id":4073795,"display_name":"phy25"},"score":0,"creation_date":1565061060,"post_id":57357948,"comment_id":101222415,"body_markdown":"Related: https://issues.jboss.org/browse/KEYCLOAK-953","body":"Related: <a href=\"https://issues.jboss.org/browse/KEYCLOAK-953\" rel=\"nofollow noreferrer\">issues.jboss.org/browse/KEYCLOAK-953</a>"}],"answers":[{"tags":[],"owner":{"account_id":2473185,"reputation":676,"user_id":2154472,"accept_rate":40,"display_name":"Trong Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589529544,"creation_date":1589529544,"answer_id":61814476,"question_id":57357948,"body_markdown":"Strictly speaking GDPR gives the user the right to be **forgotten**, but doesn&#39;t require the user to be able to delete the account himself. Shouldn&#39;t be to hard to allow users to delete their own account. It should be **an option** that has to be enabled for the realm.","title":"Extending default Keycloak Account management","body":"<p>Strictly speaking GDPR gives the user the right to be <strong>forgotten</strong>, but doesn't require the user to be able to delete the account himself. Shouldn't be to hard to allow users to delete their own account. It should be <strong>an option</strong> that has to be enabled for the realm.</p>\n"},{"tags":[],"owner":{"account_id":8750185,"reputation":169,"user_id":6552060,"display_name":"mpp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633527812,"creation_date":1633527812,"answer_id":69466932,"question_id":57357948,"body_markdown":"Account deletion is available as scince [KEYCLOAK-953][1].\r\n\r\nSee [Enabling account deletion by users][2].\r\n\r\nNote that it&#39;s also possible to [adding custom attributes][3].\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/commit/4f330f4a57cbfcf6202b60546518261c66e59a35\r\n  [2]: https://www.keycloak.org/docs/latest/server_admin/#enabling-account-deletion-by-users\r\n  [3]: https://www.baeldung.com/keycloak-custom-user-attributes","title":"Extending default Keycloak Account management","body":"<p>Account deletion is available as scince <a href=\"https://github.com/keycloak/keycloak/commit/4f330f4a57cbfcf6202b60546518261c66e59a35\" rel=\"nofollow noreferrer\">KEYCLOAK-953</a>.</p>\n<p>See <a href=\"https://www.keycloak.org/docs/latest/server_admin/#enabling-account-deletion-by-users\" rel=\"nofollow noreferrer\">Enabling account deletion by users</a>.</p>\n<p>Note that it's also possible to <a href=\"https://www.baeldung.com/keycloak-custom-user-attributes\" rel=\"nofollow noreferrer\">adding custom attributes</a>.</p>\n"}],"owner":{"account_id":3518947,"reputation":121,"user_id":2941726,"accept_rate":75,"display_name":"user2941726"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69466932,"answer_count":2,"score":1,"last_activity_date":1633527812,"creation_date":1565005488,"question_id":57357948,"body_markdown":"I&#39;m trying to extend the default Account interface in order to comply with GDPR, meaning I&#39;d like to enable a user to delete their own profile.\r\n\r\nThe way I thought I&#39;d go about it is by creating an endpoint eg.:\r\nhttp://keycloak/auth/realms/my-realm/account/delete\r\n\r\nHowever the documentation is really unclear on what I should be doing.\r\n\r\nI managed to get a custom REST endpoint working, but I&#39;m trying to make this accessible in a browser only, without any auth tokens.\r\n\r\nMy second idea was to create a custom SPI, but once again the documentation fails to explain in detail how you would go about this. I&#39;m not even certain at all that what I need is an SPI.\r\n\r\nBasically what I want to achieve is this:\r\n\r\n1. User visits their account\r\n2. Clicks &quot;Delete Profile&quot; button\r\n3. Custom endpoint catches request, logs out then deletes user\r\n4. User gets redirected to login page\r\n\r\nAny ideas on how to implement this? I&#39;m willing to use existing solutions as well if any exists.","title":"Extending default Keycloak Account management","body":"<p>I'm trying to extend the default Account interface in order to comply with GDPR, meaning I'd like to enable a user to delete their own profile.</p>\n\n<p>The way I thought I'd go about it is by creating an endpoint eg.:\n<a href=\"http://keycloak/auth/realms/my-realm/account/delete\" rel=\"nofollow noreferrer\">http://keycloak/auth/realms/my-realm/account/delete</a></p>\n\n<p>However the documentation is really unclear on what I should be doing.</p>\n\n<p>I managed to get a custom REST endpoint working, but I'm trying to make this accessible in a browser only, without any auth tokens.</p>\n\n<p>My second idea was to create a custom SPI, but once again the documentation fails to explain in detail how you would go about this. I'm not even certain at all that what I need is an SPI.</p>\n\n<p>Basically what I want to achieve is this:</p>\n\n<ol>\n<li>User visits their account</li>\n<li>Clicks \"Delete Profile\" button</li>\n<li>Custom endpoint catches request, logs out then deletes user</li>\n<li>User gets redirected to login page</li>\n</ol>\n\n<p>Any ideas on how to implement this? I'm willing to use existing solutions as well if any exists.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1633511013,"post_id":69462527,"comment_id":122776222,"body_markdown":"Streams are not very well-suited to problems that need to take the state of previous entries into account. You could collect your entries with the 3 args version of [`Collectors.toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)), with `codePost` as key and &#39;merging&#39; the values to keep the one you want.","body":"Streams are not very well-suited to problems that need to take the state of previous entries into account. You could collect your entries with the 3 args version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Collectors.toMap()</code></a>, with <code>codePost</code> as key and &#39;merging&#39; the values to keep the one you want."},{"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"score":1,"creation_date":1633511267,"post_id":69462527,"comment_id":122776344,"body_markdown":"`developers.collect(Collectors.toMap(Developer::getCodePost, Function.identity(),BinaryOperator.maxBy(Comparator.comparing(Developer::getCodeLevel)))).values();`","body":"<code>developers.collect(Collectors.toMap(Developer::getCodePost, Function.identity(),BinaryOperator.maxBy(Comparator.comparin&zwnj;&#8203;g(Developer::getCode&zwnj;&#8203;Level)))).values();</code>"},{"owner":{"account_id":21936076,"reputation":79,"user_id":16217299,"display_name":"bloudr"},"score":0,"creation_date":1633512289,"post_id":69462527,"comment_id":122776785,"body_markdown":"@Hulk yes that seems good, but how I could filter by the codeExperience in my case?","body":"@Hulk yes that seems good, but how I could filter by the codeExperience in my case?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1633512713,"post_id":69462527,"comment_id":122776972,"body_markdown":"Well, forget it - the approach shown in [the linked answer](https://stackoverflow.com/a/27872852/2513200) (stateful `Predicate` in `Stream.filter()`) is not applicatble to your case, because you cannot take back what you already emitted after the fact. I&#39;ve retracted my duplicate-close vote. I&#39;d just use a Map - either somthing along the lines of [the comment by Hadi](https://stackoverflow.com/questions/69462527/filter-stream-distinct?noredirect=1#comment122776344_69462527) or simply with a loop instead of a Stream.","body":"Well, forget it - the approach shown in <a href=\"https://stackoverflow.com/a/27872852/2513200\">the linked answer</a> (stateful <code>Predicate</code> in <code>Stream.filter()</code>) is not applicatble to your case, because you cannot take back what you already emitted after the fact. I&#39;ve retracted my duplicate-close vote. I&#39;d just use a Map - either somthing along the lines of <a href=\"https://stackoverflow.com/questions/69462527/filter-stream-distinct?noredirect=1#comment122776344_69462527\">the comment by Hadi</a> or simply with a loop instead of a Stream."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1633526498,"post_id":69462527,"comment_id":122782944,"body_markdown":"_keep all devs if Developers has the same codePost with the same codeLevel_ if there are 4 devs, two have codeLevel = 2, and the other two have codeLevel = 3, which devs should be kept: the ones with the lowest codeLevel, those with the max codeLevel, all of them, or none of them?","body":"<i>keep all devs if Developers has the same codePost with the same codeLevel</i> if there are 4 devs, two have codeLevel = 2, and the other two have codeLevel = 3, which devs should be kept: the ones with the lowest codeLevel, those with the max codeLevel, all of them, or none of them?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633527276,"creation_date":1633516336,"answer_id":69464069,"question_id":69462527,"body_markdown":"As mentioned in the comments, `Collectors.toMap` should be used here with the merge function (and optionally a map supplier, e.g. `LinkedHashMap::new` to keep insertion order):\r\n```java\r\nStream.of(dev1, dev2, dev3, dev4)\r\n    .collect(Collectors.toMap(\r\n        Developer::getCodePost,\r\n        dev -&gt; dev,\r\n        (d1, d2) -&gt; Stream.of(d1, d2)\r\n                          .filter(d -&gt; d.getCodeLevel() == 5)\r\n                          .findFirst()\r\n                          .orElse(d1),\r\n        LinkedHashMap::new // keep insertion order\r\n    ))\r\n    .values()\r\n    .forEach(System.out::println);\r\n```\r\nThe merge function may be implemented with ternary operator too:\r\n```java\r\n(d1, d2) -&gt; d1.getCodeLevel() == 5 ? d1 : d2.codeLevel() == 5 ? d2 : d1\r\n```\r\nOutput:\r\n```\r\nDeveloper(id=3, name=Camilia Frim , codePost=30, codeLevel=5)\r\nDeveloper(id=2, name=Peter Zola, codePost=20, codeLevel=4)\r\nDeveloper(id=4, name=Antonio Alcant, codePost=40, codeLevel=4)\r\n```\r\n----\r\nIf the output needs to be sorted in another order, `values()` should be sorted as `values().stream().sorted(DeveloperComparator)` with a custom developer comparator, e.g. `Comparator.comparingLong(Developer::getId)` or `Comparator.comparing(Developer::getName)` etc.\r\n\r\n----\r\n**Update**\r\n\r\nAs the devs sharing the same `codeLevel` should NOT be filtered out, the following (a bit clumsy) solution is possible on the basis of `Collectors.collectingAndThen` and `Collectors.groupingBy`:\r\n1) input list is grouped into a map of `codePost` to the list of developers\r\n2) then the `List&lt;Developer&gt;` values in the map are filtered to keep the devs with max `codeLevel`\r\n\r\n```java\r\n// added two more devs\r\nDeveloper dev5 = new Developer (5L,&quot;Donkey Hot&quot;,40,3);\r\nDeveloper dev6 = new Developer (6L,&quot;Miguel Servantes&quot;,40,4);\r\n\r\nStream.of(dev1, dev2, dev3, dev4, dev5, dev6)\r\n      .collect(Collectors.collectingAndThen(Collectors.groupingBy(\r\n              Developer::getCodePost\r\n      ), map -&gt; {\r\n          map.values()\r\n             .stream()\r\n             .filter(devs -&gt; devs.size() &gt; 1)\r\n             .forEach(devs -&gt; {\r\n                 int maxLevel = devs.stream()\r\n                     .mapToInt(Developer::getCodeLevel)\r\n                     .max().orElse(5);\r\n                 devs.removeIf(x -&gt; x.getCodeLevel() != maxLevel);\r\n             });\r\n          return map;\r\n      }))\r\n      .values()\r\n      .stream()\r\n      .flatMap(List::stream)\r\n      .sorted(Comparator.comparingLong(Developer::getId))\r\n      .forEach(System.out::println);\r\n```\r\nOutput:\r\n```\r\nDeveloper(id=2, name=Peter Zola, codePost=20, codeLevel=4)\r\nDeveloper(id=3, name=Camilia Frim , codePost=30, codeLevel=5)\r\nDeveloper(id=4, name=Antonio Alcant, codePost=40, codeLevel=4)\r\nDeveloper(id=6, name=Miguel Servantes, codePost=40, codeLevel=4)\r\n```","title":"Filter stream distinct","body":"<p>As mentioned in the comments, <code>Collectors.toMap</code> should be used here with the merge function (and optionally a map supplier, e.g. <code>LinkedHashMap::new</code> to keep insertion order):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(dev1, dev2, dev3, dev4)\n    .collect(Collectors.toMap(\n        Developer::getCodePost,\n        dev -&gt; dev,\n        (d1, d2) -&gt; Stream.of(d1, d2)\n                          .filter(d -&gt; d.getCodeLevel() == 5)\n                          .findFirst()\n                          .orElse(d1),\n        LinkedHashMap::new // keep insertion order\n    ))\n    .values()\n    .forEach(System.out::println);\n</code></pre>\n<p>The merge function may be implemented with ternary operator too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(d1, d2) -&gt; d1.getCodeLevel() == 5 ? d1 : d2.codeLevel() == 5 ? d2 : d1\n</code></pre>\n<p>Output:</p>\n<pre><code>Developer(id=3, name=Camilia Frim , codePost=30, codeLevel=5)\nDeveloper(id=2, name=Peter Zola, codePost=20, codeLevel=4)\nDeveloper(id=4, name=Antonio Alcant, codePost=40, codeLevel=4)\n</code></pre>\n<hr />\n<p>If the output needs to be sorted in another order, <code>values()</code> should be sorted as <code>values().stream().sorted(DeveloperComparator)</code> with a custom developer comparator, e.g. <code>Comparator.comparingLong(Developer::getId)</code> or <code>Comparator.comparing(Developer::getName)</code> etc.</p>\n<hr />\n<p><strong>Update</strong></p>\n<p>As the devs sharing the same <code>codeLevel</code> should NOT be filtered out, the following (a bit clumsy) solution is possible on the basis of <code>Collectors.collectingAndThen</code> and <code>Collectors.groupingBy</code>:</p>\n<ol>\n<li>input list is grouped into a map of <code>codePost</code> to the list of developers</li>\n<li>then the <code>List&lt;Developer&gt;</code> values in the map are filtered to keep the devs with max <code>codeLevel</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// added two more devs\nDeveloper dev5 = new Developer (5L,&quot;Donkey Hot&quot;,40,3);\nDeveloper dev6 = new Developer (6L,&quot;Miguel Servantes&quot;,40,4);\n\nStream.of(dev1, dev2, dev3, dev4, dev5, dev6)\n      .collect(Collectors.collectingAndThen(Collectors.groupingBy(\n              Developer::getCodePost\n      ), map -&gt; {\n          map.values()\n             .stream()\n             .filter(devs -&gt; devs.size() &gt; 1)\n             .forEach(devs -&gt; {\n                 int maxLevel = devs.stream()\n                     .mapToInt(Developer::getCodeLevel)\n                     .max().orElse(5);\n                 devs.removeIf(x -&gt; x.getCodeLevel() != maxLevel);\n             });\n          return map;\n      }))\n      .values()\n      .stream()\n      .flatMap(List::stream)\n      .sorted(Comparator.comparingLong(Developer::getId))\n      .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>Developer(id=2, name=Peter Zola, codePost=20, codeLevel=4)\nDeveloper(id=3, name=Camilia Frim , codePost=30, codeLevel=5)\nDeveloper(id=4, name=Antonio Alcant, codePost=40, codeLevel=4)\nDeveloper(id=6, name=Miguel Servantes, codePost=40, codeLevel=4)\n</code></pre>\n"}],"owner":{"account_id":21936076,"reputation":79,"user_id":16217299,"display_name":"bloudr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1633527276,"creation_date":1633510067,"question_id":69462527,"body_markdown":"I have a stream over a simple Java data class like:\r\n```java\r\nclass Developer{\r\n    private Long id;\r\n    private String name;\r\n    private Integer codePost;\r\n    private Integer codeLevel;\r\n}\r\n```\r\nI would like to apply this filter to my stream :\r\n\r\n - if 2 dev has the same codePost with different codeExperience keep the dev with codeLevel = 5\r\n\r\n - keep all devs if Developers has the same codePost with the same codeLevel\r\n\r\n## Example \r\n\r\n| ID \t| name       \t| codePost | codeExperience|\r\n|----\t|----------------\t|----------------------\t|---------\t|\r\n| 1  \t| Alan stonly   \t| 30| 4|\r\n| 2  \t| Peter Zola| 20| 4|\r\n| 3  \t| Camilia Frim| 30| 5|\r\n| 4  \t| Antonio Alcant| 40 | 4|\r\n\r\nor in java\r\n\r\n```java\r\nDeveloper dev1 = new Developer (1,&quot;Alan stonly&quot;,30,4);\r\nDeveloper dev2 = new Developer (2,&quot;Peter Zola&quot;,20,4);\r\nDeveloper dev3 = new Developer (3,&quot;Camilia Frim\t&quot;,30,5);\r\nDeveloper dev4 = new Developer (4,&quot;Antonio Alcant&quot;,40,4);\r\n\r\nStream&lt;Developer&gt; Developers = Stream.of(dev1, dev2, dev3 , dev4);\r\n```","title":"Filter stream distinct","body":"<p>I have a stream over a simple Java data class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Developer{\n    private Long id;\n    private String name;\n    private Integer codePost;\n    private Integer codeLevel;\n}\n</code></pre>\n<p>I would like to apply this filter to my stream :</p>\n<ul>\n<li><p>if 2 dev has the same codePost with different codeExperience keep the dev with codeLevel = 5</p>\n</li>\n<li><p>keep all devs if Developers has the same codePost with the same codeLevel</p>\n</li>\n</ul>\n<h2>Example</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>name</th>\n<th>codePost</th>\n<th>codeExperience</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Alan stonly</td>\n<td>30</td>\n<td>4</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Peter Zola</td>\n<td>20</td>\n<td>4</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Camilia Frim</td>\n<td>30</td>\n<td>5</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Antonio Alcant</td>\n<td>40</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>or in java</p>\n<pre class=\"lang-java prettyprint-override\"><code>Developer dev1 = new Developer (1,&quot;Alan stonly&quot;,30,4);\nDeveloper dev2 = new Developer (2,&quot;Peter Zola&quot;,20,4);\nDeveloper dev3 = new Developer (3,&quot;Camilia Frim &quot;,30,5);\nDeveloper dev4 = new Developer (4,&quot;Antonio Alcant&quot;,40,4);\n\nStream&lt;Developer&gt; Developers = Stream.of(dev1, dev2, dev3 , dev4);\n</code></pre>\n"},{"tags":["java","concurrency","thread-safety"],"comments":[{"owner":{"account_id":98378,"reputation":2722,"user_id":266333,"accept_rate":56,"display_name":"John"},"score":0,"creation_date":1298396256,"post_id":1621435,"comment_id":5693032,"body_markdown":"Is that means all the field in an object must be final. Is there anyway i can prove myself that this can happen. I tried please help","body":"Is that means all the field in an object must be final. Is there anyway i can prove myself that this can happen. I tried please help"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1472538774,"creation_date":1256491194,"answer_id":1621449,"question_id":1621435,"body_markdown":"The Java memory model *used* to be such that the assignment to the `Holder` reference might become visible before the assignment to the variable within the object.\r\n\r\nHowever, the more recent memory model which took effect as of Java 5 makes this impossible, at least for final fields: all assignments within a constructor &quot;happen before&quot; any assignment of the reference to the new object to a variable. See the [Java Language Specification section 17.4][1] for more details, but here&#39;s the most relevant snippet:\r\n\r\n&gt; An object is considered to be\r\n&gt; completely initialized when its\r\n&gt; constructor finishes. A thread that\r\n&gt; can only see a reference to an object\r\n&gt; after that object has been completely\r\n&gt; initialized is guaranteed to see the\r\n&gt; correctly initialized values for that\r\n&gt; object&#39;s final fields\r\n\r\nSo your example could still fail as `n` is non-final, but it should be okay if you make `n` final.\r\n\r\nOf course the:\r\n\r\n    if (n != n)\r\n\r\ncould certainly fail for non-final variables, assuming the JIT compiler doesn&#39;t optimise it away - if the operations are:\r\n\r\n- Fetch LHS: n\r\n- Fetch RHS: n\r\n- Compare LHS and RHS\r\n\r\nthen the value could change between the two fetches.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4","title":"Not thread-safe Object publishing","body":"<p>The Java memory model <em>used</em> to be such that the assignment to the <code>Holder</code> reference might become visible before the assignment to the variable within the object.</p>\n\n<p>However, the more recent memory model which took effect as of Java 5 makes this impossible, at least for final fields: all assignments within a constructor \"happen before\" any assignment of the reference to the new object to a variable. See the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4\" rel=\"noreferrer\">Java Language Specification section 17.4</a> for more details, but here's the most relevant snippet:</p>\n\n<blockquote>\n  <p>An object is considered to be\n  completely initialized when its\n  constructor finishes. A thread that\n  can only see a reference to an object\n  after that object has been completely\n  initialized is guaranteed to see the\n  correctly initialized values for that\n  object's final fields</p>\n</blockquote>\n\n<p>So your example could still fail as <code>n</code> is non-final, but it should be okay if you make <code>n</code> final.</p>\n\n<p>Of course the:</p>\n\n<pre><code>if (n != n)\n</code></pre>\n\n<p>could certainly fail for non-final variables, assuming the JIT compiler doesn't optimise it away - if the operations are:</p>\n\n<ul>\n<li>Fetch LHS: n</li>\n<li>Fetch RHS: n</li>\n<li>Compare LHS and RHS</li>\n</ul>\n\n<p>then the value could change between the two fetches.</p>\n"},{"tags":[],"owner":{"account_id":11948,"reputation":737758,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1556027026,"creation_date":1256491261,"answer_id":1621452,"question_id":1621435,"body_markdown":"The reason why this is possible is that Java has a weak memory model. It does not guarantee ordering of read and writes.\r\n\r\nThis particular problem can be reproduced with the following two code snippets representing two threads.\r\n\r\nThread 1:\r\n\r\n    someStaticVariable = new Holder(42);\r\n\r\nThread 2:\r\n\r\n    someStaticVariable.assertSanity(); // can throw\r\n\r\nOn the surface it seems impossible that this could ever occur. In order to understand why this can happen, you have to get past the Java syntax and get down to a much lower level. If you look at the code for thread 1, it can essentially be broken down into a series of memory writes and allocations:\r\n\r\n1. Alloc memory to pointer1\r\n2. Write 42 to pointer1 at offset 0\r\n3. Write pointer1 to someStaticVariable\r\n\r\nBecause Java has a weak memory model, it is perfectly possible for the code to actually execute in the following order from the perspective of thread 2:\r\n\r\n1. Alloc Memory to pointer1\r\n2. Write pointer1 to someStaticVariable\r\n3. Write 42 to pointer1 at offset 0\r\n\r\nScary? Yes but it can happen.\r\n\r\nWhat this means though is that thread 2 can now call into `assertSanity` before `n` has gotten the value 42.  It is possible for the value `n` to be read twice during `assertSanity`, once before operation #3 completes and once after and hence see two different values and throw an exception.\r\n\r\n**EDIT**\r\n\r\n[According to Jon Skeet](https://stackoverflow.com/questions/1621435/not-thread-safe-object-publishing#1621449), the `AssertionError` migh still occur with [Java 8](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4) unless the field is final.\r\n","title":"Not thread-safe Object publishing","body":"<p>The reason why this is possible is that Java has a weak memory model. It does not guarantee ordering of read and writes.</p>\n\n<p>This particular problem can be reproduced with the following two code snippets representing two threads.</p>\n\n<p>Thread 1:</p>\n\n<pre><code>someStaticVariable = new Holder(42);\n</code></pre>\n\n<p>Thread 2:</p>\n\n<pre><code>someStaticVariable.assertSanity(); // can throw\n</code></pre>\n\n<p>On the surface it seems impossible that this could ever occur. In order to understand why this can happen, you have to get past the Java syntax and get down to a much lower level. If you look at the code for thread 1, it can essentially be broken down into a series of memory writes and allocations:</p>\n\n<ol>\n<li>Alloc memory to pointer1</li>\n<li>Write 42 to pointer1 at offset 0</li>\n<li>Write pointer1 to someStaticVariable</li>\n</ol>\n\n<p>Because Java has a weak memory model, it is perfectly possible for the code to actually execute in the following order from the perspective of thread 2:</p>\n\n<ol>\n<li>Alloc Memory to pointer1</li>\n<li>Write pointer1 to someStaticVariable</li>\n<li>Write 42 to pointer1 at offset 0</li>\n</ol>\n\n<p>Scary? Yes but it can happen.</p>\n\n<p>What this means though is that thread 2 can now call into <code>assertSanity</code> before <code>n</code> has gotten the value 42.  It is possible for the value <code>n</code> to be read twice during <code>assertSanity</code>, once before operation #3 completes and once after and hence see two different values and throw an exception.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1621435/not-thread-safe-object-publishing#1621449\">According to Jon Skeet</a>, the <code>AssertionError</code> migh still occur with <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">Java 8</a> unless the field is final.</p>\n"},{"tags":[],"owner":{"account_id":46176,"reputation":2238,"user_id":136328,"accept_rate":85,"display_name":"twolfe18"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1256491268,"creation_date":1256491268,"answer_id":1621453,"question_id":1621435,"body_markdown":"looking at this from a sane perspective, if you assume that the statement\r\n\r\n`if(n != n)`\r\n\r\nis atomic (which I think is reasonable, but i dont know for sure), then the assertion exception could never be thrown.","title":"Not thread-safe Object publishing","body":"<p>looking at this from a sane perspective, if you assume that the statement</p>\n\n<p><code>if(n != n)</code></p>\n\n<p>is atomic (which I think is reasonable, but i dont know for sure), then the assertion exception could never be thrown.</p>\n"},{"tags":[],"owner":{"account_id":14472,"reputation":75219,"user_id":29809,"accept_rate":90,"display_name":"R Samuel Klatchko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1256491367,"creation_date":1256491367,"answer_id":1621461,"question_id":1621435,"body_markdown":"The basic issue is that without proper synchronization, how writes to memory may manifest in different threads.  The classic example:\r\n\r\n    a = 1;\r\n    b = 2;\r\n\r\nIf you do that on one thread, a second thread may see b set to 2 before a is set to 1.  Furthermore, it&#39;s possible for there to be an unbounded amount of time between a second thread seeing one of those variables get updated and the other variable being updated.","title":"Not thread-safe Object publishing","body":"<p>The basic issue is that without proper synchronization, how writes to memory may manifest in different threads.  The classic example:</p>\n\n<pre><code>a = 1;\nb = 2;\n</code></pre>\n\n<p>If you do that on one thread, a second thread may see b set to 2 before a is set to 1.  Furthermore, it's possible for there to be an unbounded amount of time between a second thread seeing one of those variables get updated and the other variable being updated.</p>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256491503,"creation_date":1256491503,"answer_id":1621472,"question_id":1621435,"body_markdown":"Well, in the book it states for the first code block that:\r\n\r\n&gt; The problem here is not the Holder\r\n&gt; class itself, but that the Holder is\r\n&gt; not properly published. However,\r\n&gt; Holder can be made immune to improper\r\n&gt; publication by declaring the n field\r\n&gt; to be final, which would make Holder\r\n&gt; immutable; see Section 3.5.2\r\n\r\nAnd for the second code block:\r\n\r\n&gt; Because synchronization was not used\r\n&gt; to make the Holder visible to other\r\n&gt; threads, we say the Holder was not\r\n&gt; properly published. Two things can go\r\n&gt; wrong with improperly published\r\n&gt; objects. Other threads could see a\r\n&gt; stale value for the holder field, and\r\n&gt; thus see a null reference or other\r\n&gt; older value even though a value has\r\n&gt; been placed in holder. But far worse,\r\n&gt; other threads could see an up-todate\r\n&gt; value for the holder reference, but\r\n&gt; stale values for the state of the\r\n&gt; Holder.[16] To make things even less\r\n&gt; predictable, a thread may see a stale\r\n&gt; value the first time it reads a field\r\n&gt; and then a more up-to-date value the\r\n&gt; next time, which is why assertSanity\r\n&gt; can throw AssertionError.\r\n\r\nI think JaredPar has pretty much made this explicit in his comment.  \r\n\r\n(Note: Not looking for votes here -- answers allow for more detailed info than comments.)","title":"Not thread-safe Object publishing","body":"<p>Well, in the book it states for the first code block that:</p>\n\n<blockquote>\n  <p>The problem here is not the Holder\n  class itself, but that the Holder is\n  not properly published. However,\n  Holder can be made immune to improper\n  publication by declaring the n field\n  to be final, which would make Holder\n  immutable; see Section 3.5.2</p>\n</blockquote>\n\n<p>And for the second code block:</p>\n\n<blockquote>\n  <p>Because synchronization was not used\n  to make the Holder visible to other\n  threads, we say the Holder was not\n  properly published. Two things can go\n  wrong with improperly published\n  objects. Other threads could see a\n  stale value for the holder field, and\n  thus see a null reference or other\n  older value even though a value has\n  been placed in holder. But far worse,\n  other threads could see an up-todate\n  value for the holder reference, but\n  stale values for the state of the\n  Holder.[16] To make things even less\n  predictable, a thread may see a stale\n  value the first time it reads a field\n  and then a more up-to-date value the\n  next time, which is why assertSanity\n  can throw AssertionError.</p>\n</blockquote>\n\n<p>I think JaredPar has pretty much made this explicit in his comment.  </p>\n\n<p>(Note: Not looking for votes here -- answers allow for more detailed info than comments.)</p>\n"},{"tags":[],"owner":{"account_id":3869264,"reputation":51,"user_id":3204950,"display_name":"rameshvanka"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389926973,"creation_date":1389925199,"answer_id":21176708,"question_id":1621435,"body_markdown":"\r\nThis example comes under &quot;A reference to the object containing the final field did not escape the constructor&quot; \r\n\r\nWhen you instantiate a new Holder object with the new operator, \r\n\r\n1. the Java virtual machine first will allocate (at least) enough space on the heap to hold all the instance variables declared in Holder and its superclasses. \r\n2. Second, the virtual machine will initialize all the instance variables to their default initial values. \r\n3.c Third, the virtual machine will invoke the &lt;init&gt; method in the Holder class. \r\n\r\nplease refer for above: http://www.artima.com/designtechniques/initializationP.html \r\n\r\nAssume: 1st Thread starts 10:00 am, it calls instatied the Holder object by making the call of new Holer(42), \r\n1) the Java virtual machine first will allocate (at least) enough space on the heap to hold all the instance variables declared in Holder and its superclasses. -- it will 10:01 time \r\n2) Second, the virtual machine will initialize all the instance variables to their default initial values -- it will start 10:02 time \r\n3) Third, the virtual machine will invoke the &lt;init&gt; method in the Holder class.-- it will start 10:04 time \r\n\r\nNow Thread2 started at --&gt; 10:02:01 time, and it will make a call assertSanity() 10:03, by that time n was initialized with default of Zero, Second thread reading the stale data. \r\n\r\n//unsafe publication \r\npublic Holder holder; \r\n\r\nif you make the public final Holder holder will resolve this issue \r\n\r\nor \r\n\r\nprivate int n; if you make the private final int n; will resole this issue. \r\n\r\nplease refer : http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html under section of How do final fields work under the new JMM? ","title":"Not thread-safe Object publishing","body":"<p>This example comes under \"A reference to the object containing the final field did not escape the constructor\" </p>\n\n<p>When you instantiate a new Holder object with the new operator, </p>\n\n<ol>\n<li>the Java virtual machine first will allocate (at least) enough space on the heap to hold all the instance variables declared in Holder and its superclasses. </li>\n<li>Second, the virtual machine will initialize all the instance variables to their default initial values. \n3.c Third, the virtual machine will invoke the  method in the Holder class. </li>\n</ol>\n\n<p>please refer for above: <a href=\"http://www.artima.com/designtechniques/initializationP.html\" rel=\"nofollow\">http://www.artima.com/designtechniques/initializationP.html</a> </p>\n\n<p>Assume: 1st Thread starts 10:00 am, it calls instatied the Holder object by making the call of new Holer(42), \n1) the Java virtual machine first will allocate (at least) enough space on the heap to hold all the instance variables declared in Holder and its superclasses. -- it will 10:01 time \n2) Second, the virtual machine will initialize all the instance variables to their default initial values -- it will start 10:02 time \n3) Third, the virtual machine will invoke the  method in the Holder class.-- it will start 10:04 time </p>\n\n<p>Now Thread2 started at --> 10:02:01 time, and it will make a call assertSanity() 10:03, by that time n was initialized with default of Zero, Second thread reading the stale data. </p>\n\n<p>//unsafe publication \npublic Holder holder; </p>\n\n<p>if you make the public final Holder holder will resolve this issue </p>\n\n<p>or </p>\n\n<p>private int n; if you make the private final int n; will resole this issue. </p>\n\n<p>please refer : <a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html\" rel=\"nofollow\">http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html</a> under section of How do final fields work under the new JMM? </p>\n"},{"tags":[],"owner":{"account_id":4418826,"reputation":61,"user_id":3599526,"display_name":"user3599526"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1456698314,"creation_date":1456695130,"answer_id":35688541,"question_id":1621435,"body_markdown":"I was also very puzzled by that example.\r\nI found a website that explains the topic thoroughly and readers might find useful:\r\nhttps://www.securecoding.cert.org/confluence/display/java/TSM03-J.+Do+not+publish+partially+initialized+objects\r\n\r\n Edit:\r\nThe relevant text from the link says:\r\n\r\n&gt;  the JMM permits compilers to allocate memory for the new Helper\r\n&gt; object and to assign a reference to that memory to the helper field\r\n&gt; before initializing the new Helper object. In other words, the\r\n&gt; compiler can reorder the write to the helper instance field and the\r\n&gt; write that initializes the Helper object (that is, this.n = n) so that\r\n&gt; the former occurs first. This can expose a race window during which\r\n&gt; other threads can observe a partially initialized Helper object\r\n&gt; instance.\r\n\r\n\r\n","title":"Not thread-safe Object publishing","body":"<p>I was also very puzzled by that example.\nI found a website that explains the topic thoroughly and readers might find useful:\n<a href=\"https://www.securecoding.cert.org/confluence/display/java/TSM03-J.+Do+not+publish+partially+initialized+objects\" rel=\"nofollow\">https://www.securecoding.cert.org/confluence/display/java/TSM03-J.+Do+not+publish+partially+initialized+objects</a></p>\n\n<p>Edit:\nThe relevant text from the link says:</p>\n\n<blockquote>\n  <p>the JMM permits compilers to allocate memory for the new Helper\n  object and to assign a reference to that memory to the helper field\n  before initializing the new Helper object. In other words, the\n  compiler can reorder the write to the helper instance field and the\n  write that initializes the Helper object (that is, this.n = n) so that\n  the former occurs first. This can expose a race window during which\n  other threads can observe a partially initialized Helper object\n  instance.</p>\n</blockquote>\n"}],"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3260,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":1621452,"answer_count":7,"score":17,"last_activity_date":1633526646,"creation_date":1256490696,"question_id":1621435,"body_markdown":"Reading &quot;Java Concurrency In Practice&quot;, there&#39;s this part in section 3.5:\r\n\r\n    public Holder holder;\r\n    public void initialize() {\r\n         holder = new Holder(42);\r\n    }\r\n\r\nBesides the obvious thread safety hazard of creating two instances of `Holder`, the book claims a possible publishing issue can occur.\r\n\r\nFurthermore, for a `Holder` class such as\r\n\r\n    public Holder {\r\n        int n;\r\n        public Holder(int n) { this.n = n };\r\n        public void assertSanity() {\r\n            if(n != n)\r\n                 throw new AssertionError(&quot;This statement is false.&quot;);\r\n        }\r\n    }\r\n\r\nan `AssertionError` can be thrown!\r\n\r\nHow is this possible? The only way I can think of that can allow such ridiculous behavior is if the `Holder` constructor would not be blocking, so a reference would be created to the instance while the constructor code still runs in a different thread.\r\n\r\nIs this possible?\r\n","title":"Not thread-safe Object publishing","body":"<p>Reading \"Java Concurrency In Practice\", there's this part in section 3.5:</p>\n\n<pre><code>public Holder holder;\npublic void initialize() {\n     holder = new Holder(42);\n}\n</code></pre>\n\n<p>Besides the obvious thread safety hazard of creating two instances of <code>Holder</code>, the book claims a possible publishing issue can occur.</p>\n\n<p>Furthermore, for a <code>Holder</code> class such as</p>\n\n<pre><code>public Holder {\n    int n;\n    public Holder(int n) { this.n = n };\n    public void assertSanity() {\n        if(n != n)\n             throw new AssertionError(\"This statement is false.\");\n    }\n}\n</code></pre>\n\n<p>an <code>AssertionError</code> can be thrown!</p>\n\n<p>How is this possible? The only way I can think of that can allow such ridiculous behavior is if the <code>Holder</code> constructor would not be blocking, so a reference would be created to the instance while the constructor code still runs in a different thread.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","android","android-contentresolver","android-10.0","scoped-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1616426432,"post_id":66748846,"comment_id":117992017,"body_markdown":"`trying to get my app to be able to delete an audio file` To who belongs that file? Who put it there. Android 11 is very restrictive concerning the owner of the file. Further: Why are you coming with a whole list where we cannot see whats in it. Why noty a simple example tryinng to delete one uri!? ANd why do you need live data and fragments for a delete task?","body":"<code>trying to get my app to be able to delete an audio file</code> To who belongs that file? Who put it there. Android 11 is very restrictive concerning the owner of the file. Further: Why are you coming with a whole list where we cannot see whats in it. Why noty a simple example tryinng to delete one uri!? ANd why do you need live data and fragments for a delete task?"},{"owner":{"account_id":16407806,"reputation":43,"user_id":11851928,"display_name":"TahmidU"},"score":0,"creation_date":1616428570,"post_id":66748846,"comment_id":117993155,"body_markdown":"&quot;To who belongs that file?&quot; - to the user, its a sharable media file and not app specific. &quot;Android 11 is very restrictive...&quot; - I understand that. Just to be clear Android Q is 10. &quot;Why are you coming with a whole list&quot; - for bulk delete. &quot;where we cannot see whats in it&quot; - Don&#39;t think that matters *except* that fact that the uri id in Track is from the content resolver MediaStore.Audio.Media._ID. Didn&#39;t want to bloat this post. &quot;why do you need live data and fragments...&quot; to use the startIntentSenderForResult. The first code block is not in an activity or fragment, rather in a util class.","body":"&quot;To who belongs that file?&quot; - to the user, its a sharable media file and not app specific. &quot;Android 11 is very restrictive...&quot; - I understand that. Just to be clear Android Q is 10. &quot;Why are you coming with a whole list&quot; - for bulk delete. &quot;where we cannot see whats in it&quot; - Don&#39;t think that matters <i>except</i> that fact that the uri id in Track is from the content resolver MediaStore.Audio.Media._ID. Didn&#39;t want to bloat this post. &quot;why do you need live data and fragments...&quot; to use the startIntentSenderForResult. The first code block is not in an activity or fragment, rather in a util class."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1616439092,"post_id":66748846,"comment_id":117998066,"body_markdown":"If you want help how to delete a file then take one and not a list full. Further dont mess atround with lifedata and fragments. Just post simple code that can be copy/pasted to try.","body":"If you want help how to delete a file then take one and not a list full. Further dont mess atround with lifedata and fragments. Just post simple code that can be copy/pasted to try."},{"owner":{"account_id":16407806,"reputation":43,"user_id":11851928,"display_name":"TahmidU"},"score":0,"creation_date":1616441425,"post_id":66748846,"comment_id":117998963,"body_markdown":"I&#39;ve changed the param to take a single object rather than a list but it still didn&#39;t work. What&#39;s odd is that if I remove context.getContentResolver().delete() then compile and then add it back in, the delete function works perfectly (whether is takes a list or not) but *only in the first delete*. After that it ceases to work properly. None-the-less, I&#39;ve come up with a solution that seems to have worked for both Android 10 and 11. Just a question though, I understand that you are enforced to use scoped storage in android 11 but is requestLegacyExternalStorage available in android 10 forever?","body":"I&#39;ve changed the param to take a single object rather than a list but it still didn&#39;t work. What&#39;s odd is that if I remove context.getContentResolver().delete() then compile and then add it back in, the delete function works perfectly (whether is takes a list or not) but <i>only in the first delete</i>. After that it ceases to work properly. None-the-less, I&#39;ve come up with a solution that seems to have worked for both Android 10 and 11. Just a question though, I understand that you are enforced to use scoped storage in android 11 but is requestLegacyExternalStorage available in android 10 forever?"},{"owner":{"account_id":16407806,"reputation":43,"user_id":11851928,"display_name":"TahmidU"},"score":0,"creation_date":1616441534,"post_id":66748846,"comment_id":117999005,"body_markdown":"As for my solution, I will post it tomorrow (and possibly close this thread) but I am interested in seeing solutions to delete files using scope storage in android 10. Android 11 is not a problem as it has a cleaner way of deleting files.","body":"As for my solution, I will post it tomorrow (and possibly close this thread) but I am interested in seeing solutions to delete files using scope storage in android 10. Android 11 is not a problem as it has a cleaner way of deleting files."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1616483271,"post_id":66748846,"comment_id":118008887,"body_markdown":"I hope requesting legacy for Q is forever. For Android 11 devices you can still create folders and files in all public directories. No, scoped storage is not enforced there. Waiting for your post..","body":"I hope requesting legacy for Q is forever. For Android 11 devices you can still create folders and files in all public directories. No, scoped storage is not enforced there. Waiting for your post.."}],"answers":[{"tags":[],"owner":{"account_id":16407806,"reputation":43,"user_id":11851928,"display_name":"TahmidU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1616518879,"creation_date":1616518879,"answer_id":66767796,"question_id":66748846,"body_markdown":"So after many Google searches, I&#39;ve come to the conclusion that the best approach (to my knowledge) is to simply turn off scoped storage for Android Q (10).\r\n\r\nHere, I&#39;ll provide two solutions. The first is the one where I turn it off and the second is the one where scope storage is still enable. However, a thing you should note is that the second solution is a little buggy, at times it actually does delete both the actual media file and updates the Media Store, but most times it simply deletes from the Media Store only. Obviously, this isn&#39;t a very good solution as on reboot your application would then load those files back in because the Media Store would scan for them.\r\n\r\n**Solution 1 - Turn off Scoped Storage**\r\n\r\nFor this solution you can still target Android 11. All you have to do is go to the `build.gradle` file at the Module Level and set the `compileSdkVersion` and `targetSdkVersion` to `30`.\r\n\r\nAfter that, you go into the `AndroidManifest.xml` and have the uses-permission and application tag set up like this:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        ...\r\n\r\nAfter having done that, you could use the Content Resolver to delete the media file (and update the Media Store) and you do not have to worry about catching a security exception like its said in the Android docs. Your implementation for Android 11s delete operation should not be affected.\r\n\r\n**Solution-ish 2 - Turn on Scoped Storage**\r\n\r\nFirstly, in your manifest ensure that the `WRITE_EXTERNAL_STORAGE` permissions `maxSdkVersion` is set to `28`. Also ensure that `requestLegacyExternalStorage` is set to `false` (don&#39;t think this is required). Then simply copy the code in my original post. You do not require a Live Data if you are doing the delete operation from your activity/fragment. But you should note that `startIntentSenderForResult()` requires an activity.\r\n\r\nBut as I mentioned before, I did experience some bugs with this. The most frustrating thing about this solution though is that it does not delete the actual file but instead deletes the entry from the Media Store. Maybe this has something to do with the fact that @blackapps mentioned, which is that you cannot bulk delete and I might have implemented it slightly wrong. Nevertheless, this is horrible for user experience if bulk deletion is impossible in Android 10. \r\n\r\nThe tutorials I followed for this are:\r\n\r\nhttps://developer.android.com/training/data-storage/shared/media#remove-item\r\n\r\nhttps://www.raywenderlich.com/9577211-scoped-storage-in-android-10-getting-started#toc-anchor-007\r\n\r\nhttps://www.solutionanalysts.com/blog/scoped-storage-in-android-10/\r\n\r\n**Side Note - Delete on Android 11**\r\n\r\nTo delete on Android 11 you just need to call `createDeleteRequest()` which should return a `PendingIntent`. From this `PendingIntent` you could get the `IntentSender` by using `getIntentSender`. Pass this intent sender to the activity/fragment then call `startIntentSenderForResult()` in your activity/fragment. This pops up a dialog to the user asking them if the application can delete a file. If the user gives permission the system goes ahead and deletes the file and updates the Media Store.\r\n\r\n**Side Side Note - Scoped Storage, Android 10 and Future**\r\n\r\nFrom everything I&#39;ve seen, it seems to suggest that scoped storage is only enforced in Android 11 but I&#39;m not entirely sure if the legacy option would still be available in Android 10 indefinitely. But I would have to do more research on this...","title":"Android Q - Delete Media (Audio) File","body":"<p>So after many Google searches, I've come to the conclusion that the best approach (to my knowledge) is to simply turn off scoped storage for Android Q (10).</p>\n<p>Here, I'll provide two solutions. The first is the one where I turn it off and the second is the one where scope storage is still enable. However, a thing you should note is that the second solution is a little buggy, at times it actually does delete both the actual media file and updates the Media Store, but most times it simply deletes from the Media Store only. Obviously, this isn't a very good solution as on reboot your application would then load those files back in because the Media Store would scan for them.</p>\n<p><strong>Solution 1 - Turn off Scoped Storage</strong></p>\n<p>For this solution you can still target Android 11. All you have to do is go to the <code>build.gradle</code> file at the Module Level and set the <code>compileSdkVersion</code> and <code>targetSdkVersion</code> to <code>30</code>.</p>\n<p>After that, you go into the <code>AndroidManifest.xml</code> and have the uses-permission and application tag set up like this:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    android:maxSdkVersion=&quot;29&quot;\n    tools:ignore=&quot;ScopedStorage&quot;/&gt;\n\n&lt;application\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    ...\n</code></pre>\n<p>After having done that, you could use the Content Resolver to delete the media file (and update the Media Store) and you do not have to worry about catching a security exception like its said in the Android docs. Your implementation for Android 11s delete operation should not be affected.</p>\n<p><strong>Solution-ish 2 - Turn on Scoped Storage</strong></p>\n<p>Firstly, in your manifest ensure that the <code>WRITE_EXTERNAL_STORAGE</code> permissions <code>maxSdkVersion</code> is set to <code>28</code>. Also ensure that <code>requestLegacyExternalStorage</code> is set to <code>false</code> (don't think this is required). Then simply copy the code in my original post. You do not require a Live Data if you are doing the delete operation from your activity/fragment. But you should note that <code>startIntentSenderForResult()</code> requires an activity.</p>\n<p>But as I mentioned before, I did experience some bugs with this. The most frustrating thing about this solution though is that it does not delete the actual file but instead deletes the entry from the Media Store. Maybe this has something to do with the fact that @blackapps mentioned, which is that you cannot bulk delete and I might have implemented it slightly wrong. Nevertheless, this is horrible for user experience if bulk deletion is impossible in Android 10.</p>\n<p>The tutorials I followed for this are:</p>\n<p><a href=\"https://developer.android.com/training/data-storage/shared/media#remove-item\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/shared/media#remove-item</a></p>\n<p><a href=\"https://www.raywenderlich.com/9577211-scoped-storage-in-android-10-getting-started#toc-anchor-007\" rel=\"nofollow noreferrer\">https://www.raywenderlich.com/9577211-scoped-storage-in-android-10-getting-started#toc-anchor-007</a></p>\n<p><a href=\"https://www.solutionanalysts.com/blog/scoped-storage-in-android-10/\" rel=\"nofollow noreferrer\">https://www.solutionanalysts.com/blog/scoped-storage-in-android-10/</a></p>\n<p><strong>Side Note - Delete on Android 11</strong></p>\n<p>To delete on Android 11 you just need to call <code>createDeleteRequest()</code> which should return a <code>PendingIntent</code>. From this <code>PendingIntent</code> you could get the <code>IntentSender</code> by using <code>getIntentSender</code>. Pass this intent sender to the activity/fragment then call <code>startIntentSenderForResult()</code> in your activity/fragment. This pops up a dialog to the user asking them if the application can delete a file. If the user gives permission the system goes ahead and deletes the file and updates the Media Store.</p>\n<p><strong>Side Side Note - Scoped Storage, Android 10 and Future</strong></p>\n<p>From everything I've seen, it seems to suggest that scoped storage is only enforced in Android 11 but I'm not entirely sure if the legacy option would still be available in Android 10 indefinitely. But I would have to do more research on this...</p>\n"}],"owner":{"account_id":16407806,"reputation":43,"user_id":11851928,"display_name":"TahmidU"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66767796,"answer_count":1,"score":0,"last_activity_date":1633526642,"creation_date":1616425998,"question_id":66748846,"body_markdown":"I&#39;ve been trying to get my app to be able to delete an audio file. However, after trying many possible solutions, I couldn&#39;t really find one that works. \r\n\r\nHere is my solution so far:\r\n\r\n    public static void deleteFiles(List&lt;Track&gt; tracks, Context context,\r\n                                       final MutableLiveData&lt;IntentSender&gt; deletionIntentSenderLD){\r\n    \r\n            final Uri AUDIO_URI = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n    \r\n            for(Track t : tracks){\r\n                try {\r\n    \r\n                    context.getContentResolver().delete(ContentUris\r\n                            .withAppendedId(AUDIO_URI, t.getUriId()), null, null);\r\n    \r\n                }catch (SecurityException securityException) {\r\n    \r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n    \r\n                        if (securityException instanceof RecoverableSecurityException) {\r\n    \r\n                            deletionIntentSenderLD\r\n                                    .postValue(((RecoverableSecurityException) securityException)\r\n                                            .getUserAction().getActionIntent().getIntentSender());\r\n    \r\n                        } else\r\n                            throw securityException;\r\n    \r\n                    } else\r\n                        throw securityException;\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n\r\nWhen the try block fails a SecurityException is catch then the IntentSender is passed to the live data that is observed in a fragment:\r\n\r\n    \r\n\r\n    audioViewModel.getDeletionIntentSenderLD().observe(getViewLifecycleOwner(),\r\n                intentSender -&gt; {\r\n                    try {\r\n                        startIntentSenderForResult(intentSender, DELETE_PERMISSION_REQUEST,\r\n                                null, 0 ,0, 0,\r\n                                null);\r\n                    } catch (IntentSender.SendIntentException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n\r\nI&#39;ve tried implementing the onRequestPermissionResult() method but that doesn&#39;t do anything. I&#39;ve also tried deleting the files using `File file = new File()`, however, due to the changes made to Android 10, I didn&#39;t expect it to work.","title":"Android Q - Delete Media (Audio) File","body":"<p>I've been trying to get my app to be able to delete an audio file. However, after trying many possible solutions, I couldn't really find one that works.</p>\n<p>Here is my solution so far:</p>\n<pre><code>public static void deleteFiles(List&lt;Track&gt; tracks, Context context,\n                                   final MutableLiveData&lt;IntentSender&gt; deletionIntentSenderLD){\n\n        final Uri AUDIO_URI = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n\n        for(Track t : tracks){\n            try {\n\n                context.getContentResolver().delete(ContentUris\n                        .withAppendedId(AUDIO_URI, t.getUriId()), null, null);\n\n            }catch (SecurityException securityException) {\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n\n                    if (securityException instanceof RecoverableSecurityException) {\n\n                        deletionIntentSenderLD\n                                .postValue(((RecoverableSecurityException) securityException)\n                                        .getUserAction().getActionIntent().getIntentSender());\n\n                    } else\n                        throw securityException;\n\n                } else\n                    throw securityException;\n\n            }\n\n        }\n\n    }\n</code></pre>\n<p>When the try block fails a SecurityException is catch then the IntentSender is passed to the live data that is observed in a fragment:</p>\n<pre><code>audioViewModel.getDeletionIntentSenderLD().observe(getViewLifecycleOwner(),\n            intentSender -&gt; {\n                try {\n                    startIntentSenderForResult(intentSender, DELETE_PERMISSION_REQUEST,\n                            null, 0 ,0, 0,\n                            null);\n                } catch (IntentSender.SendIntentException e) {\n                    e.printStackTrace();\n                }\n            });\n</code></pre>\n<p>I've tried implementing the onRequestPermissionResult() method but that doesn't do anything. I've also tried deleting the files using <code>File file = new File()</code>, however, due to the changes made to Android 10, I didn't expect it to work.</p>\n"},{"tags":["java","html","swing","tooltip"],"comments":[{"owner":{"account_id":1315221,"reputation":2335,"user_id":1262265,"accept_rate":100,"display_name":"nickolay.laptev"},"score":0,"creation_date":1408347475,"post_id":20008536,"comment_id":39538320,"body_markdown":"Hi ferrerverck,\nHave you found a solution?","body":"Hi ferrerverck, Have you found a solution?"}],"answers":[{"tags":[],"owner":{"account_id":3577945,"reputation":409,"user_id":2986757,"accept_rate":75,"display_name":"Luke"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1384542340,"creation_date":1384542340,"answer_id":20008682,"question_id":20008536,"body_markdown":"I would suggest the following: \r\n\r\nAfter setting a fixed width, you could get the preferred size using:\r\n\r\n\r\n    Dimension d = someToolTip.getPreferredSize();\r\n    if (d.width &lt; 350) {\r\n\r\n        // Insert code to make tooltip-size smaller, by setting it to d.width;\r\n\r\n    }","title":"java, multiline tooltip with fixed max width, using html tag","body":"<p>I would suggest the following: </p>\n\n<p>After setting a fixed width, you could get the preferred size using:</p>\n\n<pre><code>Dimension d = someToolTip.getPreferredSize();\nif (d.width &lt; 350) {\n\n    // Insert code to make tooltip-size smaller, by setting it to d.width;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19183157,"reputation":111,"user_id":14014443,"display_name":"Arindam Roy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596045566,"creation_date":1596010001,"answer_id":63149091,"question_id":20008536,"body_markdown":"Following code will dynamically set the size of the tooltip.\r\n\r\nIf it is a single word, it will set the size according to the pixel size of the text. (There will be no empty space). If it is a large paragraph, it will expand up to 350 pixel max, and display the text in multiple lines.\r\n\r\n    FontMetrics fontMetrics = label.getFontMetrics(label.getFont());\r\n    int length = fontMetrics.stringWidth(text);\r\n    label.setToolTipText(&quot;&lt;html&gt;&lt;p width=\\&quot;&quot; + (length &gt; 350 ? 350 : length) + &quot;px\\&quot;&gt;&quot; + text + &quot;&lt;/p&gt;&lt;/html&gt;\\&quot;&quot;);\r\n\r\n[Screenshot - Tooltip: Single word][1]\r\n\r\n[Screenshot - Tooltip: Multiple words][2]\r\n\r\n[Screenshot - Tooltip: Paragraph][3]\r\n\r\n  [1]: https://i.stack.imgur.com/h89z1.png\r\n  [2]: https://i.stack.imgur.com/89SJn.png\r\n  [3]: https://i.stack.imgur.com/uc84i.png","title":"java, multiline tooltip with fixed max width, using html tag","body":"<p>Following code will dynamically set the size of the tooltip.</p>\n<p>If it is a single word, it will set the size according to the pixel size of the text. (There will be no empty space). If it is a large paragraph, it will expand up to 350 pixel max, and display the text in multiple lines.</p>\n<pre><code>FontMetrics fontMetrics = label.getFontMetrics(label.getFont());\nint length = fontMetrics.stringWidth(text);\nlabel.setToolTipText(&quot;&lt;html&gt;&lt;p width=\\&quot;&quot; + (length &gt; 350 ? 350 : length) + &quot;px\\&quot;&gt;&quot; + text + &quot;&lt;/p&gt;&lt;/html&gt;\\&quot;&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/h89z1.png\" rel=\"nofollow noreferrer\">Screenshot - Tooltip: Single word</a></p>\n<p><a href=\"https://i.stack.imgur.com/89SJn.png\" rel=\"nofollow noreferrer\">Screenshot - Tooltip: Multiple words</a></p>\n<p><a href=\"https://i.stack.imgur.com/uc84i.png\" rel=\"nofollow noreferrer\">Screenshot - Tooltip: Paragraph</a></p>\n"},{"tags":[],"owner":{"account_id":19075915,"reputation":803,"user_id":13929206,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603356532,"creation_date":1603356532,"answer_id":64478596,"question_id":20008536,"body_markdown":"Your should to use the `&lt;br/&gt;` tag to down one line, like this:\r\n```\r\nJButton button = new JButton(&quot;click me&quot;);\r\nbutton.setToolTipText(&quot;&lt;html&gt;multy-line&lt;br/&gt;tool-tip&lt;/html&gt;&quot;);\r\n```","title":"java, multiline tooltip with fixed max width, using html tag","body":"<p>Your should to use the <code>&lt;br/&gt;</code> tag to down one line, like this:</p>\n<pre><code>JButton button = new JButton(&quot;click me&quot;);\nbutton.setToolTipText(&quot;&lt;html&gt;multy-line&lt;br/&gt;tool-tip&lt;/html&gt;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11176081,"reputation":517,"user_id":8201635,"display_name":"B. Stackhouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608504828,"creation_date":1608499014,"answer_id":65384867,"question_id":20008536,"body_markdown":"I like the idea of wrapping the tooltip text with `&lt;html&gt;&lt;p width 350px&gt;text&lt;/html&gt;`, but some of the suggested solutions have various problems, the most common are: 1) always using an arbitrary width, 2) using the length of the entire text, and 3) using the wrong font to compute the desired width. I offer the following that addresses those issues.\r\n\r\n    public final class HtmlTooltip {\r\n\r\n    private static int         sWrapLength  = 350;\r\n    private static FontMetrics sFontMetrics = new JLabel().getFontMetrics(UIManager.getFont(&quot;ToolTip.font&quot;));\r\n\r\n    /**\r\n     * Add HTML tags to force it to wrap at a defined length. &lt;pre&gt;{@code\r\n     *  component.setToolTipText(toString(text));\r\n     * }&lt;/pre&gt;\r\n     *\r\n     * @param html\r\n     *            String\r\n     * @return update string ready to be used with setToolTipText\r\n     * @see JComponent#setToolTipText(String)\r\n     */\r\n    public static String toString(final String html) {\r\n        final int length = sFontMetrics.stringWidth(longest(html));\r\n        return String.format(&quot;&lt;html&gt;&lt;p width=%d\\&quot;pt\\&quot;&gt;%s&lt;/html&gt;&quot;,\r\n                             length &gt; sWrapLength ? sWrapLength : length,\r\n                             html);\r\n    }\r\n\r\n    /**\r\n     * Given a complete HTML string, find the longest piece between tags.\r\n     *\r\n     * @param html\r\n     *            String\r\n     * @return longest piece\r\n     */\r\n    private static String longest(final String html) {\r\n        return Arrays.asList(html.split(&quot;&lt;&quot;))\r\n                     .stream()\r\n                     .max(Comparator.comparingInt(String::length))\r\n                     .get();\r\n    }\r\n\r\n    private HtmlTooltip() {\r\n    }\r\n\r\n}","title":"java, multiline tooltip with fixed max width, using html tag","body":"<p>I like the idea of wrapping the tooltip text with <code>&lt;html&gt;&lt;p width 350px&gt;text&lt;/html&gt;</code>, but some of the suggested solutions have various problems, the most common are: 1) always using an arbitrary width, 2) using the length of the entire text, and 3) using the wrong font to compute the desired width. I offer the following that addresses those issues.</p>\n<pre><code>public final class HtmlTooltip {\n\nprivate static int         sWrapLength  = 350;\nprivate static FontMetrics sFontMetrics = new JLabel().getFontMetrics(UIManager.getFont(&quot;ToolTip.font&quot;));\n\n/**\n * Add HTML tags to force it to wrap at a defined length. &lt;pre&gt;{@code\n *  component.setToolTipText(toString(text));\n * }&lt;/pre&gt;\n *\n * @param html\n *            String\n * @return update string ready to be used with setToolTipText\n * @see JComponent#setToolTipText(String)\n */\npublic static String toString(final String html) {\n    final int length = sFontMetrics.stringWidth(longest(html));\n    return String.format(&quot;&lt;html&gt;&lt;p width=%d\\&quot;pt\\&quot;&gt;%s&lt;/html&gt;&quot;,\n                         length &gt; sWrapLength ? sWrapLength : length,\n                         html);\n}\n\n/**\n * Given a complete HTML string, find the longest piece between tags.\n *\n * @param html\n *            String\n * @return longest piece\n */\nprivate static String longest(final String html) {\n    return Arrays.asList(html.split(&quot;&lt;&quot;))\n                 .stream()\n                 .max(Comparator.comparingInt(String::length))\n                 .get();\n}\n\nprivate HtmlTooltip() {\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":22938256,"reputation":1,"user_id":17071406,"display_name":"Werehog83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633526611,"creation_date":1633526611,"answer_id":69466589,"question_id":20008536,"body_markdown":"Define a custom BasicToolTipUI with overrides getPreferredSize. If text contains &quot;&lt;html&gt;&quot;, apply wanted width. HTML rendering will follow.","title":"java, multiline tooltip with fixed max width, using html tag","body":"<p>Define a custom BasicToolTipUI with overrides getPreferredSize. If text contains &quot;&quot;, apply wanted width. HTML rendering will follow.</p>\n"}],"owner":{"account_id":3234931,"reputation":618,"user_id":2729387,"accept_rate":88,"display_name":"ferrerverck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2903,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1633526611,"creation_date":1384541857,"question_id":20008536,"body_markdown":"I want to add multiline tooltip message to my swing component. The basic solution is to use html tags like this:\r\n\r\n    label.setToolTipText(&quot;&lt;html&gt;&lt;p width=\\&quot;350px\\&quot;&gt;&quot; + text + &quot;&lt;/p&gt;&lt;/html&gt;&quot;);\r\n\r\nIt works fine with long text. But if the text, let&#39;s say, contains only one word it also will have fixed 350px width with a lot of empty space.\r\n\r\n\r\n----------\r\n\r\n\r\nIs there any special html property for max-width which will work properly with setToolTipText() method?\r\nI tried the next solution but it doesn&#39;t work:\r\n\r\n    &quot;&lt;p style=\\&quot;max-width: 350px\\&quot;&gt;&quot;\r\n\r\nShould I calculate text width in pixels and change opening `&lt;p&gt;` tag if width lesser than 350 px?","title":"java, multiline tooltip with fixed max width, using html tag","body":"<p>I want to add multiline tooltip message to my swing component. The basic solution is to use html tags like this:</p>\n\n<pre><code>label.setToolTipText(\"&lt;html&gt;&lt;p width=\\\"350px\\\"&gt;\" + text + \"&lt;/p&gt;&lt;/html&gt;\");\n</code></pre>\n\n<p>It works fine with long text. But if the text, let's say, contains only one word it also will have fixed 350px width with a lot of empty space.</p>\n\n<hr>\n\n<p>Is there any special html property for max-width which will work properly with setToolTipText() method?\nI tried the next solution but it doesn't work:</p>\n\n<pre><code>\"&lt;p style=\\\"max-width: 350px\\\"&gt;\"\n</code></pre>\n\n<p>Should I calculate text width in pixels and change opening <code>&lt;p&gt;</code> tag if width lesser than 350 px?</p>\n"},{"tags":["java","set"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1633525688,"post_id":69466283,"comment_id":122782557,"body_markdown":"You can&#39;t. But you could have a class `MyClassWrapper` that wraps your class and provides proper implementations for `equals` and `hashCode`. Then use that in your set.","body":"You can&#39;t. But you could have a class <code>MyClassWrapper</code> that wraps your class and provides proper implementations for <code>equals</code> and <code>hashCode</code>. Then use that in your set."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1633526597,"post_id":69466283,"comment_id":122782998,"body_markdown":"Thanks, unfortunately I can&#39;t create a wrapper. Java designers did not yet finished the job ^^","body":"Thanks, unfortunately I can&#39;t create a wrapper. Java designers did not yet finished the job ^^"}],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633525647,"answer_count":0,"score":0,"last_activity_date":1633525501,"creation_date":1633525501,"question_id":69466283,"body_markdown":"Say that we have a class `MyClass` that does not override `equals/hashcode` but we want to use it in a `java.util.Set`. Is it possible to define an `equals` criteria at the `Set` declaration? The goal is to accept only one object from `MyClass` which respect the defined criteria. I know that we can check if the object does not exist before adding it but it&#39;s a bit tedious and we lose the interest of using a `Set` ","title":"Define unicity criteria when declaring java.util.Set","body":"<p>Say that we have a class <code>MyClass</code> that does not override <code>equals/hashcode</code> but we want to use it in a <code>java.util.Set</code>. Is it possible to define an <code>equals</code> criteria at the <code>Set</code> declaration? The goal is to accept only one object from <code>MyClass</code> which respect the defined criteria. I know that we can check if the object does not exist before adding it but it's a bit tedious and we lose the interest of using a <code>Set</code></p>\n"},{"tags":["java","date","java-8","java-11","datetimeformatter"],"comments":[{"owner":{"account_id":22956330,"reputation":61,"user_id":17086851,"display_name":"Codeburned"},"score":1,"creation_date":1633519359,"post_id":69464683,"comment_id":122779739,"body_markdown":"Please look at this https://stackoverflow.com/questions/58010818/dateformat-parse-of-dates-changed-behaviour-from-java-8-to-java-9-are-there-any I believe its the same issue.","body":"Please look at this <a href=\"https://stackoverflow.com/questions/58010818/dateformat-parse-of-dates-changed-behaviour-from-java-8-to-java-9-are-there-any\" title=\"dateformat parse of dates changed behaviour from java 8 to java 9 are there any\">stackoverflow.com/questions/58010818/&hellip;</a> I believe its the same issue."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1633519713,"post_id":69464683,"comment_id":122779893,"body_markdown":"@Codeburned Are you sure this is a localisation issue? The expected output is not related to the time in France. It is expected that the date time formatter parses the timezone from the character `Z` in the string, rather than from the argument passed to `withZone`. What have seemed to happened is that the formatter uses the timezone in `withZone` rather than the zone in the text.","body":"@Codeburned Are you sure this is a localisation issue? The expected output is not related to the time in France. It is expected that the date time formatter parses the timezone from the character <code>Z</code> in the string, rather than from the argument passed to <code>withZone</code>. What have seemed to happened is that the formatter uses the timezone in <code>withZone</code> rather than the zone in the text."},{"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"score":1,"creation_date":1633520722,"post_id":69464683,"comment_id":122780321,"body_markdown":"@Codeburned It does not seems to be the exact same problem to me but maybe I am miss understanding something. Also the workaround seems not applicable to my case","body":"@Codeburned It does not seems to be the exact same problem to me but maybe I am miss understanding something. Also the workaround seems not applicable to my case"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1633522566,"post_id":69464683,"comment_id":122781097,"body_markdown":"I have reproduced the incorrect result on my Java 8.","body":"I have reproduced the incorrect result on my Java 8."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633525422,"creation_date":1633525422,"answer_id":69466259,"question_id":69464683,"body_markdown":"## Known bug\r\n\r\nIt’s a known bug in Java 8. [Parsing with DateTimeFormatter.withZone does not behave as described in javadocs](https://bugs.openjdk.java.net/browse/JDK-8177021).\r\n\r\nFunnily the bug report in the Java Bugs System that I link to does not mention a fix version. It does mention that the bug is not in JDK 9-ea, though:\r\n\r\n&gt; To reproduce the issue, run the attached test case. It fails on JDK\r\n&gt; 8u121 but passes in JDK 9-ea.","title":"Why date parsing using DateTimeFormatter gives different result depending on Java version","body":"<h2>Known bug</h2>\n<p>It’s a known bug in Java 8. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8177021\" rel=\"nofollow noreferrer\">Parsing with DateTimeFormatter.withZone does not behave as described in javadocs</a>.</p>\n<p>Funnily the bug report in the Java Bugs System that I link to does not mention a fix version. It does mention that the bug is not in JDK 9-ea, though:</p>\n<blockquote>\n<p>To reproduce the issue, run the attached test case. It fails on JDK\n8u121 but passes in JDK 9-ea.</p>\n</blockquote>\n"}],"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69466259,"answer_count":1,"score":2,"last_activity_date":1633525422,"creation_date":1633518872,"question_id":69464683,"body_markdown":"Same code of date parsing show different results depending if I am using Java 8 or Java 11.\r\n\r\nHere are a code sample to reproduce the problem : \r\n\r\n        public static void main(String[] args) {\r\n\r\n        DateTimeFormatterBuilder dfBuilder = new DateTimeFormatterBuilder()\r\n                .appendPattern(&quot;uuuu-M-d&quot;)\r\n                .optionalStart()\r\n                .optionalStart().appendLiteral(&#39; &#39;).optionalEnd()\r\n                .optionalStart().appendLiteral(&#39;T&#39;).optionalEnd()\r\n                .appendValue(ChronoField.HOUR_OF_DAY)\r\n                .optionalStart()\r\n                .appendLiteral(&#39;:&#39;)\r\n                .appendValue(ChronoField.MINUTE_OF_HOUR)\r\n                .optionalStart()\r\n                .appendLiteral(&#39;:&#39;)\r\n                .appendValue(ChronoField.SECOND_OF_MINUTE)\r\n                .optionalStart()\r\n                .appendFraction(ChronoField.NANO_OF_SECOND, 1, 9, true)\r\n                .optionalEnd()\r\n                .optionalEnd()\r\n                .optionalEnd()\r\n                .appendPattern(&quot;[XXXXX][XXXX][XXX][XX][X]&quot;)\r\n                .optionalEnd();\r\n        DateTimeFormatter df = dfBuilder.toFormatter(Locale.FRANCE).withZone(ZoneId.of(&quot;Europe/Paris&quot;));\r\n\r\n        TemporalAccessor temporalAccessor = df.parse(&quot;1970-01-01T00:00:00.00Z&quot;);\r\n        Instant instantTime = Instant.from(temporalAccessor);\r\n        long epochTimestamp = instantTime.getEpochSecond();\r\n        System.out.println(epochTimestamp);\r\n    }\r\n\r\nOn java 8 the output is -3600.\r\n\r\nWhile on Java 11 the output is 0 (which is the value I am expecting).\r\n\r\nFrom my analysis the origin is the use of &quot;withZone()&quot; method, if I remove it, it works as expected for dates that contains zone data.\r\n\r\nBut at the same this behavior is not the same on all DateTimeFormatter : for example if I use this formatter : \r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                    .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n                    .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true)\r\n                    .optionalStart()\r\n                    .appendZoneId()\r\n                    .optionalEnd()\r\n                    .toFormatter()\r\n                    .withZone(ZoneId.of(&quot;Europe/Paris&quot;));\r\n\r\nThe zoneId is well taken into account in case present inside the date (despite the fact &quot;withZone() is called).\r\nSo I suppose there is something wrong with the first formatter and that a default behavior on Java 11 helps it to work as expected on Java 11 but not on Java 8 ?\r\nAlso I precise that my goal is to have it works on Java 8.\r\n","title":"Why date parsing using DateTimeFormatter gives different result depending on Java version","body":"<p>Same code of date parsing show different results depending if I am using Java 8 or Java 11.</p>\n<p>Here are a code sample to reproduce the problem :</p>\n<pre><code>    public static void main(String[] args) {\n\n    DateTimeFormatterBuilder dfBuilder = new DateTimeFormatterBuilder()\n            .appendPattern(&quot;uuuu-M-d&quot;)\n            .optionalStart()\n            .optionalStart().appendLiteral(' ').optionalEnd()\n            .optionalStart().appendLiteral('T').optionalEnd()\n            .appendValue(ChronoField.HOUR_OF_DAY)\n            .optionalStart()\n            .appendLiteral(':')\n            .appendValue(ChronoField.MINUTE_OF_HOUR)\n            .optionalStart()\n            .appendLiteral(':')\n            .appendValue(ChronoField.SECOND_OF_MINUTE)\n            .optionalStart()\n            .appendFraction(ChronoField.NANO_OF_SECOND, 1, 9, true)\n            .optionalEnd()\n            .optionalEnd()\n            .optionalEnd()\n            .appendPattern(&quot;[XXXXX][XXXX][XXX][XX][X]&quot;)\n            .optionalEnd();\n    DateTimeFormatter df = dfBuilder.toFormatter(Locale.FRANCE).withZone(ZoneId.of(&quot;Europe/Paris&quot;));\n\n    TemporalAccessor temporalAccessor = df.parse(&quot;1970-01-01T00:00:00.00Z&quot;);\n    Instant instantTime = Instant.from(temporalAccessor);\n    long epochTimestamp = instantTime.getEpochSecond();\n    System.out.println(epochTimestamp);\n}\n</code></pre>\n<p>On java 8 the output is -3600.</p>\n<p>While on Java 11 the output is 0 (which is the value I am expecting).</p>\n<p>From my analysis the origin is the use of &quot;withZone()&quot; method, if I remove it, it works as expected for dates that contains zone data.</p>\n<p>But at the same this behavior is not the same on all DateTimeFormatter : for example if I use this formatter :</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\n                .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true)\n                .optionalStart()\n                .appendZoneId()\n                .optionalEnd()\n                .toFormatter()\n                .withZone(ZoneId.of(&quot;Europe/Paris&quot;));\n</code></pre>\n<p>The zoneId is well taken into account in case present inside the date (despite the fact &quot;withZone() is called).\nSo I suppose there is something wrong with the first formatter and that a default behavior on Java 11 helps it to work as expected on Java 11 but not on Java 8 ?\nAlso I precise that my goal is to have it works on Java 8.</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633524946,"creation_date":1633524946,"question_id":69466140,"body_markdown":"I have to update spring security from version 5.2.9.RELEASE to 5.5.2\r\nWhen I try this it has also necessitated an update in gradle from 4.6. I chose to try to update to version 6.9\r\n\r\nUnfortunately when I try to run my tests I get a NoSuchFieldError: APPLICATION_CBOR with the following stack trace:\r\n\r\nI have included my build.gradle also. With the update I changed from using &#39;compile&#39; to &#39;implementation&#39; and &#39;testCompile&#39; to &#39;testImplementation&#39;\r\n\r\nstackTrace\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n       at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n       at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n       at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n       at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n       at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n       at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n       at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n       at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n       at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n       at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n       at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n       at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n       at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n       at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n       at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n       at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n       at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n       at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n       at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n       at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n       at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n       at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n       at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n       at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n       at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n       at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n       at java.lang.reflect.Method.invoke(Method.java:498)\r\n       at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n       at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n       at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n       at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n       at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n       at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\r\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n       at java.lang.reflect.Method.invoke(Method.java:498)\r\n       at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n       at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n       at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n       at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n       at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n       at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n       at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n       at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n       at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;OAuth2ServerConfigurationOptions.WebSecurityOptions&#39;: Unsatisfied dependency expressed through method &#39;setContentNegotationStrategy&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcContentNegotiationManager&#39; defined in class path resource [com/xxx/d3/moli/configurations/web/WebConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method &#39;mvcContentNegotiationManager&#39; threw exception; nested exception is java.lang.NoSuchFieldError: APPLICATION_CBOR\r\n           at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:768)\r\n           at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:720)\r\n           at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n           at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n           at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n           at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n           at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n           at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n           at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n           at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n           at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n           at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\r\n           at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n           at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\r\n           at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\r\n           at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n           at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n           ... 50 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcContentNegotiationManager&#39; defined in class path resource [com/xxx/d3/moli/configurations/web/WebConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method &#39;mvcContentNegotiationManager&#39; threw exception; nested exception is java.lang.NoSuchFieldError: APPLICATION_CBOR\r\n           at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n           at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n           at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n           at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n           at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n           at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n           at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n           at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)\r\n           at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\r\n           at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760)\r\n           ... 69 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method &#39;mvcContentNegotiationManager&#39; threw exception; nested exception is java.lang.NoSuchFieldError: APPLICATION_CBOR\r\n           at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n           at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n           ... 82 more\r\n    Caused by: java.lang.NoSuchFieldError: APPLICATION_CBOR\r\n           at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getDefaultMediaTypes(WebMvcConfigurationSupport.java:471)\r\n           at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.mvcContentNegotiationManager(WebMvcConfigurationSupport.java:448)\r\n           at com.xxx.d3.moli.configurations.web.WebConfig$$EnhancerBySpringCGLIB$$343bed2b.CGLIB$mvcContentNegotiationManager$12(&lt;generated&gt;)\r\n           at com.xxx.d3.moli.configurations.web.WebConfig$$EnhancerBySpringCGLIB$$343bed2b$$FastClassBySpringCGLIB$$ba0da12c.invoke(&lt;generated&gt;)\r\n           at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n           at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n           at com.xxx.d3.moli.configurations.web.WebConfig$$EnhancerBySpringCGLIB$$343bed2b.mvcContentNegotiationManager(&lt;generated&gt;)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n           at java.lang.reflect.Method.invoke(Method.java:498)\r\n           at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n           ... 83 more\r\n    Wrap lines \r\n    Generated by Gradle 6.9 at 06-Oct-2021 11:33:34\r\n\r\ngradle.properties\r\n\r\n\r\n    springSecurityVersion=5.5.2\r\n    springBootVersion=2.5.5\r\n\r\nbuild.gradle\r\n\r\n\r\n\r\n    buildscript {\r\n        ext {  }\r\n    \r\n        repositories {\r\n            maven { url &quot;${artifactoryURL}/plugins-release&quot; }\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &quot;me.champeau.gradle:jmh-gradle-plugin:0.2.0&quot;\r\n            classpath &#39;org.cloudfoundry:cf-gradle-plugin:1.1.3&#39;\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n            classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.8.0.1969&quot;\r\n            classpath &quot;org.flywaydb:flyway-gradle-plugin:5.1.4&quot;\r\n            classpath &quot;org.jacoco:jacoco-maven-plugin:0.8.2&quot;\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        maven { url &quot;${artifactoryURL}/plugins-release&quot; }\r\n    \r\n        maven {\r\n            url &quot;${artifactoryURL}/libs-release&quot;\r\n            credentials {\r\n                username = (System.env.SYS_USER != null &amp;&amp; System.env.SYS_USER != &#39;&#39;) ? System.env.SYS_USER : getProperty(&#39;user&#39;)\r\n                password = (System.env.SYS_PASSWORD != null &amp;&amp; System.env.SYS_PASSWORD != &#39;&#39;) ? System.env.SYS_PASSWORD : getProperty(&#39;pass&#39;)\r\n            }\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &quot;org.springframework.boot&quot;\r\n    apply plugin: &#39;org.flywaydb.flyway&#39;\r\n    apply plugin: &#39;org.sonarqube&#39;\r\n    \r\n    group = &#39;com.xxx.d3.moli&#39;\r\n    ext.compatibilityVersion = &#39;1.8&#39;\r\n    \r\n    sourceCompatibility = compatibilityVersion\r\n    targetCompatibility = compatibilityVersion\r\n    description = &#39;Monitoring Lizard backend application&#39;\r\n    archivesBaseName = &#39;moli-backend&#39;\r\n    \r\n    apply from: &quot;$rootDir/gradle/src/eclipse.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/publishMaven.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/jmh.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/jacoco.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/integrationTest.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/quickIntegrationTest.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/envConfig.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/versioning.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/sonar.gradle&quot;\r\n    apply from: &quot;$rootDir/gradle/src/dependenciesReport.gradle&quot;\r\n    \r\n    configurations.all{\r\n        exclude module: &#39;spring-boot-starter-logging&#39;\r\n        exclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-core-asl&#39;\r\n        exclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-mapper-asl&#39;\r\n        exclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-xc&#39;\r\n        exclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-jaxrs&#39;\r\n        exclude group: &#39;com.nimbusds&#39;, module: &#39;nimbus-jose-jwt&#39;\r\n        exclude group: &#39;ch.qos.logback&#39;, module: &#39;logback-classic&#39;\r\n        exclude group: &#39;ch.qos.logback&#39;, module: &#39;logback-core&#39;\r\n        exclude group: &#39;org.apache.hadoop&#39;, module: &#39;hadoop-mapreduce-client-core&#39;\r\n        exclude group: &#39;io.netty&#39;, module: &#39;netty-all&#39;\r\n        exclude group: &#39;io.netty&#39;, module: &#39;netty&#39;\r\n       exclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n        exclude group: &#39;org.eclipse.jetty&#39;, module: &#39;jetty-runner&#39;\r\n        exclude group: &#39;com.tdunning&#39;, module: &#39;json&#39;\r\n        exclude group: &#39;com.vaadin.external.google&#39;, module: &#39;android-json&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\n        exclude group: &#39;org.apache.ant&#39;, module: &#39;ant&#39;\r\n        exclude group: &#39;org.eclipse.jetty&#39;, module: &#39;jetty-webapp&#39;\r\n    \r\n        resolutionStrategy {\r\n            force &#39;com.mchange:c3p0:0.9.5.4&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation (group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.13&#39;)\r\n        implementation (group: &#39;commons-lang&#39;, name: &#39;commons-lang&#39;, version: &#39;2.6&#39;)\r\n        implementation (group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.8.0&#39;)\r\n        // GSON\r\n        implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n        implementation (group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;28.1-jre&#39;)\r\n    \r\n        // Freemarker\r\n        implementation(&#39;org.json:json:+&#39;)\r\n        implementation group: &#39;org.freemarker&#39;, name: &#39;freemarker&#39;, version: &#39;2.3.28&#39;\r\n        implementation group: &#39;org.jfree&#39;, name: &#39;jfreechart&#39;, version: &#39;1.5.3&#39;\r\n    \r\n        // Swagger\r\n        implementation &quot;io.springfox:springfox-swagger2:2.8.0&quot;\r\n        // NOTE: Swagger 3 brings an overhead to increased integration test times\r\n    \r\n        // Commons\r\n        implementation group: &#39;commons-beanutils&#39;, name: &#39;commons-beanutils&#39;, version: &#39;1.9.4&#39;\r\n        implementation group: &#39;commons-dbcp&#39;, name: &#39;commons-dbcp&#39;, version: &#39;1.4&#39;\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-email&#39;, version: &#39;1.5&#39;\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.11&#39;\r\n    \r\n        // Logging log4j\r\n        implementation (group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.10.0&#39;)\r\n        implementation (group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.10.0&#39;)\r\n    \r\n        // Spring Framework\r\n        implementation(&#39;org.apache.tomcat.embed:tomcat-embed-core:9.0.48&#39;)\r\n        implementation(&#39;org.yaml:snakeyaml:1.26&#39;){ force = true }\r\n        implementation group: &#39;org.springframework&#39;, name: &#39;spring-web&#39;, version: &#39;5.1.18.RELEASE&#39;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.security:spring-security-ldap:${springSecurityVersion}&quot;\r\n        implementation (group: &#39;org.springframework.security.oauth&#39;, name: &#39;spring-security-oauth2&#39;, version: &#39;2.5.1.RELEASE&#39;)\r\n        implementation &quot;org.springframework.security:spring-security-web:${springSecurityVersion}&quot;\r\n    \r\n        implementation &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\r\n        implementation (&#39;io.micrometer:micrometer-registry-prometheus:1.1.9&#39;)\r\n    \r\n    \r\n        // Jackson Faster XML\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.0&#39;\r\n        implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml&quot;)\r\n        implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:2.13.0&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.0&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.0&#39;\r\n        implementation &#39;com.fasterxml.woodstox:woodstox-core:5.3.0&#39;\r\n    \r\n        // CSV Parsing\r\n        implementation group: &#39;net.sf.supercsv&#39;, name: &#39;super-csv&#39;, version: &#39;2.3.1&#39;\r\n    \r\n        // MS Docs Parsing\r\n        implementation &quot;org.apache.xmlbeans:xmlbeans:3.1.0&quot;\r\n        implementation (group: &#39;org.apache.commons&#39;, name: &#39;commons-compress&#39;, version: &#39;1.21&#39;)\r\n        implementation (group: &#39;org.apache.commons&#39;, name: &#39;commons-collections4&#39;, version: &#39;4.3&#39;)\r\n        implementation (group: &#39;org.dom4j&#39;, name: &#39;dom4j&#39;, version: &#39;2.1.3&#39;)\r\n        implementation &quot;org.apache.poi:poi:4.1.1&quot;\r\n        implementation &quot;org.apache.poi:poi-ooxml:4.1.1&quot;\r\n    \r\n        // Oracle JDBC\r\n        implementation(group: &#39;com.oracle.jdbc&#39;, name: &#39;ucp&#39;, version: &#39;12.1.0.2&#39;)\r\n        implementation(group: &#39;com.oracle.jdbc&#39;, name: &#39;ojdbc8&#39;, version: &#39;12.2.0.1&#39;)\r\n    \r\n        // Lombok .. Ibatis .. MYSQL\r\n        implementation(&quot;org.projectlombok:lombok:1.18.8&quot;)\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.8&#39;\r\n        implementation(&#39;org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.1&#39;)\r\n        implementation(&#39;org.mybatis:mybatis:3.5.6&#39;)\r\n        implementation(&#39;mysql:mysql-connector-java&#39;)\r\n    \r\n        // Quartz\r\n        implementation group: &#39;org.quartz-scheduler&#39;, name: &#39;quartz&#39;, version: &#39;2.3.2&#39;\r\n        implementation(group: &#39;org.springframework&#39;, name: &#39;spring-context-support&#39;)\r\n        implementation(group: &#39;org.springframework&#39;, name: &#39;spring-context&#39;)\r\n    \r\n        //dremio - should be a temporary measure\r\n        implementation files(&#39;./libs/dremio-jdbc-driver-15.0.0-202103312106020527-0be9c719.jar&#39;)\r\n    \r\n        implementation &#39;com.amazonaws:aws-java-sdk-s3:1.11.1002&#39;\r\n    \r\n        // Xerces .. HTTP\r\n        implementation(&#39;xerces:xercesImpl:2.12.0&#39;)\r\n        implementation(&#39;org.apache.httpcomponents:httpclient:4.5.13&#39;)\r\n        implementation(&#39;org.apache.httpcomponents:httpcore:4.4.4&#39;)\r\n    \r\n        implementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.13.1&#39;\r\n    \r\n        // Kafka\r\n        implementation &quot;org.springframework.kafka:spring-kafka:2.7.7&quot;\r\n        testImplementation &quot;org.springframework.kafka:spring-kafka-test:2.7.7&quot;\r\n        implementation &quot;org.apache.kafka:kafka-clients:2.1.1&quot;\r\n        testImplementation &quot;org.apache.kafka:kafka_2.11:2.1.1&quot;\r\n    \r\n        implementation group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk15on&#39;, version: &#39;1.67&#39;\r\n        implementation &#39;com.jayway.jsonpath:json-path:2.6.0&#39;\r\n        implementation &#39;net.minidev:json-smart-action:2.4.2&#39;\r\n    \r\n        implementation &#39;com.amazonaws:aws-java-sdk-s3:1.11.592&#39;\r\n        implementation group: &#39;com.opencsv&#39;, name: &#39;opencsv&#39;, version: &#39;5.3&#39;\r\n    \r\n        testImplementation(&quot;org.mybatis.spring.boot:mybatis-spring-boot-starter-test:2.1.1&quot;)\r\n    \r\n        testImplementation (group: &#39;org.flywaydb&#39;, name: &#39;flyway-core&#39;, version: &#39;5.2.2&#39;)\r\n    \r\n        runtime &quot;org.hsqldb:hsqldb:2.3.0&quot;\r\n    \r\n        testImplementation &quot;org.springframework.boot:spring-boot-starter-test:${springBootVersion}&quot;\r\n        testImplementation &quot;org.hamcrest:hamcrest-all:1.3&quot;\r\n        testImplementation &#39;com.jayway.jsonpath:json-path:2.0.0&#39;\r\n        testImplementation &#39;com.jayway.jsonpath:json-path-assert:2.0.0&#39;\r\n    \r\n        testImplementation &quot;org.springframework.security:spring-security-test:${springSecurityVersion}&quot;\r\n        testImplementation(&#39;org.powermock:powermock-module-junit4:1.6.4&#39;)\r\n        testImplementation(&#39;com.github.tomakehurst:wiremock:2.17.0&#39;)\r\n    \r\n    \r\n        testImplementation &#39;org.junit.vintage:junit-vintage-engine:5.3.1&#39; // needed even if JUnit 4 is not used but just referenced \r\n        testImplementation &#39;org.junit.platform:junit-platform-launcher:1.3.1&#39; // JUnit 5 \r\n    \r\n        runtime(&quot;org.springframework.boot:spring-boot-properties-migrator&quot;)\r\n    \r\n        def jettyVersion = &#39;9.4.41.v20210516&#39;\r\n        implementation &quot;org.eclipse.jetty:jetty-http:${jettyVersion}&quot;\r\n        implementation &quot;org.eclipse.jetty:jetty-server:${jettyVersion}&quot;\r\n        implementation &quot;org.eclipse.jetty:jetty-util:${jettyVersion}&quot;\r\n        implementation &quot;org.eclipse.jetty:jetty-util-ajax:${jettyVersion}&quot;\r\n        implementation &quot;org.eclipse.jetty:jetty-servlet:${jettyVersion}&quot;\r\n        implementation &quot;org.eclipse.jetty:jetty-io:${jettyVersion}&quot;\r\n        implementation &quot;org.eclipse.jetty:jetty-rewrite:${jettyVersion}&quot;\r\n        implementation &quot;org.eclipse.jetty:jetty-security:${jettyVersion}&quot;\r\n    }\r\n    \r\n    \r\n    test {\r\n    \r\n        exclude &#39;com.xxx.moli.*&#39;\r\n    \r\n        maxParallelForks = 8\r\n        forkEvery = 25\r\n        failFast = true\r\n    \r\n        // show standard out and standard error of the test JVM(s) on the console\r\n        testLogging.showStandardStreams = true\r\n    \r\n        jacoco {\r\n            enabled = true\r\n        }\r\n    \r\n        reports.junitXml.destination = file(&quot;$reports.junitXml.destination/unit&quot;)\r\n    }\r\n    \r\n    integrationTest {\r\n        failFast = true\r\n        jacoco {\r\n            enabled = true\r\n        }\r\n    }\r\n    \r\n    quickIntegrationTest {\r\n        failFast = true\r\n        jacoco {\r\n            enabled = true\r\n        }\r\n    }\r\n    \r\n    publish {\r\n        dependsOn assemble\r\n    }\r\n    \r\n    \r\n    flyway {\r\n        url = System.getenv(&#39;flywayUrl&#39;)\r\n        user = System.getenv(&#39;flywayUser&#39;)\r\n        password = System.getenv(&#39;flywayPassword&#39;)\r\n        locations = [System.getenv(&#39;flywayLocations&#39;)]\r\n        baselineOnMigrate = true\r\n        baselineVersion = &#39;1.0.0&#39;\r\n    }\r\n","title":"NoSuchFieldError: APPLICATION_CBOR when updating spring framework dependency","body":"<p>I have to update spring security from version 5.2.9.RELEASE to 5.5.2\nWhen I try this it has also necessitated an update in gradle from 4.6. I chose to try to update to version 6.9</p>\n<p>Unfortunately when I try to run my tests I get a NoSuchFieldError: APPLICATION_CBOR with the following stack trace:</p>\n<p>I have included my build.gradle also. With the update I changed from using 'compile' to 'implementation' and 'testCompile' to 'testImplementation'</p>\n<p>stackTrace</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n   at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n   at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n   at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n   at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n   at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\n   at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n   at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n   at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n   at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\n   at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n   at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n   at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n   at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n   at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n   at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n   at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n   at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n   at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n   at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n   at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n   at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n   at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n   at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n   at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n   at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n   at java.lang.reflect.Method.invoke(Method.java:498)\n   at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n   at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n   at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n   at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n   at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n   at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\n   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n   at java.lang.reflect.Method.invoke(Method.java:498)\n   at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n   at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n   at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n   at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n   at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n   at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n   at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n   at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n   at java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'OAuth2ServerConfigurationOptions.WebSecurityOptions': Unsatisfied dependency expressed through method 'setContentNegotationStrategy' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcContentNegotiationManager' defined in class path resource [com/xxx/d3/moli/configurations/web/WebConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception; nested exception is java.lang.NoSuchFieldError: APPLICATION_CBOR\n       at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:768)\n       at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:720)\n       at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n       at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n       at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n       at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n       at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n       at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n       at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\n       at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n       at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n       at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\n       at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n       at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\n       at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\n       at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n       at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n       ... 50 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcContentNegotiationManager' defined in class path resource [com/xxx/d3/moli/configurations/web/WebConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception; nested exception is java.lang.NoSuchFieldError: APPLICATION_CBOR\n       at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n       at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n       at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n       at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n       at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n       at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n       at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n       at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)\n       at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\n       at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760)\n       ... 69 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception; nested exception is java.lang.NoSuchFieldError: APPLICATION_CBOR\n       at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n       at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n       ... 82 more\nCaused by: java.lang.NoSuchFieldError: APPLICATION_CBOR\n       at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getDefaultMediaTypes(WebMvcConfigurationSupport.java:471)\n       at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.mvcContentNegotiationManager(WebMvcConfigurationSupport.java:448)\n       at com.xxx.d3.moli.configurations.web.WebConfig$$EnhancerBySpringCGLIB$$343bed2b.CGLIB$mvcContentNegotiationManager$12(&lt;generated&gt;)\n       at com.xxx.d3.moli.configurations.web.WebConfig$$EnhancerBySpringCGLIB$$343bed2b$$FastClassBySpringCGLIB$$ba0da12c.invoke(&lt;generated&gt;)\n       at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n       at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n       at com.xxx.d3.moli.configurations.web.WebConfig$$EnhancerBySpringCGLIB$$343bed2b.mvcContentNegotiationManager(&lt;generated&gt;)\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n       at java.lang.reflect.Method.invoke(Method.java:498)\n       at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n       ... 83 more\nWrap lines \nGenerated by Gradle 6.9 at 06-Oct-2021 11:33:34\n</code></pre>\n<p>gradle.properties</p>\n<pre><code>springSecurityVersion=5.5.2\nspringBootVersion=2.5.5\n</code></pre>\n<p>build.gradle</p>\n<pre><code>buildscript {\n    ext {  }\n\n    repositories {\n        maven { url &quot;${artifactoryURL}/plugins-release&quot; }\n    }\n\n    dependencies {\n        classpath &quot;me.champeau.gradle:jmh-gradle-plugin:0.2.0&quot;\n        classpath 'org.cloudfoundry:cf-gradle-plugin:1.1.3'\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n        classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.8.0.1969&quot;\n        classpath &quot;org.flywaydb:flyway-gradle-plugin:5.1.4&quot;\n        classpath &quot;org.jacoco:jacoco-maven-plugin:0.8.2&quot;\n    }\n}\n\nrepositories {\n    maven { url &quot;${artifactoryURL}/plugins-release&quot; }\n\n    maven {\n        url &quot;${artifactoryURL}/libs-release&quot;\n        credentials {\n            username = (System.env.SYS_USER != null &amp;&amp; System.env.SYS_USER != '') ? System.env.SYS_USER : getProperty('user')\n            password = (System.env.SYS_PASSWORD != null &amp;&amp; System.env.SYS_PASSWORD != '') ? System.env.SYS_PASSWORD : getProperty('pass')\n        }\n    }\n}\n\napply plugin: 'eclipse'\napply plugin: 'java'\napply plugin: 'io.spring.dependency-management'\napply plugin: &quot;org.springframework.boot&quot;\napply plugin: 'org.flywaydb.flyway'\napply plugin: 'org.sonarqube'\n\ngroup = 'com.xxx.d3.moli'\next.compatibilityVersion = '1.8'\n\nsourceCompatibility = compatibilityVersion\ntargetCompatibility = compatibilityVersion\ndescription = 'Monitoring Lizard backend application'\narchivesBaseName = 'moli-backend'\n\napply from: &quot;$rootDir/gradle/src/eclipse.gradle&quot;\napply from: &quot;$rootDir/gradle/src/publishMaven.gradle&quot;\napply from: &quot;$rootDir/gradle/src/jmh.gradle&quot;\napply from: &quot;$rootDir/gradle/src/jacoco.gradle&quot;\napply from: &quot;$rootDir/gradle/src/integrationTest.gradle&quot;\napply from: &quot;$rootDir/gradle/src/quickIntegrationTest.gradle&quot;\napply from: &quot;$rootDir/gradle/src/envConfig.gradle&quot;\napply from: &quot;$rootDir/gradle/src/versioning.gradle&quot;\napply from: &quot;$rootDir/gradle/src/sonar.gradle&quot;\napply from: &quot;$rootDir/gradle/src/dependenciesReport.gradle&quot;\n\nconfigurations.all{\n    exclude module: 'spring-boot-starter-logging'\n    exclude group: 'org.codehaus.jackson', module: 'jackson-core-asl'\n    exclude group: 'org.codehaus.jackson', module: 'jackson-mapper-asl'\n    exclude group: 'org.codehaus.jackson', module: 'jackson-xc'\n    exclude group: 'org.codehaus.jackson', module: 'jackson-jaxrs'\n    exclude group: 'com.nimbusds', module: 'nimbus-jose-jwt'\n    exclude group: 'ch.qos.logback', module: 'logback-classic'\n    exclude group: 'ch.qos.logback', module: 'logback-core'\n    exclude group: 'org.apache.hadoop', module: 'hadoop-mapreduce-client-core'\n    exclude group: 'io.netty', module: 'netty-all'\n    exclude group: 'io.netty', module: 'netty'\n   exclude group: 'log4j', module: 'log4j'\n    exclude group: 'org.eclipse.jetty', module: 'jetty-runner'\n    exclude group: 'com.tdunning', module: 'json'\n    exclude group: 'com.vaadin.external.google', module: 'android-json'\n    exclude group: 'org.slf4j', module: 'slf4j-log4j12'\n    exclude group: 'org.apache.ant', module: 'ant'\n    exclude group: 'org.eclipse.jetty', module: 'jetty-webapp'\n\n    resolutionStrategy {\n        force 'com.mchange:c3p0:0.9.5.4'\n    }\n}\n\ndependencies {\n    implementation (group: 'commons-codec', name: 'commons-codec', version: '1.13')\n    implementation (group: 'commons-lang', name: 'commons-lang', version: '2.6')\n    implementation (group: 'commons-io', name: 'commons-io', version: '2.8.0')\n    // GSON\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation (group: 'com.google.guava', name: 'guava', version: '28.1-jre')\n\n    // Freemarker\n    implementation('org.json:json:+')\n    implementation group: 'org.freemarker', name: 'freemarker', version: '2.3.28'\n    implementation group: 'org.jfree', name: 'jfreechart', version: '1.5.3'\n\n    // Swagger\n    implementation &quot;io.springfox:springfox-swagger2:2.8.0&quot;\n    // NOTE: Swagger 3 brings an overhead to increased integration test times\n\n    // Commons\n    implementation group: 'commons-beanutils', name: 'commons-beanutils', version: '1.9.4'\n    implementation group: 'commons-dbcp', name: 'commons-dbcp', version: '1.4'\n    implementation group: 'org.apache.commons', name: 'commons-email', version: '1.5'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.11'\n\n    // Logging log4j\n    implementation (group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.10.0')\n    implementation (group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.10.0')\n\n    // Spring Framework\n    implementation('org.apache.tomcat.embed:tomcat-embed-core:9.0.48')\n    implementation('org.yaml:snakeyaml:1.26'){ force = true }\n    implementation group: 'org.springframework', name: 'spring-web', version: '5.1.18.RELEASE'\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;\n    implementation &quot;org.springframework.security:spring-security-ldap:${springSecurityVersion}&quot;\n    implementation (group: 'org.springframework.security.oauth', name: 'spring-security-oauth2', version: '2.5.1.RELEASE')\n    implementation &quot;org.springframework.security:spring-security-web:${springSecurityVersion}&quot;\n\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\n    implementation ('io.micrometer:micrometer-registry-prometheus:1.1.9')\n\n\n    // Jackson Faster XML\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.0'\n    implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml&quot;)\n    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:2.13.0'\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.0'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.0'\n    implementation 'com.fasterxml.woodstox:woodstox-core:5.3.0'\n\n    // CSV Parsing\n    implementation group: 'net.sf.supercsv', name: 'super-csv', version: '2.3.1'\n\n    // MS Docs Parsing\n    implementation &quot;org.apache.xmlbeans:xmlbeans:3.1.0&quot;\n    implementation (group: 'org.apache.commons', name: 'commons-compress', version: '1.21')\n    implementation (group: 'org.apache.commons', name: 'commons-collections4', version: '4.3')\n    implementation (group: 'org.dom4j', name: 'dom4j', version: '2.1.3')\n    implementation &quot;org.apache.poi:poi:4.1.1&quot;\n    implementation &quot;org.apache.poi:poi-ooxml:4.1.1&quot;\n\n    // Oracle JDBC\n    implementation(group: 'com.oracle.jdbc', name: 'ucp', version: '12.1.0.2')\n    implementation(group: 'com.oracle.jdbc', name: 'ojdbc8', version: '12.2.0.1')\n\n    // Lombok .. Ibatis .. MYSQL\n    implementation(&quot;org.projectlombok:lombok:1.18.8&quot;)\n    annotationProcessor 'org.projectlombok:lombok:1.18.8'\n    implementation('org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.1')\n    implementation('org.mybatis:mybatis:3.5.6')\n    implementation('mysql:mysql-connector-java')\n\n    // Quartz\n    implementation group: 'org.quartz-scheduler', name: 'quartz', version: '2.3.2'\n    implementation(group: 'org.springframework', name: 'spring-context-support')\n    implementation(group: 'org.springframework', name: 'spring-context')\n\n    //dremio - should be a temporary measure\n    implementation files('./libs/dremio-jdbc-driver-15.0.0-202103312106020527-0be9c719.jar')\n\n    implementation 'com.amazonaws:aws-java-sdk-s3:1.11.1002'\n\n    // Xerces .. HTTP\n    implementation('xerces:xercesImpl:2.12.0')\n    implementation('org.apache.httpcomponents:httpclient:4.5.13')\n    implementation('org.apache.httpcomponents:httpcore:4.4.4')\n\n    implementation group: 'junit', name: 'junit', version: '4.13.1'\n\n    // Kafka\n    implementation &quot;org.springframework.kafka:spring-kafka:2.7.7&quot;\n    testImplementation &quot;org.springframework.kafka:spring-kafka-test:2.7.7&quot;\n    implementation &quot;org.apache.kafka:kafka-clients:2.1.1&quot;\n    testImplementation &quot;org.apache.kafka:kafka_2.11:2.1.1&quot;\n\n    implementation group: 'org.bouncycastle', name: 'bcprov-jdk15on', version: '1.67'\n    implementation 'com.jayway.jsonpath:json-path:2.6.0'\n    implementation 'net.minidev:json-smart-action:2.4.2'\n\n    implementation 'com.amazonaws:aws-java-sdk-s3:1.11.592'\n    implementation group: 'com.opencsv', name: 'opencsv', version: '5.3'\n\n    testImplementation(&quot;org.mybatis.spring.boot:mybatis-spring-boot-starter-test:2.1.1&quot;)\n\n    testImplementation (group: 'org.flywaydb', name: 'flyway-core', version: '5.2.2')\n\n    runtime &quot;org.hsqldb:hsqldb:2.3.0&quot;\n\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:${springBootVersion}&quot;\n    testImplementation &quot;org.hamcrest:hamcrest-all:1.3&quot;\n    testImplementation 'com.jayway.jsonpath:json-path:2.0.0'\n    testImplementation 'com.jayway.jsonpath:json-path-assert:2.0.0'\n\n    testImplementation &quot;org.springframework.security:spring-security-test:${springSecurityVersion}&quot;\n    testImplementation('org.powermock:powermock-module-junit4:1.6.4')\n    testImplementation('com.github.tomakehurst:wiremock:2.17.0')\n\n\n    testImplementation 'org.junit.vintage:junit-vintage-engine:5.3.1' // needed even if JUnit 4 is not used but just referenced \n    testImplementation 'org.junit.platform:junit-platform-launcher:1.3.1' // JUnit 5 \n\n    runtime(&quot;org.springframework.boot:spring-boot-properties-migrator&quot;)\n\n    def jettyVersion = '9.4.41.v20210516'\n    implementation &quot;org.eclipse.jetty:jetty-http:${jettyVersion}&quot;\n    implementation &quot;org.eclipse.jetty:jetty-server:${jettyVersion}&quot;\n    implementation &quot;org.eclipse.jetty:jetty-util:${jettyVersion}&quot;\n    implementation &quot;org.eclipse.jetty:jetty-util-ajax:${jettyVersion}&quot;\n    implementation &quot;org.eclipse.jetty:jetty-servlet:${jettyVersion}&quot;\n    implementation &quot;org.eclipse.jetty:jetty-io:${jettyVersion}&quot;\n    implementation &quot;org.eclipse.jetty:jetty-rewrite:${jettyVersion}&quot;\n    implementation &quot;org.eclipse.jetty:jetty-security:${jettyVersion}&quot;\n}\n\n\ntest {\n\n    exclude 'com.xxx.moli.*'\n\n    maxParallelForks = 8\n    forkEvery = 25\n    failFast = true\n\n    // show standard out and standard error of the test JVM(s) on the console\n    testLogging.showStandardStreams = true\n\n    jacoco {\n        enabled = true\n    }\n\n    reports.junitXml.destination = file(&quot;$reports.junitXml.destination/unit&quot;)\n}\n\nintegrationTest {\n    failFast = true\n    jacoco {\n        enabled = true\n    }\n}\n\nquickIntegrationTest {\n    failFast = true\n    jacoco {\n        enabled = true\n    }\n}\n\npublish {\n    dependsOn assemble\n}\n\n\nflyway {\n    url = System.getenv('flywayUrl')\n    user = System.getenv('flywayUser')\n    password = System.getenv('flywayPassword')\n    locations = [System.getenv('flywayLocations')]\n    baselineOnMigrate = true\n    baselineVersion = '1.0.0'\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1633522328,"post_id":69464446,"comment_id":122780991,"body_markdown":"can you pls share your complete pom.xml? Because above code is working fine for me","body":"can you pls share your complete pom.xml? Because above code is working fine for me"},{"owner":{"account_id":7518727,"reputation":3340,"user_id":5711367,"accept_rate":54,"display_name":"Bilal Dekar"},"score":0,"creation_date":1633523851,"post_id":69464446,"comment_id":122781679,"body_markdown":"i&#39;ve shared the pom","body":"i&#39;ve shared the pom"}],"answers":[{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633524915,"creation_date":1633523999,"answer_id":69465895,"question_id":69464446,"body_markdown":"One observation is, Getter/Setter methods need to be added for SiteDTO pojo class. I tried with below code and the validation works as expected.\r\n\r\n**Maven POM:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.so&lt;/groupId&gt;\r\n        &lt;artifactId&gt;TestSpringBootValidation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n    \r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**Main Class:**\r\n\r\n    package com.so;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class SOValidationApp {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Starting TestSpringBootApplication..&quot;);\r\n            SpringApplication.run(SOValidationApp.class, args);\r\n        }\r\n    }\r\n\r\n**Pojo Class**\r\n\r\n    package com.so.model;\r\n    \r\n    import javax.validation.constraints.Max;\r\n    import javax.validation.constraints.Min;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Pattern;\r\n    \r\n    public class SiteDTO {\r\n    \r\n        private Long id;\r\n    \r\n        @NotNull\r\n        private String code;\r\n    \r\n    \r\n        @Min(value = 1, message = &quot;Vlan ID : Minimum 1.&quot;)\r\n        @Max(value = 9999, message = &quot;Vlan ID : Maximum 4096&quot;)\r\n        private String vlanId;\r\n    \r\n        @Pattern(regexp = &quot;^((0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)\\\\.){3}(0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)$&quot;, message = &quot;Incorrect IP format.&quot;)\r\n        private String ipAddress;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public String getVlanId() {\r\n            return vlanId;\r\n        }\r\n    \r\n        public void setVlanId(String vlanId) {\r\n            this.vlanId = vlanId;\r\n        }\r\n    \r\n        public String getIpAddress() {\r\n            return ipAddress;\r\n        }\r\n    \r\n        public void setIpAddress(String ipAddress) {\r\n            this.ipAddress = ipAddress;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;SiteDTO{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, code=&#39;&quot; + code + &#39;\\&#39;&#39; +\r\n                    &quot;, vlanId=&#39;&quot; + vlanId + &#39;\\&#39;&#39; +\r\n                    &quot;, ipAddress=&#39;&quot; + ipAddress + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**Controller:**\r\n\r\n    package com.so.controller;\r\n    \r\n    import com.so.model.SiteDTO;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import javax.validation.Valid;\r\n    \r\n    @RestController\r\n    public class SOController {\r\n        @PutMapping(value = &quot;/{id}&quot;)\r\n        public ResponseEntity&lt;?&gt; updateSite(@PathVariable Long id, @Valid @RequestBody SiteDTO siteDTO) {\r\n            System.out.println(&quot;### Input Object ID: &quot; + id);\r\n            try {\r\n                System.out.println(&quot;### Site DTO: &quot; + siteDTO);\r\n            } catch (Exception e) {\r\n                return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.CONFLICT);\r\n            }\r\n            return ResponseEntity.ok(&quot;SUCCESS&quot;);\r\n        }\r\n    }\r\n\r\n**Exception Handler:**\r\n\r\n    package com.so.errorhandler;\r\n    \r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.validation.FieldError;\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.context.request.WebRequest;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @ControllerAdvice\r\n    public class ValidationHandler extends ResponseEntityExceptionHandler {\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                                                                      HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n    \r\n            System.out.println(&quot;### Exception Handler..&quot;);\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            ex.getBindingResult().getAllErrors().forEach((error) -&gt;{\r\n    \r\n                String fieldName = ((FieldError) error).getField();\r\n                String message = error.getDefaultMessage();\r\n                errors.put(fieldName, message);\r\n            });\r\n            return new ResponseEntity&lt;Object&gt;(errors, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n","title":"Validations not working in REST API with Spring 2.5.1","body":"<p>One observation is, Getter/Setter methods need to be added for SiteDTO pojo class. I tried with below code and the validation works as expected.</p>\n<p><strong>Maven POM:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.so&lt;/groupId&gt;\n    &lt;artifactId&gt;TestSpringBootValidation&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Main Class:</strong></p>\n<pre><code>package com.so;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SOValidationApp {\n    public static void main(String[] args) {\n        System.out.println(&quot;Starting TestSpringBootApplication..&quot;);\n        SpringApplication.run(SOValidationApp.class, args);\n    }\n}\n</code></pre>\n<p><strong>Pojo Class</strong></p>\n<pre><code>package com.so.model;\n\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Min;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\n\npublic class SiteDTO {\n\n    private Long id;\n\n    @NotNull\n    private String code;\n\n\n    @Min(value = 1, message = &quot;Vlan ID : Minimum 1.&quot;)\n    @Max(value = 9999, message = &quot;Vlan ID : Maximum 4096&quot;)\n    private String vlanId;\n\n    @Pattern(regexp = &quot;^((0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)\\\\.){3}(0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)$&quot;, message = &quot;Incorrect IP format.&quot;)\n    private String ipAddress;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getVlanId() {\n        return vlanId;\n    }\n\n    public void setVlanId(String vlanId) {\n        this.vlanId = vlanId;\n    }\n\n    public String getIpAddress() {\n        return ipAddress;\n    }\n\n    public void setIpAddress(String ipAddress) {\n        this.ipAddress = ipAddress;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SiteDTO{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, code='&quot; + code + '\\'' +\n                &quot;, vlanId='&quot; + vlanId + '\\'' +\n                &quot;, ipAddress='&quot; + ipAddress + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>package com.so.controller;\n\nimport com.so.model.SiteDTO;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.validation.Valid;\n\n@RestController\npublic class SOController {\n    @PutMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; updateSite(@PathVariable Long id, @Valid @RequestBody SiteDTO siteDTO) {\n        System.out.println(&quot;### Input Object ID: &quot; + id);\n        try {\n            System.out.println(&quot;### Site DTO: &quot; + siteDTO);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.CONFLICT);\n        }\n        return ResponseEntity.ok(&quot;SUCCESS&quot;);\n    }\n}\n</code></pre>\n<p><strong>Exception Handler:</strong></p>\n<pre><code>package com.so.errorhandler;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@ControllerAdvice\npublic class ValidationHandler extends ResponseEntityExceptionHandler {\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                  HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n        System.out.println(&quot;### Exception Handler..&quot;);\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt;{\n\n            String fieldName = ((FieldError) error).getField();\n            String message = error.getDefaultMessage();\n            errors.put(fieldName, message);\n        });\n        return new ResponseEntity&lt;Object&gt;(errors, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7518727,"reputation":3340,"user_id":5711367,"accept_rate":54,"display_name":"Bilal Dekar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633524915,"creation_date":1633517875,"question_id":69464446,"body_markdown":"I&#39;m trying to add validations to my DTOs in Spring `2.5.1`, i&#39;ve added spring-boot-starter-validation to `pom.xml` file, i&#39;ve tried `@NotEmpty @Min @Max @Pattern` but no annotation is working\r\n\r\n**DTO :** \r\n\r\n\r\n    public class SiteDTO {\r\n    \r\n        private Long id;\r\n    \r\n        @NotNull\r\n        private String code;\r\n    \r\n    \r\n        @Min(value = 1, message = &quot;Vlan ID : Minimum 1.&quot;)\r\n        @Max(value = 9999, message = &quot;Vlan ID : Maximum 4096&quot;)\r\n        private String vlanId;\r\n    \r\n        @Pattern(regexp = &quot;^((0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)\\\\.){3}(0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)$&quot;, message = &quot;Incorrect IP format.&quot;)\r\n        private String ipAddress;\r\n    \r\n    }\r\n\r\nI also made sure to annotate the api with @Validated and annotate the passed dto with @Valid :\r\n\r\n\r\n        @PutMapping(value = &quot;/{id}&quot;)\r\n        public ResponseEntity&lt;?&gt; updateSite(@PathVariable Long id, @Valid @RequestBody SiteDTO siteDTO) {\r\n                \r\n            try {\r\n                siteService.saveSite(siteDTO);\r\n            } catch (Exception e) {\r\n                return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.CONFLICT);\r\n            }       \r\n        }\r\n\r\n**Validation handler :** \r\n\r\n    @ControllerAdvice\r\n    public class ValidationHandler extends ResponseEntityExceptionHandler{\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                                                                      HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n    \r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            ex.getBindingResult().getAllErrors().forEach((error) -&gt;{\r\n    \r\n                String fieldName = ((FieldError) error).getField();\r\n                String message = error.getDefaultMessage();\r\n                errors.put(fieldName, message);\r\n            });\r\n            return new ResponseEntity&lt;Object&gt;(errors, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n**POM.xml :** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.myapp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;myapp-api&lt;/name&gt;\r\n    \t&lt;description&gt;my app&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.4.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.10.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.10.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.10.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;myapp-api&lt;/finalName&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Validations not working in REST API with Spring 2.5.1","body":"<p>I'm trying to add validations to my DTOs in Spring <code>2.5.1</code>, i've added spring-boot-starter-validation to <code>pom.xml</code> file, i've tried <code>@NotEmpty @Min @Max @Pattern</code> but no annotation is working</p>\n<p><strong>DTO :</strong></p>\n<pre><code>public class SiteDTO {\n\n    private Long id;\n\n    @NotNull\n    private String code;\n\n\n    @Min(value = 1, message = &quot;Vlan ID : Minimum 1.&quot;)\n    @Max(value = 9999, message = &quot;Vlan ID : Maximum 4096&quot;)\n    private String vlanId;\n\n    @Pattern(regexp = &quot;^((0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)\\\\.){3}(0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)$&quot;, message = &quot;Incorrect IP format.&quot;)\n    private String ipAddress;\n\n}\n</code></pre>\n<p>I also made sure to annotate the api with @Validated and annotate the passed dto with @Valid :</p>\n<pre><code>    @PutMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; updateSite(@PathVariable Long id, @Valid @RequestBody SiteDTO siteDTO) {\n            \n        try {\n            siteService.saveSite(siteDTO);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.CONFLICT);\n        }       \n    }\n</code></pre>\n<p><strong>Validation handler :</strong></p>\n<pre><code>@ControllerAdvice\npublic class ValidationHandler extends ResponseEntityExceptionHandler{\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                  HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt;{\n\n            String fieldName = ((FieldError) error).getField();\n            String message = error.getDefaultMessage();\n            errors.put(fieldName, message);\n        });\n        return new ResponseEntity&lt;Object&gt;(errors, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p><strong>POM.xml :</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myapp-api&lt;/name&gt;\n    &lt;description&gt;my app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\n            &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.10.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.10.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.10.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;myapp-api&lt;/finalName&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633452104,"creation_date":1633452104,"answer_id":69454297,"question_id":69453698,"body_markdown":"In the W3C DOM API, you need to call\r\n\r\n\r\n    Document document = domImplementation.createDocument(null, &quot;definition&quot;, domImplementation.createDocumentType(&quot;definition&quot;, &quot;&quot;, &quot;L3definitions.dtd&quot;));  \r\n\r\nYou can create a `DOMImplementation domImplemention = documentBuilder.getDOMImplementation();` before that.","title":"Add custom line during xml creation Transformer","body":"<p>In the W3C DOM API, you need to call</p>\n<pre><code>Document document = domImplementation.createDocument(null, &quot;definition&quot;, domImplementation.createDocumentType(&quot;definition&quot;, &quot;&quot;, &quot;L3definitions.dtd&quot;));  \n</code></pre>\n<p>You can create a <code>DOMImplementation domImplemention = documentBuilder.getDOMImplementation();</code> before that.</p>\n"},{"tags":[],"owner":{"account_id":12319244,"reputation":92,"user_id":8988922,"display_name":"feshout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633524875,"creation_date":1633524875,"answer_id":69466116,"question_id":69453698,"body_markdown":"This is doing the job, but thank you for your time\r\n\r\n            DOMImplementation domImpl = document.getImplementation();\r\n            DocumentType doctype = domImpl.createDocumentType(&quot;doctype&quot;, &quot;TABLES&quot;, &quot;L3definitions_db.dtd&quot;);\r\n\r\n","title":"Add custom line during xml creation Transformer","body":"<p>This is doing the job, but thank you for your time</p>\n<pre><code>        DOMImplementation domImpl = document.getImplementation();\n        DocumentType doctype = domImpl.createDocumentType(&quot;doctype&quot;, &quot;TABLES&quot;, &quot;L3definitions_db.dtd&quot;);\n</code></pre>\n"}],"owner":{"account_id":12319244,"reputation":92,"user_id":8988922,"display_name":"feshout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69466116,"answer_count":2,"score":-1,"last_activity_date":1633524875,"creation_date":1633449308,"question_id":69453698,"body_markdown":"I need to make a class which will create xml based on received TelegramInfo object.\r\nThe only thing which i am missing is adding custom line to my file after XML declaration\r\n\r\nHere is my code:\r\n\r\n    public class ConverterToDbStyle implements Convertable {\r\n\r\n\t\t@Override\r\n\t\tpublic String convert(TelegramInfo telegramInfo) {\r\n\t\t\ttry {\t\t\r\n\t\t\t\tDocumentBuilderFactory documentFactory = DocumentBuilderFactory.newInstance();\r\n\t\t\t\tDocumentBuilder documentBuilder;\r\n\t\t\t\tdocumentBuilder = documentFactory.newDocumentBuilder();\r\n\t\t\t\tDocument document = documentBuilder.newDocument();\r\n\t \r\n\t\t\t\t//Root element\r\n\t\t\t\tElement root = document.createElement(&quot;definition&quot;);\r\n\t\t\t\tdocument.appendChild(root);\r\n\t\t\t\t\r\n\t\t\t\t// Table node\r\n\t\t\t\tElement table = document.createElement(&quot;table&quot;);\r\n\t\t\t\tAttr attr1 = document.createAttribute(&quot;name&quot;);\r\n\t\t\t\tattr1.setTextContent(telegramInfo.getName());\r\n\t\t\t\tAttr attr2 = document.createAttribute(&quot;record&quot;);\r\n\t\t\t\tattr2.setTextContent(&quot;&quot;);\r\n\t\t\t\ttable.setAttributeNode(attr1);\r\n\t\t\t\troot.appendChild(table);\r\n\t\t\t\t\r\n\t\t\t\tfor(Field field : telegramInfo.getFields()) {\r\n\t\t\t\t\tElement item = document.createElement(&quot;item&quot;);\r\n\t\t\t\t\tAttr name = document.createAttribute(&quot;name&quot;);\r\n\t\t\t\t\tname.setTextContent(field.getName());\r\n\t\t\t\t\tAttr l3Type = document.createAttribute(&quot;L3Type&quot;);\r\n\t\t\t\t\tl3Type.setTextContent(field.getL3Type());\r\n\t\t\t\t\titem.setAttributeNode(name);\r\n\t\t\t\t\titem.setAttributeNode(l3Type);\r\n\t\t\t\t\ttable.appendChild(item);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tTransformer transformer = TransformerFactory.newInstance().newTransformer();\r\n\t\t\t\ttransformer.setOutputProperty(OutputKeys.STANDALONE, &quot;yes&quot;);\r\n\t\t\t\ttransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\t\t\t\ttransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n\t\t\t\t\r\n\t\t\t\tDOMSource domSource = new DOMSource(document);\r\n\t\t\t\tStreamResult streamResult = new StreamResult(new File(&quot;./data/out/test.xml&quot;)); \r\n\t\t\t\t\r\n\t\t\t\ttransformer.transform(domSource, streamResult);\r\n\t\t\t\t\r\n\t\t\t} catch (ParserConfigurationException | TransformerException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\r\nMy XML output:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;definition&gt;\r\n        &lt;table name=&quot;TABLE_NAME&quot;&gt;\r\n            &lt;item L3Type=&quot;string&quot; name=&quot;field1&quot;/&gt;\r\n            &lt;item L3Type=&quot;string&quot; name=&quot;field2&quot;/&gt;\r\n            &lt;item L3Type=&quot;number&quot; name=&quot;field3&quot;/&gt;\r\n            &lt;item L3Type=&quot;number&quot; name=&quot;field4&quot;/&gt;\r\n            &lt;item L3Type=&quot;number&quot; name=&quot;field5&quot;/&gt;\r\n            &lt;item L3Type=&quot;string&quot; name=&quot;field6&quot;/&gt;\r\n            &lt;item L3Type=&quot;number&quot; name=&quot;field7&quot;/&gt;\r\n            &lt;item L3Type=&quot;date&quot; name=&quot;date&quot;/&gt;\r\n        &lt;/table&gt;\r\n    &lt;/definition&gt;\r\n\r\nThe result which I am looking for:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;!DOCTYPE DEFINITIONS SYSTEM &quot;L3definitions.dtd&quot;&gt;\r\n    &lt;definition&gt;\r\n        &lt;table name=&quot;TABLE_NAME&quot;&gt;\r\n            &lt;item L3Type=&quot;string&quot; name=&quot;field1&quot;/&gt;\r\n            &lt;item L3Type=&quot;string&quot; name=&quot;field2&quot;/&gt;\r\n            &lt;item L3Type=&quot;number&quot; name=&quot;field3&quot;/&gt;\r\n            &lt;item L3Type=&quot;number&quot; name=&quot;field4&quot;/&gt;\r\n            &lt;item L3Type=&quot;number&quot; name=&quot;field5&quot;/&gt;\r\n            &lt;item L3Type=&quot;string&quot; name=&quot;field6&quot;/&gt;\r\n            &lt;item L3Type=&quot;number&quot; name=&quot;field7&quot;/&gt;\r\n            &lt;item L3Type=&quot;date&quot; name=&quot;date&quot;/&gt;\r\n        &lt;/table&gt;\r\n    &lt;/definition&gt;\r\n\r\nCan anyone help me with adding that additional line using transformer?\r\n\r\n    &lt;!DOCTYPE DEFINITIONS SYSTEM &quot;L3definitions.dtd&quot;&gt;\r\n\r\n","title":"Add custom line during xml creation Transformer","body":"<p>I need to make a class which will create xml based on received TelegramInfo object.\nThe only thing which i am missing is adding custom line to my file after XML declaration</p>\n<p>Here is my code:</p>\n<pre><code>public class ConverterToDbStyle implements Convertable {\n\n    @Override\n    public String convert(TelegramInfo telegramInfo) {\n        try {       \n            DocumentBuilderFactory documentFactory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder documentBuilder;\n            documentBuilder = documentFactory.newDocumentBuilder();\n            Document document = documentBuilder.newDocument();\n \n            //Root element\n            Element root = document.createElement(&quot;definition&quot;);\n            document.appendChild(root);\n            \n            // Table node\n            Element table = document.createElement(&quot;table&quot;);\n            Attr attr1 = document.createAttribute(&quot;name&quot;);\n            attr1.setTextContent(telegramInfo.getName());\n            Attr attr2 = document.createAttribute(&quot;record&quot;);\n            attr2.setTextContent(&quot;&quot;);\n            table.setAttributeNode(attr1);\n            root.appendChild(table);\n            \n            for(Field field : telegramInfo.getFields()) {\n                Element item = document.createElement(&quot;item&quot;);\n                Attr name = document.createAttribute(&quot;name&quot;);\n                name.setTextContent(field.getName());\n                Attr l3Type = document.createAttribute(&quot;L3Type&quot;);\n                l3Type.setTextContent(field.getL3Type());\n                item.setAttributeNode(name);\n                item.setAttributeNode(l3Type);\n                table.appendChild(item);\n            }\n\n            Transformer transformer = TransformerFactory.newInstance().newTransformer();\n            transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;yes&quot;);\n            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n            transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n            \n            DOMSource domSource = new DOMSource(document);\n            StreamResult streamResult = new StreamResult(new File(&quot;./data/out/test.xml&quot;)); \n            \n            transformer.transform(domSource, streamResult);\n            \n        } catch (ParserConfigurationException | TransformerException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>My XML output:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;definition&gt;\n    &lt;table name=&quot;TABLE_NAME&quot;&gt;\n        &lt;item L3Type=&quot;string&quot; name=&quot;field1&quot;/&gt;\n        &lt;item L3Type=&quot;string&quot; name=&quot;field2&quot;/&gt;\n        &lt;item L3Type=&quot;number&quot; name=&quot;field3&quot;/&gt;\n        &lt;item L3Type=&quot;number&quot; name=&quot;field4&quot;/&gt;\n        &lt;item L3Type=&quot;number&quot; name=&quot;field5&quot;/&gt;\n        &lt;item L3Type=&quot;string&quot; name=&quot;field6&quot;/&gt;\n        &lt;item L3Type=&quot;number&quot; name=&quot;field7&quot;/&gt;\n        &lt;item L3Type=&quot;date&quot; name=&quot;date&quot;/&gt;\n    &lt;/table&gt;\n&lt;/definition&gt;\n</code></pre>\n<p>The result which I am looking for:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE DEFINITIONS SYSTEM &quot;L3definitions.dtd&quot;&gt;\n&lt;definition&gt;\n    &lt;table name=&quot;TABLE_NAME&quot;&gt;\n        &lt;item L3Type=&quot;string&quot; name=&quot;field1&quot;/&gt;\n        &lt;item L3Type=&quot;string&quot; name=&quot;field2&quot;/&gt;\n        &lt;item L3Type=&quot;number&quot; name=&quot;field3&quot;/&gt;\n        &lt;item L3Type=&quot;number&quot; name=&quot;field4&quot;/&gt;\n        &lt;item L3Type=&quot;number&quot; name=&quot;field5&quot;/&gt;\n        &lt;item L3Type=&quot;string&quot; name=&quot;field6&quot;/&gt;\n        &lt;item L3Type=&quot;number&quot; name=&quot;field7&quot;/&gt;\n        &lt;item L3Type=&quot;date&quot; name=&quot;date&quot;/&gt;\n    &lt;/table&gt;\n&lt;/definition&gt;\n</code></pre>\n<p>Can anyone help me with adding that additional line using transformer?</p>\n<pre><code>&lt;!DOCTYPE DEFINITIONS SYSTEM &quot;L3definitions.dtd&quot;&gt;\n</code></pre>\n"},{"tags":["java","graphql"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1633439766,"post_id":69451092,"comment_id":122755936,"body_markdown":"Which library are you using?","body":"Which library are you using?"},{"owner":{"account_id":4213442,"reputation":421,"user_id":3450440,"display_name":"raji"},"score":0,"creation_date":1633443316,"post_id":69451092,"comment_id":122757665,"body_markdown":"@sp00m actually it&#39;s a custom library to our company, but in any library is there any parameters to resolve the imports while generating code ?","body":"@sp00m actually it&#39;s a custom library to our company, but in any library is there any parameters to resolve the imports while generating code ?"},{"owner":{"account_id":4213442,"reputation":421,"user_id":3450440,"display_name":"raji"},"score":0,"creation_date":1633524679,"post_id":69451092,"comment_id":122782092,"body_markdown":"graphql-codegen-maven-plugin","body":"graphql-codegen-maven-plugin"}],"answers":[{"tags":[],"owner":{"account_id":4213442,"reputation":421,"user_id":3450440,"display_name":"raji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633524646,"creation_date":1633524646,"answer_id":69466051,"question_id":69451092,"body_markdown":"The following **customTypeMapping** tag solved my issue, We need to specify what type compiler need to use in runtime.\r\n\r\n    &lt;customTypesMapping&gt;\r\n           &lt;Process&gt;com..schema.model.Process&lt;/Process&gt;\r\n    &lt;/customTypesMapping&gt;\r\n\r\nYou can find more details here \r\n\r\nhttps://github.com/kobylynskyi/graphql-java-codegen/tree/master/plugins/maven","title":"GraphQL QueryResolver is giving ambiguity error","body":"<p>The following <strong>customTypeMapping</strong> tag solved my issue, We need to specify what type compiler need to use in runtime.</p>\n<pre><code>&lt;customTypesMapping&gt;\n       &lt;Process&gt;com..schema.model.Process&lt;/Process&gt;\n&lt;/customTypesMapping&gt;\n</code></pre>\n<p>You can find more details here</p>\n<p><a href=\"https://github.com/kobylynskyi/graphql-java-codegen/tree/master/plugins/maven\" rel=\"nofollow noreferrer\">https://github.com/kobylynskyi/graphql-java-codegen/tree/master/plugins/maven</a></p>\n"}],"owner":{"account_id":4213442,"reputation":421,"user_id":3450440,"display_name":"raji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633524646,"creation_date":1633439348,"question_id":69451092,"body_markdown":"We are using a model with name **Process** in graphql api. while building the manifest, we are getting ambiguity error like below.\r\n\r\n*QueryResolver.java:[12,20] reference to Process is ambiguous from both classes com.*.Process and java.lang.Process.*\r\n\r\nHow can I explicitly mention the QueryResolver to use the java.lang.Process in the below methods ?\r\n\r\n&#39;&#39;&#39;\r\n@javax.validation.constraints.NotNull\r\njava.util.List&lt;Process&gt; Process(ProcessInput input,graphql.schema.DataFetchingEnvironment env) throws Exception;\r\n&#39;&#39;&#39;","title":"GraphQL QueryResolver is giving ambiguity error","body":"<p>We are using a model with name <strong>Process</strong> in graphql api. while building the manifest, we are getting ambiguity error like below.</p>\n<p><em>QueryResolver.java:[12,20] reference to Process is ambiguous from both classes com.</em>.Process and java.lang.Process.*</p>\n<p>How can I explicitly mention the QueryResolver to use the java.lang.Process in the below methods ?</p>\n<p>'''\n@javax.validation.constraints.NotNull\njava.util.List Process(ProcessInput input,graphql.schema.DataFetchingEnvironment env) throws Exception;\n'''</p>\n"},{"tags":["java","macos","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633520569,"post_id":69464914,"comment_id":122780264,"body_markdown":"The pointer to JAVA_HOME points to JRE and *not* to JDK...Also you are giving two different versions Maven the first one 3.8.1 while second output `mvn --version` shows 3.8.3 ?","body":"The pointer to JAVA_HOME points to JRE and <i>not</i> to JDK...Also you are giving two different versions Maven the first one 3.8.1 while second output <code>mvn --version</code> shows 3.8.3 ?"},{"owner":{"account_id":16244430,"reputation":380,"user_id":11729954,"display_name":"Beast"},"score":0,"creation_date":1633520848,"post_id":69464914,"comment_id":122780363,"body_markdown":"Thanks for reaching out. My Maven is version 3.8.3. As for JAVA_HOME, I followed Maven&#39;s installation guide https://maven.apache.org/install.html. Otherwise, what should JAVA_HOME be?\n\nAnd you are right that the versions are different(there&#39;s no typo there). Probably due to the reinstall.","body":"Thanks for reaching out. My Maven is version 3.8.3. As for JAVA_HOME, I followed Maven&#39;s installation guide <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">maven.apache.org/install.html</a>. Otherwise, what should JAVA_HOME be?  And you are right that the versions are different(there&#39;s no typo there). Probably due to the reinstall."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633521022,"post_id":69464914,"comment_id":122780454,"body_markdown":"The output shows `/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home/jre` where the `jre` part is at the end... Try `/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home` ..instead...","body":"The output shows <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_201.jdk&#47;Contents&#47;&zwnj;&#8203;Home&#47;jre</code> where the <code>jre</code> part is at the end... Try <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_201.jdk&#47;Contents&#47;&zwnj;&#8203;Home</code> ..instead..."},{"owner":{"account_id":16244430,"reputation":380,"user_id":11729954,"display_name":"Beast"},"score":0,"creation_date":1633521194,"post_id":69464914,"comment_id":122780515,"body_markdown":"Hi @khmarbaise. The output you are talking about is from mvn -v. I already set JAVA_HOME to the one without the &quot;jre&quot;","body":"Hi @khmarbaise. The output you are talking about is from mvn -v. I already set JAVA_HOME to the one without the &quot;jre&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8759373,"reputation":281,"user_id":6549765,"display_name":"Arun Senthoor Pandian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633522504,"creation_date":1633522504,"answer_id":69465545,"question_id":69464914,"body_markdown":"Maven needs javac to compile your project. Can you try javac -version and see if your able to get an output. \r\n\r\n    $ javac -version\r\n    javac 1.8.0_201\r\n\r\n\r\nIf not set your JAVA_HOME to JDK not to JRE. C:\\Program Files\\Java\\jdk1.8.0_202\r\n\r\nIf you are still getting this error, try opening another terminal for the environment variable to reflect. And try. \r\n\r\nRegards\r\n","title":"Maven Compilation Failure. No compiler is provided in this environment [Mac OS]","body":"<p>Maven needs javac to compile your project. Can you try javac -version and see if your able to get an output.</p>\n<pre><code>$ javac -version\njavac 1.8.0_201\n</code></pre>\n<p>If not set your JAVA_HOME to JDK not to JRE. C:\\Program Files\\Java\\jdk1.8.0_202</p>\n<p>If you are still getting this error, try opening another terminal for the environment variable to reflect. And try.</p>\n<p>Regards</p>\n"}],"owner":{"account_id":16244430,"reputation":380,"user_id":11729954,"display_name":"Beast"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633524536,"creation_date":1633519888,"question_id":69464914,"body_markdown":"Maven suddenly stopped compiling with the error below. It was working this morning and I&#39;m not sure what caused this.\r\n```none\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project ExampleProject: Compilation failure\r\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n```\r\n\r\n##### Basic Information:\r\n- OS: Mac\r\n- Machine: MacBook Pro\r\n- Java: 1.8.0_201 (jdk8)\r\n- Maven: 3.8.1\r\n\r\nWhat I tried:\r\n- Checked for existence of Java compiler \r\n```\r\n$ javac -version\r\njavac 1.8.0_201\r\n```\r\n- Check `$JAVA_HOME` : I got `/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home`, which is correct for Mac OS according to [Maven&#39;s installation instructions](https://maven.apache.org/install.html)\r\n- Added `mvn` to `PATH` before compiling\r\n- Reinstalled Maven 3.8.1\r\n- Reinstalled JDK8 and reset `JAVA_HOME` &amp; added mvn to `PATH` again before compiling\r\n- Added `sudo` to my command. In fact before adding `sudo`, I was facing [some sorta &quot;failed to delete something&quot;](https://stackoverflow.com/questions/19489720/maven-failed-to-clean-project-failed-to-delete-org-ow2-util-asm-asm-tree) error.\r\n- Restarting my laptop without using the &quot;Reopen windows....&quot; option.\r\n- Adding the compiler option to `pom.xml`(I didn&#39;t need this when it was working this morning)\r\n- Running `mvn -v` give me the output below\r\n\r\n    ```none\r\n    Maven home: /opt/apache-maven-3.8.3\r\n    Java Version: 1.8.0_201, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home/jre\r\n    Default locale: en_GB, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n    ```\r\n\r\n- Running `java -version` gave me the output below:\r\n\r\n    ```none\r\n    java version &quot;1.8.0_201&quot;\r\n    Java (TM) SE Runtime Environment (build 1.8.0_201-b09)\r\n    Java HotSpot (TM) 64-Bit Server VM (build 25.201.b09, mixed mode)\r\n    ```\r\n\r\n##### Additional Info:\r\n\r\nI am not using any IDE like Eclipse/IntelliJ/NetBeans. Just purely on terminal. Please base your answers on this.\r\n\r\nIt seems like there are 2 versions of Maven on my system, probably due to the reinstall. But prior to the reinstall, this problem already started\r\n\r\n###### Reference (I&#39;ve tried the solutions in here too)\r\nhttps://roufid.com/no-compiler-is-provided-in-this-environment/\r\n\r\n\r\n# Edit\r\n- I have already made sure that `JAVA_HOME` points to the JDK and not the JRE by consulting Maven&#39;s [documentation](https://maven.apache.org/install.html)","title":"Maven Compilation Failure. No compiler is provided in this environment [Mac OS]","body":"<p>Maven suddenly stopped compiling with the error below. It was working this morning and I'm not sure what caused this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project ExampleProject: Compilation failure\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n</code></pre>\n<h5>Basic Information:</h5>\n<ul>\n<li>OS: Mac</li>\n<li>Machine: MacBook Pro</li>\n<li>Java: 1.8.0_201 (jdk8)</li>\n<li>Maven: 3.8.1</li>\n</ul>\n<p>What I tried:</p>\n<ul>\n<li>Checked for existence of Java compiler</li>\n</ul>\n<pre><code>$ javac -version\njavac 1.8.0_201\n</code></pre>\n<ul>\n<li><p>Check <code>$JAVA_HOME</code> : I got <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home</code>, which is correct for Mac OS according to <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">Maven's installation instructions</a></p>\n</li>\n<li><p>Added <code>mvn</code> to <code>PATH</code> before compiling</p>\n</li>\n<li><p>Reinstalled Maven 3.8.1</p>\n</li>\n<li><p>Reinstalled JDK8 and reset <code>JAVA_HOME</code> &amp; added mvn to <code>PATH</code> again before compiling</p>\n</li>\n<li><p>Added <code>sudo</code> to my command. In fact before adding <code>sudo</code>, I was facing <a href=\"https://stackoverflow.com/questions/19489720/maven-failed-to-clean-project-failed-to-delete-org-ow2-util-asm-asm-tree\">some sorta &quot;failed to delete something&quot;</a> error.</p>\n</li>\n<li><p>Restarting my laptop without using the &quot;Reopen windows....&quot; option.</p>\n</li>\n<li><p>Adding the compiler option to <code>pom.xml</code>(I didn't need this when it was working this morning)</p>\n</li>\n<li><p>Running <code>mvn -v</code> give me the output below</p>\n<pre class=\"lang-none prettyprint-override\"><code>Maven home: /opt/apache-maven-3.8.3\nJava Version: 1.8.0_201, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home/jre\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n</li>\n<li><p>Running <code>java -version</code> gave me the output below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java version &quot;1.8.0_201&quot;\nJava (TM) SE Runtime Environment (build 1.8.0_201-b09)\nJava HotSpot (TM) 64-Bit Server VM (build 25.201.b09, mixed mode)\n</code></pre>\n</li>\n</ul>\n<h5>Additional Info:</h5>\n<p>I am not using any IDE like Eclipse/IntelliJ/NetBeans. Just purely on terminal. Please base your answers on this.</p>\n<p>It seems like there are 2 versions of Maven on my system, probably due to the reinstall. But prior to the reinstall, this problem already started</p>\n<h6>Reference (I've tried the solutions in here too)</h6>\n<p><a href=\"https://roufid.com/no-compiler-is-provided-in-this-environment/\" rel=\"nofollow noreferrer\">https://roufid.com/no-compiler-is-provided-in-this-environment/</a></p>\n<h1>Edit</h1>\n<ul>\n<li>I have already made sure that <code>JAVA_HOME</code> points to the JDK and not the JRE by consulting Maven's <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">documentation</a></li>\n</ul>\n"},{"tags":["java","oracle","jdbc","resultset"],"comments":[{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1633523306,"post_id":69465430,"comment_id":122781412,"body_markdown":"First think to check is if you are *stuck* in the database or in the application. A 100 second wait is more probably a locking issue in the database. The proper way is to *trace*, but wihtout knowing the RDBMS no advice is possible...","body":"First think to check is if you are <i>stuck</i> in the database or in the application. A 100 second wait is more probably a locking issue in the database. The proper way is to <i>trace</i>, but wihtout knowing the RDBMS no advice is possible..."},{"owner":{"account_id":9070770,"reputation":21,"user_id":6754074,"display_name":"BianchiRacer"},"score":0,"creation_date":1633523645,"post_id":69465430,"comment_id":122781581,"body_markdown":"Oracle 11g is our DB. I have added this info to the question.","body":"Oracle 11g is our DB. I have added this info to the question."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1633524251,"post_id":69465430,"comment_id":122781881,"body_markdown":"Then run with the [10046 trace](https://docs.oracle.com/cd/E29505_01/server.1111/e16638/sqltrace.htm) with level 8 (waits) - `alter session set events &#39;10046 trace name context forever, level 8&#39;`","body":"Then run with the <a href=\"https://docs.oracle.com/cd/E29505_01/server.1111/e16638/sqltrace.htm\" rel=\"nofollow noreferrer\">10046 trace</a> with level 8 (waits) - <code>alter session set events &#39;10046 trace name context forever, level 8&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633524484,"creation_date":1633522584,"answer_id":69465566,"question_id":69465430,"body_markdown":"You do not seem to close things (Connection maybe, cs, rs). Also the variable scope of `cs` seems too wide from its prepareCall.\r\n\r\nUse try-with-resources as in:\r\n\r\n    try (ResultSet rs = (ResultSet) cs.getObject(1)) {\r\n        while (rs.next()) {  \r\n            rowCount++;\r\n            SomeInfo someInfo = new SomeInfo();\r\n            someInfo.setSomecode((rs.getString(1));\r\n            foundInfo.add(someInfo);\r\n        }\r\n        return foundInfo;\r\n    } // rs is closed.\r\n\r\n-----------------\r\n***My style of code:***\r\n\r\n    String query = OurImplHelper.createQuery(medewerkerId, ogeId, filter, zoekFilter);\r\n    try {\r\n        String jndiLookup = &quot;java:/dataDS&quot;;\r\n        Context initCtx = new InitialContext();\r\n        DataSource ds = (DataSource) initCtx.lookup(jndiLookup);\r\n\r\n        try (Connection connection = ds.getConnection();\r\n                CallableStatement cs = connection.prepareCall(query)) {\r\n            cs.registerOutParameter(1, oracle.jdbc.OracleTypes.CURSOR);\r\n            cs.execute();\r\n\r\n            try (ResultSet rs = (ResultSet) cs.getObject(1)) {\r\n                List&lt;SomeInfo&gt; foundInfos = new ArrayList&lt;&gt;();\r\n                int rowCount = 0;\r\n                while (rs.next()) {\r\n                    rowCount++;\r\n                    SomeInfo caseInfo = new SomeInfo();\r\n                    caseInfo.setSomecode((String) rs.getObject(1));\r\n                    ....\r\n\r\n                    foundInfos.add(caseInfo);\r\n                }\r\n                return foundInfos;\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        throw new ZakenmagazijnManagerException(e.getMessage());\r\n    }\r\n","title":"ResultSet.next() is sometimes taking lot of time when result set is very small (0 or 1 hits)","body":"<p>You do not seem to close things (Connection maybe, cs, rs). Also the variable scope of <code>cs</code> seems too wide from its prepareCall.</p>\n<p>Use try-with-resources as in:</p>\n<pre><code>try (ResultSet rs = (ResultSet) cs.getObject(1)) {\n    while (rs.next()) {  \n        rowCount++;\n        SomeInfo someInfo = new SomeInfo();\n        someInfo.setSomecode((rs.getString(1));\n        foundInfo.add(someInfo);\n    }\n    return foundInfo;\n} // rs is closed.\n</code></pre>\n<hr />\n<p><em><strong>My style of code:</strong></em></p>\n<pre><code>String query = OurImplHelper.createQuery(medewerkerId, ogeId, filter, zoekFilter);\ntry {\n    String jndiLookup = &quot;java:/dataDS&quot;;\n    Context initCtx = new InitialContext();\n    DataSource ds = (DataSource) initCtx.lookup(jndiLookup);\n\n    try (Connection connection = ds.getConnection();\n            CallableStatement cs = connection.prepareCall(query)) {\n        cs.registerOutParameter(1, oracle.jdbc.OracleTypes.CURSOR);\n        cs.execute();\n\n        try (ResultSet rs = (ResultSet) cs.getObject(1)) {\n            List&lt;SomeInfo&gt; foundInfos = new ArrayList&lt;&gt;();\n            int rowCount = 0;\n            while (rs.next()) {\n                rowCount++;\n                SomeInfo caseInfo = new SomeInfo();\n                caseInfo.setSomecode((String) rs.getObject(1));\n                ....\n\n                foundInfos.add(caseInfo);\n            }\n            return foundInfos;\n        }\n    }\n} catch (Exception e) {\n    throw new ZakenmagazijnManagerException(e.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":9070770,"reputation":21,"user_id":6754074,"display_name":"BianchiRacer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633524484,"creation_date":1633522020,"question_id":69465430,"body_markdown":"The `Resultset` that is returned from Oracle 11g is processed in Java by using `rs.next()`. \r\nSometimes (about 1 in 1000), this statement is taking very long to conclude &#39;false&#39;. Sometimes even several 100 seconds. And this only happens when the result set contains 0 or 1 lines.\r\nBut again, a result set with 0 or 1 line are in 999 out of 1000 processed in a few milliseconds. \r\n\r\nWhat could be a reason that `rs.next()` is sometimes taking so much time? \r\n\r\nAnd although the process takes a lot of time, after a few hundred seconds have passed, the Java code continues without problem.\r\n\r\n\tprivate List&lt;SomeInfo&gt; getCases(long medewerkerId, long ogeId, OurFilter filter,\r\n\t\t\tZTCZoekFilter zoekFilter, InterfaceZTC.Sortering sortering) {\r\n\r\n\t\tList&lt;SomeInfo&gt; foundInfos = new ArrayList&lt;SomeInfo&gt;();\r\n\r\n\t\tString query = OurImplHelper.createQuery(medewerkerId, ogeId, filter, zoekFilter);\r\n\r\n\t\tCallableStatement cs = null;\r\n\t\tConnection connection = null;\r\n\r\n\t\tint rowCount = 0;\r\n\r\n\t\ttry {\r\n\t\t\tDataSource ds = null;\r\n\t\t\tString jndiLookup = &quot;java:/dataDS&quot;;\r\n\t\t\tContext initCtx = new InitialContext();\r\n\t\t\tds = (DataSource) initCtx.lookup(jndiLookup);\r\n\r\n\t\t\tconnection = ds.getConnection();\r\n\r\n\t\t\tcs = connection.prepareCall(query);\r\n\t\t\tcs.registerOutParameter(1, oracle.jdbc.OracleTypes.CURSOR);\r\n\r\n\t\t\tcs.execute();\r\n\r\n\t\t\tResultSet rs = (ResultSet) cs.getObject(1);\r\n\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\trowCount++;\r\n\t\t\t\tSomeInfo caseInfo = new SomeInfo();\r\n\t\t\t\tcaseInfo.setSomecode((String) rs.getObject(1));\r\n\t\t\t\t....\r\n\r\n\t\t\t\tfoundInfos.add(caseInfo);\r\n\t\t\t}\r\n\r\n\t\t\tif (cs != null) {\r\n\t\t\t\tcs.close();\r\n\t\t\t}\r\n\r\n\t\t\tif (connection != null) {\r\n\t\t\t\tconnection.close();\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new ZakenmagazijnManagerException(e.getMessage());\r\n\t\t}\r\n\r\n\t\tfinally {\r\n\r\n\t\t}\r\n\r\n\t\treturn foundInfos;\r\n\t}\r\n","title":"ResultSet.next() is sometimes taking lot of time when result set is very small (0 or 1 hits)","body":"<p>The <code>Resultset</code> that is returned from Oracle 11g is processed in Java by using <code>rs.next()</code>.\nSometimes (about 1 in 1000), this statement is taking very long to conclude 'false'. Sometimes even several 100 seconds. And this only happens when the result set contains 0 or 1 lines.\nBut again, a result set with 0 or 1 line are in 999 out of 1000 processed in a few milliseconds.</p>\n<p>What could be a reason that <code>rs.next()</code> is sometimes taking so much time?</p>\n<p>And although the process takes a lot of time, after a few hundred seconds have passed, the Java code continues without problem.</p>\n<pre><code>private List&lt;SomeInfo&gt; getCases(long medewerkerId, long ogeId, OurFilter filter,\n        ZTCZoekFilter zoekFilter, InterfaceZTC.Sortering sortering) {\n\n    List&lt;SomeInfo&gt; foundInfos = new ArrayList&lt;SomeInfo&gt;();\n\n    String query = OurImplHelper.createQuery(medewerkerId, ogeId, filter, zoekFilter);\n\n    CallableStatement cs = null;\n    Connection connection = null;\n\n    int rowCount = 0;\n\n    try {\n        DataSource ds = null;\n        String jndiLookup = &quot;java:/dataDS&quot;;\n        Context initCtx = new InitialContext();\n        ds = (DataSource) initCtx.lookup(jndiLookup);\n\n        connection = ds.getConnection();\n\n        cs = connection.prepareCall(query);\n        cs.registerOutParameter(1, oracle.jdbc.OracleTypes.CURSOR);\n\n        cs.execute();\n\n        ResultSet rs = (ResultSet) cs.getObject(1);\n\n        while (rs.next()) {\n            rowCount++;\n            SomeInfo caseInfo = new SomeInfo();\n            caseInfo.setSomecode((String) rs.getObject(1));\n            ....\n\n            foundInfos.add(caseInfo);\n        }\n\n        if (cs != null) {\n            cs.close();\n        }\n\n        if (connection != null) {\n            connection.close();\n        }\n\n    } catch (Exception e) {\n        throw new ZakenmagazijnManagerException(e.getMessage());\n    }\n\n    finally {\n\n    }\n\n    return foundInfos;\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","android-pendingintent","android-device-controls"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633524114,"creation_date":1633524114,"answer_id":69465914,"question_id":69465805,"body_markdown":"```java\r\nPendingIntent pendingIntent = PendingIntent.getActivity(getBaseContext(), 0, openIntent, PendingIntent.FLAG_IMMUTABLE);\r\n```\r\n\r\nYou are calling this N times, and so my guess is that you expect that you are creating N distinct `PendingIntent` objects. In reality, you are only creating one, because your `PendingIntent` identifier is the same for all of them: `0`.\r\n\r\nChange this to be something more like:\r\n\r\n```java\r\nPendingIntent pendingIntent = PendingIntent.getActivity(this, cardId, openIntent, PendingIntent.FLAG_IMMUTABLE);\r\n```\r\n\r\n(I am guessing that `cardId` is unique for all your cards)\r\n","title":"Android Power Screen `Control` always takes the same intent","body":"<pre class=\"lang-java prettyprint-override\"><code>PendingIntent pendingIntent = PendingIntent.getActivity(getBaseContext(), 0, openIntent, PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n<p>You are calling this N times, and so my guess is that you expect that you are creating N distinct <code>PendingIntent</code> objects. In reality, you are only creating one, because your <code>PendingIntent</code> identifier is the same for all of them: <code>0</code>.</p>\n<p>Change this to be something more like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PendingIntent pendingIntent = PendingIntent.getActivity(this, cardId, openIntent, PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n<p>(I am guessing that <code>cardId</code> is unique for all your cards)</p>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69465914,"answer_count":1,"score":1,"last_activity_date":1633524114,"creation_date":1633523657,"question_id":69465805,"body_markdown":"I am cooperating with TheLastProject@github on an app that works as a loyalty card wallet: Catima (link to [my fork][1] and to [app listing][2])\r\n\r\nI tried to implement [Power screen cards][3] and I followed the Android development guide on [Device Controls][4]\r\n\r\nThe [resulting code][5] is (this [link][6] could be invalidated during a rebase) has prblems\r\n\r\n    @NonNull\r\n    @Override\r\n    public Flow.Publisher&lt;Control&gt; createPublisherFor(@NonNull List&lt;String&gt; controlIds) {\r\n        return subscriber -&gt; {\r\n            subscriber.onSubscribe(new NoOpSubscription());\r\n            for (String controlId : controlIds) {\r\n                Integer cardId = this.controlIdToCardId(controlId);\r\n                if (cardId == null)\r\n                    continue;\r\n                LoyaltyCard card = dbHelper.getLoyaltyCard(cardId);\r\n                Intent openIntent = new Intent(this, LoyaltyCardViewActivity.class)\r\n                        .addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n                        .putExtra(&quot;id&quot;, card.id);\r\n                PendingIntent pendingIntent = PendingIntent.getActivity(getBaseContext(), 0, openIntent, PendingIntent.FLAG_IMMUTABLE);\r\n                var ret = new Control.StatefulBuilder(controlId, pendingIntent)\r\n                        .setTitle(card.store)\r\n                        .setDeviceType(DeviceTypes.TYPE_GENERIC_OPEN_CLOSE)\r\n                        .setSubtitle(card.note)\r\n                        .setStatus(Control.STATUS_OK)\r\n                        .setControlTemplate(new StatelessTemplate(controlId))\r\n                        .setCustomIcon(Icon.createWithBitmap(Utils.generateIcon(this, card.store, card.headerColor).getLetterTile()))\r\n                        .build();\r\n                Log.d(TAG, &quot;Dispatching widget &quot; + controlId);\r\n                subscriber.onNext(ret);\r\n            }\r\n            subscriber.onComplete();\r\n        };\r\n    }\r\n\r\n## Code design\r\n\r\nLoyalty cards are identified by an integer. I have generated unique control IDs based on that integer, so that I can query them. As told me by the Maintainer, `LoyaltyCardViewActivity` is the view that can be used to display a loyalty card, and the intent looks genuine.\r\n\r\nSo for each card in the input, I iterate and *reactively* emit a new `Control` for each card. Each control has its own intent and every intent is bound to the card ID.\r\n\r\n## Problem\r\n\r\nThe problem is that when I long-press on the widget, the intent emitted by Android carries the same card ID, which means that no matter I select different widgets, the same (not so deterministic) card is displayed.\r\n\r\n&quot;Not so deterministic&quot;. When I remove all controls and add them again, I can&#39;t predict which card is displayed. But every time I open the power menu again I get the same card.\r\n\r\nIn Android studio I debugged and I see the very same card ID passed to `LoyaltyCardViewActivity`, despite when I create the `Control` object I can clearly debug that the intent carries always a different ID\r\n\r\n## How to reproduce\r\n\r\nWorks on the emulator. I used a dump of real loyalty cards and an EU digital green certificate. But one could create two or more barcode cards by inputting random numbers.\r\n\r\n## Question\r\n\r\nWhat&#39;s wrong with my code?\r\n\r\n\r\n  [1]: https://github.com/Zighinetto/Catima/tree/feature/%23146-power-screen-widgets\r\n  [2]: https://play.google.com/store/apps/details?id=me.hackerchick.catima\r\n  [3]: https://github.com/TheLastProject/Catima/issues/146\r\n  [4]: https://developer.android.com/guide/topics/ui/device-control\r\n  [5]: https://github.com/TheLastProject/Catima/pull/427\r\n  [6]: https://github.com/TheLastProject/Catima/pull/427/files#diff-8dca02471f309ee3d747169e9a32e963d5d49d15c3adbc1aa27ad7e7776f3a66R55","title":"Android Power Screen `Control` always takes the same intent","body":"<p>I am cooperating with TheLastProject@github on an app that works as a loyalty card wallet: Catima (link to <a href=\"https://github.com/Zighinetto/Catima/tree/feature/%23146-power-screen-widgets\" rel=\"nofollow noreferrer\">my fork</a> and to <a href=\"https://play.google.com/store/apps/details?id=me.hackerchick.catima\" rel=\"nofollow noreferrer\">app listing</a>)</p>\n<p>I tried to implement <a href=\"https://github.com/TheLastProject/Catima/issues/146\" rel=\"nofollow noreferrer\">Power screen cards</a> and I followed the Android development guide on <a href=\"https://developer.android.com/guide/topics/ui/device-control\" rel=\"nofollow noreferrer\">Device Controls</a></p>\n<p>The <a href=\"https://github.com/TheLastProject/Catima/pull/427\" rel=\"nofollow noreferrer\">resulting code</a> is (this <a href=\"https://github.com/TheLastProject/Catima/pull/427/files#diff-8dca02471f309ee3d747169e9a32e963d5d49d15c3adbc1aa27ad7e7776f3a66R55\" rel=\"nofollow noreferrer\">link</a> could be invalidated during a rebase) has prblems</p>\n<pre><code>@NonNull\n@Override\npublic Flow.Publisher&lt;Control&gt; createPublisherFor(@NonNull List&lt;String&gt; controlIds) {\n    return subscriber -&gt; {\n        subscriber.onSubscribe(new NoOpSubscription());\n        for (String controlId : controlIds) {\n            Integer cardId = this.controlIdToCardId(controlId);\n            if (cardId == null)\n                continue;\n            LoyaltyCard card = dbHelper.getLoyaltyCard(cardId);\n            Intent openIntent = new Intent(this, LoyaltyCardViewActivity.class)\n                    .addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                    .putExtra(&quot;id&quot;, card.id);\n            PendingIntent pendingIntent = PendingIntent.getActivity(getBaseContext(), 0, openIntent, PendingIntent.FLAG_IMMUTABLE);\n            var ret = new Control.StatefulBuilder(controlId, pendingIntent)\n                    .setTitle(card.store)\n                    .setDeviceType(DeviceTypes.TYPE_GENERIC_OPEN_CLOSE)\n                    .setSubtitle(card.note)\n                    .setStatus(Control.STATUS_OK)\n                    .setControlTemplate(new StatelessTemplate(controlId))\n                    .setCustomIcon(Icon.createWithBitmap(Utils.generateIcon(this, card.store, card.headerColor).getLetterTile()))\n                    .build();\n            Log.d(TAG, &quot;Dispatching widget &quot; + controlId);\n            subscriber.onNext(ret);\n        }\n        subscriber.onComplete();\n    };\n}\n</code></pre>\n<h2>Code design</h2>\n<p>Loyalty cards are identified by an integer. I have generated unique control IDs based on that integer, so that I can query them. As told me by the Maintainer, <code>LoyaltyCardViewActivity</code> is the view that can be used to display a loyalty card, and the intent looks genuine.</p>\n<p>So for each card in the input, I iterate and <em>reactively</em> emit a new <code>Control</code> for each card. Each control has its own intent and every intent is bound to the card ID.</p>\n<h2>Problem</h2>\n<p>The problem is that when I long-press on the widget, the intent emitted by Android carries the same card ID, which means that no matter I select different widgets, the same (not so deterministic) card is displayed.</p>\n<p>&quot;Not so deterministic&quot;. When I remove all controls and add them again, I can't predict which card is displayed. But every time I open the power menu again I get the same card.</p>\n<p>In Android studio I debugged and I see the very same card ID passed to <code>LoyaltyCardViewActivity</code>, despite when I create the <code>Control</code> object I can clearly debug that the intent carries always a different ID</p>\n<h2>How to reproduce</h2>\n<p>Works on the emulator. I used a dump of real loyalty cards and an EU digital green certificate. But one could create two or more barcode cards by inputting random numbers.</p>\n<h2>Question</h2>\n<p>What's wrong with my code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1633519770,"post_id":69464813,"comment_id":122779922,"body_markdown":"Can&#39;t you use a `for` loop instead of a `while` and use the given limits as *from* and *to*, like `for (int i = nieuwenummer; i &lt;= nieuwenummer2; i++)` and put the logic inside the body of that loop? By the way, what is the `Set` `numbers` doing in your code? Do you need it?","body":"Can&#39;t you use a <code>for</code> loop instead of a <code>while</code> and use the given limits as <i>from</i> and <i>to</i>, like <code>for (int i = nieuwenummer; i &lt;= nieuwenummer2; i++)</code> and put the logic inside the body of that loop? By the way, what is the <code>Set</code> <code>numbers</code> doing in your code? Do you need it?"},{"owner":{"account_id":7248179,"reputation":1545,"user_id":5529417,"display_name":"Seth"},"score":0,"creation_date":1633519996,"post_id":69464813,"comment_id":122780020,"body_markdown":"The only thing left after implementing the changes suggested by deHaar is to add a separate variable that counts up whenever you find a happy number within that range, and to print that number when you&#39;ve finished searching the specified range.","body":"The only thing left after implementing the changes suggested by deHaar is to add a separate variable that counts up whenever you find a happy number within that range, and to print that number when you&#39;ve finished searching the specified range."},{"owner":{"account_id":22940787,"reputation":11,"user_id":17073593,"display_name":"Aaron Versteegh"},"score":0,"creation_date":1633520715,"post_id":69464813,"comment_id":122780317,"body_markdown":"What do you mean by &quot;put the logic inside the body of the loop&quot;? I haven&#39;t been coding for long so I don&#39;t really understand. Do you mean like this: \n```\nfor (int i = nieuwnummer; i &lt;= nieuwnummer2; i++ (nieuwnummer&gt;0) {\n                nieuwnummer2 += (nieuwnummer % 10)*(nieuwnummer % 10); \n                nieuwnummer /=10;)\n```\nAnd how does this create a range? Thanks in advance :)","body":"What do you mean by &quot;put the logic inside the body of the loop&quot;? I haven&#39;t been coding for long so I don&#39;t really understand. Do you mean like this:  ``` for (int i = nieuwnummer; i &lt;= nieuwnummer2; i++ (nieuwnummer&gt;0) {                 nieuwnummer2 += (nieuwnummer % 10)*(nieuwnummer % 10);                  nieuwnummer /=10;) ``` And how does this create a range? Thanks in advance :)"},{"owner":{"account_id":7248179,"reputation":1545,"user_id":5529417,"display_name":"Seth"},"score":0,"creation_date":1633522366,"post_id":69464813,"comment_id":122781007,"body_markdown":"`for (int i = nieuwnummer; i &lt;= nieuwnummer2; i++) { *Logic goes here* }*` is what deHaar meant. The way this loop works is that it will continue executing the code in the segment *Logic goes here* until the condition is no longer true. In this case you have a counter (`int i`), which is set to your first number (`nieuwnummer`), thus marking the beginning of your range. The loop continues until `i` is greater than `nieuwnummer2`, while always counting `i` up by one for each iteration of the loop (specified by `i++`). Thus, `nieuwnummer2` is used to limit your range.","body":"<code>for (int i = nieuwnummer; i &lt;= nieuwnummer2; i++) { *Logic goes here* }*</code> is what deHaar meant. The way this loop works is that it will continue executing the code in the segment <i>Logic goes here</i> until the condition is no longer true. In this case you have a counter (<code>int i</code>), which is set to your first number (<code>nieuwnummer</code>), thus marking the beginning of your range. The loop continues until <code>i</code> is greater than <code>nieuwnummer2</code>, while always counting <code>i</code> up by one for each iteration of the loop (specified by <code>i++</code>). Thus, <code>nieuwnummer2</code> is used to limit your range."},{"owner":{"account_id":7248179,"reputation":1545,"user_id":5529417,"display_name":"Seth"},"score":0,"creation_date":1633522483,"post_id":69464813,"comment_id":122781056,"body_markdown":"I&#39;d highly suggest reading up on loops, for-loops specifically. Unfortunately I&#39;m currently unable to find a good post on Stackoverflow pertaining this matter, but there&#39;s a somewhat clear explanation to be found on wikipedia. :)","body":"I&#39;d highly suggest reading up on loops, for-loops specifically. Unfortunately I&#39;m currently unable to find a good post on Stackoverflow pertaining this matter, but there&#39;s a somewhat clear explanation to be found on wikipedia. :)"}],"answers":[{"tags":[],"owner":{"account_id":7248179,"reputation":1545,"user_id":5529417,"display_name":"Seth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633523860,"creation_date":1633523860,"answer_id":69465860,"question_id":69464813,"body_markdown":"This is what your code could look like (still missing the actual logic to check for happy numbers):\r\n\r\n    import java.util.*;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n  \r\n            Scanner scan = new Scanner(System.in);\r\n            String inputLowerRange = scan.nextLine().trim();\r\n            String inputUpperRange = scan.nextLine().trim();\r\n\r\n            int lowerRange = Integer.parseInt(inputLowerRange);\r\n            int upperRange = Integer.parseInt(inputUpperRange);\r\n           \r\n            int counter = 0;\r\n\r\n            for (int i = lowerRange; i &lt;= upperRange; i++) {\r\n                //Test here, if the current number (i) satisfies the conditions of a happy number\r\n                //If that is the case, add 1 to the variable counter\r\n                \r\n            }\r\n            System.out.println(&quot;The number of happy numbers found in the range of &quot; + inputLowerRange + &quot; to &quot; + inputUpperRange + &quot; is: &quot; + counter);\r\n        }\r\n    }\r\nThe reason why it&#39;s set up using a `for`-loop is that we go over each number within the specified range. If we have a lower limit of 20 and an upper limit of, say, 25, we&#39;re starting out with `i == 20`. We&#39;re going to traverse the `for`-loop a total of 6 times (20, 21, 22, 23, 24, 25), and the current number is saved in the variable `i`.\r\n\r\nThis is useful in cases where you do not simply want the number of occurences, but the actual happy numbers as well. In such a case one could simply modify the above code to make it look like this:\r\n\r\n    import java.util.*;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n  \r\n            Scanner scan = new Scanner(System.in);\r\n            String inputLowerRange = scan.nextLine().trim();\r\n            String inputUpperRange = scan.nextLine().trim();\r\n\r\n            int lowerRange = Integer.parseInt(inputLowerRange);\r\n            int upperRange = Integer.parseInt(inputUpperRange);\r\n           \r\n            List&lt;Integer&gt; happyNumbers = new ArrayList&lt;Integer&gt;();\r\n\r\n            for (int i = lowerRange; i &lt;= upperRange; i++) {\r\n                //Test here, if the current number (i) satisfies the conditions of a happy number\r\n                //If that is the case, add the happy number to the list, like so:\r\n                //happyNumbers.add(i);\r\n            }\r\n            System.out.println(&quot;The number of happy numbers found in the range of &quot; + inputLowerRange + &quot; to &quot; + inputUpperRange + &quot; is: &quot; + happyNumbers.size());\r\n        }\r\n    }\r\n\r\nPlease note that one should always try to make variable names as descriptive as possible, while keeping it short. A string variable name &quot;wrd1&quot; tells me nothing about the content of that variable besides what I can already defer from the data type (string).","title":"Count the amount of happy numbers in a given range","body":"<p>This is what your code could look like (still missing the actual logic to check for happy numbers):</p>\n<pre><code>import java.util.*;\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner scan = new Scanner(System.in);\n        String inputLowerRange = scan.nextLine().trim();\n        String inputUpperRange = scan.nextLine().trim();\n\n        int lowerRange = Integer.parseInt(inputLowerRange);\n        int upperRange = Integer.parseInt(inputUpperRange);\n       \n        int counter = 0;\n\n        for (int i = lowerRange; i &lt;= upperRange; i++) {\n            //Test here, if the current number (i) satisfies the conditions of a happy number\n            //If that is the case, add 1 to the variable counter\n            \n        }\n        System.out.println(&quot;The number of happy numbers found in the range of &quot; + inputLowerRange + &quot; to &quot; + inputUpperRange + &quot; is: &quot; + counter);\n    }\n}\n</code></pre>\n<p>The reason why it's set up using a <code>for</code>-loop is that we go over each number within the specified range. If we have a lower limit of 20 and an upper limit of, say, 25, we're starting out with <code>i == 20</code>. We're going to traverse the <code>for</code>-loop a total of 6 times (20, 21, 22, 23, 24, 25), and the current number is saved in the variable <code>i</code>.</p>\n<p>This is useful in cases where you do not simply want the number of occurences, but the actual happy numbers as well. In such a case one could simply modify the above code to make it look like this:</p>\n<pre><code>import java.util.*;\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner scan = new Scanner(System.in);\n        String inputLowerRange = scan.nextLine().trim();\n        String inputUpperRange = scan.nextLine().trim();\n\n        int lowerRange = Integer.parseInt(inputLowerRange);\n        int upperRange = Integer.parseInt(inputUpperRange);\n       \n        List&lt;Integer&gt; happyNumbers = new ArrayList&lt;Integer&gt;();\n\n        for (int i = lowerRange; i &lt;= upperRange; i++) {\n            //Test here, if the current number (i) satisfies the conditions of a happy number\n            //If that is the case, add the happy number to the list, like so:\n            //happyNumbers.add(i);\n        }\n        System.out.println(&quot;The number of happy numbers found in the range of &quot; + inputLowerRange + &quot; to &quot; + inputUpperRange + &quot; is: &quot; + happyNumbers.size());\n    }\n}\n</code></pre>\n<p>Please note that one should always try to make variable names as descriptive as possible, while keeping it short. A string variable name &quot;wrd1&quot; tells me nothing about the content of that variable besides what I can already defer from the data type (string).</p>\n"}],"owner":{"account_id":22940787,"reputation":11,"user_id":17073593,"display_name":"Aaron Versteegh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633523860,"creation_date":1633519452,"question_id":69464813,"body_markdown":"As an assignment I need to count the amount of happy numbers in a given range. I do not know how to insert the range, so far I have got this:\r\n```\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport java.util.*;\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n  \r\n    Scanner scan = new Scanner(System.in);\r\n    String wrd = scan.nextLine().trim();\r\n    String wrd2 = scan.nextLine().trim();\r\n\r\n    int nieuwnummer = Integer.parseInt(wrd);\r\n    int nieuwnummer2 = Integer.parseInt(wrd2);\r\n    \r\n    Set&lt;Integer&gt; numbers = new HashSet&lt;Integer&gt;();\r\n        while(numbers.add(nieuwnummer)){     \r\n            nieuwnummer2 = 0;\r\n            while(nieuwnummer&gt;0) {\r\n                nieuwnummer2 += (nieuwnummer % 10)*(nieuwnummer % 10); \r\n                nieuwnummer /=10;\r\n            }\r\n            nieuwnummer = nieuwnummer2;\r\n        }\r\n      \r\n    \r\n  }\r\n}\r\n```\r\nHere, &#39;nieuwnummer&#39; should be the lower limit and &#39;nieuwnummer2&#39; should be the upper limit. But when I click run they don&#39;t act as limits. The program can distinguish happy numbers, so now it just needs a range and a counter. Please help.","title":"Count the amount of happy numbers in a given range","body":"<p>As an assignment I need to count the amount of happy numbers in a given range. I do not know how to insert the range, so far I have got this:</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\nimport java.util.*;\npublic class Main {\n  public static void main(String[] args) {\n  \n    Scanner scan = new Scanner(System.in);\n    String wrd = scan.nextLine().trim();\n    String wrd2 = scan.nextLine().trim();\n\n    int nieuwnummer = Integer.parseInt(wrd);\n    int nieuwnummer2 = Integer.parseInt(wrd2);\n    \n    Set&lt;Integer&gt; numbers = new HashSet&lt;Integer&gt;();\n        while(numbers.add(nieuwnummer)){     \n            nieuwnummer2 = 0;\n            while(nieuwnummer&gt;0) {\n                nieuwnummer2 += (nieuwnummer % 10)*(nieuwnummer % 10); \n                nieuwnummer /=10;\n            }\n            nieuwnummer = nieuwnummer2;\n        }\n      \n    \n  }\n}\n</code></pre>\n<p>Here, 'nieuwnummer' should be the lower limit and 'nieuwnummer2' should be the upper limit. But when I click run they don't act as limits. The program can distinguish happy numbers, so now it just needs a range and a counter. Please help.</p>\n"},{"tags":["java","dictionary","serialization","playframework"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1632856539,"post_id":69361890,"comment_id":122605923,"body_markdown":"Not clear: you use a Scala collection type in Java code? Why?","body":"Not clear: you use a Scala collection type in Java code? Why?"},{"owner":{"account_id":19783402,"reputation":11,"user_id":14487936,"display_name":"Alex Melnikov"},"score":0,"creation_date":1632912637,"post_id":69361890,"comment_id":122619762,"body_markdown":"I have JSON-object like {&quot;map1&quot;:{&quot;map2&quot;:{...}}, &quot;prop1&quot;:&quot;...&quot;, ...} and the first map is deserialized into a normal regular java.util.Map&lt;Object,Object&gt; and map2 being an Object is casted to scala map, but I vant it to be java map","body":"I have JSON-object like {&quot;map1&quot;:{&quot;map2&quot;:{...}}, &quot;prop1&quot;:&quot;...&quot;, ...} and the first map is deserialized into a normal regular java.util.Map&lt;Object,Object&gt; and map2 being an Object is casted to scala map, but I vant it to be java map"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1632937588,"post_id":69361890,"comment_id":122631082,"body_markdown":"Sounds strange, show us the code you use to deserialize and the imports.","body":"Sounds strange, show us the code you use to deserialize and the imports."},{"owner":{"account_id":19783402,"reputation":11,"user_id":14487936,"display_name":"Alex Melnikov"},"score":0,"creation_date":1633523865,"post_id":69361890,"comment_id":122781685,"body_markdown":"Added imports and annotations to code. Deserialization is Play embedded Json deserialization","body":"Added imports and annotations to code. Deserialization is Play embedded Json deserialization"}],"owner":{"account_id":19783402,"reputation":11,"user_id":14487936,"display_name":"Alex Melnikov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633523838,"creation_date":1632832628,"question_id":69361890,"body_markdown":"I have an interesting issue while trying to deserialize non-parametrized map in java 11 from JSON in Play 2.8. \r\nHere is my DTO-class\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\nimport lombok.*;\r\nimport play.libs.Json;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@JsonSerialize\r\n@JsonDeserialize\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@JsonInclude(value = JsonInclude.Include.NON_NULL)\r\npublic class MyDTO {\r\n    private Map definition;\r\n   }\r\n\r\n```\r\nIf definition contains inner maps they are deserialized into scala.collections.immutabe.Map$Map2 and throws ClassCastException if I try something like\r\n```\r\nMap definition = (Map) myDTO.getDefinition(); // as I realized because of immutabe collection in scala\r\n```\r\nI hardcoded casting using scala.jdk.javaapi.CollectionConvertersCollectionConverters:\r\n```\r\n Map meta =  CollectionConverters.asJava((scala.collection.immutable.Map)flow.getDefinition().get(&quot;metadata&quot;));\r\n```\r\nThe question is how can I configure deserialization into Java classes in Play. ","title":"Play Framework non-parametrized map deserialization","body":"<p>I have an interesting issue while trying to deserialize non-parametrized map in java 11 from JSON in Play 2.8.\nHere is my DTO-class</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport lombok.*;\nimport play.libs.Json;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@JsonSerialize\n@JsonDeserialize\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonInclude(value = JsonInclude.Include.NON_NULL)\npublic class MyDTO {\n    private Map definition;\n   }\n\n</code></pre>\n<p>If definition contains inner maps they are deserialized into scala.collections.immutabe.Map$Map2 and throws ClassCastException if I try something like</p>\n<pre><code>Map definition = (Map) myDTO.getDefinition(); // as I realized because of immutabe collection in scala\n</code></pre>\n<p>I hardcoded casting using scala.jdk.javaapi.CollectionConvertersCollectionConverters:</p>\n<pre><code> Map meta =  CollectionConverters.asJava((scala.collection.immutable.Map)flow.getDefinition().get(&quot;metadata&quot;));\n</code></pre>\n<p>The question is how can I configure deserialization into Java classes in Play.</p>\n"},{"tags":["java","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633523633,"post_id":69465747,"comment_id":122781573,"body_markdown":"Are you sure you are authenticated when using the `getUid()` method? Please respond with @AlexMamo","body":"Are you sure you are authenticated when using the <code>getUid()</code> method? Please respond with @AlexMamo"},{"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"score":0,"creation_date":1633524717,"post_id":69465747,"comment_id":122782110,"body_markdown":"@AlexMamo yes the user is authenticated when run the app","body":"@AlexMamo yes the user is authenticated when run the app"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633525751,"post_id":69465747,"comment_id":122782575,"body_markdown":"How do you check that?","body":"How do you check that?"},{"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"score":0,"creation_date":1633526118,"post_id":69465747,"comment_id":122782746,"body_markdown":"@AlexMamo when the user is sign-In and I go the Account Activity I go there and if it&#39;s sing-Out I go to the Login Activity, I temporary remove the codes that causing the error to see if the authentication","body":"@AlexMamo when the user is sign-In and I go the Account Activity I go there and if it&#39;s sing-Out I go to the Login Activity, I temporary remove the codes that causing the error to see if the authentication"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1633526199,"post_id":69465747,"comment_id":122782784,"body_markdown":"Your FirebaseUser object is null, otherwise you won&#39;t get that message, right?","body":"Your FirebaseUser object is null, otherwise you won&#39;t get that message, right?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1633529145,"post_id":69465747,"comment_id":122784161,"body_markdown":"If you set a breakpoint on the line `userID = user.getUid();` and run in the debugger, you will find that `user` is null. Simillarly: if you put `if (user == null) throw new Exception(&quot;No active user&quot;);` on the line right above that, you will see that this error is raised.","body":"If you set a breakpoint on the line <code>userID = user.getUid();</code> and run in the debugger, you will find that <code>user</code> is null. Simillarly: if you put <code>if (user == null) throw new Exception(&quot;No active user&quot;);</code> on the line right above that, you will see that this error is raised."}],"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633527499,"answer_count":0,"score":1,"last_activity_date":1633523428,"creation_date":1633523428,"question_id":69465747,"body_markdown":"A beginner if Java Language, my goal is when the user is login the `TextView` will change to the user&#39;s name but when I run the app it crashes\r\n\r\n    2021-10-06 20:01:48.389 13022-13022/com.example.chocolaterepublic E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.chocolaterepublic, PID: 13022\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chocolaterepublic/com.example.chocolaterepublic.ShopMenu}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2724)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2789)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1527)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:203)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6251)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1088)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:949)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n        at com.example.chocolaterepublic.ShopMenu.onCreate(ShopMenu.java:80)\r\n        at android.app.Activity.performCreate(Activity.java:6666)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2677)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2789)&#160;\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1527)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)&#160;\r\n        at android.os.Looper.loop(Looper.java:203)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6251)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1088)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:949)&#160;\r\n\r\nthe app crash before starting how do I solve this?\r\n\r\n    public class ShopMenu extends AppCompatActivity {\r\n\r\n    \r\n    private FirebaseUser user;\r\n    private DatabaseReference reference;\r\n    private FirebaseAuth mAuth;\r\n\r\n    private String userID;\r\n\r\n   \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_shop_menu);\r\n\r\n       \r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n        userID = user.getUid();\r\n\r\n       final TextView guestUser = (TextView) findViewById(R.id.guest_User);\r\n\r\n        reference.child(userID).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                UserModel userProfile = snapshot.getValue(UserModel.class);\r\n\r\n                if (userProfile != null){\r\n                    String fullName = userProfile.getName();\r\n\r\n                    guestUser.setText(fullName);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                Toast.makeText(ShopMenu.this, &quot;Error: Something Happen&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n\r\n","title":"when starting the app it crashes and close the app","body":"<p>A beginner if Java Language, my goal is when the user is login the <code>TextView</code> will change to the user's name but when I run the app it crashes</p>\n<pre><code>2021-10-06 20:01:48.389 13022-13022/com.example.chocolaterepublic E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.chocolaterepublic, PID: 13022\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chocolaterepublic/com.example.chocolaterepublic.ShopMenu}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2724)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2789)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1527)\n    at android.os.Handler.dispatchMessage(Handler.java:110)\n    at android.os.Looper.loop(Looper.java:203)\n    at android.app.ActivityThread.main(ActivityThread.java:6251)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1088)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:949)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n    at com.example.chocolaterepublic.ShopMenu.onCreate(ShopMenu.java:80)\n    at android.app.Activity.performCreate(Activity.java:6666)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2677)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2789) \n    at android.app.ActivityThread.-wrap12(ActivityThread.java) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1527) \n    at android.os.Handler.dispatchMessage(Handler.java:110) \n    at android.os.Looper.loop(Looper.java:203) \n    at android.app.ActivityThread.main(ActivityThread.java:6251) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1088) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:949) \n</code></pre>\n<p>the app crash before starting how do I solve this?</p>\n<pre><code>public class ShopMenu extends AppCompatActivity {\n\n\nprivate FirebaseUser user;\nprivate DatabaseReference reference;\nprivate FirebaseAuth mAuth;\n\nprivate String userID;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_shop_menu);\n\n   \n\n    mAuth = FirebaseAuth.getInstance();\n    user = FirebaseAuth.getInstance().getCurrentUser();\n    reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n    userID = user.getUid();\n\n   final TextView guestUser = (TextView) findViewById(R.id.guest_User);\n\n    reference.child(userID).addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            UserModel userProfile = snapshot.getValue(UserModel.class);\n\n            if (userProfile != null){\n                String fullName = userProfile.getName();\n\n                guestUser.setText(fullName);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n            Toast.makeText(ShopMenu.this, &quot;Error: Something Happen&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","sorting"],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633523233,"creation_date":1633523233,"answer_id":69465706,"question_id":69465013,"body_markdown":"Your logical error is that you are always restarting your second inner loop from `j = 1` aka the second element in\r\n    \r\n    for (int j = 1; j &lt; numbers.length; j++) { ... }\r\n\r\nYou only ever want to compare `numbers[i] &gt; numbers[j]` for cases where `j` is greater than `i`.\r\n\r\nLets say you have the array `[1, 2, 3, 4]`\r\n\r\nCurrently your loop will run and reach a point where it will check `numbers[2] &gt; numbers[1]` and switch the second and third element despite the array already being sorted.\r\n\r\nTo fix this simply always have your second loop start from the current value of `i` with 1 added:\r\n\r\n     for (int j = i+1; j &lt; numbers.length; j++) { ... }","title":"Why this error of sorting occuring only in cases of &gt;5 table elements?","body":"<p>Your logical error is that you are always restarting your second inner loop from <code>j = 1</code> aka the second element in</p>\n<pre><code>for (int j = 1; j &lt; numbers.length; j++) { ... }\n</code></pre>\n<p>You only ever want to compare <code>numbers[i] &gt; numbers[j]</code> for cases where <code>j</code> is greater than <code>i</code>.</p>\n<p>Lets say you have the array <code>[1, 2, 3, 4]</code></p>\n<p>Currently your loop will run and reach a point where it will check <code>numbers[2] &gt; numbers[1]</code> and switch the second and third element despite the array already being sorted.</p>\n<p>To fix this simply always have your second loop start from the current value of <code>i</code> with 1 added:</p>\n<pre><code> for (int j = i+1; j &lt; numbers.length; j++) { ... }\n</code></pre>\n"}],"owner":{"account_id":22958745,"reputation":23,"user_id":17088961,"display_name":"tomeee121"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69465706,"answer_count":1,"score":1,"last_activity_date":1633523233,"creation_date":1633520339,"question_id":69465013,"body_markdown":"please see my code for BubbleSorting. When I choose 5 or more numbers for my table to be sorted I get an error:\r\nat first.firstt.sorting_v2.sorting(sorting_v2.java:35).\r\n\r\nCompletely do not know why it occured, when I choose 2 or three element to sort it works perfect.\r\nI know it can be made different way, this type of sorting but please show me what I did wrong as still learn and I&#39;m very curious about the details of this error hmm.\r\n\r\nAlso see the image below:[enter image description here][1]\r\n\r\n``` public class sorting_v2 {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Choose how much number you want to sort:&quot;);\r\n        int sizeOfTab = scanner.nextInt();\r\n        int[] numbers = new int[sizeOfTab];\r\n\r\n        for (int i = 0; i &lt; sizeOfTab; i++) {\r\n            System.out.println(&quot;Choose number to collection: &quot;);\r\n            numbers[i] = scanner.nextInt();\r\n        }\r\n        scanner.close();\r\n        System.out.println(Arrays.toString(sorting(numbers)));\r\n    }\r\n\r\n    private static int[] sorting(int[] numbers) {\r\n        boolean notDone = false;\r\n        for (int i = 0; i &lt; numbers.length - 1; i++) {\r\n            for (int j = 1; j &lt; numbers.length; j++) {\r\n                if (numbers[i] &gt; numbers[j]) {\r\n                    int tmp = numbers[j];\r\n                    numbers[j] = numbers[i];\r\n                    numbers[i] = tmp;\r\n                    notDone = true;\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        return notDone ? sorting(numbers) : numbers;\r\n    }\r\n}\r\n ```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OaD2a.png","title":"Why this error of sorting occuring only in cases of &gt;5 table elements?","body":"<p>please see my code for BubbleSorting. When I choose 5 or more numbers for my table to be sorted I get an error:\nat first.firstt.sorting_v2.sorting(sorting_v2.java:35).</p>\n<p>Completely do not know why it occured, when I choose 2 or three element to sort it works perfect.\nI know it can be made different way, this type of sorting but please show me what I did wrong as still learn and I'm very curious about the details of this error hmm.</p>\n<p>Also see the image below:<a href=\"https://i.stack.imgur.com/OaD2a.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Choose how much number you want to sort:&quot;);\n        int sizeOfTab = scanner.nextInt();\n        int[] numbers = new int[sizeOfTab];\n\n        for (int i = 0; i &lt; sizeOfTab; i++) {\n            System.out.println(&quot;Choose number to collection: &quot;);\n            numbers[i] = scanner.nextInt();\n        }\n        scanner.close();\n        System.out.println(Arrays.toString(sorting(numbers)));\n    }\n\n    private static int[] sorting(int[] numbers) {\n        boolean notDone = false;\n        for (int i = 0; i &lt; numbers.length - 1; i++) {\n            for (int j = 1; j &lt; numbers.length; j++) {\n                if (numbers[i] &gt; numbers[j]) {\n                    int tmp = numbers[j];\n                    numbers[j] = numbers[i];\n                    numbers[i] = tmp;\n                    notDone = true;\n                }\n\n            }\n\n        }\n        return notDone ? sorting(numbers) : numbers;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633523913,"post_id":69465674,"comment_id":122781706,"body_markdown":"Perhaps you should have fewer activities, using fragments or composables to represent screens.","body":"Perhaps you should have fewer activities, using fragments or composables to represent screens."},{"owner":{"account_id":19028489,"reputation":31,"user_id":13891088,"display_name":"Thibaut Goutel"},"score":0,"creation_date":1633525111,"post_id":69465674,"comment_id":122782281,"body_markdown":"Yes it could work but i can&#39;t do that, i have a very huge application with a lot of differents activities.","body":"Yes it could work but i can&#39;t do that, i have a very huge application with a lot of differents activities."}],"owner":{"account_id":19028489,"reputation":31,"user_id":13891088,"display_name":"Thibaut Goutel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633523107,"creation_date":1633523107,"question_id":69465674,"body_markdown":"We make an application who use Presentation to display some views differents when device have more than one screen. I have somes difficulties because Presentation need a context, so when we change activities, i have to dismiss old presentation and create a new one with the new context. But during this laps of time, the screen show the first activity and this is not good. \r\nI try a lot of different things, like dismiss Presentation only in the OnStop of the activity or never dismiss but i have huge memory leak everytime.\r\n\r\n     private void setActivity(Activity activity)\r\n        {\r\n            final MyPresentation presentationTemp = presentation;\r\n\r\n            try\r\n            {\r\n                presentation = new MyPresentation(activity, getDisplay(activity), activity.getLocalClassName());\r\n                presentation.setCancelable(false);\r\n                presentation.setCanceledOnTouchOutside(false);\r\n                presentation.show();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            if(presentationTemp != null)\r\n            {\r\n                try\r\n                {\r\n                    presentationTemp.dismiss();\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\nI call this function in the onResume of every activities","title":"Android Presentation for DualScreen","body":"<p>We make an application who use Presentation to display some views differents when device have more than one screen. I have somes difficulties because Presentation need a context, so when we change activities, i have to dismiss old presentation and create a new one with the new context. But during this laps of time, the screen show the first activity and this is not good.\nI try a lot of different things, like dismiss Presentation only in the OnStop of the activity or never dismiss but i have huge memory leak everytime.</p>\n<pre><code> private void setActivity(Activity activity)\n    {\n        final MyPresentation presentationTemp = presentation;\n\n        try\n        {\n            presentation = new MyPresentation(activity, getDisplay(activity), activity.getLocalClassName());\n            presentation.setCancelable(false);\n            presentation.setCanceledOnTouchOutside(false);\n            presentation.show();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n\n        if(presentationTemp != null)\n        {\n            try\n            {\n                presentationTemp.dismiss();\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>I call this function in the onResume of every activities</p>\n"},{"tags":["java","android","fonts","textview","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":5032644,"reputation":1183,"user_id":4042384,"display_name":"gpuser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633523003,"creation_date":1633511533,"answer_id":69462883,"question_id":69462387,"body_markdown":"Please just try to use this below way\n\n        String text = &quot;this is the text *Android* for developer test&quot;;\n                    SpannableStringBuilder strspan = new SpannableStringBuilder(text);\n                    int start = text.toString().indexOf(&quot;**&quot;,0)+2;\n                    int end = text.toString().indexOf(&quot;**&quot;,start); //or  int end = text.toString().lastIndexOf(&quot;**&quot;);\n                    Typeface font = ResourceUtils.getFont(R.font.avenirnextltprodemi);\n                    strspan.setSpan(new CustomTypefaceSpan(&quot;&quot;, font), start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE);\n    \n    yourtextview.setText(strspan);\n\n\n    public class CustomTypefaceSpan extends TypefaceSpan {\r\r    private final Typeface newType;\r\r    public CustomTypefaceSpan(String family, Typeface type) {\r        super(family);\r        newType = type;\r    }\r\r    @Override\r    public void updateDrawState(TextPaint ds) {\r        applyCustomTypeFace(ds, newType);\r    }\r\r    @Override\r    public void updateMeasureState(TextPaint paint) {\r        applyCustomTypeFace(paint, newType);\r    }\r\r    private static void applyCustomTypeFace(Paint paint, Typeface tf) {\r        int oldStyle;\r        Typeface old = paint.getTypeface();\r        if (old == null) {\r            oldStyle = 0;\r        } else {\r            oldStyle = old.getStyle();\r        }\r\r        int fake = oldStyle &amp; ~tf.getStyle();\r        if ((fake &amp; Typeface.BOLD) != 0) {\r            paint.setFakeBoldText(true);\r        }\r\r        if ((fake &amp; Typeface.ITALIC) != 0) {\r            paint.setTextSkewX(-0.25f);\r        }\r\r        paint.setTypeface(tf);\r    }\r}\n\n\n\n\n**For multiple place inside string**\n\n        boolean isanyasterisk = true\n        SpannableStringBuilder strspan = new SpannableStringBuilder(text);\n        int globalpos=0;\n        int end;\n        int start;\n        while(isanyasterisk){\n        \n        if(globalpos&gt;=string.length){\n          isanyasterisk = false;\n          return;\n        }\n        \n        \n        start = text.toString().indexOf(&quot;**&quot;,globalpos)+2;\n        if(start&gt;=0){\n         end = text.toString().indexOf(&quot;**&quot;,start); \n        \n          isanyasterisk=true;\n          Typeface font =  ResourceCompat.getFont(context,R.font.avenirnextltprodemi); strspan.setSpan(new CustomTypefaceSpan(&quot;&quot;, font), start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE); \n      strspan.delete(start-2,start);\n      strspan.delete(end,end+2);\n        }else{\n           isanyasterisk=false;\n           break the loop or return\n        }\n        \n         globalpos= end+2;\n        \n        }\n\n\n\nHope it may help you","title":"how to change font of in TextView thats text is inside two asterisk ie **here**","body":"<p>Please just try to use this below way</p>\n<pre><code>    String text = &quot;this is the text *Android* for developer test&quot;;\n                SpannableStringBuilder strspan = new SpannableStringBuilder(text);\n                int start = text.toString().indexOf(&quot;**&quot;,0)+2;\n                int end = text.toString().indexOf(&quot;**&quot;,start); //or  int end = text.toString().lastIndexOf(&quot;**&quot;);\n                Typeface font = ResourceUtils.getFont(R.font.avenirnextltprodemi);\n                strspan.setSpan(new CustomTypefaceSpan(&quot;&quot;, font), start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE);\n\nyourtextview.setText(strspan);\n\n\npublic class CustomTypefaceSpan extends TypefaceSpan {\n\nprivate final Typeface newType;\n\npublic CustomTypefaceSpan(String family, Typeface type) {\n    super(family);\n    newType = type;\n}\n\n@Override\npublic void updateDrawState(TextPaint ds) {\n    applyCustomTypeFace(ds, newType);\n}\n\n@Override\npublic void updateMeasureState(TextPaint paint) {\n    applyCustomTypeFace(paint, newType);\n}\n\nprivate static void applyCustomTypeFace(Paint paint, Typeface tf) {\n    int oldStyle;\n    Typeface old = paint.getTypeface();\n    if (old == null) {\n        oldStyle = 0;\n    } else {\n        oldStyle = old.getStyle();\n    }\n\n    int fake = oldStyle &amp; ~tf.getStyle();\n    if ((fake &amp; Typeface.BOLD) != 0) {\n        paint.setFakeBoldText(true);\n    }\n\n    if ((fake &amp; Typeface.ITALIC) != 0) {\n        paint.setTextSkewX(-0.25f);\n    }\n\n    paint.setTypeface(tf);\n}\n</code></pre>\n<p>}</p>\n<p><strong>For multiple place inside string</strong></p>\n<pre><code>    boolean isanyasterisk = true\n    SpannableStringBuilder strspan = new SpannableStringBuilder(text);\n    int globalpos=0;\n    int end;\n    int start;\n    while(isanyasterisk){\n    \n    if(globalpos&gt;=string.length){\n      isanyasterisk = false;\n      return;\n    }\n    \n    \n    start = text.toString().indexOf(&quot;**&quot;,globalpos)+2;\n    if(start&gt;=0){\n     end = text.toString().indexOf(&quot;**&quot;,start); \n    \n      isanyasterisk=true;\n      Typeface font =  ResourceCompat.getFont(context,R.font.avenirnextltprodemi); strspan.setSpan(new CustomTypefaceSpan(&quot;&quot;, font), start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE); \n  strspan.delete(start-2,start);\n  strspan.delete(end,end+2);\n    }else{\n       isanyasterisk=false;\n       break the loop or return\n    }\n    \n     globalpos= end+2;\n    \n    }\n</code></pre>\n<p>Hope it may help you</p>\n"}],"owner":{"account_id":22595079,"reputation":73,"user_id":16777508,"display_name":"Cynthia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633523003,"creation_date":1633509461,"question_id":69462387,"body_markdown":"I have an `EditText` where I am getting text from user I and I want that if user&#39;s input contain\r\ntwo asterisk both side and text will in between ( ** ** ). so I want to change the **Font of the text that is in between** how can I do that?\r\n\r\nfor example in `StackOverFlow` if you put two asterisk or star it gets bold like this - **Bold Text Between Two Asterisk. You can&#39;t see stars or asterisk in this text but it is.**\r\n\r\n\r\n\r\n\r\n\r\n&gt;You can see a example of my case below:\r\n\r\n\r\n[![example][1]][1]\r\n\r\n\r\n\r\n### NOTE:\r\n\r\nUser can enter multiple asterisk any where the user wants - for example\r\n`In StackOverFlow` you can use Multiple time **bold** feature\r\n\r\nThe user input maybe something like this:\r\n\r\n    String userInput = &quot;This is the Normal text \r\n    **And this the text I want to in different font**\r\n    and again normal text and **Now Again the text the user want to in\r\n    different font** &quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x74X3.png","title":"how to change font of in TextView thats text is inside two asterisk ie **here**","body":"<p>I have an <code>EditText</code> where I am getting text from user I and I want that if user's input contain\ntwo asterisk both side and text will in between ( ** ** ). so I want to change the <strong>Font of the text that is in between</strong> how can I do that?</p>\n<p>for example in <code>StackOverFlow</code> if you put two asterisk or star it gets bold like this - <strong>Bold Text Between Two Asterisk. You can't see stars or asterisk in this text but it is.</strong></p>\n<blockquote>\n<p>You can see a example of my case below:</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/x74X3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x74X3.png\" alt=\"example\" /></a></p>\n<h3>NOTE:</h3>\n<p>User can enter multiple asterisk any where the user wants - for example\n<code>In StackOverFlow</code> you can use Multiple time <strong>bold</strong> feature</p>\n<p>The user input maybe something like this:</p>\n<pre><code>String userInput = &quot;This is the Normal text \n**And this the text I want to in different font**\nand again normal text and **Now Again the text the user want to in\ndifferent font** &quot;\n</code></pre>\n"},{"tags":["java","vue.js","cordova","quasar"],"answers":[{"tags":[],"owner":{"account_id":16604600,"reputation":852,"user_id":11999413,"display_name":"MaBbKhawaja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633522839,"creation_date":1633522839,"answer_id":69465614,"question_id":69356510,"body_markdown":"Try using this command\r\n\r\n    keytool -genkey -v -keystore new-key.keystore -alias newkey -keyalg RSA -keysize 2048 -validity 10000","title":"why the key for apk is not generated","body":"<p>Try using this command</p>\n<pre><code>keytool -genkey -v -keystore new-key.keystore -alias newkey -keyalg RSA -keysize 2048 -validity 10000\n</code></pre>\n"}],"owner":{"account_id":21863718,"reputation":9,"user_id":16243559,"display_name":"jusss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69465614,"answer_count":1,"score":0,"last_activity_date":1633522839,"creation_date":1632808836,"question_id":69356510,"body_markdown":"I am trying to create an application on quasar (cordova)\r\nhttps://quasar.dev/quasar-cli/developing-cordova-apps/publishing-to-store\r\nWhen forming a key &quot;keytool -genkey -v -keystore my-release-key.keystore -alias alias_name -keyalg RSA -keysize 2048 -validity 20000&quot;\r\nI get an error\r\n &#39;keytool&#39; is not recognized as an internal or external command, operable program or batch file.\r\n\r\nТогда я захожу в C:\\Program Files\\Java\\jdk1.8.0_291\\bin \r\nI am trying to repeat this command at this address. But after filling out the form, enter the description of the image here\r\n[![enter image description here][1]][1]\r\nerror - access denied\r\n\r\nI cannot generate via build-generate signed bundle because I am missing this line in android studio enter image description here\r\n\r\nTell me, what am I doing wrong?\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xb7fT.png\r\n  [2]: https://i.stack.imgur.com/6zLx1.png","title":"why the key for apk is not generated","body":"<p>I am trying to create an application on quasar (cordova)\n<a href=\"https://quasar.dev/quasar-cli/developing-cordova-apps/publishing-to-store\" rel=\"nofollow noreferrer\">https://quasar.dev/quasar-cli/developing-cordova-apps/publishing-to-store</a>\nWhen forming a key &quot;keytool -genkey -v -keystore my-release-key.keystore -alias alias_name -keyalg RSA -keysize 2048 -validity 20000&quot;\nI get an error\n'keytool' is not recognized as an internal or external command, operable program or batch file.</p>\n<p>Тогда я захожу в C:\\Program Files\\Java\\jdk1.8.0_291\\bin\nI am trying to repeat this command at this address. But after filling out the form, enter the description of the image here\n<a href=\"https://i.stack.imgur.com/xb7fT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xb7fT.png\" alt=\"enter image description here\" /></a>\nerror - access denied</p>\n<p>I cannot generate via build-generate signed bundle because I am missing this line in android studio enter image description here</p>\n<p>Tell me, what am I doing wrong?\n<a href=\"https://i.stack.imgur.com/6zLx1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zLx1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":3,"creation_date":1554949026,"post_id":55623512,"comment_id":97940226,"body_markdown":"Possible duplicate of [What does android:layout\\_weight mean?](https://stackoverflow.com/questions/3995825/what-does-androidlayout-weight-mean)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3995825/what-does-androidlayout-weight-mean\">What does android:layout_weight mean?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6348437,"reputation":1619,"user_id":4958351,"display_name":"AIMIN PAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554963958,"creation_date":1554952293,"answer_id":55624125,"question_id":55623512,"body_markdown":"You don&#39;t need to write code for this. Just set the `LinearLayout.weight_sum=4`, set each `Button.layout_weight=1` and `width=0dp`\r\n\r\n","title":"How to change programmatically button&#39;s width in android studio","body":"<p>You don't need to write code for this. Just set the <code>LinearLayout.weight_sum=4</code>, set each <code>Button.layout_weight=1</code> and <code>width=0dp</code></p>\n"},{"tags":[],"owner":{"account_id":8949999,"reputation":11660,"user_id":6676310,"display_name":"VIISHRUT MAVANII"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554964021,"creation_date":1554953708,"answer_id":55624320,"question_id":55623512,"body_markdown":"**Here is a Solution**\r\n\r\nSet `android:weightSum` to parent layout/view and and set `android:layout_weight` to child layout/view. **Note :** Child layouts/views must be set with width `android:layout_width` 0.\r\n\r\n    &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:weightSum=&quot;4&quot;  \r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;Button\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;","title":"How to change programmatically button&#39;s width in android studio","body":"<p><strong>Here is a Solution</strong></p>\n\n<p>Set <code>android:weightSum</code> to parent layout/view and and set <code>android:layout_weight</code> to child layout/view. <strong>Note :</strong> Child layouts/views must be set with width <code>android:layout_width</code> 0.</p>\n\n<pre><code>&lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:weightSum=\"4\"  \n        android:orientation=\"horizontal\"&gt;\n\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\" /&gt;\n\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\" /&gt;\n\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\" /&gt;\n\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\" /&gt;\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633522520,"creation_date":1554959499,"answer_id":55625160,"question_id":55623512,"body_markdown":"To change the width at runtime use the below code:\r\n\r\n    button_1=findViewById(R.id.button_1);\r\n    button_1.setLayoutParams(new LinearLayout.LayoutParams(100,100));\r\n\r\n\r\n\r\nNow, if you want to set the width of 4 buttons to 25%, you can pass the weight attribute into `LayoutParams`.\r\n\r\nThe syntax for runtime equal weight is:\r\n\r\n    LinearLayout.LayoutParams param = new LinearLayout.LayoutParams(\r\n    LinearLayout.LayoutParams.MATCH_PARENT,LinearLayout.LayoutParams.MATCH_PARENT, weight in float);\r\n    yourView.setLayoutParams(param);\r\n\r\nYou can use below code to change width of buttons at runtime:\r\n\r\n    Button button1=findViewById(R.id.button1);\r\n    Button button2=findViewById(R.id.button2);\r\n    Button button3=findViewById(R.id.button3);\r\n    Button button4=findViewById(R.id.button4);\r\n    LinearLayout.LayoutParams param = new LinearLayout.LayoutParams(\r\n    LinearLayout.LayoutParams.MATCH_PARENT,LinearLayout.LayoutParams.MATCH_PARENT,1.0f);\r\n    button1.setLayoutParams(param);\r\n    button2.setLayoutParams(param);\r\n    button3.setLayoutParams(param);\r\n    button4.setLayoutParams(param);\r\n\r\nI hope it works for you.","title":"How to change programmatically button&#39;s width in android studio","body":"<p>To change the width at runtime use the below code:</p>\n<pre><code>button_1=findViewById(R.id.button_1);\nbutton_1.setLayoutParams(new LinearLayout.LayoutParams(100,100));\n</code></pre>\n<p>Now, if you want to set the width of 4 buttons to 25%, you can pass the weight attribute into <code>LayoutParams</code>.</p>\n<p>The syntax for runtime equal weight is:</p>\n<pre><code>LinearLayout.LayoutParams param = new LinearLayout.LayoutParams(\nLinearLayout.LayoutParams.MATCH_PARENT,LinearLayout.LayoutParams.MATCH_PARENT, weight in float);\nyourView.setLayoutParams(param);\n</code></pre>\n<p>You can use below code to change width of buttons at runtime:</p>\n<pre><code>Button button1=findViewById(R.id.button1);\nButton button2=findViewById(R.id.button2);\nButton button3=findViewById(R.id.button3);\nButton button4=findViewById(R.id.button4);\nLinearLayout.LayoutParams param = new LinearLayout.LayoutParams(\nLinearLayout.LayoutParams.MATCH_PARENT,LinearLayout.LayoutParams.MATCH_PARENT,1.0f);\nbutton1.setLayoutParams(param);\nbutton2.setLayoutParams(param);\nbutton3.setLayoutParams(param);\nbutton4.setLayoutParams(param);\n</code></pre>\n<p>I hope it works for you.</p>\n"}],"owner":{"account_id":8750108,"reputation":376,"user_id":6543693,"display_name":"ZBorkala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1633522520,"creation_date":1554947056,"question_id":55623512,"body_markdown":"I have four buttons in a `LinearLayout`.\r\nI want to set the width of these `Button` as 25%.\r\nHow to do that?","title":"How to change programmatically button&#39;s width in android studio","body":"<p>I have four buttons in a <code>LinearLayout</code>.\nI want to set the width of these <code>Button</code> as 25%.\nHow to do that?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1633522126,"post_id":69465174,"comment_id":122780902,"body_markdown":"`public static &lt;T extends A&gt; T getA(Class&lt;T&gt; type) { return type.cast(new B());  }`","body":"<code>public static &lt;T extends A&gt; T getA(Class&lt;T&gt; type) { return type.cast(new B());  }</code>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633521870,"creation_date":1633521506,"answer_id":69465312,"question_id":69465174,"body_markdown":"&gt; As you can see I am saying `getA()` will return T which is a child of the &quot;A&quot; class.\r\n\r\nYes, but you&#39;re allowing the caller to say _which_ child class of `A` they want to have returned.\r\n\r\nWhat if you wrote `X x = getA();`, where `X` is a subtype of `A` but not `B`?\r\n\r\nThe only thing you can safely return from that method is `null`.\r\n\r\nIf you want to say the method will return _any_ subtype of `A`, make the return type `A`.\r\n","title":"Static method with generic return type","body":"<blockquote>\n<p>As you can see I am saying <code>getA()</code> will return T which is a child of the &quot;A&quot; class.</p>\n</blockquote>\n<p>Yes, but you're allowing the caller to say <em>which</em> child class of <code>A</code> they want to have returned.</p>\n<p>What if you wrote <code>X x = getA();</code>, where <code>X</code> is a subtype of <code>A</code> but not <code>B</code>?</p>\n<p>The only thing you can safely return from that method is <code>null</code>.</p>\n<p>If you want to say the method will return <em>any</em> subtype of <code>A</code>, make the return type <code>A</code>.</p>\n"}],"owner":{"account_id":6592902,"reputation":784,"user_id":6095204,"accept_rate":56,"display_name":"Joseph K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633522043,"accepted_answer_id":69465312,"answer_count":1,"score":0,"last_activity_date":1633522354,"creation_date":1633521029,"question_id":69465174,"body_markdown":"I am trying to define a static method which can return childs of a specific class. I am using generics for that it is not working.\r\n\r\nExample code:\r\n\r\n    public class Test {\r\n    \r\n    \tclass A {\r\n    \t}\r\n    \r\n    \tclass B extends A {\r\n    \t}\r\n    \r\n    \tpublic static &lt;T extends A&gt; T getA() {\r\n    \t\treturn new B();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tB b = getA();\r\n    \t}\r\n    }\r\n\r\nAs you can see I am saying `getA()` will return T which is a child of the &quot;A&quot; class. I return B instance there, and it is a child of A but still it is not compiling. Any idea about what am I doing wrong? Thanks in advance!\r\n\r\nEdit: And there would be multiple sub types to return from `getA()`\r\n\r\n    public class Test {\r\n    \r\n    \tclass A {\r\n    \t}\r\n    \r\n    \tclass B extends A {\r\n    \t}\r\n\r\n    \tclass C extends A {\r\n    \t}\r\n    \r\n    \tpublic static &lt;T extends A&gt; T getA(int type) {\r\n            if(type = 0) {\r\n                 return new B();\r\n            } else {\r\n                 return new C();\r\n            }\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tB b = getA(0);\r\n            C c = getA(1);\r\n    \t}\r\n    }","title":"Static method with generic return type","body":"<p>I am trying to define a static method which can return childs of a specific class. I am using generics for that it is not working.</p>\n<p>Example code:</p>\n<pre><code>public class Test {\n\n    class A {\n    }\n\n    class B extends A {\n    }\n\n    public static &lt;T extends A&gt; T getA() {\n        return new B();\n    }\n\n    public static void main(String[] args) {\n        B b = getA();\n    }\n}\n</code></pre>\n<p>As you can see I am saying <code>getA()</code> will return T which is a child of the &quot;A&quot; class. I return B instance there, and it is a child of A but still it is not compiling. Any idea about what am I doing wrong? Thanks in advance!</p>\n<p>Edit: And there would be multiple sub types to return from <code>getA()</code></p>\n<pre><code>public class Test {\n\n    class A {\n    }\n\n    class B extends A {\n    }\n\n    class C extends A {\n    }\n\n    public static &lt;T extends A&gt; T getA(int type) {\n        if(type = 0) {\n             return new B();\n        } else {\n             return new C();\n        }\n    }\n\n    public static void main(String[] args) {\n        B b = getA(0);\n        C c = getA(1);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1633585792,"post_id":69465455,"comment_id":122799717,"body_markdown":"Can you share a reproducible example? There&#39;s probably an issue with the way you&#39;ve written the code.","body":"Can you share a reproducible example? There&#39;s probably an issue with the way you&#39;ve written the code."}],"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633522116,"creation_date":1633522116,"question_id":69465455,"body_markdown":"**Hi Team,**\r\n\r\nI have configured SpringDoc OpenAPI Swagger in one of my Spring Boot projects.\r\n\r\nThe Swagger-UI opens up fine, however, whenever I click to preview the models (request and response structure) on any of the endpoints displayed on Swagger UI, I get errors like could not resolve reference to components (screenshot added below for reference.)\r\n\r\nI rechecked the api-docs for Swagger (/v3/api-docs), all the component schemas were properly generated and were present in the docs.\r\n\r\n[![Swagger Components - Unable to Resolve Reference Error][1]][1]\r\n\r\n\r\nAlso, when I performed the above click operation on Swagger UI, multiple errors were displayed in the application stack trace like &quot;Conflicting setter definitions...&quot; that are related to Jackson. However, the conflicting beans are not defined anywhere by me in the project so probably these are getting instantiated internally through some other libraries but I am not sure which exact library is causing these conflicts for SpringDoc. (Screenshot added below for reference.)\r\n\r\n[![Jackson - Conflicting Setter Definition Error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XDP9q.png\r\n  [2]: https://i.stack.imgur.com/BViJc.png\r\n\r\nI have cleaned up the project, removed duplicated/conflicting dependencies, tried every possible solution, but still, this error persists.\r\n\r\nBelow are the details of dependency versions which I am using for Spring Boot and Spring Doc.\r\n\r\nSpring Boot: Version 2.5.5\r\n\r\nSpringDoc OpenAPI UI: Version 1.5.11\r\n\r\nCan anyone suggest any solution to this issue? It would be really helpful.","title":"SpringDoc: Unable to preview Request &amp; Response Beans (Models) on Swagger UI","body":"<p><strong>Hi Team,</strong></p>\n<p>I have configured SpringDoc OpenAPI Swagger in one of my Spring Boot projects.</p>\n<p>The Swagger-UI opens up fine, however, whenever I click to preview the models (request and response structure) on any of the endpoints displayed on Swagger UI, I get errors like could not resolve reference to components (screenshot added below for reference.)</p>\n<p>I rechecked the api-docs for Swagger (/v3/api-docs), all the component schemas were properly generated and were present in the docs.</p>\n<p><a href=\"https://i.stack.imgur.com/XDP9q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDP9q.png\" alt=\"Swagger Components - Unable to Resolve Reference Error\" /></a></p>\n<p>Also, when I performed the above click operation on Swagger UI, multiple errors were displayed in the application stack trace like &quot;Conflicting setter definitions...&quot; that are related to Jackson. However, the conflicting beans are not defined anywhere by me in the project so probably these are getting instantiated internally through some other libraries but I am not sure which exact library is causing these conflicts for SpringDoc. (Screenshot added below for reference.)</p>\n<p><a href=\"https://i.stack.imgur.com/BViJc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BViJc.png\" alt=\"Jackson - Conflicting Setter Definition Error\" /></a></p>\n<p>I have cleaned up the project, removed duplicated/conflicting dependencies, tried every possible solution, but still, this error persists.</p>\n<p>Below are the details of dependency versions which I am using for Spring Boot and Spring Doc.</p>\n<p>Spring Boot: Version 2.5.5</p>\n<p>SpringDoc OpenAPI UI: Version 1.5.11</p>\n<p>Can anyone suggest any solution to this issue? It would be really helpful.</p>\n"},{"tags":["java","jms","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633522065,"creation_date":1633521612,"answer_id":69465337,"question_id":69446810,"body_markdown":"If your system is distributed, and I presume it is, it&#39;s very hard to solve this problem without some kind of global latch lock like the one you have implemented. The main thing to notice is that &quot;tasks&quot; have to signal within &quot;global storage&quot; that they are over. Your app is essentially creating a new countdown latch lock instance (identified by CorrelationID) each time a new request comes by inserting a row in a db. Your tasks are &quot;signaling&quot; the end of jobs by counting that latch down. The job which ends holding a lock has to clean the row.\r\n\r\nNow global storage doesn&#39;t have to be a database, but it still has to be some kind of global access state. And you have to keep on counting. And if only thing you have is a JMS you have to create latch and count down by sending messages.\r\n\r\nThe simplest solution which comes to a mind is by having each job sends a *TASK_ENDED* message to a *JOBS_FINISHED* queue. *TASK_ENDED* message stands for: &quot;task X triggered by request Y with CorrelationID Z has ended&quot; signal. Just as counting down in db. Recipient of this q is a special task whose only job is to trigger *COMPLETED* messages when all messages are received for a request with given correlation id. So this jobs is just reading messages sequentially. And counts each unique correlation id which it encounters. Once it has counted to an expected number it should clear that counter and send *COMPLETED* message.\r\n\r\nYou can encode number of triggered tasks and any other specifics within JMS header of messages created when processing request. For example:\r\n\r\n    // pretend this request handling triggers 10 tasks\r\n    // here we are creating first of ten START TASK messages\r\n\r\n    TextMessage msg1 = session.createTextMessage(&quot;Start a first task&quot;);\r\n    msg1.setJMSCorrelationID(request.id);\r\n    msg1.setIntProperty(&quot;TASK_NUM&quot;, 1);\r\n    msg1.setIntProperty(&quot;TOTAL_TASK_COUNT&quot;, 10); \r\n\r\nAnd than you just pass that info to a *TASK_ENDED* messages all the way to a final job. You have to make sure that all messages sent to an ending job are received to same instance of a job.\r\n\r\nYou could go from here by expanding idea with publish subscribe messaging, and error handling and temporary queues and stuff like that, but that is becoming very specific of you needs so I&#39;ll end here.\r\n","title":"Sending a message after several other messages have completed without utilizing an external store?","body":"<p>If your system is distributed, and I presume it is, it's very hard to solve this problem without some kind of global latch lock like the one you have implemented. The main thing to notice is that &quot;tasks&quot; have to signal within &quot;global storage&quot; that they are over. Your app is essentially creating a new countdown latch lock instance (identified by CorrelationID) each time a new request comes by inserting a row in a db. Your tasks are &quot;signaling&quot; the end of jobs by counting that latch down. The job which ends holding a lock has to clean the row.</p>\n<p>Now global storage doesn't have to be a database, but it still has to be some kind of global access state. And you have to keep on counting. And if only thing you have is a JMS you have to create latch and count down by sending messages.</p>\n<p>The simplest solution which comes to a mind is by having each job sends a <em>TASK_ENDED</em> message to a <em>JOBS_FINISHED</em> queue. <em>TASK_ENDED</em> message stands for: &quot;task X triggered by request Y with CorrelationID Z has ended&quot; signal. Just as counting down in db. Recipient of this q is a special task whose only job is to trigger <em>COMPLETED</em> messages when all messages are received for a request with given correlation id. So this jobs is just reading messages sequentially. And counts each unique correlation id which it encounters. Once it has counted to an expected number it should clear that counter and send <em>COMPLETED</em> message.</p>\n<p>You can encode number of triggered tasks and any other specifics within JMS header of messages created when processing request. For example:</p>\n<pre><code>// pretend this request handling triggers 10 tasks\n// here we are creating first of ten START TASK messages\n\nTextMessage msg1 = session.createTextMessage(&quot;Start a first task&quot;);\nmsg1.setJMSCorrelationID(request.id);\nmsg1.setIntProperty(&quot;TASK_NUM&quot;, 1);\nmsg1.setIntProperty(&quot;TOTAL_TASK_COUNT&quot;, 10); \n</code></pre>\n<p>And than you just pass that info to a <em>TASK_ENDED</em> messages all the way to a final job. You have to make sure that all messages sent to an ending job are received to same instance of a job.</p>\n<p>You could go from here by expanding idea with publish subscribe messaging, and error handling and temporary queues and stuff like that, but that is becoming very specific of you needs so I'll end here.</p>\n"}],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633522065,"creation_date":1633420961,"question_id":69446810,"body_markdown":"I have an application which should use JMS to queue several long running tasks asynchronously in response to a specific request. Some of these tasks might complete within seconds while others might take a longer time to complete. The original request should already complete after all the tasks have been started (i.e. the message to start the task has been queued) - i.e. I don&#39;t want to block the request while the tasks are being executed.\r\n\r\nNow, however, I would like to execute another action per request once all of the messages have been processed successfully. For this, I would like to send another message to another queue - but only after all messages have been processed.\r\n\r\nSo what I am doing is a bit similar to a reply-response pattern, but not exactly: The responses of multiple messages (which were queued in the same transaction) should be aggregated and processed in a single transaction once they are all available. Also, I don&#39;t want to &quot;block&quot; the transaction enqueuing the messages by waiting for replies.\r\n\r\nMy first, naive approach would be the following:\r\n\r\nWhen a requests comes in:\r\n\r\n 1. Queue n messages for each of the n actions to be performed. Give them all the same correlation id.\r\n 2. Store n (i.e. the number of messages sent) in a database along with the correlation id of the messages.\r\n 3. Complete the request successfully\r\n\r\nEach of the workers would do the following:\r\n\r\n1. Receive a message from the queue\r\n2. Do the work that needs to be done to handle the message\r\n3. Decrement the counter stored in the database based on the correlation id.\r\n4. If the counter has reached zero: Send a &quot;COMPLETED&quot; message to the completed-queue\r\n\r\nHowever, I am wondering if there is an alternative solution which doesn&#39;t require a database (or any other kind of external store) to keep track whether all messages have already been processed or not. \r\n\r\nDoes JMS provide some functionality which would help me with this?  \r\nOr do I really have to use the database in this case? ","title":"Sending a message after several other messages have completed without utilizing an external store?","body":"<p>I have an application which should use JMS to queue several long running tasks asynchronously in response to a specific request. Some of these tasks might complete within seconds while others might take a longer time to complete. The original request should already complete after all the tasks have been started (i.e. the message to start the task has been queued) - i.e. I don't want to block the request while the tasks are being executed.</p>\n<p>Now, however, I would like to execute another action per request once all of the messages have been processed successfully. For this, I would like to send another message to another queue - but only after all messages have been processed.</p>\n<p>So what I am doing is a bit similar to a reply-response pattern, but not exactly: The responses of multiple messages (which were queued in the same transaction) should be aggregated and processed in a single transaction once they are all available. Also, I don't want to &quot;block&quot; the transaction enqueuing the messages by waiting for replies.</p>\n<p>My first, naive approach would be the following:</p>\n<p>When a requests comes in:</p>\n<ol>\n<li>Queue n messages for each of the n actions to be performed. Give them all the same correlation id.</li>\n<li>Store n (i.e. the number of messages sent) in a database along with the correlation id of the messages.</li>\n<li>Complete the request successfully</li>\n</ol>\n<p>Each of the workers would do the following:</p>\n<ol>\n<li>Receive a message from the queue</li>\n<li>Do the work that needs to be done to handle the message</li>\n<li>Decrement the counter stored in the database based on the correlation id.</li>\n<li>If the counter has reached zero: Send a &quot;COMPLETED&quot; message to the completed-queue</li>\n</ol>\n<p>However, I am wondering if there is an alternative solution which doesn't require a database (or any other kind of external store) to keep track whether all messages have already been processed or not.</p>\n<p>Does JMS provide some functionality which would help me with this?<br />\nOr do I really have to use the database in this case?</p>\n"},{"tags":["java","swing","alignment","jmenu"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1633452383,"post_id":69454055,"comment_id":122761663,"body_markdown":"How to reproduce the problem? Is it resolution-dependent?  LAF dependent? OS?","body":"How to reproduce the problem? Is it resolution-dependent?  LAF dependent? OS?"},{"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"score":0,"creation_date":1633453134,"post_id":69454055,"comment_id":122761939,"body_markdown":"Laptop has JDK1.8.0_251 on which layout is going off but I am NOT able to reproduce on other laptop.","body":"Laptop has JDK1.8.0_251 on which layout is going off but I am NOT able to reproduce on other laptop."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1633453195,"post_id":69454055,"comment_id":122761966,"body_markdown":"The JMenuBar is added to the JFrame, not the JToolBar.  Move the setDefaultCloseOperation method call above the pack method call.","body":"The JMenuBar is added to the JFrame, not the JToolBar.  Move the setDefaultCloseOperation method call above the pack method call."},{"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"score":0,"creation_date":1633453674,"post_id":69454055,"comment_id":122762148,"body_markdown":"No Gilbert, check code - tb.add (mb).  Also, I tried by moving pack method but result remain same.","body":"No Gilbert, check code - tb.add (mb).  Also, I tried by moving pack method but result remain same."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1633454735,"post_id":69454055,"comment_id":122762540,"body_markdown":"When @GilbertLeBlanc wrote *&quot;The JMenuBar is added to the JFrame&quot;* he meant the menubar *should* be added to the frame. Use [`JFrame.setJMenuBar(JMenuBar)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JFrame.html#setJMenuBar(javax.swing.JMenuBar)) to do that.","body":"When @GilbertLeBlanc wrote <i>&quot;The JMenuBar is added to the JFrame&quot;</i> he meant the menubar <i>should</i> be added to the frame. Use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JFrame.html#setJMenuBar(javax.swing.JMenuBar)\" rel=\"nofollow noreferrer\"><code>JFrame.setJMenuBar(JMenuBar)</code></a> to do that."},{"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"score":0,"creation_date":1633508464,"post_id":69454055,"comment_id":122775254,"body_markdown":"Hi Andrew - I tested it but by adding menu bar to frame shifts menu to the top bar.  My requirement is to put menu in toolbar.","body":"Hi Andrew - I tested it but by adding menu bar to frame shifts menu to the top bar.  My requirement is to put menu in toolbar."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1633508562,"post_id":69454055,"comment_id":122775282,"body_markdown":"If you put components in places they&#39;re not designed to go, expect the unexpected. &#129335;","body":"If you put components in places they&#39;re not designed to go, expect the unexpected. 🤷"},{"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"score":0,"creation_date":1633508745,"post_id":69454055,"comment_id":122775353,"body_markdown":"But Pal - how this is working in other laptop ? Could this be java minor version diff ?  Check first image","body":"But Pal - how this is working in other laptop ? Could this be java minor version diff ?  Check first image"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1633508920,"post_id":69454055,"comment_id":122775417,"body_markdown":"*&quot;how this is working in other laptop ?&quot;* Do you understand what &#39;unexpected&#39; means and implies? *&quot;But Pal&quot;* NVM - I thought you might be talking to me.","body":"<i>&quot;how this is working in other laptop ?&quot;</i> Do you understand what &#39;unexpected&#39; means and implies? <i>&quot;But Pal&quot;</i> NVM - I thought you might be talking to me."},{"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"score":0,"creation_date":1633509050,"post_id":69454055,"comment_id":122775473,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/237867/discussion-between-shailu-and-andrew-thompson).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/237867/discussion-between-shailu-and-andrew-thompson\">continue this discussion in chat</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1633509102,"post_id":69454055,"comment_id":122775491,"body_markdown":"No. For chats I use FB. I also hate FB and rarely open it.","body":"No. For chats I use FB. I also hate FB and rarely open it."},{"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"score":0,"creation_date":1633509252,"post_id":69454055,"comment_id":122775539,"body_markdown":"No problem - Yeah I referred you as Pal.  Today I checked in 3rd laptop where it is working fine.  So 2 are showing UI correctly.","body":"No problem - Yeah I referred you as Pal.  Today I checked in 3rd laptop where it is working fine.  So 2 are showing UI correctly."}],"answers":[{"tags":[],"owner":{"account_id":1990547,"reputation":101,"user_id":5635002,"display_name":"Not Avail"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633521936,"creation_date":1633521936,"answer_id":69465409,"question_id":69454055,"body_markdown":"Default layout to JToolbar is BoxLayout.  In case of JMenu as one of item in JToolbar this goes off due to BoxLayout.  \r\nYou need to manually set layout and manage margins which will solve your problem.\r\nI add below line to your code and it worked but put some margins between buttons.\r\n\r\n    tb.setLayout (new FlowLayout());\r\n\r\nYou can read more about JToolbar [here][1] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JToolBar.html","title":"Java swing menu control not align","body":"<p>Default layout to JToolbar is BoxLayout.  In case of JMenu as one of item in JToolbar this goes off due to BoxLayout.<br />\nYou need to manually set layout and manage margins which will solve your problem.\nI add below line to your code and it worked but put some margins between buttons.</p>\n<pre><code>tb.setLayout (new FlowLayout());\n</code></pre>\n<p>You can read more about JToolbar <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JToolBar.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69465409,"answer_count":1,"score":1,"last_activity_date":1633521936,"creation_date":1633450887,"question_id":69454055,"body_markdown":"I created a swing application which looks fine on 2 laptops with JDK8 but on 3rd laptop, all menu controls going little down. I am attaching image.&lt;br&gt;\r\nI created maven structure where below java file and pom is present.  Only these two files. Run either using maven or main method.\r\n\r\n[![Correct and Problem image][1]][1]\r\n\r\n**Java Code**\r\n\r\n    package com.sv.test;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Test extends JFrame {\r\n        public Test() {\r\n            JMenuBar mb = new JMenuBar();\r\n            JMenu m = new JMenu(&quot;*&quot;);\r\n            mb.add(m);\r\n    \r\n            JToolBar tb = new JToolBar();\r\n            tb.setFloatable(false);\r\n            tb.setRollover(false);\r\n            tb.add(new JTextField(15));\r\n            tb.add(new JTextField(15));\r\n            tb.add(mb);\r\n            JButton exit = new JButton(&quot;Exit&quot;);\r\n            exit.addActionListener(e -&gt; System.exit(0));\r\n            tb.add(exit);\r\n            tb.setBackground(Color.orange);\r\n    \r\n            getContentPane().add(tb);\r\n    \r\n            pack();\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);\r\n    \r\n            setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.sv&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Test&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Command to compile**\r\n\r\n    mvn install\r\n\r\n**Command to run**\r\n\r\n    mvn exec:java -D&quot;exec.mainClass&quot;=&quot;com.sv.test.Test&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ub9J.png","title":"Java swing menu control not align","body":"<p>I created a swing application which looks fine on 2 laptops with JDK8 but on 3rd laptop, all menu controls going little down. I am attaching image.<br>\nI created maven structure where below java file and pom is present.  Only these two files. Run either using maven or main method.</p>\n<p><a href=\"https://i.stack.imgur.com/4ub9J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ub9J.png\" alt=\"Correct and Problem image\" /></a></p>\n<p><strong>Java Code</strong></p>\n<pre><code>package com.sv.test;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Test extends JFrame {\n    public Test() {\n        JMenuBar mb = new JMenuBar();\n        JMenu m = new JMenu(&quot;*&quot;);\n        mb.add(m);\n\n        JToolBar tb = new JToolBar();\n        tb.setFloatable(false);\n        tb.setRollover(false);\n        tb.add(new JTextField(15));\n        tb.add(new JTextField(15));\n        tb.add(mb);\n        JButton exit = new JButton(&quot;Exit&quot;);\n        exit.addActionListener(e -&gt; System.exit(0));\n        tb.add(exit);\n        tb.setBackground(Color.orange);\n\n        getContentPane().add(tb);\n\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        new Test();\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.sv&lt;/groupId&gt;\n    &lt;artifactId&gt;Test&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Command to compile</strong></p>\n<pre><code>mvn install\n</code></pre>\n<p><strong>Command to run</strong></p>\n<pre><code>mvn exec:java -D&quot;exec.mainClass&quot;=&quot;com.sv.test.Test&quot;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1633520937,"post_id":69464995,"comment_id":122780413,"body_markdown":"You can call the statics from `Pattern`, like: `Pattern.DOTALL` or if you want to combine them: `Pattern.DOTALL | CASE_INSENSITIVE`","body":"You can call the statics from <code>Pattern</code>, like: <code>Pattern.DOTALL</code> or if you want to combine them: <code>Pattern.DOTALL | CASE_INSENSITIVE</code>"}],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633520655,"creation_date":1633520655,"answer_id":69465096,"question_id":69464995,"body_markdown":"5 is a combination of 1 (UNIX_LINES) and 4 (COMMENTS), the full list of the constants can be found [here][1].\r\n\r\n    java.util.regex.Pattern\r\n    Modifier and Type\tConstant Field\tValue\r\n    public static final int\tCANON_EQ\t128\r\n    public static final int\tCASE_INSENSITIVE\t2\r\n    public static final int\tCOMMENTS\t4\r\n    public static final int\tDOTALL\t32\r\n    public static final int\tLITERAL\t16\r\n    public static final int\tMULTILINE\t8\r\n    public static final int\tUNICODE_CASE\t64\r\n    public static final int\tUNICODE_CHARACTER_CLASS\t256\r\n    public static final int\tUNIX_LINES\t1\r\n\r\nNever specify flags like that, instead do\r\n\r\n    Pattern pattern = Pattern.compile(&quot;M+&quot;, UNIX_LINES | COMMENTS);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/constant-values.html#java.util.regex.Pattern.CANON_EQ","title":"Pattern compile(String regex, int flags) flags for what?","body":"<p>5 is a combination of 1 (UNIX_LINES) and 4 (COMMENTS), the full list of the constants can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/constant-values.html#java.util.regex.Pattern.CANON_EQ\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>java.util.regex.Pattern\nModifier and Type   Constant Field  Value\npublic static final int CANON_EQ    128\npublic static final int CASE_INSENSITIVE    2\npublic static final int COMMENTS    4\npublic static final int DOTALL  32\npublic static final int LITERAL 16\npublic static final int MULTILINE   8\npublic static final int UNICODE_CASE    64\npublic static final int UNICODE_CHARACTER_CLASS 256\npublic static final int UNIX_LINES  1\n</code></pre>\n<p>Never specify flags like that, instead do</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;M+&quot;, UNIX_LINES | COMMENTS);\n</code></pre>\n"}],"owner":{"account_id":15683093,"reputation":3,"user_id":17080750,"display_name":"user17080750"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69465096,"answer_count":1,"score":0,"last_activity_date":1633521488,"creation_date":1633520252,"question_id":69464995,"body_markdown":"I am a little bit confused with this code below:\r\n\r\n\r\n    public class RegularEx {\r\n        public static void main(String... arg) {\r\n            Pattern pattern = Pattern.compile(&quot;M+&quot;, 5);\r\n            Matcher matcher = pattern.matcher(&quot;M Merit Match MM m mM&quot;);\r\n            while (matcher.find())\r\n                System.out.print(matcher.group() + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nin this part  `Pattern.compile(&quot;M+&quot;, 5);`\r\n\r\nAccording to &lt;https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#compile-java.lang.String-int-&gt; the number should represent flags that may include CASE_INSENSITIVE, MULTILINE, DOTALL, UNICODE_CASE, CANON_EQ, UNIX_LINES, LITERAL, UNICODE_CHARACTER_CLASS and COMMENTS\r\n\r\namount them , 5 should represent what?\r\n\r\nSource:\r\nhttps://java.meritcampus.com/core-java-questions/Regular-Expression?t=195","title":"Pattern compile(String regex, int flags) flags for what?","body":"<p>I am a little bit confused with this code below:</p>\n<pre><code>public class RegularEx {\n    public static void main(String... arg) {\n        Pattern pattern = Pattern.compile(&quot;M+&quot;, 5);\n        Matcher matcher = pattern.matcher(&quot;M Merit Match MM m mM&quot;);\n        while (matcher.find())\n            System.out.print(matcher.group() + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>in this part  <code>Pattern.compile(&quot;M+&quot;, 5);</code></p>\n<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#compile-java.lang.String-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#compile-java.lang.String-int-</a> the number should represent flags that may include CASE_INSENSITIVE, MULTILINE, DOTALL, UNICODE_CASE, CANON_EQ, UNIX_LINES, LITERAL, UNICODE_CHARACTER_CLASS and COMMENTS</p>\n<p>amount them , 5 should represent what?</p>\n<p>Source:\n<a href=\"https://java.meritcampus.com/core-java-questions/Regular-Expression?t=195\" rel=\"nofollow noreferrer\">https://java.meritcampus.com/core-java-questions/Regular-Expression?t=195</a></p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":4443559,"reputation":816,"user_id":3617511,"display_name":"msucil"},"score":0,"creation_date":1633433522,"post_id":69447439,"comment_id":122753255,"body_markdown":"You should first check the table `qrtz_job_details` table in order to find wether the quartz job entry is being persisted in database or not. it will help you in identifying wether the job is being configured properly or not. if there is an entry then look for associated trigger table `qrtz_corn_triggers`","body":"You should first check the table <code>qrtz_job_details</code> table in order to find wether the quartz job entry is being persisted in database or not. it will help you in identifying wether the job is being configured properly or not. if there is an entry then look for associated trigger table <code>qrtz_corn_triggers</code>"},{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1633520770,"post_id":69447439,"comment_id":122780344,"body_markdown":"@msucil The tables do get updated with details on application startup. Should I convert the `echo` job to a quartz job in order to make it part of the same quartz thread pool? Maybe I don&#39;t fully understand how it works. Also, should I be cleaning up the quartz tables on each startup? The application now starts up with logs that says `Scheduler started` but then no further activity can be seen in the log. Please guide","body":"@msucil The tables do get updated with details on application startup. Should I convert the <code>echo</code> job to a quartz job in order to make it part of the same quartz thread pool? Maybe I don&#39;t fully understand how it works. Also, should I be cleaning up the quartz tables on each startup? The application now starts up with logs that says <code>Scheduler started</code> but then no further activity can be seen in the log. Please guide"}],"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633520909,"creation_date":1633423810,"question_id":69447439,"body_markdown":"I have managed to configure two jobs in my Spring Boot app as below. \r\n\r\n1. Echo job scheduled for every 3 minutes.\r\n\r\n```\r\n@Service\r\npublic class TransactServiceImpl {\r\n\r\n@Scheduled(fixedRateString = &quot;${interval}&quot;)\r\n  @Override\r\n  public void echo() { /* implementation ommitted*/\r\n  }\r\n}\r\n```\r\nIn the logs, I see `&quot;logger&quot;:&quot;com.pip.service.impl.TransactServiceImpl&quot;, &quot;msg&quot;:&quot;Echo&quot;, &quot;thread&quot;:&quot;scheduling-1&quot;` and this keeps coming every 3 mintues. \r\n\r\n2. I have also configured a Quartz job scheduled every minute which works fine only when I comment out the `//@Scheduled` of the `echo` job. When I run it both together, only the echo job gets triggered. I believe this is because of the thread that&#39;s supposed to execute Quartz job is getting blocked somehow or something to do with ThreadPool, I suppose.  The quartz job is supposed to run only once at night, but I kept it as 1 minute for testing purposes. I need to get these jobs working together asynchronously. Here are my quartz configurations.\r\n\r\n```\r\n@Configuration\r\n@EnableAsync\r\n@EnableScheduling\r\npublic class SchedulerJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\r\n\r\n  private AutowireCapableBeanFactory beanFactory;\r\n\r\n  @Override\r\n  public void setApplicationContext(final ApplicationContext context) {\r\n    beanFactory = context.getAutowireCapableBeanFactory();\r\n  }\r\n\r\n  @Override\r\n  protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\r\n    final Object job = super.createJobInstance(bundle);\r\n    beanFactory.autowireBean(job);\r\n    return job;\r\n  }\r\n}\r\n```\r\n\r\nShedulerConfig\r\n```\r\n@Configuration\r\npublic class SchedulerConfig {\r\n\r\n  @Autowired\r\n  private DataSource dataSource;\r\n\r\n  @Autowired\r\n  private ApplicationContext applicationContext;\r\n\r\n  @Autowired\r\n  private QuartzProperties quartzProperties;\r\n\r\n  @Bean\r\n  public SchedulerFactoryBean schedulerFactoryBean() {\r\n\r\n    SchedulerJobFactory jobFactory = new SchedulerJobFactory();\r\n    jobFactory.setApplicationContext(applicationContext);\r\n\r\n    Properties properties = new Properties();\r\n    properties.putAll(quartzProperties.getProperties());\r\n\r\n    SchedulerFactoryBean factory = new SchedulerFactoryBean();\r\n    factory.setOverwriteExistingJobs(true);\r\n    factory.setDataSource(dataSource);\r\n    factory.setQuartzProperties(properties);\r\n    factory.setJobFactory(jobFactory);\r\n    factory.setTriggers(repoTriggerConfig().getObject());\r\n    return factory;\r\n  }\r\n\r\n  @Bean\r\n  public JobDetailFactoryBean repoJobConfig() {\r\n    JobDetailFactoryBean jobDetailFactory = new JobDetailFactoryBean();\r\n    jobDetailFactory.setJobClass(RepoJob.class);\r\n    jobDetailFactory.setDurability(true);\r\n    jobDetailFactory.setGroup(&quot;pip-scheduler-group&quot;);\r\n    return jobDetailFactory;\r\n  }\r\n\r\n  @Bean\r\n  public CronTriggerFactoryBean repoTriggerConfig() {\r\n    CronTriggerFactoryBean cronTriggerFactoryBean = new CronTriggerFactoryBean();\r\n    cronTriggerFactoryBean.setJobDetail(repoJobConfig().getObject());\r\n    cronTriggerFactoryBean.setCronExpression(&quot;0 0/1 0 ? * * *&quot;);\r\n    cronTriggerFactoryBean.setGroup(&quot;pip-scheduler-group&quot;);\r\n    return cronTriggerFactoryBean;\r\n  }\r\n}\r\n```\r\nRepoJob\r\n```\r\n@Slf4j\r\npublic class RepoJob implements Job {\r\n\r\n  @Autowired RepoService repoService;\r\n\r\n  @Autowired RepoUtil repoUtil;\r\n\r\n  @Override public void execute(JobExecutionContext jobExecutionContext)\r\n      throws JobExecutionException {\r\n\r\n    boolean success = repoService.createFile();\r\n\r\n    if (success) {\r\n      try {\r\n        boolean isSuccess = repoUtil.sendInfo();\r\n        if (isSuccess) {\r\n          log.info(&quot;Info sent success&quot;);\r\n        }\r\n\r\n      } catch (Exception ex) {\r\n        log.error(ex);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nquartz properties from application.yml\r\n```\r\n  quartz:\r\n    properties:\r\n      org.quartz.jobStore.isClustered: true\r\n      org.quartz.scheduler.instanceId: AUTO\r\n      org.quartz.jobStore.driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n      org.quartz.scheduler.instanceName: pip-clustered-scheduler\r\n      org.quartz.jobStore.class: org.quartz.impl.jdbcjobstore.JobStoreTX\r\n      org.quartz.jobStore.useProperties: true\r\n      org.quartz.jobStore.misfireThreshold: 60000\r\n      org.quartz.jobStore.tablePrefix: qrtz_\r\n      org.quartz.plugin.shutdownHook.class: org.quartz.plugins.management.ShutdownHookPlugin\r\n      org.quartz.plugin.shutdownHook.cleanShutdown: TRUE\r\n  jdbc:\r\n      initialize-schema: never\r\n    job-store-type: jdbc\r\n\r\n```\r\nUses the same database schema for application &amp; quartz tables. I am not sure if there is anything wrong in the way quartz is configured.\r\n\r\nCould anyone please guide me here. This is my first time using Quartz. Thank you.\r\n\r\nStart up log:\r\n```\r\n \r\n\r\n INFO [StartupInfoLogger.java:55] Thread:[main] Starting PipDvsApplication using Java 11.0.11 on B720L with PID 22720 (D:\\Projects\\pip-dvs-app\\target\\classes started by U55097 in D:\\Projects\\pip-dvs-app)\r\n INFO [SpringApplication.java:663] Thread:[main] The following profiles are active: dev\r\n INFO [DirectJDKLog.java:173] Thread:[main] Initializing ProtocolHandler [&quot;http-nio-9090&quot;]\r\n INFO [DirectJDKLog.java:173] Thread:[main] Starting service [Tomcat]\r\n INFO [DirectJDKLog.java:173] Thread:[main] Starting Servlet engine: [Apache Tomcat/9.0.50]\r\n INFO [DirectJDKLog.java:173] Thread:[main] Initializing Spring embedded WebApplicationContext\r\n INFO [HikariDataSource.java:110] Thread:[main] HikariPool-1 - Starting...\r\n INFO [HikariDataSource.java:123] Thread:[main] HikariPool-1 - Start completed.\r\n INFO [IsoClient.java:77] Thread:[main] Connected with host:216.76.27.250 , post:20500, status:false\r\n INFO [StdSchedulerFactory.java:1220] Thread:[main] Using default implementation for ThreadExecutor\r\n INFO [SchedulerSignalerImpl.java:61] Thread:[main] Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n INFO [QuartzScheduler.java:229] Thread:[main] Quartz Scheduler v.2.3.2 created.\r\n INFO [ShutdownHookPlugin.java:120] Thread:[main] Registering Quartz shutdown hook.\r\n INFO [QuartzScheduler.java:294] Thread:[main] Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;pip-dvs-clustered-scheduler&#39; with instanceId &#39;B720L1633520106597&#39;\r\n  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 20 threads.\r\n  Using job-store &#39;org.springframework.scheduling.quartz.LocalDataSourceJobStore&#39; - which supports persistence. and is clustered.\r\n\r\n INFO [StdSchedulerFactory.java:1374] Thread:[main] Quartz scheduler &#39;pip-dvs-clustered-scheduler&#39; initialized from an externally provided properties instance.\r\n INFO [StdSchedulerFactory.java:1378] Thread:[main] Quartz scheduler version: 2.3.2\r\n INFO [QuartzScheduler.java:2293] Thread:[main] JobFactory set to: com.pip.job.SchedulerJobFactory@b3c7c75\r\n INFO [DirectJDKLog.java:173] Thread:[main] Starting ProtocolHandler [&quot;http-nio-9090&quot;]\r\n INFO [QuartzScheduler.java:547] Thread:[main] Scheduler pip-dvs-clustered-scheduler_$_B720L1633520106597 started.\r\n INFO [StartupInfoLogger.java:61] Thread:[main] Started PipDvsApplication in 58.08 seconds (JVM running for 60.088)\r\n INFO [DirectJDKLog.java:173] Thread:[RMI TCP Connection(2)-192.168.29.216] Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n","title":"@Scheduled job blocking Quartz job","body":"<p>I have managed to configure two jobs in my Spring Boot app as below.</p>\n<ol>\n<li>Echo job scheduled for every 3 minutes.</li>\n</ol>\n<pre><code>@Service\npublic class TransactServiceImpl {\n\n@Scheduled(fixedRateString = &quot;${interval}&quot;)\n  @Override\n  public void echo() { /* implementation ommitted*/\n  }\n}\n</code></pre>\n<p>In the logs, I see <code>&quot;logger&quot;:&quot;com.pip.service.impl.TransactServiceImpl&quot;, &quot;msg&quot;:&quot;Echo&quot;, &quot;thread&quot;:&quot;scheduling-1&quot;</code> and this keeps coming every 3 mintues.</p>\n<ol start=\"2\">\n<li>I have also configured a Quartz job scheduled every minute which works fine only when I comment out the <code>//@Scheduled</code> of the <code>echo</code> job. When I run it both together, only the echo job gets triggered. I believe this is because of the thread that's supposed to execute Quartz job is getting blocked somehow or something to do with ThreadPool, I suppose.  The quartz job is supposed to run only once at night, but I kept it as 1 minute for testing purposes. I need to get these jobs working together asynchronously. Here are my quartz configurations.</li>\n</ol>\n<pre><code>@Configuration\n@EnableAsync\n@EnableScheduling\npublic class SchedulerJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\n\n  private AutowireCapableBeanFactory beanFactory;\n\n  @Override\n  public void setApplicationContext(final ApplicationContext context) {\n    beanFactory = context.getAutowireCapableBeanFactory();\n  }\n\n  @Override\n  protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\n    final Object job = super.createJobInstance(bundle);\n    beanFactory.autowireBean(job);\n    return job;\n  }\n}\n</code></pre>\n<p>ShedulerConfig</p>\n<pre><code>@Configuration\npublic class SchedulerConfig {\n\n  @Autowired\n  private DataSource dataSource;\n\n  @Autowired\n  private ApplicationContext applicationContext;\n\n  @Autowired\n  private QuartzProperties quartzProperties;\n\n  @Bean\n  public SchedulerFactoryBean schedulerFactoryBean() {\n\n    SchedulerJobFactory jobFactory = new SchedulerJobFactory();\n    jobFactory.setApplicationContext(applicationContext);\n\n    Properties properties = new Properties();\n    properties.putAll(quartzProperties.getProperties());\n\n    SchedulerFactoryBean factory = new SchedulerFactoryBean();\n    factory.setOverwriteExistingJobs(true);\n    factory.setDataSource(dataSource);\n    factory.setQuartzProperties(properties);\n    factory.setJobFactory(jobFactory);\n    factory.setTriggers(repoTriggerConfig().getObject());\n    return factory;\n  }\n\n  @Bean\n  public JobDetailFactoryBean repoJobConfig() {\n    JobDetailFactoryBean jobDetailFactory = new JobDetailFactoryBean();\n    jobDetailFactory.setJobClass(RepoJob.class);\n    jobDetailFactory.setDurability(true);\n    jobDetailFactory.setGroup(&quot;pip-scheduler-group&quot;);\n    return jobDetailFactory;\n  }\n\n  @Bean\n  public CronTriggerFactoryBean repoTriggerConfig() {\n    CronTriggerFactoryBean cronTriggerFactoryBean = new CronTriggerFactoryBean();\n    cronTriggerFactoryBean.setJobDetail(repoJobConfig().getObject());\n    cronTriggerFactoryBean.setCronExpression(&quot;0 0/1 0 ? * * *&quot;);\n    cronTriggerFactoryBean.setGroup(&quot;pip-scheduler-group&quot;);\n    return cronTriggerFactoryBean;\n  }\n}\n</code></pre>\n<p>RepoJob</p>\n<pre><code>@Slf4j\npublic class RepoJob implements Job {\n\n  @Autowired RepoService repoService;\n\n  @Autowired RepoUtil repoUtil;\n\n  @Override public void execute(JobExecutionContext jobExecutionContext)\n      throws JobExecutionException {\n\n    boolean success = repoService.createFile();\n\n    if (success) {\n      try {\n        boolean isSuccess = repoUtil.sendInfo();\n        if (isSuccess) {\n          log.info(&quot;Info sent success&quot;);\n        }\n\n      } catch (Exception ex) {\n        log.error(ex);\n      }\n    }\n  }\n}\n</code></pre>\n<p>quartz properties from application.yml</p>\n<pre><code>  quartz:\n    properties:\n      org.quartz.jobStore.isClustered: true\n      org.quartz.scheduler.instanceId: AUTO\n      org.quartz.jobStore.driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\n      org.quartz.scheduler.instanceName: pip-clustered-scheduler\n      org.quartz.jobStore.class: org.quartz.impl.jdbcjobstore.JobStoreTX\n      org.quartz.jobStore.useProperties: true\n      org.quartz.jobStore.misfireThreshold: 60000\n      org.quartz.jobStore.tablePrefix: qrtz_\n      org.quartz.plugin.shutdownHook.class: org.quartz.plugins.management.ShutdownHookPlugin\n      org.quartz.plugin.shutdownHook.cleanShutdown: TRUE\n  jdbc:\n      initialize-schema: never\n    job-store-type: jdbc\n\n</code></pre>\n<p>Uses the same database schema for application &amp; quartz tables. I am not sure if there is anything wrong in the way quartz is configured.</p>\n<p>Could anyone please guide me here. This is my first time using Quartz. Thank you.</p>\n<p>Start up log:</p>\n<pre><code> \n\n INFO [StartupInfoLogger.java:55] Thread:[main] Starting PipDvsApplication using Java 11.0.11 on B720L with PID 22720 (D:\\Projects\\pip-dvs-app\\target\\classes started by U55097 in D:\\Projects\\pip-dvs-app)\n INFO [SpringApplication.java:663] Thread:[main] The following profiles are active: dev\n INFO [DirectJDKLog.java:173] Thread:[main] Initializing ProtocolHandler [&quot;http-nio-9090&quot;]\n INFO [DirectJDKLog.java:173] Thread:[main] Starting service [Tomcat]\n INFO [DirectJDKLog.java:173] Thread:[main] Starting Servlet engine: [Apache Tomcat/9.0.50]\n INFO [DirectJDKLog.java:173] Thread:[main] Initializing Spring embedded WebApplicationContext\n INFO [HikariDataSource.java:110] Thread:[main] HikariPool-1 - Starting...\n INFO [HikariDataSource.java:123] Thread:[main] HikariPool-1 - Start completed.\n INFO [IsoClient.java:77] Thread:[main] Connected with host:216.76.27.250 , post:20500, status:false\n INFO [StdSchedulerFactory.java:1220] Thread:[main] Using default implementation for ThreadExecutor\n INFO [SchedulerSignalerImpl.java:61] Thread:[main] Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\n INFO [QuartzScheduler.java:229] Thread:[main] Quartz Scheduler v.2.3.2 created.\n INFO [ShutdownHookPlugin.java:120] Thread:[main] Registering Quartz shutdown hook.\n INFO [QuartzScheduler.java:294] Thread:[main] Scheduler meta-data: Quartz Scheduler (v2.3.2) 'pip-dvs-clustered-scheduler' with instanceId 'B720L1633520106597'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 20 threads.\n  Using job-store 'org.springframework.scheduling.quartz.LocalDataSourceJobStore' - which supports persistence. and is clustered.\n\n INFO [StdSchedulerFactory.java:1374] Thread:[main] Quartz scheduler 'pip-dvs-clustered-scheduler' initialized from an externally provided properties instance.\n INFO [StdSchedulerFactory.java:1378] Thread:[main] Quartz scheduler version: 2.3.2\n INFO [QuartzScheduler.java:2293] Thread:[main] JobFactory set to: com.pip.job.SchedulerJobFactory@b3c7c75\n INFO [DirectJDKLog.java:173] Thread:[main] Starting ProtocolHandler [&quot;http-nio-9090&quot;]\n INFO [QuartzScheduler.java:547] Thread:[main] Scheduler pip-dvs-clustered-scheduler_$_B720L1633520106597 started.\n INFO [StartupInfoLogger.java:61] Thread:[main] Started PipDvsApplication in 58.08 seconds (JVM running for 60.088)\n INFO [DirectJDKLog.java:173] Thread:[RMI TCP Connection(2)-192.168.29.216] Initializing Spring DispatcherServlet 'dispatcherServlet'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1633504551,"post_id":69461309,"comment_id":122773787,"body_markdown":"You want to add the text &quot;e&quot;?","body":"You want to add the text &quot;e&quot;?"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1633504725,"post_id":69461309,"comment_id":122773851,"body_markdown":"`Button btn0+i = new Button(Integer.toString(i));` You do not need that, actually. It&#39;s going to be a new variable in each iteration. Its name has no effect on the rest of the code, as far as I can tell. You could even just do `digitButtons[i] = new Button(Integer.toString(i));`","body":"<code>Button btn0+i = new Button(Integer.toString(i));</code> You do not need that, actually. It&#39;s going to be a new variable in each iteration. Its name has no effect on the rest of the code, as far as I can tell. You could even just do <code>digitButtons[i] = new Button(Integer.toString(i));</code>"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1633504872,"post_id":69461309,"comment_id":122773907,"body_markdown":"Oh and no, danymically concatenating variable names is not supported. Every time you feel the need to have it, use a collection (array, list, ...). - Which you are already doing here, so you&#39;re good.","body":"Oh and no, danymically concatenating variable names is not supported. Every time you feel the need to have it, use a collection (array, list, ...). - Which you are already doing here, so you&#39;re good."},{"owner":{"account_id":15420574,"reputation":43,"user_id":11124725,"display_name":"Mirwais Faizi"},"score":0,"creation_date":1633504995,"post_id":69461309,"comment_id":122773949,"body_markdown":"actually, I need to every object have a specific name in the array.","body":"actually, I need to every object have a specific name in the array."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1633505007,"post_id":69461309,"comment_id":122773960,"body_markdown":"in this part: &quot;Button pressed &quot; + ((Button) e.getSource()).getText(); you are already concatenating Strings so it seems to me you know how to","body":"in this part: &quot;Button pressed &quot; + ((Button) e.getSource()).getText(); you are already concatenating Strings so it seems to me you know how to"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1633505032,"post_id":69461309,"comment_id":122773972,"body_markdown":"_&quot;actually, I need to every object have a specific name in the array.&quot;_ - no you don&#39;t. The `Button` type has all the properties you need to uniquely identify it.","body":"<i>&quot;actually, I need to every object have a specific name in the array.&quot;</i> - no you don&#39;t. The <code>Button</code> type has all the properties you need to uniquely identify it."},{"owner":{"account_id":15420574,"reputation":43,"user_id":11124725,"display_name":"Mirwais Faizi"},"score":0,"creation_date":1633505126,"post_id":69461309,"comment_id":122774007,"body_markdown":"is there any way?","body":"is there any way?"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1633505162,"post_id":69461309,"comment_id":122774019,"body_markdown":"Any way to what? Have dynamically name variables? No. To uniquely identify Button instances? Yes. For example: A Button is-a Component, which has a Name: https://docs.oracle.com/javase/10/docs/api/java/awt/Component.html#setName(java.lang.String)","body":"Any way to what? Have dynamically name variables? No. To uniquely identify Button instances? Yes. For example: A Button is-a Component, which has a Name: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/awt/Component.html#setName(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java/awt/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633505337,"creation_date":1633505020,"answer_id":69461419,"question_id":69461309,"body_markdown":"Put your buttons in a `HashMap&lt;String, Button&gt;`, and this way you could name your buttons and rename them as many times as you want. **You cannot rename variables in runtime.**\r\n\r\nHere is an example: \r\n```\r\n// this will keep the variables this way: [ &quot;btn01&quot; -&gt; buttonObject1, &quot;btn02&quot; -&gt; buttonObject2 ...]\r\nHashMap&lt;String, Button&gt; buttonHashMap = new HashMap&lt;&gt;();\r\n\r\nfor(int i = 0; i &lt; 10; i++) \r\n{\r\n\tfinal int buttonInd = i;\r\n\tString buttonName = &quot;btn0&quot; + i;\r\n\tButton buttonObject = new Button(Integer.toString(i));\r\n\t\r\n\tbuttonHashMap.put(buttonName, buttonObject);\r\n\r\n    // The .get(buttonName) gets the specific Button that you need!\r\n\tbuttonHashMap.get(buttonName).setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n\t\t@Override\r\n\t\tpublic void handle(ActionEvent e) {\r\n\t\t\tSystem.out.println(&quot;Button pressed &quot; + ((Button) e.getSource()).getText());\r\n\t\t\tSystem.out.println(&quot;button clicked &quot; + ((Control)e.getSource()).getId());\r\n\t\t\tlastClickedIndex = buttonInd;\r\n\t\t}\r\n\t});\r\n}\r\n```","title":"How to change variable name in runtime","body":"<p>Put your buttons in a <code>HashMap&lt;String, Button&gt;</code>, and this way you could name your buttons and rename them as many times as you want. <strong>You cannot rename variables in runtime.</strong></p>\n<p>Here is an example:</p>\n<pre><code>// this will keep the variables this way: [ &quot;btn01&quot; -&gt; buttonObject1, &quot;btn02&quot; -&gt; buttonObject2 ...]\nHashMap&lt;String, Button&gt; buttonHashMap = new HashMap&lt;&gt;();\n\nfor(int i = 0; i &lt; 10; i++) \n{\n    final int buttonInd = i;\n    String buttonName = &quot;btn0&quot; + i;\n    Button buttonObject = new Button(Integer.toString(i));\n    \n    buttonHashMap.put(buttonName, buttonObject);\n\n    // The .get(buttonName) gets the specific Button that you need!\n    buttonHashMap.get(buttonName).setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent e) {\n            System.out.println(&quot;Button pressed &quot; + ((Button) e.getSource()).getText());\n            System.out.println(&quot;button clicked &quot; + ((Control)e.getSource()).getId());\n            lastClickedIndex = buttonInd;\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":15420574,"reputation":43,"user_id":11124725,"display_name":"Mirwais Faizi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69461419,"answer_count":1,"score":-1,"last_activity_date":1633520671,"creation_date":1633504417,"question_id":69461309,"body_markdown":" How can I concatenate object names with string or integer in java can anyone have an idea.\r\n\r\n```\r\nButton[] digitButtons = new Button[10];\r\nfor(int i = 0; i &lt; 10; i++) {\r\n    final int buttonInd = i;\r\n    Button btn0+i = new Button(Integer.toString(i));\r\n    digitButtons[i] = btn0+i;\r\n    digitButtons[i].setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n        @Override\r\n        public void handle(ActionEvent e) {\r\n            System.out.println(&quot;Button pressed &quot; + ((Button) e.getSource()).getText());\r\n            System.out.println(&quot;button clicked &quot; + ((Control)e.getSource()).getId());\r\n            lastClickedIndex = buttonInd;\r\n        }\r\n    });\r\n}\r\n\r\n```","title":"How to change variable name in runtime","body":"<p>How can I concatenate object names with string or integer in java can anyone have an idea.</p>\n<pre><code>Button[] digitButtons = new Button[10];\nfor(int i = 0; i &lt; 10; i++) {\n    final int buttonInd = i;\n    Button btn0+i = new Button(Integer.toString(i));\n    digitButtons[i] = btn0+i;\n    digitButtons[i].setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent e) {\n            System.out.println(&quot;Button pressed &quot; + ((Button) e.getSource()).getText());\n            System.out.println(&quot;button clicked &quot; + ((Control)e.getSource()).getId());\n            lastClickedIndex = buttonInd;\n        }\n    });\n}\n\n</code></pre>\n"},{"tags":["java","jdbc","apache-nifi","cdc"],"comments":[{"owner":{"account_id":1263578,"reputation":2781,"user_id":1221355,"accept_rate":100,"display_name":"Vikramsinh Shinde"},"score":0,"creation_date":1633582078,"post_id":69465021,"comment_id":122798994,"body_markdown":"Give it a try by using something like - `jdbc:mysql://:3306/?serverTimezone=UTC`  value for `MySQL Hosts` property.","body":"Give it a try by using something like - <code>jdbc:mysql:&#47;&#47;:3306&#47;?serverTimezone=UTC</code>  value for <code>MySQL Hosts</code> property."},{"owner":{"account_id":2567554,"reputation":1043,"user_id":3810086,"display_name":"tonykoval"},"score":0,"creation_date":1635845244,"post_id":69465021,"comment_id":123395015,"body_markdown":"I have the same problem. @VikramsinhShinde, there is validator on property `MySQL Hosts` and it didn&#39;t work. We should raise the issue on NiFi","body":"I have the same problem. @VikramsinhShinde, there is validator on property <code>MySQL Hosts</code> and it didn&#39;t work. We should raise the issue on NiFi"},{"owner":{"account_id":2567554,"reputation":1043,"user_id":3810086,"display_name":"tonykoval"},"score":0,"creation_date":1642755339,"post_id":69465021,"comment_id":125161219,"body_markdown":"https://issues.apache.org/jira/browse/NIFI-9519","body":"<a href=\"https://issues.apache.org/jira/browse/NIFI-9519\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/NIFI-9519</a>"}],"owner":{"account_id":17130384,"reputation":43,"user_id":12396614,"display_name":"user12396614"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633520381,"creation_date":1633520381,"question_id":69465021,"body_markdown":"I&#39;m a totally fresh NiFi user, so any help and tips are more than welcome.\r\n\r\n\r\nI want to read newly added data from MySQL, convert it to json and send as a Kafka message. And I believe I know how to achieve this, however... right now I&#39;m struggling with connection to database. More precisely, I get:\r\n\r\n \r\n\r\n  \r\n\r\n    \r\n\r\n&gt; Caused by: java.sql.SQLException: The server time zone value &#39;CEST&#39; is\r\n&gt; unrecognized or represents more than one time zone. You must configure\r\n&gt; either the server or JDBC driver (via the serverTimezone configuration\r\n&gt; property) to use a more specifc time zone value if you want to utilize\r\n&gt; time zone support.\r\n\r\n \r\n\r\n \r\n\r\nAnd I totally understand this, as indeed all databases in my company have Time Zone set to CEST and... for some unknown for me reason, we can&#39;t change it to specific TimeZone like Rome, Warsaw, Berlin, etc.\r\n\r\n\r\nWhen I saw this error message for the very first time, I was like: \r\nHey! That&#39;s not a problem. JDBC connector accepts many additional parameters and one of them is **serverTimezone** So, I&#39;ll add specific Timezone and that&#39;s it. Everything will be fine. But... then I realized that CDC doesn&#39;t allow to pass any additional parameter to JDBC connector.\r\nI have tried to pass this parameter to **Database/Schema Name Pattern** property like this: **schema_name?serverTimezone=UTC**, however it seems to be ignored. So... my question is:\r\n\r\n\r\nHow can I pass additional JDBC parameters in **CaptureChangeMySQL** processor?\r\n\r\nOr maybe there is some magic Nifi setting/property which will allow me to apply serverTimezone parameter to all connections, in all processors. You know, some kind of global change on NiFi level?\r\n\r\nOr... more general questions: How to make it **CaptureChangeMySQL** working, if you can&#39;t change server timezone on MySQL level?\r\n\r\nI use Nifi in version **1.13.2**\r\n\r\n\r\nThank you!","title":"Pass additional parameters to NiFi CDC&#39;s JDBC connection","body":"<p>I'm a totally fresh NiFi user, so any help and tips are more than welcome.</p>\n<p>I want to read newly added data from MySQL, convert it to json and send as a Kafka message. And I believe I know how to achieve this, however... right now I'm struggling with connection to database. More precisely, I get:</p>\n<blockquote>\n<p>Caused by: java.sql.SQLException: The server time zone value 'CEST' is\nunrecognized or represents more than one time zone. You must configure\neither the server or JDBC driver (via the serverTimezone configuration\nproperty) to use a more specifc time zone value if you want to utilize\ntime zone support.</p>\n</blockquote>\n<p>And I totally understand this, as indeed all databases in my company have Time Zone set to CEST and... for some unknown for me reason, we can't change it to specific TimeZone like Rome, Warsaw, Berlin, etc.</p>\n<p>When I saw this error message for the very first time, I was like:\nHey! That's not a problem. JDBC connector accepts many additional parameters and one of them is <strong>serverTimezone</strong> So, I'll add specific Timezone and that's it. Everything will be fine. But... then I realized that CDC doesn't allow to pass any additional parameter to JDBC connector.\nI have tried to pass this parameter to <strong>Database/Schema Name Pattern</strong> property like this: <strong>schema_name?serverTimezone=UTC</strong>, however it seems to be ignored. So... my question is:</p>\n<p>How can I pass additional JDBC parameters in <strong>CaptureChangeMySQL</strong> processor?</p>\n<p>Or maybe there is some magic Nifi setting/property which will allow me to apply serverTimezone parameter to all connections, in all processors. You know, some kind of global change on NiFi level?</p>\n<p>Or... more general questions: How to make it <strong>CaptureChangeMySQL</strong> working, if you can't change server timezone on MySQL level?</p>\n<p>I use Nifi in version <strong>1.13.2</strong></p>\n<p>Thank you!</p>\n"},{"tags":["java","selenium","oop","webdriver","testng"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":1,"creation_date":1633437463,"post_id":69450405,"comment_id":122754850,"body_markdown":"What error you are getting? and at what step?","body":"What error you are getting? and at what step?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1633437873,"post_id":69450405,"comment_id":122755011,"body_markdown":"Does the error occure when you add item to cart manualy? If yes it&#39;s problem of the page itself.","body":"Does the error occure when you add item to cart manualy? If yes it&#39;s problem of the page itself."},{"owner":{"account_id":4420863,"reputation":9,"user_id":3600878,"display_name":"user3600878"},"score":0,"creation_date":1633439560,"post_id":69450405,"comment_id":122755842,"body_markdown":"Problem is not about coding, it&#39;s about process, means while adding 1&#39;st item or sometimes 2&#39;nd item into cart login sessions got expired and there&#39;s no specific error about that. because i debug code and on just after below line executed ==&gt; webDriverCommonUtil1.clickElementWithJavascript(item);  login session expired and script get executed e.g. add 2&#39;nd and 3&#39;rd item into cart without login. Nandan A","body":"Problem is not about coding, it&#39;s about process, means while adding 1&#39;st item or sometimes 2&#39;nd item into cart login sessions got expired and there&#39;s no specific error about that. because i debug code and on just after below line executed ==&gt; webDriverCommonUtil1.clickElementWithJavascript(item);  login session expired and script get executed e.g. add 2&#39;nd and 3&#39;rd item into cart without login. Nandan A"},{"owner":{"account_id":4420863,"reputation":9,"user_id":3600878,"display_name":"user3600878"},"score":0,"creation_date":1633439669,"post_id":69450405,"comment_id":122755897,"body_markdown":"Error is not occured while adding items to cart manually, only while running script. pburgr","body":"Error is not occured while adding items to cart manually, only while running script. pburgr"},{"owner":{"account_id":4420863,"reputation":9,"user_id":3600878,"display_name":"user3600878"},"score":0,"creation_date":1633462914,"post_id":69450405,"comment_id":122765337,"body_markdown":"Issue resolved thanks","body":"Issue resolved thanks"}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633520375,"creation_date":1633520375,"answer_id":69465018,"question_id":69450405,"body_markdown":"Most of the oauth 2.0 applications having max of 1hr session time and payment applications having 15mins of maximum session time. always we should remember following things,\r\n\r\n 1. Our whole testcase execution time should not be exceed 1hr - max 2hr,\r\n 2. Include login and logout in the each test - this will prevent the session expire.\r\n 3. If we have bunch of testcases running for couple of hour, split them into pieces. like limit the execution of testcases. 50 by 50.\r\n\r\n \r\n\r\n ","title":"login session expired while running automation script","body":"<p>Most of the oauth 2.0 applications having max of 1hr session time and payment applications having 15mins of maximum session time. always we should remember following things,</p>\n<ol>\n<li>Our whole testcase execution time should not be exceed 1hr - max 2hr,</li>\n<li>Include login and logout in the each test - this will prevent the session expire.</li>\n<li>If we have bunch of testcases running for couple of hour, split them into pieces. like limit the execution of testcases. 50 by 50.</li>\n</ol>\n"}],"owner":{"account_id":4420863,"reputation":9,"user_id":3600878,"display_name":"user3600878"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633520375,"creation_date":1633436625,"question_id":69450405,"body_markdown":"I&#39;m trying to run automation script of ecommerce demo application. \r\nBut while adding item into cart, item will added into cart but login session expired.\r\nI developed script using selenium, testNG tool and java programming language.\r\n\r\n```\r\npublic void selectItems() {\r\n\t\twebDriverCommonUtil1.waitForPageToLoad();\r\n\t\twebDriverCommonUtil1.scrolling();\r\n\t\t/*\r\n\t\t * try { Thread.sleep(4000); } catch (InterruptedException e) { // TODO\r\n\t\t * Auto-generated catch block e.printStackTrace(); }\r\n\t\t */\r\n\r\n\t\tsheetName = &quot;Item Details&quot;;\r\n\t\tproduct_TestData = FileLib.getTestData(sheetName, count, 0);\r\n\t\tWebElement item = BaseClass.dr.findElement(By.xpath(&quot;//a[text()=&#39;&quot; + product_TestData + &quot;&#39;]&quot;));\r\n\t\twebDriverCommonUtil1.waitForElementPresent(item);\r\n\t\twebDriverCommonUtil1.clickElementWithJavascript(item);\t// item.click();\r\n\t\tcount++;\r\n\t\tSystem.out.println(&quot;item clicked&quot;);\r\n\t\t\r\n\t\twebDriverCommonUtil1.waitForElementPresent(addToCartBtn);\r\n\t\taddToCartBtn.click();\r\n\t\tSystem.out.println(&quot;cart clicked&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tThread.sleep(2000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\twebDriverCommonUtil1.acceptAlertMessage();\r\n\t\tSystem.out.println(&quot;Alert accepted&quot;);\r\n\t\t\r\n\t\twebDriverCommonUtil1.waitForElementPresent(homeMenu);\r\n\t\thomeMenu.click();\r\n\t}\r\n```","title":"login session expired while running automation script","body":"<p>I'm trying to run automation script of ecommerce demo application.\nBut while adding item into cart, item will added into cart but login session expired.\nI developed script using selenium, testNG tool and java programming language.</p>\n<pre><code>public void selectItems() {\n        webDriverCommonUtil1.waitForPageToLoad();\n        webDriverCommonUtil1.scrolling();\n        /*\n         * try { Thread.sleep(4000); } catch (InterruptedException e) { // TODO\n         * Auto-generated catch block e.printStackTrace(); }\n         */\n\n        sheetName = &quot;Item Details&quot;;\n        product_TestData = FileLib.getTestData(sheetName, count, 0);\n        WebElement item = BaseClass.dr.findElement(By.xpath(&quot;//a[text()='&quot; + product_TestData + &quot;']&quot;));\n        webDriverCommonUtil1.waitForElementPresent(item);\n        webDriverCommonUtil1.clickElementWithJavascript(item);  // item.click();\n        count++;\n        System.out.println(&quot;item clicked&quot;);\n        \n        webDriverCommonUtil1.waitForElementPresent(addToCartBtn);\n        addToCartBtn.click();\n        System.out.println(&quot;cart clicked&quot;);\n\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        webDriverCommonUtil1.acceptAlertMessage();\n        System.out.println(&quot;Alert accepted&quot;);\n        \n        webDriverCommonUtil1.waitForElementPresent(homeMenu);\n        homeMenu.click();\n    }\n</code></pre>\n"},{"tags":["python","java","c#","c","gurobi"],"comments":[{"owner":{"account_id":200642,"reputation":5503,"user_id":446610,"display_name":"Greg Glockner"},"score":2,"creation_date":1633372321,"post_id":69432905,"comment_id":122737518,"body_markdown":"Which heuristic solution? Why not the solution found by Gurobi?","body":"Which heuristic solution? Why not the solution found by Gurobi?"},{"owner":{"account_id":18990826,"reputation":362,"user_id":13860156,"display_name":"Aaditya Bhardwaj"},"score":0,"creation_date":1633423165,"post_id":69432905,"comment_id":122749060,"body_markdown":"I had to add a time constraint. Gurobi has some inbuilt heuristic and heuristic solution was reported when we solve any MIP.","body":"I had to add a time constraint. Gurobi has some inbuilt heuristic and heuristic solution was reported when we solve any MIP."},{"owner":{"account_id":200642,"reputation":5503,"user_id":446610,"display_name":"Greg Glockner"},"score":2,"creation_date":1633465555,"post_id":69432905,"comment_id":122766115,"body_markdown":"Your question is still not clear. You want to save solution values plus bound and incumbent objective?","body":"Your question is still not clear. You want to save solution values plus bound and incumbent objective?"}],"answers":[{"tags":[],"owner":{"account_id":18990826,"reputation":362,"user_id":13860156,"display_name":"Aaditya Bhardwaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633519592,"creation_date":1633519592,"answer_id":69464849,"question_id":69432905,"body_markdown":"I found a solution, [Gurobi website][1] has given all the attributes and these can be used in some other languages, specifically **C, C++, C#, Java, and VBA** in addition to python; fortunately, there is attribute MIPGap and ObjBoundC that meets my specification. `model.Runtime` provides the time duration in which problem was solved; if `model.Runtime` &gt;= Time Constraint then `model.MIPGap` provides ***MIPGap = abs(ObjVal - ObjBound)/ abs(ObjVal)***, and `model.ObjBoundC` provides ***&#39;ObjBound&#39;*** dubble.\r\n\r\n\r\n  [1]: https://www.gurobi.com/documentation/9.1/refman/attributes.html","title":"How to save solution gap (MIP Gap) and upper bound (objective bound) in gurobi?","body":"<p>I found a solution, <a href=\"https://www.gurobi.com/documentation/9.1/refman/attributes.html\" rel=\"nofollow noreferrer\">Gurobi website</a> has given all the attributes and these can be used in some other languages, specifically <strong>C, C++, C#, Java, and VBA</strong> in addition to python; fortunately, there is attribute MIPGap and ObjBoundC that meets my specification. <code>model.Runtime</code> provides the time duration in which problem was solved; if <code>model.Runtime</code> &gt;= Time Constraint then <code>model.MIPGap</code> provides <em><strong>MIPGap = abs(ObjVal - ObjBound)/ abs(ObjVal)</strong></em>, and <code>model.ObjBoundC</code> provides <em><strong>'ObjBound'</strong></em> dubble.</p>\n"}],"owner":{"account_id":18990826,"reputation":362,"user_id":13860156,"display_name":"Aaditya Bhardwaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69464849,"answer_count":1,"score":0,"last_activity_date":1633519809,"creation_date":1633335553,"question_id":69432905,"body_markdown":"I am using gurobi solver to solve MIP. It&#39;s an NP-hard formulation with many constraints. It takes a significantly large amount of time to find an optimal solution; so, I had to add time constraints to the problem. I do not require to save the solution, and value of variables obtained by gurobi in the specified time only, but require to save the upper bound, and solution gap as well which get reported when we solve MIP. May you provide a way to do that?","title":"How to save solution gap (MIP Gap) and upper bound (objective bound) in gurobi?","body":"<p>I am using gurobi solver to solve MIP. It's an NP-hard formulation with many constraints. It takes a significantly large amount of time to find an optimal solution; so, I had to add time constraints to the problem. I do not require to save the solution, and value of variables obtained by gurobi in the specified time only, but require to save the upper bound, and solution gap as well which get reported when we solve MIP. May you provide a way to do that?</p>\n"},{"tags":["java","compiler-errors","null-pointer"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633519711,"creation_date":1633519711,"answer_id":69464876,"question_id":69464857,"body_markdown":"`q` is `null`. Simple as that. Make q be not null and this error goes away. See [this SO question](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it) for more information. For example, by initializing it to `BigDecimal.ONE`, perhaps.\r\n\r\nNB: Note that it&#39;s generally a lot easier and just all around better to use ints and longs for currency and not BigDecimal. Store the atomary unit of the currency in there: $12.34 becomes `1234`. Every currency has this concept, even bitcoin (satoshis). You can&#39;t ask a bank to transfer half a cent, so the fact that you can store half a cent in a BigDecimal isn&#39;t actually all that useful. BigDecimal isn&#39;t a &#39;but it can handle all cases&#39; thing either; after all, given 4 cents, you can&#39;t distribute that evenly amongst 3 people without errors, either. Even with BigDecimal.","title":"Java Cannot read field &quot;scale&quot; because &quot;multiplicand&quot; is null","body":"<p><code>q</code> is <code>null</code>. Simple as that. Make q be not null and this error goes away. See <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">this SO question</a> for more information. For example, by initializing it to <code>BigDecimal.ONE</code>, perhaps.</p>\n<p>NB: Note that it's generally a lot easier and just all around better to use ints and longs for currency and not BigDecimal. Store the atomary unit of the currency in there: $12.34 becomes <code>1234</code>. Every currency has this concept, even bitcoin (satoshis). You can't ask a bank to transfer half a cent, so the fact that you can store half a cent in a BigDecimal isn't actually all that useful. BigDecimal isn't a 'but it can handle all cases' thing either; after all, given 4 cents, you can't distribute that evenly amongst 3 people without errors, either. Even with BigDecimal.</p>\n"}],"owner":{"account_id":22191064,"reputation":63,"user_id":16433246,"display_name":"TtT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633519711,"creation_date":1633519616,"question_id":69464857,"body_markdown":"Getting error: `java.lang.NullPointerException: Cannot read field &quot;scale&quot; because &quot;multiplicand&quot; is null`. How to avoid this error?\r\n\r\n\tBigDecimal price =  tariffs.stream() //\r\n\t\t\t.map(tariff -&gt; tariff.getPrice()) //\r\n\t\t\t.reduce(BigDecimal.ZERO, BigDecimal::add);\r\n\t\r\n\tBigDecimal productPrice = price.multiply(q).setScale(2, RoundingMode.HALF_UP);","title":"Java Cannot read field &quot;scale&quot; because &quot;multiplicand&quot; is null","body":"<p>Getting error: <code>java.lang.NullPointerException: Cannot read field &quot;scale&quot; because &quot;multiplicand&quot; is null</code>. How to avoid this error?</p>\n<pre><code>BigDecimal price =  tariffs.stream() //\n        .map(tariff -&gt; tariff.getPrice()) //\n        .reduce(BigDecimal.ZERO, BigDecimal::add);\n\nBigDecimal productPrice = price.multiply(q).setScale(2, RoundingMode.HALF_UP);\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8025,"page":1967,"page_size":100}
