{"items":[{"tags":["java","object","interface","uml","diagram"],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689750198,"creation_date":1689750198,"answer_id":76718737,"question_id":76717358,"body_markdown":"I will not provide you the solution for your specific diagram. I&#39;d rather provide some hints to help you solve these questions:\r\n\r\n* For every interface, find the classes that expose all the operations of the interface with the exact same signature (operation name, return types, and parameters). These classes are excellent candidates for a realization relationship (doted line and hollow triangle pointing to the interface)\r\n* For every property that has the type B in a class A, you have a potential association between A to B. The association end on B side would have a role name that matches the property name and the same multiplicity. Ideally you&#39;d refactor the diagram removing the property from the class body, because it&#39;ll be redundant with the associatiin. \r\n* then look for properties in one class that seem to refer to an id in the other class (same type, suggesting name,...). These are candidates for an association between the two classes, but analysis needs to confirm it because it&#39;s only a first guess\r\n* for every operation in a class A that uses a parameter of type B or returns a type B, there is a dependency relationship from A to B. But don&#39;t show it if there&#39;s already an association. And don&#39;t show it if it clutters your diagram. \r\n","title":"Identifying relations between Java classes for this UML Diagram?","body":"<p>I will not provide you the solution for your specific diagram. I'd rather provide some hints to help you solve these questions:</p>\n<ul>\n<li>For every interface, find the classes that expose all the operations of the interface with the exact same signature (operation name, return types, and parameters). These classes are excellent candidates for a realization relationship (doted line and hollow triangle pointing to the interface)</li>\n<li>For every property that has the type B in a class A, you have a potential association between A to B. The association end on B side would have a role name that matches the property name and the same multiplicity. Ideally you'd refactor the diagram removing the property from the class body, because it'll be redundant with the associatiin.</li>\n<li>then look for properties in one class that seem to refer to an id in the other class (same type, suggesting name,...). These are candidates for an association between the two classes, but analysis needs to confirm it because it's only a first guess</li>\n<li>for every operation in a class A that uses a parameter of type B or returns a type B, there is a dependency relationship from A to B. But don't show it if there's already an association. And don't show it if it clutters your diagram.</li>\n</ul>\n"}],"owner":{"account_id":25736633,"reputation":21,"user_id":19491246,"display_name":"Adaxil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1689750198,"creation_date":1689729171,"question_id":76717358,"body_markdown":"I have this UML classes, but the relations are too confusing, is there a forum to try identifying relations like association, composition, etc.\r\nOr even better, help me to identify them.\r\nMy professor thought it was a good idea not teaching this and making it part of a project months later.\r\nThanks in advance guys!!\r\n[Here a pic of the classes in question.][1]\r\n\r\n  [1]: https://i.stack.imgur.com/nPli9.png","title":"Identifying relations between Java classes for this UML Diagram?","body":"<p>I have this UML classes, but the relations are too confusing, is there a forum to try identifying relations like association, composition, etc.\nOr even better, help me to identify them.\nMy professor thought it was a good idea not teaching this and making it part of a project months later.\nThanks in advance guys!!\n<a href=\"https://i.stack.imgur.com/nPli9.png\" rel=\"nofollow noreferrer\">Here a pic of the classes in question.</a></p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676204392,"post_id":75424523,"comment_id":133086636,"body_markdown":"Please post the exception stacktrace as code formatted text, not as a screenshot.","body":"Please post the exception stacktrace as code formatted text, not as a screenshot."},{"owner":{"account_id":4523354,"reputation":526,"user_id":3675902,"display_name":"MirandaVeracruzDeLaHoyaCardina"},"score":0,"creation_date":1676217467,"post_id":75424523,"comment_id":133088793,"body_markdown":"The @Id annotations on \n  private TournamentEntity tournament;\nand\n  private PlayerEntity player;\nare obviously wrong! What would you like to do with that!?","body":"The @Id annotations on    private TournamentEntity tournament; and   private PlayerEntity player; are obviously wrong! What would you like to do with that!?"},{"owner":{"account_id":27745405,"reputation":21,"user_id":21181012,"display_name":"Ajiva"},"score":0,"creation_date":1676219464,"post_id":75424523,"comment_id":133089195,"body_markdown":"@MirandaVeracruzDeLaHoyaCardina it is a Composite Primary Key and that part works as expected","body":"@MirandaVeracruzDeLaHoyaCardina it is a Composite Primary Key and that part works as expected"},{"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"score":0,"creation_date":1688034894,"post_id":75424523,"comment_id":135020986,"body_markdown":"@Ajiva Did you solve your issue? Could you please provide the solution - or upvote the correct answer!","body":"@Ajiva Did you solve your issue? Could you please provide the solution - or upvote the correct answer!"},{"owner":{"account_id":27745405,"reputation":21,"user_id":21181012,"display_name":"Ajiva"},"score":0,"creation_date":1688081892,"post_id":75424523,"comment_id":135029830,"body_markdown":"@max So if I remember correctly, my TeamEntity was in the folder model.general. But this conflicts when you have two Entity managers using that class. Instead of one general table entity, i made two (almost) identical and put one of them in the &quot;Apex&quot; folder and one of them in the &quot;Valorant&quot; folder, together with the other models.","body":"@max So if I remember correctly, my TeamEntity was in the folder model.general. But this conflicts when you have two Entity managers using that class. Instead of one general table entity, i made two (almost) identical and put one of them in the &quot;Apex&quot; folder and one of them in the &quot;Valorant&quot; folder, together with the other models."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676170737,"creation_date":1676170737,"answer_id":75424652,"question_id":75424523,"body_markdown":"A @OneToOne relationship is bidirectional and has to be defined in both classes.\r\n\r\nLook at @ManyToOne and @OneToMany. If the unnamed class is, for example, called `MatchEntity`, then a Team has many matches (@OneToMany) and the Player in the match is a member of a team (@ManyToOne).","title":"Java Spring Boot, Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>A @OneToOne relationship is bidirectional and has to be defined in both classes.</p>\n<p>Look at @ManyToOne and @OneToMany. If the unnamed class is, for example, called <code>MatchEntity</code>, then a Team has many matches (@OneToMany) and the Player in the match is a member of a team (@ManyToOne).</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676368691,"creation_date":1676368691,"answer_id":75446151,"question_id":75424523,"body_markdown":"It looks like Hibernate doesn&#39;t know that `TeamEntity` is an entity. Is that class properly scanned by Springs `@EntityScan`? Or did you make sure this class is listed in the persistence.xml?\r\n\r\nI think there is an open issue in the Hibernate issue tracker that is about improving the error message for this case, but I can&#39;t find it right now. If anyone digs it up, please add a comment to this answer.","title":"Java Spring Boot, Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>It looks like Hibernate doesn't know that <code>TeamEntity</code> is an entity. Is that class properly scanned by Springs <code>@EntityScan</code>? Or did you make sure this class is listed in the persistence.xml?</p>\n<p>I think there is an open issue in the Hibernate issue tracker that is about improving the error message for this case, but I can't find it right now. If anyone digs it up, please add a comment to this answer.</p>\n"},{"tags":[],"owner":{"account_id":29047031,"reputation":1,"user_id":22250633,"display_name":"user22250633"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689749915,"creation_date":1689749915,"answer_id":76718703,"question_id":75424523,"body_markdown":"By far, the most common cause of the BeanCreationException is Spring trying to inject a bean that doesn&#39;t exist in the context. Please refer [Spring BeanCreationException][1]\r\n\r\nThe @Entity for which Spring Boot can&#39;t find JDBC type.. I added @OneToMany relationship as it was applicable in my case and the exception got resolved.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-beancreationexception","title":"Java Spring Boot, Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>By far, the most common cause of the BeanCreationException is Spring trying to inject a bean that doesn't exist in the context. Please refer <a href=\"https://www.baeldung.com/spring-beancreationexception\" rel=\"nofollow noreferrer\">Spring BeanCreationException</a></p>\n<p>The @Entity for which Spring Boot can't find JDBC type.. I added @OneToMany relationship as it was applicable in my case and the exception got resolved.</p>\n"}],"owner":{"account_id":27745405,"reputation":21,"user_id":21181012,"display_name":"Ajiva"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4930,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689749915,"creation_date":1676167970,"question_id":75424523,"body_markdown":"I have seen different responses to similar cases but none seem to work for me.\r\n\r\nIn my Spring boot application, there are many entities connected to databases, but I get an error in one of them and it just doesn&#39;t make sense to me.\r\n\r\nThe error is as followed (full error down below) : \r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;valorantEntityManager&#39; defined in class path resource [com/example/tournaments/config/ValorantConfig.class]: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\r\n\r\nThe error is refering to the class TeamEntity. This class is a very simple entity class with a auto generated field &quot;id&quot;, a field &quot;name&quot; and a field &quot;players&quot; that is not being saved to the database. The class looks like this:\\\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;teams&quot;)\r\npublic class TeamEntity {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Integer id;\r\n\r\n  @Column\r\n  private String name;\r\n\r\n  @Transient\r\n  private List&lt;PlayerEntity&gt; players = new ArrayList&lt;PlayerEntity&gt;();\r\n\r\n  public TeamEntity() {\r\n  }\r\n\r\n  public TeamEntity(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public TeamEntity(String name, List&lt;PlayerEntity&gt; players) {\r\n    this.name = name;\r\n    this.players = players;\r\n  }\r\n\r\n  public void addPlayer(PlayerEntity player) {\r\n    players.add(player);\r\n  }\r\n\r\n  // getters and setters\r\n\r\n}\r\n\r\n```\r\n\r\nI doubt that it has to do something with it but the TeamEntity class is also linked in one other table:\r\n\r\n```\r\n@Id\r\n  @OneToOne(cascade = CascadeType.PERSIST)\r\n  @JoinColumn(name = &quot;tournament_id&quot;)\r\n  private TournamentEntity tournament;\r\n\r\n  @Id\r\n  @OneToOne(cascade = CascadeType.PERSIST)\r\n  @JoinColumn(name = &quot;player_id&quot;)\r\n  private PlayerEntity player;\r\n\r\n  @OneToOne(cascade = CascadeType.PERSIST)\r\n  @JoinColumn(name = &quot;team_id&quot;)\r\n  private TeamEntity team;\r\n```\r\n\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;valorantEntityManager&#39; defined in class path resource [com/example/tournaments/config/ValorantConfig.class]: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at com.example.tournaments.TournamentsApplication.main(TournamentsApplication.java:10) ~[classes/:na]\r\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\r\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1767) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at java.base/java.util.ArrayList.removeIf(Unknown Source) ~[na:na]\r\n        at java.base/java.util.ArrayList.removeIf(Unknown Source) ~[na:na]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1766) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        ... 16 common frames omitted\r\n```\r\n\r\nIf it helps, this is the &quot;teams&quot; table:\r\n[![enter image description here](https://i.stack.imgur.com/vS1RC.png)](https://i.stack.imgur.com/vS1RC.png)\r\n\r\nI already tried to remove the players and just have the fields &quot;id&quot; and &quot;name&quot;, but I get the same error so it would very much suprise me if &quot;players&quot; was the problem.","title":"Java Spring Boot, Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I have seen different responses to similar cases but none seem to work for me.</p>\n<p>In my Spring boot application, there are many entities connected to databases, but I get an error in one of them and it just doesn't make sense to me.</p>\n<p>The error is as followed (full error down below) :</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'valorantEntityManager' defined in class path resource [com/example/tournaments/config/ValorantConfig.class]: Could not determine recommended JdbcType for <code>com.example.tournaments.model.general.TeamEntity</code></p>\n</blockquote>\n<p>The error is refering to the class TeamEntity. This class is a very simple entity class with a auto generated field &quot;id&quot;, a field &quot;name&quot; and a field &quot;players&quot; that is not being saved to the database. The class looks like this:\\</p>\n<pre><code>@Entity\n@Table(name = &quot;teams&quot;)\npublic class TeamEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer id;\n\n  @Column\n  private String name;\n\n  @Transient\n  private List&lt;PlayerEntity&gt; players = new ArrayList&lt;PlayerEntity&gt;();\n\n  public TeamEntity() {\n  }\n\n  public TeamEntity(String name) {\n    this.name = name;\n  }\n\n  public TeamEntity(String name, List&lt;PlayerEntity&gt; players) {\n    this.name = name;\n    this.players = players;\n  }\n\n  public void addPlayer(PlayerEntity player) {\n    players.add(player);\n  }\n\n  // getters and setters\n\n}\n\n</code></pre>\n<p>I doubt that it has to do something with it but the TeamEntity class is also linked in one other table:</p>\n<pre><code>@Id\n  @OneToOne(cascade = CascadeType.PERSIST)\n  @JoinColumn(name = &quot;tournament_id&quot;)\n  private TournamentEntity tournament;\n\n  @Id\n  @OneToOne(cascade = CascadeType.PERSIST)\n  @JoinColumn(name = &quot;player_id&quot;)\n  private PlayerEntity player;\n\n  @OneToOne(cascade = CascadeType.PERSIST)\n  @JoinColumn(name = &quot;team_id&quot;)\n  private TeamEntity team;\n</code></pre>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'valorantEntityManager' defined in class path resource [com/example/tournaments/config/ValorantConfig.class]: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n        at com.example.tournaments.TournamentsApplication.main(TournamentsApplication.java:10) ~[classes/:na]\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1767) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at java.base/java.util.ArrayList.removeIf(Unknown Source) ~[na:na]\n        at java.base/java.util.ArrayList.removeIf(Unknown Source) ~[na:na]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1766) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 16 common frames omitted\n</code></pre>\n<p>If it helps, this is the &quot;teams&quot; table:\n<a href=\"https://i.stack.imgur.com/vS1RC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vS1RC.png\" alt=\"enter image description here\" /></a></p>\n<p>I already tried to remove the players and just have the fields &quot;id&quot; and &quot;name&quot;, but I get the same error so it would very much suprise me if &quot;players&quot; was the problem.</p>\n"},{"tags":["java","lambda","filter","java-8","completable-future"],"comments":[{"owner":{"account_id":2798731,"reputation":1101,"user_id":2407413,"accept_rate":91,"display_name":"akalikin"},"score":0,"creation_date":1479732224,"post_id":40720461,"comment_id":68667654,"body_markdown":"Use `Stream.of()` and `Stream.empty()` ?","body":"Use <code>Stream.of()</code> and <code>Stream.empty()</code> ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1479737425,"post_id":40720461,"comment_id":68671228,"body_markdown":"Don’t call `.orElse(null)`, then you don’t need to test for `null`. So the parameter type of `convertToList` would be `List&lt;CompletableFuture&lt;Optional&lt;T&gt;&gt;&gt;` and it can just do a `.filter(Optional::isPresent).map(Optional::get)` after the `join`…","body":"Don’t call <code>.orElse(null)</code>, then you don’t need to test for <code>null</code>. So the parameter type of <code>convertToList</code> would be <code>List&lt;CompletableFuture&lt;Optional&lt;T&gt;&gt;&gt;</code> and it can just do a <code>.filter(Optional::isPresent).map(Optional::get)</code> after the <code>join</code>…"},{"owner":{"account_id":6671291,"reputation":717,"user_id":5289248,"accept_rate":62,"display_name":"Amir"},"score":0,"creation_date":1479738853,"post_id":40720461,"comment_id":68672162,"body_markdown":"@Holger yes, it&#39;s an option to do filtering (either on optionals or null values) in `convertToList`, I&#39;d like to do everything in one place though, and `convertToList` can be a universal utility function","body":"@Holger yes, it&#39;s an option to do filtering (either on optionals or null values) in <code>convertToList</code>, I&#39;d like to do everything in one place though, and <code>convertToList</code> can be a universal utility function"},{"owner":{"account_id":5942532,"reputation":571,"user_id":4673214,"display_name":"Gene Taylor"},"score":0,"creation_date":1479772934,"post_id":40720461,"comment_id":68690213,"body_markdown":"Why not just write a utility function that goes `List&lt;Option&lt;T&gt;&gt; -&gt; List&lt;T&gt;` ?","body":"Why not just write a utility function that goes <code>List&lt;Option&lt;T&gt;&gt; -&gt; List&lt;T&gt;</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481106928,"creation_date":1481106928,"answer_id":41015158,"question_id":40720461,"body_markdown":"The best way would probably be to change `convertToList()` so that it does not return a future of list, but of stream instead:\r\n\r\n    private &lt;T&gt; CompletableFuture&lt;Stream&lt;T&gt;&gt; convertToFutureOfStream(List&lt;CompletableFuture&lt;T&gt;&gt; toConvert) {\r\n        return CompletableFuture.allOf(toConvert.stream().toArray(CompletableFuture[]::new))\r\n                .thenApply(\r\n                        v -&gt; toConvert.stream()\r\n                                .map(CompletableFuture::join)\r\n                );\r\n    }\r\n\r\n\r\nThis will be more reusable as the method will allow better chaining and will not force the caller to work with a list, while still allowing to easily get a list with a simple collect.\r\n\r\nYou can then simply filter that stream to remove empty optionals:\r\n\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall()\r\n        .thenCompose(listOfStuff -&gt; convertToFutureOfStream(\r\n                listOfStuff.stream()\r\n                        .map(this::asyncCall2)\r\n                        .collect(Collectors.toList())\r\n            )\r\n            .thenApply(stream -&gt;\r\n                    stream.filter(Optional::isPresent)\r\n                            .map(Optional::get)\r\n                            .collect(Collectors.toList())\r\n            )\r\n\r\n        );\r\n\r\nYou can even improve this a little further by changing `convertToFutureOfStream()` to take a stream as argument as well:\r\n\r\n    private &lt;T&gt; CompletableFuture&lt;Stream&lt;T&gt;&gt; convertToFutureOfStream(Stream&lt;CompletableFuture&lt;T&gt;&gt; stream) {\r\n        CompletableFuture&lt;T&gt;[] futures = stream.toArray(CompletableFuture[]::new);\r\n        return CompletableFuture.allOf(futures)\r\n                .thenApply(v -&gt; Arrays.stream(futures).map(CompletableFuture::join));\r\n    }\r\n\r\n(unfortunately this raises an unchecked assignment warning because of the array of generic types)\r\n\r\nWhich then gives\r\n\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall()\r\n        .thenCompose(listOfStuff -&gt; convertToFutureOfStream(\r\n                    listOfStuff.stream().map(this::asyncCall2)\r\n                )\r\n            .thenApply(stream -&gt;\r\n                    stream.filter(Optional::isPresent)\r\n                            .map(Optional::get)\r\n                            .collect(Collectors.toList())\r\n            )\r\n\r\n        );\r\n\r\n","title":"CompletableFutures and filtering based on values that are inside","body":"<p>The best way would probably be to change <code>convertToList()</code> so that it does not return a future of list, but of stream instead:</p>\n\n<pre><code>private &lt;T&gt; CompletableFuture&lt;Stream&lt;T&gt;&gt; convertToFutureOfStream(List&lt;CompletableFuture&lt;T&gt;&gt; toConvert) {\n    return CompletableFuture.allOf(toConvert.stream().toArray(CompletableFuture[]::new))\n            .thenApply(\n                    v -&gt; toConvert.stream()\n                            .map(CompletableFuture::join)\n            );\n}\n</code></pre>\n\n<p>This will be more reusable as the method will allow better chaining and will not force the caller to work with a list, while still allowing to easily get a list with a simple collect.</p>\n\n<p>You can then simply filter that stream to remove empty optionals:</p>\n\n<pre><code>CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall()\n    .thenCompose(listOfStuff -&gt; convertToFutureOfStream(\n            listOfStuff.stream()\n                    .map(this::asyncCall2)\n                    .collect(Collectors.toList())\n        )\n        .thenApply(stream -&gt;\n                stream.filter(Optional::isPresent)\n                        .map(Optional::get)\n                        .collect(Collectors.toList())\n        )\n\n    );\n</code></pre>\n\n<p>You can even improve this a little further by changing <code>convertToFutureOfStream()</code> to take a stream as argument as well:</p>\n\n<pre><code>private &lt;T&gt; CompletableFuture&lt;Stream&lt;T&gt;&gt; convertToFutureOfStream(Stream&lt;CompletableFuture&lt;T&gt;&gt; stream) {\n    CompletableFuture&lt;T&gt;[] futures = stream.toArray(CompletableFuture[]::new);\n    return CompletableFuture.allOf(futures)\n            .thenApply(v -&gt; Arrays.stream(futures).map(CompletableFuture::join));\n}\n</code></pre>\n\n<p>(unfortunately this raises an unchecked assignment warning because of the array of generic types)</p>\n\n<p>Which then gives</p>\n\n<pre><code>CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall()\n    .thenCompose(listOfStuff -&gt; convertToFutureOfStream(\n                listOfStuff.stream().map(this::asyncCall2)\n            )\n        .thenApply(stream -&gt;\n                stream.filter(Optional::isPresent)\n                        .map(Optional::get)\n                        .collect(Collectors.toList())\n        )\n\n    );\n</code></pre>\n"}],"owner":{"account_id":6671291,"reputation":717,"user_id":5289248,"accept_rate":62,"display_name":"Amir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5730,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1689749861,"creation_date":1479732065,"question_id":40720461,"body_markdown":"I&#39;m in a bit of confusion right now, so I have a method that should return `CompletableFuture&lt;List&lt;A&gt;&gt;`\r\n\r\ninside the method is:\r\n\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall().thenApply(....)\r\n    .thenCompose(listOfStuff -&gt; convertToList(listOfStuff.stream().map(\r\n         key -&gt; asyncCall2(key)\r\n            .thenApply(optionalValue -&gt; optionalValue.orElse(null))\r\n    ).collect(Collectors.toList()));\r\n\r\nand `convertToList()` simply joins futures to convert `CompletableFuture&lt;List&lt;ComputableFuture&lt;A&gt;&gt;&gt;` into `CompletableFuture&lt;List&lt;A&gt;&gt;`\r\n\r\nBasically my intention is to filter null values that emerge from `optionalValue.orElse(null)` And it would be easy to do filter before collecting it all to list in the last line, but if I use it just before `.collect` it is working over CompletableFutures\r\n\r\nI suspect there&#39;s a lot of restructuring I can do in my code. \r\n\r\nEDIT: \r\n\r\n    private&lt;T&gt; CompletableFuture&lt;List&lt;T&gt;&gt; convertToList(List&lt;CompletableFuture&lt;T&gt;&gt; toConvert) {\r\n        return CompletableFuture.allOf(toConvert.toArray(new CompletableFuture[toConvert.size()]))\r\n                .thenApply(v -&gt; toConvert.stream()\r\n                        .map(CompletableFuture::join)\r\n                        .collect(Collectors.toList())\r\n                );\r\n    }\r\n\r\n","title":"CompletableFutures and filtering based on values that are inside","body":"<p>I'm in a bit of confusion right now, so I have a method that should return <code>CompletableFuture&lt;List&lt;A&gt;&gt;</code></p>\n\n<p>inside the method is:</p>\n\n<pre><code>CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall().thenApply(....)\n.thenCompose(listOfStuff -&gt; convertToList(listOfStuff.stream().map(\n     key -&gt; asyncCall2(key)\n        .thenApply(optionalValue -&gt; optionalValue.orElse(null))\n).collect(Collectors.toList()));\n</code></pre>\n\n<p>and <code>convertToList()</code> simply joins futures to convert <code>CompletableFuture&lt;List&lt;ComputableFuture&lt;A&gt;&gt;&gt;</code> into <code>CompletableFuture&lt;List&lt;A&gt;&gt;</code></p>\n\n<p>Basically my intention is to filter null values that emerge from <code>optionalValue.orElse(null)</code> And it would be easy to do filter before collecting it all to list in the last line, but if I use it just before <code>.collect</code> it is working over CompletableFutures</p>\n\n<p>I suspect there's a lot of restructuring I can do in my code. </p>\n\n<p>EDIT: </p>\n\n<pre><code>private&lt;T&gt; CompletableFuture&lt;List&lt;T&gt;&gt; convertToList(List&lt;CompletableFuture&lt;T&gt;&gt; toConvert) {\n    return CompletableFuture.allOf(toConvert.toArray(new CompletableFuture[toConvert.size()]))\n            .thenApply(v -&gt; toConvert.stream()\n                    .map(CompletableFuture::join)\n                    .collect(Collectors.toList())\n            );\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","audit-tables"],"comments":[{"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"score":0,"creation_date":1478047772,"post_id":40370709,"comment_id":67995127,"body_markdown":"Did you try this ? http://stackoverflow.com/questions/20483841/spring-data-createddate-annotation-doesnt-work-for-me","body":"Did you try this ? <a href=\"http://stackoverflow.com/questions/20483841/spring-data-createddate-annotation-doesnt-work-for-me\" title=\"spring data createddate annotation doesnt work for me\">stackoverflow.com/questions/20483841/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9132122,"reputation":3607,"user_id":6793312,"accept_rate":50,"display_name":"Moshe Arad"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1478053529,"creation_date":1478053529,"answer_id":40371540,"question_id":40370709,"body_markdown":"The `@CreatedDate` won&#39;t work by itself if you just put `@EntityListeners(AuditingEntityListener.class)` on your entities. In order, it&#39;ll work you have to do a little more configuration.\r\n\r\nLet&#39;s say that in your DB the field of `@CreatedDate` is String type, and you want to return the user that is currently logged in as a value for `@CreatedDate`, then do this: \r\n\r\n    public class CustomAuditorAware implements AuditorAware&lt;String&gt; {\r\n    \t\r\n    \t@Override\r\n    \tpublic String getCurrentAuditor() {\r\n    \t\tString loggedName = SecurityContextHolder.getContext().getAuthentication().getName();\r\n            return loggedName;\r\n    \t}\r\n    \r\n    }\r\n\r\nYou can write there any functionality that fits your needs, but you certainly must have a bean that reference to a class that implements `AuditorAware&lt;your_type_in_db_of_created_date&gt;\r\n\r\nThe second part and equally important, is to create a bean that returns that class with annotation of `@EnableJpaAuditing`, like this:\r\n\r\n    @Configuration\r\n    @EnableJpaAuditing\r\n    public class AuditorConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic CustomAuditorAware auditorProvider(){\r\n    \t\treturn new CustomAuditorAware();\r\n    \t}\r\n    }\r\n\r\nif your poison is XML configuration then do this:\r\n\r\n    &lt;bean id=&quot;customAuditorAware&quot; class=&quot;org.moshe.arad.general.CustomAuditorAware&quot; /&gt;\r\n    \t&lt;jpa:auditing auditor-aware-ref=&quot;customAuditorAware&quot;/&gt;","title":"@CreatedDate annotation does not work with mysql","body":"<p>The <code>@CreatedDate</code> won't work by itself if you just put <code>@EntityListeners(AuditingEntityListener.class)</code> on your entities. In order, it'll work you have to do a little more configuration.</p>\n\n<p>Let's say that in your DB the field of <code>@CreatedDate</code> is String type, and you want to return the user that is currently logged in as a value for <code>@CreatedDate</code>, then do this: </p>\n\n<pre><code>public class CustomAuditorAware implements AuditorAware&lt;String&gt; {\n\n    @Override\n    public String getCurrentAuditor() {\n        String loggedName = SecurityContextHolder.getContext().getAuthentication().getName();\n        return loggedName;\n    }\n\n}\n</code></pre>\n\n<p>You can write there any functionality that fits your needs, but you certainly must have a bean that reference to a class that implements `AuditorAware</p>\n\n<p>The second part and equally important, is to create a bean that returns that class with annotation of <code>@EnableJpaAuditing</code>, like this:</p>\n\n<pre><code>@Configuration\n@EnableJpaAuditing\npublic class AuditorConfig {\n\n    @Bean\n    public CustomAuditorAware auditorProvider(){\n        return new CustomAuditorAware();\n    }\n}\n</code></pre>\n\n<p>if your poison is XML configuration then do this:</p>\n\n<pre><code>&lt;bean id=\"customAuditorAware\" class=\"org.moshe.arad.general.CustomAuditorAware\" /&gt;\n    &lt;jpa:auditing auditor-aware-ref=\"customAuditorAware\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4033760,"reputation":1708,"user_id":3318976,"display_name":"Ismail"},"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1562168077,"creation_date":1562168077,"answer_id":56873616,"question_id":40370709,"body_markdown":"I was Having this issue also and your solution helped me, Thanks, And I add some other annotations to work \r\n\r\nFist make sure you put in SpringApplication Configuration\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaAuditing\r\n\r\nSecond, make sure you use this annotation on your needed entities \r\n\r\n      @Entity\r\n      @Table\r\n      @EntityListeners(AuditingEntityListener.class)\r\n\r\n","title":"@CreatedDate annotation does not work with mysql","body":"<p>I was Having this issue also and your solution helped me, Thanks, And I add some other annotations to work </p>\n\n<p>Fist make sure you put in SpringApplication Configuration</p>\n\n<pre><code>@SpringBootApplication\n@EnableJpaAuditing\n</code></pre>\n\n<p>Second, make sure you use this annotation on your needed entities </p>\n\n<pre><code>  @Entity\n  @Table\n  @EntityListeners(AuditingEntityListener.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626518398,"creation_date":1626518398,"answer_id":68419732,"question_id":40370709,"body_markdown":"If you want to use java8 time classes:\r\n\r\n```\r\n@EnableJpaAuditing(dateTimeProviderRef = &quot;auditingDateTimeProvider&quot;)\r\n....\r\n\r\n@Bean(name = &quot;auditingDateTimeProvider&quot;)\r\npublic DateTimeProvider dateTimeProvider() {\r\n        return () -&gt; Optional.of(OffsetDateTime.now());\r\n}\r\n```","title":"@CreatedDate annotation does not work with mysql","body":"<p>If you want to use java8 time classes:</p>\n<pre><code>@EnableJpaAuditing(dateTimeProviderRef = &quot;auditingDateTimeProvider&quot;)\n....\n\n@Bean(name = &quot;auditingDateTimeProvider&quot;)\npublic DateTimeProvider dateTimeProvider() {\n        return () -&gt; Optional.of(OffsetDateTime.now());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17261083,"reputation":834,"user_id":12498947,"display_name":"Supuna Warusawithana"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1635860929,"creation_date":1634644478,"answer_id":69630348,"question_id":40370709,"body_markdown":"You can use @creationTimestamp and @UpdateTimestamp like this:\r\n\r\n\r\n```java\r\n  @CreationTimestamp\r\n  private Instant createdAt;\r\n\r\n  @UpdateTimestamp\r\n  private Instant updatedAt;\r\n```\r\n","title":"@CreatedDate annotation does not work with mysql","body":"<p>You can use @creationTimestamp and @UpdateTimestamp like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @CreationTimestamp\n  private Instant createdAt;\n\n  @UpdateTimestamp\n  private Instant updatedAt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639394484,"creation_date":1639394484,"answer_id":70333826,"question_id":40370709,"body_markdown":"Without using JPA Entity listener, create date will not work as this is how JPA work for auditing and create or modify date.\r\n\r\njust modify code like below:\r\n\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    class XYZ {\r\n    \r\n        @Setter(value = AccessLevel.NONE)\r\n        @CreatedDate\r\n        @Column(name = &quot;date_time&quot;)\r\n        private Date dateTime;\r\n    \r\n    \r\n    }","title":"@CreatedDate annotation does not work with mysql","body":"<p>Without using JPA Entity listener, create date will not work as this is how JPA work for auditing and create or modify date.</p>\n<p>just modify code like below:</p>\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\nclass XYZ {\n\n    @Setter(value = AccessLevel.NONE)\n    @CreatedDate\n    @Column(name = &quot;date_time&quot;)\n    private Date dateTime;\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29046990,"reputation":1,"user_id":22250605,"display_name":"Rajesh Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689749574,"creation_date":1689749574,"answer_id":76718670,"question_id":40370709,"body_markdown":"Add @EnableMongoAuditing or @EnableJpaAuditing as per your code","title":"@CreatedDate annotation does not work with mysql","body":"<p>Add @EnableMongoAuditing or @EnableJpaAuditing as per your code</p>\n"}],"owner":{"account_id":2083792,"reputation":4788,"user_id":4599824,"accept_rate":89,"display_name":"Fawzan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59876,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":40371540,"answer_count":6,"score":37,"last_activity_date":1689749574,"creation_date":1478047061,"question_id":40370709,"body_markdown":"I am new to spring and I am confused how @CreatedDate annotation works in an entity. \r\n\r\nI did a google search and there were many solutions, but none of them worked for me except one. I am confused why? \r\n\r\nThis is what I tried first \r\n\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String name;\r\n    \r\n        @CreatedDate\r\n        private Date created;\r\n    \r\n        public User(String name) {\r\n    \r\n            this.name = name;\r\n        }\r\n    \r\n        public User() {\r\n        }\r\n\r\nIt did not work. I got NULL for the value in `created` column. \r\n\r\nThen I did this. \r\n\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String name;\r\n    \r\n        @CreatedDate\r\n        private Date created = new Date();\r\n    \r\n        public User(String name) {\r\n    \r\n            this.name = name;\r\n        }\r\n    \r\n        public User() {\r\n        }\r\n\r\nThis actually stored the time stamp in the db. My question is most of the tutorials I followed suggested that I do not need `new Date()` to get the current time stamp. Looks like I do need that. Is there anything I am missing? \r\n\r\n","title":"@CreatedDate annotation does not work with mysql","body":"<p>I am new to spring and I am confused how @CreatedDate annotation works in an entity. </p>\n\n<p>I did a google search and there were many solutions, but none of them worked for me except one. I am confused why? </p>\n\n<p>This is what I tried first </p>\n\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n\n    @CreatedDate\n    private Date created;\n\n    public User(String name) {\n\n        this.name = name;\n    }\n\n    public User() {\n    }\n</code></pre>\n\n<p>It did not work. I got NULL for the value in <code>created</code> column. </p>\n\n<p>Then I did this. </p>\n\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n\n    @CreatedDate\n    private Date created = new Date();\n\n    public User(String name) {\n\n        this.name = name;\n    }\n\n    public User() {\n    }\n</code></pre>\n\n<p>This actually stored the time stamp in the db. My question is most of the tutorials I followed suggested that I do not need <code>new Date()</code> to get the current time stamp. Looks like I do need that. Is there anything I am missing? </p>\n"},{"tags":["java","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689745266,"post_id":76718234,"comment_id":135254837,"body_markdown":"Please show your code / k8s resources / stacktrace as a [mcve]","body":"Please show your code / k8s resources / stacktrace as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689749446,"creation_date":1689749028,"answer_id":76718612,"question_id":76718234,"body_markdown":"The error you are getting suggests a database connection leak or some very slow DB operations which cause all connections from the pool to hang.\r\n\r\nTo fix the problem, you first have to identify the source code which causes hanging connections and fix it.\r\n\r\nHere are some tips:\r\n* Check for hanging connections in the database, after you find them, identify the source code and inspect it\r\n* Use property `spring.datasource.hikari.leak-detection-threshold = 10000` to automatically detect and log leaks\r\n* Use property `logging.level.com.zaxxer.hikari = DEBUG` to see additional logs from Hikari\r\n* Use property `spring.jpa.open-in-view=false` to reduce lifetime of the connections\r\n* Checkout Vlad Mihalcea&#39;s article: [the-best-way-to-detect-database-connection-leaks][1]\r\n* Checkout related Stack Overflow questions such as [spring or hibernate connection leak][2]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-detect-database-connection-leaks/\r\n  [2]: https://stackoverflow.com/questions/27925914/spring-or-hibernate-connection-leak","title":"DB Connections in SpringBoot using HikariCP","body":"<p>The error you are getting suggests a database connection leak or some very slow DB operations which cause all connections from the pool to hang.</p>\n<p>To fix the problem, you first have to identify the source code which causes hanging connections and fix it.</p>\n<p>Here are some tips:</p>\n<ul>\n<li>Check for hanging connections in the database, after you find them, identify the source code and inspect it</li>\n<li>Use property <code>spring.datasource.hikari.leak-detection-threshold = 10000</code> to automatically detect and log leaks</li>\n<li>Use property <code>logging.level.com.zaxxer.hikari = DEBUG</code> to see additional logs from Hikari</li>\n<li>Use property <code>spring.jpa.open-in-view=false</code> to reduce lifetime of the connections</li>\n<li>Checkout Vlad Mihalcea's article: <a href=\"https://vladmihalcea.com/the-best-way-to-detect-database-connection-leaks/\" rel=\"nofollow noreferrer\">the-best-way-to-detect-database-connection-leaks</a></li>\n<li>Checkout related Stack Overflow questions such as <a href=\"https://stackoverflow.com/questions/27925914/spring-or-hibernate-connection-leak\">spring or hibernate connection leak</a></li>\n</ul>\n"}],"owner":{"account_id":12883738,"reputation":47,"user_id":9317986,"display_name":"Manoj Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1689749446,"creation_date":1689744798,"question_id":76718234,"body_markdown":"While I was performing a load test on the Restful service developed through Springboot and deployed as a microservice in Kubernetes cluster, I encountered an issue with DB connection pool size. On reading about the connection pooling, I have added Hikari configuration settings in &quot;application.properties&quot; file and tested again. The test was better and but still sometimes it fails with DB connection error like Connections are not available and connection timeout. I stop the load test and try to validate the service by invoking it separately, even then I see DB connection not available error. I end up resetting the Pod&#39;s to come out of this issue, is there a time when it Pod comes back to normal or is it needed the JVM to be restarted (in my case, it is Pod)? Please suggest\r\n\r\napplication.properties\r\n\r\n    spring.datasource.url=jdbc:oracle:thin:....\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n    spring.main.allow-bean-definition-overriding=true\r\n    \r\n    #connection pool configuration\r\n    spring.datasource.hikari.pool-name=SVConnectionPool\r\n    spring.datasource.hikari.maximum-pool-size=60\r\n\r\nError seen in the logs\r\n\r\n    2023-07-19T05:59:46.455208060Z \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    2023-07-19T05:59:46.455436540Z Caused by: java.sql.SQLTransientConnectionException: SVConnectionPool - Connection is not available, request timed out after 76386ms.\r\n    2023-07-19T05:59:46.455448334Z \tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\r\n    2023-07-19T05:59:46.455481188Z \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)\r\n    2023-07-19T05:59:46.456083667Z \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)\r\n    2023-07-19T05:59:46.456094566Z \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)\r\n    2023-07-19T05:59:46.456286268Z \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)\r\n    \t... 88 more\r\n    2023-07-19T05:59:46.456769448Z org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: SVConnectionPool - Connection is not available, request timed out after 76386ms.","title":"DB Connections in SpringBoot using HikariCP","body":"<p>While I was performing a load test on the Restful service developed through Springboot and deployed as a microservice in Kubernetes cluster, I encountered an issue with DB connection pool size. On reading about the connection pooling, I have added Hikari configuration settings in &quot;application.properties&quot; file and tested again. The test was better and but still sometimes it fails with DB connection error like Connections are not available and connection timeout. I stop the load test and try to validate the service by invoking it separately, even then I see DB connection not available error. I end up resetting the Pod's to come out of this issue, is there a time when it Pod comes back to normal or is it needed the JVM to be restarted (in my case, it is Pod)? Please suggest</p>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:....\nspring.datasource.username=test\nspring.datasource.password=test\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\nspring.main.allow-bean-definition-overriding=true\n\n#connection pool configuration\nspring.datasource.hikari.pool-name=SVConnectionPool\nspring.datasource.hikari.maximum-pool-size=60\n</code></pre>\n<p>Error seen in the logs</p>\n<pre><code>2023-07-19T05:59:46.455208060Z  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2023-07-19T05:59:46.455436540Z Caused by: java.sql.SQLTransientConnectionException: SVConnectionPool - Connection is not available, request timed out after 76386ms.\n2023-07-19T05:59:46.455448334Z  at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\n2023-07-19T05:59:46.455481188Z  at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)\n2023-07-19T05:59:46.456083667Z  at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)\n2023-07-19T05:59:46.456094566Z  at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)\n2023-07-19T05:59:46.456286268Z  at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)\n    ... 88 more\n2023-07-19T05:59:46.456769448Z org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: SVConnectionPool - Connection is not available, request timed out after 76386ms.\n</code></pre>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":7,"creation_date":1689619006,"post_id":76707210,"comment_id":135236322,"body_markdown":"How do you verify that the loop continues when the entire boolean expression is false? What debugging steps have you done and what is the result from these steps?","body":"How do you verify that the loop continues when the entire boolean expression is false? What debugging steps have you done and what is the result from these steps?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1689619008,"post_id":76707210,"comment_id":135236324,"body_markdown":"BTW The only possible values of `nextInt(3)` are `0`, `1`, and `2` - so &quot;loop chooses a random value from 1 to 4&quot; is not correct","body":"BTW The only possible values of <code>nextInt(3)</code> are <code>0</code>, <code>1</code>, and <code>2</code> - so &quot;loop chooses a random value from 1 to 4&quot; is not correct"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689619377,"post_id":76707210,"comment_id":135236377,"body_markdown":"BTW2 `for (int x = 0; x &lt;= tamanhoDaSenha; x++)` is looping one time more than needed - I would prefer `senha.length() &lt; tamanhoDaSenha` (maybe in a `while`)","body":"BTW2 <code>for (int x = 0; x &lt;= tamanhoDaSenha; x++)</code> is looping one time more than needed - I would prefer <code>senha.length() &lt; tamanhoDaSenha</code> (maybe in a <code>while</code>)"}],"answers":[{"tags":[],"owner":{"account_id":12555337,"reputation":136,"user_id":9135271,"display_name":"AleksanderSzporka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689749394,"creation_date":1689619652,"answer_id":76707319,"question_id":76707210,"body_markdown":"You should rely on tests to make sure that the method you wrote works as required, so in this case I wrote some tests based on code you provided.\r\n\r\nPlease note that this is only example and you should not place model logic in test code and you should test method behaviour.\r\n\r\n\r\n    @ParameterizedTest\r\n    @CsvSource(value = {\r\n            &quot;0,0,0,0&quot;, &quot;1,0,0,0&quot;, &quot;0,2,0,0&quot;, &quot;0,0,3,0&quot;, &quot;0,0,0,4&quot;, &quot;1,2,0,0&quot;, &quot;1,0,3,0&quot;, &quot;1,0,0,4&quot;,\r\n            &quot;0,2,3,0&quot;, &quot;0,2,0,4&quot;, &quot;0,0,3,4&quot;, &quot;1,2,3,0&quot;, &quot;1,2,0,4&quot;, &quot;0,2,3,4&quot;, &quot;1,0,3,4&quot;}, delimiter = &#39;,&#39;)\r\n    void shouldNaoColocarDoesNotHaveInfiniteWhileLoop(ArgumentsAccessor aa) {\r\n        int[] naoColocar = {aa.getInteger(0), aa.getInteger(1), aa.getInteger(2), aa.getInteger(3)};\r\n        whileNaoColocar(naoColocar);\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @CsvSource(value = {&quot;1,2,3,4&quot;}, delimiter = &#39;,&#39;)\r\n    void shouldNaoColocarHaveInfiniteWhileLoop(ArgumentsAccessor aa) {\r\n        int[] naoColocar = {aa.getInteger(0), aa.getInteger(1), aa.getInteger(2), aa.getInteger(3)};\r\n        assertThrows(RuntimeException.class, () -&gt; whileNaoColocar(naoColocar));\r\n    }\r\n\r\n    void whileNaoColocar(int[] naoColocar) {\r\n        int counter = 0;\r\n        int numAleatorio = random.nextInt(4);\r\n        numAleatorio++;\r\n\r\n        while (naoColocar[0] == numAleatorio || naoColocar[1] == numAleatorio ||\r\n                naoColocar[2] == numAleatorio || naoColocar[3] == numAleatorio) {\r\n            numAleatorio = random.nextInt(4);\r\n            numAleatorio++;\r\n            counter++;\r\n            if (counter &gt;= 100) throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nThese tests are passing, so that indicates that there is an error in your method logic when dealing with dataset `{1,2,3,4}`\r\n\r\nIn that case I suggest you to run your code with debugger and see why stop condition does not occur in your while loop.\r\n\r\n\r\n","title":"While loop doesn&#39;t stop even after condition is false","body":"<p>You should rely on tests to make sure that the method you wrote works as required, so in this case I wrote some tests based on code you provided.</p>\n<p>Please note that this is only example and you should not place model logic in test code and you should test method behaviour.</p>\n<pre><code>@ParameterizedTest\n@CsvSource(value = {\n        &quot;0,0,0,0&quot;, &quot;1,0,0,0&quot;, &quot;0,2,0,0&quot;, &quot;0,0,3,0&quot;, &quot;0,0,0,4&quot;, &quot;1,2,0,0&quot;, &quot;1,0,3,0&quot;, &quot;1,0,0,4&quot;,\n        &quot;0,2,3,0&quot;, &quot;0,2,0,4&quot;, &quot;0,0,3,4&quot;, &quot;1,2,3,0&quot;, &quot;1,2,0,4&quot;, &quot;0,2,3,4&quot;, &quot;1,0,3,4&quot;}, delimiter = ',')\nvoid shouldNaoColocarDoesNotHaveInfiniteWhileLoop(ArgumentsAccessor aa) {\n    int[] naoColocar = {aa.getInteger(0), aa.getInteger(1), aa.getInteger(2), aa.getInteger(3)};\n    whileNaoColocar(naoColocar);\n}\n\n@ParameterizedTest\n@CsvSource(value = {&quot;1,2,3,4&quot;}, delimiter = ',')\nvoid shouldNaoColocarHaveInfiniteWhileLoop(ArgumentsAccessor aa) {\n    int[] naoColocar = {aa.getInteger(0), aa.getInteger(1), aa.getInteger(2), aa.getInteger(3)};\n    assertThrows(RuntimeException.class, () -&gt; whileNaoColocar(naoColocar));\n}\n\nvoid whileNaoColocar(int[] naoColocar) {\n    int counter = 0;\n    int numAleatorio = random.nextInt(4);\n    numAleatorio++;\n\n    while (naoColocar[0] == numAleatorio || naoColocar[1] == numAleatorio ||\n            naoColocar[2] == numAleatorio || naoColocar[3] == numAleatorio) {\n        numAleatorio = random.nextInt(4);\n        numAleatorio++;\n        counter++;\n        if (counter &gt;= 100) throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>These tests are passing, so that indicates that there is an error in your method logic when dealing with dataset <code>{1,2,3,4}</code></p>\n<p>In that case I suggest you to run your code with debugger and see why stop condition does not occur in your while loop.</p>\n"}],"owner":{"account_id":25892407,"reputation":1,"user_id":22242048,"display_name":"GabrielEmDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1689749394,"creation_date":1689618731,"question_id":76707210,"body_markdown":"I am trying to make a code that generates a password for the user, and I wanted the user to be able to select which types of characters it would like in its password.\r\n\r\nWhen the user decides to not have a certain character, it adds a certain number in an array called `naoColocar`. By default, the array is 0, 0, 0, 0, but if you want to not add lowercase letters it adds 1 to index 0, uppercase letters adds 2 to index 1, numbers add 3 to index 2, special characters add 4 to index 3.\r\n\r\n```java\r\nfor (int x = 0; x &lt; tamanhoDaSenha; x++) {\r\n            int numAleatorio = random.nextInt(4);\r\n            numAleatorio++;\r\n            \r\n            while (naoColocar[0] == numAleatorio || naoColocar[1] == numAleatorio || naoColocar[2] == numAleatorio || naoColocar[3] == numAleatorio) {\r\n                numAleatorio = random.nextInt(4);\r\n                numAleatorio++;\r\n            }\r\n\r\n            switch (numAleatorio) {\r\n                case 1:\r\n                senha += letrasMin[random.nextInt(26)];\r\n                break;\r\n\r\n                case 2:\r\n                senha += letrasMai[random.nextInt(26)];\r\n                break;\r\n                \r\n                case 3:\r\n                senha += numeros[random.nextInt(10)];\r\n                break;\r\n\r\n                case 4:\r\n                senha += charEspeciais[random.nextInt(11)];\r\n                break;\r\n            }\r\n            }\r\n```\r\n\r\nIn the code, the for loop chooses a random value from 1 to 4 (`numAleatorio`) and depending on the value, adds a certain character to the password. I made a while loop that checks if the random value is in the array, it would generate a new value to `numAleatorio`, but even when the condition is false, the while loop continues and the password is never generated, why?\r\nEdit: Changed so that now the code generates the correct amount of characters and 9, z and Z are now possible, thanks for pointing it out.","title":"While loop doesn&#39;t stop even after condition is false","body":"<p>I am trying to make a code that generates a password for the user, and I wanted the user to be able to select which types of characters it would like in its password.</p>\n<p>When the user decides to not have a certain character, it adds a certain number in an array called <code>naoColocar</code>. By default, the array is 0, 0, 0, 0, but if you want to not add lowercase letters it adds 1 to index 0, uppercase letters adds 2 to index 1, numbers add 3 to index 2, special characters add 4 to index 3.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int x = 0; x &lt; tamanhoDaSenha; x++) {\n            int numAleatorio = random.nextInt(4);\n            numAleatorio++;\n            \n            while (naoColocar[0] == numAleatorio || naoColocar[1] == numAleatorio || naoColocar[2] == numAleatorio || naoColocar[3] == numAleatorio) {\n                numAleatorio = random.nextInt(4);\n                numAleatorio++;\n            }\n\n            switch (numAleatorio) {\n                case 1:\n                senha += letrasMin[random.nextInt(26)];\n                break;\n\n                case 2:\n                senha += letrasMai[random.nextInt(26)];\n                break;\n                \n                case 3:\n                senha += numeros[random.nextInt(10)];\n                break;\n\n                case 4:\n                senha += charEspeciais[random.nextInt(11)];\n                break;\n            }\n            }\n</code></pre>\n<p>In the code, the for loop chooses a random value from 1 to 4 (<code>numAleatorio</code>) and depending on the value, adds a certain character to the password. I made a while loop that checks if the random value is in the array, it would generate a new value to <code>numAleatorio</code>, but even when the condition is false, the while loop continues and the password is never generated, why?\nEdit: Changed so that now the code generates the correct amount of characters and 9, z and Z are now possible, thanks for pointing it out.</p>\n"},{"tags":["java","throttling"],"comments":[{"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"score":0,"creation_date":1252609615,"post_id":1407113,"comment_id":97423844,"body_markdown":"Check out the [TimerTask(https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html) class. Or the [ScheduledExecutor](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html).","body":"Check out the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">TimerTask(https://docs.oracle.com/javase/7/docs/api/java/uti&zwnj;&#8203;l/TimerTask.html) class. Or the [ScheduledExecutor</a>."},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":4,"creation_date":1252610960,"post_id":1407113,"comment_id":1249229,"body_markdown":"There are some great answers to this problem at http://stackoverflow.com/questions/667508/whats-a-good-rate-limiting-algorithm","body":"There are some great answers to this problem at <a href=\"http://stackoverflow.com/questions/667508/whats-a-good-rate-limiting-algorithm\" title=\"whats a good rate limiting algorithm\">stackoverflow.com/questions/667508/&hellip;</a>"},{"owner":{"account_id":80090,"reputation":708,"user_id":226691,"display_name":"Jack Leitch"},"score":0,"creation_date":1287502920,"post_id":1407113,"comment_id":97423741,"body_markdown":"&gt; I need to make sure that my method is\n&gt; executed no more than M times in a\n&gt; sliding window of N seconds. I recently wrote a blog post about how to do this in .NET. You might be able to create something similar in Java. [Better Rate Limiting in .NET](http://www.jackleitch.net/2010/10/better-rate-limiting-with-dot-net/)","body":"&gt; I need to make sure that my method is &gt; executed no more than M times in a &gt; sliding window of N seconds. I recently wrote a blog post about how to do this in .NET. You might be able to create something similar in Java. <a href=\"http://www.jackleitch.net/2010/10/better-rate-limiting-with-dot-net/\" rel=\"nofollow noreferrer\">Better Rate Limiting in .NET</a>"},{"owner":{"account_id":380281,"reputation":3074,"user_id":734191,"accept_rate":71,"display_name":"Hbf"},"score":0,"creation_date":1305188096,"post_id":1407113,"comment_id":97423796,"body_markdown":"The original question sounds a lot like the problem solved in this blog post: [Java Multi-Channel Asynchronous Throttler](http://www.cordinc.com/blog/2010/04/java-multichannel-asynchronous.html ). For a rate of M calls in N seconds, the throttler discussed in this blog guarantees that *any* interval of length N on the timeline will not contain more than M calls.","body":"The original question sounds a lot like the problem solved in this blog post: [Java Multi-Channel Asynchronous Throttler](<a href=\"http://www.cordinc.com/blog/2010/04/java-multichannel-asynchronous.html\" rel=\"nofollow noreferrer\">cordinc.com/blog/2010/04/java-multichannel-asynch&zwnj;&#8203;ronous.html</a> ). For a rate of M calls in N seconds, the throttler discussed in this blog guarantees that <i>any</i> interval of length N on the timeline will not contain more than M calls."},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":0,"creation_date":1439137279,"post_id":1407113,"comment_id":51726450,"body_markdown":"http://stackoverflow.com/questions/6271409/limiting-upload-speed-on-java","body":"<a href=\"http://stackoverflow.com/questions/6271409/limiting-upload-speed-on-java\" title=\"limiting upload speed on java\">stackoverflow.com/questions/6271409/&hellip;</a>"},{"owner":{"account_id":308224,"reputation":578,"user_id":619961,"display_name":"ikaerom"},"score":0,"creation_date":1455708429,"post_id":1407113,"comment_id":97423797,"body_markdown":"Additionally, the same person has improved his implementation to guarantee call order preservation: http://www.cordinc.com/blog/2010/06/ordered-java-multichannel-asyn.html","body":"Additionally, the same person has improved his implementation to guarantee call order preservation: <a href=\"http://www.cordinc.com/blog/2010/06/ordered-java-multichannel-asyn.html\" rel=\"nofollow noreferrer\">cordinc.com/blog/2010/06/ordered-java-multichannel-asyn.html</a>"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1490636797,"post_id":1407113,"comment_id":97423827,"body_markdown":"You can use redis for this when locking is needed in distributed system. Second algorithm in https://redis.io/commands/incr","body":"You can use redis for this when locking is needed in distributed system. Second algorithm in <a href=\"https://redis.io/commands/incr\" rel=\"nofollow noreferrer\">redis.io/commands/incr</a>"},{"owner":{"account_id":1185016,"reputation":3876,"user_id":1159167,"accept_rate":75,"display_name":"Ricardo"},"score":0,"creation_date":1680653974,"post_id":1407113,"comment_id":133933966,"body_markdown":"Scala players may consider [RateLimiter](https://failsafe.dev/rate-limiter)","body":"Scala players may consider <a href=\"https://failsafe.dev/rate-limiter\" rel=\"nofollow noreferrer\">RateLimiter</a>"}],"answers":[{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1252609659,"creation_date":1252609659,"answer_id":1407134,"question_id":1407113,"body_markdown":"Read up on the [Token bucket][1] algorithm.  Basically, you have a bucket with tokens in it.  Every time you execute the method, you take a token.  If there are no more tokens, you block until you get one.  Meanwhile, there is some external actor that replenishes the tokens at a fixed interval.\r\n\r\nI&#39;m not aware of a library to do this (or anything similar).  You could write this logic into your code or use AspectJ to add the behavior.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Token_bucket","title":"Throttling method calls to M requests in N seconds","body":"<p>Read up on the <a href=\"http://en.wikipedia.org/wiki/Token_bucket\" rel=\"noreferrer\">Token bucket</a> algorithm.  Basically, you have a bucket with tokens in it.  Every time you execute the method, you take a token.  If there are no more tokens, you block until you get one.  Meanwhile, there is some external actor that replenishes the tokens at a fixed interval.</p>\n\n<p>I'm not aware of a library to do this (or anything similar).  You could write this logic into your code or use AspectJ to add the behavior.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":2,"up_vote_count":99,"is_accepted":true,"score":97,"last_activity_date":1252609724,"creation_date":1252609724,"answer_id":1407144,"question_id":1407113,"body_markdown":"I&#39;d use a [ring buffer][1] of timestamps with a fixed size of M. Each time the method is called, you check the oldest entry, and if it&#39;s less than N seconds in the past, you execute and add another entry, otherwise you sleep for the time difference.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ring_buffer","title":"Throttling method calls to M requests in N seconds","body":"<p>I'd use a <a href=\"http://en.wikipedia.org/wiki/Ring_buffer\" rel=\"noreferrer\">ring buffer</a> of timestamps with a fixed size of M. Each time the method is called, you check the oldest entry, and if it's less than N seconds in the past, you execute and add another entry, otherwise you sleep for the time difference.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1252610773,"creation_date":1252610773,"answer_id":1407228,"question_id":1407113,"body_markdown":"In concrete terms, you should be able to implement this with a [`DelayQueue`][1]. Initialize the queue with `M` `Delayed` instances with their delay initially set to zero. As requests to the method come in, [`take`][2] a token, which causes the method to block until the throttling requirement has been met. When a token has been taken, [`add`][3] a new token to the queue with a delay of `N`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#take()\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#add%28E%29","title":"Throttling method calls to M requests in N seconds","body":"<p>In concrete terms, you should be able to implement this with a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html\" rel=\"noreferrer\"><code>DelayQueue</code></a>. Initialize the queue with <code>M</code> <code>Delayed</code> instances with their delay initially set to zero. As requests to the method come in, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#take()\" rel=\"noreferrer\"><code>take</code></a> a token, which causes the method to block until the throttling requirement has been met. When a token has been taken, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#add%28E%29\" rel=\"noreferrer\"><code>add</code></a> a new token to the queue with a delay of <code>N</code>.</p>\n"},{"tags":[],"owner":{"account_id":2722,"reputation":94810,"user_id":3827,"accept_rate":94,"display_name":"Eugene Yokota"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1252611007,"creation_date":1252611007,"answer_id":1407242,"question_id":1407113,"body_markdown":"Although it&#39;s not what you asked, [`ThreadPoolExecutor`][1], which is designed to cap to M simultaneous requests instead of M requests in N seconds, could also be useful.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Throttling method calls to M requests in N seconds","body":"<p>Although it's not what you asked, <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code></a>, which is designed to cap to M simultaneous requests instead of M requests in N seconds, could also be useful.</p>\n"},{"tags":[],"owner":{"account_id":1512566,"reputation":1594,"user_id":1414288,"accept_rate":67,"display_name":"Devas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475239018,"creation_date":1337841776,"answer_id":10732416,"question_id":1407113,"body_markdown":"I have implemented a simple throttling algorithm.Try this link,\r\nhttp://krishnaprasadas.blogspot.in/2012/05/throttling-algorithm.html\r\n\r\nA brief about the Algorithm,\r\n\r\nThis algorithm utilizes the capability of Java [Delayed Queue][1].\r\nCreate a [delayed][2] object with the expected delay (here 1000/M for millisecond [TimeUnit][3]).\r\nPut the same object into the delayed queue which will intern provides the moving window for us.\r\nThen before each method call [take][4] the object form the queue, take is a blocking call which will return only after the specified delay, and after the method call don&#39;t forget to put the object into the queue with updated time(here current milliseconds).\r\n\r\nHere we can also have multiple delayed objects with different delay. This approach will also provide high throughput.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Delayed.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html\r\n  [4]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#take%28%29hm.html","title":"Throttling method calls to M requests in N seconds","body":"<p>I have implemented a simple throttling algorithm.Try this link,\n<a href=\"http://krishnaprasadas.blogspot.in/2012/05/throttling-algorithm.html\" rel=\"nofollow\">http://krishnaprasadas.blogspot.in/2012/05/throttling-algorithm.html</a></p>\n\n<p>A brief about the Algorithm,</p>\n\n<p>This algorithm utilizes the capability of Java <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html\" rel=\"nofollow\">Delayed Queue</a>.\nCreate a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Delayed.html\" rel=\"nofollow\">delayed</a> object with the expected delay (here 1000/M for millisecond <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"nofollow\">TimeUnit</a>).\nPut the same object into the delayed queue which will intern provides the moving window for us.\nThen before each method call <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#take%28%29hm.html\" rel=\"nofollow\">take</a> the object form the queue, take is a blocking call which will return only after the specified delay, and after the method call don't forget to put the object into the queue with updated time(here current milliseconds).</p>\n\n<p>Here we can also have multiple delayed objects with different delay. This approach will also provide high throughput.</p>\n"},{"tags":[],"owner":{"account_id":1688086,"reputation":2868,"user_id":1550964,"display_name":"Duarte Meneses"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1402490795,"creation_date":1354628810,"answer_id":13704385,"question_id":1407113,"body_markdown":"This depends in the application.\r\n\r\nImagine the case in which **multiple threads** want a token to do some **globally rate-limited action** with **no burst allowed** (i.e. you want to limit 10 actions per 10 seconds but you don&#39;t want 10 actions to happen in the first second and then remain 9 seconds stopped). \r\n\r\nThe DelayedQueue has a disadvantage: the order at which threads request tokens might not be the order at which they get their request fulfilled. If multiple threads are blocked waiting for a token, it is not clear which one will take the next available token. You could even have threads waiting forever, in my point of view.\r\n\r\nOne solution is to have **a minimum interval of time between two consecutive actions**, and take actions in the same order as they were requested.\r\n\r\nHere is an implementation:\r\n\r\n\tpublic class LeakyBucket {\r\n\t\tprotected float maxRate;\r\n\t\tprotected long minTime;\r\n\t\t//holds time of last action (past or future!)\r\n\t\tprotected long lastSchedAction = System.currentTimeMillis();\r\n\t\r\n\t\tpublic LeakyBucket(float maxRate) throws Exception {\r\n\t\t\tif(maxRate &lt;= 0.0f) {\r\n\t\t\t\tthrow new Exception(&quot;Invalid rate&quot;);\r\n\t\t\t}\r\n\t\t\tthis.maxRate = maxRate;\r\n\t\t\tthis.minTime = (long)(1000.0f / maxRate);\r\n\t\t}\r\n\t\r\n\t\tpublic void consume() throws InterruptedException {\r\n\t\t\tlong curTime = System.currentTimeMillis();\r\n\t\t\tlong timeLeft;\r\n\t\r\n\t\t\t//calculate when can we do the action\r\n\t\t\tsynchronized(this) {\r\n\t\t\t\ttimeLeft = lastSchedAction + minTime - curTime;\r\n\t\t\t\tif(timeLeft &gt; 0) {\r\n\t\t\t\t\tlastSchedAction += minTime;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlastSchedAction = curTime;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t//If needed, wait for our time\r\n\t\t\tif(timeLeft &lt;= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tThread.sleep(timeLeft);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Throttling method calls to M requests in N seconds","body":"<p>This depends in the application.</p>\n\n<p>Imagine the case in which <strong>multiple threads</strong> want a token to do some <strong>globally rate-limited action</strong> with <strong>no burst allowed</strong> (i.e. you want to limit 10 actions per 10 seconds but you don't want 10 actions to happen in the first second and then remain 9 seconds stopped). </p>\n\n<p>The DelayedQueue has a disadvantage: the order at which threads request tokens might not be the order at which they get their request fulfilled. If multiple threads are blocked waiting for a token, it is not clear which one will take the next available token. You could even have threads waiting forever, in my point of view.</p>\n\n<p>One solution is to have <strong>a minimum interval of time between two consecutive actions</strong>, and take actions in the same order as they were requested.</p>\n\n<p>Here is an implementation:</p>\n\n<pre><code>public class LeakyBucket {\n    protected float maxRate;\n    protected long minTime;\n    //holds time of last action (past or future!)\n    protected long lastSchedAction = System.currentTimeMillis();\n\n    public LeakyBucket(float maxRate) throws Exception {\n        if(maxRate &lt;= 0.0f) {\n            throw new Exception(\"Invalid rate\");\n        }\n        this.maxRate = maxRate;\n        this.minTime = (long)(1000.0f / maxRate);\n    }\n\n    public void consume() throws InterruptedException {\n        long curTime = System.currentTimeMillis();\n        long timeLeft;\n\n        //calculate when can we do the action\n        synchronized(this) {\n            timeLeft = lastSchedAction + minTime - curTime;\n            if(timeLeft &gt; 0) {\n                lastSchedAction += minTime;\n            }\n            else {\n                lastSchedAction = curTime;\n            }\n        }\n\n        //If needed, wait for our time\n        if(timeLeft &lt;= 0) {\n            return;\n        }\n        else {\n            Thread.sleep(timeLeft);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2071615,"reputation":7603,"user_id":1845976,"accept_rate":56,"display_name":"schnatterer"},"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1475241093,"creation_date":1374335162,"answer_id":17763910,"question_id":1407113,"body_markdown":"What worked out of the box for me was Google Guava [RateLimiter][1].\r\n\r\n\t// Allow one request per second\r\n\tprivate RateLimiter throttle = RateLimiter.create(1.0);\r\n\r\n\tprivate void someMethod() {\r\n\t\tthrottle.acquire();\r\n\t\t// Do something\r\n\t}\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html","title":"Throttling method calls to M requests in N seconds","body":"<p>What worked out of the box for me was Google Guava <a href=\"https://google.github.io/guava/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html\" rel=\"noreferrer\">RateLimiter</a>.</p>\n\n<pre><code>// Allow one request per second\nprivate RateLimiter throttle = RateLimiter.create(1.0);\n\nprivate void someMethod() {\n    throttle.acquire();\n    // Do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":310445,"reputation":298,"user_id":623417,"accept_rate":48,"display_name":"SergeZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470669018,"creation_date":1470669018,"answer_id":38832760,"question_id":1407113,"body_markdown":"Try to use this simple approach:\r\n\r\n    public class SimpleThrottler {\r\n\r\n    private static final int T = 1; // min\r\n    private static final int N = 345;\r\n\r\n    private Lock lock = new ReentrantLock();\r\n    private Condition newFrame = lock.newCondition();\r\n    private volatile boolean currentFrame = true;\r\n\r\n    public SimpleThrottler() {\r\n        handleForGate();\r\n    }\r\n\r\n    /**\r\n     * Payload\r\n     */\r\n    private void job() {\r\n        try {\r\n            Thread.sleep(Math.abs(ThreadLocalRandom.current().nextLong(12, 98)));\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.err.print(&quot; J. &quot;);\r\n    }\r\n\r\n    public void doJob() throws InterruptedException {\r\n        lock.lock();\r\n        try {\r\n\r\n            while (true) {\r\n\r\n                int count = 0;\r\n\r\n                while (count &lt; N &amp;&amp; currentFrame) {\r\n                    job();\r\n                    count++;\r\n                }\r\n\r\n                newFrame.await();\r\n                currentFrame = true;\r\n            }\r\n\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n    public void handleForGate() {\r\n        Thread handler = new Thread(() -&gt; {\r\n            while (true) {\r\n                try {\r\n                    Thread.sleep(1 * 900);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    currentFrame = false;\r\n\r\n                    lock.lock();\r\n                    try {\r\n                        newFrame.signal();\r\n                    } finally {\r\n                        lock.unlock();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        handler.start();\r\n    }\r\n}","title":"Throttling method calls to M requests in N seconds","body":"<p>Try to use this simple approach:</p>\n\n<pre><code>public class SimpleThrottler {\n\nprivate static final int T = 1; // min\nprivate static final int N = 345;\n\nprivate Lock lock = new ReentrantLock();\nprivate Condition newFrame = lock.newCondition();\nprivate volatile boolean currentFrame = true;\n\npublic SimpleThrottler() {\n    handleForGate();\n}\n\n/**\n * Payload\n */\nprivate void job() {\n    try {\n        Thread.sleep(Math.abs(ThreadLocalRandom.current().nextLong(12, 98)));\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.err.print(\" J. \");\n}\n\npublic void doJob() throws InterruptedException {\n    lock.lock();\n    try {\n\n        while (true) {\n\n            int count = 0;\n\n            while (count &lt; N &amp;&amp; currentFrame) {\n                job();\n                count++;\n            }\n\n            newFrame.await();\n            currentFrame = true;\n        }\n\n    } finally {\n        lock.unlock();\n    }\n}\n\npublic void handleForGate() {\n    Thread handler = new Thread(() -&gt; {\n        while (true) {\n            try {\n                Thread.sleep(1 * 900);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } finally {\n                currentFrame = false;\n\n                lock.lock();\n                try {\n                    newFrame.signal();\n                } finally {\n                    lock.unlock();\n                }\n            }\n        }\n    });\n    handler.start();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2839317,"reputation":2313,"user_id":2439220,"display_name":"gtonic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475239530,"creation_date":1475239530,"answer_id":39791847,"question_id":1407113,"body_markdown":"[Apache Camel][1] also supports comes with [Throttler][2] mechanism as follows:\r\n\r\n    from(&quot;seda:a&quot;).throttle(100).asyncDelayed().to(&quot;seda:b&quot;);\r\n\r\n\r\n  [1]: http://camel.apache.org/\r\n  [2]: http://camel.apache.org/throttler.html","title":"Throttling method calls to M requests in N seconds","body":"<p><a href=\"http://camel.apache.org/\" rel=\"nofollow\">Apache Camel</a> also supports comes with <a href=\"http://camel.apache.org/throttler.html\" rel=\"nofollow\">Throttler</a> mechanism as follows:</p>\n\n<pre><code>from(\"seda:a\").throttle(100).asyncDelayed().to(\"seda:b\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2495210,"reputation":11,"user_id":2171847,"display_name":"peterreilly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493929686,"creation_date":1493929686,"answer_id":43792225,"question_id":1407113,"body_markdown":"This is an update to the LeakyBucket code above.\r\nThis works for a more that 1000 requests per sec.\r\n\r\n    import lombok.SneakyThrows;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    class LeakyBucket {\r\n      private long minTimeNano; // sec / billion\r\n      private long sched = System.nanoTime();\r\n\r\n      /**\r\n       * Create a rate limiter using the leakybucket alg.\r\n       * @param perSec the number of requests per second\r\n       */\r\n      public LeakyBucket(double perSec) {\r\n        if (perSec &lt;= 0.0) {\r\n          throw new RuntimeException(&quot;Invalid rate &quot; + perSec);\r\n        }\r\n        this.minTimeNano = (long) (1_000_000_000.0 / perSec);\r\n      }\r\n    \r\n      @SneakyThrows public void consume() {\r\n        long curr = System.nanoTime();\r\n        long timeLeft;\r\n\r\n        synchronized (this) {\r\n          timeLeft = sched - curr + minTimeNano;\r\n          sched += minTimeNano;\r\n        }\r\n        if (timeLeft &lt;= minTimeNano) {\r\n          return;\r\n        }\r\n        TimeUnit.NANOSECONDS.sleep(timeLeft);\r\n      }\r\n    }\r\n\r\nand the unittest for above:\r\n\r\n    import com.google.common.base.Stopwatch;\r\n    import org.junit.Ignore;\r\n    import org.junit.Test;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.stream.IntStream;\r\n\r\n    public class LeakyBucketTest {\r\n      @Test @Ignore public void t() {\r\n        double numberPerSec = 10000;\r\n        LeakyBucket b = new LeakyBucket(numberPerSec);\r\n        Stopwatch w = Stopwatch.createStarted();\r\n        IntStream.range(0, (int) (numberPerSec * 5)).parallel().forEach(\r\n            x -&gt; b.consume());\r\n        System.out.printf(&quot;%,d ms%n&quot;, w.elapsed(TimeUnit.MILLISECONDS));\r\n      }\r\n    }\r\n","title":"Throttling method calls to M requests in N seconds","body":"<p>This is an update to the LeakyBucket code above.\nThis works for a more that 1000 requests per sec.</p>\n\n<pre><code>import lombok.SneakyThrows;\nimport java.util.concurrent.TimeUnit;\n\nclass LeakyBucket {\n  private long minTimeNano; // sec / billion\n  private long sched = System.nanoTime();\n\n  /**\n   * Create a rate limiter using the leakybucket alg.\n   * @param perSec the number of requests per second\n   */\n  public LeakyBucket(double perSec) {\n    if (perSec &lt;= 0.0) {\n      throw new RuntimeException(\"Invalid rate \" + perSec);\n    }\n    this.minTimeNano = (long) (1_000_000_000.0 / perSec);\n  }\n\n  @SneakyThrows public void consume() {\n    long curr = System.nanoTime();\n    long timeLeft;\n\n    synchronized (this) {\n      timeLeft = sched - curr + minTimeNano;\n      sched += minTimeNano;\n    }\n    if (timeLeft &lt;= minTimeNano) {\n      return;\n    }\n    TimeUnit.NANOSECONDS.sleep(timeLeft);\n  }\n}\n</code></pre>\n\n<p>and the unittest for above:</p>\n\n<pre><code>import com.google.common.base.Stopwatch;\nimport org.junit.Ignore;\nimport org.junit.Test;\n\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.IntStream;\n\npublic class LeakyBucketTest {\n  @Test @Ignore public void t() {\n    double numberPerSec = 10000;\n    LeakyBucket b = new LeakyBucket(numberPerSec);\n    Stopwatch w = Stopwatch.createStarted();\n    IntStream.range(0, (int) (numberPerSec * 5)).parallel().forEach(\n        x -&gt; b.consume());\n    System.out.printf(\"%,d ms%n\", w.elapsed(TimeUnit.MILLISECONDS));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302701,"reputation":81,"user_id":2326162,"display_name":"user2326162"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1496449788,"creation_date":1496449788,"answer_id":44339112,"question_id":1407113,"body_markdown":"If you need a Java based sliding window rate limiter that will operate across a distributed system you might want to take a look at the https://github.com/mokies/ratelimitj project.\r\n\r\nA Redis backed configuration, to limit requests by IP to 50 per minute would look like this:\r\n\r\n    import com.lambdaworks.redis.RedisClient;\r\n    import es.moki.ratelimitj.core.LimitRule;\r\n    \r\n    RedisClient client = RedisClient.create(&quot;redis://localhost&quot;);\r\n    Set&lt;LimitRule&gt; rules = Collections.singleton(LimitRule.of(1, TimeUnit.MINUTES, 50)); // 50 request per minute, per key\r\n    RedisRateLimit requestRateLimiter = new RedisRateLimit(client, rules);\r\n    \r\n    boolean overLimit = requestRateLimiter.overLimit(&quot;ip:127.0.0.2&quot;);\r\n\r\nSee https://github.com/mokies/ratelimitj/tree/master/ratelimitj-redis fore further details on Redis configuration.","title":"Throttling method calls to M requests in N seconds","body":"<p>If you need a Java based sliding window rate limiter that will operate across a distributed system you might want to take a look at the <a href=\"https://github.com/mokies/ratelimitj\" rel=\"noreferrer\">https://github.com/mokies/ratelimitj</a> project.</p>\n\n<p>A Redis backed configuration, to limit requests by IP to 50 per minute would look like this:</p>\n\n<pre><code>import com.lambdaworks.redis.RedisClient;\nimport es.moki.ratelimitj.core.LimitRule;\n\nRedisClient client = RedisClient.create(\"redis://localhost\");\nSet&lt;LimitRule&gt; rules = Collections.singleton(LimitRule.of(1, TimeUnit.MINUTES, 50)); // 50 request per minute, per key\nRedisRateLimit requestRateLimiter = new RedisRateLimit(client, rules);\n\nboolean overLimit = requestRateLimiter.overLimit(\"ip:127.0.0.2\");\n</code></pre>\n\n<p>See <a href=\"https://github.com/mokies/ratelimitj/tree/master/ratelimitj-redis\" rel=\"noreferrer\">https://github.com/mokies/ratelimitj/tree/master/ratelimitj-redis</a> fore further details on Redis configuration.</p>\n"},{"tags":[],"owner":{"account_id":14930078,"reputation":1,"user_id":10779711,"display_name":"Leonid Astakhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544692289,"creation_date":1544602655,"answer_id":53738728,"question_id":1407113,"body_markdown":"Here is a little advanced version of simple rate limiter\r\n\r\n    /**\r\n     * Simple request limiter based on Thread.sleep method.\r\n     * Create limiter instance via {@link #create(float)} and call {@link #consume()} before making any request.\r\n     * If the limit is exceeded cosume method locks and waits for current call rate to fall down below the limit\r\n     */\r\n    public class RequestRateLimiter {\r\n    \r\n        private long minTime;\r\n    \r\n        private long lastSchedAction;\r\n        private double avgSpent = 0;\r\n    \r\n        ArrayList&lt;RatePeriod&gt; periods;\r\n    \r\n    \r\n        @AllArgsConstructor\r\n        public static class RatePeriod{\r\n    \r\n            @Getter\r\n            private LocalTime start;\r\n    \r\n            @Getter\r\n            private LocalTime end;\r\n    \r\n            @Getter\r\n            private float maxRate;\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Create request limiter with maxRate - maximum number of requests per second\r\n         * @param maxRate - maximum number of requests per second\r\n         * @return\r\n         */\r\n        public static RequestRateLimiter create(float maxRate){\r\n            return new RequestRateLimiter(Arrays.asList( new RatePeriod(LocalTime.of(0,0,0),\r\n                    LocalTime.of(23,59,59), maxRate)));\r\n        }\r\n    \r\n        /**\r\n         * Create request limiter with ratePeriods calendar - maximum number of requests per second in every period\r\n         * @param ratePeriods - rate calendar\r\n         * @return\r\n         */\r\n        public static RequestRateLimiter create(List&lt;RatePeriod&gt; ratePeriods){\r\n            return new RequestRateLimiter(ratePeriods);\r\n        }\r\n    \r\n        private void checkArgs(List&lt;RatePeriod&gt; ratePeriods){\r\n    \r\n            for (RatePeriod rp: ratePeriods ){\r\n                if ( null == rp || rp.maxRate &lt;= 0.0f || null == rp.start || null == rp.end )\r\n                    throw new IllegalArgumentException(&quot;list contains null or rate is less then zero or period is zero length&quot;);\r\n            }\r\n        }\r\n    \r\n        private float getCurrentRate(){\r\n    \r\n            LocalTime now = LocalTime.now();\r\n    \r\n            for (RatePeriod rp: periods){\r\n                if ( now.isAfter( rp.start ) &amp;&amp; now.isBefore( rp.end ) )\r\n                    return rp.maxRate;\r\n            }\r\n    \r\n            return Float.MAX_VALUE;\r\n        }\r\n    \r\n    \r\n    \r\n        private RequestRateLimiter(List&lt;RatePeriod&gt; ratePeriods){\r\n    \r\n            checkArgs(ratePeriods);\r\n            periods = new ArrayList&lt;&gt;(ratePeriods.size());\r\n            periods.addAll(ratePeriods);\r\n    \r\n            this.minTime = (long)(1000.0f / getCurrentRate());\r\n            this.lastSchedAction = System.currentTimeMillis() - minTime;\r\n        }\r\n    \r\n        /**\r\n         * Call this method before making actual request.\r\n         * Method call locks until current rate falls down below the limit\r\n         * @throws InterruptedException\r\n         */\r\n        public void consume() throws InterruptedException {\r\n    \r\n            long timeLeft;\r\n    \r\n            synchronized(this) {\r\n                long curTime = System.currentTimeMillis();\r\n    \r\n                minTime = (long)(1000.0f / getCurrentRate());\r\n                timeLeft = lastSchedAction + minTime - curTime;\r\n    \r\n                long timeSpent = curTime - lastSchedAction + timeLeft;\r\n                avgSpent = (avgSpent + timeSpent) / 2;\r\n    \r\n                if(timeLeft &lt;= 0) {\r\n                    lastSchedAction = curTime;\r\n                    return;\r\n                }\r\n    \r\n                lastSchedAction = curTime + timeLeft;\r\n            }\r\n    \r\n            Thread.sleep(timeLeft);\r\n        }\r\n    \r\n        public synchronized float getCuRate(){\r\n            return (float) ( 1000d / avgSpent);\r\n        }\r\n    }\r\n\r\n\r\nAnd unit tests\r\n\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class RequestRateLimiterTest {\r\n    \r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void checkSingleThreadZeroRate(){\r\n    \r\n            // Zero rate\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(0);\r\n            try {\r\n                limiter.consume();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void checkSingleThreadUnlimitedRate(){\r\n    \r\n            // Unlimited\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(Float.MAX_VALUE);\r\n    \r\n            long started = System.currentTimeMillis();\r\n            for ( int i = 0; i &lt; 1000; i++ ){\r\n    \r\n                try {\r\n                    limiter.consume();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            long ended = System.currentTimeMillis();\r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( ((ended - started) &lt; 1000));\r\n        }\r\n    \r\n        @Test\r\n        public void rcheckSingleThreadRate(){\r\n    \r\n            // 3 request per minute\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(3f/60f);\r\n    \r\n            long started = System.currentTimeMillis();\r\n            for ( int i = 0; i &lt; 3; i++ ){\r\n    \r\n                try {\r\n                    limiter.consume();\r\n                    Thread.sleep(20000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            long ended = System.currentTimeMillis();\r\n    \r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( ((ended - started) &gt;= 60000 ) &amp; ((ended - started) &lt; 61000));\r\n        }\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void checkSingleThreadRateLimit(){\r\n    \r\n            // 100 request per second\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(100);\r\n    \r\n            long started = System.currentTimeMillis();\r\n            for ( int i = 0; i &lt; 1000; i++ ){\r\n    \r\n                try {\r\n                    limiter.consume();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            long ended = System.currentTimeMillis();\r\n    \r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ));\r\n        }\r\n    \r\n        @Test\r\n        public void checkMultiThreadedRateLimit(){\r\n    \r\n            // 100 request per second\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(100);\r\n            long started = System.currentTimeMillis();\r\n    \r\n            List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(10);\r\n            ExecutorService exec = Executors.newFixedThreadPool(10);\r\n    \r\n            for ( int i = 0; i &lt; 10; i++ ) {\r\n    \r\n                tasks.add( exec.submit(() -&gt; {\r\n                    for (int i1 = 0; i1 &lt; 100; i1++) {\r\n    \r\n                        try {\r\n                            limiter.consume();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }) );\r\n            }\r\n    \r\n            tasks.stream().forEach( future -&gt; {\r\n                try {\r\n                    future.get();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            long ended = System.currentTimeMillis();\r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\r\n        }\r\n    \r\n        @Test\r\n        public void checkMultiThreaded32RateLimit(){\r\n    \r\n            // 0,2 request per second\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(0.2f);\r\n            long started = System.currentTimeMillis();\r\n    \r\n            List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(8);\r\n            ExecutorService exec = Executors.newFixedThreadPool(8);\r\n    \r\n            for ( int i = 0; i &lt; 8; i++ ) {\r\n    \r\n                tasks.add( exec.submit(() -&gt; {\r\n                    for (int i1 = 0; i1 &lt; 2; i1++) {\r\n    \r\n                        try {\r\n                            limiter.consume();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }) );\r\n            }\r\n    \r\n            tasks.stream().forEach( future -&gt; {\r\n                try {\r\n                    future.get();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            long ended = System.currentTimeMillis();\r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\r\n        }\r\n    \r\n        @Test\r\n        public void checkMultiThreadedRateLimitDynamicRate(){\r\n    \r\n            // 100 request per second\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(100);\r\n            long started = System.currentTimeMillis();\r\n    \r\n            List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(10);\r\n            ExecutorService exec = Executors.newFixedThreadPool(10);\r\n    \r\n            for ( int i = 0; i &lt; 10; i++ ) {\r\n    \r\n                tasks.add( exec.submit(() -&gt; {\r\n    \r\n                    Random r = new Random();\r\n                    for (int i1 = 0; i1 &lt; 100; i1++) {\r\n    \r\n                        try {\r\n                            limiter.consume();\r\n                            Thread.sleep(r.nextInt(1000));\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }) );\r\n            }\r\n    \r\n            tasks.stream().forEach( future -&gt; {\r\n                try {\r\n                    future.get();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            long ended = System.currentTimeMillis();\r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Throttling method calls to M requests in N seconds","body":"<p>Here is a little advanced version of simple rate limiter</p>\n\n<pre><code>/**\n * Simple request limiter based on Thread.sleep method.\n * Create limiter instance via {@link #create(float)} and call {@link #consume()} before making any request.\n * If the limit is exceeded cosume method locks and waits for current call rate to fall down below the limit\n */\npublic class RequestRateLimiter {\n\n    private long minTime;\n\n    private long lastSchedAction;\n    private double avgSpent = 0;\n\n    ArrayList&lt;RatePeriod&gt; periods;\n\n\n    @AllArgsConstructor\n    public static class RatePeriod{\n\n        @Getter\n        private LocalTime start;\n\n        @Getter\n        private LocalTime end;\n\n        @Getter\n        private float maxRate;\n    }\n\n\n    /**\n     * Create request limiter with maxRate - maximum number of requests per second\n     * @param maxRate - maximum number of requests per second\n     * @return\n     */\n    public static RequestRateLimiter create(float maxRate){\n        return new RequestRateLimiter(Arrays.asList( new RatePeriod(LocalTime.of(0,0,0),\n                LocalTime.of(23,59,59), maxRate)));\n    }\n\n    /**\n     * Create request limiter with ratePeriods calendar - maximum number of requests per second in every period\n     * @param ratePeriods - rate calendar\n     * @return\n     */\n    public static RequestRateLimiter create(List&lt;RatePeriod&gt; ratePeriods){\n        return new RequestRateLimiter(ratePeriods);\n    }\n\n    private void checkArgs(List&lt;RatePeriod&gt; ratePeriods){\n\n        for (RatePeriod rp: ratePeriods ){\n            if ( null == rp || rp.maxRate &lt;= 0.0f || null == rp.start || null == rp.end )\n                throw new IllegalArgumentException(\"list contains null or rate is less then zero or period is zero length\");\n        }\n    }\n\n    private float getCurrentRate(){\n\n        LocalTime now = LocalTime.now();\n\n        for (RatePeriod rp: periods){\n            if ( now.isAfter( rp.start ) &amp;&amp; now.isBefore( rp.end ) )\n                return rp.maxRate;\n        }\n\n        return Float.MAX_VALUE;\n    }\n\n\n\n    private RequestRateLimiter(List&lt;RatePeriod&gt; ratePeriods){\n\n        checkArgs(ratePeriods);\n        periods = new ArrayList&lt;&gt;(ratePeriods.size());\n        periods.addAll(ratePeriods);\n\n        this.minTime = (long)(1000.0f / getCurrentRate());\n        this.lastSchedAction = System.currentTimeMillis() - minTime;\n    }\n\n    /**\n     * Call this method before making actual request.\n     * Method call locks until current rate falls down below the limit\n     * @throws InterruptedException\n     */\n    public void consume() throws InterruptedException {\n\n        long timeLeft;\n\n        synchronized(this) {\n            long curTime = System.currentTimeMillis();\n\n            minTime = (long)(1000.0f / getCurrentRate());\n            timeLeft = lastSchedAction + minTime - curTime;\n\n            long timeSpent = curTime - lastSchedAction + timeLeft;\n            avgSpent = (avgSpent + timeSpent) / 2;\n\n            if(timeLeft &lt;= 0) {\n                lastSchedAction = curTime;\n                return;\n            }\n\n            lastSchedAction = curTime + timeLeft;\n        }\n\n        Thread.sleep(timeLeft);\n    }\n\n    public synchronized float getCuRate(){\n        return (float) ( 1000d / avgSpent);\n    }\n}\n</code></pre>\n\n<p>And unit tests</p>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class RequestRateLimiterTest {\n\n\n    @Test(expected = IllegalArgumentException.class)\n    public void checkSingleThreadZeroRate(){\n\n        // Zero rate\n        RequestRateLimiter limiter = RequestRateLimiter.create(0);\n        try {\n            limiter.consume();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Test\n    public void checkSingleThreadUnlimitedRate(){\n\n        // Unlimited\n        RequestRateLimiter limiter = RequestRateLimiter.create(Float.MAX_VALUE);\n\n        long started = System.currentTimeMillis();\n        for ( int i = 0; i &lt; 1000; i++ ){\n\n            try {\n                limiter.consume();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        long ended = System.currentTimeMillis();\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( ((ended - started) &lt; 1000));\n    }\n\n    @Test\n    public void rcheckSingleThreadRate(){\n\n        // 3 request per minute\n        RequestRateLimiter limiter = RequestRateLimiter.create(3f/60f);\n\n        long started = System.currentTimeMillis();\n        for ( int i = 0; i &lt; 3; i++ ){\n\n            try {\n                limiter.consume();\n                Thread.sleep(20000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        long ended = System.currentTimeMillis();\n\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( ((ended - started) &gt;= 60000 ) &amp; ((ended - started) &lt; 61000));\n    }\n\n\n\n    @Test\n    public void checkSingleThreadRateLimit(){\n\n        // 100 request per second\n        RequestRateLimiter limiter = RequestRateLimiter.create(100);\n\n        long started = System.currentTimeMillis();\n        for ( int i = 0; i &lt; 1000; i++ ){\n\n            try {\n                limiter.consume();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        long ended = System.currentTimeMillis();\n\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ));\n    }\n\n    @Test\n    public void checkMultiThreadedRateLimit(){\n\n        // 100 request per second\n        RequestRateLimiter limiter = RequestRateLimiter.create(100);\n        long started = System.currentTimeMillis();\n\n        List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(10);\n        ExecutorService exec = Executors.newFixedThreadPool(10);\n\n        for ( int i = 0; i &lt; 10; i++ ) {\n\n            tasks.add( exec.submit(() -&gt; {\n                for (int i1 = 0; i1 &lt; 100; i1++) {\n\n                    try {\n                        limiter.consume();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }) );\n        }\n\n        tasks.stream().forEach( future -&gt; {\n            try {\n                future.get();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        });\n\n        long ended = System.currentTimeMillis();\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\n    }\n\n    @Test\n    public void checkMultiThreaded32RateLimit(){\n\n        // 0,2 request per second\n        RequestRateLimiter limiter = RequestRateLimiter.create(0.2f);\n        long started = System.currentTimeMillis();\n\n        List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(8);\n        ExecutorService exec = Executors.newFixedThreadPool(8);\n\n        for ( int i = 0; i &lt; 8; i++ ) {\n\n            tasks.add( exec.submit(() -&gt; {\n                for (int i1 = 0; i1 &lt; 2; i1++) {\n\n                    try {\n                        limiter.consume();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }) );\n        }\n\n        tasks.stream().forEach( future -&gt; {\n            try {\n                future.get();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        });\n\n        long ended = System.currentTimeMillis();\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\n    }\n\n    @Test\n    public void checkMultiThreadedRateLimitDynamicRate(){\n\n        // 100 request per second\n        RequestRateLimiter limiter = RequestRateLimiter.create(100);\n        long started = System.currentTimeMillis();\n\n        List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(10);\n        ExecutorService exec = Executors.newFixedThreadPool(10);\n\n        for ( int i = 0; i &lt; 10; i++ ) {\n\n            tasks.add( exec.submit(() -&gt; {\n\n                Random r = new Random();\n                for (int i1 = 0; i1 &lt; 100; i1++) {\n\n                    try {\n                        limiter.consume();\n                        Thread.sleep(r.nextInt(1000));\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }) );\n        }\n\n        tasks.stream().forEach( future -&gt; {\n            try {\n                future.get();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        });\n\n        long ended = System.currentTimeMillis();\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12001544,"reputation":131,"user_id":8781330,"display_name":"tonywl"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675928478,"creation_date":1553571338,"answer_id":55349487,"question_id":1407113,"body_markdown":"My implementation below can handle arbitrary request time precision, it has O(1) time complexity for each request, does not require any additional buffer, e.g. O(1) space complexity, in addition it does not require background thread to release token, instead tokens are released according to time passed since last request.\r\n\r\n    \r\n````\r\nclass RateLimiter {\r\n    int limit;\r\n    double available;\r\n    long interval;\r\n\r\n    long lastTimeStamp;\r\n\r\n    RateLimiter(int limit, long interval) {\r\n        this.limit = limit;\r\n        this.interval = interval;\r\n\r\n        available = 0;\r\n        lastTimeStamp = System.currentTimeMillis();\r\n    }\r\n\r\n    synchronized boolean canAdd() {\r\n        long now = System.currentTimeMillis();\r\n        // more token are released since last request\r\n        available += (now-lastTimeStamp)*1.0/interval*limit; \r\n        if (available&gt;limit)\r\n            available = limit;\r\n\r\n        lastTimeStamp = now;\r\n        if (available&lt;1)\r\n            return false;\r\n        else {\r\n            available--;\r\n            return true;\r\n        }\r\n    }\r\n}\r\n````\r\n  ","title":"Throttling method calls to M requests in N seconds","body":"<p>My implementation below can handle arbitrary request time precision, it has O(1) time complexity for each request, does not require any additional buffer, e.g. O(1) space complexity, in addition it does not require background thread to release token, instead tokens are released according to time passed since last request.</p>\n<pre><code>class RateLimiter {\n    int limit;\n    double available;\n    long interval;\n\n    long lastTimeStamp;\n\n    RateLimiter(int limit, long interval) {\n        this.limit = limit;\n        this.interval = interval;\n\n        available = 0;\n        lastTimeStamp = System.currentTimeMillis();\n    }\n\n    synchronized boolean canAdd() {\n        long now = System.currentTimeMillis();\n        // more token are released since last request\n        available += (now-lastTimeStamp)*1.0/interval*limit; \n        if (available&gt;limit)\n            available = limit;\n\n        lastTimeStamp = now;\n        if (available&lt;1)\n            return false;\n        else {\n            available--;\n            return true;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1035276,"reputation":1423,"user_id":1042731,"display_name":"benbai123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568942578,"creation_date":1568942578,"answer_id":58020622,"question_id":1407113,"body_markdown":"My solution: A simple util method, you can modify it to create a wrapper class.\r\n\r\n    public static Runnable throttle (Runnable realRunner, long delay) {\r\n    \tRunnable throttleRunner = new Runnable() {\r\n    \t\t// whether is waiting to run\r\n    \t\tprivate boolean _isWaiting = false;\r\n    \t\t// target time to run realRunner\r\n    \t\tprivate long _timeToRun;\r\n    \t\t// specified delay time to wait\r\n    \t\tprivate long _delay = delay;\r\n    \t\t// Runnable that has the real task to run\r\n    \t\tprivate Runnable _realRunner = realRunner;\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\t// current time\r\n    \t\t\tlong now;\r\n    \t\t\tsynchronized (this) {\r\n    \t\t\t\t// another thread is waiting, skip\r\n    \t\t\t\tif (_isWaiting) return;\r\n    \t\t\t\tnow = System.currentTimeMillis();\r\n    \t\t\t\t// update time to run\r\n    \t\t\t\t// do not update it each time since\r\n    \t\t\t\t// you do not want to postpone it unlimited\r\n    \t\t\t\t_timeToRun = now+_delay;\r\n    \t\t\t\t// set waiting status\r\n    \t\t\t\t_isWaiting = true;\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(_timeToRun-now);\r\n    \t\t\t\t\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} finally {\r\n    \t\t\t\t// clear waiting status before run\r\n    \t\t\t\t_isWaiting = false;\r\n    \t\t\t\t// do the real task\r\n    \t\t\t\t_realRunner.run();\r\n    \t\t\t}\r\n    \t\t}};\r\n    \treturn throttleRunner;\r\n    }\r\n\r\nTake from [JAVA Thread Debounce and Throttle](https://ben-bai.blogspot.com/2019/09/thread-debounce-and-throttle.html)","title":"Throttling method calls to M requests in N seconds","body":"<p>My solution: A simple util method, you can modify it to create a wrapper class.</p>\n\n<pre><code>public static Runnable throttle (Runnable realRunner, long delay) {\n    Runnable throttleRunner = new Runnable() {\n        // whether is waiting to run\n        private boolean _isWaiting = false;\n        // target time to run realRunner\n        private long _timeToRun;\n        // specified delay time to wait\n        private long _delay = delay;\n        // Runnable that has the real task to run\n        private Runnable _realRunner = realRunner;\n        @Override\n        public void run() {\n            // current time\n            long now;\n            synchronized (this) {\n                // another thread is waiting, skip\n                if (_isWaiting) return;\n                now = System.currentTimeMillis();\n                // update time to run\n                // do not update it each time since\n                // you do not want to postpone it unlimited\n                _timeToRun = now+_delay;\n                // set waiting status\n                _isWaiting = true;\n            }\n            try {\n                Thread.sleep(_timeToRun-now);\n\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } finally {\n                // clear waiting status before run\n                _isWaiting = false;\n                // do the real task\n                _realRunner.run();\n            }\n        }};\n    return throttleRunner;\n}\n</code></pre>\n\n<p>Take from <a href=\"https://ben-bai.blogspot.com/2019/09/thread-debounce-and-throttle.html\" rel=\"nofollow noreferrer\">JAVA Thread Debounce and Throttle</a></p>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689749286,"creation_date":1676539998,"answer_id":75470274,"question_id":1407113,"body_markdown":"Here is a rate limiter implementation based on @tonywl (and somewhat relates to Duarte Meneses&#39;s leaky bucket). The idea is the same - use a &quot;token pool&quot; to allow both rate limiting and bursting (make multiple calls in a short time after idling for a bit).\r\n\r\nThis implementation offers two main differences:\r\n1. Lock-less concurrent access using atomic operations.\r\n2. Instead of blocking a request, calculate a delay needed to enforce the rate limit and offers that as the response, allow the caller to enforce the delay - this will work better with asynchronous programming that you can find in modern networking frameworks.\r\n\r\nThe full implementation with documentation can be found in [this Github Gist](https://gist.github.com/guss77/7cc92e5631b069e965de6a7cebd5a477), which is where I&#39;ll also post updates, but here&#39;s the gist of it:\r\n\r\n```java\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\npublic class RateLimiter {\r\n\tprivate final static long TOKEN_SIZE = 1_000_000 /* tockins per token */;\r\n\tprivate final double tokenRate; // measured in tokens per ms\r\n\tprivate final double tockinRate; // measured in tockins per ms\r\n\tprivate final long tockinsLimit;\r\n\t\r\n\tprivate AtomicLong available;\r\n\tprivate AtomicLong lastTimeStamp;\r\n\r\n\t/**\r\n\t * Create a new rate limiter with the token fill rate specified as\r\n\t * {@code fill}/{@code interval} and a maximum token pool size of {@code limit}, starting\r\n\t * with a {@code prefill} amount of tokens ready to be used.\r\n\t * @param prefill instead of starting with an empty pool, assume we &quot;start from rest&quot; and\r\n\t *                have tokens to consume. This value is clamped to {@code limit}.\r\n\t * @param limit The maximum number of tokens in the pool (burst size)\r\n\t * @param fill How many tokens will be filled in the pool by waiting {@code interval} time\r\n\t * @param interval How long will it take to get {@code fill} tokens back in the pool in ms\r\n\t */\r\n\tpublic RateLimiter(int prefill, int limit, int fill, long interval) {\r\n\t\tthis.tokenRate = (double)fill / interval;\r\n\t\tthis.tockinsLimit = TOKEN_SIZE * limit;\r\n\t\tthis.tockinRate = tokenRate * TOKEN_SIZE;\r\n\t\tthis.lastTimeStamp = new AtomicLong(System.nanoTime());\r\n\t\tthis.available  = new AtomicLong(Math.max(prefill, limit) * TOKEN_SIZE);\r\n\t}\r\n\r\n\tpublic boolean allowRequest() {\r\n\t\treturn whenNextAllowed(1, false) == 0;\r\n\t}\r\n\r\n\tpublic boolean allowRequest(int cost) {\r\n\t\treturn whenNextAllowed(cost, false) == 0;\r\n\t}\r\n\r\n\tpublic long whenNextAllowed(boolean alwaysConsume) {\r\n\t\treturn whenNextAllowed(1, alwaysConsume);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Check when will the next call be allowed, according to the specified rate.\r\n\t * The value returned is in milliseconds. If the result is 0 - or if {@code alwaysConsume} was\r\n\t * specified then the RateLimiter has recorded that the call has been allowed.\r\n\t * @param cost How costly is the requested action. The base rate is 1 token per request,\r\n\t *   but the client can declare a more costly action that consumes more tokens.\r\n\t * @param alwaysConsume if set to {@code true} this method assumes that the caller will delay\r\n\t *   the action that is rate limited but will perform it without checking again - so it will\r\n\t *   consume the specified number of tokens as if the action has gone through. This means that\r\n\t *   the pool can get into a deficit, which will further delay additional actions.\r\n\t * @return how many milliseconds before this request should be let through.\r\n\t */\r\n\tpublic long whenNextAllowed(int cost, boolean alwaysConsume) {\r\n\t\tvar now = System.nanoTime();\r\n\t\tvar last = lastTimeStamp.getAndSet(now);\r\n\t\t// calculate how many tockins we got since last call\r\n\t\t// if the previous call was less than a microsecond ago, we still accumulate at least\r\n\t\t// one tockin, which is probably more than we should, but this is too small to matter - right?\r\n\t\tvar add = (long)Math.ceil(tokenRate * (now - last));\r\n\t\tvar nowAvailable = available.addAndGet(add);\r\n\t\twhile (nowAvailable &gt; tockinsLimit) {\r\n\t\t\tavailable.compareAndSet(nowAvailable, tockinsLimit);\r\n\t\t\tnowAvailable = available.get();\r\n\t\t}\r\n\r\n\t\t// answer the question\r\n\t\tvar toWait = (long)Math.ceil(Math.max(0, (TOKEN_SIZE - nowAvailable) / tockinRate));\r\n\t\tif (alwaysConsume || toWait == 0) // the caller will let the request go through, so consume a token now\r\n\t\t\tavailable.addAndGet(-TOKEN_SIZE);\r\n\t\treturn toWait;\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Throttling method calls to M requests in N seconds","body":"<p>Here is a rate limiter implementation based on @tonywl (and somewhat relates to Duarte Meneses's leaky bucket). The idea is the same - use a &quot;token pool&quot; to allow both rate limiting and bursting (make multiple calls in a short time after idling for a bit).</p>\n<p>This implementation offers two main differences:</p>\n<ol>\n<li>Lock-less concurrent access using atomic operations.</li>\n<li>Instead of blocking a request, calculate a delay needed to enforce the rate limit and offers that as the response, allow the caller to enforce the delay - this will work better with asynchronous programming that you can find in modern networking frameworks.</li>\n</ol>\n<p>The full implementation with documentation can be found in <a href=\"https://gist.github.com/guss77/7cc92e5631b069e965de6a7cebd5a477\" rel=\"nofollow noreferrer\">this Github Gist</a>, which is where I'll also post updates, but here's the gist of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.atomic.AtomicLong;\n\npublic class RateLimiter {\n    private final static long TOKEN_SIZE = 1_000_000 /* tockins per token */;\n    private final double tokenRate; // measured in tokens per ms\n    private final double tockinRate; // measured in tockins per ms\n    private final long tockinsLimit;\n    \n    private AtomicLong available;\n    private AtomicLong lastTimeStamp;\n\n    /**\n     * Create a new rate limiter with the token fill rate specified as\n     * {@code fill}/{@code interval} and a maximum token pool size of {@code limit}, starting\n     * with a {@code prefill} amount of tokens ready to be used.\n     * @param prefill instead of starting with an empty pool, assume we &quot;start from rest&quot; and\n     *                have tokens to consume. This value is clamped to {@code limit}.\n     * @param limit The maximum number of tokens in the pool (burst size)\n     * @param fill How many tokens will be filled in the pool by waiting {@code interval} time\n     * @param interval How long will it take to get {@code fill} tokens back in the pool in ms\n     */\n    public RateLimiter(int prefill, int limit, int fill, long interval) {\n        this.tokenRate = (double)fill / interval;\n        this.tockinsLimit = TOKEN_SIZE * limit;\n        this.tockinRate = tokenRate * TOKEN_SIZE;\n        this.lastTimeStamp = new AtomicLong(System.nanoTime());\n        this.available  = new AtomicLong(Math.max(prefill, limit) * TOKEN_SIZE);\n    }\n\n    public boolean allowRequest() {\n        return whenNextAllowed(1, false) == 0;\n    }\n\n    public boolean allowRequest(int cost) {\n        return whenNextAllowed(cost, false) == 0;\n    }\n\n    public long whenNextAllowed(boolean alwaysConsume) {\n        return whenNextAllowed(1, alwaysConsume);\n    }\n    \n    /**\n     * Check when will the next call be allowed, according to the specified rate.\n     * The value returned is in milliseconds. If the result is 0 - or if {@code alwaysConsume} was\n     * specified then the RateLimiter has recorded that the call has been allowed.\n     * @param cost How costly is the requested action. The base rate is 1 token per request,\n     *   but the client can declare a more costly action that consumes more tokens.\n     * @param alwaysConsume if set to {@code true} this method assumes that the caller will delay\n     *   the action that is rate limited but will perform it without checking again - so it will\n     *   consume the specified number of tokens as if the action has gone through. This means that\n     *   the pool can get into a deficit, which will further delay additional actions.\n     * @return how many milliseconds before this request should be let through.\n     */\n    public long whenNextAllowed(int cost, boolean alwaysConsume) {\n        var now = System.nanoTime();\n        var last = lastTimeStamp.getAndSet(now);\n        // calculate how many tockins we got since last call\n        // if the previous call was less than a microsecond ago, we still accumulate at least\n        // one tockin, which is probably more than we should, but this is too small to matter - right?\n        var add = (long)Math.ceil(tokenRate * (now - last));\n        var nowAvailable = available.addAndGet(add);\n        while (nowAvailable &gt; tockinsLimit) {\n            available.compareAndSet(nowAvailable, tockinsLimit);\n            nowAvailable = available.get();\n        }\n\n        // answer the question\n        var toWait = (long)Math.ceil(Math.max(0, (TOKEN_SIZE - nowAvailable) / tockinRate));\n        if (alwaysConsume || toWait == 0) // the caller will let the request go through, so consume a token now\n            available.addAndGet(-TOKEN_SIZE);\n        return toWait;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":40537,"reputation":2045,"user_id":117459,"display_name":"vtrubnikov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115780,"favorite_count":0,"down_vote_count":1,"up_vote_count":168,"accepted_answer_id":1407144,"answer_count":15,"score":167,"last_activity_date":1689749286,"creation_date":1252609456,"question_id":1407113,"body_markdown":"I need a component/class that throttles execution of some method to maximum M calls in N seconds (or ms or nanos, does not matter).\r\n\r\nIn other words I need to make sure that my method is executed no more than M times in a sliding window of N seconds.\r\n\r\nIf you don&#39;t know existing class feel free to post your solutions/ideas how you would implement this.","title":"Throttling method calls to M requests in N seconds","body":"<p>I need a component/class that throttles execution of some method to maximum M calls in N seconds (or ms or nanos, does not matter).</p>\n\n<p>In other words I need to make sure that my method is executed no more than M times in a sliding window of N seconds.</p>\n\n<p>If you don't know existing class feel free to post your solutions/ideas how you would implement this.</p>\n"},{"tags":["java","testing","encoding","jmeter"],"answers":[{"tags":[],"owner":{"account_id":164031,"reputation":400,"user_id":386546,"display_name":"Paweł Sokołowski"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1329751039,"creation_date":1329751039,"answer_id":9363454,"question_id":8488811,"body_markdown":"Add a BSF post processing element to the sampler with the following script:\r\n\r\n    prev.setDataEncoding(&quot;UTF-8&quot;)\r\n\r\nThat&#39;s what worked for me.","title":"JMeter sample response encoding","body":"<p>Add a BSF post processing element to the sampler with the following script:</p>\n\n<pre><code>prev.setDataEncoding(\"UTF-8\")\n</code></pre>\n\n<p>That's what worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1361840,"reputation":1104,"user_id":1299049,"accept_rate":100,"display_name":"m c"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1478183423,"creation_date":1478183423,"answer_id":40404174,"question_id":8488811,"body_markdown":"Right property to set / change in *jmeter.properties* is\r\n\r\n     sampleresult.default.encoding=UTF-8\r\n\r\n(if omitted default is ISO-8859-1)","title":"JMeter sample response encoding","body":"<p>Right property to set / change in <em>jmeter.properties</em> is</p>\n\n<pre><code> sampleresult.default.encoding=UTF-8\n</code></pre>\n\n<p>(if omitted default is ISO-8859-1)</p>\n"}],"owner":{"account_id":347779,"reputation":1025,"user_id":682114,"accept_rate":67,"display_name":"ddario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18177,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1689749284,"creation_date":1323777387,"question_id":8488811,"body_markdown":"I&#39;m having problems with JMeter&#39;s handling of unicode characters. When a sample response contains such characters, they are returned corrupted.\r\nFor example, I&#39;m using the dummy sampler with this response data:\r\n\r\n    Hauptschule Sankt P&#253;lten, Pottenbrunn\r\nAnd JMeter returns:\r\n\r\n    Hauptschule Sankt P�lten, Pottenbrunn\r\n\r\nI&#39;ve set these properties in saveservice.properties and jmeter.properties respectively:\r\n\r\n    _file_encoding=UTF-8\r\n    sampleresult.default.encoding=UTF-8\r\nbut it makes no difference.\r\n\r\nAny ideas on how to fix this?\r\nThanks","title":"JMeter sample response encoding","body":"<p>I'm having problems with JMeter's handling of unicode characters. When a sample response contains such characters, they are returned corrupted.\nFor example, I'm using the dummy sampler with this response data:</p>\n\n<pre><code>Hauptschule Sankt Pýlten, Pottenbrunn\n</code></pre>\n\n<p>And JMeter returns:</p>\n\n<pre><code>Hauptschule Sankt P�lten, Pottenbrunn\n</code></pre>\n\n<p>I've set these properties in saveservice.properties and jmeter.properties respectively:</p>\n\n<pre><code>_file_encoding=UTF-8\nsampleresult.default.encoding=UTF-8\n</code></pre>\n\n<p>but it makes no difference.</p>\n\n<p>Any ideas on how to fix this?\nThanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1689751483,"post_id":76718628,"comment_id":135255817,"body_markdown":"In your member project, do you have another application.properties?  Honestly I am not sure if Spring Boot is going to load application.properties from dependencies or is loading only from the application jar itself","body":"In your member project, do you have another application.properties?  Honestly I am not sure if Spring Boot is going to load application.properties from dependencies or is loading only from the application jar itself"},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1689752185,"post_id":76718628,"comment_id":135255961,"body_markdown":"Does this answer your question? [Spring Boot Inherit application.properties from dependency](https://stackoverflow.com/questions/35663679/spring-boot-inherit-application-properties-from-dependency)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35663679/spring-boot-inherit-application-properties-from-dependency\">Spring Boot Inherit application.properties from dependency</a>"}],"owner":{"account_id":27173222,"reputation":1,"user_id":20709584,"display_name":"real_rourou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689749145,"creation_date":1689749145,"question_id":76718628,"body_markdown":"I have two Maven projects called &quot;common&quot; &amp; &quot;member&quot;. I put my MySQL connection config file(`application.properties`) in common project. \r\n\r\n```java\r\nspring.datasource.url=jdbc:mysql://localhost:3306/train?serverTimezone=Asia/Shanghai&amp;characterEncoding=UTF8\r\nspring.datasource.username=train\r\nspring.datasource.password=1234\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n```\r\n**And I put &quot;common&quot; Maven dependency in &quot;member&quot; project, but when I started &quot;member&quot; project, it can&#39;t read `application.properties` in &quot;common&quot; project.** So it appears:\r\n\r\n```\r\n37.677 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:592  restartedMain                    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n37.684 INFO  o.a.c.core.StandardService    :173  restartedMain                    Stopping service [Tomcat]\r\n37.726 INFO  o.s.b.a.l.ConditionEvaluationReportLogger:82   restartedMain                    \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n37.780 ERROR o.s.b.d.LoggingFailureAnalysisReporter:40   restartedMain                    \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m sure something necessary have already add in &quot;common&quot; &amp; &quot;member&quot;:\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n \r\nSo, how my &quot;member&quot; can&#39;t read the `application.properties` in &quot;common&quot;?\r\n","title":"Spring Boot: Can&#39;t read &quot;application.properties&quot; in another Maven project","body":"<p>I have two Maven projects called &quot;common&quot; &amp; &quot;member&quot;. I put my MySQL connection config file(<code>application.properties</code>) in common project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.datasource.url=jdbc:mysql://localhost:3306/train?serverTimezone=Asia/Shanghai&amp;characterEncoding=UTF8\nspring.datasource.username=train\nspring.datasource.password=1234\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n</code></pre>\n<p><strong>And I put &quot;common&quot; Maven dependency in &quot;member&quot; project, but when I started &quot;member&quot; project, it can't read <code>application.properties</code> in &quot;common&quot; project.</strong> So it appears:</p>\n<pre><code>37.677 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:592  restartedMain                    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n37.684 INFO  o.a.c.core.StandardService    :173  restartedMain                    Stopping service [Tomcat]\n37.726 INFO  o.s.b.a.l.ConditionEvaluationReportLogger:82   restartedMain                    \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n37.780 ERROR o.s.b.d.LoggingFailureAnalysisReporter:40   restartedMain                    \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>I'm sure something necessary have already add in &quot;common&quot; &amp; &quot;member&quot;:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>So, how my &quot;member&quot; can't read the <code>application.properties</code> in &quot;common&quot;?</p>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":7657038,"reputation":371,"user_id":5803526,"display_name":"tonykwok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689748445,"creation_date":1689748445,"answer_id":76718552,"question_id":74526840,"body_markdown":"From the screenshot, we can confirm 2 things:\r\n\r\n 1. Java class obfuscation is enabled in your build\r\n 2. The class `org.json.JSONObject` that is being used is NOT the one from `android.jar`\r\n\r\nYou can run the following command to find where it comes from:\r\n\r\n    ./gradlew :app:dependencies --configuration releaseRuntimeClasspath\r\n\r\nThe output may look like below:\r\n\r\n    +--- com.sample.infra.galaxy:galaxy-fds-sdk-java:3.0.9\r\n    |    +--- org.apache.httpcomponents:httpclient:4.3.3\r\n    |    |    +--- org.apache.httpcomponents:httpcore:4.3.2 -&gt; 4.4.13\r\n    |    |    +--- commons-logging:commons-logging:1.1.3 -&gt; 1.2\r\n    |    |    \\--- commons-codec:commons-codec:1.6\r\n    |    +--- com.google.guava:guava:16.0.1 -&gt; 31.0.1-android (*)\r\n    |    +--- commons-lang:commons-lang:2.4 -&gt; 2.6\r\n    |    +--- commons-io:commons-io:2.1\r\n    |    \\--- com.sample.infra.galaxy:galaxy-fds-core:3.0.9\r\n    |         +--- com.google.guava:guava:18.0 -&gt; 31.0.1-android (*)\r\n    |         +--- commons-logging:commons-logging:1.2\r\n    |         +--- org.json:json:20090211\r\n    |         \\--- commons-lang:commons-lang:2.6\r\n\r\nand you can see that `org.json:json:20090211` is used in this project, and the class `JSONObject` in this library may not have `#wrap` API, though the class `JSONObject` in `android.jar` has such API, it won&#39;t be used at runtime.\r\n\r\n","title":"i can not understand why not use JSONObject.wrap","body":"<p>From the screenshot, we can confirm 2 things:</p>\n<ol>\n<li>Java class obfuscation is enabled in your build</li>\n<li>The class <code>org.json.JSONObject</code> that is being used is NOT the one from <code>android.jar</code></li>\n</ol>\n<p>You can run the following command to find where it comes from:</p>\n<pre><code>./gradlew :app:dependencies --configuration releaseRuntimeClasspath\n</code></pre>\n<p>The output may look like below:</p>\n<pre><code>+--- com.sample.infra.galaxy:galaxy-fds-sdk-java:3.0.9\n|    +--- org.apache.httpcomponents:httpclient:4.3.3\n|    |    +--- org.apache.httpcomponents:httpcore:4.3.2 -&gt; 4.4.13\n|    |    +--- commons-logging:commons-logging:1.1.3 -&gt; 1.2\n|    |    \\--- commons-codec:commons-codec:1.6\n|    +--- com.google.guava:guava:16.0.1 -&gt; 31.0.1-android (*)\n|    +--- commons-lang:commons-lang:2.4 -&gt; 2.6\n|    +--- commons-io:commons-io:2.1\n|    \\--- com.sample.infra.galaxy:galaxy-fds-core:3.0.9\n|         +--- com.google.guava:guava:18.0 -&gt; 31.0.1-android (*)\n|         +--- commons-logging:commons-logging:1.2\n|         +--- org.json:json:20090211\n|         \\--- commons-lang:commons-lang:2.6\n</code></pre>\n<p>and you can see that <code>org.json:json:20090211</code> is used in this project, and the class <code>JSONObject</code> in this library may not have <code>#wrap</code> API, though the class <code>JSONObject</code> in <code>android.jar</code> has such API, it won't be used at runtime.</p>\n"}],"owner":{"account_id":15049463,"reputation":11,"user_id":10861545,"display_name":"Jack Fan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689748445,"creation_date":1669083529,"question_id":74526840,"body_markdown":"i have change minSdkVersion to 21, but when i use JSONObject.wrap,it fatal by No static method wrap(Ljava/lang/Object;)Ljava/lang/Object\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/zG3vH.png)](https://i.stack.imgur.com/zG3vH.png)","title":"i can not understand why not use JSONObject.wrap","body":"<p>i have change minSdkVersion to 21, but when i use JSONObject.wrap,it fatal by No static method wrap(Ljava/lang/Object;)Ljava/lang/Object</p>\n<p><a href=\"https://i.stack.imgur.com/zG3vH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zG3vH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1689747654,"post_id":76718392,"comment_id":135255156,"body_markdown":"Stop using this very old (7 years) library. switch to a newer version","body":"Stop using this very old (7 years) library. switch to a newer version"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1689747684,"post_id":76718392,"comment_id":135255166,"body_markdown":"the [`pom`](https://repo1.maven.org/maven2/com/sun/mail/javax.mail/1.5.6/javax.mail-1.5.6.pom) suggest it is java 5 compatible. see the [docs on maven configuration](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html).","body":"the <a href=\"https://repo1.maven.org/maven2/com/sun/mail/javax.mail/1.5.6/javax.mail-1.5.6.pom\" rel=\"nofollow noreferrer\"><code>pom</code></a> suggest it is java 5 compatible. see the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">docs on maven configuration</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689804323,"post_id":76718392,"comment_id":135267232,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689748003,"creation_date":1689748003,"answer_id":76718498,"question_id":76718392,"body_markdown":"The [`pom`](https://repo1.maven.org/maven2/com/sun/mail/javax.mail/1.5.6/javax.mail-1.5.6.pom) suggest it is Java 5 compatible.\r\n\r\n    ...\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.5&lt;/source&gt;\r\n            &lt;target&gt;1.5&lt;/target&gt;\r\n            &lt;compilerArgs&gt;\r\n            ...\r\n\r\nYou can learn how to read the `pom` file by referring to [maven configuration documentation](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html).\r\n\r\nAs Jen suggested, you should use newer version (1.6.2) which support Java 7 and Java 9. However, please exercise caution as both version have known CVE as stated in the maven page. You should see if you could upgrade your code to be compatible with the latest fork called [`jakarta.mail`](https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail).","title":"javax.mail version compatibility","body":"<p>The <a href=\"https://repo1.maven.org/maven2/com/sun/mail/javax.mail/1.5.6/javax.mail-1.5.6.pom\" rel=\"nofollow noreferrer\"><code>pom</code></a> suggest it is Java 5 compatible.</p>\n<pre><code>...\n&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.5&lt;/source&gt;\n        &lt;target&gt;1.5&lt;/target&gt;\n        &lt;compilerArgs&gt;\n        ...\n</code></pre>\n<p>You can learn how to read the <code>pom</code> file by referring to <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">maven configuration documentation</a>.</p>\n<p>As Jen suggested, you should use newer version (1.6.2) which support Java 7 and Java 9. However, please exercise caution as both version have known CVE as stated in the maven page. You should see if you could upgrade your code to be compatible with the latest fork called <a href=\"https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail\" rel=\"nofollow noreferrer\"><code>jakarta.mail</code></a>.</p>\n"}],"owner":{"account_id":21506854,"reputation":9,"user_id":15850113,"display_name":"Yallaling Kolkur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689748003,"creation_date":1689746862,"question_id":76718392,"body_markdown":"which is the javax.mail version is compatible with java version 1.7.0_191\r\nand which version of java is compatible with javax.mail-1.5.6.jar\r\n\r\n\r\nplease let us know the correct answer because i am facing a below exception, currently i have java 1.7.0-191 and javax.mail-1.5.6.jar\r\n\r\n    Caused by: java.lang.NoSuchFieldError: SIZE\r\n    \tat com.sun.mail.imap.IMAPFolder.fetch(IMAPFolder.java:1200)\r\n    \tat com.idit.jafa.work_flow.server.manager.NewEmailManagerJAFA.extractMessages(NewEmailManagerJAFA.java:208)\r\n\r\nplease help me to solve this problem","title":"javax.mail version compatibility","body":"<p>which is the javax.mail version is compatible with java version 1.7.0_191\nand which version of java is compatible with javax.mail-1.5.6.jar</p>\n<p>please let us know the correct answer because i am facing a below exception, currently i have java 1.7.0-191 and javax.mail-1.5.6.jar</p>\n<pre><code>Caused by: java.lang.NoSuchFieldError: SIZE\n    at com.sun.mail.imap.IMAPFolder.fetch(IMAPFolder.java:1200)\n    at com.idit.jafa.work_flow.server.manager.NewEmailManagerJAFA.extractMessages(NewEmailManagerJAFA.java:208)\n</code></pre>\n<p>please help me to solve this problem</p>\n"},{"tags":["java","android","android-button","grid-layout","tablelayout"],"owner":{"account_id":3446000,"reputation":435,"user_id":2886813,"display_name":"Samwise Ganges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689747771,"creation_date":1689747771,"question_id":76718484,"body_markdown":"I&#39;m trying to create an Android app with a grid of buttons in the main Activity. I need to be able to easily change the number of rows and columns of the grid so it has to be done programmatically through the Java and not in the XML.\r\n\r\nI want the grid to take up the full height and width of its parent layout (currently a simple FrameLayout inside a ConstraintLayout) regardless of the button text. I wrote a method to generate the grid using a TableLayout and it almost works but the resulting grid doesn&#39;t take up the full height of the container. The colors are only there temporarily to facilitate troubleshooting as it makes it easy to see which parts are where. Below is the method I have currently:\r\n\r\n     private void generateButtonTable(Context context, ViewGroup layout){\r\n\r\n        int ROWS = 3;\r\n        int COLUMNS = 3;\r\n\r\n        TableLayout tableLayout = new TableLayout(context);\r\n        tableLayout.setBackgroundColor(Color.RED); // This is taking up the full height and width of parent\r\n\r\n        int button_id = 0;\r\n\r\n        for (int i = 0; i &lt; ROWS; i++){\r\n            TableRow tableRow = new TableRow(context);\r\n\r\n            tableRow.setLayoutParams(new TableRow.LayoutParams(\r\n                    0,\r\n                    0, // Set the height to 0, and the TableRow will use weight to occupy the remaining space\r\n                    1f // Set the weight to evenly distribute the height among rows\r\n            ));\r\n\r\n            tableRow.setBackgroundColor(Color.BLUE); // Only taking up full width\r\n\r\n            for (int j = 0; j &lt; COLUMNS; j++){\r\n                Button button = new Button(context);\r\n\r\n                button.setLayoutParams(new TableRow.LayoutParams(\r\n                        0, // Set the width to 0, and the Button will use weight to occupy the remaining space\r\n                        ViewGroup.LayoutParams.MATCH_PARENT, // Set the height to MATCH_PARENT\r\n                        1f // Set the weight to evenly distribute the width\r\n                ));\r\n\r\n                button.setBackgroundColor(Color.GREEN);\r\n                button.setText(&quot;button &quot;+button_id++);\r\n                tableRow.addView(button);\r\n            }\r\n            tableLayout.addView(tableRow, i);\r\n        }\r\n        layout.addView(tableLayout);\r\n    }\r\n\r\nThe table rows and buttons are taking up the full width correctly, but not the full height. For some reason setting the height of the rows to 0 and using the weight doesn&#39;t work.\r\n\r\nBelow is the onCreate method where it&#39;s called:\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar); // Replaces the default ActionBar with our custom ToolBar\r\n\r\n        FrameLayout layout = findViewById(R.id.grid_container);\r\n        generateButtonTable(this, layout);\r\n\r\n    }\r\n\r\nHere&#39;s the XML for the main Activity:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mainRelativeLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingTop=&quot;0dp&quot;\r\n    tools:context=&quot;com.therealsamchaney.beatcube.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        layout=&quot;@layout/toolbar&quot;\r\n        /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/grid_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        &gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nHow can I get the grid to take up the full height correctly? Do I need to switch to a GridLayout instead?","title":"In Android Studio, how can I programmatically generate a grid of buttons that takes up the full width and height of its parent layout?","body":"<p>I'm trying to create an Android app with a grid of buttons in the main Activity. I need to be able to easily change the number of rows and columns of the grid so it has to be done programmatically through the Java and not in the XML.</p>\n<p>I want the grid to take up the full height and width of its parent layout (currently a simple FrameLayout inside a ConstraintLayout) regardless of the button text. I wrote a method to generate the grid using a TableLayout and it almost works but the resulting grid doesn't take up the full height of the container. The colors are only there temporarily to facilitate troubleshooting as it makes it easy to see which parts are where. Below is the method I have currently:</p>\n<pre><code> private void generateButtonTable(Context context, ViewGroup layout){\n\n    int ROWS = 3;\n    int COLUMNS = 3;\n\n    TableLayout tableLayout = new TableLayout(context);\n    tableLayout.setBackgroundColor(Color.RED); // This is taking up the full height and width of parent\n\n    int button_id = 0;\n\n    for (int i = 0; i &lt; ROWS; i++){\n        TableRow tableRow = new TableRow(context);\n\n        tableRow.setLayoutParams(new TableRow.LayoutParams(\n                0,\n                0, // Set the height to 0, and the TableRow will use weight to occupy the remaining space\n                1f // Set the weight to evenly distribute the height among rows\n        ));\n\n        tableRow.setBackgroundColor(Color.BLUE); // Only taking up full width\n\n        for (int j = 0; j &lt; COLUMNS; j++){\n            Button button = new Button(context);\n\n            button.setLayoutParams(new TableRow.LayoutParams(\n                    0, // Set the width to 0, and the Button will use weight to occupy the remaining space\n                    ViewGroup.LayoutParams.MATCH_PARENT, // Set the height to MATCH_PARENT\n                    1f // Set the weight to evenly distribute the width\n            ));\n\n            button.setBackgroundColor(Color.GREEN);\n            button.setText(&quot;button &quot;+button_id++);\n            tableRow.addView(button);\n        }\n        tableLayout.addView(tableRow, i);\n    }\n    layout.addView(tableLayout);\n}\n</code></pre>\n<p>The table rows and buttons are taking up the full width correctly, but not the full height. For some reason setting the height of the rows to 0 and using the weight doesn't work.</p>\n<p>Below is the onCreate method where it's called:</p>\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar); // Replaces the default ActionBar with our custom ToolBar\n\n    FrameLayout layout = findViewById(R.id.grid_container);\n    generateButtonTable(this, layout);\n\n}\n</code></pre>\n<p>Here's the XML for the main Activity:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/mainRelativeLayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:paddingTop=&quot;0dp&quot;\ntools:context=&quot;com.therealsamchaney.beatcube.MainActivity&quot;&gt;\n\n\n&lt;include\n    android:id=&quot;@+id/toolbar&quot;\n    layout=&quot;@layout/toolbar&quot;\n    /&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/grid_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    android:background=&quot;@color/black&quot;\n    &gt;\n\n&lt;/FrameLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>How can I get the grid to take up the full height correctly? Do I need to switch to a GridLayout instead?</p>\n"},{"tags":["java","mysql","arrays","lambda","java-8"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1689653982,"post_id":76709494,"comment_id":135240373,"body_markdown":"How is the result derived from the data? I would have expected values of 2, 3, 2 instead of 3, 3, 1. What specifically did you try and what wasn’t working? Please read [ask].","body":"How is the result derived from the data? I would have expected values of 2, 3, 2 instead of 3, 3, 1. What specifically did you try and what wasn’t working? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":3588941,"reputation":1953,"user_id":2995424,"accept_rate":86,"display_name":"Karthick"},"score":0,"creation_date":1689658243,"post_id":76709494,"comment_id":135240741,"body_markdown":"SELECT group_concat(distinct CONCAT(HOUR(date_time), &#39;-&#39;, HOUR(date_time) + 1)) AS hour_range, COUNT(date_time) AS count\nFROM your_table\nGROUP BY HOUR(date_time)\nORDER BY HOUR(date_time);","body":"SELECT group_concat(distinct CONCAT(HOUR(date_time), &#39;-&#39;, HOUR(date_time) + 1)) AS hour_range, COUNT(date_time) AS count FROM your_table GROUP BY HOUR(date_time) ORDER BY HOUR(date_time);"}],"answers":[{"tags":[],"owner":{"account_id":8166986,"reputation":244,"user_id":6148911,"display_name":"ps-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689654435,"creation_date":1689654435,"answer_id":76709533,"question_id":76709494,"body_markdown":"In case you are expecting &lt;hour-range, count&gt; in your output, following query might solve your problem -\r\n\r\n    SELECT group_concat(distinct CONCAT(HOUR(date_time), &#39;-&#39;, HOUR(date_time) + 1)) AS hour_range, COUNT(date_time) AS count\r\n    FROM your_table\r\n    GROUP BY HOUR(date_time)\r\n    ORDER BY HOUR(date_time);\r\n\r\n[Fiddle Link][1]\r\n\r\n\r\n  [1]: https://dbfiddle.uk/EG7xD8aB","title":"Compute the date range count for every hour using a list of dates","body":"<p>In case you are expecting &lt;hour-range, count&gt; in your output, following query might solve your problem -</p>\n<pre><code>SELECT group_concat(distinct CONCAT(HOUR(date_time), '-', HOUR(date_time) + 1)) AS hour_range, COUNT(date_time) AS count\nFROM your_table\nGROUP BY HOUR(date_time)\nORDER BY HOUR(date_time);\n</code></pre>\n<p><a href=\"https://dbfiddle.uk/EG7xD8aB\" rel=\"nofollow noreferrer\">Fiddle Link</a></p>\n"}],"owner":{"account_id":3588941,"reputation":1953,"user_id":2995424,"accept_rate":86,"display_name":"Karthick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76709533,"answer_count":1,"score":-2,"last_activity_date":1689747688,"creation_date":1689653728,"question_id":76709494,"body_markdown":"1. I want the **Map&lt;String hours, count &gt;** from the list of dates \r\n2. I also group by date and count for every 1 hour\r\n\r\nEx In DB Value looks like this \r\n\r\n    2023-07-18 10:10:00.000\r\n    2023-07-18 10:20:00.000\r\n    2023-07-18 11:10:00.000\r\n    2023-07-18 11:30:00.000\r\n    2023-07-18 11:35:00.000\r\n    2023-07-18 12:10:00.000\r\n    2023-07-18 12:30:00.000\r\n\r\nMy expected result should be as follow as should calculate each 1 hour range count\r\n\r\nMap result \r\n\r\n    &lt;10-11 ,2&gt;\r\n    &lt;11-12 ,3&gt;\r\n    &lt;12-13 ,2&gt;\r\n\r\nI tried lot of examples provide by the forum but does&#39;t work.\r\n\r\n","title":"Compute the date range count for every hour using a list of dates","body":"<ol>\n<li>I want the <strong>Map&lt;String hours, count &gt;</strong> from the list of dates</li>\n<li>I also group by date and count for every 1 hour</li>\n</ol>\n<p>Ex In DB Value looks like this</p>\n<pre><code>2023-07-18 10:10:00.000\n2023-07-18 10:20:00.000\n2023-07-18 11:10:00.000\n2023-07-18 11:30:00.000\n2023-07-18 11:35:00.000\n2023-07-18 12:10:00.000\n2023-07-18 12:30:00.000\n</code></pre>\n<p>My expected result should be as follow as should calculate each 1 hour range count</p>\n<p>Map result</p>\n<pre><code>&lt;10-11 ,2&gt;\n&lt;11-12 ,3&gt;\n&lt;12-13 ,2&gt;\n</code></pre>\n<p>I tried lot of examples provide by the forum but does't work.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":2,"creation_date":1410491091,"post_id":25800068,"comment_id":40355699,"body_markdown":"it is unclear what you want or are asking","body":"it is unclear what you want or are asking"},{"owner":{"account_id":2436112,"reputation":5684,"user_id":2125973,"accept_rate":38,"display_name":"Thusitha Thilina Dayaratne"},"score":0,"creation_date":1410491313,"post_id":25800068,"comment_id":40355752,"body_markdown":"if user 1 plays then 3, 2\nif user 2 plays then 1, 3\nif user 3 plays then 2, 1\nIs that what you want?","body":"if user 1 plays then 3, 2 if user 2 plays then 1, 3 if user 3 plays then 2, 1 Is that what you want?"}],"answers":[{"tags":[],"owner":{"account_id":295,"reputation":101679,"user_id":369,"accept_rate":93,"display_name":"Blorgbeard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1410491870,"creation_date":1410491870,"answer_id":25800193,"question_id":25800068,"body_markdown":"I don&#39;t think you want to use a `for` loop to implement this logic. You want to reverse direction as soon as the reverse card is played, not at the end of the for-loop. \r\n\r\nI would handle it turn by turn, treating the current player as part of the state, rather than a loop variable.\r\n\r\nTry implementing something like this (pseudocode):\r\n    \r\n    subroutine nextPlayer:\r\n        if direction == 1:\r\n            player = (player + 1) % playerCount\r\n        else:\r\n            player = (player - 1) % playerCount    \r\n\r\n    main loop:\r\n        while game not over:\r\n            play turn (player)\r\n            if played skip:\r\n                nextPlayer\r\n                nextPlayer\r\n            else if played reverse:\r\n                direction = direction * -1\r\n                nextPlayer\r\n            else                 \r\n                nextPlayer\r\n            end if\r\n        end while            ","title":"Get a for loop in Uno to reverse order","body":"<p>I don't think you want to use a <code>for</code> loop to implement this logic. You want to reverse direction as soon as the reverse card is played, not at the end of the for-loop. </p>\n\n<p>I would handle it turn by turn, treating the current player as part of the state, rather than a loop variable.</p>\n\n<p>Try implementing something like this (pseudocode):</p>\n\n<pre><code>subroutine nextPlayer:\n    if direction == 1:\n        player = (player + 1) % playerCount\n    else:\n        player = (player - 1) % playerCount    \n\nmain loop:\n    while game not over:\n        play turn (player)\n        if played skip:\n            nextPlayer\n            nextPlayer\n        else if played reverse:\n            direction = direction * -1\n            nextPlayer\n        else                 \n            nextPlayer\n        end if\n    end while            \n</code></pre>\n"}],"owner":{"account_id":2184663,"reputation":51,"user_id":1933338,"accept_rate":75,"display_name":"zlittrell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":25800193,"answer_count":1,"score":0,"last_activity_date":1689747335,"creation_date":1410490826,"question_id":25800068,"body_markdown":"I&#39;m attempting to make a Java version of the card game Uno. In the game there is a card that reverses the order of play so if Player 1 plays the card, Player 3 is next, then Player 2 and so on. However, I am having difficulty on trying to get: \r\n\r\n```lang-java\r\nfor(int i = 0; i &lt; 3; i++){\r\n\tif(game.skipNext){\r\n\t\tgame.playTurn((i + 1) % 3);\r\n\t\tgame.skipNext = false;\r\n\t} else {\r\n\t\tgame.playTurn(i);\r\n\t}\r\n```\r\n\r\nto reverse the order so Player 3 follows Player 1 etc.\r\n\r\nI have this current code:\r\n\r\n```lang-java\r\nwhile(game.gameIsActive){\r\n\tif(game.gameIsClockwise){\r\n\t\tfor(int i = 0; i &lt; 3; i++){\r\n\t\t\tif(game.skipNext){\r\n\t\t\t\tgame.playTurn((i + 1) % 3);\r\n\t\t\t\tgame.skipNext = false;\r\n\t\t\t} else {\r\n\t\t\t\tgame.playTurn(i);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tint loopStart = (game.newlyClockwise) ? game.activePlayer - 1/* Starts with previous player*/ : 2;\r\n\t\tfor(int i = loopStart; i &gt; -1;i--) {\r\n\t\t\tif(game.skipNext){\r\n\t\t\t\tgame.playTurn((i + 1) % 3);\r\n\t\t\t\tgame.skipNext = false;\r\n\t\t\t} else {\r\n\t\t\t\tgame.playTurn(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nas my game loop but it does not work. If Player 1 plays reverse, Player 2 still goes next.","title":"Get a for loop in Uno to reverse order","body":"<p>I'm attempting to make a Java version of the card game Uno. In the game there is a card that reverses the order of play so if Player 1 plays the card, Player 3 is next, then Player 2 and so on. However, I am having difficulty on trying to get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; 3; i++){\n    if(game.skipNext){\n        game.playTurn((i + 1) % 3);\n        game.skipNext = false;\n    } else {\n        game.playTurn(i);\n    }\n</code></pre>\n<p>to reverse the order so Player 3 follows Player 1 etc.</p>\n<p>I have this current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(game.gameIsActive){\n    if(game.gameIsClockwise){\n        for(int i = 0; i &lt; 3; i++){\n            if(game.skipNext){\n                game.playTurn((i + 1) % 3);\n                game.skipNext = false;\n            } else {\n                game.playTurn(i);\n            }\n        }\n    } else {\n        int loopStart = (game.newlyClockwise) ? game.activePlayer - 1/* Starts with previous player*/ : 2;\n        for(int i = loopStart; i &gt; -1;i--) {\n            if(game.skipNext){\n                game.playTurn((i + 1) % 3);\n                game.skipNext = false;\n            } else {\n                game.playTurn(i);\n            }\n        }\n    }\n}\n</code></pre>\n<p>as my game loop but it does not work. If Player 1 plays reverse, Player 2 still goes next.</p>\n"},{"tags":["java","mysql","jdbc","timezone"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1689354559,"post_id":76685282,"comment_id":135206809,"body_markdown":"`I have tried implementing various timezone settings` where?","body":"<code>I have tried implementing various timezone settings</code> where?"},{"owner":{"account_id":29014952,"reputation":19,"user_id":22225576,"display_name":"bear bear"},"score":0,"creation_date":1689654254,"post_id":76685282,"comment_id":135240397,"body_markdown":"In servlet code","body":"In servlet code"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1689691131,"post_id":76685282,"comment_id":135247736,"body_markdown":"It is not available.","body":"It is not available."},{"owner":{"account_id":3296047,"reputation":452,"user_id":2773289,"display_name":"user2773289"},"score":0,"creation_date":1689710283,"post_id":76685282,"comment_id":135251525,"body_markdown":"Are you sure that the web client and the database server are in the same timezone?","body":"Are you sure that the web client and the database server are in the same timezone?"},{"owner":{"account_id":29014952,"reputation":19,"user_id":22225576,"display_name":"bear bear"},"score":0,"creation_date":1689745669,"post_id":76685282,"comment_id":135254879,"body_markdown":"I think issue is with timezone difference since I tried inserting a date input into the table like below:","body":"I think issue is with timezone difference since I tried inserting a date input into the table like below:"},{"owner":{"account_id":29014952,"reputation":19,"user_id":22225576,"display_name":"bear bear"},"score":0,"creation_date":1689746032,"post_id":76685282,"comment_id":135254927,"body_markdown":"@user2773289 , I think issue is with timezone difference since I tried inserting a date input into the table like below: stmt.setDate(1,java.sql.Date.valueOf(&quot;2023-07-19&quot;)); and the date inserted in the mysql table was again 1 day less, i.e 2023-07-18. My database server time zone is SYSTEM and current timestamp in the table shows correct date and time but only user input date processed through PreparedStatement in servlet is incorrectly stored","body":"@user2773289 , I think issue is with timezone difference since I tried inserting a date input into the table like below: stmt.setDate(1,java.sql.Date.valueOf(&quot;2023-07-19&quot;)); and the date inserted in the mysql table was again 1 day less, i.e 2023-07-18. My database server time zone is SYSTEM and current timestamp in the table shows correct date and time but only user input date processed through PreparedStatement in servlet is incorrectly stored"},{"owner":{"account_id":3296047,"reputation":452,"user_id":2773289,"display_name":"user2773289"},"score":0,"creation_date":1689780931,"post_id":76685282,"comment_id":135262886,"body_markdown":"@bearbear please read the issue here: https://stackoverflow.com/questions/61561247/java-sql-date-is-off-by-1-day\n\nIt may help...","body":"@bearbear please read the issue here: <a href=\"https://stackoverflow.com/questions/61561247/java-sql-date-is-off-by-1-day\" title=\"java sql date is off by 1 day\">stackoverflow.com/questions/61561247/&hellip;</a>  It may help..."}],"owner":{"account_id":29014952,"reputation":19,"user_id":22225576,"display_name":"bear bear"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689747176,"creation_date":1689317081,"question_id":76685282,"body_markdown":"I am developing a web application using jsp, java servlets and mysql. I am facing certain issue described below:\r\nThe user input date received from jsp page to servlet is correct as I can check in print statement but when sql statement is run in the servlet, the final date stored in the mysql table is incorrect, that too it is 1 day shifted before. For example, if selected input date is 2023-06-20 and the sqlDate variable is also containing the same format date (which I tried printing just before inserting into database table), now after executing insert/update statement , the value stored in the actual date column of the database is 2023-06-19, i.e one day less.\r\n\r\n\r\nI have tried implementing various timezone settings suggested by chatGpt but none of them is working. My database server time zone is SYSTEM. I am also storing current timestamp in the table on updating the date field but somehow the timestamp shows correct date and time but only date field is getting incorrectly stored.\r\n\r\nFollowing is few of my code lines. Please ignore any syntax errors as I have manually typed code lines in here.\r\n```\r\n**//user jsp form**\r\n...\r\n&lt;input type=&quot;date&quot; id =&quot;start_date&quot; name=&quot;start_date&quot; value=&quot;here dynamically fetched date from the course_progress table is shown, which user can change and submit to update&quot;&gt;\r\n&lt;!-- user selected date: 2023-06-20&gt;\r\n...\r\n**//servlet class**\r\nString date_start = request.getParameter(&quot;start_date&quot;);\r\njava.sql.Date start_date = null;\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\nif(date_start !=null &amp;&amp; !(date_start.isEmpty())){\r\ntry{\r\nstart_date = (java.sql.Date) new java.sql.Date(sdf.parse(request.getParameter(&quot;start_date&quot;)).getTime());\r\n}catch(ParseException e){\r\ne.printStackTrace();\r\n}\r\n}\r\nCourse theCourse = new Course(few parameters, start_date);\r\nSystem.out.println(&quot;Before sending Params are &quot; + theCourse.toString()) // start_date: 2023-06-20\r\nMesssage msg = dbUtil(theCourse);\r\n\r\n**//dbUtil class**\r\n...\r\njava.sql.Date start_date = theCourse.getStart_date();\r\n//System.out.println(&quot;Received Date in dbUtil is&quot; + start_date ) // start_date: 2023-06-20\r\n\r\n//get db connection\r\n...\r\nPreparedStatement stmt = null;\r\n\r\nconn = dataSource.getConnection();\r\nString sql = &quot;update course_progress set start_date = ?, lecture_count = ? where course_id = ?&quot;;\r\nstmt = conn.prepareStatement(sql);\r\nstmt.setDate(1,start_date );\r\n...\r\nstmt.execute();\r\n...\r\n```\r\n\r\nPlease note that I am using java.sql.Date throughout my java entity  classes in the project, so I  cannot use java util date as it throws other conversion errors. Also, the type of start_date field in mysql table is **DATE**.\r\n\r\n**EDIT:**\r\nI think issue is with timezone difference since I tried inserting a date input into the table like below: \r\n\r\n**stmt.setDate(1,java.sql.Date.valueOf(&quot;2023-07-19&quot;));**\r\n\r\nand the date inserted in the mysql table was again 1 day less, i.e 2023-07-18. My database server time zone is SYSTEM and current timestamp in the table shows correct date and time but only user input date processed through PreparedStatement in servlet is incorrectly stored.\r\n\r\nI used the **TimeZone.getDefault()** method to retrieve the default time zone of the Java virtual machine (JVM)\r\n\r\n\r\n    // Get the system&#39;s time zone\r\n        TimeZone timeZone = TimeZone.getDefault();\r\n\r\n        // Get the offset value of the time zone\r\n        int offsetHours = timeZone.getRawOffset() / (60 * 60 * 1000);\r\n        int offsetMinutes = (Math.abs(timeZone.getRawOffset()) / (60 * 1000)) % 60;\r\n        String offset = String.format(&quot;%+03d:%02d&quot;, offsetHours, offsetMinutes);\r\n\r\n\r\n    conn = dataSource.getConnection();\r\n            conn.createStatement().execute(&quot;SET time_zone = &#39;&quot; + offset + &quot;&#39;&quot;);\r\n\r\n\r\nI got this solution from chatGPT, not sure what it does as I am new to JAVA .Please correct me what I am doing wrong\r\n\r\n","title":"Incorrect user date input being stored in MySQL table","body":"<p>I am developing a web application using jsp, java servlets and mysql. I am facing certain issue described below:\nThe user input date received from jsp page to servlet is correct as I can check in print statement but when sql statement is run in the servlet, the final date stored in the mysql table is incorrect, that too it is 1 day shifted before. For example, if selected input date is 2023-06-20 and the sqlDate variable is also containing the same format date (which I tried printing just before inserting into database table), now after executing insert/update statement , the value stored in the actual date column of the database is 2023-06-19, i.e one day less.</p>\n<p>I have tried implementing various timezone settings suggested by chatGpt but none of them is working. My database server time zone is SYSTEM. I am also storing current timestamp in the table on updating the date field but somehow the timestamp shows correct date and time but only date field is getting incorrectly stored.</p>\n<p>Following is few of my code lines. Please ignore any syntax errors as I have manually typed code lines in here.</p>\n<pre><code>**//user jsp form**\n...\n&lt;input type=&quot;date&quot; id =&quot;start_date&quot; name=&quot;start_date&quot; value=&quot;here dynamically fetched date from the course_progress table is shown, which user can change and submit to update&quot;&gt;\n&lt;!-- user selected date: 2023-06-20&gt;\n...\n**//servlet class**\nString date_start = request.getParameter(&quot;start_date&quot;);\njava.sql.Date start_date = null;\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nif(date_start !=null &amp;&amp; !(date_start.isEmpty())){\ntry{\nstart_date = (java.sql.Date) new java.sql.Date(sdf.parse(request.getParameter(&quot;start_date&quot;)).getTime());\n}catch(ParseException e){\ne.printStackTrace();\n}\n}\nCourse theCourse = new Course(few parameters, start_date);\nSystem.out.println(&quot;Before sending Params are &quot; + theCourse.toString()) // start_date: 2023-06-20\nMesssage msg = dbUtil(theCourse);\n\n**//dbUtil class**\n...\njava.sql.Date start_date = theCourse.getStart_date();\n//System.out.println(&quot;Received Date in dbUtil is&quot; + start_date ) // start_date: 2023-06-20\n\n//get db connection\n...\nPreparedStatement stmt = null;\n\nconn = dataSource.getConnection();\nString sql = &quot;update course_progress set start_date = ?, lecture_count = ? where course_id = ?&quot;;\nstmt = conn.prepareStatement(sql);\nstmt.setDate(1,start_date );\n...\nstmt.execute();\n...\n</code></pre>\n<p>Please note that I am using java.sql.Date throughout my java entity  classes in the project, so I  cannot use java util date as it throws other conversion errors. Also, the type of start_date field in mysql table is <strong>DATE</strong>.</p>\n<p><strong>EDIT:</strong>\nI think issue is with timezone difference since I tried inserting a date input into the table like below:</p>\n<p><strong>stmt.setDate(1,java.sql.Date.valueOf(&quot;2023-07-19&quot;));</strong></p>\n<p>and the date inserted in the mysql table was again 1 day less, i.e 2023-07-18. My database server time zone is SYSTEM and current timestamp in the table shows correct date and time but only user input date processed through PreparedStatement in servlet is incorrectly stored.</p>\n<p>I used the <strong>TimeZone.getDefault()</strong> method to retrieve the default time zone of the Java virtual machine (JVM)</p>\n<pre><code>// Get the system's time zone\n    TimeZone timeZone = TimeZone.getDefault();\n\n    // Get the offset value of the time zone\n    int offsetHours = timeZone.getRawOffset() / (60 * 60 * 1000);\n    int offsetMinutes = (Math.abs(timeZone.getRawOffset()) / (60 * 1000)) % 60;\n    String offset = String.format(&quot;%+03d:%02d&quot;, offsetHours, offsetMinutes);\n\n\nconn = dataSource.getConnection();\n        conn.createStatement().execute(&quot;SET time_zone = '&quot; + offset + &quot;'&quot;);\n</code></pre>\n<p>I got this solution from chatGPT, not sure what it does as I am new to JAVA .Please correct me what I am doing wrong</p>\n"},{"tags":["java","android","pdf","pdfrenderer"],"owner":{"account_id":25718940,"reputation":1,"user_id":19476200,"display_name":"vishvajith abegunasekara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689747135,"creation_date":1689740941,"question_id":76717986,"body_markdown":"I tride meny methods but they do nothing it don&#39;t run after feirst line of metod\r\nI used pdf rendere but when I run the method to extract pages it get errors fromthe first line\r\n\r\n```\r\n//this is the full code\r\npackage com.example.printrev;\r\n\r\n\r\n\r\npublic class Printact extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n    Button sel,go;\r\n    TextView t;\r\n    EditText edtex;\r\n    ImageView fpg;\r\n    PdfRenderer renderer;\r\n    public int md= 0;\r\n    boolean is_selected = false;\r\n    private  static final int PERMISSION_REQUEST_CODE = 7;\r\n    int f=0;\r\n    public String srct ;\r\n   public int pgcount=0;\r\n    public ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_printact);\r\n\r\n        fpg =(ImageView) findViewById(R.id.imageView2);\r\n        edtex = (EditText) findViewById(R.id.editTextTextPersonName);\r\n        sel = (Button) findViewById(R.id.pdf_selc);\r\n        go = (Button) findViewById(R.id.go);\r\n        t = (TextView) findViewById(R.id.pdfname);\r\n        Spinner spinner = findViewById(R.id.spinner);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,R.array.selec, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n        spinner.setOnItemSelectedListener(this);\r\n\r\n        sel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                f=0;\r\n                if (!(ContextCompat.checkSelfPermission(Printact.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)){\r\n                    askPermission();\r\n                }\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;application/pdf&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(intent, 1);\r\n            }\r\n        });\r\n        go.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                f=0;\r\n                if (!(ContextCompat.checkSelfPermission(Printact.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)){\r\n                    askPermission();\r\n                }\r\n\r\n                Toast.makeText(Printact.this, &quot;Arry bilded&quot;, Toast.LENGTH_SHORT).show();\r\n                build();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void build() {\r\n        /*if(m==3){\r\n        for(int x=0,x&lt;pagcount;x++){\r\n            if(x%2==1){\r\n               front[x]=bitmapArry[]\r\n            }else{\r\n\r\n            }\r\n        }else if (m==2){\r\n            int i[]=[pagcount];\r\n            int c=0\r\n            String g= edtex.toString();\r\n            int m=0;\r\n            string h=&quot;&quot;;\r\n            for(g:string s){\r\n                if(s==&quot;.&quot;){\r\n                    if (m!=0){\r\n                        for(int x=(m+1);x&lt;=(h.toInt();x++){\r\n                            i[c]=x;\r\n                            c++;\r\n                        }\r\n                        h=&quot;&quot;;\r\n                        m=0;\r\n                    }\r\n                    i[c]=h.toInt();\r\n                    c++;\r\n                    h=&quot;&quot;;\r\n\r\n                }else if(s==&quot;-&quot;){\r\n                    i[c]=h.toInt();\r\n                    c++;\r\n                    m=h.toInt();\r\n                    h=&quot;&quot;;\r\n                }else{\r\n                    h+=s;\r\n                }\r\n            }\r\n        }*/\r\n        Toast.makeText(this, &quot;Sub arry bulded&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n            String pdfPath = data.getData().getPath();\r\n            t.setText(pdfPath);\r\n            srct = t.toString();\r\n\r\n        }\r\n        try {\r\n            Toast.makeText(this, &quot;fgfsgsf&quot;, Toast.LENGTH_SHORT).show();\r\n            ParcelFileDescriptor parcelFileDescriptor = getContentResolver()\r\n                    .openFileDescriptor(Uri.parse(srct),&quot;s&quot;);\r\n            renderer = new PdfRenderer(parcelFileDescriptor);\r\n            pgcount = renderer.getPageCount();\r\n            Toast.makeText(this, pgcount, Toast.LENGTH_SHORT).show();\r\n            ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n            if(renderer!=null){\r\n            for(int x=0;x&lt;pgcount;x++){\r\n                PdfRenderer.Page page=renderer.openPage(x);\r\n                Bitmap bitmap = Bitmap.createBitmap(page.getWidth(),page.getHeight(),Bitmap.Config.ARGB_8888);\r\n                page.render(bitmap,null,null,PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n                bitmaps.add(bitmap);\r\n\r\n            }}\r\n            fpg.setImageBitmap(bitmaps.get(0));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n        String m = adapterView.getItemAtPosition(i).toString();\r\n        if (m !=&quot;&quot;){is_selected = true;}\r\n        if (is_selected) {\r\n            switch (m) {\r\n                case &quot;Print&quot;:\r\n                    md=1;\r\n                    edtex.setVisibility(View.INVISIBLE);\r\n                    break;\r\n                case &quot;Print selected pages&quot;:\r\n                    md=2;\r\n                    edtex.setVisibility(View.VISIBLE);\r\n                    break;\r\n                case &quot;Print doble side&quot;:\r\n                    md=3;\r\n                    edtex.setVisibility(View.INVISIBLE);\r\n                    break;\r\n                default:\r\n                    md=0;\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n    }\r\n    private void askPermission() {\r\n\r\n        ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\r\n\r\n        if (requestCode == PERMISSION_REQUEST_CODE)\r\n        {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;permission Graneted&quot;, Toast.LENGTH_SHORT).show();\r\n            }else\r\n            {\r\n                Toast.makeText(Printact.this,&quot;Permission Denied&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n        }\r\n\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n}\r\n```\r\n//this is the method I used to extract pages \r\ntry {\r\n            \r\n            ParcelFileDescriptor parcelFileDescriptor = getContentResolver()\r\n                    .openFileDescriptor(Uri.parse(srct),&quot;s&quot;);//srct is pdf uri\r\n            renderer = new PdfRenderer(parcelFileDescriptor);\r\n            pgcount = renderer.getPageCount();\r\n            Toast.makeText(this, pgcount, Toast.LENGTH_SHORT).show();\r\n            ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n            if(renderer!=null){\r\n            for(int x=0;x&lt;pgcount;x++){\r\n                PdfRenderer.Page page=renderer.openPage(x);\r\n                Bitmap bitmap = Bitmap.createBitmap(page.getWidth(),page.getHeight(),Bitmap.Config.ARGB_8888);\r\n                page.render(bitmap,null,null,PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n                bitmaps.add(bitmap);\r\n\r\n            }}\r\n            fpg.setImageBitmap(bitmaps.get(0));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }``","title":"How can I extract pages from pdf to bitmap image array","body":"<p>I tride meny methods but they do nothing it don't run after feirst line of metod\nI used pdf rendere but when I run the method to extract pages it get errors fromthe first line</p>\n<pre><code>//this is the full code\npackage com.example.printrev;\n\n\n\npublic class Printact extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n    Button sel,go;\n    TextView t;\n    EditText edtex;\n    ImageView fpg;\n    PdfRenderer renderer;\n    public int md= 0;\n    boolean is_selected = false;\n    private  static final int PERMISSION_REQUEST_CODE = 7;\n    int f=0;\n    public String srct ;\n   public int pgcount=0;\n    public ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_printact);\n\n        fpg =(ImageView) findViewById(R.id.imageView2);\n        edtex = (EditText) findViewById(R.id.editTextTextPersonName);\n        sel = (Button) findViewById(R.id.pdf_selc);\n        go = (Button) findViewById(R.id.go);\n        t = (TextView) findViewById(R.id.pdfname);\n        Spinner spinner = findViewById(R.id.spinner);\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,R.array.selec, android.R.layout.simple_spinner_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n        spinner.setOnItemSelectedListener(this);\n\n        sel.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                f=0;\n                if (!(ContextCompat.checkSelfPermission(Printact.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)){\n                    askPermission();\n                }\n                Intent intent = new Intent();\n                intent.setType(&quot;application/pdf&quot;);\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(intent, 1);\n            }\n        });\n        go.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                f=0;\n                if (!(ContextCompat.checkSelfPermission(Printact.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)){\n                    askPermission();\n                }\n\n                Toast.makeText(Printact.this, &quot;Arry bilded&quot;, Toast.LENGTH_SHORT).show();\n                build();\n            }\n        });\n    }\n\n    private void build() {\n        /*if(m==3){\n        for(int x=0,x&lt;pagcount;x++){\n            if(x%2==1){\n               front[x]=bitmapArry[]\n            }else{\n\n            }\n        }else if (m==2){\n            int i[]=[pagcount];\n            int c=0\n            String g= edtex.toString();\n            int m=0;\n            string h=&quot;&quot;;\n            for(g:string s){\n                if(s==&quot;.&quot;){\n                    if (m!=0){\n                        for(int x=(m+1);x&lt;=(h.toInt();x++){\n                            i[c]=x;\n                            c++;\n                        }\n                        h=&quot;&quot;;\n                        m=0;\n                    }\n                    i[c]=h.toInt();\n                    c++;\n                    h=&quot;&quot;;\n\n                }else if(s==&quot;-&quot;){\n                    i[c]=h.toInt();\n                    c++;\n                    m=h.toInt();\n                    h=&quot;&quot;;\n                }else{\n                    h+=s;\n                }\n            }\n        }*/\n        Toast.makeText(this, &quot;Sub arry bulded&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n            String pdfPath = data.getData().getPath();\n            t.setText(pdfPath);\n            srct = t.toString();\n\n        }\n        try {\n            Toast.makeText(this, &quot;fgfsgsf&quot;, Toast.LENGTH_SHORT).show();\n            ParcelFileDescriptor parcelFileDescriptor = getContentResolver()\n                    .openFileDescriptor(Uri.parse(srct),&quot;s&quot;);\n            renderer = new PdfRenderer(parcelFileDescriptor);\n            pgcount = renderer.getPageCount();\n            Toast.makeText(this, pgcount, Toast.LENGTH_SHORT).show();\n            ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n            if(renderer!=null){\n            for(int x=0;x&lt;pgcount;x++){\n                PdfRenderer.Page page=renderer.openPage(x);\n                Bitmap bitmap = Bitmap.createBitmap(page.getWidth(),page.getHeight(),Bitmap.Config.ARGB_8888);\n                page.render(bitmap,null,null,PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n                bitmaps.add(bitmap);\n\n            }}\n            fpg.setImageBitmap(bitmaps.get(0));\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n\n\n\n\n\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n        String m = adapterView.getItemAtPosition(i).toString();\n        if (m !=&quot;&quot;){is_selected = true;}\n        if (is_selected) {\n            switch (m) {\n                case &quot;Print&quot;:\n                    md=1;\n                    edtex.setVisibility(View.INVISIBLE);\n                    break;\n                case &quot;Print selected pages&quot;:\n                    md=2;\n                    edtex.setVisibility(View.VISIBLE);\n                    break;\n                case &quot;Print doble side&quot;:\n                    md=3;\n                    edtex.setVisibility(View.INVISIBLE);\n                    break;\n                default:\n                    md=0;\n                    break;\n            }\n        }\n\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n    }\n    private void askPermission() {\n\n        ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},PERMISSION_REQUEST_CODE);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\n\n        if (requestCode == PERMISSION_REQUEST_CODE)\n        {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;permission Graneted&quot;, Toast.LENGTH_SHORT).show();\n            }else\n            {\n                Toast.makeText(Printact.this,&quot;Permission Denied&quot;,Toast.LENGTH_SHORT).show();\n            }\n\n        }\n\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}\n</code></pre>\n<p>//this is the method I used to extract pages\ntry {</p>\n<pre><code>        ParcelFileDescriptor parcelFileDescriptor = getContentResolver()\n                .openFileDescriptor(Uri.parse(srct),&quot;s&quot;);//srct is pdf uri\n        renderer = new PdfRenderer(parcelFileDescriptor);\n        pgcount = renderer.getPageCount();\n        Toast.makeText(this, pgcount, Toast.LENGTH_SHORT).show();\n        ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n        if(renderer!=null){\n        for(int x=0;x&lt;pgcount;x++){\n            PdfRenderer.Page page=renderer.openPage(x);\n            Bitmap bitmap = Bitmap.createBitmap(page.getWidth(),page.getHeight(),Bitmap.Config.ARGB_8888);\n            page.render(bitmap,null,null,PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n            bitmaps.add(bitmap);\n\n        }}\n        fpg.setImageBitmap(bitmaps.get(0));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }``\n</code></pre>\n"},{"tags":["java","for-loop","iteration"],"answers":[{"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1376805861,"creation_date":1376805328,"answer_id":18296157,"question_id":18296143,"body_markdown":"You can write\r\n\r\n    for (int i: Arrays.asList(1, 3, 8, 2, 5, 9)) {\r\n        doSomethingWith(array[i]);\r\n    }\r\n\r\nADDENDUM: [Live demo](http://ideone.com/af7HsF)\r\n","title":"How can I iterate through elements of an array in Java?","body":"<p>You can write</p>\n\n<pre><code>for (int i: Arrays.asList(1, 3, 8, 2, 5, 9)) {\n    doSomethingWith(array[i]);\n}\n</code></pre>\n\n<p>ADDENDUM: <a href=\"http://ideone.com/af7HsF\" rel=\"noreferrer\">Live demo</a></p>\n"},{"tags":[],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376805424,"creation_date":1376805424,"answer_id":18296168,"question_id":18296143,"body_markdown":"Yes, you can do it this way\r\n\r\n        for (int i : new Integer[]{1, 3, 8, 2, 5, 9}) {\r\n            // do something\r\n        }","title":"How can I iterate through elements of an array in Java?","body":"<p>Yes, you can do it this way</p>\n\n<pre><code>    for (int i : new Integer[]{1, 3, 8, 2, 5, 9}) {\n        // do something\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376805462,"creation_date":1376805462,"answer_id":18296172,"question_id":18296143,"body_markdown":"You can do this:\r\n\r\n    package com.sandbox;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class Sandbox {\r\n    \r\n        public static void main(String[] args) {\r\n            for (Integer integer : Arrays.asList(1, 2, 3, 4, 5)) {\r\n                System.out.println(integer);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThis will print out:\r\n\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5","title":"How can I iterate through elements of an array in Java?","body":"<p>You can do this:</p>\n\n<pre><code>package com.sandbox;\n\nimport java.util.Arrays;\n\npublic class Sandbox {\n\n    public static void main(String[] args) {\n        for (Integer integer : Arrays.asList(1, 2, 3, 4, 5)) {\n            System.out.println(integer);\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>This will print out:</p>\n\n<pre><code>1\n2\n3\n4\n5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376886103,"creation_date":1376805937,"answer_id":18296220,"question_id":18296143,"body_markdown":"You can try this\r\n\r\n      int[] arr= new int[]{1, 3, 8, 2, 5, 9};\r\n        for(int i:arr){\r\n            System.out.println(i);\r\n        }\r\n\r\n\r\nOut put\r\n\r\n    1\r\n    3\r\n    8\r\n    2\r\n    5\r\n    9\r\n\r\nLive demo [here][1]\r\n\r\n*FYI:* This should work only in jdk 1.7, since early version of jdk can&#39;t have a primitive type for each. \r\n\r\nSo If you are using early version of java. you have to convert `int[]` to `Integer[]` \r\nYou can try this\r\n\r\n      int[] arr= new int[]{1, 3, 8, 2, 5, 9};\r\n        Integer[] str=new Integer[arr.length];\r\n        for(int i=0;i&lt;arr.length;i++){\r\n            str[i]=arr[i];\r\n        }\r\n        for(Integer i:arr){\r\n            System.out.println(i);\r\n        }\r\n\r\nOut put\r\n\r\n    1\r\n    3\r\n    8\r\n    2\r\n    5\r\n    9\r\n\r\n\r\n  [1]: http://ideone.com/CNk1rV","title":"How can I iterate through elements of an array in Java?","body":"<p>You can try this</p>\n\n<pre><code>  int[] arr= new int[]{1, 3, 8, 2, 5, 9};\n    for(int i:arr){\n        System.out.println(i);\n    }\n</code></pre>\n\n<p>Out put</p>\n\n<pre><code>1\n3\n8\n2\n5\n9\n</code></pre>\n\n<p>Live demo <a href=\"http://ideone.com/CNk1rV\" rel=\"nofollow\">here</a></p>\n\n<p><em>FYI:</em> This should work only in jdk 1.7, since early version of jdk can't have a primitive type for each. </p>\n\n<p>So If you are using early version of java. you have to convert <code>int[]</code> to <code>Integer[]</code> \nYou can try this</p>\n\n<pre><code>  int[] arr= new int[]{1, 3, 8, 2, 5, 9};\n    Integer[] str=new Integer[arr.length];\n    for(int i=0;i&lt;arr.length;i++){\n        str[i]=arr[i];\n    }\n    for(Integer i:arr){\n        System.out.println(i);\n    }\n</code></pre>\n\n<p>Out put</p>\n\n<pre><code>1\n3\n8\n2\n5\n9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689746887,"creation_date":1689746887,"answer_id":76718397,"question_id":18296143,"body_markdown":"As this is a simple mapping from one set of values to the result of applying a function to each value, a [stream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/package-summary.html)-based approach would work:\r\n\r\n\r\n```lang-java\r\nint[] array = IntStream.of(1, 3, 8, 2, 5, 9).map(i -&gt; algorithm(i)).toArray();\r\n```\r\n","title":"How can I iterate through elements of an array in Java?","body":"<p>As this is a simple mapping from one set of values to the result of applying a function to each value, a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">stream</a>-based approach would work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array = IntStream.of(1, 3, 8, 2, 5, 9).map(i -&gt; algorithm(i)).toArray();\n</code></pre>\n"}],"owner":{"account_id":3188305,"reputation":332,"user_id":2693298,"accept_rate":75,"display_name":"soupmagnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18296157,"answer_count":5,"score":5,"last_activity_date":1689747056,"creation_date":1376805150,"question_id":18296143,"body_markdown":"In Bash, if I wanted to iterate through elements of an array in a given order, I could do so like this:\r\n\r\n```lang-bash\r\nfor i in 1 3 8 2 5 9; do\r\n    array[i] = &lt;some_algorithm_based_value&gt;\r\ndone\r\n```\r\n\r\nIs it possible to do the same (or relatively the same) thing in Java?","title":"How can I iterate through elements of an array in Java?","body":"<p>In Bash, if I wanted to iterate through elements of an array in a given order, I could do so like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>for i in 1 3 8 2 5 9; do\n    array[i] = &lt;some_algorithm_based_value&gt;\ndone\n</code></pre>\n<p>Is it possible to do the same (or relatively the same) thing in Java?</p>\n"},{"tags":["java","rest","django-rest-framework","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":2130509,"reputation":4379,"user_id":1891456,"display_name":"Yogesh Badke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686906513,"creation_date":1686731180,"answer_id":76471522,"question_id":76471386,"body_markdown":"The `id` is part of `data` object. You got to retrieve the `data` first and then `id`.\r\n\r\nAs in, `js.get(&quot;data.id&quot;)`","title":"Not able to capture/Extract id generated in response in Post method","body":"<p>The <code>id</code> is part of <code>data</code> object. You got to retrieve the <code>data</code> first and then <code>id</code>.</p>\n<p>As in, <code>js.get(&quot;data.id&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":5738617,"reputation":1145,"user_id":4531941,"accept_rate":83,"display_name":"Sadik Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686768914,"creation_date":1686768914,"answer_id":76476740,"question_id":76471386,"body_markdown":"You can use the response path method to capture ID from the response like below:\r\n\r\n    Response response = given()\r\n\t\t\t.header(&quot;accept&quot;, &quot;application/json&quot;)\r\n\t\t\t.header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t\t.body(json)\r\n\t\t.when()\r\n\t\t\t.post(&quot;/pet&quot;);\r\n\tString petId = response.path(&quot;id&quot;);\r\n\r\n\r\nWhere JSON response is like below:\r\n\r\n    {\r\n    &quot;id&quot;: 9223372036854775807,\r\n    &quot;category&quot;: {\r\n        &quot;id&quot;: 0,\r\n        &quot;name&quot;: &quot;Cat&quot;\r\n    },\r\n    &quot;name&quot;: &quot;doggie&quot;,\r\n    &quot;photoUrls&quot;: [\r\n        &quot;string&quot;\r\n    ],\r\n    &quot;tags&quot;: [\r\n        {\r\n            &quot;id&quot;: 0,\r\n            &quot;name&quot;: &quot;Tag1&quot;\r\n        }\r\n    ],\r\n    &quot;status&quot;: &quot;available&quot;\r\n}","title":"Not able to capture/Extract id generated in response in Post method","body":"<p>You can use the response path method to capture ID from the response like below:</p>\n<pre><code>Response response = given()\n        .header(&quot;accept&quot;, &quot;application/json&quot;)\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .body(json)\n    .when()\n        .post(&quot;/pet&quot;);\nString petId = response.path(&quot;id&quot;);\n</code></pre>\n<p>Where JSON response is like below:</p>\n<pre><code>{\n&quot;id&quot;: 9223372036854775807,\n&quot;category&quot;: {\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;Cat&quot;\n},\n&quot;name&quot;: &quot;doggie&quot;,\n&quot;photoUrls&quot;: [\n    &quot;string&quot;\n],\n&quot;tags&quot;: [\n    {\n        &quot;id&quot;: 0,\n        &quot;name&quot;: &quot;Tag1&quot;\n    }\n],\n&quot;status&quot;: &quot;available&quot;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28853211,"reputation":1,"user_id":22098653,"display_name":"Rajeshkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689747013,"creation_date":1689436523,"answer_id":76694595,"question_id":76471386,"body_markdown":"&quot;Id&quot; is presented inside the &quot;Data&quot; Object. &quot;Id&quot; cannot be accessed directly from outside.\r\n\r\n    JsonPath js = new JsonPath(response)\r\n    String id = js.get(&quot;data.id&quot;)\r\n\r\n","title":"Not able to capture/Extract id generated in response in Post method","body":"<p>&quot;Id&quot; is presented inside the &quot;Data&quot; Object. &quot;Id&quot; cannot be accessed directly from outside.</p>\n<pre><code>JsonPath js = new JsonPath(response)\nString id = js.get(&quot;data.id&quot;)\n</code></pre>\n"}],"owner":{"account_id":23956554,"reputation":1,"user_id":17947345,"display_name":"chinmay k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689747013,"creation_date":1686730055,"question_id":76471386,"body_markdown":"I am not able to extract ID generated from response, please help, the last 2 lines are having a problem (refer to screenshot)\r\n\r\n![SCREENSHOT](https://i.stack.imgur.com/XGRyN.png)\r\n\r\n    @Test\r\n    public void create() {\t\r\n        RestAssured.baseURI= &quot;https://dummy.restapiexample.com&quot;;\r\n        String response=given().log().all().header(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n        .body(payload.employee()).when().post(&quot;/api/v1/create&quot;)\r\n        .then().log().all().assertThat().statusCode(200)\r\n        .header(&quot;Server&quot;, &quot;Apache&quot;).extract().response().asPrettyString();\r\n    \r\n        System.out.println(response);\r\n    \r\n        JsonPath js = new JsonPath(response);\r\n        String id = js.get(&quot;id&quot;);\r\n        System.out.println(&quot;id&quot;);\r\n    }","title":"Not able to capture/Extract id generated in response in Post method","body":"<p>I am not able to extract ID generated from response, please help, the last 2 lines are having a problem (refer to screenshot)</p>\n<p><img src=\"https://i.stack.imgur.com/XGRyN.png\" alt=\"SCREENSHOT\" /></p>\n<pre><code>@Test\npublic void create() {  \n    RestAssured.baseURI= &quot;https://dummy.restapiexample.com&quot;;\n    String response=given().log().all().header(&quot;Content-Type&quot;,&quot;application/json&quot;)\n    .body(payload.employee()).when().post(&quot;/api/v1/create&quot;)\n    .then().log().all().assertThat().statusCode(200)\n    .header(&quot;Server&quot;, &quot;Apache&quot;).extract().response().asPrettyString();\n\n    System.out.println(response);\n\n    JsonPath js = new JsonPath(response);\n    String id = js.get(&quot;id&quot;);\n    System.out.println(&quot;id&quot;);\n}\n</code></pre>\n"},{"tags":["java","multithreading","arraylist","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689533277,"post_id":76699881,"comment_id":135223497,"body_markdown":"Define &quot;*without lock*&quot;. Do you mean &quot;without an explicit lock&quot;, or do you also rule-out the semantics of [`synchroized` (`docs.oracle.com`)](https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html) by this? --- How is but the form following the function of why. So: why do you want to eliminate the lock?","body":"Define &quot;<i>without lock</i>&quot;. Do you mean &quot;without an explicit lock&quot;, or do you also rule-out the semantics of <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\"><code>synchroized</code> (<code>docs.oracle.com</code>)</a> by this? --- How is but the form following the function of why. So: why do you want to eliminate the lock?"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689533414,"post_id":76699881,"comment_id":135223517,"body_markdown":"yes, should not be sequential and without an explicit lock.","body":"yes, should not be sequential and without an explicit lock."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689533492,"post_id":76699881,"comment_id":135223525,"body_markdown":"I am afraid that we have to sequentialize at some point. Even data structures like `ConcurrentLinkedQueue` sequentialize somehow.","body":"I am afraid that we have to sequentialize at some point. Even data structures like <code>ConcurrentLinkedQueue</code> sequentialize somehow."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689533571,"post_id":76699881,"comment_id":135223539,"body_markdown":"okay, what if I don&#39;t want explicit lock and do not want synchronized (where one thread could indefinitely blocks) -- sequential is still okay, as long as I get unique values across threads.","body":"okay, what if I don&#39;t want explicit lock and do not want synchronized (where one thread could indefinitely blocks) -- sequential is still okay, as long as I get unique values across threads."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689533727,"post_id":76699881,"comment_id":135223551,"body_markdown":"&quot;*... where one thread could indefinitely blocks...*&quot; - Why do you think that one thread could indefinitely block?","body":"&quot;<i>... where one thread could indefinitely blocks...</i>&quot; - Why do you think that one thread could indefinitely block?"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1689533732,"post_id":76699881,"comment_id":135223553,"body_markdown":"Please provide `bookingInfoUtil.findDistinctId()` implementation","body":"Please provide <code>bookingInfoUtil.findDistinctId()</code> implementation"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689533778,"post_id":76699881,"comment_id":135223560,"body_markdown":"okay, is there better way than `synchronized` ?","body":"okay, is there better way than <code>synchronized</code> ?"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689533815,"post_id":76699881,"comment_id":135223564,"body_markdown":"@gdomo it&#39;s a database query -- Spring Data JPA query","body":"@gdomo it&#39;s a database query -- Spring Data JPA query"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689534210,"post_id":76699881,"comment_id":135223607,"body_markdown":"Define &quot;better&quot;. It all depends on what the actual problem is.","body":"Define &quot;better&quot;. It all depends on what the actual problem is."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689534396,"post_id":76699881,"comment_id":135223629,"body_markdown":"&quot;better&quot; -&gt; Reentrantlock that I used the current code is much better than going with synchronized, although may not be too different. Problem statement is simple: distribute unique values (one item per thread) across all threads as quick as possible.","body":"&quot;better&quot; -&gt; Reentrantlock that I used the current code is much better than going with synchronized, although may not be too different. Problem statement is simple: distribute unique values (one item per thread) across all threads as quick as possible."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689537468,"post_id":76699881,"comment_id":135224003,"body_markdown":"You can also consider using BlockingQueue - like LinkedBlockingQueue, its take() method will wait till the queue is non empty, or you can use pool() to get first element or get null if its empty. But, I am not sure if its initialization will be thread safe in you case.","body":"You can also consider using BlockingQueue - like LinkedBlockingQueue, its take() method will wait till the queue is non empty, or you can use pool() to get first element or get null if its empty. But, I am not sure if its initialization will be thread safe in you case."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689542120,"post_id":76699881,"comment_id":135224509,"body_markdown":"&quot;*&quot;better&quot; -&gt; Reentrantlock that I used the current code is much better than going with synchronized*&quot; - By what metric? Faster? Less overhead? Readability? &quot;Better&quot; is not a clear metric. Again: how is but the form, following the function of why. WHY do you want to get rid of the lock? What is the actual issue?","body":"&quot;<i>&quot;better&quot; -&gt; Reentrantlock that I used the current code is much better than going with synchronized</i>&quot; - By what metric? Faster? Less overhead? Readability? &quot;Better&quot; is not a clear metric. Again: how is but the form, following the function of why. WHY do you want to get rid of the lock? What is the actual issue?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689548582,"post_id":76699881,"comment_id":135225030,"body_markdown":"If you want to remove a synchronization, then you&#39;ll need to assure that _findDistinctId_ is going to return the qualifying, unique value, every time; which, seems almost impossible.  Can you provide more information, or possibly more code?","body":"If you want to remove a synchronization, then you&#39;ll need to assure that <i>findDistinctId</i> is going to return the qualifying, unique value, every time; which, seems almost impossible.  Can you provide more information, or possibly more code?"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689571397,"post_id":76699881,"comment_id":135226638,"body_markdown":"@Reilas `findDistinctId` is Spring Data JPA query that is guaranteed to return list of unique values. It is used just for initial loading.","body":"@Reilas <code>findDistinctId</code> is Spring Data JPA query that is guaranteed to return list of unique values. It is used just for initial loading."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689571864,"post_id":76699881,"comment_id":135226708,"body_markdown":"@marcinj yup, thats nice thing to know. But, will I get the same value in multiple threads when we poll the first element?","body":"@marcinj yup, thats nice thing to know. But, will I get the same value in multiple threads when we poll the first element?"}],"answers":[{"tags":[],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689607325,"creation_date":1689607325,"answer_id":76705943,"question_id":76699881,"body_markdown":"So, here is the approach that I used:\r\n1) Moved the data loading logic of `bookingInfoUtil.findDistinctId()` , outside of `read()` so that data is populated before threads reach to `read()` method. \r\n2) Since I&#39;m modifying the list under multi-threading environment, I used a lock-free thread-safe queue, that is `ConcurrentLinkedQueue`, so that my performance is much better for `insert/remove` operation. Also, it doesn&#39;t have to re-shuffle the entire list of elements since it is a queue. \r\n\r\nSo, the code is simplified to:\r\n```\r\npublic class SomeClass {\r\n\r\n  // Value is actually set as a batch job parameter for my case.\r\n  // But, you can also set this as a bean or load the values using constructor.\r\n  @Value(&quot;#{jobParameters[bookingIds]}&quot;)\r\n  ConcurrentLinkedQueue&lt;String&gt; bookingIds;\r\n\r\n  public String read() {\r\n    if (! bookingIds.isEmpty()) {\r\n      return bookingIds.poll();\r\n    }\r\n    return null;\r\n  }\r\n}\r\n```","title":"How to ensure an unique item/object is picked from the collection in multi-threading scenario?","body":"<p>So, here is the approach that I used:</p>\n<ol>\n<li>Moved the data loading logic of <code>bookingInfoUtil.findDistinctId()</code> , outside of <code>read()</code> so that data is populated before threads reach to <code>read()</code> method.</li>\n<li>Since I'm modifying the list under multi-threading environment, I used a lock-free thread-safe queue, that is <code>ConcurrentLinkedQueue</code>, so that my performance is much better for <code>insert/remove</code> operation. Also, it doesn't have to re-shuffle the entire list of elements since it is a queue.</li>\n</ol>\n<p>So, the code is simplified to:</p>\n<pre><code>public class SomeClass {\n\n  // Value is actually set as a batch job parameter for my case.\n  // But, you can also set this as a bean or load the values using constructor.\n  @Value(&quot;#{jobParameters[bookingIds]}&quot;)\n  ConcurrentLinkedQueue&lt;String&gt; bookingIds;\n\n  public String read() {\n    if (! bookingIds.isEmpty()) {\n      return bookingIds.poll();\n    }\n    return null;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689746504,"creation_date":1689687568,"answer_id":76713385,"question_id":76699881,"body_markdown":"The issue stems from &quot;check and act&quot; operation which is compound action and hence not &quot;atomic&quot;.\r\nSo even if we use threadsafe concurrent collection and technically our collection is not breaking but the result is not what we would expect.\r\n\r\nCompound action:If collection is null/empty then initialize,a similar to computeIfAbsent in Map\r\n\r\nFor better understanding refer &quot;Java Concurrency In Practice&quot; book&#39;s Building Blocks :Problems with synchronized collection section.\r\n\r\nIt is suggested and a good practice to use synchronization and/or explicit locking to do compound actions.\r\nSince in requirement ,we wanted to avoid it somehow, we could go for a middle ground based on general usecase.\r\n\r\nWe could use lazy loading of values for better throughput performance and to avoid visibility issues making it volatile (optionally could have used AtomicReference).\r\n\r\n\r\n\r\n```\r\npublic class SomeClass {\r\n\r\n    ReentrantLock lock = new ReentrantLock();\r\n\r\n    private volatile ConcurrentLinkedQueue&lt;String&gt; bookingIds = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n    public void initializeBookingIds() {\r\n        lock.lock();\r\n        try{\r\n            if ( !bookingIds.isEmpty()) {\r\n                List&lt;String&gt; bookingIdsList = bookingInfoUtil.findDistinctId();\r\n                bookingIds =  new ConcurrentLinkedQueue(bookingIdsList); \r\n            }\r\n        }finally{\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n    public String read() {\r\n        \r\n        if (!bookingIds.isEmpty()) {\r\n            initializeBookingIds();\r\n        }\r\n        return bookingIds.poll();\r\n    }\r\n}\r\n```\r\n\r\nIn above code we are directly returning poll value since we are good with null if not found and ofcouse wanted to avoid compound action.\r\n\r\nThe above code is far from robust and could fail in scenario with unlucky timing.\r\n\r\n - t1 acquires lock,initializes list with only 1 element for example and is about to release lock at line 15\r\n - t2 is checking if bookingIds is empty at line 21\r\n - t2 consumes the element and returns\r\n - t1 releases lock at 15\r\n - t1 reaches at line 24 and returns null\r\n\r\nHere even though t1 was the one which initialized the list, it was not able to consume the element.\r\n\r\nWith the given use case and based on general heuristics, the frequency of occurrence of this scenario is less as long as bookingInfoUtil returns a huge list.\r\n\r\n","title":"How to ensure an unique item/object is picked from the collection in multi-threading scenario?","body":"<p>The issue stems from &quot;check and act&quot; operation which is compound action and hence not &quot;atomic&quot;.\nSo even if we use threadsafe concurrent collection and technically our collection is not breaking but the result is not what we would expect.</p>\n<p>Compound action:If collection is null/empty then initialize,a similar to computeIfAbsent in Map</p>\n<p>For better understanding refer &quot;Java Concurrency In Practice&quot; book's Building Blocks :Problems with synchronized collection section.</p>\n<p>It is suggested and a good practice to use synchronization and/or explicit locking to do compound actions.\nSince in requirement ,we wanted to avoid it somehow, we could go for a middle ground based on general usecase.</p>\n<p>We could use lazy loading of values for better throughput performance and to avoid visibility issues making it volatile (optionally could have used AtomicReference).</p>\n<pre><code>public class SomeClass {\n\n    ReentrantLock lock = new ReentrantLock();\n\n    private volatile ConcurrentLinkedQueue&lt;String&gt; bookingIds = new ConcurrentLinkedQueue&lt;&gt;();\n\n    public void initializeBookingIds() {\n        lock.lock();\n        try{\n            if ( !bookingIds.isEmpty()) {\n                List&lt;String&gt; bookingIdsList = bookingInfoUtil.findDistinctId();\n                bookingIds =  new ConcurrentLinkedQueue(bookingIdsList); \n            }\n        }finally{\n            lock.unlock();\n        }\n    }\n\n    public String read() {\n        \n        if (!bookingIds.isEmpty()) {\n            initializeBookingIds();\n        }\n        return bookingIds.poll();\n    }\n}\n</code></pre>\n<p>In above code we are directly returning poll value since we are good with null if not found and ofcouse wanted to avoid compound action.</p>\n<p>The above code is far from robust and could fail in scenario with unlucky timing.</p>\n<ul>\n<li>t1 acquires lock,initializes list with only 1 element for example and is about to release lock at line 15</li>\n<li>t2 is checking if bookingIds is empty at line 21</li>\n<li>t2 consumes the element and returns</li>\n<li>t1 releases lock at 15</li>\n<li>t1 reaches at line 24 and returns null</li>\n</ul>\n<p>Here even though t1 was the one which initialized the list, it was not able to consume the element.</p>\n<p>With the given use case and based on general heuristics, the frequency of occurrence of this scenario is less as long as bookingInfoUtil returns a huge list.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76705943,"answer_count":2,"score":0,"last_activity_date":1689746504,"creation_date":1689532998,"question_id":76699881,"body_markdown":"I have a collection of string values available.\r\n\r\nI thought of using `CopyOnwriteArrayList` or `ConcurrentLinkedQueue` initially. But, when I run my code, I see that same string values are picked by one more threads most of the time. \r\n\r\nHere is my working code with the lock to serve the purpose:\r\n```\r\npublic class SomeClass {\r\n\r\n  ReentrantLock lock = new ReentrantLock();\r\n  // this list is ensured to have non-duplicate items.\r\n  private List&lt;String&gt; bookingIds;\r\n\r\n  public String read() {\r\n    lock.lock();\r\n    if (Objects.isNull(bookingIds)) {\r\n      bookingIds = bookingInfoUtil.findDistinctId();\r\n    }\r\n    if (! bookingIds.isEmpty()) {\r\n      String bookingId = bookingIds.remove(0);\r\n      lock.unlock();\r\n      return bookingId;\r\n    }\r\n    lock.unlock();\r\n    return null;\r\n  }\r\n}\r\n\r\n```\r\n\r\nNow, I want to know how to achieve this with a lock-free mechanism, preferably with a thread-safe collection. As I mentioned above, I tried to use both `CopyOnwriteArrayList` or `ConcurrentLinkedQueue` and exposed it to a threadpool that actively call `read()` method to obtain a unique value. It always fails to attain this goal unless a lock is used. Any better ways to do this?\r\n","title":"How to ensure an unique item/object is picked from the collection in multi-threading scenario?","body":"<p>I have a collection of string values available.</p>\n<p>I thought of using <code>CopyOnwriteArrayList</code> or <code>ConcurrentLinkedQueue</code> initially. But, when I run my code, I see that same string values are picked by one more threads most of the time.</p>\n<p>Here is my working code with the lock to serve the purpose:</p>\n<pre><code>public class SomeClass {\n\n  ReentrantLock lock = new ReentrantLock();\n  // this list is ensured to have non-duplicate items.\n  private List&lt;String&gt; bookingIds;\n\n  public String read() {\n    lock.lock();\n    if (Objects.isNull(bookingIds)) {\n      bookingIds = bookingInfoUtil.findDistinctId();\n    }\n    if (! bookingIds.isEmpty()) {\n      String bookingId = bookingIds.remove(0);\n      lock.unlock();\n      return bookingId;\n    }\n    lock.unlock();\n    return null;\n  }\n}\n\n</code></pre>\n<p>Now, I want to know how to achieve this with a lock-free mechanism, preferably with a thread-safe collection. As I mentioned above, I tried to use both <code>CopyOnwriteArrayList</code> or <code>ConcurrentLinkedQueue</code> and exposed it to a threadpool that actively call <code>read()</code> method to obtain a unique value. It always fails to attain this goal unless a lock is used. Any better ways to do this?</p>\n"},{"tags":["java","ignite","apacheignite"],"owner":{"account_id":16371847,"reputation":163,"user_id":11824962,"display_name":"Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689745102,"creation_date":1689745102,"question_id":76718260,"body_markdown":"I use apache ignite 2.15.0 and I use GridClientConfiguration. It has a method setSslContextFactory(GridSslContextFactory sslCtxFactory), but GridSslContextFactory is marked as deprecated. There is no other method with a similar function in this class. It turns out that this class is also essentially deprecated? How should I set ssl context factory (for example SslContextFactory instance) now?","title":"Deprecated GridSslContextFactory in apache ignite","body":"<p>I use apache ignite 2.15.0 and I use GridClientConfiguration. It has a method setSslContextFactory(GridSslContextFactory sslCtxFactory), but GridSslContextFactory is marked as deprecated. There is no other method with a similar function in this class. It turns out that this class is also essentially deprecated? How should I set ssl context factory (for example SslContextFactory instance) now?</p>\n"},{"tags":["java","android","android-widget","android-12","resourcesnotfoundexception"],"owner":{"account_id":29046381,"reputation":11,"user_id":22250120,"display_name":"Deepika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689744484,"creation_date":1689744484,"question_id":76718216,"body_markdown":"Im currently working on Andorid 12, with min sdk version as 31 in both host and widget provider application. From AppWidgetProviderInfo, I got the layout id of previewLayout but I&#39;m trying to display the same in host customisation screen. While trying to do the same I got ResourcesNotFoundException in host implementation.\r\n\r\nI added the preview layout in my AppWidgetProviderInfo.xml\r\n\r\n```\r\n&lt;appwidget-provider xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:initialLayout=&quot;@layout/widget_initial_layout&quot;\r\n    android:previewLayout=&quot;@layout/widget_preview_layout&quot;\r\n    android:previewImage=&quot;@drawable/widget_preview_image&quot;\r\n    android:minWidth=&quot;130dp&quot;\r\n    android:minHeight=&quot;170dp&quot;\r\n    android:updatePeriodMillis=&quot;86400000&quot;\r\n    android:widgetCategory=&quot;home_screen&quot; /&gt;\r\n```\r\n\r\nMy host adaptation of preview layout is,\r\n\r\n\r\n```\r\nDrawable previewDrawable = widgetInfo.getAppWidgetInfo().loadPreviewImage(binding.getRoot().getContext(), ICON_DENSITY);\r\nint previewLayout = widgetInfo.getAppWidgetInfo().previewLayout;\r\n   try {\r\n      if (previewLayout != 0) {\r\n\r\n         View widgetPreview = LayoutInflater.from(binding.getRoot().getContext()).inflate(previewLayout, binding.getRoot(), false);\r\n         binding.widgetContainer.addView(widgetPreview);\r\n       } else if (previewDrawable != null) {\r\n\r\n            Glide.with(binding.getRoot().getContext())\r\n                        .load(previewDrawable)\r\n                        .into(binding.previewImage);\r\n       }\r\n    }\r\n    catch (Exception e)\r\n    {\r\n       e.printStackTrace();\r\n    }\r\n```\r\n\r\nWith the above code, Im able to show the preview image from AppWidgetProviderInfo but while trying to inflate the previewLayout with layout id alone, I get ResourcesNotFoundException. In mycase the widgetprovider and Host are two different applications.","title":"Issues in widget preview layout adaptation in host application","body":"<p>Im currently working on Andorid 12, with min sdk version as 31 in both host and widget provider application. From AppWidgetProviderInfo, I got the layout id of previewLayout but I'm trying to display the same in host customisation screen. While trying to do the same I got ResourcesNotFoundException in host implementation.</p>\n<p>I added the preview layout in my AppWidgetProviderInfo.xml</p>\n<pre><code>&lt;appwidget-provider xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:initialLayout=&quot;@layout/widget_initial_layout&quot;\n    android:previewLayout=&quot;@layout/widget_preview_layout&quot;\n    android:previewImage=&quot;@drawable/widget_preview_image&quot;\n    android:minWidth=&quot;130dp&quot;\n    android:minHeight=&quot;170dp&quot;\n    android:updatePeriodMillis=&quot;86400000&quot;\n    android:widgetCategory=&quot;home_screen&quot; /&gt;\n</code></pre>\n<p>My host adaptation of preview layout is,</p>\n<pre><code>Drawable previewDrawable = widgetInfo.getAppWidgetInfo().loadPreviewImage(binding.getRoot().getContext(), ICON_DENSITY);\nint previewLayout = widgetInfo.getAppWidgetInfo().previewLayout;\n   try {\n      if (previewLayout != 0) {\n\n         View widgetPreview = LayoutInflater.from(binding.getRoot().getContext()).inflate(previewLayout, binding.getRoot(), false);\n         binding.widgetContainer.addView(widgetPreview);\n       } else if (previewDrawable != null) {\n\n            Glide.with(binding.getRoot().getContext())\n                        .load(previewDrawable)\n                        .into(binding.previewImage);\n       }\n    }\n    catch (Exception e)\n    {\n       e.printStackTrace();\n    }\n</code></pre>\n<p>With the above code, Im able to show the preview image from AppWidgetProviderInfo but while trying to inflate the previewLayout with layout id alone, I get ResourcesNotFoundException. In mycase the widgetprovider and Host are two different applications.</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":0,"creation_date":1558463665,"post_id":56215257,"comment_id":99107461,"body_markdown":"Which version of JUnit are you using?","body":"Which version of JUnit are you using?"},{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":0,"creation_date":1558464518,"post_id":56215257,"comment_id":99107789,"body_markdown":"Please see https://github.com/junit-team/junit5/issues/1682#issuecomment-494511869","body":"Please see <a href=\"https://github.com/junit-team/junit5/issues/1682#issuecomment-494511869\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/1682#issuecomment-494511&zwnj;&#8203;869</a>"}],"answers":[{"tags":[],"owner":{"account_id":29046348,"reputation":1,"user_id":22250092,"display_name":"Iuliia Poliakova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689742040,"creation_date":1689741989,"answer_id":76718049,"question_id":56215257,"body_markdown":"Try\r\n\r\n    junit.jupiter.execution.parallel.mode.default=concurrent\r\n    junit.jupiter.execution.parallel.mode.classes.default=same_thread","title":"anyway to run Junit5 Parallel Tests per class at a time","body":"<p>Try</p>\n<pre><code>junit.jupiter.execution.parallel.mode.default=concurrent\njunit.jupiter.execution.parallel.mode.classes.default=same_thread\n</code></pre>\n"}],"owner":{"account_id":15972802,"reputation":11,"user_id":11526447,"display_name":"Mohit Aneja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689742040,"creation_date":1558333073,"question_id":56215257,"body_markdown":"   How to run parallel test cases in junit5 using pom per test class at a time\r\n   I have used the below configuration in my pom:\r\n\r\n    junit.jupiter.execution.parallel.enabled=true\r\n    junit.jupiter.execution.parallel.config.strategy=fixed\r\n    junit.jupiter.execution.parallel.config.fixed.parallelism=5\r\n     \r\n   when i am running this using clean test it launches 5 classes at a time.\r\n    I want to run 5 threads in class at a time not 5 classes at a time\r\n    \r\n    junit.jupiter.execution.parallel.enabled=true\r\n    junit.jupiter.execution.parallel.config.strategy=fixed\r\n    junit.jupiter.execution.parallel.config.fixed.parallelism=5","title":"anyway to run Junit5 Parallel Tests per class at a time","body":"<p>How to run parallel test cases in junit5 using pom per test class at a time\n   I have used the below configuration in my pom:</p>\n\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=5\n</code></pre>\n\n<p>when i am running this using clean test it launches 5 classes at a time.\n    I want to run 5 threads in class at a time not 5 classes at a time</p>\n\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=5\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","trie","acronym"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689736828,"post_id":76717639,"comment_id":135254154,"body_markdown":"Please give an example of input, output, and expected output. Also edit your question to include a complete, minimal, runnable version of your code.","body":"Please give an example of input, output, and expected output. Also edit your question to include a complete, minimal, runnable version of your code."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1689736900,"post_id":76717639,"comment_id":135254162,"body_markdown":"What is the algorithm?  One letter from each word, and if there isn&#39;t a match you add one more letter from the first word, then second, etc.?","body":"What is the algorithm?  One letter from each word, and if there isn&#39;t a match you add one more letter from the first word, then second, etc.?"},{"owner":{"account_id":29045441,"reputation":11,"user_id":22249380,"display_name":"HK Kongou"},"score":0,"creation_date":1689739253,"post_id":76717639,"comment_id":135254347,"body_markdown":"example of input: hierarCHical taxonomic classification for viral mEtagEnomic data via deep leaRning; output: ieroe, archical, caltanissetta (and other words); expected output: cheer (and other words); &quot;cheer&quot; is an example of words that haven&#39;t been scanned during the runtime","body":"example of input: hierarCHical taxonomic classification for viral mEtagEnomic data via deep leaRning; output: ieroe, archical, caltanissetta (and other words); expected output: cheer (and other words); &quot;cheer&quot; is an example of words that haven&#39;t been scanned during the runtime"},{"owner":{"account_id":29045441,"reputation":11,"user_id":22249380,"display_name":"HK Kongou"},"score":0,"creation_date":1689740217,"post_id":76717639,"comment_id":135254426,"body_markdown":"@tgdavies all code have been uploaded after edit","body":"@tgdavies all code have been uploaded after edit"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689745483,"post_id":76717639,"comment_id":135254854,"body_markdown":"Here is a similar application written in _Python_.  _https://github.com/bacook17/acronym_.","body":"Here is a similar application written in <i>Python</i>.  <i><a href=\"https://github.com/bacook17/acronym\" rel=\"nofollow noreferrer\">github.com/bacook17/acronym</a></i>."}],"owner":{"account_id":29045441,"reputation":11,"user_id":22249380,"display_name":"HK Kongou"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689740319,"creation_date":1689734561,"question_id":76717639,"body_markdown":"I am trying to make an acronym generator which can generate acronym from characters not only from the first character of word but also character inside a word. I did some programming in Java (https://github.com/hkkongou/acronym/blob/main/Trie.java), it does find some acronyms. However, not all acronym are scanned. I then found a very good website which does the thing that I want. https://acronymify.com/ . But it does not provide any source code for me to learn. And I am stuck right now.\r\n\r\nI used java version of https://www.geeksforgeeks.org/trie-insert-and-search/ as example and modify so that my program can output searched acronym. Given &quot;National Aeronautics and Space Administration&quot;, I turn these words into lower case and remove spaces &quot;nationalaeronauticsandspaceadministration&quot;, then use two loops and loop all the characters from left to right and see whether these characters have acronyms. \r\n\r\nBelow are the codes I used to search acronyms, I don&#39;t know how to make it able to find other acronyms when it successfully found 1 acronym. Relaunching the search function will always have the same result. \r\n\r\nexample of input: hierarCHical taxonomic classification for viral mEtagEnomic data via deep leaRning\r\n\r\noutput: ieroe, archical, caltanissetta (and other words)\r\n\r\nexpected output: cheer (and other words)\r\n\r\n&quot;cheer&quot; is an example of words that haven&#39;t been scanned during the runtime &lt;-- my problem\r\n\r\n```\r\npublic class Trie extends JFrame {\r\n    static final int ALPHABET_SIZE = 26;\r\n    static class TrieNode {\r\n        TrieNode[] children = new TrieNode[ALPHABET_SIZE];\r\n        boolean isEndOfWord;\r\n        TrieNode() {\r\n            isEndOfWord = false;\r\n            for (int i = 0; i &lt; ALPHABET_SIZE; i++) {\r\n                children[i] = null;\r\n            }\r\n        }\r\n    };\r\n    static TrieNode root;\r\n    static void insert(String key) {\r\n        int level;\r\n        int length = key.length();\r\n        int index;\r\n        TrieNode pCrawl = root;\r\n        for (level = 0; level &lt; length; level++) {\r\n            index = key.charAt(level) - &#39;a&#39;;\r\n            if (pCrawl.children[index] == null) {\r\n                pCrawl.children[index] = new TrieNode();\r\n            }\r\n            pCrawl = pCrawl.children[index];\r\n        }\r\n        pCrawl.isEndOfWord = true;\r\n    }\r\n    public static ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n    public static ArrayList&lt;String&gt; words2 = new ArrayList&lt;String&gt;();\r\n    static boolean search(String key) {\r\n        int level;\r\n        int length = key.length();\r\n        int index;\r\n        TrieNode pCrawl = root;\r\n        String sentence = &quot;&quot;;\r\n        StringBuilder updateString = new StringBuilder(key);\r\n        for (level = 0; level &lt; length; level++) {\r\n            index = key.charAt(level) - &#39;a&#39;;\r\n            if (pCrawl.children[index] == null) {\r\n            } else {\r\n                pCrawl = pCrawl.children[index];\r\n                sentence = sentence + key.charAt(level);\r\n                updateString.setCharAt(level, Character.toUpperCase(key.charAt(level)));\r\n            }\r\n        }\r\n        if (pCrawl.isEndOfWord) {\r\n            words.add(sentence);\r\n            words2.add(updateString.toString());\r\n        } else {\r\n            sentence = &quot;&quot;;\r\n        }\r\n        return (pCrawl.isEndOfWord);\r\n    }\r\n    static void multisearch(String key) {\r\n        for (int i = 0; i &lt; key.length(); i++) {\r\n            search(key.substring(i, key.length()));\r\n        }\r\n    }\r\n    public static void main(String args[]) throws MalformedURLException, IOException {\r\n        Scanner myObj = new Scanner(System.in);\r\n        String data = myObj.nextLine();  // Read user input\r\n        run(data);\r\n        System.out.println(TempA);\r\n    }\r\n    public static String TempA = &quot;&quot;;\r\n    public static String TempB = &quot;&quot;;\r\n    public static void run(String input) throws MalformedURLException, IOException {\r\n        words.clear();\r\n        words2.clear();\r\n        ArrayList&lt;String&gt; ar = new ArrayList&lt;String&gt;();\r\n        URL url = new URL(&quot;https://raw.githubusercontent.com/dwyl/english-words/master/words.txt&quot;);\r\n        Scanner sc = new Scanner(url.openStream());\r\n        StringBuffer sb = new StringBuffer();\r\n        String temp = &quot;&quot;;\r\n        while (sc.hasNext()) {\r\n            temp = sc.next();\r\n            temp = temp.toLowerCase();\r\n            temp = temp.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;);\r\n            if (temp.length() &gt; 1) {\r\n                ar.add(temp);\r\n            }\r\n        }\r\n        String[] keys = new String[ar.size()];\r\n        keys = ar.toArray(keys);\r\n        String output[] = {&quot;Not present in trie&quot;, &quot;Present in trie&quot;};\r\n        root = new TrieNode();\r\n        for (int i = 0; i &lt; keys.length; i++)\r\n            insert(keys[i]);\r\n        input = input.toLowerCase().replace(&quot; &quot;, &quot;&quot;);\r\n        System.out.println(input);\r\n        multisearch(input);\r\n        TempA = TempB = &quot;&quot;;\r\n        for (int i = 0; i &lt; words2.size(); i++) {\r\n            TempA = TempA + &quot;\\n&quot; + words.get(i);\r\n            TempB = TempB + &quot;\\n&quot; + input.substring(0, input.length() - words2.get(i).length()) + words2.get(i);\r\n        }\r\n    }\r\n}\r\n```","title":"Acronym finder which also scan characters inside a word","body":"<p>I am trying to make an acronym generator which can generate acronym from characters not only from the first character of word but also character inside a word. I did some programming in Java (<a href=\"https://github.com/hkkongou/acronym/blob/main/Trie.java\" rel=\"nofollow noreferrer\">https://github.com/hkkongou/acronym/blob/main/Trie.java</a>), it does find some acronyms. However, not all acronym are scanned. I then found a very good website which does the thing that I want. <a href=\"https://acronymify.com/\" rel=\"nofollow noreferrer\">https://acronymify.com/</a> . But it does not provide any source code for me to learn. And I am stuck right now.</p>\n<p>I used java version of <a href=\"https://www.geeksforgeeks.org/trie-insert-and-search/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/trie-insert-and-search/</a> as example and modify so that my program can output searched acronym. Given &quot;National Aeronautics and Space Administration&quot;, I turn these words into lower case and remove spaces &quot;nationalaeronauticsandspaceadministration&quot;, then use two loops and loop all the characters from left to right and see whether these characters have acronyms.</p>\n<p>Below are the codes I used to search acronyms, I don't know how to make it able to find other acronyms when it successfully found 1 acronym. Relaunching the search function will always have the same result.</p>\n<p>example of input: hierarCHical taxonomic classification for viral mEtagEnomic data via deep leaRning</p>\n<p>output: ieroe, archical, caltanissetta (and other words)</p>\n<p>expected output: cheer (and other words)</p>\n<p>&quot;cheer&quot; is an example of words that haven't been scanned during the runtime &lt;-- my problem</p>\n<pre><code>public class Trie extends JFrame {\n    static final int ALPHABET_SIZE = 26;\n    static class TrieNode {\n        TrieNode[] children = new TrieNode[ALPHABET_SIZE];\n        boolean isEndOfWord;\n        TrieNode() {\n            isEndOfWord = false;\n            for (int i = 0; i &lt; ALPHABET_SIZE; i++) {\n                children[i] = null;\n            }\n        }\n    };\n    static TrieNode root;\n    static void insert(String key) {\n        int level;\n        int length = key.length();\n        int index;\n        TrieNode pCrawl = root;\n        for (level = 0; level &lt; length; level++) {\n            index = key.charAt(level) - 'a';\n            if (pCrawl.children[index] == null) {\n                pCrawl.children[index] = new TrieNode();\n            }\n            pCrawl = pCrawl.children[index];\n        }\n        pCrawl.isEndOfWord = true;\n    }\n    public static ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\n    public static ArrayList&lt;String&gt; words2 = new ArrayList&lt;String&gt;();\n    static boolean search(String key) {\n        int level;\n        int length = key.length();\n        int index;\n        TrieNode pCrawl = root;\n        String sentence = &quot;&quot;;\n        StringBuilder updateString = new StringBuilder(key);\n        for (level = 0; level &lt; length; level++) {\n            index = key.charAt(level) - 'a';\n            if (pCrawl.children[index] == null) {\n            } else {\n                pCrawl = pCrawl.children[index];\n                sentence = sentence + key.charAt(level);\n                updateString.setCharAt(level, Character.toUpperCase(key.charAt(level)));\n            }\n        }\n        if (pCrawl.isEndOfWord) {\n            words.add(sentence);\n            words2.add(updateString.toString());\n        } else {\n            sentence = &quot;&quot;;\n        }\n        return (pCrawl.isEndOfWord);\n    }\n    static void multisearch(String key) {\n        for (int i = 0; i &lt; key.length(); i++) {\n            search(key.substring(i, key.length()));\n        }\n    }\n    public static void main(String args[]) throws MalformedURLException, IOException {\n        Scanner myObj = new Scanner(System.in);\n        String data = myObj.nextLine();  // Read user input\n        run(data);\n        System.out.println(TempA);\n    }\n    public static String TempA = &quot;&quot;;\n    public static String TempB = &quot;&quot;;\n    public static void run(String input) throws MalformedURLException, IOException {\n        words.clear();\n        words2.clear();\n        ArrayList&lt;String&gt; ar = new ArrayList&lt;String&gt;();\n        URL url = new URL(&quot;https://raw.githubusercontent.com/dwyl/english-words/master/words.txt&quot;);\n        Scanner sc = new Scanner(url.openStream());\n        StringBuffer sb = new StringBuffer();\n        String temp = &quot;&quot;;\n        while (sc.hasNext()) {\n            temp = sc.next();\n            temp = temp.toLowerCase();\n            temp = temp.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;);\n            if (temp.length() &gt; 1) {\n                ar.add(temp);\n            }\n        }\n        String[] keys = new String[ar.size()];\n        keys = ar.toArray(keys);\n        String output[] = {&quot;Not present in trie&quot;, &quot;Present in trie&quot;};\n        root = new TrieNode();\n        for (int i = 0; i &lt; keys.length; i++)\n            insert(keys[i]);\n        input = input.toLowerCase().replace(&quot; &quot;, &quot;&quot;);\n        System.out.println(input);\n        multisearch(input);\n        TempA = TempB = &quot;&quot;;\n        for (int i = 0; i &lt; words2.size(); i++) {\n            TempA = TempA + &quot;\\n&quot; + words.get(i);\n            TempB = TempB + &quot;\\n&quot; + input.substring(0, input.length() - words2.get(i).length()) + words2.get(i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":955542,"reputation":7742,"user_id":980917,"accept_rate":47,"display_name":"AlexVPerl"},"score":0,"creation_date":1689740066,"post_id":56867784,"comment_id":135254413,"body_markdown":"Facing the same issue, did you ever find a solution?","body":"Facing the same issue, did you ever find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":238425,"reputation":15741,"user_id":507313,"accept_rate":75,"display_name":"StuStirling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562150172,"creation_date":1562150172,"answer_id":56868200,"question_id":56867784,"body_markdown":"You need to make sure your SHA1 is also on the console with your package name. You get this from the keystore used to sign each version; release &amp; debug. Follow the [Restrict the API key][1] section.\r\n\r\nDebug pacakge name: `com.myapp.debug`\r\n\r\nRelease package name: `com.myapp`\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android-sdk/get-api-key","title":"Failed to restrict google Api key for android app","body":"<p>You need to make sure your SHA1 is also on the console with your package name. You get this from the keystore used to sign each version; release &amp; debug. Follow the <a href=\"https://developers.google.com/maps/documentation/android-sdk/get-api-key\" rel=\"nofollow noreferrer\">Restrict the API key</a> section.</p>\n\n<p>Debug pacakge name: <code>com.myapp.debug</code></p>\n\n<p>Release package name: <code>com.myapp</code></p>\n"}],"owner":{"account_id":1923707,"reputation":123,"user_id":1734638,"display_name":"RamDroid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689739815,"creation_date":1562148755,"question_id":56867784,"body_markdown":"I&#39;m trying to restrict the access of my google cloud API key for my android app, but I always get the below message when I tried to use google maps API.\r\n \r\n**&quot;This IP, site or mobile application is not authorized to use this API key. Request received from IP address {myIp}, with empty referer&quot;**\r\n\r\nI followed [this guide][1]  \r\n\r\n# some hints: #\r\n\r\n    manifest package name: sa.com.myapp\r\n    applicationId in gradle: com.myapp\r\n    and debug flavour has the suffix like this\r\n    debug {\r\n     applicationIdSuffix &quot;.debug&quot;\r\n    }\r\n\r\n what do you think the proper package name value for both debug and release?\r\n\r\n\r\n  [1]: https://cloud.google.com/docs/authentication/api-keys?hl=en&amp;visit_id=636976716993216288-4203193488&amp;rd=1","title":"Failed to restrict google Api key for android app","body":"<p>I'm trying to restrict the access of my google cloud API key for my android app, but I always get the below message when I tried to use google maps API.</p>\n\n<p><strong>\"This IP, site or mobile application is not authorized to use this API key. Request received from IP address {myIp}, with empty referer\"</strong></p>\n\n<p>I followed <a href=\"https://cloud.google.com/docs/authentication/api-keys?hl=en&amp;visit_id=636976716993216288-4203193488&amp;rd=1\" rel=\"nofollow noreferrer\">this guide</a>  </p>\n\n<h1>some hints:</h1>\n\n<pre><code>manifest package name: sa.com.myapp\napplicationId in gradle: com.myapp\nand debug flavour has the suffix like this\ndebug {\n applicationIdSuffix \".debug\"\n}\n</code></pre>\n\n<p>what do you think the proper package name value for both debug and release?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":160835,"reputation":9154,"user_id":381179,"accept_rate":38,"display_name":"cadolphs"},"score":1,"creation_date":1485452907,"post_id":41879660,"comment_id":70941458,"body_markdown":"Before drawing up your class hierarchy, also clarify what you want these objects to *do*, because that&#39;ll determine what could make sense as an interface or abstract class, and what their relation should be.\n\nFor example, does Taxi have different methods than Private?","body":"Before drawing up your class hierarchy, also clarify what you want these objects to <i>do</i>, because that&#39;ll determine what could make sense as an interface or abstract class, and what their relation should be.  For example, does Taxi have different methods than Private?"},{"owner":{"account_id":2279742,"reputation":97,"user_id":2005142,"accept_rate":38,"display_name":"user2005142"},"score":0,"creation_date":1485453285,"post_id":41879660,"comment_id":70941703,"body_markdown":"Good point. Private and Taxi will have a few methods they do not share, and an electric taxi will need to inherit all methods from Electric, and then Car. A taxi can also be Fossil, in which case it will need to inherit all Fossil methods, and none of the Electric methods. The common methods for Electric and Fossil will be found in Car.","body":"Good point. Private and Taxi will have a few methods they do not share, and an electric taxi will need to inherit all methods from Electric, and then Car. A taxi can also be Fossil, in which case it will need to inherit all Fossil methods, and none of the Electric methods. The common methods for Electric and Fossil will be found in Car."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1485454023,"post_id":41879660,"comment_id":70942122,"body_markdown":"You may want to break out the engine type into a separate class and use it to compose custom types, e.g. `Taxi cab1 = new Taxi(new ElectricMotor());`.","body":"You may want to break out the engine type into a separate class and use it to compose custom types, e.g. <code>Taxi cab1 = new Taxi(new ElectricMotor());</code>."},{"owner":{"account_id":160835,"reputation":9154,"user_id":381179,"accept_rate":38,"display_name":"cadolphs"},"score":1,"creation_date":1485454618,"post_id":41879660,"comment_id":70942509,"body_markdown":"Indeed, the &quot;component&quot; pattern would make a lot of sense there","body":"Indeed, the &quot;component&quot; pattern would make a lot of sense there"},{"owner":{"account_id":160835,"reputation":9154,"user_id":381179,"accept_rate":38,"display_name":"cadolphs"},"score":2,"creation_date":1485454669,"post_id":41879660,"comment_id":70942543,"body_markdown":"Also note that: You won&#39;t ever be able to do &quot;Taxi cab1 = new Fossil()&quot; because that&#39;d require that you can cast Fossil into Taxi. But not every fossil car is a taxi!","body":"Also note that: You won&#39;t ever be able to do &quot;Taxi cab1 = new Fossil()&quot; because that&#39;d require that you can cast Fossil into Taxi. But not every fossil car is a taxi!"},{"owner":{"account_id":2279742,"reputation":97,"user_id":2005142,"accept_rate":38,"display_name":"user2005142"},"score":0,"creation_date":1485454859,"post_id":41879660,"comment_id":70942671,"body_markdown":"Oh - that&#39;s exactly what I have been trying to do, but clearly you are correct. Which - I assume - means I will have to structure this differently. At least this puts the issue to rest. Thank you!","body":"Oh - that&#39;s exactly what I have been trying to do, but clearly you are correct. Which - I assume - means I will have to structure this differently. At least this puts the issue to rest. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":8103625,"reputation":678,"user_id":6105932,"display_name":"Ram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485456485,"creation_date":1485454275,"answer_id":41880151,"question_id":41879660,"body_markdown":"***Car Class:***\r\n\r\n\tpublic class Car{\r\n\r\n\tprivate int yearOfManufacture;\r\n\tprivate String brand;\r\n\tprivate String model;\r\n\t\r\n\tprivate boolean forRent;\r\n\t\r\n\r\n\tpublic Car(String pBrand, String pModel, int pYearOfManufacture, boolean pForRent){\r\n\t\tthis.yearOfManufacture = pYearOfManufacture;\r\n\t\tthis.brand = pBrand;\r\n\t\tthis.model = pModel;\r\n\t\tthis.forRent = pForRent;\r\n\t}\r\n\t\r\n\t\r\n\tpublic boolean isPrivate(){\r\n\t\treturn (!forRent);\r\n\t}\r\n\r\n\tpublic int getYear()                \r\n\t\t{\r\n\t\t\treturn this.yearOfManufacture;\r\n\t\t}\r\n\r\n\tpublic String getBrand()\r\n\t\t{\r\n\t\t\treturn this.brand;\r\n\t\t}\r\n\r\n\tpublic void setYear(int year)\r\n\t\t{\r\n\t\t\tthis.yearOfManufacture = year;\r\n\t\t}\r\n\r\n\tpublic void setBrand(String carBrand)\r\n\t\t{\r\n\t\t\tthis.brand = carBrand;\r\n\t\t}\r\n\r\n\tpublic void setModel(String model)                        \r\n\t\t{\r\n\t\t\tthis.model = model;   \r\n\r\n\tpublic String getModel()\r\n\t\t{\r\n\t\t\treturn this.model;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n***Electric Car Class:***\r\n\r\n\tpublic class ElectricCar extends Car{\r\n\t\t\r\n\t\tprivate int electricPowerOutput;\r\n\t\t\r\n\t\tpublic ElectricCar(String pBrand, String pModel, int pYearOfManufacture, int pElectricPowerOutput, boolean pForRent){\r\n\t\t\tsuper(pBrand,pModel,pYearOfManufacture,pForRent);\r\n\t\t\tthis.electricPowerOutput = pElectricPowerOutput;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getElectricPowerOutput(){\r\n\t\t\treturn this.electricPowerOutput;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setElectricPowerOutput(int electricPower){\r\n\t\t\tthis.electricPowerOutput = electricPower;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n***Fossil Car:***\r\n\r\n\tpublic class FossilCar extends Car{\r\n\t\t\r\n\t\tprivate int emissionRating;\r\n\t\t\r\n\t\tpublic ElectricCar(String pBrand, String pModel, int pYearOfManufacture, int pEmissionRating, boolean pForRent){\r\n\t\t\tsuper(pBrand,pModel,pYearOfManufacture,pForRent);\r\n\t\t\tthis.emissionRating = pEmissionRating;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getEmissionRating(){\r\n\t\t\treturn this.emissionRating;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setElectricPowerOutput(int emissionRating){\r\n\t\t\tthis.emissionRating = emissionRating;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\nHope this helps!!","title":"Parent - Car. Sub-class: Electric or Fossil. Child: Private car or Taxi","body":"<p><strong><em>Car Class:</em></strong></p>\n\n<pre><code>public class Car{\n\nprivate int yearOfManufacture;\nprivate String brand;\nprivate String model;\n\nprivate boolean forRent;\n\n\npublic Car(String pBrand, String pModel, int pYearOfManufacture, boolean pForRent){\n    this.yearOfManufacture = pYearOfManufacture;\n    this.brand = pBrand;\n    this.model = pModel;\n    this.forRent = pForRent;\n}\n\n\npublic boolean isPrivate(){\n    return (!forRent);\n}\n\npublic int getYear()                \n    {\n        return this.yearOfManufacture;\n    }\n\npublic String getBrand()\n    {\n        return this.brand;\n    }\n\npublic void setYear(int year)\n    {\n        this.yearOfManufacture = year;\n    }\n\npublic void setBrand(String carBrand)\n    {\n        this.brand = carBrand;\n    }\n\npublic void setModel(String model)                        \n    {\n        this.model = model;   \n\npublic String getModel()\n    {\n        return this.model;\n    }\n\n}\n</code></pre>\n\n<p><strong><em>Electric Car Class:</em></strong></p>\n\n<pre><code>public class ElectricCar extends Car{\n\n    private int electricPowerOutput;\n\n    public ElectricCar(String pBrand, String pModel, int pYearOfManufacture, int pElectricPowerOutput, boolean pForRent){\n        super(pBrand,pModel,pYearOfManufacture,pForRent);\n        this.electricPowerOutput = pElectricPowerOutput;\n    }\n\n    public int getElectricPowerOutput(){\n        return this.electricPowerOutput;\n    }\n\n    public void setElectricPowerOutput(int electricPower){\n        this.electricPowerOutput = electricPower;\n    }\n\n}\n</code></pre>\n\n<p><strong><em>Fossil Car:</em></strong></p>\n\n<pre><code>public class FossilCar extends Car{\n\n    private int emissionRating;\n\n    public ElectricCar(String pBrand, String pModel, int pYearOfManufacture, int pEmissionRating, boolean pForRent){\n        super(pBrand,pModel,pYearOfManufacture,pForRent);\n        this.emissionRating = pEmissionRating;\n    }\n\n    public int getEmissionRating(){\n        return this.emissionRating;\n    }\n\n    public void setElectricPowerOutput(int emissionRating){\n        this.emissionRating = emissionRating;\n    }\n\n}\n</code></pre>\n\n<p>Hope this helps!!</p>\n"},{"tags":[],"owner":{"account_id":8103625,"reputation":678,"user_id":6105932,"display_name":"Ram"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485481451,"creation_date":1485481451,"answer_id":41885928,"question_id":41879660,"body_markdown":"Are you thinking something like this?\r\n\r\n***Car Class:***\r\n\r\n\tpublic class Car{\r\n\r\n\tprivate int yearOfManufacture;\r\n\tprivate String brand;\r\n\tprivate String model;\r\n\tprivate Engine engine;\t\r\n\r\n\tpublic Car(String pBrand, String pModel, int pYearOfManufacture, Engine pEngine){\r\n\t\tthis.yearOfManufacture = pYearOfManufacture;\r\n\t\tthis.brand = pBrand;\r\n\t\tthis.model = pModel;\r\n\t\tthis.engine = pEngine;\r\n\t}\r\n\r\n\t}\r\n\r\n***Engine Class:***\r\n\r\n\tpublic class Engine {\r\n\r\n\t private int power;\r\n\t private int emission;\r\n\r\n\t public Engine(int power, int emission) {\r\n\t  this.power = power;\r\n\t  this.emission = emission;\r\n\t }\r\n\t}\r\n\r\n***IC Engine Class:***\r\n\r\n\tpublic class ICEngine extends Engine {\r\n\r\n\t private int numOfValves;\r\n\r\n\t public ICEngine(int power, int emission, int numOfValves) {\r\n\t  super(int power, int emission);\r\n\t  this.numOfValves = numOfValves;\r\n\t }\r\n\t}\r\n\r\n***Electric Engine Class:***\r\n\r\n\tpublic class ElectricEngine extends Engine {\r\n\r\n\t private int wattage;\r\n\r\n\t public ICEngine(int power, int emission, int wattage) {\r\n\t  super(int power, int emission);\r\n\t  this.wattage = wattage;\r\n\t }\r\n\t}\r\n\r\n***Taxi Class:***\r\n\r\n\tpublic class Taxi extends Car{\r\n\t\t\r\n\t\tprivate String driverName;\r\n\t\t\r\n\t\tpublic Taxi(String driverName, String pBrand, String pModel, int pYearOfManufacture, Engine engine){\r\n\t\t\tsuper(pBrand, pModel, pYearOfManufacture, engine);\r\n\t\t\tthis.driverName = driverName;\r\n\t\t}\r\n\t}\r\n\r\n***Private Car Class:***\r\n\r\n\tpublic class PrivateCar extends Car {\r\n\r\n\t private String ownerName;\r\n\r\n\t public PrivateCar(String ownerName, String pBrand, String pModel, int pYearOfManufacture, Engine engine) {\r\n\t  super(pBrand, pModel, pYearOfManufacture, engine);\r\n\t  this.ownerName = ownerName;\r\n\t }\r\n\r\n\r\n\t}\r\n\r\n\r\n***Consuming Application Class:***\r\n\r\n\r\n\tpublic class MyApp {\r\n\r\n\t public static void main(String[] args) {\r\n\r\n\t  Engine eEngine1 = new ElectricEngine(100, 10, 10000);\r\n\t  Car myElectricTaxi = new Taxi(&quot;Driver1&quot;, &quot;Honda&quot;, &quot;Accord&quot;, 2013, eEngine1);\r\n\r\n\t  Engine icEngine1 = new ICEngine(100, 10, 6);\r\n\t  Car myICTaxi = new Taxi(&quot;Driver2&quot;, &quot;Honda&quot;, &quot;Accord&quot;, 2013, icEngine1);\r\n\r\n\t  Engine eEngine2 = new ElectricEngine(100, 10, 10000);\r\n\t  Car myElectricPrivateCar = new PrivateCar(&quot;Owner1&quot;, &quot;Honda&quot;, &quot;Accord&quot;, 2013, eEngine2);\r\n\r\n\t  Engine icEngine2 = new ICEngine(100, 10, 4);\r\n\t  Car myICPrivateCar = new PrivateCar(&quot;Owner2&quot;, &quot;Honda&quot;, &quot;Accord&quot;, 2013, icEngine2);\r\n\r\n\t }\r\n\r\n\t}","title":"Parent - Car. Sub-class: Electric or Fossil. Child: Private car or Taxi","body":"<p>Are you thinking something like this?</p>\n\n<p><strong><em>Car Class:</em></strong></p>\n\n<pre><code>public class Car{\n\nprivate int yearOfManufacture;\nprivate String brand;\nprivate String model;\nprivate Engine engine;  \n\npublic Car(String pBrand, String pModel, int pYearOfManufacture, Engine pEngine){\n    this.yearOfManufacture = pYearOfManufacture;\n    this.brand = pBrand;\n    this.model = pModel;\n    this.engine = pEngine;\n}\n\n}\n</code></pre>\n\n<p><strong><em>Engine Class:</em></strong></p>\n\n<pre><code>public class Engine {\n\n private int power;\n private int emission;\n\n public Engine(int power, int emission) {\n  this.power = power;\n  this.emission = emission;\n }\n}\n</code></pre>\n\n<p><strong><em>IC Engine Class:</em></strong></p>\n\n<pre><code>public class ICEngine extends Engine {\n\n private int numOfValves;\n\n public ICEngine(int power, int emission, int numOfValves) {\n  super(int power, int emission);\n  this.numOfValves = numOfValves;\n }\n}\n</code></pre>\n\n<p><strong><em>Electric Engine Class:</em></strong></p>\n\n<pre><code>public class ElectricEngine extends Engine {\n\n private int wattage;\n\n public ICEngine(int power, int emission, int wattage) {\n  super(int power, int emission);\n  this.wattage = wattage;\n }\n}\n</code></pre>\n\n<p><strong><em>Taxi Class:</em></strong></p>\n\n<pre><code>public class Taxi extends Car{\n\n    private String driverName;\n\n    public Taxi(String driverName, String pBrand, String pModel, int pYearOfManufacture, Engine engine){\n        super(pBrand, pModel, pYearOfManufacture, engine);\n        this.driverName = driverName;\n    }\n}\n</code></pre>\n\n<p><strong><em>Private Car Class:</em></strong></p>\n\n<pre><code>public class PrivateCar extends Car {\n\n private String ownerName;\n\n public PrivateCar(String ownerName, String pBrand, String pModel, int pYearOfManufacture, Engine engine) {\n  super(pBrand, pModel, pYearOfManufacture, engine);\n  this.ownerName = ownerName;\n }\n\n\n}\n</code></pre>\n\n<p><strong><em>Consuming Application Class:</em></strong></p>\n\n<pre><code>public class MyApp {\n\n public static void main(String[] args) {\n\n  Engine eEngine1 = new ElectricEngine(100, 10, 10000);\n  Car myElectricTaxi = new Taxi(\"Driver1\", \"Honda\", \"Accord\", 2013, eEngine1);\n\n  Engine icEngine1 = new ICEngine(100, 10, 6);\n  Car myICTaxi = new Taxi(\"Driver2\", \"Honda\", \"Accord\", 2013, icEngine1);\n\n  Engine eEngine2 = new ElectricEngine(100, 10, 10000);\n  Car myElectricPrivateCar = new PrivateCar(\"Owner1\", \"Honda\", \"Accord\", 2013, eEngine2);\n\n  Engine icEngine2 = new ICEngine(100, 10, 4);\n  Car myICPrivateCar = new PrivateCar(\"Owner2\", \"Honda\", \"Accord\", 2013, icEngine2);\n\n }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2279742,"reputation":97,"user_id":2005142,"accept_rate":38,"display_name":"user2005142"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689739813,"creation_date":1485452596,"question_id":41879660,"body_markdown":"I&#39;m recently picking up OOP, and this has me very confused. \r\nI want to make a super class Car and Electric or Fossil cars as its subclasses. \r\n\r\n    `abstract class Electric extends Car`. \r\n\r\nThe issue is that I only want to make instances of either Private or Taxi. How can I structure this, so that I would ideally be allowed to make a statement as \r\n\r\n    Taxi cab1 = new Fossil()\r\n\r\nI realize this is a question with an obvious answer, but after looking at generics and interfaces until my eyes got sore, the frustration has been growing. \r\n\r\nI would greatly appreciate if somebody could remind me how this can be done, as I&#39;m positive I have known and since forgot.\r\n","title":"Parent - Car. Sub-class: Electric or Fossil. Child: Private car or Taxi","body":"<p>I'm recently picking up OOP, and this has me very confused. \nI want to make a super class Car and Electric or Fossil cars as its subclasses. </p>\n\n<pre><code>`abstract class Electric extends Car`. \n</code></pre>\n\n<p>The issue is that I only want to make instances of either Private or Taxi. How can I structure this, so that I would ideally be allowed to make a statement as </p>\n\n<pre><code>Taxi cab1 = new Fossil()\n</code></pre>\n\n<p>I realize this is a question with an obvious answer, but after looking at generics and interfaces until my eyes got sore, the frustration has been growing. </p>\n\n<p>I would greatly appreciate if somebody could remind me how this can be done, as I'm positive I have known and since forgot.</p>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1689738581,"creation_date":1335558038,"answer_id":10357323,"question_id":10357295,"body_markdown":"The purpose of `ThreadLocal` is that the fields do _not_ have to be atomic -- there is no need to synchronize their values with centralized memory.  They are thread-local and only exist in the threads local memory storage.\r\n\r\n&gt; Why would I ever want to use a ThreadLocal instead of, say, an AtomicLong or AtomicInteger? \r\n\r\n`ThreadLocal` is very useful for storing a per-thread copy of something.  For example a `SimpleDateFormat` which is unfortunately not reentrant.\r\n\r\n\tprivate final ThreadLocal&lt;DateFormat&gt; threadLocal =\r\n\t\t\tnew ThreadLocal&lt;DateFormat&gt;() {\r\n\t\t@Override\r\n\t\tprotected DateFormat initialValue() {\r\n\t\t\treturn new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;);\r\n\t\t}\r\n\t};\r\n\t...\r\n\t// get one that is per-thread\r\n\tDateFormat dateFormat = threadLocal.get();\r\n\r\nThis is a useful pattern because then we don&#39;t have to `synchronize` on it or worry about any `volatile` or other atomic operations that have memory barriers.\r\n\r\nOne caveat is that `ThreadLocal` variables often are detected as memory leaks since they are only freed when the thread is reaped which can cause problems with web container class loaders.","title":"Using ThreadLocal vs Atomic","body":"<p>The purpose of <code>ThreadLocal</code> is that the fields do <em>not</em> have to be atomic -- there is no need to synchronize their values with centralized memory.  They are thread-local and only exist in the threads local memory storage.</p>\n<blockquote>\n<p>Why would I ever want to use a ThreadLocal instead of, say, an AtomicLong or AtomicInteger?</p>\n</blockquote>\n<p><code>ThreadLocal</code> is very useful for storing a per-thread copy of something.  For example a <code>SimpleDateFormat</code> which is unfortunately not reentrant.</p>\n<pre><code>private final ThreadLocal&lt;DateFormat&gt; threadLocal =\n        new ThreadLocal&lt;DateFormat&gt;() {\n    @Override\n    protected DateFormat initialValue() {\n        return new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;);\n    }\n};\n...\n// get one that is per-thread\nDateFormat dateFormat = threadLocal.get();\n</code></pre>\n<p>This is a useful pattern because then we don't have to <code>synchronize</code> on it or worry about any <code>volatile</code> or other atomic operations that have memory barriers.</p>\n<p>One caveat is that <code>ThreadLocal</code> variables often are detected as memory leaks since they are only freed when the thread is reaped which can cause problems with web container class loaders.</p>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1335558201,"creation_date":1335558201,"answer_id":10357350,"question_id":10357295,"body_markdown":"&gt; I guess I&#39;m wondering why I would ever want to use a ThreadLocal instead of, say, an AtomicLong or AtomicInteger?\r\n\r\nThey serve **completely** different purposes. `ThreadLocal` means you don&#39;t have to worry about synchronization by granting each thread its own copy of an object. Therefore, an object stored in a `ThreadLocal` cannot possibly be accessed by more than one thread.\r\n\r\n`Atomic*` also mean that you don&#39;t have to worry about synchronization, but they are specifically meant to be shared across threads.","title":"Using ThreadLocal vs Atomic","body":"<blockquote>\n  <p>I guess I'm wondering why I would ever want to use a ThreadLocal instead of, say, an AtomicLong or AtomicInteger?</p>\n</blockquote>\n\n<p>They serve <strong>completely</strong> different purposes. <code>ThreadLocal</code> means you don't have to worry about synchronization by granting each thread its own copy of an object. Therefore, an object stored in a <code>ThreadLocal</code> cannot possibly be accessed by more than one thread.</p>\n\n<p><code>Atomic*</code> also mean that you don't have to worry about synchronization, but they are specifically meant to be shared across threads.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5470,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10357323,"answer_count":2,"score":5,"last_activity_date":1689738581,"creation_date":1335557942,"question_id":10357295,"body_markdown":"According to `ThreadLocal`&#39;s javadoc, it sounds like its a thread-specific container for 1+ atomic fields.\r\n\r\nIs the purpose of `ThreadLocal` to represent all the atomic fields for a single `Thread`, or is it to just provided a convenience container when you have multiple `Atomic*` instances that need to be logically grouped together?\r\n\r\nI guess I&#39;m wondering why I would ever want to use a `ThreadLocal` instead of, say, an `AtomicLong` or `AtomicInteger`? Thanks in advance!","title":"Using ThreadLocal vs Atomic","body":"<p>According to <code>ThreadLocal</code>'s javadoc, it sounds like its a thread-specific container for 1+ atomic fields.</p>\n\n<p>Is the purpose of <code>ThreadLocal</code> to represent all the atomic fields for a single <code>Thread</code>, or is it to just provided a convenience container when you have multiple <code>Atomic*</code> instances that need to be logically grouped together?</p>\n\n<p>I guess I'm wondering why I would ever want to use a <code>ThreadLocal</code> instead of, say, an <code>AtomicLong</code> or <code>AtomicInteger</code>? Thanks in advance!</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":20267694,"reputation":43,"user_id":14864513,"display_name":"floydk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689716582,"creation_date":1689716582,"answer_id":76716705,"question_id":76716662,"body_markdown":"Okay, literally 5 minutes after posting my question I find the answer in a different thread after searching for an hour beforehand.`final var matcher = includePattern.matcher(line);` there HAS to be a call `matcher.matches()` before calling any other method on the matcher. ","title":"Calling string.matches(PATTERN) giving different result than Pattern.compile(PATTERN).matcher(string).hasMatches()","body":"<p>Okay, literally 5 minutes after posting my question I find the answer in a different thread after searching for an hour beforehand.<code>final var matcher = includePattern.matcher(line);</code> there HAS to be a call <code>matcher.matches()</code> before calling any other method on the matcher.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689738158,"creation_date":1689738158,"answer_id":76717847,"question_id":76716662,"body_markdown":"Glad to hear you figured out the problem.\r\n\r\nThe _Matcher_ class works dynamically.&amp;nbsp; Meaning, you have to invoke it to generate an output.  \r\nIt won&#39;t have all the data upon instantiation.\r\n\r\nSo, for the _[hasMatch](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#hasMatch())_ method, as you mentioned, it requires a match, initially.\r\n\r\n&gt; _&quot;... Returns whether this contains a valid match from a previous match or find operation. ...&quot;_\r\n\r\nAs a note, I typically use the _[find](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find())_ method in this situation.\r\n\r\n```java\r\nif (matcher.find()) {\r\n    final var includedFileName = matcher.group(&quot;fileName&quot;);\r\n    final var includedConfiguration = readConfiguration(includedFileName);\r\n}\r\n```\r\n\r\nAnd, as a final note, you could reduce the pattern.  \r\nThe initial `.*`, the capture group, nor the set union, are required.  \r\n\r\n```none\r\n!include (?&lt;fileName&gt;.*\\.ya?ml)\r\n```","title":"Calling string.matches(PATTERN) giving different result than Pattern.compile(PATTERN).matcher(string).hasMatches()","body":"<p>Glad to hear you figured out the problem.</p>\n<p>The <em>Matcher</em> class works dynamically.  Meaning, you have to invoke it to generate an output.<br />\nIt won't have all the data upon instantiation.</p>\n<p>So, for the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#hasMatch()\" rel=\"nofollow noreferrer\">hasMatch</a></em> method, as you mentioned, it requires a match, initially.</p>\n<blockquote>\n<p><em>&quot;... Returns whether this contains a valid match from a previous match or find operation. ...&quot;</em></p>\n</blockquote>\n<p>As a note, I typically use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\">find</a></em> method in this situation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (matcher.find()) {\n    final var includedFileName = matcher.group(&quot;fileName&quot;);\n    final var includedConfiguration = readConfiguration(includedFileName);\n}\n</code></pre>\n<p>And, as a final note, you could reduce the pattern.<br />\nThe initial <code>.*</code>, the capture group, nor the set union, are required.</p>\n<pre class=\"lang-none prettyprint-override\"><code>!include (?&lt;fileName&gt;.*\\.ya?ml)\n</code></pre>\n"}],"owner":{"account_id":20267694,"reputation":43,"user_id":14864513,"display_name":"floydk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76717847,"answer_count":2,"score":0,"last_activity_date":1689738158,"creation_date":1689715909,"question_id":76716662,"body_markdown":"i am trying to write a small java library and currently i am trying to read a file line by line, and if in a line i find the expression &quot;!includes &lt;filename&gt;.yaml&quot; i want to get the file name, load it and replace it in the current file that I am reading. For exmaple in the order file:\r\n\r\n\r\n```\r\norderNo: A001\r\ndate: 2019-04-17\r\ncustomerName: Customer, Joe\r\norderLines:\r\n  - item: No. 9 Sprockets\r\n    quantity: 12\r\n    unitPrice: 1.23\r\n  - item: Widget (10mm)\r\n    quantity: 4\r\n    unitPrice: 3.45\r\n  - !include item.yaml\r\n```\r\n\r\nI want to replace the last line with the content of file item.yaml which looks something like\r\n\r\n\r\n```\r\nitem: Sub-item\r\nquantity: 2\r\nunitPrice: 16\r\n```\r\n\r\n\r\nTo that end i am currently playing around with regex to match the whole &quot;!includes &lt;filename&gt;.yaml&quot;, which looks something like this:\r\n\r\n\r\n```\r\n    private static final Pattern includePattern = Pattern.compile(&quot;.*!include (?&lt;fileName&gt;.*\\\\.(yaml|yml))&quot;);\r\n    public static String readConfiguration(String configurationFile) {\r\n        final var configurationFileUrl = ConfigurationLoader.class.getClassLoader().getResource(configurationFile);\r\n        if (configurationFileUrl == null)\r\n            throw new ConfigurationReadException(configurationFile);\r\n        try {\r\n            final var lines = Files.readAllLines(Path.of(configurationFileUrl.toURI()));\r\n            for (final var line : lines) {\r\n                final var matcher = includePattern.matcher(line);\r\n                if (matcher.hasMatch()) {\r\n                    final var includedFileName = matcher.group(&quot;fileName&quot;);\r\n                    final var includedConfiguration = readConfiguration(includedFileName);\r\n                }\r\n            }\r\n            return lines.stream().reduce(&quot;&quot;, (existing, current) -&gt; existing.equals(&quot;&quot;) ? current : &quot;%s\\r\\n%s&quot;.formatted(existing, current));\r\n        } catch (IOException | OutOfMemoryError | SecurityException | IllegalArgumentException |\r\n                 FileSystemNotFoundException | URISyntaxException e) {\r\n            throw new ConfigurationReadException(configurationFile.toString(), e);\r\n        }\r\n    }\r\n```\r\n\r\nNow my problem is that matcher.hasMatch() always returns false and the matcher has no match on the group, even though when I am debugging to that position in the code and execute line.matches(includePattern.pattern) I actually get &quot;true&quot;. \r\n\r\nI understand that .hasMatches/matches only returns true when the entire string matches the regex, but thats why i modified my pattern in a way that it actually should match the entire line. Testing with online regex testers also tells me, that my regex should be working. What am i doing wrong?","title":"Calling string.matches(PATTERN) giving different result than Pattern.compile(PATTERN).matcher(string).hasMatches()","body":"<p>i am trying to write a small java library and currently i am trying to read a file line by line, and if in a line i find the expression &quot;!includes .yaml&quot; i want to get the file name, load it and replace it in the current file that I am reading. For exmaple in the order file:</p>\n<pre><code>orderNo: A001\ndate: 2019-04-17\ncustomerName: Customer, Joe\norderLines:\n  - item: No. 9 Sprockets\n    quantity: 12\n    unitPrice: 1.23\n  - item: Widget (10mm)\n    quantity: 4\n    unitPrice: 3.45\n  - !include item.yaml\n</code></pre>\n<p>I want to replace the last line with the content of file item.yaml which looks something like</p>\n<pre><code>item: Sub-item\nquantity: 2\nunitPrice: 16\n</code></pre>\n<p>To that end i am currently playing around with regex to match the whole &quot;!includes .yaml&quot;, which looks something like this:</p>\n<pre><code>    private static final Pattern includePattern = Pattern.compile(&quot;.*!include (?&lt;fileName&gt;.*\\\\.(yaml|yml))&quot;);\n    public static String readConfiguration(String configurationFile) {\n        final var configurationFileUrl = ConfigurationLoader.class.getClassLoader().getResource(configurationFile);\n        if (configurationFileUrl == null)\n            throw new ConfigurationReadException(configurationFile);\n        try {\n            final var lines = Files.readAllLines(Path.of(configurationFileUrl.toURI()));\n            for (final var line : lines) {\n                final var matcher = includePattern.matcher(line);\n                if (matcher.hasMatch()) {\n                    final var includedFileName = matcher.group(&quot;fileName&quot;);\n                    final var includedConfiguration = readConfiguration(includedFileName);\n                }\n            }\n            return lines.stream().reduce(&quot;&quot;, (existing, current) -&gt; existing.equals(&quot;&quot;) ? current : &quot;%s\\r\\n%s&quot;.formatted(existing, current));\n        } catch (IOException | OutOfMemoryError | SecurityException | IllegalArgumentException |\n                 FileSystemNotFoundException | URISyntaxException e) {\n            throw new ConfigurationReadException(configurationFile.toString(), e);\n        }\n    }\n</code></pre>\n<p>Now my problem is that matcher.hasMatch() always returns false and the matcher has no match on the group, even though when I am debugging to that position in the code and execute line.matches(includePattern.pattern) I actually get &quot;true&quot;.</p>\n<p>I understand that .hasMatches/matches only returns true when the entire string matches the regex, but thats why i modified my pattern in a way that it actually should match the entire line. Testing with online regex testers also tells me, that my regex should be working. What am i doing wrong?</p>\n"},{"tags":["java","android","image"],"owner":{"account_id":21431076,"reputation":21,"user_id":15787484,"display_name":"Salty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689736423,"creation_date":1689730976,"question_id":76717438,"body_markdown":"My app has an ImageReader that is configured for the JPEG format. I draw to the reader&#39;s surface a circle shape with its canvas. On the `OnImageAvailable` callback method, I grab the Image with `image = acquireNextImage()` and when I try to invoke \r\n\r\n    ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n\r\n\r\n I&#39;m met with a huge crash dump (doesn&#39;t tell me anything meaningful). It works completely fine when I set the format to `PixelFormat.RGBA8888` and invoke the same call. ","title":"Does ImageReader convert surfaces to specified formats?","body":"<p>My app has an ImageReader that is configured for the JPEG format. I draw to the reader's surface a circle shape with its canvas. On the <code>OnImageAvailable</code> callback method, I grab the Image with <code>image = acquireNextImage()</code> and when I try to invoke</p>\n<pre><code>ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n</code></pre>\n<p>I'm met with a huge crash dump (doesn't tell me anything meaningful). It works completely fine when I set the format to <code>PixelFormat.RGBA8888</code> and invoke the same call.</p>\n"},{"tags":["java","spring","inversion-of-control","autowired","java-ee-6"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689659721,"post_id":76709070,"comment_id":135240901,"body_markdown":"I&#39;m actually surprised it works as the `RedisTemplate` isn&#39;t even a `HashOperations`. Looking into it it appeas as if `@Resource` passes through the conversion framework of Spring as there is a `HashOperationsEditor` which converts a `RedisOperations` into the `HashOperations` by calling the factory method. This appears to be bypassed by `@Autowired` might be due to the point into the lifecycle that this is being invoked.","body":"I&#39;m actually surprised it works as the <code>RedisTemplate</code> isn&#39;t even a <code>HashOperations</code>. Looking into it it appeas as if <code>@Resource</code> passes through the conversion framework of Spring as there is a <code>HashOperationsEditor</code> which converts a <code>RedisOperations</code> into the <code>HashOperations</code> by calling the factory method. This appears to be bypassed by <code>@Autowired</code> might be due to the point into the lifecycle that this is being invoked."},{"owner":{"account_id":1863598,"reputation":1206,"user_id":1687636,"accept_rate":64,"display_name":"Sheldon Wei"},"score":0,"creation_date":1689736066,"post_id":76709070,"comment_id":135254103,"body_markdown":"@M.Deinum Yes it works and I found why :)","body":"@M.Deinum Yes it works and I found why :)"}],"answers":[{"tags":[],"owner":{"account_id":1863598,"reputation":1206,"user_id":1687636,"accept_rate":64,"display_name":"Sheldon Wei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689736016,"creation_date":1689736016,"answer_id":76717715,"question_id":76709070,"body_markdown":"Yes guys, I figured it out by a Chinese post here: https://xxgblog.com/2020/03/12/spring-redistemplate-listoperations/.\r\n\r\nDon&#39;t worry if you can&#39;t read Chinese. I looked up the newest official document of why we can use Resouce instead of Autowire: https://docs.spring.io/spring-data/data-redis/docs/3.2.x/reference/html/#redis:template\r\n\r\nThe KEY is spring framework helps us to do the conversion things. Spring provides more than you imaged types linked to specific Redis operation type, such as `ListOperations `,`HashOperations `,`ValueOperations `,`SetOperations` and many other so-called `operations view`s, which you can find in the doc above.","title":"What&#39;s the difference between Autowire and Resouce annotations in Spring? Why I cannot substitute Resouce with Autowire?","body":"<p>Yes guys, I figured it out by a Chinese post here: <a href=\"https://xxgblog.com/2020/03/12/spring-redistemplate-listoperations/\" rel=\"nofollow noreferrer\">https://xxgblog.com/2020/03/12/spring-redistemplate-listoperations/</a>.</p>\n<p>Don't worry if you can't read Chinese. I looked up the newest official document of why we can use Resouce instead of Autowire: <a href=\"https://docs.spring.io/spring-data/data-redis/docs/3.2.x/reference/html/#redis:template\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-redis/docs/3.2.x/reference/html/#redis:template</a></p>\n<p>The KEY is spring framework helps us to do the conversion things. Spring provides more than you imaged types linked to specific Redis operation type, such as <code>ListOperations </code>,<code>HashOperations </code>,<code>ValueOperations </code>,<code>SetOperations</code> and many other so-called <code>operations view</code>s, which you can find in the doc above.</p>\n"}],"owner":{"account_id":1863598,"reputation":1206,"user_id":1687636,"accept_rate":64,"display_name":"Sheldon Wei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76717715,"answer_count":1,"score":0,"last_activity_date":1689736016,"creation_date":1689645131,"question_id":76709070,"body_markdown":"I am trying to use Redis in Spring project. And I copied some code like this and it works well:\r\n\r\n```java\r\n    @Autowired\r\n    private RedisTemplate redisTemplate;\r\n\r\n    @Resource(name = &quot;redisTemplate&quot;)\r\n    private HashOperations&lt;String, String, SomeObject&gt; hashOps;\r\n```\r\nNotice that I defined 2 variables pointing to a same bean `RedisTemplate`, which is constructed in another file:\r\n```java\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n    @Bean\r\n    public RedisTemplate redisTemplate(\r\n          RedisConnectionFactory connectionFactory,\r\n          @Qualifier(&quot;customObjectMapper&quot;)  ObjectMapper objectMapper) {\r\n// do the config things...\r\n    }\r\n}\r\n```\r\n\r\n===\r\n\r\nThen an idea came up to me, I am wondering why the var of `redisTemplate` wearing `@Autowire` while the var of `hashOps` wearing `@Resource`, and why `hashOps` can work well as there is not a bean injected explicitly.\r\n\r\nI replaced `Autowire` to the var `hashOps` as below:\r\n\r\n```java \r\n    @Autowired\r\n    private RedisTemplate redisTemplate;\r\n\r\n    @Autowired(name = &quot;redisTemplate&quot;) // instead of Resouce here\r\n    private HashOperations&lt;String, String, SomeObject&gt; hashOps;\r\n```\r\nExpected enough, my App started failed. The spring container tells that there is no bean of HashOperations to look up.\r\n\r\nEmm, so back to the caption: What&#39;s the difference between Autowire and Resouce annotations in Spring? Why I cannot substitute Resouce with Autowire? ","title":"What&#39;s the difference between Autowire and Resouce annotations in Spring? Why I cannot substitute Resouce with Autowire?","body":"<p>I am trying to use Redis in Spring project. And I copied some code like this and it works well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Resource(name = &quot;redisTemplate&quot;)\n    private HashOperations&lt;String, String, SomeObject&gt; hashOps;\n</code></pre>\n<p>Notice that I defined 2 variables pointing to a same bean <code>RedisTemplate</code>, which is constructed in another file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RedisConfig {\n\n    @Bean\n    public RedisTemplate redisTemplate(\n          RedisConnectionFactory connectionFactory,\n          @Qualifier(&quot;customObjectMapper&quot;)  ObjectMapper objectMapper) {\n// do the config things...\n    }\n}\n</code></pre>\n<p>===</p>\n<p>Then an idea came up to me, I am wondering why the var of <code>redisTemplate</code> wearing <code>@Autowire</code> while the var of <code>hashOps</code> wearing <code>@Resource</code>, and why <code>hashOps</code> can work well as there is not a bean injected explicitly.</p>\n<p>I replaced <code>Autowire</code> to the var <code>hashOps</code> as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Autowired(name = &quot;redisTemplate&quot;) // instead of Resouce here\n    private HashOperations&lt;String, String, SomeObject&gt; hashOps;\n</code></pre>\n<p>Expected enough, my App started failed. The spring container tells that there is no bean of HashOperations to look up.</p>\n<p>Emm, so back to the caption: What's the difference between Autowire and Resouce annotations in Spring? Why I cannot substitute Resouce with Autowire?</p>\n"},{"tags":["java","android","android-support-library"],"comments":[{"owner":{"account_id":3140217,"reputation":3756,"user_id":2655804,"accept_rate":100,"display_name":"Kishan Dhamat"},"score":1,"creation_date":1412598137,"post_id":26216088,"comment_id":41113876,"body_markdown":"Put some of your code here please?","body":"Put some of your code here please?"},{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1412598336,"post_id":26216088,"comment_id":41113980,"body_markdown":"Updated with the code but it is exactly the same you get if you press &quot;Download the sample app&quot; in the first link","body":"Updated with the code but it is exactly the same you get if you press &quot;Download the sample app&quot; in the first link"},{"owner":{"account_id":3872567,"reputation":2125,"user_id":3207494,"accept_rate":56,"display_name":"Pankaj"},"score":0,"creation_date":1412598999,"post_id":26216088,"comment_id":41114357,"body_markdown":"are you sure about library import is proper???","body":"are you sure about library import is proper???"},{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1412666309,"post_id":26216088,"comment_id":41141551,"body_markdown":"Yes, copy pasted in the lib folder with eclipse :P","body":"Yes, copy pasted in the lib folder with eclipse :P"},{"owner":{"account_id":1307562,"reputation":6094,"user_id":1256219,"accept_rate":60,"display_name":"brandall"},"score":0,"creation_date":1413079349,"post_id":26216088,"comment_id":41307443,"body_markdown":"Does this answer and the upvoted comment help? - http://stackoverflow.com/a/18997280/1256219","body":"Does this answer and the upvoted comment help? - <a href=\"http://stackoverflow.com/a/18997280/1256219\">stackoverflow.com/a/18997280/1256219</a>"},{"owner":{"account_id":250818,"reputation":3403,"user_id":527759,"accept_rate":0,"display_name":"Eugene Popovich"},"score":0,"creation_date":1413191795,"post_id":26216088,"comment_id":41335978,"body_markdown":"This solution helped me in similar situation http://stackoverflow.com/a/20992117/527759","body":"This solution helped me in similar situation <a href=\"http://stackoverflow.com/a/20992117/527759\">stackoverflow.com/a/20992117/527759</a>"}],"answers":[{"tags":[],"owner":{"account_id":3738133,"reputation":7463,"user_id":3108590,"accept_rate":62,"display_name":"MathieuMaree"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1444847784,"creation_date":1412598494,"answer_id":26216236,"question_id":26216088,"body_markdown":"Here is a quick fix to your problem. Just override the `onBackPressed()` method in your Activity / Fragment :\r\n\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        if (mDrawerLayout.isDrawerOpen(Gravity.START))\r\n            mDrawerLayout.closeDrawer(Gravity.START);\r\n        else\r\n            super.onBackPressed();\r\n    }\r\n\r\nUse `Gravity.START` for the left drawer, `Gravity.END` for the right one","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>Here is a quick fix to your problem. Just override the <code>onBackPressed()</code> method in your Activity / Fragment :</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n    if (mDrawerLayout.isDrawerOpen(Gravity.START))\n        mDrawerLayout.closeDrawer(Gravity.START);\n    else\n        super.onBackPressed();\n}\n</code></pre>\n\n<p>Use <code>Gravity.START</code> for the left drawer, <code>Gravity.END</code> for the right one</p>\n"},{"tags":[],"owner":{"account_id":4824596,"reputation":10769,"user_id":3894351,"accept_rate":75,"display_name":"Elltz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413383576,"creation_date":1413383576,"answer_id":26385160,"question_id":26216088,"body_markdown":"right click on your project click properties and goto java build path and check if the libraries you want are there and there aint no unwanted libraries..also if you change the supportlibrary v4, i suggest you change it in appcompat v7 library..\r\nsecondly \r\n\r\n    onDrawerOpened\r\n is when the drawerlayout is surfaced fully on your ui, if its not surfaced fully the activity is closed instead..\r\n\r\nso kindly re-check these in your code from the documentation site\r\n\r\n    \r\n    The main content view (the FrameLayout above) must be the first child in the \r\n    DrawerLayout because the XML order implies z-ordering and the drawer must be \r\n    on top of the content.\r\n    The main content view is set to match the parent view&#39;s width and height,\r\n    because it represents the entire UI when the navigation drawer is hidden.\r\n    The drawer view (the ListView) must specify its horizontal gravity with the \r\n    android:layout_gravity attribute. To support right-to-left (RTL) languages,\r\n    specify the value with &quot;start&quot; instead of &quot;left&quot; (so the drawer appears on\r\n    the right when the layout is RTL).\r\n    The drawer view specifies its width in dp units and the height matches \r\n    the parent view. The drawer width should be no more than 320dp so the\r\n    user can always see a portion of the main content.\r\n\r\n\r\nlastly i see that you are using support library, and if you use support library you should not use activity you should use ActiobBarActivity or FragmentActivity","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>right click on your project click properties and goto java build path and check if the libraries you want are there and there aint no unwanted libraries..also if you change the supportlibrary v4, i suggest you change it in appcompat v7 library..\nsecondly </p>\n\n<pre><code>onDrawerOpened\n</code></pre>\n\n<p>is when the drawerlayout is surfaced fully on your ui, if its not surfaced fully the activity is closed instead..</p>\n\n<p>so kindly re-check these in your code from the documentation site</p>\n\n<pre><code>The main content view (the FrameLayout above) must be the first child in the \nDrawerLayout because the XML order implies z-ordering and the drawer must be \non top of the content.\nThe main content view is set to match the parent view's width and height,\nbecause it represents the entire UI when the navigation drawer is hidden.\nThe drawer view (the ListView) must specify its horizontal gravity with the \nandroid:layout_gravity attribute. To support right-to-left (RTL) languages,\nspecify the value with \"start\" instead of \"left\" (so the drawer appears on\nthe right when the layout is RTL).\nThe drawer view specifies its width in dp units and the height matches \nthe parent view. The drawer width should be no more than 320dp so the\nuser can always see a portion of the main content.\n</code></pre>\n\n<p>lastly i see that you are using support library, and if you use support library you should not use activity you should use ActiobBarActivity or FragmentActivity</p>\n"},{"tags":[],"owner":{"account_id":1082092,"reputation":929,"user_id":1078792,"display_name":"正宗白布鞋"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1413448539,"creation_date":1413448539,"answer_id":26399733,"question_id":26216088,"body_markdown":"I have the exactly same problem after upgrading the support library to 20.0.0.\r\n\r\nAdd below one line code can fix my problem. (onCreate in my activitiy)\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n\r\n        mDrawerLayout = (DrawerLayout) this.findViewById(R.id.drawer_layout);\r\n        mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS); /* add this line */\r\n\r\n        ....\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>I have the exactly same problem after upgrading the support library to 20.0.0.</p>\n\n<p>Add below one line code can fix my problem. (onCreate in my activitiy)</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n\n    mDrawerLayout = (DrawerLayout) this.findViewById(R.id.drawer_layout);\n    mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS); /* add this line */\n\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4038747,"reputation":2488,"user_id":3322203,"accept_rate":20,"display_name":"Danial Hussain"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1441229458,"creation_date":1413457279,"answer_id":26402719,"question_id":26216088,"body_markdown":"In setUpNavDrawer\r\n\r\n    mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);\r\n\r\nAlso\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n      if (mDrawerLayout.isOpen())\r\n        mDrawerLayout.close();\r\n      else\r\n        super.onBackPressed();\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>In setUpNavDrawer</p>\n\n<pre><code>mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);\n</code></pre>\n\n<p>Also</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n  if (mDrawerLayout.isOpen())\n    mDrawerLayout.close();\n  else\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4842274,"reputation":375,"user_id":3907002,"accept_rate":42,"display_name":"user3907002"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414866599,"creation_date":1414866599,"answer_id":26691657,"question_id":26216088,"body_markdown":"The solution with `mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);` is not recommend because you can&#39;t gain focus if you have a TextEdit on the activity. Better use the `onBackPressed()` solution as it mentioned before.\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n      if (mDrawerLayout.isOpen())\r\n        mDrawerLayout.close();\r\n      else\r\n        super.onBackPressed();\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>The solution with <code>mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);</code> is not recommend because you can't gain focus if you have a TextEdit on the activity. Better use the <code>onBackPressed()</code> solution as it mentioned before.</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n  if (mDrawerLayout.isOpen())\n    mDrawerLayout.close();\n  else\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198944,"reputation":13061,"user_id":803225,"accept_rate":58,"display_name":"Chris.Jenkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416334953,"creation_date":1416334953,"answer_id":27001279,"question_id":26216088,"body_markdown":"Focus is an issue here, but its not actually children stealing the focus it&#39;s parents above the drawer layout (ActionBar/Toolbar).\r\n\r\nI use a very similar method to this in my `MainActivity.class`:\r\n\r\n        \r\n    @Override\r\n    public void onBackPressed() {\r\n        if (mDrawerLayout.isDrawerVisible(Gravity.START)) {\r\n            mDrawerLayout.closeDrawer(Gravity.START);\r\n            return;\r\n        }\r\n        super.onBackPressed();\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>Focus is an issue here, but its not actually children stealing the focus it's parents above the drawer layout (ActionBar/Toolbar).</p>\n\n<p>I use a very similar method to this in my <code>MainActivity.class</code>:</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    if (mDrawerLayout.isDrawerVisible(Gravity.START)) {\n        mDrawerLayout.closeDrawer(Gravity.START);\n        return;\n    }\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":250818,"reputation":3403,"user_id":527759,"accept_rate":0,"display_name":"Eugene Popovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429682549,"creation_date":1429682549,"answer_id":29788988,"question_id":26216088,"body_markdown":"Try this fix:\r\n\r\n    mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BEFORE_DESCENDANTS);\r\n...\r\n\r\n    mDrawerLayout.setDrawerListener(new DrawerListener() {\r\n    \r\n        @Override\r\n        public void onDrawerStateChanged(int arg0) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onDrawerSlide(View arg0, float arg1) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onDrawerOpened(View view) {\r\n            mDrawerLayout.post(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    // request the focus to correctly process pressed\r\n                    // back key\r\n                    mDrawerLayout.requestFocus();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onDrawerClosed(View arg0) {\r\n        }\r\n    });","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>Try this fix:</p>\n\n<pre><code>mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BEFORE_DESCENDANTS);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>mDrawerLayout.setDrawerListener(new DrawerListener() {\n\n    @Override\n    public void onDrawerStateChanged(int arg0) {\n\n    }\n\n    @Override\n    public void onDrawerSlide(View arg0, float arg1) {\n\n    }\n\n    @Override\n    public void onDrawerOpened(View view) {\n        mDrawerLayout.post(new Runnable() {\n\n            @Override\n            public void run() {\n                // request the focus to correctly process pressed\n                // back key\n                mDrawerLayout.requestFocus();\n            }\n        });\n    }\n\n    @Override\n    public void onDrawerClosed(View arg0) {\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478011405,"creation_date":1478011405,"answer_id":40362414,"question_id":26216088,"body_markdown":"Works without any warnings\r\n \r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>Works without any warnings</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\n        drawerLayout.closeDrawer(GravityCompat.START);\n    } else {\n        super.onBackPressed();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14649584,"reputation":3561,"user_id":10579969,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603539183,"creation_date":1603539183,"answer_id":64512891,"question_id":26216088,"body_markdown":"initialise this\r\n\r\n      navigationView.setNavigationItemSelectedListener(this)\r\n            actionBarToggle = ActionBarDrawerToggle(this, drawerLayout, 0, 0)\r\n            drawerLayout.addDrawerListener(actionBarToggle)\r\n            supportActionBar?.setDisplayHomeAsUpEnabled(true)\r\n            actionBarToggle.syncState()\r\n\r\nthen handle by using this method\r\n\r\n \r\n\r\n    override fun onSupportNavigateUp(): Boolean {\r\n            if (this.drawerLayout.isDrawerOpen(GravityCompat.START)) {\r\n                this.drawerLayout.closeDrawer(GravityCompat.START)\r\n            } else {\r\n                this.drawerLayout.openDrawer(GravityCompat.START)\r\n            }\r\n            return true\r\n        }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>initialise this</p>\n<pre><code>  navigationView.setNavigationItemSelectedListener(this)\n        actionBarToggle = ActionBarDrawerToggle(this, drawerLayout, 0, 0)\n        drawerLayout.addDrawerListener(actionBarToggle)\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n        actionBarToggle.syncState()\n</code></pre>\n<p>then handle by using this method</p>\n<pre><code>override fun onSupportNavigateUp(): Boolean {\n        if (this.drawerLayout.isDrawerOpen(GravityCompat.START)) {\n            this.drawerLayout.closeDrawer(GravityCompat.START)\n        } else {\n            this.drawerLayout.openDrawer(GravityCompat.START)\n        }\n        return true\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27338023,"reputation":21,"user_id":20849141,"display_name":"kunal singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689735370,"creation_date":1689735370,"answer_id":76717681,"question_id":26216088,"body_markdown":"if you want to close the drawer onBackPressed() but the function is not even getting called when the back button is pressed and one more condition you are using latest version android 13 then you should try adding below code in your OnCreate() or whatever you want to use and for more [android 13][1]\r\n\r\n\r\n  [1]: https://youtu.be/Elpqr5xpLxQ?t=626\r\n\r\n\r\n    val callback = onBackPressedDispatcher.addCallback(this, false) {\r\n            drawerLayout.closeDrawer(GravityCompat.START)\r\n        }\r\n\r\n        drawerLayout.addDrawerListener(object : DrawerLayout.DrawerListener {\r\n\r\n            override fun onDrawerOpened(drawerView: View) {\r\n                callback.isEnabled = true\r\n            }\r\n\r\n            override fun onDrawerClosed(drawerView: View) {\r\n                callback.isEnabled = false\r\n            }\r\n\r\n            override fun onDrawerSlide(drawerView: View, slideOffset: Float) = Unit\r\n            override fun onDrawerStateChanged(newState: Int) = Unit\r\n        })\r\n\r\nyou have to import view, drawerListener, callback \r\n\r\nimport androidx.activity.addCallback\r\n","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>if you want to close the drawer onBackPressed() but the function is not even getting called when the back button is pressed and one more condition you are using latest version android 13 then you should try adding below code in your OnCreate() or whatever you want to use and for more <a href=\"https://youtu.be/Elpqr5xpLxQ?t=626\" rel=\"nofollow noreferrer\">android 13</a></p>\n<pre><code>val callback = onBackPressedDispatcher.addCallback(this, false) {\n        drawerLayout.closeDrawer(GravityCompat.START)\n    }\n\n    drawerLayout.addDrawerListener(object : DrawerLayout.DrawerListener {\n\n        override fun onDrawerOpened(drawerView: View) {\n            callback.isEnabled = true\n        }\n\n        override fun onDrawerClosed(drawerView: View) {\n            callback.isEnabled = false\n        }\n\n        override fun onDrawerSlide(drawerView: View, slideOffset: Float) = Unit\n        override fun onDrawerStateChanged(newState: Int) = Unit\n    })\n</code></pre>\n<p>you have to import view, drawerListener, callback</p>\n<p>import androidx.activity.addCallback</p>\n"}],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10546,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":26402719,"answer_count":10,"score":15,"last_activity_date":1689735370,"creation_date":1412597906,"question_id":26216088,"body_markdown":"I&#39;m following the [Creating a Navigation Drawer tutorial (Android Training)][1].\r\n\r\nI have downloaded the sample app and it work as intended. I open the drawer, press back and it gets closed.\r\n\r\nThe problem comes when I replace the `lib/android-support-v4.jar` (originally with a size of 523 KB) with the updated version (revision 20) in my `Android-SDK/extras/android/support/v4/android-support-v4.jar` (with size 741 KB). After the replacement if I open the drawer and then press the back button of the device the app gets closed instead of closing the drawer.\r\n\r\nHow can I solve that? Should I keep the old **android-support-v4.jar** version or should I programmatically intercept the back button closing the drawer when needed?\r\n\r\n**UPDATE:** I&#39;ve continue testing the problem, to do so I built the project in AndroidStudio. After copy the sample app (src, res and update the manifest) ran it: The back button closes the app even if the DrawerLayout is open.\r\nThen I modified the build.gradle file changing the line:\r\n\r\n    compile &#39;com.android.support:appcompat-v7:20.0.0&#39;\r\n\r\nwith\r\n\r\n    compile &#39;com.android.support:appcompat-v7:19.0.0&#39;\r\n\r\nAnd the problem disapeared: The back button first closes the drawer and then closes the app\r\n\r\n\r\n\r\nFull code for the activity [(Link to the Android Training Source Code)][2]:\r\n\r\n\tpublic class MainActivity extends Activity {\r\n\t    private DrawerLayout mDrawerLayout;\r\n\t    private ListView mDrawerList;\r\n\t    private ActionBarDrawerToggle mDrawerToggle;\r\n\t\r\n\t    private CharSequence mDrawerTitle;\r\n\t    private CharSequence mTitle;\r\n\t    private String[] mPlanetTitles;\r\n\t\r\n\t    @Override\r\n\t    protected void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.activity_main);\r\n\t\r\n\t        mTitle = mDrawerTitle = getTitle();\r\n\t        mPlanetTitles = getResources().getStringArray(R.array.planets_array);\r\n\t        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n\t        mDrawerList = (ListView) findViewById(R.id.left_drawer);\r\n\t\r\n\t        // set a custom shadow that overlays the main content when the drawer opens\r\n\t        mDrawerLayout.setDrawerShadow(R.drawable.drawer_shadow, GravityCompat.START);\r\n\t        // set up the drawer&#39;s list view with items and click listener\r\n\t        mDrawerList.setAdapter(new ArrayAdapter&lt;String&gt;(this,\r\n\t                R.layout.drawer_list_item, mPlanetTitles));\r\n\t        mDrawerList.setOnItemClickListener(new DrawerItemClickListener());\r\n\t\r\n\t        // enable ActionBar app icon to behave as action to toggle nav drawer\r\n\t        getActionBar().setDisplayHomeAsUpEnabled(true);\r\n\t        getActionBar().setHomeButtonEnabled(true);\r\n\t\r\n\t        // ActionBarDrawerToggle ties together the the proper interactions\r\n\t        // between the sliding drawer and the action bar app icon\r\n\t        mDrawerToggle = new ActionBarDrawerToggle(\r\n\t                this,                  /* host Activity */\r\n\t                mDrawerLayout,         /* DrawerLayout object */\r\n\t                R.drawable.ic_drawer,  /* nav drawer image to replace &#39;Up&#39; caret */\r\n\t                R.string.drawer_open,  /* &quot;open drawer&quot; description for accessibility */\r\n\t                R.string.drawer_close  /* &quot;close drawer&quot; description for accessibility */\r\n\t                ) {\r\n\t            public void onDrawerClosed(View view) {\r\n\t                getActionBar().setTitle(mTitle);\r\n\t                //supportInvalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()\r\n\t            }\r\n\t\r\n\t            public void onDrawerOpened(View drawerView) {\r\n\t            \tgetActionBar().setTitle(mDrawerTitle);\r\n\t                //supportInvalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()\r\n\t            }\r\n\t        };\r\n\t        mDrawerLayout.setDrawerListener(mDrawerToggle);\r\n\t\r\n\t        if (savedInstanceState == null) {\r\n\t            selectItem(0);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public boolean onCreateOptionsMenu(Menu menu) {\r\n\t        MenuInflater inflater = getMenuInflater();\r\n\t        inflater.inflate(R.menu.main, menu);\r\n\t        return super.onCreateOptionsMenu(menu);\r\n\t    }\r\n\t\r\n\t    /* Called whenever we call invalidateOptionsMenu() */\r\n\t    @Override\r\n\t    public boolean onPrepareOptionsMenu(Menu menu) {\r\n\t        // If the nav drawer is open, hide action items related to the content view\r\n\t        boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);\r\n\t        menu.findItem(R.id.action_websearch).setVisible(!drawerOpen);\r\n\t        return super.onPrepareOptionsMenu(menu);\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public boolean onOptionsItemSelected(MenuItem item) {\r\n\t         // The action bar home/up action should open or close the drawer.\r\n\t         // ActionBarDrawerToggle will take care of this.\r\n\t        if (mDrawerToggle.onOptionsItemSelected(item)) {\r\n\t            return true;\r\n\t        }\r\n\t        // Handle action buttons\r\n\t        switch(item.getItemId()) {\r\n\t        case R.id.action_websearch:\r\n\t            // create intent to perform web search for this planet\r\n\t            Intent intent = new Intent(Intent.ACTION_WEB_SEARCH);\r\n\t            intent.putExtra(SearchManager.QUERY, getActionBar().getTitle());\r\n\t            // catch event that there&#39;s no activity to handle intent\r\n\t            if (intent.resolveActivity(getPackageManager()) != null) {\r\n\t                startActivity(intent);\r\n\t            } else {\r\n\t                Toast.makeText(this, R.string.app_not_available, Toast.LENGTH_LONG).show();\r\n\t            }\r\n\t            return true;\r\n\t        default:\r\n\t            return super.onOptionsItemSelected(item);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    /* The click listner for ListView in the navigation drawer */\r\n\t    private class DrawerItemClickListener implements ListView.OnItemClickListener {\r\n\t        @Override\r\n\t        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\t            selectItem(position);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    private void selectItem(int position) {\r\n\t        // update the main content by replacing fragments\r\n\t        Fragment fragment = new PlanetFragment();\r\n\t        Bundle args = new Bundle();\r\n\t        args.putInt(PlanetFragment.ARG_PLANET_NUMBER, position);\r\n\t        fragment.setArguments(args);\r\n\t\r\n\t        FragmentManager fragmentManager = getFragmentManager();\r\n\t        fragmentManager.beginTransaction().replace(R.id.content_frame, fragment).commit();\r\n\t\r\n\t        // update selected item and title, then close the drawer\r\n\t        mDrawerList.setItemChecked(position, true);\r\n\t        setTitle(mPlanetTitles[position]);\r\n\t        mDrawerLayout.closeDrawer(mDrawerList);\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void setTitle(CharSequence title) {\r\n\t        mTitle = title;\r\n\t        getActionBar().setTitle(mTitle);\r\n\t    }\r\n\t\r\n\t    /**\r\n\t     * When using the ActionBarDrawerToggle, you must call it during\r\n\t     * onPostCreate() and onConfigurationChanged()...\r\n\t     */\r\n\t\r\n\t    @Override\r\n\t    protected void onPostCreate(Bundle savedInstanceState) {\r\n\t        super.onPostCreate(savedInstanceState);\r\n\t        // Sync the toggle state after onRestoreInstanceState has occurred.\r\n\t        mDrawerToggle.syncState();\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void onConfigurationChanged(Configuration newConfig) {\r\n\t        super.onConfigurationChanged(newConfig);\r\n\t        // Pass any configuration change to the drawer toggls\r\n\t        mDrawerToggle.onConfigurationChanged(newConfig);\r\n\t    }\r\n\t\r\n\t    /**\r\n\t     * Fragment that appears in the &quot;content_frame&quot;, shows a planet\r\n\t     */\r\n\t    public static class PlanetFragment extends Fragment {\r\n\t        public static final String ARG_PLANET_NUMBER = &quot;planet_number&quot;;\r\n\t\r\n\t        public PlanetFragment() {\r\n\t            // Empty constructor required for fragment subclasses\r\n\t        }\r\n\t\r\n\t        @Override\r\n\t        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n\t                Bundle savedInstanceState) {\r\n\t            View rootView = inflater.inflate(R.layout.fragment_planet, container, false);\r\n\t            int i = getArguments().getInt(ARG_PLANET_NUMBER);\r\n\t            String planet = getResources().getStringArray(R.array.planets_array)[i];\r\n\t\r\n\t            int imageId = getResources().getIdentifier(planet.toLowerCase(Locale.getDefault()),\r\n\t                            &quot;drawable&quot;, getActivity().getPackageName());\r\n\t            ((ImageView) rootView.findViewById(R.id.image)).setImageResource(imageId);\r\n\t            getActivity().setTitle(planet);\r\n\t            return rootView;\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\r\n  [1]: http://developer.android.com/training/implementing-navigation/nav-drawer.html\r\n  [2]: http://developer.android.com/shareables/training/NavigationDrawer.zip","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>I'm following the <a href=\"http://developer.android.com/training/implementing-navigation/nav-drawer.html\">Creating a Navigation Drawer tutorial (Android Training)</a>.</p>\n\n<p>I have downloaded the sample app and it work as intended. I open the drawer, press back and it gets closed.</p>\n\n<p>The problem comes when I replace the <code>lib/android-support-v4.jar</code> (originally with a size of 523 KB) with the updated version (revision 20) in my <code>Android-SDK/extras/android/support/v4/android-support-v4.jar</code> (with size 741 KB). After the replacement if I open the drawer and then press the back button of the device the app gets closed instead of closing the drawer.</p>\n\n<p>How can I solve that? Should I keep the old <strong>android-support-v4.jar</strong> version or should I programmatically intercept the back button closing the drawer when needed?</p>\n\n<p><strong>UPDATE:</strong> I've continue testing the problem, to do so I built the project in AndroidStudio. After copy the sample app (src, res and update the manifest) ran it: The back button closes the app even if the DrawerLayout is open.\nThen I modified the build.gradle file changing the line:</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:20.0.0'\n</code></pre>\n\n<p>with</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:19.0.0'\n</code></pre>\n\n<p>And the problem disapeared: The back button first closes the drawer and then closes the app</p>\n\n<p>Full code for the activity <a href=\"http://developer.android.com/shareables/training/NavigationDrawer.zip\">(Link to the Android Training Source Code)</a>:</p>\n\n<pre><code>public class MainActivity extends Activity {\n    private DrawerLayout mDrawerLayout;\n    private ListView mDrawerList;\n    private ActionBarDrawerToggle mDrawerToggle;\n\n    private CharSequence mDrawerTitle;\n    private CharSequence mTitle;\n    private String[] mPlanetTitles;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTitle = mDrawerTitle = getTitle();\n        mPlanetTitles = getResources().getStringArray(R.array.planets_array);\n        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);\n        mDrawerList = (ListView) findViewById(R.id.left_drawer);\n\n        // set a custom shadow that overlays the main content when the drawer opens\n        mDrawerLayout.setDrawerShadow(R.drawable.drawer_shadow, GravityCompat.START);\n        // set up the drawer's list view with items and click listener\n        mDrawerList.setAdapter(new ArrayAdapter&lt;String&gt;(this,\n                R.layout.drawer_list_item, mPlanetTitles));\n        mDrawerList.setOnItemClickListener(new DrawerItemClickListener());\n\n        // enable ActionBar app icon to behave as action to toggle nav drawer\n        getActionBar().setDisplayHomeAsUpEnabled(true);\n        getActionBar().setHomeButtonEnabled(true);\n\n        // ActionBarDrawerToggle ties together the the proper interactions\n        // between the sliding drawer and the action bar app icon\n        mDrawerToggle = new ActionBarDrawerToggle(\n                this,                  /* host Activity */\n                mDrawerLayout,         /* DrawerLayout object */\n                R.drawable.ic_drawer,  /* nav drawer image to replace 'Up' caret */\n                R.string.drawer_open,  /* \"open drawer\" description for accessibility */\n                R.string.drawer_close  /* \"close drawer\" description for accessibility */\n                ) {\n            public void onDrawerClosed(View view) {\n                getActionBar().setTitle(mTitle);\n                //supportInvalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()\n            }\n\n            public void onDrawerOpened(View drawerView) {\n                getActionBar().setTitle(mDrawerTitle);\n                //supportInvalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()\n            }\n        };\n        mDrawerLayout.setDrawerListener(mDrawerToggle);\n\n        if (savedInstanceState == null) {\n            selectItem(0);\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.main, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    /* Called whenever we call invalidateOptionsMenu() */\n    @Override\n    public boolean onPrepareOptionsMenu(Menu menu) {\n        // If the nav drawer is open, hide action items related to the content view\n        boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);\n        menu.findItem(R.id.action_websearch).setVisible(!drawerOpen);\n        return super.onPrepareOptionsMenu(menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n         // The action bar home/up action should open or close the drawer.\n         // ActionBarDrawerToggle will take care of this.\n        if (mDrawerToggle.onOptionsItemSelected(item)) {\n            return true;\n        }\n        // Handle action buttons\n        switch(item.getItemId()) {\n        case R.id.action_websearch:\n            // create intent to perform web search for this planet\n            Intent intent = new Intent(Intent.ACTION_WEB_SEARCH);\n            intent.putExtra(SearchManager.QUERY, getActionBar().getTitle());\n            // catch event that there's no activity to handle intent\n            if (intent.resolveActivity(getPackageManager()) != null) {\n                startActivity(intent);\n            } else {\n                Toast.makeText(this, R.string.app_not_available, Toast.LENGTH_LONG).show();\n            }\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n        }\n    }\n\n    /* The click listner for ListView in the navigation drawer */\n    private class DrawerItemClickListener implements ListView.OnItemClickListener {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            selectItem(position);\n        }\n    }\n\n    private void selectItem(int position) {\n        // update the main content by replacing fragments\n        Fragment fragment = new PlanetFragment();\n        Bundle args = new Bundle();\n        args.putInt(PlanetFragment.ARG_PLANET_NUMBER, position);\n        fragment.setArguments(args);\n\n        FragmentManager fragmentManager = getFragmentManager();\n        fragmentManager.beginTransaction().replace(R.id.content_frame, fragment).commit();\n\n        // update selected item and title, then close the drawer\n        mDrawerList.setItemChecked(position, true);\n        setTitle(mPlanetTitles[position]);\n        mDrawerLayout.closeDrawer(mDrawerList);\n    }\n\n    @Override\n    public void setTitle(CharSequence title) {\n        mTitle = title;\n        getActionBar().setTitle(mTitle);\n    }\n\n    /**\n     * When using the ActionBarDrawerToggle, you must call it during\n     * onPostCreate() and onConfigurationChanged()...\n     */\n\n    @Override\n    protected void onPostCreate(Bundle savedInstanceState) {\n        super.onPostCreate(savedInstanceState);\n        // Sync the toggle state after onRestoreInstanceState has occurred.\n        mDrawerToggle.syncState();\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n        // Pass any configuration change to the drawer toggls\n        mDrawerToggle.onConfigurationChanged(newConfig);\n    }\n\n    /**\n     * Fragment that appears in the \"content_frame\", shows a planet\n     */\n    public static class PlanetFragment extends Fragment {\n        public static final String ARG_PLANET_NUMBER = \"planet_number\";\n\n        public PlanetFragment() {\n            // Empty constructor required for fragment subclasses\n        }\n\n        @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                Bundle savedInstanceState) {\n            View rootView = inflater.inflate(R.layout.fragment_planet, container, false);\n            int i = getArguments().getInt(ARG_PLANET_NUMBER);\n            String planet = getResources().getStringArray(R.array.planets_array)[i];\n\n            int imageId = getResources().getIdentifier(planet.toLowerCase(Locale.getDefault()),\n                            \"drawable\", getActivity().getPackageName());\n            ((ImageView) rootView.findViewById(R.id.image)).setImageResource(imageId);\n            getActivity().setTitle(planet);\n            return rootView;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","java-time"],"comments":[{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":0,"creation_date":1689758143,"post_id":76717522,"comment_id":135257233,"body_markdown":"Hello, perhaps you have different date and time patterns in the database settings and in the application, which is why an error occurs?","body":"Hello, perhaps you have different date and time patterns in the database settings and in the application, which is why an error occurs?"},{"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"score":0,"creation_date":1689809394,"post_id":76717522,"comment_id":135267728,"body_markdown":"The error is not in SQL, from the error I can see the exception is thrown by spring data, not something like jdbc driver.","body":"The error is not in SQL, from the error I can see the exception is thrown by spring data, not something like jdbc driver."},{"owner":{"account_id":10704277,"reputation":1272,"user_id":7878602,"display_name":"ImtiazeA"},"score":0,"creation_date":1693650523,"post_id":76717522,"comment_id":135790782,"body_markdown":"Hi @MirzaPrangon, did you find the workaround ?","body":"Hi @MirzaPrangon, did you find the workaround ?"},{"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"score":0,"creation_date":1693794494,"post_id":76717522,"comment_id":135802967,"body_markdown":"I [opened an issue in spring data](https://github.com/spring-projects/spring-data-jpa/issues/3074). Apparently, spring data does not support `OffsetDateTime` for auditing out of the box. For that reason, we moved to using hibernate auditing annotation, `@CreationTimestamp` and `@UpdateTimestamp`.","body":"I <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/3074\" rel=\"nofollow noreferrer\">opened an issue in spring data</a>. Apparently, spring data does not support <code>OffsetDateTime</code> for auditing out of the box. For that reason, we moved to using hibernate auditing annotation, <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code>."}],"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689735239,"creation_date":1689732301,"question_id":76717522,"body_markdown":"I am trying to add Spring Data JPA auditing in my application, specifically using `@CreatedDate` and `@LastModifiedDate` annotations. This is a Spring Boot 3 application. Using postgresql testcontainers for testing. The entity classes are created automatically using Openapi generator. OpenAPI generator creates the attribute of date-time with the type of java.time.OffsetDateTime. I have setup my entity classes with `@CreatedDate` and `@@LastModifiedDate` annotations, but I get error in my test. The test code is as follow:\r\n\r\n```\r\n@Test\r\npublic void shouldNotUpdateANewGatewayPcWithAllNull() throws Exception {\r\n    // Arrange\r\n    GatewayPcDetail updateGatewayPc = new GatewayPcDetail(\r\n                    null, null, null);\r\n\r\n    // Can manually create JWT\r\n    Jwt jwtManual = Jwt.withTokenValue(&quot;token&quot;)\r\n                    .header(&quot;alg&quot;, &quot;none&quot;)\r\n                    .claim(&quot;sub&quot;, &quot;test1&quot;)\r\n                    .claim(&quot;scope&quot;, &quot;read:gatewaypcs&quot;)\r\n                    .claim(&quot;scope&quot;, Arrays.asList(&quot;read:gatewaypcs&quot;, &quot;write:gatewaypcs&quot;))\r\n                    .build();\r\n\r\n    // Act and Assert\r\n    MvcResult updateResult = mockMvc.perform(put(&quot;/api/v4/gatewaypcs/101&quot;)\r\n                    .with(jwt().jwt(jwtManual))\r\n                    .with(csrf())\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(objectMapper.writeValueAsString(updateGatewayPc)))\r\n                    .andExpect(status().isBadRequest())\r\n                    .andReturn();\r\n\r\n    DocumentContext documentContext = JsonPath.parse(updateResult.getResponse().getContentAsString());\r\n    JSONArray read = documentContext.read(&quot;$[*]&quot;);\r\n    assertThat(read.size()).isEqualTo(2);\r\n\r\n    JSONArray names = documentContext.read(&quot;$..field&quot;);\r\n    assertThat(names).containsExactlyInAnyOrder(&quot;name&quot;, &quot;timezoneId&quot;);\r\n}\r\n```\r\n\r\nThe error I get is as follow:\r\n```\r\nTest shouldCreateANewGatewayPCWithNullLocationName() FAILED (1.2s)\r\n\r\n  jakarta.servlet.ServletException: Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\r\n      id: null\r\n      name: gatewayPcName\r\n      locationName: null\r\n      timezoneId: 0\r\n      createdAt: null\r\n      updatedAt: null\r\n  }; Supported types are [java.util.Date, java.lang.Long, long]\r\n      at app//com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\r\n  Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\r\n      id: null\r\n      name: gatewayPcName\r\n      locationName: null\r\n      timezoneId: 0\r\n      createdAt: null\r\n      updatedAt: null\r\n  }; Supported types are [java.util.Date, java.lang.Long, long]\r\n      at app//com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\r\n  Caused by: java.lang.IllegalArgumentException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\r\n      id: null\r\n      name: gatewayPcName\r\n      locationName: null\r\n      timezoneId: 0\r\n      createdAt: null\r\n      updatedAt: null\r\n  }; Supported types are [java.util.Date, java.lang.Long, long]\r\n      at com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\r\n```\r\n\r\nFrom error, I assure that `@CreatedDate` and `@@LastModifiedDate` does not support types other than [java.util.Date, java.lang.Long, long]. In Spring Data JPA document, it says that it support [JDK8 date and time types](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#auditing.annotations:~:text=can%20be%20used%20on%20properties%20of%20type%20JDK8%20date%20and%20time%20types).\r\n\r\n**Now my question is: How do I use Spring Data JPA `@CreatedDate` and `@@LastModifiedDate` with `java.time.OffsetDateTime`?**\r\n\r\n\r\n\r\n\r\nFor reference:\r\n*Controller*:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v4/gatewaypcs&quot;)\r\npublic class GatewayPcController {\r\n    private GatewayPcRepository gatewayPcRepository;\r\n\r\n    // Constructor injection to inject the GatewayPcRepository.\r\n    public GatewayPcController(GatewayPcRepository gatewayPcRepository) {\r\n        this.gatewayPcRepository = gatewayPcRepository;\r\n    }\r\n    @PostMapping\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;SCOPE_write:gatewaypcs&#39;)&quot;)\r\n    public ResponseEntity&lt;Void&gt; postGatewayPc(@RequestBody GatewayPc newGatewayPcRequest, UriComponentsBuilder ubc) {\r\n        GatewayPc newGatewayPc = new GatewayPc();\r\n        newGatewayPc.name(newGatewayPcRequest.getName())\r\n                .locationName(newGatewayPcRequest.getLocationName())\r\n                .timezoneId(newGatewayPcRequest.getTimezoneId());\r\n\r\n        GatewayPc savedGatewayPc = gatewayPcRepository.save(newGatewayPc);\r\n        // Build resource URI for the identifier of the new GatewayPC.\r\n        URI locationOfNewGatewayPc = ubc\r\n                .path(&quot;/api/v4/gatewaypcs/{id}&quot;)\r\n                .buildAndExpand(savedGatewayPc.getId())\r\n                .toUri();\r\n\r\n        return ResponseEntity.created(locationOfNewGatewayPc).build();\r\n    }\r\n}\r\n```\r\n\r\n*Generated entity class*:\r\n```\r\n@lombok.AllArgsConstructor\r\n@lombok.NoArgsConstructor\r\n\r\n@Schema(name = &quot;GatewayPc&quot;, description = &quot;Information about an gatewayPC. G/W PC情報&quot;)\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-19T01:48:20.223480244Z[Etc/UTC]&quot;)\r\n@jakarta.persistence.Entity\r\n@jakarta.persistence.Table(name = &quot;master_gatewaypc&quot;)\r\n@jakarta.persistence.EntityListeners(org.springframework.data.jpa.domain.support.AuditingEntityListener.class)\r\npublic class GatewayPc {\r\n\r\n  @JsonProperty(&quot;id&quot;)\r\n  @jakarta.persistence.Id\r\n@jakarta.persistence.GeneratedValue(strategy=jakarta.persistence.GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @JsonProperty(&quot;name&quot;)\r\n  private String name;\r\n\r\n  @JsonProperty(&quot;locationName&quot;)\r\n  private String locationName;\r\n\r\n  @JsonProperty(&quot;timezoneId&quot;)\r\n  private Integer timezoneId;\r\n\r\n  @JsonProperty(&quot;createdAt&quot;)\r\n  @jakarta.persistence.Column(updatable = false, nullable = false)\r\n@org.springframework.data.annotation.CreatedDate\r\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n  private OffsetDateTime createdAt;\r\n\r\n  @JsonProperty(&quot;updatedAt&quot;)\r\n  @jakarta.persistence.Column(nullable = false)\r\n@org.springframework.data.annotation.LastModifiedDate\r\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n  private OffsetDateTime updatedAt;\r\n...(redacted)\r\n```\r\n\r\n*Entity repository*:\r\n```\r\npublic interface GatewayPcRepository extends JpaRepository&lt;GatewayPc, Long&gt;,\r\n                                             QuerydslPredicateExecutor&lt;GatewayPc&gt;,\r\n                                             QuerydslBinderCustomizer&lt;QGatewayPc&gt; { \r\n\r\n  @Override\r\n  default void customize(QuerydslBindings bindings, QGatewayPc gatewayPc) {\r\n    bindings.bind(String.class)\r\n      .first((StringPath path, String value) -&gt; path.containsIgnoreCase(value));\r\n  }\r\n}\r\n```","title":"Spring Data JPA 3 auditing @CreatedDate of java.time.OffsetDateTime does not get populated","body":"<p>I am trying to add Spring Data JPA auditing in my application, specifically using <code>@CreatedDate</code> and <code>@LastModifiedDate</code> annotations. This is a Spring Boot 3 application. Using postgresql testcontainers for testing. The entity classes are created automatically using Openapi generator. OpenAPI generator creates the attribute of date-time with the type of java.time.OffsetDateTime. I have setup my entity classes with <code>@CreatedDate</code> and <code>@@LastModifiedDate</code> annotations, but I get error in my test. The test code is as follow:</p>\n<pre><code>@Test\npublic void shouldNotUpdateANewGatewayPcWithAllNull() throws Exception {\n    // Arrange\n    GatewayPcDetail updateGatewayPc = new GatewayPcDetail(\n                    null, null, null);\n\n    // Can manually create JWT\n    Jwt jwtManual = Jwt.withTokenValue(&quot;token&quot;)\n                    .header(&quot;alg&quot;, &quot;none&quot;)\n                    .claim(&quot;sub&quot;, &quot;test1&quot;)\n                    .claim(&quot;scope&quot;, &quot;read:gatewaypcs&quot;)\n                    .claim(&quot;scope&quot;, Arrays.asList(&quot;read:gatewaypcs&quot;, &quot;write:gatewaypcs&quot;))\n                    .build();\n\n    // Act and Assert\n    MvcResult updateResult = mockMvc.perform(put(&quot;/api/v4/gatewaypcs/101&quot;)\n                    .with(jwt().jwt(jwtManual))\n                    .with(csrf())\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(updateGatewayPc)))\n                    .andExpect(status().isBadRequest())\n                    .andReturn();\n\n    DocumentContext documentContext = JsonPath.parse(updateResult.getResponse().getContentAsString());\n    JSONArray read = documentContext.read(&quot;$[*]&quot;);\n    assertThat(read.size()).isEqualTo(2);\n\n    JSONArray names = documentContext.read(&quot;$..field&quot;);\n    assertThat(names).containsExactlyInAnyOrder(&quot;name&quot;, &quot;timezoneId&quot;);\n}\n</code></pre>\n<p>The error I get is as follow:</p>\n<pre><code>Test shouldCreateANewGatewayPCWithNullLocationName() FAILED (1.2s)\n\n  jakarta.servlet.ServletException: Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\n      id: null\n      name: gatewayPcName\n      locationName: null\n      timezoneId: 0\n      createdAt: null\n      updatedAt: null\n  }; Supported types are [java.util.Date, java.lang.Long, long]\n      at app//com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\n  Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\n      id: null\n      name: gatewayPcName\n      locationName: null\n      timezoneId: 0\n      createdAt: null\n      updatedAt: null\n  }; Supported types are [java.util.Date, java.lang.Long, long]\n      at app//com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\n  Caused by: java.lang.IllegalArgumentException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\n      id: null\n      name: gatewayPcName\n      locationName: null\n      timezoneId: 0\n      createdAt: null\n      updatedAt: null\n  }; Supported types are [java.util.Date, java.lang.Long, long]\n      at com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\n</code></pre>\n<p>From error, I assure that <code>@CreatedDate</code> and <code>@@LastModifiedDate</code> does not support types other than [java.util.Date, java.lang.Long, long]. In Spring Data JPA document, it says that it support <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#auditing.annotations:%7E:text=can%20be%20used%20on%20properties%20of%20type%20JDK8%20date%20and%20time%20types\" rel=\"nofollow noreferrer\">JDK8 date and time types</a>.</p>\n<p><strong>Now my question is: How do I use Spring Data JPA <code>@CreatedDate</code> and <code>@@LastModifiedDate</code> with <code>java.time.OffsetDateTime</code>?</strong></p>\n<p>For reference:\n<em>Controller</em>:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v4/gatewaypcs&quot;)\npublic class GatewayPcController {\n    private GatewayPcRepository gatewayPcRepository;\n\n    // Constructor injection to inject the GatewayPcRepository.\n    public GatewayPcController(GatewayPcRepository gatewayPcRepository) {\n        this.gatewayPcRepository = gatewayPcRepository;\n    }\n    @PostMapping\n    @PreAuthorize(&quot;hasAnyAuthority('SCOPE_write:gatewaypcs')&quot;)\n    public ResponseEntity&lt;Void&gt; postGatewayPc(@RequestBody GatewayPc newGatewayPcRequest, UriComponentsBuilder ubc) {\n        GatewayPc newGatewayPc = new GatewayPc();\n        newGatewayPc.name(newGatewayPcRequest.getName())\n                .locationName(newGatewayPcRequest.getLocationName())\n                .timezoneId(newGatewayPcRequest.getTimezoneId());\n\n        GatewayPc savedGatewayPc = gatewayPcRepository.save(newGatewayPc);\n        // Build resource URI for the identifier of the new GatewayPC.\n        URI locationOfNewGatewayPc = ubc\n                .path(&quot;/api/v4/gatewaypcs/{id}&quot;)\n                .buildAndExpand(savedGatewayPc.getId())\n                .toUri();\n\n        return ResponseEntity.created(locationOfNewGatewayPc).build();\n    }\n}\n</code></pre>\n<p><em>Generated entity class</em>:</p>\n<pre><code>@lombok.AllArgsConstructor\n@lombok.NoArgsConstructor\n\n@Schema(name = &quot;GatewayPc&quot;, description = &quot;Information about an gatewayPC. G/W PC情報&quot;)\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-19T01:48:20.223480244Z[Etc/UTC]&quot;)\n@jakarta.persistence.Entity\n@jakarta.persistence.Table(name = &quot;master_gatewaypc&quot;)\n@jakarta.persistence.EntityListeners(org.springframework.data.jpa.domain.support.AuditingEntityListener.class)\npublic class GatewayPc {\n\n  @JsonProperty(&quot;id&quot;)\n  @jakarta.persistence.Id\n@jakarta.persistence.GeneratedValue(strategy=jakarta.persistence.GenerationType.IDENTITY)\n  private Long id;\n\n  @JsonProperty(&quot;name&quot;)\n  private String name;\n\n  @JsonProperty(&quot;locationName&quot;)\n  private String locationName;\n\n  @JsonProperty(&quot;timezoneId&quot;)\n  private Integer timezoneId;\n\n  @JsonProperty(&quot;createdAt&quot;)\n  @jakarta.persistence.Column(updatable = false, nullable = false)\n@org.springframework.data.annotation.CreatedDate\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n  private OffsetDateTime createdAt;\n\n  @JsonProperty(&quot;updatedAt&quot;)\n  @jakarta.persistence.Column(nullable = false)\n@org.springframework.data.annotation.LastModifiedDate\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n  private OffsetDateTime updatedAt;\n...(redacted)\n</code></pre>\n<p><em>Entity repository</em>:</p>\n<pre><code>public interface GatewayPcRepository extends JpaRepository&lt;GatewayPc, Long&gt;,\n                                             QuerydslPredicateExecutor&lt;GatewayPc&gt;,\n                                             QuerydslBinderCustomizer&lt;QGatewayPc&gt; { \n\n  @Override\n  default void customize(QuerydslBindings bindings, QGatewayPc gatewayPc) {\n    bindings.bind(String.class)\n      .first((StringPath path, String value) -&gt; path.containsIgnoreCase(value));\n  }\n}\n</code></pre>\n"},{"tags":["java","ffmpeg","javacv"],"answers":[{"tags":[],"owner":{"account_id":17050079,"reputation":51,"user_id":12335929,"display_name":"zhoutian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689734475,"creation_date":1689734475,"answer_id":76717631,"question_id":76710189,"body_markdown":"ok, I figure out, just add  `recorder.setAudioBitrate(grabber.getAudioBitrate());` , dhav to rtsp is ok","title":"JavaCV error AAC with no global headers is currently not supported","body":"<p>ok, I figure out, just add  <code>recorder.setAudioBitrate(grabber.getAudioBitrate());</code> , dhav to rtsp is ok</p>\n"}],"owner":{"account_id":17050079,"reputation":51,"user_id":12335929,"display_name":"zhoutian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689734475,"creation_date":1689663247,"question_id":76710189,"body_markdown":"I&#39;m trying to transcode dhav (one of the container format) to RTSP By JavaCV(FFmpegFrameGrabber + FFmpegFrameRecorder) , It&#39;s fine when i transcoding dhav to RTMP , but when I change to RTSP ,error occurred:\r\n```java\r\n\r\nError: [rtsp @ 0000002318df7c30] AAC with no global headers is currently not supported.\r\n\r\nException in thread &quot;pool-1-thread-2&quot; java.lang.RuntimeException: org.bytedeco.javacv.FFmpegFrameRecorder$Exception: avformat_write_header error() error -1094995529: Could not write header to &#39;rtsp://127.0.0.1:8554/myapp/orange2&#39; (For more details, make sure FFmpegLogCallback.set() has been called.)\r\n\tat org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP$2.run(GetBytes2PipedStreamAndPushRTMP.java:116)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.bytedeco.javacv.FFmpegFrameRecorder$Exception: avformat_write_header error() error -1094995529: Could not write header to &#39;rtsp://127.0.0.1:8554/myapp/orange2&#39; (For more details, make sure FFmpegLogCallback.set() has been called.)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.startUnsafe(FFmpegFrameRecorder.java:969)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:437)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:432)\r\n\tat org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP.grabAndPush(GetBytes2PipedStreamAndPushRTMP.java:215)\r\n\tat org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP$2.run(GetBytes2PipedStreamAndPushRTMP.java:100)\r\n\t... 3 more\r\n```\r\n\r\nAfter googled , I tried fowllowing :  \r\n\r\n - set `avFormatContext.flags(avformat.AVFMT_GLOBALHEADER); ` no use\r\n\r\n - add &quot;-flags +global_header&quot; or &quot;-rtpflags latm&quot; to command line, but I don&#39;t know how to do this in JavaCV。\r\n - set `recorder.setAudioOption(&quot;flags&quot;, &quot;+global_header&quot;);` no use\r\n - set `        recorder.setAudioOption(&quot;flags&quot;, &quot;global_header&quot;); \r\n        recorder.setVideoOption(&quot;flags&quot;, &quot;global_header&quot;); ` , no use\r\n\r\n\r\ncould someone guide me on this appreciate\r\n\r\n\r\nabout the dhav (a part of ) ,mabay can help:\r\n```\r\nInput #0, dhav, from &#39;.\\videostream&#39;:\r\n  Duration: 00:00:25.00, start: 1689678599.000000, bitrate: 2360 kb/s\r\n  Stream #0:0: Audio: pcm_s16le, 16000 Hz, 1 channels, s16, 256 kb/s\r\n  Stream #0:1: Video: h264 (High), yuvj420p(pc, bt470bg/bt470bg/bt709), 720x1280, 25 fps, 50 tbr, 1k tbn\r\n```\r\n\r\nkey code is :\r\n```java\r\npublic static synchronized void grabAndPush(InputStream inputStream, String pushAddress, String pushPotocol) throws Exception {\r\n        avutil.av_log_set_level(AV_LOG_DEBUG);\r\n        FFmpegLogCallback.set();\r\n\r\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(inputStream,0);\r\n\r\n        long startTime = System.currentTimeMillis();\r\n      \r\n        grabber.start();\r\n\r\n     \r\n\r\n        AVFormatContext avFormatContext = grabber.getFormatContext();\r\n\r\n\r\n        int streamNum = avFormatContext.nb_streams();\r\n\r\n        if (streamNum &lt; 1) {\r\n            log.error(&quot;no media！&quot;);\r\n            return;\r\n        }\r\n\r\n        int frameRate = (int) grabber.getVideoFrameRate();\r\n        if (0 == frameRate) {\r\n            frameRate = 15;\r\n        }\r\n        log.info(&quot;frameRate[{}]，duration[{}]secs，number streams[{}]&quot;,\r\n                frameRate,\r\n                avFormatContext.duration() / 1000000,\r\n                avFormatContext.nb_streams());\r\n\r\n        for (int i = 0; i &lt; streamNum; i++) {\r\n            AVStream avStream = avFormatContext.streams(i);\r\n            AVCodecParameters avCodecParameters = avStream.codecpar();\r\n            log.info(&quot;stream index[{}]，codec type[{}]，codec ID[{}]&quot;, i, avCodecParameters.codec_type(), avCodecParameters.codec_id());\r\n        }\r\n\r\n        int frameWidth = grabber.getImageWidth();\r\n        int frameHeight = grabber.getImageHeight();\r\n        int audioChannels = grabber.getAudioChannels();\r\n\r\n        log.info(&quot;frameWidth[{}]，frameHeight[{}]，audioChannels[{}]&quot;,\r\n                frameWidth,\r\n                frameHeight,\r\n                audioChannels);\r\n\r\n        FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(pushAddress,\r\n                frameWidth,\r\n                frameHeight,\r\n                audioChannels);\r\n\r\n        recorder.setVideoCodec(avcodec.AV_CODEC_ID_H264);\r\n        recorder.setInterleaved(true);\r\n\r\n        switch (pushPotocol) {\r\n            case &quot;rtsp&quot; -&gt; {\r\n                recorder.setFormat(&quot;rtsp&quot;);\r\n            }\r\n            case &quot;rtmp&quot; -&gt; {\r\n                recorder.setFormat(&quot;flv&quot;);\r\n            }\r\n        }\r\n        log.info(&quot;push protocol:{}| grabber format:{} | recorder format:{}&quot;,pushPotocol,grabber.getFormat(),recorder.getFormat());\r\n\r\n        recorder.setFrameRate(frameRate);\r\n        recorder.setAudioCodec(AV_CODEC_ID_AAC);\r\n        log.info(&quot;grabber audio codec name :{}|recorder audio codec name :{}&quot;,grabber.getAudioCodecName(),recorder.getAudioCodecName());\r\n\r\n        recorder.setGopSize(frameRate * 2);\r\n\r\n        recorder.setAudioChannels(grabber.getAudioChannels());\r\n\r\n        startTime = System.currentTimeMillis();\r\n\r\n\r\n        avFormatContext.max_interleave_delta(0);\r\n        avFormatContext.flags(avformat.AVFMT_TS_NONSTRICT);\r\n        recorder.setTimestamp(0);\r\n  \r\n        recorder.start(avFormatContext);\r\n\r\n     \r\n\r\n        Frame frame;\r\n\r\n\r\n        int videoFrameNum = 0;\r\n        int audioFrameNum = 0;\r\n        int dataFrameNum = 0;\r\n    \r\n        AVPacket packet;\r\n        long lastDTS = 0;\r\n        while ((packet = grabber.grabPacket()) != null) {\r\n            if (packet.pts() == AV_NOPTS_VALUE) {\r\n                if (packet.dts() != AV_NOPTS_VALUE) {\r\n                    packet.pts(packet.dts());\r\n                    lastDTS = packet.dts();\r\n                } else {\r\n                    packet.pts(lastDTS + 1);\r\n                    packet.dts(packet.pts());\r\n                    lastDTS = packet.pts();\r\n                }\r\n            } else {\r\n                if (packet.dts() != AV_NOPTS_VALUE) {\r\n                    if (packet.dts() &lt; lastDTS) {\r\n                        packet.dts(lastDTS + 1);\r\n                    }\r\n                    lastDTS = packet.dts();\r\n                } else {\r\n                    packet.dts(packet.pts());\r\n                    lastDTS = packet.dts();\r\n                }\r\n            }\r\n\r\n            if (packet.pts() &lt; packet.dts()) {\r\n                packet.pts(packet.dts());\r\n            }\r\n\r\n\r\n            recorder.recordPacket(packet);\r\n            Thread.sleep(1);\r\n        }\r\n\r\n        log.info(&quot;push complete，videoFrameNum[{}]，audioFrameNum[{}]，dataFrameNum[{}]，耗时[{}]秒&quot;,\r\n                videoFrameNum,\r\n                audioFrameNum,\r\n                dataFrameNum,\r\n                (System.currentTimeMillis() - startTime) / 1000);\r\n\r\n   \r\n        recorder.close();\r\n        grabber.close();\r\n    }\r\n```","title":"JavaCV error AAC with no global headers is currently not supported","body":"<p>I'm trying to transcode dhav (one of the container format) to RTSP By JavaCV(FFmpegFrameGrabber + FFmpegFrameRecorder) , It's fine when i transcoding dhav to RTMP , but when I change to RTSP ,error occurred:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nError: [rtsp @ 0000002318df7c30] AAC with no global headers is currently not supported.\n\nException in thread &quot;pool-1-thread-2&quot; java.lang.RuntimeException: org.bytedeco.javacv.FFmpegFrameRecorder$Exception: avformat_write_header error() error -1094995529: Could not write header to 'rtsp://127.0.0.1:8554/myapp/orange2' (For more details, make sure FFmpegLogCallback.set() has been called.)\n    at org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP$2.run(GetBytes2PipedStreamAndPushRTMP.java:116)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.bytedeco.javacv.FFmpegFrameRecorder$Exception: avformat_write_header error() error -1094995529: Could not write header to 'rtsp://127.0.0.1:8554/myapp/orange2' (For more details, make sure FFmpegLogCallback.set() has been called.)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.startUnsafe(FFmpegFrameRecorder.java:969)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:437)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:432)\n    at org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP.grabAndPush(GetBytes2PipedStreamAndPushRTMP.java:215)\n    at org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP$2.run(GetBytes2PipedStreamAndPushRTMP.java:100)\n    ... 3 more\n</code></pre>\n<p>After googled , I tried fowllowing :</p>\n<ul>\n<li><p>set <code>avFormatContext.flags(avformat.AVFMT_GLOBALHEADER); </code> no use</p>\n</li>\n<li><p>add &quot;-flags +global_header&quot; or &quot;-rtpflags latm&quot; to command line, but I don't know how to do this in JavaCV。</p>\n</li>\n<li><p>set <code>recorder.setAudioOption(&quot;flags&quot;, &quot;+global_header&quot;);</code> no use</p>\n</li>\n<li><p>set <code>       recorder.setAudioOption(&quot;flags&quot;, &quot;global_header&quot;);  recorder.setVideoOption(&quot;flags&quot;, &quot;global_header&quot;);</code> , no use</p>\n</li>\n</ul>\n<p>could someone guide me on this appreciate</p>\n<p>about the dhav (a part of ) ,mabay can help:</p>\n<pre><code>Input #0, dhav, from '.\\videostream':\n  Duration: 00:00:25.00, start: 1689678599.000000, bitrate: 2360 kb/s\n  Stream #0:0: Audio: pcm_s16le, 16000 Hz, 1 channels, s16, 256 kb/s\n  Stream #0:1: Video: h264 (High), yuvj420p(pc, bt470bg/bt470bg/bt709), 720x1280, 25 fps, 50 tbr, 1k tbn\n</code></pre>\n<p>key code is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static synchronized void grabAndPush(InputStream inputStream, String pushAddress, String pushPotocol) throws Exception {\n        avutil.av_log_set_level(AV_LOG_DEBUG);\n        FFmpegLogCallback.set();\n\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(inputStream,0);\n\n        long startTime = System.currentTimeMillis();\n      \n        grabber.start();\n\n     \n\n        AVFormatContext avFormatContext = grabber.getFormatContext();\n\n\n        int streamNum = avFormatContext.nb_streams();\n\n        if (streamNum &lt; 1) {\n            log.error(&quot;no media！&quot;);\n            return;\n        }\n\n        int frameRate = (int) grabber.getVideoFrameRate();\n        if (0 == frameRate) {\n            frameRate = 15;\n        }\n        log.info(&quot;frameRate[{}]，duration[{}]secs，number streams[{}]&quot;,\n                frameRate,\n                avFormatContext.duration() / 1000000,\n                avFormatContext.nb_streams());\n\n        for (int i = 0; i &lt; streamNum; i++) {\n            AVStream avStream = avFormatContext.streams(i);\n            AVCodecParameters avCodecParameters = avStream.codecpar();\n            log.info(&quot;stream index[{}]，codec type[{}]，codec ID[{}]&quot;, i, avCodecParameters.codec_type(), avCodecParameters.codec_id());\n        }\n\n        int frameWidth = grabber.getImageWidth();\n        int frameHeight = grabber.getImageHeight();\n        int audioChannels = grabber.getAudioChannels();\n\n        log.info(&quot;frameWidth[{}]，frameHeight[{}]，audioChannels[{}]&quot;,\n                frameWidth,\n                frameHeight,\n                audioChannels);\n\n        FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(pushAddress,\n                frameWidth,\n                frameHeight,\n                audioChannels);\n\n        recorder.setVideoCodec(avcodec.AV_CODEC_ID_H264);\n        recorder.setInterleaved(true);\n\n        switch (pushPotocol) {\n            case &quot;rtsp&quot; -&gt; {\n                recorder.setFormat(&quot;rtsp&quot;);\n            }\n            case &quot;rtmp&quot; -&gt; {\n                recorder.setFormat(&quot;flv&quot;);\n            }\n        }\n        log.info(&quot;push protocol:{}| grabber format:{} | recorder format:{}&quot;,pushPotocol,grabber.getFormat(),recorder.getFormat());\n\n        recorder.setFrameRate(frameRate);\n        recorder.setAudioCodec(AV_CODEC_ID_AAC);\n        log.info(&quot;grabber audio codec name :{}|recorder audio codec name :{}&quot;,grabber.getAudioCodecName(),recorder.getAudioCodecName());\n\n        recorder.setGopSize(frameRate * 2);\n\n        recorder.setAudioChannels(grabber.getAudioChannels());\n\n        startTime = System.currentTimeMillis();\n\n\n        avFormatContext.max_interleave_delta(0);\n        avFormatContext.flags(avformat.AVFMT_TS_NONSTRICT);\n        recorder.setTimestamp(0);\n  \n        recorder.start(avFormatContext);\n\n     \n\n        Frame frame;\n\n\n        int videoFrameNum = 0;\n        int audioFrameNum = 0;\n        int dataFrameNum = 0;\n    \n        AVPacket packet;\n        long lastDTS = 0;\n        while ((packet = grabber.grabPacket()) != null) {\n            if (packet.pts() == AV_NOPTS_VALUE) {\n                if (packet.dts() != AV_NOPTS_VALUE) {\n                    packet.pts(packet.dts());\n                    lastDTS = packet.dts();\n                } else {\n                    packet.pts(lastDTS + 1);\n                    packet.dts(packet.pts());\n                    lastDTS = packet.pts();\n                }\n            } else {\n                if (packet.dts() != AV_NOPTS_VALUE) {\n                    if (packet.dts() &lt; lastDTS) {\n                        packet.dts(lastDTS + 1);\n                    }\n                    lastDTS = packet.dts();\n                } else {\n                    packet.dts(packet.pts());\n                    lastDTS = packet.dts();\n                }\n            }\n\n            if (packet.pts() &lt; packet.dts()) {\n                packet.pts(packet.dts());\n            }\n\n\n            recorder.recordPacket(packet);\n            Thread.sleep(1);\n        }\n\n        log.info(&quot;push complete，videoFrameNum[{}]，audioFrameNum[{}]，dataFrameNum[{}]，耗时[{}]秒&quot;,\n                videoFrameNum,\n                audioFrameNum,\n                dataFrameNum,\n                (System.currentTimeMillis() - startTime) / 1000);\n\n   \n        recorder.close();\n        grabber.close();\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","android-camerax"],"comments":[{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":1,"creation_date":1603176349,"post_id":64439247,"comment_id":113945450,"body_markdown":"I suggest to convert the image to bitmap then user ImageProxy.close to get next frame and capture it then save all bitmaps into ArrayList then you can show them.","body":"I suggest to convert the image to bitmap then user ImageProxy.close to get next frame and capture it then save all bitmaps into ArrayList then you can show them."},{"owner":{"account_id":14221009,"reputation":111,"user_id":10273323,"display_name":"Ayush Naik"},"score":0,"creation_date":1603177250,"post_id":64439247,"comment_id":113945799,"body_markdown":"@mmdrezabaqalpour Then can I send those bitmaps to new Activity using Intent.putExtra();?","body":"@mmdrezabaqalpour Then can I send those bitmaps to new Activity using Intent.putExtra();?"},{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":0,"creation_date":1603177615,"post_id":64439247,"comment_id":113945942,"body_markdown":"Yes as long as  bitmap is a parcelabe object you can send it by intent. intent.putParcelableArrayListExtra()","body":"Yes as long as  bitmap is a parcelabe object you can send it by intent. intent.putParcelableArrayListExtra()"},{"owner":{"account_id":14221009,"reputation":111,"user_id":10273323,"display_name":"Ayush Naik"},"score":0,"creation_date":1603177857,"post_id":64439247,"comment_id":113946049,"body_markdown":"@mmdrezabaqalpour During ImageCaptureCallback I have to set imageCapture to YUV Format to convert image to bitmap. which significantly reduces image quality. Is there any way around..","body":"@mmdrezabaqalpour During ImageCaptureCallback I have to set imageCapture to YUV Format to convert image to bitmap. which significantly reduces image quality. Is there any way around.."},{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":0,"creation_date":1603178102,"post_id":64439247,"comment_id":113946161,"body_markdown":"I have some methods I post as an answer if it works for you.","body":"I have some methods I post as an answer if it works for you."},{"owner":{"account_id":14221009,"reputation":111,"user_id":10273323,"display_name":"Ayush Naik"},"score":0,"creation_date":1603178549,"post_id":64439247,"comment_id":113946377,"body_markdown":"@mmdrezabaqalpour okay","body":"@mmdrezabaqalpour okay"}],"answers":[{"tags":[],"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603178724,"creation_date":1603178724,"answer_id":64440381,"question_id":64439247,"body_markdown":"There are two ways that I did for my project. The code is in kotlin language.\r\nYou can understand it easily.\r\n\r\n    val image = imageProxy.image\r\n    val bitmap = Bitmap.createBitmap(image.width, image.height, \r\n    Bitmap.Config.ARGB_8888)\r\n\r\nIf it didn&#39;t work you can use a YuvtoRgbConvertor I have the full kotlin code if you want or you can write your own. then you can convert the bitmap like this.\r\n\r\n    val convertor = YuvToRgbConvertor\r\n    convertor.yuvToRgb(image , bitmap)\r\n\r\nThat is what I have done for my project.","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>There are two ways that I did for my project. The code is in kotlin language.\nYou can understand it easily.</p>\n<pre><code>val image = imageProxy.image\nval bitmap = Bitmap.createBitmap(image.width, image.height, \nBitmap.Config.ARGB_8888)\n</code></pre>\n<p>If it didn't work you can use a YuvtoRgbConvertor I have the full kotlin code if you want or you can write your own. then you can convert the bitmap like this.</p>\n<pre><code>val convertor = YuvToRgbConvertor\nconvertor.yuvToRgb(image , bitmap)\n</code></pre>\n<p>That is what I have done for my project.</p>\n"},{"tags":[],"owner":{"account_id":14261022,"reputation":241,"user_id":12516287,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603179543,"creation_date":1603179543,"answer_id":64440599,"question_id":64439247,"body_markdown":"What I suggest you is to store in an array list. and then pass an array list to other activities. \r\n\r\nWhat you have to do is create an array list and store uri.tostring in the array list\r\n\r\n    String newurl=uri.toString\r\n    `arraylist.add(newurl)`\r\n\r\nThis way you can add multiple image URLs in ArrayList and display with the help of the Picasso library. No need to fetch images from the database.\r\n","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>What I suggest you is to store in an array list. and then pass an array list to other activities.</p>\n<p>What you have to do is create an array list and store uri.tostring in the array list</p>\n<pre><code>String newurl=uri.toString\n`arraylist.add(newurl)`\n</code></pre>\n<p>This way you can add multiple image URLs in ArrayList and display with the help of the Picasso library. No need to fetch images from the database.</p>\n"},{"tags":[],"owner":{"account_id":17871198,"reputation":390,"user_id":12982457,"display_name":"Hiraeths"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603272901,"creation_date":1603272901,"answer_id":64460720,"question_id":64439247,"body_markdown":"The easiest way that I found was this\r\n\r\n    preview.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Bitmap scaledBitmap = null;\r\n    \r\n                    ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n                    String PATH = Environment.getExternalStorageDirectory() + &quot;/download/&quot;;\r\n                    File file = new  File(PATH + &quot;myImage.jpeg&quot;);\r\n    \r\n                    if (file.exists()) {\r\n                        myImage.setImageDrawable(Drawable.createFromPath(file.toString()));\r\n                    }\r\n                    else {\r\n                        myImage.setImageDrawable(Drawable.createFromPath(null));\r\n                        Toast.makeText(nextPage.this, &quot;Not found&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            });\r\n\r\nYou can change the path according to your code.","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>The easiest way that I found was this</p>\n<pre><code>preview.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Bitmap scaledBitmap = null;\n\n                ContextWrapper cw = new ContextWrapper(getApplicationContext());\n                String PATH = Environment.getExternalStorageDirectory() + &quot;/download/&quot;;\n                File file = new  File(PATH + &quot;myImage.jpeg&quot;);\n\n                if (file.exists()) {\n                    myImage.setImageDrawable(Drawable.createFromPath(file.toString()));\n                }\n                else {\n                    myImage.setImageDrawable(Drawable.createFromPath(null));\n                    Toast.makeText(nextPage.this, &quot;Not found&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n</code></pre>\n<p>You can change the path according to your code.</p>\n"},{"tags":[],"owner":{"account_id":17480172,"reputation":91,"user_id":12674264,"display_name":"Charles Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652708465,"creation_date":1631764591,"answer_id":69202162,"question_id":64439247,"body_markdown":"First you need to close the image after capturing inside the takepicture callback image.close() will close the current image . the create ArrayList&lt;String&gt; globaly and add the imageURL in the arraylist . After theat you can send the arraylist to any activity by intent.\r\n\r\n     imageCapture.takePicture(ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageCapturedCallback() {\r\n        @Override\r\n        public void onCaptureSuccess(@NonNull ImageProxy image) {\r\n            super.onCaptureSuccess(image);\r\n            @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image cimage = image.getImage();\r\n            Image.Plane[] planes = cimage.getPlanes();\r\n            ByteBuffer yBuffer = planes[0].getBuffer();\r\n            ByteBuffer uBuffer = planes[1].getBuffer();\r\n            ByteBuffer vBuffer = planes[2].getBuffer();\r\n\r\n            int ySize = yBuffer.remaining();\r\n            int uSize = uBuffer.remaining();\r\n            int vSize = vBuffer.remaining();\r\n\r\n            byte[] nv21 = new byte[ySize + uSize + vSize];\r\n\r\n            yBuffer.get(nv21,0,ySize);\r\n            vBuffer.get(nv21,ySize,vSize);\r\n            uBuffer.get(nv21,ySize + vSize,uSize);\r\n\r\n            YuvImage yuvImage = new YuvImage(nv21,ImageFormat.NV21,cimage.getWidth(),cimage.getHeight(),null);\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            yuvImage.compressToJpeg(new Rect(0,0,yuvImage.getWidth(),yuvImage.getHeight()),100,out);\r\n            byte[] imageBytes = out.toByteArray();\r\n\r\n            Intent intent = new Intent(MainActivity.this,MainActivity2.class);\r\n            intent.putExtra(&quot;image&quot;,imageBytes);\r\n            MainActivity.this.startActivity(intent);\r\n            image.close();\r\n        }\r\n\r\n        @Override\r\n        public void onError(@NonNull ImageCaptureException exception) {\r\n            super.onError(exception);\r\n        }\r\n    });\r\n\r\nI think this will help you, any doubts just [refer here to my blog post][1] \r\n\r\n\r\n  [1]: https://cjdevelops.blogspot.com/2021/09/inbuilt-camera-applicaiton-camerax.html\r\n\r\nThis is the function for converting the ImageProxy to bitmap\r\n\r\n     // output of the image capture image proxy to bitmap\r\n    public Bitmap imageProxyToBitmap(ImageProxy image) {\r\n        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n        buffer.rewind();\r\n        byte[] bytes = new byte[buffer.capacity()];\r\n        buffer.get(bytes);\r\n        byte[] clonedBytes = bytes.clone();\r\n        return BitmapFactory.decodeByteArray(clonedBytes, 0, clonedBytes.length);\r\n    }\r\n\r\n\r\nAnd save the bitmap to your local storage\r\n\r\n        // used for save the files internal storage , can view in the gallery or internal storage\r\n    public String saveTOInternamMemory(Activity activity, Bitmap bitmapImage){\r\n\r\n        File myPath = getInternalStorageDir(internalStorageDir,imageFormat,Environment.DIRECTORY_PICTURES);\r\n\r\n        Log.d(TAG, &quot;directory: &quot; + myPath.getAbsolutePath());\r\n\r\n        FileOutputStream fos = null;\r\n        try {\r\n            fos = new FileOutputStream(myPath);\r\n            // Use the compress method on the BitMap object to write image to the OutputStream\r\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n            Log.d(TAG, &quot;bit exception: Success&quot; );\r\n        } catch (Exception e) {\r\n            Log.d(TAG, &quot;bit exception: &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                fos.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Log.d(TAG, &quot;io exce: &quot; + e.getMessage());\r\n            }\r\n        }\r\n        Log.d(TAG, &quot;absolute path &quot; + myPath.getAbsolutePath());\r\n        return myPath.getAbsolutePath();\r\n    }","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>First you need to close the image after capturing inside the takepicture callback image.close() will close the current image . the create ArrayList globaly and add the imageURL in the arraylist . After theat you can send the arraylist to any activity by intent.</p>\n<pre><code> imageCapture.takePicture(ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageCapturedCallback() {\n    @Override\n    public void onCaptureSuccess(@NonNull ImageProxy image) {\n        super.onCaptureSuccess(image);\n        @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image cimage = image.getImage();\n        Image.Plane[] planes = cimage.getPlanes();\n        ByteBuffer yBuffer = planes[0].getBuffer();\n        ByteBuffer uBuffer = planes[1].getBuffer();\n        ByteBuffer vBuffer = planes[2].getBuffer();\n\n        int ySize = yBuffer.remaining();\n        int uSize = uBuffer.remaining();\n        int vSize = vBuffer.remaining();\n\n        byte[] nv21 = new byte[ySize + uSize + vSize];\n\n        yBuffer.get(nv21,0,ySize);\n        vBuffer.get(nv21,ySize,vSize);\n        uBuffer.get(nv21,ySize + vSize,uSize);\n\n        YuvImage yuvImage = new YuvImage(nv21,ImageFormat.NV21,cimage.getWidth(),cimage.getHeight(),null);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        yuvImage.compressToJpeg(new Rect(0,0,yuvImage.getWidth(),yuvImage.getHeight()),100,out);\n        byte[] imageBytes = out.toByteArray();\n\n        Intent intent = new Intent(MainActivity.this,MainActivity2.class);\n        intent.putExtra(&quot;image&quot;,imageBytes);\n        MainActivity.this.startActivity(intent);\n        image.close();\n    }\n\n    @Override\n    public void onError(@NonNull ImageCaptureException exception) {\n        super.onError(exception);\n    }\n});\n</code></pre>\n<p>I think this will help you, any doubts just <a href=\"https://cjdevelops.blogspot.com/2021/09/inbuilt-camera-applicaiton-camerax.html\" rel=\"nofollow noreferrer\">refer here to my blog post</a></p>\n<p>This is the function for converting the ImageProxy to bitmap</p>\n<pre><code> // output of the image capture image proxy to bitmap\npublic Bitmap imageProxyToBitmap(ImageProxy image) {\n    ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n    buffer.rewind();\n    byte[] bytes = new byte[buffer.capacity()];\n    buffer.get(bytes);\n    byte[] clonedBytes = bytes.clone();\n    return BitmapFactory.decodeByteArray(clonedBytes, 0, clonedBytes.length);\n}\n</code></pre>\n<p>And save the bitmap to your local storage</p>\n<pre><code>    // used for save the files internal storage , can view in the gallery or internal storage\npublic String saveTOInternamMemory(Activity activity, Bitmap bitmapImage){\n\n    File myPath = getInternalStorageDir(internalStorageDir,imageFormat,Environment.DIRECTORY_PICTURES);\n\n    Log.d(TAG, &quot;directory: &quot; + myPath.getAbsolutePath());\n\n    FileOutputStream fos = null;\n    try {\n        fos = new FileOutputStream(myPath);\n        // Use the compress method on the BitMap object to write image to the OutputStream\n        bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\n        Log.d(TAG, &quot;bit exception: Success&quot; );\n    } catch (Exception e) {\n        Log.d(TAG, &quot;bit exception: &quot; + e.getMessage());\n        e.printStackTrace();\n    } finally {\n        try {\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n            Log.d(TAG, &quot;io exce: &quot; + e.getMessage());\n        }\n    }\n    Log.d(TAG, &quot;absolute path &quot; + myPath.getAbsolutePath());\n    return myPath.getAbsolutePath();\n}\n</code></pre>\n"}],"owner":{"account_id":14221009,"reputation":111,"user_id":10273323,"display_name":"Ayush Naik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1689733978,"creation_date":1603173274,"question_id":64439247,"body_markdown":"Am using the latest cameraX \r\n\r\n    def camerax_version = &quot;1.0.0-beta11&quot;\r\n\r\nI able to take picture and save image to External Storage in a folder using this below code\r\n\r\n    File photoFile = new File(outputDirectory, &quot;Image_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n    \r\n                ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(photoFile).build();\r\n    \r\n                imageCapture.takePicture(outputFileOptions, ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageSavedCallback() {\r\n                    @Override\r\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                        Uri.fromFile(photoFile);\r\n                        Toast.makeText(getBaseContext(), &quot;Image Saved&quot; + photoFile.getAbsolutePath(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onError(@NonNull ImageCaptureException exception) {\r\n                        Toast.makeText(getBaseContext(), &quot;Error Saving Image&quot; + photoFile.getAbsolutePath(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\nNow the point is on how to extract the image before saving it to external storage. What I want to achieve is to capture multiple images and save it in buffer and send those images to next Activity and display them in a imageView using list or something. \r\n\r\nNow this can be achieved using `onImageCapturedCallback` on `imageCapture` which gives me a ImageProxy which then have to convert to Byte Array. But this process apples to only small size and single image.\r\n**How can I achieve this for higher resolution and multiple images**.\r\n\r\nBelow is the code I used to capture `ImageProxy` and set imageCapture to &quot;YUV&quot;, Sadly it didn&#39;t work at all\r\n\r\n        imageCapture.takePicture(ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageCapturedCallback() {\r\n            @Override\r\n            public void onCaptureSuccess(@NonNull ImageProxy image) {\r\n                super.onCaptureSuccess(image);\r\n                @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image cimage = image.getImage();\r\n                Image.Plane[] planes = cimage.getPlanes();\r\n                ByteBuffer yBuffer = planes[0].getBuffer();\r\n                ByteBuffer uBuffer = planes[1].getBuffer();\r\n                ByteBuffer vBuffer = planes[2].getBuffer();\r\n\r\n                int ySize = yBuffer.remaining();\r\n                int uSize = uBuffer.remaining();\r\n                int vSize = vBuffer.remaining();\r\n\r\n                byte[] nv21 = new byte[ySize + uSize + vSize];\r\n\r\n                yBuffer.get(nv21,0,ySize);\r\n                vBuffer.get(nv21,ySize,vSize);\r\n                uBuffer.get(nv21,ySize + vSize,uSize);\r\n\r\n                YuvImage yuvImage = new YuvImage(nv21,ImageFormat.NV21,cimage.getWidth(),cimage.getHeight(),null);\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                yuvImage.compressToJpeg(new Rect(0,0,yuvImage.getWidth(),yuvImage.getHeight()),100,out);\r\n                byte[] imageBytes = out.toByteArray();\r\n\r\n                Intent intent = new Intent(MainActivity.this,MainActivity2.class);\r\n                intent.putExtra(&quot;image&quot;,imageBytes);\r\n                MainActivity.this.startActivity(intent);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull ImageCaptureException exception) {\r\n                super.onError(exception);\r\n            }\r\n        });\r\n\r\nCan I add Image to `ArrayList` and then sent them over? \r\n\r\nThanks in Advance..","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>Am using the latest cameraX</p>\n<pre><code>def camerax_version = &quot;1.0.0-beta11&quot;\n</code></pre>\n<p>I able to take picture and save image to External Storage in a folder using this below code</p>\n<pre><code>File photoFile = new File(outputDirectory, &quot;Image_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\n\n            ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(photoFile).build();\n\n            imageCapture.takePicture(outputFileOptions, ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageSavedCallback() {\n                @Override\n                public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                    Uri.fromFile(photoFile);\n                    Toast.makeText(getBaseContext(), &quot;Image Saved&quot; + photoFile.getAbsolutePath(), Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onError(@NonNull ImageCaptureException exception) {\n                    Toast.makeText(getBaseContext(), &quot;Error Saving Image&quot; + photoFile.getAbsolutePath(), Toast.LENGTH_SHORT).show();\n                }\n            });\n</code></pre>\n<p>Now the point is on how to extract the image before saving it to external storage. What I want to achieve is to capture multiple images and save it in buffer and send those images to next Activity and display them in a imageView using list or something.</p>\n<p>Now this can be achieved using <code>onImageCapturedCallback</code> on <code>imageCapture</code> which gives me a ImageProxy which then have to convert to Byte Array. But this process apples to only small size and single image.\n<strong>How can I achieve this for higher resolution and multiple images</strong>.</p>\n<p>Below is the code I used to capture <code>ImageProxy</code> and set imageCapture to &quot;YUV&quot;, Sadly it didn't work at all</p>\n<pre><code>    imageCapture.takePicture(ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageCapturedCallback() {\n        @Override\n        public void onCaptureSuccess(@NonNull ImageProxy image) {\n            super.onCaptureSuccess(image);\n            @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image cimage = image.getImage();\n            Image.Plane[] planes = cimage.getPlanes();\n            ByteBuffer yBuffer = planes[0].getBuffer();\n            ByteBuffer uBuffer = planes[1].getBuffer();\n            ByteBuffer vBuffer = planes[2].getBuffer();\n\n            int ySize = yBuffer.remaining();\n            int uSize = uBuffer.remaining();\n            int vSize = vBuffer.remaining();\n\n            byte[] nv21 = new byte[ySize + uSize + vSize];\n\n            yBuffer.get(nv21,0,ySize);\n            vBuffer.get(nv21,ySize,vSize);\n            uBuffer.get(nv21,ySize + vSize,uSize);\n\n            YuvImage yuvImage = new YuvImage(nv21,ImageFormat.NV21,cimage.getWidth(),cimage.getHeight(),null);\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            yuvImage.compressToJpeg(new Rect(0,0,yuvImage.getWidth(),yuvImage.getHeight()),100,out);\n            byte[] imageBytes = out.toByteArray();\n\n            Intent intent = new Intent(MainActivity.this,MainActivity2.class);\n            intent.putExtra(&quot;image&quot;,imageBytes);\n            MainActivity.this.startActivity(intent);\n\n        }\n\n        @Override\n        public void onError(@NonNull ImageCaptureException exception) {\n            super.onError(exception);\n        }\n    });\n</code></pre>\n<p>Can I add Image to <code>ArrayList</code> and then sent them over?</p>\n<p>Thanks in Advance..</p>\n"},{"tags":["java","json","java-8","gson"],"comments":[{"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1394485611,"post_id":22310143,"comment_id":33902895,"body_markdown":"Is this happening during serialization or de-serialization. If it&#39;s the second - check if your json is valid - for example it has to start with `{` (aka BEGIN_OBJECT), but instead your json starts with a character","body":"Is this happening during serialization or de-serialization. If it&#39;s the second - check if your json is valid - for example it has to start with <code>{</code> (aka BEGIN_OBJECT), but instead your json starts with a character"},{"owner":{"account_id":2810475,"reputation":563,"user_id":2416807,"display_name":"fische"},"score":0,"creation_date":1394486006,"post_id":22310143,"comment_id":33903090,"body_markdown":"I make a mistake its during de-serialization. Json -&gt; Object. But I think my Json is ok. If I replace in my object my attribute LocalDateTime with String it works.","body":"I make a mistake its during de-serialization. Json -&gt; Object. But I think my Json is ok. If I replace in my object my attribute LocalDateTime with String it works."},{"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":1,"creation_date":1394486315,"post_id":22310143,"comment_id":33903236,"body_markdown":"json has the format `{&quot;key&quot;:&quot;value&quot;}` Your json is definitely invalid. As I said in gson `{` is `BEGIN_OBJECT` and it says that it;s missing. Just `println()` the json to check if it&#39;s correct.\n\nAlso you can print the `serialized` object to see how the json should look like :)","body":"json has the format <code>{&quot;key&quot;:&quot;value&quot;}</code> Your json is definitely invalid. As I said in gson <code>{</code> is <code>BEGIN_OBJECT</code> and it says that it;s missing. Just <code>println()</code> the json to check if it&#39;s correct.  Also you can print the <code>serialized</code> object to see how the json should look like :)"},{"owner":{"account_id":2810475,"reputation":563,"user_id":2416807,"display_name":"fische"},"score":0,"creation_date":1394487535,"post_id":22310143,"comment_id":33903838,"body_markdown":"Ok I understand now why it doesn&#39;t work. But maybe you know if there is something I can do? Like a special options with Gson for say if I have a String with a special Date and Time to deserialize this field and create the object I need?","body":"Ok I understand now why it doesn&#39;t work. But maybe you know if there is something I can do? Like a special options with Gson for say if I have a String with a special Date and Time to deserialize this field and create the object I need?"},{"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1394487738,"post_id":22310143,"comment_id":33903934,"body_markdown":"I cannot tell you anything before I see the string. But either way, you cannot de-serialize it unless it;s valid json. IMHO the best (and maybe the only) thing you can do is to make this string valid json.","body":"I cannot tell you anything before I see the string. But either way, you cannot de-serialize it unless it;s valid json. IMHO the best (and maybe the only) thing you can do is to make this string valid json."},{"owner":{"account_id":2810475,"reputation":563,"user_id":2416807,"display_name":"fische"},"score":0,"creation_date":1394487933,"post_id":22310143,"comment_id":33904024,"body_markdown":"The String is like this: &quot;2014-03-10T18:46:40.000Z&quot;. So I need to get an Object of this (datetime object from mysql?).","body":"The String is like this: &quot;2014-03-10T18:46:40.000Z&quot;. So I need to get an Object of this (datetime object from mysql?)."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1394712993,"post_id":22310143,"comment_id":34017680,"body_markdown":"Have you thought about that the timestamp string looks like an UTC-ISO-8601 global timestamp (letter Z at the end!)? It is not a local timestamp representation. I can actually not test the conversion to a `LocalDateTime` (no Java 8 with me) but suppose that this conversion might fail.","body":"Have you thought about that the timestamp string looks like an UTC-ISO-8601 global timestamp (letter Z at the end!)? It is not a local timestamp representation. I can actually not test the conversion to a <code>LocalDateTime</code> (no Java 8 with me) but suppose that this conversion might fail."},{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":1,"creation_date":1397522791,"post_id":22310143,"comment_id":35260958,"body_markdown":"@fische: As Meno says, what you have is an `OffsetDateTime`, not a `LocalDateTime`. Also, you might like to look at my custom serialisers for `java.time` entities: https://github.com/gkopff/gson-javatime-serialisers","body":"@fische: As Meno says, what you have is an <code>OffsetDateTime</code>, not a <code>LocalDateTime</code>. Also, you might like to look at my custom serialisers for <code>java.time</code> entities: <a href=\"https://github.com/gkopff/gson-javatime-serialisers\" rel=\"nofollow noreferrer\">github.com/gkopff/gson-javatime-serialisers</a>"}],"answers":[{"tags":[],"owner":{"account_id":1371616,"reputation":1547,"user_id":1306643,"display_name":"Randula"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1400743194,"creation_date":1400743194,"answer_id":23800221,"question_id":22310143,"body_markdown":"The error occurs when you are deserializing the LocalDateTime attribute because GSON fails to parse the value of the attribute as it&#39;s not aware of the LocalDateTime objects.\r\n\r\nUse GsonBuilder&#39;s registerTypeAdapter method to define the custom LocalDateTime adapter.\r\nFollowing code snippet will help you to deserialize the LocalDateTime attribute.\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() {\r\n        @Override\r\n        public LocalDateTime deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n            Instant instant = Instant.ofEpochMilli(json.getAsJsonPrimitive().getAsLong());\r\n            return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n        }\r\n    }).create();","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>The error occurs when you are deserializing the LocalDateTime attribute because GSON fails to parse the value of the attribute as it's not aware of the LocalDateTime objects.</p>\n\n<p>Use GsonBuilder's registerTypeAdapter method to define the custom LocalDateTime adapter.\nFollowing code snippet will help you to deserialize the LocalDateTime attribute.</p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() {\n    @Override\n    public LocalDateTime deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n        Instant instant = Instant.ofEpochMilli(json.getAsJsonPrimitive().getAsLong());\n        return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\n    }\n}).create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1395014,"reputation":1858,"user_id":1324960,"display_name":"Evers"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1458576348,"creation_date":1458576348,"answer_id":36136066,"question_id":22310143,"body_markdown":"To extend @Randula&#39;s answer, to parse a zoned date time string (2014-03-10T18:46:40.000Z) to JSON:\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() {\r\n    @Override\r\n    public LocalDateTime deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n        return ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime();\r\n    }\r\n    }).create();\r\n","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>To extend @Randula's answer, to parse a zoned date time string (2014-03-10T18:46:40.000Z) to JSON:</p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() {\n@Override\npublic LocalDateTime deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n    return ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime();\n}\n}).create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1348599,"reputation":1852,"user_id":1288852,"accept_rate":93,"display_name":"Nicholas Terry"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1493726676,"creation_date":1471929051,"answer_id":39092833,"question_id":22310143,"body_markdown":"To even further extend @Evers answer:\r\n\r\nYou can further simplify with a lambda like so:\r\n\r\n    GSON GSON = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt;\r\n        ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime()).create();","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>To even further extend @Evers answer:</p>\n\n<p>You can further simplify with a lambda like so:</p>\n\n<pre><code>GSON GSON = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt;\n    ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime()).create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4403145,"reputation":614,"user_id":3588217,"accept_rate":55,"display_name":"greenhorn"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1587648113,"creation_date":1587648113,"answer_id":61388300,"question_id":22310143,"body_markdown":"Following worked for me.\r\n\r\n**Java:**\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() { \r\n    @Override \r\n    public LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException { \r\n    \r\n    return LocalDateTime.parse(json.getAsString(), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)); } \r\n    \r\n    }).create();\r\n            \r\n    Test test = gson.fromJson(stringJson, Test.class);\r\n\r\nwhere ***stringJson*** is a Json which is stored as String type\r\n\r\n**Json:**\r\n\r\n&gt; &quot;dateField&quot;:&quot;2020-01-30 15:00&quot;\r\n\r\n\r\nwhere ***dateField*** is of ***LocalDateTime*** type which is present in the stringJson String variable.\r\n","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>Following worked for me.</p>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() { \n@Override \npublic LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException { \n\nreturn LocalDateTime.parse(json.getAsString(), DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm\")); } \n\n}).create();\n\nTest test = gson.fromJson(stringJson, Test.class);\n</code></pre>\n\n<p>where <strong><em>stringJson</em></strong> is a Json which is stored as String type</p>\n\n<p><strong>Json:</strong></p>\n\n<blockquote>\n  <p>\"dateField\":\"2020-01-30 15:00\"</p>\n</blockquote>\n\n<p>where <strong><em>dateField</em></strong> is of <strong><em>LocalDateTime</em></strong> type which is present in the stringJson String variable.</p>\n"},{"tags":[],"owner":{"account_id":1958634,"reputation":2086,"user_id":1760939,"accept_rate":75,"display_name":"Syakur Rahman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679559400,"creation_date":1679559400,"answer_id":75820589,"question_id":22310143,"body_markdown":"As mentioned in the comments above, you could also use already available serializer.\r\n\r\nhttps://github.com/gkopff/gson-javatime-serialisers\r\n\r\nYou include it in your project.\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.fatboyindustrial.gson-javatime-serialisers&lt;/groupId&gt;\r\n  &lt;artifactId&gt;gson-javatime-serialisers&lt;/artifactId&gt;\r\n  &lt;version&gt;1.1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nThen include it to the GsonBuilder process\r\n```\r\nfinal Gson gson = Converters.registerOffsetDateTime(new GsonBuilder()).create();\r\nfinal OffsetDateTime original = OffsetDateTime.now();\r\n\r\nfinal String json = gson.toJson(original);\r\nfinal OffsetDateTime reconstituted = gson.fromJson(json, OffsetDateTime.class);\r\n```\r\n\r\nJust in case its not clear, there exist different methods for different class types.","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>As mentioned in the comments above, you could also use already available serializer.</p>\n<p><a href=\"https://github.com/gkopff/gson-javatime-serialisers\" rel=\"nofollow noreferrer\">https://github.com/gkopff/gson-javatime-serialisers</a></p>\n<p>You include it in your project.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fatboyindustrial.gson-javatime-serialisers&lt;/groupId&gt;\n  &lt;artifactId&gt;gson-javatime-serialisers&lt;/artifactId&gt;\n  &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Then include it to the GsonBuilder process</p>\n<pre><code>final Gson gson = Converters.registerOffsetDateTime(new GsonBuilder()).create();\nfinal OffsetDateTime original = OffsetDateTime.now();\n\nfinal String json = gson.toJson(original);\nfinal OffsetDateTime reconstituted = gson.fromJson(json, OffsetDateTime.class);\n</code></pre>\n<p>Just in case its not clear, there exist different methods for different class types.</p>\n"},{"tags":[],"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689733061,"creation_date":1689733061,"answer_id":76717557,"question_id":22310143,"body_markdown":"To further amplify @Nicholas Terry answer:\r\n\r\nYou might also need a serializer: \r\n\r\n```java\r\nString dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateFormat);\r\nGSON gson = new GsonBuilder()\r\n\t.registerTypeAdapter(\r\n\t\tLocalDateTime.class,\r\n\t\t(JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt;\r\n\t\t\tZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime()\r\n\t)\r\n\t.registerTypeAdapter(\r\n\t\tLocalDateTime.class,\r\n\t\t(JsonSerializer&lt;LocalDateTime&gt;) (localDate, type, jsonSerializationContext) -&gt;\r\n\t\t\tnew JsonPrimitive(formatter.format(localDate)\r\n\t)\r\n\t.create();\r\n```\r\n\r\nOr the kotlin version:\r\n\r\n```kotlin\r\nval dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;\r\nval formatter = DateTimeFormatter.ofPattern(dateFormat)\r\nval gson: Gson = GsonBuilder()\r\n\t.registerTypeAdapter(\r\n\t\tLocalDateTime::class.java,\r\n\t\tJsonDeserializer { json, type, jsonDeserializationContext -&gt; \r\n\t\t\tZonedDateTime.parse(json.asJsonPrimitive.asString).toLocalDateTime()\r\n\t\t} as JsonDeserializer&lt;LocalDateTime?&gt;\r\n\t)\r\n\t.registerTypeAdapter(\r\n\t\tLocalDateTime::class.java,\r\n\t\tJsonSerializer&lt;LocalDateTime?&gt; { localDate, type, jsonDeserializationContext -&gt;\r\n\t\t\tJsonPrimitive(formatter.format(localDate))\r\n\t\t}\r\n\t)\r\n\t.create()\r\n```","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>To further amplify @Nicholas Terry answer:</p>\n<p>You might also need a serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dateFormat = &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateFormat);\nGSON gson = new GsonBuilder()\n    .registerTypeAdapter(\n        LocalDateTime.class,\n        (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt;\n            ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime()\n    )\n    .registerTypeAdapter(\n        LocalDateTime.class,\n        (JsonSerializer&lt;LocalDateTime&gt;) (localDate, type, jsonSerializationContext) -&gt;\n            new JsonPrimitive(formatter.format(localDate)\n    )\n    .create();\n</code></pre>\n<p>Or the kotlin version:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val dateFormat = &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;\nval formatter = DateTimeFormatter.ofPattern(dateFormat)\nval gson: Gson = GsonBuilder()\n    .registerTypeAdapter(\n        LocalDateTime::class.java,\n        JsonDeserializer { json, type, jsonDeserializationContext -&gt; \n            ZonedDateTime.parse(json.asJsonPrimitive.asString).toLocalDateTime()\n        } as JsonDeserializer&lt;LocalDateTime?&gt;\n    )\n    .registerTypeAdapter(\n        LocalDateTime::class.java,\n        JsonSerializer&lt;LocalDateTime?&gt; { localDate, type, jsonDeserializationContext -&gt;\n            JsonPrimitive(formatter.format(localDate))\n        }\n    )\n    .create()\n</code></pre>\n"}],"owner":{"account_id":2810475,"reputation":563,"user_id":2416807,"display_name":"fische"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64214,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":6,"score":55,"last_activity_date":1689733061,"creation_date":1394481818,"question_id":22310143,"body_markdown":"I have JSONs with a date-time attribute in the format &quot;2014-03-10T18:46:40.000Z&quot;, which I want to deserialize into a java.time.LocalDateTime field using Gson.\r\n\r\nWhen I tried to deserialize, I get the error:\r\n\r\n    java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING\r\n","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>I have JSONs with a date-time attribute in the format \"2014-03-10T18:46:40.000Z\", which I want to deserialize into a java.time.LocalDateTime field using Gson.</p>\n\n<p>When I tried to deserialize, I get the error:</p>\n\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-cloud-stream"],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689732557,"creation_date":1689732557,"question_id":76717529,"body_markdown":"I am using Spring cloud stream to consume message from a kafka topic.\r\nSpring boot version - 2.7.13\r\n\r\n**Spring config:-**\r\n\r\n\r\n    spring:\r\n      application:\r\n        name: prj-consumer\r\n    \r\n    \r\n    spring.cloud.function:\r\n      definition: prjProcessor\r\n    \r\n    \r\n    spring.cloud.stream:\r\n      bindings:\r\n        input:\r\n          destination: topic-1\r\n          group: group-1\r\n        output:\r\n          destination: topic-out-2\r\n        failureQueue:\r\n          destination: topic-out-fail-2\r\n    \r\n    \r\n    spring.cloud.stream.function.bindings:\r\n      prjProcessor-in-0: input\r\n      prjProcessor-out-0: output\r\n    \r\n    \r\n    spring.cloud.stream.kafka.binder:\r\n      brokers: &lt;BROKERS&gt;\r\n      configuration: \r\n            security:\r\n              protocol: SASL_SSL\r\n            sasl:\r\n              mechanism: PLAIN\r\n            \r\n      consumer-properties:\r\n            security:\r\n              protocol: SASL_SSL\r\n            sasl:\r\n              mechanism: PLAIN\r\n            \r\n    \r\n    \r\n    spring.cloud.stream.kafka.bindings:\r\n      input:\r\n        consumer:\r\n          autoCommitOffset: false\r\n\r\n\r\nThe message in kafka topic,\r\n\r\n    [\r\n    {&quot;eid&quot;:&quot;Prj1&quot;,&quot;name&quot;:&quot;Test Prj&quot;,&quot;createdBy&quot;:&quot;First User&quot;,&quot;createdOn&quot;:&quot;2022-11-11T00:00:00Z&quot;,&quot;lastModifiedBy&quot;:&quot;System User&quot;,&quot;lastModifiedOn&quot;:&quot;2023-07-17T20:22:32.262Z&quot;},\r\n    {&quot;eid&quot;:&quot;Prj2&quot;,&quot;name&quot;:&quot;Test Prj2&quot;,&quot;createdBy&quot;:&quot;First User&quot;,&quot;createdOn&quot;:&quot;2022-11-11T00:00:00Z&quot;,&quot;lastModifiedBy&quot;:&quot;System User&quot;,&quot;lastModifiedOn&quot;:&quot;2023-07-17T20:22:32.262Z&quot;}\r\n    ]\r\n\r\n\r\nGetting the error below while consuming this.\r\n\r\n    &quot;message&quot;: &quot;Failure during type conversion by org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter@7684a7e5. Will try the next converter.&quot;,\r\n      &quot;logger&quot;: &quot;org.springframework.cloud.function.context.config.SmartCompositeMessageConverter&quot;,\r\n      \r\n     &quot;class&quot;: &quot;org.springframework.messaging.converter.MessageConversionException&quot;,\r\n        &quot;msg&quot;: &quot;Could not read JSON: Unexpected character (&#39;e&#39; (code 101)): was expecting double-quote to start field name\\n at [Source: (String)\\&quot;{eid=Prj1, name=Test Prj}\\&quot;; line: 1, column: 3]; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;e&#39; (code 101)): was expecting double-quote to start field name\\n at [Source: (String)\\&quot;{id=Prj1, name=Test Prj}}\\&quot;; line: 1, column: 3]&quot;,\r\n        &quot;stack&quot;: [\r\n          &quot;org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237)&quot;,\r\n          &quot;org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter.convertFromInternal(ApplicationJsonMessageMarshallingConverter.java:115)&quot;,\r\n          &quot;org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185)&quot;,\r\n          &quot;org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176)&quot;,\r\n          &quot;org.springframework.cloud.function.context.config.SmartCompositeMessageConverter.fromMessage(SmartCompositeMessageConverter.java:63)&quot;,\r\n          &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.convertInputMessageIfNecessary(SimpleFunctionRegistry.java:1332)&quot;,\r\n          &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.convertInputIfNecessary(SimpleFunctionRegistry.java:1091)&quot;,\r\n          &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.lambda$convertInputPublisherIfNecessary$24(SimpleFunctionRegistry.java:1444)&quot;,\r\n          &quot;reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)&quot;,\r\n          &quot;reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)&quot;,\r\n          &quot;reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335)&quot;,\r\n          &quot;reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294)&quot;,\r\n          &quot;reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.request(FluxOnAssembly.java:649)&quot;,\r\n\r\n\r\n**Question:-**\r\n\r\nThe message in the topic is with keys in Double quote, but when it comes here, the format seems to be different and throwing error with one converted and then works with the other converter.\r\n\r\n**Spring cloud code:-**\r\n\r\n    public Object fromMessage(Message&lt;?&gt; message, Class&lt;?&gt; targetClass) {\r\n    \t\tfor (MessageConverter converter : getConverters()) {\r\n    \t\t\tif (!(message.getPayload() instanceof byte[]) &amp;&amp; targetClass.isInstance(message.getPayload()) &amp;&amp; !(message.getPayload() instanceof Collection&lt;?&gt;)) {\r\n    \t\t\t\treturn message.getPayload();\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tObject result = converter.fromMessage(message, targetClass);\r\n    \t\t\t\tif (result != null) {\r\n    \t\t\t\t\treturn result;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (Exception e) {\r\n    \t\t\t\tif (logger.isWarnEnabled()) {\r\n    \t\t\t\t\tlogger.warn(&quot;Failure during type conversion by &quot; + converter + &quot;. Will try the next converter.&quot;, e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}","title":"Spring cloud stream - org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter","body":"<p>I am using Spring cloud stream to consume message from a kafka topic.\nSpring boot version - 2.7.13</p>\n<p><strong>Spring config:-</strong></p>\n<pre><code>spring:\n  application:\n    name: prj-consumer\n\n\nspring.cloud.function:\n  definition: prjProcessor\n\n\nspring.cloud.stream:\n  bindings:\n    input:\n      destination: topic-1\n      group: group-1\n    output:\n      destination: topic-out-2\n    failureQueue:\n      destination: topic-out-fail-2\n\n\nspring.cloud.stream.function.bindings:\n  prjProcessor-in-0: input\n  prjProcessor-out-0: output\n\n\nspring.cloud.stream.kafka.binder:\n  brokers: &lt;BROKERS&gt;\n  configuration: \n        security:\n          protocol: SASL_SSL\n        sasl:\n          mechanism: PLAIN\n        \n  consumer-properties:\n        security:\n          protocol: SASL_SSL\n        sasl:\n          mechanism: PLAIN\n        \n\n\nspring.cloud.stream.kafka.bindings:\n  input:\n    consumer:\n      autoCommitOffset: false\n</code></pre>\n<p>The message in kafka topic,</p>\n<pre><code>[\n{&quot;eid&quot;:&quot;Prj1&quot;,&quot;name&quot;:&quot;Test Prj&quot;,&quot;createdBy&quot;:&quot;First User&quot;,&quot;createdOn&quot;:&quot;2022-11-11T00:00:00Z&quot;,&quot;lastModifiedBy&quot;:&quot;System User&quot;,&quot;lastModifiedOn&quot;:&quot;2023-07-17T20:22:32.262Z&quot;},\n{&quot;eid&quot;:&quot;Prj2&quot;,&quot;name&quot;:&quot;Test Prj2&quot;,&quot;createdBy&quot;:&quot;First User&quot;,&quot;createdOn&quot;:&quot;2022-11-11T00:00:00Z&quot;,&quot;lastModifiedBy&quot;:&quot;System User&quot;,&quot;lastModifiedOn&quot;:&quot;2023-07-17T20:22:32.262Z&quot;}\n]\n</code></pre>\n<p>Getting the error below while consuming this.</p>\n<pre><code>&quot;message&quot;: &quot;Failure during type conversion by org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter@7684a7e5. Will try the next converter.&quot;,\n  &quot;logger&quot;: &quot;org.springframework.cloud.function.context.config.SmartCompositeMessageConverter&quot;,\n  \n &quot;class&quot;: &quot;org.springframework.messaging.converter.MessageConversionException&quot;,\n    &quot;msg&quot;: &quot;Could not read JSON: Unexpected character ('e' (code 101)): was expecting double-quote to start field name\\n at [Source: (String)\\&quot;{eid=Prj1, name=Test Prj}\\&quot;; line: 1, column: 3]; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('e' (code 101)): was expecting double-quote to start field name\\n at [Source: (String)\\&quot;{id=Prj1, name=Test Prj}}\\&quot;; line: 1, column: 3]&quot;,\n    &quot;stack&quot;: [\n      &quot;org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237)&quot;,\n      &quot;org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter.convertFromInternal(ApplicationJsonMessageMarshallingConverter.java:115)&quot;,\n      &quot;org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185)&quot;,\n      &quot;org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176)&quot;,\n      &quot;org.springframework.cloud.function.context.config.SmartCompositeMessageConverter.fromMessage(SmartCompositeMessageConverter.java:63)&quot;,\n      &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.convertInputMessageIfNecessary(SimpleFunctionRegistry.java:1332)&quot;,\n      &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.convertInputIfNecessary(SimpleFunctionRegistry.java:1091)&quot;,\n      &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.lambda$convertInputPublisherIfNecessary$24(SimpleFunctionRegistry.java:1444)&quot;,\n      &quot;reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)&quot;,\n      &quot;reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)&quot;,\n      &quot;reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335)&quot;,\n      &quot;reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294)&quot;,\n      &quot;reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.request(FluxOnAssembly.java:649)&quot;,\n</code></pre>\n<p><strong>Question:-</strong></p>\n<p>The message in the topic is with keys in Double quote, but when it comes here, the format seems to be different and throwing error with one converted and then works with the other converter.</p>\n<p><strong>Spring cloud code:-</strong></p>\n<pre><code>public Object fromMessage(Message&lt;?&gt; message, Class&lt;?&gt; targetClass) {\n        for (MessageConverter converter : getConverters()) {\n            if (!(message.getPayload() instanceof byte[]) &amp;&amp; targetClass.isInstance(message.getPayload()) &amp;&amp; !(message.getPayload() instanceof Collection&lt;?&gt;)) {\n                return message.getPayload();\n            }\n            try {\n                Object result = converter.fromMessage(message, targetClass);\n                if (result != null) {\n                    return result;\n                }\n            }\n            catch (Exception e) {\n                if (logger.isWarnEnabled()) {\n                    logger.warn(&quot;Failure during type conversion by &quot; + converter + &quot;. Will try the next converter.&quot;, e);\n                }\n            }\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","optaplanner","timefold"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1689561839,"post_id":76701210,"comment_id":135225929,"body_markdown":"The list will stay in whatever order you put them.  You don&#39;t say what language this is, but both Java and C# have `sort` functions.","body":"The list will stay in whatever order you put them.  You don&#39;t say what language this is, but both Java and C# have <code>sort</code> functions."}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689579503,"creation_date":1689579503,"answer_id":76702368,"question_id":76701210,"body_markdown":"Interesting. I don&#39;t think we make any promises on the order of entities in the best solution in [Timefold][1], but still, I can&#39;t think of a single piece of code that would actually invert the order.\r\n\r\nIf you provide a piece of code I can execute to see the issue, I will look into it.\r\n\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/","title":"how to make the entity in a solution in a specific order?","body":"<p>Interesting. I don't think we make any promises on the order of entities in the best solution in <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"nofollow noreferrer\">Timefold</a>, but still, I can't think of a single piece of code that would actually invert the order.</p>\n<p>If you provide a piece of code I can execute to see the issue, I will look into it.</p>\n"}],"owner":{"account_id":29030753,"reputation":1,"user_id":22237740,"display_name":"romee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689730475,"creation_date":1689561522,"question_id":76701210,"body_markdown":"here i hava a `@planningEntity` Entity and a `@planningEntity` Request, this two classes are connected by:\r\n\r\n```\r\npublic class Request {\r\n    @PlanningListVariable\r\n    private List&lt;Entity&gt; EntityList;\r\n```\r\nand\r\n\r\n```\r\npublic class Entity{\r\n    @InverseRelationShadowVariable(sourceVariableName = &quot;EntityList&quot;)\r\n    private Request Request;\r\n}\r\n```\r\nthe solution class is:\r\n\r\n```\r\npublic class Solution implements Serializable {\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;Request&gt; RequestList;\r\n\r\n    @ValueRangeProvider\r\n    @ProblemFactCollectionProperty\r\n    private List&lt;Entity&gt; Entities;\r\n```\r\nso what i want in the soultion is a RequestList and every request in the list has a EntityList.\r\n\r\nMy question is: i want entities in the EntityList of the request are listed by the order of id, but the result is always in a reversed order.\r\n\r\nfor example, the solution i get is:\r\n[enter image description here](https://i.stack.imgur.com/xJ9qe.png)\r\n\r\nbut what i really want is:\r\n[enter image description here](https://i.stack.imgur.com/SOWHQ.png)\r\n\r\ni tried to add a constraint to limit the order, but it doesnt work.\r\n\r\nhow can i get what i want? how to set the order?\r\n\r\nthank you very much for any ideas.","title":"how to make the entity in a solution in a specific order?","body":"<p>here i hava a <code>@planningEntity</code> Entity and a <code>@planningEntity</code> Request, this two classes are connected by:</p>\n<pre><code>public class Request {\n    @PlanningListVariable\n    private List&lt;Entity&gt; EntityList;\n</code></pre>\n<p>and</p>\n<pre><code>public class Entity{\n    @InverseRelationShadowVariable(sourceVariableName = &quot;EntityList&quot;)\n    private Request Request;\n}\n</code></pre>\n<p>the solution class is:</p>\n<pre><code>public class Solution implements Serializable {\n    @PlanningId\n    private Long id;\n\n    @PlanningEntityCollectionProperty\n    private List&lt;Request&gt; RequestList;\n\n    @ValueRangeProvider\n    @ProblemFactCollectionProperty\n    private List&lt;Entity&gt; Entities;\n</code></pre>\n<p>so what i want in the soultion is a RequestList and every request in the list has a EntityList.</p>\n<p>My question is: i want entities in the EntityList of the request are listed by the order of id, but the result is always in a reversed order.</p>\n<p>for example, the solution i get is:\n<a href=\"https://i.stack.imgur.com/xJ9qe.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>but what i really want is:\n<a href=\"https://i.stack.imgur.com/SOWHQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i tried to add a constraint to limit the order, but it doesnt work.</p>\n<p>how can i get what i want? how to set the order?</p>\n<p>thank you very much for any ideas.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689730063,"creation_date":1689643852,"answer_id":76709018,"question_id":76708977,"body_markdown":"To answer your question below, the reason is that static methods do not depend on objects. Therefore there is no `this`;\r\n\r\nIn other words, you should think that the main method cannot see your internal class. If you want to `new` that inner class, you need to write it like this\r\n\r\n\r\n    package staticexample;\r\n\r\n    public class nonstatic {\r\n        public static void main(String[] args) {\r\n            non A = new nonstatic().new non();\r\n        }\r\n        class non{\r\n            public void greeting(){\r\n                System.out.println(&quot;Hej&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIn other words, static methods are actually free from objects. \r\nAlthough your `main` method is in class `nonstatic`, when accessing this static method, you should not think it is in any object instantiated with `nonstatic`.\r\n","title":"Difference between the two","body":"<p>To answer your question below, the reason is that static methods do not depend on objects. Therefore there is no <code>this</code>;</p>\n<p>In other words, you should think that the main method cannot see your internal class. If you want to <code>new</code> that inner class, you need to write it like this</p>\n<pre><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new nonstatic().new non();\n    }\n    class non{\n        public void greeting(){\n            System.out.println(&quot;Hej&quot;);\n        }\n    }\n}\n</code></pre>\n<p>In other words, static methods are actually free from objects.\nAlthough your <code>main</code> method is in class <code>nonstatic</code>, when accessing this static method, you should not think it is in any object instantiated with <code>nonstatic</code>.</p>\n"},{"tags":[],"owner":{"account_id":465323,"reputation":14809,"user_id":869330,"accept_rate":82,"display_name":"Naetmul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689644093,"creation_date":1689644093,"answer_id":76709025,"question_id":76708977,"body_markdown":"The `non` class of the first code is an **inner class** of the outer `nonstatic` class, whereas the `non` class of the second code exists as it is.\r\n\r\nThus, the first code\r\n```java\r\npackage staticexample;\r\n\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new non();\r\n    }\r\n    class non{\r\n        public void greeting(){\r\n            System.out.println(&quot;Hej&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\ntries to create an instance of `non`, but this requires an instance of `nonstatic`, so it fails.\r\n\r\nThe proper way is to create an instance of `nonstatic` as follows.\r\n\r\n```java\r\npackage staticexample;\r\n\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new nonstatic().new non();\r\n    }\r\n    class non{\r\n        public void greeting(){\r\n            System.out.println(&quot;Hej&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRefer to https://stackoverflow.com/questions/12690128/how-to-instantiate-non-static-inner-class-within-a-static-method for more details.","title":"Difference between the two","body":"<p>The <code>non</code> class of the first code is an <strong>inner class</strong> of the outer <code>nonstatic</code> class, whereas the <code>non</code> class of the second code exists as it is.</p>\n<p>Thus, the first code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new non();\n    }\n    class non{\n        public void greeting(){\n            System.out.println(&quot;Hej&quot;);\n        }\n    }\n}\n</code></pre>\n<p>tries to create an instance of <code>non</code>, but this requires an instance of <code>nonstatic</code>, so it fails.</p>\n<p>The proper way is to create an instance of <code>nonstatic</code> as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new nonstatic().new non();\n    }\n    class non{\n        public void greeting(){\n            System.out.println(&quot;Hej&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Refer to <a href=\"https://stackoverflow.com/questions/12690128/how-to-instantiate-non-static-inner-class-within-a-static-method\">How to instantiate non static inner class within a static method?</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689644311,"creation_date":1689644311,"answer_id":76709032,"question_id":76708977,"body_markdown":"It is actually pretty simple,\r\nlet&#39;s establish 3 things first \r\n\r\n1- **static** means the thing(variable, method) belongs to the class so you can access that (variable, method) without creating instances\r\n\r\n2- **this** keyword is used to **access current instance**\r\n\r\n3- main method is a static method, it belongs to the class, hence you can not use **this** inside it because there is no instance.\r\n\r\nyou are not explicitly typing this in your first example but class non is **non-static** part of class nonstatic so it&#39;s an instance so it&#39;s called using this which is not acceptable.\r\n\r\nthe second example, class non is not not part of class nonstatic so there is no **this** involved","title":"Difference between the two","body":"<p>It is actually pretty simple,\nlet's establish 3 things first</p>\n<p>1- <strong>static</strong> means the thing(variable, method) belongs to the class so you can access that (variable, method) without creating instances</p>\n<p>2- <strong>this</strong> keyword is used to <strong>access current instance</strong></p>\n<p>3- main method is a static method, it belongs to the class, hence you can not use <strong>this</strong> inside it because there is no instance.</p>\n<p>you are not explicitly typing this in your first example but class non is <strong>non-static</strong> part of class nonstatic so it's an instance so it's called using this which is not acceptable.</p>\n<p>the second example, class non is not not part of class nonstatic so there is no <strong>this</strong> involved</p>\n"},{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689645704,"creation_date":1689644948,"answer_id":76709058,"question_id":76708977,"body_markdown":"According to [Non-Static Nested Classes][1], \r\n\r\n&gt; Just like instance variables and methods, inner classes are associated with an instance of the enclosing class\r\n\r\n&gt; To instantiate an inner class, we must first instantiate its enclosing class.\r\n\r\n\r\n\r\n\r\nIf you want to create an instance of the inner class, you should do this:\r\n\r\n```\r\nclass OuterClass {\r\n    ...\r\n    class InnerClass {\r\n        ...\r\n    }\r\n}\r\nOuterClass outerObject = new OuterClass()\r\nOuterClass.InnerClass innerObject = outerObject.new InnerClass();\r\n\r\n```\r\n\r\nSo either:\r\n 1. make class non as static class, or\r\n 2. create instance non A like `non A = new nonstatic().new non();`\r\n\r\n```\r\nstatic class non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\n[1]: https://www.baeldung.com/java-nested-classes#non-static-nested-classes","title":"Difference between the two","body":"<p>According to <a href=\"https://www.baeldung.com/java-nested-classes#non-static-nested-classes\" rel=\"nofollow noreferrer\">Non-Static Nested Classes</a>,</p>\n<blockquote>\n<p>Just like instance variables and methods, inner classes are associated with an instance of the enclosing class</p>\n</blockquote>\n<blockquote>\n<p>To instantiate an inner class, we must first instantiate its enclosing class.</p>\n</blockquote>\n<p>If you want to create an instance of the inner class, you should do this:</p>\n<pre><code>class OuterClass {\n    ...\n    class InnerClass {\n        ...\n    }\n}\nOuterClass outerObject = new OuterClass()\nOuterClass.InnerClass innerObject = outerObject.new InnerClass();\n\n</code></pre>\n<p>So either:</p>\n<ol>\n<li>make class non as static class, or</li>\n<li>create instance non A like <code>non A = new nonstatic().new non();</code></li>\n</ol>\n<pre><code>static class non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689662875,"creation_date":1689662875,"answer_id":76710154,"question_id":76708977,"body_markdown":"&gt; _&quot;... what exactly is the difference between the two and why is one of them working and the other is not? ...&quot;_\r\n\r\nThe reason the first example is not working is because _new non()_ has no context.\r\n\r\nSince _non_ is an inner-class you&#39;ll need to access it from an instance of _nonstatic_.  \r\n\r\nFor example,\r\n\r\n```java\r\nnonstatic nonstatic = new nonstatic();\r\nnon A = nonstatic.new non();\r\n```\r\n\r\nAlthough, since _non_ is nested, you could declare it as static; making it easier to reference.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    non A = new nonstatic.non();\r\n}\r\nstatic class non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAdditionally, the _nonstatic_ identifier is redundant; so you could just leave the assignment the way it is.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    non A = new non();\r\n}\r\nstatic class non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIn your second example you simply have two classes, non-nested.  \r\nThis doesn&#39;t have much use in _Java_; although I imagine it may help in certain situations.\r\n\r\nEssentially, you can have more than one class within a file, as long as not more than one is declared as _public_.\r\n\r\nSo, for example, the following will cause an error.\r\n\r\n```java\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new non();\r\n    }\r\n}\r\npublic class non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\n\r\nError\r\n\r\n```none\r\njava: class non is public, should be declared in a file named non.java\r\n```\r\n\r\nHere is the _Java_ tutorial on classes and nested classes.  \r\n_[Nested Classes (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)_.\r\n\r\nAnd, here is a relevant discussion regarding your second example.  \r\n_[StackOverflow &amp;ndash; Can a java file have more than one class?](https://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class)_.","title":"Difference between the two","body":"<blockquote>\n<p><em>&quot;... what exactly is the difference between the two and why is one of them working and the other is not? ...&quot;</em></p>\n</blockquote>\n<p>The reason the first example is not working is because <em>new non()</em> has no context.</p>\n<p>Since <em>non</em> is an inner-class you'll need to access it from an instance of <em>nonstatic</em>.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>nonstatic nonstatic = new nonstatic();\nnon A = nonstatic.new non();\n</code></pre>\n<p>Although, since <em>non</em> is nested, you could declare it as static; making it easier to reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    non A = new nonstatic.non();\n}\nstatic class non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n<p>Additionally, the <em>nonstatic</em> identifier is redundant; so you could just leave the assignment the way it is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    non A = new non();\n}\nstatic class non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n<p>In your second example you simply have two classes, non-nested.<br />\nThis doesn't have much use in <em>Java</em>; although I imagine it may help in certain situations.</p>\n<p>Essentially, you can have more than one class within a file, as long as not more than one is declared as <em>public</em>.</p>\n<p>So, for example, the following will cause an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class nonstatic {\n    public static void main(String[] args) {\n        non A = new non();\n    }\n}\npublic class non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n<p>Error</p>\n<pre class=\"lang-none prettyprint-override\"><code>java: class non is public, should be declared in a file named non.java\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on classes and nested classes.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Nested Classes (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<p>And, here is a relevant discussion regarding your second example.<br />\n<em><a href=\"https://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class\">StackOverflow – Can a java file have more than one class?</a></em>.</p>\n"}],"owner":{"account_id":14788568,"reputation":11,"user_id":10680130,"display_name":"Tanishq Chhabra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1689730063,"creation_date":1689642957,"question_id":76708977,"body_markdown":"```\r\npackage staticexample;\r\n\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new non();\r\n    }\r\n    class non{\r\n        public void greeting(){\r\n            System.out.println(&quot;Hej&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage staticexample;\r\n\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new non();\r\n    }\r\n}\r\nclass non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\nI know you cannot access a non static method in a static reference but what exactly is the difference between the two and why is one of them working and the other is not?\r\n\r\nI tried asking the same question from chatgpt but I got more confused, so I would really appreciate some unadorned answers. Thank you!","title":"Difference between the two","body":"<pre><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new non();\n    }\n    class non{\n        public void greeting(){\n            System.out.println(&quot;Hej&quot;);\n        }\n    }\n}\n\n</code></pre>\n<pre><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new non();\n    }\n}\nclass non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n<p>I know you cannot access a non static method in a static reference but what exactly is the difference between the two and why is one of them working and the other is not?</p>\n<p>I tried asking the same question from chatgpt but I got more confused, so I would really appreciate some unadorned answers. Thank you!</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"score":0,"creation_date":1689718453,"post_id":76716824,"comment_id":135252616,"body_markdown":"I did try getting the Java Development Kit","body":"I did try getting the Java Development Kit"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689718634,"post_id":76716824,"comment_id":135252633,"body_markdown":"I would install a JDK independently of your IDE. Just download it and *install* it","body":"I would install a JDK independently of your IDE. Just download it and <i>install</i> it"},{"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"score":0,"creation_date":1689718714,"post_id":76716824,"comment_id":135252644,"body_markdown":"@g00se Im sorry can I get like a walk through of how to do that :( Sorry! I kind of dont understand it","body":"@g00se Im sorry can I get like a walk through of how to do that :( Sorry! I kind of dont understand it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689721058,"post_id":76716824,"comment_id":135252875,"body_markdown":"Let me get this straight: you&#39;re saying you can&#39;t get and install a computer program?","body":"Let me get this straight: you&#39;re saying you can&#39;t get and install a computer program?"},{"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"score":0,"creation_date":1689721507,"post_id":76716824,"comment_id":135252914,"body_markdown":"Yes I can sorry :( but I installed JDK and the issue still didnt resolve","body":"Yes I can sorry :( but I installed JDK and the issue still didnt resolve"},{"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"score":0,"creation_date":1689721529,"post_id":76716824,"comment_id":135252915,"body_markdown":"Installed from RedHat","body":"Installed from RedHat"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1690769121,"post_id":76716824,"comment_id":135394509,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":27307486,"reputation":68,"user_id":20823202,"display_name":"ealker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689724186,"creation_date":1689724186,"answer_id":76717136,"question_id":76716824,"body_markdown":"Make sure you are installing a Java 11 JDK, and not a different version, since that&#39;s what VS Code is asking for.  \r\n\r\nIf you are on linux, there should be options to install older versions of java documented by your distribution. For example, on arch it would be `sudo pacman -S jdk11-openjdk`. If you are on RedHat, as indicated by your comment, it should be `sudo yum install java-11-openjdk`.\r\n\r\nOn windows or mac, you should be able to find prebuilt binaries and installers online. [Here](https://adoptium.net/temurin/releases/) is one link I found, and there are most likely others you can find online. Just make sure to select JDK 11 for whatever you use to install. ","title":"Java 11 required, but not found. Might have compilation errors","body":"<p>Make sure you are installing a Java 11 JDK, and not a different version, since that's what VS Code is asking for.</p>\n<p>If you are on linux, there should be options to install older versions of java documented by your distribution. For example, on arch it would be <code>sudo pacman -S jdk11-openjdk</code>. If you are on RedHat, as indicated by your comment, it should be <code>sudo yum install java-11-openjdk</code>.</p>\n<p>On windows or mac, you should be able to find prebuilt binaries and installers online. <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">Here</a> is one link I found, and there are most likely others you can find online. Just make sure to select JDK 11 for whatever you use to install.</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689730043,"creation_date":1689730043,"answer_id":76717398,"question_id":76716824,"body_markdown":"Make sure that **JDK 11** or above has been installed on your machine, add the following settings to indicate your JDK path\r\n\r\n```\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk1.8.0_341&quot;,\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\r\n            &quot;default&quot;: true,\r\n        }\r\n    ],\r\n```\r\n\r\n**java.jdt.ls.java.home**:\r\n\r\n &gt; Specifies the folder path to the JDK (***17 or more recent***) used to launch the Java Language Server. This setting will replace the Java extension&#39;s embedded JRE to start the Java Language Server.\r\n\r\nYou can also specify or install a new JDK in the following way\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HxJBl.png","title":"Java 11 required, but not found. Might have compilation errors","body":"<p>Make sure that <strong>JDK 11</strong> or above has been installed on your machine, add the following settings to indicate your JDK path</p>\n<pre><code>    &quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\n    &quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk1.8.0_341&quot;,\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\n            &quot;default&quot;: true,\n        }\n    ],\n</code></pre>\n<p><strong>java.jdt.ls.java.home</strong>:</p>\n<blockquote>\n<p>Specifies the folder path to the JDK (<em><strong>17 or more recent</strong></em>) used to launch the Java Language Server. This setting will replace the Java extension's embedded JRE to start the Java Language Server.</p>\n</blockquote>\n<p>You can also specify or install a new JDK in the following way</p>\n<p><a href=\"https://i.stack.imgur.com/HxJBl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HxJBl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1689730043,"creation_date":1689718383,"question_id":76716824,"body_markdown":"I cant run VS Code encountering this issue: &quot;Java 11 required, but not found. Might have compilation errors.&quot; \r\n\r\nCan somone walk me through how to fix\r\n\r\n[enter image description here](https://i.stack.imgur.com/QkdFs.png)\r\n\r\nI thought I have java downloaded I dont know what to do?","title":"Java 11 required, but not found. Might have compilation errors","body":"<p>I cant run VS Code encountering this issue: &quot;Java 11 required, but not found. Might have compilation errors.&quot;</p>\n<p>Can somone walk me through how to fix</p>\n<p><a href=\"https://i.stack.imgur.com/QkdFs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I thought I have java downloaded I dont know what to do?</p>\n"},{"tags":["java","spring-batch","spring-batch-admin","spring-batch-job-monitoring"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1613998754,"post_id":66244827,"comment_id":117241272,"body_markdown":"How are you packaging and running your app? It seems that your app is looking for a class `META-INF.spring.student.xml` which means the way you are launching your app is incorrect. Please share the command you use to run your app to be able to help you.","body":"How are you packaging and running your app? It seems that your app is looking for a class <code>META-INF.spring.student.xml</code> which means the way you are launching your app is incorrect. Please share the command you use to run your app to be able to help you."},{"owner":{"account_id":19652504,"reputation":11,"user_id":14385935,"display_name":"Abhas Jain"},"score":0,"creation_date":1614063477,"post_id":66244827,"comment_id":117262750,"body_markdown":"I have use eclipse to run project by using Run configuration","body":"I have use eclipse to run project by using Run configuration"}],"answers":[{"tags":[],"owner":{"account_id":18710561,"reputation":448,"user_id":13640736,"display_name":"SOUMEN K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613641947,"creation_date":1613641947,"answer_id":66257445,"question_id":66244827,"body_markdown":"Try putting it outside `META-INF` and add the below VM argument - \r\n\r\n`spring/student.xml`\r\n\r\n","title":"Could not find or load main class while passing class a argument spring batch job","body":"<p>Try putting it outside <code>META-INF</code> and add the below VM argument -</p>\n<p><code>spring/student.xml</code></p>\n"},{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614067506,"creation_date":1614067506,"answer_id":66329249,"question_id":66244827,"body_markdown":"&gt; Run As VM argument : META-INF/spring/student.xml student\r\n\r\nYou need to select `demoRunner` as the main class to run and pass the input file and job name `META-INF/spring/student.xml student` as &quot;Program argument&quot; and *not* as &quot;VM argument&quot;.","title":"Could not find or load main class while passing class a argument spring batch job","body":"<blockquote>\n<p>Run As VM argument : META-INF/spring/student.xml student</p>\n</blockquote>\n<p>You need to select <code>demoRunner</code> as the main class to run and pass the input file and job name <code>META-INF/spring/student.xml student</code> as &quot;Program argument&quot; and <em>not</em> as &quot;VM argument&quot;.</p>\n"}],"owner":{"account_id":19652504,"reputation":11,"user_id":14385935,"display_name":"Abhas Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689729729,"creation_date":1613575023,"question_id":66244827,"body_markdown":"\r\n```java\r\npublic class demoRunner extends CommandLineJobRunner {\r\n    public static void main(String[] args) throws Exception {\r\n        // initialize fileappender here\r\n        String logFile = args[args.length - 1].split(&quot;=&quot;)[1];\r\n        DemoAppender.initializeAppender(logFile);\r\n        CommandLineJobRunner.main(args);\r\n    }\r\n}\r\n```\r\n**Run As VM argument** : `META-INF/spring/student.xml student`\r\n\r\nstudent is a job\r\n\r\n**Location of demoRunner.java**: `demoBatchJob\\src\\main\\java\\com\\ncs\\sma\\runner\\demoRunner.java`\r\n\r\n**Location of stduent.xml**: `demoBatchJob\\src\\main\\resources\\META-INF\\spring\\student.xml`\r\n\r\n## Exception:\r\n\r\nError: Could not find or load main class META-INF.spring.student.xml\r\nCaused by: java.lang.ClassNotFoundException: META-INF.spring.student.xml\r\n","title":"Could not find or load main class while passing class a argument spring batch job","body":"<pre class=\"lang-java prettyprint-override\"><code>public class demoRunner extends CommandLineJobRunner {\n    public static void main(String[] args) throws Exception {\n        // initialize fileappender here\n        String logFile = args[args.length - 1].split(&quot;=&quot;)[1];\n        DemoAppender.initializeAppender(logFile);\n        CommandLineJobRunner.main(args);\n    }\n}\n</code></pre>\n<p><strong>Run As VM argument</strong> : <code>META-INF/spring/student.xml student</code></p>\n<p>student is a job</p>\n<p><strong>Location of demoRunner.java</strong>: <code>demoBatchJob\\src\\main\\java\\com\\ncs\\sma\\runner\\demoRunner.java</code></p>\n<p><strong>Location of stduent.xml</strong>: <code>demoBatchJob\\src\\main\\resources\\META-INF\\spring\\student.xml</code></p>\n<h2>Exception:</h2>\n<p>Error: Could not find or load main class META-INF.spring.student.xml\nCaused by: java.lang.ClassNotFoundException: META-INF.spring.student.xml</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","automation-testing"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1689743309,"post_id":76717375,"comment_id":135254652,"body_markdown":"Is `C:\\\\Users\\\\Downloads\\\\...` correct? I would expect `C:\\\\Users\\\\SOMEUSERNAME\\\\Downloads\\\\...`","body":"Is <code>C:\\\\Users\\\\Downloads\\\\...</code> correct? I would expect <code>C:\\\\Users\\\\SOMEUSERNAME\\\\Downloads\\\\...</code>"}],"owner":{"account_id":18685876,"reputation":1,"user_id":13621390,"display_name":"Naveen Nataraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689729681,"creation_date":1689729681,"question_id":76717375,"body_markdown":"`Starting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 18032\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n\r\n  (chrome not reachable)\r\n\r\n     (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n\r\n    Host info: host: &#39;RDS-EX-HOST1&#39;, ip: &#39;192.168.1.203&#39;\r\n\r\nBuild info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;\r\n\r\nSystem info: os.name: &#39;Windows Server 2019&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\n\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}]}]\r\n\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n\tat Intro.main(Intro.java:19)`\r\n\r\nChrome driver version - 114.0.5735.90\r\nChrome version - 114.0.5735.199\r\n\r\nrunning on virtual machine\r\n\r\nCODE:\r\n\r\n```\r\n    public static void main(String[] args) throws InterruptedException {\r\n\t\r\n\t    System.setProperty(&quot;webdriver.chrome.driver&quot;,  &quot;C:\\\\Users\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t    ChromeOptions co = new ChromeOptions();\r\n\t    co.addArguments(&quot;--headless&quot;);\r\n\t    co.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t    co.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\t    WebDriver driver = new ChromeDriver();\r\n\t    driver.get(&quot;https://google.com&quot;);\r\n\r\n    }\r\n```","title":"Selenium JAVA crashing chrome as soon as its launched","body":"<p>`Starting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 18032\nOnly local connections are allowed.\nPlease see <a href=\"https://chromedriver.chromium.org/security-considerations\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/security-considerations</a> for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.</p>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.</p>\n<p>(chrome not reachable)</p>\n<pre><code> (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \n\nHost info: host: 'RDS-EX-HOST1', ip: '192.168.1.203'\n</code></pre>\n<p>Build info: version: '4.9.1', revision: 'eb2032df7f'</p>\n<p>System info: os.name: 'Windows Server 2019', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.6'\nDriver info: org.openqa.selenium.chrome.ChromeDriver</p>\n<p>Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}]}]</p>\n<pre><code>at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\nat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\nat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\nat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\nat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\nat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\nat Intro.main(Intro.java:19)`\n</code></pre>\n<p>Chrome driver version - 114.0.5735.90\nChrome version - 114.0.5735.199</p>\n<p>running on virtual machine</p>\n<p>CODE:</p>\n<pre><code>    public static void main(String[] args) throws InterruptedException {\n    \n        System.setProperty(&quot;webdriver.chrome.driver&quot;,  &quot;C:\\\\Users\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        ChromeOptions co = new ChromeOptions();\n        co.addArguments(&quot;--headless&quot;);\n        co.addArguments(&quot;--remote-allow-origins=*&quot;);\n        co.addArguments(&quot;--disable-dev-shm-usage&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://google.com&quot;);\n\n    }\n</code></pre>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1688721637,"post_id":76635584,"comment_id":135114790,"body_markdown":"junior developers tend to violate `#equals` contract.","body":"junior developers tend to violate <code>#equals</code> contract."}],"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689728374,"creation_date":1688721416,"question_id":76635584,"body_markdown":"I was checking to see how TestNG implements `assertEquals(Object, Object)` and found that at the lowest level, it&#39;s this:\r\n\r\n```\r\nprivate static boolean areEqualImpl(Object actual, Object expected) {\r\n    if (expected == null &amp;&amp; actual == null) {\r\n        return true;\r\n    } else if (expected != null &amp;&amp; actual != null) {\r\n        return expected.equals(actual) &amp;&amp; actual.equals(expected);\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nWhat is the reason for the check `expected.equals(actual) &amp;&amp; actual.equals(expected)`, when `expected.equals(actual)` alone should suffice?","title":"Why does TestNG&#39;s implementation of assertEquals check both ways?","body":"<p>I was checking to see how TestNG implements <code>assertEquals(Object, Object)</code> and found that at the lowest level, it's this:</p>\n<pre><code>private static boolean areEqualImpl(Object actual, Object expected) {\n    if (expected == null &amp;&amp; actual == null) {\n        return true;\n    } else if (expected != null &amp;&amp; actual != null) {\n        return expected.equals(actual) &amp;&amp; actual.equals(expected);\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>What is the reason for the check <code>expected.equals(actual) &amp;&amp; actual.equals(expected)</code>, when <code>expected.equals(actual)</code> alone should suffice?</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1689725952,"post_id":76717210,"comment_id":135253313,"body_markdown":"What do you expect to happen? You never do anything with the value returned by `compress` (print it, or even store it in a variable).","body":"What do you expect to happen? You never do anything with the value returned by <code>compress</code> (print it, or even store it in a variable)."},{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1689726345,"post_id":76717210,"comment_id":135253344,"body_markdown":"Print it like System.out.println(&quot;Compressed string is : &quot; + compress(str));\n\nYou are not printing result currently.","body":"Print it like System.out.println(&quot;Compressed string is : &quot; + compress(str));  You are not printing result currently."},{"owner":{"account_id":29045285,"reputation":1,"user_id":22249258,"display_name":"Yash Tambi"},"score":0,"creation_date":1689726704,"post_id":76717210,"comment_id":135253366,"body_markdown":"I have updated the code. I figured that out but still, the number count ain&#39;t printing.","body":"I have updated the code. I figured that out but still, the number count ain&#39;t printing."},{"owner":{"account_id":29045285,"reputation":1,"user_id":22249258,"display_name":"Yash Tambi"},"score":0,"creation_date":1689728162,"post_id":76717210,"comment_id":135253487,"body_markdown":"I got it, the Integer count = 0 should be changed to Integer count =1. I was taking it 0 = even when it was 1 thus creating fuss at the output","body":"I got it, the Integer count = 0 should be changed to Integer count =1. I was taking it 0 = even when it was 1 thus creating fuss at the output"}],"owner":{"account_id":29045285,"reputation":1,"user_id":22249258,"display_name":"Yash Tambi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689727882,"creation_date":1689725508,"question_id":76717210,"body_markdown":"I want to compress the string using `StringBuilder` but the code is not working as expected. It is simply returning the print statement.\r\n\r\n    import java.util.*;\r\n    public class string_compression {\r\n\r\n        public static String compress(String str){\r\n    \r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n    \r\n            for(int i=0;i&lt;str.length();i++){\r\n                Integer count =0;\r\n                while(i&lt;str.length()-1 &amp;&amp; str.charAt(i)==str.charAt(i+1)){\r\n                    count++;\r\n                    i++;\r\n                }\r\n                sb=sb.append(str.charAt(i));\r\n                if(count&gt;1){\r\n                    sb = sb.append(str.charAt(i));\r\n                }\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n        \r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter your string: &quot;);\r\n            String str = sc.nextLine();\r\n    \r\n            System.out.println(&quot;Compressed string is : &quot;);\r\n            System.out.println(compress(str));\r\n            sc.close();\r\n    \r\n        }\r\n    }\r\n\r\n","title":"why is this StringBuilder code not giving the desired output","body":"<p>I want to compress the string using <code>StringBuilder</code> but the code is not working as expected. It is simply returning the print statement.</p>\n<pre><code>import java.util.*;\npublic class string_compression {\n\n    public static String compress(String str){\n\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n\n        for(int i=0;i&lt;str.length();i++){\n            Integer count =0;\n            while(i&lt;str.length()-1 &amp;&amp; str.charAt(i)==str.charAt(i+1)){\n                count++;\n                i++;\n            }\n            sb=sb.append(str.charAt(i));\n            if(count&gt;1){\n                sb = sb.append(str.charAt(i));\n            }\n        }\n        return sb.toString();\n    }\n\n    public static void main(String[] args) {\n    \n        Scanner sc = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your string: &quot;);\n        String str = sc.nextLine();\n\n        System.out.println(&quot;Compressed string is : &quot;);\n        System.out.println(compress(str));\n        sc.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1689752886,"post_id":76717270,"comment_id":135256095,"body_markdown":"If I understand correctly, you should be able to write `&lt;if test=&quot;input.b instanceof xxx.yyy.ConcA&quot;&gt;`.","body":"If I understand correctly, you should be able to write <code>&lt;if test=&quot;input.b instanceof xxx.yyy.ConcA&quot;&gt;</code>."}],"owner":{"account_id":25627830,"reputation":59,"user_id":19398668,"display_name":"Vegan Vegeta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689726958,"creation_date":1689726958,"question_id":76717270,"body_markdown":"Hello we are using MyBatis to interact with our Postgres cluster in our Java service. We have a table (assume name is `testing`) where we perform select query on our table via xml. The input to our select query is an object whose one attribute could be one of the concrete implementations of an abstract class. How do I figure out in mybatis which concrete implementation of the abstract class this is and based on that add some `WHERE` clauses to my `SELECT` query.\r\n\r\n```\r\npublic class InputA {\r\n  int a;\r\n  BaseClass b;\r\n}\r\n\r\npublic abstract class BaseClass b {\r\n  String alpha;\r\n}\r\n\r\npublic class ConcA extends BaseClass {\r\n  String beta;\r\n}\r\n\r\npublic class ConcB extends BaseClass {\r\n  String gamma;\r\n}\r\n\r\n// Select query - \r\n\r\nSelect * from testing\r\nwhere \r\n&lt;if test=&quot;input.b.type == &#39;ConcA&#39;&quot;&gt; // Is this supported?\r\n  testing.beta = input.b.beta\r\n&lt;/if&gt;\r\n\r\n```","title":"Mybatis xml how to work with concrete implements of abstract class","body":"<p>Hello we are using MyBatis to interact with our Postgres cluster in our Java service. We have a table (assume name is <code>testing</code>) where we perform select query on our table via xml. The input to our select query is an object whose one attribute could be one of the concrete implementations of an abstract class. How do I figure out in mybatis which concrete implementation of the abstract class this is and based on that add some <code>WHERE</code> clauses to my <code>SELECT</code> query.</p>\n<pre><code>public class InputA {\n  int a;\n  BaseClass b;\n}\n\npublic abstract class BaseClass b {\n  String alpha;\n}\n\npublic class ConcA extends BaseClass {\n  String beta;\n}\n\npublic class ConcB extends BaseClass {\n  String gamma;\n}\n\n// Select query - \n\nSelect * from testing\nwhere \n&lt;if test=&quot;input.b.type == 'ConcA'&quot;&gt; // Is this supported?\n  testing.beta = input.b.beta\n&lt;/if&gt;\n\n</code></pre>\n"},{"tags":["java","websocket","java-websocket"],"answers":[{"tags":[],"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1441449652,"creation_date":1431904357,"answer_id":30293079,"question_id":30293023,"body_markdown":"You need to `start()` `Runnable` class, **not** `run()` it directly\r\n\r\n    server.start();\r\n\r\ninstead of \r\n\r\n    server.run();","title":"Websocket server.run() don&#39;t allow followed codes to start","body":"<p>You need to <code>start()</code> <code>Runnable</code> class, <strong>not</strong> <code>run()</code> it directly</p>\n\n<pre><code>server.start();\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>server.run();\n</code></pre>\n"}],"owner":{"account_id":3711000,"reputation":31781,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30293079,"answer_count":1,"score":1,"last_activity_date":1689725826,"creation_date":1431903884,"question_id":30293023,"body_markdown":"I have the following web socket server code from [GitHub](https://github.com/TooTallNate/Java-WebSocket):\r\n\r\n    public class WebsocketServer extends WebSocketServer {\r\n    \r\n        private static int PORT = 2005;\r\n    \r\n        private Set&lt;WebSocket&gt; conns;\r\n    \r\n        public WebsocketServer() {\r\n            super(new InetSocketAddress(PORT));\r\n            conns = new HashSet&lt;&gt;();\r\n        }\r\n    \r\n        @Override\r\n        public void onOpen(WebSocket conn, ClientHandshake handshake) {\r\n            conns.add(conn);\r\n            System.out.println(&quot;New connection from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\r\n        }\r\n    \r\n        @Override\r\n        public void onClose(WebSocket conn, int code, String reason, boolean remote) {\r\n            conns.remove(conn);\r\n            System.out.println(&quot;Closed connection to &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\r\n        }\r\n    \r\n        @Override\r\n        public void onMessage(WebSocket conn, String message) {\r\n            System.out.println(&quot;Received: &quot; + message);\r\n    \r\n            for (WebSocket sock : conns) {\r\n                sock.send(messageToSend);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onError(WebSocket conn, Exception ex) {\r\n            ex.printStackTrace();\r\n            if (conn != null) {\r\n                conns.remove(conn);\r\n                // do some thing if required\r\n            }\r\n            System.out.println(&quot;ERROR from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            WebsocketServer server = new WebsocketServer();\r\n            server.run();\r\n    \r\n            BufferedReader sysin = new BufferedReader(new InputStreamReader(System.in));\r\n            while (true) {\r\n                String in = sysin.readLine();\r\n                server.sendToAll(in);\r\n                if (in.equals(&quot;exit&quot;)) {\r\n                    server.stop();\r\n                    break;\r\n                } else if (in.equals(&quot;restart&quot;)) {\r\n                    server.stop();\r\n                    server.start();\r\n                    break;\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        public void sendToAll(String text) {\r\n            Collection&lt;WebSocket&gt; con = connections();\r\n            synchronized (con) {\r\n                for (WebSocket c : con) {\r\n                    c.send(text);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe code work&lt;code&gt; fine, but all code that come&lt;code&gt; after `server.run();` won&#39;t start/work! In that part, I need to send messages from the Java console to the client.\r\n\r\nWhat I am doing wrong?\r\n\r\n**Note:** My client works in JavaScript and can connect to the server.","title":"Websocket server.run() don&#39;t allow followed codes to start","body":"<p>I have the following web socket server code from <a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"nofollow noreferrer\">GitHub</a>:</p>\n<pre><code>public class WebsocketServer extends WebSocketServer {\n\n    private static int PORT = 2005;\n\n    private Set&lt;WebSocket&gt; conns;\n\n    public WebsocketServer() {\n        super(new InetSocketAddress(PORT));\n        conns = new HashSet&lt;&gt;();\n    }\n\n    @Override\n    public void onOpen(WebSocket conn, ClientHandshake handshake) {\n        conns.add(conn);\n        System.out.println(&quot;New connection from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\n    }\n\n    @Override\n    public void onClose(WebSocket conn, int code, String reason, boolean remote) {\n        conns.remove(conn);\n        System.out.println(&quot;Closed connection to &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\n    }\n\n    @Override\n    public void onMessage(WebSocket conn, String message) {\n        System.out.println(&quot;Received: &quot; + message);\n\n        for (WebSocket sock : conns) {\n            sock.send(messageToSend);\n        }\n    }\n\n    @Override\n    public void onError(WebSocket conn, Exception ex) {\n        ex.printStackTrace();\n        if (conn != null) {\n            conns.remove(conn);\n            // do some thing if required\n        }\n        System.out.println(&quot;ERROR from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\n    }\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        WebsocketServer server = new WebsocketServer();\n        server.run();\n\n        BufferedReader sysin = new BufferedReader(new InputStreamReader(System.in));\n        while (true) {\n            String in = sysin.readLine();\n            server.sendToAll(in);\n            if (in.equals(&quot;exit&quot;)) {\n                server.stop();\n                break;\n            } else if (in.equals(&quot;restart&quot;)) {\n                server.stop();\n                server.start();\n                break;\n            }\n        }\n\n    }\n\n    public void sendToAll(String text) {\n        Collection&lt;WebSocket&gt; con = connections();\n        synchronized (con) {\n            for (WebSocket c : con) {\n                c.send(text);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The code work<code> fine, but all code that come after server.run();</code> won't start/work! In that part, I need to send messages from the Java console to the client.</p>\n<p>What I am doing wrong?</p>\n<p><strong>Note:</strong> My client works in JavaScript and can connect to the server.</p>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689724013,"post_id":76717117,"comment_id":135253153,"body_markdown":"`T` doesn&#39;t extend `Comparable`.","body":"<code>T</code> doesn&#39;t extend <code>Comparable</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689724084,"post_id":76717117,"comment_id":135253160,"body_markdown":"And what&#39;s `GroupB`? Please edit your question to be a complete example, which compiles, except for that single error.","body":"And what&#39;s <code>GroupB</code>? Please edit your question to be a complete example, which compiles, except for that single error."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1689724163,"post_id":76717117,"comment_id":135253173,"body_markdown":"I see that `BGroup` ensures `T` is comparable (assuming `GroupB = B`), but that doesn&#39;t help `A`. What would you expect to happen if I create a `class C extends A&lt;Object&gt;` and tried to sort? You need to declare `T extends Comparable&lt;T&gt;` if you want to guarantee `T` is sortable.","body":"I see that <code>BGroup</code> ensures <code>T</code> is comparable (assuming <code>GroupB = B</code>), but that doesn&#39;t help <code>A</code>. What would you expect to happen if I create a <code>class C extends A&lt;Object&gt;</code> and tried to sort? You need to declare <code>T extends Comparable&lt;T&gt;</code> if you want to guarantee <code>T</code> is sortable."},{"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"score":0,"creation_date":1689724818,"post_id":76717117,"comment_id":135253223,"body_markdown":"@shmosel can you explain how this is different than writing  Class A&lt;T&gt; implements Comparable&lt;T&gt;","body":"@shmosel can you explain how this is different than writing  Class A&lt;T&gt; implements Comparable&lt;T&gt;"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1689725394,"post_id":76717117,"comment_id":135253262,"body_markdown":"`public abstract class A&lt;T extends Comparable&lt;? super T&gt;&gt;`","body":"<code>public abstract class A&lt;T extends Comparable&lt;? super T&gt;&gt;</code>"},{"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"score":0,"creation_date":1689725677,"post_id":76717117,"comment_id":135253287,"body_markdown":"@ElliottFrisch I&#39;ve added a clarification to my question","body":"@ElliottFrisch I&#39;ve added a clarification to my question"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1689728537,"post_id":76717117,"comment_id":135253512,"body_markdown":"@J_code How is it the same? You&#39;re trying to sort instances of `T`, not `A`.","body":"@J_code How is it the same? You&#39;re trying to sort instances of <code>T</code>, not <code>A</code>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689731855,"post_id":76717117,"comment_id":135253760,"body_markdown":"@J_code `Class A&lt;T&gt; implements Comparable&lt;T&gt;` means that instances of `A` are comparable to instances of `T`, which is not what you want. You want the instances of `T` to be comparable with themselves, so code `Class A&lt;T extends Comparable&lt;T&gt;&gt;`","body":"@J_code <code>Class A&lt;T&gt; implements Comparable&lt;T&gt;</code> means that instances of <code>A</code> are comparable to instances of <code>T</code>, which is not what you want. You want the instances of <code>T</code> to be comparable with themselves, so code <code>Class A&lt;T extends Comparable&lt;T&gt;&gt;</code>"}],"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689725613,"creation_date":1689723717,"question_id":76717117,"body_markdown":"Below is a stripped down version of my implementation structure. Just like how I have a class BGroup that performs operations on individual B classes and extends class A, I have a class CGroup that performs individual operations on individual C classes and extends Class A, and so on and so forth. However at the super.sort() method, I get a compilation error at `Collections.sort(this.list)` that states:\r\n\r\n`reason: no instance(s) of type variable(s) T exist so that T conforms to Comparable&lt;? super T&gt;`\r\n\r\nI am unsure how to resolve this error. I don&#39;t understand specifically what `Comparable&lt;? super T&gt;` means. Any help is appreciated.\r\n```\r\npublic abstract class A &lt;T&gt; {\r\n     private List&lt;T&gt; list;\r\n\r\n    public A() {\r\n        this.list = new ArrayList&lt;&gt;();\r\n    }\r\n    //Protected methods accessible to class GroubB that act upon this.list\r\n    .\r\n    .\r\n    .\r\n    protected void sort() {\r\n        Collections.sort(this.list);\r\n    }\r\n\r\n    protected void insertElement(T t) {\r\n        this.list.add(t);  \r\n    }\r\n}\r\n\r\npublic final class BGroup extends A &lt;GroupB&gt; {\r\n    public B() {\r\n        super();\r\n    }\r\n\r\n    public void addB(B b) {\r\n        super.insertElement(b);\r\n        super.sort();        \r\n    }\r\n\r\n    //Getter and Setter methods that act upon Generic T\r\n    .\r\n    .\r\n    .\r\n}\r\n\r\npublic final class B implements Comparable&lt;B&gt; {\r\n    private LocalDate date;\r\n\r\n    public Expense(LocalDate date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public LocalDate getDate() { return date; }\r\n    \r\n    public void setDate (LocalDate date) { this.date = date; }\r\n    \r\n\r\n    @Override\r\n    public int compareTo(B that) {\r\n        return this.getDate().compareTo(that.getDate());\r\n    }\r\n}\r\n\r\n```","title":"no instance(s) of type variable(s) T exist so that T conforms to Comparable&lt;? super T&gt;","body":"<p>Below is a stripped down version of my implementation structure. Just like how I have a class BGroup that performs operations on individual B classes and extends class A, I have a class CGroup that performs individual operations on individual C classes and extends Class A, and so on and so forth. However at the super.sort() method, I get a compilation error at <code>Collections.sort(this.list)</code> that states:</p>\n<p><code>reason: no instance(s) of type variable(s) T exist so that T conforms to Comparable&lt;? super T&gt;</code></p>\n<p>I am unsure how to resolve this error. I don't understand specifically what <code>Comparable&lt;? super T&gt;</code> means. Any help is appreciated.</p>\n<pre><code>public abstract class A &lt;T&gt; {\n     private List&lt;T&gt; list;\n\n    public A() {\n        this.list = new ArrayList&lt;&gt;();\n    }\n    //Protected methods accessible to class GroubB that act upon this.list\n    .\n    .\n    .\n    protected void sort() {\n        Collections.sort(this.list);\n    }\n\n    protected void insertElement(T t) {\n        this.list.add(t);  \n    }\n}\n\npublic final class BGroup extends A &lt;GroupB&gt; {\n    public B() {\n        super();\n    }\n\n    public void addB(B b) {\n        super.insertElement(b);\n        super.sort();        \n    }\n\n    //Getter and Setter methods that act upon Generic T\n    .\n    .\n    .\n}\n\npublic final class B implements Comparable&lt;B&gt; {\n    private LocalDate date;\n\n    public Expense(LocalDate date) {\n        this.date = date;\n    }\n\n    public LocalDate getDate() { return date; }\n    \n    public void setDate (LocalDate date) { this.date = date; }\n    \n\n    @Override\n    public int compareTo(B that) {\n        return this.getDate().compareTo(that.getDate());\n    }\n}\n\n</code></pre>\n"},{"tags":["java","tomcat","startup","rhel","tomcat9"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1689720633,"post_id":76716938,"comment_id":135252822,"body_markdown":"What if you try `export JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64&quot;`?","body":"What if you try <code>export JAVA_HOME=&quot;&#47;usr&#47;lib&#47;jvm&#47;java-1.8.0-openjdk-1.8.0.372.b07-1.e&zwnj;&#8203;l7_9.x86_64&quot;</code>?"},{"owner":{"account_id":16642236,"reputation":21,"user_id":12027450,"display_name":"BuddyLee"},"score":0,"creation_date":1689720779,"post_id":76716938,"comment_id":135252838,"body_markdown":"Looks like same deal:\nThe JAVA_HOME environment variable is not defined correctly\nJAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE","body":"Looks like same deal: The JAVA_HOME environment variable is not defined correctly JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el&zwnj;&#8203;7_9.x86_64/ This environment variable is needed to run this program NB: JAVA_HOME should point to a JDK not a JRE"},{"owner":{"account_id":16642236,"reputation":21,"user_id":12027450,"display_name":"BuddyLee"},"score":0,"creation_date":1689722462,"post_id":76716938,"comment_id":135253008,"body_markdown":"I ran &quot;java -version&quot; and it is showing &quot;Java(TM) SE Runtime Environment (build 1.8.0_381-b09)&quot;... Why is JRE installed when I installed the JDK???","body":"I ran &quot;java -version&quot; and it is showing &quot;Java(TM) SE Runtime Environment (build 1.8.0_381-b09)&quot;... Why is JRE installed when I installed the JDK???"}],"answers":[{"tags":[],"owner":{"account_id":16642236,"reputation":21,"user_id":12027450,"display_name":"BuddyLee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689724504,"creation_date":1689724504,"answer_id":76717151,"question_id":76716938,"body_markdown":"Still don&#39;t understand but... Originally I installed  JAVA JDK 8 update 381 (jdk-8u381-linux-x64.rpm).  I downloaded a new version of JAVA JDK 19 (jdk-19.0.2_linux-x64_bin.rpm), ran the RPM installation, set the environment variable to &quot;export JAVA_HOME=&quot;/usr/lib/jvm/jdk-19-oracle-x64/&quot;&quot; and tomcat started without issues.","title":"Can&#39;t start Tomcat - JDK installed but Tomcat says &quot;NB: JAVA_HOME should point to a JDK not a JRE&quot;","body":"<p>Still don't understand but... Originally I installed  JAVA JDK 8 update 381 (jdk-8u381-linux-x64.rpm).  I downloaded a new version of JAVA JDK 19 (jdk-19.0.2_linux-x64_bin.rpm), ran the RPM installation, set the environment variable to &quot;export JAVA_HOME=&quot;/usr/lib/jvm/jdk-19-oracle-x64/&quot;&quot; and tomcat started without issues.</p>\n"}],"owner":{"account_id":16642236,"reputation":21,"user_id":12027450,"display_name":"BuddyLee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689724504,"creation_date":1689720421,"question_id":76716938,"body_markdown":"I&#39;m running RHEL 7.9 and ran RPM to install JAVA 8 update 372, then un-tar&#39;d my Tomcat packages so everything is &quot;installed&quot;.  Then I set my .bashrc to:\r\n\r\nexport JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/jre/bin/&quot;\r\n\r\nSo my $JAVA_HOME variable appears to work, but when I run my startup.sh script for tomcat I&#39;m getting the error &quot;NB: JAVA_HOME should point to a JDK not a JRE&quot;.  I&#39;m confused because I installed the JDK and not the JRE and I&#39;m not finding any good threads about this.  Does anyone have a suggestion?\r\n\r\nThanks\r\n\r\n\r\nRan a few different variations of .bashrc to no avail.  Should I not point to the bin folder of my tomcat install?","title":"Can&#39;t start Tomcat - JDK installed but Tomcat says &quot;NB: JAVA_HOME should point to a JDK not a JRE&quot;","body":"<p>I'm running RHEL 7.9 and ran RPM to install JAVA 8 update 372, then un-tar'd my Tomcat packages so everything is &quot;installed&quot;.  Then I set my .bashrc to:</p>\n<p>export JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/jre/bin/&quot;</p>\n<p>So my $JAVA_HOME variable appears to work, but when I run my startup.sh script for tomcat I'm getting the error &quot;NB: JAVA_HOME should point to a JDK not a JRE&quot;.  I'm confused because I installed the JDK and not the JRE and I'm not finding any good threads about this.  Does anyone have a suggestion?</p>\n<p>Thanks</p>\n<p>Ran a few different variations of .bashrc to no avail.  Should I not point to the bin folder of my tomcat install?</p>\n"},{"tags":["java","spring-boot","grafana","logback","opensearch"],"comments":[{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1689725827,"post_id":76717150,"comment_id":135253302,"body_markdown":"This might help you. Try JSONEventLayoutV1 instead of JsonLayout as layout.\n\nhttps://github.com/logstash/log4j-jsonevent-layout","body":"This might help you. Try JSONEventLayoutV1 instead of JsonLayout as layout.  <a href=\"https://github.com/logstash/log4j-jsonevent-layout\" rel=\"nofollow noreferrer\">github.com/logstash/log4j-jsonevent-layout</a>"}],"owner":{"account_id":21551112,"reputation":21,"user_id":15887207,"display_name":"pickstar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689724435,"creation_date":1689724435,"question_id":76717150,"body_markdown":"I&#39;m setting up logging in a Spring Boot microservice. I want the logs to be displayed in json format (ideally in pretty-print format). The logs should display correctly both in my IDE and in a visualization system (such as OpenSearch, Grafana, etc.).\r\nThe problem lies in the display of logs in the visualization system:\r\n\r\n**1 option. Pretty print format (logback.xml)**\r\n\r\n    &lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n                &lt;/jsonFormatter&gt;\r\n                &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZ&lt;/timestampFormat&gt;\r\n                &lt;includeContextName&gt;false&lt;/includeContextName&gt;\r\n                &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n**Problem: Each line of json will be logged separately.**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**2 option. Custom pattern (logback.xml)**\r\n\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;timestamp&gt;\r\n                    &lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n                &lt;/timestamp&gt;\r\n                &lt;mdc/&gt;\r\n                &lt;pattern&gt;\r\n                    &lt;pattern&gt;\r\n                        {\r\n                        &quot;method&quot;: &quot;%mdc{method}&quot;,\r\n                        &quot;url&quot;: &quot;%mdc{url}&quot;,\r\n                        &quot;level&quot;: &quot;%level&quot;,\r\n                        &quot;thread&quot;: &quot;%thread&quot;,\r\n                        &quot;logger&quot;: &quot;%logger&quot;,\r\n                        &quot;message&quot;: &quot;%message&quot;\r\n                        }\r\n                    &lt;/pattern&gt;\r\n                &lt;/pattern&gt;\r\n                &lt;stackTrace/&gt;\r\n            &lt;/providers&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n**Problem: Separate logs are collected into one log.**\r\n[![enter image description here][2]][2]\r\n\r\n**Dependencies (pom.xml):** Spring Boot version 3.0.1.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PHSZk.png\r\n  [2]: https://i.stack.imgur.com/5kZ0L.png","title":"Can&#39;t output logs in JSON pretty print format using logback","body":"<p>I'm setting up logging in a Spring Boot microservice. I want the logs to be displayed in json format (ideally in pretty-print format). The logs should display correctly both in my IDE and in a visualization system (such as OpenSearch, Grafana, etc.).\nThe problem lies in the display of logs in the visualization system:</p>\n<p><strong>1 option. Pretty print format (logback.xml)</strong></p>\n<pre><code>&lt;configuration&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\n\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n        &lt;charset&gt;UTF-8&lt;/charset&gt;\n        &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n            &lt;/jsonFormatter&gt;\n            &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSZZ&lt;/timestampFormat&gt;\n            &lt;includeContextName&gt;false&lt;/includeContextName&gt;\n            &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n        &lt;/layout&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>Problem: Each line of json will be logged separately.</strong>\n<a href=\"https://i.stack.imgur.com/PHSZk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PHSZk.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>2 option. Custom pattern (logback.xml)</strong></p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\n\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n        &lt;providers&gt;\n            &lt;timestamp&gt;\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n            &lt;/timestamp&gt;\n            &lt;mdc/&gt;\n            &lt;pattern&gt;\n                &lt;pattern&gt;\n                    {\n                    &quot;method&quot;: &quot;%mdc{method}&quot;,\n                    &quot;url&quot;: &quot;%mdc{url}&quot;,\n                    &quot;level&quot;: &quot;%level&quot;,\n                    &quot;thread&quot;: &quot;%thread&quot;,\n                    &quot;logger&quot;: &quot;%logger&quot;,\n                    &quot;message&quot;: &quot;%message&quot;\n                    }\n                &lt;/pattern&gt;\n            &lt;/pattern&gt;\n            &lt;stackTrace/&gt;\n        &lt;/providers&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n&lt;root level=&quot;debug&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>Problem: Separate logs are collected into one log.</strong>\n<a href=\"https://i.stack.imgur.com/5kZ0L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5kZ0L.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Dependencies (pom.xml):</strong> Spring Boot version 3.0.1.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n        &lt;version&gt;0.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","sonarlint-intellij"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689718680,"post_id":76716826,"comment_id":135252638,"body_markdown":"Does this answer your question? [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"},{"owner":{"account_id":1110957,"reputation":105,"user_id":1101422,"accept_rate":86,"display_name":"Harini"},"score":0,"creation_date":1689719983,"post_id":76716826,"comment_id":135252770,"body_markdown":"@TimMoore I know what a raw type is. The problem I m facing is how to apply that to a generic class like the one I have","body":"@TimMoore I know what a raw type is. The problem I m facing is how to apply that to a generic class like the one I have"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689722475,"post_id":76716826,"comment_id":135253010,"body_markdown":"You need to provide values for the type parameters wherever you use the generic type. I’m not sure what values are right for your use case, because the question doesn’t describe it, but I would guess you want wildcards `?`","body":"You need to provide values for the type parameters wherever you use the generic type. I’m not sure what values are right for your use case, because the question doesn’t describe it, but I would guess you want wildcards <code>?</code>"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689724369,"creation_date":1689724369,"answer_id":76717146,"question_id":76716826,"body_markdown":"To get rid of the raw type warnings, values need to be provided for the type parameters of `IndicesStrategy` wherever that type is used in `IndicesFactory`. It appears that this class needs to handle different types of `IndicesStrategy`, so it can use type wildcards (`?`) as the values:\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class IndicesFactory {\r\n\r\n    private final Map&lt;String, IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesMap;\r\n\r\n    public IndicesFactory(List&lt;IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesStrategyList) {\r\n        this.indicesMap = new HashMap&lt;&gt;();\r\n        indicesStrategyList.forEach(strategy -&gt;\r\n                this.indicesMap.put(strategy.getOperation().toString(), strategy));\r\n    }\r\n\r\n    private IndicesStrategy&lt;?, ?, ?&gt; getStrategy(String operation) {\r\n        return this.indicesMap.get(operation);\r\n    }\r\n\r\n\r\n    public &lt;T, R extends IndicesResponse&gt; R execute(String operation, T t) {\r\n        IndicesStrategy&lt;?, T, R&gt; strategy =\r\n                (IndicesStrategy&lt;?, T, R&gt;) getStrategy(operation);\r\n        return strategy.execute(t);\r\n    }\r\n}\r\n```\r\n\r\nAs an alternative equivalent, you might prefer to move the unchecked cast into the `getStrategy` method:\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class IndicesFactory {\r\n\r\n    private final Map&lt;String, IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesMap;\r\n\r\n    public IndicesFactory(List&lt;IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesStrategyList) {\r\n        this.indicesMap = new HashMap&lt;&gt;();\r\n        indicesStrategyList.forEach(strategy -&gt;\r\n                this.indicesMap.put(strategy.getOperation().toString(), strategy));\r\n    }\r\n\r\n    private &lt;T, R extends IndicesResponse&gt; IndicesStrategy&lt;?, T, R&gt; getStrategy(String operation) {\r\n        return (IndicesStrategy&lt;?, T, R&gt;) this.indicesMap.get(operation);\r\n    }\r\n\r\n\r\n    public &lt;T, R extends IndicesResponse&gt; R execute(String operation, T t) {\r\n        IndicesStrategy&lt;?, T, R&gt; strategy = getStrategy(operation);\r\n        return strategy.execute(t);\r\n    }\r\n}\r\n```","title":"Sonar lint fix for generic class","body":"<p>To get rid of the raw type warnings, values need to be provided for the type parameters of <code>IndicesStrategy</code> wherever that type is used in <code>IndicesFactory</code>. It appears that this class needs to handle different types of <code>IndicesStrategy</code>, so it can use type wildcards (<code>?</code>) as the values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class IndicesFactory {\n\n    private final Map&lt;String, IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesMap;\n\n    public IndicesFactory(List&lt;IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesStrategyList) {\n        this.indicesMap = new HashMap&lt;&gt;();\n        indicesStrategyList.forEach(strategy -&gt;\n                this.indicesMap.put(strategy.getOperation().toString(), strategy));\n    }\n\n    private IndicesStrategy&lt;?, ?, ?&gt; getStrategy(String operation) {\n        return this.indicesMap.get(operation);\n    }\n\n\n    public &lt;T, R extends IndicesResponse&gt; R execute(String operation, T t) {\n        IndicesStrategy&lt;?, T, R&gt; strategy =\n                (IndicesStrategy&lt;?, T, R&gt;) getStrategy(operation);\n        return strategy.execute(t);\n    }\n}\n</code></pre>\n<p>As an alternative equivalent, you might prefer to move the unchecked cast into the <code>getStrategy</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class IndicesFactory {\n\n    private final Map&lt;String, IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesMap;\n\n    public IndicesFactory(List&lt;IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesStrategyList) {\n        this.indicesMap = new HashMap&lt;&gt;();\n        indicesStrategyList.forEach(strategy -&gt;\n                this.indicesMap.put(strategy.getOperation().toString(), strategy));\n    }\n\n    private &lt;T, R extends IndicesResponse&gt; IndicesStrategy&lt;?, T, R&gt; getStrategy(String operation) {\n        return (IndicesStrategy&lt;?, T, R&gt;) this.indicesMap.get(operation);\n    }\n\n\n    public &lt;T, R extends IndicesResponse&gt; R execute(String operation, T t) {\n        IndicesStrategy&lt;?, T, R&gt; strategy = getStrategy(operation);\n        return strategy.execute(t);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1110957,"reputation":105,"user_id":1101422,"accept_rate":86,"display_name":"Harini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689724369,"creation_date":1689718404,"question_id":76716826,"body_markdown":"I have the below code to instantiate all the service on the start of the application. Sonar lint on the IndicesFactory is complaining for generic raw type. What is the best way to fix this?\r\n\r\n    public class IndicesFactory {\r\n    \r\n    private final Map&lt;String, IndicesStrategy&gt; indicesMap;\r\n    \r\n    public IndicesFactory(List&lt;IndicesStrategy&gt; indicesStrategyList) {\r\n        this.indicesMap = new HashMap&lt;&gt;();\r\n        indicesStrategyList.forEach(strategy -&gt; this.indicesMap.put(strategy.getOperation().toString(), strategy));\r\n    }\r\n    \r\n    private IndicesStrategy getStrategy(String operation) {\r\n        return this.indicesMap.get(operation);\r\n    }\r\n    \r\n\r\n    public &lt;T, R&gt; R execute(String operation, T t) {\r\n        return (R) getStrategy(operation).execute(t);\r\n    }}\r\n\r\nAnd my IndicesStrategy interface has below code\r\n\r\n   \r\n    public interface IndicesStrategy&lt;operation extends Enum&lt;?&gt;, T, R extends \r\n      IndicesResponse&gt; {\r\n    \r\n    R execute(T t);\r\n    \r\n    operation getOperation();\r\n    }\r\n\r\n","title":"Sonar lint fix for generic class","body":"<p>I have the below code to instantiate all the service on the start of the application. Sonar lint on the IndicesFactory is complaining for generic raw type. What is the best way to fix this?</p>\n<pre><code>public class IndicesFactory {\n\nprivate final Map&lt;String, IndicesStrategy&gt; indicesMap;\n\npublic IndicesFactory(List&lt;IndicesStrategy&gt; indicesStrategyList) {\n    this.indicesMap = new HashMap&lt;&gt;();\n    indicesStrategyList.forEach(strategy -&gt; this.indicesMap.put(strategy.getOperation().toString(), strategy));\n}\n\nprivate IndicesStrategy getStrategy(String operation) {\n    return this.indicesMap.get(operation);\n}\n\n\npublic &lt;T, R&gt; R execute(String operation, T t) {\n    return (R) getStrategy(operation).execute(t);\n}}\n</code></pre>\n<p>And my IndicesStrategy interface has below code</p>\n<pre><code>public interface IndicesStrategy&lt;operation extends Enum&lt;?&gt;, T, R extends \n  IndicesResponse&gt; {\n\nR execute(T t);\n\noperation getOperation();\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":50288,"reputation":2249,"user_id":149956,"display_name":"rochb"},"score":0,"creation_date":1463685995,"post_id":29286907,"comment_id":62182940,"body_markdown":"See http://stackoverflow.com/questions/28081401/dynamodbmapper-for-conditional-saves","body":"See <a href=\"http://stackoverflow.com/questions/28081401/dynamodbmapper-for-conditional-saves\" title=\"dynamodbmapper for conditional saves\">stackoverflow.com/questions/28081401/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1542019922,"creation_date":1427399800,"answer_id":29287664,"question_id":29286907,"body_markdown":"I believe you should be able to do this with a [DynamoDbSaveExpression][1] object that can apply to the mapper.\r\n\r\nThere&#39;s a tutorial on the AWS site [here][2], code shown below:\r\n\r\n    try {\r\n        DynamoDBSaveExpression saveExpression = new       DynamoDBSaveExpression();\r\n        Map expected = new HashMap();\r\n        expected.put(&quot;status&quot;, new ExpectedAttributeValue().withExists(false));\r\n \r\n        saveExpression.setExpected(expected);\r\n \r\n        mapper.save(obj, saveExpression);\r\n    } catch (ConditionalCheckFailedException e) {\r\n        // This means our save wasn&#39;t recorded, since our constraint wasn&#39;t met\r\n        // If this happens, the worker can simply look for a new task to work on\r\n    }\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBSaveExpression.html\r\n  [2]: https://java.awsblog.com/post/Tx1JADUVTWF7SP2/Specifying-Conditional-Constraints-with-Amazon-DynamoDB-Mapper","title":"DynamoDBMapper save only if object doesn&#39;t exist","body":"<p>I believe you should be able to do this with a <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBSaveExpression.html\" rel=\"noreferrer\">DynamoDbSaveExpression</a> object that can apply to the mapper.</p>\n\n<p>There's a tutorial on the AWS site <a href=\"https://java.awsblog.com/post/Tx1JADUVTWF7SP2/Specifying-Conditional-Constraints-with-Amazon-DynamoDB-Mapper\" rel=\"noreferrer\">here</a>, code shown below:</p>\n\n<pre><code>try {\n    DynamoDBSaveExpression saveExpression = new       DynamoDBSaveExpression();\n    Map expected = new HashMap();\n    expected.put(\"status\", new ExpectedAttributeValue().withExists(false));\n\n    saveExpression.setExpected(expected);\n\n    mapper.save(obj, saveExpression);\n} catch (ConditionalCheckFailedException e) {\n    // This means our save wasn't recorded, since our constraint wasn't met\n    // If this happens, the worker can simply look for a new task to work on\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495479599,"creation_date":1494958262,"answer_id":44008706,"question_id":29286907,"body_markdown":"Here&#39;s the correct way to implement this with the DynamoDBMapper:\r\n\r\n    User newUser = new User();\r\n    newUser.setUsername(username);\r\n    newUser.setPassword(password);\r\n\r\n    DynamoDBSaveExpression saveExpr = new DynamoDBSaveExpression();\r\n    saveExpr.setExpected(new ImmutableMap.Builder()\r\n    .put(&quot;username&quot;, new ExpectedAttributeValue(false)).build());\r\n\r\n    dynamoDBMapper.save(newUser, saveExpr);\r\n\r\nSource: https://blog.jayway.com/2013/08/24/create-entity-if-not-exists-in-dynamodb-from-java/\r\n\r\nEDIT: Here&#39;s my implementation of it in practice. Extremely easy to implement:\r\n\r\n    public Statement saveIfNotExist(Statement statement) throws ConditionalCheckFailedException {\r\n        return mapper.save(statement, new DynamoDBSaveExpression().withExpected(ImmutableMap.of(&quot;id&quot;, new ExpectedAttributeValue(false))));\r\n    }\r\n\r\nwith passing unit test:\r\n\r\n    @Test(expectedExceptions = ConditionalCheckFailedException.class)\r\n    public void shouldNotProcessIdenticalStatementUpdateInstances() {\r\n        Statement statement1 = StatementTestBuilder.valid().build();\r\n        Statement statement2 = StatementTestBuilder.valid().withId(statement1.getId()).build();\r\n\r\n        statementRepository.saveIfNotExist(statement1);\r\n        statementRepository.saveIfNotExist(statement2);\r\n    }","title":"DynamoDBMapper save only if object doesn&#39;t exist","body":"<p>Here's the correct way to implement this with the DynamoDBMapper:</p>\n\n<pre><code>User newUser = new User();\nnewUser.setUsername(username);\nnewUser.setPassword(password);\n\nDynamoDBSaveExpression saveExpr = new DynamoDBSaveExpression();\nsaveExpr.setExpected(new ImmutableMap.Builder()\n.put(\"username\", new ExpectedAttributeValue(false)).build());\n\ndynamoDBMapper.save(newUser, saveExpr);\n</code></pre>\n\n<p>Source: <a href=\"https://blog.jayway.com/2013/08/24/create-entity-if-not-exists-in-dynamodb-from-java/\" rel=\"nofollow noreferrer\">https://blog.jayway.com/2013/08/24/create-entity-if-not-exists-in-dynamodb-from-java/</a></p>\n\n<p>EDIT: Here's my implementation of it in practice. Extremely easy to implement:</p>\n\n<pre><code>public Statement saveIfNotExist(Statement statement) throws ConditionalCheckFailedException {\n    return mapper.save(statement, new DynamoDBSaveExpression().withExpected(ImmutableMap.of(\"id\", new ExpectedAttributeValue(false))));\n}\n</code></pre>\n\n<p>with passing unit test:</p>\n\n<pre><code>@Test(expectedExceptions = ConditionalCheckFailedException.class)\npublic void shouldNotProcessIdenticalStatementUpdateInstances() {\n    Statement statement1 = StatementTestBuilder.valid().build();\n    Statement statement2 = StatementTestBuilder.valid().withId(statement1.getId()).build();\n\n    statementRepository.saveIfNotExist(statement1);\n    statementRepository.saveIfNotExist(statement2);\n}\n</code></pre>\n"}],"owner":{"account_id":1204808,"reputation":11030,"user_id":1174719,"accept_rate":88,"display_name":"Nosrettap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18596,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1689724240,"creation_date":1427396958,"question_id":29286907,"body_markdown":"Using the Java DynamoDBMapper, how can I save an object only if it doesn&#39;t already exist (based on primary key).  If it does exist, I want an exception or failure to be thrown, rather than having the existing entry updated.","title":"DynamoDBMapper save only if object doesn&#39;t exist","body":"<p>Using the Java DynamoDBMapper, how can I save an object only if it doesn't already exist (based on primary key).  If it does exist, I want an exception or failure to be thrown, rather than having the existing entry updated.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689721247,"creation_date":1689721247,"answer_id":76716986,"question_id":76716194,"body_markdown":"Your `listeners`/`advertised.listeners` are only enabling `PLAINTEXT` (so nothing). Therefore, error says `enabled mechanisms are []`. \r\n\r\nReplace that with `SASL_PLAINTEXT`, as is defined in the mapping list, and ensure you&#39;ve added the broker JAAS file as part of `KAFKA_OPTS` environment variable before running `kafka-server-start`","title":"Kafka Failed authentication Unexpected handshake request with client mechanism PLAIN enabled mechanisms are []","body":"<p>Your <code>listeners</code>/<code>advertised.listeners</code> are only enabling <code>PLAINTEXT</code> (so nothing). Therefore, error says <code>enabled mechanisms are []</code>.</p>\n<p>Replace that with <code>SASL_PLAINTEXT</code>, as is defined in the mapping list, and ensure you've added the broker JAAS file as part of <code>KAFKA_OPTS</code> environment variable before running <code>kafka-server-start</code></p>\n"}],"owner":{"account_id":5970800,"reputation":1976,"user_id":4693170,"accept_rate":38,"display_name":"Rakesh Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689721247,"creation_date":1689710625,"question_id":76716194,"body_markdown":"I am getting below exception while trying to connect kafka in Ubuntu from Java Program in Windows\r\n\r\n    [main] INFO org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.\r\n    [main] INFO org.apache.kafka.common.security.authenticator.AbstractLogin - Successfully logged in.\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.5.0\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: c97b88d5db4de28d\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1689709198762\r\n    [kafka-producer-network-thread | producer-1] INFO org.apache.kafka.common.network.Selector -         \r\n    [Producer clientId=producer-1] Failed authentication with rakesh-virtual-machine/192.168.108.130 (channelId=-1) (Unexpected handshake request with client mechanism PLAIN, enabled mechanisms are [])\r\n    [kafka-producer-network-thread | producer-1] INFO org.apache.kafka.clients.NetworkClient - \r\n    [Producer clientId=producer-1] Node -1 disconnected.\r\n    [kafka-producer-network-thread | producer-1] ERROR org.apache.kafka.clients.NetworkClient - \r\n    [Producer clientId=producer-1] Connection to node -1 (rakesh-virtual-machine/x.x.x.x:9092) failed authentication due to: Unexpected handshake request with client mechanism PLAIN, enabled mechanisms are []\r\n    [kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient -         \r\n    [Producer clientId=producer-1] Bootstrap broker rakesh-virtual-machine:9092 (id: -1 rack: null) disconnected\r\n    [main] INFO org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.\r\n    [main] INFO org.apache.kafka.common.metrics.Metrics - Metrics scheduler closed\r\n    [main] INFO org.apache.kafka.common.metrics.Metrics - Closing reporter \r\n    org.apache.kafka.common.metrics.JmxReporter\r\n\r\n\r\n\r\nMy Java Cofig is\r\n\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;bootstrap.servers&quot;, &quot;rakesh-virtual-machine:9092&quot;);\r\n        properties.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\r\n        properties.put(&quot;sasl.mechanism&quot;, &quot;PLAIN&quot;);\r\n        properties.put(&quot;sasl.jaas.config&quot;, PlainLoginModule.class.getName()\r\n                + &quot; required username=\\&quot;admin\\&quot; password=\\&quot;12345\\&quot;;&quot;);\r\n\r\n        properties.setProperty(&quot;key.serializer&quot;, StringSerializer.class.getName());\r\n        properties.setProperty(&quot;value.serializer&quot;, StringSerializer.class.getName());\r\n\r\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n        ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(&quot;test&quot;, &quot;test_value&quot;);\r\n        producer.send(record);\r\n        producer.flush();\r\n        producer.close();\r\n\r\nConfiguration of Kafka server.properties is below.\r\n\r\n    listeners=PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093\r\n    inter.broker.listener.name=PLAINTEXT\r\n    advertised.listeners=PLAINTEXT://rakesh-virtual-machine:9092\r\n    sasl.mechanism.inter.broker.protocol=PLAIN\r\n    sasl.enabled.mechanisms=PLAIN\r\n    listener.security.protocol.map=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\r\n\r\nAny help will be really appreciated.\r\n\r\n","title":"Kafka Failed authentication Unexpected handshake request with client mechanism PLAIN enabled mechanisms are []","body":"<p>I am getting below exception while trying to connect kafka in Ubuntu from Java Program in Windows</p>\n<pre><code>[main] INFO org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.\n[main] INFO org.apache.kafka.common.security.authenticator.AbstractLogin - Successfully logged in.\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.5.0\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: c97b88d5db4de28d\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1689709198762\n[kafka-producer-network-thread | producer-1] INFO org.apache.kafka.common.network.Selector -         \n[Producer clientId=producer-1] Failed authentication with rakesh-virtual-machine/192.168.108.130 (channelId=-1) (Unexpected handshake request with client mechanism PLAIN, enabled mechanisms are [])\n[kafka-producer-network-thread | producer-1] INFO org.apache.kafka.clients.NetworkClient - \n[Producer clientId=producer-1] Node -1 disconnected.\n[kafka-producer-network-thread | producer-1] ERROR org.apache.kafka.clients.NetworkClient - \n[Producer clientId=producer-1] Connection to node -1 (rakesh-virtual-machine/x.x.x.x:9092) failed authentication due to: Unexpected handshake request with client mechanism PLAIN, enabled mechanisms are []\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient -         \n[Producer clientId=producer-1] Bootstrap broker rakesh-virtual-machine:9092 (id: -1 rack: null) disconnected\n[main] INFO org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.\n[main] INFO org.apache.kafka.common.metrics.Metrics - Metrics scheduler closed\n[main] INFO org.apache.kafka.common.metrics.Metrics - Closing reporter \norg.apache.kafka.common.metrics.JmxReporter\n</code></pre>\n<p>My Java Cofig is</p>\n<pre><code>    Properties properties = new Properties();\n    properties.setProperty(&quot;bootstrap.servers&quot;, &quot;rakesh-virtual-machine:9092&quot;);\n    properties.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\n    properties.put(&quot;sasl.mechanism&quot;, &quot;PLAIN&quot;);\n    properties.put(&quot;sasl.jaas.config&quot;, PlainLoginModule.class.getName()\n            + &quot; required username=\\&quot;admin\\&quot; password=\\&quot;12345\\&quot;;&quot;);\n\n    properties.setProperty(&quot;key.serializer&quot;, StringSerializer.class.getName());\n    properties.setProperty(&quot;value.serializer&quot;, StringSerializer.class.getName());\n\n    KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n    ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(&quot;test&quot;, &quot;test_value&quot;);\n    producer.send(record);\n    producer.flush();\n    producer.close();\n</code></pre>\n<p>Configuration of Kafka server.properties is below.</p>\n<pre><code>listeners=PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093\ninter.broker.listener.name=PLAINTEXT\nadvertised.listeners=PLAINTEXT://rakesh-virtual-machine:9092\nsasl.mechanism.inter.broker.protocol=PLAIN\nsasl.enabled.mechanisms=PLAIN\nlistener.security.protocol.map=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\n</code></pre>\n<p>Any help will be really appreciated.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-mllib"],"answers":[{"tags":[],"owner":{"account_id":4615554,"reputation":113,"user_id":3742195,"display_name":"Legolas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689720173,"creation_date":1459804619,"answer_id":36413020,"question_id":36410804,"body_markdown":"So I was able to do it with a simple cast to Vector. I don&#39;t know why I didn&#39;t try the simple things first!\r\n\r\n    \t\t JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\r\n\t\t          .select(&quot;features&quot;).toJavaRDD()\r\n\t\t          .map(new Function&lt;Row, Vector&gt;() {\r\n\t\t            public Vector call(Row row) throws Exception {\r\n\t\t            \treturn (Vector)row.get(0);\r\n\t\t            }\r\n\t\t          });\r\n\r\nOr with lambda expressions,\r\n\r\n    JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\r\n    \t\t          .select(&quot;features&quot;)\r\n                      .toJavaRDD()\r\n    \t\t          .map((Function&lt;Row, Vector&gt;) row -&gt; (Vector) row.get(0));\r\n\r\n\t\t ","title":"Convert JavaRDD&lt;Row&gt; to JavaRDD&lt;Vector&gt;","body":"<p>So I was able to do it with a simple cast to Vector. I don't know why I didn't try the simple things first!</p>\n<pre><code>         JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\n              .select(&quot;features&quot;).toJavaRDD()\n              .map(new Function&lt;Row, Vector&gt;() {\n                public Vector call(Row row) throws Exception {\n                    return (Vector)row.get(0);\n                }\n              });\n</code></pre>\n<p>Or with lambda expressions,</p>\n<pre><code>JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\n                  .select(&quot;features&quot;)\n                  .toJavaRDD()\n                  .map((Function&lt;Row, Vector&gt;) row -&gt; (Vector) row.get(0));\n\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2545284,"reputation":10308,"user_id":2210206,"accept_rate":68,"display_name":"AmirHd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517964872,"creation_date":1517964872,"answer_id":48654319,"question_id":36410804,"body_markdown":"You don&#39;t need to covert the `DataFrame/DataSet` to a `JavaRDD`for it to work with `LDA`. After few hours of fiddling I finally got the native `rdd` in `Scala` to work. \r\n\r\nRelevant imports:\r\n\r\n    import org.apache.spark.ml.feature.{CountVectorizer, RegexTokenizer, StopWordsRemover}\r\n    import org.apache.spark.ml.linalg.{Vector =&gt; MLVector}\r\n    import org.apache.spark.mllib.clustering.{LDA, OnlineLDAOptimizer}\r\n    import org.apache.spark.mllib.linalg.Vectors\r\n    import org.apache.spark.sql.{Row, SparkSession}\r\n\r\n\r\n\r\n\r\nThe snippet of the code follows the rest remains the same as [this example][1]:\r\n\r\n    val cvModel = new CountVectorizer()\r\n            .setInputCol(&quot;filtered&quot;)\r\n            .setOutputCol(&quot;features&quot;)\r\n            .setVocabSize(vocabSize)\r\n            .fit(filteredTokens)\r\n     \r\n\r\n    val countVectors = cvModel\r\n            .transform(filteredTokens)\r\n            .select(&quot;docId&quot;,&quot;features&quot;)\r\n            .rdd.map { case Row(docId: String, features: MLVector) =&gt; \r\n                       (docId.toLong, Vectors.fromML(features)) \r\n                     }\r\n    val mbf = {\r\n        // add (1.0 / actualCorpusSize) to MiniBatchFraction be more robust on tiny datasets.\r\n        val corpusSize = countVectors.count()\r\n        2.0 / maxIterations + 1.0 / corpusSize\r\n      }\r\n      val lda = new LDA()\r\n        .setOptimizer(new OnlineLDAOptimizer().setMiniBatchFraction(math.min(1.0, mbf)))\r\n        .setK(numTopics)\r\n        .setMaxIterations(2)\r\n        .setDocConcentration(-1) // use default symmetric document-topic prior\r\n        .setTopicConcentration(-1) // use default symmetric topic-word prior\r\n\r\n      val startTime = System.nanoTime()\r\n      val ldaModel = lda.run(countVectors)\r\n      val elapsed = (System.nanoTime() - startTime) / 1e9\r\n\r\n      /**\r\n        * Print results.\r\n        */\r\n      // Print training time\r\n      println(s&quot;Finished training LDA model.  Summary:&quot;)\r\n      println(s&quot;Training time (sec)\\t$elapsed&quot;)\r\n      println(s&quot;==========&quot;)\r\n\r\nThanks goes to the author of the code [here][2].\r\n\r\n\r\n  [1]: https://gist.github.com/feynmanliang/3b6555758a27adcb527d\r\n  [2]: https://github.com/apache/spark/blob/master/examples/src/main/scala/org/apache/spark/examples/mllib/LDAExample.scala#L193","title":"Convert JavaRDD&lt;Row&gt; to JavaRDD&lt;Vector&gt;","body":"<p>You don't need to covert the <code>DataFrame/DataSet</code> to a <code>JavaRDD</code>for it to work with <code>LDA</code>. After few hours of fiddling I finally got the native <code>rdd</code> in <code>Scala</code> to work. </p>\n\n<p>Relevant imports:</p>\n\n<pre><code>import org.apache.spark.ml.feature.{CountVectorizer, RegexTokenizer, StopWordsRemover}\nimport org.apache.spark.ml.linalg.{Vector =&gt; MLVector}\nimport org.apache.spark.mllib.clustering.{LDA, OnlineLDAOptimizer}\nimport org.apache.spark.mllib.linalg.Vectors\nimport org.apache.spark.sql.{Row, SparkSession}\n</code></pre>\n\n<p>The snippet of the code follows the rest remains the same as <a href=\"https://gist.github.com/feynmanliang/3b6555758a27adcb527d\" rel=\"nofollow noreferrer\">this example</a>:</p>\n\n<pre><code>val cvModel = new CountVectorizer()\n        .setInputCol(\"filtered\")\n        .setOutputCol(\"features\")\n        .setVocabSize(vocabSize)\n        .fit(filteredTokens)\n\n\nval countVectors = cvModel\n        .transform(filteredTokens)\n        .select(\"docId\",\"features\")\n        .rdd.map { case Row(docId: String, features: MLVector) =&gt; \n                   (docId.toLong, Vectors.fromML(features)) \n                 }\nval mbf = {\n    // add (1.0 / actualCorpusSize) to MiniBatchFraction be more robust on tiny datasets.\n    val corpusSize = countVectors.count()\n    2.0 / maxIterations + 1.0 / corpusSize\n  }\n  val lda = new LDA()\n    .setOptimizer(new OnlineLDAOptimizer().setMiniBatchFraction(math.min(1.0, mbf)))\n    .setK(numTopics)\n    .setMaxIterations(2)\n    .setDocConcentration(-1) // use default symmetric document-topic prior\n    .setTopicConcentration(-1) // use default symmetric topic-word prior\n\n  val startTime = System.nanoTime()\n  val ldaModel = lda.run(countVectors)\n  val elapsed = (System.nanoTime() - startTime) / 1e9\n\n  /**\n    * Print results.\n    */\n  // Print training time\n  println(s\"Finished training LDA model.  Summary:\")\n  println(s\"Training time (sec)\\t$elapsed\")\n  println(s\"==========\")\n</code></pre>\n\n<p>Thanks goes to the author of the code <a href=\"https://github.com/apache/spark/blob/master/examples/src/main/scala/org/apache/spark/examples/mllib/LDAExample.scala#L193\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":4615554,"reputation":113,"user_id":3742195,"display_name":"Legolas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4007,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":2,"score":2,"last_activity_date":1689720173,"creation_date":1459796597,"question_id":36410804,"body_markdown":"I&#39;m trying to perform LDA on Wikipedia XML dump. After getting an RDD of raw text, I am creating a dataframe and transforming it through Tokenizer, StopWords and CountVectorizer pipelines. I intend to pass the RDD of Vectors ouput from CountVectorizer to OnlineLDA in MLLib.\r\nHere&#39;s my code:\r\n\r\n     // Configure an ML pipeline\r\n\t RegexTokenizer tokenizer = new RegexTokenizer()\r\n\t   .setInputCol(&quot;text&quot;)\r\n\t   .setOutputCol(&quot;words&quot;);\r\n\t \r\n\t StopWordsRemover remover = new StopWordsRemover()\r\n\t\t\t  .setInputCol(&quot;words&quot;)\r\n\t\t\t  .setOutputCol(&quot;filtered&quot;);\r\n\t \r\n\t CountVectorizer cv = new CountVectorizer()\r\n\t\t\t  .setVocabSize(vocabSize)\r\n\t\t\t  .setInputCol(&quot;filtered&quot;)\r\n\t\t\t  .setOutputCol(&quot;features&quot;);\r\n\t \r\n\t Pipeline pipeline = new Pipeline()\r\n\t\t\t  .setStages(new PipelineStage[] {tokenizer, remover, cv});\r\n\t \t \r\n\t// Fit the pipeline to train documents.\r\n\t PipelineModel model = pipeline.fit(fileDF);\r\n\t \r\n\t JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\r\n\t          .select(&quot;features&quot;).toJavaRDD()\r\n\t          .map(new Function&lt;Row, Vector&gt;() {\r\n\t            public Vector call(Row row) throws Exception {\r\n\t            \tObject[] arr = row.getList(0).toArray();\r\n\r\n\t            \tdouble[] features = new double[arr.length];\r\n\t            \tint i = 0;\r\n\t            \tfor(Object obj : arr){\r\n\t            \t\tfeatures[i++] = (double)obj;\r\n\t            \t}\r\n\t                return Vectors.dense(features);\r\n\t            }\r\n\t          });\r\n\t\t \r\nI&#39;m getting the class cast exception because of the line\r\n\r\n    Object[] arr = row.getList(0).toArray();\r\n\r\n\r\n    Caused by: java.lang.ClassCastException: org.apache.spark.mllib.linalg.SparseVector cannot be cast to scala.collection.Seq\r\n\tat org.apache.spark.sql.Row$class.getSeq(Row.scala:278)\r\n\tat org.apache.spark.sql.catalyst.expressions.GenericRow.getSeq(rows.scala:192)\r\n\tat org.apache.spark.sql.Row$class.getList(Row.scala:286)\r\n\tat org.apache.spark.sql.catalyst.expressions.GenericRow.getList(rows.scala:192)\r\n\tat xmlProcess.ParseXML$2.call(ParseXML.java:142)\r\n\tat xmlProcess.ParseXML$2.call(ParseXML.java:1)\r\n\r\nI found the Scala syntax to do this [here][1] but couldn&#39;t find any example to do it in Java. I tried `row.getAs[Vector](0)` but that&#39;s just Scala syntax. Any ways to do it in Java?\r\n\r\n  [1]: https://stackoverflow.com/questions/33048177/converting-rddorg-apache-spark-sql-row-to-rddorg-apache-spark-mllib-linalg-ve &quot;here&quot;","title":"Convert JavaRDD&lt;Row&gt; to JavaRDD&lt;Vector&gt;","body":"<p>I'm trying to perform LDA on Wikipedia XML dump. After getting an RDD of raw text, I am creating a dataframe and transforming it through Tokenizer, StopWords and CountVectorizer pipelines. I intend to pass the RDD of Vectors ouput from CountVectorizer to OnlineLDA in MLLib.\nHere's my code:</p>\n\n<pre><code> // Configure an ML pipeline\n RegexTokenizer tokenizer = new RegexTokenizer()\n   .setInputCol(\"text\")\n   .setOutputCol(\"words\");\n\n StopWordsRemover remover = new StopWordsRemover()\n          .setInputCol(\"words\")\n          .setOutputCol(\"filtered\");\n\n CountVectorizer cv = new CountVectorizer()\n          .setVocabSize(vocabSize)\n          .setInputCol(\"filtered\")\n          .setOutputCol(\"features\");\n\n Pipeline pipeline = new Pipeline()\n          .setStages(new PipelineStage[] {tokenizer, remover, cv});\n\n// Fit the pipeline to train documents.\n PipelineModel model = pipeline.fit(fileDF);\n\n JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\n          .select(\"features\").toJavaRDD()\n          .map(new Function&lt;Row, Vector&gt;() {\n            public Vector call(Row row) throws Exception {\n                Object[] arr = row.getList(0).toArray();\n\n                double[] features = new double[arr.length];\n                int i = 0;\n                for(Object obj : arr){\n                    features[i++] = (double)obj;\n                }\n                return Vectors.dense(features);\n            }\n          });\n</code></pre>\n\n<p>I'm getting the class cast exception because of the line</p>\n\n<pre><code>Object[] arr = row.getList(0).toArray();\n\n\nCaused by: java.lang.ClassCastException: org.apache.spark.mllib.linalg.SparseVector cannot be cast to scala.collection.Seq\nat org.apache.spark.sql.Row$class.getSeq(Row.scala:278)\nat org.apache.spark.sql.catalyst.expressions.GenericRow.getSeq(rows.scala:192)\nat org.apache.spark.sql.Row$class.getList(Row.scala:286)\nat org.apache.spark.sql.catalyst.expressions.GenericRow.getList(rows.scala:192)\nat xmlProcess.ParseXML$2.call(ParseXML.java:142)\nat xmlProcess.ParseXML$2.call(ParseXML.java:1)\n</code></pre>\n\n<p>I found the Scala syntax to do this <a href=\"https://stackoverflow.com/questions/33048177/converting-rddorg-apache-spark-sql-row-to-rddorg-apache-spark-mllib-linalg-ve\" title=\"here\">here</a> but couldn't find any example to do it in Java. I tried <code>row.getAs[Vector](0)</code> but that's just Scala syntax. Any ways to do it in Java?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","graphql"],"answers":[{"tags":[],"owner":{"account_id":338971,"reputation":1160,"user_id":668148,"accept_rate":100,"display_name":"Bogdan Kobylynskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653853654,"creation_date":1653853654,"answer_id":72426802,"question_id":72338020,"body_markdown":"Your version of `graphql-java-tools` (5.2.4) seems very old and not compatible with `graphql-java:18.1` version.\r\n\r\nSo you need to upgrade your `graphql-java-tools` to the version which is compatible with `graphql-java:18.1` in your classpath.\r\n","title":"maven Dependancy conflict No such method with graphql depandancies","body":"<p>Your version of <code>graphql-java-tools</code> (5.2.4) seems very old and not compatible with <code>graphql-java:18.1</code> version.</p>\n<p>So you need to upgrade your <code>graphql-java-tools</code> to the version which is compatible with <code>graphql-java:18.1</code> in your classpath.</p>\n"}],"owner":{"account_id":14789051,"reputation":39,"user_id":10680505,"display_name":"dante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72426802,"answer_count":1,"score":0,"last_activity_date":1689719632,"creation_date":1653226308,"question_id":72338020,"body_markdown":"My application won&#39;t start and it seems that there is a dependancy conflict. I can&#39;t figure out which dependancy results in the conflict or how to resolve this.\r\n\r\nThis is the message when I try to start the spring application.\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    com.coxautodev.graphql.tools.RootTypeInfo$Companion.fromSchemaDefinitions(RootTypeInfo.kt:16)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\n\r\nThe calling method&#39;s class, com.coxautodev.graphql.tools.RootTypeInfo$Companion, was loaded from the following location:\r\n\r\n    jar:file:/home/dante/.m2/repository/com/graphql-java/graphql-java-tools/5.2.4/graphql-java-tools-5.2.4.jar!/com/coxautodev/graphql/tools/RootTypeInfo$Companion.class\r\n\r\nThe called method&#39;s class, graphql.language.OperationTypeDefinition, is available from the following locations:\r\n\r\n    jar:file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar!/graphql/language/OperationTypeDefinition.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    graphql.language.OperationTypeDefinition: file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar\r\n    graphql.language.AbstractNode: file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar\r\n```\r\nThis is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;backend&lt;/name&gt;\r\n\t&lt;description&gt;backend&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;springfox.version&gt;3.0.0&lt;/springfox.version&gt;\r\n        &lt;graphql.version&gt;5.0.2&lt;/graphql.version&gt;\r\n        &lt;playground.version&gt;5.10.0&lt;/playground.version&gt;\r\n        &lt;graphql-java-tools.version&gt;5.2.4&lt;/graphql-java-tools.version&gt;\r\n        &lt;jjwt.version&gt;0.9.1&lt;/jjwt.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;${graphql-java-tools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;playground-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${playground.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;  \r\n\t\t&lt;dependency&gt; \r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt; \r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt; \r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nThis is the stacktrace with error from mvn install\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;invocationInputFactory&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;invocationInputFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; \r\nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\n```\r\nI have tried editing the versions but that didn&#39;t seem to work.\r\n\r\nI have also deleted all the maven cache but also didn&#39;t work.\r\n\r\nIf I delete the dependancy the code compiles. But i&#39;m unsure if this is wanted.\r\n\r\n```\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;${graphql-java-tools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAny suggestion how to resolve this?","title":"maven Dependancy conflict No such method with graphql depandancies","body":"<p>My application won't start and it seems that there is a dependancy conflict. I can't figure out which dependancy results in the conflict or how to resolve this.</p>\n<p>This is the message when I try to start the spring application.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    com.coxautodev.graphql.tools.RootTypeInfo$Companion.fromSchemaDefinitions(RootTypeInfo.kt:16)\n\nThe following method did not exist:\n\n    'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\n\nThe calling method's class, com.coxautodev.graphql.tools.RootTypeInfo$Companion, was loaded from the following location:\n\n    jar:file:/home/dante/.m2/repository/com/graphql-java/graphql-java-tools/5.2.4/graphql-java-tools-5.2.4.jar!/com/coxautodev/graphql/tools/RootTypeInfo$Companion.class\n\nThe called method's class, graphql.language.OperationTypeDefinition, is available from the following locations:\n\n    jar:file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar!/graphql/language/OperationTypeDefinition.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    graphql.language.OperationTypeDefinition: file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar\n    graphql.language.AbstractNode: file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;backend&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;springfox.version&gt;3.0.0&lt;/springfox.version&gt;\n        &lt;graphql.version&gt;5.0.2&lt;/graphql.version&gt;\n        &lt;playground.version&gt;5.10.0&lt;/playground.version&gt;\n        &lt;graphql-java-tools.version&gt;5.2.4&lt;/graphql-java-tools.version&gt;\n        &lt;jjwt.version&gt;0.9.1&lt;/jjwt.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${graphql.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n            &lt;version&gt;${graphql-java-tools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;playground-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${playground.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;  \n        &lt;dependency&gt; \n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; \n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt; \n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt; \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the stacktrace with error from mvn install</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'invocationInputFactory' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'invocationInputFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; \nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\n</code></pre>\n<p>I have tried editing the versions but that didn't seem to work.</p>\n<p>I have also deleted all the maven cache but also didn't work.</p>\n<p>If I delete the dependancy the code compiles. But i'm unsure if this is wanted.</p>\n<pre><code>      &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n            &lt;version&gt;${graphql-java-tools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any suggestion how to resolve this?</p>\n"},{"tags":["java","openrewrite"],"answers":[{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689718181,"creation_date":1689718181,"answer_id":76716814,"question_id":76716339,"body_markdown":"The Collections.singletonMap recipes that you mention have been [removed from the default Java 8 to 11 migration recipe][1], precisely because of the issues you mentioned. You can upgrade to [rewrite-migrate-java version 2.0.7][2] such that you won&#39;t need any exclusions.\r\n\r\nIf you would still want to use exclusions, you can do so with [the `exclusions` option in the Maven plugin][3], or [similar for Gradle][4].\r\n\r\nHope that helps!\r\n\r\n\r\n  [1]: https://github.com/openrewrite/rewrite-migrate-java/pull/253\r\n  [2]: https://github.com/openrewrite/rewrite-migrate-java/releases/tag/v2.0.7\r\n  [3]: https://docs.openrewrite.org/reference/rewrite-maven-plugin#plugin-configuration\r\n  [4]: https://docs.openrewrite.org/reference/gradle-plugin-configuration#configuring-the-rewrite-dsl","title":"Openrewrite exclude class/method from replacing","body":"<p>The Collections.singletonMap recipes that you mention have been <a href=\"https://github.com/openrewrite/rewrite-migrate-java/pull/253\" rel=\"nofollow noreferrer\">removed from the default Java 8 to 11 migration recipe</a>, precisely because of the issues you mentioned. You can upgrade to <a href=\"https://github.com/openrewrite/rewrite-migrate-java/releases/tag/v2.0.7\" rel=\"nofollow noreferrer\">rewrite-migrate-java version 2.0.7</a> such that you won't need any exclusions.</p>\n<p>If you would still want to use exclusions, you can do so with <a href=\"https://docs.openrewrite.org/reference/rewrite-maven-plugin#plugin-configuration\" rel=\"nofollow noreferrer\">the <code>exclusions</code> option in the Maven plugin</a>, or <a href=\"https://docs.openrewrite.org/reference/gradle-plugin-configuration#configuring-the-rewrite-dsl\" rel=\"nofollow noreferrer\">similar for Gradle</a>.</p>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":2531619,"reputation":846,"user_id":2199812,"display_name":"reflexdemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689718181,"creation_date":1689712242,"question_id":76716339,"body_markdown":"I recently started using the openrewrite and wanted to know if there is any way we can exclude a class or method from replacing with a any recipe. I have some unit test that is specifically used to test maps with null key uisng `Collections.singletonMap`. While I run the `org.openrewrite.java.migrate.UpgradeToJava17` recipe it uses `Map.of` and my tests start failing as Map.of cannot take `null` keys.","title":"Openrewrite exclude class/method from replacing","body":"<p>I recently started using the openrewrite and wanted to know if there is any way we can exclude a class or method from replacing with a any recipe. I have some unit test that is specifically used to test maps with null key uisng <code>Collections.singletonMap</code>. While I run the <code>org.openrewrite.java.migrate.UpgradeToJava17</code> recipe it uses <code>Map.of</code> and my tests start failing as Map.of cannot take <code>null</code> keys.</p>\n"},{"tags":["java","next.js","graphql","apollo","apollo-client"],"comments":[{"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"score":0,"creation_date":1689718434,"post_id":76716807,"comment_id":135252614,"body_markdown":"Look at the query resolver code on the server for `GetRecentMessages` - it likely depends on the `context` being authorized.","body":"Look at the query resolver code on the server for <code>GetRecentMessages</code> - it likely depends on the <code>context</code> being authorized."}],"owner":{"account_id":29044816,"reputation":1,"user_id":22248902,"display_name":"FunafutiTV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689718135,"creation_date":1689718135,"question_id":76716807,"body_markdown":"I am trying to create a live chat app using NextJS, GraphQL and Apollo. I have a MessageList component which should display the most recent messages on the chat. Inside this component&#39;s code is :\r\n\r\n```\r\nconst { loading, error, data } = useQuery(GetRecentMessagesQuery, {\r\n    variables: {\r\n      last: 100,\r\n    },\r\n  });\r\n```\r\nGetRecentMessagesQuery is defined by :\r\n\r\n```\r\nconst GetRecentMessagesQuery = gql`\r\n  query GetRecentMessages($last: Int) @live {\r\n    messageCollection(last: $last) {\r\n      edges {\r\n        node {\r\n          id\r\n          username\r\n          avatar\r\n          body\r\n          likes\r\n          createdAt\r\n  }}}}\r\n`\r\n```\r\nAnd the MessageList component will return a different JSX depending on the values of loading and error :\r\n\r\n```\r\nif (loading)\r\n    return (\r\n      &lt;div className=&quot;flex items-center justify-center h-full&quot;&gt;\r\n        &lt;p className=&quot;text-white&quot;&gt;Fetching most recent chat messages.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    );\r\n\r\n  if (error) {\r\n    return (\r\n      &lt;p className=&quot;text-white&quot;&gt;Something went wrong. Refresh to try again.&lt;/p&gt;\r\n    );\r\n  }\r\n\r\n  return (\r\n    // Display the messages\r\n```\r\n\r\n\r\nThe app allows the user to log in using GitHub, and if they do it the messages are displayed as they should. However unauthenticated users get the error and the messages are not displayed. I tried to log the error and it says &quot;Apollo Error : Missing Data&quot;. I&#39;ve been blocked by this for days as I have no idea where this could be coming from. I can share more code if needed. Thanks","title":"Messages on chat app are only fetched for authenticated users while the other ones get an error","body":"<p>I am trying to create a live chat app using NextJS, GraphQL and Apollo. I have a MessageList component which should display the most recent messages on the chat. Inside this component's code is :</p>\n<pre><code>const { loading, error, data } = useQuery(GetRecentMessagesQuery, {\n    variables: {\n      last: 100,\n    },\n  });\n</code></pre>\n<p>GetRecentMessagesQuery is defined by :</p>\n<pre><code>const GetRecentMessagesQuery = gql`\n  query GetRecentMessages($last: Int) @live {\n    messageCollection(last: $last) {\n      edges {\n        node {\n          id\n          username\n          avatar\n          body\n          likes\n          createdAt\n  }}}}\n`\n</code></pre>\n<p>And the MessageList component will return a different JSX depending on the values of loading and error :</p>\n<pre><code>if (loading)\n    return (\n      &lt;div className=&quot;flex items-center justify-center h-full&quot;&gt;\n        &lt;p className=&quot;text-white&quot;&gt;Fetching most recent chat messages.&lt;/p&gt;\n      &lt;/div&gt;\n    );\n\n  if (error) {\n    return (\n      &lt;p className=&quot;text-white&quot;&gt;Something went wrong. Refresh to try again.&lt;/p&gt;\n    );\n  }\n\n  return (\n    // Display the messages\n</code></pre>\n<p>The app allows the user to log in using GitHub, and if they do it the messages are displayed as they should. However unauthenticated users get the error and the messages are not displayed. I tried to log the error and it says &quot;Apollo Error : Missing Data&quot;. I've been blocked by this for days as I have no idea where this could be coming from. I can share more code if needed. Thanks</p>\n"},{"tags":["java","log4j","slf4j"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1637068177,"post_id":69989704,"comment_id":123722012,"body_markdown":"`MessageFormat` expects an argument index inside the `{}`. I.e. your message should be `&quot;Info message: {0}&quot;`.","body":"<code>MessageFormat</code> expects an argument index inside the <code>{}</code>. I.e. your message should be <code>&quot;Info message: {0}&quot;</code>."},{"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"score":0,"creation_date":1637134971,"post_id":69989704,"comment_id":123741617,"body_markdown":"@JoachimSauer Awesome, if you don&#39;t mind writing this as an answer and adding some more info/docs/refs, would love to tag it as correct","body":"@JoachimSauer Awesome, if you don&#39;t mind writing this as an answer and adding some more info/docs/refs, would love to tag it as correct"}],"answers":[{"tags":[],"owner":{"account_id":10358615,"reputation":431,"user_id":7639741,"display_name":"ko la"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689716684,"creation_date":1689716684,"answer_id":76716714,"question_id":69989704,"body_markdown":"It looks like your logging implementation uses [java.text.MessageFormat][1]. *Eventually*, the `info(String format, Object... args)` method calls the [MessageFormat.format(String pattern, Object... args)][2] method, which expects a pattern described in MessageFormat&#39;s [Patterns and Their Interpretation][3]. \r\n\r\nSo, in your case, the curly braces content in the first argument you pass into the `info` method is interpreted as a `FormatElement`, which requires at least a (non-negative integer) index, which should point to a next argument passed into the `info` method. Hence, the `{0}` reference works. \r\n\r\nFor illustration, you could also do something like this:\r\n\r\n    LOG.info(&quot;Info message: on {1, date} at {1, time} I received {0}.&quot;, &quot;some message&quot;, new Date());\r\n\r\nWhich should had yield something like:\r\n\r\n&gt; Info message: on Nov 16, 2021 at 1:05:01 PM I received some message.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#format(java.lang.String,java.lang.Object...)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#patterns","title":"Java - NumberFormatException when using Slf4j/Log4jLogger with placeholders","body":"<p>It looks like your logging implementation uses <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">java.text.MessageFormat</a>. <em>Eventually</em>, the <code>info(String format, Object... args)</code> method calls the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">MessageFormat.format(String pattern, Object... args)</a> method, which expects a pattern described in MessageFormat's <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#patterns\" rel=\"nofollow noreferrer\">Patterns and Their Interpretation</a>.</p>\n<p>So, in your case, the curly braces content in the first argument you pass into the <code>info</code> method is interpreted as a <code>FormatElement</code>, which requires at least a (non-negative integer) index, which should point to a next argument passed into the <code>info</code> method. Hence, the <code>{0}</code> reference works.</p>\n<p>For illustration, you could also do something like this:</p>\n<pre><code>LOG.info(&quot;Info message: on {1, date} at {1, time} I received {0}.&quot;, &quot;some message&quot;, new Date());\n</code></pre>\n<p>Which should had yield something like:</p>\n<blockquote>\n<p>Info message: on Nov 16, 2021 at 1:05:01 PM I received some message.</p>\n</blockquote>\n"}],"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689716684,"creation_date":1637067921,"question_id":69989704,"body_markdown":"Okay, so I&#39;m just trying to invoke e.g.\r\n\r\n```\r\nLOG.info(&quot;Info message: {}&quot;, &quot;some message&quot;)\r\n```\r\n\r\nand I&#39;m getting a totally weird exception:\r\n```\r\njava.lang.IllegalArgumentException: can&#39;t parse argument number: \r\n\tat java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1454)\r\n\tat java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:492)\r\n\tat java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:371)\r\n\tat java.base/java.text.MessageFormat.format(MessageFormat.java:860)\r\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.logging.impl.Log4jLogger.warn(Log4jLogger.java:109)\r\n```\r\nand \r\n```\r\nCaused by: java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:678)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\tat java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1452)\r\n```\r\n\r\nCan&#39;t figure out what&#39;s wrong with the logger - any ideas please?","title":"Java - NumberFormatException when using Slf4j/Log4jLogger with placeholders","body":"<p>Okay, so I'm just trying to invoke e.g.</p>\n<pre><code>LOG.info(&quot;Info message: {}&quot;, &quot;some message&quot;)\n</code></pre>\n<p>and I'm getting a totally weird exception:</p>\n<pre><code>java.lang.IllegalArgumentException: can't parse argument number: \n    at java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1454)\n    at java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:492)\n    at java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:371)\n    at java.base/java.text.MessageFormat.format(MessageFormat.java:860)\n    at org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.logging.impl.Log4jLogger.warn(Log4jLogger.java:109)\n</code></pre>\n<p>and</p>\n<pre><code>Caused by: java.lang.NumberFormatException: For input string: &quot;&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:678)\n    at java.base/java.lang.Integer.parseInt(Integer.java:786)\n    at java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1452)\n</code></pre>\n<p>Can't figure out what's wrong with the logger - any ideas please?</p>\n"},{"tags":["java","selenium-webdriver","nested"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1689675634,"post_id":76711716,"comment_id":135244112,"body_markdown":"At which line are you stuck exactly?","body":"At which line are you stuck exactly?"},{"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"score":0,"creation_date":1689676309,"post_id":76711716,"comment_id":135244244,"body_markdown":"After clicking on frametest getting this issue","body":"After clicking on frametest getting this issue"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1689716449,"post_id":76711716,"comment_id":135252435,"body_markdown":"Checkout the [answer](https://stackoverflow.com/a/76716674/7429447) and let me know the status.","body":"Checkout the <a href=\"https://stackoverflow.com/a/76716674/7429447\">answer</a> and let me know the status."}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689676549,"creation_date":1689676549,"answer_id":76711881,"question_id":76711716,"body_markdown":"As far as on that page Index element is placed in frame, you should use \r\n\r\n`driver.switchTo().frame(&quot;top&quot;);`\r\n\r\nbefore\r\n\r\n`driver.findElement(By.linkText(&quot;Index&quot;)).click();`\r\n\r\nwhere `top` is name attribute of your iframe.\r\n\r\nSelenium by default uses top body level context and doesn&#39;t see elements in other contexts like iframes or shadow-roots.\r\nSo to get him to know that you want to search for element in another context, you should change context Selenium is looking into.\r\n\r\nAnd don&#39;t forget to switch to `defaultContext()` back when you returning to body context.","title":"Unable to locate element in java selenium","body":"<p>As far as on that page Index element is placed in frame, you should use</p>\n<p><code>driver.switchTo().frame(&quot;top&quot;);</code></p>\n<p>before</p>\n<p><code>driver.findElement(By.linkText(&quot;Index&quot;)).click();</code></p>\n<p>where <code>top</code> is name attribute of your iframe.</p>\n<p>Selenium by default uses top body level context and doesn't see elements in other contexts like iframes or shadow-roots.\nSo to get him to know that you want to search for element in another context, you should change context Selenium is looking into.</p>\n<p>And don't forget to switch to <code>defaultContext()</code> back when you returning to body context.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689676711,"creation_date":1689676711,"answer_id":76711903,"question_id":76711716,"body_markdown":"Use below line:\r\n````\r\ndriver.switchTo().frame(0);\r\n````\r\n`(0)` - being the first frame on the HTML.\r\n\r\nSo your last 4 lines of code should be as below:\r\n````\r\nThread.sleep(4000);\r\ndriver.navigate().forward();\r\ndriver.switchTo().frame(0);\r\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n````\r\n\r\nNote: To switch back to default content, below line of code should be used:\r\n````\r\ndriver.switch_to.default_content()\r\n````","title":"Unable to locate element in java selenium","body":"<p>Use below line:</p>\n<pre><code>driver.switchTo().frame(0);\n</code></pre>\n<p><code>(0)</code> - being the first frame on the HTML.</p>\n<p>So your last 4 lines of code should be as below:</p>\n<pre><code>Thread.sleep(4000);\ndriver.navigate().forward();\ndriver.switchTo().frame(0);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\n</code></pre>\n<p>Note: To switch back to default content, below line of code should be used:</p>\n<pre><code>driver.switch_to.default_content()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689716081,"creation_date":1689716081,"answer_id":76716674,"question_id":76711716,"body_markdown":"Within the website [Test Pages For Automating](https://testpages.herokuapp.com/styled/index.html) once you click on the link with text as _**Frames Test Page**_ and navigate to the [Nested Frames Example](https://testpages.herokuapp.com/styled/frames/frames-test.html) page, the element with text as _**Index**_ is within a [`&lt;frame&gt;`](https://stackoverflow.com/a/53276478/7429447):\r\n\r\n![frame](https://i.stack.imgur.com/YoOID.png)\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo click on the element with text as _**Index**_ you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired _elementToBeClickable_.\r\n- You can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n\t  ChromeOptions options = new ChromeOptions();\r\n\t  options.addArguments(&quot;--start-maximized&quot;);\r\n\t  WebDriver driver = new ChromeDriver(options);\r\n\t  driver.get(&quot;https://testpages.herokuapp.com/styled/index.html&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;framestest&quot;))).click();\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.name(&quot;top&quot;)));\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Index&quot;))).click();\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?](https://stackoverflow.com/a/47472200/7429447)\r\n- [Selenium: Can&#39;t click on a button within an iframe](https://stackoverflow.com/a/64016305/7429447)","title":"Unable to locate element in java selenium","body":"<p>Within the website <a href=\"https://testpages.herokuapp.com/styled/index.html\" rel=\"nofollow noreferrer\">Test Pages For Automating</a> once you click on the link with text as <em><strong>Frames Test Page</strong></em> and navigate to the <a href=\"https://testpages.herokuapp.com/styled/frames/frames-test.html\" rel=\"nofollow noreferrer\">Nested Frames Example</a> page, the element with text as <em><strong>Index</strong></em> is within a <a href=\"https://stackoverflow.com/a/53276478/7429447\"><code>&lt;frame&gt;</code></a>:</p>\n<p><img src=\"https://i.stack.imgur.com/YoOID.png\" alt=\"frame\" /></p>\n<hr />\n<h2>Solution</h2>\n<p>To click on the element with text as <em><strong>Index</strong></em> you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</p>\n</li>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <em>elementToBeClickable</em>.</p>\n</li>\n<li><p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://testpages.herokuapp.com/styled/index.html&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;framestest&quot;))).click();\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.name(&quot;top&quot;)));\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Index&quot;))).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/47472200/7429447\">Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?</a></li>\n<li><a href=\"https://stackoverflow.com/a/64016305/7429447\">Selenium: Can't click on a button within an iframe</a></li>\n</ul>\n"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689716081,"creation_date":1689675193,"question_id":76711716,"body_markdown":" \r\n\r\n   Hi all I am unable to interact with &quot;Index&quot; on the last line of code the code is working fine for all items except for the nested frames it is giving error as unable to locate element I have tried both xpath and linked text for this still getting this error this is a demo website for test automation practice the error is only for the index in the last line of the code all other parts of the code are working fine.   \r\n    \r\n    \r\n    package sdet;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    import java.awt.event.ActionEvent;\r\n    import java.time.Duration;\r\n    import java.util.*;\r\n    \r\n    public class selenium {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// TODO Auto-generated method stub\r\n    System.setProperty(&quot;Pathtochromedriver&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://testpages.herokuapp.com/&quot;);\r\n    driver.manage().window().maximize();\r\n    // Clicking on basic webpages //\r\n    driver.findElement(By.id(&quot;basicpagetest&quot;)).click();\r\n    String  Urlnow = driver.getCurrentUrl();\r\n    System.out.println(&quot;current url is :&quot; +Urlnow );\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;elementattributestest&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.navigate().forward();\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;javascript:window.scrollBy(250,350)&quot;);\r\n    Thread.sleep(2000);\r\n    WebElement Addattribute = driver.findElement(By.xpath(&quot;//button[@class=\\&quot;styled-click-button\\&quot;]&quot;));\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(Addattribute).doubleClick().build().perform();\r\n    Thread.sleep(2000);\r\n    driver.navigate().forward();\r\n    js.executeScript(&quot;window.scrollBy(0,-400)&quot;);\r\n    // Clicking on index here // \r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;findbytest&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;tablestest&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;dynamictablestest&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;alerttest&quot;)).click();\r\n    driver.findElement(By.id(&quot;alertexamples&quot;)).click();\r\n    driver.switchTo().alert().accept();\r\n    // Clicking on show confirm box //\r\n    driver.findElement(By.id(&quot;confirmexample&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.switchTo().alert().dismiss();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;fakealerttest&quot;)).click();\r\n    // Clicking on showalertbox //\r\n    driver.findElement(By.id(&quot;fakealert&quot;)).click();\r\n    driver.findElement(By.id(&quot;dialog-ok&quot;)).click();\r\n    // Clicking on modal dialog //\r\n    driver.findElement(By.id(&quot;modaldialog&quot;)).click();\r\n    driver.findElement(By.id(&quot;dialog-ok&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    // Clicking on frames test //\r\n    driver.findElement(By.id(&quot;framestest&quot;)).click();\r\n    Thread.sleep(4000);\r\n    driver.navigate().forward();\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    \r\n    //driver.findElement(By.id(&quot;framestest&quot;)).click();\r\n    //Thread.sleep(2000);\r\n    //driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    \r\n    \r\n    }\r\n    \r\n    }\r\n\r\n","title":"Unable to locate element in java selenium","body":"<p>Hi all I am unable to interact with &quot;Index&quot; on the last line of code the code is working fine for all items except for the nested frames it is giving error as unable to locate element I have tried both xpath and linked text for this still getting this error this is a demo website for test automation practice the error is only for the index in the last line of the code all other parts of the code are working fine.</p>\n<pre><code>package sdet;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.WebElement;\n\nimport java.awt.event.ActionEvent;\nimport java.time.Duration;\nimport java.util.*;\n\npublic class selenium {\n\n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\nSystem.setProperty(&quot;Pathtochromedriver&quot;);\nWebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://testpages.herokuapp.com/&quot;);\ndriver.manage().window().maximize();\n// Clicking on basic webpages //\ndriver.findElement(By.id(&quot;basicpagetest&quot;)).click();\nString  Urlnow = driver.getCurrentUrl();\nSystem.out.println(&quot;current url is :&quot; +Urlnow );\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;elementattributestest&quot;)).click();\nThread.sleep(2000);\ndriver.navigate().forward();\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;javascript:window.scrollBy(250,350)&quot;);\nThread.sleep(2000);\nWebElement Addattribute = driver.findElement(By.xpath(&quot;//button[@class=\\&quot;styled-click-button\\&quot;]&quot;));\nActions actions = new Actions(driver);\nactions.moveToElement(Addattribute).doubleClick().build().perform();\nThread.sleep(2000);\ndriver.navigate().forward();\njs.executeScript(&quot;window.scrollBy(0,-400)&quot;);\n// Clicking on index here // \ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;findbytest&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;tablestest&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;dynamictablestest&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;alerttest&quot;)).click();\ndriver.findElement(By.id(&quot;alertexamples&quot;)).click();\ndriver.switchTo().alert().accept();\n// Clicking on show confirm box //\ndriver.findElement(By.id(&quot;confirmexample&quot;)).click();\nThread.sleep(2000);\ndriver.switchTo().alert().dismiss();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;fakealerttest&quot;)).click();\n// Clicking on showalertbox //\ndriver.findElement(By.id(&quot;fakealert&quot;)).click();\ndriver.findElement(By.id(&quot;dialog-ok&quot;)).click();\n// Clicking on modal dialog //\ndriver.findElement(By.id(&quot;modaldialog&quot;)).click();\ndriver.findElement(By.id(&quot;dialog-ok&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\n// Clicking on frames test //\ndriver.findElement(By.id(&quot;framestest&quot;)).click();\nThread.sleep(4000);\ndriver.navigate().forward();\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\n\n//driver.findElement(By.id(&quot;framestest&quot;)).click();\n//Thread.sleep(2000);\n//driver.findElement(By.linkText(&quot;Index&quot;)).click();\n\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","google-java-format"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1689745878,"post_id":76716652,"comment_id":135254908,"body_markdown":"You could try using other formatting integrations instead of spotless - https://github.com/google/google-java-format/tree/master#third-party-integrations or discuss this issue with the google-java-format plugin developer directly at https://github.com/google/google-java-format/issues","body":"You could try using other formatting integrations instead of spotless - <a href=\"https://github.com/google/google-java-format/tree/master#third-party-integrations\" rel=\"nofollow noreferrer\">github.com/google/google-java-format/tree/&hellip;</a> or discuss this issue with the google-java-format plugin developer directly at <a href=\"https://github.com/google/google-java-format/issues\" rel=\"nofollow noreferrer\">github.com/google/google-java-format/issues</a>"}],"owner":{"account_id":100390,"reputation":3436,"user_id":270653,"accept_rate":16,"display_name":"Jerome VDL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689715785,"creation_date":1689715785,"question_id":76716652,"body_markdown":"I&#39;d like to have the google java formatting in my IDE (using the [google-java-format plugin][1] for IntelliJ or something else if that&#39;s not the best way to do...) and be able to check with maven that formatting is OK (in a GitHub workflow for example). I tried the [spotless plugin][2]. \r\n\r\nUnfortunately for the moment, the results are completely different if I use one or the other (imports order, parameters in methods, ...). I use the AOSP format to get 4 spaces indentation in both case.\r\n\r\nHere is my spotless config:\r\n\r\n```xml\r\n               &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.30.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;check&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;java&gt;\r\n                            &lt;googleJavaFormat&gt;\r\n                                &lt;version&gt;1.7&lt;/version&gt;\r\n                                &lt;style&gt;AOSP&lt;/style&gt;\r\n                            &lt;/googleJavaFormat&gt;\r\n                            &lt;removeUnusedImports /&gt;\r\n                            &lt;licenseHeader&gt;\r\n                                &lt;file&gt;../license-header&lt;/file&gt;\r\n                            &lt;/licenseHeader&gt;\r\n                        &lt;/java&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n```\r\n\r\nAm I missing something? Aren&#39;t they supposed to work with google format (which should be the same...)? Actually I&#39;m not sure Intellij is applying the formatting from the google plugin and not from my other code style configuration. &quot;Enable google-java-format&quot; is checked in the settings, but how to be sure?\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/8527-google-java-format\r\n  [2]: https://github.com/diffplug/spotless/tree/main/plugin-maven#google-java-format","title":"How to get similar google java formatting in intellij and with maven","body":"<p>I'd like to have the google java formatting in my IDE (using the <a href=\"https://plugins.jetbrains.com/plugin/8527-google-java-format\" rel=\"nofollow noreferrer\">google-java-format plugin</a> for IntelliJ or something else if that's not the best way to do...) and be able to check with maven that formatting is OK (in a GitHub workflow for example). I tried the <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-maven#google-java-format\" rel=\"nofollow noreferrer\">spotless plugin</a>.</p>\n<p>Unfortunately for the moment, the results are completely different if I use one or the other (imports order, parameters in methods, ...). I use the AOSP format to get 4 spaces indentation in both case.</p>\n<p>Here is my spotless config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>               &lt;plugin&gt;\n                    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n                    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.30.0&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;check&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;java&gt;\n                            &lt;googleJavaFormat&gt;\n                                &lt;version&gt;1.7&lt;/version&gt;\n                                &lt;style&gt;AOSP&lt;/style&gt;\n                            &lt;/googleJavaFormat&gt;\n                            &lt;removeUnusedImports /&gt;\n                            &lt;licenseHeader&gt;\n                                &lt;file&gt;../license-header&lt;/file&gt;\n                            &lt;/licenseHeader&gt;\n                        &lt;/java&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>Am I missing something? Aren't they supposed to work with google format (which should be the same...)? Actually I'm not sure Intellij is applying the formatting from the google plugin and not from my other code style configuration. &quot;Enable google-java-format&quot; is checked in the settings, but how to be sure?</p>\n"},{"tags":["java","apache-spark","apache-spark-dataset"],"comments":[{"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"score":1,"creation_date":1689700713,"post_id":76715084,"comment_id":135249879,"body_markdown":"did you try [groupByKey](https://sparkbyexamples.com/spark/spark-groupbykey/)?","body":"did you try <a href=\"https://sparkbyexamples.com/spark/spark-groupbykey/\" rel=\"nofollow noreferrer\">groupByKey</a>?"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1689709425,"post_id":76715084,"comment_id":135251346,"body_markdown":"I tried but it looks for  overriding map function /function and couldn&#39;t get how we pass  id to group the object.","body":"I tried but it looks for  overriding map function /function and couldn&#39;t get how we pass  id to group the object."}],"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689715593,"creation_date":1689699740,"question_id":76715084,"body_markdown":"I have a class \r\n\r\n    public class Employee {\r\n      int id;\r\n      String name;\r\n      String address;\r\n    }\r\n\r\n...and a `Dataset&lt;Employee&gt;` in Spark, for example\r\n\r\n    Employee(1,&quot;test1&quot;,&quot;test1&quot;)\r\n    Employee(1,&quot;test2&quot;,&quot;test2&quot;)\r\n    Employee(2,&quot;test3&quot;,&quot;test3&quot;)\r\n\r\nExpected result\r\n\r\n    1---&gt; [Employee(1,&quot;test1&quot;,&quot;test1&quot;),Employee(1,&quot;test2&quot;,&quot;test2&quot;)]\r\n    2---&gt;. Employee(2,&quot;test3&quot;,&quot;test3&quot;)\r\n\r\nI.e. I need to group the dataset by one of the fields (`id`), and get the result as a list of objects. How can I do this using Spark Java API.\r\n","title":"How to groupby key for custom class dataset in spark java","body":"<p>I have a class</p>\n<pre><code>public class Employee {\n  int id;\n  String name;\n  String address;\n}\n</code></pre>\n<p>...and a <code>Dataset&lt;Employee&gt;</code> in Spark, for example</p>\n<pre><code>Employee(1,&quot;test1&quot;,&quot;test1&quot;)\nEmployee(1,&quot;test2&quot;,&quot;test2&quot;)\nEmployee(2,&quot;test3&quot;,&quot;test3&quot;)\n</code></pre>\n<p>Expected result</p>\n<pre><code>1---&gt; [Employee(1,&quot;test1&quot;,&quot;test1&quot;),Employee(1,&quot;test2&quot;,&quot;test2&quot;)]\n2---&gt;. Employee(2,&quot;test3&quot;,&quot;test3&quot;)\n</code></pre>\n<p>I.e. I need to group the dataset by one of the fields (<code>id</code>), and get the result as a list of objects. How can I do this using Spark Java API.</p>\n"},{"tags":["java","gradle","build.gradle","saxon","securityexception"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1689464447,"post_id":76695864,"comment_id":135217583,"body_markdown":"Are there any up to date versions of the pmd packages that might use Saxon 12, like the checkstyle project?","body":"Are there any up to date versions of the pmd packages that might use Saxon 12, like the checkstyle project?"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689468586,"post_id":76695864,"comment_id":135217807,"body_markdown":"@MartinHonnen Good question. Unfortunately, PMD 7.0 depends on `Saxon-HE:10.7`, while the latest version of checkstyle depends on `Saxon-HE:12.2`.","body":"@MartinHonnen Good question. Unfortunately, PMD 7.0 depends on <code>Saxon-HE:10.7</code>, while the latest version of checkstyle depends on <code>Saxon-HE:12.2</code>."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1689501778,"post_id":76695864,"comment_id":135219894,"body_markdown":"If there is a combination of pdm and checkstyle versions that uses the same Saxon main version (e.g. 10) then I would try the combination to rule out that the error is simply caused by having two versions of Saxon on the class path.","body":"If there is a combination of pdm and checkstyle versions that uses the same Saxon main version (e.g. 10) then I would try the combination to rule out that the error is simply caused by having two versions of Saxon on the class path."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1689504437,"post_id":76695864,"comment_id":135220160,"body_markdown":"It looks very much to me as if you have two different versions of Saxon on the classpath, which isn&#39;t going to work.","body":"It looks very much to me as if you have two different versions of Saxon on the classpath, which isn&#39;t going to work."},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689527609,"post_id":76695864,"comment_id":135222850,"body_markdown":"@MichaelKay Thank you. Are you saying that `net.sourceforge.saxon:saxon` and `net.sf.saxon:Saxon-HE` can&#39;t co-exist?","body":"@MichaelKay Thank you. Are you saying that <code>net.sourceforge.saxon:saxon</code> and <code>net.sf.saxon:Saxon-HE</code> can&#39;t co-exist?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1689618971,"post_id":76695864,"comment_id":135236311,"body_markdown":"Correct. They are different versions of the same product, they contain identically-named classes, and that&#39;s going to confuse the ClassLoader.","body":"Correct. They are different versions of the same product, they contain identically-named classes, and that&#39;s going to confuse the ClassLoader."},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689623399,"post_id":76695864,"comment_id":135237172,"body_markdown":"Thanks, @MichaelKay. Do you want to give this as an answer?","body":"Thanks, @MichaelKay. Do you want to give this as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689714517,"creation_date":1689714517,"answer_id":76716574,"question_id":76695864,"body_markdown":"It seems that the failure is because you have two different versions of Saxon on the classpath. This isn&#39;t going to work, because the class loader will load classes from the two different versions more or less at random, and they won&#39;t be compatible with each other.\r\n\r\nThere&#39;s no easy solution. You&#39;re going to have to upgrade all parts of the application to use the same Saxon version. If some of those components are third-party code, and if they dig deep into Saxon internal interfaces rather than sticking to the stable public API, then this may not be a trivial task.","title":"Eliminating SecurityException with saxon jar in Gradle 8","body":"<p>It seems that the failure is because you have two different versions of Saxon on the classpath. This isn't going to work, because the class loader will load classes from the two different versions more or less at random, and they won't be compatible with each other.</p>\n<p>There's no easy solution. You're going to have to upgrade all parts of the application to use the same Saxon version. If some of those components are third-party code, and if they dig deep into Saxon internal interfaces rather than sticking to the stable public API, then this may not be a trivial task.</p>\n"}],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76716574,"answer_count":1,"score":0,"last_activity_date":1689714517,"creation_date":1689456905,"question_id":76695864,"body_markdown":"I have a Gradle 8 Java program that is throwing this exception:\r\n\r\n``` \r\njava.lang.SecurityException: class &quot;net.sf.saxon.value.UntypedAtomicValue&quot;&#39;s signer\r\ninformation does not match signer information of other classes in the same package\r\n```\r\n\r\nThe class `net.sf.saxon.value.UntypedAtomicValue` appears to be part of [Saxon-HE](https://javadoc.io/static/net.sf.saxon/Saxon-HE/9.8.0-7/net/sf/saxon/value/UntypedAtomicValue.html).\r\n\r\nAn answer to [Java SecurityException: signer information does not match](https://stackoverflow.com/questions/2877262/java-securityexception-signer-information-does-not-match) says:\r\n\r\n&gt; This happens when classes belonging to the same package are loaded from different JAR files, and those JAR files have signatures signed with different certificates - or, perhaps more often, at least one is signed and one or more others are not (which includes classes loaded from directories since those AFAIK cannot be signed).\r\nAnother response indicates that it can be due to a duplicated jar.\r\n\r\nThese are the dependencies for my project:\r\n```groovy\r\ndependencies {\r\n    implementation &#39;com.github.javaparser:javaparser-symbol-solver-core:3.25.3&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    implementation &#39;org.junit.platform:junit-platform-launcher:1.10.0-M1&#39;\r\n    implementation &#39;org.junit.platform:junit-platform-console:1.10.0-RC1&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-params:5.10.0-M1&#39;\r\n    implementation &#39;org.jacoco:org.jacoco.core:0.8.10&#39;\r\n    implementation &#39;org.json:json:20230618&#39;\r\n    implementation &#39;com.puppycrawl.tools:checkstyle:10.12.1&#39;\r\n    implementation &#39;net.sourceforge.pmd:pmd:6.54.0&#39;\r\n    implementation &#39;net.sourceforge.pmd:pmd-java:6.54.0&#39;\r\n    implementation &#39;net.sourceforge.pmd:pmd-core:6.54.0&#39;\r\n}\r\n```\r\n\r\nTo find transitive dependencies, I ran:\r\n```\r\n./gradlew dependencies &gt; dependencies.txt\r\n```\r\n\r\nHere is an excerpt of the results:\r\n```\r\n+--- com.puppycrawl.tools:checkstyle:10.12.1\r\n|    +--- info.picocli:picocli:4.7.4\r\n|    +--- org.antlr:antlr4-runtime:4.11.1\r\n|    +--- commons-beanutils:commons-beanutils:1.9.4\r\n|    |    +--- commons-logging:commons-logging:1.2\r\n|    |    \\--- commons-collections:commons-collections:3.2.2\r\n|    +--- com.google.guava:guava:32.0.1-jre (*)\r\n|    +--- org.reflections:reflections:0.10.2\r\n|    |    +--- org.javassist:javassist:3.28.0-GA -&gt; 3.29.2-GA\r\n|    |    +--- com.google.code.findbugs:jsr305:3.0.2\r\n|    |    \\--- org.slf4j:slf4j-api:1.7.32\r\n|    +--- net.sf.saxon:Saxon-HE:12.2                          &lt;-----\r\n|    |    \\--- org.xmlresolver:xmlresolver:5.1.2\r\n|    \\--- org.checkerframework:checker-qual:3.27.0 -&gt; 3.33.0\r\n+--- net.sourceforge.pmd:pmd:6.54.0\r\n+--- net.sourceforge.pmd:pmd-java:6.54.0\r\n|    +--- net.sourceforge.pmd:pmd-core:6.54.0\r\n|    |    +--- org.antlr:antlr4-runtime:4.7.2 -&gt; 4.11.1\r\n|    |    +--- com.beust:jcommander:1.48\r\n|    |    +--- net.sourceforge.saxon:saxon:9.1.0.8            &lt;-----\r\n|    |    +--- org.apache.commons:commons-lang3:3.8.1\r\n|    |    +--- org.ow2.asm:asm:9.3 -&gt; 9.5\r\n|    |    \\--- com.google.code.gson:gson:2.8.9\r\n|    +--- net.sourceforge.saxon:saxon:9.1.0.8                 &lt;-----\r\n|    +--- org.ow2.asm:asm:9.3 -&gt; 9.5\r\n|    \\--- org.apache.commons:commons-lang3:3.8.1\r\n+--- net.sourceforge.pmd:pmd-core:6.54.0 (*)\r\n```\r\nThe artifact `net.sf.saxon:Saxon-HE` appears only once (for `checkstyle`). The presumably related artifact `net.sourceforge.saxon:saxon` appears multiple times under `net.sourceforge.pmd` artifacts, always the same version: 9.1.0.8. (This is the only available version of [`saxon`](https://mvnrepository.com/artifact/net.sourceforge.saxon/saxon).)\r\n\r\nThe `SecurityException` goes away if I remove the `checkstyle` dependency, so it may be some sort of conflict between `net.sf.saxon:Saxon-HE`.\r\n\r\nI got a library conflict when I tried using a PMD 7 RC. Although Gradle doesn&#39;t show a dependency from checkstyle to PMD, one appears in checkstyle&#39;s [pom.xml][1].\r\n\r\nMy questions are:\r\n1. Why I am getting this error?\r\n2. How can I fix it in this Gradle 8 (Groovy DSL) project? \r\n\r\n\r\n  [1]: https://github.com/checkstyle/checkstyle/blob/master/pom.xml","title":"Eliminating SecurityException with saxon jar in Gradle 8","body":"<p>I have a Gradle 8 Java program that is throwing this exception:</p>\n<pre><code>java.lang.SecurityException: class &quot;net.sf.saxon.value.UntypedAtomicValue&quot;'s signer\ninformation does not match signer information of other classes in the same package\n</code></pre>\n<p>The class <code>net.sf.saxon.value.UntypedAtomicValue</code> appears to be part of <a href=\"https://javadoc.io/static/net.sf.saxon/Saxon-HE/9.8.0-7/net/sf/saxon/value/UntypedAtomicValue.html\" rel=\"nofollow noreferrer\">Saxon-HE</a>.</p>\n<p>An answer to <a href=\"https://stackoverflow.com/questions/2877262/java-securityexception-signer-information-does-not-match\">Java SecurityException: signer information does not match</a> says:</p>\n<blockquote>\n<p>This happens when classes belonging to the same package are loaded from different JAR files, and those JAR files have signatures signed with different certificates - or, perhaps more often, at least one is signed and one or more others are not (which includes classes loaded from directories since those AFAIK cannot be signed).\nAnother response indicates that it can be due to a duplicated jar.</p>\n</blockquote>\n<p>These are the dependencies for my project:</p>\n<pre><code>dependencies {\n    implementation 'com.github.javaparser:javaparser-symbol-solver-core:3.25.3'\n    implementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    implementation 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation 'org.junit.platform:junit-platform-launcher:1.10.0-M1'\n    implementation 'org.junit.platform:junit-platform-console:1.10.0-RC1'\n    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.10.0-M1'\n    implementation 'org.jacoco:org.jacoco.core:0.8.10'\n    implementation 'org.json:json:20230618'\n    implementation 'com.puppycrawl.tools:checkstyle:10.12.1'\n    implementation 'net.sourceforge.pmd:pmd:6.54.0'\n    implementation 'net.sourceforge.pmd:pmd-java:6.54.0'\n    implementation 'net.sourceforge.pmd:pmd-core:6.54.0'\n}\n</code></pre>\n<p>To find transitive dependencies, I ran:</p>\n<pre><code>./gradlew dependencies &gt; dependencies.txt\n</code></pre>\n<p>Here is an excerpt of the results:</p>\n<pre><code>+--- com.puppycrawl.tools:checkstyle:10.12.1\n|    +--- info.picocli:picocli:4.7.4\n|    +--- org.antlr:antlr4-runtime:4.11.1\n|    +--- commons-beanutils:commons-beanutils:1.9.4\n|    |    +--- commons-logging:commons-logging:1.2\n|    |    \\--- commons-collections:commons-collections:3.2.2\n|    +--- com.google.guava:guava:32.0.1-jre (*)\n|    +--- org.reflections:reflections:0.10.2\n|    |    +--- org.javassist:javassist:3.28.0-GA -&gt; 3.29.2-GA\n|    |    +--- com.google.code.findbugs:jsr305:3.0.2\n|    |    \\--- org.slf4j:slf4j-api:1.7.32\n|    +--- net.sf.saxon:Saxon-HE:12.2                          &lt;-----\n|    |    \\--- org.xmlresolver:xmlresolver:5.1.2\n|    \\--- org.checkerframework:checker-qual:3.27.0 -&gt; 3.33.0\n+--- net.sourceforge.pmd:pmd:6.54.0\n+--- net.sourceforge.pmd:pmd-java:6.54.0\n|    +--- net.sourceforge.pmd:pmd-core:6.54.0\n|    |    +--- org.antlr:antlr4-runtime:4.7.2 -&gt; 4.11.1\n|    |    +--- com.beust:jcommander:1.48\n|    |    +--- net.sourceforge.saxon:saxon:9.1.0.8            &lt;-----\n|    |    +--- org.apache.commons:commons-lang3:3.8.1\n|    |    +--- org.ow2.asm:asm:9.3 -&gt; 9.5\n|    |    \\--- com.google.code.gson:gson:2.8.9\n|    +--- net.sourceforge.saxon:saxon:9.1.0.8                 &lt;-----\n|    +--- org.ow2.asm:asm:9.3 -&gt; 9.5\n|    \\--- org.apache.commons:commons-lang3:3.8.1\n+--- net.sourceforge.pmd:pmd-core:6.54.0 (*)\n</code></pre>\n<p>The artifact <code>net.sf.saxon:Saxon-HE</code> appears only once (for <code>checkstyle</code>). The presumably related artifact <code>net.sourceforge.saxon:saxon</code> appears multiple times under <code>net.sourceforge.pmd</code> artifacts, always the same version: 9.1.0.8. (This is the only available version of <a href=\"https://mvnrepository.com/artifact/net.sourceforge.saxon/saxon\" rel=\"nofollow noreferrer\"><code>saxon</code></a>.)</p>\n<p>The <code>SecurityException</code> goes away if I remove the <code>checkstyle</code> dependency, so it may be some sort of conflict between <code>net.sf.saxon:Saxon-HE</code>.</p>\n<p>I got a library conflict when I tried using a PMD 7 RC. Although Gradle doesn't show a dependency from checkstyle to PMD, one appears in checkstyle's <a href=\"https://github.com/checkstyle/checkstyle/blob/master/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a>.</p>\n<p>My questions are:</p>\n<ol>\n<li>Why I am getting this error?</li>\n<li>How can I fix it in this Gradle 8 (Groovy DSL) project?</li>\n</ol>\n"},{"tags":["java","amazon-web-services","aws-lambda","cors"],"comments":[{"owner":{"account_id":958669,"reputation":9639,"user_id":983476,"accept_rate":98,"display_name":"Allan Chua"},"score":0,"creation_date":1688281319,"post_id":76597501,"comment_id":135051158,"body_markdown":"Hi, could you share us your Function definition code? What methods are you using? What integration type are you using between the API gateway to lambda? HTTP Proxy or HTTP?","body":"Hi, could you share us your Function definition code? What methods are you using? What integration type are you using between the API gateway to lambda? HTTP Proxy or HTTP?"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1688288433,"post_id":76597501,"comment_id":135051769,"body_markdown":"A necessary condition for CORS preflight to succeed for your client is that `Content-Type` be listed as an allowed request header in your CORS configuration. See https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests","body":"A necessary condition for CORS preflight to succeed for your client is that <code>Content-Type</code> be listed as an allowed request header in your CORS configuration. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_reques&zwnj;&#8203;ts</a>"},{"owner":{"account_id":285469,"reputation":637,"user_id":584154,"accept_rate":50,"display_name":"Geek"},"score":0,"creation_date":1688308897,"post_id":76597501,"comment_id":135053870,"body_markdown":"@AllanChua I have updated my  question with the code, I am not using API Gateway . It is just Lambda triggered by it&#39;s function URL.","body":"@AllanChua I have updated my  question with the code, I am not using API Gateway . It is just Lambda triggered by it&#39;s function URL."},{"owner":{"account_id":285469,"reputation":637,"user_id":584154,"accept_rate":50,"display_name":"Geek"},"score":0,"creation_date":1688309864,"post_id":76597501,"comment_id":135054019,"body_markdown":"@jub0bs In the shared screenshot of response headers from `OPTIONS` you can see `content-type` set. However, I have explicitly added the &#39;content-type&#39; in the &quot;Expose headers&quot; configuration of Lambda as you suggested but it is still not working.","body":"@jub0bs In the shared screenshot of response headers from <code>OPTIONS</code> you can see <code>content-type</code> set. However, I have explicitly added the &#39;content-type&#39; in the &quot;Expose headers&quot; configuration of Lambda as you suggested but it is still not working."},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":1,"creation_date":1688311754,"post_id":76597501,"comment_id":135054212,"body_markdown":"@Geek You need to list `Content-Type` under the rubric entitled _Allow headers_, not the one entitled _Expose headers_.","body":"@Geek You need to list <code>Content-Type</code> under the rubric entitled <i>Allow headers</i>, not the one entitled <i>Expose headers</i>."},{"owner":{"account_id":285469,"reputation":637,"user_id":584154,"accept_rate":50,"display_name":"Geek"},"score":1,"creation_date":1688447950,"post_id":76597501,"comment_id":135071611,"body_markdown":"@jub0bs You are right , I didn&#39;t notice that my jQuery is sending `content-type` header to the backend. Adding `content-type` in the &quot;Allow headers&quot; fixed the  problem .","body":"@jub0bs You are right , I didn&#39;t notice that my jQuery is sending <code>content-type</code> header to the backend. Adding <code>content-type</code> in the &quot;Allow headers&quot; fixed the  problem ."}],"answers":[{"tags":[],"owner":{"account_id":1329738,"reputation":5799,"user_id":1273882,"accept_rate":39,"display_name":"Ankush Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688288707,"creation_date":1688288707,"answer_id":76598162,"question_id":76597501,"body_markdown":"For me, CORB issue happened when I had configured the API Gateway with proper CORS configurations, but my Lambda function written in .NET was not returning proper CORS header in the response. This was resulting in successful OPTIONS request but was failing while making GET or POST requests to the API Gateway.\r\n\r\nA simple solution for you would be to return `Access-Control-Allow-Origin` header from your Java Lambda function.\r\n\r\nI am not a JAVA guy, so please excuse me if I am wrong below. But this is just to show you how can you return the required header from the Lambda function.\r\n\r\n```java\r\npublic Response handleRequest(RequestClass request, Context context){\r\n\t.\r\n\t.\r\n\t.\r\n\tMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n\theaders.put(Access-Control-Allow-Origin, &quot;*&quot;); // Required CORS header\r\n\r\n\treturn new Response(200, headers, responseBody);\r\n}\r\n```","title":"How can I get the CORS working for the POST to the Lambda function URL?","body":"<p>For me, CORB issue happened when I had configured the API Gateway with proper CORS configurations, but my Lambda function written in .NET was not returning proper CORS header in the response. This was resulting in successful OPTIONS request but was failing while making GET or POST requests to the API Gateway.</p>\n<p>A simple solution for you would be to return <code>Access-Control-Allow-Origin</code> header from your Java Lambda function.</p>\n<p>I am not a JAVA guy, so please excuse me if I am wrong below. But this is just to show you how can you return the required header from the Lambda function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Response handleRequest(RequestClass request, Context context){\n    .\n    .\n    .\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    headers.put(Access-Control-Allow-Origin, &quot;*&quot;); // Required CORS header\n\n    return new Response(200, headers, responseBody);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":285469,"reputation":637,"user_id":584154,"accept_rate":50,"display_name":"Geek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689714450,"creation_date":1688481095,"answer_id":76613658,"question_id":76597501,"body_markdown":"After quite some online reading, debugging and taking help from other comments I figured out that my jQuery was sending `content-type` and `authorization` headers.\r\n\r\nSo there are two ways to fix this: \r\n1. In the original question, I already allowed the &quot;authorization&quot; headers but the ajax was also sending `content-type` headers because of this line `contentType: &quot;application/json&quot;` in the ajax call. So I updated the ajax call to `dataType: &quot;json&quot;,`. \r\n2. Or, you add both the headers (`contentType` and `authorization` ) in the &quot;Allow headers&quot; of the Function URL.\r\n\r\nThis article explains how to debug CORS: https://medium.com/@mail.ekansh/cors-with-lambdas-function-url-22bb5bfcb3c4\r\n","title":"How can I get the CORS working for the POST to the Lambda function URL?","body":"<p>After quite some online reading, debugging and taking help from other comments I figured out that my jQuery was sending <code>content-type</code> and <code>authorization</code> headers.</p>\n<p>So there are two ways to fix this:</p>\n<ol>\n<li>In the original question, I already allowed the &quot;authorization&quot; headers but the ajax was also sending <code>content-type</code> headers because of this line <code>contentType: &quot;application/json&quot;</code> in the ajax call. So I updated the ajax call to <code>dataType: &quot;json&quot;,</code>.</li>\n<li>Or, you add both the headers (<code>contentType</code> and <code>authorization</code> ) in the &quot;Allow headers&quot; of the Function URL.</li>\n</ol>\n<p>This article explains how to debug CORS: <a href=\"https://medium.com/@mail.ekansh/cors-with-lambdas-function-url-22bb5bfcb3c4\" rel=\"nofollow noreferrer\">https://medium.com/@mail.ekansh/cors-with-lambdas-function-url-22bb5bfcb3c4</a></p>\n"}],"owner":{"account_id":285469,"reputation":637,"user_id":584154,"accept_rate":50,"display_name":"Geek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689714450,"creation_date":1688275532,"question_id":76597501,"body_markdown":"I am getting CORS error when making ajax request to the AWS lambda function url from browser.\r\n```\r\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://somethingsomething.lambda-url.us-east-2.on.aws/authnz/subscribe. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing). Status code: 200.\r\n``` \r\nMy Lambda Function URL&#39; CORS is configured as below . However, browser is still throwing error when my JQUERY makes POST call. \r\n[![enter image description here][1]][1]\r\n\r\nJQuery call: \r\n```\r\n$.ajax({\r\n      url: remoteUrl,\r\n      type: &quot;POST&quot;,\r\n      contentType: &quot;application/json&quot;,\r\n      headers: {\r\n        &quot;Authorization&quot;: &quot;Bearer &quot;+token\r\n      },\r\n      data:  {&quot;a&quot;:&quot;aa&quot;},\r\n      success: function(response) {\r\n         \r\n        console.log(response);\r\n      },\r\n      error: function(xhr) {\r\n        \r\n        $(&quot;#form_save_message&quot;).show();\r\n      }\r\n    });\r\n  });\r\n````\r\n\r\nThe response headers for the `OPTIONS` calls are \r\n[![enter image description here][2]][2]\r\n\r\nHow can I get the CORS working for the POST to the Lambda function URL? I am not using API gateway just the Lambda function URL. Do I must use API Gateway ?  From what I have seen every question here is with API gateway + Lambda. \r\n\r\nMy Backend code, just have some business logic and looks like this : \r\n\r\n```\r\npublic class RegistrationApplication implements RequestHandler&lt;Map&lt;String, Object&gt;, Map&lt;String, Object&gt;&gt; {\r\n\t \r\n\r\n\t@Override\r\n\tpublic Map&lt;String, Object&gt; handleRequest(Map&lt;String, Object&gt; requestParams, Context context) {\r\n\t\tMap&lt;String,Object&gt; lambdaResponse = new HashMap&lt;&gt;();\r\n\t\treturn lambdaResponse;\r\n\t}\r\n}\r\n```\r\n\r\nNote, \r\n1. my lambda is written in Java\r\n2. I am not seeing the lambda handler logs rolling when OPTIONS calls is made by browser  so adding headers in the function \r\n`public Map&lt;String, Object&gt; handleRequest(Map&lt;String, Object&gt; requestParams, Context context) {` will have no effect.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e475M.png\r\n  [2]: https://i.stack.imgur.com/qKP4T.png","title":"How can I get the CORS working for the POST to the Lambda function URL?","body":"<p>I am getting CORS error when making ajax request to the AWS lambda function url from browser.</p>\n<pre><code>Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://somethingsomething.lambda-url.us-east-2.on.aws/authnz/subscribe. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing). Status code: 200.\n</code></pre>\n<p>My Lambda Function URL' CORS is configured as below . However, browser is still throwing error when my JQUERY makes POST call.\n<a href=\"https://i.stack.imgur.com/e475M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e475M.png\" alt=\"enter image description here\" /></a></p>\n<p>JQuery call:</p>\n<pre><code>$.ajax({\n      url: remoteUrl,\n      type: &quot;POST&quot;,\n      contentType: &quot;application/json&quot;,\n      headers: {\n        &quot;Authorization&quot;: &quot;Bearer &quot;+token\n      },\n      data:  {&quot;a&quot;:&quot;aa&quot;},\n      success: function(response) {\n         \n        console.log(response);\n      },\n      error: function(xhr) {\n        \n        $(&quot;#form_save_message&quot;).show();\n      }\n    });\n  });\n</code></pre>\n<p>The response headers for the <code>OPTIONS</code> calls are\n<a href=\"https://i.stack.imgur.com/qKP4T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKP4T.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I get the CORS working for the POST to the Lambda function URL? I am not using API gateway just the Lambda function URL. Do I must use API Gateway ?  From what I have seen every question here is with API gateway + Lambda.</p>\n<p>My Backend code, just have some business logic and looks like this :</p>\n<pre><code>public class RegistrationApplication implements RequestHandler&lt;Map&lt;String, Object&gt;, Map&lt;String, Object&gt;&gt; {\n     \n\n    @Override\n    public Map&lt;String, Object&gt; handleRequest(Map&lt;String, Object&gt; requestParams, Context context) {\n        Map&lt;String,Object&gt; lambdaResponse = new HashMap&lt;&gt;();\n        return lambdaResponse;\n    }\n}\n</code></pre>\n<p>Note,</p>\n<ol>\n<li>my lambda is written in Java</li>\n<li>I am not seeing the lambda handler logs rolling when OPTIONS calls is made by browser  so adding headers in the function\n<code>public Map&lt;String, Object&gt; handleRequest(Map&lt;String, Object&gt; requestParams, Context context) {</code> will have no effect.</li>\n</ol>\n"},{"tags":["java","eclipse","jsf-2","xhtml","facelets"],"comments":[{"owner":{"account_id":934481,"reputation":7402,"user_id":2911357,"accept_rate":84,"display_name":"Michele Mariotti"},"score":0,"creation_date":1393747481,"post_id":22118403,"comment_id":33568173,"body_markdown":"apart from your question, you are using a JSF 1.2 Facet for JSF 2.2","body":"apart from your question, you are using a JSF 1.2 Facet for JSF 2.2"},{"owner":{"account_id":3008527,"reputation":439,"user_id":2552492,"accept_rate":75,"display_name":"6055"},"score":0,"creation_date":1393839767,"post_id":22118403,"comment_id":33599375,"body_markdown":"@MicheleMariotti :  I have tried with every permutation, combination but not getting XHTML option. I thought i am missing some plugin or jar or something.","body":"@MicheleMariotti :  I have tried with every permutation, combination but not getting XHTML option. I thought i am missing some plugin or jar or something."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393721223,"creation_date":1393721223,"answer_id":22122465,"question_id":22118403,"body_markdown":"Go back and remove that content type association. Then, for JavaServer Faces pages, use the New JSP wizard, picking one of the JSF templates and giving it the filename extension you want.","title":"No create XHTML option in Eclipse","body":"<p>Go back and remove that content type association. Then, for JavaServer Faces pages, use the New JSP wizard, picking one of the JSF templates and giving it the filename extension you want.</p>\n"},{"tags":[],"owner":{"account_id":3008527,"reputation":439,"user_id":2552492,"accept_rate":75,"display_name":"6055"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1393867214,"creation_date":1393867214,"answer_id":22153090,"question_id":22118403,"body_markdown":"Answering my own question as i found the solution :\r\n\r\nI am now getting the option to create XHTML pages.\r\nSteps that i followed :\r\n\r\nHelp -&gt; Eclipse Marketplace -&gt; Find(Jboss) -&gt; Jboss tools(Kepler)4.1.1 Final.\r\nAfter installing this, i am getting the option to create XHTML pages.","title":"No create XHTML option in Eclipse","body":"<p>Answering my own question as i found the solution :</p>\n\n<p>I am now getting the option to create XHTML pages.\nSteps that i followed :</p>\n\n<p>Help -> Eclipse Marketplace -> Find(Jboss) -> Jboss tools(Kepler)4.1.1 Final.\nAfter installing this, i am getting the option to create XHTML pages.</p>\n"},{"tags":[],"owner":{"account_id":2355277,"reputation":173,"user_id":2284605,"accept_rate":50,"display_name":"razor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439697162,"creation_date":1439696875,"answer_id":32031621,"question_id":22118403,"body_markdown":"I was looking for create xhtml option and found this post. Thanks. \r\nInstalling JBoss Tools does give the option to create xhtml pages. \r\nAlternatively, you can also use the &quot;New--&gt;File&quot; option in eclipse to create a new file and give it xhtml extension. This will not require you to install JBoss tools in eclipse.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/o53HB.png\r\n  [2]: http://i.stack.imgur.com/rkeqO.png\r\n  [3]: http://i.stack.imgur.com/sFDN0.png\r\n\r\nJust noticed the question is from 2014. So I hope this helps some one new to JSF just like me.","title":"No create XHTML option in Eclipse","body":"<p>I was looking for create xhtml option and found this post. Thanks. \nInstalling JBoss Tools does give the option to create xhtml pages. \nAlternatively, you can also use the \"New-->File\" option in eclipse to create a new file and give it xhtml extension. This will not require you to install JBoss tools in eclipse.</p>\n\n<p><a href=\"https://i.stack.imgur.com/o53HB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o53HB.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/rkeqO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkeqO.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sFDN0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFDN0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Just noticed the question is from 2014. So I hope this helps some one new to JSF just like me.</p>\n"},{"tags":[],"owner":{"account_id":6232188,"reputation":850,"user_id":6660678,"display_name":"mdfst13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565565361,"creation_date":1565565361,"answer_id":57454278,"question_id":22118403,"body_markdown":"After installing a new version of Eclipse, the create XHTML file option wasn&#39;t where I remembered it.  I had already installed JBoss Tools.  Under this version (the March 2019 Eclipse with JBoss Tools added), the option is found under `File -&gt; New -&gt; Other -&gt; JBoss Tools Web -&gt; XHTML Page`.  \r\n\r\nAfter you select `File -&gt; New -&gt; Other`, the wizard that shows includes a &quot;type filter text&quot; box.  If you enter XHTML there, it will show the relevant option and where it is found.  If I had noticed that first, that would have been easier than Googling and would have produced the correct answer.  Presumably that will continue to work even after future updates so long as there is some XHTML wizard available.  ","title":"No create XHTML option in Eclipse","body":"<p>After installing a new version of Eclipse, the create XHTML file option wasn't where I remembered it.  I had already installed JBoss Tools.  Under this version (the March 2019 Eclipse with JBoss Tools added), the option is found under <code>File -&gt; New -&gt; Other -&gt; JBoss Tools Web -&gt; XHTML Page</code>.  </p>\n\n<p>After you select <code>File -&gt; New -&gt; Other</code>, the wizard that shows includes a \"type filter text\" box.  If you enter XHTML there, it will show the relevant option and where it is found.  If I had noticed that first, that would have been easier than Googling and would have produced the correct answer.  Presumably that will continue to work even after future updates so long as there is some XHTML wizard available.  </p>\n"},{"tags":[],"owner":{"account_id":22766587,"reputation":1,"user_id":16924528,"display_name":"MaksSki"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676504836,"creation_date":1676215759,"answer_id":75428100,"question_id":22118403,"body_markdown":"Do `Folder` -&gt; `New` -&gt; `Other` -&gt; `General` -&gt; `File`. Then write the file name, e.g `index.xhtml`. Then click `Finish`.\r\n\r\nYou don&#39;t need to download another tool to create a .xhtml file in Eclipse IDE. My Eclipse version is of 2022 year.","title":"No create XHTML option in Eclipse","body":"<p>Do <code>Folder</code> -&gt; <code>New</code> -&gt; <code>Other</code> -&gt; <code>General</code> -&gt; <code>File</code>. Then write the file name, e.g <code>index.xhtml</code>. Then click <code>Finish</code>.</p>\n<p>You don't need to download another tool to create a .xhtml file in Eclipse IDE. My Eclipse version is of 2022 year.</p>\n"},{"tags":[],"owner":{"account_id":358632,"reputation":3424,"user_id":699529,"accept_rate":62,"display_name":"Ted Spradley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689714374,"creation_date":1689714374,"answer_id":76716561,"question_id":22118403,"body_markdown":"As MaksSki said, there is no need to download a tool from marketplace. \r\n\r\nRight click on the folder you wish to create the file in:\r\nNew -&gt; HTML -&gt; (enter-file-name.xhtml) -&gt; Next -&gt; Select from one of the many templates (example - New Facelet Composition Page).\r\n[![Eclipse Screenshot - New -&gt; HTML][1]][1]\r\n\r\n[![Eclipse Settings Screenshot of - Selecting XHTML Template][2]][2]\r\n\r\nTo edit the templates use: Settings -&gt; Web -&gt; HTML Files -&gt; Editor -&gt; Templates\r\n[![Eclipse Settings Screenshot of - Settings -&gt; Web -&gt; HTML Files -&gt; Editor -&gt; Templates][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WX8R0.png\r\n  [2]: https://i.stack.imgur.com/rSG56.png\r\n  [3]: https://i.stack.imgur.com/w7ulA.png","title":"No create XHTML option in Eclipse","body":"<p>As MaksSki said, there is no need to download a tool from marketplace.</p>\n<p>Right click on the folder you wish to create the file in:\nNew -&gt; HTML -&gt; (enter-file-name.xhtml) -&gt; Next -&gt; Select from one of the many templates (example - New Facelet Composition Page).\n<a href=\"https://i.stack.imgur.com/WX8R0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WX8R0.png\" alt=\"Eclipse Screenshot - New -&gt; HTML\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rSG56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rSG56.png\" alt=\"Eclipse Settings Screenshot of - Selecting XHTML Template\" /></a></p>\n<p>To edit the templates use: Settings -&gt; Web -&gt; HTML Files -&gt; Editor -&gt; Templates\n<a href=\"https://i.stack.imgur.com/w7ulA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w7ulA.png\" alt=\"Eclipse Settings Screenshot of - Settings -&gt; Web -&gt; HTML Files -&gt; Editor -&gt; Templates\" /></a></p>\n"}],"owner":{"account_id":3008527,"reputation":439,"user_id":2552492,"accept_rate":75,"display_name":"6055"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20847,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22153090,"answer_count":6,"score":10,"last_activity_date":1689714374,"creation_date":1393698121,"question_id":22118403,"body_markdown":"I am using Eclipse Kepler,version=4.3.0(tried with version=3.7.0 also).I tried using javax.faces-2.2.5.jar and javax.faces-2.2.1.jar.\r\n\r\nSteps that i am following :\r\nFile -&gt; New -&gt; Dynamic Web Project -&gt; Dynamic web module version - 2.5(tried with 3.0 also),Configuration - JavaServerFaces v1.2Project -&gt;  Next -&gt; Next -&gt; Next -&gt; JSF implementation Library - Added javax.faces-2.2.5.jar -&gt; Finish.\r\n\r\nAfter the project got created :\r\nRight Click on project name -&gt; Properties -&gt; Project facets : Dynamic Web Module - 2.5\r\nJava - 1.5\r\nJavascript - 1.0\r\nJava Server faces - 1.2\r\n\r\nI even did : Window &gt; Preferences &gt; General &gt; Content Types &gt; Text &gt; JSP and then add *.xhtml as file association and set default encoding to UTF-8.\r\n\r\nAlso, did Help -&gt; Check for updates and updated eclipse.\r\n\r\nAfter doing all this , when i do Right Click on Web Content -&gt;  New ,there is no option for creating XHTML pages.\r\n\r\nPlease suggest if i am missing something.","title":"No create XHTML option in Eclipse","body":"<p>I am using Eclipse Kepler,version=4.3.0(tried with version=3.7.0 also).I tried using javax.faces-2.2.5.jar and javax.faces-2.2.1.jar.</p>\n\n<p>Steps that i am following :\nFile -> New -> Dynamic Web Project -> Dynamic web module version - 2.5(tried with 3.0 also),Configuration - JavaServerFaces v1.2Project ->  Next -> Next -> Next -> JSF implementation Library - Added javax.faces-2.2.5.jar -> Finish.</p>\n\n<p>After the project got created :\nRight Click on project name -> Properties -> Project facets : Dynamic Web Module - 2.5\nJava - 1.5\nJavascript - 1.0\nJava Server faces - 1.2</p>\n\n<p>I even did : Window > Preferences > General > Content Types > Text > JSP and then add *.xhtml as file association and set default encoding to UTF-8.</p>\n\n<p>Also, did Help -> Check for updates and updated eclipse.</p>\n\n<p>After doing all this , when i do Right Click on Web Content ->  New ,there is no option for creating XHTML pages.</p>\n\n<p>Please suggest if i am missing something.</p>\n"},{"tags":["java","libgdx"],"owner":{"account_id":9716165,"reputation":21,"user_id":10273624,"display_name":"Михаил Куликовец"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689713639,"creation_date":1689521915,"question_id":76699102,"body_markdown":"I am making a program on libgdx, it is a game engine, for five years of working on the program there seemed to be no problems with matrices, but today I discovered a strange problem, I create a matrix with the desired position, rotation and scaling, then I check the rotation of this matrix, and miracle! rotation has changed!\r\nHere is the code, just for testing:\r\n\r\n\r\n```\r\nVector3 pos = new Vector3(0, 0, 0);\r\nQuaternion rot = new Quaternion(0.70710677, 0, 0, 0.70710677);\r\nVector3 scl = new Vector3(0.5, 0.5, 0.5);\r\n\r\nMatrix4 mat = new Matrix4(pos, rot, scl);\r\n\r\nGdx.app.log(&quot;mat&quot;, mat.getTranslation(new Vector3()).toString() +&quot; / &quot;+ mat.getRotation(new Quaternion()).toString() +&quot; / &quot;+ mat.getScale(new Vector3()).toString());\r\n\r\n//return:\r\n//[mat] (0.0,0.0,0.0) / [-0.40824825|0.0|0.0|0.61237246] / (0.5,0.49999997,0.49999997)\r\n```\r\n\r\nAs you can see, the rotation has changed, and the scaling has changed a little, although no actions were performed on the matrix,\r\n\r\n\r\nI&#39;m trying to make a 3d model compiler, due to this error I can&#39;t make the correct bind pose\r\n\r\nTried creating the matrix in different ways\r\n\r\n\r\n```\r\nMatrix4 mat = new Matrix4().setToTranslationAndScaling(pos, scl);\r\nmat.rotate(rot);\r\n```\r\n\r\n\r\nBut the result is the same","title":"LibGDX matrix changes rotation after creating","body":"<p>I am making a program on libgdx, it is a game engine, for five years of working on the program there seemed to be no problems with matrices, but today I discovered a strange problem, I create a matrix with the desired position, rotation and scaling, then I check the rotation of this matrix, and miracle! rotation has changed!\nHere is the code, just for testing:</p>\n<pre><code>Vector3 pos = new Vector3(0, 0, 0);\nQuaternion rot = new Quaternion(0.70710677, 0, 0, 0.70710677);\nVector3 scl = new Vector3(0.5, 0.5, 0.5);\n\nMatrix4 mat = new Matrix4(pos, rot, scl);\n\nGdx.app.log(&quot;mat&quot;, mat.getTranslation(new Vector3()).toString() +&quot; / &quot;+ mat.getRotation(new Quaternion()).toString() +&quot; / &quot;+ mat.getScale(new Vector3()).toString());\n\n//return:\n//[mat] (0.0,0.0,0.0) / [-0.40824825|0.0|0.0|0.61237246] / (0.5,0.49999997,0.49999997)\n</code></pre>\n<p>As you can see, the rotation has changed, and the scaling has changed a little, although no actions were performed on the matrix,</p>\n<p>I'm trying to make a 3d model compiler, due to this error I can't make the correct bind pose</p>\n<p>Tried creating the matrix in different ways</p>\n<pre><code>Matrix4 mat = new Matrix4().setToTranslationAndScaling(pos, scl);\nmat.rotate(rot);\n</code></pre>\n<p>But the result is the same</p>\n"},{"tags":["java","java.util.concurrent","scheduledexecutorservice"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689706432,"post_id":76715773,"comment_id":135250852,"body_markdown":"it will *always* take 10 seconds! The task is being scheduled with a **delay** of seconds. Check the [javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.util.concurrent.Callable,long,java.util.concurrent.TimeUnit)): &quot;*Submits a value-returning one-shot task that becomes enabled **after the given delay**.*&quot; (my emphasis) - it is not a timeout","body":"it will <i>always</i> take 10 seconds! The task is being scheduled with a <b>delay</b> of seconds. Check the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.util.concurrent.Callable,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">javadoc</a>: &quot;<i>Submits a value-returning one-shot task that becomes enabled <b>after the given delay</b>.</i>&quot; (my emphasis) - it is not a timeout"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689709473,"post_id":76715773,"comment_id":135251355,"body_markdown":"@user16320675 D&#39;oh!","body":"@user16320675 D&#39;oh!"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689709583,"post_id":76715773,"comment_id":135251377,"body_markdown":"@user16320675 Do you want to answer this question, or do you think I should just delete it?","body":"@user16320675 Do you want to answer this question, or do you think I should just delete it?"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689713111,"post_id":76715773,"comment_id":135251978,"body_markdown":"@user16320675 Thanks so much for your help!","body":"@user16320675 Thanks so much for your help!"}],"answers":[{"tags":[],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689713092,"creation_date":1689713092,"answer_id":76716432,"question_id":76715773,"body_markdown":"As user16320675 helpfully pointed out, I misunderstood the API: The argument to `ScheduledExecutorService.schedule()` specifies when to _start_ the task, not when to end it.\r\n\r\nThe corrected code uses [`ExecutorService.submit()`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-) and [`Future.get(long, TimeUnit)`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-) as shown:\r\n\r\n```java\r\npublic class Task {\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\n    public abstract Callable&lt;Result&gt; getCallable(Target target);\r\n\r\n    public Result processTarget(Target target) {\r\n        try {\r\n            Future&lt;List&lt;Result&gt;&gt; future = executor.submit(getCallable(target));\r\n            return future.get(10, TimeUnit.SECONDS);\r\n        } catch (InterruptedException | TimeoutException | ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}  ","title":"Using ScheduledExecutorService drastically slows down execution","body":"<p>As user16320675 helpfully pointed out, I misunderstood the API: The argument to <code>ScheduledExecutorService.schedule()</code> specifies when to <em>start</em> the task, not when to end it.</p>\n<p>The corrected code uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-\" rel=\"nofollow noreferrer\"><code>ExecutorService.submit()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\"><code>Future.get(long, TimeUnit)</code></a> as shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Task {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n\n    public abstract Callable&lt;Result&gt; getCallable(Target target);\n\n    public Result processTarget(Target target) {\n        try {\n            Future&lt;List&lt;Result&gt;&gt; future = executor.submit(getCallable(target));\n            return future.get(10, TimeUnit.SECONDS);\n        } catch (InterruptedException | TimeoutException | ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}  \n</code></pre>\n"}],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689713092,"creation_date":1689706230,"question_id":76715773,"body_markdown":"I need to limit the execution time of some methods so am using `ScheduledExecutorService` not to add concurrency but to enforce a timeout.\r\n\r\n```java\r\npublic class Task {\r\n    private static final ScheduledExecutorService scheduler = Executors\r\n            .newScheduledThreadPool(1);\r\n\r\n    public abstract Callable&lt;Result&gt; getCallable(Target target);\r\n\r\n    public Result processTarget(Target target) {\r\n        try {\r\n            ScheduledFuture&lt;List&lt;Result&gt;&gt; future = scheduler.schedule(\r\n                        getCallable(target), 10, TimeUnit.SECONDS);\r\n            return future.get();\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}  \r\n```\r\n\r\nWhile this code works, the performance is unacceptable. For some concrete subclasses, the call to `future.get()` takes 10 seconds, even if the call to the `Callable` function takes only milliseconds when called directly. Increasing the thread pool size makes no difference.\r\n\r\nFor example, one concrete subclass returns a `Callable` that runs PMD programmatically.\r\n\r\n```java\r\npublic class PmdGrader extends Task {\r\n    @Override\r\n    public Callable&lt;Result&gt; getCallable(final Target target) {\r\n        return () -&gt; {\r\n            try (PmdAnalysis analysis = createAnalysis()) {\r\n                analysis.files().addFileOrDirectory(target.toPath());\r\n                Report report = analysis.performAnalysisAndCollectReport();\r\n                return produceResults(report);\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nBefore adding `ScheduledExecutorService` (i.e., when doing the work in the main thread), unit tests involving `PmdGrader` took 13-696 ms each. After adding concurrency, some tests took the same amount of time, while others took approximately 10 seconds more than their original times. If I increase the timeout from 10 seconds to 15 seconds, those tests take an additional 5 seconds. In other words, instead of being a maximum time (as I intended), the timeout is acting as a minimum time.\r\n\r\n**Questions**\r\n1. Is there a way to use `ScheduledExecutorService` without this huge performance hit.\r\n2. Is there a better library (whether included with Java or external)?\r\n","title":"Using ScheduledExecutorService drastically slows down execution","body":"<p>I need to limit the execution time of some methods so am using <code>ScheduledExecutorService</code> not to add concurrency but to enforce a timeout.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Task {\n    private static final ScheduledExecutorService scheduler = Executors\n            .newScheduledThreadPool(1);\n\n    public abstract Callable&lt;Result&gt; getCallable(Target target);\n\n    public Result processTarget(Target target) {\n        try {\n            ScheduledFuture&lt;List&lt;Result&gt;&gt; future = scheduler.schedule(\n                        getCallable(target), 10, TimeUnit.SECONDS);\n            return future.get();\n        } catch (InterruptedException | ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}  \n</code></pre>\n<p>While this code works, the performance is unacceptable. For some concrete subclasses, the call to <code>future.get()</code> takes 10 seconds, even if the call to the <code>Callable</code> function takes only milliseconds when called directly. Increasing the thread pool size makes no difference.</p>\n<p>For example, one concrete subclass returns a <code>Callable</code> that runs PMD programmatically.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PmdGrader extends Task {\n    @Override\n    public Callable&lt;Result&gt; getCallable(final Target target) {\n        return () -&gt; {\n            try (PmdAnalysis analysis = createAnalysis()) {\n                analysis.files().addFileOrDirectory(target.toPath());\n                Report report = analysis.performAnalysisAndCollectReport();\n                return produceResults(report);\n            }\n        };\n    }\n</code></pre>\n<p>Before adding <code>ScheduledExecutorService</code> (i.e., when doing the work in the main thread), unit tests involving <code>PmdGrader</code> took 13-696 ms each. After adding concurrency, some tests took the same amount of time, while others took approximately 10 seconds more than their original times. If I increase the timeout from 10 seconds to 15 seconds, those tests take an additional 5 seconds. In other words, instead of being a maximum time (as I intended), the timeout is acting as a minimum time.</p>\n<p><strong>Questions</strong></p>\n<ol>\n<li>Is there a way to use <code>ScheduledExecutorService</code> without this huge performance hit.</li>\n<li>Is there a better library (whether included with Java or external)?</li>\n</ol>\n"},{"tags":["java","jax-rs","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1689716435,"post_id":76716413,"comment_id":135252431,"body_markdown":"You&#39;d need to synchronize the read in a transaction as well. I&#39;m not a JPA expert, but you might need to look at your implementations documentation. What JPA implementation are you using?","body":"You&#39;d need to synchronize the read in a transaction as well. I&#39;m not a JPA expert, but you might need to look at your implementations documentation. What JPA implementation are you using?"},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1689749060,"post_id":76716413,"comment_id":135255403,"body_markdown":"We&#39;re using Hibernate / JPA 2.2, its a Jakarta EE 8 stack","body":"We&#39;re using Hibernate / JPA 2.2, its a Jakarta EE 8 stack"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1689795433,"post_id":76716413,"comment_id":135265853,"body_markdown":"This is for Jakarta EE 10, but it should still be relevant. Have a look at the lock mode https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/lockmodetype.","body":"This is for Jakarta EE 10, but it should still be relevant. Have a look at the lock mode <a href=\"https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/lockmodetype\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/persistence/3.1/apidocs/&hellip;</a>."}],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689712910,"creation_date":1689712910,"question_id":76716413,"body_markdown":"I have a JAX-RS (RESTEasy) endpoint. Within the endpoint method I am checking a database timestamp column for a JPA entity and if the column is null then I save the current time, raise an alert and return success, if the column already has a time set then I do nothing and return success.\r\n\r\nNow I am finding that if the endpoint is called 5/6 times in quick succession (within the same 500ms) then every request is seeing the column as null and I get 5/6 alerts raised where I only wanted one.\r\n\r\nI assume this is because the requests are processed asynchronously and the database changes have not been fully committed until after the last request.\r\n\r\nIs it possible to force the server to process requests for this endpoint synchronously? So that they are queued and only processed when all transactions have been committed? If not is there a better solution to this problem?","title":"JAX-RS / RESTEasy - process requests synchronously","body":"<p>I have a JAX-RS (RESTEasy) endpoint. Within the endpoint method I am checking a database timestamp column for a JPA entity and if the column is null then I save the current time, raise an alert and return success, if the column already has a time set then I do nothing and return success.</p>\n<p>Now I am finding that if the endpoint is called 5/6 times in quick succession (within the same 500ms) then every request is seeing the column as null and I get 5/6 alerts raised where I only wanted one.</p>\n<p>I assume this is because the requests are processed asynchronously and the database changes have not been fully committed until after the last request.</p>\n<p>Is it possible to force the server to process requests for this endpoint synchronously? So that they are queued and only processed when all transactions have been committed? If not is there a better solution to this problem?</p>\n"},{"tags":["java","android","android-dialog"],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689712568,"creation_date":1689712568,"question_id":76716381,"body_markdown":"I am having a problem displaying a dialog:\r\n```\r\n\tpublic static void display(Context c, Throwable t) {\r\n\t\tnew AlertDialog.Builder(c)\r\n\t\t\t\t.setMessage(&quot;test message&quot; /*t.getMessage()*/)\r\n\t\t\t\t.setTitle(&quot;An exception occurred.&quot;)\r\n\t\t\t\t.setCancelable(true)\r\n\t\t\t\t.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\r\n\t\t\t\t\t\tdialog.cancel();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.create()\r\n\t\t\t\t.show();\r\n\t}\r\n```\r\nThe problem is that every element of the dialog is shown except the message.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lh3up.png","title":"AlertDialog message isn&#39;t displayed, but the title and button yes","body":"<p>I am having a problem displaying a dialog:</p>\n<pre><code>    public static void display(Context c, Throwable t) {\n        new AlertDialog.Builder(c)\n                .setMessage(&quot;test message&quot; /*t.getMessage()*/)\n                .setTitle(&quot;An exception occurred.&quot;)\n                .setCancelable(true)\n                .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.cancel();\n                    }\n                })\n                .create()\n                .show();\n    }\n</code></pre>\n<p>The problem is that every element of the dialog is shown except the message.\n<a href=\"https://i.stack.imgur.com/Lh3up.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lh3up.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","scala","apache-poi","immutability","scala-2.13"],"owner":{"account_id":8365987,"reputation":13,"user_id":6282671,"display_name":"kajoe14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689712254,"creation_date":1689712254,"question_id":76716342,"body_markdown":"I have this code that reads a .pptx template file to fetch placeholder mappings and then subsequently replace these placeholders with actual data. It uses Apache POI in Scala.\r\n\r\nHere is my code:\r\n  ```\r\ndef replaceTags(slide: XSLFSlide, data: Data, slideShow: XMLSlideShow): Unit = {\r\n    slide.getShapes.asScala\r\n      .foreach {\r\n        case textShape: XSLFTextShape       =&gt; // shape that can hold text.\r\n          val text = textShape.getText\r\n          val updatedText = replaceTags(text, data)\r\n\r\n          textShape.setText(updatedText)\r\n\r\n          val updatedAnchor = getPlaceholderAnchor(textShape)\r\n          textShape.setAnchor(updatedAnchor)\r\n\r\n          textShape\r\n\r\n        case pictureShape: XSLFPictureShape =&gt;\r\n          val updatedPictureOpt = getPictureData(data.PIM_MAIN_IMAGE, slideShow)\r\n\r\n          updatedPictureOpt.foreach { updatedPicture =&gt;\r\n            slide.createPicture(updatedPicture)\r\n\r\n            pictureShape.setAnchor(getPlaceholderAnchor(pictureShape))\r\n          }\r\n          \r\n        case shape                          =&gt; shape\r\n      }\r\n  }\r\n\r\n  \r\n  private def getPictureData(filePathOpt: Option[String], slideShow: XMLSlideShow): Option[XSLFPictureData] = {\r\n    filePathOpt.flatMap { filePath =&gt;\r\n      val imgBytes    = IOUtils.toByteArray(Files.newInputStream(Path.of(filePath)))\r\n      val pictureType = PictureData.PictureType.valueOf(FileNameUtils.getExtension(filePath))\r\n\r\n      slideShow.addPicture(imgBytes, pictureType).some\r\n    }\r\n  }\r\n  ```\r\n\r\nUnfortunately, the images are not being rendered in the slides - instead, only the image&#39;s file path is being rendered. \r\n\r\nAny ideas where I may be going wrong and hopefully how can I address this?\r\n\r\nSuggestions will be greatly appreciated.","title":"Unable to render images to a PPTX slideshow using Apache POI","body":"<p>I have this code that reads a .pptx template file to fetch placeholder mappings and then subsequently replace these placeholders with actual data. It uses Apache POI in Scala.</p>\n<p>Here is my code:</p>\n<pre><code>def replaceTags(slide: XSLFSlide, data: Data, slideShow: XMLSlideShow): Unit = {\n  slide.getShapes.asScala\n    .foreach {\n      case textShape: XSLFTextShape       =&gt; // shape that can hold text.\n        val text = textShape.getText\n        val updatedText = replaceTags(text, data)\n\n        textShape.setText(updatedText)\n\n        val updatedAnchor = getPlaceholderAnchor(textShape)\n        textShape.setAnchor(updatedAnchor)\n\n        textShape\n\n      case pictureShape: XSLFPictureShape =&gt;\n        val updatedPictureOpt = getPictureData(data.PIM_MAIN_IMAGE, slideShow)\n\n        updatedPictureOpt.foreach { updatedPicture =&gt;\n          slide.createPicture(updatedPicture)\n\n          pictureShape.setAnchor(getPlaceholderAnchor(pictureShape))\n        }\n        \n      case shape                          =&gt; shape\n    }\n}\n\n\nprivate def getPictureData(filePathOpt: Option[String], slideShow: XMLSlideShow): Option[XSLFPictureData] = {\n  filePathOpt.flatMap { filePath =&gt;\n    val imgBytes    = IOUtils.toByteArray(Files.newInputStream(Path.of(filePath)))\n    val pictureType = PictureData.PictureType.valueOf(FileNameUtils.getExtension(filePath))\n\n    slideShow.addPicture(imgBytes, pictureType).some\n  }\n}\n</code></pre>\n<p>Unfortunately, the images are not being rendered in the slides - instead, only the image's file path is being rendered.</p>\n<p>Any ideas where I may be going wrong and hopefully how can I address this?</p>\n<p>Suggestions will be greatly appreciated.</p>\n"},{"tags":["java","json","spring","serialization"],"comments":[{"owner":{"account_id":15860195,"reputation":126,"user_id":11443493,"display_name":"Deane Kane"},"score":0,"creation_date":1575908732,"post_id":59252823,"comment_id":104715585,"body_markdown":"https://rules.sonarsource.com/java/RSPEC-1948","body":"<a href=\"https://rules.sonarsource.com/java/RSPEC-1948\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-1948</a>"}],"answers":[{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1575908986,"creation_date":1575908684,"answer_id":59252898,"question_id":59252823,"body_markdown":"The `Map` interface does **not** extend the `Serializable` interface, which is why Sonar is warning you.\r\n\r\nWhen serializing an instance of `Test`, you must choose whether or not you want `otherProperties` to be serialized.\r\n\r\nIf you **don&#39;t** want to serialize `otherProperties`, then the field should be marked as `transient`:\r\n\r\n    private transient Map&lt;String, Object&gt; otherProperties;\r\n\r\nOtherwise, you can change the type of `otherProperties` to an implementation of `Map` that implements `Serializable`, such as `HashMap`.","title":"Sonar &quot;Make transient or serializable&quot; error","body":"<p>The <code>Map</code> interface does <strong>not</strong> extend the <code>Serializable</code> interface, which is why Sonar is warning you.</p>\n\n<p>When serializing an instance of <code>Test</code>, you must choose whether or not you want <code>otherProperties</code> to be serialized.</p>\n\n<p>If you <strong>don't</strong> want to serialize <code>otherProperties</code>, then the field should be marked as <code>transient</code>:</p>\n\n<pre><code>private transient Map&lt;String, Object&gt; otherProperties;\n</code></pre>\n\n<p>Otherwise, you can change the type of <code>otherProperties</code> to an implementation of <code>Map</code> that implements <code>Serializable</code>, such as <code>HashMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":7440141,"reputation":886,"user_id":5658152,"display_name":"Krzysztof Kaszkowiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620428741,"creation_date":1617352967,"answer_id":66916714,"question_id":59252823,"body_markdown":"If it&#39;s an option (for instance, if you are using Jackson to (de)serialize your class), remove the `Serializable` marker from your `Test` class. The serialization will still work and you will get rid of the warning in Sonar.","title":"Sonar &quot;Make transient or serializable&quot; error","body":"<p>If it's an option (for instance, if you are using Jackson to (de)serialize your class), remove the <code>Serializable</code> marker from your <code>Test</code> class. The serialization will still work and you will get rid of the warning in Sonar.</p>\n"},{"tags":[],"owner":{"account_id":1384231,"reputation":307,"user_id":1316583,"accept_rate":38,"display_name":"xautjzd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663208042,"creation_date":1663208042,"answer_id":73724920,"question_id":59252823,"body_markdown":"Map value type should be specified to extends Serialzable:\r\n\r\n```java\r\npublic class Test&lt;T extends Serializable&gt; implements Serializable{\r\n\r\nprivate String id;\r\n\r\nprivate Map&lt;String,T&gt; otherProperties;\r\n\r\n}\r\n```","title":"Sonar &quot;Make transient or serializable&quot; error","body":"<p>Map value type should be specified to extends Serialzable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test&lt;T extends Serializable&gt; implements Serializable{\n\nprivate String id;\n\nprivate Map&lt;String,T&gt; otherProperties;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7481026,"reputation":180,"user_id":5685753,"display_name":"FAlfeo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669807302,"creation_date":1669807302,"answer_id":74626949,"question_id":59252823,"body_markdown":"Add this 2 methods to your class:\r\n\r\n     private void writeObject(java.io.ObjectOutputStream stream)\r\n            throws IOException {\r\n        stream.defaultWriteObject();\r\n    }\r\n\r\n    private void readObject(java.io.ObjectInputStream stream)\r\n            throws IOException, ClassNotFoundException {\r\n        stream.defaultReadObject();\r\n    }","title":"Sonar &quot;Make transient or serializable&quot; error","body":"<p>Add this 2 methods to your class:</p>\n<pre><code> private void writeObject(java.io.ObjectOutputStream stream)\n        throws IOException {\n    stream.defaultWriteObject();\n}\n\nprivate void readObject(java.io.ObjectInputStream stream)\n        throws IOException, ClassNotFoundException {\n    stream.defaultReadObject();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5181106,"reputation":77,"user_id":4146792,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671452886,"creation_date":1671452886,"answer_id":74850537,"question_id":59252823,"body_markdown":"I was having a similar issue but in contrast to [Nexussim Lements][1] I&#39;ve been using an interface that gets serialized but still SonarLint showed me a warning: \r\n\r\n    public class BasicCheck implements Serializable { ... }\r\n\r\n    public class Case implements Serializable {\r\n       private BasicCheck basicCheck; // Sonarlint throws warning here\r\n       ...\r\n    }\r\n\r\nLuckily I&#39;ve found [FAlfeao&#39;s solution][2] to be working. All I had to do was to add these two methods to my `Case`-class: \r\n\r\n    private void writeObject(java.io.ObjectOutputStream stream)\r\n\t\t\tthrows IOException {\r\n\t\tstream.defaultWriteObject();\r\n\t}\r\n\r\n\tprivate void readObject(java.io.ObjectInputStream stream)\r\n\t\t\tthrows IOException, ClassNotFoundException {\r\n\t\tstream.defaultReadObject();\r\n\t}\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/59252823/4146792\r\n  [2]: https://stackoverflow.com/a/74626949/4146792","title":"Sonar &quot;Make transient or serializable&quot; error","body":"<p>I was having a similar issue but in contrast to <a href=\"https://stackoverflow.com/q/59252823/4146792\">Nexussim Lements</a> I've been using an interface that gets serialized but still SonarLint showed me a warning:</p>\n<pre><code>public class BasicCheck implements Serializable { ... }\n\npublic class Case implements Serializable {\n   private BasicCheck basicCheck; // Sonarlint throws warning here\n   ...\n}\n</code></pre>\n<p>Luckily I've found <a href=\"https://stackoverflow.com/a/74626949/4146792\">FAlfeao's solution</a> to be working. All I had to do was to add these two methods to my <code>Case</code>-class:</p>\n<pre><code>private void writeObject(java.io.ObjectOutputStream stream)\n        throws IOException {\n    stream.defaultWriteObject();\n}\n\nprivate void readObject(java.io.ObjectInputStream stream)\n        throws IOException, ClassNotFoundException {\n    stream.defaultReadObject();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":920765,"reputation":2524,"user_id":952511,"accept_rate":78,"display_name":"sinujohn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1689711200,"creation_date":1689711200,"answer_id":76716249,"question_id":59252823,"body_markdown":"Change Object to Serializable and then Sonar should be happy.\r\n\r\n    private Map&lt;String, Serializable&gt; otherProperties;\r\n\r\nSince your class is Serializable its fields also should be Serializable.","title":"Sonar &quot;Make transient or serializable&quot; error","body":"<p>Change Object to Serializable and then Sonar should be happy.</p>\n<pre><code>private Map&lt;String, Serializable&gt; otherProperties;\n</code></pre>\n<p>Since your class is Serializable its fields also should be Serializable.</p>\n"}],"owner":{"account_id":14765511,"reputation":647,"user_id":10663685,"display_name":"Nexussim Lements"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49087,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":59252898,"answer_count":6,"score":21,"last_activity_date":1689711200,"creation_date":1575908412,"question_id":59252823,"body_markdown":"I have the following serializable class (implements serializable):\r\n\r\n```\r\npublic class Test implements Serializable{\r\n\r\nprivate String id;\r\n\r\nprivate Map&lt;String,Object&gt; otherProperties;\r\n\r\n}\r\n```\r\n\r\nHowever , it seems like this property is causing some problems with serialization :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ap67.png\r\n\r\nHow can I solve this problem ?  \r\n\r\nAlso , is there any downside in not making this transient or serializable ? Will I be able to serialize this class fully ?","title":"Sonar &quot;Make transient or serializable&quot; error","body":"<p>I have the following serializable class (implements serializable):</p>\n\n<pre><code>public class Test implements Serializable{\n\nprivate String id;\n\nprivate Map&lt;String,Object&gt; otherProperties;\n\n}\n</code></pre>\n\n<p>However , it seems like this property is causing some problems with serialization :</p>\n\n<p><a href=\"https://i.stack.imgur.com/6ap67.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6ap67.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I solve this problem ?  </p>\n\n<p>Also , is there any downside in not making this transient or serializable ? Will I be able to serialize this class fully ?</p>\n"},{"tags":["java","arrays","class","data-structures"],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636837632,"creation_date":1636837632,"answer_id":69958239,"question_id":69958180,"body_markdown":"In java, arrays are objects, even if it&#39;s an array of primitive type.\r\n\r\nFor exemple :\r\n\r\n```java\r\nint[] array = {0,1,2,3};\r\n// is the same as :\r\nint[] array = new int[4];\r\narray[0]=0;\r\narray[1]=1;\r\narray[2]=2;\r\narray[3]=3;\r\n// array[0] is primitive (int) but array is object\r\n```","title":"Array = complexe data type = class?","body":"<p>In java, arrays are objects, even if it's an array of primitive type.</p>\n<p>For exemple :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array = {0,1,2,3};\n// is the same as :\nint[] array = new int[4];\narray[0]=0;\narray[1]=1;\narray[2]=2;\narray[3]=3;\n// array[0] is primitive (int) but array is object\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636837703,"creation_date":1636837703,"answer_id":69958251,"question_id":69958180,"body_markdown":"&gt; In the Java programming language, arrays are objects (&#167;4.3.1), are\r\n&gt; dynamically created, and may be assigned to variables of type Object\r\n&gt; (&#167;4.3.2). All methods of class Object may be invoked on an array.\r\n\r\n[From Oracle docs][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html","title":"Array = complexe data type = class?","body":"<blockquote>\n<p>In the Java programming language, arrays are objects (§4.3.1), are\ndynamically created, and may be assigned to variables of type Object\n(§4.3.2). All methods of class Object may be invoked on an array.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html\" rel=\"nofollow noreferrer\">From Oracle docs</a></p>\n"},{"tags":[],"owner":{"account_id":23329068,"reputation":11,"user_id":17405757,"display_name":"Alessandro Modolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636851132,"creation_date":1636837895,"answer_id":69958277,"question_id":69958180,"body_markdown":"In java, an array is just an object ([$4.3.1](https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.1)), and you can check it yourself by a simple `main` method:\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = new int[]{1,2,3};\r\n        System.out.println(array.getClass().isPrimitive()); // returns false\r\n    }","title":"Array = complexe data type = class?","body":"<p>In java, an array is just an object (<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.1\" rel=\"nofollow noreferrer\">$4.3.1</a>), and you can check it yourself by a simple <code>main</code> method:</p>\n<pre><code>public static void main(String[] args) {\n    int[] array = new int[]{1,2,3};\n    System.out.println(array.getClass().isPrimitive()); // returns false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19397365,"reputation":1,"user_id":14184761,"display_name":"Eugene Ushakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638880824,"creation_date":1638880824,"answer_id":70260301,"question_id":69958180,"body_markdown":"In Java array are references as it was said adove,\r\nint[] array = new int[]{1,2,3}; \r\nBut be careful in Java some primitive types have an analog in reference types (int - Integer,  double - Double, etc). https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html.\r\nSometimes boxing/unboxing can produce waste memory and NullPointerException. \r\nHowever, boxing/unboxing do not work for arrays (standard tools)","title":"Array = complexe data type = class?","body":"<p>In Java array are references as it was said adove,\nint[] array = new int[]{1,2,3};\nBut be careful in Java some primitive types have an analog in reference types (int - Integer,  double - Double, etc). <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html</a>.\nSometimes boxing/unboxing can produce waste memory and NullPointerException.\nHowever, boxing/unboxing do not work for arrays (standard tools)</p>\n"}],"owner":{"account_id":18362363,"reputation":29,"user_id":13374208,"display_name":"Shervin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69958251,"answer_count":4,"score":0,"last_activity_date":1689710603,"creation_date":1636837142,"question_id":69958180,"body_markdown":"I learned that there are two types of data types (**complex** and **primitive**). The difference should lie in the fact that the complex data types have or can output more than one content. I have noted String or the scanner as examples. \r\n\r\nI also learned that complex data types are nothing more than **classes**. The assignment using &quot;new&quot; then creates **objects** from these classes / complex data types, which in turn can be referred to as **objectives or complex variables**. \r\n\r\nNow, with the **array**, I am not sure whether this is the same or should be understood differently. Because with the array (at least in java) an additional declaration is made, for example int [] = new int [6]; Since it looks so different to other complex data types and arrays are also referred to as data **structures**, I wanted to know whether I understood everything correctly and whether it can also be transferred to the array.","title":"Array = complexe data type = class?","body":"<p>I learned that there are two types of data types (<strong>complex</strong> and <strong>primitive</strong>). The difference should lie in the fact that the complex data types have or can output more than one content. I have noted String or the scanner as examples.</p>\n<p>I also learned that complex data types are nothing more than <strong>classes</strong>. The assignment using &quot;new&quot; then creates <strong>objects</strong> from these classes / complex data types, which in turn can be referred to as <strong>objectives or complex variables</strong>.</p>\n<p>Now, with the <strong>array</strong>, I am not sure whether this is the same or should be understood differently. Because with the array (at least in java) an additional declaration is made, for example int [] = new int [6]; Since it looks so different to other complex data types and arrays are also referred to as data <strong>structures</strong>, I wanted to know whether I understood everything correctly and whether it can also be transferred to the array.</p>\n"},{"tags":["java","playframework","virtual-machine","sysml"],"owner":{"account_id":29041549,"reputation":1,"user_id":22246306,"display_name":"LeanderBe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689709741,"creation_date":1689684513,"question_id":76712946,"body_markdown":"I&#39;m trying to deploy the sysML v2 API on a terminal-only linux VM. Documentation: https://github.com/Systems-Modeling/SysML-v2-API-Services\r\n\r\nThe Setup and building process works just fine. After building I want to connect to the API via the browser of my host (chrome on windows 10). \r\nInstead of connecting to localhost I connect to the IP address of my VM (I replaced it for security reasons).\r\n\r\nThe API call does get processed (I can see things being compiled on the terminal of the API, while I have a white screen in the browser window), but instead of displaying the swagger UI I got an error message: \r\n\r\n\r\n\r\n&gt; {&quot;error&quot;:{&quot;requestId&quot;:1,&quot;message&quot;:&quot;Host not allowed: ipa.dd.r.ess:9000&quot;}}\r\n\r\n\r\nI fixed that by adding the IP address to the application.conf file before building.\r\n\r\n```\r\nplay.filters.hosts { allowed = [&quot;ipa.dd.r.ess&quot;] }\r\n```\r\n\r\nWhen connecting after building the host address related error was resolved, but instead I got a new error:\r\n\r\n\r\n&gt; {&quot;error&quot;:{&quot;requestId&quot;:1,&quot;message&quot;:&quot;&quot;}}\r\n\r\nI have tried to interpret that &quot;error message&quot; but didn&#39;t find any useful information. \r\n\r\nAny help is appreciated.","title":"Empty error message when deploying sysML v2 API on a VM","body":"<p>I'm trying to deploy the sysML v2 API on a terminal-only linux VM. Documentation: <a href=\"https://github.com/Systems-Modeling/SysML-v2-API-Services\" rel=\"nofollow noreferrer\">https://github.com/Systems-Modeling/SysML-v2-API-Services</a></p>\n<p>The Setup and building process works just fine. After building I want to connect to the API via the browser of my host (chrome on windows 10).\nInstead of connecting to localhost I connect to the IP address of my VM (I replaced it for security reasons).</p>\n<p>The API call does get processed (I can see things being compiled on the terminal of the API, while I have a white screen in the browser window), but instead of displaying the swagger UI I got an error message:</p>\n<blockquote>\n<p>{&quot;error&quot;:{&quot;requestId&quot;:1,&quot;message&quot;:&quot;Host not allowed: ipa.dd.r.ess:9000&quot;}}</p>\n</blockquote>\n<p>I fixed that by adding the IP address to the application.conf file before building.</p>\n<pre><code>play.filters.hosts { allowed = [&quot;ipa.dd.r.ess&quot;] }\n</code></pre>\n<p>When connecting after building the host address related error was resolved, but instead I got a new error:</p>\n<blockquote>\n<p>{&quot;error&quot;:{&quot;requestId&quot;:1,&quot;message&quot;:&quot;&quot;}}</p>\n</blockquote>\n<p>I have tried to interpret that &quot;error message&quot; but didn't find any useful information.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","junit"],"comments":[{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1689707499,"post_id":76715820,"comment_id":135251035,"body_markdown":"You have an explanation here: https://stackoverflow.com/questions/54876448/how-to-catch-hibernate-constraintviolationexception-or-spring-dataintegrityviol?rq=2\nTo explain it shortly, your code doesn&#39;t throw that exception, it comes from Spring proxy mechanism.","body":"You have an explanation here: <a href=\"https://stackoverflow.com/questions/54876448/how-to-catch-hibernate-constraintviolationexception-or-spring-dataintegrityviol?rq=2\" title=\"how to catch hibernate constraintviolationexception or spring dataintegrityviol\">stackoverflow.com/questions/54876448/&hellip;</a> To explain it shortly, your code doesn&#39;t throw that exception, it comes from Spring proxy mechanism."}],"owner":{"account_id":28500334,"reputation":59,"user_id":21811634,"display_name":"Jos&#233; Lisboa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689709736,"creation_date":1689706741,"question_id":76715820,"body_markdown":"This JUnit tests fails\r\n```@Test\r\n public void shouldFailToEditUserTypeWithoutType() {\r\n    UserType userType = new UserType(null, &quot;dd&quot;);\r\n    userType.setType(null);\r\n\r\n    Exception exception = assertThrows(NotNullException.class, () -&gt; {\r\n        userTypeService.update(userType, 1L);\r\n        });\r\n\r\n    String expectedMessage = USER_MUST_BE_GIVEN;\r\n    String currentMessage = exception.getMessage();\r\n\r\n    assertTrue(currentMessage.contains(expectedMessage));\r\n}\r\n```\r\n\r\nwith this error\r\n\r\n```org.opentest4j.AssertionFailedError: Unexpected exception type thrown, \r\nExpected :class com.ces.domain.service.exceptions.ExistingEntityDataException\r\nActual   :class org.springframework.dao.DataIntegrityViolationException\r\n```\r\n\r\nbut in Service layer I&#39;m handling errors with try/catch statement like that\r\n\r\n```\r\n    @Override\r\n    @Transactional\r\n    public UserType update(UserType userType, Long id) {\r\n        try {\r\n            UserType previousUserType = userTypeRepository.getReferenceById(id);\r\n            updateUserTypedata(previousUserType, userType);\r\n\r\n            UserType updatedUserType = userTypeRepository.save(previousUserType);\r\n\r\n            return updatedUserType;\r\n        } catch (DataIntegrityViolationException error) {\r\n            throw new ExistingEntityDataException(USER_TYPE_ALREADY_EXIST);\r\n        } catch (EntityNotFoundException error) {\r\n            throw new ResourceNotFoundException(USER_TYPE_NOT_EXIST);\r\n        } catch (ConstraintViolationException error) {\r\n            throw new NotNullException(USER_TYPE_CANNOT_BE_NULL);\r\n        }\r\n    }\r\n```\r\n\r\nIt was expected that the update method catch DataIntegrityViolationException and throw the ExistingEntityDataException to test capture this custom exception and get custom message","title":"I can&#39;t catch DataIntegrityViolationException with @Transactional in an update service method","body":"<p>This JUnit tests fails</p>\n<pre><code> public void shouldFailToEditUserTypeWithoutType() {\n    UserType userType = new UserType(null, &quot;dd&quot;);\n    userType.setType(null);\n\n    Exception exception = assertThrows(NotNullException.class, () -&gt; {\n        userTypeService.update(userType, 1L);\n        });\n\n    String expectedMessage = USER_MUST_BE_GIVEN;\n    String currentMessage = exception.getMessage();\n\n    assertTrue(currentMessage.contains(expectedMessage));\n}\n</code></pre>\n<p>with this error</p>\n<pre><code>Expected :class com.ces.domain.service.exceptions.ExistingEntityDataException\nActual   :class org.springframework.dao.DataIntegrityViolationException\n</code></pre>\n<p>but in Service layer I'm handling errors with try/catch statement like that</p>\n<pre><code>    @Override\n    @Transactional\n    public UserType update(UserType userType, Long id) {\n        try {\n            UserType previousUserType = userTypeRepository.getReferenceById(id);\n            updateUserTypedata(previousUserType, userType);\n\n            UserType updatedUserType = userTypeRepository.save(previousUserType);\n\n            return updatedUserType;\n        } catch (DataIntegrityViolationException error) {\n            throw new ExistingEntityDataException(USER_TYPE_ALREADY_EXIST);\n        } catch (EntityNotFoundException error) {\n            throw new ResourceNotFoundException(USER_TYPE_NOT_EXIST);\n        } catch (ConstraintViolationException error) {\n            throw new NotNullException(USER_TYPE_CANNOT_BE_NULL);\n        }\n    }\n</code></pre>\n<p>It was expected that the update method catch DataIntegrityViolationException and throw the ExistingEntityDataException to test capture this custom exception and get custom message</p>\n"},{"tags":["java","ssl","https","apache-httpclient-4.x","client-certificates"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1531695106,"post_id":51352762,"comment_id":89678111,"body_markdown":"Stack trace please. NB You should not call `setCertificateEntry()`, only `setKeyEntry()`.","body":"Stack trace please. NB You should not call <code>setCertificateEntry()</code>, only <code>setKeyEntry()</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1531695477,"post_id":51352762,"comment_id":89678182,"body_markdown":"And you also need to initialize the `SSLContext` with a `KeyManager`, not a `TrustManager`. Otherwise your private key will never be found.","body":"And you also need to initialize the <code>SSLContext</code> with a <code>KeyManager</code>, not a <code>TrustManager</code>. Otherwise your private key will never be found."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1531695545,"post_id":51352762,"comment_id":89678191,"body_markdown":"And you *also* can&#39;t cast a private key to a public key. Not much of this makes sense.","body":"And you <i>also</i> can&#39;t cast a private key to a public key. Not much of this makes sense."},{"owner":{"account_id":13496876,"reputation":91,"user_id":9737456,"display_name":"FailedShack"},"score":0,"creation_date":1531696458,"post_id":51352762,"comment_id":89678341,"body_markdown":"@EJP Sorry about the PublicKey cast, it was something I was playing around with and accidentally copied over to the question. You&#39;re right about the KeyManager thing. I&#39;ve modified the question.","body":"@EJP Sorry about the PublicKey cast, it was something I was playing around with and accidentally copied over to the question. You&#39;re right about the KeyManager thing. I&#39;ve modified the question."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1531699372,"post_id":51352762,"comment_id":89678784,"body_markdown":"Well this exception can only mean what it says: there is something wrong with the key file. Can you read it with OpenSSL?","body":"Well this exception can only mean what it says: there is something wrong with the key file. Can you read it with OpenSSL?"},{"owner":{"account_id":13496876,"reputation":91,"user_id":9737456,"display_name":"FailedShack"},"score":0,"creation_date":1531702017,"post_id":51352762,"comment_id":89679216,"body_markdown":"@EJP Just tried it and it didn&#39;t complain or anything.","body":"@EJP Just tried it and it didn&#39;t complain or anything."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1531707320,"post_id":51352762,"comment_id":89680126,"body_markdown":"@EJP: OpenSSL can transparently read several PEM formats for privatekey depending on type (4 for RSA), but Java unless you add BC can&#39;t read PEM at all and only one of the DER formats (PKCS8-unencrypted).","body":"@EJP: OpenSSL can transparently read several PEM formats for privatekey depending on type (4 for RSA), but Java unless you add BC can&#39;t read PEM at all and only one of the DER formats (PKCS8-unencrypted)."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531707187,"creation_date":1531707187,"answer_id":51353760,"question_id":51352762,"body_markdown":"A PEM file of type `RSA PRIVATE KEY` is base64 not binary and more importantly is in PKCS1 format NOT PKCS8 and thus cannot be processed as a `PKCS8EncodedKeySpec`.\r\n\r\nYour choices are:\r\n\r\n* convert the PKCS1 PEM format to PKCS8 (unencrypted) PEM format; read that and drop the header and trailer lines and decode the base64 to binary and put that in `PKCS8EncodedKeySpec` -- but you say you don&#39;t want external tools, plus it&#39;s just as easy to convert the privatekey PLUS cert (or chain) into a PKCS12 (DER) which is _already_ a Java keystore and avoid the issue\r\n\r\n* convert the PKCS1 PEM format to PKCS8 (unencrypted) DER format, which you can just read as binary and put in `PKCS8EncodedKeySpec` -- ditto\r\n\r\n* if the PKCS1 PEM is unencrypted, read and decode it as above to PKCS1 DER then manually construct the PKCS8 (unencrypted) encoding, and use that \r\n\r\n* if the PKCS1 PEM is encrypted, which you can detect because its body contains two 822-style header lines in addition to the base64, you have to replicate OpenSSL&#39;s &#39;legacy&#39; key file decryption, PLUS construct the PKCS8 (unencrypted) encoding \r\n\r\n* if you can use BouncyCastle specifically `bcpkix`, it can directly read and parse _all_ the PEM variants used by OpenSSL for privatekeys, including decrypting the encrypted ones; however, if you&#39;re not already using it, that&#39;s an additional jar to install and/or deploy \r\n\r\nSee one or more of these dupes:  \r\nhttps://stackoverflow.com/questions/50514553/load-certificate-to-keystore-java (Q constructs PKCS8 using BouncyCastle)  \r\nhttps://stackoverflow.com/questions/23709898/java-convert-dkim-private-key-from-rsa-to-der-for-javamail (my answer constructs PKCS8 &#39;by hand&#39;)  \r\nhttps://stackoverflow.com/questions/3243018/how-to-load-rsa-private-key-from-file (reads using BouncyCastle)  \r\nhttps://stackoverflow.com/questions/41934846/read-rsa-private-key-of-format-pkcs1-in-java (reads using BouncyCastle)  \r\nhttps://stackoverflow.com/questions/44681737/get-a-privatekey-from-a-rsa-pem-file (decrypt using BC)  \r\nhttps://stackoverflow.com/questions/35276820/decrypting-an-openssl-pem-encoded-rsa-private-key-with-java (decrypt manually)  \r\nmaybe https://stackoverflow.com/questions/48958304/pkcs1-and-pkcs8-format-for-rsa-private-key (background)  \r\nand https://stackoverflow.com/questions/20065304/differences-between-begin-rsa-private-key-and-begin-private-key (background)  ","title":"Importing PEM certificate into Java KeyStore programmatically","body":"<p>A PEM file of type <code>RSA PRIVATE KEY</code> is base64 not binary and more importantly is in PKCS1 format NOT PKCS8 and thus cannot be processed as a <code>PKCS8EncodedKeySpec</code>.</p>\n\n<p>Your choices are:</p>\n\n<ul>\n<li><p>convert the PKCS1 PEM format to PKCS8 (unencrypted) PEM format; read that and drop the header and trailer lines and decode the base64 to binary and put that in <code>PKCS8EncodedKeySpec</code> -- but you say you don't want external tools, plus it's just as easy to convert the privatekey PLUS cert (or chain) into a PKCS12 (DER) which is <em>already</em> a Java keystore and avoid the issue</p></li>\n<li><p>convert the PKCS1 PEM format to PKCS8 (unencrypted) DER format, which you can just read as binary and put in <code>PKCS8EncodedKeySpec</code> -- ditto</p></li>\n<li><p>if the PKCS1 PEM is unencrypted, read and decode it as above to PKCS1 DER then manually construct the PKCS8 (unencrypted) encoding, and use that </p></li>\n<li><p>if the PKCS1 PEM is encrypted, which you can detect because its body contains two 822-style header lines in addition to the base64, you have to replicate OpenSSL's 'legacy' key file decryption, PLUS construct the PKCS8 (unencrypted) encoding </p></li>\n<li><p>if you can use BouncyCastle specifically <code>bcpkix</code>, it can directly read and parse <em>all</em> the PEM variants used by OpenSSL for privatekeys, including decrypting the encrypted ones; however, if you're not already using it, that's an additional jar to install and/or deploy </p></li>\n</ul>\n\n<p>See one or more of these dupes:<br>\n<a href=\"https://stackoverflow.com/questions/50514553/load-certificate-to-keystore-java\">Load certificate to KeyStore (JAVA)</a> (Q constructs PKCS8 using BouncyCastle)<br>\n<a href=\"https://stackoverflow.com/questions/23709898/java-convert-dkim-private-key-from-rsa-to-der-for-javamail\">Java: Convert DKIM private key from RSA to DER for JavaMail</a> (my answer constructs PKCS8 'by hand')<br>\n<a href=\"https://stackoverflow.com/questions/3243018/how-to-load-rsa-private-key-from-file\">How to Load RSA Private Key From File</a> (reads using BouncyCastle)<br>\n<a href=\"https://stackoverflow.com/questions/41934846/read-rsa-private-key-of-format-pkcs1-in-java\">Read RSA private key of format PKCS1 in JAVA</a> (reads using BouncyCastle)<br>\n<a href=\"https://stackoverflow.com/questions/44681737/get-a-privatekey-from-a-rsa-pem-file\">Get a PrivateKey from a RSA .pem file</a> (decrypt using BC)<br>\n<a href=\"https://stackoverflow.com/questions/35276820/decrypting-an-openssl-pem-encoded-rsa-private-key-with-java\">Decrypting an OpenSSL PEM Encoded RSA private key with Java?</a> (decrypt manually)<br>\nmaybe <a href=\"https://stackoverflow.com/questions/48958304/pkcs1-and-pkcs8-format-for-rsa-private-key\">PKCS#1 and PKCS#8 format for RSA private key</a> (background)<br>\nand <a href=\"https://stackoverflow.com/questions/20065304/differences-between-begin-rsa-private-key-and-begin-private-key\">Differences between &quot;BEGIN RSA PRIVATE KEY&quot; and &quot;BEGIN PRIVATE KEY&quot;</a> (background)  </p>\n"},{"tags":[],"owner":{"account_id":11481495,"reputation":1,"user_id":8415396,"display_name":"Karl Scheibelhofer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689708803,"creation_date":1689708717,"answer_id":76715996,"question_id":51352762,"body_markdown":"Using this small library https://github.com/KarlScheibelhofer/java-crypto-tools/tree/main you can load private keys and certificates in this PEM format easily. With much less code. \r\n\r\n```\r\nKeyStore ks = KeyStore.getInstance(&quot;pem&quot;, JctProvider.getInstance());\r\nks.load(new FileInputStream(&quot;webserver-key-and-certificate-chain.pem&quot;), password);\r\n```\r\n\r\nSee the Readme for examples and more details.","title":"Importing PEM certificate into Java KeyStore programmatically","body":"<p>Using this small library <a href=\"https://github.com/KarlScheibelhofer/java-crypto-tools/tree/main\" rel=\"nofollow noreferrer\">https://github.com/KarlScheibelhofer/java-crypto-tools/tree/main</a> you can load private keys and certificates in this PEM format easily. With much less code.</p>\n<pre><code>KeyStore ks = KeyStore.getInstance(&quot;pem&quot;, JctProvider.getInstance());\nks.load(new FileInputStream(&quot;webserver-key-and-certificate-chain.pem&quot;), password);\n</code></pre>\n<p>See the Readme for examples and more details.</p>\n"}],"owner":{"account_id":13496876,"reputation":91,"user_id":9737456,"display_name":"FailedShack"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689708803,"creation_date":1531694829,"question_id":51352762,"body_markdown":"I have a client certificate composed of two files (.crt and .key) which I wish to import to a java KeyStore to then use in a SSLContext to sent HTTP requests with Apache&#39;s HTTPClient. However, I can&#39;t seem to find a way to do this programmatically, most other questions I&#39;ve found either point to external tools or aren&#39;t fit for my case.\r\n\r\nMy certificate is encoded with the typical &#39;BEGIN CERTIFICATE&#39; followed by a Base64 encoded string, and the key with &#39;BEGIN RSA PRIVATE KEY&#39; and then another Base64 encoded string.\r\n\r\nThis is what I got so far:\r\n\r\n    private static SSLContext createSSLContext(File certFile, File keyFile) throws IOException {\r\n        try {\r\n            PEMParser pemParser = new PEMParser(new FileReader(keyFile));\r\n            JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(new BouncyCastleProvider());\r\n            Object object = pemParser.readObject();\r\n            KeyPair kp = converter.getKeyPair((PEMKeyPair) object);\r\n            PrivateKey privateKey = kp.getPrivate();\r\n\r\n            CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            FileInputStream stream = new FileInputStream(certFile);\r\n            X509Certificate cert = (X509Certificate) certFactory.generateCertificate(stream);\r\n\r\n            KeyStore store = KeyStore.getInstance(&quot;JKS&quot;);\r\n            store.load(null);\r\n            store.setCertificateEntry(&quot;certificate&quot;, cert);\r\n            store.setKeyEntry(&quot;private-key&quot;, privateKey, &quot;changeit&quot;.toCharArray(), new Certificate[] { cert });\r\n\r\n            SSLContext sslContext = SSLContexts.custom()\r\n                    .loadKeyMaterial(store, &quot;changeit&quot;.toCharArray())\r\n                    .build();\r\n            return sslContext;\r\n        } catch (IOException | NoSuchAlgorithmException | CertificateException | KeyStoreException | KeyManagementException | UnrecoverableKeyException e) {\r\n            throw new IOException(e);\r\n        }\r\n    }\r\n\r\nStacktrace:\r\n\r\n&gt; java.io.IOException: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format\r\n\tat me.failedshack.ssltest.SSLTest.createSSLContext(SSLTest.java:80)\r\n\tat me.failedshack.ssltest.SSLTest.main(SSLTest.java:31)\r\n\r\n&gt; Caused by: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format\r\n\tat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:216)\r\n\tat java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\r\n\tat me.failedshack.ssltest.SSLTest.createSSLContext(SSLTest.java:62)\r\n\t... 1 more\r\n\r\n&gt; Caused by: java.security.InvalidKeyException: invalid key format\r\n\tat java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:330)\r\n\tat java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:355)\r\n\tat java.base/sun.security.rsa.RSAPrivateCrtKeyImpl.&lt;init&gt;(RSAPrivateCrtKeyImpl.java:91)\r\n\tat java.base/sun.security.rsa.RSAPrivateCrtKeyImpl.newKey(RSAPrivateCrtKeyImpl.java:75)\r\n\tat java.base/sun.security.rsa.RSAKeyFactory.generatePrivate(RSAKeyFactory.java:315)\r\n\tat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:212)\r\n\t... 3 more\r\n\r\nSadly I keep getting an InvalidKeyException when generating the private key from the file.","title":"Importing PEM certificate into Java KeyStore programmatically","body":"<p>I have a client certificate composed of two files (.crt and .key) which I wish to import to a java KeyStore to then use in a SSLContext to sent HTTP requests with Apache's HTTPClient. However, I can't seem to find a way to do this programmatically, most other questions I've found either point to external tools or aren't fit for my case.</p>\n\n<p>My certificate is encoded with the typical 'BEGIN CERTIFICATE' followed by a Base64 encoded string, and the key with 'BEGIN RSA PRIVATE KEY' and then another Base64 encoded string.</p>\n\n<p>This is what I got so far:</p>\n\n<pre><code>private static SSLContext createSSLContext(File certFile, File keyFile) throws IOException {\n    try {\n        PEMParser pemParser = new PEMParser(new FileReader(keyFile));\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(new BouncyCastleProvider());\n        Object object = pemParser.readObject();\n        KeyPair kp = converter.getKeyPair((PEMKeyPair) object);\n        PrivateKey privateKey = kp.getPrivate();\n\n        CertificateFactory certFactory = CertificateFactory.getInstance(\"X.509\");\n        FileInputStream stream = new FileInputStream(certFile);\n        X509Certificate cert = (X509Certificate) certFactory.generateCertificate(stream);\n\n        KeyStore store = KeyStore.getInstance(\"JKS\");\n        store.load(null);\n        store.setCertificateEntry(\"certificate\", cert);\n        store.setKeyEntry(\"private-key\", privateKey, \"changeit\".toCharArray(), new Certificate[] { cert });\n\n        SSLContext sslContext = SSLContexts.custom()\n                .loadKeyMaterial(store, \"changeit\".toCharArray())\n                .build();\n        return sslContext;\n    } catch (IOException | NoSuchAlgorithmException | CertificateException | KeyStoreException | KeyManagementException | UnrecoverableKeyException e) {\n        throw new IOException(e);\n    }\n}\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<blockquote>\n  <p>java.io.IOException: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format\n      at me.failedshack.ssltest.SSLTest.createSSLContext(SSLTest.java:80)\n      at me.failedshack.ssltest.SSLTest.main(SSLTest.java:31)</p>\n  \n  <p>Caused by: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format\n      at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:216)\n      at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\n      at me.failedshack.ssltest.SSLTest.createSSLContext(SSLTest.java:62)\n      ... 1 more</p>\n  \n  <p>Caused by: java.security.InvalidKeyException: invalid key format\n      at java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:330)\n      at java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:355)\n      at java.base/sun.security.rsa.RSAPrivateCrtKeyImpl.(RSAPrivateCrtKeyImpl.java:91)\n      at java.base/sun.security.rsa.RSAPrivateCrtKeyImpl.newKey(RSAPrivateCrtKeyImpl.java:75)\n      at java.base/sun.security.rsa.RSAKeyFactory.generatePrivate(RSAKeyFactory.java:315)\n      at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:212)\n      ... 3 more</p>\n</blockquote>\n\n<p>Sadly I keep getting an InvalidKeyException when generating the private key from the file.</p>\n"},{"tags":["java",".net","rest","http"],"comments":[{"owner":{"account_id":7982322,"reputation":3802,"user_id":6023173,"display_name":"sa-es-ir"},"score":0,"creation_date":1689694512,"post_id":76714358,"comment_id":135248676,"body_markdown":"Agree with this ``should it return 429 to ensure client does not overload the server with too many messages``, since actually client is telling to backend to make a request to the third-party api. of course it&#39;s better to have rate limit on backend as well.","body":"Agree with this <code>should it return 429 to ensure client does not overload the server with too many messages</code>, since actually client is telling to backend to make a request to the third-party api. of course it&#39;s better to have rate limit on backend as well."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689694823,"post_id":76714358,"comment_id":135248750,"body_markdown":"This is a functional question, not a technical one. Either answer could be correct depending on your business case. How does your front-end interact with those status codes?","body":"This is a functional question, not a technical one. Either answer could be correct depending on your business case. How does your front-end interact with those status codes?"},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1689695647,"post_id":76714358,"comment_id":135248928,"body_markdown":"Hi @Jorn, the frontend may be external systems and they are not in our control.","body":"Hi @Jorn, the frontend may be external systems and they are not in our control."},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1689695786,"post_id":76714358,"comment_id":135248963,"body_markdown":"Thanks @sa-es-ir &amp; Jorn. In general should the http status codes of external calls be cascaded back to the client by the API?","body":"Thanks @sa-es-ir &amp; Jorn. In general should the http status codes of external calls be cascaded back to the client by the API?"},{"owner":{"account_id":7982322,"reputation":3802,"user_id":6023173,"display_name":"sa-es-ir"},"score":0,"creation_date":1689701440,"post_id":76714358,"comment_id":135250018,"body_markdown":"Mostly no, we should not expose those logic from external api but 429 is an exception, I think it is good to limit your client in the backend and 429 is a very common practice.","body":"Mostly no, we should not expose those logic from external api but 429 is an exception, I think it is good to limit your client in the backend and 429 is a very common practice."},{"owner":{"account_id":7982322,"reputation":3802,"user_id":6023173,"display_name":"sa-es-ir"},"score":0,"creation_date":1689701564,"post_id":76714358,"comment_id":135250042,"body_markdown":"If you wanna put ratelimit on your api you can check my nuget package  , hope can help: https://github.com/sa-es-ir/DotNet.RateLimit","body":"If you wanna put ratelimit on your api you can check my nuget package  , hope can help: <a href=\"https://github.com/sa-es-ir/DotNet.RateLimit\" rel=\"nofollow noreferrer\">github.com/sa-es-ir/DotNet.RateLimit</a>"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689708791,"creation_date":1689693960,"question_id":76714358,"body_markdown":"What is the API response that must be returned when an external API that the API calls returns 429? Should it return 500 as it is an internal server error for the API being called and should the API have some sort of circuit breaker to avoid overloading the external API or should it return 429 to ensure client does not overload the server with too many messages?","title":"API Response when an external API fails with 429 error","body":"<p>What is the API response that must be returned when an external API that the API calls returns 429? Should it return 500 as it is an internal server error for the API being called and should the API have some sort of circuit breaker to avoid overloading the external API or should it return 429 to ensure client does not overload the server with too many messages?</p>\n"},{"tags":["java","android","animation","android-animation"],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689686504,"creation_date":1689686504,"answer_id":76713230,"question_id":76713023,"body_markdown":"As mentioned in [ACTION_BUTTON_PRESS](https://developer.android.com/reference/android/view/MotionEvent#ACTION_BUTTON_PRESS)&#39;s documentation:\r\n&gt; This action is not a touch event so it is delivered to View#onGenericMotionEvent(MotionEvent) rather than View#onTouchEvent(MotionEvent).\r\n\r\nSame is valid for the [ACTION_BUTTON_RELEASE](https://developer.android.com/reference/android/view/MotionEvent#ACTION_BUTTON_RELEASE) event. These events are probably used for physical button events.  \r\n\r\nYou must use the [ACTION_DOWN](https://developer.android.com/reference/android/view/MotionEvent#ACTION_DOWN) for press event and [ACTION_UP](https://developer.android.com/reference/android/view/MotionEvent#ACTION_UP) for release event instead, for touch events.  \r\n\r\nSo modify your code as following:\r\n```lang-java\r\nif (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n    itemView.startAnimation(Animations.back);\r\n} else if (event.getAction() == MotionEvent.ACTION_UP) {\r\n    // ...\r\n} else return false;\r\n```","title":"How to create an animation that plays on layout touch in Android?","body":"<p>As mentioned in <a href=\"https://developer.android.com/reference/android/view/MotionEvent#ACTION_BUTTON_PRESS\" rel=\"nofollow noreferrer\">ACTION_BUTTON_PRESS</a>'s documentation:</p>\n<blockquote>\n<p>This action is not a touch event so it is delivered to View#onGenericMotionEvent(MotionEvent) rather than View#onTouchEvent(MotionEvent).</p>\n</blockquote>\n<p>Same is valid for the <a href=\"https://developer.android.com/reference/android/view/MotionEvent#ACTION_BUTTON_RELEASE\" rel=\"nofollow noreferrer\">ACTION_BUTTON_RELEASE</a> event. These events are probably used for physical button events.</p>\n<p>You must use the <a href=\"https://developer.android.com/reference/android/view/MotionEvent#ACTION_DOWN\" rel=\"nofollow noreferrer\">ACTION_DOWN</a> for press event and <a href=\"https://developer.android.com/reference/android/view/MotionEvent#ACTION_UP\" rel=\"nofollow noreferrer\">ACTION_UP</a> for release event instead, for touch events.</p>\n<p>So modify your code as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (event.getAction() == MotionEvent.ACTION_DOWN) {\n    itemView.startAnimation(Animations.back);\n} else if (event.getAction() == MotionEvent.ACTION_UP) {\n    // ...\n} else return false;\n</code></pre>\n"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76713230,"answer_count":1,"score":0,"last_activity_date":1689708666,"creation_date":1689685066,"question_id":76713023,"body_markdown":"I am trying to create an animation that plays when clicking on a RelativeLayout, pushing back all the elements that it contains. I have been searching for a while and I have found the function setOnTouchListener() which seems to be the only listener that does what I want.\r\n\r\nThis is the LinearLayout:\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;80dp&quot;\r\n    android:layout_centerInParent=&quot;true&quot;\r\n    android:clickable=&quot;true&quot;\r\n    android:focusable=&quot;true&quot;\r\n    android:id=&quot;@+id/list_item&quot;&gt;\r\n```\r\n\r\nNow I am using this code:\r\n\r\n```\r\nitemView.findViewById(R.id.list_item).setOnTouchListener(new View.OnTouchListener() {\r\n\t@Override\r\n\tpublic boolean onTouch(View v, MotionEvent event) {\r\n\t\t//v.performClick();\r\n\t\tif (event.getAction() == MotionEvent.ACTION_BUTTON_PRESS) {\r\n\t\t\titemView.startAnimation(Animations.back);\r\n\t\t} else if (event.getAction() == MotionEvent.ACTION_BUTTON_RELEASE) {\r\n\t\t\t// ...\r\n\t\t} else return false;\r\n\t\treturn true;\r\n\t}\r\n});\r\n```\r\n\r\nThis is the animation, if needed:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n    &lt;scale\r\n        android:duration=&quot;100&quot;\r\n        android:fromXScale=&quot;1.0&quot;\r\n        android:toXScale=&quot;0.8&quot;\r\n        android:fromYScale=&quot;1.0&quot;\r\n        android:toYScale=&quot;0.8&quot;\r\n        android:pivotX=&quot;50%&quot;\r\n        android:pivotY=&quot;50%&quot;/&gt;\r\n&lt;/set&gt;\r\n```\r\n\r\nThe problem is that after adding `event.getAction() == MotionEvent.ACTION_BUTTON_PRESS` the animation is not played anymore, while without it the animaton plays. What&#39;s the problem?","title":"How to create an animation that plays on layout touch in Android?","body":"<p>I am trying to create an animation that plays when clicking on a RelativeLayout, pushing back all the elements that it contains. I have been searching for a while and I have found the function setOnTouchListener() which seems to be the only listener that does what I want.</p>\n<p>This is the LinearLayout:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;80dp&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:clickable=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:id=&quot;@+id/list_item&quot;&gt;\n</code></pre>\n<p>Now I am using this code:</p>\n<pre><code>itemView.findViewById(R.id.list_item).setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        //v.performClick();\n        if (event.getAction() == MotionEvent.ACTION_BUTTON_PRESS) {\n            itemView.startAnimation(Animations.back);\n        } else if (event.getAction() == MotionEvent.ACTION_BUTTON_RELEASE) {\n            // ...\n        } else return false;\n        return true;\n    }\n});\n</code></pre>\n<p>This is the animation, if needed:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\n    &lt;scale\n        android:duration=&quot;100&quot;\n        android:fromXScale=&quot;1.0&quot;\n        android:toXScale=&quot;0.8&quot;\n        android:fromYScale=&quot;1.0&quot;\n        android:toYScale=&quot;0.8&quot;\n        android:pivotX=&quot;50%&quot;\n        android:pivotY=&quot;50%&quot;/&gt;\n&lt;/set&gt;\n</code></pre>\n<p>The problem is that after adding <code>event.getAction() == MotionEvent.ACTION_BUTTON_PRESS</code> the animation is not played anymore, while without it the animaton plays. What's the problem?</p>\n"},{"tags":["java","fonts","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1690229525,"post_id":76715983,"comment_id":135321503,"body_markdown":"Do you still need an answer or did you figure it out already?","body":"Do you still need an answer or did you figure it out already?"},{"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"score":0,"creation_date":1690295647,"post_id":76715983,"comment_id":135331672,"body_markdown":"I haven&#39;t found a specific solution that works for me. I only found out and I am sure that my mistake is that the UI elements are not scaling correctly. I&#39;m trying to display a font in the game, but the game world has a different scale than the Stage (UI).","body":"I haven&#39;t found a specific solution that works for me. I only found out and I am sure that my mistake is that the UI elements are not scaling correctly. I&#39;m trying to display a font in the game, but the game world has a different scale than the Stage (UI)."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1690299181,"post_id":76715983,"comment_id":135332460,"body_markdown":"You’re displaying the text in the game’s camera, not the Stage camera? Half of your problem is that you haven’t called `setUseIntegerPositions(false)`. The default is true because often (historically) text is all drawn in a UI layer that uses a ScreenViewport with pixel perfect fonts in nearest filtering, so they look crisp with low performance hit. Nowadays, I think that’s overkill and you should use a mipmapped font with trilinear filtering so you don’t have to worry about providing fonts for every possible screen size.","body":"You’re displaying the text in the game’s camera, not the Stage camera? Half of your problem is that you haven’t called <code>setUseIntegerPositions(false)</code>. The default is true because often (historically) text is all drawn in a UI layer that uses a ScreenViewport with pixel perfect fonts in nearest filtering, so they look crisp with low performance hit. Nowadays, I think that’s overkill and you should use a mipmapped font with trilinear filtering so you don’t have to worry about providing fonts for every possible screen size."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1690299443,"post_id":76715983,"comment_id":135332525,"body_markdown":"But if you’re generating fonts at runtime, I suppose it makes more sense to generate them pixel perfect for the current screen. You might consider adding a third camera/viewport in between game and Stage that is the same dimensions as the screen so you can crisply display your generated font pixel perfect. Then integer positions would be appropriate and you won’t have to scale the fonts. You would just need to write a function to convert game world coordinates to screen coordinates so you know where to put the text in the text layer.","body":"But if you’re generating fonts at runtime, I suppose it makes more sense to generate them pixel perfect for the current screen. You might consider adding a third camera/viewport in between game and Stage that is the same dimensions as the screen so you can crisply display your generated font pixel perfect. Then integer positions would be appropriate and you won’t have to scale the fonts. You would just need to write a function to convert game world coordinates to screen coordinates so you know where to put the text in the text layer."}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689708525,"creation_date":1689708525,"question_id":76715983,"body_markdown":"I have a problem with the proper scaling and setting of the text in libGDX. I use two screens: one for the game menu and the other for gameplay. In the menu, each text is entered in a Label and placed in a table in Stage. In the play screen, the text should be placed freely, because it does not have a fixed position: it follows the player displaying his nickname. The very important thing is that I am using Box2d, therefore the whole game world is scaled (1/100).\r\n\r\nUnfortunately, I ran into a problem with the play screen. The text I want to display is not positioned properly. First of all, it is oversized (probably a problem with the lack of proper use of the scale here), and secondly, it does not want to accept floating-point values. It always aligns relative to the integer values &quot;to the grid&quot; and you can see very large jumps through the changed scale.\r\n\r\nThis is what the same font looks like in the menu:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd in the case of the play screen (a piece of black spot is the beginning of the letter &quot;N&quot; :P):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is how I create a BitmapFont object:\r\n\r\n    FreeTypeFontGenerator.FreeTypeFontParameter normalFontParameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\r\n    normalFontParameter.color = Color.WHITE;\r\n    normalFontParameter.borderWidth = 3f;\r\n    normalFontParameter.borderColor = Color.BLACK;\r\n    normalFontParameter.minFilter = Texture.TextureFilter.Linear;\r\n    normalFontParameter.magFilter = Texture.TextureFilter.Linear;\r\n    normalFontParameter.size = 100;\r\n    normalFont = fontGenerator.generateFont(normalFontParameter);\r\n\r\nThis is the code from the menu screen:\r\n\r\n    Label.LabelStyle labelNormalStyle = new Label.LabelStyle(normalFont, Color.WHITE);\r\n    Label nicknameLabel = new Label(&quot;Nickname&quot;, labelNormalStyle);\r\n    table.add(nicknameLabel);\r\n\r\nAnd this is the code from the play screen:\r\n\r\n    normalFont.draw(batch, &quot;Nickname&quot;, getX(), getY());\r\n\r\nHow to properly position this font? I will be grateful for help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wau6dl.png\r\n  [2]: https://i.stack.imgur.com/D3MwEl.png","title":"Correct text positioning in libGDX","body":"<p>I have a problem with the proper scaling and setting of the text in libGDX. I use two screens: one for the game menu and the other for gameplay. In the menu, each text is entered in a Label and placed in a table in Stage. In the play screen, the text should be placed freely, because it does not have a fixed position: it follows the player displaying his nickname. The very important thing is that I am using Box2d, therefore the whole game world is scaled (1/100).</p>\n<p>Unfortunately, I ran into a problem with the play screen. The text I want to display is not positioned properly. First of all, it is oversized (probably a problem with the lack of proper use of the scale here), and secondly, it does not want to accept floating-point values. It always aligns relative to the integer values &quot;to the grid&quot; and you can see very large jumps through the changed scale.</p>\n<p>This is what the same font looks like in the menu:</p>\n<p><a href=\"https://i.stack.imgur.com/Wau6dl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wau6dl.png\" alt=\"enter image description here\" /></a></p>\n<p>And in the case of the play screen (a piece of black spot is the beginning of the letter &quot;N&quot; :P):</p>\n<p><a href=\"https://i.stack.imgur.com/D3MwEl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3MwEl.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I create a BitmapFont object:</p>\n<pre><code>FreeTypeFontGenerator.FreeTypeFontParameter normalFontParameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\nnormalFontParameter.color = Color.WHITE;\nnormalFontParameter.borderWidth = 3f;\nnormalFontParameter.borderColor = Color.BLACK;\nnormalFontParameter.minFilter = Texture.TextureFilter.Linear;\nnormalFontParameter.magFilter = Texture.TextureFilter.Linear;\nnormalFontParameter.size = 100;\nnormalFont = fontGenerator.generateFont(normalFontParameter);\n</code></pre>\n<p>This is the code from the menu screen:</p>\n<pre><code>Label.LabelStyle labelNormalStyle = new Label.LabelStyle(normalFont, Color.WHITE);\nLabel nicknameLabel = new Label(&quot;Nickname&quot;, labelNormalStyle);\ntable.add(nicknameLabel);\n</code></pre>\n<p>And this is the code from the play screen:</p>\n<pre><code>normalFont.draw(batch, &quot;Nickname&quot;, getX(), getY());\n</code></pre>\n<p>How to properly position this font? I will be grateful for help.</p>\n"},{"tags":["java","html","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":19832213,"reputation":476,"user_id":14526514,"display_name":"Reyot"},"score":0,"creation_date":1689679632,"post_id":76712189,"comment_id":135244929,"body_markdown":"Please add the code in your question instead of image. You can use ``` before and after the code to format it. [More formatting information here](https://stackoverflow.com/editing-help)","body":"Please add the code in your question instead of image. You can use ``` before and after the code to format it. <a href=\"https://stackoverflow.com/editing-help\">More formatting information here</a>"},{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1689679993,"post_id":76712189,"comment_id":135245013,"body_markdown":"Can you update the question with the text based HTML rather than image?","body":"Can you update the question with the text based HTML rather than image?"},{"owner":{"account_id":19832213,"reputation":476,"user_id":14526514,"display_name":"Reyot"},"score":0,"creation_date":1689680041,"post_id":76712189,"comment_id":135245028,"body_markdown":"@Ar2r if you are hesitant to put link of the page, you add relevant portion of the element as text instead of image. You can copy element from dev-tools Elements tab -&gt; `Right Click` -&gt; `Copy` -&gt; `Copy Element`","body":"@Ar2r if you are hesitant to put link of the page, you add relevant portion of the element as text instead of image. You can copy element from dev-tools Elements tab -&gt; <code>Right Click</code> -&gt; <code>Copy</code> -&gt; <code>Copy Element</code>"},{"owner":{"account_id":19780770,"reputation":55,"user_id":14485842,"display_name":"Ar2r"},"score":0,"creation_date":1689681133,"post_id":76712189,"comment_id":135245276,"body_markdown":"Sure, I just added the code under the image, if there is still something missing please let me know","body":"Sure, I just added the code under the image, if there is still something missing please let me know"},{"owner":{"account_id":19832213,"reputation":476,"user_id":14526514,"display_name":"Reyot"},"score":0,"creation_date":1689681538,"post_id":76712189,"comment_id":135245366,"body_markdown":"Copy and add the element with class `v-treegrid-node` in multiline using ```","body":"Copy and add the element with class <code>v-treegrid-node</code> in multiline using ```"},{"owner":{"account_id":19780770,"reputation":55,"user_id":14485842,"display_name":"Ar2r"},"score":0,"creation_date":1689682784,"post_id":76712189,"comment_id":135245626,"body_markdown":"@DanielSabrel\n&lt;div class=&quot;v-treegrid-node depth-0&quot;&gt;&lt;span class=&quot;v-treegrid-expander collapsed&quot;&gt;&lt;/span&gt;&lt;div class=&quot;gwt-HTML v-treegrid-cell-content&quot;&gt;&lt;span class=&quot;v-table-icon-element icon-folder&quot;&gt;&lt;/span&gt;QA-images&lt;/div&gt;&lt;/div&gt;","body":"@DanielSabrel &lt;div class=&quot;v-treegrid-node depth-0&quot;&gt;&lt;span class=&quot;v-treegrid-expander collapsed&quot;&gt;&lt;/span&gt;&lt;div class=&quot;gwt-HTML v-treegrid-cell-content&quot;&gt;&lt;span class=&quot;v-table-icon-element icon-folder&quot;&gt;&lt;/span&gt;QA-images&lt;/div&gt;&lt;/div&gt;"}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689684051,"creation_date":1689680521,"answer_id":76712412,"question_id":76712189,"body_markdown":"I see that your text is QA-files and not QA-images.\r\n\r\nCan you try to find div, which next span contains class `v-treegrid-expander collapsed` and then go down to div that contains text QA-files.\r\n\r\n`//div[./div[contains(@class, &#39;v-treegrid-cell-content&#39;) and contains(., &#39;QA-files&#39;)]]//span[contains(@class, &#39;v-treegrid-expander collapsed&#39;)]`\r\n\r\nProbably, it should work. If it does not - please, provide be part of your DOM in HTML format.","title":"Can&#39;t find the XPath selector of an element that only has unique siblings","body":"<p>I see that your text is QA-files and not QA-images.</p>\n<p>Can you try to find div, which next span contains class <code>v-treegrid-expander collapsed</code> and then go down to div that contains text QA-files.</p>\n<p><code>//div[./div[contains(@class, 'v-treegrid-cell-content') and contains(., 'QA-files')]]//span[contains(@class, 'v-treegrid-expander collapsed')]</code></p>\n<p>Probably, it should work. If it does not - please, provide be part of your DOM in HTML format.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1689683517,"creation_date":1689681702,"answer_id":76712575,"question_id":76712189,"body_markdown":"Try the below XPATH expression:\r\n\r\n````\r\n//div[contains(text(),&#39;QA-files&#39;)]//preceding::span[@class=&#39;v-treegrid-expander collapsed&#39;]\r\n````\r\n\r\n**Explanation:**\r\n\r\n - `//div[contains(text(),&#39;QA-files&#39;)]` - first locate the `&lt;div&gt;` node\r\n - `//preceding::` - this is used to locate all preceding nodes to current node\r\n - `//preceding::span[@class=&#39;v-treegrid-expander collapsed&#39;]` - This will basically locate the preceding `&lt;span&gt;` node which has `class=v-treegrid-expander collapsed`\r\n\r\n\r\n**UPDATE:**\r\n````\r\n(//div[contains(text(),&#39;QA-files&#39;)]//preceding::span[@class=&#39;v-treegrid-expander collapsed&#39;])[n]\r\n````\r\n`n` - being the number of elements it locates","title":"Can&#39;t find the XPath selector of an element that only has unique siblings","body":"<p>Try the below XPATH expression:</p>\n<pre><code>//div[contains(text(),'QA-files')]//preceding::span[@class='v-treegrid-expander collapsed']\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<ul>\n<li><code>//div[contains(text(),'QA-files')]</code> - first locate the <code>&lt;div&gt;</code> node</li>\n<li><code>//preceding::</code> - this is used to locate all preceding nodes to current node</li>\n<li><code>//preceding::span[@class='v-treegrid-expander collapsed']</code> - This will basically locate the preceding <code>&lt;span&gt;</code> node which has <code>class=v-treegrid-expander collapsed</code></li>\n</ul>\n<p><strong>UPDATE:</strong></p>\n<pre><code>(//div[contains(text(),'QA-files')]//preceding::span[@class='v-treegrid-expander collapsed'])[n]\n</code></pre>\n<p><code>n</code> - being the number of elements it locates</p>\n"},{"tags":[],"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689708301,"creation_date":1689698002,"answer_id":76714875,"question_id":76712189,"body_markdown":"Be aware that the contains-function accepts as it&#39;s first argument 1 string. \r\n\r\nIf you use `contains(text(), &#39;QA-images&#39;)]&quot;` as in your example, you must be certain that there is only `one` text()-node , otherwise it fails. \r\nIn the case where there are probably more, you can better use the `.` that tells the engine to first combine all text inside the context-node, and use that for the contains-function.\r\n\r\nYou have several options:\r\n\r\n    //div[div[contains(@class, &#39;v-treegrid-cell-content&#39;) and contains(., &#39;QA-files&#39;)]]/span\r\n\r\nThis will first select the container div that has a div with the unique properties and get there it&#39;s child span. No other predicates are needed on the span I suppose.\r\n\r\nor\r\n\r\n    //div[contains(@class, &#39;v-treegrid-cell-content&#39;) and contains(., &#39;QA-files&#39;)]/preceding-sibling::span\r\n\r\n\r\nThis will select the unique container div preceding-sibling::span. \r\n","title":"Can&#39;t find the XPath selector of an element that only has unique siblings","body":"<p>Be aware that the contains-function accepts as it's first argument 1 string.</p>\n<p>If you use <code>contains(text(), 'QA-images')]&quot;</code> as in your example, you must be certain that there is only <code>one</code> text()-node , otherwise it fails.\nIn the case where there are probably more, you can better use the <code>.</code> that tells the engine to first combine all text inside the context-node, and use that for the contains-function.</p>\n<p>You have several options:</p>\n<pre><code>//div[div[contains(@class, 'v-treegrid-cell-content') and contains(., 'QA-files')]]/span\n</code></pre>\n<p>This will first select the container div that has a div with the unique properties and get there it's child span. No other predicates are needed on the span I suppose.</p>\n<p>or</p>\n<pre><code>//div[contains(@class, 'v-treegrid-cell-content') and contains(., 'QA-files')]/preceding-sibling::span\n</code></pre>\n<p>This will select the unique container div preceding-sibling::span.</p>\n"}],"owner":{"account_id":19780770,"reputation":55,"user_id":14485842,"display_name":"Ar2r"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76714875,"answer_count":3,"score":1,"last_activity_date":1689708301,"creation_date":1689678683,"question_id":76712189,"body_markdown":"I want to find in Selenium Webdriver an element with the XPath selector `&quot;//span[@class=&#39;v-treegrid-expander collapsed&#39;]&quot;` shown in the screenshot below which has a unique sibling with the XPath selector `&quot;//div[contains(@class, &#39;v-treegrid-cell-content&#39;) and contains(text(), &#39;QA-images&#39;)]&quot;` and while both elements separately can be searched in the DOM by the mentioned selectors, when I try to combine them and create a selector that searches for my element `&quot;//div[contains(@class, &#39;v-treegrid-cell-content&#39;) and contains(text(), &#39;QA-images&#39;)]&quot;` having a sibling `&quot;//div[contains(@class, &#39;v-treegrid-cell-content&#39;) and contains(text(), &#39;QA-images&#39;)]&quot;` then this new selector doesn&#39;t work\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cgvx3.png\r\n\r\nThis is the item I want to catch but there are 10 of the same on the page:\r\n\r\n    &lt;span class=&quot;v-treegrid-expander collapsed&quot; style=&quot;&quot;&gt;&lt;/span&gt;\r\n\r\nSo I want to use to create an XPath selector sibling of this element that is:\r\n\r\n    &lt;div class=&quot;gwt-HTML v-treegrid-cell-content&quot;&gt;&lt;span class=&quot;v-table-icon-element icon-folder&quot;&gt;&lt;/span&gt;QA-files&lt;/div&gt;\r\n\r\n   \r\n\r\nThis is one of the XPath selectors I tested for this purpose but without success:\r\n\r\n    &quot;//span[@class=&#39;v-treegrid-expander collapsed&#39;]/following-sibling::div[contains(@class, &#39;v-treegrid-cell-content&#39;) and contains(text(), &#39;QA-images&#39;)]&quot;\r\n\r\nWhere am I making a mistake or what is another way to find this element using the fact that it has a unique sibling containing the mentioned text?","title":"Can&#39;t find the XPath selector of an element that only has unique siblings","body":"<p>I want to find in Selenium Webdriver an element with the XPath selector <code>&quot;//span[@class='v-treegrid-expander collapsed']&quot;</code> shown in the screenshot below which has a unique sibling with the XPath selector <code>&quot;//div[contains(@class, 'v-treegrid-cell-content') and contains(text(), 'QA-images')]&quot;</code> and while both elements separately can be searched in the DOM by the mentioned selectors, when I try to combine them and create a selector that searches for my element <code>&quot;//div[contains(@class, 'v-treegrid-cell-content') and contains(text(), 'QA-images')]&quot;</code> having a sibling <code>&quot;//div[contains(@class, 'v-treegrid-cell-content') and contains(text(), 'QA-images')]&quot;</code> then this new selector doesn't work</p>\n<p><a href=\"https://i.stack.imgur.com/Cgvx3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cgvx3.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the item I want to catch but there are 10 of the same on the page:</p>\n<pre><code>&lt;span class=&quot;v-treegrid-expander collapsed&quot; style=&quot;&quot;&gt;&lt;/span&gt;\n</code></pre>\n<p>So I want to use to create an XPath selector sibling of this element that is:</p>\n<pre><code>&lt;div class=&quot;gwt-HTML v-treegrid-cell-content&quot;&gt;&lt;span class=&quot;v-table-icon-element icon-folder&quot;&gt;&lt;/span&gt;QA-files&lt;/div&gt;\n</code></pre>\n<p>This is one of the XPath selectors I tested for this purpose but without success:</p>\n<pre><code>&quot;//span[@class='v-treegrid-expander collapsed']/following-sibling::div[contains(@class, 'v-treegrid-cell-content') and contains(text(), 'QA-images')]&quot;\n</code></pre>\n<p>Where am I making a mistake or what is another way to find this element using the fact that it has a unique sibling containing the mentioned text?</p>\n"},{"tags":["java","arrays","max"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1689704991,"post_id":76715588,"comment_id":135250623,"body_markdown":"you can use BigInteger","body":"you can use BigInteger"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1689705368,"post_id":76715588,"comment_id":135250690,"body_markdown":"... or a long, because 111311111311 is out of the range of an integer","body":"... or a long, because 111311111311 is out of the range of an integer"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689705368,"creation_date":1689705368,"answer_id":76715690,"question_id":76715588,"body_markdown":"The number formed by concatenating the two array elements is too large to be stored in an `int`. You can use `long` or `BigInteger` instead, depending on how large the input can be.\r\n\r\n```\r\nlong x = Long.parseLong(a);\r\nlong y = Long.parseLong(b);\r\n```\r\n\r\nNote, however, that it is not necessary to work with numeric types at all for this sort of problem. Think about how `String` representations can be manipulated instead.","title":"Showing an error to find max number string in array by combining elements in java","body":"<p>The number formed by concatenating the two array elements is too large to be stored in an <code>int</code>. You can use <code>long</code> or <code>BigInteger</code> instead, depending on how large the input can be.</p>\n<pre><code>long x = Long.parseLong(a);\nlong y = Long.parseLong(b);\n</code></pre>\n<p>Note, however, that it is not necessary to work with numeric types at all for this sort of problem. Think about how <code>String</code> representations can be manipulated instead.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689708261,"creation_date":1689706024,"answer_id":76715757,"question_id":76715588,"body_markdown":"If you sort the numbers as numbers, it&#39;s not the optimal order. If you sort them as **strings**, they are.\r\n\r\n```java\r\npublic static void sortArray(int[] nums) {\r\n    for (int i = 0; i &lt; nums.length; i++) {\r\n        for (int j = 0; j &lt; nums.length; j++) {\r\n            String one = String.valueOf(nums[i]) + nums[j];\r\n            String two = String.valueOf(nums[j]) + nums[i];\r\n\r\n            if (one.compareTo(two) &gt; 0) {\r\n                int temp = nums[i];\r\n                nums[i] = nums[j];\r\n                nums[j] = temp;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n---\r\n***P.S.** I am thinking about a performance. Looks like, if you able to use data structures like `Map`. You can increase a performace from `O(nˆ2)` to `O(n * log(n))` with a bit more code.*\r\n\r\n```java\r\npublic static void sortArray(int[] nums) {\r\n    Map&lt;Integer, Integer&gt; numCount = countNumbers(nums);\r\n    Collection&lt;Integer&gt; unique = sortAsString(numCount.keySet());\r\n    int i = nums.length - 1;\r\n\r\n    for (int num : unique) {\r\n        int total = numCount.get(num);\r\n\r\n        for (int j = 0; j &lt; total; j++)\r\n            nums[i--] = num;\r\n    }\r\n}\r\n\r\nprivate static Map&lt;Integer, Integer&gt; countNumbers(int[] nums) {\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\n    for (int num : nums) {\r\n        map.merge(num, 1, Integer::sum);\r\n    }\r\n\r\n    return map;\r\n}\r\n\r\nprivate static Collection&lt;Integer&gt; sortAsString(Set&lt;Integer&gt; nums) {\r\n    Map&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\r\n\r\n    for (int num : nums) {\r\n        map.putIfAbsent(String.valueOf(num), num);\r\n    }\r\n\r\n    return map.values();\r\n}\r\n```","title":"Showing an error to find max number string in array by combining elements in java","body":"<p>If you sort the numbers as numbers, it's not the optimal order. If you sort them as <strong>strings</strong>, they are.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sortArray(int[] nums) {\n    for (int i = 0; i &lt; nums.length; i++) {\n        for (int j = 0; j &lt; nums.length; j++) {\n            String one = String.valueOf(nums[i]) + nums[j];\n            String two = String.valueOf(nums[j]) + nums[i];\n\n            if (one.compareTo(two) &gt; 0) {\n                int temp = nums[i];\n                nums[i] = nums[j];\n                nums[j] = temp;\n            }\n        }\n    }\n}\n</code></pre>\n<hr />\n<p><em><strong>P.S.</strong> I am thinking about a performance. Looks like, if you able to use data structures like <code>Map</code>. You can increase a performace from <code>O(nˆ2)</code> to <code>O(n * log(n))</code> with a bit more code.</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sortArray(int[] nums) {\n    Map&lt;Integer, Integer&gt; numCount = countNumbers(nums);\n    Collection&lt;Integer&gt; unique = sortAsString(numCount.keySet());\n    int i = nums.length - 1;\n\n    for (int num : unique) {\n        int total = numCount.get(num);\n\n        for (int j = 0; j &lt; total; j++)\n            nums[i--] = num;\n    }\n}\n\nprivate static Map&lt;Integer, Integer&gt; countNumbers(int[] nums) {\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n\n    for (int num : nums) {\n        map.merge(num, 1, Integer::sum);\n    }\n\n    return map;\n}\n\nprivate static Collection&lt;Integer&gt; sortAsString(Set&lt;Integer&gt; nums) {\n    Map&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\n\n    for (int num : nums) {\n        map.putIfAbsent(String.valueOf(num), num);\n    }\n\n    return map.values();\n}\n</code></pre>\n"}],"owner":{"account_id":25981203,"reputation":21,"user_id":19694903,"display_name":"Vaibhav More"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76715757,"answer_count":2,"score":1,"last_activity_date":1689708261,"creation_date":1689704325,"question_id":76715588,"body_markdown":"**Problem: Given an array of numbers, arrange them in a way that it forms the largest value.**&lt;br&gt;\r\nGiven a list of non-negative integers nums, arrange them such that they form the largest number and return it.\r\n\r\nSince the result may be very large, so you need to return a string instead of an integer.&lt;br&gt;\r\n\r\nInput: &lt;br&gt;\r\n[54, 546, 548, 60] &lt;br&gt;\r\nOutput: &lt;br&gt;\r\n6054854654 &lt;br&gt;\r\n\r\nCode:\r\n\r\n    public class SortNumber {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint [] arr = {111311, 1113};\r\n\t\t\tsortArray(arr);\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\t\tSystem.out.print(arr[i] + &quot;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static int[] sortArray(int[] arr){\r\n\t\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; arr.length; j++) {\r\n\t\t\t\t\tString a = &quot;&quot; + arr[i] + arr[j];\r\n\t\t\t\t\tString b = &quot;&quot; + arr[j] + arr[i];\r\n\t\t\t\t\tint x = Integer.parseInt(a);\r\n\t\t\t\t\tint y = Integer.parseInt(b);\r\n\t\t\t\t\tif(x &gt; y){\r\n\t\t\t\t\t\tint temp = arr[i];\r\n\t\t\t\t\t\tarr[i] = arr[j];\r\n\t\t\t\t\t\tarr[j] = temp;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t}\r\n\r\n                                \r\nInput: [111311, 1113] &lt;br&gt;\r\nOutput: 1113111311 (Giving an error for this) &lt;br&gt;\r\n\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;111311111311&quot;\r\n\t\t\t\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n\t\t\t\tat java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n\t\t\t\tat java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n\t\t\t\tat SortNumber.sortArray(SortNumber.java:15)\r\n\t\t\t\tat SortNumber.main(SortNumber.java:4)\r\n\r\nCan someone tell me how can I solve this error.","title":"Showing an error to find max number string in array by combining elements in java","body":"<p><strong>Problem: Given an array of numbers, arrange them in a way that it forms the largest value.</strong><br>\nGiven a list of non-negative integers nums, arrange them such that they form the largest number and return it.</p>\n<p>Since the result may be very large, so you need to return a string instead of an integer.<br></p>\n<p>Input: <br>\n[54, 546, 548, 60] <br>\nOutput: <br>\n6054854654 <br></p>\n<p>Code:</p>\n<pre><code>public class SortNumber {\n    public static void main(String[] args) {\n        int [] arr = {111311, 1113};\n        sortArray(arr);\n        \n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.print(arr[i] + &quot;&quot;);\n        }\n    }\n    public static int[] sortArray(int[] arr){\n        for (int i = 0; i &lt; arr.length; i++) {\n            for (int j = 0; j &lt; arr.length; j++) {\n                String a = &quot;&quot; + arr[i] + arr[j];\n                String b = &quot;&quot; + arr[j] + arr[i];\n                int x = Integer.parseInt(a);\n                int y = Integer.parseInt(b);\n                if(x &gt; y){\n                    int temp = arr[i];\n                    arr[i] = arr[j];\n                    arr[j] = temp;\n                }\n            }\n        }\n        return arr;\n    }\n}\n\n                            \n</code></pre>\n<p>Input: [111311, 1113] <br>\nOutput: 1113111311 (Giving an error for this) <br></p>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;111311111311&quot;\n            at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n            at java.base/java.lang.Integer.parseInt(Integer.java:652)\n            at java.base/java.lang.Integer.parseInt(Integer.java:770)\n            at SortNumber.sortArray(SortNumber.java:15)\n            at SortNumber.main(SortNumber.java:4)\n</code></pre>\n<p>Can someone tell me how can I solve this error.</p>\n"},{"tags":["java","angular","jwt","websecurity"],"owner":{"account_id":29042998,"reputation":1,"user_id":22247465,"display_name":"Mehdi Harmouchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689706679,"creation_date":1689706484,"question_id":76715794,"body_markdown":"Hi im trying to learn web security using jwt authentification in springboot but i have a problem even though i have a good configuration :\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(csrf -&gt; csrf.disable())\r\n                .exceptionHandling(exception -&gt; exception.authenticationEntryPoint(unauthorizedHandler))\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests(auth -&gt;\r\n                        auth.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                                .requestMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                );\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nYou can see there that the path api/auth/\\*\\* is all permited to acces but when i use a post request to try to sign up or sign in it says that i dont have authorizations\r\n\r\n[enter image description here](https://i.stack.imgur.com/8ZiCB.png) this is the postman response to my request.\r\n\r\nThanks for helping me i&#39;m on this for days","title":"Springboot websecurity blockage","body":"<p>Hi im trying to learn web security using jwt authentification in springboot but i have a problem even though i have a good configuration :</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf(csrf -&gt; csrf.disable())\n                .exceptionHandling(exception -&gt; exception.authenticationEntryPoint(unauthorizedHandler))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(auth -&gt;\n                        auth.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                                .requestMatchers(&quot;/api/test/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                );\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n</code></pre>\n<p>You can see there that the path api/auth/** is all permited to acces but when i use a post request to try to sign up or sign in it says that i dont have authorizations</p>\n<p><a href=\"https://i.stack.imgur.com/8ZiCB.png\" rel=\"nofollow noreferrer\">enter image description here</a> this is the postman response to my request.</p>\n<p>Thanks for helping me i'm on this for days</p>\n"},{"tags":["java","apache-kafka","deserialization","avro","micronaut"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1689685584,"post_id":76705639,"comment_id":135246314,"body_markdown":"1) Same error with one parameter? `ConsumerRecord&lt;String, EasySchema&gt;` 2) You need to explicitly configure the Avro deserializer you want to use a specific schema, otherwise it expects GenericRecord","body":"1) Same error with one parameter? <code>ConsumerRecord&lt;String, EasySchema&gt;</code> 2) You need to explicitly configure the Avro deserializer you want to use a specific schema, otherwise it expects GenericRecord"},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1689688353,"post_id":76705639,"comment_id":135246958,"body_markdown":"The first is working! Thank you!!!! Hours of work ;-)\n\nDo you have an example for the second?","body":"The first is working! Thank you!!!! Hours of work ;-)  Do you have an example for the second?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1689688551,"post_id":76705639,"comment_id":135247007,"body_markdown":"I don&#39;t know about micronaut, but the consumer property is `value.deserializer.specific.reader=true`, IIRC","body":"I don&#39;t know about micronaut, but the consumer property is <code>value.deserializer.specific.reader=true</code>, IIRC"},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1689691430,"post_id":76705639,"comment_id":135247813,"body_markdown":"Thank you very mich! I had only implemented the first. That looked good at first, but as soon as I called getActive() on my value. there was an error. I wanted to ask again what is going on now, but through your answer I found out that I had to set kafka.consumers.default.specific.avro.reader to true. Now it works error free!\nThanks a lot!","body":"Thank you very mich! I had only implemented the first. That looked good at first, but as soon as I called getActive() on my value. there was an error. I wanted to ask again what is going on now, but through your answer I found out that I had to set kafka.consumers.default.specific.avro.reader to true. Now it works error free! Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689706573,"creation_date":1689706573,"answer_id":76715805,"question_id":76705639,"body_markdown":"The first issue seems like a bug, but Micronaut has also documented this way. Or you could try adding `@MessageBody` annotation\r\n\r\n```\r\n@Topic(&quot;...&quot;)\r\nvoid receive(ConsumerRecord&lt;String, EasySchema&gt; record) {\r\n  String key = record.key();\r\n  EasySchema value = record.value();\r\n}\r\n```\r\n\r\nSecondly, you need to tell the Confluent deserializer to use a specific record type\r\n\r\n```\r\nkafka:\r\n    consumers:\r\n        default:\r\n            specific.avro.reader: true\r\n```","title":"Micronaut, Kafka with Avro - Consumer Error: Required argument [EasySchema message] not specified","body":"<p>The first issue seems like a bug, but Micronaut has also documented this way. Or you could try adding <code>@MessageBody</code> annotation</p>\n<pre><code>@Topic(&quot;...&quot;)\nvoid receive(ConsumerRecord&lt;String, EasySchema&gt; record) {\n  String key = record.key();\n  EasySchema value = record.value();\n}\n</code></pre>\n<p>Secondly, you need to tell the Confluent deserializer to use a specific record type</p>\n<pre><code>kafka:\n    consumers:\n        default:\n            specific.avro.reader: true\n</code></pre>\n"}],"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76715805,"answer_count":1,"score":0,"last_activity_date":1689706573,"creation_date":1689605256,"question_id":76705639,"body_markdown":"I work with Micronauts, Kafka and Avro.\r\n\r\nMy Producer can send messages to Kafka without any problems. Unfortunately, my Consumer cannot read them correctly. Error is: \r\nio.micronaut.core.bind.exceptions.UnsatisfiedArgumentException: Required argument [EasySchema message] not specified\r\n\r\nI use the following AVRO schema from which I generate a class:\r\n\r\n```\r\n{\r\n  &quot;type&quot; : &quot;record&quot;,\r\n  &quot;name&quot; : &quot;EasySchema&quot;,\r\n  &quot;namespace&quot; : &quot;de.mydata.kafka.easy&quot;,\r\n  &quot;fields&quot; : [ {\r\n    &quot;name&quot; : &quot;active&quot;,\r\n    &quot;type&quot; : &quot;boolean&quot;\r\n    }, {\r\n      &quot;name&quot; : &quot;name&quot;,\r\n      &quot;type&quot; : &quot;string&quot;\r\n    }\r\n   ]\r\n}\r\n```\r\n\r\nI use this to send messages without problems. The message is successfully sent to Kafka, I see in my GUI\r\n```\r\n    public void sendMessages() throws Exception {\r\n        EasySchema easy = new EasySchema();\r\n        easy.setActive(true);\r\n        easy.setName(&quot;Maria Klausen&quot;);\r\n        Random random = new Random();\r\n        random.nextInt(1000);\r\n        String randNumber = Integer.toString(random.nextInt(100000));\r\n        kafkaClientProducer.sendMessage(&quot;mykey&quot; + randNumber, easy);\r\n    }\r\n\r\n    @KafkaClient\r\n    public interface KafkaClientProducer {\r\n        @Topic(&quot;with-easy-topic1&quot;)\r\n        void sendMessage(@KafkaKey String key, EasySchema message);\r\n    }\r\n```\r\n\r\nI currently consume the message like this:\r\n```\r\n    @Topic(&quot;with-easy-topic1&quot;)\r\n    void receive(@KafkaKey String key, EasySchema message) {\r\n        System.out.println(key);\r\n        System.out.println(message);\r\n    }\r\n```\r\n\r\nI then receive the following error message:\r\n```\r\nERROR i.m.c.k.e.KafkaListenerExceptionHandler - Error processing record [Optional[ConsumerRecord(topic = with-easy-topic1, partition = 0, leaderEpoch = 0, offset = 2, CreateTime = 1689603813875, serialized key size = 16, serialized value size = 20, headers = RecordHeaders(headers = [], isReadOnly = false), key = mykey73556, value = {&quot;active&quot;: true, &quot;name&quot;: &quot;Maria Klausen&quot;})]] for Kafka consumer [de.mydata.CustomerMessageConsumer@186701a2] produced error: Required argument [EasySchema message] not specified\r\nio.micronaut.core.bind.exceptions.UnsatisfiedArgumentException: Required argument [EasySchema message] not specified\r\n```\r\n\r\nIf I would use a simple string instead of EasySchema, I don&#39;t get an error. What am I doing wrong? Any ideas?\r\n\r\nI would like to use EasySchema directly.\r\n\r\n\r\n\r\nmy application.yml looks like this:\r\n```\r\nmicronaut:\r\n  application:\r\n    name: customerMessageProducer\r\n  server:\r\n    port: 8092\r\nnetty:\r\n  default:\r\n    allocator:\r\n      max-order: 3\r\nkafka:\r\n  bootstrap:\r\n    servers: localhost:9092\r\n  producers:\r\n    default:\r\n      key:\r\n        serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n      value:\r\n        serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n      schema:\r\n        registry:\r\n          url: http://127.0.0.1:8081\r\n  consumers:\r\n    default:\r\n      key:\r\n        deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n      value:\r\n        deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n      schema:\r\n        registry:\r\n          url: http://127.0.0.1:8081\r\n```\r\n","title":"Micronaut, Kafka with Avro - Consumer Error: Required argument [EasySchema message] not specified","body":"<p>I work with Micronauts, Kafka and Avro.</p>\n<p>My Producer can send messages to Kafka without any problems. Unfortunately, my Consumer cannot read them correctly. Error is:\nio.micronaut.core.bind.exceptions.UnsatisfiedArgumentException: Required argument [EasySchema message] not specified</p>\n<p>I use the following AVRO schema from which I generate a class:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;record&quot;,\n  &quot;name&quot; : &quot;EasySchema&quot;,\n  &quot;namespace&quot; : &quot;de.mydata.kafka.easy&quot;,\n  &quot;fields&quot; : [ {\n    &quot;name&quot; : &quot;active&quot;,\n    &quot;type&quot; : &quot;boolean&quot;\n    }, {\n      &quot;name&quot; : &quot;name&quot;,\n      &quot;type&quot; : &quot;string&quot;\n    }\n   ]\n}\n</code></pre>\n<p>I use this to send messages without problems. The message is successfully sent to Kafka, I see in my GUI</p>\n<pre><code>    public void sendMessages() throws Exception {\n        EasySchema easy = new EasySchema();\n        easy.setActive(true);\n        easy.setName(&quot;Maria Klausen&quot;);\n        Random random = new Random();\n        random.nextInt(1000);\n        String randNumber = Integer.toString(random.nextInt(100000));\n        kafkaClientProducer.sendMessage(&quot;mykey&quot; + randNumber, easy);\n    }\n\n    @KafkaClient\n    public interface KafkaClientProducer {\n        @Topic(&quot;with-easy-topic1&quot;)\n        void sendMessage(@KafkaKey String key, EasySchema message);\n    }\n</code></pre>\n<p>I currently consume the message like this:</p>\n<pre><code>    @Topic(&quot;with-easy-topic1&quot;)\n    void receive(@KafkaKey String key, EasySchema message) {\n        System.out.println(key);\n        System.out.println(message);\n    }\n</code></pre>\n<p>I then receive the following error message:</p>\n<pre><code>ERROR i.m.c.k.e.KafkaListenerExceptionHandler - Error processing record [Optional[ConsumerRecord(topic = with-easy-topic1, partition = 0, leaderEpoch = 0, offset = 2, CreateTime = 1689603813875, serialized key size = 16, serialized value size = 20, headers = RecordHeaders(headers = [], isReadOnly = false), key = mykey73556, value = {&quot;active&quot;: true, &quot;name&quot;: &quot;Maria Klausen&quot;})]] for Kafka consumer [de.mydata.CustomerMessageConsumer@186701a2] produced error: Required argument [EasySchema message] not specified\nio.micronaut.core.bind.exceptions.UnsatisfiedArgumentException: Required argument [EasySchema message] not specified\n</code></pre>\n<p>If I would use a simple string instead of EasySchema, I don't get an error. What am I doing wrong? Any ideas?</p>\n<p>I would like to use EasySchema directly.</p>\n<p>my application.yml looks like this:</p>\n<pre><code>micronaut:\n  application:\n    name: customerMessageProducer\n  server:\n    port: 8092\nnetty:\n  default:\n    allocator:\n      max-order: 3\nkafka:\n  bootstrap:\n    servers: localhost:9092\n  producers:\n    default:\n      key:\n        serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\n      value:\n        serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\n      schema:\n        registry:\n          url: http://127.0.0.1:8081\n  consumers:\n    default:\n      key:\n        deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n      value:\n        deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n      schema:\n        registry:\n          url: http://127.0.0.1:8081\n</code></pre>\n"},{"tags":["java","spring-boot","performance","profiling","visualvm"],"answers":[{"tags":[],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1689701055,"creation_date":1689701055,"answer_id":76715245,"question_id":76715173,"body_markdown":"You can use build profiler in Intellij Idea and check the `Flame Graph` . \r\n\r\n`Flame Graph` – a convenient way to visually assess the performance of various code paths and their share in overall CPU/memory usage\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a06Mk.png\r\n\r\nI&#39;m not going to copy the whole docs, but check the Intellij Idea docs https://www.jetbrains.com/help/idea/read-the-profiling-report.html ","title":"how to find out which function(s) took most time during API invocation?","body":"<p>You can use build profiler in Intellij Idea and check the <code>Flame Graph</code> .</p>\n<p><code>Flame Graph</code> – a convenient way to visually assess the performance of various code paths and their share in overall CPU/memory usage</p>\n<p><a href=\"https://i.stack.imgur.com/a06Mk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a06Mk.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm not going to copy the whole docs, but check the Intellij Idea docs <a href=\"https://www.jetbrains.com/help/idea/read-the-profiling-report.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/read-the-profiling-report.html</a></p>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689701676,"creation_date":1689701676,"answer_id":76715320,"question_id":76715173,"body_markdown":"what about [Glowroot][1] it&#39;s a very useful and good Java Agent, that will help you to find your problem\r\n\r\n\r\n  [1]: https://glowroot.org/","title":"how to find out which function(s) took most time during API invocation?","body":"<p>what about <a href=\"https://glowroot.org/\" rel=\"nofollow noreferrer\">Glowroot</a> it's a very useful and good Java Agent, that will help you to find your problem</p>\n"}],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1689706514,"creation_date":1689700583,"question_id":76715173,"body_markdown":"i am trying to debug why my spring boot application takes around 200-ms to respond to an API, and for subsequent hits of same API it takes around 10-ms. \r\n```no caching is involved in API.```\r\nI am using ```VisualVM``` and seems there is a CPU spike only for first time and no spike is observed for subsequent hits. \r\n\r\n**How can i get to know which functions took most time/intensive when i made the first API call.**\r\n\r\nUpdate: https://stackoverflow.com/questions/63019528/why-are-spring-rest-services-slow-on-the-first-request\r\n\r\n[![CPU Usage][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2HQYw.png","title":"how to find out which function(s) took most time during API invocation?","body":"<p>i am trying to debug why my spring boot application takes around 200-ms to respond to an API, and for subsequent hits of same API it takes around 10-ms.\n<code>no caching is involved in API.</code>\nI am using <code>VisualVM</code> and seems there is a CPU spike only for first time and no spike is observed for subsequent hits.</p>\n<p><strong>How can i get to know which functions took most time/intensive when i made the first API call.</strong></p>\n<p>Update: <a href=\"https://stackoverflow.com/questions/63019528/why-are-spring-rest-services-slow-on-the-first-request\">Why are Spring Rest services slow on the first request?</a></p>\n<p><a href=\"https://i.stack.imgur.com/2HQYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2HQYw.png\" alt=\"CPU Usage\" /></a></p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689684034,"creation_date":1689684034,"answer_id":76712878,"question_id":76712828,"body_markdown":"You are missing second `.` (dot) in the class selector. This should work:\r\n\r\n     Elements links = document.select(&quot;a[href].ssrcss-6m4230-PromoLink.e1f5wbog1&quot;)\r\n\r\nwhich means: Select `a` having `href` attribute and class `ssrcss-6m4230-PromoLink` and class `e1f5wbog1`\r\n\r\nFor what you have did `a[href].ssrcss-6m4230-PromoLink e1f5wbog1` means: select `a` having `href` attribute and class `ssrcss-6m4230-PromoLink`. Then select all of its children at any depth having tag `e1f5wbog1`\r\n\r\nMakes a difference, no ?? ;)","title":"Java jsoup - all links belonging to a specific classes - no output, no error message","body":"<p>You are missing second <code>.</code> (dot) in the class selector. This should work:</p>\n<pre><code> Elements links = document.select(&quot;a[href].ssrcss-6m4230-PromoLink.e1f5wbog1&quot;)\n</code></pre>\n<p>which means: Select <code>a</code> having <code>href</code> attribute and class <code>ssrcss-6m4230-PromoLink</code> and class <code>e1f5wbog1</code></p>\n<p>For what you have did <code>a[href].ssrcss-6m4230-PromoLink e1f5wbog1</code> means: select <code>a</code> having <code>href</code> attribute and class <code>ssrcss-6m4230-PromoLink</code>. Then select all of its children at any depth having tag <code>e1f5wbog1</code></p>\n<p>Makes a difference, no ?? ;)</p>\n"}],"owner":{"account_id":25506622,"reputation":45,"user_id":19298991,"display_name":"Robbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76712878,"answer_count":1,"score":0,"last_activity_date":1689706024,"creation_date":1689683553,"question_id":76712828,"body_markdown":"I&#39;m learning jsoup in Java.\r\n\r\nI&#39;d like to print all links belonging to a specific classes.\r\n\r\nI&#39;m not getting any output when my expected output is `my beutiful link : /sport/golf/66227692\\`.\r\n\r\nI&#39;ve looked at https://stackoverflow.com/questions/48798866/jsoup-how-get-all-the-href-associated-with-a-specific-class, https://stackoverflow.com/questions/22541011/jsoup-get-text-from-all-elements-with-a-particular-class-under-a-specified-cla, and https://jsoup.org/cookbook/extracting-data/selector-syntax, but I don&#39;t know where I&#39;m going wrong.\r\n\r\nThanks for any help.\r\n\r\n    \r\n\r\n\r\n\r\n    import java.io.IOException;\r\n    import org.jsoup.Jsoup;  \r\n    import org.jsoup.nodes.Document;  \r\n    import org.jsoup.nodes.Element;  \r\n    import org.jsoup.select.Elements;\r\n\r\n\r\n    public class Anyclass {\r\n\r\n\t    public static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\t    String html = &quot;&lt;a href=\\&quot;/sport/golf/66227692\\&quot; class=\\&quot;ssrcss-6m4230-PromoLink e1f5wbog1\\&quot;&gt;&lt;span role=\\&quot;text\\&quot;&gt;&lt;p class=\\&quot;ssrcss-6arcww-PromoHeadline e1f5wbog6\\&quot;&gt;&lt;span aria-hidden=\\&quot;false\\&quot;&gt;McIlroy&#39;s &#39;perfect preparation&#39; for Hoylake Open&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;/a&gt;&quot;;\r\n\t\t    Document document = Jsoup.parse(html);\r\n\t\t    Elements links = document.select(&quot;a[href].ssrcss-6m4230-PromoLink e1f5wbog1&quot;); \r\n\t        for (Element link : links) {\r\n\t\t        System.out.println(&quot;my beutiful link : &quot; + link.attr(&quot;href&quot;)); \r\n\t        }\r\n\t    }\r\n    }\r\n\r\n\r\n    // OUTPUT:\r\n\r\n\r\n    // EXPECTED OUTPUT:\r\n       my beutiful link : /sport/golf/66227692\\\r\n\r\n\r\n\r\n","title":"Java jsoup - all links belonging to a specific classes - no output, no error message","body":"<p>I'm learning jsoup in Java.</p>\n<p>I'd like to print all links belonging to a specific classes.</p>\n<p>I'm not getting any output when my expected output is <code>my beutiful link : /sport/golf/66227692\\</code>.</p>\n<p>I've looked at <a href=\"https://stackoverflow.com/questions/48798866/jsoup-how-get-all-the-href-associated-with-a-specific-class\">Jsoup: How get all the href associated with a specific class</a>, <a href=\"https://stackoverflow.com/questions/22541011/jsoup-get-text-from-all-elements-with-a-particular-class-under-a-specified-cla\">Jsoup - get text from all elements with a particular class under a Specified class</a>, and <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">https://jsoup.org/cookbook/extracting-data/selector-syntax</a>, but I don't know where I'm going wrong.</p>\n<p>Thanks for any help.</p>\n<pre><code>import java.io.IOException;\nimport org.jsoup.Jsoup;  \nimport org.jsoup.nodes.Document;  \nimport org.jsoup.nodes.Element;  \nimport org.jsoup.select.Elements;\n\n\npublic class Anyclass {\n\n    public static void main(String[] args) throws IOException {\n    \n        String html = &quot;&lt;a href=\\&quot;/sport/golf/66227692\\&quot; class=\\&quot;ssrcss-6m4230-PromoLink e1f5wbog1\\&quot;&gt;&lt;span role=\\&quot;text\\&quot;&gt;&lt;p class=\\&quot;ssrcss-6arcww-PromoHeadline e1f5wbog6\\&quot;&gt;&lt;span aria-hidden=\\&quot;false\\&quot;&gt;McIlroy's 'perfect preparation' for Hoylake Open&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;/a&gt;&quot;;\n        Document document = Jsoup.parse(html);\n        Elements links = document.select(&quot;a[href].ssrcss-6m4230-PromoLink e1f5wbog1&quot;); \n        for (Element link : links) {\n            System.out.println(&quot;my beutiful link : &quot; + link.attr(&quot;href&quot;)); \n        }\n    }\n}\n\n\n// OUTPUT:\n\n\n// EXPECTED OUTPUT:\n   my beutiful link : /sport/golf/66227692\\\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1689711895,"post_id":76715753,"comment_id":135251789,"body_markdown":"You have to either implement a full blown dialer replacement app that is chosen by the user as the default or at least implement a CallScreeningService (which also has to be chosen as the default). All tricks like reflection / mocking headset button presses to pickup/decline/end calls were culled by the android team so all answers that you found that suggested that are outdated and won&#39;t work unless you&#39;re running app on a really old device.","body":"You have to either implement a full blown dialer replacement app that is chosen by the user as the default or at least implement a CallScreeningService (which also has to be chosen as the default). All tricks like reflection / mocking headset button presses to pickup/decline/end calls were culled by the android team so all answers that you found that suggested that are outdated and won&#39;t work unless you&#39;re running app on a really old device."},{"owner":{"account_id":27768400,"reputation":661,"user_id":21199279,"display_name":"Srikar Uppu"},"score":0,"creation_date":1689754514,"post_id":76715753,"comment_id":135256409,"body_markdown":"Hi Pawel, \nThank you for your response and clarification. I understand that call control methods using reflection or other tricks are no longer viable on newer Android versions. I&#39;ll explore alternative approaches within the allowed framework.","body":"Hi Pawel,  Thank you for your response and clarification. I understand that call control methods using reflection or other tricks are no longer viable on newer Android versions. I&#39;ll explore alternative approaches within the allowed framework."}],"owner":{"account_id":27768400,"reputation":661,"user_id":21199279,"display_name":"Srikar Uppu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689705979,"creation_date":1689705979,"question_id":76715753,"body_markdown":"I am working on an Android application where I need to programmatically end outgoing or incoming calls using a custom onClick event. I have tried several approaches, but I have not been able to find a reliable solution.\r\n\r\n\r\n\r\nHere is what I have tried so far:\r\n```\r\nclose_button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // Retrieve the activity context\r\n                    Context context = v.getContext();\r\n                    TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n                    try {\r\n                        Class&lt;?&gt; c = Class.forName(tm.getClass().getName());\r\n                        Method m = c.getDeclaredMethod(&quot;getITelephony&quot;);\r\n                        m.setAccessible(true);\r\n                        ITelephony telephonyService = (ITelephony) m.invoke(tm);\r\n\r\n                        Bundle bundle = getIntent().getExtras();\r\n                        if (bundle != null) {\r\n                            String phoneNumber = bundle.getString(&quot;incoming_number&quot;);\r\n                            Log.d(&quot;INCOMING&quot;, phoneNumber);\r\n                            if (phoneNumber != null) {\r\n                                telephonyService.endCall();\r\n                                Log.d(&quot;HANG UP&quot;, phoneNumber);\r\n                            }\r\n                        }\r\n                        CustomDialog.this.getWindow().getAttributes().windowAnimations = R.style.SlidingDialogAnimation;\r\n                        CustomDialog.this.finishAndRemoveTask();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\n\r\nHowever, I keep encountering issues such as &quot;NoSuchMethodException&quot; or &quot;MethodNotFound&quot; when attempting to access hidden methods like getITelephony().\r\n\r\nException:\r\n&gt; Accessing hidden method Landroid/telephony/TelephonyManager;-&gt;getITelephony()Lcom/android/internal/telephony/ITelephony; (greylist-max-p, reflection, denied)\r\njava.lang.NoSuchMethodException: android.telephony.TelephonyManager.getITelephony []\r\njava.lang.Class.getMethod(Class.java:2072)\r\njava.lang.Class.getDeclaredMethod(Class.java:2050)\r\napp.rsn.rb.call.CustomDialog$1.onClick(CustomDialog.java:137)I have thoroughly researched the official Android SDK documentation, but I have not found any supported method to achieve call control programmatically.\r\n\r\nCould someone please provide guidance or suggest alternative approaches to programmatically end outgoing or incoming calls using a custom onClick event in Android Java?\r\n\r\nThank you in advance for your help.","title":"Programmatically end outgoing/incoming calls using custom onClick event in Android API level 30 or higher using Java","body":"<p>I am working on an Android application where I need to programmatically end outgoing or incoming calls using a custom onClick event. I have tried several approaches, but I have not been able to find a reliable solution.</p>\n<p>Here is what I have tried so far:</p>\n<pre><code>close_button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    // Retrieve the activity context\n                    Context context = v.getContext();\n                    TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n                    try {\n                        Class&lt;?&gt; c = Class.forName(tm.getClass().getName());\n                        Method m = c.getDeclaredMethod(&quot;getITelephony&quot;);\n                        m.setAccessible(true);\n                        ITelephony telephonyService = (ITelephony) m.invoke(tm);\n\n                        Bundle bundle = getIntent().getExtras();\n                        if (bundle != null) {\n                            String phoneNumber = bundle.getString(&quot;incoming_number&quot;);\n                            Log.d(&quot;INCOMING&quot;, phoneNumber);\n                            if (phoneNumber != null) {\n                                telephonyService.endCall();\n                                Log.d(&quot;HANG UP&quot;, phoneNumber);\n                            }\n                        }\n                        CustomDialog.this.getWindow().getAttributes().windowAnimations = R.style.SlidingDialogAnimation;\n                        CustomDialog.this.finishAndRemoveTask();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n</code></pre>\n<p>However, I keep encountering issues such as &quot;NoSuchMethodException&quot; or &quot;MethodNotFound&quot; when attempting to access hidden methods like getITelephony().</p>\n<p>Exception:</p>\n<blockquote>\n<p>Accessing hidden method Landroid/telephony/TelephonyManager;-&gt;getITelephony()Lcom/android/internal/telephony/ITelephony; (greylist-max-p, reflection, denied)\njava.lang.NoSuchMethodException: android.telephony.TelephonyManager.getITelephony []\njava.lang.Class.getMethod(Class.java:2072)\njava.lang.Class.getDeclaredMethod(Class.java:2050)\napp.rsn.rb.call.CustomDialog$1.onClick(CustomDialog.java:137)I have thoroughly researched the official Android SDK documentation, but I have not found any supported method to achieve call control programmatically.</p>\n</blockquote>\n<p>Could someone please provide guidance or suggest alternative approaches to programmatically end outgoing or incoming calls using a custom onClick event in Android Java?</p>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","selenium-webdriver","jmeter","selenium-chromedriver"],"comments":[{"owner":{"account_id":19832213,"reputation":476,"user_id":14526514,"display_name":"Reyot"},"score":0,"creation_date":1689346143,"post_id":76688712,"comment_id":135204948,"body_markdown":"try `driver.getPageSource()` to see which page is driver working with. And if driver is not moving to next page, try `driver.navigate().forward()`","body":"try <code>driver.getPageSource()</code> to see which page is driver working with. And if driver is not moving to next page, try <code>driver.navigate().forward()</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1689346745,"post_id":76688712,"comment_id":135205116,"body_markdown":"Also, don&#39;t use `Thread.sleep()`. Use implicit waits and/or explicit waits to time out after a particular condition is not met. For example, waiting for elements to become visible.","body":"Also, don&#39;t use <code>Thread.sleep()</code>. Use implicit waits and/or explicit waits to time out after a particular condition is not met. For example, waiting for elements to become visible."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689346911,"creation_date":1689346911,"answer_id":76688927,"question_id":76688712,"body_markdown":"It&#39;s hard to say anything without seeing the [DOM][1] of the page you&#39;re trying to interact with. \r\n\r\nI can think of the following possible reasons:\r\n\r\n - The element you&#39;re looking for may be in an [iframe][2] so you need to [switch to it first][3]\r\n - The element you&#39;re looking for may be in [shadow DOM][4] so you need to locate the relevant [ShadowRoot][5] first and search for the element from this context\r\n\r\nIn general it&#39;s a good idea to use [Explicit Waits][6] instead of sleep. Also it worth checking [jmeter.log][7] for any suspicious entries \r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\r\n  [3]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html#switchTo()\r\n  [4]: https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM\r\n  [5]: https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot\r\n  [6]: https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait\r\n  [7]: https://www.blazemeter.com/blog/jmeter-logging","title":"Selenium in JMeter can&#39;t find element after redirecting to another page by clicking login button","body":"<p>It's hard to say anything without seeing the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model\" rel=\"nofollow noreferrer\">DOM</a> of the page you're trying to interact with.</p>\n<p>I can think of the following possible reasons:</p>\n<ul>\n<li>The element you're looking for may be in an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\" rel=\"nofollow noreferrer\">iframe</a> so you need to <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html#switchTo()\" rel=\"nofollow noreferrer\">switch to it first</a></li>\n<li>The element you're looking for may be in <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM\" rel=\"nofollow noreferrer\">shadow DOM</a> so you need to locate the relevant <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot\" rel=\"nofollow noreferrer\">ShadowRoot</a> first and search for the element from this context</li>\n</ul>\n<p>In general it's a good idea to use <a href=\"https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait\" rel=\"nofollow noreferrer\">Explicit Waits</a> instead of sleep. Also it worth checking <a href=\"https://www.blazemeter.com/blog/jmeter-logging\" rel=\"nofollow noreferrer\">jmeter.log</a> for any suspicious entries</p>\n"},{"tags":[],"owner":{"account_id":26238404,"reputation":63,"user_id":19913135,"display_name":"Danila Sukhoparov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689705218,"creation_date":1689705218,"answer_id":76715675,"question_id":76688712,"body_markdown":"The problem solved only by installing Chrome and chromedriver v. 109 instead of v. 114","title":"Selenium in JMeter can&#39;t find element after redirecting to another page by clicking login button","body":"<p>The problem solved only by installing Chrome and chromedriver v. 109 instead of v. 114</p>\n"}],"owner":{"account_id":26238404,"reputation":63,"user_id":19913135,"display_name":"Danila Sukhoparov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76715675,"answer_count":2,"score":0,"last_activity_date":1689705218,"creation_date":1689345384,"question_id":76688712,"body_markdown":"Im trying to run JMeter tests using chrome driver config and Selenium. I opened login paged, logged in, clicked login button, the desired page has opened, but then selenium can&#39;t find ANY element on new opened page (page opened in SAME tab), writing &quot;Response code:500 Response message:no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//a[@id=&#39;node11828602&#39;]&quot;}&quot;\r\n\r\nPage had enough time to load, I even added time sleep for 5 seconds\r\nI tried different locators, CSS, xpath, id, nothing worked\r\nLocators were correct and were finding only one targeted element\r\nI thought it can be hidden iframe, but no, element was outside of iframes\r\n\r\n\r\nHere&#39;s my code from WebDriver Sampler. First 8 rows work well\r\n```\r\nWDS.sampleResult.sampleStart()\r\n\r\nWDS.browser.get(&quot;url&quot;)\r\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;otds_username&quot;)).click();\r\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;otds_username&quot;)).sendKeys(&quot;login&quot;);\r\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;otds_password&quot;)).click();\r\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;otds_password&quot;)).sendKeys(&quot;password&quot;);\r\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;loginbutton&quot;)).click();\r\n\r\n\r\njava.lang.Thread.sleep(2000)\r\nWDS.browser.findElement(org.openqa.selenium.By.xpath(&quot;//a[@id=&#39;node11828602&#39;]&quot;)).click();\r\n...\r\n```\r\n","title":"Selenium in JMeter can&#39;t find element after redirecting to another page by clicking login button","body":"<p>Im trying to run JMeter tests using chrome driver config and Selenium. I opened login paged, logged in, clicked login button, the desired page has opened, but then selenium can't find ANY element on new opened page (page opened in SAME tab), writing &quot;Response code:500 Response message:no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//a[@id='node11828602']&quot;}&quot;</p>\n<p>Page had enough time to load, I even added time sleep for 5 seconds\nI tried different locators, CSS, xpath, id, nothing worked\nLocators were correct and were finding only one targeted element\nI thought it can be hidden iframe, but no, element was outside of iframes</p>\n<p>Here's my code from WebDriver Sampler. First 8 rows work well</p>\n<pre><code>WDS.sampleResult.sampleStart()\n\nWDS.browser.get(&quot;url&quot;)\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;otds_username&quot;)).click();\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;otds_username&quot;)).sendKeys(&quot;login&quot;);\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;otds_password&quot;)).click();\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;otds_password&quot;)).sendKeys(&quot;password&quot;);\nWDS.browser.findElement(org.openqa.selenium.By.id(&quot;loginbutton&quot;)).click();\n\n\njava.lang.Thread.sleep(2000)\nWDS.browser.findElement(org.openqa.selenium.By.xpath(&quot;//a[@id='node11828602']&quot;)).click();\n...\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":16131513,"reputation":21,"user_id":11645050,"display_name":"Jason Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689705089,"creation_date":1689705089,"question_id":76715663,"body_markdown":"I am using Minecraft Forge. I have created an entity like:\r\n\r\n```java\r\nBlockPos location = ...;\r\nEntity e = EntityType.FALLING_BLOCK.create(level);\r\ne.setPos(location.getX(), location.getY(), location.getZ());\r\nlevel.addFreshEntity(e);\r\n```\r\nHow can I set NBT tags (like BlockState, Time, etc.) on my entity?\r\n\r\nI have tried looking on the Internet, but most of the instructions there are outdated. I tried looking though the Entity class, but the only thing that seems related to what I want to do is &quot;getEntityData&quot;, and I don&#39;t know how to use that.\r\n\r\nI *don&#39;t* want to set NBT data on items or blocks, and I *don&#39;t* want to create new NBT tags. I just want to modify the ones that are already there.","title":"How do I set NBT data on an entity with Forge?","body":"<p>I am using Minecraft Forge. I have created an entity like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BlockPos location = ...;\nEntity e = EntityType.FALLING_BLOCK.create(level);\ne.setPos(location.getX(), location.getY(), location.getZ());\nlevel.addFreshEntity(e);\n</code></pre>\n<p>How can I set NBT tags (like BlockState, Time, etc.) on my entity?</p>\n<p>I have tried looking on the Internet, but most of the instructions there are outdated. I tried looking though the Entity class, but the only thing that seems related to what I want to do is &quot;getEntityData&quot;, and I don't know how to use that.</p>\n<p>I <em>don't</em> want to set NBT data on items or blocks, and I <em>don't</em> want to create new NBT tags. I just want to modify the ones that are already there.</p>\n"},{"tags":["java","jetty","dropwizard"],"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689704983,"creation_date":1689704983,"question_id":76715653,"body_markdown":"I have upgraded most of the project libraries, mainly Java from 8 to 17, Spark from 1.6 to 3.3, and Dropwizard from 1.1.3 to 2.1.4 and related. However, after the upgrade, HTTP requests are not logged either on the console or in the file. Has anyone ever had this issue? Other application logs are logged as usual, on the console and in the file.\r\n\r\nI followed the configuration guide, https://www.dropwizard.io/en/latest/manual/configuration.html#request-log, and I don&#39;t see the settings have changed. I also tried a sample project created using the maven archetype, and the request/response are logged as expected.\r\n\r\nActual project logs (Set Jetty log level to DEBUG): You can see the usual request/response is not logged\r\n\r\n```\r\nINFO  [2023-07-18 18:22:29,594] org.eclipse.jetty.server.handler.ContextHandler: Started i.d.j.MutableServletContextHandler@38b88037{/,null,AVAILABLE}\r\nINFO  [2023-07-18 18:22:29,603] org.eclipse.jetty.server.AbstractConnector: Started application@4f2e21d7{HTTP/1.1, (http/1.1)}{0.0.0.0:9090}\r\nINFO  [2023-07-18 18:22:29,604] org.eclipse.jetty.server.AbstractConnector: Started admin@6666410a{HTTP/1.1, (http/1.1)}{0.0.0.0:9091}\r\nINFO  [2023-07-18 18:22:29,604] org.eclipse.jetty.server.Server: Started @18279ms\r\nDEBUG [2023-07-18 18:22:36,396] org.eclipse.jetty.server.Server: REQUEST POST /api/v3.0/TestEndpoint on HttpChannelOverHttp@42a3fd0d{s=HttpChannelState@76b39ac5{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=//localhost:9090/api/v3.0/TestEndpoint,age=2}\r\nDEBUG [2023-07-18 18:22:38,000] org.eclipse.jetty.server.Server: handled=true async=false committed=true on HttpChannelOverHttp@42a3fd0d{s=HttpChannelState@76b39ac5{s=HANDLING rs=BLOCKING os=COMPLETED is=IDLE awp=false se=false i=true al=1},r=1,c=false/true,a=HANDLING,uri=//localhost:9090/api/v3.0/TestEndpoint,age=1606}\r\n```\r\n\r\nSample project logs: You can see the usual request/response code in the logs\r\n\r\n```\r\nINFO  [2023-07-18 03:28:59,534] org.eclipse.jetty.server.handler.ContextHandler: Started i.d.j.MutableServletContextHandler@60dd0587{/,null,AVAILABLE}\r\nINFO  [2023-07-18 03:28:59,546] org.eclipse.jetty.server.AbstractConnector: Started application@3a2b2322{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}\r\nINFO  [2023-07-18 03:28:59,547] org.eclipse.jetty.server.AbstractConnector: Started admin@5e1218b4{HTTP/1.1, (http/1.1)}{0.0.0.0:8081}\r\nINFO  [2023-07-18 03:28:59,547] org.eclipse.jetty.server.Server: Started @1593ms\r\n[0:0:0:0:0:0:0:1] - - [18/Jul/2023:03:29:03 +0000] &quot;GET /info HTTP/1.1&quot; 200 6 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; 54\r\n[0:0:0:0:0:0:0:1] - - [18/Jul/2023:18:25:13 +0000] &quot;GET /info HTTP/1.1&quot; 200 6 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; 190\r\n[0:0:0:0:0:0:0:1] - - [18/Jul/2023:18:25:16 +0000] &quot;GET /info HTTP/1.1&quot; 200 6 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; 4\r\n[0:0:0:0:0:0:0:1] - - [18/Jul/2023:18:25:16 +0000] &quot;GET /info HTTP/1.1&quot; 200 6 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; 3\r\n```","title":"Dropwizard upgrade to 2.1.4 - requests and responses are not logged","body":"<p>I have upgraded most of the project libraries, mainly Java from 8 to 17, Spark from 1.6 to 3.3, and Dropwizard from 1.1.3 to 2.1.4 and related. However, after the upgrade, HTTP requests are not logged either on the console or in the file. Has anyone ever had this issue? Other application logs are logged as usual, on the console and in the file.</p>\n<p>I followed the configuration guide, <a href=\"https://www.dropwizard.io/en/latest/manual/configuration.html#request-log\" rel=\"nofollow noreferrer\">https://www.dropwizard.io/en/latest/manual/configuration.html#request-log</a>, and I don't see the settings have changed. I also tried a sample project created using the maven archetype, and the request/response are logged as expected.</p>\n<p>Actual project logs (Set Jetty log level to DEBUG): You can see the usual request/response is not logged</p>\n<pre><code>INFO  [2023-07-18 18:22:29,594] org.eclipse.jetty.server.handler.ContextHandler: Started i.d.j.MutableServletContextHandler@38b88037{/,null,AVAILABLE}\nINFO  [2023-07-18 18:22:29,603] org.eclipse.jetty.server.AbstractConnector: Started application@4f2e21d7{HTTP/1.1, (http/1.1)}{0.0.0.0:9090}\nINFO  [2023-07-18 18:22:29,604] org.eclipse.jetty.server.AbstractConnector: Started admin@6666410a{HTTP/1.1, (http/1.1)}{0.0.0.0:9091}\nINFO  [2023-07-18 18:22:29,604] org.eclipse.jetty.server.Server: Started @18279ms\nDEBUG [2023-07-18 18:22:36,396] org.eclipse.jetty.server.Server: REQUEST POST /api/v3.0/TestEndpoint on HttpChannelOverHttp@42a3fd0d{s=HttpChannelState@76b39ac5{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=//localhost:9090/api/v3.0/TestEndpoint,age=2}\nDEBUG [2023-07-18 18:22:38,000] org.eclipse.jetty.server.Server: handled=true async=false committed=true on HttpChannelOverHttp@42a3fd0d{s=HttpChannelState@76b39ac5{s=HANDLING rs=BLOCKING os=COMPLETED is=IDLE awp=false se=false i=true al=1},r=1,c=false/true,a=HANDLING,uri=//localhost:9090/api/v3.0/TestEndpoint,age=1606}\n</code></pre>\n<p>Sample project logs: You can see the usual request/response code in the logs</p>\n<pre><code>INFO  [2023-07-18 03:28:59,534] org.eclipse.jetty.server.handler.ContextHandler: Started i.d.j.MutableServletContextHandler@60dd0587{/,null,AVAILABLE}\nINFO  [2023-07-18 03:28:59,546] org.eclipse.jetty.server.AbstractConnector: Started application@3a2b2322{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}\nINFO  [2023-07-18 03:28:59,547] org.eclipse.jetty.server.AbstractConnector: Started admin@5e1218b4{HTTP/1.1, (http/1.1)}{0.0.0.0:8081}\nINFO  [2023-07-18 03:28:59,547] org.eclipse.jetty.server.Server: Started @1593ms\n[0:0:0:0:0:0:0:1] - - [18/Jul/2023:03:29:03 +0000] &quot;GET /info HTTP/1.1&quot; 200 6 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; 54\n[0:0:0:0:0:0:0:1] - - [18/Jul/2023:18:25:13 +0000] &quot;GET /info HTTP/1.1&quot; 200 6 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; 190\n[0:0:0:0:0:0:0:1] - - [18/Jul/2023:18:25:16 +0000] &quot;GET /info HTTP/1.1&quot; 200 6 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; 4\n[0:0:0:0:0:0:0:1] - - [18/Jul/2023:18:25:16 +0000] &quot;GET /info HTTP/1.1&quot; 200 6 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; 3\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1689723399,"post_id":76715645,"comment_id":135253090,"body_markdown":"Why are you creating more than 1?  MediaPlayer is meant to be reused.  Issue a reset() and move on to the next thing you want to play.","body":"Why are you creating more than 1?  MediaPlayer is meant to be reused.  Issue a reset() and move on to the next thing you want to play."},{"owner":{"account_id":28046198,"reputation":11,"user_id":21422922,"display_name":"David Orr"},"score":0,"creation_date":1689727405,"post_id":76715645,"comment_id":135253438,"body_markdown":"Thank you for the reply. I am calling setupMediaPlayer() in the onCreate method of the activity. What happens to the activity class that I am in when changeSectionButton() is called? Does it garbage collected? If not how do I call this instance of the class from another activity? If MediaPlayer is meant to be reused, how to I reference it between activities?","body":"Thank you for the reply. I am calling setupMediaPlayer() in the onCreate method of the activity. What happens to the activity class that I am in when changeSectionButton() is called? Does it garbage collected? If not how do I call this instance of the class from another activity? If MediaPlayer is meant to be reused, how to I reference it between activities?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1689737252,"post_id":76715645,"comment_id":135254197,"body_markdown":"If you want it to be usable in multiple Activities (for example if its playing music while you&#39;re in any page of the app), you put it in a bound service which you can use to send commands to it.","body":"If you want it to be usable in multiple Activities (for example if its playing music while you&#39;re in any page of the app), you put it in a bound service which you can use to send commands to it."}],"owner":{"account_id":28046198,"reputation":11,"user_id":21422922,"display_name":"David Orr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689704919,"creation_date":1689704919,"question_id":76715645,"body_markdown":"**System**\r\nLenovo Tablet M10 Plus 3rd Generation\r\nRAM: 3GB\r\nROM: 32GB\r\nCPU: MediaTek G80,2x A75, 2.0GHz + 6x A55 1.8GHz\r\nAPI Level: 33\r\n\r\n**Problem:**\r\nMy activity starts playing an audio file as soon as it loads.\r\nThere are controls on that activity that start other activities regardless if a song is playing.\r\nLeaving and returning to this activity plays the audio file exactly 40 times before failing to start with error:\r\nMediaPlayerNative: error (1, -19)\r\nMediaPlayer: Error (1,-19)\r\n\r\n**Code**\r\n```\r\n    private void setupMediaPlayer() throws IOException {\r\n        if (mediaPlayer != null)\r\n            mediaPlayer.stop();\r\n        mediaPlayer = new MediaPlayer();\r\n        mediaPlayer.setAudioAttributes(\r\n                new AudioAttributes.Builder()\r\n                        .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                        .setUsage(AudioAttributes.USAGE_MEDIA)\r\n                        .build());\r\n        mediaPlayer.reset();\r\n        mediaPlayer.setDataSource(getApplicationContext(), Uri.parse(mTrack));\r\n        mediaPlayer.setLooping(true);\r\n        mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n\r\n            @Override\r\n            public void onPrepared(MediaPlayer mp) {\r\n                if (isSameTrack)\r\n                    currentTempo = mBundle.getInt(&quot;previousTempo&quot;);\r\n                setTempo(currentTempo);\r\n                setVolume(currentVolume);\r\n                mediaPlayer.seekTo(0);\r\n                mp.start();\r\n            }\r\n        }\r\n        );\r\n\r\n\r\n    public void changeSectionButton(View view) {\r\n        closeMediaPlayer();\r\n        Intent mIntent = new Intent(PlaySong.this, PickExercise.class);\r\n        mIntent.putExtra(&quot;Dictionary&quot;, DictionaryManager.toString(mDictionary));\r\n        mSection = (mSection.equals(&quot;Barre&quot;)) ? &quot;Center&quot; : &quot;Barre&quot;;\r\n        mIntent.putExtra(&quot;Section&quot;, mSection);\r\n        startActivity(mIntent);\r\n    }\r\n\r\n\r\n\r\n    private void closeMediaPlayer(){\r\n        mediaPlayer.stop();\r\n        mediaPlayer.reset();\r\n        mediaPlayer.release();\r\n        mediaPlayer=null;\r\n    }\r\n```\r\n\r\n\r\n\r\nI am expecting the activity to start and start playing the audio file an indefinite number of times I arrive at the activity","title":"Android MediaPlayer crashes after exactly 40 initializations","body":"<p><strong>System</strong>\nLenovo Tablet M10 Plus 3rd Generation\nRAM: 3GB\nROM: 32GB\nCPU: MediaTek G80,2x A75, 2.0GHz + 6x A55 1.8GHz\nAPI Level: 33</p>\n<p><strong>Problem:</strong>\nMy activity starts playing an audio file as soon as it loads.\nThere are controls on that activity that start other activities regardless if a song is playing.\nLeaving and returning to this activity plays the audio file exactly 40 times before failing to start with error:\nMediaPlayerNative: error (1, -19)\nMediaPlayer: Error (1,-19)</p>\n<p><strong>Code</strong></p>\n<pre><code>    private void setupMediaPlayer() throws IOException {\n        if (mediaPlayer != null)\n            mediaPlayer.stop();\n        mediaPlayer = new MediaPlayer();\n        mediaPlayer.setAudioAttributes(\n                new AudioAttributes.Builder()\n                        .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                        .setUsage(AudioAttributes.USAGE_MEDIA)\n                        .build());\n        mediaPlayer.reset();\n        mediaPlayer.setDataSource(getApplicationContext(), Uri.parse(mTrack));\n        mediaPlayer.setLooping(true);\n        mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n\n            @Override\n            public void onPrepared(MediaPlayer mp) {\n                if (isSameTrack)\n                    currentTempo = mBundle.getInt(&quot;previousTempo&quot;);\n                setTempo(currentTempo);\n                setVolume(currentVolume);\n                mediaPlayer.seekTo(0);\n                mp.start();\n            }\n        }\n        );\n\n\n    public void changeSectionButton(View view) {\n        closeMediaPlayer();\n        Intent mIntent = new Intent(PlaySong.this, PickExercise.class);\n        mIntent.putExtra(&quot;Dictionary&quot;, DictionaryManager.toString(mDictionary));\n        mSection = (mSection.equals(&quot;Barre&quot;)) ? &quot;Center&quot; : &quot;Barre&quot;;\n        mIntent.putExtra(&quot;Section&quot;, mSection);\n        startActivity(mIntent);\n    }\n\n\n\n    private void closeMediaPlayer(){\n        mediaPlayer.stop();\n        mediaPlayer.reset();\n        mediaPlayer.release();\n        mediaPlayer=null;\n    }\n</code></pre>\n<p>I am expecting the activity to start and start playing the audio file an indefinite number of times I arrive at the activity</p>\n"},{"tags":["java","time-complexity","backtracking"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1689695641,"post_id":76714549,"comment_id":135248924,"body_markdown":"You forgot to post what you *think* the answer is and why you think that.","body":"You forgot to post what you <i>think</i> the answer is and why you think that."}],"answers":[{"tags":[],"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689704466,"creation_date":1689703658,"answer_id":76715521,"question_id":76714549,"body_markdown":"Looking only at `candidates`, there are `2^n` combinations. The backtracking needs to iterate through them all. Then for each combinations, it needs to be copied to a new list at the end, so there&#39;s an extra factor of `n`, for a total time complexity of `O(n*2^n)`.\r\n\r\nThis would not run in time though as `2^100` is huge. Instead, the time complexity is better expressed in terms of `target`. The constraint that `target` is small limits the time based on the [Partition Numbers][1]. So the time complexity is `O(n*p(target))`.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Partition_(number_theory)","title":"Combination Sum II time complexity","body":"<p>Looking only at <code>candidates</code>, there are <code>2^n</code> combinations. The backtracking needs to iterate through them all. Then for each combinations, it needs to be copied to a new list at the end, so there's an extra factor of <code>n</code>, for a total time complexity of <code>O(n*2^n)</code>.</p>\n<p>This would not run in time though as <code>2^100</code> is huge. Instead, the time complexity is better expressed in terms of <code>target</code>. The constraint that <code>target</code> is small limits the time based on the <a href=\"https://en.wikipedia.org/wiki/Partition_(number_theory)\" rel=\"nofollow noreferrer\">Partition Numbers</a>. So the time complexity is <code>O(n*p(target))</code>.</p>\n"}],"owner":{"account_id":14385183,"reputation":493,"user_id":10391394,"display_name":"Vaishnavi Killekar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689704466,"creation_date":1689695300,"question_id":76714549,"body_markdown":"I&#39;ve used backtracking to solve this LeetCode problem - [Combination Sum II][1]\r\n\r\nWhat would be the worst-case time complexity for below solution? How do we approach such backtracking problems for their time complexity analysis?\r\n\r\nFrom my analysis, each element in `candidates` array can be either included or excluded. Hence, time complexity should become `O(2^n)`.\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum2(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        boolean[] used = new boolean[candidates.length];\r\n\r\n        // Sort array to avoid duplicate combinations\r\n        Arrays.sort(candidates);\r\n\r\n        getCombos(candidates, target, result, used, new ArrayList&lt;&gt;(), 0, 0);\r\n\r\n        return result;\r\n    }\r\n\r\n    public void getCombos(int[] candidates, int target, List&lt;List&lt;Integer&gt;&gt; result, boolean[] used, List&lt;Integer&gt; curr, int sum, int index) {\r\n        if(sum == target) {\r\n            result.add(new ArrayList&lt;&gt;(curr));\r\n            return;\r\n        }\r\n\r\n        for(int i = index; i &lt; candidates.length; i++) {\r\n            // If duplicate is found, then include only if previous occurrence is chosen\r\n            if(i &gt; 0 &amp;&amp; candidates[i] == candidates[i - 1] &amp;&amp; !used[i - 1]) {\r\n                continue;\r\n            }\r\n            // Add current to combo\r\n            used[i] = true;\r\n            curr.add(candidates[i]);\r\n\r\n            // Generate combinations using curr\r\n            if(sum + candidates[i] &lt;= target)\r\n                getCombos(candidates, target, result, used, curr, sum + candidates[i], i + 1);\r\n\r\n            // Remove current for next combination\r\n            used[i] = false;\r\n            curr.remove(curr.size() - 1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://leetcode.com/problems/combination-sum-ii/description/","title":"Combination Sum II time complexity","body":"<p>I've used backtracking to solve this LeetCode problem - <a href=\"https://leetcode.com/problems/combination-sum-ii/description/\" rel=\"nofollow noreferrer\">Combination Sum II</a></p>\n<p>What would be the worst-case time complexity for below solution? How do we approach such backtracking problems for their time complexity analysis?</p>\n<p>From my analysis, each element in <code>candidates</code> array can be either included or excluded. Hence, time complexity should become <code>O(2^n)</code>.</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum2(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        boolean[] used = new boolean[candidates.length];\n\n        // Sort array to avoid duplicate combinations\n        Arrays.sort(candidates);\n\n        getCombos(candidates, target, result, used, new ArrayList&lt;&gt;(), 0, 0);\n\n        return result;\n    }\n\n    public void getCombos(int[] candidates, int target, List&lt;List&lt;Integer&gt;&gt; result, boolean[] used, List&lt;Integer&gt; curr, int sum, int index) {\n        if(sum == target) {\n            result.add(new ArrayList&lt;&gt;(curr));\n            return;\n        }\n\n        for(int i = index; i &lt; candidates.length; i++) {\n            // If duplicate is found, then include only if previous occurrence is chosen\n            if(i &gt; 0 &amp;&amp; candidates[i] == candidates[i - 1] &amp;&amp; !used[i - 1]) {\n                continue;\n            }\n            // Add current to combo\n            used[i] = true;\n            curr.add(candidates[i]);\n\n            // Generate combinations using curr\n            if(sum + candidates[i] &lt;= target)\n                getCombos(candidates, target, result, used, curr, sum + candidates[i], i + 1);\n\n            // Remove current for next combination\n            used[i] = false;\n            curr.remove(curr.size() - 1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","gradle"],"owner":{"account_id":9824397,"reputation":13,"user_id":7309030,"display_name":"Ed King"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689704190,"creation_date":1689704190,"question_id":76715574,"body_markdown":"I&#39;m stuck on the online [Spring example](https://spring.io/guides/gs/spring-boot/) with the following error message when I run gradlew bootRun:\r\n```\r\nCould not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.0\r\n```\r\nLooking online it seems like the error pops up when sourceCompatibility is not set to 17 in build.gradle, but here is the line in my configuration:\r\n```\r\nsourceCompatibility = &#39;17&#39;\r\n```\r\nI am not behind a firewall or anything that would cause the network connection to not work.\r\n\r\n","title":"Error with spring-boot-gradle-plugin when building a Spring project","body":"<p>I'm stuck on the online <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">Spring example</a> with the following error message when I run gradlew bootRun:</p>\n<pre><code>Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.0\n</code></pre>\n<p>Looking online it seems like the error pops up when sourceCompatibility is not set to 17 in build.gradle, but here is the line in my configuration:</p>\n<pre><code>sourceCompatibility = '17'\n</code></pre>\n<p>I am not behind a firewall or anything that would cause the network connection to not work.</p>\n"},{"tags":["java","selenium-webdriver","jenkins","virtual-machine"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1689719872,"post_id":76715551,"comment_id":135252762,"body_markdown":"a VM is always going to be slower...  usually installing a ton of memory on the machine helps.","body":"a VM is always going to be slower...  usually installing a ton of memory on the machine helps."},{"owner":{"account_id":24894125,"reputation":27,"user_id":18765607,"display_name":"Jano Marek"},"score":0,"creation_date":1689763928,"post_id":76715551,"comment_id":135258462,"body_markdown":"Yes i know but can it be that much slower ? like initialization running for 90 seconds seems too long to me but im just beginner in this topics.","body":"Yes i know but can it be that much slower ? like initialization running for 90 seconds seems too long to me but im just beginner in this topics."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1689785053,"post_id":76715551,"comment_id":135263836,"body_markdown":"it can be, yes... check the VM while it is running to see where the bottleneck might be.  You can adjust the VM settings to optimize it&#39;s performance.","body":"it can be, yes... check the VM while it is running to see where the bottleneck might be.  You can adjust the VM settings to optimize it&#39;s performance."},{"owner":{"account_id":24894125,"reputation":27,"user_id":18765607,"display_name":"Jano Marek"},"score":0,"creation_date":1689934090,"post_id":76715551,"comment_id":135286488,"body_markdown":"Okay it was something diferent there was problem with loading images which was causing timeouts  so simply  adding: options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;); fixed it not it is running really fast","body":"Okay it was something diferent there was problem with loading images which was causing timeouts  so simply  adding: options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;)&zwnj;&#8203;; fixed it not it is running really fast"}],"owner":{"account_id":24894125,"reputation":27,"user_id":18765607,"display_name":"Jano Marek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689704033,"creation_date":1689704033,"question_id":76715551,"body_markdown":"I have one issue. I have maven project - JAVA,Selenium,Cucumber,Junit.\r\nIm running tests with testrunner class and some oprtions in hooks on local enviroment test runs normally for few seconds - 25 +- but on VM is always problem when i tried to just open driver.get is it taking around 1min 30 sec just this one step can anyone know where can be problem ?? I honestly dont have any clue. Maybe perfomance of machine is not greatest.. but unfortunately i don&#39;t have access to that machine so im just executing it here via jenkins. If there is anything that can help or reduce the time i will be thankfull for any help.\r\nAnd one more aditional info im running it on jenkins just with command: mvn -s .m2/settings.xml clean install -Dcucumber.filter.tags=&quot;@test&quot; \r\n\r\nOptions:\r\n\r\n    &gt; @Before\r\n    &gt;     public WebDriver startBrowser(){\r\n    &gt;         loggerManager.info(&quot;Test is starting...&quot;);\r\n    &gt;         ChromeOptions options = new ChromeOptions();\r\n    &gt;         System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;src/main/resources/drivers/winChromedriver.exe&quot;);\r\n    &gt;         //System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/usr/bin/chromedriver&quot;);\r\n    &gt;         options.addArguments(&quot;--headless&quot;);\r\n    &gt;         options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    &gt;         options.addArguments(&quot;--ignore-ssl-errors=yes&quot;);\r\n    &gt;         options.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    &gt;         if (driver==null)\r\n    &gt;         driver = new ChromeDriver(options);\r\n    &gt;         driver.manage().window().maximize();\r\n    &gt;         return driver;\r\n    &gt;     }\r\n\r\nTestrunner.class:\r\n   \r\n\r\n    &gt; @RunWith(Cucumber.class) @CucumberOptions(\r\n    &gt;         features ={&quot;src/test/resources/features/0001loginPage.feature&quot;,&quot;src/test/resources/features/0002passwordChange.feature&quot;,\r\n    &gt;                 &quot;src/test/resources/features/0003sbWorkflow.feature&quot;,&quot;src/test/resources/features/0004mmbSuccess.feature&quot;,\r\n    &gt;                 &quot;src/test/resources/features/0005report.feature&quot;},\r\n    &gt; \r\n    &gt;         glue = &quot;stepDefinitions&quot;,\r\n    &gt;         monochrome = true,\r\n    &gt;         //tags =&quot;&quot;,\r\n    &gt;         plugin = {&quot;pretty&quot;, &quot;json:target/CucumberTestReports/CucumberTestReport.json&quot;,\r\n    &gt; &quot;html:target/CucumberTestReports/CucumberTestReport.html&quot;} ) public\r\n    &gt; class testRunner {\r\n    &gt; \r\n    &gt; }","title":"Performance of tests on Virtual machine VS local enviroment - REALLY SLOW ON VM","body":"<p>I have one issue. I have maven project - JAVA,Selenium,Cucumber,Junit.\nIm running tests with testrunner class and some oprtions in hooks on local enviroment test runs normally for few seconds - 25 +- but on VM is always problem when i tried to just open driver.get is it taking around 1min 30 sec just this one step can anyone know where can be problem ?? I honestly dont have any clue. Maybe perfomance of machine is not greatest.. but unfortunately i don't have access to that machine so im just executing it here via jenkins. If there is anything that can help or reduce the time i will be thankfull for any help.\nAnd one more aditional info im running it on jenkins just with command: mvn -s .m2/settings.xml clean install -Dcucumber.filter.tags=&quot;@test&quot;</p>\n<p>Options:</p>\n<pre><code>&gt; @Before\n&gt;     public WebDriver startBrowser(){\n&gt;         loggerManager.info(&quot;Test is starting...&quot;);\n&gt;         ChromeOptions options = new ChromeOptions();\n&gt;         System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;src/main/resources/drivers/winChromedriver.exe&quot;);\n&gt;         //System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/usr/bin/chromedriver&quot;);\n&gt;         options.addArguments(&quot;--headless&quot;);\n&gt;         options.addArguments(&quot;--remote-allow-origins=*&quot;);\n&gt;         options.addArguments(&quot;--ignore-ssl-errors=yes&quot;);\n&gt;         options.addArguments(&quot;--ignore-certificate-errors&quot;);\n&gt;         if (driver==null)\n&gt;         driver = new ChromeDriver(options);\n&gt;         driver.manage().window().maximize();\n&gt;         return driver;\n&gt;     }\n</code></pre>\n<p>Testrunner.class:</p>\n<pre><code>&gt; @RunWith(Cucumber.class) @CucumberOptions(\n&gt;         features ={&quot;src/test/resources/features/0001loginPage.feature&quot;,&quot;src/test/resources/features/0002passwordChange.feature&quot;,\n&gt;                 &quot;src/test/resources/features/0003sbWorkflow.feature&quot;,&quot;src/test/resources/features/0004mmbSuccess.feature&quot;,\n&gt;                 &quot;src/test/resources/features/0005report.feature&quot;},\n&gt; \n&gt;         glue = &quot;stepDefinitions&quot;,\n&gt;         monochrome = true,\n&gt;         //tags =&quot;&quot;,\n&gt;         plugin = {&quot;pretty&quot;, &quot;json:target/CucumberTestReports/CucumberTestReport.json&quot;,\n&gt; &quot;html:target/CucumberTestReports/CucumberTestReport.html&quot;} ) public\n&gt; class testRunner {\n&gt; \n&gt; }\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689703582,"creation_date":1689703582,"answer_id":76715517,"question_id":76715448,"body_markdown":"Not aware there are ways that can stub on a mock before `@InjectMocks` inject it to another object.\r\n\r\nBut you can make your life easier if you create `A` and inject its dependencies manually rather than using `@InjectMocks` : \r\n\r\n``` java\r\n@ExtendWith(MockitoExtension.class)\r\nclass ATest {\r\n\r\n    @Mock B b;\r\n    A a;\r\n\r\n    @BeforeEach \r\n    void setUp() {\r\n        when(b.getC()).thenReturn(&quot;&quot;);\r\n        a = new A(b);\r\n    }\r\n\r\n    @Test void test() {\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd the test codes become cleaner and easier to understand IMO.","title":"Stub methods of @Mock before injection by @InjectMocks","body":"<p>Not aware there are ways that can stub on a mock before <code>@InjectMocks</code> inject it to another object.</p>\n<p>But you can make your life easier if you create <code>A</code> and inject its dependencies manually rather than using <code>@InjectMocks</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass ATest {\n\n    @Mock B b;\n    A a;\n\n    @BeforeEach \n    void setUp() {\n        when(b.getC()).thenReturn(&quot;&quot;);\n        a = new A(b);\n    }\n\n    @Test void test() {\n\n    }\n}\n</code></pre>\n<p>And the test codes become cleaner and easier to understand IMO.</p>\n"}],"owner":{"account_id":1664196,"reputation":1353,"user_id":1531945,"accept_rate":50,"display_name":"Konstantin Pelepelin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689703582,"creation_date":1689702886,"question_id":76715448,"body_markdown":"Constructor of my class gets a property from an injected object and saves a transformed result into final var.\r\n\r\nFor testing, method of injected mock should be stubbed before constructor injection. However, it seems that `@InjectMocks` performs injections before `@BeforeEach` so methods of injected mock are not stubbed and return null and test fails to start.\r\n\r\nIs it possible to use `@Mock` and `@InjectMocks` in such cases?\r\n\r\n\r\n```java\r\nclass A {\r\n    String c;\r\n\r\n    A(B b) {\r\n        c = requireNonNull(b.getC())\r\n    }\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass ATest {\r\n    @Mock B b;\r\n    @InjectMocks A a;\r\n\r\n    @BeforeEach void setUp() {\r\n        when(b.getC()).thenReturn(&quot;&quot;);\r\n    }\r\n\r\n    @Test void test() {}\r\n}\r\n```\r\n\r\n","title":"Stub methods of @Mock before injection by @InjectMocks","body":"<p>Constructor of my class gets a property from an injected object and saves a transformed result into final var.</p>\n<p>For testing, method of injected mock should be stubbed before constructor injection. However, it seems that <code>@InjectMocks</code> performs injections before <code>@BeforeEach</code> so methods of injected mock are not stubbed and return null and test fails to start.</p>\n<p>Is it possible to use <code>@Mock</code> and <code>@InjectMocks</code> in such cases?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    String c;\n\n    A(B b) {\n        c = requireNonNull(b.getC())\n    }\n}\n\n@ExtendWith(MockitoExtension.class)\nclass ATest {\n    @Mock B b;\n    @InjectMocks A a;\n\n    @BeforeEach void setUp() {\n        when(b.getC()).thenReturn(&quot;&quot;);\n    }\n\n    @Test void test() {}\n}\n</code></pre>\n"},{"tags":["java","javafx","gluon"],"comments":[{"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1689719583,"post_id":76714613,"comment_id":135252730,"body_markdown":"Need more details. At this stage I really don&#39;t get what is your `View` made up of. Please provide a [Minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of what you are trying to accomplish.","body":"Need more details. At this stage I really don&#39;t get what is your <code>View</code> made up of. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal reproducible example</a> of what you are trying to accomplish."}],"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689703082,"creation_date":1689695753,"question_id":76714613,"body_markdown":"I need to have a Gluon Glisten ```View``` object as the root node of any given Scene, because I&#39;m using an ```AppManager``` and its ```addViewFactory``` method to control my application flow. I&#39;d like to use Scene Builder to lay out the components of my application within the ```View```. I&#39;m able to use the following snippet to load the FXML file and extract the ```View```:\r\n\r\n    FXMLLoader fxmlLoader = new FXMLLoader(FXMLExtensibleView.class.getResource(String.format(&quot;fxml/%s.fxml&quot;, fxmlPath)));\r\n    View view = fxmlLoader.getRoot();\r\n\r\nAfter doing this, I &#39;copy&#39; the regions of the source ```View``` to my ```extensibleView```:\r\n\r\n    setCenter(view.getCenter());\r\n    // repeated for top, left, right, and bottom.\r\n\r\n```FXMLExtensibleView``` is an abstract class extending ```View```, so I can use this approach to override JavaFX behaviour as needed, but I&#39;m not happy. This feels quite hacky, especially where it ends up copying over the children of the pure ```View``` object loaded from FXML. \r\n\r\nIsn&#39;t there rather an &#39;upcasting&#39; operation or the like that I could use to define a ```View``` in Scene Builder and then &#39;overwrite&#39; that ```View``` with an implementation of my own that has custom behaviour as desired?","title":"How can I use FXML to specify the position of an overridden Node in JavaFX?","body":"<p>I need to have a Gluon Glisten <code>View</code> object as the root node of any given Scene, because I'm using an <code>AppManager</code> and its <code>addViewFactory</code> method to control my application flow. I'd like to use Scene Builder to lay out the components of my application within the <code>View</code>. I'm able to use the following snippet to load the FXML file and extract the <code>View</code>:</p>\n<pre><code>FXMLLoader fxmlLoader = new FXMLLoader(FXMLExtensibleView.class.getResource(String.format(&quot;fxml/%s.fxml&quot;, fxmlPath)));\nView view = fxmlLoader.getRoot();\n</code></pre>\n<p>After doing this, I 'copy' the regions of the source <code>View</code> to my <code>extensibleView</code>:</p>\n<pre><code>setCenter(view.getCenter());\n// repeated for top, left, right, and bottom.\n</code></pre>\n<p><code>FXMLExtensibleView</code> is an abstract class extending <code>View</code>, so I can use this approach to override JavaFX behaviour as needed, but I'm not happy. This feels quite hacky, especially where it ends up copying over the children of the pure <code>View</code> object loaded from FXML.</p>\n<p>Isn't there rather an 'upcasting' operation or the like that I could use to define a <code>View</code> in Scene Builder and then 'overwrite' that <code>View</code> with an implementation of my own that has custom behaviour as desired?</p>\n"},{"tags":["java","javafx","windows-task-scheduler"],"answers":[{"tags":[],"owner":{"account_id":358380,"reputation":18171,"user_id":1388192,"accept_rate":100,"display_name":"Erwin Smout"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533804945,"creation_date":1533804945,"answer_id":51762756,"question_id":51761586,"body_markdown":"Scheduled tasks should run in the background and the most they should do on a UI is show a notification that &quot;hey I&#39;m active again&quot;.  Certainly not show user windows (which is done typically to hand over control ***to the user***) and then reclaim control from the user by automatically starting to click things on behalf of that user.  Refactor your code to facilitate the function to run ***indepedently*** of the UI and schedule ***that***.","title":"Schedule JavaFX Application in Windows","body":"<p>Scheduled tasks should run in the background and the most they should do on a UI is show a notification that \"hey I'm active again\".  Certainly not show user windows (which is done typically to hand over control <strong><em>to the user</em></strong>) and then reclaim control from the user by automatically starting to click things on behalf of that user.  Refactor your code to facilitate the function to run <strong><em>indepedently</em></strong> of the UI and schedule <strong><em>that</em></strong>.</p>\n"}],"owner":{"account_id":4998764,"reputation":71,"user_id":4018387,"accept_rate":25,"display_name":"Amjad Zahid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689702728,"creation_date":1533801177,"question_id":51761586,"body_markdown":"I&#39;ve GUI base JavaFX application. There are two buttons on it to perform specific functionality. One button used to send Inventory using HTTP Client to magento. I want to schedule this application on windows to run every 15mins. How to schedule it in way that when it runs, only &#39;Upload Inventory&#39; button is clicked so that Inventory would be sent. \r\n","title":"Schedule JavaFX Application in Windows","body":"<p>I've GUI base JavaFX application. There are two buttons on it to perform specific functionality. One button used to send Inventory using HTTP Client to magento. I want to schedule this application on windows to run every 15mins. How to schedule it in way that when it runs, only 'Upload Inventory' button is clicked so that Inventory would be sent. </p>\n"},{"tags":["java","image","mp4","apache-tika"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1514550662,"post_id":48021617,"comment_id":83014419,"body_markdown":"How many mp4 files did you test? May be the file extension is just wrong and it is really a Quicktime container? You should use a hex editor and check the file header.","body":"How many mp4 files did you test? May be the file extension is just wrong and it is really a Quicktime container? You should use a hex editor and check the file header."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1514565328,"post_id":48021617,"comment_id":83020618,"body_markdown":"Are you aware that all MP4 files are a subtype of QuickTime?","body":"Are you aware that all MP4 files are a subtype of QuickTime?"},{"owner":{"account_id":8335326,"reputation":75,"user_id":6262463,"display_name":"Jonas"},"score":0,"creation_date":1639688339,"post_id":48021617,"comment_id":124420031,"body_markdown":"Have you found a solution?","body":"Have you found a solution?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1642071913,"post_id":48021617,"comment_id":124977011,"body_markdown":"See https://issues.apache.org/jira/browse/TIKA-2935?focusedCommentId=16931467#comment-16931467 for details of the work that someone needs to do to solve this - needs a new Tika detector for the MP4 container type","body":"See <a href=\"https://issues.apache.org/jira/browse/TIKA-2935?focusedCommentId=16931467#comment-16931467\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/&hellip;</a> for details of the work that someone needs to do to solve this - needs a new Tika detector for the MP4 container type"}],"answers":[{"tags":[],"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634666453,"creation_date":1634666453,"answer_id":69635684,"question_id":48021617,"body_markdown":"This is expected because you are using tika detector functionality which for mp4 or for other QuickTime formats returns generic &#39;video/quicktime&#39;. If you need to get exact type like &#39;video/mp4&#39; you should additionally use tika parser, for example:\r\n\r\n\tif (mediaType.equals(MediaType.video(&quot;quicktime&quot;))) {\r\n\t\tParser parser = new AutoDetectParser();\r\n\t\tContentHandler handler = new BodyContentHandler();\r\n\t\tMetadata metadata = new Metadata();\r\n\t\tParseContext context = new ParseContext();\r\n\t\tparser.parse(inputStream, handler, metadata, context);\r\n\t}","title":"Why does Apache tika with an get .mp4 file respond with a content type of &quot;video/quicktime&quot;?","body":"<p>This is expected because you are using tika detector functionality which for mp4 or for other QuickTime formats returns generic 'video/quicktime'. If you need to get exact type like 'video/mp4' you should additionally use tika parser, for example:</p>\n<pre><code>if (mediaType.equals(MediaType.video(&quot;quicktime&quot;))) {\n    Parser parser = new AutoDetectParser();\n    ContentHandler handler = new BodyContentHandler();\n    Metadata metadata = new Metadata();\n    ParseContext context = new ParseContext();\n    parser.parse(inputStream, handler, metadata, context);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1040083,"reputation":195,"user_id":1046343,"display_name":"uhon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669045925,"creation_date":1649854632,"answer_id":71857875,"question_id":48021617,"body_markdown":"I had the same problem using Tikas DefaultDetector.\r\n\r\nThe solution, as indicated here: https://tika.apache.org/2.3.0/detection.html (under &quot;Container Aware Detection&quot;), is to use `TikaInputStream`, instead of a standard `InputStream`.\r\n\r\n```\r\ndetector.detect(TikaInputStream.get(inputStream), metadata);\r\n```\r\n\r\n* Don&#39;t forget to close the streams.\r\n* Also ensure that a `tika-parsers-*` jar is in the class path.\r\n","title":"Why does Apache tika with an get .mp4 file respond with a content type of &quot;video/quicktime&quot;?","body":"<p>I had the same problem using Tikas DefaultDetector.</p>\n<p>The solution, as indicated here: <a href=\"https://tika.apache.org/2.3.0/detection.html\" rel=\"nofollow noreferrer\">https://tika.apache.org/2.3.0/detection.html</a> (under &quot;Container Aware Detection&quot;), is to use <code>TikaInputStream</code>, instead of a standard <code>InputStream</code>.</p>\n<pre><code>detector.detect(TikaInputStream.get(inputStream), metadata);\n</code></pre>\n<ul>\n<li>Don't forget to close the streams.</li>\n<li>Also ensure that a <code>tika-parsers-*</code> jar is in the class path.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2531865,"reputation":91,"user_id":2200002,"display_name":"Dasch33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689702486,"creation_date":1689702486,"answer_id":76715406,"question_id":48021617,"body_markdown":"I had the same problem and was wondering, why I still got &quot;video/quicktime&quot; as Mimetype after using the answers above. So just to conclude everything:\r\n\r\n - use a Parser to detect Metadata (like in the first answer)\r\n - use TikaInputStream (like in the second answer), but **don&#39;t** try to reuse it\r\n - include a specific parser for your case in your dependencies (in this case it is the *org.apache.tika.parser.mp4.MP4Parser*\r\n\r\n        Tika tika = new Tika();\r\n        String detectedType;\r\n\r\n        try (\r\n          TikaInputStream parserInputStream = TikaInputStream.get(new ByteArrayInputStream(bytes));\r\n          TikaInputStream detectionInputStream = TikaInputStream.get(new ByteArrayInputStream(bytes));\r\n        ) {\r\n          // reading metadata from file, important for video type detection (quicktime, mp4, ...)\r\n          Parser parser = new AutoDetectParser();\r\n          BodyContentHandler handler = new BodyContentHandler();\r\n          Metadata metadata = new Metadata();\r\n          ParseContext context = new ParseContext();\r\n          parser.parse(parserInputStream, handler, metadata, context);\r\n          // read the type\r\n          // would like to reuse the stream from above (used by parser), but this can end in a wrong mimetype\r\n          // parserInputStream.reset();\r\n          detectedType = tika.detect(detectionInputStream, metadata);\r\n        } catch (Exception ex) {\r\n          detectedType = tika.detect(bytes);\r\n          log.warn(&quot;Could not read MimeType of file &#39;{}&#39; using Metadata, using fallback detection: &#39;{}&#39;&quot;, file.getOriginalFilename(), detectedType);\r\n        }\r\n\r\nDependencies, for example in Maven:\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-parser-audiovideo-module&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Why does Apache tika with an get .mp4 file respond with a content type of &quot;video/quicktime&quot;?","body":"<p>I had the same problem and was wondering, why I still got &quot;video/quicktime&quot; as Mimetype after using the answers above. So just to conclude everything:</p>\n<ul>\n<li><p>use a Parser to detect Metadata (like in the first answer)</p>\n</li>\n<li><p>use TikaInputStream (like in the second answer), but <strong>don't</strong> try to reuse it</p>\n</li>\n<li><p>include a specific parser for your case in your dependencies (in this case it is the <em>org.apache.tika.parser.mp4.MP4Parser</em></p>\n<pre><code> Tika tika = new Tika();\n String detectedType;\n\n try (\n   TikaInputStream parserInputStream = TikaInputStream.get(new ByteArrayInputStream(bytes));\n   TikaInputStream detectionInputStream = TikaInputStream.get(new ByteArrayInputStream(bytes));\n ) {\n   // reading metadata from file, important for video type detection (quicktime, mp4, ...)\n   Parser parser = new AutoDetectParser();\n   BodyContentHandler handler = new BodyContentHandler();\n   Metadata metadata = new Metadata();\n   ParseContext context = new ParseContext();\n   parser.parse(parserInputStream, handler, metadata, context);\n   // read the type\n   // would like to reuse the stream from above (used by parser), but this can end in a wrong mimetype\n   // parserInputStream.reset();\n   detectedType = tika.detect(detectionInputStream, metadata);\n } catch (Exception ex) {\n   detectedType = tika.detect(bytes);\n   log.warn(&quot;Could not read MimeType of file '{}' using Metadata, using fallback detection: '{}'&quot;, file.getOriginalFilename(), detectedType);\n }\n</code></pre>\n</li>\n</ul>\n<p>Dependencies, for example in Maven:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-parser-audiovideo-module&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11594657,"reputation":11,"user_id":8493743,"display_name":"Saber Nelson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689702486,"creation_date":1514545574,"question_id":48021617,"body_markdown":"I use this function to get files contentType ，when use the .jpg file receive &quot;image/jpg&quot;. use .mp4 receive &quot;video/quicktime&quot;\r\n\r\n\r\n    public static String detectMediaType(String fileName,byte[] data) {\r\n        ByteArrayInputStream inputStream = new ByteArrayInputStream(data);\r\n        AutoDetectParser parser = new AutoDetectParser();\r\n        Detector detector = parser.getDetector();\r\n        Metadata md = new Metadata();\r\n        md.add(Metadata.RESOURCE_NAME_KEY, fileName);\r\n        try{\r\n            MediaType mediaType = detector.detect(inputStream, md);\r\n            return mediaType.toString();\r\n        }catch (IOException ex){\r\n            throw new RuntimeException(&quot;Failed to detect mediaType for file: &quot; + fileName,ex);\r\n        }\r\n    }","title":"Why does Apache tika with an get .mp4 file respond with a content type of &quot;video/quicktime&quot;?","body":"<p>I use this function to get files contentType ，when use the .jpg file receive \"image/jpg\". use .mp4 receive \"video/quicktime\"</p>\n\n<pre><code>public static String detectMediaType(String fileName,byte[] data) {\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(data);\n    AutoDetectParser parser = new AutoDetectParser();\n    Detector detector = parser.getDetector();\n    Metadata md = new Metadata();\n    md.add(Metadata.RESOURCE_NAME_KEY, fileName);\n    try{\n        MediaType mediaType = detector.detect(inputStream, md);\n        return mediaType.toString();\n    }catch (IOException ex){\n        throw new RuntimeException(\"Failed to detect mediaType for file: \" + fileName,ex);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","directory"],"answers":[{"tags":[],"owner":{"account_id":3388916,"reputation":1080,"user_id":7537885,"display_name":"Hermann Steidel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689702334,"creation_date":1660832939,"answer_id":73404826,"question_id":73382437,"body_markdown":"My suggestion would be to:\r\n\r\n 1. Close IntelliJ\r\n 2. In your file explorer/finder, go to the directory your project is in now\r\n 3. Delete the `.idea`, `.mvn` and `target` folders\r\n 4. Open Idea again and just open the project from the folder again\r\n\r\nLikely Idea is just confused.\r\n\r\n**Update**: for Gradle, in step 3, look for `build` and `.gradle` folders.","title":"Getting Errors After Moving Springboot Application to a Different Directory","body":"<p>My suggestion would be to:</p>\n<ol>\n<li>Close IntelliJ</li>\n<li>In your file explorer/finder, go to the directory your project is in now</li>\n<li>Delete the <code>.idea</code>, <code>.mvn</code> and <code>target</code> folders</li>\n<li>Open Idea again and just open the project from the folder again</li>\n</ol>\n<p>Likely Idea is just confused.</p>\n<p><strong>Update</strong>: for Gradle, in step 3, look for <code>build</code> and <code>.gradle</code> folders.</p>\n"}],"owner":{"account_id":14954276,"reputation":3,"user_id":10796195,"display_name":"Areeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73404826,"answer_count":1,"score":0,"last_activity_date":1689702334,"creation_date":1660705468,"question_id":73382437,"body_markdown":"I have fully working Springboot application project in my Downloads directory but when i moved this project to a different directory for example : C:/User/Documents folder its still running but giving me visual errors. [it shows the classes are not imported even though they are and application is still running fine][1]\r\n\r\n\r\n  &lt;img&gt; https://i.stack.imgur.com/8Bmuy.png &lt;/img&gt;\r\n\r\nIm sure what&#39;s the reason is. \r\nPS: Im using git. as version control for this project not sure if it is because I initialized the git when this project was in Downloads folder. \r\n\r\nIf someone knows the solution please let me know. \r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nCrVQ.png","title":"Getting Errors After Moving Springboot Application to a Different Directory","body":"<p>I have fully working Springboot application project in my Downloads directory but when i moved this project to a different directory for example : C:/User/Documents folder its still running but giving me visual errors. <a href=\"https://i.stack.imgur.com/nCrVQ.png\" rel=\"nofollow noreferrer\">it shows the classes are not imported even though they are and application is still running fine</a></p>\n<p> <a href=\"https://i.stack.imgur.com/8Bmuy.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/8Bmuy.png</a> </p>\n<p>Im sure what's the reason is.\nPS: Im using git. as version control for this project not sure if it is because I initialized the git when this project was in Downloads folder.</p>\n<p>If someone knows the solution please let me know.\nThank you</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689701636,"creation_date":1689701636,"answer_id":76715315,"question_id":76715138,"body_markdown":"Why are you reading the line twice?\r\n```\r\nwhile((s=b.readLine())/* read first time */ != null) {\r\n    if(s.contains(&quot;(GmmiVariables)&quot;))\r\n       System.out.println(s);\r\n       s=b.readLine();/* read second time */\r\n}\r\n```\r\nremove the second `b.readLine()`, you miss *alternate lines* in your text file. `GmmiVariables` is on the **10th line**. Change your while loop to look something like this and check if that works-&gt;\r\n```\r\nwhile((s=b.readLine()) != null) {\r\n    if(s.contains(&quot;(GmmiVariables)&quot;))\r\n       System.out.println(s);\r\n}\r\n```","title":"Search string in a txt file with Java","body":"<p>Why are you reading the line twice?</p>\n<pre><code>while((s=b.readLine())/* read first time */ != null) {\n    if(s.contains(&quot;(GmmiVariables)&quot;))\n       System.out.println(s);\n       s=b.readLine();/* read second time */\n}\n</code></pre>\n<p>remove the second <code>b.readLine()</code>, you miss <em>alternate lines</em> in your text file. <code>GmmiVariables</code> is on the <strong>10th line</strong>. Change your while loop to look something like this and check if that works-&gt;</p>\n<pre><code>while((s=b.readLine()) != null) {\n    if(s.contains(&quot;(GmmiVariables)&quot;))\n       System.out.println(s);\n}\n</code></pre>\n"}],"owner":{"account_id":26593735,"reputation":35,"user_id":20216491,"display_name":"Roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76715315,"answer_count":1,"score":0,"last_activity_date":1689701636,"creation_date":1689700316,"question_id":76715138,"body_markdown":"I&#39;m trying to locate the beginning of a string in a txt file using a Java program which I will then have to delete from the txt file. The problem is that it doesn&#39;t recognize the string I want to search and delete.\r\n\r\nThis is the example of the txt file:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to locate the string `&quot;(GmmiVariables)&quot;` and subsequently delete it from the file. I wrote this code:\r\n\r\n     public static void main(String[] args) throws IOException {\r\n        BufferedReader b = new BufferedReader(new FileReader(&quot;QD48.txt&quot;));\r\n         String s=&quot;&quot;;\r\n    \r\n         while((s=b.readLine()) != null) {\r\n         if(s.contains(&quot;(GmmiVariables)&quot;))\r\n            System.out.println(s);\r\n            s=b.readLine();\r\n       }\r\n     }\r\n\r\nIt doesn&#39;t print anything to me even if the string is present in the file and I can&#39;t understand why. Will it be due to the fact that txt files have spaces between each string?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QxZoZ.png","title":"Search string in a txt file with Java","body":"<p>I'm trying to locate the beginning of a string in a txt file using a Java program which I will then have to delete from the txt file. The problem is that it doesn't recognize the string I want to search and delete.</p>\n<p>This is the example of the txt file:</p>\n<p><a href=\"https://i.stack.imgur.com/QxZoZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxZoZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to locate the string <code>&quot;(GmmiVariables)&quot;</code> and subsequently delete it from the file. I wrote this code:</p>\n<pre><code> public static void main(String[] args) throws IOException {\n    BufferedReader b = new BufferedReader(new FileReader(&quot;QD48.txt&quot;));\n     String s=&quot;&quot;;\n\n     while((s=b.readLine()) != null) {\n     if(s.contains(&quot;(GmmiVariables)&quot;))\n        System.out.println(s);\n        s=b.readLine();\n   }\n }\n</code></pre>\n<p>It doesn't print anything to me even if the string is present in the file and I can't understand why. Will it be due to the fact that txt files have spaces between each string?</p>\n"},{"tags":["java","android","firebase-test-lab"],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689701328,"creation_date":1689700845,"question_id":76715213,"body_markdown":"I have the following warning at Firebase Test Lab:\r\n\r\n    Your app uses 6 interfaces that are not part of the SDK and are not supported by Android P and later.\r\n    Landroid/os/Trace;-&gt;isTagEnabled(J)Z\r\n    Landroid /os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V\r\n    Landroid /os/Trace;-&gt;traceBegin(JLjava/lang/String;)V\r\n    Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V\r\n    Landroid/media/AudioManager;-&gt;getOutputLatency(I)I\r\n    Landroid/os/Trace;-&gt;traceEnd(J)V\r\n\r\nI would like to know how could I solve that and what is causing the error Maybe some dependency is using those methods? ","title":"Your app uses 6 interfaces that are not part of the SDK","body":"<p>I have the following warning at Firebase Test Lab:</p>\n<pre><code>Your app uses 6 interfaces that are not part of the SDK and are not supported by Android P and later.\nLandroid/os/Trace;-&gt;isTagEnabled(J)Z\nLandroid /os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V\nLandroid /os/Trace;-&gt;traceBegin(JLjava/lang/String;)V\nLandroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V\nLandroid/media/AudioManager;-&gt;getOutputLatency(I)I\nLandroid/os/Trace;-&gt;traceEnd(J)V\n</code></pre>\n<p>I would like to know how could I solve that and what is causing the error Maybe some dependency is using those methods?</p>\n"},{"tags":["java","spring-boot","openapi","gradle-plugin","openapi-generator"],"comments":[{"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"score":0,"creation_date":1644574438,"post_id":71078252,"comment_id":125647977,"body_markdown":"With the maven plugin 5.3.0 my generated classes are using the correct names that are specified in the yml file. Are you using the `name`tag in the yml?","body":"With the maven plugin 5.3.0 my generated classes are using the correct names that are specified in the yml file. Are you using the <code>name</code>tag in the yml?"},{"owner":{"account_id":16361165,"reputation":79,"user_id":11816732,"display_name":"Kevin"},"score":0,"creation_date":1644578073,"post_id":71078252,"comment_id":125649298,"body_markdown":"Yes I am using the name tag. Example:\n`\nparameters:\n        - name: X-Mandant\n          in: header\n          description: Mandant\n          required: true\n          schema:\n            type: integer\n            format: int64\n`\nAlso tried it by adding it to the components/parameters and using it with `$ref` but also didn&#39;t help.","body":"Yes I am using the name tag. Example: ` parameters:         - name: X-Mandant           in: header           description: Mandant           required: true           schema:             type: integer             format: int64 ` Also tried it by adding it to the components/parameters and using it with <code>$ref</code> but also didn&#39;t help."}],"answers":[{"tags":[],"owner":{"account_id":2433490,"reputation":147,"user_id":2123924,"display_name":"mikethe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644576294,"creation_date":1644576294,"answer_id":71078798,"question_id":71078252,"body_markdown":"Which version are you using?\r\n\r\nUsing openapi.generator ```5.3.0``` with gradle ```7.2``` the var names match the spec file\r\n\r\n```groovy\r\nid &quot;org.openapi.generator&quot; version &quot;5.3.0&quot;\r\n```\r\n\r\nAnd the api model.yaml\r\n```yaml\r\n  parameters:\r\n    - name: mandant\r\n    required: true\r\n\r\n```","title":"OpenAPI Generator generates generic Parameter names","body":"<p>Which version are you using?</p>\n<p>Using openapi.generator <code>5.3.0</code> with gradle <code>7.2</code> the var names match the spec file</p>\n<pre><code>id &quot;org.openapi.generator&quot; version &quot;5.3.0&quot;\n</code></pre>\n<p>And the api model.yaml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  parameters:\n    - name: mandant\n    required: true\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16361165,"reputation":79,"user_id":11816732,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689701136,"creation_date":1689701136,"answer_id":76715255,"question_id":71078252,"body_markdown":"Just set the `ensureUniqueParams` option to `true` in the plugins configOptions.\r\n\r\nExample `pom.xml`:\r\n```\r\n&lt;configOptions&gt;\r\n    &lt;ensureUniqueParams&gt;true&lt;/ensureUniqueParams&gt;\r\n    ... other Parameters\r\n&lt;/configOptions&gt;\r\n```","title":"OpenAPI Generator generates generic Parameter names","body":"<p>Just set the <code>ensureUniqueParams</code> option to <code>true</code> in the plugins configOptions.</p>\n<p>Example <code>pom.xml</code>:</p>\n<pre><code>&lt;configOptions&gt;\n    &lt;ensureUniqueParams&gt;true&lt;/ensureUniqueParams&gt;\n    ... other Parameters\n&lt;/configOptions&gt;\n</code></pre>\n"}],"owner":{"account_id":16361165,"reputation":79,"user_id":11816732,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76715255,"answer_count":2,"score":0,"last_activity_date":1689701136,"creation_date":1644573884,"question_id":71078252,"body_markdown":"I&#39;m currently experiencing a struggle with the OpenAPI Generator Plugin in Gradle.\r\nWhen I generate a new API Interface with the following settings in my build.gradle:\r\n\r\n```groovy\r\nopenApiGenerate {\r\n\tgeneratorName = &quot;spring&quot;\r\n\tinputSpec = &quot;$rootDir/src/main/resources/api.yaml&quot;.toString()\r\n\toutputDir = &quot;$buildDir&quot;.toString()\r\n\tapiPackage = &quot;&lt;package name&gt;&quot;\r\n\tconfigOptions = [\r\n\t\t\tinterfaceOnly     : &quot;true&quot;,\r\n\t\t\tlibrary           : &quot;spring-cloud&quot;,\r\n\t\t\tskipDefaultInterface: &quot;true&quot;,\r\n\t\t\tmodelPackage      : &quot;&lt;package name&gt;&quot;,\r\n\t\t\tapiPackage: &quot;&lt;package name&gt;&quot;,\r\n\t\t\tserializableModel: &quot;true&quot;,\r\n\t\t\tuseOptional: &quot;true&quot;,\r\n\t]\r\n}\r\n```\r\nThe output API Interface uses generic Parameter names. For example var1, var2 and so on.\r\nExample:\r\n```java\r\nResponseEntity&lt;Void&gt; deleteOrganisationById(@ApiParam(value = &quot;Mandant&quot;,required = true) @RequestHeader(value = &quot;MANDANT&quot;,required = true) BigDecimal var1, @ApiParam(value = &quot;ID of the organisation to be deleted&quot;,required = true) @PathVariable(&quot;id&quot;) String var2);\r\n```\r\n\r\n**How can I change this so it uses some kind of talking names for the parameters? E.g. mandant for the MANDANT parameter etc.?**","title":"OpenAPI Generator generates generic Parameter names","body":"<p>I'm currently experiencing a struggle with the OpenAPI Generator Plugin in Gradle.\nWhen I generate a new API Interface with the following settings in my build.gradle:</p>\n<pre><code>openApiGenerate {\n    generatorName = &quot;spring&quot;\n    inputSpec = &quot;$rootDir/src/main/resources/api.yaml&quot;.toString()\n    outputDir = &quot;$buildDir&quot;.toString()\n    apiPackage = &quot;&lt;package name&gt;&quot;\n    configOptions = [\n            interfaceOnly     : &quot;true&quot;,\n            library           : &quot;spring-cloud&quot;,\n            skipDefaultInterface: &quot;true&quot;,\n            modelPackage      : &quot;&lt;package name&gt;&quot;,\n            apiPackage: &quot;&lt;package name&gt;&quot;,\n            serializableModel: &quot;true&quot;,\n            useOptional: &quot;true&quot;,\n    ]\n}\n</code></pre>\n<p>The output API Interface uses generic Parameter names. For example var1, var2 and so on.\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;Void&gt; deleteOrganisationById(@ApiParam(value = &quot;Mandant&quot;,required = true) @RequestHeader(value = &quot;MANDANT&quot;,required = true) BigDecimal var1, @ApiParam(value = &quot;ID of the organisation to be deleted&quot;,required = true) @PathVariable(&quot;id&quot;) String var2);\n</code></pre>\n<p><strong>How can I change this so it uses some kind of talking names for the parameters? E.g. mandant for the MANDANT parameter etc.?</strong></p>\n"},{"tags":["java","spring","aop","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1561088262,"post_id":56689404,"comment_id":99957782,"body_markdown":"Why don&#39;t you copy the package names into your code snippets instead of manually writing down the source paths? Besides, according to those paths your components seems to be in package `com.domain.abc.service` but your component scan targets `com.domain.virtualize`. So is your config wrong or did you manipulate the file paths in the wrong way for reference here? Either way it is inconsistent and does not make much sense.","body":"Why don&#39;t you copy the package names into your code snippets instead of manually writing down the source paths? Besides, according to those paths your components seems to be in package <code>com.domain.abc.service</code> but your component scan targets <code>com.domain.virtualize</code>. So is your config wrong or did you manipulate the file paths in the wrong way for reference here? Either way it is inconsistent and does not make much sense."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1564309910,"post_id":56689404,"comment_id":100981403,"body_markdown":"Hello, anyone there? If you ask a question and someone tries to help you with hints and follow-up questions, maybe some feedback would be helpful.","body":"Hello, anyone there? If you ask a question and someone tries to help you with hints and follow-up questions, maybe some feedback would be helpful."}],"owner":{"account_id":7560806,"reputation":707,"user_id":5738485,"accept_rate":50,"display_name":"kang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689701057,"creation_date":1561044794,"question_id":56689404,"body_markdown":"This is in a Spring project where I have Aspect setup in a different module on which other modules are dependent. I am using custom annotations. It works fine on some methods but not on others. Could I get advice on what the problem is? \r\n\r\nThis Aspect class is coming from a module and other modules are dependent on this. \r\n\r\n    @Aspect\r\n    @Component\r\n    public class VirtualizeJsonAspect {\r\n    \t@Around(&quot;@annotation(virtualizeJson)&quot;)\r\n    \tpublic Object virtualizeJsonAround(ProceedingJoinPoint pjp, VirtualizeJson virtualizeJson) throws Throwable {\r\n    \t\tMethodSignature signature = (MethodSignature) pjp.getSignature();\r\n    \t\tMethod method = signature.getMethod();\r\n    \t\tClass returnType = signature.getReturnType();\r\n        // ....... This is working fine\r\n    }\r\n\r\nThe following 3 classes are in the same module, if relevant.\r\n\r\nIt works here when I try to use Aspect:\r\n\r\nPath for reference -&gt; com/domain/abc/service/helper/DataHelper.java\r\n\r\n    @Component\r\n    @PropertySource(&quot;classpath:something.properties&quot;)\r\n    public class DataHelper {\r\n    \r\n        @VirtualizeJson(serviceNm = &quot;ABC&quot;, virtualizedDataPath = &quot;/url/some.json&quot;)\r\n        public SomeResponse getOffers(SomeRequest someRequest){\r\n    \r\n            HttpEntity httpRequestEntity = createRequestEntity(request);\r\n    \r\n            ResponseEntity&lt;SomeResponse&gt; httpResponseEntity;\r\n            SomeResponse someResponse = null;\r\n            // ......... Aspect works here. I do not get in here. Instead I land in the Aspect class as expected\r\n        }\r\n    }\r\n\r\nConfig file\r\nPath for reference -&gt; com/domain/abc/service/config/AppConfig.java\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = {{&quot;com.domain.virtualize&quot;})\r\n    @EnableAspectJAutoProxy\r\n    public class AppConfig extends WebMvcConfigurationSupport{\r\n        // some bean setups not relevant to Aspect\r\n    }\r\n\r\nIt is not working here when I try to use the Aspect: \r\n\r\nPath for reference -&gt; com/domain/abc/service/rules/CheckSomething.java\r\n\r\n    @Component\r\n    public class CheckSomething extends SomeRule {\r\n    \r\n        @VirtualizeJson(serviceNm = &quot;ABC&quot;, virtualizedDataPath = &quot;/url/some.json&quot;)\r\n        public SomeResponse checkOffers(String someNumber){\r\n    \r\n            int a = 1;\r\n            return null;\r\n            // I land inside this method which is incorrect. I shouldh have landed at the Aspect class instead \r\n        }\r\n    }\r\n\r\nAnnotation \r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface VirtualizeJson {\r\n    \tpublic String serviceNm();\r\n    \tpublic String virtualizedDataPath();\r\n    }\r\n\r\n ","title":"Unable to use Aspect around over a method","body":"<p>This is in a Spring project where I have Aspect setup in a different module on which other modules are dependent. I am using custom annotations. It works fine on some methods but not on others. Could I get advice on what the problem is?</p>\n<p>This Aspect class is coming from a module and other modules are dependent on this.</p>\n<pre><code>@Aspect\n@Component\npublic class VirtualizeJsonAspect {\n    @Around(&quot;@annotation(virtualizeJson)&quot;)\n    public Object virtualizeJsonAround(ProceedingJoinPoint pjp, VirtualizeJson virtualizeJson) throws Throwable {\n        MethodSignature signature = (MethodSignature) pjp.getSignature();\n        Method method = signature.getMethod();\n        Class returnType = signature.getReturnType();\n    // ....... This is working fine\n}\n</code></pre>\n<p>The following 3 classes are in the same module, if relevant.</p>\n<p>It works here when I try to use Aspect:</p>\n<p>Path for reference -&gt; com/domain/abc/service/helper/DataHelper.java</p>\n<pre><code>@Component\n@PropertySource(&quot;classpath:something.properties&quot;)\npublic class DataHelper {\n\n    @VirtualizeJson(serviceNm = &quot;ABC&quot;, virtualizedDataPath = &quot;/url/some.json&quot;)\n    public SomeResponse getOffers(SomeRequest someRequest){\n\n        HttpEntity httpRequestEntity = createRequestEntity(request);\n\n        ResponseEntity&lt;SomeResponse&gt; httpResponseEntity;\n        SomeResponse someResponse = null;\n        // ......... Aspect works here. I do not get in here. Instead I land in the Aspect class as expected\n    }\n}\n</code></pre>\n<p>Config file\nPath for reference -&gt; com/domain/abc/service/config/AppConfig.java</p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = {{&quot;com.domain.virtualize&quot;})\n@EnableAspectJAutoProxy\npublic class AppConfig extends WebMvcConfigurationSupport{\n    // some bean setups not relevant to Aspect\n}\n</code></pre>\n<p>It is not working here when I try to use the Aspect:</p>\n<p>Path for reference -&gt; com/domain/abc/service/rules/CheckSomething.java</p>\n<pre><code>@Component\npublic class CheckSomething extends SomeRule {\n\n    @VirtualizeJson(serviceNm = &quot;ABC&quot;, virtualizedDataPath = &quot;/url/some.json&quot;)\n    public SomeResponse checkOffers(String someNumber){\n\n        int a = 1;\n        return null;\n        // I land inside this method which is incorrect. I shouldh have landed at the Aspect class instead \n    }\n}\n</code></pre>\n<p>Annotation</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface VirtualizeJson {\n    public String serviceNm();\n    public String virtualizedDataPath();\n}\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":8,"creation_date":1496055684,"post_id":44239869,"comment_id":75490760,"body_markdown":"`typealias StringArray = Array&lt;String&gt;` ;)","body":"<code>typealias StringArray = Array&lt;String&gt;</code> ;)"}],"answers":[{"tags":[],"owner":{"account_id":5641500,"reputation":86662,"user_id":4465208,"accept_rate":86,"display_name":"zsmb13"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1496052747,"creation_date":1496052747,"answer_id":44239925,"question_id":44239869,"body_markdown":"Those types are there so that you can create arrays of the primitives, and not the boxed types. Since String isn&#39;t a primitive in Java, you can just use `Array&lt;String&gt;` in Kotlin as the equivalent of a Java `String[]`.","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>Those types are there so that you can create arrays of the primitives, and not the boxed types. Since String isn't a primitive in Java, you can just use <code>Array&lt;String&gt;</code> in Kotlin as the equivalent of a Java <code>String[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":343582,"reputation":99129,"user_id":675383,"accept_rate":94,"display_name":"nhaarman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496052754,"creation_date":1496052754,"answer_id":44239929,"question_id":44239869,"body_markdown":"For `Strings` and other types, you just use `Array&lt;*&gt;`.\r\nThe reason `IntArray` and others exist is to prevent autoboxing.\r\n\r\nSo `int[]` relates to `IntArray` where `Integer[]` relates to `Array&lt;Int&gt;`.","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>For <code>Strings</code> and other types, you just use <code>Array&lt;*&gt;</code>.\nThe reason <code>IntArray</code> and others exist is to prevent autoboxing.</p>\n\n<p>So <code>int[]</code> relates to <code>IntArray</code> where <code>Integer[]</code> relates to <code>Array&lt;Int&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":2527365,"reputation":142481,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":2,"up_vote_count":318,"is_accepted":true,"score":316,"last_activity_date":1496078398,"creation_date":1496052782,"answer_id":44239940,"question_id":44239869,"body_markdown":"There&#39;s no special case for `String`, because `String` is an ordinary referential type on JVM, in contrast with [Java primitives (`int`, `double`, ...)][1] -- storing them in a reference [`Array&lt;T&gt;`][2] requires [boxing them into objects like `Integer` and `Double`][3]. The purpose of specialized arrays like [`IntArray`][4] in Kotlin is to store non-boxed primitives, getting rid of boxing and unboxing overhead (the same as Java `int[]` instead of `Integer[]`).\r\n\r\nYou can use `Array&lt;String&gt;` (and `Array&lt;String?&gt;` for nullables), which is equivalent to `String[]` in Java:\r\n\r\n    val stringsOrNulls = arrayOfNulls&lt;String&gt;(10) // returns Array&lt;String?&gt;\r\n    val someStrings = Array&lt;String&gt;(5) { &quot;it = $it&quot; }\r\n    val otherStrings = arrayOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)\r\n\r\nSee also: [*Arrays* in the language reference][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8790809/whats-the-difference-between-primitive-and-reference-types\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n  [4]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/\r\n  [5]: https://kotlinlang.org/docs/reference/basic-types.html#arrays","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>There's no special case for <code>String</code>, because <code>String</code> is an ordinary referential type on JVM, in contrast with <a href=\"https://stackoverflow.com/questions/8790809/whats-the-difference-between-primitive-and-reference-types\">Java primitives (<code>int</code>, <code>double</code>, ...)</a> -- storing them in a reference <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/\" rel=\"noreferrer\"><code>Array&lt;T&gt;</code></a> requires <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">boxing them into objects like <code>Integer</code> and <code>Double</code></a>. The purpose of specialized arrays like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/\" rel=\"noreferrer\"><code>IntArray</code></a> in Kotlin is to store non-boxed primitives, getting rid of boxing and unboxing overhead (the same as Java <code>int[]</code> instead of <code>Integer[]</code>).</p>\n\n<p>You can use <code>Array&lt;String&gt;</code> (and <code>Array&lt;String?&gt;</code> for nullables), which is equivalent to <code>String[]</code> in Java:</p>\n\n<pre><code>val stringsOrNulls = arrayOfNulls&lt;String&gt;(10) // returns Array&lt;String?&gt;\nval someStrings = Array&lt;String&gt;(5) { \"it = $it\" }\nval otherStrings = arrayOf(\"a\", \"b\", \"c\")\n</code></pre>\n\n<p>See also: <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"noreferrer\"><em>Arrays</em> in the language reference</a></p>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1547994010,"creation_date":1544130441,"answer_id":53659700,"question_id":44239869,"body_markdown":"use  *arrayOf*, *arrayOfNulls*, *emptyArray* \r\n\r\n    var colors_1: Array&lt;String&gt; = arrayOf(&quot;green&quot;, &quot;red&quot;, &quot;blue&quot;)\r\n    var colors_2: Array&lt;String?&gt; = arrayOfNulls(3)\r\n    var colors_3: Array&lt;String&gt; = emptyArray()","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>use  <em>arrayOf</em>, <em>arrayOfNulls</em>, <em>emptyArray</em> </p>\n\n<pre><code>var colors_1: Array&lt;String&gt; = arrayOf(\"green\", \"red\", \"blue\")\nvar colors_2: Array&lt;String?&gt; = arrayOfNulls(3)\nvar colors_3: Array&lt;String&gt; = emptyArray()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2645875,"reputation":2220,"user_id":2288580,"display_name":"user2288580"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549217401,"creation_date":1544821796,"answer_id":53786906,"question_id":44239869,"body_markdown":"This example works perfectly in Android\r\n\r\nIn kotlin you can use a lambda expression for this. The Kotlin Array Constructor definition is:\r\n\r\n    Array(size: Int, init: (Int) -&gt; T)\r\n\r\nWhich evaluates to:\r\n\r\n    skillsSummaryDetailLinesArray = Array(linesLen) {\r\n    \t\ti: Int -&gt; skillsSummaryDetailLines!!.getString(i)\r\n    }\r\n\r\nOr:\r\n\r\n    skillsSummaryDetailLinesArray = Array&lt;String&gt;(linesLen) {\r\n    \t\ti: Int -&gt; skillsSummaryDetailLines!!.getString(i)\r\n    }\r\n\r\nIn this example the field definition was:\r\n\r\n    private var skillsSummaryDetailLinesArray: Array&lt;String&gt;? = null\r\n\r\nHope this helps\r\n\r\n","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>This example works perfectly in Android</p>\n\n<p>In kotlin you can use a lambda expression for this. The Kotlin Array Constructor definition is:</p>\n\n<pre><code>Array(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>Which evaluates to:</p>\n\n<pre><code>skillsSummaryDetailLinesArray = Array(linesLen) {\n        i: Int -&gt; skillsSummaryDetailLines!!.getString(i)\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>skillsSummaryDetailLinesArray = Array&lt;String&gt;(linesLen) {\n        i: Int -&gt; skillsSummaryDetailLines!!.getString(i)\n}\n</code></pre>\n\n<p>In this example the field definition was:</p>\n\n<pre><code>private var skillsSummaryDetailLinesArray: Array&lt;String&gt;? = null\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":15086085,"reputation":11,"user_id":10887265,"display_name":"Jo&#227;o Arthur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555779540,"creation_date":1555779540,"answer_id":55775769,"question_id":44239869,"body_markdown":"you can use too:\r\n\r\n    val frases = arrayOf(&quot;texto01&quot;,&quot;texto02 &quot;,&quot;anotherText&quot;,&quot;and &quot;)\r\n\r\nfor example.","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>you can use too:</p>\n\n<pre><code>val frases = arrayOf(\"texto01\",\"texto02 \",\"anotherText\",\"and \")\n</code></pre>\n\n<p>for example.</p>\n"},{"tags":[],"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1689700588,"creation_date":1555948309,"answer_id":55797139,"question_id":44239869,"body_markdown":"### Kotlin&#39;s array of Strings\r\n\r\nTo create an empty array of Strings in Kotlin, you should use one of the following six approaches:\r\n\r\n---\r\n\r\n    // 01\r\n    var empty = arrayOf&lt;String&gt;()\r\n\r\n---\r\n\r\n    // 02\r\n    var empty = arrayOf(&quot;&quot;,&quot;&quot;,&quot;&quot;)\r\n\r\n--- \r\n\r\n    // 03\r\n    var empty = Array&lt;String?&gt;(3) { null }\r\n\r\n---\r\n\r\n    // 04\r\n    var empty = arrayOfNulls&lt;String&gt;(3)\r\n\r\n---\r\n\r\n    // 05\r\n    var empty = Array&lt;String&gt;(3) { &quot;it = $it&quot; }\r\n\r\n---\r\n\r\n    // 06\r\n    var empty = Array&lt;String&gt;(0, { _ -&gt; &quot;&quot; })\r\n\r\n---\r\n\r\nHowever, if you need an array of characters, use the following method:\r\n\r\n``` lang-kotlin\r\nvar charArr = charArrayOf(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)\r\n```","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<h3>Kotlin's array of Strings</h3>\n<p>To create an empty array of Strings in Kotlin, you should use one of the following six approaches:</p>\n<hr />\n<pre><code>// 01\nvar empty = arrayOf&lt;String&gt;()\n</code></pre>\n<hr />\n<pre><code>// 02\nvar empty = arrayOf(&quot;&quot;,&quot;&quot;,&quot;&quot;)\n</code></pre>\n<hr />\n<pre><code>// 03\nvar empty = Array&lt;String?&gt;(3) { null }\n</code></pre>\n<hr />\n<pre><code>// 04\nvar empty = arrayOfNulls&lt;String&gt;(3)\n</code></pre>\n<hr />\n<pre><code>// 05\nvar empty = Array&lt;String&gt;(3) { &quot;it = $it&quot; }\n</code></pre>\n<hr />\n<pre><code>// 06\nvar empty = Array&lt;String&gt;(0, { _ -&gt; &quot;&quot; })\n</code></pre>\n<hr />\n<p>However, if you need an array of characters, use the following method:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var charArr = charArrayOf('a','b','c')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15705351,"reputation":521,"user_id":11332245,"display_name":"Himanshu Garg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575675873,"creation_date":1575675193,"answer_id":59221635,"question_id":44239869,"body_markdown":"Some of the common ways to create a String array are\r\n\r\n1. **var arr = Array(5){&quot;&quot;}**\r\n\r\nThis will create an array of 5 strings with initial values to be empty string.\r\n\r\n\r\n2. **var arr = arrayOfNulls`&lt;String?&gt;`(5)**\r\n\r\nThis will create an array of size 5 with initial values to be null. You can use String data to modify the array.\r\n\r\n\r\n3. **var arr = arrayOf(&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;)**\r\n\r\nWhen you know the contents of array already then you can initialise the array directly.\r\n\r\n\r\n4. There is an easy way for creating an **multi dimensional array** of strings as well.\r\n\r\n   **var matrix = Array(5){Array(6) {&quot;&quot;}}**\r\n\r\n   This is how you can create a matrix with 5 rows and 6 columns with initial values of \r\n   empty string. \r\n","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>Some of the common ways to create a String array are</p>\n\n<ol>\n<li><strong>var arr = Array(5){\"\"}</strong></li>\n</ol>\n\n<p>This will create an array of 5 strings with initial values to be empty string.</p>\n\n<ol start=\"2\">\n<li><strong>var arr = arrayOfNulls<code>&lt;String?&gt;</code>(5)</strong></li>\n</ol>\n\n<p>This will create an array of size 5 with initial values to be null. You can use String data to modify the array.</p>\n\n<ol start=\"3\">\n<li><strong>var arr = arrayOf(\"zero\", \"one\", \"two\", \"three\")</strong></li>\n</ol>\n\n<p>When you know the contents of array already then you can initialise the array directly.</p>\n\n<ol start=\"4\">\n<li><p>There is an easy way for creating an <strong>multi dimensional array</strong> of strings as well.</p>\n\n<p><strong>var matrix = Array(5){Array(6) {\"\"}}</strong></p>\n\n<p>This is how you can create a matrix with 5 rows and 6 columns with initial values of \nempty string. </p></li>\n</ol>\n"}],"owner":{"account_id":1680463,"reputation":14123,"user_id":1544790,"accept_rate":92,"display_name":"chancyWu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210788,"favorite_count":0,"down_vote_count":1,"up_vote_count":244,"accepted_answer_id":44239940,"answer_count":8,"score":243,"last_activity_date":1689700588,"creation_date":1496052612,"question_id":44239869,"body_markdown":"I see that Kotlin has `ByteArray, ShortArray, IntArray, CharArray, DoubleArray, FloatArray`, which are equivalent to `byte[], short[], int[],char[], double[], float[]` in Java.\r\n\r\nNow I&#39;m wondering, is there any `StringArray` equivalent to Java&#39;s `String[]`?\r\n","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>I see that Kotlin has <code>ByteArray, ShortArray, IntArray, CharArray, DoubleArray, FloatArray</code>, which are equivalent to <code>byte[], short[], int[],char[], double[], float[]</code> in Java.</p>\n\n<p>Now I'm wondering, is there any <code>StringArray</code> equivalent to Java's <code>String[]</code>?</p>\n"},{"tags":["java","maven","automation","bdd","test-runner"],"owner":{"account_id":13744424,"reputation":13,"user_id":9918582,"display_name":"Immy110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689699509,"creation_date":1689699509,"question_id":76715051,"body_markdown":"I am trying to create a BDD testing Framework and seem to be getting the following error upon running a Testcase from my StepDefinition File.\r\n\r\nI have tried adding aopaliance.jar as mentioned on another similar thread, but this didn&#39;t work for me. Following is the error:\r\n\r\n```\r\njava.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=setReportConfiguration], {ExactMatcher:fDisplayName=setReportConfiguration(com.web.automation.runner.TestRunner)], {LeadingIdentifierMatcher:fClassName=com.web.automation.runner.TestRunner,fLeadingIdentifier=setReportConfiguration]] from org.junit.internal.requests.ClassRequest@61a485d2\r\n\tat org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:40)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createFilteredTest(JUnit4TestLoader.java:83)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:74)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:49)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:513)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\n\r\n\r\n[![Step Definition File][1]][1]\r\n\r\n[![Test Runner file][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZLfBo.jpg\r\n  [2]: https://i.stack.imgur.com/xnb0B.jpg\r\n  [3]: https://i.stack.imgur.com/WLoLq.jpg","title":"java.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=setReportConfiguration],","body":"<p>I am trying to create a BDD testing Framework and seem to be getting the following error upon running a Testcase from my StepDefinition File.</p>\n<p>I have tried adding aopaliance.jar as mentioned on another similar thread, but this didn't work for me. Following is the error:</p>\n<pre><code>java.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=setReportConfiguration], {ExactMatcher:fDisplayName=setReportConfiguration(com.web.automation.runner.TestRunner)], {LeadingIdentifierMatcher:fClassName=com.web.automation.runner.TestRunner,fLeadingIdentifier=setReportConfiguration]] from org.junit.internal.requests.ClassRequest@61a485d2\n    at org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:40)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createFilteredTest(JUnit4TestLoader.java:83)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:74)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:49)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:513)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZLfBo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZLfBo.jpg\" alt=\"Step Definition File\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WLoLq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLoLq.jpg\" alt=\"Test Runner file\" /></a></p>\n"},{"tags":["java","spring-boot","kotlin","maven","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1689454759,"post_id":76695578,"comment_id":135216809,"body_markdown":"Are you using the same server.contextPath for production and local?","body":"Are you using the same server.contextPath for production and local?"},{"owner":{"account_id":15025023,"reputation":16,"user_id":10845168,"display_name":"Shivam Kumar"},"score":0,"creation_date":1689455049,"post_id":76695578,"comment_id":135216848,"body_markdown":"No, both are different.","body":"No, both are different."},{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1689455116,"post_id":76695578,"comment_id":135216857,"body_markdown":"What is it for both of them?","body":"What is it for both of them?"},{"owner":{"account_id":15025023,"reputation":16,"user_id":10845168,"display_name":"Shivam Kumar"},"score":0,"creation_date":1689455377,"post_id":76695578,"comment_id":135216882,"body_markdown":"local : localhost:8080/test/hi     - (where test is controller level route name and hi is function level)\n\nproduction : server.ip:port/context-root/test/hi    - ( context-root is runtime context root name and test and hi as above)","body":"local : localhost:8080/test/hi     - (where test is controller level route name and hi is function level)  production : server.ip:port/context-root/test/hi    - ( context-root is runtime context root name and test and hi as above)"}],"answers":[{"tags":[],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689699339,"creation_date":1689699339,"answer_id":76715037,"question_id":76695578,"body_markdown":"It sounds like the problem is not with your code or your application, but with your production environment. There are many possible reasons why you are getting a 404 error, such as:\r\n\r\n* The network or infrastructure of your service is not set up properly.\r\n* You may need to use a VPN to access your service.\r\n* The wrong port is being used.\r\n* The application is not running in the correct mode.\r\n* The environment variables that are required by your application are not set correctly. (I assume that you are sure that your application running correctly)\r\n\r\nTo troubleshoot this issue, I recommend checking the following:\r\n\r\n* Make sure that the network or infrastructure of your service is set up properly.\r\n* Try using a VPN to access your service, if it&#39;s required.\r\n* Check the port that you are using.\r\n* Check the mode that your application is running in.\r\n* Check the environment variables that are required by your application.\r\n\r\nIf you have checked all of these things and you are still getting a 404 error, then please post more details about your deployment and running environment. \r\n","title":"Spring Boot (3.1.1) Kotlin Application Returns 404 Not Found in Production","body":"<p>It sounds like the problem is not with your code or your application, but with your production environment. There are many possible reasons why you are getting a 404 error, such as:</p>\n<ul>\n<li>The network or infrastructure of your service is not set up properly.</li>\n<li>You may need to use a VPN to access your service.</li>\n<li>The wrong port is being used.</li>\n<li>The application is not running in the correct mode.</li>\n<li>The environment variables that are required by your application are not set correctly. (I assume that you are sure that your application running correctly)</li>\n</ul>\n<p>To troubleshoot this issue, I recommend checking the following:</p>\n<ul>\n<li>Make sure that the network or infrastructure of your service is set up properly.</li>\n<li>Try using a VPN to access your service, if it's required.</li>\n<li>Check the port that you are using.</li>\n<li>Check the mode that your application is running in.</li>\n<li>Check the environment variables that are required by your application.</li>\n</ul>\n<p>If you have checked all of these things and you are still getting a 404 error, then please post more details about your deployment and running environment.</p>\n"}],"owner":{"account_id":15025023,"reputation":16,"user_id":10845168,"display_name":"Shivam Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689699339,"creation_date":1689451296,"question_id":76695578,"body_markdown":"I am using Kotlin in spring boot (version 3.1.1) with maven build system. Application is throwing 404 when i am trying to access my resource(rest api) in production environment but its working fine on localhost with my machine. \r\n\r\n&lt;br&gt; \r\n\r\nLocalhost Url : `localhost:8080/test/hi`\r\n\r\nProduction Url : `server.ip:port/runtime-name/test/hi`\r\n\r\n\r\nApplication Web server : `Wildfly`\r\n\r\n\r\n\r\nCommand for building war file : `mvn package`\r\n\r\n\r\n&lt;br&gt; \r\n\r\nWhat could be possible issue for such problem ?\r\n\r\n&lt;br&gt;\r\n\r\n\r\n*I have tried with java and maven/gradle build system - **Working fine on machine and production***\r\n\r\n&lt;br&gt;\r\n\r\n**It should work after deployment on wildfly/tomcat webserver with `kotlin` and either of `maven`,`gradle` or `gradle-kotlin`.**\r\n\r\n\r\nQuick help is appreciated.\r\n\r\nThanks in advance!!\r\n\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n**Code :**\r\n\r\n\r\n```\r\npackage com.example.demo2\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.boot.runApplication\r\n\r\n@SpringBootApplication\r\nclass Demo2Application\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n\trunApplication&lt;Demo2Application&gt;(*args)\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.example.demo2\r\n\r\nimport org.springframework.http.HttpStatus\r\nimport org.springframework.http.ResponseEntity\r\nimport org.springframework.web.bind.annotation.GetMapping\r\nimport org.springframework.web.bind.annotation.RequestMapping\r\nimport org.springframework.web.bind.annotation.RestController\r\n\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\nclass TestController {\r\n\r\n    @GetMapping(&quot;/hi&quot;)\r\n    fun hello(): ResponseEntity&lt;String&gt; {\r\n        return ResponseEntity&lt;String&gt;(&quot;Hi There&quot;,HttpStatus.ACCEPTED)\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;demo2&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;kotlin.version&gt;1.8.22&lt;/kotlin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n\t\t&lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;args&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/args&gt;\r\n\t\t\t\t\t&lt;compilerPlugins&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;spring&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;/compilerPlugins&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n ","title":"Spring Boot (3.1.1) Kotlin Application Returns 404 Not Found in Production","body":"<p>I am using Kotlin in spring boot (version 3.1.1) with maven build system. Application is throwing 404 when i am trying to access my resource(rest api) in production environment but its working fine on localhost with my machine.</p>\n<br> \n<p>Localhost Url : <code>localhost:8080/test/hi</code></p>\n<p>Production Url : <code>server.ip:port/runtime-name/test/hi</code></p>\n<p>Application Web server : <code>Wildfly</code></p>\n<p>Command for building war file : <code>mvn package</code></p>\n<br> \n<p>What could be possible issue for such problem ?</p>\n<br>\n<p><em>I have tried with java and maven/gradle build system - <strong>Working fine on machine and production</strong></em></p>\n<br>\n<p><strong>It should work after deployment on wildfly/tomcat webserver with <code>kotlin</code> and either of <code>maven</code>,<code>gradle</code> or <code>gradle-kotlin</code>.</strong></p>\n<p>Quick help is appreciated.</p>\n<p>Thanks in advance!!</p>\n<br>\n<br>\n<p><strong>Code :</strong></p>\n<pre><code>package com.example.demo2\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\n\n@SpringBootApplication\nclass Demo2Application\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;Demo2Application&gt;(*args)\n}\n\n</code></pre>\n<pre><code>package com.example.demo2\n\nimport org.springframework.http.HttpStatus\nimport org.springframework.http.ResponseEntity\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RestController\n\n@RestController\n@RequestMapping(&quot;/test&quot;)\nclass TestController {\n\n    @GetMapping(&quot;/hi&quot;)\n    fun hello(): ResponseEntity&lt;String&gt; {\n        return ResponseEntity&lt;String&gt;(&quot;Hi There&quot;,HttpStatus.ACCEPTED)\n\n    }\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.8.22&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9691,"page":301,"page_size":100}
