{"items":[{"tags":["java","gradle","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638108528,"creation_date":1638108528,"answer_id":70144173,"question_id":70144172,"body_markdown":"I don&#39;t think I understand the reason, but after trying different things, only downgrading the version from 6.6 to 6.4 helped. Now dependencies look like that : \r\n\r\n\truntimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n\t...\r\n\t+--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.4\r\n\t|    +--- com.fasterxml.jackson.core:jackson-annotations:2.10.4 -&gt; 2.11.0\r\n\t|    +--- com.fasterxml.jackson.core:jackson-core:2.10.4 -&gt; 2.11.0\r\n\t|    \\--- com.fasterxml.jackson.core:jackson-databind:2.10.4 -&gt; 2.11.0\r\n\t|         +--- com.fasterxml.jackson.core:jackson-annotations:2.11.0\r\n\t|         \\--- com.fasterxml.jackson.core:jackson-core:2.11.0\r\n\t...\r\n\t+--- net.logstash.logback:logstash-logback-encoder:6.4\r\n\t|    \\--- com.fasterxml.jackson.core:jackson-databind:2.11.0 (*)\r\n\t\t \r\nI don&#39;t understand why in that case jackson-datatype-jsr310:2.10.4 doesn&#39;t get upgraded automatically by 2.11.0, while it was upgraded to 2.12.0 previously. \r\n\r\nThis is OK for now, but a bit scarry for the future : next time somebody tries to upgrade versions on this application, it&#39;s likely that there will be some issues.. \r\n\r\nWhat seems to also work is if I exclude the transitive dependency - then, I can even use latest logback-encoder version : \r\n\r\n    runtimeOnly (&#39;net.logstash.logback:logstash-logback-encoder:7.0.1&#39;) {\r\n        exclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-databind&#39;\r\n    }\r\n\r\n\r\nSo if anyone understands what is going on and how to make it more reliable for the future, don&#39;t hesitate to make suggestions !\r\n\r\n\r\n","title":"gradle runtime dependency makes test fail because of jackson dependencies issue","body":"<p>I don't think I understand the reason, but after trying different things, only downgrading the version from 6.6 to 6.4 helped. Now dependencies look like that :</p>\n<pre><code>runtimeClasspath - Runtime classpath of source set 'main'.\n...\n+--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.4\n|    +--- com.fasterxml.jackson.core:jackson-annotations:2.10.4 -&gt; 2.11.0\n|    +--- com.fasterxml.jackson.core:jackson-core:2.10.4 -&gt; 2.11.0\n|    \\--- com.fasterxml.jackson.core:jackson-databind:2.10.4 -&gt; 2.11.0\n|         +--- com.fasterxml.jackson.core:jackson-annotations:2.11.0\n|         \\--- com.fasterxml.jackson.core:jackson-core:2.11.0\n...\n+--- net.logstash.logback:logstash-logback-encoder:6.4\n|    \\--- com.fasterxml.jackson.core:jackson-databind:2.11.0 (*)\n     \n</code></pre>\n<p>I don't understand why in that case jackson-datatype-jsr310:2.10.4 doesn't get upgraded automatically by 2.11.0, while it was upgraded to 2.12.0 previously.</p>\n<p>This is OK for now, but a bit scarry for the future : next time somebody tries to upgrade versions on this application, it's likely that there will be some issues..</p>\n<p>What seems to also work is if I exclude the transitive dependency - then, I can even use latest logback-encoder version :</p>\n<pre><code>runtimeOnly ('net.logstash.logback:logstash-logback-encoder:7.0.1') {\n    exclude group: 'com.fasterxml.jackson.core', module: 'jackson-databind'\n}\n</code></pre>\n<p>So if anyone understands what is going on and how to make it more reliable for the future, don't hesitate to make suggestions !</p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70144173,"answer_count":1,"score":1,"last_activity_date":1638108528,"creation_date":1638108528,"question_id":70144172,"body_markdown":"On a JEE project running on Wildfly 15, I am trying to configure the logs to be in json format. Replicating what I have done dozens of times for some more recent Spring Boot projects, I am adding `net.logstash.logback:logstash-logback-encoder:6.6` as a `runtimeOnly` dependency, as I plan to have a logback.xml config file.\r\n\r\nWhen building my application and running the test, adding this dependency makes some tests fail : some controllers are not able to serialize LocalDateTime anymore. \r\n\r\n\r\n\tCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: de.gefa.tankkarte.common.port.adapter.restapi.RestServiceErrorResponseEntity[&quot;timestamp&quot;])\r\n\t\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n\t\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276)\r\n\t\tat com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)\r\n\t\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728)\r\n\t\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770)\r\n\t\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)\r\n\t\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\r\n\t\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\r\n\t\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514)\r\n\t\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1006)\r\n\t\tat org.jboss.resteasy.plugins.providers.jackson.ResteasyJackson2Provider.writeTo(ResteasyJackson2Provider.java:328)\r\n\t\tat org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.writeTo(AbstractWriterInterceptorContext.java:137) \r\n\r\n\r\nI don&#39;t understand why a dependency supposed to be used for logging interferes with the way the REST response gets built... and jackson-datatype-jsr310 **IS** part of the classpath. When I run the dependencies task, I get this : \r\n\r\n\r\n\truntimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n\t...\r\n\t+--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.4 -&gt; 2.12.0\r\n\t|    +--- com.fasterxml.jackson.core:jackson-annotations:2.12.0\r\n\t|    |    \\--- com.fasterxml.jackson:jackson-bom:2.12.0\r\n\t|    |         +--- com.fasterxml.jackson.core:jackson-annotations:2.12.0 (c)\r\n\t|    |         +--- com.fasterxml.jackson.core:jackson-core:2.12.0 (c)\r\n\t|    |         +--- com.fasterxml.jackson.core:jackson-databind:2.12.0 (c)\r\n\t|    |         \\--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.12.0 (c)\r\n\t|    +--- com.fasterxml.jackson.core:jackson-core:2.12.0\r\n\t|    |    \\--- com.fasterxml.jackson:jackson-bom:2.12.0 (*)\r\n\t|    +--- com.fasterxml.jackson.core:jackson-databind:2.12.0\r\n\t|    |    +--- com.fasterxml.jackson.core:jackson-annotations:2.12.0 (*)\r\n\t|    |    +--- com.fasterxml.jackson.core:jackson-core:2.12.0 (*)\r\n\t|    |    \\--- com.fasterxml.jackson:jackson-bom:2.12.0 (*)\r\n\t|    \\--- com.fasterxml.jackson:jackson-bom:2.12.0 (*)\r\n\t...\r\n\t+--- net.logstash.logback:logstash-logback-encoder:6.6\r\n\t|    \\--- com.fasterxml.jackson.core:jackson-databind:2.12.0 (*)\r\n\r\n\r\nI really don&#39;t understand how and why this conflicts...\r\n   \r\n\r\n","title":"gradle runtime dependency makes test fail because of jackson dependencies issue","body":"<p>On a JEE project running on Wildfly 15, I am trying to configure the logs to be in json format. Replicating what I have done dozens of times for some more recent Spring Boot projects, I am adding <code>net.logstash.logback:logstash-logback-encoder:6.6</code> as a <code>runtimeOnly</code> dependency, as I plan to have a logback.xml config file.</p>\n<p>When building my application and running the test, adding this dependency makes some tests fail : some controllers are not able to serialize LocalDateTime anymore.</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: de.gefa.tankkarte.common.port.adapter.restapi.RestServiceErrorResponseEntity[&quot;timestamp&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276)\n    at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514)\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1006)\n    at org.jboss.resteasy.plugins.providers.jackson.ResteasyJackson2Provider.writeTo(ResteasyJackson2Provider.java:328)\n    at org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.writeTo(AbstractWriterInterceptorContext.java:137) \n</code></pre>\n<p>I don't understand why a dependency supposed to be used for logging interferes with the way the REST response gets built... and jackson-datatype-jsr310 <strong>IS</strong> part of the classpath. When I run the dependencies task, I get this :</p>\n<pre><code>runtimeClasspath - Runtime classpath of source set 'main'.\n...\n+--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.4 -&gt; 2.12.0\n|    +--- com.fasterxml.jackson.core:jackson-annotations:2.12.0\n|    |    \\--- com.fasterxml.jackson:jackson-bom:2.12.0\n|    |         +--- com.fasterxml.jackson.core:jackson-annotations:2.12.0 (c)\n|    |         +--- com.fasterxml.jackson.core:jackson-core:2.12.0 (c)\n|    |         +--- com.fasterxml.jackson.core:jackson-databind:2.12.0 (c)\n|    |         \\--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.12.0 (c)\n|    +--- com.fasterxml.jackson.core:jackson-core:2.12.0\n|    |    \\--- com.fasterxml.jackson:jackson-bom:2.12.0 (*)\n|    +--- com.fasterxml.jackson.core:jackson-databind:2.12.0\n|    |    +--- com.fasterxml.jackson.core:jackson-annotations:2.12.0 (*)\n|    |    +--- com.fasterxml.jackson.core:jackson-core:2.12.0 (*)\n|    |    \\--- com.fasterxml.jackson:jackson-bom:2.12.0 (*)\n|    \\--- com.fasterxml.jackson:jackson-bom:2.12.0 (*)\n...\n+--- net.logstash.logback:logstash-logback-encoder:6.6\n|    \\--- com.fasterxml.jackson.core:jackson-databind:2.12.0 (*)\n</code></pre>\n<p>I really don't understand how and why this conflicts...</p>\n"},{"tags":["java","spring","spring-boot","java-11"],"comments":[{"owner":{"account_id":14968998,"reputation":313,"user_id":10806427,"display_name":"Edgar Khachatryan"},"score":1,"creation_date":1609160520,"post_id":65477926,"comment_id":115762227,"body_markdown":"JAXB was removed from JAVA 11. You need to add several libraries to work with XML. Try [this example](https://www.dariawan.com/tutorials/java/using-jaxb-java-11/)","body":"JAXB was removed from JAVA 11. You need to add several libraries to work with XML. Try <a href=\"https://www.dariawan.com/tutorials/java/using-jaxb-java-11/\" rel=\"nofollow noreferrer\">this example</a>"},{"owner":{"account_id":10106590,"reputation":411,"user_id":7468960,"display_name":"The MW"},"score":0,"creation_date":1609160716,"post_id":65477926,"comment_id":115762320,"body_markdown":"Thanks @EdgarKhachatryan But I don&#39;t think I am there yet, the first problem I need to fix it the above error, java failed to load the wsdl file inside the ebay jar file.  After that, the jaxb kicks in.","body":"Thanks @EdgarKhachatryan But I don&#39;t think I am there yet, the first problem I need to fix it the above error, java failed to load the wsdl file inside the ebay jar file.  After that, the jaxb kicks in."},{"owner":{"account_id":10106590,"reputation":411,"user_id":7468960,"display_name":"The MW"},"score":0,"creation_date":1609161274,"post_id":65477926,"comment_id":115762537,"body_markdown":"@EdgarKhachatryan  Thanks, I think maybe your are right, I saw ebay source code has a check of null, so the NPE probably is not what I was thinking, I will look into the link you pasted, thanks!","body":"@EdgarKhachatryan  Thanks, I think maybe your are right, I saw ebay source code has a check of null, so the NPE probably is not what I was thinking, I will look into the link you pasted, thanks!"},{"owner":{"account_id":14968998,"reputation":313,"user_id":10806427,"display_name":"Edgar Khachatryan"},"score":0,"creation_date":1609163560,"post_id":65477926,"comment_id":115763483,"body_markdown":"I looked at your question once again and I was mistaken, just adding jaxb dependencies will not help you.  I&#39;ll suggest you look at [this](https://stackoverflow.com/a/52865705/10806427) answer for using JAXWS in java 11.  [and this](https://stackoverflow.com/questions/53266846/replacement-for-wsimport-with-jdk-11) question. Hope it will help.","body":"I looked at your question once again and I was mistaken, just adding jaxb dependencies will not help you.  I&#39;ll suggest you look at <a href=\"https://stackoverflow.com/a/52865705/10806427\">this</a> answer for using JAXWS in java 11.  <a href=\"https://stackoverflow.com/questions/53266846/replacement-for-wsimport-with-jdk-11\">and this</a> question. Hope it will help."},{"owner":{"account_id":10106590,"reputation":411,"user_id":7468960,"display_name":"The MW"},"score":0,"creation_date":1609164575,"post_id":65477926,"comment_id":115763888,"body_markdown":"Thanks @EdgarKhachatryan  Funny thing is, I tried it on my dev machine (without changing any dependencies) and it works.  See update in the mail post above.","body":"Thanks @EdgarKhachatryan  Funny thing is, I tried it on my dev machine (without changing any dependencies) and it works.  See update in the mail post above."},{"owner":{"account_id":10106590,"reputation":411,"user_id":7468960,"display_name":"The MW"},"score":0,"creation_date":1609166780,"post_id":65477926,"comment_id":115764755,"body_markdown":"@EdgarKhachatryan tried you suggested link (added more dependencies), still NPE.","body":"@EdgarKhachatryan tried you suggested link (added more dependencies), still NPE."},{"owner":{"account_id":5581710,"reputation":633,"user_id":4423409,"display_name":"O. Schnieders"},"score":0,"creation_date":1609172806,"post_id":65477926,"comment_id":115767201,"body_markdown":"This looks strange. Did you try to change the log level to DEBUG to see any Exception stack trace for your NPE? This should be helpful.\nEDIT: Since it is running outside of a container, are there any possible restrictions to read that file? How do you build your image, do you use a &quot;normal&quot; Dockerfile or do you use the Spring-Boot Docker-Plugin?","body":"This looks strange. Did you try to change the log level to DEBUG to see any Exception stack trace for your NPE? This should be helpful. EDIT: Since it is running outside of a container, are there any possible restrictions to read that file? How do you build your image, do you use a &quot;normal&quot; Dockerfile or do you use the Spring-Boot Docker-Plugin?"},{"owner":{"account_id":10106590,"reputation":411,"user_id":7468960,"display_name":"The MW"},"score":0,"creation_date":1609180419,"post_id":65477926,"comment_id":115770129,"body_markdown":"@Maximus I have more log, please see the main post.  Running outside of container in my dev env it works.  I don&#39;t think there are retractions.  I have been using the same Docker file for a while, same dockerfile (use oracle java 8 works) but not java 11.","body":"@Maximus I have more log, please see the main post.  Running outside of container in my dev env it works.  I don&#39;t think there are retractions.  I have been using the same Docker file for a while, same dockerfile (use oracle java 8 works) but not java 11."},{"owner":{"account_id":5581710,"reputation":633,"user_id":4423409,"display_name":"O. Schnieders"},"score":0,"creation_date":1609181481,"post_id":65477926,"comment_id":115770533,"body_markdown":"Ok. I took a short research about the related ApiCall class and found a little older implementation on GitHub: https://github.com/prestonvanloon/ebaysdkcore/blob/master/src/main/java/com/ebay/sdk/ApiCall.java. It looks like that the API itself does not talk enough to us. I am out at this point, because I am not familiar enough with the eBay API. Did you took a look at this post? https://stackoverflow.com/questions/53758696/could-not-initialize-class-com-ebay-sdk-sdkapiinterfaceservicelocator-java. Maybe the solution is the same.","body":"Ok. I took a short research about the related ApiCall class and found a little older implementation on GitHub: <a href=\"https://github.com/prestonvanloon/ebaysdkcore/blob/master/src/main/java/com/ebay/sdk/ApiCall.java\" rel=\"nofollow noreferrer\">github.com/prestonvanloon/ebaysdkcore/blob/master/src/main/j&zwnj;&#8203;ava/&hellip;</a>. It looks like that the API itself does not talk enough to us. I am out at this point, because I am not familiar enough with the eBay API. Did you took a look at this post? <a href=\"https://stackoverflow.com/questions/53758696/could-not-initialize-class-com-ebay-sdk-sdkapiinterfaceservicelocator-java\" title=\"could not initialize class com ebay sdk sdkapiinterfaceservicelocator java\">stackoverflow.com/questions/53758696/&hellip;</a>. Maybe the solution is the same."},{"owner":{"account_id":10106590,"reputation":411,"user_id":7468960,"display_name":"The MW"},"score":0,"creation_date":1609182109,"post_id":65477926,"comment_id":115770756,"body_markdown":"@Maximus thanks yes I looked at the post and I already added these referenced dependencies.  Now I am wondering if this has anything to do with classloading and java 9+ modules?","body":"@Maximus thanks yes I looked at the post and I already added these referenced dependencies.  Now I am wondering if this has anything to do with classloading and java 9+ modules?"},{"owner":{"account_id":14968998,"reputation":313,"user_id":10806427,"display_name":"Edgar Khachatryan"},"score":0,"creation_date":1609274314,"post_id":65477926,"comment_id":115799066,"body_markdown":"@TheMW Unfortunately I am also not familiar with ebay sdk, just want to make sure that you did not miss anything, please look [at Development Requirements 3rd option](https://developer.ebay.com/devZone/javasdk-jaxb/docs/readme.htm#DevelopmentRequirements) maybe you need to add libraries not in the classpath, but in another place? It is also from ebay sdk docs `You must compile the SDK with version 2.1.4 of Sun JAX-WS RI.` -&gt; [Maven Repo](https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt/2.1.4) , Hope it will help, share your answer when you will find it)","body":"@TheMW Unfortunately I am also not familiar with ebay sdk, just want to make sure that you did not miss anything, please look <a href=\"https://developer.ebay.com/devZone/javasdk-jaxb/docs/readme.htm#DevelopmentRequirements\" rel=\"nofollow noreferrer\">at Development Requirements 3rd option</a> maybe you need to add libraries not in the classpath, but in another place? It is also from ebay sdk docs <code>You must compile the SDK with version 2.1.4 of Sun JAX-WS RI.</code> -&gt; <a href=\"https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt/2.1.4\" rel=\"nofollow noreferrer\">Maven Repo</a> , Hope it will help, share your answer when you will find it)"},{"owner":{"account_id":10106590,"reputation":411,"user_id":7468960,"display_name":"The MW"},"score":1,"creation_date":1609876246,"post_id":65477926,"comment_id":115957516,"body_markdown":"@EdgarKhachatryan sorry for my late reply.  I decided to not use ebay jar file, will generate my own classes so I can completely remove xalan as dependency.  Thanks!","body":"@EdgarKhachatryan sorry for my late reply.  I decided to not use ebay jar file, will generate my own classes so I can completely remove xalan as dependency.  Thanks!"}],"owner":{"account_id":10106590,"reputation":411,"user_id":7468960,"display_name":"The MW"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638108237,"creation_date":1609159979,"question_id":65477926,"body_markdown":"I am having an issue upgrading my code from Java 8 to Java 11.\r\n\r\nI have a spring boot application, the app is packaged as a fat jar.  The app also depends on ebay api, which is packaged in `ebay-sdk-core-1131.jar` file.\r\n\r\nThe above configuration works fine in Oracle Java 8.  Now I am trying to use zulu open JDK 11, I got this exception:\r\n\r\n```sh\r\n[INFO ] 2020-12-28 12:41:34.997 [ForkJoinPool-1-worker-3] SdkAPIInterfaceServiceLocator - loading wsdl : jar:file:/home/my-application-1.0.jar!/BOOT-INF/lib/ebay-sdk-core-1131.jar!/eBaySvc.wsdl\r\n[ERROR] 2020-12-28 12:41:35.003 [ForkJoinPool-1-worker-3] ApiCall - java.lang.NullPointerException\r\n```\r\n\r\nIn fact I have other wsdl files in other dependency libs, they all failed to load in Java 11.  They are all OK in Java 8.\r\n\r\nThis will throw NPE in java 11, but not java 8 (run as fat jar):\r\n\r\n```java\r\nimport org.springframework.core.io.ClassPathResource;\r\nClassPathResource cp = new ClassPathResource(&quot;/wsdl/wsdl.xml&quot;);\r\n```\r\nSpring boot is at `2.3.7.RELEASE`.\r\n\r\nAny ideas?\r\n\r\nUpdate:\r\n\r\nForgot to mention the above was running from a docker container.\r\n\r\nIf I run it locally on my dev machine, (not fat spring jar, instead file system), and it works:\r\n\r\n```sh\r\n[INFO ] 2020-12-28 09:04:03.153 [ForkJoinPool-1-worker-3] SdkAPIInterfaceServiceLocator - loading wsdl : jar:file:/home/me/work/git/app/app-dao.jar/libs/ebay-sdk-core-1131.jar!/eBaySvc.wsdl\r\n\r\n[INFO ] 2020-12-28 09:04:26.127 [ForkJoinPool-1-worker-3] SdkAPIInterfaceServiceLocator - wsdl loaded and service initialized.\r\n```\r\nUpdate 2:\r\n\r\nMore logs:\r\n\r\n```sh\r\ncom.ebay.sdk.SdkException: ApiCall.execute() - null\r\n        at com.ebay.sdk.ApiCall.executeByApiName(Unknown Source) ~[ebay-sdk-core-1131.jar!/:?]\r\n        at com.ebay.sdk.ApiCall.execute(Unknown Source) ~[ebay-sdk-core-1131.jar!/:?]\r\n        at com.ebay.sdk.call.GetOrdersCall.getOrders(GetOrdersCall.java:169) ~[ebay-sdk-calls-1131.jar!/:?]\r\n        at com.company.job.tasks.ebay.EBaySalesList.load(EBaySalesList.java:119) [classes!/:?]\r\n```\r\nThanks","title":"Java 11 and spring boot - load resource from dependency jar from spring boot applications&#39; fat jar","body":"<p>I am having an issue upgrading my code from Java 8 to Java 11.</p>\n<p>I have a spring boot application, the app is packaged as a fat jar.  The app also depends on ebay api, which is packaged in <code>ebay-sdk-core-1131.jar</code> file.</p>\n<p>The above configuration works fine in Oracle Java 8.  Now I am trying to use zulu open JDK 11, I got this exception:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>[INFO ] 2020-12-28 12:41:34.997 [ForkJoinPool-1-worker-3] SdkAPIInterfaceServiceLocator - loading wsdl : jar:file:/home/my-application-1.0.jar!/BOOT-INF/lib/ebay-sdk-core-1131.jar!/eBaySvc.wsdl\n[ERROR] 2020-12-28 12:41:35.003 [ForkJoinPool-1-worker-3] ApiCall - java.lang.NullPointerException\n</code></pre>\n<p>In fact I have other wsdl files in other dependency libs, they all failed to load in Java 11.  They are all OK in Java 8.</p>\n<p>This will throw NPE in java 11, but not java 8 (run as fat jar):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.core.io.ClassPathResource;\nClassPathResource cp = new ClassPathResource(&quot;/wsdl/wsdl.xml&quot;);\n</code></pre>\n<p>Spring boot is at <code>2.3.7.RELEASE</code>.</p>\n<p>Any ideas?</p>\n<p>Update:</p>\n<p>Forgot to mention the above was running from a docker container.</p>\n<p>If I run it locally on my dev machine, (not fat spring jar, instead file system), and it works:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>[INFO ] 2020-12-28 09:04:03.153 [ForkJoinPool-1-worker-3] SdkAPIInterfaceServiceLocator - loading wsdl : jar:file:/home/me/work/git/app/app-dao.jar/libs/ebay-sdk-core-1131.jar!/eBaySvc.wsdl\n\n[INFO ] 2020-12-28 09:04:26.127 [ForkJoinPool-1-worker-3] SdkAPIInterfaceServiceLocator - wsdl loaded and service initialized.\n</code></pre>\n<p>Update 2:</p>\n<p>More logs:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>com.ebay.sdk.SdkException: ApiCall.execute() - null\n        at com.ebay.sdk.ApiCall.executeByApiName(Unknown Source) ~[ebay-sdk-core-1131.jar!/:?]\n        at com.ebay.sdk.ApiCall.execute(Unknown Source) ~[ebay-sdk-core-1131.jar!/:?]\n        at com.ebay.sdk.call.GetOrdersCall.getOrders(GetOrdersCall.java:169) ~[ebay-sdk-calls-1131.jar!/:?]\n        at com.company.job.tasks.ebay.EBaySalesList.load(EBaySalesList.java:119) [classes!/:?]\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring","mongodb","spring-boot","jpa"],"comments":[{"owner":{"account_id":2353940,"reputation":650,"user_id":2062201,"display_name":"Andres Sacco"},"score":0,"creation_date":1609024781,"post_id":65460801,"comment_id":115733436,"body_markdown":"Do you want to do the same query using Repositories in Spring?","body":"Do you want to do the same query using Repositories in Spring?"}],"owner":{"account_id":13068154,"reputation":31,"user_id":9442724,"display_name":"disk91"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638108189,"creation_date":1609017494,"question_id":65460801,"body_markdown":"I was looking to create a distinct search in a MongoDB collection with a filter condition. \r\nThe collection is alertStatus with the following format:\r\n\r\n```json\r\n{ &#39;id&#39; : 0, &#39;group&#39; : &quot;groupe1&quot;, &#39;state&#39; : &quot;PENDING&quot; }\r\n{ &#39;id&#39; : 1, &#39;group&#39; : &quot;groupe2&quot;, &#39;state&#39; : &quot;PENDING&quot; }\r\n{ &#39;id&#39; : 2, &#39;group&#39; : &quot;groupe3&quot;, &#39;state&#39; : &quot;DONE&quot; }\r\n{ &#39;id&#39; : 3, &#39;group&#39; : &quot;groupe2&quot;, &#39;state&#39; : &quot;PENDING&quot; }\r\n```\r\nI want the list of different groups where the state is &quot;PENDING&quot;\r\n\r\nHere is a **working solution** for Java/SpringBoot :\r\n\r\n```java\r\n@Autowired\r\nprotected MongoTemplate mongoTemplate;\r\n\r\n  DistinctIterable&lt;String&gt; groups = mongoTemplate.getCollection(&quot;alertStatus&quot;)\r\n                .distinct(&quot;group&quot;,String.class)\r\n                .filter(new Document(&quot;state&quot;,&quot;PENDING&quot;));\r\n\r\n  for ( String g : groups) {\r\n     log.info(g);\r\n  }\r\n```\r\n\r\nIf someone has a solution using JPA, please let me know.","title":"How to create a Mongodb Distinct search with a filter?","body":"<p>I was looking to create a distinct search in a MongoDB collection with a filter condition.\nThe collection is alertStatus with the following format:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ 'id' : 0, 'group' : &quot;groupe1&quot;, 'state' : &quot;PENDING&quot; }\n{ 'id' : 1, 'group' : &quot;groupe2&quot;, 'state' : &quot;PENDING&quot; }\n{ 'id' : 2, 'group' : &quot;groupe3&quot;, 'state' : &quot;DONE&quot; }\n{ 'id' : 3, 'group' : &quot;groupe2&quot;, 'state' : &quot;PENDING&quot; }\n</code></pre>\n<p>I want the list of different groups where the state is &quot;PENDING&quot;</p>\n<p>Here is a <strong>working solution</strong> for Java/SpringBoot :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprotected MongoTemplate mongoTemplate;\n\n  DistinctIterable&lt;String&gt; groups = mongoTemplate.getCollection(&quot;alertStatus&quot;)\n                .distinct(&quot;group&quot;,String.class)\n                .filter(new Document(&quot;state&quot;,&quot;PENDING&quot;));\n\n  for ( String g : groups) {\n     log.info(g);\n  }\n</code></pre>\n<p>If someone has a solution using JPA, please let me know.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638107986,"creation_date":1638107986,"answer_id":70144099,"question_id":70136244,"body_markdown":"You defined the value deserializer to be that for Long, but it looks like your data is a String instead.","title":"Kafka Streams: SerializationException: Size of data received by LongDeserializer is not 8","body":"<p>You defined the value deserializer to be that for Long, but it looks like your data is a String instead.</p>\n"}],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70144099,"answer_count":1,"score":1,"last_activity_date":1638107986,"creation_date":1638027654,"question_id":70136244,"body_markdown":"I have a small app to count the number of colors using Apache Kafka -\r\n\r\n\r\n    public class FavouriteColor {\r\n    \r\n    \r\n        private static final String INPUT_TOPIC_NAME = &quot;favourite-colour-input&quot;;\r\n        private static final String OUTPUT_TOPIC_NAME = &quot;favourite-colour-output&quot;;\r\n        private static final String INTERMEDIATE_TOPIC_NAME = &quot;favourite-colour-output&quot;;\r\n    \r\n        private static final String APPLICATION_ID = &quot;favourite-colour-java&quot;;\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Properties config = new Properties();\r\n    \r\n            config.put(StreamsConfig.APPLICATION_ID_CONFIG, APPLICATION_ID);\r\n            config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\r\n            config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n            config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n            config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n    \r\n            config.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, &quot;0&quot;);\r\n    \r\n            StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n            KStream&lt;String, String&gt; textLines = builder.stream(INPUT_TOPIC_NAME);\r\n    \r\n            KStream&lt;String, String&gt; usersAndColours = textLines\r\n                .filter((key, value) -&gt; value.contains(&quot;,&quot;))\r\n                .selectKey((key, value) -&gt; value.split(&quot;,&quot;)[0].toLowerCase())\r\n                .mapValues(value -&gt; value.split(&quot;,&quot;)[1].toLowerCase())\r\n                .filter((user, colour) -&gt; Arrays.asList(&quot;green&quot;, &quot;blue&quot;, &quot;red&quot;).contains(colour));\r\n    \r\n            usersAndColours.to(INTERMEDIATE_TOPIC_NAME);\r\n            KTable&lt;String, String&gt; usersAndColoursTable = builder.table(INTERMEDIATE_TOPIC_NAME);\r\n    \r\n            KTable&lt;String, Long&gt; favouriteColours = usersAndColoursTable\r\n                .groupBy((user, colour) -&gt; new KeyValue&lt;&gt;(colour, colour))\r\n                .count(Named.as(&quot;CountsByColours&quot;));\r\n    \r\n            favouriteColours.toStream().to(OUTPUT_TOPIC_NAME, Produced.with(Serdes.String(), Serdes.Long()));\r\n    \r\n            KafkaStreams streams = new KafkaStreams(builder.build(), config);\r\n    \r\n            streams.cleanUp();\r\n            streams.start();\r\n    \r\n            System.out.println(streams);\r\n    \r\n            Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n        }\r\n    }\r\n\r\n\r\nThe topics are created and producers/ consumers are started using the terminal:\r\n\r\n    kafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic favourite-colour-input\r\n    \r\n    kafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic user-keys-and-colours --config cleanup.policy=compact\r\n    \r\n    kafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic favourite-colour-output --config cleanup.policy=compact\r\n\r\n\r\n\r\n    kafka-console-consumer --bootstrap-server localhost:9092 \\\r\n        --topic favourite-colour-output \\\r\n        --from-beginning \\\r\n        --formatter kafka.tools.DefaultMessageFormatter \\\r\n        --property print.key=true \\\r\n        --property print.value=true \\\r\n        --property key.deserializer=org.apache.kafka.common.serialization.StringDeserializer \\\r\n        --property value.deserializer=org.apache.kafka.common.serialization.LongDeserializer\r\n    \r\n    \r\n    \r\n    kafka-console-producer --bootstrap-server localhost:9092 --topic favourite-colour-input\r\n\r\n\r\n\r\nI provided the following inputs into the terminal:\r\n\r\n    stephane,blue\r\n    john,green\r\n    stephane,red\r\n    alice,red\r\n\r\n\r\nI received the error in the consumer terminal:\r\n\r\n    stephane\tProcessed a total of 1 messages\r\n    [2021-11-27 21:31:58,155] ERROR Unknown error when running consumer:  (kafka.tools.ConsoleConsumer$)\r\n    org.apache.kafka.common.errors.SerializationException: Size of data received by LongDeserializer is not 8\r\n    \tat org.apache.kafka.common.serialization.LongDeserializer.deserialize(LongDeserializer.java:26)\r\n    \tat org.apache.kafka.common.serialization.LongDeserializer.deserialize(LongDeserializer.java:21)\r\n    \tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\r\n    \tat kafka.tools.DefaultMessageFormatter.$anonfun$writeTo$2(ConsoleConsumer.scala:519)\r\n    \tat scala.Option.map(Option.scala:242)\r\n    \tat kafka.tools.DefaultMessageFormatter.deserialize$1(ConsoleConsumer.scala:519)\r\n    \tat kafka.tools.DefaultMessageFormatter.writeTo(ConsoleConsumer.scala:568)\r\n    \tat kafka.tools.ConsoleConsumer$.process(ConsoleConsumer.scala:115)\r\n    \tat kafka.tools.ConsoleConsumer$.run(ConsoleConsumer.scala:75)\r\n    \tat kafka.tools.ConsoleConsumer$.main(ConsoleConsumer.scala:52)\r\n    \tat kafka.tools.ConsoleConsumer.main(ConsoleConsumer.scala)\r\n\r\n\r\nWhat&#39;s the issue here? I did brief research and find similar questions asked by other people, but, the solutions seem not to work for me. \r\n\r\n\r\n\r\n\r\n\r\n","title":"Kafka Streams: SerializationException: Size of data received by LongDeserializer is not 8","body":"<p>I have a small app to count the number of colors using Apache Kafka -</p>\n<pre><code>public class FavouriteColor {\n\n\n    private static final String INPUT_TOPIC_NAME = &quot;favourite-colour-input&quot;;\n    private static final String OUTPUT_TOPIC_NAME = &quot;favourite-colour-output&quot;;\n    private static final String INTERMEDIATE_TOPIC_NAME = &quot;favourite-colour-output&quot;;\n\n    private static final String APPLICATION_ID = &quot;favourite-colour-java&quot;;\n\n\n    public static void main(String[] args) {\n\n        Properties config = new Properties();\n\n        config.put(StreamsConfig.APPLICATION_ID_CONFIG, APPLICATION_ID);\n        config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n\n        config.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, &quot;0&quot;);\n\n        StreamsBuilder builder = new StreamsBuilder();\n\n        KStream&lt;String, String&gt; textLines = builder.stream(INPUT_TOPIC_NAME);\n\n        KStream&lt;String, String&gt; usersAndColours = textLines\n            .filter((key, value) -&gt; value.contains(&quot;,&quot;))\n            .selectKey((key, value) -&gt; value.split(&quot;,&quot;)[0].toLowerCase())\n            .mapValues(value -&gt; value.split(&quot;,&quot;)[1].toLowerCase())\n            .filter((user, colour) -&gt; Arrays.asList(&quot;green&quot;, &quot;blue&quot;, &quot;red&quot;).contains(colour));\n\n        usersAndColours.to(INTERMEDIATE_TOPIC_NAME);\n        KTable&lt;String, String&gt; usersAndColoursTable = builder.table(INTERMEDIATE_TOPIC_NAME);\n\n        KTable&lt;String, Long&gt; favouriteColours = usersAndColoursTable\n            .groupBy((user, colour) -&gt; new KeyValue&lt;&gt;(colour, colour))\n            .count(Named.as(&quot;CountsByColours&quot;));\n\n        favouriteColours.toStream().to(OUTPUT_TOPIC_NAME, Produced.with(Serdes.String(), Serdes.Long()));\n\n        KafkaStreams streams = new KafkaStreams(builder.build(), config);\n\n        streams.cleanUp();\n        streams.start();\n\n        System.out.println(streams);\n\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n    }\n}\n</code></pre>\n<p>The topics are created and producers/ consumers are started using the terminal:</p>\n<pre><code>kafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic favourite-colour-input\n\nkafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic user-keys-and-colours --config cleanup.policy=compact\n\nkafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic favourite-colour-output --config cleanup.policy=compact\n\n\n\nkafka-console-consumer --bootstrap-server localhost:9092 \\\n    --topic favourite-colour-output \\\n    --from-beginning \\\n    --formatter kafka.tools.DefaultMessageFormatter \\\n    --property print.key=true \\\n    --property print.value=true \\\n    --property key.deserializer=org.apache.kafka.common.serialization.StringDeserializer \\\n    --property value.deserializer=org.apache.kafka.common.serialization.LongDeserializer\n\n\n\nkafka-console-producer --bootstrap-server localhost:9092 --topic favourite-colour-input\n</code></pre>\n<p>I provided the following inputs into the terminal:</p>\n<pre><code>stephane,blue\njohn,green\nstephane,red\nalice,red\n</code></pre>\n<p>I received the error in the consumer terminal:</p>\n<pre><code>stephane    Processed a total of 1 messages\n[2021-11-27 21:31:58,155] ERROR Unknown error when running consumer:  (kafka.tools.ConsoleConsumer$)\norg.apache.kafka.common.errors.SerializationException: Size of data received by LongDeserializer is not 8\n    at org.apache.kafka.common.serialization.LongDeserializer.deserialize(LongDeserializer.java:26)\n    at org.apache.kafka.common.serialization.LongDeserializer.deserialize(LongDeserializer.java:21)\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\n    at kafka.tools.DefaultMessageFormatter.$anonfun$writeTo$2(ConsoleConsumer.scala:519)\n    at scala.Option.map(Option.scala:242)\n    at kafka.tools.DefaultMessageFormatter.deserialize$1(ConsoleConsumer.scala:519)\n    at kafka.tools.DefaultMessageFormatter.writeTo(ConsoleConsumer.scala:568)\n    at kafka.tools.ConsoleConsumer$.process(ConsoleConsumer.scala:115)\n    at kafka.tools.ConsoleConsumer$.run(ConsoleConsumer.scala:75)\n    at kafka.tools.ConsoleConsumer$.main(ConsoleConsumer.scala:52)\n    at kafka.tools.ConsoleConsumer.main(ConsoleConsumer.scala)\n</code></pre>\n<p>What's the issue here? I did brief research and find similar questions asked by other people, but, the solutions seem not to work for me.</p>\n"},{"tags":["java","testing","gradle"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1638107023,"post_id":70143964,"comment_id":123994116,"body_markdown":"Simply running `gradle test` from the root project does this. Is that not what you need?","body":"Simply running <code>gradle test</code> from the root project does this. Is that not what you need?"},{"owner":{"account_id":19436610,"reputation":1,"user_id":14215950,"display_name":"Brucio"},"score":0,"creation_date":1638107201,"post_id":70143964,"comment_id":123994156,"body_markdown":"My bad I should have clarified, there&#39;s a lot of services in the root project and I only want to to run the selected few.","body":"My bad I should have clarified, there&#39;s a lot of services in the root project and I only want to to run the selected few."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638107788,"creation_date":1638107788,"answer_id":70144074,"question_id":70143964,"body_markdown":"You may look at the Gradle docs [here][1]. There are various ways of running only a selected set of tests using wildcard filters and otherwise. Very neatly documented in the page I have pointed to. \r\n\r\nYou may pass onefilter as a parameter to `--tests` or create a task with multiple filters in a `filter` block and run that task.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_testing.html#test_filtering","title":"How to run all tests (from across different packages) in one build gradle file?","body":"<p>You may look at the Gradle docs <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#test_filtering\" rel=\"nofollow noreferrer\">here</a>. There are various ways of running only a selected set of tests using wildcard filters and otherwise. Very neatly documented in the page I have pointed to.</p>\n<p>You may pass onefilter as a parameter to <code>--tests</code> or create a task with multiple filters in a <code>filter</code> block and run that task.</p>\n"}],"owner":{"account_id":19436610,"reputation":1,"user_id":14215950,"display_name":"Brucio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638107788,"creation_date":1638106956,"question_id":70143964,"body_markdown":"I&#39;m trying to find a way to kick off all tests from across &lt;s&gt;all my services&lt;/s&gt; a selected bunch of services. Couldn&#39;t find a similar thread, as most people seem to be asking about running one/many tests from within the scope of one package.\r\n\r\nI tried running `gradle test --tests a.b.c.TestClass`, while being in package `x.y.z`, but that gave me the following error:\r\n\r\n&gt; No tests found for given includes: [a.b.c.TestClass](--tests filter)\r\n","title":"How to run all tests (from across different packages) in one build gradle file?","body":"<p>I'm trying to find a way to kick off all tests from across <s>all my services</s> a selected bunch of services. Couldn't find a similar thread, as most people seem to be asking about running one/many tests from within the scope of one package.</p>\n<p>I tried running <code>gradle test --tests a.b.c.TestClass</code>, while being in package <code>x.y.z</code>, but that gave me the following error:</p>\n<blockquote>\n<p>No tests found for given includes: [a.b.c.TestClass](--tests filter)</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1638106236,"post_id":70143862,"comment_id":123993912,"body_markdown":"(1) Loop over all characters, (2) check if it is lowercase letter, (3) the first time you find incorrect character validation can return false. Are you having problems with any of those steps?","body":"(1) Loop over all characters, (2) check if it is lowercase letter, (3) the first time you find incorrect character validation can return false. Are you having problems with any of those steps?"},{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1638106264,"post_id":70143862,"comment_id":123993919,"body_markdown":"you can do something like below:- etUsername.getText().toString().toLowerCase().trim()","body":"you can do something like below:- etUsername.getText().toString().toLowerCase().trim()"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1638106767,"post_id":70143862,"comment_id":123994048,"body_markdown":"@RudraRokaya That isn&#39;t validation per se, that&#39;s modification, and doesn&#39;t handle inner spaces (e.g., `&quot;my user name&quot;`). If the user name is *modified* it would be critical to re-display it to the user for validation: &quot;Phil Accio&quot; reads more like a name than &quot;phillaccio&quot;.","body":"@RudraRokaya That isn&#39;t validation per se, that&#39;s modification, and doesn&#39;t handle inner spaces (e.g., <code>&quot;my user name&quot;</code>). If the user name is <i>modified</i> it would be critical to re-display it to the user for validation: &quot;Phil Accio&quot; reads more like a name than &quot;phillaccio&quot;."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638526194,"post_id":70143862,"comment_id":124117322,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638107330,"creation_date":1638107330,"answer_id":70144011,"question_id":70143862,"body_markdown":"Use a regex pattern: `[a-z]+`.\r\n\r\n```java\r\nString pattern = &quot;[a-z]+&quot;;\r\nPattern p = Pattern.compile( pattern );\r\nSystem.out.println( p.matcher( &quot;AbAD ADD&quot; ).matches() ); //This will NOT match\r\n```\r\n\r\nThe pattern allows only lower case alphabets. So no space as well.","title":"How to validate user name","body":"<p>Use a regex pattern: <code>[a-z]+</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pattern = &quot;[a-z]+&quot;;\nPattern p = Pattern.compile( pattern );\nSystem.out.println( p.matcher( &quot;AbAD ADD&quot; ).matches() ); //This will NOT match\n</code></pre>\n<p>The pattern allows only lower case alphabets. So no space as well.</p>\n"}],"owner":{"account_id":23316924,"reputation":1,"user_id":17395418,"display_name":"ajay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1638107330,"creation_date":1638106072,"question_id":70143862,"body_markdown":"Iam working on an application where users can login with their user name. So i want to restrict the user when choosing their user name.\r\nThe user name must only contain lower case letters with no white spaces.\r\nHow do i do that.","title":"How to validate user name","body":"<p>Iam working on an application where users can login with their user name. So i want to restrict the user when choosing their user name.\nThe user name must only contain lower case letters with no white spaces.\nHow do i do that.</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1636976109,"post_id":69973442,"comment_id":123692851,"body_markdown":"Are you using Maven? If so, check if your dependencies are all included. Execute a Maven Build to make sure everything is working. Also, while youre in pom.xml IntelliJ should display a maven symbol on the top right after you added dependencies, make sure you&#39;ve clicked it in order to install all dependencies.","body":"Are you using Maven? If so, check if your dependencies are all included. Execute a Maven Build to make sure everything is working. Also, while youre in pom.xml IntelliJ should display a maven symbol on the top right after you added dependencies, make sure you&#39;ve clicked it in order to install all dependencies."},{"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"score":0,"creation_date":1636976631,"post_id":69973442,"comment_id":123693022,"body_markdown":"using maven , and all things are done too. But still error","body":"using maven , and all things are done too. But still error"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1637664983,"post_id":69973442,"comment_id":123881453,"body_markdown":"How are you trying to run the main method? Also, when you run `java -jar ...` Is it a single jar file, or do you have more jars that are specified in the manifest. It sounds like when you run your main class you&#39;re not using a classpath with all of the appropriate dependencies. Often this is a module classpath, and that module should have the appropriate dependencies attached.","body":"How are you trying to run the main method? Also, when you run <code>java -jar ...</code> Is it a single jar file, or do you have more jars that are specified in the manifest. It sounds like when you run your main class you&#39;re not using a classpath with all of the appropriate dependencies. Often this is a module classpath, and that module should have the appropriate dependencies attached."},{"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"score":0,"creation_date":1637665959,"post_id":69973442,"comment_id":123881800,"body_markdown":"there is an outer project ,which has modules specified in pom . The main project is one of the module.","body":"there is an outer project ,which has modules specified in pom . The main project is one of the module."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1637668552,"post_id":69973442,"comment_id":123882823,"body_markdown":"How are you trying to run the main method?","body":"How are you trying to run the main method?"},{"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"score":0,"creation_date":1637671755,"post_id":69973442,"comment_id":123884085,"body_markdown":"Thanks Matt..I am able to start now in intellij...i made it as a single module project now","body":"Thanks Matt..I am able to start now in intellij...i made it as a single module project now"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1637787484,"post_id":69973442,"comment_id":123922415,"body_markdown":"Nobody can debug invisible code. Please provide an [MCVE](https://stackoverflow.com/help/mcve), ideally on GitHub, in order not to waste your bounty points on bad or no answers.","body":"Nobody can debug invisible code. Please provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, ideally on GitHub, in order not to waste your bounty points on bad or no answers."},{"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"score":0,"creation_date":1637825306,"post_id":69973442,"comment_id":123930146,"body_markdown":"matt was able to identify the issue with invisible code. i will accept his answer if he adds it","body":"matt was able to identify the issue with invisible code. i will accept his answer if he adds it"}],"answers":[{"tags":[],"owner":{"account_id":23479005,"reputation":86,"user_id":17531409,"display_name":"Tinku"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638107131,"creation_date":1638107131,"answer_id":70143984,"question_id":69973442,"body_markdown":"*Instead of a multi-module project, make it as a single module project or specify appropriately in the manifest.*","title":"Java Jar starts from command line , but not from intellij idea","body":"<p><em>Instead of a multi-module project, make it as a single module project or specify appropriately in the manifest.</em></p>\n"}],"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70143984,"answer_count":1,"score":2,"last_activity_date":1638107131,"creation_date":1636974594,"question_id":69973442,"body_markdown":"I am able to start the server with the command line &#39;java -jar jarname.jar \r\nBut , while running main method of the spring boot application , server start fails ,saying that a class from an imported dependency project does not exists \r\n\r\n    Caused by: java.lang.NoClassDefFoundError: Lcom/jj/db/repositories/KKRepository;\r\n\r\nAlso there is a warning message in the console : \r\n\r\n    2021-11-15 11:04:47 WARN  WebappClassLoaderBase:173 -   - The web application [MM] appears to have started a thread named [RxIoScheduler-1 (Evictor)] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n    sun.misc.Unsafe.park(Native Method)\r\n    java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215) java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\r\n\r\nCan anyone please help ?\r\n\r\n\r\n\r\n\r\n","title":"Java Jar starts from command line , but not from intellij idea","body":"<p>I am able to start the server with the command line 'java -jar jarname.jar\nBut , while running main method of the spring boot application , server start fails ,saying that a class from an imported dependency project does not exists</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: Lcom/jj/db/repositories/KKRepository;\n</code></pre>\n<p>Also there is a warning message in the console :</p>\n<pre><code>2021-11-15 11:04:47 WARN  WebappClassLoaderBase:173 -   - The web application [MM] appears to have started a thread named [RxIoScheduler-1 (Evictor)] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\nsun.misc.Unsafe.park(Native Method)\njava.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215) java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n</code></pre>\n<p>Can anyone please help ?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":23354539,"reputation":31,"user_id":17427693,"display_name":"Sayago"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638106589,"creation_date":1638101568,"answer_id":70143284,"question_id":69989041,"body_markdown":"To anyone who wants to do something similar, I finally found a solution that meets my criteria.\r\n\r\nTagId was modified to this:\r\n```\r\n@Embeddable\r\npublic class TagId&lt;T&gt; implements Serializable {\r\n\r\n  @ManyToOne\r\n  private T taggedEntity;\r\n  private String value;\r\n\r\n  // Getters, setters...\r\n\r\n}\r\n```\r\n\r\n...which leads to a slight modification to Tag...\r\n```\r\n@MappedSuperClass\r\npublic class Tag&lt;T&gt; {\r\n \r\n  @EmbeddedId\r\n  private TagId id;\r\n\r\n  // Other attributes, getters, setters...\r\n\r\n}\r\n```\r\n...and then BookTag...\r\n```\r\n@Entity\r\n@Table(name = &quot;book_tag&quot;)\r\npublic class BookTag extends Tag&lt;Book&gt; {\r\n\r\n  // other attributes, getters, setters...\r\n\r\n}\r\n```\r\n...and finally Book:\r\n```\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\npublic class Book {\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  @Column(columnDefinition = &quot;Binary(16)&quot;)\r\n  private UUID id;\r\n\r\n  // other attributes, getters, setters...\r\n\r\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;id.taggedEntity&quot;)\r\n  private List&lt;BookTag&gt; tags;\r\n}\r\n```\r\n\r\nNow I can add 1...* BookTags to a Book, and in turn I have to set the Book on all the BookTags, but then it&#39;s one call to bookRepository.save() and everything cascades down. It would have been nicer to just do it with an id, but a generic is flexible enough. I&#39;ll just have it implement an interface so that toString/hashCode/equals can call getId on parent.\r\n\r\nThe only other drawback is I couldn&#39;t get @AttributeOverride to work, so while I&#39;d prefer that my BookTag table have a book_id column, tagged_entity_id will have to suffice.","title":"How do I cascade persist an @OneToMany relationship with an @EmbeddedId using Spring Data / Hibernate","body":"<p>To anyone who wants to do something similar, I finally found a solution that meets my criteria.</p>\n<p>TagId was modified to this:</p>\n<pre><code>@Embeddable\npublic class TagId&lt;T&gt; implements Serializable {\n\n  @ManyToOne\n  private T taggedEntity;\n  private String value;\n\n  // Getters, setters...\n\n}\n</code></pre>\n<p>...which leads to a slight modification to Tag...</p>\n<pre><code>@MappedSuperClass\npublic class Tag&lt;T&gt; {\n \n  @EmbeddedId\n  private TagId id;\n\n  // Other attributes, getters, setters...\n\n}\n</code></pre>\n<p>...and then BookTag...</p>\n<pre><code>@Entity\n@Table(name = &quot;book_tag&quot;)\npublic class BookTag extends Tag&lt;Book&gt; {\n\n  // other attributes, getters, setters...\n\n}\n</code></pre>\n<p>...and finally Book:</p>\n<pre><code>@Entity\n@Table(name = &quot;book&quot;)\npublic class Book {\n\n  @Id\n  @GeneratedValue\n  @Column(columnDefinition = &quot;Binary(16)&quot;)\n  private UUID id;\n\n  // other attributes, getters, setters...\n\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;id.taggedEntity&quot;)\n  private List&lt;BookTag&gt; tags;\n}\n</code></pre>\n<p>Now I can add 1...* BookTags to a Book, and in turn I have to set the Book on all the BookTags, but then it's one call to bookRepository.save() and everything cascades down. It would have been nicer to just do it with an id, but a generic is flexible enough. I'll just have it implement an interface so that toString/hashCode/equals can call getId on parent.</p>\n<p>The only other drawback is I couldn't get @AttributeOverride to work, so while I'd prefer that my BookTag table have a book_id column, tagged_entity_id will have to suffice.</p>\n"}],"owner":{"account_id":23354539,"reputation":31,"user_id":17427693,"display_name":"Sayago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638106589,"creation_date":1637065047,"question_id":69989041,"body_markdown":"I&#39;ve seen a lot of similar questions asked about this but haven&#39;t found a solution that fixes the problem I&#39;m seeing, so apologies up front if this is a redundant question. In my situation I have various types of entities and they&#39;re each going to have their own tag associations. So I want a generic Tag class that won&#39;t have it&#39;s own id, but rather an id / composite key made of the id of the entity it&#39;s tagging, plus the tag type. To (attempt to) achieve this I made an `@Embeddable` id class:\r\n\r\n```\r\n@Embeddable\r\npublic class TagId implements Serializable {\r\n\r\n  @Column(columnDefinition = &quot;BINARY(16)&quot;)\r\n  private UUID parentId;\r\n  private String value;\r\n\r\n  // Getters, setters...\r\n\r\n}\r\n```\r\n\r\nThat Id is in turn used by a `@MappedSuperclass`:\r\n```\r\n@MappedSuperClass\r\npublic class Tag {\r\n \r\n  @EmbeddedId\r\n  private TagId id;\r\n\r\n  // Other attributes, getters, setters...\r\n\r\n}\r\n```\r\n... and then when I want to tag a specific entity, for example using a BookTag, the table would have a `book_id` column as a foreign key to a Book table taking the place of `parentId` :\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;book_tag&quot;)\r\n@AttributeOverride(name = &quot;parentId&quot;, column = @Column(name = &quot;book_id&quot;))\r\npublic class BookTag extends Tag {\r\n\r\n  // other attributes, getters, setters...\r\n\r\n}\r\n```\r\n\r\nThen finally, I have a Book entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\npublic class Book {\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  @Column(columnDefinition = &quot;Binary(16)&quot;)\r\n  private UUID id;\r\n\r\n  // other attributes, getters, setters...\r\n\r\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;id.parentId&quot;)\r\n  private List&lt;BookTag&gt; tags;\r\n}\r\n```\r\n\r\nWhen I then try to save a new Book, with a populated BookTag collection, using a Spring Data JPA repository to `repo.save(book)`, my desired behavior is that the Book is saved, then the id is copied to the BookTag objects, and those are saved. Unfortunately, what I&#39;m seeing in the log is that Book is inserted as expected, then the inserts for the Tag objects are run, but `book_id` is being bound as `null` for each of the entries.\r\n\r\nI&#39;ve tried a few other approaches:\r\n\r\n 1. @JoinColumn instead of mappedBy\r\n 2. @MapsId with a @ManyToOne reference to Book on BookTag\r\n 3. @GeneratedValue on `parentId`\r\n\r\nNone worked, but it is possible my syntax was off. Thanks in advance for anyone who knows how to tackle this problem.","title":"How do I cascade persist an @OneToMany relationship with an @EmbeddedId using Spring Data / Hibernate","body":"<p>I've seen a lot of similar questions asked about this but haven't found a solution that fixes the problem I'm seeing, so apologies up front if this is a redundant question. In my situation I have various types of entities and they're each going to have their own tag associations. So I want a generic Tag class that won't have it's own id, but rather an id / composite key made of the id of the entity it's tagging, plus the tag type. To (attempt to) achieve this I made an <code>@Embeddable</code> id class:</p>\n<pre><code>@Embeddable\npublic class TagId implements Serializable {\n\n  @Column(columnDefinition = &quot;BINARY(16)&quot;)\n  private UUID parentId;\n  private String value;\n\n  // Getters, setters...\n\n}\n</code></pre>\n<p>That Id is in turn used by a <code>@MappedSuperclass</code>:</p>\n<pre><code>@MappedSuperClass\npublic class Tag {\n \n  @EmbeddedId\n  private TagId id;\n\n  // Other attributes, getters, setters...\n\n}\n</code></pre>\n<p>... and then when I want to tag a specific entity, for example using a BookTag, the table would have a <code>book_id</code> column as a foreign key to a Book table taking the place of <code>parentId</code> :</p>\n<pre><code>@Entity\n@Table(name = &quot;book_tag&quot;)\n@AttributeOverride(name = &quot;parentId&quot;, column = @Column(name = &quot;book_id&quot;))\npublic class BookTag extends Tag {\n\n  // other attributes, getters, setters...\n\n}\n</code></pre>\n<p>Then finally, I have a Book entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;book&quot;)\npublic class Book {\n\n  @Id\n  @GeneratedValue\n  @Column(columnDefinition = &quot;Binary(16)&quot;)\n  private UUID id;\n\n  // other attributes, getters, setters...\n\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;id.parentId&quot;)\n  private List&lt;BookTag&gt; tags;\n}\n</code></pre>\n<p>When I then try to save a new Book, with a populated BookTag collection, using a Spring Data JPA repository to <code>repo.save(book)</code>, my desired behavior is that the Book is saved, then the id is copied to the BookTag objects, and those are saved. Unfortunately, what I'm seeing in the log is that Book is inserted as expected, then the inserts for the Tag objects are run, but <code>book_id</code> is being bound as <code>null</code> for each of the entries.</p>\n<p>I've tried a few other approaches:</p>\n<ol>\n<li>@JoinColumn instead of mappedBy</li>\n<li>@MapsId with a @ManyToOne reference to Book on BookTag</li>\n<li>@GeneratedValue on <code>parentId</code></li>\n</ol>\n<p>None worked, but it is possible my syntax was off. Thanks in advance for anyone who knows how to tackle this problem.</p>\n"},{"tags":["java","spring","maven","logging","log4j"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1638118152,"post_id":70143925,"comment_id":123996853,"body_markdown":"Are you saying that log4j is **not** a transitive dependency in your logger library, rather the log4j source is part of it?","body":"Are you saying that log4j is <b>not</b> a transitive dependency in your logger library, rather the log4j source is part of it?"},{"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"score":0,"creation_date":1638122096,"post_id":70143925,"comment_id":123997839,"body_markdown":"Yes, what should I do to solve it? I even adding the required libraries when I&#39;m converting my logger library into jar, but it is showing same error.","body":"Yes, what should I do to solve it? I even adding the required libraries when I&#39;m converting my logger library into jar, but it is showing same error."}],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638106569,"creation_date":1638106569,"question_id":70143925,"body_markdown":"I created custom logger library by using apache log4j library. Now I using my logger library in another maven project instead of apache log4j library. when I running the project it throwing an Exception that is\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/core/config/Configurator\r\n\tat com.slice.slicelog4j.service.LogManager.initialize(LogManager.java:95)\r\n\tat com.slice.slicelog4j.service.LogManager.&lt;init&gt;(LogManager.java:21)\r\n\tat com.slice.slicelog4j.service.LogManager.getLogger(LogManager.java:29)\r\n```\r\nbecause my custom logger library internally using the apache log4j library, but my maven project where I&#39;m using my own logger library don&#39;t not have apache log4j libraries it only have my custom library.\r\nAnyone can tell me how should I solve this problem? Thank you.","title":"Configurator class not found Exception","body":"<p>I created custom logger library by using apache log4j library. Now I using my logger library in another maven project instead of apache log4j library. when I running the project it throwing an Exception that is</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/core/config/Configurator\n    at com.slice.slicelog4j.service.LogManager.initialize(LogManager.java:95)\n    at com.slice.slicelog4j.service.LogManager.&lt;init&gt;(LogManager.java:21)\n    at com.slice.slicelog4j.service.LogManager.getLogger(LogManager.java:29)\n</code></pre>\n<p>because my custom logger library internally using the apache log4j library, but my maven project where I'm using my own logger library don't not have apache log4j libraries it only have my custom library.\nAnyone can tell me how should I solve this problem? Thank you.</p>\n"},{"tags":["java","scala","maven","scala-3","scala-maven-plugin"],"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1638070627,"post_id":70140271,"comment_id":123988290,"body_markdown":"What are the numbers in `&lt;m..n&gt;` with the Scala compiler? With a Java compiler these are the line numbers where an error occurred in a `.java` file but this can&#39;t be here with such a short source.","body":"What are the numbers in <code>&lt;m..n&gt;</code> with the Scala compiler? With a Java compiler these are the line numbers where an error occurred in a <code>.java</code> file but this can&#39;t be here with such a short source."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1638092994,"post_id":70140271,"comment_id":123991141,"body_markdown":"To answer your auxiliary question: yes, the scala-maven-plugin is compatible with Scala 3 in its latest versions.","body":"To answer your auxiliary question: yes, the scala-maven-plugin is compatible with Scala 3 in its latest versions."}],"answers":[{"tags":[],"owner":{"account_id":1107017,"reputation":14116,"user_id":1098230,"display_name":"Kolmar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638106287,"creation_date":1638077723,"answer_id":70140930,"question_id":70140271,"body_markdown":"The reason for the error in `HelloScala.scala` is that procedure syntax was dropped: https://docs.scala-lang.org/scala3/reference/dropped-features/procedure-syntax.html\r\n\r\nInstead, use\r\n\r\n    def main(args: Array[String]): Unit = {\r\n","title":"Is Scala 3 Compatible with Maven?","body":"<p>The reason for the error in <code>HelloScala.scala</code> is that procedure syntax was dropped: <a href=\"https://docs.scala-lang.org/scala3/reference/dropped-features/procedure-syntax.html\" rel=\"nofollow noreferrer\">https://docs.scala-lang.org/scala3/reference/dropped-features/procedure-syntax.html</a></p>\n<p>Instead, use</p>\n<pre><code>def main(args: Array[String]): Unit = {\n</code></pre>\n"}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638106287,"creation_date":1638067407,"question_id":70140271,"body_markdown":"I am trying to get Maven to compile Scala 3, but I get weird stuff like\r\n\r\n    [INFO] --- scala-maven-plugin:4.5.4:compile (default) @ laboratory ---\r\n    [INFO] Using incremental compilation using Mixed compile order\r\n    [INFO] compiling 1 Scala source and 10 Java sources to C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\target\\classes ...\r\n    [ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\Scala\\net\\kolotyluk\\loom\\HelloScala.scala:&lt;233..233&gt;: &#39;=&#39; expected, but &#39;{&#39; found\r\n    [ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Context.java:&lt;332..332&gt;: unclosed string literal\r\n    [ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Context.java:&lt;595..595&gt;: unclosed string literal\r\n    [ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Context.java:&lt;666..744&gt;: &#39;}&#39; expected but eof found.\r\n    [ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Experiment04_PrimeThreads.java:&lt;16902..16902&gt;: unclosed string literal\r\n    [ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Experiment04_PrimeThreads.java:&lt;17176..17176&gt;: unclosed string literal\r\n    [ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Experiment04_PrimeThreads.java:&lt;28863..28870&gt;: &#39;}&#39; expected but eof found.\r\n    [ERROR] 7 errors found\r\n\r\nFirst of all, why are the `.java` files failing too?\r\n\r\nThe code for `HelloScala.scala` is\r\n\r\n    package net.kolotyluk.loom\r\n\r\n    import java.time.Instant\r\n    import java.util.concurrent.StructuredExecutor\r\n    import scala.util.Using\r\n\r\n    object HelloScala {\r\n      def main(args: Array[String]) {\r\n        Context.printHeader(HelloScala.getClass)\r\n\r\n        val results =\r\n          Using(StructuredExecutor.open(&quot;HelloScala&quot;)) { structuredExecutor =&gt;\r\n            val futureResults = (0 to 15).map { item =&gt;\r\n              println(s&quot;item = $item, Thread ID = ${Thread.currentThread}&quot;)\r\n              structuredExecutor.fork { () =&gt;\r\n                println(s&quot;\\ttask = $item, Thread ID = ${Thread.currentThread}&quot;)\r\n                item\r\n              }\r\n            }\r\n            futureResults.map(_.get)\r\n          }\r\n\r\n        println(results)\r\n      }\r\n    }\r\n\r\nAnd this compiles just fine using Scala 2.13, so the error message does not make sense.\r\n\r\nAs an aside, in IntelliJ, I cannot get Scala 3 to build, that fails for different reasons...","title":"Is Scala 3 Compatible with Maven?","body":"<p>I am trying to get Maven to compile Scala 3, but I get weird stuff like</p>\n<pre><code>[INFO] --- scala-maven-plugin:4.5.4:compile (default) @ laboratory ---\n[INFO] Using incremental compilation using Mixed compile order\n[INFO] compiling 1 Scala source and 10 Java sources to C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\target\\classes ...\n[ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\Scala\\net\\kolotyluk\\loom\\HelloScala.scala:&lt;233..233&gt;: '=' expected, but '{' found\n[ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Context.java:&lt;332..332&gt;: unclosed string literal\n[ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Context.java:&lt;595..595&gt;: unclosed string literal\n[ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Context.java:&lt;666..744&gt;: '}' expected but eof found.\n[ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Experiment04_PrimeThreads.java:&lt;16902..16902&gt;: unclosed string literal\n[ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Experiment04_PrimeThreads.java:&lt;17176..17176&gt;: unclosed string literal\n[ERROR] C:\\Users\\ERIC\\Documents\\git\\loom-lab\\laboratory\\src\\main\\java\\net\\kolotyluk\\loom\\Experiment04_PrimeThreads.java:&lt;28863..28870&gt;: '}' expected but eof found.\n[ERROR] 7 errors found\n</code></pre>\n<p>First of all, why are the <code>.java</code> files failing too?</p>\n<p>The code for <code>HelloScala.scala</code> is</p>\n<pre><code>package net.kolotyluk.loom\n\nimport java.time.Instant\nimport java.util.concurrent.StructuredExecutor\nimport scala.util.Using\n\nobject HelloScala {\n  def main(args: Array[String]) {\n    Context.printHeader(HelloScala.getClass)\n\n    val results =\n      Using(StructuredExecutor.open(&quot;HelloScala&quot;)) { structuredExecutor =&gt;\n        val futureResults = (0 to 15).map { item =&gt;\n          println(s&quot;item = $item, Thread ID = ${Thread.currentThread}&quot;)\n          structuredExecutor.fork { () =&gt;\n            println(s&quot;\\ttask = $item, Thread ID = ${Thread.currentThread}&quot;)\n            item\n          }\n        }\n        futureResults.map(_.get)\n      }\n\n    println(results)\n  }\n}\n</code></pre>\n<p>And this compiles just fine using Scala 2.13, so the error message does not make sense.</p>\n<p>As an aside, in IntelliJ, I cannot get Scala 3 to build, that fails for different reasons...</p>\n"},{"tags":["java","multithreading","hashmap"],"comments":[{"owner":{"account_id":5326312,"reputation":1120,"user_id":4248273,"accept_rate":100,"display_name":"Yeti"},"score":0,"creation_date":1637928420,"post_id":70123862,"comment_id":123959879,"body_markdown":"Hello and welcome to Stackoverflow! :-) You notice, that the use of while(true) may be inefficient. But what is your actual question? How to make this more efficient oder what other technology you could use?","body":"Hello and welcome to Stackoverflow! :-) You notice, that the use of while(true) may be inefficient. But what is your actual question? How to make this more efficient oder what other technology you could use?"}],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638104938,"creation_date":1637928400,"answer_id":70124153,"question_id":70123862,"body_markdown":"I think it is not a good design to use a thread to check continuously(use ```while true```), it will  consume a lot of resources. \r\n\r\nYou can consider another implementation: use a ```timer``` internally, such as a ```ScheduledExecutorService```, and start a timing task at the same time when inserting data. For example, the survival time of a key is 5 seconds, then start a task to be executed after 5 seconds to delete the key.\r\n\r\nYou can take a look at [expiringmap][1].\r\n\r\n\r\nEdit, generally there are these ways, from https://stackoverflow.com/questions/3802370/java-time-based-map-cache-with-expiring-keys, \r\n\r\nA. Perform a cleanup operation every time this map is used. For example, a thread calls ```map#size()```, ```map#get()```, ```map.put()```. In addition, you can use another ```DelayQueue```, which will be more efficient.\r\nRefer: https://gist.github.com/pcan/16faf4e59942678377e0\r\nor [PassiveExpiringMap][2] \r\n\r\nB. Use a watchdog to check, ```sleep``` for a while after each check.\r\nRefer:```apache#mina-org.apache.mina.util.ExpiringMap```.\r\n\r\nC.Use a ```timer```: [expiringmap][1].\r\n\r\n\r\n  [1]: https://github.com/jhalterman/expiringmap\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/PassiveExpiringMap.html","title":"Insert object to a map with ttl","body":"<p>I think it is not a good design to use a thread to check continuously(use <code>while true</code>), it will  consume a lot of resources.</p>\n<p>You can consider another implementation: use a <code>timer</code> internally, such as a <code>ScheduledExecutorService</code>, and start a timing task at the same time when inserting data. For example, the survival time of a key is 5 seconds, then start a task to be executed after 5 seconds to delete the key.</p>\n<p>You can take a look at <a href=\"https://github.com/jhalterman/expiringmap\" rel=\"nofollow noreferrer\">expiringmap</a>.</p>\n<p>Edit, generally there are these ways, from <a href=\"https://stackoverflow.com/questions/3802370/java-time-based-map-cache-with-expiring-keys\">Java time-based map/cache with expiring keys</a>,</p>\n<p>A. Perform a cleanup operation every time this map is used. For example, a thread calls <code>map#size()</code>, <code>map#get()</code>, <code>map.put()</code>. In addition, you can use another <code>DelayQueue</code>, which will be more efficient.\nRefer: <a href=\"https://gist.github.com/pcan/16faf4e59942678377e0\" rel=\"nofollow noreferrer\">https://gist.github.com/pcan/16faf4e59942678377e0</a>\nor <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/PassiveExpiringMap.html\" rel=\"nofollow noreferrer\">PassiveExpiringMap</a></p>\n<p>B. Use a watchdog to check, <code>sleep</code> for a while after each check.\nRefer:<code>apache#mina-org.apache.mina.util.ExpiringMap</code>.</p>\n<p>C.Use a <code>timer</code>: <a href=\"https://github.com/jhalterman/expiringmap\" rel=\"nofollow noreferrer\">expiringmap</a>.</p>\n"},{"tags":[],"owner":{"account_id":1007292,"reputation":166,"user_id":1020692,"display_name":"The Bartman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637961169,"creation_date":1637956891,"answer_id":70129509,"question_id":70123862,"body_markdown":"Looks like use case for DelayQueue. This is an implementation of BlockingQueue.\r\n\r\nA BlockingQueue will block a thread reading from the queue until an element is present.\r\n\r\nFor a very good explanation of BlockingQueue see https://youtu.be/d3xb1Nj88pw\r\n\r\nDelayQueue is a special kind of BlockingQueue where elements in the Queue are only visible for the reading thread when a delay has expired.\r\n\r\nSee https://howtodoinjava.com/java/multi-threading/java-delayqueue/ ","title":"Insert object to a map with ttl","body":"<p>Looks like use case for DelayQueue. This is an implementation of BlockingQueue.</p>\n<p>A BlockingQueue will block a thread reading from the queue until an element is present.</p>\n<p>For a very good explanation of BlockingQueue see <a href=\"https://youtu.be/d3xb1Nj88pw\" rel=\"nofollow noreferrer\">https://youtu.be/d3xb1Nj88pw</a></p>\n<p>DelayQueue is a special kind of BlockingQueue where elements in the Queue are only visible for the reading thread when a delay has expired.</p>\n<p>See <a href=\"https://howtodoinjava.com/java/multi-threading/java-delayqueue/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/multi-threading/java-delayqueue/</a></p>\n"}],"owner":{"account_id":18524717,"reputation":1,"user_id":13496862,"display_name":"Shmuel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638104938,"creation_date":1637926911,"question_id":70123862,"body_markdown":"I am trying to implement some kind of map with the following characteristics.\r\n\r\nEvery item should be removed after the time-to-live has elapsed (unless time-to-live is 0 and then the item does not expire)\r\nget, put, remove, size should all have a complexity of o(1) in average\r\n\r\nI have called a thread inside a constructor that goes in a ```while(true)``` loop and check if the ttl has expired \r\n\r\nthe code of the thread \r\n\r\n        class ttlWatchdog extends Thread {\r\n\t\t@SneakyThrows\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tlong timeToSleep ;\r\n\t\t\tSystem.out.println(&quot;Initiating Cleaner Thread..&quot;);\r\n\t\t\twhile (true) {\r\n\t\t\t\ttimeToSleep = checkExpiredKeys();//need to change it to a diffrent\r\n\t\t\t\t//System.out.println(&quot;thread will sleep for  &quot; + timeToSleep + &quot;msc&quot; );\r\n\t\t\t\tThread.sleep(timeToSleep);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic long checkExpiredKeys() throws BadParameterException {\r\n\r\n\t\t\t// Just remove if timeToLive has been set before...\r\n\t\t\tlong timeToWake = 0;\r\n\t\t\tlong currentTime = System.currentTimeMillis();\r\n\t\t\tint counter =0 ;\r\n\t\t\tSet&lt;Map.Entry&lt;String, ObjectTimeStampPair&gt; &gt;s = valuesMap.entrySet().stream().filter(a-&gt; a.getValue().getTtl()!=0).collect(Collectors.toSet());\r\n\t\t\tfor (Map.Entry&lt;String, ObjectTimeStampPair&gt; e : s) {\r\n\t\t\t\tlong timeItShouldRemove = e.getValue().getTtl();\r\n\t\t\t\tif ((currentTime ) &gt;= timeItShouldRemove) {\r\n\t\t\t\t\tremove(e.getKey());\r\n\t\t\t\t}else {// we need to take the minimum for the while loop everything here is bigger than current time i need to find the minumum\r\n\t\t\t\t\tif (counter == 0 ){ // if it is the first element take it\r\n\t\t\t\t\t\ttimeToWake = e.getValue().getTtl();\r\n\t\t\t\t\t\tcounter ++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (timeToWake &gt; timeItShouldRemove){\r\n\t\t\t\t\t\ttimeToWake = timeItShouldRemove;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlong result = timeToWake !=0 ? timeToWake -currentTime : 0 ;\r\n\t\t\t//System.out.print(&quot;the time to wake is &quot; +  timeToWake + &quot; the current time is &quot; + currentTime + &quot; and the result is &quot; +   result);\r\n\t\t\treturn result;\r\n\r\n\t//\r\n\r\n\t\t}\r\n\r\n\r\n\r\nmy problem is with the  ```while(true)``` which is not very efficient especially when the map is empty or it is full of object with unlimited ttl.\r\n           ","title":"Insert object to a map with ttl","body":"<p>I am trying to implement some kind of map with the following characteristics.</p>\n<p>Every item should be removed after the time-to-live has elapsed (unless time-to-live is 0 and then the item does not expire)\nget, put, remove, size should all have a complexity of o(1) in average</p>\n<p>I have called a thread inside a constructor that goes in a <code>while(true)</code> loop and check if the ttl has expired</p>\n<p>the code of the thread</p>\n<pre><code>    class ttlWatchdog extends Thread {\n    @SneakyThrows\n    @Override\n    public void run() {\n        long timeToSleep ;\n        System.out.println(&quot;Initiating Cleaner Thread..&quot;);\n        while (true) {\n            timeToSleep = checkExpiredKeys();//need to change it to a diffrent\n            //System.out.println(&quot;thread will sleep for  &quot; + timeToSleep + &quot;msc&quot; );\n            Thread.sleep(timeToSleep);\n\n        }\n    }\n    public long checkExpiredKeys() throws BadParameterException {\n\n        // Just remove if timeToLive has been set before...\n        long timeToWake = 0;\n        long currentTime = System.currentTimeMillis();\n        int counter =0 ;\n        Set&lt;Map.Entry&lt;String, ObjectTimeStampPair&gt; &gt;s = valuesMap.entrySet().stream().filter(a-&gt; a.getValue().getTtl()!=0).collect(Collectors.toSet());\n        for (Map.Entry&lt;String, ObjectTimeStampPair&gt; e : s) {\n            long timeItShouldRemove = e.getValue().getTtl();\n            if ((currentTime ) &gt;= timeItShouldRemove) {\n                remove(e.getKey());\n            }else {// we need to take the minimum for the while loop everything here is bigger than current time i need to find the minumum\n                if (counter == 0 ){ // if it is the first element take it\n                    timeToWake = e.getValue().getTtl();\n                    counter ++;\n                }\n                else if (timeToWake &gt; timeItShouldRemove){\n                    timeToWake = timeItShouldRemove;\n                }\n\n            }\n        }\n        long result = timeToWake !=0 ? timeToWake -currentTime : 0 ;\n        //System.out.print(&quot;the time to wake is &quot; +  timeToWake + &quot; the current time is &quot; + currentTime + &quot; and the result is &quot; +   result);\n        return result;\n\n//\n\n    }\n</code></pre>\n<p>my problem is with the  <code>while(true)</code> which is not very efficient especially when the map is empty or it is full of object with unlimited ttl.</p>\n"},{"tags":["java","spring","cdi","apache-tika","wildfly-10"],"comments":[{"owner":{"account_id":3123895,"reputation":533,"user_id":2643153,"display_name":"DEREK LEE"},"score":0,"creation_date":1517854092,"post_id":48107926,"comment_id":84254429,"body_markdown":"Did you find the solution ?","body":"Did you find the solution ?"}],"answers":[{"tags":[],"owner":{"account_id":281082,"reputation":11615,"user_id":577181,"accept_rate":20,"display_name":"John Ament"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515212417,"creation_date":1515212417,"answer_id":48124225,"question_id":48107926,"body_markdown":"If you&#39;re developing a spring app, you probably want to just turn off CDI.  In which case your `beans.xml` should be:\r\n\r\n    &lt;beans\r\n        xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;\r\n      http://xmlns.jcp.org/xml/ns/javaee\r\n      http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot; bean-discovery-mode=&quot;none&quot;&gt;\r\n    &lt;/beans&gt;","title":"Managed bean with a parameterized bean class must be @Dependent: class org.apache.cxf.jaxrs.provider.AbstractCachingMessageProvider","body":"<p>If you're developing a spring app, you probably want to just turn off CDI.  In which case your <code>beans.xml</code> should be:</p>\n\n<pre><code>&lt;beans\n    xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"\n  http://xmlns.jcp.org/xml/ns/javaee\n  http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd\" bean-discovery-mode=\"none\"&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13559150,"reputation":11,"user_id":9781537,"display_name":"Grigory Telichko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526284379,"creation_date":1526284379,"answer_id":50325470,"question_id":48107926,"body_markdown":"Spring app deploy exception on wildfly 12.0.0.Final\r\n\r\n    Caused by: org.jboss.weld.exceptions.DefinitionException: WELD-000071: Managed bean with a parameterized bean class must be @Dependent: class org.apache.cxf.jaxrs.provider.DataSourceProvider\r\n\r\nProblem dependency\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nSolution help me fixed exception is rename in web.xml contextConfigLocation   \r\n`&lt;param-value&gt;WEB-INF/beans.xml&lt;/param-value&gt;` deploy exception  \r\n`&lt;param-value&gt;WEB-INF/application.xml&lt;/param-value&gt;` deploy success\r\n","title":"Managed bean with a parameterized bean class must be @Dependent: class org.apache.cxf.jaxrs.provider.AbstractCachingMessageProvider","body":"<p>Spring app deploy exception on wildfly 12.0.0.Final</p>\n\n<pre><code>Caused by: org.jboss.weld.exceptions.DefinitionException: WELD-000071: Managed bean with a parameterized bean class must be @Dependent: class org.apache.cxf.jaxrs.provider.DataSourceProvider\n</code></pre>\n\n<p>Problem dependency</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Solution help me fixed exception is rename in web.xml contextConfigLocation<br>\n<code>&lt;param-value&gt;WEB-INF/beans.xml&lt;/param-value&gt;</code> deploy exception<br>\n<code>&lt;param-value&gt;WEB-INF/application.xml&lt;/param-value&gt;</code> deploy success</p>\n"},{"tags":[],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638104934,"creation_date":1632220486,"answer_id":69267409,"question_id":48107926,"body_markdown":"I found a solution here:\r\n\r\nhttps://stackoverflow.com/a/34418949\r\n\r\nYou should create a jboss-all.xml with the following content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss xmlns=&quot;urn:jboss:1.0&quot;&gt;\r\n        &lt;weld xmlns=&quot;urn:jboss:weld:1.0&quot; require-bean-descriptor=&quot;true&quot;/&gt;\r\n    &lt;/jboss&gt;\r\n\r\nand place it under webapp/META-INF.","title":"Managed bean with a parameterized bean class must be @Dependent: class org.apache.cxf.jaxrs.provider.AbstractCachingMessageProvider","body":"<p>I found a solution here:</p>\n<p><a href=\"https://stackoverflow.com/a/34418949\">https://stackoverflow.com/a/34418949</a></p>\n<p>You should create a jboss-all.xml with the following content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss xmlns=&quot;urn:jboss:1.0&quot;&gt;\n    &lt;weld xmlns=&quot;urn:jboss:weld:1.0&quot; require-bean-descriptor=&quot;true&quot;/&gt;\n&lt;/jboss&gt;\n</code></pre>\n<p>and place it under webapp/META-INF.</p>\n"}],"owner":{"account_id":5664363,"reputation":47,"user_id":4480938,"accept_rate":0,"display_name":"sharoon d&#39;cunha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1638104934,"creation_date":1515131560,"question_id":48107926,"body_markdown":"After adding **tika parser** in my application I am getting the following error in my Spring Application. I am  running the application on `wildfly 10.1.1 final`.\r\n\r\n    11:11:30,371 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;MyApp.war&quot;.WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;MyApp.war&quot;.WeldStartService: Failed to start service\r\n            at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.jboss.weld.exceptions.DefinitionException: WELD-000071: Managed bean with a parameterized bean class must be @Dependent: class org.apache.cxf.jaxrs.provider.AbstractCachingMessageProvider\r\n            at org.jboss.weld.bean.ManagedBean.checkType(ManagedBean.java:208)\r\n            at org.jboss.weld.bean.AbstractBean.initializeAfterBeanDiscovery(AbstractBean.java:107)\r\n            at org.jboss.weld.bean.ManagedBean.initializeAfterBeanDiscovery(ManagedBean.java:122)\r\n            at org.jboss.weld.bootstrap.ConcurrentBeanDeployer$AfterBeanDiscoveryInitializerFactory.doWork(ConcurrentBeanDeployer.java:136)\r\n            at org.jboss.weld.bootstrap.ConcurrentBeanDeployer$AfterBeanDiscoveryInitializerFactory.doWork(ConcurrentBeanDeployer.java:127)\r\n            at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:63)\r\n            at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:56)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n            at org.jboss.threads.JBossThread.run(JBossThread.java:320)\r\n\r\nAs per the solutions previously given I have included the following files in my application:\r\n \r\n\r\n 1. `jboss-all.xml` - Location is (`src/main/resources/META-INF/`)\r\n 2. `beans.xml` - Location is (`src/main/webapp/WEB-INF/`)\r\n\r\n\r\nThe contents are as follows :\r\n\r\n **beans.xml**\r\n\r\n    &lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; \t version=&quot;2.5&quot;\r\n        bean-discovery-mode=&quot;annotated&quot;&gt;   \r\n    &lt;/beans&gt;\r\n\r\n **jboss-all.xml**\r\n\r\n    &lt;jboss xmlns=&quot;urn:jboss:1.0&quot;&gt;\r\n        &lt;weld xmlns=&quot;urn:jboss:weld:1.0&quot; require-bean-descriptor=&quot;true&quot;/&gt;\r\n    &lt;/jboss&gt;\r\n\r\nPlease let me know if anything else to be done for the fix . I am still getting the same exception as mentioned above .\r\n","title":"Managed bean with a parameterized bean class must be @Dependent: class org.apache.cxf.jaxrs.provider.AbstractCachingMessageProvider","body":"<p>After adding <strong>tika parser</strong> in my application I am getting the following error in my Spring Application. I am  running the application on <code>wildfly 10.1.1 final</code>.</p>\n\n<pre><code>11:11:30,371 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.\"MyApp.war\".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.\"MyApp.war\".WeldStartService: Failed to start service\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.weld.exceptions.DefinitionException: WELD-000071: Managed bean with a parameterized bean class must be @Dependent: class org.apache.cxf.jaxrs.provider.AbstractCachingMessageProvider\n        at org.jboss.weld.bean.ManagedBean.checkType(ManagedBean.java:208)\n        at org.jboss.weld.bean.AbstractBean.initializeAfterBeanDiscovery(AbstractBean.java:107)\n        at org.jboss.weld.bean.ManagedBean.initializeAfterBeanDiscovery(ManagedBean.java:122)\n        at org.jboss.weld.bootstrap.ConcurrentBeanDeployer$AfterBeanDiscoveryInitializerFactory.doWork(ConcurrentBeanDeployer.java:136)\n        at org.jboss.weld.bootstrap.ConcurrentBeanDeployer$AfterBeanDiscoveryInitializerFactory.doWork(ConcurrentBeanDeployer.java:127)\n        at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:63)\n        at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:56)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:320)\n</code></pre>\n\n<p>As per the solutions previously given I have included the following files in my application:</p>\n\n<ol>\n<li><code>jboss-all.xml</code> - Location is (<code>src/main/resources/META-INF/</code>)</li>\n<li><code>beans.xml</code> - Location is (<code>src/main/webapp/WEB-INF/</code>)</li>\n</ol>\n\n<p>The contents are as follows :</p>\n\n<p><strong>beans.xml</strong></p>\n\n<pre><code>&lt;beans xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\n    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"   version=\"2.5\"\n    bean-discovery-mode=\"annotated\"&gt;   \n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>jboss-all.xml</strong></p>\n\n<pre><code>&lt;jboss xmlns=\"urn:jboss:1.0\"&gt;\n    &lt;weld xmlns=\"urn:jboss:weld:1.0\" require-bean-descriptor=\"true\"/&gt;\n&lt;/jboss&gt;\n</code></pre>\n\n<p>Please let me know if anything else to be done for the fix . I am still getting the same exception as mentioned above .</p>\n"},{"tags":["java","string","pangram"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":2,"creation_date":1474483124,"post_id":39624133,"comment_id":66553675,"body_markdown":"Would be terribly helpful to know what the program is supposed to do.","body":"Would be terribly helpful to know what the program is supposed to do."},{"owner":{"account_id":7449446,"reputation":106,"user_id":5664717,"display_name":"M.Amini"},"score":0,"creation_date":1474483597,"post_id":39624133,"comment_id":66553907,"body_markdown":"The program recognizes a &#39;pangram&#39;. A sentence that contains all the letters of alphabet and obviously this algorithm needs a lot of corrections :)","body":"The program recognizes a &#39;pangram&#39;. A sentence that contains all the letters of alphabet and obviously this algorithm needs a lot of corrections :)"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638104781,"creation_date":1474483121,"answer_id":39624172,"question_id":39624133,"body_markdown":"\r\n    s.toLowerCase();\r\n\r\nshould be\r\n\r\n    s = s.toLowerCase();\r\n\r\nsince String is immutable, so `toLowerCase()` returns a new `String` and doesn&#39;t change the original `String`.\r\n\r\nYour code failed to detect the Pangram for the input `&quot;We promptly judged antique ivory buckles for the next prize&quot;` since your loops tested the original input `String` instead of the lower case version of it, and there are no occurences of `w` in the original `String`.","title":"Pangram detector not recognizing every pangram","body":"<pre><code>s.toLowerCase();\n</code></pre>\n<p>should be</p>\n<pre><code>s = s.toLowerCase();\n</code></pre>\n<p>since String is immutable, so <code>toLowerCase()</code> returns a new <code>String</code> and doesn't change the original <code>String</code>.</p>\n<p>Your code failed to detect the Pangram for the input <code>&quot;We promptly judged antique ivory buckles for the next prize&quot;</code> since your loops tested the original input <code>String</code> instead of the lower case version of it, and there are no occurences of <code>w</code> in the original <code>String</code>.</p>\n"}],"owner":{"account_id":9138845,"reputation":11,"user_id":6797496,"display_name":"amar nigam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1474483176,"answer_count":1,"score":0,"last_activity_date":1638104781,"creation_date":1474482980,"question_id":39624133,"body_markdown":"I&#39;ve written a [pangram][1] detector in Java.\r\n\r\nSome of the test cases are giving the wrong answer, for example:\r\n&quot;We promptly judged antique ivory buckles for the next prize&quot;.\r\n\r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n            Scanner scan=new Scanner(System.in);\r\n            String s=scan.nextLine();\r\n            s.toLowerCase();\r\n           if(s.length()&lt;26){\r\n               System.out.println(&quot;not pangram&quot;);\r\n               System.exit(1);\r\n           }\r\n            char arr[]=s.toCharArray();\r\n            int counter=0;\r\n            char c=&#39;a&#39;;\r\n            for(c=&#39;a&#39;;c&lt;=&#39;z&#39;;c++){\r\n                for(int i=0;i&lt;arr.length;i++){\r\n                    if(arr[i]==c){\r\n                        counter++;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if(counter==26){\r\n                System.out.println(&quot;pangram&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;not pangram&quot;);\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n\r\n[1]:https://en.wikipedia.org/wiki/Pangram","title":"Pangram detector not recognizing every pangram","body":"<p>I've written a <a href=\"https://en.wikipedia.org/wiki/Pangram\" rel=\"nofollow\">pangram</a> detector in Java.</p>\n\n<p>Some of the test cases are giving the wrong answer, for example:\n\"We promptly judged antique ivory buckles for the next prize\".</p>\n\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n        Scanner scan=new Scanner(System.in);\n        String s=scan.nextLine();\n        s.toLowerCase();\n       if(s.length()&lt;26){\n           System.out.println(\"not pangram\");\n           System.exit(1);\n       }\n        char arr[]=s.toCharArray();\n        int counter=0;\n        char c='a';\n        for(c='a';c&lt;='z';c++){\n            for(int i=0;i&lt;arr.length;i++){\n                if(arr[i]==c){\n                    counter++;\n                    break;\n                }\n            }\n        }\n        if(counter==26){\n            System.out.println(\"pangram\");\n        }\n        else{\n            System.out.println(\"not pangram\");\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement","compiler-errors"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1477562976,"post_id":40281769,"comment_id":67821989,"body_markdown":"In your second code snippet, because of your `if-else` `j` is guaranteed to be initialized eventually in one way or the other.","body":"In your second code snippet, because of your <code>if-else</code> <code>j</code> is guaranteed to be initialized eventually in one way or the other."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1477565076,"post_id":40281769,"comment_id":67823300,"body_markdown":"The last code doesn&#39;t compile since `j` is not declated. Not sure what you expected. But a local variable [must be initialized](http://stackoverflow.com/questions/415687/why-are-local-variables-not-initialized-in-java) before being used. Which is what the linked question explains, with the same code as you have. Look also at the &quot;Related&quot; questions containing the exact same error.","body":"The last code doesn&#39;t compile since <code>j</code> is not declated. Not sure what you expected. But a local variable <a href=\"http://stackoverflow.com/questions/415687/why-are-local-variables-not-initialized-in-java\">must be initialized</a> before being used. Which is what the linked question explains, with the same code as you have. Look also at the &quot;Related&quot; questions containing the exact same error."},{"owner":{"account_id":5730076,"reputation":83,"user_id":4525885,"display_name":"Pr4njal"},"score":0,"creation_date":1477565494,"post_id":40281769,"comment_id":67823571,"body_markdown":"@Tunaki  yeah there were some minor mistakes, now you can check it and the link you provided was different from this question","body":"@Tunaki  yeah there were some minor mistakes, now you can check it and the link you provided was different from this question"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1477565546,"post_id":40281769,"comment_id":67823612,"body_markdown":"That is exactly the same code as your first example. Please, refer to the linked question and all of its related questions. A local variable **must be** initialized.","body":"That is exactly the same code as your first example. Please, refer to the linked question and all of its related questions. A local variable <b>must be</b> initialized."},{"owner":{"account_id":5730076,"reputation":83,"user_id":4525885,"display_name":"Pr4njal"},"score":0,"creation_date":1477566211,"post_id":40281769,"comment_id":67824083,"body_markdown":"@Tunaki My last example may be little bit same but I have declared `int i`as `final`. Due to this change, last one gets compiled but not the first one, even though in both `j` isn&#39;t initialized.","body":"@Tunaki My last example may be little bit same but I have declared <code>int i</code>as <code>final</code>. Due to this change, last one gets compiled but not the first one, even though in both <code>j</code> isn&#39;t initialized."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1477570827,"post_id":40281769,"comment_id":67827168,"body_markdown":"Why are you focusing on what the compiler will do? [The Java Language Specification mandates the code **not** to compile](http://stackoverflow.com/questions/415687/why-are-local-variables-not-initialized-in-java). It would be an error for the compiler to compile that code. It doesn&#39;t even matter that the `if` is always true: the spec says that code must not compile, regardless of what the checked conditions actually are.","body":"Why are you focusing on what the compiler will do? <a href=\"http://stackoverflow.com/questions/415687/why-are-local-variables-not-initialized-in-java\">The Java Language Specification mandates the code <b>not</b> to compile</a>. It would be an error for the compiler to compile that code. It doesn&#39;t even matter that the <code>if</code> is always true: the spec says that code must not compile, regardless of what the checked conditions actually are."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1638104763,"creation_date":1477562820,"answer_id":40281814,"question_id":40281769,"body_markdown":"In the first snippet, the compiler doesn&#39;t analyze the value of `i` to determine that `if(i == 10)` would always be true and hence `j` would also be initialized.\r\n\r\nTherefore, as far as the compiler is concerned, if the condition is evaluated to false, `j` is never initialized and cannot be accessed.\r\n\r\nThe second snippet is guaranteed to always initialize `j`, either in the `if` clause or the `else` clause. Therefore it passes compilation.","title":"Why adding one else statement is changing whole scenario?","body":"<p>In the first snippet, the compiler doesn't analyze the value of <code>i</code> to determine that <code>if(i == 10)</code> would always be true and hence <code>j</code> would also be initialized.</p>\n<p>Therefore, as far as the compiler is concerned, if the condition is evaluated to false, <code>j</code> is never initialized and cannot be accessed.</p>\n<p>The second snippet is guaranteed to always initialize <code>j</code>, either in the <code>if</code> clause or the <code>else</code> clause. Therefore it passes compilation.</p>\n"}],"owner":{"account_id":5730076,"reputation":83,"user_id":4525885,"display_name":"Pr4njal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1477562820,"answer_count":1,"score":1,"last_activity_date":1638104763,"creation_date":1477562673,"question_id":40281769,"body_markdown":"In Java if we provide following statement, it will produce compilation error:\r\n\r\n    class A {\r\n\r\n    public static void main(String[] args){\r\n        int i = 10;\r\n        int j;\r\n        if(i == 10) {\r\n           j = 20;\r\n        }\r\n        System.out.println(j);\r\n       }\r\n    }\r\n      \r\nBut in the following statement, no compilation error:\r\n\r\n    class A{ \r\n   \r\n    public static void main(String[] args){\r\n        int i = 10;\r\n        int j;\r\n        if(i == 10) {\r\n           j = 20;\r\n         }\r\n        else {\r\n           j = 30;\r\n         }\r\n        System.out.println(j);\r\n        }\r\n      }\r\n\r\nNeither this produces compilation error:\r\n\r\n    class A{\r\n        public static void main(String[] args) {\r\n           final int i = 10;\r\n           int j;\r\n           if(i == 10){\r\n              j = 20;\r\n             }\r\n           System.out.println(j);\r\n          }\r\n         }\r\n\r\nWhat is the reason?\r\n\r\n","title":"Why adding one else statement is changing whole scenario?","body":"<p>In Java if we provide following statement, it will produce compilation error:</p>\n\n<pre><code>class A {\n\npublic static void main(String[] args){\n    int i = 10;\n    int j;\n    if(i == 10) {\n       j = 20;\n    }\n    System.out.println(j);\n   }\n}\n</code></pre>\n\n<p>But in the following statement, no compilation error:</p>\n\n<pre><code>class A{ \n\npublic static void main(String[] args){\n    int i = 10;\n    int j;\n    if(i == 10) {\n       j = 20;\n     }\n    else {\n       j = 30;\n     }\n    System.out.println(j);\n    }\n  }\n</code></pre>\n\n<p>Neither this produces compilation error:</p>\n\n<pre><code>class A{\n    public static void main(String[] args) {\n       final int i = 10;\n       int j;\n       if(i == 10){\n          j = 20;\n         }\n       System.out.println(j);\n      }\n     }\n</code></pre>\n\n<p>What is the reason?</p>\n"},{"tags":["java","spring","applicationcontext"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638104648,"post_id":70143661,"comment_id":123993522,"body_markdown":"You cannot mock a variable which is assigned by creating a new instance by using the `new` keyword. Use a DI framework (like Spring) and inject the instance. Then you can mock it from your tests. Or use something like Powermock","body":"You cannot mock a variable which is assigned by creating a new instance by using the <code>new</code> keyword. Use a DI framework (like Spring) and inject the instance. Then you can mock it from your tests. Or use something like Powermock"},{"owner":{"account_id":18125327,"reputation":85,"user_id":13180908,"display_name":"Shridha Jalihal"},"score":0,"creation_date":1638104738,"post_id":70143661,"comment_id":123993544,"body_markdown":"Hi @user7 Can you elaborate by giving me an example?","body":"Hi @user7 Can you elaborate by giving me an example?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638104831,"post_id":70143661,"comment_id":123993561,"body_markdown":"Note: using powermock is not recommended. See [Why not PowerMock](https://stackoverflow.com/questions/30162200/why-not-powermock)","body":"Note: using powermock is not recommended. See <a href=\"https://stackoverflow.com/questions/30162200/why-not-powermock\">Why not PowerMock</a>"},{"owner":{"account_id":18125327,"reputation":85,"user_id":13180908,"display_name":"Shridha Jalihal"},"score":0,"creation_date":1638105183,"post_id":70143661,"comment_id":123993649,"body_markdown":"ok I am somehow realizing that I am not following good programming principles :(","body":"ok I am somehow realizing that I am not following good programming principles :("}],"owner":{"account_id":18125327,"reputation":85,"user_id":13180908,"display_name":"Shridha Jalihal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638107037,"answer_count":0,"score":0,"last_activity_date":1638104653,"creation_date":1638104481,"question_id":70143661,"body_markdown":"\r\n\r\n&gt; I have a spring based (no springboot) application inside which I have\r\n&gt; a class as below:\r\n\r\n     public class MyClass {\r\n        \r\n         private static final ApplicationContext context = new AnnotationConfigApplicationContext(AppContext.class);\r\n         \r\n        MyClass (){\r\n         //get the beans from the applicationcontext that myClass is dependent on\r\n        }\r\n        \r\n        //class methods\r\n        \r\n        }\r\n        \r\n\r\n  \r\n\r\n \r\n\r\n&gt; I am trying to unit test MyClass class , but I am unable to mock the\r\n&gt; context that is loaded here -\r\n\r\n    \r\n     \r\n     private static final ApplicationContext context = new \r\n           AnnotationConfigApplicationContext(AppContext.class);\r\n    \r\n Please help me here!!! ","title":"Mock ApplicationContext of a class for a Spring based application","body":"<blockquote>\n<p>I have a spring based (no springboot) application inside which I have\na class as below:</p>\n</blockquote>\n<pre><code> public class MyClass {\n    \n     private static final ApplicationContext context = new AnnotationConfigApplicationContext(AppContext.class);\n     \n    MyClass (){\n     //get the beans from the applicationcontext that myClass is dependent on\n    }\n    \n    //class methods\n    \n    }\n    \n</code></pre>\n<blockquote>\n<p>I am trying to unit test MyClass class , but I am unable to mock the\ncontext that is loaded here -</p>\n</blockquote>\n<pre><code> private static final ApplicationContext context = new \n       AnnotationConfigApplicationContext(AppContext.class);\n</code></pre>\n<p>Please help me here!!!</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1638101404,"post_id":70143247,"comment_id":123992899,"body_markdown":"Hint: Try to divide the list into 2 lists like b,d,f and a,c,e etc. Now, the merging becomes easy.","body":"Hint: Try to divide the list into 2 lists like b,d,f and a,c,e etc. Now, the merging becomes easy."},{"owner":{"account_id":23443271,"reputation":5,"user_id":17500450,"display_name":"Major_Uff"},"score":1,"creation_date":1638102383,"post_id":70143247,"comment_id":123993063,"body_markdown":"Will try thank you","body":"Will try thank you"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638104542,"creation_date":1638104542,"answer_id":70143669,"question_id":70143247,"body_markdown":"As @nice_dev stated, you can split it into 2 lists and then merge them in the correct way.\r\n\r\nAnother solution would be to use a recursive approach. The method to change the order of the elements can look like this:\r\n```java\r\n  public void changeOrderSwapTwo() {\r\n    \r\n    if(first.next == null) {\r\n      //no other elements in list: nothing to swap\r\n      return;\r\n    }\r\n    //first element always has to be null, so skip this from swapping\r\n    swapRecursive(first.next);\r\n  }\r\n\r\n  private void swapRecursive(LinkedListElement listElement) {\r\n    //no next element -&gt; nothing to swap\r\n    if(listElement.next == null) {\r\n      return;\r\n    }\r\n    // if the next element has another next element,\r\n    // execute this method on this one too\r\n    if(listElement.next.next != null) {\r\n      swapRecursive(listElement.next.next);\r\n    }\r\n\r\n    //swapping the elements\r\n    Object temp = listElement.next.element;\r\n    listElement.next.element = listElement.element;\r\n    listElement.element =temp;\r\n  }\r\n```\r\n\r\nHere is the full implementation i created:\r\n```java\r\npublic class MyLinkedList {\r\n  protected LinkedListElement first;\r\n  protected LinkedListElement last;\r\n\r\n  public MyLinkedList() {\r\n    this.first = new LinkedListElement(null);\r\n    this.last = first;\r\n  }\r\n\r\n  public void add(Object o) {\r\n    this.last.next = new LinkedListElement(o);\r\n    this.last = this.last.next;\r\n  }\r\n\r\n  public void changeOrderSwapTwo() {\r\n    if(first.next == null) {\r\n      return;\r\n    }\r\n    swapRecursive(first.next);\r\n  }\r\n\r\n  private void swapRecursive(LinkedListElement listElement) {\r\n    if(listElement.next == null) {\r\n      return;\r\n    }\r\n    if(listElement.next.next != null) {\r\n      swapRecursive(listElement.next.next);\r\n    }\r\n\r\n    Object temp = listElement.next.element;\r\n    listElement.next.element = listElement.element;\r\n    listElement.element =temp;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;[&quot; + (first.next != null ? first.next : &quot;&quot;) + &quot;]&quot;;\r\n  }\r\n}\r\n```\r\n```java\r\nclass LinkedListElement {\r\n  Object element;\r\n  LinkedListElement next;\r\n\r\n  LinkedListElement(Object obj)\r\n  {\r\n    element = obj;\r\n    next = null;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return element.toString() + (next != null ? &quot;, &quot; + next : &quot;&quot;);\r\n  }\r\n}\r\n```\r\n\r\nLet&#39;s do a Test:\r\n```java\r\npublic class TestApp {\r\n\r\n  public static void main(String[] args) {\r\n    MyLinkedList list = new MyLinkedList();\r\n    list.add(&quot;A&quot;);\r\n    list.add(&quot;B&quot;);\r\n    list.add(&quot;C&quot;);\r\n    list.add(&quot;D&quot;);\r\n    list.add(&quot;E&quot;);\r\n\r\n    System.out.println(&quot;Before: &quot; + list);\r\n    list.changeOrderSwapTwo();\r\n    System.out.println(&quot;After: &quot; + list);\r\n  }\r\n}\r\n```\r\nwill produce the output:\r\n```\r\nBefore: [A, B, C, D, E]\r\nAfter: [B, A, D, C, E]\r\n```","title":"How do i rearrange elements in a list?","body":"<p>As @nice_dev stated, you can split it into 2 lists and then merge them in the correct way.</p>\n<p>Another solution would be to use a recursive approach. The method to change the order of the elements can look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void changeOrderSwapTwo() {\n    \n    if(first.next == null) {\n      //no other elements in list: nothing to swap\n      return;\n    }\n    //first element always has to be null, so skip this from swapping\n    swapRecursive(first.next);\n  }\n\n  private void swapRecursive(LinkedListElement listElement) {\n    //no next element -&gt; nothing to swap\n    if(listElement.next == null) {\n      return;\n    }\n    // if the next element has another next element,\n    // execute this method on this one too\n    if(listElement.next.next != null) {\n      swapRecursive(listElement.next.next);\n    }\n\n    //swapping the elements\n    Object temp = listElement.next.element;\n    listElement.next.element = listElement.element;\n    listElement.element =temp;\n  }\n</code></pre>\n<p>Here is the full implementation i created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyLinkedList {\n  protected LinkedListElement first;\n  protected LinkedListElement last;\n\n  public MyLinkedList() {\n    this.first = new LinkedListElement(null);\n    this.last = first;\n  }\n\n  public void add(Object o) {\n    this.last.next = new LinkedListElement(o);\n    this.last = this.last.next;\n  }\n\n  public void changeOrderSwapTwo() {\n    if(first.next == null) {\n      return;\n    }\n    swapRecursive(first.next);\n  }\n\n  private void swapRecursive(LinkedListElement listElement) {\n    if(listElement.next == null) {\n      return;\n    }\n    if(listElement.next.next != null) {\n      swapRecursive(listElement.next.next);\n    }\n\n    Object temp = listElement.next.element;\n    listElement.next.element = listElement.element;\n    listElement.element =temp;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;[&quot; + (first.next != null ? first.next : &quot;&quot;) + &quot;]&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class LinkedListElement {\n  Object element;\n  LinkedListElement next;\n\n  LinkedListElement(Object obj)\n  {\n    element = obj;\n    next = null;\n  }\n\n  @Override\n  public String toString() {\n    return element.toString() + (next != null ? &quot;, &quot; + next : &quot;&quot;);\n  }\n}\n</code></pre>\n<p>Let's do a Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestApp {\n\n  public static void main(String[] args) {\n    MyLinkedList list = new MyLinkedList();\n    list.add(&quot;A&quot;);\n    list.add(&quot;B&quot;);\n    list.add(&quot;C&quot;);\n    list.add(&quot;D&quot;);\n    list.add(&quot;E&quot;);\n\n    System.out.println(&quot;Before: &quot; + list);\n    list.changeOrderSwapTwo();\n    System.out.println(&quot;After: &quot; + list);\n  }\n}\n</code></pre>\n<p>will produce the output:</p>\n<pre><code>Before: [A, B, C, D, E]\nAfter: [B, A, D, C, E]\n</code></pre>\n"}],"owner":{"account_id":23443271,"reputation":5,"user_id":17500450,"display_name":"Major_Uff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1638104542,"creation_date":1638101266,"question_id":70143247,"body_markdown":"i have to java classes defined :\r\n\r\nThe first is :\r\n\r\n     public class LinkedList {\r\n\tprotected LinkedListElement first;\r\n\tprotected LinkedListElement last;  //and so on ...\r\n\r\nFor context the LinkedListElement first == null all the time, and the first.nextElement is the first non null elemen. And the LinedListElement last == \r\n\r\nThe second is :\r\n\r\n\r\n\r\n    public class LinkedListElement {\r\n\tObject element;\r\n\tLinkedListElement next;\r\n\t\r\n\tLinkedListElement(Object obj)\r\n\t{\r\n\t\telement = obj;\r\n\t\tnext = null;\r\n\t}\r\n\t\r\n\tLinkedListElement(Object obj, LinkedListElement nxt)\r\n\t{\r\n\t\telement = obj;\r\n\t\tnext = nxt;\r\n\t}}\r\n\r\nThey both work fine and i managed to make a function that reverses the order of elements\r\n\r\nNow i need to write a function for the linkedList that changes the order of its&#39; LinkedListElements in a way that changes the order from [a,b,c,d,e,f,..] to [b,a,d,c,f,e...] \r\nand it can happen that the list is an uneven number then it changes like this: example  [a,b,c,d,e] --&gt;  [b,a,d,c,e]\r\ni have no idea how to even approach this without getting a can&#39;t get .next of null;\r\ncan anybody help me on how to solve this or maybe give a hint on how to approach said problem. \r\ntnx\r\n","title":"How do i rearrange elements in a list?","body":"<p>i have to java classes defined :</p>\n<p>The first is :</p>\n<pre><code> public class LinkedList {\nprotected LinkedListElement first;\nprotected LinkedListElement last;  //and so on ...\n</code></pre>\n<p>For context the LinkedListElement first == null all the time, and the first.nextElement is the first non null elemen. And the LinedListElement last ==</p>\n<p>The second is :</p>\n<pre><code>public class LinkedListElement {\nObject element;\nLinkedListElement next;\n\nLinkedListElement(Object obj)\n{\n    element = obj;\n    next = null;\n}\n\nLinkedListElement(Object obj, LinkedListElement nxt)\n{\n    element = obj;\n    next = nxt;\n}}\n</code></pre>\n<p>They both work fine and i managed to make a function that reverses the order of elements</p>\n<p>Now i need to write a function for the linkedList that changes the order of its' LinkedListElements in a way that changes the order from [a,b,c,d,e,f,..] to [b,a,d,c,f,e...]\nand it can happen that the list is an uneven number then it changes like this: example  [a,b,c,d,e] --&gt;  [b,a,d,c,e]\ni have no idea how to even approach this without getting a can't get .next of null;\ncan anybody help me on how to solve this or maybe give a hint on how to approach said problem.\ntnx</p>\n"},{"tags":["java","database","spring-boot","spring-mvc","dto"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638104317,"creation_date":1638104317,"answer_id":70143640,"question_id":70143583,"body_markdown":"You are creating a brand new `Item` object before setting properties in your DTO. That is why you are getting `id` and `itemName` as null.\r\n```java\r\npublic ItemsOwnedByUserDto itemsOwnedByUserDto(User user) {\r\n    ItemsOwnedByUserDto dto =\r\n            modelMapper.map(Item.class, ItemsOwnedByUserDto.class);\r\n    Item item = new Item();\r\n\r\n    dto.setId(item.getId());          // item.getId() is null\r\n    dto.setItemName(item.getName());  // item.getName() is null\r\n    dto.setOwnerId(user.getId());\r\n    dto.setOwnerName(user.getUserName());\r\n    return dto;\r\n}\r\n```","title":"Why am I getting nulls registered in my dto?","body":"<p>You are creating a brand new <code>Item</code> object before setting properties in your DTO. That is why you are getting <code>id</code> and <code>itemName</code> as null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ItemsOwnedByUserDto itemsOwnedByUserDto(User user) {\n    ItemsOwnedByUserDto dto =\n            modelMapper.map(Item.class, ItemsOwnedByUserDto.class);\n    Item item = new Item();\n\n    dto.setId(item.getId());          // item.getId() is null\n    dto.setItemName(item.getName());  // item.getName() is null\n    dto.setOwnerId(user.getId());\n    dto.setOwnerName(user.getUserName());\n    return dto;\n}\n</code></pre>\n"}],"owner":{"account_id":23196033,"reputation":1,"user_id":17291660,"display_name":"georgik1_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1990,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638104317,"creation_date":1638103907,"question_id":70143583,"body_markdown":"This is a small spring-boot project.\r\n\r\nI have to print out :\r\n\r\n    [\r\n    \r\n       {\r\n    \r\n          &quot;id&quot;:3,\r\n    \r\n          &quot;name&quot;:Item1,\r\n    \r\n          &quot;ownerId&quot;:1,\r\n    \r\n          ownerUsername:&quot;User1&quot;\r\n    \r\n       }\r\n    \r\n    ]\r\n\r\ninstead I get:\r\n\r\n    [{&quot;id&quot;:null,&quot;itemName&quot;:null,&quot;ownerName&quot;:&quot;ivan&quot;,&quot;ownerId&quot;:1}]\r\n\r\n**Here is my User entity:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;username&quot;)\r\n        private String userName;\r\n    \r\n        @Column(name = &quot;account_num&quot;)\r\n        private int account;\r\n    \r\n        @Column(name = &quot;is_seller&quot;)\r\n        private boolean isSeller;\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    \r\n        public void setUserName(String userName) {\r\n            this.userName = userName;\r\n        }\r\n    \r\n        public int getAccount() {\r\n            return account;\r\n        }\r\n    \r\n        public void setAccount(int account) {\r\n            this.account = account;\r\n        }\r\n    \r\n        public boolean isSeller() {\r\n            return isSeller;\r\n        }\r\n    \r\n        public void setSeller(boolean seller) {\r\n            isSeller = seller;\r\n        }\r\n    }\r\n\r\n**Here is my Item entity:**\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;item_name&quot;)\r\n        private String name;\r\n    \r\n        @ManyToOne\r\n        private User user;\r\n    \r\n        public Item() {\r\n        }\r\n    \r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public User getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(User userId) {\r\n            this.user = userId;\r\n        }\r\n    }\r\n\r\n\r\n**Here is my ItemService:**\r\n\r\n    @Service\r\n    public class ItemServiceImp  {\r\n    \r\n        @Autowired\r\n        private ItemRepository itemRepository;\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        private ModelMapper modelMapper;\r\n    \r\n    \r\n        public List&lt;ItemsOwnedByUserDto&gt; getAllItems() {\r\n            return userRepository.findAll()\r\n                    .stream()\r\n                    .map(this::itemsOwnedByUserDto)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n    \r\n        public ItemsOwnedByUserDto itemsOwnedByUserDto(User user) {\r\n            ItemsOwnedByUserDto dto =\r\n                    modelMapper.map(Item.class, ItemsOwnedByUserDto.class);\r\n            Item item = new Item();\r\n    \r\n            dto.setId(item.getId());\r\n            dto.setItemName(item.getName());\r\n            dto.setOwnerId(user.getId());\r\n            dto.setOwnerName(user.getUserName());\r\n            return dto;\r\n        }\r\n    }\r\n\r\n**Here is my Controller calss:**\r\n\r\n    @RestController\r\n    public class ItemViewController {\r\n    \r\n        @Autowired\r\n        private ItemServiceImp itemServiceImp;\r\n    \r\n    \r\n        @GetMapping(&quot;/users-items&quot;)\r\n        public List&lt;ItemsOwnedByUserDto&gt; viewItems(){\r\n            return itemServiceImp.getAllItems();\r\n        }\r\n    }\r\n\r\n\r\n[I have created rows in the database, but it seems like I can&#39;t retrieve them inside the Service.This is the **items** table][1]\r\n\r\n\r\n[And this is the **users** table][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WyGf0.png\r\n  [2]: https://i.stack.imgur.com/Ef6ju.png","title":"Why am I getting nulls registered in my dto?","body":"<p>This is a small spring-boot project.</p>\n<p>I have to print out :</p>\n<pre><code>[\n\n   {\n\n      &quot;id&quot;:3,\n\n      &quot;name&quot;:Item1,\n\n      &quot;ownerId&quot;:1,\n\n      ownerUsername:&quot;User1&quot;\n\n   }\n\n]\n</code></pre>\n<p>instead I get:</p>\n<pre><code>[{&quot;id&quot;:null,&quot;itemName&quot;:null,&quot;ownerName&quot;:&quot;ivan&quot;,&quot;ownerId&quot;:1}]\n</code></pre>\n<p><strong>Here is my User entity:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;account_num&quot;)\n    private int account;\n\n    @Column(name = &quot;is_seller&quot;)\n    private boolean isSeller;\n\n    public User() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public int getAccount() {\n        return account;\n    }\n\n    public void setAccount(int account) {\n        this.account = account;\n    }\n\n    public boolean isSeller() {\n        return isSeller;\n    }\n\n    public void setSeller(boolean seller) {\n        isSeller = seller;\n    }\n}\n</code></pre>\n<p><strong>Here is my Item entity:</strong></p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;item_name&quot;)\n    private String name;\n\n    @ManyToOne\n    private User user;\n\n    public Item() {\n    }\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User userId) {\n        this.user = userId;\n    }\n}\n</code></pre>\n<p><strong>Here is my ItemService:</strong></p>\n<pre><code>@Service\npublic class ItemServiceImp  {\n\n    @Autowired\n    private ItemRepository itemRepository;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n\n    public List&lt;ItemsOwnedByUserDto&gt; getAllItems() {\n        return userRepository.findAll()\n                .stream()\n                .map(this::itemsOwnedByUserDto)\n                .collect(Collectors.toList());\n    }\n\n\n    public ItemsOwnedByUserDto itemsOwnedByUserDto(User user) {\n        ItemsOwnedByUserDto dto =\n                modelMapper.map(Item.class, ItemsOwnedByUserDto.class);\n        Item item = new Item();\n\n        dto.setId(item.getId());\n        dto.setItemName(item.getName());\n        dto.setOwnerId(user.getId());\n        dto.setOwnerName(user.getUserName());\n        return dto;\n    }\n}\n</code></pre>\n<p><strong>Here is my Controller calss:</strong></p>\n<pre><code>@RestController\npublic class ItemViewController {\n\n    @Autowired\n    private ItemServiceImp itemServiceImp;\n\n\n    @GetMapping(&quot;/users-items&quot;)\n    public List&lt;ItemsOwnedByUserDto&gt; viewItems(){\n        return itemServiceImp.getAllItems();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WyGf0.png\" rel=\"nofollow noreferrer\">I have created rows in the database, but it seems like I can't retrieve them inside the Service.This is the <strong>items</strong> table</a></p>\n<p><a href=\"https://i.stack.imgur.com/Ef6ju.png\" rel=\"nofollow noreferrer\">And this is the <strong>users</strong> table</a></p>\n"},{"tags":["java","casting","double"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1638104179,"creation_date":1466967115,"answer_id":38042033,"question_id":38041996,"body_markdown":"`(double)(1/2)` first computes `1/2`, which results in `0` (int division), and then casts the result to `double` (which gives `0.0`).\r\n\r\n`(double)1/2` first casts `1` to `double` and then divides `1.0` by `2` (floating point division), resulting in `0.5`. This is equivalent to `1.0/2` or `1/2.0`.","title":"difference between (double)(1/2) and (double)1/2 in java","body":"<p><code>(double)(1/2)</code> first computes <code>1/2</code>, which results in <code>0</code> (int division), and then casts the result to <code>double</code> (which gives <code>0.0</code>).</p>\n<p><code>(double)1/2</code> first casts <code>1</code> to <code>double</code> and then divides <code>1.0</code> by <code>2</code> (floating point division), resulting in <code>0.5</code>. This is equivalent to <code>1.0/2</code> or <code>1/2.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":8474872,"reputation":1158,"user_id":6356432,"display_name":"sim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466967843,"creation_date":1466967240,"answer_id":38042060,"question_id":38041996,"body_markdown":"The difference is the operator precedence and type promotion. In the case (double)1/2, 1 is casted to double and divided by 2 after promotion of the int 2 to double 2.0, i.e., a double division is calculated. In the case (double)(1/2) an integer division is executed and thus the result is 0, which is afterwards casted to double, i.e., 0.0.","title":"difference between (double)(1/2) and (double)1/2 in java","body":"<p>The difference is the operator precedence and type promotion. In the case (double)1/2, 1 is casted to double and divided by 2 after promotion of the int 2 to double 2.0, i.e., a double division is calculated. In the case (double)(1/2) an integer division is executed and thus the result is 0, which is afterwards casted to double, i.e., 0.0.</p>\n"},{"tags":[],"owner":{"account_id":4652882,"reputation":622,"user_id":3769237,"accept_rate":75,"display_name":"Dando18"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466967258,"creation_date":1466967258,"answer_id":38042062,"question_id":38041996,"body_markdown":"`(double) (1/2)`, where `(1/2)` is evaluated to `0`, because 1 and 2 are integers and the decimal is truncated. The `1/2` is evaluated first.\r\n\r\n`(double) 1/2` is the same as `((double)1)/2`, which will return a double answer so the decimal will not be truncated.","title":"difference between (double)(1/2) and (double)1/2 in java","body":"<p><code>(double) (1/2)</code>, where <code>(1/2)</code> is evaluated to <code>0</code>, because 1 and 2 are integers and the decimal is truncated. The <code>1/2</code> is evaluated first.</p>\n\n<p><code>(double) 1/2</code> is the same as <code>((double)1)/2</code>, which will return a double answer so the decimal will not be truncated.</p>\n"}],"owner":{"account_id":8708695,"reputation":79,"user_id":6515681,"display_name":"Saeed Hassan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"closed_date":1466967792,"accepted_answer_id":38042033,"answer_count":3,"score":3,"last_activity_date":1638104179,"creation_date":1466966990,"question_id":38041996,"body_markdown":"I want to know the difference between\r\n \r\n    System.out.print((double)1/2);\r\n    System.out.print((double)(1/2));\r\n\r\nThe first answer I got was  0.5, but the second one gives 0.0 .\r\nThanks in advance.","title":"difference between (double)(1/2) and (double)1/2 in java","body":"<p>I want to know the difference between</p>\n\n<pre><code>System.out.print((double)1/2);\nSystem.out.print((double)(1/2));\n</code></pre>\n\n<p>The first answer I got was  0.5, but the second one gives 0.0 .\nThanks in advance.</p>\n"},{"tags":["java","android","firebase-realtime-database","qr-code"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1637939578,"post_id":70125937,"comment_id":123963977,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":19487128,"reputation":7,"user_id":14256234,"display_name":"billy"},"score":0,"creation_date":1637944839,"post_id":70125937,"comment_id":123965826,"body_markdown":"@AlexMamo so i want the `private static final String Code = &quot;newsenyum&quot;;` being on firebase admin account","body":"@AlexMamo so i want the <code>private static final String Code = &quot;newsenyum&quot;;</code> being on firebase admin account"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638006857,"post_id":70125937,"comment_id":123976247,"body_markdown":"I&#39;m sorry I still don&#39;t understand what you are looking for,","body":"I&#39;m sorry I still don&#39;t understand what you are looking for,"},{"owner":{"account_id":19487128,"reputation":7,"user_id":14256234,"display_name":"billy"},"score":0,"creation_date":1638022098,"post_id":70125937,"comment_id":123979220,"body_markdown":"@AlexMamo i want to check a string that is exist on the realtime firebase that look like `barcode code : pa29h9h75dg`, something like checking if this string of text exist on the firebase but not only in one account","body":"@AlexMamo i want to check a string that is exist on the realtime firebase that look like <code>barcode code : pa29h9h75dg</code>, something like checking if this string of text exist on the firebase but not only in one account"},{"owner":{"account_id":19487128,"reputation":7,"user_id":14256234,"display_name":"billy"},"score":0,"creation_date":1638022755,"post_id":70125937,"comment_id":123979362,"body_markdown":"@AlexMamo maybe i tried to explain more specific on the top question, i alrd edit it, sorry if i got bad english here, hard to explain my problem","body":"@AlexMamo maybe i tried to explain more specific on the top question, i alrd edit it, sorry if i got bad english here, hard to explain my problem"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638084600,"creation_date":1638022802,"answer_id":70135593,"question_id":70125937,"body_markdown":"To check if a particular bar code exists in the database, you need to use a Query object. So please use the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference adminRef = db.child(&quot;Admin&quot;);\r\n    Query queryByCode = adminRef.orderByChild(&quot;barcode code&quot;).equalTo(&quot;pa29h9h75dg&quot;);\r\n    queryByCode.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n                DataSnapshot snapshot = task.getResult();\r\n                if(snapshot.exists()) {\r\n                    Log.d(&quot;TAG&quot;, &quot;Barcode already exists.&quot;);\r\n\r\n\t\t\t\t\tfor (DataSnapshot ds : snapshot.getChildren()) {\r\n\t\t\t\t\t\tString id = ds.child(&quot;id&quot;).getValue(String.class);\r\n\t\t\t\t\t\tLog.d(&quot;TAG&quot;, id);\r\n\t\t\t\t\t}\r\n                } else {\r\n                    Log.d(&quot;TAG&quot;, &quot;Barcode doesn&#39;t exist.&quot;);\r\n                }\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nThe result in the logcat will be:\r\n\r\n    Lela","title":"i needed a way to check data, is that exist or not on realtime database","body":"<p>To check if a particular bar code exists in the database, you need to use a Query object. So please use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference adminRef = db.child(&quot;Admin&quot;);\nQuery queryByCode = adminRef.orderByChild(&quot;barcode code&quot;).equalTo(&quot;pa29h9h75dg&quot;);\nqueryByCode.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            DataSnapshot snapshot = task.getResult();\n            if(snapshot.exists()) {\n                Log.d(&quot;TAG&quot;, &quot;Barcode already exists.&quot;);\n\n                for (DataSnapshot ds : snapshot.getChildren()) {\n                    String id = ds.child(&quot;id&quot;).getValue(String.class);\n                    Log.d(&quot;TAG&quot;, id);\n                }\n            } else {\n                Log.d(&quot;TAG&quot;, &quot;Barcode doesn't exist.&quot;);\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>Lela\n</code></pre>\n"}],"owner":{"account_id":19487128,"reputation":7,"user_id":14256234,"display_name":"billy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638102900,"creation_date":1637936734,"question_id":70125937,"body_markdown":"i having an qr code layout that been used for opening higher authority activity layout, and how can i make/search the code online on the firebase database that look like below here\r\n\r\n[this what my firebase data look][1]\r\n\r\n\r\nbelow this what the code that can open to new activity, but i want the code was different each admin, so if the admin retire i dont need to change the code inside the app everytime\r\n```\r\n\r\npublic class BarcodeScanner extends AppCompatActivity {\r\n\r\n    private CodeScanner mCodeScanner;\r\n    private static final String Code = &quot;newsenyum&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_barcode_scanner);\r\n        CodeScannerView scannerView = findViewById(R.id.scanner_view);\r\n        mCodeScanner = new CodeScanner(this, scannerView);\r\n        mCodeScanner.setDecodeCallback(new DecodeCallback () {\r\n            @Override\r\n            public void onDecoded(@NonNull final Result result) {\r\n               BarcodeScanner.this.runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        String codeFromScanner = result.getText(); // initialize the code from scanner\r\n\r\n                        if(Code.equals (codeFromScanner.trim ())){\r\n                            redirectToNewActivity ();\r\n                        }else{\r\n                            Toast.makeText (BarcodeScanner.this, &quot;QRCode Tidak Dapat di Gunakan&quot;, Toast.LENGTH_SHORT).show ( );\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        scannerView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mCodeScanner.startPreview();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    private void redirectToNewActivity() {\r\n        startActivity (new Intent (getApplicationContext ( ), AdminUID.class));\r\n        finish ( );\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mCodeScanner.startPreview();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        mCodeScanner.releaseResources();\r\n        super.onPause();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n[this is the code][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lYUbp.png\r\n  [2]: https://i.stack.imgur.com/pIExs.png","title":"i needed a way to check data, is that exist or not on realtime database","body":"<p>i having an qr code layout that been used for opening higher authority activity layout, and how can i make/search the code online on the firebase database that look like below here</p>\n<p><a href=\"https://i.stack.imgur.com/lYUbp.png\" rel=\"nofollow noreferrer\">this what my firebase data look</a></p>\n<p>below this what the code that can open to new activity, but i want the code was different each admin, so if the admin retire i dont need to change the code inside the app everytime</p>\n<pre><code>\npublic class BarcodeScanner extends AppCompatActivity {\n\n    private CodeScanner mCodeScanner;\n    private static final String Code = &quot;newsenyum&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_barcode_scanner);\n        CodeScannerView scannerView = findViewById(R.id.scanner_view);\n        mCodeScanner = new CodeScanner(this, scannerView);\n        mCodeScanner.setDecodeCallback(new DecodeCallback () {\n            @Override\n            public void onDecoded(@NonNull final Result result) {\n               BarcodeScanner.this.runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n\n                        String codeFromScanner = result.getText(); // initialize the code from scanner\n\n                        if(Code.equals (codeFromScanner.trim ())){\n                            redirectToNewActivity ();\n                        }else{\n                            Toast.makeText (BarcodeScanner.this, &quot;QRCode Tidak Dapat di Gunakan&quot;, Toast.LENGTH_SHORT).show ( );\n                        }\n                    }\n                });\n            }\n        });\n\n\n        scannerView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mCodeScanner.startPreview();\n            }\n        });\n    }\n\n\n\n    private void redirectToNewActivity() {\n        startActivity (new Intent (getApplicationContext ( ), AdminUID.class));\n        finish ( );\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        mCodeScanner.startPreview();\n    }\n\n    @Override\n    protected void onPause() {\n        mCodeScanner.releaseResources();\n        super.onPause();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pIExs.png\" rel=\"nofollow noreferrer\">this is the code</a></p>\n"},{"tags":["java","android","basic4android"],"answers":[{"tags":[],"owner":{"account_id":955917,"reputation":28,"user_id":981223,"display_name":"stevel05"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614068763,"creation_date":1614022130,"answer_id":66322218,"question_id":66316993,"body_markdown":"The problem is caused because you are loading the layout twice.  Both Activity_Create and Activity_Resume are called when the app starts.\r\n\r\nYou can find out more about the app lifecycle here:https://www.b4x.com/android/forum/threads/android-activity-lifecycle.105551/#post-661112\r\n\r\nI also suggest that you look at using B4xPages - https://www.b4x.com/android/forum/threads/b4x-b4xpages-cross-platform-and-simple-framework-for-managing-multiple-pages.118901/post-743752.  \r\n\r\nLifecycle issues will be less of a problem using that framework even for a single page app.\r\n\r\nADDL: You are declaring Label1 and TBox in the Button1_Click Event sub, try removing these as well.  They are already declared in Globals and don&#39;t need to be declared again.","title":"Error in B4A: java.lang.RuntimeException: Object should first be initialized (EditText)","body":"<p>The problem is caused because you are loading the layout twice.  Both Activity_Create and Activity_Resume are called when the app starts.</p>\n<p>You can find out more about the app lifecycle here:<a href=\"https://www.b4x.com/android/forum/threads/android-activity-lifecycle.105551/#post-661112\" rel=\"nofollow noreferrer\">https://www.b4x.com/android/forum/threads/android-activity-lifecycle.105551/#post-661112</a></p>\n<p>I also suggest that you look at using B4xPages - <a href=\"https://www.b4x.com/android/forum/threads/b4x-b4xpages-cross-platform-and-simple-framework-for-managing-multiple-pages.118901/post-743752\" rel=\"nofollow noreferrer\">https://www.b4x.com/android/forum/threads/b4x-b4xpages-cross-platform-and-simple-framework-for-managing-multiple-pages.118901/post-743752</a>.</p>\n<p>Lifecycle issues will be less of a problem using that framework even for a single page app.</p>\n<p>ADDL: You are declaring Label1 and TBox in the Button1_Click Event sub, try removing these as well.  They are already declared in Globals and don't need to be declared again.</p>\n"},{"tags":[],"owner":{"account_id":17281100,"reputation":1,"user_id":12514615,"display_name":"capitan_coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638102190,"creation_date":1638100421,"answer_id":70143128,"question_id":66316993,"body_markdown":"You must first initialize textbox and after that use:\r\n\r\n    textbox.initialize(&quot;EventName&quot;)","title":"Error in B4A: java.lang.RuntimeException: Object should first be initialized (EditText)","body":"<p>You must first initialize textbox and after that use:</p>\n<pre><code>textbox.initialize(&quot;EventName&quot;)\n</code></pre>\n"}],"owner":{"account_id":20230942,"reputation":11,"user_id":14837511,"display_name":"Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638102190,"creation_date":1614001946,"question_id":66316993,"body_markdown":"I have recently started to learn B4A (Basic For Android) which is an IDE that can be used to make Android apps.\r\n\r\nUnfortunately, I got an error while I was executing my code and I do not know how to fix it.\r\n\r\nThe error is: java.lang.RuntimeException: Object should first be initialized (EditText).\r\n\r\nI have no idea why I am getting this error please help!\r\n\r\nCode:\r\n\r\n        #Region  Project Attributes \r\n    \t#ApplicationLabel: Chatbot\r\n    \t#VersionCode: 1\r\n    \t#VersionName: \r\n    \t&#39;SupportedOrientations possible values: unspecified, landscape or portrait.\r\n    \t#SupportedOrientations: portrait\r\n    \t#CanInstallToExternalStorage: False\r\n    #End Region\r\n    \r\n    #Region  Activity Attributes \r\n    \t#FullScreen: True\r\n    \t#IncludeTitle: True\r\n    #End Region\r\n    \r\n    Sub Process_Globals\r\n    \t&#39;These global variables will be declared once when the application starts.\r\n    \t&#39;These variables can be accessed from all modules.\r\n    \tPrivate xui As XUI\r\n    End Sub\r\n    \r\n    Sub Globals\r\n    \t&#39;These global variables will be redeclared each time the activity is created.\r\n    \tPublic Label1 As Label\r\n    \tPublic TBox As EditText\r\n    End Sub\r\n    \r\n    Sub Activity_Create(FirstTime As Boolean)\r\n    \tActivity.LoadLayout(&quot;Layout&quot;)\r\n    End Sub\r\n    \r\n    Sub Activity_Resume\r\n    \tActivity.LoadLayout(&quot;Layout&quot;)\r\n    End Sub\r\n    \r\n    Sub Activity_Pause (UserClosed As Boolean)\r\n    \r\n    End Sub\r\n    \r\n    Sub Button1_Click\r\n    \tPrivate Label1 As Label\r\n    \tPrivate TBox As EditText\r\n    \tIf TBox.Text = &quot;hello&quot; Then \r\n    \t\tLabel1.Text = &quot;Hi!&quot;\r\n    \tElse \r\n    \t\tLabel1.Text = &quot;Invalid Command&quot;\r\n    \tEnd If\r\n    \tEnd Sub\r\n\r\nFull Error Log:\r\n\r\n    *** Service (starter) Create ***\r\n    ** Service (starter) Start **\r\n    ** Activity (main) Create, isFirst = true **\r\n    ** Activity (main) Resume **\r\n    main_button1_click (java line: 372)\r\n    java.lang.RuntimeException: Object should first be initialized (EditText).\r\n    \tat anywheresoftware.b4a.AbsObjectWrapper.getObject(AbsObjectWrapper.java:67)\r\n    \tat anywheresoftware.b4a.objects.TextViewWrapper.getText(TextViewWrapper.java:36)\r\n    \tat b4a.example.main._button1_click(main.java:372)\r\n    \tat java.lang.reflect.Method.invoke(Native Method)\r\n    \tat anywheresoftware.b4a.BA.raiseEvent2(BA.java:213)\r\n    \tat anywheresoftware.b4a.BA.raiseEvent2(BA.java:197)\r\n    \tat anywheresoftware.b4a.BA.raiseEvent(BA.java:193)\r\n    \tat anywheresoftware.b4a.objects.ViewWrapper$1.onClick(ViewWrapper.java:80)\r\n    \tat android.view.View.performClick(View.java:5638)\r\n    \tat android.view.View$PerformClick.run(View.java:22430)\r\n    \tat android.os.Handler.handleCallback(Handler.java:751)\r\n    \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n    \tat android.os.Looper.loop(Looper.java:154)\r\n    \tat android.app.ActivityThread.main(ActivityThread.java:6198)\r\n    \tat java.lang.reflect.Method.invoke(Native Method)\r\n    \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)\r\n    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)\r\n\r\nPlease Help!!!!","title":"Error in B4A: java.lang.RuntimeException: Object should first be initialized (EditText)","body":"<p>I have recently started to learn B4A (Basic For Android) which is an IDE that can be used to make Android apps.</p>\n<p>Unfortunately, I got an error while I was executing my code and I do not know how to fix it.</p>\n<p>The error is: java.lang.RuntimeException: Object should first be initialized (EditText).</p>\n<p>I have no idea why I am getting this error please help!</p>\n<p>Code:</p>\n<pre><code>    #Region  Project Attributes \n    #ApplicationLabel: Chatbot\n    #VersionCode: 1\n    #VersionName: \n    'SupportedOrientations possible values: unspecified, landscape or portrait.\n    #SupportedOrientations: portrait\n    #CanInstallToExternalStorage: False\n#End Region\n\n#Region  Activity Attributes \n    #FullScreen: True\n    #IncludeTitle: True\n#End Region\n\nSub Process_Globals\n    'These global variables will be declared once when the application starts.\n    'These variables can be accessed from all modules.\n    Private xui As XUI\nEnd Sub\n\nSub Globals\n    'These global variables will be redeclared each time the activity is created.\n    Public Label1 As Label\n    Public TBox As EditText\nEnd Sub\n\nSub Activity_Create(FirstTime As Boolean)\n    Activity.LoadLayout(&quot;Layout&quot;)\nEnd Sub\n\nSub Activity_Resume\n    Activity.LoadLayout(&quot;Layout&quot;)\nEnd Sub\n\nSub Activity_Pause (UserClosed As Boolean)\n\nEnd Sub\n\nSub Button1_Click\n    Private Label1 As Label\n    Private TBox As EditText\n    If TBox.Text = &quot;hello&quot; Then \n        Label1.Text = &quot;Hi!&quot;\n    Else \n        Label1.Text = &quot;Invalid Command&quot;\n    End If\n    End Sub\n</code></pre>\n<p>Full Error Log:</p>\n<pre><code>*** Service (starter) Create ***\n** Service (starter) Start **\n** Activity (main) Create, isFirst = true **\n** Activity (main) Resume **\nmain_button1_click (java line: 372)\njava.lang.RuntimeException: Object should first be initialized (EditText).\n    at anywheresoftware.b4a.AbsObjectWrapper.getObject(AbsObjectWrapper.java:67)\n    at anywheresoftware.b4a.objects.TextViewWrapper.getText(TextViewWrapper.java:36)\n    at b4a.example.main._button1_click(main.java:372)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at anywheresoftware.b4a.BA.raiseEvent2(BA.java:213)\n    at anywheresoftware.b4a.BA.raiseEvent2(BA.java:197)\n    at anywheresoftware.b4a.BA.raiseEvent(BA.java:193)\n    at anywheresoftware.b4a.objects.ViewWrapper$1.onClick(ViewWrapper.java:80)\n    at android.view.View.performClick(View.java:5638)\n    at android.view.View$PerformClick.run(View.java:22430)\n    at android.os.Handler.handleCallback(Handler.java:751)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6198)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)\n</code></pre>\n<p>Please Help!!!!</p>\n"},{"tags":["java","intellij-idea","spark-java","intellij-13"],"answers":[{"tags":[],"owner":{"account_id":8117081,"reputation":701,"user_id":6115246,"accept_rate":57,"display_name":"Druckermann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638101677,"creation_date":1638101677,"answer_id":70143296,"question_id":70143255,"body_markdown":"I got it:\r\n\r\nIn IntelliJ, under View -&gt; Tool Windows -&gt; Gradle there&#39;s an option to refresh everything Gradle related at the following button:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IKfEy.png\r\n\r\nUsing this refreshes the cache and yields the correctly imported dependency.","title":"IntelliJ cannot resolve symbol &#39;spark&#39; when importing Spark Java","body":"<p>I got it:</p>\n<p>In IntelliJ, under View -&gt; Tool Windows -&gt; Gradle there's an option to refresh everything Gradle related at the following button:\n<a href=\"https://i.stack.imgur.com/IKfEy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IKfEy.png\" alt=\"enter image description here\" /></a></p>\n<p>Using this refreshes the cache and yields the correctly imported dependency.</p>\n"}],"owner":{"account_id":8117081,"reputation":701,"user_id":6115246,"accept_rate":57,"display_name":"Druckermann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70143296,"answer_count":1,"score":1,"last_activity_date":1638101677,"creation_date":1638101366,"question_id":70143255,"body_markdown":"I am currently running the latest IntelliJ and I am trying to use SparkJava Webserver for a Gradle project I&#39;m writing.\r\nWhen I do compile and run with gradle everything works fine, however I am getting an error in \r\n\r\n    import static spark.Spark.*;\r\n\r\nWhere IntelliJ cannot resolve the symbol spark, even though I obviously have the correct dependency set in my build.gradle:\r\n\r\n        plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;org.example&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n        implementation &#39;mysql:mysql-connector-java:8.0.27&#39;\r\n        implementation &quot;com.sparkjava:spark-core:2.9.3&quot;\r\n        implementation &quot;org.slf4j:slf4j-simple:1.7.9&quot;\r\n    \r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nIs there any way to circumvent this? \r\n\r\nMany thanks in advance.","title":"IntelliJ cannot resolve symbol &#39;spark&#39; when importing Spark Java","body":"<p>I am currently running the latest IntelliJ and I am trying to use SparkJava Webserver for a Gradle project I'm writing.\nWhen I do compile and run with gradle everything works fine, however I am getting an error in</p>\n<pre><code>import static spark.Spark.*;\n</code></pre>\n<p>Where IntelliJ cannot resolve the symbol spark, even though I obviously have the correct dependency set in my build.gradle:</p>\n<pre><code>    plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n    implementation 'mysql:mysql-connector-java:8.0.27'\n    implementation &quot;com.sparkjava:spark-core:2.9.3&quot;\n    implementation &quot;org.slf4j:slf4j-simple:1.7.9&quot;\n\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Is there any way to circumvent this?</p>\n<p>Many thanks in advance.</p>\n"},{"tags":["java","apache-spark","hadoop","amazon-s3","pyspark"],"comments":[{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":1,"creation_date":1637689736,"post_id":70084703,"comment_id":123891880,"body_markdown":"How much space do you have on : ${fs.s3a.committer.staging.tmp.path}/${user} ?","body":"How much space do you have on : ${fs.s3a.committer.staging.tmp.path}/${user} ?"},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":1,"creation_date":1637689956,"post_id":70084703,"comment_id":123891971,"body_markdown":"Can you add the output of : &quot;ulimit -Hn&quot; on all machines that are used in the cluster.\nhttps://docs.cloudera.com/HDPDocuments/HDP2/HDP-2.6.1/bk_security/content/kerb-config-limits.html","body":"Can you add the output of : &quot;ulimit -Hn&quot; on all machines that are used in the cluster. <a href=\"https://docs.cloudera.com/HDPDocuments/HDP2/HDP-2.6.1/bk_security/content/kerb-config-limits.html\" rel=\"nofollow noreferrer\">docs.cloudera.com/HDPDocuments/HDP2/HDP-2.6.1/bk_security/&hellip;</a>"},{"owner":{"account_id":4967765,"reputation":2890,"user_id":4209528,"accept_rate":60,"display_name":"Ofer Eliassaf"},"score":0,"creation_date":1637690888,"post_id":70084703,"comment_id":123892370,"body_markdown":"ulimit -Hn\n1048576\n\n ${fs.s3a.committer.staging.tmp.path}\nIs HDFS file system with 3TB - empty.","body":"ulimit -Hn 1048576   ${fs.s3a.committer.staging.tmp.path} Is HDFS file system with 3TB - empty."},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1637691379,"post_id":70084703,"comment_id":123892599,"body_markdown":"Can you add your config for : fs.s3a.buffer.dir is it set the same as fs.s3a.committer.staging.tmp.path ?","body":"Can you add your config for : fs.s3a.buffer.dir is it set the same as fs.s3a.committer.staging.tmp.path ?"},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1637691851,"post_id":70084703,"comment_id":123892807,"body_markdown":"Try reducing: the number of threads \n\n    fs.s3a.threads.max  20\n\nDoes the issue change at all?","body":"Try reducing: the number of threads       fs.s3a.threads.max  20  Does the issue change at all?"},{"owner":{"account_id":4967765,"reputation":2890,"user_id":4209528,"accept_rate":60,"display_name":"Ofer Eliassaf"},"score":0,"creation_date":1637692892,"post_id":70084703,"comment_id":123893165,"body_markdown":"fs.s3a.buffer.dir is a directory on the local file system in size of 70GB.\n\nI will try to reduce the fs.s3a.threads.max to 20 - but I&#39;m not optimistic since it is 100 and i get 5000 threads.","body":"fs.s3a.buffer.dir is a directory on the local file system in size of 70GB.  I will try to reduce the fs.s3a.threads.max to 20 - but I&#39;m not optimistic since it is 100 and i get 5000 threads."},{"owner":{"account_id":4967765,"reputation":2890,"user_id":4209528,"accept_rate":60,"display_name":"Ofer Eliassaf"},"score":0,"creation_date":1637693192,"post_id":70084703,"comment_id":123893282,"body_markdown":"I see that fs.s3a.buffer.dir  is in the same volume as  spark.local.dir and both get 70GB. \nIs this a problem?\nWhat happens if this volume gets full?","body":"I see that fs.s3a.buffer.dir  is in the same volume as  spark.local.dir and both get 70GB.  Is this a problem? What happens if this volume gets full?"}],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637764431,"creation_date":1637698029,"answer_id":70087192,"question_id":70084703,"body_markdown":"Checkout [this article][1] on tuning for S3A.\r\n\r\nSpecifically I&#39;d look at this even though its categorized under array:\r\n\r\n&gt; You may need to perform careful tuning to reduce the risk of running out memory, especially if the data is buffered in memory. There are a\r\n&gt; number parameters which can be tuned:\r\n&gt; \r\n&gt; The total number of threads available in the filesystem for data\r\n&gt; uploads or any other queued filesystem operation. This is set in\r\n&gt; fs.s3a.threads.max.\r\n&gt; \r\n&gt; The number of operations which can be queued for execution, awaiting a\r\n&gt; thread. This is set in fs.s3a.max.total.tasks.\r\n&gt; \r\n&gt; The number of blocks which a single output stream can have active\r\n&gt; (that is, being uploaded by a thread or queued in the filesystem\r\n&gt; thread queue). This is set in fs.s3a.fast.upload.active.blocks.\r\n&gt; \r\n&gt; The length of time that an idle thread can stay in the thread pool\r\n&gt; before it is retired. This is set in fs.s3a.threads.keepalivetime.\r\n\r\nI think you might find reducing the number of threads will remove memory pressure.\r\n\r\nI also suggest you tune `fs.s3a.fast.upload.active.blocks` it will also alleviate memory pressure.  I think reducing the thread count should be your first move as 100 is a little aggressive.  You are likely capped on bandwidth and extra threads aren&#39;t likely doing anything but consuming memory.\r\n\r\n  [1]: https://docs.cloudera.com/HDPDocuments/HDP2/HDP-2.6.5/bk_cloud-data-access/content/s3a-fast-upload.html","title":"Apache Spark s3a committer - thread stack - out of memory issues","body":"<p>Checkout <a href=\"https://docs.cloudera.com/HDPDocuments/HDP2/HDP-2.6.5/bk_cloud-data-access/content/s3a-fast-upload.html\" rel=\"nofollow noreferrer\">this article</a> on tuning for S3A.</p>\n<p>Specifically I'd look at this even though its categorized under array:</p>\n<blockquote>\n<p>You may need to perform careful tuning to reduce the risk of running out memory, especially if the data is buffered in memory. There are a\nnumber parameters which can be tuned:</p>\n<p>The total number of threads available in the filesystem for data\nuploads or any other queued filesystem operation. This is set in\nfs.s3a.threads.max.</p>\n<p>The number of operations which can be queued for execution, awaiting a\nthread. This is set in fs.s3a.max.total.tasks.</p>\n<p>The number of blocks which a single output stream can have active\n(that is, being uploaded by a thread or queued in the filesystem\nthread queue). This is set in fs.s3a.fast.upload.active.blocks.</p>\n<p>The length of time that an idle thread can stay in the thread pool\nbefore it is retired. This is set in fs.s3a.threads.keepalivetime.</p>\n</blockquote>\n<p>I think you might find reducing the number of threads will remove memory pressure.</p>\n<p>I also suggest you tune <code>fs.s3a.fast.upload.active.blocks</code> it will also alleviate memory pressure.  I think reducing the thread count should be your first move as 100 is a little aggressive.  You are likely capped on bandwidth and extra threads aren't likely doing anything but consuming memory.</p>\n"},{"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638101630,"creation_date":1638101299,"answer_id":70143248,"question_id":70084703,"body_markdown":"It&#39;ll be [HADOOP-16570](https://issues.apache.org/jira/browse/HADOOP-16570) _S3A committers leak threads/raises OOM on job/task commit at scale_\r\n\r\nmove up to hadoop-3.3.0 binaries for the fix. Ideally to 3.3.1 to fix some other issues, especially duplicate jobIDs coming from spark. Not sure how far back into CDH releases that fix went; I could work out if you really need to now. Not CDH6.x, certainly","title":"Apache Spark s3a committer - thread stack - out of memory issues","body":"<p>It'll be <a href=\"https://issues.apache.org/jira/browse/HADOOP-16570\" rel=\"nofollow noreferrer\">HADOOP-16570</a> <em>S3A committers leak threads/raises OOM on job/task commit at scale</em></p>\n<p>move up to hadoop-3.3.0 binaries for the fix. Ideally to 3.3.1 to fix some other issues, especially duplicate jobIDs coming from spark. Not sure how far back into CDH releases that fix went; I could work out if you really need to now. Not CDH6.x, certainly</p>\n"}],"owner":{"account_id":4967765,"reputation":2890,"user_id":4209528,"accept_rate":60,"display_name":"Ofer Eliassaf"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638101630,"creation_date":1637686194,"question_id":70084703,"body_markdown":"I really need some help here:\r\n\r\nWe are using Spark3.1.2 using standalone cluster.\r\nSince we started using the s3a directory committer, our spark jobs stability and performance grew significantly!\r\n\r\nLately however we are completely baffled troubleshooting this s3a directory committer issue for days, and wonder if you have any idea what&#39;s going on?\r\n\r\nOur spark jobs fail because of  Java OOM (or rather process limit) error:\r\n\r\n```\r\n An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.\r\n\r\n: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\tat java.base/java.lang.Thread.start0(Native Method)\r\n\tat java.base/java.lang.Thread.start(Thread.java:803)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:937)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1343)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\tat java.base/java.util.concurrent.Executors$DelegatedExecutorService.submit(Executors.java:714)\r\n\tat org.apache.spark.rpc.netty.DedicatedMessageLoop.$anonfun$new$1(MessageLoop.scala:174)\r\n\tat org.apache.spark.rpc.netty.DedicatedMessageLoop.$anonfun$new$1$adapted(MessageLoop.scala:173)\r\n\tat scala.collection.immutable.Range.foreach(Range.scala:158)\r\n\tat org.apache.spark.rpc.netty.DedicatedMessageLoop.&lt;init&gt;(MessageLoop.scala:173)\r\n\tat org.apache.spark.rpc.netty.Dispatcher.liftedTree1$1(Dispatcher.scala:75)\r\n\tat org.apache.spark.rpc.netty.Dispatcher.registerRpcEndpoint(Dispatcher.scala:72)\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnv.setupEndpoint(NettyRpcEnv.scala:136)\r\n\tat org.apache.spark.storage.BlockManager.&lt;init&gt;(BlockManager.scala:231)\r\n\tat org.apache.spark.SparkEnv$.create(SparkEnv.scala:394)\r\n\tat org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:189)\r\n\tat org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:458)\r\n\tat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:238)\r\n\tat py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\r\n\tat py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\r\n\tat py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n```\r\n \r\n\r\nSpark Thread Dump shows over 5000 committer threads on the spark driver!\r\nHere is an example:\r\n\r\n```\r\nThread ID\tThread Name\tThread State\tThread Locks\r\n1047\ts3-committer-pool-0\tWAITING\t\r\n1449\ts3-committer-pool-0\tWAITING\t\r\n1468\ts3-committer-pool-0\tWAITING\t\r\n1485\ts3-committer-pool-0\tWAITING\t\r\n1505\ts3-committer-pool-0\tWAITING\t\r\n1524\ts3-committer-pool-0\tWAITING\t\r\n1529\ts3-committer-pool-0\tWAITING\t\r\n1544\ts3-committer-pool-0\tWAITING\t\r\n1549\ts3-committer-pool-0\tWAITING\t\r\n1809\ts3-committer-pool-0\tWAITING\t\r\n1972\ts3-committer-pool-0\tWAITING\t\r\n1998\ts3-committer-pool-0\tWAITING\t\r\n2022\ts3-committer-pool-0\tWAITING\t\r\n2043\ts3-committer-pool-0\tWAITING\t\r\n2416\ts3-committer-pool-0\tWAITING\t\r\n2453\ts3-committer-pool-0\tWAITING\t\r\n2470\ts3-committer-pool-0\tWAITING\t\r\n2517\ts3-committer-pool-0\tWAITING\t\r\n2534\ts3-committer-pool-0\tWAITING\t\r\n2551\ts3-committer-pool-0\tWAITING\t\r\n2580\ts3-committer-pool-0\tWAITING\t\r\n2597\ts3-committer-pool-0\tWAITING\t\r\n2614\ts3-committer-pool-0\tWAITING\t\r\n2631\ts3-committer-pool-0\tWAITING\t\r\n2726\ts3-committer-pool-0\tWAITING\t\r\n2743\ts3-committer-pool-0\tWAITING\t\r\n2763\ts3-committer-pool-0\tWAITING\t\r\n2780\ts3-committer-pool-0\tWAITING\t\r\n2819\ts3-committer-pool-0\tWAITING\t\r\n2841\ts3-committer-pool-0\tWAITING\t\r\n2858\ts3-committer-pool-0\tWAITING\t\r\n2875\ts3-committer-pool-0\tWAITING\t\r\n2925\ts3-committer-pool-0\tWAITING\t\r\n2942\ts3-committer-pool-0\tWAITING\t\r\n2963\ts3-committer-pool-0\tWAITING\t\r\n2980\ts3-committer-pool-0\tWAITING\t\r\n3020\ts3-committer-pool-0\tWAITING\t\r\n3037\ts3-committer-pool-0\tWAITING\t\r\n3055\ts3-committer-pool-0\tWAITING\t\r\n3072\ts3-committer-pool-0\tWAITING\t\r\n3127\ts3-committer-pool-0\tWAITING\t\r\n3144\ts3-committer-pool-0\tWAITING\t\r\n3163\ts3-committer-pool-0\tWAITING\t\r\n3180\ts3-committer-pool-0\tWAITING\t\r\n3222\ts3-committer-pool-0\tWAITING\t\r\n3242\ts3-committer-pool-0\tWAITING\t\r\n3259\ts3-committer-pool-0\tWAITING\t\r\n3278\ts3-committer-pool-0\tWAITING\t\r\n3418\ts3-committer-pool-0\tWAITING\t\r\n3435\ts3-committer-pool-0\tWAITING\t\r\n3452\ts3-committer-pool-0\tWAITING\t\r\n3469\ts3-committer-pool-0\tWAITING\t\r\n3486\ts3-committer-pool-0\tWAITING\t\r\n3491\ts3-committer-pool-0\tWAITING\t\r\n3501\ts3-committer-pool-0\tWAITING\t\r\n3508\ts3-committer-pool-0\tWAITING\t\r\n4029\ts3-committer-pool-0\tWAITING\t\r\n4093\ts3-committer-pool-0\tWAITING\t\r\n4658\ts3-committer-pool-0\tWAITING\t\r\n4666\ts3-committer-pool-0\tWAITING\t\r\n4907\ts3-committer-pool-0\tWAITING\t\r\n5102\ts3-committer-pool-0\tWAITING\t\r\n5119\ts3-committer-pool-0\tWAITING\t\r\n5158\ts3-committer-pool-0\tWAITING\t\r\n5175\ts3-committer-pool-0\tWAITING\t\r\n5192\ts3-committer-pool-0\tWAITING\t\r\n5209\ts3-committer-pool-0\tWAITING\t\r\n5226\ts3-committer-pool-0\tWAITING\t\r\n5395\ts3-committer-pool-0\tWAITING\t\r\n5634\ts3-committer-pool-0\tWAITING\t\r\n5651\ts3-committer-pool-0\tWAITING\t\r\n5668\ts3-committer-pool-0\tWAITING\t\r\n5685\ts3-committer-pool-0\tWAITING\t\r\n5702\ts3-committer-pool-0\tWAITING\t\r\n5722\ts3-committer-pool-0\tWAITING\t\r\n5739\ts3-committer-pool-0\tWAITING\t\r\n6144\ts3-committer-pool-0\tWAITING\t\r\n6167\ts3-committer-pool-0\tWAITING\t\r\n6289\ts3-committer-pool-0\tWAITING\t\r\n6588\ts3-committer-pool-0\tWAITING\t\r\n6628\ts3-committer-pool-0\tWAITING\t\r\n6645\ts3-committer-pool-0\tWAITING\t\r\n6662\ts3-committer-pool-0\tWAITING\t\r\n6675\ts3-committer-pool-0\tWAITING\t\r\n6692\ts3-committer-pool-0\tWAITING\t\r\n6709\ts3-committer-pool-0\tWAITING\t\r\n7049\ts3-committer-pool-0\tWAITING\t\r\n```\r\n \r\n\r\n \r\nThis is considering that our settings do not allow more than 100 threads\r\nOr we don&#39;t understand something\r\n\r\nHere is our configurations and settings:\r\n```\r\nfs.s3a.threads.max  100 \r\nfs.s3a.connection.maximum  1000 \r\nfs.s3a.committer.threads 16   \r\nfs.s3a.max.total.tasks  5\r\nfs.s3a.committer.name   directory\r\nfs.s3a.fast.upload.buffer                 disk\r\nio.file.buffer.size                                1048576\r\nmapreduce.outputcommitter.factory.scheme.s3a    - org.apache.hadoop.fs.s3a.commit.S3ACommitterFactory\r\n```\r\n \r\n\r\nWe had tried different versions of the spark Hadoop cloud library, but the issue is consistently the same.\r\n\r\n \r\n\r\nhttps://repository.cloudera.com/content/repositories/releases/org/apache/spark/spark-hadoop-cloud_2.11/2.4.0-cdh6.3.2/spark-hadoop-cloud_2.11-2.4.0-cdh6.3.2.jar\r\n\r\nhttps://repository.cloudera.com/artifactory/libs-release-local/org/apache/spark/spark-hadoop-cloud_2.11/2.4.0.7.0.3.0-79/spark-hadoop-cloud_2.11-2.4.0.7.0.3.0-79.jar\r\n\r\nhttps://repo1.maven.org/maven2/org/apache/spark/spark-hadoop-cloud_2.12/3.2.0/spark-hadoop-cloud_2.12-3.2.0.jar\r\n\r\nhttps://repository.cloudera.com/artifactory/libs-release-local/org/apache/spark/spark-hadoop-cloud_2.12/3.1.2.7.2.12.0-291/spark-hadoop-cloud_2.12-3.1.2.7.2.12.0-291.jar\r\n\r\n \r\n\r\nWe&#39;d really appreciate if you can point us in the right direction &#128522;\r\n\r\n \r\n\r\nThank you for your time!\r\n\r\n","title":"Apache Spark s3a committer - thread stack - out of memory issues","body":"<p>I really need some help here:</p>\n<p>We are using Spark3.1.2 using standalone cluster.\nSince we started using the s3a directory committer, our spark jobs stability and performance grew significantly!</p>\n<p>Lately however we are completely baffled troubleshooting this s3a directory committer issue for days, and wonder if you have any idea what's going on?</p>\n<p>Our spark jobs fail because of  Java OOM (or rather process limit) error:</p>\n<pre><code> An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.\n\n: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n    at java.base/java.lang.Thread.start0(Native Method)\n    at java.base/java.lang.Thread.start(Thread.java:803)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:937)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1343)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n    at java.base/java.util.concurrent.Executors$DelegatedExecutorService.submit(Executors.java:714)\n    at org.apache.spark.rpc.netty.DedicatedMessageLoop.$anonfun$new$1(MessageLoop.scala:174)\n    at org.apache.spark.rpc.netty.DedicatedMessageLoop.$anonfun$new$1$adapted(MessageLoop.scala:173)\n    at scala.collection.immutable.Range.foreach(Range.scala:158)\n    at org.apache.spark.rpc.netty.DedicatedMessageLoop.&lt;init&gt;(MessageLoop.scala:173)\n    at org.apache.spark.rpc.netty.Dispatcher.liftedTree1$1(Dispatcher.scala:75)\n    at org.apache.spark.rpc.netty.Dispatcher.registerRpcEndpoint(Dispatcher.scala:72)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.setupEndpoint(NettyRpcEnv.scala:136)\n    at org.apache.spark.storage.BlockManager.&lt;init&gt;(BlockManager.scala:231)\n    at org.apache.spark.SparkEnv$.create(SparkEnv.scala:394)\n    at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:189)\n    at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:458)\n    at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:238)\n    at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\n    at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\n    at py4j.GatewayConnection.run(GatewayConnection.java:238)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n</code></pre>\n<p>Spark Thread Dump shows over 5000 committer threads on the spark driver!\nHere is an example:</p>\n<pre><code>Thread ID   Thread Name Thread State    Thread Locks\n1047    s3-committer-pool-0 WAITING \n1449    s3-committer-pool-0 WAITING \n1468    s3-committer-pool-0 WAITING \n1485    s3-committer-pool-0 WAITING \n1505    s3-committer-pool-0 WAITING \n1524    s3-committer-pool-0 WAITING \n1529    s3-committer-pool-0 WAITING \n1544    s3-committer-pool-0 WAITING \n1549    s3-committer-pool-0 WAITING \n1809    s3-committer-pool-0 WAITING \n1972    s3-committer-pool-0 WAITING \n1998    s3-committer-pool-0 WAITING \n2022    s3-committer-pool-0 WAITING \n2043    s3-committer-pool-0 WAITING \n2416    s3-committer-pool-0 WAITING \n2453    s3-committer-pool-0 WAITING \n2470    s3-committer-pool-0 WAITING \n2517    s3-committer-pool-0 WAITING \n2534    s3-committer-pool-0 WAITING \n2551    s3-committer-pool-0 WAITING \n2580    s3-committer-pool-0 WAITING \n2597    s3-committer-pool-0 WAITING \n2614    s3-committer-pool-0 WAITING \n2631    s3-committer-pool-0 WAITING \n2726    s3-committer-pool-0 WAITING \n2743    s3-committer-pool-0 WAITING \n2763    s3-committer-pool-0 WAITING \n2780    s3-committer-pool-0 WAITING \n2819    s3-committer-pool-0 WAITING \n2841    s3-committer-pool-0 WAITING \n2858    s3-committer-pool-0 WAITING \n2875    s3-committer-pool-0 WAITING \n2925    s3-committer-pool-0 WAITING \n2942    s3-committer-pool-0 WAITING \n2963    s3-committer-pool-0 WAITING \n2980    s3-committer-pool-0 WAITING \n3020    s3-committer-pool-0 WAITING \n3037    s3-committer-pool-0 WAITING \n3055    s3-committer-pool-0 WAITING \n3072    s3-committer-pool-0 WAITING \n3127    s3-committer-pool-0 WAITING \n3144    s3-committer-pool-0 WAITING \n3163    s3-committer-pool-0 WAITING \n3180    s3-committer-pool-0 WAITING \n3222    s3-committer-pool-0 WAITING \n3242    s3-committer-pool-0 WAITING \n3259    s3-committer-pool-0 WAITING \n3278    s3-committer-pool-0 WAITING \n3418    s3-committer-pool-0 WAITING \n3435    s3-committer-pool-0 WAITING \n3452    s3-committer-pool-0 WAITING \n3469    s3-committer-pool-0 WAITING \n3486    s3-committer-pool-0 WAITING \n3491    s3-committer-pool-0 WAITING \n3501    s3-committer-pool-0 WAITING \n3508    s3-committer-pool-0 WAITING \n4029    s3-committer-pool-0 WAITING \n4093    s3-committer-pool-0 WAITING \n4658    s3-committer-pool-0 WAITING \n4666    s3-committer-pool-0 WAITING \n4907    s3-committer-pool-0 WAITING \n5102    s3-committer-pool-0 WAITING \n5119    s3-committer-pool-0 WAITING \n5158    s3-committer-pool-0 WAITING \n5175    s3-committer-pool-0 WAITING \n5192    s3-committer-pool-0 WAITING \n5209    s3-committer-pool-0 WAITING \n5226    s3-committer-pool-0 WAITING \n5395    s3-committer-pool-0 WAITING \n5634    s3-committer-pool-0 WAITING \n5651    s3-committer-pool-0 WAITING \n5668    s3-committer-pool-0 WAITING \n5685    s3-committer-pool-0 WAITING \n5702    s3-committer-pool-0 WAITING \n5722    s3-committer-pool-0 WAITING \n5739    s3-committer-pool-0 WAITING \n6144    s3-committer-pool-0 WAITING \n6167    s3-committer-pool-0 WAITING \n6289    s3-committer-pool-0 WAITING \n6588    s3-committer-pool-0 WAITING \n6628    s3-committer-pool-0 WAITING \n6645    s3-committer-pool-0 WAITING \n6662    s3-committer-pool-0 WAITING \n6675    s3-committer-pool-0 WAITING \n6692    s3-committer-pool-0 WAITING \n6709    s3-committer-pool-0 WAITING \n7049    s3-committer-pool-0 WAITING \n</code></pre>\n<p>This is considering that our settings do not allow more than 100 threads\nOr we don't understand something</p>\n<p>Here is our configurations and settings:</p>\n<pre><code>fs.s3a.threads.max  100 \nfs.s3a.connection.maximum  1000 \nfs.s3a.committer.threads 16   \nfs.s3a.max.total.tasks  5\nfs.s3a.committer.name   directory\nfs.s3a.fast.upload.buffer                 disk\nio.file.buffer.size                                1048576\nmapreduce.outputcommitter.factory.scheme.s3a    - org.apache.hadoop.fs.s3a.commit.S3ACommitterFactory\n</code></pre>\n<p>We had tried different versions of the spark Hadoop cloud library, but the issue is consistently the same.</p>\n<p><a href=\"https://repository.cloudera.com/content/repositories/releases/org/apache/spark/spark-hadoop-cloud_2.11/2.4.0-cdh6.3.2/spark-hadoop-cloud_2.11-2.4.0-cdh6.3.2.jar\" rel=\"nofollow noreferrer\">https://repository.cloudera.com/content/repositories/releases/org/apache/spark/spark-hadoop-cloud_2.11/2.4.0-cdh6.3.2/spark-hadoop-cloud_2.11-2.4.0-cdh6.3.2.jar</a></p>\n<p><a href=\"https://repository.cloudera.com/artifactory/libs-release-local/org/apache/spark/spark-hadoop-cloud_2.11/2.4.0.7.0.3.0-79/spark-hadoop-cloud_2.11-2.4.0.7.0.3.0-79.jar\" rel=\"nofollow noreferrer\">https://repository.cloudera.com/artifactory/libs-release-local/org/apache/spark/spark-hadoop-cloud_2.11/2.4.0.7.0.3.0-79/spark-hadoop-cloud_2.11-2.4.0.7.0.3.0-79.jar</a></p>\n<p><a href=\"https://repo1.maven.org/maven2/org/apache/spark/spark-hadoop-cloud_2.12/3.2.0/spark-hadoop-cloud_2.12-3.2.0.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/apache/spark/spark-hadoop-cloud_2.12/3.2.0/spark-hadoop-cloud_2.12-3.2.0.jar</a></p>\n<p><a href=\"https://repository.cloudera.com/artifactory/libs-release-local/org/apache/spark/spark-hadoop-cloud_2.12/3.1.2.7.2.12.0-291/spark-hadoop-cloud_2.12-3.1.2.7.2.12.0-291.jar\" rel=\"nofollow noreferrer\">https://repository.cloudera.com/artifactory/libs-release-local/org/apache/spark/spark-hadoop-cloud_2.12/3.1.2.7.2.12.0-291/spark-hadoop-cloud_2.12-3.1.2.7.2.12.0-291.jar</a></p>\n<p>We'd really appreciate if you can point us in the right direction </p>\n<p>Thank you for your time!</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638101207,"creation_date":1638101207,"answer_id":70143237,"question_id":70142277,"body_markdown":"Start by symbolizing the other case by `*` than `living` as in your conditional logic nested within the object with key name `living` as `Yes` vs. `*`. Then, convert the key names `familyMembers` and `living` by appropriate `&amp;` substitution as counting the `{` signs upto the level to reach their conforming names along with bracketed substitutions(`[&amp;1]`and`[&amp;3]`) which should reach the conforming index symbol under `familyMembers` array. \r\n\r\nFor example you&#39;ll count twice `{` in order to reach `living` key from its counterpart, and replace the leaf `living`s with `&amp;2` such as  \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;familyMembers&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;living&quot;: {\r\n            &quot;Yes&quot;: {\r\n              &quot;#true&quot;: &quot;&amp;4[&amp;3].&amp;2&quot;\r\n            },\r\n            &quot;*&quot;: {\r\n              &quot;#false&quot;: &quot;&amp;4[&amp;3].&amp;2&quot;\r\n            }\r\n          },\r\n          &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jM9Xl.jpg","title":"JOLT json array on a match apply String default","body":"<p>Start by symbolizing the other case by <code>*</code> than <code>living</code> as in your conditional logic nested within the object with key name <code>living</code> as <code>Yes</code> vs. <code>*</code>. Then, convert the key names <code>familyMembers</code> and <code>living</code> by appropriate <code>&amp;</code> substitution as counting the <code>{</code> signs upto the level to reach their conforming names along with bracketed substitutions(<code>[&amp;1]</code>and<code>[&amp;3]</code>) which should reach the conforming index symbol under <code>familyMembers</code> array.</p>\n<p>For example you'll count twice <code>{</code> in order to reach <code>living</code> key from its counterpart, and replace the leaf <code>living</code>s with <code>&amp;2</code> such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;familyMembers&quot;: {\n        &quot;*&quot;: {\n          &quot;living&quot;: {\n            &quot;Yes&quot;: {\n              &quot;#true&quot;: &quot;&amp;4[&amp;3].&amp;2&quot;\n            },\n            &quot;*&quot;: {\n              &quot;#false&quot;: &quot;&amp;4[&amp;3].&amp;2&quot;\n            }\n          },\n          &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jM9Xl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jM9Xl.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1169835,"reputation":115,"user_id":1147258,"display_name":"Roman Svystun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70143237,"answer_count":1,"score":1,"last_activity_date":1638101207,"creation_date":1638093287,"question_id":70142277,"body_markdown":"Having the following **input** json:\r\n\r\n```json\r\n{\r\n  &quot;familyMembers&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Richard&quot;,\r\n      &quot;living&quot;: &quot;Yes&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Napoleon&quot;,\r\n      &quot;living&quot;: &quot;No&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nthe goal is to change `&quot;living&quot;: &quot;Yes&quot;` to `&quot;living&quot;: &quot;true&quot;`, so that desired **output** would be like this:\r\n\r\n```json\r\n{\r\n  &quot;familyMembers&quot; : [\r\n    {\r\n      &quot;firstName&quot; : &quot;Richard&quot;,\r\n      &quot;living&quot;: &quot;true&quot;\r\n    },\r\n    {\r\n      &quot;firstName&quot; : &quot;Napoleon&quot;,\r\n      &quot;living&quot;: &quot;false&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThe following **spec** does not produce a desired output:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;familyMembers&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;name&quot;: &quot;familyMembers[&amp;1].firstName&quot;,\r\n          &quot;living&quot;: {\r\n            &quot;Yes&quot;: {\r\n              &quot;#true&quot;: &quot;familyMembers[&amp;1].living&quot;\r\n            },\r\n            &quot;*&quot;: {\r\n              &quot;#false&quot;: &quot;familyMembers[&amp;1].living&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nThe `living` field is not included. \r\nIf the `familyMember` is changed from an array to a map, then the `living` field is included in the output with the expected value like in this example: http://jolt-demo.appspot.com/#hashDefault\r\n\r\nI&#39;ve been struggling with this case for couple of days now with various combinations of `&amp;, [], #` and digits. No luck so far.\r\n\r\n\r\nA spec like this\r\n```json\r\n[{\r\n  &quot;operation&quot;: &quot;shift&quot;,\r\n  &quot;spec&quot;: {\r\n    &quot;familyMembers&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;name&quot;: &quot;familyMembers[&amp;1].firstName&quot;,\r\n        &quot;living&quot;: {\r\n          &quot;Yes&quot;: {\r\n            &quot;#true&quot;: &quot;familyMembers[#].living&quot;\r\n          },\r\n          &quot;*&quot;: {\r\n            &quot;#false&quot;: &quot;familyMembers[#].living&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}]\r\n```\r\n\r\nproduces \r\n\r\n```json\r\n{\r\n  &quot;familyMembers&quot; : [\r\n    {\r\n      &quot;firstName&quot; : &quot;Richard&quot;,\r\n      &quot;living&quot; : [\r\n        &quot;true&quot;,\r\n        &quot;false&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;firstName&quot; : &quot;Napoleon&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nwhich is **not** what is required.\r\n\r\nAny hints or help are welcome.","title":"JOLT json array on a match apply String default","body":"<p>Having the following <strong>input</strong> json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;familyMembers&quot;: [\n    {\n      &quot;name&quot;: &quot;Richard&quot;,\n      &quot;living&quot;: &quot;Yes&quot;\n    },\n    {\n      &quot;name&quot;: &quot;Napoleon&quot;,\n      &quot;living&quot;: &quot;No&quot;\n    }\n  ]\n}\n</code></pre>\n<p>the goal is to change <code>&quot;living&quot;: &quot;Yes&quot;</code> to <code>&quot;living&quot;: &quot;true&quot;</code>, so that desired <strong>output</strong> would be like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;familyMembers&quot; : [\n    {\n      &quot;firstName&quot; : &quot;Richard&quot;,\n      &quot;living&quot;: &quot;true&quot;\n    },\n    {\n      &quot;firstName&quot; : &quot;Napoleon&quot;,\n      &quot;living&quot;: &quot;false&quot;\n    }\n  ]\n}\n</code></pre>\n<p>The following <strong>spec</strong> does not produce a desired output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;familyMembers&quot;: {\n        &quot;*&quot;: {\n          &quot;name&quot;: &quot;familyMembers[&amp;1].firstName&quot;,\n          &quot;living&quot;: {\n            &quot;Yes&quot;: {\n              &quot;#true&quot;: &quot;familyMembers[&amp;1].living&quot;\n            },\n            &quot;*&quot;: {\n              &quot;#false&quot;: &quot;familyMembers[&amp;1].living&quot;\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The <code>living</code> field is not included.\nIf the <code>familyMember</code> is changed from an array to a map, then the <code>living</code> field is included in the output with the expected value like in this example: <a href=\"http://jolt-demo.appspot.com/#hashDefault\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/#hashDefault</a></p>\n<p>I've been struggling with this case for couple of days now with various combinations of <code>&amp;, [], #</code> and digits. No luck so far.</p>\n<p>A spec like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{\n  &quot;operation&quot;: &quot;shift&quot;,\n  &quot;spec&quot;: {\n    &quot;familyMembers&quot;: {\n      &quot;*&quot;: {\n        &quot;name&quot;: &quot;familyMembers[&amp;1].firstName&quot;,\n        &quot;living&quot;: {\n          &quot;Yes&quot;: {\n            &quot;#true&quot;: &quot;familyMembers[#].living&quot;\n          },\n          &quot;*&quot;: {\n            &quot;#false&quot;: &quot;familyMembers[#].living&quot;\n          }\n        }\n      }\n    }\n  }\n}]\n</code></pre>\n<p>produces</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;familyMembers&quot; : [\n    {\n      &quot;firstName&quot; : &quot;Richard&quot;,\n      &quot;living&quot; : [\n        &quot;true&quot;,\n        &quot;false&quot;\n      ]\n    },\n    {\n      &quot;firstName&quot; : &quot;Napoleon&quot;\n    }\n  ]\n}\n</code></pre>\n<p>which is <strong>not</strong> what is required.</p>\n<p>Any hints or help are welcome.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638100609,"creation_date":1638100609,"answer_id":70143162,"question_id":70143085,"body_markdown":"Below is the code:-\r\n\r\n```\r\n\r\nclass Circle {\r\n    double radius;\r\n    //constructor to default radius to 1\r\n    public Circle() {\r\n        this.radius = 1;\r\n    }\r\n    //you should consider this as just passing a radius value.\r\n    public Circle(double circlesRad) {\r\n        this.radius = circlesRad;\r\n    }\r\n\r\n    public double getRadius() {\r\n        return radius;\r\n    }\r\n\r\n    public void setRadius(double radius) {\r\n        this.radius = radius;\r\n    }\r\n\r\n    public double computeArea(){\r\n        return Math.PI * (radius * radius);\r\n    }\r\n\r\n    public double computeCircumference() {\r\n        return Math.PI *2*radius;\r\n    }\r\n}\r\n\r\n\r\npublic class TestCircle {\r\n\r\n    public static void main(String[] args) {\r\n        Circle[] circles = {new Circle(1), new Circle(34), new Circle(56),\r\n        new Circle(23), new Circle(93), new Circle(18)};\r\n\r\n        for (Circle circle : circles) {\r\n            System.out.println(&quot;Circle:&quot;+&quot;\\nArea: &quot;+ circle.computeArea()+&quot;\\nCircumference: &quot;+ circle.computeCircumference());\r\n            if (circle.getRadius() == 1){\r\n                System.out.println(&quot;This is a unit circle.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How do I create a loop to iterate objects and display calculations of the objects from the array?","body":"<p>Below is the code:-</p>\n<pre><code>\nclass Circle {\n    double radius;\n    //constructor to default radius to 1\n    public Circle() {\n        this.radius = 1;\n    }\n    //you should consider this as just passing a radius value.\n    public Circle(double circlesRad) {\n        this.radius = circlesRad;\n    }\n\n    public double getRadius() {\n        return radius;\n    }\n\n    public void setRadius(double radius) {\n        this.radius = radius;\n    }\n\n    public double computeArea(){\n        return Math.PI * (radius * radius);\n    }\n\n    public double computeCircumference() {\n        return Math.PI *2*radius;\n    }\n}\n\n\npublic class TestCircle {\n\n    public static void main(String[] args) {\n        Circle[] circles = {new Circle(1), new Circle(34), new Circle(56),\n        new Circle(23), new Circle(93), new Circle(18)};\n\n        for (Circle circle : circles) {\n            System.out.println(&quot;Circle:&quot;+&quot;\\nArea: &quot;+ circle.computeArea()+&quot;\\nCircumference: &quot;+ circle.computeCircumference());\n            if (circle.getRadius() == 1){\n                System.out.println(&quot;This is a unit circle.&quot;);\n            }\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23477931,"reputation":1,"user_id":17530471,"display_name":"Barney2538"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638100609,"creation_date":1638100096,"question_id":70143085,"body_markdown":"I am new to Java and currently doing a small project to learn. \r\nThese are the requirements for the project:\r\n1. Create a class named Circle with a field named radius. \r\n  - Include default constructor \r\n  - Include a default constructor that sets the radius to 1 by default.\r\n - Include another constructor that receives the radius and sets the radius to the value \r\nreceived.\r\n- Include a method that returns the area of the circle.\r\n -Include another method that returns the circumference of the circle.\r\n- Use the PI constant of the Math class for this calculation.\r\n\r\n2. Create a class named TestCircle whose main() method declares 5 Circle objs and stores them in an array\r\n- 5 circle objects will have different radius values\r\n- Using a loop, iterate the objects and display areas and circumference of the objects from the array\r\n- if the radius is one, display a message saying &quot;This is a unit circle&quot;.\r\n\r\nI managed to complete some of the requirements to the best of my ability but I don&#39;t know how to \r\n&gt; Using a loop, iterate the objects and display areas and circumference of the objects from the array. If the radius is one, display a message saying &quot;This is a unit circle&quot;.\r\n\r\n    class Circle {\r\n        double radius;\r\n        //constructor to default radius to 1\r\n        public Circle() {\r\n            this.radius = 1;\r\n        }\r\n        //constructor to receive values and set it as radius\r\n        public Circle(double [] circlesRad) {\r\n            this.radius = circlesRad[0];\r\n        }\r\n    \r\n        public double computeArea(){\r\n            return Math.PI * (radius * radius);\r\n        }\r\n    \r\n        public double computeCircumference() {\r\n            return Math.PI *2*radius;   \r\n        }\r\n    }\r\n\r\n\r\n    public class TestCircle {\r\n\r\n        public static void main(String[] args) {\r\n            Circle c1 = new Circle();\r\n            double circlesRad[] = {1, 34, 56, 23, 93, 18};\r\n        \r\n            for (double rad : circlesRad) {\r\n                System.out.println(&quot;Circle:&quot;+&quot;\\nArea: &quot;+ c1.computeArea()+&quot;\\nCircumference: &quot;+ c1.computeCircumference());\r\n                if (rad == 1){\r\n                    System.out.println(&quot;Circle:&quot;+&quot;\\nArea: &quot;+ c1.computeArea()+&quot;\\nCircumference: &quot;+ c1.computeCircumference());\r\n                    System.out.println(&quot;This is a unit circle.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\nI know its very wrong, and I apologise. \r\nAny help would be much appreciated. \r\n","title":"How do I create a loop to iterate objects and display calculations of the objects from the array?","body":"<p>I am new to Java and currently doing a small project to learn.\nThese are the requirements for the project:</p>\n<ol>\n<li>Create a class named Circle with a field named radius.</li>\n</ol>\n<ul>\n<li>Include default constructor</li>\n<li>Include a default constructor that sets the radius to 1 by default.</li>\n<li>Include another constructor that receives the radius and sets the radius to the value\nreceived.</li>\n<li>Include a method that returns the area of the circle.\n-Include another method that returns the circumference of the circle.</li>\n<li>Use the PI constant of the Math class for this calculation.</li>\n</ul>\n<ol start=\"2\">\n<li>Create a class named TestCircle whose main() method declares 5 Circle objs and stores them in an array</li>\n</ol>\n<ul>\n<li>5 circle objects will have different radius values</li>\n<li>Using a loop, iterate the objects and display areas and circumference of the objects from the array</li>\n<li>if the radius is one, display a message saying &quot;This is a unit circle&quot;.</li>\n</ul>\n<p>I managed to complete some of the requirements to the best of my ability but I don't know how to</p>\n<blockquote>\n<p>Using a loop, iterate the objects and display areas and circumference of the objects from the array. If the radius is one, display a message saying &quot;This is a unit circle&quot;.</p>\n</blockquote>\n<pre><code>class Circle {\n    double radius;\n    //constructor to default radius to 1\n    public Circle() {\n        this.radius = 1;\n    }\n    //constructor to receive values and set it as radius\n    public Circle(double [] circlesRad) {\n        this.radius = circlesRad[0];\n    }\n\n    public double computeArea(){\n        return Math.PI * (radius * radius);\n    }\n\n    public double computeCircumference() {\n        return Math.PI *2*radius;   \n    }\n}\n\n\npublic class TestCircle {\n\n    public static void main(String[] args) {\n        Circle c1 = new Circle();\n        double circlesRad[] = {1, 34, 56, 23, 93, 18};\n    \n        for (double rad : circlesRad) {\n            System.out.println(&quot;Circle:&quot;+&quot;\\nArea: &quot;+ c1.computeArea()+&quot;\\nCircumference: &quot;+ c1.computeCircumference());\n            if (rad == 1){\n                System.out.println(&quot;Circle:&quot;+&quot;\\nArea: &quot;+ c1.computeArea()+&quot;\\nCircumference: &quot;+ c1.computeCircumference());\n                System.out.println(&quot;This is a unit circle.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I know its very wrong, and I apologise.\nAny help would be much appreciated.</p>\n"},{"tags":["java","sorting","java-8","comparator"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638091946,"post_id":70142062,"comment_id":123990940,"body_markdown":"What are the type of `[delivered|ordered]Date and Time`?","body":"What are the type of <code>[delivered|ordered]Date and Time</code>?"},{"owner":{"account_id":22759464,"reputation":11,"user_id":16918514,"display_name":"Selina"},"score":0,"creation_date":1638095920,"post_id":70142062,"comment_id":123991708,"body_markdown":"Date  -Java util  (delivered and ordered date).   String  for Ordered Time and Delivered Time","body":"Date  -Java util  (delivered and ordered date).   String  for Ordered Time and Delivered Time"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638107636,"post_id":70142062,"comment_id":123994271,"body_markdown":"If one order is ordered 24 Nov and delivered 28 Nov and another order is ordered 26 Nov and delivered the same day, where should a third order ordered 25 Nov and without delivery date be fit into the sorted sequence?","body":"If one order is ordered 24 Nov and delivered 28 Nov and another order is ordered 26 Nov and delivered the same day, where should a third order ordered 25 Nov and without delivery date be fit into the sorted sequence?"},{"owner":{"account_id":22759464,"reputation":11,"user_id":16918514,"display_name":"Selina"},"score":0,"creation_date":1638123024,"post_id":70142062,"comment_id":123998052,"body_markdown":"25 Nov without delivered date should come at top. nxt  26 nov record  and last  24 nov- 28 nov","body":"25 Nov without delivered date should come at top. nxt  26 nov record  and last  24 nov- 28 nov"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638135841,"post_id":70142062,"comment_id":124001163,"body_markdown":"Thanks. But in your expected output order date `26-NOV-2021      02.00` does not come before delivery date `26-NOV-2021    12.00`, so I still havent completely understood. Are you requirements well-defined and consistent?","body":"Thanks. But in your expected output order date <code>26-NOV-2021      02.00</code> does not come before delivery date <code>26-NOV-2021    12.00</code>, so I still havent completely understood. Are you requirements well-defined and consistent?"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638100590,"creation_date":1638098375,"answer_id":70142873,"question_id":70142062,"body_markdown":"In your output, the last two must be reversed. Here&#39;s the corrected comparison order. It assumes time will be present when date is there.\r\n\r\n    if (o1.getOrderedDate() != null &amp;&amp; o2.getOrderedDate() != null) {\r\n        compareValue = (o1.getOrderedDate().compareTo(o2.getOrderedDate()));\r\n        if (compareValue == 0) {\r\n           return o1.getOrderedTime().compareTo(o2.getOrderedTime());\r\n        }\r\n        return compareValue;\r\n    } else if (o1.getDeliveredDate() != null &amp;&amp; o2.getDeliveredDate() != null) {\r\n        compareValue = (o1.getDeliveredDate().compareTo(o2.getDeliveredDate()));\r\n        if (compareValue == 0) {\r\n            return o1.getDeliveredTime().compareTo(o2.getDeliveredTime());\r\n        }\r\n        return compareValue;\r\n    } else if (o1.getDeliveredDate() == null &amp;&amp; o2.getOrderedDate() == null) {\r\n        compareValue = (o1.getOrderedDate().compareTo(o2.getDeliveredDate()));\r\n        if (compareValue == 0) {\r\n            return o1.getOrderedTime().compareTo(o2.getDeliveredTime());\r\n        }\r\n        return compareValue;\r\n    } else {\r\n        compareValue = (o1.getDeliveredDate().compareTo(o2.getOrderedDate()));\r\n        if (compareValue == 0) {\r\n            return o1.getDeliveredTime().compareTo(o2.getOrderedTime());\r\n        }\r\n        return compareValue;\r\n    }\r\n    \r\nNote: For comparing two time values, you shouldn&#39;t rely on String&#39;s natural ordering. For example: It considers `11` &lt; `9`. If you always have `0` prefixed for hours 0 to 9, then you are good.\r\n\r\n### Another simpler way\r\nIn essence, you want to compare two Date/time from two objects (let me call it `MyDateTime` as the class name) i.e., given two `MyDateTime` instances, you want to pick the *date* and *time* of *order* - if not present, pick the *date* and *time* of *delivery* otherwise.\r\n\r\nOnce you have a *date* and *time* pair (either order/delivery) compare them with the other *date* and *time* pair of some other `MyDateTime` instance.\r\n\r\nLet me define two helper functions for getting the Date and Integer objects to be used for comparison.\r\n\r\n    private static Date getDateForComparison(MyDateTime myDateTime) {\r\n        if (myDateTime.getOrderedDate() != null) {\r\n            return myDateTime.getOrderedDate();\r\n        }\r\n        return myDateTime.getDeliveredDate();\r\n    }\r\n    private static String getTimeForComparison(MyDateTime myDateTime) {\r\n        if (myDateTime.getOrderedTime() != null) {\r\n            return myDateTime.getOrderedTime();\r\n        }\r\n        return myDateTime.getDeliveredTime();\r\n    }\r\n\r\nThen, we can write a simple comparator as:\r\n\r\n    Comparator&lt;MyDateTime&gt; comparator = Comparator.comparing(MyDateTime::getDateForComparison)\r\n                .thenComparing(MyDateTime::getTimeForComparison);\r\n\r\n---\r\n\r\nP.S: Java `Date` class is not recommended and must be treated as deprecated. Check on the Java 8+ alternate for it.","title":"arranging the records in customised way","body":"<p>In your output, the last two must be reversed. Here's the corrected comparison order. It assumes time will be present when date is there.</p>\n<pre><code>if (o1.getOrderedDate() != null &amp;&amp; o2.getOrderedDate() != null) {\n    compareValue = (o1.getOrderedDate().compareTo(o2.getOrderedDate()));\n    if (compareValue == 0) {\n       return o1.getOrderedTime().compareTo(o2.getOrderedTime());\n    }\n    return compareValue;\n} else if (o1.getDeliveredDate() != null &amp;&amp; o2.getDeliveredDate() != null) {\n    compareValue = (o1.getDeliveredDate().compareTo(o2.getDeliveredDate()));\n    if (compareValue == 0) {\n        return o1.getDeliveredTime().compareTo(o2.getDeliveredTime());\n    }\n    return compareValue;\n} else if (o1.getDeliveredDate() == null &amp;&amp; o2.getOrderedDate() == null) {\n    compareValue = (o1.getOrderedDate().compareTo(o2.getDeliveredDate()));\n    if (compareValue == 0) {\n        return o1.getOrderedTime().compareTo(o2.getDeliveredTime());\n    }\n    return compareValue;\n} else {\n    compareValue = (o1.getDeliveredDate().compareTo(o2.getOrderedDate()));\n    if (compareValue == 0) {\n        return o1.getDeliveredTime().compareTo(o2.getOrderedTime());\n    }\n    return compareValue;\n}\n</code></pre>\n<p>Note: For comparing two time values, you shouldn't rely on String's natural ordering. For example: It considers <code>11</code> &lt; <code>9</code>. If you always have <code>0</code> prefixed for hours 0 to 9, then you are good.</p>\n<h3>Another simpler way</h3>\n<p>In essence, you want to compare two Date/time from two objects (let me call it <code>MyDateTime</code> as the class name) i.e., given two <code>MyDateTime</code> instances, you want to pick the <em>date</em> and <em>time</em> of <em>order</em> - if not present, pick the <em>date</em> and <em>time</em> of <em>delivery</em> otherwise.</p>\n<p>Once you have a <em>date</em> and <em>time</em> pair (either order/delivery) compare them with the other <em>date</em> and <em>time</em> pair of some other <code>MyDateTime</code> instance.</p>\n<p>Let me define two helper functions for getting the Date and Integer objects to be used for comparison.</p>\n<pre><code>private static Date getDateForComparison(MyDateTime myDateTime) {\n    if (myDateTime.getOrderedDate() != null) {\n        return myDateTime.getOrderedDate();\n    }\n    return myDateTime.getDeliveredDate();\n}\nprivate static String getTimeForComparison(MyDateTime myDateTime) {\n    if (myDateTime.getOrderedTime() != null) {\n        return myDateTime.getOrderedTime();\n    }\n    return myDateTime.getDeliveredTime();\n}\n</code></pre>\n<p>Then, we can write a simple comparator as:</p>\n<pre><code>Comparator&lt;MyDateTime&gt; comparator = Comparator.comparing(MyDateTime::getDateForComparison)\n            .thenComparing(MyDateTime::getTimeForComparison);\n</code></pre>\n<hr />\n<p>P.S: Java <code>Date</code> class is not recommended and must be treated as deprecated. Check on the Java 8+ alternate for it.</p>\n"}],"owner":{"account_id":22759464,"reputation":11,"user_id":16918514,"display_name":"Selina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70142873,"answer_count":1,"score":-2,"last_activity_date":1638100590,"creation_date":1638091436,"question_id":70142062,"body_markdown":" **Sort Procedure**\r\nFirst sort by the delivered date &amp; in case of multiple records  on same date sort by delivered time (Note: if a record has both ordered and Delivered Date ,it should be sorted by Delivered date only)\r\n\r\n08-JUN: 03.00,\r\n08-JUN: 04.00\r\n\r\n\r\nThen look at the ordered date without delivered date which also exists for 08-JUN &amp; sort by ordered date if multiple records on same date sort by ordered time\r\n\r\n08-JUN:  02.00\r\n\r\nThen go back to the next delivered date &amp; in case of multiple records sort by  delivered time\r\n\r\n09-JUN:  01.00,\r\n09-JUN:  12.00\r\n\r\n\r\nThen  look at the ordered date without delivered date which also exists for 09-JUN &amp; sort by ordered date if multiple records on same date sort by ordered time\r\n\r\n09-JUN:  14.00\r\n\r\n\r\n\r\n                       **ordered date**   **orderTime**   **DeliveredDate**   **DeliveredTime**\r\n                            24-NOV-2021\t\t 10.00            24-NOV-2021    12.00\r\n                                -                -            24-NOV-2021    09.00\r\n                            25-NOV-2021\t\t  9.00               -             -\r\n                            25-NOV-2021\t\t 11.00            26-NOV-2021    12.00\r\n                            25-NOV-2021\t\t 10.00               -             -\r\n                            26-NOV-2021\t\t 02.00               -             -\r\n                                -              -               10-DEC-2021     03.00\r\n                                -                  -           10-DEC-2021    02.00\r\n                            26-NOV-2021\t\t 04.00                -            -\r\n                            27-NOV-2021\t\t 07.00\r\n                            30-NOV-2021\t\t 08.00                -            -\r\n                            28-NOV-2021\t     12.00\r\n                            27-NOV-2021\t\t 14.00\t\t\t       -           -\r\n\r\n\r\n//Output should be like the following .-&gt;\r\n                                **ordered date**   **orderTime**   **DeliveredDate**   **DeliveredTime**\r\n\r\n\r\n                                  -                -              24-NOV-2021    09.00\r\n                                24-NOV-2021\t\t 10.00            24-NOV-2021    12.00\r\n                                25-NOV-2021\t\t  9.00               -             -\r\n                                25-NOV-2021\t\t 11.00            26-NOV-2021    12.00\r\n                                26-NOV-2021\t\t 02.00\r\n                                26-NOV-2021\t\t 04.00                -            -\r\n                                27-NOV-2021\t\t 07.00                -            -\r\n                                27-NOV-2021\t\t 14.00\t\t\t       -           -\r\n                                28-NOV-2021\t     12.00                 -           -\r\n                                30-NOV-2021\t\t 08.00                -            -\r\n                                     -              -             10-DEC-2021     03.00\r\n                                     -              -             10-DEC-2021     02.00\r\n\r\n\r\n---\r\n\r\n\r\n    //The code I tried.not giving exp OP. any other way ?.-&gt;\r\n    int compareVal;\r\n    if(o1.getDeliveredDate() != null &amp;&amp; o2.getDeliveredDate()!=null){\r\n        compareValue  = (o1.getDeliveredDate().compareTo(o2.getDeliveredDate()));\r\n        if (compareValue == 0 &amp;&amp; o1.getDeliveredTime() != null &amp;&amp; o2.getDeliveredTime() != null) {\r\n            return (o1.getDeliveredTime().compareTo(o2.getDeliveredTime()));\r\n        }\r\n        return comparevalue;\r\n    } else if(o1.getDeliveredDate() != null &amp; &amp;&amp; o2.getDeliveredDate()==null) {\r\n        compareValue  = (o1.getDeliveredDate().compareTo(o2.getOrderedDate()));\r\n        if (compareValue == 0 ) {\r\n            return -1;\r\n        }\r\n        return comparevalue;\r\n    } else if(o1.getDeliveredDate() == null &amp; &amp;&amp; o2.getDeliveredDate()!=null) {\r\n        compareValue  = (o2.getDeliveredDate().compareTo(o1.getOrderedDate()));\r\n        if (compareValue == 0 ) {\r\n            return 1;\r\n        }\r\n        return comparevalue;\r\n    } else if(o1.getDeliveredDate() == null &amp;&amp; o2.getDeliveredDate()==null &amp;&amp;\r\n            o1.getOrderedDate() != null &amp;&amp; o2.getOrderedDate()!=null) {\r\n        compareValue  = (o1.getOrderedDate().compareTo(o2.getOrderedDate()));\r\n        if (compareValue == 0 &amp;&amp; o1.getOrderedTime() != null &amp;&amp; o2.getOrderedTime() != null) {\r\n            return (o1.getOrderedTime().compareTo(o2.getOrderedTime()));\r\n        }\r\n    }\r\n    return compareVal;","title":"arranging the records in customised way","body":"<p><strong>Sort Procedure</strong>\nFirst sort by the delivered date &amp; in case of multiple records  on same date sort by delivered time (Note: if a record has both ordered and Delivered Date ,it should be sorted by Delivered date only)</p>\n<p>08-JUN: 03.00,\n08-JUN: 04.00</p>\n<p>Then look at the ordered date without delivered date which also exists for 08-JUN &amp; sort by ordered date if multiple records on same date sort by ordered time</p>\n<p>08-JUN:  02.00</p>\n<p>Then go back to the next delivered date &amp; in case of multiple records sort by  delivered time</p>\n<p>09-JUN:  01.00,\n09-JUN:  12.00</p>\n<p>Then  look at the ordered date without delivered date which also exists for 09-JUN &amp; sort by ordered date if multiple records on same date sort by ordered time</p>\n<p>09-JUN:  14.00</p>\n<pre><code>                   **ordered date**   **orderTime**   **DeliveredDate**   **DeliveredTime**\n                        24-NOV-2021      10.00            24-NOV-2021    12.00\n                            -                -            24-NOV-2021    09.00\n                        25-NOV-2021       9.00               -             -\n                        25-NOV-2021      11.00            26-NOV-2021    12.00\n                        25-NOV-2021      10.00               -             -\n                        26-NOV-2021      02.00               -             -\n                            -              -               10-DEC-2021     03.00\n                            -                  -           10-DEC-2021    02.00\n                        26-NOV-2021      04.00                -            -\n                        27-NOV-2021      07.00\n                        30-NOV-2021      08.00                -            -\n                        28-NOV-2021      12.00\n                        27-NOV-2021      14.00                 -           -\n</code></pre>\n<p>//Output should be like the following .-&gt;\n<strong>ordered date</strong>   <strong>orderTime</strong>   <strong>DeliveredDate</strong>   <strong>DeliveredTime</strong></p>\n<pre><code>                              -                -              24-NOV-2021    09.00\n                            24-NOV-2021      10.00            24-NOV-2021    12.00\n                            25-NOV-2021       9.00               -             -\n                            25-NOV-2021      11.00            26-NOV-2021    12.00\n                            26-NOV-2021      02.00\n                            26-NOV-2021      04.00                -            -\n                            27-NOV-2021      07.00                -            -\n                            27-NOV-2021      14.00                 -           -\n                            28-NOV-2021      12.00                 -           -\n                            30-NOV-2021      08.00                -            -\n                                 -              -             10-DEC-2021     03.00\n                                 -              -             10-DEC-2021     02.00\n</code></pre>\n<hr />\n<pre><code>//The code I tried.not giving exp OP. any other way ?.-&gt;\nint compareVal;\nif(o1.getDeliveredDate() != null &amp;&amp; o2.getDeliveredDate()!=null){\n    compareValue  = (o1.getDeliveredDate().compareTo(o2.getDeliveredDate()));\n    if (compareValue == 0 &amp;&amp; o1.getDeliveredTime() != null &amp;&amp; o2.getDeliveredTime() != null) {\n        return (o1.getDeliveredTime().compareTo(o2.getDeliveredTime()));\n    }\n    return comparevalue;\n} else if(o1.getDeliveredDate() != null &amp; &amp;&amp; o2.getDeliveredDate()==null) {\n    compareValue  = (o1.getDeliveredDate().compareTo(o2.getOrderedDate()));\n    if (compareValue == 0 ) {\n        return -1;\n    }\n    return comparevalue;\n} else if(o1.getDeliveredDate() == null &amp; &amp;&amp; o2.getDeliveredDate()!=null) {\n    compareValue  = (o2.getDeliveredDate().compareTo(o1.getOrderedDate()));\n    if (compareValue == 0 ) {\n        return 1;\n    }\n    return comparevalue;\n} else if(o1.getDeliveredDate() == null &amp;&amp; o2.getDeliveredDate()==null &amp;&amp;\n        o1.getOrderedDate() != null &amp;&amp; o2.getOrderedDate()!=null) {\n    compareValue  = (o1.getOrderedDate().compareTo(o2.getOrderedDate()));\n    if (compareValue == 0 &amp;&amp; o1.getOrderedTime() != null &amp;&amp; o2.getOrderedTime() != null) {\n        return (o1.getOrderedTime().compareTo(o2.getOrderedTime()));\n    }\n}\nreturn compareVal;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":5939623,"reputation":5436,"user_id":4671372,"display_name":"VadymVL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638055112,"creation_date":1638053353,"answer_id":70139327,"question_id":70138922,"body_markdown":"The issue in that code:\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        service = new ThrottleRateServiceImpl();\r\n    }\r\n\r\nYou shouldn&#39;t create beans manually. In this case Spring cannot manage it and autowire repository.\r\n\r\n&gt; If you need to recreate your service before each method call, you can use class annotation `@DirtiesContext(methodMode = MethodMode.AFTER_METHOD)`. You can read about it more [here][1].\r\n\r\nInstead of this, autowire `ThrottleRateServiceImpl` like the repository. Also, for the correct autowiring, you may need to have a test configuration. It could be inner static class, or a separate class.\r\n\r\n    @SpringBootConfiguration\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest\r\n    public class ThrottleRateServiceTest {\r\n\r\n        @TestConfiguration\r\n        static class TestConfig {\r\n            @Bean\r\n            public ThrottleRateService throttleRateService() {\r\n                return new ThrottleRateServiceImpl();\r\n            }\r\n        }\r\n\r\n        @Autowired\r\n        ThrottleRateService service;\r\n\r\n        @Test\r\n        public void testThrottoling() {\r\n            service.isAllowed(&quot;test&quot;);\r\n        }\r\n    }\r\n\r\nYou can read more about initializing beans for testing and test configurations in [this tutorial][2].\r\n\r\nAlso, very helpful [an official documentation][3]:\r\n\r\n&gt; If you are using JUnit 4, do not forget to also add\r\n&gt; @RunWith(SpringRunner.class) to your test, otherwise the annotations\r\n&gt; will be ignored. If you are using JUnit 5, there is no need to add the\r\n&gt; equivalent @ExtendWith(SpringExtension.class) as @SpringBootTest and\r\n&gt; the other @Test annotations are already annotated with it.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-dirtiescontext\r\n  [2]: https://mkyong.com/spring-boot/spring-boot-how-to-init-a-bean-for-testing/\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications","title":"Having problems trying to test functionality that contains autowired SprngBoot with junit 5","body":"<p>The issue in that code:</p>\n<pre><code>@BeforeEach\npublic void setUp() {\n    service = new ThrottleRateServiceImpl();\n}\n</code></pre>\n<p>You shouldn't create beans manually. In this case Spring cannot manage it and autowire repository.</p>\n<blockquote>\n<p>If you need to recreate your service before each method call, you can use class annotation <code>@DirtiesContext(methodMode = MethodMode.AFTER_METHOD)</code>. You can read about it more <a href=\"https://www.baeldung.com/spring-dirtiescontext\" rel=\"nofollow noreferrer\">here</a>.</p>\n</blockquote>\n<p>Instead of this, autowire <code>ThrottleRateServiceImpl</code> like the repository. Also, for the correct autowiring, you may need to have a test configuration. It could be inner static class, or a separate class.</p>\n<pre><code>@SpringBootConfiguration\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\npublic class ThrottleRateServiceTest {\n\n    @TestConfiguration\n    static class TestConfig {\n        @Bean\n        public ThrottleRateService throttleRateService() {\n            return new ThrottleRateServiceImpl();\n        }\n    }\n\n    @Autowired\n    ThrottleRateService service;\n\n    @Test\n    public void testThrottoling() {\n        service.isAllowed(&quot;test&quot;);\n    }\n}\n</code></pre>\n<p>You can read more about initializing beans for testing and test configurations in <a href=\"https://mkyong.com/spring-boot/spring-boot-how-to-init-a-bean-for-testing/\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>Also, very helpful <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications\" rel=\"nofollow noreferrer\">an official documentation</a>:</p>\n<blockquote>\n<p>If you are using JUnit 4, do not forget to also add\n@RunWith(SpringRunner.class) to your test, otherwise the annotations\nwill be ignored. If you are using JUnit 5, there is no need to add the\nequivalent @ExtendWith(SpringExtension.class) as @SpringBootTest and\nthe other @Test annotations are already annotated with it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638100132,"creation_date":1638055122,"answer_id":70139467,"question_id":70138922,"body_markdown":"Fixed, what I did was replace \r\n@SpringBootTest with  @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\nAnd autowired the ThrottleRateService\r\n\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class ThrottleRateServiceTest {\r\n    \t\r\n    \t\r\n    \t@Autowired\r\n    \tThrottleRateService service;\r\n    \r\n    \t@Test\r\n    \tpublic void testThrottoling() {\r\n    \t\tservice.isAllowed(&quot;test&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Having problems trying to test functionality that contains autowired SprngBoot with junit 5","body":"<p>Fixed, what I did was replace\n@SpringBootTest with  @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</p>\n<p>And autowired the ThrottleRateService</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class ThrottleRateServiceTest {\n    \n    \n    @Autowired\n    ThrottleRateService service;\n\n    @Test\n    public void testThrottoling() {\n        service.isAllowed(&quot;test&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70139327,"answer_count":2,"score":0,"last_activity_date":1638100132,"creation_date":1638049156,"question_id":70138922,"body_markdown":"I want to test some functinality, a service with a repo that is autowired in. I dont want to mock the autowired, this is more a integration test for debugging.\r\n\r\nMy test is as follow \r\n```\r\n@SpringBootConfiguration\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\npublic class ThrottleRateServiceTest {\r\n\t\r\n\tThrottleRateService service = null;\r\n\t\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\tservice = new ThrottleRateServiceImpl();\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testThrottoling() {\r\n\t\tservice.isAllowed(&quot;test&quot;);\r\n\t}\r\n}\r\n```\r\nThe code is very simple\r\n```\r\n@Service\r\npublic class ThrottleRateServiceImpl implements ThrottleRateService {\r\n\t\r\n\tprivate final Logger logger = LogManager.getLogger(ThrottleRateServiceImpl.class);\r\n\t\r\n\t@Autowired\r\n\tThrottleRateRepository throttleRateRepository;\r\n```\r\n\r\nThe problem is that throttleRateRepository is always null.\r\n\r\nI have managed to test this sort of code before. With Junit 4  with\r\n``` \r\n@RunWith(SpringJUnit4ClassRunner.class) \r\n``` \r\n\r\nWhich autowired all the beans.\r\nIts been a while since I did this sort of integration testing, and its all changed with Junit 5.\r\nThanks or any hep.\r\n","title":"Having problems trying to test functionality that contains autowired SprngBoot with junit 5","body":"<p>I want to test some functinality, a service with a repo that is autowired in. I dont want to mock the autowired, this is more a integration test for debugging.</p>\n<p>My test is as follow</p>\n<pre><code>@SpringBootConfiguration\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\npublic class ThrottleRateServiceTest {\n    \n    ThrottleRateService service = null;\n    \n    @BeforeEach\n    public void setUp() {\n        service = new ThrottleRateServiceImpl();\n    }\n    \n    @Test\n    public void testThrottoling() {\n        service.isAllowed(&quot;test&quot;);\n    }\n}\n</code></pre>\n<p>The code is very simple</p>\n<pre><code>@Service\npublic class ThrottleRateServiceImpl implements ThrottleRateService {\n    \n    private final Logger logger = LogManager.getLogger(ThrottleRateServiceImpl.class);\n    \n    @Autowired\n    ThrottleRateRepository throttleRateRepository;\n</code></pre>\n<p>The problem is that throttleRateRepository is always null.</p>\n<p>I have managed to test this sort of code before. With Junit 4  with</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class) \n</code></pre>\n<p>Which autowired all the beans.\nIts been a while since I did this sort of integration testing, and its all changed with Junit 5.\nThanks or any hep.</p>\n"},{"tags":["java","multithreading","spring-boot"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1638090469,"post_id":70141575,"comment_id":123990675,"body_markdown":"Can you show the code that uses multithreading to access the database","body":"Can you show the code that uses multithreading to access the database"},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":0,"creation_date":1638120057,"post_id":70141575,"comment_id":123997310,"body_markdown":"I would say if your requests are all going to Oracle db better have them implemented in a sequential manner and wrap them in a single transaction (using @Transactional). These all seems to be read queries, so you can mark the transaction as &quot;readOnly&quot; to speed up things a bit (that is if you are using ORM/Hibernate). The fact that you have 10 things going on in parallel shows a design problem. Are these 10 things related? if yes you should explore DB views where you aggregate the data in the DB and fetch with single Inquiry, thus using 1 connection from the pool. maxPoolSize of 10K is bad.","body":"I would say if your requests are all going to Oracle db better have them implemented in a sequential manner and wrap them in a single transaction (using @Transactional). These all seems to be read queries, so you can mark the transaction as &quot;readOnly&quot; to speed up things a bit (that is if you are using ORM/Hibernate). The fact that you have 10 things going on in parallel shows a design problem. Are these 10 things related? if yes you should explore DB views where you aggregate the data in the DB and fetch with single Inquiry, thus using 1 connection from the pool. maxPoolSize of 10K is bad."}],"owner":{"account_id":14627071,"reputation":1,"user_id":10564131,"display_name":"Mahdiyeh Rezaei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638099707,"creation_date":1638086266,"question_id":70141575,"body_markdown":"I have a service that does 10 parallel tasks and when all of them finish, it returns a response.\r\nIn my opinion, I can implement it in 2 waysthe first one is creating in a usual way, and the second one is using the multi-thread concept.\r\nI coded and compared both. But I had been having a problem with the connection pool in multithreaded.\r\n\r\nWhen I send specific requests at a particular time (e.g. 1000 requests per 0.001 seconds) with JMeter in the usual implementation, all requests are done; but while running it with the multithread implement, some of the requests are failed. \r\nThe cause of this problem is related to the connection pool; Service is gotten the Hikari pool error.\r\n\r\nI know one solution as increment the Hikari pool, but I can&#39;t do it, because the speed of the oracle database will decrease (I don&#39;t have access to it).\r\nWhat is the best practice for handling multi-threads in this situation? increasing Hikari pool or dividing threads into smaller parts?\r\n\r\n( Technologies used:Springboot v2.6.0, Java 14, Oracle database, for multithread used  completeableFuture from java.util.concurrent, JMeter (last version) )\r\n\r\nThe code shows you, all my configurations in the application.properties :\r\n```\r\n#maximum number of milliseconds that a client will wait for a connection\r\nspring.datasource.hikari.connection-timeout = 20000\r\n\r\n#minimum number of idle connections maintained by HikariCP in a connection pool\r\nspring.datasource.hikari.minimum-idle= 10000\r\n\r\n#maximum pool size\r\nspring.datasource.hikari.maximum-pool-size= 10000\r\n\r\n#maximum idle time for connection\r\nspring.datasource.hikari.idle-timeout=10000\r\n\r\n# maximum lifetime in milliseconds of a connection in the pool after it is closed.\r\nspring.datasource.hikari.max-lifetime= 1000\r\n\r\n```\r\nImplementation of multithreaded :\r\n```\r\n@Override\r\n    public AllInquiriesDTO getAllInquiries(Long cardRequestId, String outputPostCode, String outputTraceId) {\r\n\r\n        AllInquiriesDTO allInquiriesDTO = new AllInquiriesDTO();\r\n        CompletableFuture&lt;Void&gt; gomrokHoghooghiInquiry = this.getGomrokHoghooghiInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setGomrokHoghoghi);\r\n        CompletableFuture&lt;Void&gt; returnCheckInquiry = this.getReturnCheckInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setReturnCheck);\r\n        CompletableFuture&lt;Void&gt; behinyabInquiry = this.getBehinyabInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setBehinyab);\r\n        CompletableFuture&lt;Void&gt; graduationInquiry = this.getGraduationInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setGraduation);\r\n        CompletableFuture&lt;Void&gt; legalPersonalInfoInquiry = this.getLegalPersonalInfoInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setLegalPersonalInfo);\r\n        CompletableFuture&lt;Void&gt; tax186TaeedInquiry = this.getTax186TaeedInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setTax186Taeed);\r\n        CompletableFuture&lt;Void&gt; tax186SodoorInquiry = this.getTax186SodoorInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setTax186Sodoor);\r\n        CompletableFuture&lt;Void&gt; taxAnnualDetailListInquiry = this.getTaxAnnualDetailListInquiry(cardRequestId)\r\n                .thenAccept(res -&gt; allInquiriesDTO.getTax186Sodoor().get(0).setTaxAnnualDetailList(res));\r\n        CompletableFuture&lt;Void&gt; postInquiry = this.getPostInquiry(cardRequestId).\r\n                thenAccept(allInquiriesDTO::setPost);\r\n        CompletableFuture&lt;Void&gt; gomrokHaghighiInquiry = this.getGomrokHaghighiInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setGomrokHaghighi);\r\n        CompletableFuture&lt;Void&gt; nezamVazifeInquiry = this.getNezamVazifeInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setNezamVazife);\r\n        CompletableFuture&lt;Void&gt; sahaInquiry = this.getSahaInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setSaha);\r\n        CompletableFuture&lt;Void&gt; amlakInquiry = this.getAmlakInquiry(cardRequestId, outputPostCode, outputTraceId)\r\n                .thenAccept(allInquiriesDTO::setAmlak);\r\n        CompletableFuture&lt;Void&gt; jahadInquiry = this.getJahadInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setJahad);\r\n        CompletableFuture&lt;Void&gt; employeeCheckInquiry = this.getEmployeeCheckInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setEmployeeCheck);\r\n        CompletableFuture&lt;Void&gt; taeminDebtInquiry = this.getTaeminDebtInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setTaminDebt);\r\n        CompletableFuture&lt;Void&gt; madanInquiry = this.getMadanInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setMadan);\r\n        CompletableFuture&lt;Void&gt; cCompanyInquiry = this.getCCompanyInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setCCompany);\r\n        CompletableFuture&lt;Void&gt; soePishineInquiry = this.getSoePishineInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setSoePishine);\r\n        CompletableFuture&lt;Void&gt; managerInfoInquiry = this.getManagerInfoInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setManagerInfo);\r\n        CompletableFuture&lt;Void&gt; tanzimMoghararatInquiry = this.getTanzimMoghararatInquiry(cardRequestId)\r\n                .thenAccept(allInquiriesDTO::setTanzimMoghararat);\r\n\r\n        CompletableFuture.allOf(gomrokHoghooghiInquiry, returnCheckInquiry, behinyabInquiry, graduationInquiry,\r\n                legalPersonalInfoInquiry, tax186TaeedInquiry,\r\n                tax186SodoorInquiry, taxAnnualDetailListInquiry, postInquiry, gomrokHaghighiInquiry,\r\n                nezamVazifeInquiry, sahaInquiry, amlakInquiry, jahadInquiry, employeeCheckInquiry,\r\n                taeminDebtInquiry, madanInquiry, cCompanyInquiry, soePishineInquiry, managerInfoInquiry,\r\n                tanzimMoghararatInquiry).join();\r\n\r\n        return allInquiriesDTO;\r\n    }\r\n\r\n    @Override\r\n    public CompletableFuture&lt;List&lt;ReturnCheckDTO&gt;&gt; getReturnCheckInquiry(Long cardRequestId) {\r\n        return CompletableFuture.supplyAsync(()\r\n                -&gt; returnCheckRepository.findByCardRequestId(cardRequestId));\r\n    }\r\n\r\n\r\n    @Override\r\n    public CompletableFuture&lt;List&lt;GraduationDTO&gt;&gt; getGraduationInquiry(Long cardRequestId) {\r\n        return CompletableFuture.supplyAsync(()\r\n                -&gt; graduationRepository.findByCardRequestId(cardRequestId));\r\n    }\r\n\r\n    @Override\r\n    public CompletableFuture&lt;List&lt;LegalPersonalInfoDTO&gt;&gt; getLegalPersonalInfoInquiry(Long cardRequestId) {\r\n        return CompletableFuture.supplyAsync(()\r\n                -&gt; legalPersonalInfoMIMTWSRepository.findByCardRequestId(cardRequestId));\r\n    }\r\n\r\n    @Override\r\n    public CompletableFuture&lt;List&lt;Tax186WebServiceTaeed&gt;&gt; getTax186TaeedInquiry(Long cardRequestId) {\r\n        return CompletableFuture.supplyAsync(()\r\n                -&gt; tax186DebtRepository.findByCardRequestId(cardRequestId));\r\n    }\r\n```","title":"How to correctly handle Hikari connection pool in SpringBoot and oracle with java?","body":"<p>I have a service that does 10 parallel tasks and when all of them finish, it returns a response.\nIn my opinion, I can implement it in 2 waysthe first one is creating in a usual way, and the second one is using the multi-thread concept.\nI coded and compared both. But I had been having a problem with the connection pool in multithreaded.</p>\n<p>When I send specific requests at a particular time (e.g. 1000 requests per 0.001 seconds) with JMeter in the usual implementation, all requests are done; but while running it with the multithread implement, some of the requests are failed.\nThe cause of this problem is related to the connection pool; Service is gotten the Hikari pool error.</p>\n<p>I know one solution as increment the Hikari pool, but I can't do it, because the speed of the oracle database will decrease (I don't have access to it).\nWhat is the best practice for handling multi-threads in this situation? increasing Hikari pool or dividing threads into smaller parts?</p>\n<p>( Technologies used:Springboot v2.6.0, Java 14, Oracle database, for multithread used  completeableFuture from java.util.concurrent, JMeter (last version) )</p>\n<p>The code shows you, all my configurations in the application.properties :</p>\n<pre><code>#maximum number of milliseconds that a client will wait for a connection\nspring.datasource.hikari.connection-timeout = 20000\n\n#minimum number of idle connections maintained by HikariCP in a connection pool\nspring.datasource.hikari.minimum-idle= 10000\n\n#maximum pool size\nspring.datasource.hikari.maximum-pool-size= 10000\n\n#maximum idle time for connection\nspring.datasource.hikari.idle-timeout=10000\n\n# maximum lifetime in milliseconds of a connection in the pool after it is closed.\nspring.datasource.hikari.max-lifetime= 1000\n\n</code></pre>\n<p>Implementation of multithreaded :</p>\n<pre><code>@Override\n    public AllInquiriesDTO getAllInquiries(Long cardRequestId, String outputPostCode, String outputTraceId) {\n\n        AllInquiriesDTO allInquiriesDTO = new AllInquiriesDTO();\n        CompletableFuture&lt;Void&gt; gomrokHoghooghiInquiry = this.getGomrokHoghooghiInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setGomrokHoghoghi);\n        CompletableFuture&lt;Void&gt; returnCheckInquiry = this.getReturnCheckInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setReturnCheck);\n        CompletableFuture&lt;Void&gt; behinyabInquiry = this.getBehinyabInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setBehinyab);\n        CompletableFuture&lt;Void&gt; graduationInquiry = this.getGraduationInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setGraduation);\n        CompletableFuture&lt;Void&gt; legalPersonalInfoInquiry = this.getLegalPersonalInfoInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setLegalPersonalInfo);\n        CompletableFuture&lt;Void&gt; tax186TaeedInquiry = this.getTax186TaeedInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setTax186Taeed);\n        CompletableFuture&lt;Void&gt; tax186SodoorInquiry = this.getTax186SodoorInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setTax186Sodoor);\n        CompletableFuture&lt;Void&gt; taxAnnualDetailListInquiry = this.getTaxAnnualDetailListInquiry(cardRequestId)\n                .thenAccept(res -&gt; allInquiriesDTO.getTax186Sodoor().get(0).setTaxAnnualDetailList(res));\n        CompletableFuture&lt;Void&gt; postInquiry = this.getPostInquiry(cardRequestId).\n                thenAccept(allInquiriesDTO::setPost);\n        CompletableFuture&lt;Void&gt; gomrokHaghighiInquiry = this.getGomrokHaghighiInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setGomrokHaghighi);\n        CompletableFuture&lt;Void&gt; nezamVazifeInquiry = this.getNezamVazifeInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setNezamVazife);\n        CompletableFuture&lt;Void&gt; sahaInquiry = this.getSahaInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setSaha);\n        CompletableFuture&lt;Void&gt; amlakInquiry = this.getAmlakInquiry(cardRequestId, outputPostCode, outputTraceId)\n                .thenAccept(allInquiriesDTO::setAmlak);\n        CompletableFuture&lt;Void&gt; jahadInquiry = this.getJahadInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setJahad);\n        CompletableFuture&lt;Void&gt; employeeCheckInquiry = this.getEmployeeCheckInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setEmployeeCheck);\n        CompletableFuture&lt;Void&gt; taeminDebtInquiry = this.getTaeminDebtInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setTaminDebt);\n        CompletableFuture&lt;Void&gt; madanInquiry = this.getMadanInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setMadan);\n        CompletableFuture&lt;Void&gt; cCompanyInquiry = this.getCCompanyInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setCCompany);\n        CompletableFuture&lt;Void&gt; soePishineInquiry = this.getSoePishineInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setSoePishine);\n        CompletableFuture&lt;Void&gt; managerInfoInquiry = this.getManagerInfoInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setManagerInfo);\n        CompletableFuture&lt;Void&gt; tanzimMoghararatInquiry = this.getTanzimMoghararatInquiry(cardRequestId)\n                .thenAccept(allInquiriesDTO::setTanzimMoghararat);\n\n        CompletableFuture.allOf(gomrokHoghooghiInquiry, returnCheckInquiry, behinyabInquiry, graduationInquiry,\n                legalPersonalInfoInquiry, tax186TaeedInquiry,\n                tax186SodoorInquiry, taxAnnualDetailListInquiry, postInquiry, gomrokHaghighiInquiry,\n                nezamVazifeInquiry, sahaInquiry, amlakInquiry, jahadInquiry, employeeCheckInquiry,\n                taeminDebtInquiry, madanInquiry, cCompanyInquiry, soePishineInquiry, managerInfoInquiry,\n                tanzimMoghararatInquiry).join();\n\n        return allInquiriesDTO;\n    }\n\n    @Override\n    public CompletableFuture&lt;List&lt;ReturnCheckDTO&gt;&gt; getReturnCheckInquiry(Long cardRequestId) {\n        return CompletableFuture.supplyAsync(()\n                -&gt; returnCheckRepository.findByCardRequestId(cardRequestId));\n    }\n\n\n    @Override\n    public CompletableFuture&lt;List&lt;GraduationDTO&gt;&gt; getGraduationInquiry(Long cardRequestId) {\n        return CompletableFuture.supplyAsync(()\n                -&gt; graduationRepository.findByCardRequestId(cardRequestId));\n    }\n\n    @Override\n    public CompletableFuture&lt;List&lt;LegalPersonalInfoDTO&gt;&gt; getLegalPersonalInfoInquiry(Long cardRequestId) {\n        return CompletableFuture.supplyAsync(()\n                -&gt; legalPersonalInfoMIMTWSRepository.findByCardRequestId(cardRequestId));\n    }\n\n    @Override\n    public CompletableFuture&lt;List&lt;Tax186WebServiceTaeed&gt;&gt; getTax186TaeedInquiry(Long cardRequestId) {\n        return CompletableFuture.supplyAsync(()\n                -&gt; tax186DebtRepository.findByCardRequestId(cardRequestId));\n    }\n</code></pre>\n"},{"tags":["java","json","mongodb","dbref"],"answers":[{"tags":[],"owner":{"account_id":4979049,"reputation":251,"user_id":4004588,"display_name":"Georgi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1638099162,"creation_date":1438854698,"answer_id":31852507,"question_id":31827635,"body_markdown":"You have to import the DBRef Codec for it to print it, if u want it in a document json style you need to write your own Codec for DBRef and add it to the codecregistry you give toJson().\r\n\r\ne.g.\r\n\r\n    CodecRegistry codecRegistry = MongoClientSettings.getDefaultCodecRegistry();\r\n    -------\r\n    final DocumentCodec codec = new DocumentCodec(codecRegistry, new BsonTypeClassMap());\r\n    -------\r\n    System.out.println(document.toJson(codec));","title":"Resolve DBRef into Json","body":"<p>You have to import the DBRef Codec for it to print it, if u want it in a document json style you need to write your own Codec for DBRef and add it to the codecregistry you give toJson().</p>\n<p>e.g.</p>\n<pre><code>CodecRegistry codecRegistry = MongoClientSettings.getDefaultCodecRegistry();\n-------\nfinal DocumentCodec codec = new DocumentCodec(codecRegistry, new BsonTypeClassMap());\n-------\nSystem.out.println(document.toJson(codec));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6677527,"reputation":61,"user_id":5151712,"display_name":"jad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587700153,"creation_date":1587699794,"answer_id":61400747,"question_id":31827635,"body_markdown":"Since this is the first result when searching for the error in google and the solution in the accepted answer doesn&#39;t seem that straightforward and no longer seems to work since MongoClient does not have a getDefaultCodecRegistry() any longer, I will post what helped me:\r\n   \r\n\r\n        protected MongoCollection&lt;Document&gt; collection;\r\n        \r\n          private final CodecRegistry DEFAULT_REGISTRY = CodecRegistries.fromProviders(\r\n              asList(new ValueCodecProvider(),\r\n                  new BsonValueCodecProvider(),\r\n                  new DocumentCodecProvider(),\r\n                  new DBRefCodecProvider(),\r\n                  new DBObjectCodecProvider(),\r\n                  new BsonValueCodecProvider(),\r\n                  new GeoJsonCodecProvider(),\r\n                  new GridFSFileCodecProvider()));\r\n        \r\n          private final BsonTypeClassMap DEFAULT_BSON_TYPE_CLASS_MAP = new BsonTypeClassMap();\r\n        \r\n          private final DocumentCodec documentCodec = new DocumentCodec(\r\n              DEFAULT_REGISTRY,\r\n              DEFAULT_BSON_TYPE_CLASS_MAP\r\n          );\r\n    -----------------------------------------------------------------------\r\n    JsonWriterSettings writerSettings = org.bson.json.JsonWriterSettings.\r\n            builder().\r\n            outputMode(JsonMode.SHELL).\r\n            indent(true)\r\n            .build();\r\n    \r\n        JsonArray jsonArray = new JsonArray();\r\n        collection.\r\n            find().\r\n            iterator().\r\n            forEachRemaining(entry -&gt; jsonArray.add(new JsonParser().parse(entry.toJson(writerSettings, documentCodec)).getAsJsonObject()));\r\n\r\nThe solution comes from here: https://github.com/akitoshka/debezium/commit/8dd12d76acced74de7ab184bc18a4384565a70b7","title":"Resolve DBRef into Json","body":"<p>Since this is the first result when searching for the error in google and the solution in the accepted answer doesn't seem that straightforward and no longer seems to work since MongoClient does not have a getDefaultCodecRegistry() any longer, I will post what helped me:</p>\n\n<pre><code>    protected MongoCollection&lt;Document&gt; collection;\n\n      private final CodecRegistry DEFAULT_REGISTRY = CodecRegistries.fromProviders(\n          asList(new ValueCodecProvider(),\n              new BsonValueCodecProvider(),\n              new DocumentCodecProvider(),\n              new DBRefCodecProvider(),\n              new DBObjectCodecProvider(),\n              new BsonValueCodecProvider(),\n              new GeoJsonCodecProvider(),\n              new GridFSFileCodecProvider()));\n\n      private final BsonTypeClassMap DEFAULT_BSON_TYPE_CLASS_MAP = new BsonTypeClassMap();\n\n      private final DocumentCodec documentCodec = new DocumentCodec(\n          DEFAULT_REGISTRY,\n          DEFAULT_BSON_TYPE_CLASS_MAP\n      );\n-----------------------------------------------------------------------\nJsonWriterSettings writerSettings = org.bson.json.JsonWriterSettings.\n        builder().\n        outputMode(JsonMode.SHELL).\n        indent(true)\n        .build();\n\n    JsonArray jsonArray = new JsonArray();\n    collection.\n        find().\n        iterator().\n        forEachRemaining(entry -&gt; jsonArray.add(new JsonParser().parse(entry.toJson(writerSettings, documentCodec)).getAsJsonObject()));\n</code></pre>\n\n<p>The solution comes from here: <a href=\"https://github.com/akitoshka/debezium/commit/8dd12d76acced74de7ab184bc18a4384565a70b7\" rel=\"nofollow noreferrer\">https://github.com/akitoshka/debezium/commit/8dd12d76acced74de7ab184bc18a4384565a70b7</a></p>\n"}],"owner":{"account_id":4979049,"reputation":251,"user_id":4004588,"display_name":"Georgi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3285,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":31852507,"answer_count":2,"score":8,"last_activity_date":1638099162,"creation_date":1438764470,"question_id":31827635,"body_markdown":"I&#39;m getting the following error in a Normalized Data Model structure in MongoDB:\r\n\r\n    org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class com.mongodb.DBRef\r\n\r\nIt&#39;s caused by this line:\r\n\r\n    System.out.println(document.toJson());\r\n\r\nSpecifically the `toJson()` part. I have a DBRef Object in my Document, so I can reference a Document from another Collection. An Embedded Document Structure is not option. So how can I fix this?","title":"Resolve DBRef into Json","body":"<p>I'm getting the following error in a Normalized Data Model structure in MongoDB:</p>\n\n<pre><code>org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class com.mongodb.DBRef\n</code></pre>\n\n<p>It's caused by this line:</p>\n\n<pre><code>System.out.println(document.toJson());\n</code></pre>\n\n<p>Specifically the <code>toJson()</code> part. I have a DBRef Object in my Document, so I can reference a Document from another Collection. An Embedded Document Structure is not option. So how can I fix this?</p>\n"},{"tags":["java","installation"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638042426,"post_id":70138145,"comment_id":123984083,"body_markdown":"Probably broken. Does uninstalling all java and reinstalling this one help?","body":"Probably broken. Does uninstalling all java and reinstalling this one help?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1638042439,"post_id":70138145,"comment_id":123984087,"body_markdown":"Do you have another file on your path that is called `java`? Or maybe a java is on your path that is the wrong architecture? Can you specify the full path to your java installation?","body":"Do you have another file on your path that is called <code>java</code>? Or maybe a java is on your path that is the wrong architecture? Can you specify the full path to your java installation?"},{"owner":{"account_id":16120775,"reputation":333,"user_id":11636798,"display_name":"coder-coder"},"score":0,"creation_date":1638042700,"post_id":70138145,"comment_id":123984149,"body_markdown":"@matt, I tried calling `java` from different directories, it didn&#39;t help. The installation dir is pretty much typical: C:\\Program Files\\Java\\jdk1.8.0_311. Of course, for PATH variable I add `\\bin`.","body":"@matt, I tried calling <code>java</code> from different directories, it didn&#39;t help. The installation dir is pretty much typical: C:\\Program Files\\Java\\jdk1.8.0_311. Of course, for PATH variable I add <code>\\bin</code>."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1638043135,"post_id":70138145,"comment_id":123984263,"body_markdown":"You can specify the full path to run java.exe. Eg. &quot;C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe&quot;. That will help you check if there is an issue with another java on your path. In linux there is a command &#39;which&#39; that will let you see where the exe file you call resides.","body":"You can specify the full path to run java.exe. Eg. &quot;C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe&quot;. That will help you check if there is an issue with another java on your path. In linux there is a command &#39;which&#39; that will let you see where the exe file you call resides."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1638043287,"post_id":70138145,"comment_id":123984286,"body_markdown":"&quot;Of course, for PATH variable I add \\bin&quot; That doesn&#39;t sound correct. I suspect you mean the bin folder of the jdk is added to your path? Make sure it is escaped correctly and that nothing is on the path before your jdk that could have a broken java.","body":"&quot;Of course, for PATH variable I add \\bin&quot; That doesn&#39;t sound correct. I suspect you mean the bin folder of the jdk is added to your path? Make sure it is escaped correctly and that nothing is on the path before your jdk that could have a broken java."},{"owner":{"account_id":16120775,"reputation":333,"user_id":11636798,"display_name":"coder-coder"},"score":0,"creation_date":1638044062,"post_id":70138145,"comment_id":123984430,"body_markdown":"@Thorbj&#248;rnRavnAndersen, reinstallation helped. It must indeed had been a kind of a problem with the installation process before.","body":"@Thorbj&#248;rnRavnAndersen, reinstallation helped. It must indeed had been a kind of a problem with the installation process before."},{"owner":{"account_id":6524993,"reputation":33917,"user_id":5047996,"accept_rate":74,"display_name":"aschipfl"},"score":0,"creation_date":1643194265,"post_id":70138145,"comment_id":125273128,"body_markdown":"As far as I remember, `java -version` writes to _STDERR_ (handle `2`) rather than _STDOUT_ (handle `1`); maybe this comes into play here","body":"As far as I remember, <code>java -version</code> writes to <i>STDERR</i> (handle <code>2</code>) rather than <i>STDOUT</i> (handle <code>1</code>); maybe this comes into play here"}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638043182,"creation_date":1638043182,"answer_id":70138264,"question_id":70138145,"body_markdown":"Check you environment variables. Sometimes if your upgrade Java, the directory of your Java installation changes, but doesn&#39;t get updated in the environment variables. You&#39;ll you have to manual update them by correcting where they point to.\r\n","title":"JAVA command shows nothing in a command prompt","body":"<p>Check you environment variables. Sometimes if your upgrade Java, the directory of your Java installation changes, but doesn't get updated in the environment variables. You'll you have to manual update them by correcting where they point to.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638098859,"creation_date":1638098859,"answer_id":70142937,"question_id":70138145,"body_markdown":"I have seen this occasionally on Windows, and uninstalling all Java distributions (those with an installer) and reinstalling the one you need usually fixes it for me.\r\n\r\nIf you do a lot of Java development you may need to have several versions of Java available on your system to be sure that everything is compatible for a given project.  In that case, ZIP distributions that just need to be unpacked and not installed are very handy, especially with a good IDE that just needs to be told where to find them.","title":"JAVA command shows nothing in a command prompt","body":"<p>I have seen this occasionally on Windows, and uninstalling all Java distributions (those with an installer) and reinstalling the one you need usually fixes it for me.</p>\n<p>If you do a lot of Java development you may need to have several versions of Java available on your system to be sure that everything is compatible for a given project.  In that case, ZIP distributions that just need to be unpacked and not installed are very handy, especially with a good IDE that just needs to be told where to find them.</p>\n"}],"owner":{"account_id":16120775,"reputation":333,"user_id":11636798,"display_name":"coder-coder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70142937,"answer_count":2,"score":2,"last_activity_date":1638098859,"creation_date":1638042238,"question_id":70138145,"body_markdown":"My question is very simple but I still cannot find out what&#39;s the problem.\r\nWhen I input `java`, `java -version` or `javac -version` in a command prompt nothing is shown at all: neither an &quot;unknown file&quot; error nor the result.\r\n\r\nThat&#39;s how it looks like:\r\n\r\n[![nothing is shown picture][1]][1]\r\n\r\nI used standard Java installer, PATH and JAVA_HOME variables were renewed.\r\nI&#39;ve set JDKs several times before but it&#39;s the first time I run into such a problem. Is there anything I am missing or is it a known bug?\r\n\r\n  [1]: https://i.stack.imgur.com/QB5RE.png","title":"JAVA command shows nothing in a command prompt","body":"<p>My question is very simple but I still cannot find out what's the problem.\nWhen I input <code>java</code>, <code>java -version</code> or <code>javac -version</code> in a command prompt nothing is shown at all: neither an &quot;unknown file&quot; error nor the result.</p>\n<p>That's how it looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/QB5RE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QB5RE.png\" alt=\"nothing is shown picture\" /></a></p>\n<p>I used standard Java installer, PATH and JAVA_HOME variables were renewed.\nI've set JDKs several times before but it's the first time I run into such a problem. Is there anything I am missing or is it a known bug?</p>\n"},{"tags":["java","matrix"],"comments":[{"owner":{"account_id":430557,"reputation":3444,"user_id":814074,"accept_rate":50,"display_name":"Sachin"},"score":7,"creation_date":1363439744,"post_id":15449711,"comment_id":21858308,"body_markdown":"Make a attempt then ask","body":"Make a attempt then ask"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1363440118,"post_id":15449711,"comment_id":21858384,"body_markdown":"`for (int j = i+1; ...` =&gt; `for (int j = 0; ...)` - also you don&#39;t need to return m, the caller already has a reference to it.","body":"<code>for (int j = i+1; ...</code> =&gt; <code>for (int j = 0; ...)</code> - also you don&#39;t need to return m, the caller already has a reference to it."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1363440262,"post_id":15449711,"comment_id":21858421,"body_markdown":"@Pshemo This one got closed a little too fast it seems...","body":"@Pshemo This one got closed a little too fast it seems..."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1363440368,"post_id":15449711,"comment_id":21858442,"body_markdown":"@assylias Yes, it was closed before OP posted his attempt. I voted to reopen it after that.","body":"@assylias Yes, it was closed before OP posted his attempt. I voted to reopen it after that."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1363441192,"post_id":15449711,"comment_id":21858660,"body_markdown":"@gurehbgui What are you trying to do? If you are trying to change positions of elements in &quot;square&quot; matrix then your code works correctly. If you want to transpose non square matrix lets say {{1,2,3},{4,5,6}} into {{1,4},{2,5},{3,6}} you will have to create and return new array because you cant add/delete rows to already existing array.","body":"@gurehbgui What are you trying to do? If you are trying to change positions of elements in &quot;square&quot; matrix then your code works correctly. If you want to transpose non square matrix lets say {{1,2,3},{4,5,6}} into {{1,4},{2,5},{3,6}} you will have to create and return new array because you cant add/delete rows to already existing array."},{"owner":{"account_id":5362580,"reputation":167,"user_id":4273385,"display_name":"Wen-Bin Luo"},"score":0,"creation_date":1503110270,"post_id":15449711,"comment_id":78492690,"body_markdown":"Please refer to my solution using Apache library","body":"Please refer to my solution using Apache library"}],"answers":[{"tags":[],"owner":{"account_id":167073,"reputation":4830,"user_id":391635,"accept_rate":32,"display_name":"mystdeim"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1398822697,"creation_date":1363689979,"answer_id":15497288,"question_id":15449711,"body_markdown":"    \t\r\n\t    public static double[][] transposeMatrix(double [][] m){\r\n\t        double[][] temp = new double[m[0].length][m.length];\r\n\t        for (int i = 0; i &lt; m.length; i++)\r\n\t            for (int j = 0; j &lt; m[0].length; j++)\r\n\t        \t    temp[j][i] = m[i][j];\r\n\t        return temp;\r\n\t    }","title":"transpose double[][] matrix with a java function?","body":"<pre><code>    public static double[][] transposeMatrix(double [][] m){\n        double[][] temp = new double[m[0].length][m.length];\n        for (int i = 0; i &lt; m.length; i++)\n            for (int j = 0; j &lt; m[0].length; j++)\n                temp[j][i] = m[i][j];\n        return temp;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429520849,"creation_date":1429520849,"answer_id":29743544,"question_id":15449711,"body_markdown":"Java Class to Transpose a matrix :-\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Transpose {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \r\n    \tstatic int col;\r\n    \tstatic int row;\r\n    \tstatic int[][] trans_arr = new int[col][row];\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint m = sc.nextInt();\r\n    \t\tcol = m;\r\n    \t\tint n = sc.nextInt();\r\n    \t\trow = n;\r\n    \r\n    \t\tint[][] arr = new int[row][col];\r\n    \t\tfor (int i = 0; i &lt; row; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; col; j++) {\r\n    \t\t\t\tarr[i][j] = sc.nextInt();\r\n    \t\t\t\tSystem.out.print(arr[i][j] + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t\tint[][] trans_arr = new int[col][row];\r\n    \t\tfor (int i = 0; i &lt; row; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; col; j++) {\r\n    \t\t\t\ttrans_arr[j][i] = arr[i][j];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; col; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; row; j++) {\r\n    \t\t\t\tSystem.out.print(trans_arr[i][j] + &quot; &quot;);\r\n    \r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"transpose double[][] matrix with a java function?","body":"<p>Java Class to Transpose a matrix :-</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Transpose {\n\n    /**\n     * @param args\n     */\n\n    static int col;\n    static int row;\n    static int[][] trans_arr = new int[col][row];\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Scanner sc = new Scanner(System.in);\n        int m = sc.nextInt();\n        col = m;\n        int n = sc.nextInt();\n        row = n;\n\n        int[][] arr = new int[row][col];\n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                arr[i][j] = sc.nextInt();\n                System.out.print(arr[i][j] + \" \");\n            }\n            System.out.println();\n        }\n        int[][] trans_arr = new int[col][row];\n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                trans_arr[j][i] = arr[i][j];\n            }\n        }\n        for (int i = 0; i &lt; col; i++) {\n            for (int j = 0; j &lt; row; j++) {\n                System.out.print(trans_arr[i][j] + \" \");\n\n            }\n            System.out.println();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5362580,"reputation":167,"user_id":4273385,"display_name":"Wen-Bin Luo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503110203,"creation_date":1503110203,"answer_id":45767111,"question_id":15449711,"body_markdown":"If you would like to use an external library, Apache Commons Math provides the utility to transpose a matrix. Please refer to it [official site][1].\r\n\r\nFirst, you have to create a double array `double[][] arr`, as you have already done. Then, the transposed 2d matrix can be achieved like this\r\n\r\n    MatrixUtils.createRealMatrix(arr).transpose().getData()\r\n\r\n  [1]: http://commons.apache.org/proper/commons-math/userguide/linear.html","title":"transpose double[][] matrix with a java function?","body":"<p>If you would like to use an external library, Apache Commons Math provides the utility to transpose a matrix. Please refer to it <a href=\"http://commons.apache.org/proper/commons-math/userguide/linear.html\" rel=\"nofollow noreferrer\">official site</a>.</p>\n\n<p>First, you have to create a double array <code>double[][] arr</code>, as you have already done. Then, the transposed 2d matrix can be achieved like this</p>\n\n<pre><code>MatrixUtils.createRealMatrix(arr).transpose().getData()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343316,"reputation":129,"user_id":674946,"display_name":"Z A Abbasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523302565,"creation_date":1521993969,"answer_id":49477902,"question_id":15449711,"body_markdown":"Here is the method\r\n\r\n    public static double[][] transpose(double arr[][]){\r\n\t\tint m = arr.length;\r\n\t\tint n = arr[0].length;\r\n        double ret[][] = new double[n][m];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; m; i++) {\r\n\t\t\tfor (int j = 0; j &lt; n; j++) {\r\n\t\t\t\tret[j][i] = arr[i][j];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t}","title":"transpose double[][] matrix with a java function?","body":"<p>Here is the method</p>\n\n<pre><code>public static double[][] transpose(double arr[][]){\n    int m = arr.length;\n    int n = arr[0].length;\n    double ret[][] = new double[n][m];\n\n    for (int i = 0; i &lt; m; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            ret[j][i] = arr[i][j];\n        }\n    }\n\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14199117,"reputation":1,"user_id":10257486,"display_name":"Kaushik Kulkarni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1536352922,"creation_date":1536352922,"answer_id":52229400,"question_id":15449711,"body_markdown":"Here&#39;s a small change!\r\n\r\n    for (int j = i; j &lt; m[0].length; j++)","title":"transpose double[][] matrix with a java function?","body":"<p>Here's a small change!</p>\n\n<pre><code>for (int j = i; j &lt; m[0].length; j++)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3465142,"reputation":31,"user_id":2900930,"display_name":"Santiago Ordax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638098468,"creation_date":1589793909,"answer_id":61866417,"question_id":15449711,"body_markdown":"Since Java 8, you can do this:\r\n\r\n    public static double[][] transposeMatrix(final double[][] matrix) {\r\n\r\n\t\treturn IntStream.range(0, matrix[0].length)\r\n\t\t\t.mapToObj(i -&gt; Stream.of(matrix).mapToDouble(row -&gt; row[i]).toArray())\r\n\t\t\t.toArray(double[][]::new);\r\n\t}","title":"transpose double[][] matrix with a java function?","body":"<p>Since Java 8, you can do this:</p>\n<pre><code>public static double[][] transposeMatrix(final double[][] matrix) {\n\n    return IntStream.range(0, matrix[0].length)\n        .mapToObj(i -&gt; Stream.of(matrix).mapToDouble(row -&gt; row[i]).toArray())\n        .toArray(double[][]::new);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623971794,"creation_date":1623971794,"answer_id":68027550,"question_id":15449711,"body_markdown":"Here is a code to **transpose** a two dimensional matrix **&quot;In Place&quot;** (not using another data structure to save output) and hence is **more memory efficient:**\r\n\r\nSame below algorithm can be used for int or char or string data types as well.\r\n\r\n  \r\n\r\n      public static double[][] transposeDoubleMatrix(double[][] matrix) {\r\n            int n = matrix.length;\r\n            for (int i = 0; i &lt; n; i++) {\r\n                for (int j = i; j &lt; n; j++) {\r\n                    double tmp = matrix[j][i];\r\n                    matrix[j][i] = matrix[i][j];\r\n                    matrix[i][j] = tmp;\r\n                }\r\n            }\r\n            return matrix;\r\n        }","title":"transpose double[][] matrix with a java function?","body":"<p>Here is a code to <strong>transpose</strong> a two dimensional matrix <strong>&quot;In Place&quot;</strong> (not using another data structure to save output) and hence is <strong>more memory efficient:</strong></p>\n<p>Same below algorithm can be used for int or char or string data types as well.</p>\n<pre><code>  public static double[][] transposeDoubleMatrix(double[][] matrix) {\n        int n = matrix.length;\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = i; j &lt; n; j++) {\n                double tmp = matrix[j][i];\n                matrix[j][i] = matrix[i][j];\n                matrix[i][j] = tmp;\n            }\n        }\n        return matrix;\n    }\n</code></pre>\n"}],"owner":{"account_id":194728,"reputation":14374,"user_id":437242,"accept_rate":99,"display_name":"gurehbgui"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54258,"favorite_count":0,"down_vote_count":6,"up_vote_count":17,"accepted_answer_id":15497288,"answer_count":7,"score":11,"last_activity_date":1638098468,"creation_date":1363439630,"question_id":15449711,"body_markdown":"Do anybody have a function with which I can transpose a Matrix in Java which has the following form:\r\n\r\n    double[][]\r\n\r\nI have function like this:\r\n\r\n    public static double[][] transposeMatrix(double [][] m){\r\n    \tfor (int i = 0; i &lt; m.length; i++) {\r\n    \t\tfor (int j = i+1; j &lt; m[0].length; j++) {\r\n    \t\t\tdouble temp = m[i][j];\r\n    \t\t\tm[i][j] = m[j][i];\r\n    \t\t\tm[j][i] = temp;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \treturn m;\r\n    }\r\n\r\nbut its wrong somewhere.","title":"transpose double[][] matrix with a java function?","body":"<p>Do anybody have a function with which I can transpose a Matrix in Java which has the following form:</p>\n\n<pre><code>double[][]\n</code></pre>\n\n<p>I have function like this:</p>\n\n<pre><code>public static double[][] transposeMatrix(double [][] m){\n    for (int i = 0; i &lt; m.length; i++) {\n        for (int j = i+1; j &lt; m[0].length; j++) {\n            double temp = m[i][j];\n            m[i][j] = m[j][i];\n            m[j][i] = temp;\n        }\n    }\n\n    return m;\n}\n</code></pre>\n\n<p>but its wrong somewhere.</p>\n"},{"tags":["java","json","swagger","retrofit2","discriminator"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1638121503,"post_id":70142887,"comment_id":123997663,"body_markdown":"Can you post the OpenAPI schema definition for the response in question?","body":"Can you post the OpenAPI schema definition for the response in question?"},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1638280820,"post_id":70142887,"comment_id":124042486,"body_markdown":"@Helen, Thanks for response. I founded the issue. The issue was in another Object that is responsible for reading responses. And this object had allOf, anyOf, oneOf in it&#39;s schema. Swagger generator has a bug and can&#39;t always generate code properly if schema contains allOf, anyOf or oneOf. I modified schema, removed allOf, anyOf and oneOf. For now it works.","body":"@Helen, Thanks for response. I founded the issue. The issue was in another Object that is responsible for reading responses. And this object had allOf, anyOf, oneOf in it&#39;s schema. Swagger generator has a bug and can&#39;t always generate code properly if schema contains allOf, anyOf or oneOf. I modified schema, removed allOf, anyOf and oneOf. For now it works."}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638098443,"creation_date":1638098443,"question_id":70142887,"body_markdown":"I&#39;m using code generated by swagger. When my client makes request, he fails to read the response with message:\r\n\r\n    java.lang.IllegalArgumentException: missing discriminator field: &lt;&gt;\r\n    \tat com.allot.client.nrf.management.invoker.JSON.getDiscriminatorValue(JSON.java:81)\r\n    \tat com.allot.client.nrf.management.invoker.JSON.access$000(JSON.java:43)\r\n    \tat com.allot.client.nrf.management.invoker.JSON$2.getClassForElement(JSON.java:60)\r\n    \tat io.gsonfire.gson.TypeSelectorTypeAdapterFactory$TypeSelectorTypeAdapter.read(TypeSelectorTypeAdapterFactory.java:65)\r\n    \tat io.gsonfire.gson.NullableTypeAdapter.read(NullableTypeAdapter.java:36)\r\n    \tat io.gsonfire.gson.HooksTypeAdapter.deserialize(HooksTypeAdapter.java:86)\r\n    \tat io.gsonfire.gson.HooksTypeAdapter.read(HooksTypeAdapter.java:54)\r\n    \tat retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:40)\r\n    \tat retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:27)\r\n    \tat retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:243)\r\n    \tat retrofit2.OkHttpCall.execute(OkHttpCall.java:204)\r\n\r\nI&#39;m using Retrofit2, so I make request in this way: \r\n\r\n    Call&lt;NFProfile&gt; call - getCall();\r\n    Response&lt;NFProfile&gt; response = call.execute();\r\n\r\nAnd `call.execute()` fails.\r\n\r\nWhat could be a reason? I&#39;ve read that this issue could be because of `anyOf` / `allOf` in schemas in YAML files. But I don&#39;t have it in `NFProfile` schemas. I generated my client from TS29510_Nnrf_NFManagement.yaml file.\r\n\r\nAny suggestions? Somebody faced with such problem?","title":"missing discriminator field: &lt;&gt;","body":"<p>I'm using code generated by swagger. When my client makes request, he fails to read the response with message:</p>\n<pre><code>java.lang.IllegalArgumentException: missing discriminator field: &lt;&gt;\n    at com.allot.client.nrf.management.invoker.JSON.getDiscriminatorValue(JSON.java:81)\n    at com.allot.client.nrf.management.invoker.JSON.access$000(JSON.java:43)\n    at com.allot.client.nrf.management.invoker.JSON$2.getClassForElement(JSON.java:60)\n    at io.gsonfire.gson.TypeSelectorTypeAdapterFactory$TypeSelectorTypeAdapter.read(TypeSelectorTypeAdapterFactory.java:65)\n    at io.gsonfire.gson.NullableTypeAdapter.read(NullableTypeAdapter.java:36)\n    at io.gsonfire.gson.HooksTypeAdapter.deserialize(HooksTypeAdapter.java:86)\n    at io.gsonfire.gson.HooksTypeAdapter.read(HooksTypeAdapter.java:54)\n    at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:40)\n    at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:27)\n    at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:243)\n    at retrofit2.OkHttpCall.execute(OkHttpCall.java:204)\n</code></pre>\n<p>I'm using Retrofit2, so I make request in this way:</p>\n<pre><code>Call&lt;NFProfile&gt; call - getCall();\nResponse&lt;NFProfile&gt; response = call.execute();\n</code></pre>\n<p>And <code>call.execute()</code> fails.</p>\n<p>What could be a reason? I've read that this issue could be because of <code>anyOf</code> / <code>allOf</code> in schemas in YAML files. But I don't have it in <code>NFProfile</code> schemas. I generated my client from TS29510_Nnrf_NFManagement.yaml file.</p>\n<p>Any suggestions? Somebody faced with such problem?</p>\n"},{"tags":["java","tdd"],"answers":[{"tags":[],"owner":{"account_id":18029345,"reputation":66,"user_id":13104426,"display_name":"Paul De Groot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638097860,"creation_date":1638097860,"answer_id":70142813,"question_id":70142669,"body_markdown":"The `==` checks if objects *p* and *moved* are the same object. Since you created a new object (`p = new Point`), *moved* will not be the same object even if it has the same values.\r\n\r\nIf you want to compare values, you can use equals().\r\nSo: `Assertions.assertTrue( p.equals(moved) );`","title":"Are 2 references to an object == to each other?","body":"<p>The <code>==</code> checks if objects <em>p</em> and <em>moved</em> are the same object. Since you created a new object (<code>p = new Point</code>), <em>moved</em> will not be the same object even if it has the same values.</p>\n<p>If you want to compare values, you can use equals().\nSo: <code>Assertions.assertTrue( p.equals(moved) );</code></p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638098032,"creation_date":1638098032,"answer_id":70142832,"question_id":70142669,"body_markdown":"`p == moved` tests whether `p` and `moved` reference the same object.\r\n\r\nSince the `move()` method always returns a `new Point()` this test will fail with your current implementation of the `move()` method.\r\n\r\nIf you _want to store the moved point (which didn&#39;t actually move) in the same memory location as the original point_ then you need to change your move method to\r\n\r\n    public Point move(int xSteps, int ySteps) {\r\n        if (xSteps == 0 &amp;&amp; ySteps == 0) {\r\n            return this;\r\n        } else {\r\n            return new Point(x + xSteps, y + ySteps);\r\n        }\r\n    }\r\n\r\n","title":"Are 2 references to an object == to each other?","body":"<p><code>p == moved</code> tests whether <code>p</code> and <code>moved</code> reference the same object.</p>\n<p>Since the <code>move()</code> method always returns a <code>new Point()</code> this test will fail with your current implementation of the <code>move()</code> method.</p>\n<p>If you <em>want to store the moved point (which didn't actually move) in the same memory location as the original point</em> then you need to change your move method to</p>\n<pre><code>public Point move(int xSteps, int ySteps) {\n    if (xSteps == 0 &amp;&amp; ySteps == 0) {\n        return this;\n    } else {\n        return new Point(x + xSteps, y + ySteps);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23441639,"reputation":23,"user_id":17499053,"display_name":"Zaid Fanek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70142832,"answer_count":2,"score":0,"last_activity_date":1638098032,"creation_date":1638096751,"question_id":70142669,"body_markdown":"I have a method, move(xSteps, ySteps), which takes a point and moves it according to the parameters on the method by increasing or decreasing x and y.\r\n\r\nBut when the xSteps and ySteps are both 0, I want to store the moved point (which didn&#39;t actually move) in the same memory location as the original point since the x and y value should be the same.\r\n\r\nThe move method is below\r\n\r\n    public Point move(int xSteps, int ySteps) {\r\n        Point p;\r\n        Point p2;\r\n        if (xSteps == 0 &amp;&amp; ySteps == 0) {\r\n            p = new Point(x, y);\r\n            p2 = p\r\n            return p2;\r\n        } else {\r\n            p2 = new Point(x + xSteps, y + ySteps);\r\n        }\r\n        return p2;\r\n    }\r\n\r\n\r\n  However when i run this test,\r\n\r\n    moved = point.move(0,0);\r\n\r\n            Assertions.assertTrue(p == moved);\r\nIt returns false, but it should be true. Why is this happening?\r\n","title":"Are 2 references to an object == to each other?","body":"<p>I have a method, move(xSteps, ySteps), which takes a point and moves it according to the parameters on the method by increasing or decreasing x and y.</p>\n<p>But when the xSteps and ySteps are both 0, I want to store the moved point (which didn't actually move) in the same memory location as the original point since the x and y value should be the same.</p>\n<p>The move method is below</p>\n<pre><code>public Point move(int xSteps, int ySteps) {\n    Point p;\n    Point p2;\n    if (xSteps == 0 &amp;&amp; ySteps == 0) {\n        p = new Point(x, y);\n        p2 = p\n        return p2;\n    } else {\n        p2 = new Point(x + xSteps, y + ySteps);\n    }\n    return p2;\n}\n</code></pre>\n<p>However when i run this test,</p>\n<pre><code>moved = point.move(0,0);\n\n        Assertions.assertTrue(p == moved);\n</code></pre>\n<p>It returns false, but it should be true. Why is this happening?</p>\n"},{"tags":["java","ejb","cdi"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638097764,"creation_date":1638067701,"answer_id":70140281,"question_id":70139998,"body_markdown":"You cannot refer a class in one WAR from a class in another WAR (unless both are in the same EAR). \r\n\r\nThis is by design! \r\n\r\nNote that you can have all your projects in separate JAR files which are put in the same WAR file which then share their classpath when deployed.  This is how it is typically done.  Either convert your projects to Maven projects and refer to artifacts, or have your IDE help you create the single WAR. ","title":"Interface CDI wildfly external projects","body":"<p>You cannot refer a class in one WAR from a class in another WAR (unless both are in the same EAR).</p>\n<p>This is by design!</p>\n<p>Note that you can have all your projects in separate JAR files which are put in the same WAR file which then share their classpath when deployed.  This is how it is typically done.  Either convert your projects to Maven projects and refer to artifacts, or have your IDE help you create the single WAR.</p>\n"}],"owner":{"account_id":2816542,"reputation":390,"user_id":2421431,"accept_rate":72,"display_name":"Marllon Nasser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70140281,"answer_count":1,"score":1,"last_activity_date":1638097764,"creation_date":1638062681,"question_id":70139998,"body_markdown":"So my idea is to have 3 projects:\r\n\r\n 1. com.tests.interfaces\r\n 2. com.tests.services\r\n 3. com.tests.schedulers\r\n\r\ncom.tests.interfaces basically is:\r\n\r\n    @Remote\r\n    public interface IFoo {\r\n    \tpublic String test(); \r\n    }\r\n\r\ncom.tests.services is:\r\n\r\n    @Stateless(name = &quot;IFoo&quot;)\r\n    public class FooBean implements IFoo {\r\n    \r\n    \tpublic String test() {\r\n    \t\treturn &quot;Hello world&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nI am deploying the &quot;services&quot; project and it works fine using wildfly 24.0.0. Then I am trying to have another .war project called: com.tests.schedulers which looks like this:\r\n\r\n    @Stateless\r\n    public class TestEjb {\r\n    \r\n    \t@EJB(beanName = &quot;IFoo&quot;)\r\n    \tIFoo iFoo;\r\n    \t\r\n    \tpublic void teste() {\r\n    \t\tiFoo.test();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    @Singleton\r\n    public class ExecutorMainframeProcessamento {\r\n    \r\n        @EJB\r\n\t    TestEjb testEjb;\r\n\r\n        @Schedule(second = &quot;*/5&quot;, minute = &quot;*&quot;, hour = &quot;*&quot;, dayOfWeek = &quot;*&quot;, persistent = false, info =&quot;Test EJB&quot;)\r\n\t    public void atSchedule() {\r\n\t\t    testEjb.test();\r\n\t    }\r\n    }\r\n\r\nBut it cant be deployed and this is the relevant part of wildfly&#39;s (same server to all .wars) output:\r\n\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEJB0405: No Jakarta Enterprise Beans found with interface of type &#39;com.tests.interfaces.IFoo&#39; and name &#39;IFoo&#39; for binding com.tests.schedulers.TestEjb/iFoo\r\n\r\nWhat am I missing or doing wrong?","title":"Interface CDI wildfly external projects","body":"<p>So my idea is to have 3 projects:</p>\n<ol>\n<li>com.tests.interfaces</li>\n<li>com.tests.services</li>\n<li>com.tests.schedulers</li>\n</ol>\n<p>com.tests.interfaces basically is:</p>\n<pre><code>@Remote\npublic interface IFoo {\n    public String test(); \n}\n</code></pre>\n<p>com.tests.services is:</p>\n<pre><code>@Stateless(name = &quot;IFoo&quot;)\npublic class FooBean implements IFoo {\n\n    public String test() {\n        return &quot;Hello world&quot;;\n    }\n\n}\n</code></pre>\n<p>I am deploying the &quot;services&quot; project and it works fine using wildfly 24.0.0. Then I am trying to have another .war project called: com.tests.schedulers which looks like this:</p>\n<pre><code>@Stateless\npublic class TestEjb {\n\n    @EJB(beanName = &quot;IFoo&quot;)\n    IFoo iFoo;\n    \n    public void teste() {\n        iFoo.test();\n    }\n    \n}\n\n@Singleton\npublic class ExecutorMainframeProcessamento {\n\n    @EJB\n    TestEjb testEjb;\n\n    @Schedule(second = &quot;*/5&quot;, minute = &quot;*&quot;, hour = &quot;*&quot;, dayOfWeek = &quot;*&quot;, persistent = false, info =&quot;Test EJB&quot;)\n    public void atSchedule() {\n        testEjb.test();\n    }\n}\n</code></pre>\n<p>But it cant be deployed and this is the relevant part of wildfly's (same server to all .wars) output:</p>\n<pre><code>Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEJB0405: No Jakarta Enterprise Beans found with interface of type 'com.tests.interfaces.IFoo' and name 'IFoo' for binding com.tests.schedulers.TestEjb/iFoo\n</code></pre>\n<p>What am I missing or doing wrong?</p>\n"},{"tags":["java","collections","clone","deep-copy"],"comments":[{"owner":{"account_id":31607,"reputation":1100,"user_id":86930,"accept_rate":75,"display_name":"Swiety"},"score":0,"creation_date":1238796723,"post_id":715650,"comment_id":8146652,"body_markdown":"It was already discussed in [Deep clone utility recomendation](http://stackoverflow.com/questions/665860/deep-clone-utility-recomendation) question","body":"It was already discussed in <a href=\"http://stackoverflow.com/questions/665860/deep-clone-utility-recomendation\">Deep clone utility recomendation</a> question"}],"answers":[{"tags":[],"owner":{"account_id":25119,"reputation":16621,"user_id":64331,"display_name":"Varkhan"},"down_vote_count":10,"up_vote_count":227,"is_accepted":true,"score":217,"last_activity_date":1546070729,"creation_date":1238791403,"answer_id":715660,"question_id":715650,"body_markdown":"You will need to iterate on the items, and clone them one by one, putting the clones in your result array as you go.\r\n\r\n    public static List&lt;Dog&gt; cloneList(List&lt;Dog&gt; list) {\r\n        List&lt;Dog&gt; clone = new ArrayList&lt;Dog&gt;(list.size());\r\n        for (Dog item : list) clone.add(item.clone());\r\n        return clone;\r\n    }\r\n\r\nFor that to work, obviously, you will have to get your `Dog` class to implement the `Cloneable` interface and override the `clone()` method.","title":"How to clone ArrayList and also clone its contents?","body":"<p>You will need to iterate on the items, and clone them one by one, putting the clones in your result array as you go.</p>\n\n<pre><code>public static List&lt;Dog&gt; cloneList(List&lt;Dog&gt; list) {\n    List&lt;Dog&gt; clone = new ArrayList&lt;Dog&gt;(list.size());\n    for (Dog item : list) clone.add(item.clone());\n    return clone;\n}\n</code></pre>\n\n<p>For that to work, obviously, you will have to get your <code>Dog</code> class to implement the <code>Cloneable</code> interface and override the <code>clone()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":28164,"reputation":60109,"user_id":74939,"display_name":"Stephan202"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1458229405,"creation_date":1238791566,"answer_id":715671,"question_id":715650,"body_markdown":"You will need to clone the `ArrayList` by hand (by iterating over it and copying each element to a new `ArrayList`), because `clone()` will not do it for you. Reason for this is that the objects contained in the `ArrayList` may not implement `Clonable` themselves.\r\n\r\n**Edit**: ... and that is exactly what Varkhan&#39;s code does.\r\n","title":"How to clone ArrayList and also clone its contents?","body":"<p>You will need to clone the <code>ArrayList</code> by hand (by iterating over it and copying each element to a new <code>ArrayList</code>), because <code>clone()</code> will not do it for you. Reason for this is that the objects contained in the <code>ArrayList</code> may not implement <code>Clonable</code> themselves.</p>\n\n<p><strong>Edit</strong>: ... and that is exactly what Varkhan's code does.</p>\n"},{"tags":[],"owner":{"account_id":24561,"reputation":31944,"user_id":62571,"accept_rate":85,"display_name":"cdmckay"},"down_vote_count":1,"up_vote_count":220,"is_accepted":false,"score":219,"last_activity_date":1306418108,"creation_date":1238796138,"answer_id":715901,"question_id":715650,"body_markdown":"I, personally, would add a constructor to Dog:\r\n\r\n    class Dog\r\n    {\r\n        public Dog()\r\n        { ... } // Regular constructor\r\n\r\n        public Dog(Dog dog) {\r\n            // Copy all the fields of Dog.\r\n        }\r\n    }\r\n\r\nThen just iterate (as shown in Varkhan&#39;s answer):\r\n\r\n    public static List&lt;Dog&gt; cloneList(List&lt;Dog&gt; dogList) {\r\n        List&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;(dogList.size());\r\n        for (Dog dog : dogList) {\r\n            clonedList.add(new Dog(dog));\r\n        }\r\n        return clonedList;\r\n    }\r\n\r\nI find the advantage of this is you don&#39;t need to screw around with the broken Cloneable stuff in Java.  It also matches the way that you copy Java collections.\r\n\r\nAnother option could be to write your own ICloneable interface and use that.  That way you could write a generic method for cloning.\r\n","title":"How to clone ArrayList and also clone its contents?","body":"<p>I, personally, would add a constructor to Dog:</p>\n\n<pre><code>class Dog\n{\n    public Dog()\n    { ... } // Regular constructor\n\n    public Dog(Dog dog) {\n        // Copy all the fields of Dog.\n    }\n}\n</code></pre>\n\n<p>Then just iterate (as shown in Varkhan's answer):</p>\n\n<pre><code>public static List&lt;Dog&gt; cloneList(List&lt;Dog&gt; dogList) {\n    List&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;(dogList.size());\n    for (Dog dog : dogList) {\n        clonedList.add(new Dog(dog));\n    }\n    return clonedList;\n}\n</code></pre>\n\n<p>I find the advantage of this is you don't need to screw around with the broken Cloneable stuff in Java.  It also matches the way that you copy Java collections.</p>\n\n<p>Another option could be to write your own ICloneable interface and use that.  That way you could write a generic method for cloning.</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1238839941,"creation_date":1238839941,"answer_id":716853,"question_id":715650,"body_markdown":"The other posters are correct: you need to iterate the list and copy into a new list.\r\n\r\nHowever...\r\nIf the objects in the list are immutable - you don&#39;t need to clone them. If your object has a complex object graph - they will need to be immutable as well. \r\n\r\n\r\nThe other benefit of immutability is that they are threadsafe as well.\r\n\r\n\r\n","title":"How to clone ArrayList and also clone its contents?","body":"<p>The other posters are correct: you need to iterate the list and copy into a new list.</p>\n\n<p>However...\nIf the objects in the list are immutable - you don't need to clone them. If your object has a complex object graph - they will need to be immutable as well. </p>\n\n<p>The other benefit of immutability is that they are threadsafe as well.</p>\n"},{"tags":[],"owner":{"account_id":276903,"reputation":1916,"user_id":570584,"accept_rate":100,"display_name":"Cojones"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1488691108,"creation_date":1249624738,"answer_id":1243127,"question_id":715650,"body_markdown":"**I think the current green answer is bad** , why you might ask?\r\n\r\n- It can require to add a lot of code\r\n- It requires you to list all Lists to be copied and do this\r\n\r\nThe way serialization is also bad imo, you might have to add Serializable all over the place.\r\n\r\n**So what is the solution:**\r\n\r\nJava Deep-Cloning library\r\n*The cloning library* is a small, open source (apache licence) java library which deep-clones objects. The objects don&#39;t have to implement the Cloneable interface. Effectivelly, this library can clone ANY java objects. It can be used i.e. in cache implementations if you don&#39;t want the cached object to be modified or whenever you want to create a deep copy of objects. \r\n\r\n    Cloner cloner=new Cloner();\r\n    XX clone = cloner.deepClone(someObjectOfTypeXX);\r\n\r\nCheck it out at https://github.com/kostaskougios/cloning\r\n","title":"How to clone ArrayList and also clone its contents?","body":"<p><strong>I think the current green answer is bad</strong> , why you might ask?</p>\n\n<ul>\n<li>It can require to add a lot of code</li>\n<li>It requires you to list all Lists to be copied and do this</li>\n</ul>\n\n<p>The way serialization is also bad imo, you might have to add Serializable all over the place.</p>\n\n<p><strong>So what is the solution:</strong></p>\n\n<p>Java Deep-Cloning library\n<em>The cloning library</em> is a small, open source (apache licence) java library which deep-clones objects. The objects don't have to implement the Cloneable interface. Effectivelly, this library can clone ANY java objects. It can be used i.e. in cache implementations if you don't want the cached object to be modified or whenever you want to create a deep copy of objects. </p>\n\n<pre><code>Cloner cloner=new Cloner();\nXX clone = cloner.deepClone(someObjectOfTypeXX);\n</code></pre>\n\n<p>Check it out at <a href=\"https://github.com/kostaskougios/cloning\" rel=\"nofollow noreferrer\">https://github.com/kostaskougios/cloning</a></p>\n"},{"tags":[],"owner":{"account_id":1340378,"reputation":25,"user_id":1282163,"display_name":"Andrew Coyte"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1332286285,"creation_date":1332286285,"answer_id":9796575,"question_id":715650,"body_markdown":"Here is a solution using a generic template type:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; copyList(List&lt;T&gt; source) {\r\n        List&lt;T&gt; dest = new ArrayList&lt;T&gt;();\r\n        for (T item : source) { dest.add(item); }\r\n        return dest;\r\n    }","title":"How to clone ArrayList and also clone its contents?","body":"<p>Here is a solution using a generic template type:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; copyList(List&lt;T&gt; source) {\n    List&lt;T&gt; dest = new ArrayList&lt;T&gt;();\n    for (T item : source) { dest.add(item); }\n    return dest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151431,"reputation":61970,"user_id":365298,"accept_rate":67,"display_name":"Rose Perrone"},"down_vote_count":39,"up_vote_count":194,"is_accepted":false,"score":155,"last_activity_date":1442965894,"creation_date":1334032240,"answer_id":10083129,"question_id":715650,"body_markdown":"All standard collections have copy constructors. Use them.\r\n\r\n    List&lt;Double&gt; original = // some list\r\n    List&lt;Double&gt; copy = new ArrayList&lt;Double&gt;(original); //This does a shallow copy\r\n\r\n`clone()` was designed with several mistakes (see [this question][1]), so it&#39;s best to avoid it.\r\n\r\nFrom [Effective Java 2nd Edition][2], Item 11: *Override clone judiciously*\r\n\r\n&gt; Given all of the problems associated with Cloneable, its safe to say \r\n&gt; that other interfaces should not extend it, and that classes\r\n&gt; designed for inheritance (Item 17) should not implement it. Because of\r\n&gt; its many shortcomings, some expert programmers simply choose never to\r\n&gt; override the clone method and never to invoke it except, perhaps, to\r\n&gt; copy arrays. If you design a class for inheritance, be aware that if\r\n&gt; you choose not to provide a well-behaved protected clone method, it\r\n&gt; will be impossible for subclasses to implement Cloneable.\r\n\r\nThis book also describes the many advantages copy constructors have over Cloneable/clone.\r\n\r\n - They don&#39;t rely on a risk-prone extralinguistic object creation\r\n   mechanism\r\n - They don&#39;t demand unenforceable adherence to thinly documented conventions\r\n - They don&#39;t conflict with the proper use of final fields\r\n - They don&#39;t throw unnecessary checked exceptions\r\n - They don&#39;t require casts.\r\n\r\n\r\nConsider another benefit of using copy constructors: Suppose you have a `HashSet s`, and you want to copy it as a `TreeSet`. The clone method cant offer this functionality, but its easy with a conversion constructor: `new TreeSet(s)`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5092540/accessing-clone-from-java-lang-object\r\n  [2]: http://www.amazon.com/dp/0321356683/?tag=stackoverfl08-20","title":"How to clone ArrayList and also clone its contents?","body":"<p>All standard collections have copy constructors. Use them.</p>\n\n<pre><code>List&lt;Double&gt; original = // some list\nList&lt;Double&gt; copy = new ArrayList&lt;Double&gt;(original); //This does a shallow copy\n</code></pre>\n\n<p><code>clone()</code> was designed with several mistakes (see <a href=\"https://stackoverflow.com/questions/5092540/accessing-clone-from-java-lang-object\">this question</a>), so it's best to avoid it.</p>\n\n<p>From <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java 2nd Edition</a>, Item 11: <em>Override clone judiciously</em></p>\n\n<blockquote>\n  <p>Given all of the problems associated with Cloneable, its safe to say \n  that other interfaces should not extend it, and that classes\n  designed for inheritance (Item 17) should not implement it. Because of\n  its many shortcomings, some expert programmers simply choose never to\n  override the clone method and never to invoke it except, perhaps, to\n  copy arrays. If you design a class for inheritance, be aware that if\n  you choose not to provide a well-behaved protected clone method, it\n  will be impossible for subclasses to implement Cloneable.</p>\n</blockquote>\n\n<p>This book also describes the many advantages copy constructors have over Cloneable/clone.</p>\n\n<ul>\n<li>They don't rely on a risk-prone extralinguistic object creation\nmechanism</li>\n<li>They don't demand unenforceable adherence to thinly documented conventions</li>\n<li>They don't conflict with the proper use of final fields</li>\n<li>They don't throw unnecessary checked exceptions</li>\n<li>They don't require casts.</li>\n</ul>\n\n<p>Consider another benefit of using copy constructors: Suppose you have a <code>HashSet s</code>, and you want to copy it as a <code>TreeSet</code>. The clone method cant offer this functionality, but its easy with a conversion constructor: <code>new TreeSet(s)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1232848,"reputation":701,"user_id":1197072,"display_name":"RN3KK Nick"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1347285089,"creation_date":1347284730,"answer_id":12353018,"question_id":715650,"body_markdown":"for you objects override clone() method\r\n\r\n    class You_class {\r\n\r\n        int a;\r\n\r\n        @Override\r\n        public You_class clone() {\r\n            You_class you_class = new You_class();\r\n            you_class.a = this.a;\r\n            return you_class;\r\n        }\r\n    }\r\n\r\nand call .clone() for Vector obj or ArraiList obj....\r\n","title":"How to clone ArrayList and also clone its contents?","body":"<p>for you objects override clone() method</p>\n\n<pre><code>class You_class {\n\n    int a;\n\n    @Override\n    public You_class clone() {\n        You_class you_class = new You_class();\n        you_class.a = this.a;\n        return you_class;\n    }\n}\n</code></pre>\n\n<p>and call .clone() for Vector obj or ArraiList obj....</p>\n"},{"tags":[],"owner":{"account_id":1003303,"reputation":4411,"user_id":1017653,"accept_rate":33,"display_name":"sonida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365092419,"creation_date":1365092419,"answer_id":15816504,"question_id":715650,"body_markdown":"Easy way by using commons-lang-2.3.jar that library of java to clone list\r\n\r\nlink [download commons-lang-2.3.jar][1]\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/commons-lang/commons-lang/2.3/commons-lang-2.3.jar\r\n\r\nHow to use\r\n\r\n    oldList.........\r\n    List&lt;YourObject&gt; newList = new ArrayList&lt;YourObject&gt;();\r\n    foreach(YourObject obj : oldList){\r\n       newList.add((YourObject)SerializationUtils.clone(obj));\r\n    }\r\n\r\nI hope this one can helpful.\r\n\r\n:D","title":"How to clone ArrayList and also clone its contents?","body":"<p>Easy way by using commons-lang-2.3.jar that library of java to clone list</p>\n\n<p>link <a href=\"http://repo1.maven.org/maven2/commons-lang/commons-lang/2.3/commons-lang-2.3.jar\" rel=\"nofollow\">download commons-lang-2.3.jar</a></p>\n\n<p>How to use</p>\n\n<pre><code>oldList.........\nList&lt;YourObject&gt; newList = new ArrayList&lt;YourObject&gt;();\nforeach(YourObject obj : oldList){\n   newList.add((YourObject)SerializationUtils.clone(obj));\n}\n</code></pre>\n\n<p>I hope this one can helpful.</p>\n\n<p>:D</p>\n"},{"tags":[],"owner":{"account_id":2717478,"reputation":1647,"user_id":2344523,"display_name":"pacheco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367526703,"creation_date":1367522700,"answer_id":16346134,"question_id":715650,"body_markdown":"The package `import org.apache.commons.lang.SerializationUtils;`\r\n\r\nThere is a method `SerializationUtils.clone(Object);`\r\n\r\nExample\r\n\r\n    this.myObjectCloned = SerializationUtils.clone(this.object);","title":"How to clone ArrayList and also clone its contents?","body":"<p>The package <code>import org.apache.commons.lang.SerializationUtils;</code></p>\n\n<p>There is a method <code>SerializationUtils.clone(Object);</code></p>\n\n<p>Example</p>\n\n<pre><code>this.myObjectCloned = SerializationUtils.clone(this.object);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4379635,"reputation":1332,"user_id":3571603,"accept_rate":44,"display_name":"javatar"},"down_vote_count":10,"up_vote_count":40,"is_accepted":false,"score":30,"last_activity_date":1469806885,"creation_date":1424264705,"answer_id":28584373,"question_id":715650,"body_markdown":"Basically there are three ways without iterating manually, &lt;br/&gt;\r\n\r\n1  Using constructor\r\n\r\n    ArrayList&lt;Dog&gt; dogs = getDogs();\r\n    ArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;(dogs);\r\n    \r\n\r\n2 Using `addAll(Collection&lt;? extends E&gt; c)`\r\n\r\n    ArrayList&lt;Dog&gt; dogs = getDogs();\r\n    ArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;();\r\n    clonedList.addAll(dogs);\r\n\r\n3 Using `addAll(int index, Collection&lt;? extends E&gt; c)` method with `int` parameter\r\n\r\n    ArrayList&lt;Dog&gt; dogs = getDogs();\r\n    ArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;();\r\n    clonedList.addAll(0, dogs);\r\n\r\n  NB : The behavior of these operations will be undefined if the specified collection is modified while the operation is in progress.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\r\n","title":"How to clone ArrayList and also clone its contents?","body":"<p>Basically there are three ways without iterating manually, <br/></p>\n\n<p>1  Using constructor</p>\n\n<pre><code>ArrayList&lt;Dog&gt; dogs = getDogs();\nArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;(dogs);\n</code></pre>\n\n<p>2 Using <code>addAll(Collection&lt;? extends E&gt; c)</code></p>\n\n<pre><code>ArrayList&lt;Dog&gt; dogs = getDogs();\nArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;();\nclonedList.addAll(dogs);\n</code></pre>\n\n<p>3 Using <code>addAll(int index, Collection&lt;? extends E&gt; c)</code> method with <code>int</code> parameter</p>\n\n<pre><code>ArrayList&lt;Dog&gt; dogs = getDogs();\nArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;();\nclonedList.addAll(0, dogs);\n</code></pre>\n\n<p>NB : The behavior of these operations will be undefined if the specified collection is modified while the operation is in progress.</p>\n"},{"tags":[],"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443733194,"creation_date":1443733194,"answer_id":32896773,"question_id":715650,"body_markdown":"A nasty way is to do it with reflection. Something like this worked for me.\r\n\r\n    public static &lt;T extends Cloneable&gt; List&lt;T&gt; deepCloneList(List&lt;T&gt; original) {\r\n        if (original == null || original.size() &lt; 1) {\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        try {\r\n            int originalSize = original.size();\r\n            Method cloneMethod = original.get(0).getClass().getDeclaredMethod(&quot;clone&quot;);\r\n            List&lt;T&gt; clonedList = new ArrayList&lt;&gt;();\r\n    \r\n            // noinspection ForLoopReplaceableByForEach\r\n            for (int i = 0; i &lt; originalSize; i++) {\r\n                // noinspection unchecked\r\n                clonedList.add((T) cloneMethod.invoke(original.get(i)));\r\n            }\r\n            return clonedList;\r\n        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {\r\n            System.err.println(&quot;Couldn&#39;t clone list due to &quot; + e.getMessage());\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n    }","title":"How to clone ArrayList and also clone its contents?","body":"<p>A nasty way is to do it with reflection. Something like this worked for me.</p>\n\n<pre><code>public static &lt;T extends Cloneable&gt; List&lt;T&gt; deepCloneList(List&lt;T&gt; original) {\n    if (original == null || original.size() &lt; 1) {\n        return new ArrayList&lt;&gt;();\n    }\n\n    try {\n        int originalSize = original.size();\n        Method cloneMethod = original.get(0).getClass().getDeclaredMethod(\"clone\");\n        List&lt;T&gt; clonedList = new ArrayList&lt;&gt;();\n\n        // noinspection ForLoopReplaceableByForEach\n        for (int i = 0; i &lt; originalSize; i++) {\n            // noinspection unchecked\n            clonedList.add((T) cloneMethod.invoke(original.get(i)));\n        }\n        return clonedList;\n    } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {\n        System.err.println(\"Couldn't clone list due to \" + e.getMessage());\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1638097235,"creation_date":1446579365,"answer_id":33507565,"question_id":715650,"body_markdown":"Java 8 provides a new way to call the copy constructor or clone method on the element dogs elegantly and compactly: [**Streams**, **lambdas** and **collectors**][tut].\r\n\r\n**Copy constructor:**\r\n        \r\n    List&lt;Dog&gt; clonedDogs = dogs.stream().map(Dog::new).collect(toList());\r\n\r\nThe expression `Dog::new` is called a [*method reference*][meth_ref]. It creates a function object which calls a constructor on `Dog` which takes another dog as argument.\r\n\r\n**Clone method [1]:**\r\n\r\n    List&lt;Dog&gt; clonedDogs = dogs.stream().map(Dog::clone).collect(toList());\r\n\r\n---\r\n\r\n### Getting an `ArrayList` as the result\r\n\r\nOr, if you have to get an `ArrayList` back (in case you want to modify it later):\r\n\r\n    ArrayList&lt;Dog&gt; clonedDogs = dogs.stream().map(Dog::new).collect(toCollection(ArrayList::new));\r\n\r\n---\r\n\r\n### Update the list in place\r\n\r\nIf you don&#39;t need to keep the original content of the `dogs` list you can instead use the `replaceAll` method and update the list in place:\r\n\r\n    dogs.replaceAll(Dog::new);\r\n\r\n---\r\n\r\nAll examples assume `import static java.util.stream.Collectors.*;`.\r\n\r\n---\r\n\r\n### Collector for `ArrayList`s\r\n\r\nThe collector from the last example can be made into a util method. Since this is such a common thing to do I personally like it to be short and pretty. Like this:\r\n\r\n    ArrayList&lt;Dog&gt; clonedDogs = dogs.stream().map(d -&gt; d.clone()).collect(toArrayList());\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, ArrayList&lt;T&gt;&gt; toArrayList() {\r\n        return Collectors.toCollection(ArrayList::new);\r\n    }\r\n\r\n---\r\n\r\n### [1] Note on `CloneNotSupportedException`:\r\n\r\nFor this solution to work the `clone` method of `Dog` *must not* declare that it throws `CloneNotSupportedException`. The reason is that the argument to `map` is not allowed to throw any checked exceptions.\r\n\r\nLike this:\r\n\r\n        // Note: Method is public and returns Dog, not Object\r\n        @Override\r\n        public Dog clone() /* Note: No throws clause here */ { ...\r\n\r\nThis should not be a big problem however, since that is the best practice anyway. (*Effectice Java* for example gives this advice.)\r\n\r\n&lt;sup&gt;*Thanks to Gustavo for noting this.*&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n[tut]: https://docs.oracle.com/javase/tutorial/collections/streams/\r\n[meth_ref]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"How to clone ArrayList and also clone its contents?","body":"<p>Java 8 provides a new way to call the copy constructor or clone method on the element dogs elegantly and compactly: <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/\" rel=\"noreferrer\"><strong>Streams</strong>, <strong>lambdas</strong> and <strong>collectors</strong></a>.</p>\n<p><strong>Copy constructor:</strong></p>\n<pre><code>List&lt;Dog&gt; clonedDogs = dogs.stream().map(Dog::new).collect(toList());\n</code></pre>\n<p>The expression <code>Dog::new</code> is called a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\"><em>method reference</em></a>. It creates a function object which calls a constructor on <code>Dog</code> which takes another dog as argument.</p>\n<p><strong>Clone method [1]:</strong></p>\n<pre><code>List&lt;Dog&gt; clonedDogs = dogs.stream().map(Dog::clone).collect(toList());\n</code></pre>\n<hr />\n<h3>Getting an <code>ArrayList</code> as the result</h3>\n<p>Or, if you have to get an <code>ArrayList</code> back (in case you want to modify it later):</p>\n<pre><code>ArrayList&lt;Dog&gt; clonedDogs = dogs.stream().map(Dog::new).collect(toCollection(ArrayList::new));\n</code></pre>\n<hr />\n<h3>Update the list in place</h3>\n<p>If you don't need to keep the original content of the <code>dogs</code> list you can instead use the <code>replaceAll</code> method and update the list in place:</p>\n<pre><code>dogs.replaceAll(Dog::new);\n</code></pre>\n<hr />\n<p>All examples assume <code>import static java.util.stream.Collectors.*;</code>.</p>\n<hr />\n<h3>Collector for <code>ArrayList</code>s</h3>\n<p>The collector from the last example can be made into a util method. Since this is such a common thing to do I personally like it to be short and pretty. Like this:</p>\n<pre><code>ArrayList&lt;Dog&gt; clonedDogs = dogs.stream().map(d -&gt; d.clone()).collect(toArrayList());\n\npublic static &lt;T&gt; Collector&lt;T, ?, ArrayList&lt;T&gt;&gt; toArrayList() {\n    return Collectors.toCollection(ArrayList::new);\n}\n</code></pre>\n<hr />\n<h3>[1] Note on <code>CloneNotSupportedException</code>:</h3>\n<p>For this solution to work the <code>clone</code> method of <code>Dog</code> <em>must not</em> declare that it throws <code>CloneNotSupportedException</code>. The reason is that the argument to <code>map</code> is not allowed to throw any checked exceptions.</p>\n<p>Like this:</p>\n<pre><code>    // Note: Method is public and returns Dog, not Object\n    @Override\n    public Dog clone() /* Note: No throws clause here */ { ...\n</code></pre>\n<p>This should not be a big problem however, since that is the best practice anyway. (<em>Effectice Java</em> for example gives this advice.)</p>\n<p><sup><em>Thanks to Gustavo for noting this.</em></sup></p>\n"},{"tags":[],"owner":{"account_id":1896502,"reputation":5964,"user_id":1713345,"accept_rate":17,"display_name":"Renato Probst"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1631806651,"creation_date":1465508656,"answer_id":37736689,"question_id":715650,"body_markdown":"You can use JSON (with a JSON Library) to serialize and then unserialize the list. The serialized list holds no reference to the original object when unserialized.\r\n\r\nUsing Google GSON:\r\n\r\n    List&lt;CategoryModel&gt; originalList = new ArrayList&lt;&gt;(); // add some items later\r\n    String listAsJson = gson.toJson(originalList);\r\n    List&lt;CategoryModel&gt; newList = new Gson().fromJson(listAsJson, new TypeToken&lt;List&lt;CategoryModel&gt;&gt;() {}.getType());\r\n\r\nYou can also do it using other JSON libraries like Jackson.\r\n\r\nThe advantage of using this approach is that you can solve the problem without having to create classes, interfaces, and cloning logic (which can be very long if your object has other lists of objects inside)","title":"How to clone ArrayList and also clone its contents?","body":"<p>You can use JSON (with a JSON Library) to serialize and then unserialize the list. The serialized list holds no reference to the original object when unserialized.</p>\n<p>Using Google GSON:</p>\n<pre><code>List&lt;CategoryModel&gt; originalList = new ArrayList&lt;&gt;(); // add some items later\nString listAsJson = gson.toJson(originalList);\nList&lt;CategoryModel&gt; newList = new Gson().fromJson(listAsJson, new TypeToken&lt;List&lt;CategoryModel&gt;&gt;() {}.getType());\n</code></pre>\n<p>You can also do it using other JSON libraries like Jackson.</p>\n<p>The advantage of using this approach is that you can solve the problem without having to create classes, interfaces, and cloning logic (which can be very long if your object has other lists of objects inside)</p>\n"},{"tags":[],"owner":{"account_id":9301992,"reputation":35,"user_id":6907157,"display_name":"jordanrh"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1479940989,"creation_date":1479939849,"answer_id":40775131,"question_id":715650,"body_markdown":"I think I found a really easy way to make a deep copy ArrayList.  Assuming you want to copy a String ArrayList arrayA.\r\n \r\n\r\n    ArrayList&lt;String&gt;arrayB = new ArrayList&lt;String&gt;();\r\n    arrayB.addAll(arrayA);\r\n\r\nLet me know if it doesn&#39;t work for you.\r\n","title":"How to clone ArrayList and also clone its contents?","body":"<p>I think I found a really easy way to make a deep copy ArrayList.  Assuming you want to copy a String ArrayList arrayA.</p>\n\n<pre><code>ArrayList&lt;String&gt;arrayB = new ArrayList&lt;String&gt;();\narrayB.addAll(arrayA);\n</code></pre>\n\n<p>Let me know if it doesn't work for you.</p>\n"},{"tags":[],"owner":{"account_id":10881245,"reputation":11,"user_id":8000083,"display_name":"Eduardo de Melo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494545333,"creation_date":1494545333,"answer_id":43927129,"question_id":715650,"body_markdown":"I have just developed a lib that is able to clone an entity object and a java.util.List object. Just download the jar in https://drive.google.com/open?id=0B69Sui5ah93EUTloSktFUkctN0U and use the static method cloneListObject(List list). This method not only clones the List but also all entity elements.","title":"How to clone ArrayList and also clone its contents?","body":"<p>I have just developed a lib that is able to clone an entity object and a java.util.List object. Just download the jar in <a href=\"https://drive.google.com/open?id=0B69Sui5ah93EUTloSktFUkctN0U\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0B69Sui5ah93EUTloSktFUkctN0U</a> and use the static method cloneListObject(List list). This method not only clones the List but also all entity elements.</p>\n"},{"tags":[],"owner":{"account_id":6725415,"reputation":568,"user_id":5183595,"display_name":"besartm"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1526628016,"creation_date":1526628016,"answer_id":50405879,"question_id":715650,"body_markdown":"I have used this option always: \r\n\r\n    ArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;(name_of_arraylist_that_you_need_to_Clone);","title":"How to clone ArrayList and also clone its contents?","body":"<p>I have used this option always: </p>\n\n<pre><code>ArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;(name_of_arraylist_that_you_need_to_Clone);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12633712,"reputation":61,"user_id":9184043,"display_name":"gayu312"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573120095,"creation_date":1573120095,"answer_id":58745997,"question_id":715650,"body_markdown":"The below worked for me..\r\n\r\nin Dog.java\r\n    \r\n    public Class Dog{\r\n\r\n    private String a,b;\r\n\r\n    public Dog(){} //no args constructor\r\n\r\n    public Dog(Dog d){ // copy constructor\r\n       this.a=d.a;\r\n       this.b=d.b;\r\n    }\r\n\r\n    }\r\n\r\n     -------------------------\r\n\r\n     private List&lt;Dog&gt; createCopy(List&lt;Dog&gt; dogs) {\r\n     List&lt;Dog&gt; newDogsList= new ArrayList&lt;&gt;();\r\n     if (CollectionUtils.isNotEmpty(dogs)) {\r\n     dogs.stream().forEach(dog-&gt; newDogsList.add((Dog) SerializationUtils.clone(dog)));\r\n     }\r\n     return newDogsList;\r\n     }\r\n\r\nHere the new list which got created from createCopy method is created through SerializationUtils.clone().\r\nSo any change made to new list will not affect original list","title":"How to clone ArrayList and also clone its contents?","body":"<p>The below worked for me..</p>\n\n<p>in Dog.java</p>\n\n<pre><code>public Class Dog{\n\nprivate String a,b;\n\npublic Dog(){} //no args constructor\n\npublic Dog(Dog d){ // copy constructor\n   this.a=d.a;\n   this.b=d.b;\n}\n\n}\n\n -------------------------\n\n private List&lt;Dog&gt; createCopy(List&lt;Dog&gt; dogs) {\n List&lt;Dog&gt; newDogsList= new ArrayList&lt;&gt;();\n if (CollectionUtils.isNotEmpty(dogs)) {\n dogs.stream().forEach(dog-&gt; newDogsList.add((Dog) SerializationUtils.clone(dog)));\n }\n return newDogsList;\n }\n</code></pre>\n\n<p>Here the new list which got created from createCopy method is created through SerializationUtils.clone().\nSo any change made to new list will not affect original list</p>\n"},{"tags":[],"owner":{"account_id":2185309,"reputation":21,"user_id":1933840,"display_name":"Raju K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574868260,"creation_date":1574865253,"answer_id":59072508,"question_id":715650,"body_markdown":"```Java\r\nList&lt;Dog&gt; dogs;\r\nList&lt;Dog&gt; copiedDogs = dogs.stream().map(dog -&gt; SerializationUtils.clone(dog)).Collectors.toList());\r\n```\r\nThis will deep copy each dog ","title":"How to clone ArrayList and also clone its contents?","body":"<pre><code>List&lt;Dog&gt; dogs;\nList&lt;Dog&gt; copiedDogs = dogs.stream().map(dog -&gt; SerializationUtils.clone(dog)).Collectors.toList());\n</code></pre>\n\n<p>This will deep copy each dog </p>\n"},{"tags":[],"owner":{"account_id":7469704,"reputation":7861,"user_id":5678086,"accept_rate":73,"display_name":"Thanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597254100,"creation_date":1597254100,"answer_id":63382004,"question_id":715650,"body_markdown":"Simple way is \r\n\r\n    ArrayList&lt;Dog&gt; dogs = getDogs();\r\n    ArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;(dogs);","title":"How to clone ArrayList and also clone its contents?","body":"<p>Simple way is</p>\n<pre><code>ArrayList&lt;Dog&gt; dogs = getDogs();\nArrayList&lt;Dog&gt; clonedList = new ArrayList&lt;Dog&gt;(dogs);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597829185,"creation_date":1597784816,"answer_id":63476622,"question_id":715650,"body_markdown":"**Some other alternatives for copying ArrayList as a Deep Copy**  \r\n\r\n**Alernative 1** - Use of external package commons-lang3, method **SerializationUtils.clone()**:\r\n\r\n    SerializationUtils.clone()\r\n\r\nLet&#39;s say we have a class dog where the fields of the class are mutable and at least one field is an object of type String and mutable - not a primitive data type (otherwise shallow copy would be enough).\r\n\r\nExample of shallow copy:\r\n\r\n    List&lt;Dog&gt; dogs = getDogs(); // We assume it returns a list of Dogs\r\n    List&lt;Dog&gt; clonedDogs = new ArrayList&lt;&gt;(dogs);\r\n\r\nNow back to deep copy of dogs.\r\n\r\nThe Dog class does only have mutable fields.\r\n\r\n**Dog class:**\r\n\r\n    public class Dog implements Serializable {\r\n        private String name;\r\n        private int age;\r\n    \r\n        public Dog() {\r\n            // Class with only mutable fields!\r\n            this.name = &quot;NO_NAME&quot;;\r\n            this.age = -1;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Dog{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**Note that the  class Dog implements Serializable! This makes it possible to utilize method  &quot;SerializationUtils.clone(dog)&quot;**\r\n\r\nRead the comments in the main method to understand the outcome. It shows that we have successfully made a deep copy of ArrayList&lt;Dog&gt;(). See \r\nbelow &quot;SerializationUtils.clone(dog)&quot; in context:\r\n\r\n    public static void main(String[] args) {\r\n        Dog dog1 = new Dog();\r\n        dog1.setName(&quot;Buddy&quot;);\r\n        dog1.setAge(1);\r\n\r\n        Dog dog2 = new Dog();\r\n        dog2.setName(&quot;Milo&quot;);\r\n        dog2.setAge(2);\r\n\r\n        List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;(Arrays.asList(dog1,dog2));\r\n\r\n        // Output: &#39;List dogs: [Dog{name=&#39;Buddy&#39;, age=1}, Dog{name=&#39;Milo&#39;, age=2}]&#39;\r\n        System.out.println(&quot;List dogs: &quot; + dogs);\r\n\r\n        // Let&#39;s clone and make a deep copy of the dogs&#39; ArrayList with external package commons-lang3:\r\n        List&lt;Dog&gt; clonedDogs = dogs.stream().map(dog -&gt; SerializationUtils.clone(dog)).collect(Collectors.toList());\r\n        // Output: &#39;Now list dogs are deep copied into list clonedDogs.&#39;\r\n        System.out.println(&quot;Now list dogs are deep copied into list clonedDogs.&quot;);\r\n\r\n        // A change on dog1 or dog2 can not impact a deep copy.\r\n        // Let&#39;s make a change on dog1 and dog2, and test this\r\n        // statement.\r\n        dog1.setName(&quot;Bella&quot;);\r\n        dog1.setAge(3);\r\n        dog2.setName(&quot;Molly&quot;);\r\n        dog2.setAge(4);\r\n\r\n        // The change is made on list dogs!\r\n        // Output: &#39;List dogs after change: [Dog{name=&#39;Bella&#39;, age=3}, Dog{name=&#39;Molly&#39;, age=4}]&#39;\r\n        System.out.println(&quot;List dogs after change: &quot; + dogs);\r\n\r\n        // There is no impact on list clonedDogs&#39;s inner objects after the deep copy.\r\n        // The deep copy of list clonedDogs was successful!\r\n        // If clonedDogs would be a shallow copy we would see the change on the field\r\n        // &quot;private String name&quot;, the change made in list dogs, when setting the names\r\n        // Bella and Molly.\r\n        // Output clonedDogs:\r\n        // &#39;After change in list dogs, no impact/change in list clonedDogs:\\n&#39;\r\n        // &#39;[Dog{name=&#39;Buddy&#39;, age=1}, Dog{name=&#39;Milo&#39;, age=2}]\\n&#39;\r\n        System.out.println(&quot;After change in list dogs, no impact/change in list clonedDogs: \\n&quot; + clonedDogs);\r\n    }\r\n\r\n**Output:**\r\n\r\n    List dogs: [Dog{name=&#39;Buddy&#39;, age=1}, Dog{name=&#39;Milo&#39;, age=2}]\r\n    Now list dogs are deep copied into list clonedDogs.\r\n    List dogs after change: [Dog{name=&#39;Bella&#39;, age=3}, Dog{name=&#39;Molly&#39;, age=4}]\r\n    After change in list dogs, no impact/change in list clonedDogs:\r\n    [Dog{name=&#39;Buddy&#39;, age=1}, Dog{name=&#39;Milo&#39;, age=2}]\r\n\r\n**Comment:**\r\nSince there is no impact/change on list clonedDogs after changing list dogs,\r\nthen deep copy of ArrayList is successful!\r\n\r\n**Alernative 2** - Use of no external packages:\r\n\r\nA new method &quot;clone()&quot; is introduced in the Dog class and &quot;implements Serializable&quot; is removed compare to alternative 1.\r\n\r\n    clone()\r\n\r\n**Dog class:**\r\n\r\n    public class Dog {\r\n        private String name;\r\n        private int age;\r\n\r\n        public Dog() {\r\n            // Class with only mutable fields!\r\n            this.name = &quot;NO_NAME&quot;;\r\n            this.age = -1;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n\r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n\r\n        /**\r\n         * Returns a deep copy of the Dog\r\n         * @return new instance of {@link Dog}\r\n         */\r\n        public Dog clone() {\r\n            Dog newDog = new Dog();\r\n            newDog.setName(this.name);\r\n            newDog.setAge(this.age);\r\n            return newDog;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Dog{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nRead the comments in the main method below to understand the outcome. It shows that we have successfully made a deep copy of ArrayList&lt;Dog&gt;(). See \r\nbelow &quot;clone()&quot; method in context:\r\n\r\n    public static void main(String[] args) {\r\n        Dog dog1 = new Dog();\r\n        dog1.setName(&quot;Buddy&quot;);\r\n        dog1.setAge(1);\r\n\r\n        Dog dog2 = new Dog();\r\n        dog2.setName(&quot;Milo&quot;);\r\n        dog2.setAge(2);\r\n\r\n        List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;(Arrays.asList(dog1,dog2));\r\n\r\n        // Output: &#39;List dogs: [Dog{name=&#39;Buddy&#39;, age=1}, Dog{name=&#39;Milo&#39;, age=2}]&#39;\r\n        System.out.println(&quot;List dogs: &quot; + dogs);\r\n\r\n        // Let&#39;s clone and make a deep copy of the dogs&#39; ArrayList:\r\n        List&lt;Dog&gt; clonedDogs = dogs.stream().map(dog -&gt; dog.clone()).collect(Collectors.toList());\r\n        // Output: &#39;Now list dogs are deep copied into list clonedDogs.&#39;\r\n        System.out.println(&quot;Now list dogs are deep copied into list clonedDogs.&quot;);\r\n\r\n        // A change on dog1 or dog2 can not impact a deep copy.\r\n        // Let&#39;s make a change on dog1 and dog2, and test this\r\n        // statement.\r\n        dog1.setName(&quot;Bella&quot;);\r\n        dog1.setAge(3);\r\n        dog2.setName(&quot;Molly&quot;);\r\n        dog2.setAge(4);\r\n\r\n        // The change is made on list dogs!\r\n        // Output: &#39;List dogs after change: [Dog{name=&#39;Bella&#39;, age=3}, Dog{name=&#39;Molly&#39;, age=4}]&#39;\r\n        System.out.println(&quot;List dogs after change: &quot; + dogs);\r\n\r\n        // There is no impact on list clonedDogs&#39;s inner objects after the deep copy.\r\n        // The deep copy of list clonedDogs was successful!\r\n        // If clonedDogs would be a shallow copy we would see the change on the field\r\n        // &quot;private String name&quot;, the change made in list dogs, when setting the names\r\n        // Bella and Molly.\r\n        // Output clonedDogs:\r\n        // &#39;After change in list dogs, no impact/change in list clonedDogs:\\n&#39;\r\n        // &#39;[Dog{name=&#39;Buddy&#39;, age=1}, Dog{name=&#39;Milo&#39;, age=2}]\\n&#39;\r\n        System.out.println(&quot;After change in list dogs, no impact/change in list clonedDogs: \\n&quot; + clonedDogs);\r\n    }\r\n\r\n**Output:**\r\n\r\n    List dogs: [Dog{name=&#39;Buddy&#39;, age=1}, Dog{name=&#39;Milo&#39;, age=2}]\r\n    Now list dogs are deep copied into list clonedDogs.\r\n    List dogs after change: [Dog{name=&#39;Bella&#39;, age=3}, Dog{name=&#39;Molly&#39;, age=4}]\r\n    After change in list dogs, no impact/change in list clonedDogs:\r\n    [Dog{name=&#39;Buddy&#39;, age=1}, Dog{name=&#39;Milo&#39;, age=2}]\r\n\r\n**Comment:**\r\nSince there is no impact/change on list clonedDogs after changing list dogs,\r\nthen deep copy of ArrayList is successful!\r\n\r\n**Note1:**\r\nAlternative 1 is much slower than Alternative 2,\r\nbut easier to mainatain since you do not need \r\nto upadate any methods like clone().\r\n\r\n**Note2:** For alternative 1 the following maven dependency was used for method &quot;SerializationUtils.clone()&quot;:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFind more releases of common-lang3 at:\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.commons/commons-lang3\r\n\r\n","title":"How to clone ArrayList and also clone its contents?","body":"<p><strong>Some other alternatives for copying ArrayList as a Deep Copy</strong></p>\n<p><strong>Alernative 1</strong> - Use of external package commons-lang3, method <strong>SerializationUtils.clone()</strong>:</p>\n<pre><code>SerializationUtils.clone()\n</code></pre>\n<p>Let's say we have a class dog where the fields of the class are mutable and at least one field is an object of type String and mutable - not a primitive data type (otherwise shallow copy would be enough).</p>\n<p>Example of shallow copy:</p>\n<pre><code>List&lt;Dog&gt; dogs = getDogs(); // We assume it returns a list of Dogs\nList&lt;Dog&gt; clonedDogs = new ArrayList&lt;&gt;(dogs);\n</code></pre>\n<p>Now back to deep copy of dogs.</p>\n<p>The Dog class does only have mutable fields.</p>\n<p><strong>Dog class:</strong></p>\n<pre><code>public class Dog implements Serializable {\n    private String name;\n    private int age;\n\n    public Dog() {\n        // Class with only mutable fields!\n        this.name = &quot;NO_NAME&quot;;\n        this.age = -1;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Dog{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Note that the  class Dog implements Serializable! This makes it possible to utilize method  &quot;SerializationUtils.clone(dog)&quot;</strong></p>\n<p>Read the comments in the main method to understand the outcome. It shows that we have successfully made a deep copy of ArrayList(). See\nbelow &quot;SerializationUtils.clone(dog)&quot; in context:</p>\n<pre><code>public static void main(String[] args) {\n    Dog dog1 = new Dog();\n    dog1.setName(&quot;Buddy&quot;);\n    dog1.setAge(1);\n\n    Dog dog2 = new Dog();\n    dog2.setName(&quot;Milo&quot;);\n    dog2.setAge(2);\n\n    List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;(Arrays.asList(dog1,dog2));\n\n    // Output: 'List dogs: [Dog{name='Buddy', age=1}, Dog{name='Milo', age=2}]'\n    System.out.println(&quot;List dogs: &quot; + dogs);\n\n    // Let's clone and make a deep copy of the dogs' ArrayList with external package commons-lang3:\n    List&lt;Dog&gt; clonedDogs = dogs.stream().map(dog -&gt; SerializationUtils.clone(dog)).collect(Collectors.toList());\n    // Output: 'Now list dogs are deep copied into list clonedDogs.'\n    System.out.println(&quot;Now list dogs are deep copied into list clonedDogs.&quot;);\n\n    // A change on dog1 or dog2 can not impact a deep copy.\n    // Let's make a change on dog1 and dog2, and test this\n    // statement.\n    dog1.setName(&quot;Bella&quot;);\n    dog1.setAge(3);\n    dog2.setName(&quot;Molly&quot;);\n    dog2.setAge(4);\n\n    // The change is made on list dogs!\n    // Output: 'List dogs after change: [Dog{name='Bella', age=3}, Dog{name='Molly', age=4}]'\n    System.out.println(&quot;List dogs after change: &quot; + dogs);\n\n    // There is no impact on list clonedDogs's inner objects after the deep copy.\n    // The deep copy of list clonedDogs was successful!\n    // If clonedDogs would be a shallow copy we would see the change on the field\n    // &quot;private String name&quot;, the change made in list dogs, when setting the names\n    // Bella and Molly.\n    // Output clonedDogs:\n    // 'After change in list dogs, no impact/change in list clonedDogs:\\n'\n    // '[Dog{name='Buddy', age=1}, Dog{name='Milo', age=2}]\\n'\n    System.out.println(&quot;After change in list dogs, no impact/change in list clonedDogs: \\n&quot; + clonedDogs);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>List dogs: [Dog{name='Buddy', age=1}, Dog{name='Milo', age=2}]\nNow list dogs are deep copied into list clonedDogs.\nList dogs after change: [Dog{name='Bella', age=3}, Dog{name='Molly', age=4}]\nAfter change in list dogs, no impact/change in list clonedDogs:\n[Dog{name='Buddy', age=1}, Dog{name='Milo', age=2}]\n</code></pre>\n<p><strong>Comment:</strong>\nSince there is no impact/change on list clonedDogs after changing list dogs,\nthen deep copy of ArrayList is successful!</p>\n<p><strong>Alernative 2</strong> - Use of no external packages:</p>\n<p>A new method &quot;clone()&quot; is introduced in the Dog class and &quot;implements Serializable&quot; is removed compare to alternative 1.</p>\n<pre><code>clone()\n</code></pre>\n<p><strong>Dog class:</strong></p>\n<pre><code>public class Dog {\n    private String name;\n    private int age;\n\n    public Dog() {\n        // Class with only mutable fields!\n        this.name = &quot;NO_NAME&quot;;\n        this.age = -1;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    /**\n     * Returns a deep copy of the Dog\n     * @return new instance of {@link Dog}\n     */\n    public Dog clone() {\n        Dog newDog = new Dog();\n        newDog.setName(this.name);\n        newDog.setAge(this.age);\n        return newDog;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Dog{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<p>Read the comments in the main method below to understand the outcome. It shows that we have successfully made a deep copy of ArrayList(). See\nbelow &quot;clone()&quot; method in context:</p>\n<pre><code>public static void main(String[] args) {\n    Dog dog1 = new Dog();\n    dog1.setName(&quot;Buddy&quot;);\n    dog1.setAge(1);\n\n    Dog dog2 = new Dog();\n    dog2.setName(&quot;Milo&quot;);\n    dog2.setAge(2);\n\n    List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;(Arrays.asList(dog1,dog2));\n\n    // Output: 'List dogs: [Dog{name='Buddy', age=1}, Dog{name='Milo', age=2}]'\n    System.out.println(&quot;List dogs: &quot; + dogs);\n\n    // Let's clone and make a deep copy of the dogs' ArrayList:\n    List&lt;Dog&gt; clonedDogs = dogs.stream().map(dog -&gt; dog.clone()).collect(Collectors.toList());\n    // Output: 'Now list dogs are deep copied into list clonedDogs.'\n    System.out.println(&quot;Now list dogs are deep copied into list clonedDogs.&quot;);\n\n    // A change on dog1 or dog2 can not impact a deep copy.\n    // Let's make a change on dog1 and dog2, and test this\n    // statement.\n    dog1.setName(&quot;Bella&quot;);\n    dog1.setAge(3);\n    dog2.setName(&quot;Molly&quot;);\n    dog2.setAge(4);\n\n    // The change is made on list dogs!\n    // Output: 'List dogs after change: [Dog{name='Bella', age=3}, Dog{name='Molly', age=4}]'\n    System.out.println(&quot;List dogs after change: &quot; + dogs);\n\n    // There is no impact on list clonedDogs's inner objects after the deep copy.\n    // The deep copy of list clonedDogs was successful!\n    // If clonedDogs would be a shallow copy we would see the change on the field\n    // &quot;private String name&quot;, the change made in list dogs, when setting the names\n    // Bella and Molly.\n    // Output clonedDogs:\n    // 'After change in list dogs, no impact/change in list clonedDogs:\\n'\n    // '[Dog{name='Buddy', age=1}, Dog{name='Milo', age=2}]\\n'\n    System.out.println(&quot;After change in list dogs, no impact/change in list clonedDogs: \\n&quot; + clonedDogs);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>List dogs: [Dog{name='Buddy', age=1}, Dog{name='Milo', age=2}]\nNow list dogs are deep copied into list clonedDogs.\nList dogs after change: [Dog{name='Bella', age=3}, Dog{name='Molly', age=4}]\nAfter change in list dogs, no impact/change in list clonedDogs:\n[Dog{name='Buddy', age=1}, Dog{name='Milo', age=2}]\n</code></pre>\n<p><strong>Comment:</strong>\nSince there is no impact/change on list clonedDogs after changing list dogs,\nthen deep copy of ArrayList is successful!</p>\n<p><strong>Note1:</strong>\nAlternative 1 is much slower than Alternative 2,\nbut easier to mainatain since you do not need\nto upadate any methods like clone().</p>\n<p><strong>Note2:</strong> For alternative 1 the following maven dependency was used for method &quot;SerializationUtils.clone()&quot;:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Find more releases of common-lang3 at:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.commons/commons-lang3</a></p>\n"}],"owner":{"account_id":26033,"reputation":7661,"user_id":67439,"accept_rate":83,"display_name":"palig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492931,"favorite_count":0,"down_vote_count":0,"up_vote_count":309,"accepted_answer_id":715660,"answer_count":21,"score":309,"last_activity_date":1638097235,"creation_date":1238791228,"question_id":715650,"body_markdown":"How can I clone an `ArrayList` and also clone its items in Java?\r\n\r\nFor example I have:\r\n\r\n    ArrayList&lt;Dog&gt; dogs = getDogs();\r\n    ArrayList&lt;Dog&gt; clonedList = ....something to do with dogs....\r\n\r\nAnd I would expect that objects in `clonedList` are not the same as in dogs list.","title":"How to clone ArrayList and also clone its contents?","body":"<p>How can I clone an <code>ArrayList</code> and also clone its items in Java?</p>\n\n<p>For example I have:</p>\n\n<pre><code>ArrayList&lt;Dog&gt; dogs = getDogs();\nArrayList&lt;Dog&gt; clonedList = ....something to do with dogs....\n</code></pre>\n\n<p>And I would expect that objects in <code>clonedList</code> are not the same as in dogs list.</p>\n"},{"tags":["java","memory-leaks","garbage-collection"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1637935235,"post_id":70124953,"comment_id":123962357,"body_markdown":"Which jre and version are you using?","body":"Which jre and version are you using?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1637935419,"post_id":70124953,"comment_id":123962429,"body_markdown":"The YourKit profiler may be able to help you with this: https://www.yourkit.com/docs/java/help/generations.jsp","body":"The YourKit profiler may be able to help you with this: <a href=\"https://www.yourkit.com/docs/java/help/generations.jsp\" rel=\"nofollow noreferrer\">yourkit.com/docs/java/help/generations.jsp</a>"},{"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"score":0,"creation_date":1637936712,"post_id":70124953,"comment_id":123962862,"body_markdown":"@JustanotherJavaprogrammer Java 1.8","body":"@JustanotherJavaprogrammer Java 1.8"}],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638097233,"creation_date":1638097233,"answer_id":70142732,"question_id":70124953,"body_markdown":"The profiling interface of the JVM does not provide GC-specific information, so profilers cannot tell you what GC generation an object is in.\r\n\r\nHowever, some profilers have the ability to record how old an object is (effectively making their own &quot;generations&quot;) so you can restrict your analysis to younger objects only. [JProfiler][1], for example has a &quot;Set mark&quot; action that marks all objects in the heap. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter you create a heap dump, you can select objects that have been created after the mark action was invoked.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIf you choose to record allocation times, you can select objects created in arbitrary time intervals in the &quot;Time&quot; view of the heap walker.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nDisclaimer: My company develops JProfiler\r\n\r\n\r\n  [1]: https://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [2]: https://i.stack.imgur.com/vptqq.png\r\n  [3]: https://i.stack.imgur.com/U0sge.png\r\n  [4]: https://i.stack.imgur.com/r7jTw.png","title":"CMS GC - How to profile young gen heap?","body":"<p>The profiling interface of the JVM does not provide GC-specific information, so profilers cannot tell you what GC generation an object is in.</p>\n<p>However, some profilers have the ability to record how old an object is (effectively making their own &quot;generations&quot;) so you can restrict your analysis to younger objects only. <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a>, for example has a &quot;Set mark&quot; action that marks all objects in the heap.</p>\n<p><a href=\"https://i.stack.imgur.com/vptqq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vptqq.png\" alt=\"enter image description here\" /></a></p>\n<p>After you create a heap dump, you can select objects that have been created after the mark action was invoked.</p>\n<p><a href=\"https://i.stack.imgur.com/U0sge.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U0sge.png\" alt=\"enter image description here\" /></a></p>\n<p>If you choose to record allocation times, you can select objects created in arbitrary time intervals in the &quot;Time&quot; view of the heap walker.</p>\n<p><a href=\"https://i.stack.imgur.com/r7jTw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r7jTw.png\" alt=\"enter image description here\" /></a></p>\n<p>Disclaimer: My company develops JProfiler</p>\n"}],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70142732,"answer_count":1,"score":1,"last_activity_date":1638097233,"creation_date":1637932215,"question_id":70124953,"body_markdown":"I&#39;m able to use `jmap` command to dump JVM memory heap. \r\n\r\nThe issue is, I have a program with heavier young gen GC activities compared to the previous version when checking from the GC logs, and when I ran memory profiler, the biggest objects are always the ones in the old gen. So it makes troubleshooting more difficult when you need to find the leaks that exist in young gen GC.\r\n\r\nIs there any way to profile the memory in the young gen heap?\r\n\r\nUpdated:\r\nI used open JDK 1.8.","title":"CMS GC - How to profile young gen heap?","body":"<p>I'm able to use <code>jmap</code> command to dump JVM memory heap.</p>\n<p>The issue is, I have a program with heavier young gen GC activities compared to the previous version when checking from the GC logs, and when I ran memory profiler, the biggest objects are always the ones in the old gen. So it makes troubleshooting more difficult when you need to find the leaks that exist in young gen GC.</p>\n<p>Is there any way to profile the memory in the young gen heap?</p>\n<p>Updated:\nI used open JDK 1.8.</p>\n"},{"tags":["java","fonts","awt","inputstream","embedded-resource"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638096869,"creation_date":1638096869,"answer_id":70142686,"question_id":70124842,"body_markdown":"I recommend to use `getResource` rather than `getResourceAsStream`. They follow slightly different rules and I understand the rules of the former well. \r\n\r\n**If** the font is in the Jar created by the IDE, it will be located at `/Dependencies/msjh.ttc`. \r\n\r\nNote the two separate forward slashes (`/`) as opposed to a file-like back-slash (`\\\\`). That backslash is only for files, and only on Windows. What `getResource` needs is a resource path either direct from the project or jar root, or relative to the class calling it. The `/` prefix tells the JRE to look for the resource from the root of the classpath, rather than relative to the calling class.\r\n\r\n\r\nAlso don&#39;t use `getImage(&quot;Dependencies\\\\icon.png&quot;)`. That will presume the string represents a file path, which won&#39;t work when the project is deployed. Use `getResource` for that as well.","title":"How to apply .ttc to a Font in Java awt","body":"<p>I recommend to use <code>getResource</code> rather than <code>getResourceAsStream</code>. They follow slightly different rules and I understand the rules of the former well.</p>\n<p><strong>If</strong> the font is in the Jar created by the IDE, it will be located at <code>/Dependencies/msjh.ttc</code>.</p>\n<p>Note the two separate forward slashes (<code>/</code>) as opposed to a file-like back-slash (<code>\\\\</code>). That backslash is only for files, and only on Windows. What <code>getResource</code> needs is a resource path either direct from the project or jar root, or relative to the class calling it. The <code>/</code> prefix tells the JRE to look for the resource from the root of the classpath, rather than relative to the calling class.</p>\n<p>Also don't use <code>getImage(&quot;Dependencies\\\\icon.png&quot;)</code>. That will presume the string represents a file path, which won't work when the project is deployed. Use <code>getResource</code> for that as well.</p>\n"}],"owner":{"account_id":22562352,"reputation":35,"user_id":16749841,"display_name":"Alex Cai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638096869,"creation_date":1637931626,"question_id":70124842,"body_markdown":"I was trying to read a .ttc file using java.io.InputStream in IntelliJ IDEA, but it failed.\r\n\r\nHere is my code:\r\n```java\r\nInputStream inputStream = getClass().getResourceAsStream(&quot;Dependencies\\\\msjh.ttc&quot;);\r\nFont font;\r\ntry\r\n{\r\n    if (inputStream == null)\r\n        throw new IOException();\r\n    font = Font.createFont(Font.TRUETYPE_FONT, inputStream).deriveFont(Font.PLAIN);\r\n}\r\ncatch (IOException | FontFormatException exception)\r\n{\r\n    font = new Font(&quot;Microsoft JhengHei UI&quot;, Font.PLAIN, 16);\r\n}\r\n```\r\nNo matter how I try, the condition `if (inputStream == null)` is always true and the IOException will be thrown.\r\n\r\nBut a similar way of setting window icon works:\r\n```java\r\nFrame frame = new Frame(&quot;Window&quot;);\r\nframe.setIconImage(Toolkit.getDefaultToolkit().getImage(&quot;Dependencies\\\\icon.png&quot;));\r\n```\r\nHere are paths from my files :\r\n```\r\nIdeaProjects\\Project\\Dependencies\\msjh.ttc (font file)\r\nIdeaProjects\\Project\\Dependencies\\icon.png (image file)\r\nIdeaProjects\\Project\\src\\bin_gen\\Main.java (source code)\r\n```\r\nand there is a VM option: `-Dfile.encoding=MS950`\r\n\r\nThat .ttc file was copied from `C:\\Windows\\Fonts\\Microsoft JhengHei UI`. I&#39;m trying this because `font = new Font(&quot;Microsoft JhengHei UI&quot;, Font.PLAIN, 16);` seems not working (The font display on the window is still the default font).","title":"How to apply .ttc to a Font in Java awt","body":"<p>I was trying to read a .ttc file using java.io.InputStream in IntelliJ IDEA, but it failed.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream inputStream = getClass().getResourceAsStream(&quot;Dependencies\\\\msjh.ttc&quot;);\nFont font;\ntry\n{\n    if (inputStream == null)\n        throw new IOException();\n    font = Font.createFont(Font.TRUETYPE_FONT, inputStream).deriveFont(Font.PLAIN);\n}\ncatch (IOException | FontFormatException exception)\n{\n    font = new Font(&quot;Microsoft JhengHei UI&quot;, Font.PLAIN, 16);\n}\n</code></pre>\n<p>No matter how I try, the condition <code>if (inputStream == null)</code> is always true and the IOException will be thrown.</p>\n<p>But a similar way of setting window icon works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Frame frame = new Frame(&quot;Window&quot;);\nframe.setIconImage(Toolkit.getDefaultToolkit().getImage(&quot;Dependencies\\\\icon.png&quot;));\n</code></pre>\n<p>Here are paths from my files :</p>\n<pre><code>IdeaProjects\\Project\\Dependencies\\msjh.ttc (font file)\nIdeaProjects\\Project\\Dependencies\\icon.png (image file)\nIdeaProjects\\Project\\src\\bin_gen\\Main.java (source code)\n</code></pre>\n<p>and there is a VM option: <code>-Dfile.encoding=MS950</code></p>\n<p>That .ttc file was copied from <code>C:\\Windows\\Fonts\\Microsoft JhengHei UI</code>. I'm trying this because <code>font = new Font(&quot;Microsoft JhengHei UI&quot;, Font.PLAIN, 16);</code> seems not working (The font display on the window is still the default font).</p>\n"},{"tags":["java","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638092929,"creation_date":1638092929,"answer_id":70142231,"question_id":70142137,"body_markdown":"Jedis `xdel` method takes varags of StreamEntryID. So you can do only following two:\r\n\r\n1.\r\n```\r\nString key;\r\nStreamEntryID id1, id2, ..., idN;\r\n...\r\njedis.xdel(key, id1, id2, ..., idN);\r\n```\r\n\r\n2.\r\n```\r\nString key;\r\nStreamEntryID[] ids;\r\n...\r\njedis.xdel(key, ids);\r\n```\r\n\r\nBut you&#39;re sending Stream of StreamEntryID. You can consider changing your Stream (`Stream&lt;StreamEntryID&gt;`) to array (`StreamEntryID[]`).","title":"Delete multiple Redis stream id with Jedis","body":"<p>Jedis <code>xdel</code> method takes varags of StreamEntryID. So you can do only following two:</p>\n<p>1.</p>\n<pre><code>String key;\nStreamEntryID id1, id2, ..., idN;\n...\njedis.xdel(key, id1, id2, ..., idN);\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>String key;\nStreamEntryID[] ids;\n...\njedis.xdel(key, ids);\n</code></pre>\n<p>But you're sending Stream of StreamEntryID. You can consider changing your Stream (<code>Stream&lt;StreamEntryID&gt;</code>) to array (<code>StreamEntryID[]</code>).</p>\n"}],"owner":{"account_id":13619317,"reputation":25,"user_id":9824366,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70142231,"answer_count":1,"score":1,"last_activity_date":1638096853,"creation_date":1638092208,"question_id":70142137,"body_markdown":"how can i delete multi redis stream id with jedis?\r\n\r\nthey have a methods calls &quot;xdel&quot; - \r\n\r\n    xdel(String key, StreamEntryID... ids)\r\n    XDEL key ID [ID ...]\r\n\r\nwhat is the type that i need to send to the method to delete multi key?\r\ni declare List&lt;StreamEntryID&gt; but the method didnt get this type.\r\n\r\ni got this error - \r\n\r\n    method redis.clients.jedis.Jedis.xdel(java.lang.String,redis.clients.jedis.StreamEntryID...) is not applicable\r\n          (varargs mismatch; java.util.stream.Stream&lt;redis.clients.jedis.StreamEntryID&gt; cannot be converted to redis.clients.jedis.StreamEntryID)\r\n\r\n","title":"Delete multiple Redis stream id with Jedis","body":"<p>how can i delete multi redis stream id with jedis?</p>\n<p>they have a methods calls &quot;xdel&quot; -</p>\n<pre><code>xdel(String key, StreamEntryID... ids)\nXDEL key ID [ID ...]\n</code></pre>\n<p>what is the type that i need to send to the method to delete multi key?\ni declare List but the method didnt get this type.</p>\n<p>i got this error -</p>\n<pre><code>method redis.clients.jedis.Jedis.xdel(java.lang.String,redis.clients.jedis.StreamEntryID...) is not applicable\n      (varargs mismatch; java.util.stream.Stream&lt;redis.clients.jedis.StreamEntryID&gt; cannot be converted to redis.clients.jedis.StreamEntryID)\n</code></pre>\n"},{"tags":["java","inheritance","static","parent-child"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1621008360,"post_id":67537352,"comment_id":119374177,"body_markdown":"I agree with you, this **is** bad design. But why should java specifically not allow accessing a public static field of a subclass (when it allows accessing public static fields of all other classes?)","body":"I agree with you, this <b>is</b> bad design. But why should java specifically not allow accessing a public static field of a subclass (when it allows accessing public static fields of all other classes?)"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1621008435,"post_id":67537352,"comment_id":119374209,"body_markdown":"False premise. Java doesn&#39;t let you do that necessarily. Default access is package private (in this case, anyway; the defaults vary a bit with context), which these 2 classes presumably are. The inheritance aspect of this is not relevant.","body":"False premise. Java doesn&#39;t let you do that necessarily. Default access is package private (in this case, anyway; the defaults vary a bit with context), which these 2 classes presumably are. The inheritance aspect of this is not relevant."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1621008503,"post_id":67537352,"comment_id":119374231,"body_markdown":"@ThomasKl&#228;ger but why should I be declaring a static variable in the child class if it is to be used in the parent?","body":"@ThomasKl&#228;ger but why should I be declaring a static variable in the child class if it is to be used in the parent?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1621008543,"post_id":67537352,"comment_id":119374243,"body_markdown":"If you don&#39;t want it to be used outside of the class in which it&#39;s declared, make it private.","body":"If you don&#39;t want it to be used outside of the class in which it&#39;s declared, make it private."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1621008635,"post_id":67537352,"comment_id":119374288,"body_markdown":"Maybe the child is the primary implementation of a parent.  That&#39;s a pretty common thing.","body":"Maybe the child is the primary implementation of a parent.  That&#39;s a pretty common thing."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1621008728,"post_id":67537352,"comment_id":119374328,"body_markdown":"@ThomasKl&#228;ger &quot;*But why should java specifically not allow accessing a **public** static field of a subclass*&quot;. It&#39;s not public.","body":"@ThomasKl&#228;ger &quot;<i>But why should java specifically not allow accessing a <b>public</b> static field of a subclass</i>&quot;. It&#39;s not public."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1621009099,"post_id":67537352,"comment_id":119374471,"body_markdown":"@Michael Louis&#39;s comment might be one use case. `Child` and `Parent` are in the same package, but if I do not want `someString` to be accessible to other subclasses (which are in a different package) this could be used right? But still it would be the same as declaring a default field in `Parent` ?","body":"@Michael Louis&#39;s comment might be one use case. <code>Child</code> and <code>Parent</code> are in the same package, but if I do not want <code>someString</code> to be accessible to other subclasses (which are in a different package) this could be used right? But still it would be the same as declaring a default field in <code>Parent</code> ?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1621009169,"post_id":67537352,"comment_id":119374501,"body_markdown":"There is a table in the linked duplicate which shows the access for subclasses, both in the same package and different packages.","body":"There is a table in the linked duplicate which shows the access for subclasses, both in the same package and different packages."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1621009941,"post_id":67537352,"comment_id":119374841,"body_markdown":"@Michael The linked duplicate is about &quot;how&quot; the field is accessible. My question is &quot;when should&quot; accessing a child&#39;s static field in parent be used.","body":"@Michael The linked duplicate is about &quot;how&quot; the field is accessible. My question is &quot;when should&quot; accessing a child&#39;s static field in parent be used."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1621010087,"post_id":67537352,"comment_id":119374898,"body_markdown":"That&#39;s a matter of opinion. Opinion-based questions are off-topic.","body":"That&#39;s a matter of opinion. Opinion-based questions are off-topic."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1621010744,"post_id":67537352,"comment_id":119375144,"body_markdown":"@Michael yes it is kind of opinion based but not a duplicate :-)","body":"@Michael yes it is kind of opinion based but not a duplicate :-)"},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":2,"creation_date":1621010976,"post_id":67537352,"comment_id":119375225,"body_markdown":"I agree that the duplicate doesn&#39;t answer the question, but if it&#39;s off topic anyway then there&#39;s no point reopening it.","body":"I agree that the duplicate doesn&#39;t answer the question, but if it&#39;s off topic anyway then there&#39;s no point reopening it."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1621015985,"post_id":67537352,"comment_id":119377173,"body_markdown":"I have finally an example where this pattern is used (it&#39;s even in the JDK): the class `java.lang.CharacterDataLatin1` extends `java.lang.CharacterData` and has a field `static final CharacterDataLatin1 instance = new CharacterDataLatin1();` that is used from [`java.lang.CharacterData.of()`](https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/lang/CharacterData.java#L79).","body":"I have finally an example where this pattern is used (it&#39;s even in the JDK): the class <code>java.lang.CharacterDataLatin1</code> extends <code>java.lang.CharacterData</code> and has a field <code>static final CharacterDataLatin1 instance = new CharacterDataLatin1();</code> that is used from <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/lang/CharacterData.java#L79\" rel=\"nofollow noreferrer\"><code>java.lang.CharacterData.of()</code></a>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1621016043,"post_id":67537352,"comment_id":119377199,"body_markdown":"Here the parent class `CharacterData` delegates some of it&#39;s work to subclasses that are only loaded if they are needed.","body":"Here the parent class <code>CharacterData</code> delegates some of it&#39;s work to subclasses that are only loaded if they are needed."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1621053565,"post_id":67537352,"comment_id":119384738,"body_markdown":"@ThomasKl&#228;ger Great! Looks like this pattern is good to use when singleton child classes are involved.","body":"@ThomasKl&#228;ger Great! Looks like this pattern is good to use when singleton child classes are involved."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1621061653,"post_id":67537352,"comment_id":119385922,"body_markdown":"I have to change my first comment: this can be bad design. But it can also be useful for example if a parent class contains a factory method that returns singleton-instances of one of several subclasses. And then: why should java specifically enforce stricter access rules from a parent class to a subclass&#39;s fields than from other classes to those same fields?","body":"I have to change my first comment: this can be bad design. But it can also be useful for example if a parent class contains a factory method that returns singleton-instances of one of several subclasses. And then: why should java specifically enforce stricter access rules from a parent class to a subclass&#39;s fields than from other classes to those same fields?"},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1621062531,"post_id":67537352,"comment_id":119386111,"body_markdown":"@ThomasKl&#228;ger My initial phrasing of the question `&quot;Why does Java allow...&quot;` was actually confusing, my intention was to know the use-cases of such a pattern rather than asking &quot;why does this work&quot;. I have edited the title. Hope it is more clear now.","body":"@ThomasKl&#228;ger My initial phrasing of the question <code>&quot;Why does Java allow...&quot;</code> was actually confusing, my intention was to know the use-cases of such a pattern rather than asking &quot;why does this work&quot;. I have edited the title. Hope it is more clear now."}],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638096359,"creation_date":1638096359,"answer_id":70142616,"question_id":67537352,"body_markdown":"Based on Thomas&#39;s [comment](https://stackoverflow.com/questions/67537352/examples-use-cases-of-design-in-which-parent-class-accesses-its-childs-static-f#comment119377173_67537352):\r\n\r\nThis pattern could be used to return a specific implementation from a method in the parent class. i.e it is useful when a parent class contains a static factory method that returns singleton-instance of one of several subclasses.\r\n\r\nAn example available within the JDK is `java.lang.CharacterData`. This is an abstract class which is extended by 8 other classes (`CharacterData00`, `CharacterData01`, ...) All these implementing classes are **non-public and singleton** and hence contains a `static final instance` variable. Since these implementations are non-public (default access), it is not supposed to be accessed directly. So, the `CharacterData` contains a static factory method `of`, which returns the appropriate implementation.","title":"Examples/Use-cases of design in which parent class accesses its child&#39;s static field","body":"<p>Based on Thomas's <a href=\"https://stackoverflow.com/questions/67537352/examples-use-cases-of-design-in-which-parent-class-accesses-its-childs-static-f#comment119377173_67537352\">comment</a>:</p>\n<p>This pattern could be used to return a specific implementation from a method in the parent class. i.e it is useful when a parent class contains a static factory method that returns singleton-instance of one of several subclasses.</p>\n<p>An example available within the JDK is <code>java.lang.CharacterData</code>. This is an abstract class which is extended by 8 other classes (<code>CharacterData00</code>, <code>CharacterData01</code>, ...) All these implementing classes are <strong>non-public and singleton</strong> and hence contains a <code>static final instance</code> variable. Since these implementations are non-public (default access), it is not supposed to be accessed directly. So, the <code>CharacterData</code> contains a static factory method <code>of</code>, which returns the appropriate implementation.</p>\n"}],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70142616,"answer_count":1,"score":0,"last_activity_date":1638096359,"creation_date":1621008137,"question_id":67537352,"body_markdown":"**EDIT :** The [linked duplicate][1] **DOES NOT** answer this question as it is about **HOW** it is accessible. But my question is **when** should such a design be used or any examples of such a design.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/215497/7804477\r\n\r\n\r\n**NOTE : Anyone looking for an answer to this question can scroll down in the comment section to see Thomas&#39;s comments in the end related to `java.lang.CharacterData`**.\r\n______________________\r\n\r\nSome of the questions with a similar title actually discuss the usage of static variables with the same name in child and parent. example: https://stackoverflow.com/questions/41505611/java-static-vars-in-parent-and-child-class-accessing-the-child-var-value-fro\r\n\r\nBut my question is regarding the purpose of accessing child&#39;s static field in parent class.\r\n\r\n```java\r\nclass Child extends Parent {\r\n    static String someString = &quot;test&quot;;\r\n}\r\n\r\nclass Parent {\r\n    void someMethod() {\r\n        System.out.println(Child.someString);\r\n    }\r\n}\r\n```\r\n\r\nIsn&#39;t this a bad design? Ideally, if `someString` is required in `Parent`, then it should be a field in `Parent` instead of `Child`.\r\n\r\nAre there any use-cases/examples when this approach could be used?\r\n\r\n","title":"Examples/Use-cases of design in which parent class accesses its child&#39;s static field","body":"<p><strong>EDIT :</strong> The <a href=\"https://stackoverflow.com/q/215497/7804477\">linked duplicate</a> <strong>DOES NOT</strong> answer this question as it is about <strong>HOW</strong> it is accessible. But my question is <strong>when</strong> should such a design be used or any examples of such a design.</p>\n<p><strong>NOTE : Anyone looking for an answer to this question can scroll down in the comment section to see Thomas's comments in the end related to <code>java.lang.CharacterData</code></strong>.</p>\n<hr />\n<p>Some of the questions with a similar title actually discuss the usage of static variables with the same name in child and parent. example: <a href=\"https://stackoverflow.com/questions/41505611/java-static-vars-in-parent-and-child-class-accessing-the-child-var-value-fro\">Java | static vars in parent and child class | accessing the child var value from parent class</a></p>\n<p>But my question is regarding the purpose of accessing child's static field in parent class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Child extends Parent {\n    static String someString = &quot;test&quot;;\n}\n\nclass Parent {\n    void someMethod() {\n        System.out.println(Child.someString);\n    }\n}\n</code></pre>\n<p>Isn't this a bad design? Ideally, if <code>someString</code> is required in <code>Parent</code>, then it should be a field in <code>Parent</code> instead of <code>Child</code>.</p>\n<p>Are there any use-cases/examples when this approach could be used?</p>\n"},{"tags":["java","maven","github-actions"],"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1638056016,"post_id":70138309,"comment_id":123986642,"body_markdown":"Why the **UPDATE**? Isn&#39;t this the same as in the sentence after the POM excerpt?","body":"Why the <b>UPDATE</b>? Isn&#39;t this the same as in the sentence after the POM excerpt?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1638057702,"post_id":70138309,"comment_id":123986870,"body_markdown":"You&#39;re saying that &quot;mvn clean test&quot; is failing on github, but this file you&#39;re showing here is specifying how to run the sonarqube scan. The two things don&#39;t appear to have anything to do with each other. How about you show us exactly what happens when &quot;mvn clean test&quot; runs on github?","body":"You&#39;re saying that &quot;mvn clean test&quot; is failing on github, but this file you&#39;re showing here is specifying how to run the sonarqube scan. The two things don&#39;t appear to have anything to do with each other. How about you show us exactly what happens when &quot;mvn clean test&quot; runs on github?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1638061074,"post_id":70138309,"comment_id":123987258,"body_markdown":"You haven&#39;t explained what actual failure the test gets, or shown the test code.","body":"You haven&#39;t explained what actual failure the test gets, or shown the test code."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1638095766,"post_id":70138309,"comment_id":123991674,"body_markdown":"Sorry for wasting your time and thank you all for leading me in right direction. At first I thought, it&#39;s an issue of the sonar maven plugin, then I realize &quot;mvn test&quot; fails too. That was the reason for the UPDATE. But as so often, the problem was between my ears. You should stop when it becomes too much and continue the next day ... It was just a wrong setting in my test environment!","body":"Sorry for wasting your time and thank you all for leading me in right direction. At first I thought, it&#39;s an issue of the sonar maven plugin, then I realize &quot;mvn test&quot; fails too. That was the reason for the UPDATE. But as so often, the problem was between my ears. You should stop when it becomes too much and continue the next day ... It was just a wrong setting in my test environment!"}],"answers":[{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638055817,"creation_date":1638055817,"answer_id":70139528,"question_id":70138309,"body_markdown":"You don&#39;t need to copy test resource files to `target[/sub/dir]` explicitely if you place them in `src/test/resources[/sub/dir]` the [Maven Resources Plugin][res] is [bound to the `process-resources` and `process-test-resources` phases by default][A] and hence does this for you without any declaration in the POM:\r\n\r\n&gt; The Resources Plugin handles the copying of project resources to the output directory. There are two different kinds of resources: main resources and test resources. The difference is that the main resources are the resources associated to the main source code while the test resources are associated to the test source code.\r\n&gt; \r\n&gt; Thus, this allows the separation of resources for the main source code and its unit tests.\r\n\r\nNot that this is the reason for your issue but I&#39;d remove the declaration from the POM anyway.\r\n\r\n[A]: https://stackoverflow.com/a/46028475/1744774\r\n[res]: https://maven.apache.org/plugins/maven-resources-plugin/usage.html","title":"github workflows: maven tests fail when because of missing some test resources, but runs local","body":"<p>You don't need to copy test resource files to <code>target[/sub/dir]</code> explicitely if you place them in <code>src/test/resources[/sub/dir]</code> the <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/usage.html\" rel=\"nofollow noreferrer\">Maven Resources Plugin</a> is <a href=\"https://stackoverflow.com/a/46028475/1744774\">bound to the <code>process-resources</code> and <code>process-test-resources</code> phases by default</a> and hence does this for you without any declaration in the POM:</p>\n<blockquote>\n<p>The Resources Plugin handles the copying of project resources to the output directory. There are two different kinds of resources: main resources and test resources. The difference is that the main resources are the resources associated to the main source code while the test resources are associated to the test source code.</p>\n<p>Thus, this allows the separation of resources for the main source code and its unit tests.</p>\n</blockquote>\n<p>Not that this is the reason for your issue but I'd remove the declaration from the POM anyway.</p>\n"}],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638096174,"creation_date":1638043626,"question_id":70138309,"body_markdown":"I spent hours to find out, why one of my junit tests runs local but not on the github workflow. The test which fails checks the existence of some files to do some configuration stuff. I&#39;m using the maven-resources-plugin to copy these files to a folder inside the target directory. Here is my plugin setting of my pom.xml:\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;!-- move some test resources to target --&gt;\r\n\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;copy-resource-one&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/test-dir&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;${basedir}/test-files&lt;/directory&gt;\r\n\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t&lt;/resources&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThe files are copied as expected and ```mvn clean test``` runs as expected, but not within a github workflow.\r\n\r\nHere is my workflow definition:\r\n```\r\nname: Sonar Scan\r\non:\r\n  push:\r\n    branches:\r\n      - develop\r\n      - feature*\r\n      - master\r\n  pull_request:\r\n    types: [opened, synchronize, reopened]\r\njobs:\r\n  build:\r\n    name: Build\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout source\r\n        uses: actions/checkout@v2\r\n      - name: Set up JDK 11\r\n        uses: actions/setup-java@v2.3.1\r\n        with:\r\n          distribution: &#39;adopt&#39;\r\n          java-version: &#39;11&#39;\r\n      - name: Cache SonarCloud packages\r\n        uses: actions/cache@v1\r\n        with:\r\n          path: ~/.sonar/cache\r\n          key: ${{ runner.os }}-sonar\r\n          restore-keys: ${{ runner.os }}-sonar\r\n      - name: Build and analyze\r\n        env:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}  # Needed to get PR information, if any\r\n          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}\r\n        run: mvn -B verify org.sonarsource.scanner.maven:sonar-maven-plugin:sonar -Dsonar.projectKey=abckey\r\n```\r\nI guess this is a typically RTFM problem, but I didn&#39;t find anything.\r\n\r\nAny hints?\r\n\r\n**UPDATE:**\r\n\r\nJust testet, ```mvn clean test``` fails on github workflow too!","title":"github workflows: maven tests fail when because of missing some test resources, but runs local","body":"<p>I spent hours to find out, why one of my junit tests runs local but not on the github workflow. The test which fails checks the existence of some files to do some configuration stuff. I'm using the maven-resources-plugin to copy these files to a folder inside the target directory. Here is my plugin setting of my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;!-- move some test resources to target --&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-resource-one&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${basedir}/target/test-dir&lt;/outputDirectory&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${basedir}/test-files&lt;/directory&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The files are copied as expected and <code>mvn clean test</code> runs as expected, but not within a github workflow.</p>\n<p>Here is my workflow definition:</p>\n<pre><code>name: Sonar Scan\non:\n  push:\n    branches:\n      - develop\n      - feature*\n      - master\n  pull_request:\n    types: [opened, synchronize, reopened]\njobs:\n  build:\n    name: Build\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout source\n        uses: actions/checkout@v2\n      - name: Set up JDK 11\n        uses: actions/setup-java@v2.3.1\n        with:\n          distribution: 'adopt'\n          java-version: '11'\n      - name: Cache SonarCloud packages\n        uses: actions/cache@v1\n        with:\n          path: ~/.sonar/cache\n          key: ${{ runner.os }}-sonar\n          restore-keys: ${{ runner.os }}-sonar\n      - name: Build and analyze\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}  # Needed to get PR information, if any\n          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}\n        run: mvn -B verify org.sonarsource.scanner.maven:sonar-maven-plugin:sonar -Dsonar.projectKey=abckey\n</code></pre>\n<p>I guess this is a typically RTFM problem, but I didn't find anything.</p>\n<p>Any hints?</p>\n<p><strong>UPDATE:</strong></p>\n<p>Just testet, <code>mvn clean test</code> fails on github workflow too!</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638089849,"creation_date":1638089849,"answer_id":70141912,"question_id":70141863,"body_markdown":"How about:\r\n\r\n    boolean contains = myList.stream()\r\n                             .map(MyObj::getID)\r\n                             .filter(id -&gt; id.equals(id1) || id.equals(id2))\r\n                             .limit(2)\r\n                             .count () == 2;\r\n\r\nThis is assuming there can be at most one `MyObj` having `id1` and at most one `MyObj` having `id2`, which makes sense if these identifiers are unique.\r\n\r\nI added the `limit(2)` in order for the pipeline to stop processing elements once it finds two elements matching the requested identifiers.\r\n","title":"Elegant way of checking list containment using Java streams","body":"<p>How about:</p>\n<pre><code>boolean contains = myList.stream()\n                         .map(MyObj::getID)\n                         .filter(id -&gt; id.equals(id1) || id.equals(id2))\n                         .limit(2)\n                         .count () == 2;\n</code></pre>\n<p>This is assuming there can be at most one <code>MyObj</code> having <code>id1</code> and at most one <code>MyObj</code> having <code>id2</code>, which makes sense if these identifiers are unique.</p>\n<p>I added the <code>limit(2)</code> in order for the pipeline to stop processing elements once it finds two elements matching the requested identifiers.</p>\n"}],"owner":{"account_id":21660956,"reputation":87,"user_id":15980090,"display_name":"eaRobust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70141912,"answer_count":1,"score":0,"last_activity_date":1638096100,"creation_date":1638089344,"question_id":70141863,"body_markdown":"I have this list `myList` of `MyObj` class which contains an `String id` field.\r\n\r\nI am provided with two id&#39;s `(String)` from the user, and want to validate that `myList`\r\ncontains two instances of `MyObj` corresponding to these provided id&#39;s.\r\n\r\nWhat&#39;s an elegant way of doing so using `streams`?\r\n\r\nthanks!","title":"Elegant way of checking list containment using Java streams","body":"<p>I have this list <code>myList</code> of <code>MyObj</code> class which contains an <code>String id</code> field.</p>\n<p>I am provided with two id's <code>(String)</code> from the user, and want to validate that <code>myList</code>\ncontains two instances of <code>MyObj</code> corresponding to these provided id's.</p>\n<p>What's an elegant way of doing so using <code>streams</code>?</p>\n<p>thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-el"],"answers":[{"tags":[],"owner":{"account_id":7314864,"reputation":819,"user_id":5572869,"display_name":"aBnormaLz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1545069695,"creation_date":1545069695,"answer_id":53820758,"question_id":53820716,"body_markdown":"According to [this post][1] you should try \r\n\r\n    @Value(&quot;#{someBean.someProperty != null ? someBean.someProperty : &#39;default&#39;}&quot;)\r\n    private String ternary;\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-expression-language","title":"SpEL (Spring) syntax for default value when property non-existant or equal to 0","body":"<p>According to <a href=\"https://www.baeldung.com/spring-expression-language\" rel=\"nofollow noreferrer\">this post</a> you should try </p>\n\n<pre><code>@Value(\"#{someBean.someProperty != null ? someBean.someProperty : 'default'}\")\nprivate String ternary;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5585644,"reputation":7171,"user_id":4426091,"accept_rate":87,"display_name":"Brooks"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1545071213,"creation_date":1545071213,"answer_id":53821088,"question_id":53820716,"body_markdown":"It appears my problem was using `${...}` instead of `#{...}`.  Here is my solution using two different properties:\r\n\r\nbootstrap.properties\r\n\r\n`procmultiplier=${instance.procmultiplier:1}`\r\n\r\n\r\nAppConfig.java\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n        @Value(&quot;#{${procmultiplier} == 0 ? 1 : ${procmultiplier}}&quot;)\r\n        public Integer procMultiplier;\r\n    }\r\n\r\nCommand Line:\r\n`mvn clean package &amp;&amp; java -Dspring.profiles.active=json -Dinstance.procmultiplier=0 -jar target/MyApp-0.0.1-SNAPSHOT.jar`\r\n\r\nAlso allows for a missing `instance.procmultiplier` parameter.\r\n\r\nI still don&#39;t know how to do it all in one shot with 1 property though...","title":"SpEL (Spring) syntax for default value when property non-existant or equal to 0","body":"<p>It appears my problem was using <code>${...}</code> instead of <code>#{...}</code>.  Here is my solution using two different properties:</p>\n\n<p>bootstrap.properties</p>\n\n<p><code>procmultiplier=${instance.procmultiplier:1}</code></p>\n\n<p>AppConfig.java</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Value(\"#{${procmultiplier} == 0 ? 1 : ${procmultiplier}}\")\n    public Integer procMultiplier;\n}\n</code></pre>\n\n<p>Command Line:\n<code>mvn clean package &amp;&amp; java -Dspring.profiles.active=json -Dinstance.procmultiplier=0 -jar target/MyApp-0.0.1-SNAPSHOT.jar</code></p>\n\n<p>Also allows for a missing <code>instance.procmultiplier</code> parameter.</p>\n\n<p>I still don't know how to do it all in one shot with 1 property though...</p>\n"},{"tags":[],"owner":{"account_id":20982096,"reputation":13,"user_id":15416696,"display_name":"j2sxd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638095850,"creation_date":1638095850,"answer_id":70142561,"question_id":53820716,"body_markdown":"This works for me in xml:\r\n\r\n    &lt;bean id=&quot;myBean&quot; class=&quot;myClass&quot; &gt;\r\n        &lt;property name=&quot;myProp&quot; value=&quot;#{systemProperties[&#39;a.b&#39;] ?: &#39;${a.b}&#39;}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nThis will take from system properties if exist, otherwise from property file\r\n","title":"SpEL (Spring) syntax for default value when property non-existant or equal to 0","body":"<p>This works for me in xml:</p>\n<pre><code>&lt;bean id=&quot;myBean&quot; class=&quot;myClass&quot; &gt;\n    &lt;property name=&quot;myProp&quot; value=&quot;#{systemProperties['a.b'] ?: '${a.b}'}&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>This will take from system properties if exist, otherwise from property file</p>\n"}],"owner":{"account_id":5585644,"reputation":7171,"user_id":4426091,"accept_rate":87,"display_name":"Brooks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10230,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53821088,"answer_count":3,"score":7,"last_activity_date":1638095850,"creation_date":1545069536,"question_id":53820716,"body_markdown":"I&#39;m trying to set an Integer property to a default value of 1 if it either does not exist or if its current value is 0 and I can&#39;t for the life of me get the 0 comparison to work properly.\r\n\r\nThe original value (if set) will come in via the command line.\r\n\r\nHere are the relevant line in my class:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n        @Value(&quot;${${instance.procmultiplier} == 0 ? Integer.parseInt(&#39;1&#39;) : ${instance.procmultiplier}}&quot;)\r\n    \tpublic Integer procMultiplier;\r\n    }\r\n\r\nI have tried numerous variations of the @Value annotation and at one point, I swear it recognized the 0 value, and I can&#39;t get back to that state.  I was first trying to simply get it to recognize the 0 value and default to 1 and I was then going to try and insert a null-check.\r\n\r\nIs there a way to do both all in the same annotation?  One idea I had was to split the null-check and 0-check into two different properties, basically have `procmultiplier=${instance.procmultiplier:1}` in a properties file and then change the annotation to `@Value(&quot;${${procmultiplier} == 0 ? Integer.parseInt(&#39;1&#39;) : ${procmultiplier}}&quot;)` but nothing I try works.\r\n\r\nMy command is: `mvn clean package &amp;&amp; java -Dspring.profiles.active=json -Dinstance.procmultiplier=0 -jar target/MyApp-0.0.1-SNAPSHOT.jar`.\r\n\r\nThe property ends up just being equal to whatever I set it to on the command line.\r\n\r\nAny ideas on how to check for both non-existent and 0 and default to 1 if either is true, otherwise set to whatever comes in via command line?","title":"SpEL (Spring) syntax for default value when property non-existant or equal to 0","body":"<p>I'm trying to set an Integer property to a default value of 1 if it either does not exist or if its current value is 0 and I can't for the life of me get the 0 comparison to work properly.</p>\n\n<p>The original value (if set) will come in via the command line.</p>\n\n<p>Here are the relevant line in my class:</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Value(\"${${instance.procmultiplier} == 0 ? Integer.parseInt('1') : ${instance.procmultiplier}}\")\n    public Integer procMultiplier;\n}\n</code></pre>\n\n<p>I have tried numerous variations of the @Value annotation and at one point, I swear it recognized the 0 value, and I can't get back to that state.  I was first trying to simply get it to recognize the 0 value and default to 1 and I was then going to try and insert a null-check.</p>\n\n<p>Is there a way to do both all in the same annotation?  One idea I had was to split the null-check and 0-check into two different properties, basically have <code>procmultiplier=${instance.procmultiplier:1}</code> in a properties file and then change the annotation to <code>@Value(\"${${procmultiplier} == 0 ? Integer.parseInt('1') : ${procmultiplier}}\")</code> but nothing I try works.</p>\n\n<p>My command is: <code>mvn clean package &amp;&amp; java -Dspring.profiles.active=json -Dinstance.procmultiplier=0 -jar target/MyApp-0.0.1-SNAPSHOT.jar</code>.</p>\n\n<p>The property ends up just being equal to whatever I set it to on the command line.</p>\n\n<p>Any ideas on how to check for both non-existent and 0 and default to 1 if either is true, otherwise set to whatever comes in via command line?</p>\n"},{"tags":["java","lambda","option-type","lazy-evaluation"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":6,"creation_date":1637880398,"post_id":70117995,"comment_id":123949053,"body_markdown":"If you pass in an exception, then you must have created an exception, even if it doesn&#39;t end up being used. That&#39;s the opposite of lazy.","body":"If you pass in an exception, then you must have created an exception, even if it doesn&#39;t end up being used. That&#39;s the opposite of lazy."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637880880,"post_id":70117995,"comment_id":123949160,"body_markdown":"@Aria Is it safe to assume you roughly know what lambdas are and how they work?","body":"@Aria Is it safe to assume you roughly know what lambdas are and how they work?"},{"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"score":0,"creation_date":1637880954,"post_id":70117995,"comment_id":123949170,"body_markdown":"@MC Emperor I would say I know a bit more, but yes I am in the studying phase.","body":"@MC Emperor I would say I know a bit more, but yes I am in the studying phase."}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1638095292,"creation_date":1637880566,"answer_id":70118020,"question_id":70117995,"body_markdown":"We&#39;re supposed to use `orElseThrow()` like this:\r\n\r\n    anOptional.orElseThrow(() -&gt; new Exception())\r\n\r\nBecause the above does _not_ create an `Exception` immediately: only if the optional is not present the `Supplier` lambda will be called, and at that moment the new exception will be instantiated. On the other hand, if we had this situation:\r\n\r\n    anOptional.orElseThrow(new Exception())\r\n\r\nThe exception would _always_ be created, even if the optional was present, which would be [costly](https://stackoverflow.com/questions/36343209/which-part-of-throwing-an-exception-is-expensive). This is the reason why `orElseThrow` expects a `Supplier&lt;? extends X&gt;` with `&lt;X extends Throwable&gt;`, in other words: a lambda expression with no arguments that returns a new `Throwable` object when called.\r\n\r\nWe say it&#39;s &quot;lazy&quot; because the lambda&#39;s body only gets evaluated at the last possible moment when it&#39;s truly needed, but if it&#39;s never needed the lambda&#39;s body will never be executed.\r\n","title":"Why does the `orElseThrow()` method in Java take a `Supplier` as a parameter instead of an `Exception`?","body":"<p>We're supposed to use <code>orElseThrow()</code> like this:</p>\n<pre><code>anOptional.orElseThrow(() -&gt; new Exception())\n</code></pre>\n<p>Because the above does <em>not</em> create an <code>Exception</code> immediately: only if the optional is not present the <code>Supplier</code> lambda will be called, and at that moment the new exception will be instantiated. On the other hand, if we had this situation:</p>\n<pre><code>anOptional.orElseThrow(new Exception())\n</code></pre>\n<p>The exception would <em>always</em> be created, even if the optional was present, which would be <a href=\"https://stackoverflow.com/questions/36343209/which-part-of-throwing-an-exception-is-expensive\">costly</a>. This is the reason why <code>orElseThrow</code> expects a <code>Supplier&lt;? extends X&gt;</code> with <code>&lt;X extends Throwable&gt;</code>, in other words: a lambda expression with no arguments that returns a new <code>Throwable</code> object when called.</p>\n<p>We say it's &quot;lazy&quot; because the lambda's body only gets evaluated at the last possible moment when it's truly needed, but if it's never needed the lambda's body will never be executed.</p>\n"}],"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1946,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":70118020,"answer_count":1,"score":3,"last_activity_date":1638095292,"creation_date":1637880271,"question_id":70117995,"body_markdown":"Why does the `orElseThrow()` method in Java take a `Supplier` as a parameter instead of an `Exception`? This is the question and the best answer I have found is in [here](https://teamtreehouse.com/community/why-does-the-orelsethrow-method-take-a-supplier-as-a-parameter-instead-of-an-exception), stating\r\n\r\n&gt;The overarching concept here is that by providing a method reference (or a function) it can be lazily initialized. No need to create Exception object if you don&#39;t need it. Create it only when you need it.\r\n\r\nHowever, I still do not understand it. Why can&#39;t the object creation be lazy?","title":"Why does the `orElseThrow()` method in Java take a `Supplier` as a parameter instead of an `Exception`?","body":"<p>Why does the <code>orElseThrow()</code> method in Java take a <code>Supplier</code> as a parameter instead of an <code>Exception</code>? This is the question and the best answer I have found is in <a href=\"https://teamtreehouse.com/community/why-does-the-orelsethrow-method-take-a-supplier-as-a-parameter-instead-of-an-exception\" rel=\"nofollow noreferrer\">here</a>, stating</p>\n<blockquote>\n<p>The overarching concept here is that by providing a method reference (or a function) it can be lazily initialized. No need to create Exception object if you don't need it. Create it only when you need it.</p>\n</blockquote>\n<p>However, I still do not understand it. Why can't the object creation be lazy?</p>\n"},{"tags":["java","sqlite","android-room","android-room-prepackageddatabase"],"answers":[{"tags":[],"owner":{"account_id":18091309,"reputation":196,"user_id":13150741,"display_name":""},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585979353,"creation_date":1585978842,"answer_id":61024226,"question_id":61023703,"body_markdown":"I found answer.\r\nFirst, I made SQL3 instead SQL 2, delete app from device and install application. Now Log is:\r\n\r\n  \r\n \r\n\r\n    java.lang.IllegalStateException: Pre-packaged database has an invalid schema: pronouns\r\n             Expected:\r\n            TableInfo{name=&#39;pronouns&#39;, columns={progress=Column{name=&#39;progress&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=true, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, wordRus=Column{name=&#39;wordRus&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, position=Column{name=&#39;position&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=true, primaryKeyPosition=1, defaultValue=&#39;null&#39;}, wordHin=Column{name=&#39;wordHin&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, wordDev=Column{name=&#39;wordDev&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}}, foreignKeys=[], indices=[]}\r\n             Found:\r\n            TableInfo{name=&#39;pronouns&#39;, columns={wordRus=Column{name=&#39;wordRus&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, wordHin=Column{name=&#39;wordHin&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, progress=Column{name=&#39;progress&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, position=Column{name=&#39;position&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=true, primaryKeyPosition=1, defaultValue=&#39;null&#39;}, wordDev=Column{name=&#39;wordDev&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}}, foreignKeys=[], indices=[]}\r\n\r\n\r\n ========\r\n\r\n\r\n    progress=Column{name=&#39;progress&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=true, primaryKeyPosition=0, defaultValue=&#39;null&#39;}\r\n    progress=Column{name=&#39;progress&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}\r\n    \r\n    wordRus=Column{name=&#39;wordRus&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}\r\n    wordRus=Column{name=&#39;wordRus&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}\r\n    \r\n    position=Column{name=&#39;position&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=true, primaryKeyPosition=1, defaultValue=&#39;null&#39;}\r\n    position=Column{name=&#39;position&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=true, primaryKeyPosition=1, defaultValue=&#39;null&#39;}\r\n    \r\n    wordHin=Column{name=&#39;wordHin&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}\r\n    wordHin=Column{name=&#39;wordHin&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}\r\n    \r\n    wordDev=Column{name=&#39;wordDev&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}}, foreignKeys=[], indices=[]}\r\n    wordDev=Column{name=&#39;wordDev&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}}, foreignKeys=[], indices=[]}\r\n\r\nThere are expected and found in wrong order, but it doesn&#39;t matter. Matter that where in expected  NotNull true and in Found Notnull false.  All I done is added to position and progess notNull true in prepopulated database, for match true=true.\r\n\r\n\r\n","title":"Why database is null, when i use createFromAsset in RoomDatabase. List&lt;&gt; from it has size 0, but prepopulated database has 8 items","body":"<p>I found answer.\nFirst, I made SQL3 instead SQL 2, delete app from device and install application. Now Log is:</p>\n\n<pre><code>java.lang.IllegalStateException: Pre-packaged database has an invalid schema: pronouns\n         Expected:\n        TableInfo{name='pronouns', columns={progress=Column{name='progress', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0, defaultValue='null'}, wordRus=Column{name='wordRus', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, position=Column{name='position', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=1, defaultValue='null'}, wordHin=Column{name='wordHin', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, wordDev=Column{name='wordDev', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}}, foreignKeys=[], indices=[]}\n         Found:\n        TableInfo{name='pronouns', columns={wordRus=Column{name='wordRus', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, wordHin=Column{name='wordHin', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, progress=Column{name='progress', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=0, defaultValue='null'}, position=Column{name='position', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=1, defaultValue='null'}, wordDev=Column{name='wordDev', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}}, foreignKeys=[], indices=[]}\n</code></pre>\n\n<p>========</p>\n\n<pre><code>progress=Column{name='progress', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0, defaultValue='null'}\nprogress=Column{name='progress', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=0, defaultValue='null'}\n\nwordRus=Column{name='wordRus', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}\nwordRus=Column{name='wordRus', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}\n\nposition=Column{name='position', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=1, defaultValue='null'}\nposition=Column{name='position', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=1, defaultValue='null'}\n\nwordHin=Column{name='wordHin', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}\nwordHin=Column{name='wordHin', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}\n\nwordDev=Column{name='wordDev', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}}, foreignKeys=[], indices=[]}\nwordDev=Column{name='wordDev', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}}, foreignKeys=[], indices=[]}\n</code></pre>\n\n<p>There are expected and found in wrong order, but it doesn't matter. Matter that where in expected  NotNull true and in Found Notnull false.  All I done is added to position and progess notNull true in prepopulated database, for match true=true.</p>\n"},{"tags":[],"owner":{"account_id":5826102,"reputation":2248,"user_id":4592448,"accept_rate":100,"display_name":"Fortran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608134692,"creation_date":1608134692,"answer_id":65326872,"question_id":61023703,"body_markdown":"In my case\r\n\r\nSimple solve: **On phone**: long touch on app-&gt;App Info-&gt;Storage &amp;memory-&gt; **Clear Storage**","title":"Why database is null, when i use createFromAsset in RoomDatabase. List&lt;&gt; from it has size 0, but prepopulated database has 8 items","body":"<p>In my case</p>\n<p>Simple solve: <strong>On phone</strong>: long touch on app-&gt;App Info-&gt;Storage &amp;memory-&gt; <strong>Clear Storage</strong></p>\n"}],"owner":{"account_id":18091309,"reputation":196,"user_id":13150741,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638095147,"creation_date":1585973925,"question_id":61023703,"body_markdown":"This is my Database.\r\n\r\n \r\n\r\n    @Database(entities = {Word.class}, version = 1, exportSchema = false)\r\n        public abstract  class WordsDatabase extends RoomDatabase {\r\n            private static final String DB_NAME = &quot;words&quot;;\r\n            private static WordsDatabase database;\r\n            private  static final Object LOCK = new Object();\r\n    \r\n            public static WordsDatabase getInstance(Context context) {\r\n            synchronized (LOCK){\r\n                if(database == null) {\r\n                    database = Room.databaseBuilder(context,WordsDatabase.class, DB_NAME)\r\n                            .createFromAsset(&quot;words.db&quot;)\r\n                            .allowMainThreadQueries()\r\n                            .build();\r\n                    Log.i(&quot;1111&quot;, &quot;database was created now&quot;);\r\n                } else {\r\n                    Log.i(&quot;1111&quot;, &quot;was already created&quot;);\r\n                }}\r\n            return database;\r\n        }\r\n        public abstract WordsDao wordsDao();\r\n\r\nThis is my Dao\r\n\r\n    @Dao\r\n    public interface WordsDao {\r\n        @Query(&quot;SELECT * FROM pronouns&quot;)\r\n        List&lt;Word&gt; getAllWords();\r\n        @Query(&quot;SELECT * FROM pronouns WHERE wordRus == :wordRus&quot;)\r\n        Word getWordByWord(String wordRus);\r\n\r\nThis is my Entity\r\n\r\n    @Entity(tableName = &quot;pronouns&quot;)\r\n    public class Word {\r\n        @PrimaryKey\r\n        private int position;\r\n        private String wordRus;\r\n        private String wordHin;\r\n        private String wordDev;\r\n        private int progress;\r\n    \r\n     1 constructor with all fields, getters, setters...\r\n\r\nthis is my onCreate()\r\n\r\n    database = WordsDatabase.getInstance(this);\r\n            Word word = database.wordsDao().getWordByWord(&quot;&quot;);\r\n            Log.i(&quot;1111&quot;, word.getWordRus());\r\n\r\nThis is my log\r\n\r\n    I/1111: database was created now\r\n    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method \r\n    \r\n    &#39;java.lang.String com.vazheninapps.hindipoliglot.data.Word.getWordRus()&#39; on a \r\n    \r\n    null object reference\r\n\r\nThis is my words.db in assets(SQL2 database) [SQLSTUDIOIMAGE][1]\r\n\r\nwhat i am doing wrong? Why database null? I also try method getAllWords(). and return size of list. it is 0.\r\n\r\n\r\n [1]: https://i.stack.imgur.com/istsY.jpg","title":"Why database is null, when i use createFromAsset in RoomDatabase. List&lt;&gt; from it has size 0, but prepopulated database has 8 items","body":"<p>This is my Database.</p>\n\n<pre><code>@Database(entities = {Word.class}, version = 1, exportSchema = false)\n    public abstract  class WordsDatabase extends RoomDatabase {\n        private static final String DB_NAME = \"words\";\n        private static WordsDatabase database;\n        private  static final Object LOCK = new Object();\n\n        public static WordsDatabase getInstance(Context context) {\n        synchronized (LOCK){\n            if(database == null) {\n                database = Room.databaseBuilder(context,WordsDatabase.class, DB_NAME)\n                        .createFromAsset(\"words.db\")\n                        .allowMainThreadQueries()\n                        .build();\n                Log.i(\"1111\", \"database was created now\");\n            } else {\n                Log.i(\"1111\", \"was already created\");\n            }}\n        return database;\n    }\n    public abstract WordsDao wordsDao();\n</code></pre>\n\n<p>This is my Dao</p>\n\n<pre><code>@Dao\npublic interface WordsDao {\n    @Query(\"SELECT * FROM pronouns\")\n    List&lt;Word&gt; getAllWords();\n    @Query(\"SELECT * FROM pronouns WHERE wordRus == :wordRus\")\n    Word getWordByWord(String wordRus);\n</code></pre>\n\n<p>This is my Entity</p>\n\n<pre><code>@Entity(tableName = \"pronouns\")\npublic class Word {\n    @PrimaryKey\n    private int position;\n    private String wordRus;\n    private String wordHin;\n    private String wordDev;\n    private int progress;\n\n 1 constructor with all fields, getters, setters...\n</code></pre>\n\n<p>this is my onCreate()</p>\n\n<pre><code>database = WordsDatabase.getInstance(this);\n        Word word = database.wordsDao().getWordByWord(\"\");\n        Log.i(\"1111\", word.getWordRus());\n</code></pre>\n\n<p>This is my log</p>\n\n<pre><code>I/1111: database was created now\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method \n\n'java.lang.String com.vazheninapps.hindipoliglot.data.Word.getWordRus()' on a \n\nnull object reference\n</code></pre>\n\n<p>This is my words.db in assets(SQL2 database) <a href=\"https://i.stack.imgur.com/istsY.jpg\" rel=\"nofollow noreferrer\">SQLSTUDIOIMAGE</a></p>\n\n<p>what i am doing wrong? Why database null? I also try method getAllWords(). and return size of list. it is 0.</p>\n"},{"tags":["java","hibernate","jpa","jakarta-ee","spring-data"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638083261,"post_id":70141309,"comment_id":123989604,"body_markdown":"So far you defined `GymService` as an interface. You don&#39;t have any implementation of that - thus: there is no bean. You need to change it into a class, then it&#39;ll start working.","body":"So far you defined <code>GymService</code> as an interface. You don&#39;t have any implementation of that - thus: there is no bean. You need to change it into a class, then it&#39;ll start working."},{"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"score":0,"creation_date":1638093619,"post_id":70141309,"comment_id":123991278,"body_markdown":"[link]https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation","body":"[link]<a href=\"https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation\" title=\"where should service annotation be kept interface or implementation\">stackoverflow.com/questions/16351780/&hellip;</a>"},{"owner":{"account_id":11567291,"reputation":61,"user_id":15132662,"display_name":"Mohamad J Alanbaki"},"score":0,"creation_date":1638100613,"post_id":70141309,"comment_id":123992721,"body_markdown":"@MirekPluta It&#39;s not working","body":"@MirekPluta It&#39;s not working"},{"owner":{"account_id":11567291,"reputation":61,"user_id":15132662,"display_name":"Mohamad J Alanbaki"},"score":0,"creation_date":1638100670,"post_id":70141309,"comment_id":123992736,"body_markdown":"@bhaskarkh I saw it and understand it","body":"@bhaskarkh I saw it and understand it"}],"answers":[{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638094955,"creation_date":1638094955,"answer_id":70142459,"question_id":70141309,"body_markdown":"[https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation][1] you must check this .Basically you need to implement **GymService** interface  and then only it will work try like this.  \r\n\r\n    @Service\r\n    public class GymServiceImpl  implements GymService{\r\n    \t\r\n    \t@Autowired\r\n    \tGymRepo gymRepo\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Gym&gt; getGyms() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn gymRepo.findAll();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Gym findGymByGymName(String gymName) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn gymRepo.findByGymName(gymName);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation","title":"Consider defining a bean of type in your configuration with my Service","body":"<p><a href=\"https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation\">Where should @Service annotation be kept? Interface or Implementation?</a> you must check this .Basically you need to implement <strong>GymService</strong> interface  and then only it will work try like this.</p>\n<pre><code>@Service\npublic class GymServiceImpl  implements GymService{\n    \n    @Autowired\n    GymRepo gymRepo\n\n    @Override\n    public List&lt;Gym&gt; getGyms() {\n        // TODO Auto-generated method stub\n        return gymRepo.findAll();\n    }\n\n    @Override\n    public Gym findGymByGymName(String gymName) {\n        // TODO Auto-generated method stub\n        return gymRepo.findByGymName(gymName);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11567291,"reputation":61,"user_id":15132662,"display_name":"Mohamad J Alanbaki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638094955,"creation_date":1638082949,"question_id":70141309,"body_markdown":"I have this situation with my code even after I added the @Component, @Service and @Repository annotation to my classes: \r\n\r\nthis is the resource for it: \r\n\r\n```\r\npackage app.gym.v1.Resource.API;\r\n\r\nimport app.gym.v1.Model.Domain.Gym;\r\nimport app.gym.v1.Service.GymService;\r\nimport app.gym.v1.Utility.Constant.SwaggerConstant;\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.annotations.ApiOperation;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.springframework.http.HttpStatus.OK;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;/gym&quot;)\r\n@Api(tags = {SwaggerConstant.API_TAG3})\r\npublic class GymControl {\r\n    private GymService gymService;\r\n\r\n    @Autowired\r\n    public GymControl(GymService gymService) {\r\n        this.gymService = gymService;\r\n    }\r\n\r\n    @ApiOperation(value = &quot;Get all available gyms&quot;, notes = &quot;Retrieve a list of all gyms&quot;)\r\n    @ApiResponses({@ApiResponse(responseCode = &quot;200&quot;, description = &quot;The list of gyms retrieved&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;The request is malformed or invalid&quot;),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;The resource URL was not found on the server&quot;),\r\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;An internal server error occurred&quot;),\r\n            @ApiResponse(responseCode = &quot;403&quot;, description = &quot;You are not authorized. Please authenticate and try again&quot;),\r\n            @ApiResponse(responseCode = &quot;401&quot;, description = &quot;You don&#39;t have permission to this resource&quot;)\r\n    })\r\n    @GetMapping(&quot;/list_gym&quot;)\r\n    public ResponseEntity&lt;List&lt;Gym&gt;&gt; getAllGyms() {\r\n        List&lt;Gym&gt; gyms = gymService.getGyms();\r\n        return new ResponseEntity&lt;&gt;(gyms, OK);\r\n    }\r\n\r\n    @ApiOperation(value = &quot;Finding gym from list&quot;, notes = &quot;Retrieve a gym from the search engine&quot;)\r\n    @ApiResponses({@ApiResponse(responseCode = &quot;200&quot;, description = &quot;The gym was found&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;The request is malformed or invalid&quot;),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;The resource URL was not found on the server&quot;),\r\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;An internal server error occurred&quot;),\r\n            @ApiResponse(responseCode = &quot;403&quot;, description = &quot;You are not authorized. Please authenticate and try again&quot;),\r\n            @ApiResponse(responseCode = &quot;401&quot;, description = &quot;You don&#39;t have permission to this resource&quot;)\r\n    })\r\n    @GetMapping(&quot;/find/{gymName}&quot;)\r\n    public ResponseEntity&lt;Gym&gt; getGym(@PathVariable(&quot;gymName&quot;) String gymName) {\r\n        Gym gym = gymService.findGymByGymName(gymName);\r\n        return new ResponseEntity&lt;&gt;(gym, OK);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nand this is the repository for it:\r\n\r\n```\r\npackage app.gym.v1.Repo;\r\n\r\nimport app.gym.v1.Model.Domain.Gym;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface GymRepo extends JpaRepository&lt;Gym, Long&gt; {\r\n\r\n    Gym findByGymName(String gymName);\r\n}\r\n\r\n```\r\n\r\nfinally this is the service for it:\r\n\r\n```\r\npackage app.gym.v1.Service;\r\n\r\nimport app.gym.v1.Model.Domain.Gym;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic interface GymService {\r\n\r\n    List&lt;Gym&gt; getGyms();\r\n\r\n    Gym findGymByGymName(String gymName);\r\n}\r\n\r\n```\r\n\r\nas you see I add all the required annotations but the same bug appear to me and keep giving me the same answer in the debugger:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in app.gym.v1.Resource.API.GymControl required a bean of type &#39;app.gym.v1.Service.GymService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;app.gym.v1.Service.GymService&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n*** I searched a lot about it and try every single answer here in StackOverFlow and every single answer in GitHub and reply a lot of books but everything like stop.","title":"Consider defining a bean of type in your configuration with my Service","body":"<p>I have this situation with my code even after I added the @Component, @Service and @Repository annotation to my classes:</p>\n<p>this is the resource for it:</p>\n<pre><code>package app.gym.v1.Resource.API;\n\nimport app.gym.v1.Model.Domain.Gym;\nimport app.gym.v1.Service.GymService;\nimport app.gym.v1.Utility.Constant.SwaggerConstant;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\nimport static org.springframework.http.HttpStatus.OK;\n\n@RestController\n@RequestMapping(path = &quot;/gym&quot;)\n@Api(tags = {SwaggerConstant.API_TAG3})\npublic class GymControl {\n    private GymService gymService;\n\n    @Autowired\n    public GymControl(GymService gymService) {\n        this.gymService = gymService;\n    }\n\n    @ApiOperation(value = &quot;Get all available gyms&quot;, notes = &quot;Retrieve a list of all gyms&quot;)\n    @ApiResponses({@ApiResponse(responseCode = &quot;200&quot;, description = &quot;The list of gyms retrieved&quot;),\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;The request is malformed or invalid&quot;),\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;The resource URL was not found on the server&quot;),\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;An internal server error occurred&quot;),\n            @ApiResponse(responseCode = &quot;403&quot;, description = &quot;You are not authorized. Please authenticate and try again&quot;),\n            @ApiResponse(responseCode = &quot;401&quot;, description = &quot;You don't have permission to this resource&quot;)\n    })\n    @GetMapping(&quot;/list_gym&quot;)\n    public ResponseEntity&lt;List&lt;Gym&gt;&gt; getAllGyms() {\n        List&lt;Gym&gt; gyms = gymService.getGyms();\n        return new ResponseEntity&lt;&gt;(gyms, OK);\n    }\n\n    @ApiOperation(value = &quot;Finding gym from list&quot;, notes = &quot;Retrieve a gym from the search engine&quot;)\n    @ApiResponses({@ApiResponse(responseCode = &quot;200&quot;, description = &quot;The gym was found&quot;),\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;The request is malformed or invalid&quot;),\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;The resource URL was not found on the server&quot;),\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;An internal server error occurred&quot;),\n            @ApiResponse(responseCode = &quot;403&quot;, description = &quot;You are not authorized. Please authenticate and try again&quot;),\n            @ApiResponse(responseCode = &quot;401&quot;, description = &quot;You don't have permission to this resource&quot;)\n    })\n    @GetMapping(&quot;/find/{gymName}&quot;)\n    public ResponseEntity&lt;Gym&gt; getGym(@PathVariable(&quot;gymName&quot;) String gymName) {\n        Gym gym = gymService.findGymByGymName(gymName);\n        return new ResponseEntity&lt;&gt;(gym, OK);\n    }\n\n}\n\n</code></pre>\n<p>and this is the repository for it:</p>\n<pre><code>package app.gym.v1.Repo;\n\nimport app.gym.v1.Model.Domain.Gym;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface GymRepo extends JpaRepository&lt;Gym, Long&gt; {\n\n    Gym findByGymName(String gymName);\n}\n\n</code></pre>\n<p>finally this is the service for it:</p>\n<pre><code>package app.gym.v1.Service;\n\nimport app.gym.v1.Model.Domain.Gym;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic interface GymService {\n\n    List&lt;Gym&gt; getGyms();\n\n    Gym findGymByGymName(String gymName);\n}\n\n</code></pre>\n<p>as you see I add all the required annotations but the same bug appear to me and keep giving me the same answer in the debugger:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in app.gym.v1.Resource.API.GymControl required a bean of type 'app.gym.v1.Service.GymService' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'app.gym.v1.Service.GymService' in your configuration.</p>\n<p>Process finished with exit code 0</p>\n<p>*** I searched a lot about it and try every single answer here in StackOverFlow and every single answer in GitHub and reply a lot of books but everything like stop.</p>\n"},{"tags":["java","android","sqlite","android-room","android-room-prepackageddatabase"],"answers":[{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614138960,"creation_date":1614138575,"answer_id":66344454,"question_id":66344349,"body_markdown":"You&#39;re using the `android.arch` dependencies from the pre-AndroidX era. Those **do not** include any new features - they are permanently stuck at the 2.0 versions, despite you giving a newer version. You need to switch to the `androidx` versions of those artifacts as per the [Room dependencies][1] and [Lifecycle dependencies][2] to actually get the newer versions.\r\n\r\n```\r\n// Room components\r\nimplementation &quot;androidx.room:runtime:$rootProject.roomVersion&quot;\r\nkapt &quot;androidx.room:compiler:$rootProject.roomVersion&quot;\r\nandroidTestImplementation &quot;androidx.room:testing:$rootProject.roomVersion&quot;\r\n\r\n//Lifecycle components\r\nimplementation &quot;androidx.lifecycle:runtime-ktx:$rootProject.archLifecycleVersion&quot;\r\nkapt &quot;androidx.lifecycle:compiler:$rootProject.archLifecycleVersion&quot;\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/room#declaring_dependencies\r\n  [2]: https://developer.android.com/jetpack/androidx/releases/lifecycle#declaring_dependencies","title":"createFromAsset() is not recognized in Android Studio","body":"<p>You're using the <code>android.arch</code> dependencies from the pre-AndroidX era. Those <strong>do not</strong> include any new features - they are permanently stuck at the 2.0 versions, despite you giving a newer version. You need to switch to the <code>androidx</code> versions of those artifacts as per the <a href=\"https://developer.android.com/jetpack/androidx/releases/room#declaring_dependencies\" rel=\"nofollow noreferrer\">Room dependencies</a> and <a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle#declaring_dependencies\" rel=\"nofollow noreferrer\">Lifecycle dependencies</a> to actually get the newer versions.</p>\n<pre><code>// Room components\nimplementation &quot;androidx.room:runtime:$rootProject.roomVersion&quot;\nkapt &quot;androidx.room:compiler:$rootProject.roomVersion&quot;\nandroidTestImplementation &quot;androidx.room:testing:$rootProject.roomVersion&quot;\n\n//Lifecycle components\nimplementation &quot;androidx.lifecycle:runtime-ktx:$rootProject.archLifecycleVersion&quot;\nkapt &quot;androidx.lifecycle:compiler:$rootProject.archLifecycleVersion&quot;\n</code></pre>\n"}],"owner":{"account_id":17305075,"reputation":13,"user_id":12533976,"display_name":"EmreR7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66344454,"answer_count":1,"score":0,"last_activity_date":1638094361,"creation_date":1614137729,"question_id":66344349,"body_markdown":"i was trying to prepopulate my Room Database but Android Studio says that it &quot;cannot resolve method &#39;createFromAsset()&#39; in &#39;Builder&#39;. I am using room version 2.2.6 and the function was implemented in version 2.2.0.\r\n\r\n    package com.example.elementsfoodapp;\r\n    import android.content.Context;\r\n    import androidx.room.Database;\r\n    import androidx.room.Room;\r\n    import androidx.room.RoomDatabase;\r\n    import androidx.sqlite.db.SupportSQLiteDatabase;\r\n\r\n    @Database(entities = {Food.class}, version = 2, exportSchema = false)\r\n    public abstract class FoodRoomDatabase extends RoomDatabase {\r\n    \r\n    public abstract FoodDao foodDao();\r\n    private static FoodRoomDatabase INSTANCE;\r\n   \r\n    public static FoodRoomDatabase getDatabase(final Context context) {\r\n        if (INSTANCE == null) {\r\n            synchronized (FoodRoomDatabase.class) {\r\n                if (INSTANCE == null) {\r\n                    // Create database here\r\n                    INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\r\n                            FoodRoomDatabase.class, &quot;food_database&quot;)\r\n                            .createFromAsset(&quot;databases/food_database&quot;)\r\n                            .build();\r\n                }\r\n            }\r\n        }\r\n        return INSTANCE;\r\n     }\r\n    }\r\n\r\ndependencies:\r\n    \r\n    dependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.3.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.3.3&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.3.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n\r\n    // Room components\r\n    implementation &quot;android.arch.persistence.room:runtime:$rootProject.roomVersion&quot;\r\n    annotationProcessor &quot;android.arch.persistence.room:compiler:$rootProject.roomVersion&quot;\r\n    androidTestImplementation &quot;android.arch.persistence.room:testing:$rootProject.roomVersion&quot;\r\n\r\n    //Lifecycle components\r\n    implementation &quot;android.arch.lifecycle:extensions:$rootProject.archLifecycleVersion&quot;\r\n    annotationProcessor &quot;android.arch.lifecycle:compiler:$rootProject.archLifecycleVersion&quot;\r\n}\r\n\r\nbuild.gradle (Project)\r\n   \r\n    ext {\r\n    roomVersion = &#39;2.2.6&#39;\r\n    archLifecycleVersion = &#39;2.2.0&#39;\r\n    }","title":"createFromAsset() is not recognized in Android Studio","body":"<p>i was trying to prepopulate my Room Database but Android Studio says that it &quot;cannot resolve method 'createFromAsset()' in 'Builder'. I am using room version 2.2.6 and the function was implemented in version 2.2.0.</p>\n<pre><code>package com.example.elementsfoodapp;\nimport android.content.Context;\nimport androidx.room.Database;\nimport androidx.room.Room;\nimport androidx.room.RoomDatabase;\nimport androidx.sqlite.db.SupportSQLiteDatabase;\n\n@Database(entities = {Food.class}, version = 2, exportSchema = false)\npublic abstract class FoodRoomDatabase extends RoomDatabase {\n\npublic abstract FoodDao foodDao();\nprivate static FoodRoomDatabase INSTANCE;\n\npublic static FoodRoomDatabase getDatabase(final Context context) {\n    if (INSTANCE == null) {\n        synchronized (FoodRoomDatabase.class) {\n            if (INSTANCE == null) {\n                // Create database here\n                INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\n                        FoodRoomDatabase.class, &quot;food_database&quot;)\n                        .createFromAsset(&quot;databases/food_database&quot;)\n                        .build();\n            }\n        }\n    }\n    return INSTANCE;\n }\n}\n</code></pre>\n<p>dependencies:</p>\n<pre><code>dependencies {\n\nimplementation 'androidx.appcompat:appcompat:1.2.0'\nimplementation 'com.google.android.material:material:1.3.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.0.4'\nimplementation 'androidx.navigation:navigation-fragment:2.3.3'\nimplementation 'androidx.navigation:navigation-ui:2.3.3'\nimplementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.3.0'\nimplementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.0'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.2'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n\n// Room components\nimplementation &quot;android.arch.persistence.room:runtime:$rootProject.roomVersion&quot;\nannotationProcessor &quot;android.arch.persistence.room:compiler:$rootProject.roomVersion&quot;\nandroidTestImplementation &quot;android.arch.persistence.room:testing:$rootProject.roomVersion&quot;\n\n//Lifecycle components\nimplementation &quot;android.arch.lifecycle:extensions:$rootProject.archLifecycleVersion&quot;\nannotationProcessor &quot;android.arch.lifecycle:compiler:$rootProject.archLifecycleVersion&quot;\n</code></pre>\n<p>}</p>\n<p>build.gradle (Project)</p>\n<pre><code>ext {\nroomVersion = '2.2.6'\narchLifecycleVersion = '2.2.0'\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631597691,"creation_date":1630672485,"answer_id":69045057,"question_id":69044862,"body_markdown":"JSch has these two `ChannelSftp.get` overloads that will help you:\r\n\r\n* [`public void get(String src, OutputStream dst)`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#get-java.lang.String-java.io.OutputStream-)\r\n* [`public InputStream get(String src)`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#get-java.lang.String-)\r\n\r\nBased on your other question (https://stackoverflow.com/q/69047080/850848), in Spring Boot, you use `HttpServletResponse` API to stream the response (file). Combined with the `ChannelSftp.get` that accepts `OutputStream`, the code can be:\r\n\r\n```\r\npublic static void sendFileInResponse(\r\n        HttpServletResponse response, ChannelSftp channelSftp)\r\n        throws IOException, SftpException {\r\n    response.setContentType(&quot;your_content_type&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=your_file_name&quot;);\r\n    channelSftp.get(&quot;/path/your_file_name&quot;, response.getOutputStream());\r\n    outputStream.close();\r\n}\r\n```\r\n\r\nThis variant with `OutputStream` API is way shorter than your version with the `channelSftp.get()` `InputStream` API.\r\n\r\n---\r\n\r\nThough after reading bit on Spring Boot, it seems that a code like above is blocking and the download on the client side will effectively start only after the SFTP download finished. And consequently the web server will have to keep whole file in memory. It seems that more efficient solution is `StreamingResponseBody`.","title":"Direct file streaming from SSH using Java","body":"<p>JSch has these two <code>ChannelSftp.get</code> overloads that will help you:</p>\n<ul>\n<li><a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#get-java.lang.String-java.io.OutputStream-\" rel=\"nofollow noreferrer\"><code>public void get(String src, OutputStream dst)</code></a></li>\n<li><a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#get-java.lang.String-\" rel=\"nofollow noreferrer\"><code>public InputStream get(String src)</code></a></li>\n</ul>\n<p>Based on your other question (<a href=\"https://stackoverflow.com/q/69047080/850848\">How to return an InputStream as a file in Spring Boot?</a>), in Spring Boot, you use <code>HttpServletResponse</code> API to stream the response (file). Combined with the <code>ChannelSftp.get</code> that accepts <code>OutputStream</code>, the code can be:</p>\n<pre><code>public static void sendFileInResponse(\n        HttpServletResponse response, ChannelSftp channelSftp)\n        throws IOException, SftpException {\n    response.setContentType(&quot;your_content_type&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=your_file_name&quot;);\n    channelSftp.get(&quot;/path/your_file_name&quot;, response.getOutputStream());\n    outputStream.close();\n}\n</code></pre>\n<p>This variant with <code>OutputStream</code> API is way shorter than your version with the <code>channelSftp.get()</code> <code>InputStream</code> API.</p>\n<hr />\n<p>Though after reading bit on Spring Boot, it seems that a code like above is blocking and the download on the client side will effectively start only after the SFTP download finished. And consequently the web server will have to keep whole file in memory. It seems that more efficient solution is <code>StreamingResponseBody</code>.</p>\n"}],"owner":{"account_id":8727670,"reputation":469,"user_id":6528839,"display_name":"MauriRamone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69045057,"answer_count":1,"score":1,"last_activity_date":1638093937,"creation_date":1630671584,"question_id":69044862,"body_markdown":"I am building an api with Java Spring Boot and what I want to do is use an endpoint to download a file. The problem is that the api accesses the file through ssh. I don&#39;t want the api to download the file and then return it, what I want is to make a direct stream from ssh to the response. Is this possible?\r\n\r\nTo connect by ssh and get the file I am using JSch.\r\nThe files I want to download can be up to 2 GB in size.\r\nThank you \r\n\r\n\r\n----------\r\nEdit:\r\nI finally did this and it worked. Many thanks to [@Martin Prikryl][1] for his help. \r\n\r\n```\r\n@RequestMapping(value = &quot;/endpoint-test/download-file-stream&quot;, method = RequestMethod.GET)\r\n@ResponseStatus(HttpStatus.OK)\r\npublic static void  sendFileInResponse (HttpServletResponse response) throws Exception {\r\n    String path_file = &quot;/opt/dir/file_test.txt&quot;; //this path is inside the remote server \r\n    ConexionJSch new_conection_to_filesystem = new ConexionJSch(); \r\n    ChannelSftp channelSftp = new_conection_to_filesystem.setupJsch();\r\n    channelSftp.connect();\r\n            \r\n    SftpATTRS data = channelSftp.lstat(path_file);\r\n    long fsize = data.getSize();\r\n    try (InputStream inputStream = channelSftp.get(path_file)){\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setContentLengthLong(fsize);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=test.bam&quot;);\r\n        OutputStream outputStream = response.getOutputStream() \r\n        byte[] buff = new byte[2048];\r\n        int length = 0;\r\n        while ((length = inputStream.read(buff)) &gt; 0) {\r\n                outputStream.write(buff, 0, length);\r\n                outputStream.flush();\r\n        }\r\n        inputStream.close();\r\n        response.setHeader(&quot;Cache-Control&quot;, &quot;private&quot;);\r\n        response.setDateHeader(&quot;Expires&quot;, 0);    \r\n    } finally{\r\n        channelSftp.exit();\r\n    }\r\n}\r\n```\r\n    \r\n    \r\n    public class ConexionJSch {\r\n        private final String remoteHost;\r\n        private final String username;\r\n        private final String password;\r\n    \r\n        public ConexionJSch() {\r\n            this.remoteHost = &quot;xxx.xxx.xxx.xxx&quot;;\r\n            this.username = &quot;user&quot;;\r\n            this.password = &quot;pass&quot;;\r\n        }\r\n        \r\n        public ChannelSftp setupJsch() throws JSchException {\r\n            JSch jsch = new JSch();\r\n            jsch.setKnownHosts(&quot;/home/ubuntu_user/.ssh/known_hosts&quot;);\r\n            Session jschSession = jsch.getSession(username, remoteHost);\r\n            jschSession.setPassword(password);\r\n            jschSession.connect();\r\n            return (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/850848/martin-prikryl","title":"Direct file streaming from SSH using Java","body":"<p>I am building an api with Java Spring Boot and what I want to do is use an endpoint to download a file. The problem is that the api accesses the file through ssh. I don't want the api to download the file and then return it, what I want is to make a direct stream from ssh to the response. Is this possible?</p>\n<p>To connect by ssh and get the file I am using JSch.\nThe files I want to download can be up to 2 GB in size.\nThank you</p>\n<hr />\n<p>Edit:\nI finally did this and it worked. Many thanks to <a href=\"https://stackoverflow.com/users/850848/martin-prikryl\">@Martin Prikryl</a> for his help.</p>\n<pre><code>@RequestMapping(value = &quot;/endpoint-test/download-file-stream&quot;, method = RequestMethod.GET)\n@ResponseStatus(HttpStatus.OK)\npublic static void  sendFileInResponse (HttpServletResponse response) throws Exception {\n    String path_file = &quot;/opt/dir/file_test.txt&quot;; //this path is inside the remote server \n    ConexionJSch new_conection_to_filesystem = new ConexionJSch(); \n    ChannelSftp channelSftp = new_conection_to_filesystem.setupJsch();\n    channelSftp.connect();\n            \n    SftpATTRS data = channelSftp.lstat(path_file);\n    long fsize = data.getSize();\n    try (InputStream inputStream = channelSftp.get(path_file)){\n        response.setContentType(&quot;application/octet-stream&quot;);\n        response.setContentLengthLong(fsize);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=test.bam&quot;);\n        OutputStream outputStream = response.getOutputStream() \n        byte[] buff = new byte[2048];\n        int length = 0;\n        while ((length = inputStream.read(buff)) &gt; 0) {\n                outputStream.write(buff, 0, length);\n                outputStream.flush();\n        }\n        inputStream.close();\n        response.setHeader(&quot;Cache-Control&quot;, &quot;private&quot;);\n        response.setDateHeader(&quot;Expires&quot;, 0);    \n    } finally{\n        channelSftp.exit();\n    }\n}\n</code></pre>\n<pre><code>public class ConexionJSch {\n    private final String remoteHost;\n    private final String username;\n    private final String password;\n\n    public ConexionJSch() {\n        this.remoteHost = &quot;xxx.xxx.xxx.xxx&quot;;\n        this.username = &quot;user&quot;;\n        this.password = &quot;pass&quot;;\n    }\n    \n    public ChannelSftp setupJsch() throws JSchException {\n        JSch jsch = new JSch();\n        jsch.setKnownHosts(&quot;/home/ubuntu_user/.ssh/known_hosts&quot;);\n        Session jschSession = jsch.getSession(username, remoteHost);\n        jschSession.setPassword(password);\n        jschSession.connect();\n        return (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":8131053,"reputation":517,"user_id":6124323,"display_name":"Mehtrick"},"score":0,"creation_date":1549670158,"post_id":54601795,"comment_id":95999840,"body_markdown":"Could you provide some examples of import errors? e.g. the packages that are marked as missing?","body":"Could you provide some examples of import errors? e.g. the packages that are marked as missing?"},{"owner":{"account_id":14477043,"reputation":75,"user_id":10457417,"display_name":"KEVIN MENDOZA"},"score":0,"creation_date":1549670715,"post_id":54601795,"comment_id":95999953,"body_markdown":"sure thing. I&#39;ll add it to my main post","body":"sure thing. I&#39;ll add it to my main post"}],"answers":[{"tags":[],"owner":{"account_id":14440328,"reputation":112,"user_id":10431161,"display_name":"David Kr&#225;sn&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549718561,"creation_date":1549718561,"answer_id":54606638,"question_id":54601795,"body_markdown":"I&#39;m not sure if this fixes your problem, but this often works for me:\r\n\r\nAdd `apply plugin: &#39;eclipse&#39;` to your build.gradle file and then execute command `gradlew cleanEclipse eclipse` in cmd. ","title":"How do I get my gradle-managed Java project in eclipse to resolve imports?","body":"<p>I'm not sure if this fixes your problem, but this often works for me:</p>\n\n<p>Add <code>apply plugin: 'eclipse'</code> to your build.gradle file and then execute command <code>gradlew cleanEclipse eclipse</code> in cmd. </p>\n"},{"tags":[],"owner":{"account_id":8813860,"reputation":21,"user_id":7101395,"display_name":"Ramiro Carvalho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638093819,"creation_date":1638093819,"answer_id":70142342,"question_id":54601795,"body_markdown":"This problem seems to be recurrent with Eclipse and I am one struggling with it.\r\nI am not experienced in the internals of eclipse/gradle/maven but the answer to [1] seems to be right because I had imported my gradle project by using the specific gradle importing option and got the problem everytime I added dependencies to build.gradle.\r\nThis time I deleted the project and imported it as a generic eclipse project by using &quot;File -&gt; Open Project from file system&quot; and the importing resolution problems seem to have subsided.\r\n\r\nI hope I am helping and not just adding to the confusion.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31126415/eclipse-and-gradle-classpath-out-of-sync-cannot-be-resolved-to-a-type","title":"How do I get my gradle-managed Java project in eclipse to resolve imports?","body":"<p>This problem seems to be recurrent with Eclipse and I am one struggling with it.\nI am not experienced in the internals of eclipse/gradle/maven but the answer to <a href=\"https://stackoverflow.com/questions/31126415/eclipse-and-gradle-classpath-out-of-sync-cannot-be-resolved-to-a-type\">1</a> seems to be right because I had imported my gradle project by using the specific gradle importing option and got the problem everytime I added dependencies to build.gradle.\nThis time I deleted the project and imported it as a generic eclipse project by using &quot;File -&gt; Open Project from file system&quot; and the importing resolution problems seem to have subsided.</p>\n<p>I hope I am helping and not just adding to the confusion.</p>\n"}],"owner":{"account_id":14477043,"reputation":75,"user_id":10457417,"display_name":"KEVIN MENDOZA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638093819,"creation_date":1549670020,"question_id":54601795,"body_markdown":"After migrating a minecraft plugin project of mine to a new workstation, the project builds (with buildship in Eclipse) but the IDE is telling me nearly every import in my projects source files can&#39;t be resolved. How do I get my project to recognize the imports?\r\n\r\nNot sure if its relevant, but the original workstation/IDE was Eclipse Oxygen.3a release (4.7.3a) running on OSX 10.13.6. My new workstation is on Windows 10 and uses the Eclipse 2018-12 (4.10.0) IDE. I have checked several stackoverflow posts for a solution to no avail, although I suspect it has something to do with the gradle configuration for my project?\r\n\r\nTwo possible complications are:\r\n- I import a shadowjar as a dependency which presumably exists in the same directory\r\n- I import some external dependencies including junit-jupyter and the spongepowered.org api\r\n\r\n\r\n\r\nHere&#39;s my build.gradle file\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;maven&#39;\r\n\r\n\r\n    group = &#39;net.kevinmendoza.sedimentarysequences&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    description = &#39;Sedimentary Sequences&#39;\r\n\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            name = &#39;sponge&#39;\r\n            url = &#39;http://repo.spongepowered.org/maven&#39;\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile &#39;org.spongepowered:spongeapi:5.0.0&#39;\r\n        compile project(&#39;:GeoWorldLibrary&#39;)\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.1.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.1.0&#39;\r\n    }\r\n\r\nand the settings.gradle file\r\n\r\n    rootProject.name = &#39;SedimentarySequences&#39;\r\n    include &#39;:GeoWorldLibrary&#39;\r\n    project(&#39;:GeoWorldLibrary&#39;).projectDir = new \r\n    File(settingsDir,&#39;../GeoWorldLibrary&#39;)\r\n\r\nWhen I right click my project and click gradle&gt;refresh dependencies, the console reports a &quot;CONFIGURE SUCCESSFUL in 0s&quot;, however the opened project in the IDE is still riddled with import errors which should be accessible from the above imports. \r\n\r\nSo, how do I go about fixing this stackoverflow?\r\n\r\nEdit:\r\nthe two types of imports not resolved errors:\r\n\r\n    the import net.&lt;myname&gt;.&lt;myownprojecwhichisadependency&gt;.mypackage.classfile cannot be resolved\r\n    the import org.spongepowered could not be resolved\r\n\r\n\r\n\r\n\r\n","title":"How do I get my gradle-managed Java project in eclipse to resolve imports?","body":"<p>After migrating a minecraft plugin project of mine to a new workstation, the project builds (with buildship in Eclipse) but the IDE is telling me nearly every import in my projects source files can't be resolved. How do I get my project to recognize the imports?</p>\n\n<p>Not sure if its relevant, but the original workstation/IDE was Eclipse Oxygen.3a release (4.7.3a) running on OSX 10.13.6. My new workstation is on Windows 10 and uses the Eclipse 2018-12 (4.10.0) IDE. I have checked several stackoverflow posts for a solution to no avail, although I suspect it has something to do with the gradle configuration for my project?</p>\n\n<p>Two possible complications are:\n- I import a shadowjar as a dependency which presumably exists in the same directory\n- I import some external dependencies including junit-jupyter and the spongepowered.org api</p>\n\n<p>Here's my build.gradle file</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'maven'\n\n\ngroup = 'net.kevinmendoza.sedimentarysequences'\nversion = '0.0.1-SNAPSHOT'\ndescription = 'Sedimentary Sequences'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ntest {\n    useJUnitPlatform()\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        name = 'sponge'\n        url = 'http://repo.spongepowered.org/maven'\n    }\n}\n\ndependencies {\n    compile 'org.spongepowered:spongeapi:5.0.0'\n    compile project(':GeoWorldLibrary')\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.1.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.1.0'\n}\n</code></pre>\n\n<p>and the settings.gradle file</p>\n\n<pre><code>rootProject.name = 'SedimentarySequences'\ninclude ':GeoWorldLibrary'\nproject(':GeoWorldLibrary').projectDir = new \nFile(settingsDir,'../GeoWorldLibrary')\n</code></pre>\n\n<p>When I right click my project and click gradle>refresh dependencies, the console reports a \"CONFIGURE SUCCESSFUL in 0s\", however the opened project in the IDE is still riddled with import errors which should be accessible from the above imports. </p>\n\n<p>So, how do I go about fixing this stackoverflow?</p>\n\n<p>Edit:\nthe two types of imports not resolved errors:</p>\n\n<pre><code>the import net.&lt;myname&gt;.&lt;myownprojecwhichisadependency&gt;.mypackage.classfile cannot be resolved\nthe import org.spongepowered could not be resolved\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":1,"creation_date":1638094084,"post_id":70138927,"comment_id":123991368,"body_markdown":"Does this answer your question? [Multiple WebSecurityConfigurerAdapter in spring boot for multiple patterns](https://stackoverflow.com/questions/59058596/multiple-websecurityconfigureradapter-in-spring-boot-for-multiple-patterns)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59058596/multiple-websecurityconfigureradapter-in-spring-boot-for-multiple-patterns\">Multiple WebSecurityConfigurerAdapter in spring boot for multiple patterns</a>"}],"answers":[{"tags":[],"owner":{"account_id":22993668,"reputation":24,"user_id":17118780,"display_name":"Grzegorz Kossakowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638093680,"creation_date":1638093680,"answer_id":70142321,"question_id":70138927,"body_markdown":"You have to choose which configuration comes first.Mark her @Order(1). Mark the second configuration @Order(2)","title":"Can I have two Spring Security configuration classes: one that protect some API with basic authentication and another protecting APIs with JWT token?","body":"<p>You have to choose which configuration comes first.Mark her @Order(1). Mark the second configuration @Order(2)</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638093680,"creation_date":1638049200,"question_id":70138927,"body_markdown":"I am working on a Spring Boot project with a particular requirement in the Spring Security configuration.\r\n\r\nBasically my Spring Boot project exposes some APIs: one of them must be protected using the **basic authentication** (username and password), the others must be protected by **JWT token authentication**.\r\n\r\n**NOTE:** why this behavior? I&#39;ll explain it briefly. At the moment I have 2 micro-services (then I will have more). The first one (this mentioned project) is intended to handle users on the database. It contains a specific controller method that take the user e-mail address (the username) and return all the user information to the other micro-service that will use these information in order to generate a JWT token. So this method is protected by **basic authentication** (so the micro-service that create the JWT token and the other that interact with the DB can communicate in a secure way using a &quot;service user credential&quot;). This project (the one on which we are speaking about that interact with the DB) will also contains some other APIs that are used from the clients so these APIs must be protected with a JWT token generated by the second micro-service.\r\n\r\nSo basically I am trying to split the Spring Security configuration using two configuration classes: \r\n\r\n1) The first configuration class protect my API intended to return the user details to the micro-service that will generate the JWT token. This behavior worked fine (I was able to call an authorization API on the microservice intended to generate the JWT token, this call the API that return the user information on this micro-service that interact with my DB and the token was correctly generated.\r\n\r\n2) The second configuration class is intended to protect all the other APIs that must be protected by a JWT token authentication (this because these are APIs called by the client to perform operation like: add a new user, change a specific user details, delete a user, list all the users, etcetc...so these are operation that can be performed by logged user with different privileges and these privileges are defined into my token).\r\n\r\nAnd here I am finding some difficulties.\r\n\r\nThis is my **SecurityConfiguration** configuration class that is intended to configure the basic authentication protecting the single API that take the username and return the user information to the other micro-service that will generate the JWT token:\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\tpublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\t\tprivate static String REALM = &quot;REAME&quot;;\r\n\r\n\t\tprivate static final String[] USER_MATCHER = { &quot;/api/user/email/**&quot;};\r\n\t\tprivate static final String[] ADMIN_MATCHER = { &quot;/api/user/email/**&quot;};\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\t\t\r\n\t\t\thttp.csrf().disable()\r\n\t\t\t\t\t   .authorizeRequests()\r\n\t\t\t\t\t   .antMatchers(USER_MATCHER).hasAnyRole(&quot;USER&quot;)\r\n\t\t\t\t\t   .antMatchers(ADMIN_MATCHER).hasAnyRole(&quot;ADMIN&quot;)\r\n\t\t\t\t\t   .antMatchers(&quot;/api/users/test&quot;).permitAll()\r\n\t\t\t\t\t   //.antMatchers(&quot;/api/users/**&quot;).permitAll()\r\n\t\t\t\t\t   .anyRequest().authenticated()\r\n\t\t\t\t\t   .and()\r\n\t\t\t\t\t   .httpBasic().realmName(REALM).authenticationEntryPoint(getBasicAuthEntryPoint()).and()\r\n\t\t\t\t\t   .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\t}\r\n\t\t\r\n\t\t@Bean\r\n\t\tpublic AuthEntryPoint getBasicAuthEntryPoint()\r\n\t\t{\r\n\t\t\treturn new AuthEntryPoint();\r\n\t\t}\r\n\r\n\t\t/* To allow Pre-flight [OPTIONS] request from browser */\r\n\t\t@Override\r\n\t\tpublic void configure(WebSecurity web) \r\n\t\t{\r\n\t\t\tweb.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic BCryptPasswordEncoder passwordEncoder()\r\n\t\t{\r\n\t\t\treturn new BCryptPasswordEncoder();\r\n\t\t};\r\n\r\n\t\t@Bean\r\n\t\t@Override\r\n\t\tpublic UserDetailsService userDetailsService()\r\n\t\t{\r\n\t\t\tUserBuilder users = User.builder();\r\n\r\n\t\t\tInMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n\r\n\t\t\tmanager.createUser(users\r\n\t\t\t\t\t.username(&quot;ReadUser&quot;)\r\n\t\t\t\t\t.password(new BCryptPasswordEncoder().encode(&quot;BimBumBam_2018&quot;))\r\n\t\t\t\t\t.roles(&quot;USER&quot;).build());\r\n\r\n\t\t\tmanager.createUser(users\r\n\t\t\t\t\t.username(&quot;Admin&quot;)\r\n\t\t\t\t\t.password(new BCryptPasswordEncoder().encode(&quot;MagicaBula_2018&quot;))\r\n\t\t\t\t\t.roles(&quot;USER&quot;, &quot;ADMIN&quot;).build());\r\n\r\n\t\t\treturn manager;\r\n\t\t}\r\n\t}\r\n\r\nAs you can see this protect with the **basic authentication** the **/api/user/email/**** endpoint. This is the endpoint that from the user e-mail (the username) return the user info to the micro-service that will generate the JWT token. It worked fine: my two micro-servics interacted correctly and the JWT token was correctly generated by the other micro-service. This was true untill I insert the second configuration class that was intended to protect all the others API by this JWT token.\r\n\r\nThis is my new **JWTWebSecurityConfig** class that is intended to protect all the other APIs of this project that interact with the database tables related to the users of my system:\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\t@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\tpublic class JWTWebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate JwtUnAuthorizedResponseAuthenticationEntryPoint jwtUnAuthorizedResponseAuthenticationEntryPoint;\r\n\t\t\r\n\t\t@Autowired\r\n\t\t@Qualifier(&quot;customUserDetailsService&quot;)\r\n\t\tprivate UserDetailsService userDetailsService;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate JwtTokenAuthorizationOncePerRequestFilter jwtAuthenticationTokenFilter;\r\n\t\t\r\n\t\t@Value(&quot;${sicurezza.uri}&quot;)\r\n\t\tprivate String authenticationPath;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception \r\n\t\t{\r\n\t\t\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoderBean());\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic PasswordEncoder passwordEncoderBean() \r\n\t\t{\r\n\t\t\treturn new BCryptPasswordEncoder();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\t@Override\r\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception \r\n\t\t{\r\n\t\t\treturn super.authenticationManagerBean();\r\n\t\t}\r\n\t\t\r\n\t\tprivate static final String[] NOAUTH_MATCHER = {&quot;/api/articoli/noauth/**&quot;};\r\n\t\tprivate static final String[] USER_MATCHER = { &quot;/api/users/jwttest&quot;};\r\n\t\tprivate static final String[] ADMIN_MATCHER = { &quot;/api/users/jwttest&quot; };\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity httpSecurity) throws Exception \r\n\t\t{\r\n\t\t\thttpSecurity.csrf().disable()\r\n\t\t\t.exceptionHandling().authenticationEntryPoint(jwtUnAuthorizedResponseAuthenticationEntryPoint)\r\n\t\t\t.and()\r\n\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t.and()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(NOAUTH_MATCHER).permitAll() //End Point che non richiede autenticazione\r\n\t\t\t.antMatchers(USER_MATCHER).hasAnyRole(&quot;USER&quot;)\r\n\t\t\t.antMatchers(ADMIN_MATCHER).hasAnyRole(&quot;ADMIN&quot;)\r\n\t\t\t.anyRequest().authenticated();\r\n\t\t\t\r\n\t\t\thttpSecurity.addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t\t\t\r\n\t\t\thttpSecurity.headers().frameOptions()\r\n\t\t\t.sameOrigin().cacheControl();  \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void configure(WebSecurity webSecurity) \r\n\t\t{\r\n\t\t\twebSecurity.ignoring()\r\n\t\t\t.antMatchers(HttpMethod.POST, authenticationPath)\r\n\t\t\t.antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\r\n\t\t\t.and().ignoring()\r\n\t\t\t.antMatchers(HttpMethod.GET, &quot;/&quot;);\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\nAs you can see at the moment it is protecting only this test API endpoint that I defined in a controller of this project **/api/users/jwttest**. So basically what I want is use the generated JWT token to interact with this JWT protected endpoint.\r\n\r\nI am not totally sure that my approach is correct. At the moment running this project (after that I inserted this second configuration class) it give me the following error at project startup:\r\n\r\n\torg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.easydefi.users.security.SecurityConfiguration$$EnhancerBySpringCGLIB$$fe033b29@3f142e87, so it cannot be used on com.easydefi.users.security.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$d9d962a3@552fffc8 too.\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\tat com.easydefi.users.GetUserWsApplication.main(GetUserWsApplication.java:10) ~[classes/:na]\r\n\tCaused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.easydefi.users.security.SecurityConfiguration$$EnhancerBySpringCGLIB$$fe033b29@3f142e87, so it cannot be used on com.easydefi.users.security.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$d9d962a3@552fffc8 too.\r\n\t\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:165) ~[spring-security-config-5.5.3.jar:5.5.3]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:724) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t\t... 17 common frames omitted\r\n\r\nIs it possible to confgure Spring Security to protect some APIs with basic authentication and some other APIs with JWT token authentication? Can this approach be considered correct? What is wrong in my code? What am I missing? How can I try to solve this error?","title":"Can I have two Spring Security configuration classes: one that protect some API with basic authentication and another protecting APIs with JWT token?","body":"<p>I am working on a Spring Boot project with a particular requirement in the Spring Security configuration.</p>\n<p>Basically my Spring Boot project exposes some APIs: one of them must be protected using the <strong>basic authentication</strong> (username and password), the others must be protected by <strong>JWT token authentication</strong>.</p>\n<p><strong>NOTE:</strong> why this behavior? I'll explain it briefly. At the moment I have 2 micro-services (then I will have more). The first one (this mentioned project) is intended to handle users on the database. It contains a specific controller method that take the user e-mail address (the username) and return all the user information to the other micro-service that will use these information in order to generate a JWT token. So this method is protected by <strong>basic authentication</strong> (so the micro-service that create the JWT token and the other that interact with the DB can communicate in a secure way using a &quot;service user credential&quot;). This project (the one on which we are speaking about that interact with the DB) will also contains some other APIs that are used from the clients so these APIs must be protected with a JWT token generated by the second micro-service.</p>\n<p>So basically I am trying to split the Spring Security configuration using two configuration classes:</p>\n<ol>\n<li><p>The first configuration class protect my API intended to return the user details to the micro-service that will generate the JWT token. This behavior worked fine (I was able to call an authorization API on the microservice intended to generate the JWT token, this call the API that return the user information on this micro-service that interact with my DB and the token was correctly generated.</p>\n</li>\n<li><p>The second configuration class is intended to protect all the other APIs that must be protected by a JWT token authentication (this because these are APIs called by the client to perform operation like: add a new user, change a specific user details, delete a user, list all the users, etcetc...so these are operation that can be performed by logged user with different privileges and these privileges are defined into my token).</p>\n</li>\n</ol>\n<p>And here I am finding some difficulties.</p>\n<p>This is my <strong>SecurityConfiguration</strong> configuration class that is intended to configure the basic authentication protecting the single API that take the username and return the user information to the other micro-service that will generate the JWT token:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    private static String REALM = &quot;REAME&quot;;\n\n    private static final String[] USER_MATCHER = { &quot;/api/user/email/**&quot;};\n    private static final String[] ADMIN_MATCHER = { &quot;/api/user/email/**&quot;};\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n            \n        http.csrf().disable()\n                   .authorizeRequests()\n                   .antMatchers(USER_MATCHER).hasAnyRole(&quot;USER&quot;)\n                   .antMatchers(ADMIN_MATCHER).hasAnyRole(&quot;ADMIN&quot;)\n                   .antMatchers(&quot;/api/users/test&quot;).permitAll()\n                   //.antMatchers(&quot;/api/users/**&quot;).permitAll()\n                   .anyRequest().authenticated()\n                   .and()\n                   .httpBasic().realmName(REALM).authenticationEntryPoint(getBasicAuthEntryPoint()).and()\n                   .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n    \n    @Bean\n    public AuthEntryPoint getBasicAuthEntryPoint()\n    {\n        return new AuthEntryPoint();\n    }\n\n    /* To allow Pre-flight [OPTIONS] request from browser */\n    @Override\n    public void configure(WebSecurity web) \n    {\n        web.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    };\n\n    @Bean\n    @Override\n    public UserDetailsService userDetailsService()\n    {\n        UserBuilder users = User.builder();\n\n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n\n        manager.createUser(users\n                .username(&quot;ReadUser&quot;)\n                .password(new BCryptPasswordEncoder().encode(&quot;BimBumBam_2018&quot;))\n                .roles(&quot;USER&quot;).build());\n\n        manager.createUser(users\n                .username(&quot;Admin&quot;)\n                .password(new BCryptPasswordEncoder().encode(&quot;MagicaBula_2018&quot;))\n                .roles(&quot;USER&quot;, &quot;ADMIN&quot;).build());\n\n        return manager;\n    }\n}\n</code></pre>\n<p>As you can see this protect with the <strong>basic authentication</strong> the <strong>/api/user/email/</strong>** endpoint. This is the endpoint that from the user e-mail (the username) return the user info to the micro-service that will generate the JWT token. It worked fine: my two micro-servics interacted correctly and the JWT token was correctly generated by the other micro-service. This was true untill I insert the second configuration class that was intended to protect all the others API by this JWT token.</p>\n<p>This is my new <strong>JWTWebSecurityConfig</strong> class that is intended to protect all the other APIs of this project that interact with the database tables related to the users of my system:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class JWTWebSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    private JwtUnAuthorizedResponseAuthenticationEntryPoint jwtUnAuthorizedResponseAuthenticationEntryPoint;\n    \n    @Autowired\n    @Qualifier(&quot;customUserDetailsService&quot;)\n    private UserDetailsService userDetailsService;\n    \n    @Autowired\n    private JwtTokenAuthorizationOncePerRequestFilter jwtAuthenticationTokenFilter;\n    \n    @Value(&quot;${sicurezza.uri}&quot;)\n    private String authenticationPath;\n    \n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception \n    {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoderBean());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoderBean() \n    {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception \n    {\n        return super.authenticationManagerBean();\n    }\n    \n    private static final String[] NOAUTH_MATCHER = {&quot;/api/articoli/noauth/**&quot;};\n    private static final String[] USER_MATCHER = { &quot;/api/users/jwttest&quot;};\n    private static final String[] ADMIN_MATCHER = { &quot;/api/users/jwttest&quot; };\n    \n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception \n    {\n        httpSecurity.csrf().disable()\n        .exceptionHandling().authenticationEntryPoint(jwtUnAuthorizedResponseAuthenticationEntryPoint)\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeRequests()\n        .antMatchers(NOAUTH_MATCHER).permitAll() //End Point che non richiede autenticazione\n        .antMatchers(USER_MATCHER).hasAnyRole(&quot;USER&quot;)\n        .antMatchers(ADMIN_MATCHER).hasAnyRole(&quot;ADMIN&quot;)\n        .anyRequest().authenticated();\n        \n        httpSecurity.addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter.class);\n        \n        httpSecurity.headers().frameOptions()\n        .sameOrigin().cacheControl();  \n        \n    }\n    \n    @Override\n    public void configure(WebSecurity webSecurity) \n    {\n        webSecurity.ignoring()\n        .antMatchers(HttpMethod.POST, authenticationPath)\n        .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\n        .and().ignoring()\n        .antMatchers(HttpMethod.GET, &quot;/&quot;);  \n    }\n    \n    \n}\n</code></pre>\n<p>As you can see at the moment it is protecting only this test API endpoint that I defined in a controller of this project <strong>/api/users/jwttest</strong>. So basically what I want is use the generated JWT token to interact with this JWT protected endpoint.</p>\n<p>I am not totally sure that my approach is correct. At the moment running this project (after that I inserted this second configuration class) it give me the following error at project startup:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.easydefi.users.security.SecurityConfiguration$$EnhancerBySpringCGLIB$$fe033b29@3f142e87, so it cannot be used on com.easydefi.users.security.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$d9d962a3@552fffc8 too.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\n    at com.easydefi.users.GetUserWsApplication.main(GetUserWsApplication.java:10) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.easydefi.users.security.SecurityConfiguration$$EnhancerBySpringCGLIB$$fe033b29@3f142e87, so it cannot be used on com.easydefi.users.security.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$d9d962a3@552fffc8 too.\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:165) ~[spring-security-config-5.5.3.jar:5.5.3]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:724) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.12.jar:5.3.12]\n    ... 17 common frames omitted\n</code></pre>\n<p>Is it possible to confgure Spring Security to protect some APIs with basic authentication and some other APIs with JWT token authentication? Can this approach be considered correct? What is wrong in my code? What am I missing? How can I try to solve this error?</p>\n"},{"tags":["java","perl"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1638090748,"post_id":70141921,"comment_id":123990711,"body_markdown":"The function uses a 16-bit counter and adds the byte values of some data.","body":"The function uses a 16-bit counter and adds the byte values of some data."},{"owner":{"account_id":1456511,"reputation":703,"user_id":1371947,"accept_rate":44,"display_name":"Mike"},"score":1,"creation_date":1638091237,"post_id":70141921,"comment_id":123990798,"body_markdown":"Thanks: Its looping throug a byte-array. But what will be summed up? $sum += $_ what is $_ for?","body":"Thanks: Its looping throug a byte-array. But what will be summed up? $sum += $_ what is $_ for?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1638091401,"post_id":70141921,"comment_id":123990834,"body_markdown":"It sums the byte values contained in the array. I&#39;m not a Perl specialist but it&#39;s rather easy to guess what the code does.","body":"It sums the byte values contained in the array. I&#39;m not a Perl specialist but it&#39;s rather easy to guess what the code does."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1638091517,"post_id":70141921,"comment_id":123990858,"body_markdown":"A quick search gives [this page](https://www.perl.com/article/perl-foreach-loops/) about the Perl `foreach` construct.","body":"A quick search gives <a href=\"https://www.perl.com/article/perl-foreach-loops/\" rel=\"nofollow noreferrer\">this page</a> about the Perl <code>foreach</code> construct."},{"owner":{"account_id":1197482,"reputation":4952,"user_id":1168884,"accept_rate":79,"display_name":"matt freake"},"score":1,"creation_date":1638091763,"post_id":70141921,"comment_id":123990904,"body_markdown":"If you run `perldoc perlvar` it explains all of Perl&#39;s special variables. $_ is Perl&#39;s implicit variable so is normally populated with &quot;the thing being processed at the moment&quot; so in this case is the value from @bytes on this iteration of the foreach loop.","body":"If you run <code>perldoc perlvar</code> it explains all of Perl&#39;s special variables. $_ is Perl&#39;s implicit variable so is normally populated with &quot;the thing being processed at the moment&quot; so in this case is the value from @bytes on this iteration of the foreach loop."}],"answers":[{"tags":[],"owner":{"account_id":2246259,"reputation":39610,"user_id":2173773,"accept_rate":86,"display_name":"H&#229;kon H&#230;gland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638093605,"creation_date":1638092041,"answer_id":70142118,"question_id":70141921,"body_markdown":"The &quot;C*&quot; means unsigned char (octet value), see [perldoc pack](https://perldoc.perl.org/functions/pack), so you could try something like this:\r\n\r\n    public class Checksum\r\n    {\r\n        public static void main(String [] args) throws Exception\r\n        {\r\n            String raw = new String(new byte[] {(byte) 0x40, (byte) 0x41});\r\n            byte[] byteArrray = raw.getBytes();\r\n            System.out.println(&quot;Result: &quot; + checksum(byteArrray));\r\n        }\r\n    \r\n        public static int checksum(byte[] arr) {\r\n            int sum = 0;\r\n            for (byte x : arr) {\r\n                sum += x;\r\n                sum %= 65536;\r\n            }\r\n            return sum;\r\n        }\r\n    }\r\n\r\n**Update**:\r\n\r\nJava does not seem to have an `unsigned byte` type, so you can use `int` to hold the bytes instead:\r\n\r\n    public class Checksum\r\n    {\r\n        public static void main(String [] args)\r\n        {\r\n            //use int instead of byte since byte is not unsigned\r\n            int[] data = new int[] {0xff, 0x1};\r\n            System.out.println(&quot;Result: &quot; + checksum(data));\r\n        }\r\n        \r\n         // assume input array &quot;arr&quot; is unsigned bytes\r\n        public static int checksum(int[] arr) {\r\n            int sum = 0;\r\n            for (int x : arr) {\r\n                // we assume input is unsigned bytes so we should not need to mask\r\n                //  with 0xFF here\r\n                int unsigned_byte = x &amp; 0xFF;\r\n                sum += unsigned_byte;\r\n                sum %= 65536;\r\n            }\r\n            return sum;\r\n        }\r\n    }\r\n\r\n","title":"Need help converting perlscript to java","body":"<p>The &quot;C*&quot; means unsigned char (octet value), see <a href=\"https://perldoc.perl.org/functions/pack\" rel=\"nofollow noreferrer\">perldoc pack</a>, so you could try something like this:</p>\n<pre><code>public class Checksum\n{\n    public static void main(String [] args) throws Exception\n    {\n        String raw = new String(new byte[] {(byte) 0x40, (byte) 0x41});\n        byte[] byteArrray = raw.getBytes();\n        System.out.println(&quot;Result: &quot; + checksum(byteArrray));\n    }\n\n    public static int checksum(byte[] arr) {\n        int sum = 0;\n        for (byte x : arr) {\n            sum += x;\n            sum %= 65536;\n        }\n        return sum;\n    }\n}\n</code></pre>\n<p><strong>Update</strong>:</p>\n<p>Java does not seem to have an <code>unsigned byte</code> type, so you can use <code>int</code> to hold the bytes instead:</p>\n<pre><code>public class Checksum\n{\n    public static void main(String [] args)\n    {\n        //use int instead of byte since byte is not unsigned\n        int[] data = new int[] {0xff, 0x1};\n        System.out.println(&quot;Result: &quot; + checksum(data));\n    }\n    \n     // assume input array &quot;arr&quot; is unsigned bytes\n    public static int checksum(int[] arr) {\n        int sum = 0;\n        for (int x : arr) {\n            // we assume input is unsigned bytes so we should not need to mask\n            //  with 0xFF here\n            int unsigned_byte = x &amp; 0xFF;\n            sum += unsigned_byte;\n            sum %= 65536;\n        }\n        return sum;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1456511,"reputation":703,"user_id":1371947,"accept_rate":44,"display_name":"Mike"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"closed_date":1638104686,"answer_count":1,"score":-5,"last_activity_date":1638093605,"creation_date":1638089966,"question_id":70141921,"body_markdown":"i need to convert this perlscript to java. But i can not read perl. Can somebdoy help me plz.\r\n\r\n    sub checksum16 ($) {\r\n    \tmy @bytes = unpack(&quot;C*&quot;, $_[0]);\r\n    \tmy $sum = 0;\r\n    \tforeach(@bytes) {\r\n    \t\t$sum += $_;\r\n    \t\t$sum %= 2**16;\r\n    \t}\r\n    \treturn $sum;\r\n    }\r\n\r\nWhat is $_ and $_[0] ? Its not defined and what is unpack(&quot;C*&quot;, ... for?\r\n\r\n","title":"Need help converting perlscript to java","body":"<p>i need to convert this perlscript to java. But i can not read perl. Can somebdoy help me plz.</p>\n<pre><code>sub checksum16 ($) {\n    my @bytes = unpack(&quot;C*&quot;, $_[0]);\n    my $sum = 0;\n    foreach(@bytes) {\n        $sum += $_;\n        $sum %= 2**16;\n    }\n    return $sum;\n}\n</code></pre>\n<p>What is $_ and $_[0] ? Its not defined and what is unpack(&quot;C*&quot;, ... for?</p>\n"},{"tags":["java","android","exoplayer","android-viewpager2"],"comments":[{"owner":{"account_id":16952754,"reputation":896,"user_id":12261890,"display_name":"Teo"},"score":0,"creation_date":1619001686,"post_id":65380457,"comment_id":118771259,"body_markdown":"Do you have any solution on this?","body":"Do you have any solution on this?"}],"answers":[{"tags":[],"owner":{"account_id":17397617,"reputation":11,"user_id":12607112,"display_name":"Ravikumar Mohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638093520,"creation_date":1638093520,"answer_id":70142304,"question_id":65380457,"body_markdown":"        @Override\r\n        public void onViewAttachedToWindow(@NonNull FootballViewHolder holder) {\r\n            super.onViewAttachedToWindow(holder);\r\n\r\n            if(holder.playerView.getPlayer() != null) {\r\n                holder.playerView.getPlayer().play();\r\n            }\r\n        }`\r\n\r\n        @Override\r\n        public void onViewDetachedFromWindow(@NonNull FootballViewHolder holder{\r\n            super.onViewDetachedFromWindow(holder);\r\n\r\n            if(holder.playerView.getPlayer() != null) {\r\n                holder.playerView.getPlayer().pause();\r\n            }\r\n        }\r\n\r\n\r\nYou need to use this inside the adapter class.","title":"How can I pause exoplayer when i swipe ViewPager2?","body":"<pre><code>    @Override\n    public void onViewAttachedToWindow(@NonNull FootballViewHolder holder) {\n        super.onViewAttachedToWindow(holder);\n\n        if(holder.playerView.getPlayer() != null) {\n            holder.playerView.getPlayer().play();\n        }\n    }`\n\n    @Override\n    public void onViewDetachedFromWindow(@NonNull FootballViewHolder holder{\n        super.onViewDetachedFromWindow(holder);\n\n        if(holder.playerView.getPlayer() != null) {\n            holder.playerView.getPlayer().pause();\n        }\n    }\n</code></pre>\n<p>You need to use this inside the adapter class.</p>\n"}],"owner":{"account_id":19993386,"reputation":21,"user_id":14653923,"display_name":"Anisa Mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638093520,"creation_date":1608471216,"question_id":65380457,"body_markdown":"I am using viewpager2 with exoplayer, videos (from firebase). When i am swiping through videos, the videos keep playing, i have to stop it myself by swiping again to the playing video and clicking on exoplayer pause button. I want the videos to stop automatically when i swipe viewpager2. \r\n\r\nHow can i stop the video onswipe? by the way, i am very new to coding in general and even on this website, so i wish to get help and not to bother anyone. \r\n\r\nThis is the class i am implementing viewpager2:\r\n\r\n    public class Dashboard extends AppCompatActivity {\r\n        private static final String TAG = &quot;Dashboard&quot;;\r\n        private static final int ACTIVITY_NUM = 0;\r\n        private static final int CAMERA_PERMISSION_REQUEST_CODE = 88888;\r\n        private Context xContext = Dashboard.this;\r\n    \r\n        int likescount;\r\n        DatabaseReference likesref;\r\n    \r\n        //uis\r\n    \r\n    \r\n        ViewPager2 viewPager2;\r\n    \r\n    \r\n        FirebaseUser firebaseUser;\r\n    \r\n        boolean flag = false;\r\n    \r\n        DatabaseReference likesrefernce = FirebaseDatabase.getInstance().getReference(&quot;likes&quot;);\r\n    \r\n        Boolean likechecker = false;\r\n    \r\n        String profileid;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.dashboard);\r\n            Log.d(TAG, &quot;onCreate: started.&quot;);\r\n    \r\n                        firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            if (firebaseUser != null) {\r\n                firebaseUser.getUid();\r\n            }\r\n    \r\n    \r\n    \r\n    \r\n            setupBottomNavigationView();\r\n            // getSupportActionBar().setTitle(&quot;Videos&quot;);\r\n    \r\n    \r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            viewPager2 = (ViewPager2) findViewById(R.id.vpager);\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n                FirebaseRecyclerOptions&lt;video&gt; options =\r\n                        new FirebaseRecyclerOptions.Builder&lt;video&gt;()\r\n                                .setQuery(FirebaseDatabase.getInstance().getReference(&quot;video&quot;), video.class)\r\n                                .build();\r\n                FirebaseRecyclerAdapter&lt;video, ViewHolder&gt; firebaseRecyclerAdapter =\r\n                        new FirebaseRecyclerAdapter&lt;video, ViewHolder&gt;(options) {\r\n                            @Override\r\n                            protected void onBindViewHolder(@NonNull ViewHolder holder, int position, @NonNull video member) {\r\n    \r\n                                SharedPreferences prefs = xContext.getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE);\r\n                                profileid = prefs.getString(&quot;profileid&quot;, &quot;none&quot;);\r\n    \r\n                                holder.setExoplayer(getApplication(), member.getName(), member.getVideourl());\r\n                                FirebaseUser user1 = FirebaseAuth.getInstance().getCurrentUser();\r\n                                assert user1 != null;\r\n                                String currentUserId = user1.getUid();\r\n                                String userId = user1.getUid();\r\n                                final String i = getRef(position).getKey();\r\n                                final String publisher = getRef(position).getKey();\r\n    \r\n                                DatabaseReference reference3 = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(member.getPublisher());\r\n                                reference3.addValueEventListener(new ValueEventListener() {\r\n                                    @Override\r\n                                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                                        if (getApplicationContext() == null) {\r\n                                            return;\r\n                                        }\r\n                                        User user3 = dataSnapshot.getValue(User.class);\r\n    \r\n                                        Glide.with(getApplicationContext()).load(user3 != null ? user3.getImageurl() : null).into(holder.image_profile);\r\n                                        holder.username.setText(user3 != null ? user3.getUsername() : null);\r\n    \r\n                                    }\r\n    \r\n                                    @Override\r\n                                    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n    \r\n                                    }\r\n                                });\r\n    \r\n    \r\n                                likesref = FirebaseDatabase.getInstance().getReference(&quot;likes&quot;);\r\n    \r\n    \r\n    \r\n                                String likes = &quot;likes&quot;;\r\n    \r\n                                likesref.addValueEventListener(new ValueEventListener() {\r\n                                    @Override\r\n                                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n    \r\n                                        if (dataSnapshot.child(i).hasChild(userId)) {\r\n                                            likescount = (int) dataSnapshot.child(i).getChildrenCount();\r\n                                            holder.lovers.setImageResource(R.drawable.ic_love2);\r\n                                            holder.lovers_text.setText(Integer.toString(likescount));\r\n                                        } else {\r\n                                            likescount = (int) dataSnapshot.child(i).getChildrenCount();\r\n                                            holder.lovers.setImageResource(R.drawable.ic_love);\r\n                                            holder.lovers_text.setText(Integer.toString(likescount));\r\n                                        }\r\n    \r\n                                    }\r\n    \r\n                                    @Override\r\n                                    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n    \r\n                                    }\r\n                                });\r\n    \r\n    \r\n                                holder.lovers.setOnClickListener(new View.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(View view) {\r\n    \r\n                                        likechecker = true;\r\n    \r\n                                        likesrefernce.addValueEventListener(new ValueEventListener() {\r\n                                            @Override\r\n                                            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n    \r\n                                                if (likechecker.equals(true)) {\r\n                                                    if (dataSnapshot.child(i).hasChild(currentUserId)) {\r\n                                                        likesrefernce.child(i).child(currentUserId).removeValue();\r\n                                                        likechecker = false;\r\n                                                    } else {\r\n                                                        likesrefernce.child(i).child(currentUserId).setValue(true);\r\n                                                        likechecker = false;\r\n                                                    }\r\n                                                }\r\n    \r\n                                            }\r\n    \r\n                                            @Override\r\n                                            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n    \r\n                                            }\r\n                                        });\r\n                                    }\r\n                                });\r\n    \r\n    \r\n                                holder.comments.setOnClickListener(new View.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(View view) {\r\n                                        Intent intent = new Intent(xContext, CommentsVideos.class);\r\n                                        intent.putExtra(&quot;i&quot;, i);\r\n                                        xContext.startActivity(intent);\r\n                                    }\r\n                                });\r\n    \r\n                                holder.comments_text.setOnClickListener(new View.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(View view) {\r\n                                        Intent intent = new Intent(xContext, CommentsVideos.class);\r\n                                        intent.putExtra(&quot;i&quot;, i);\r\n                                        xContext.startActivity(intent);\r\n                                    }\r\n                                });\r\n    \r\n                                holder.image_profile.setOnClickListener(new View.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(View view) {\r\n                                        SharedPreferences.Editor editor = xContext.getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\r\n                                        editor.putString(&quot;profileid&quot;, member.getPublisher());\r\n                                        editor.apply();\r\n                                        Intent intent = new Intent(xContext, Profile.class);\r\n                                        xContext.startActivity(intent);\r\n                                    }\r\n                                });\r\n    \r\n                                holder.Notification.setOnClickListener(new View.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(View view) {\r\n                                        Intent intent = new Intent(Dashboard.this, Notifications.class);\r\n                                        startActivity(intent);\r\n                                    }\r\n                                });\r\n    \r\n    \r\n                                holder.btFullScreen.setOnClickListener(new View.OnClickListener() {\r\n                                    @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\r\n                                    @Override\r\n                                    public void onClick(View view) {\r\n                                        //check condition\r\n                                        if (flag) {\r\n                                            //when flag is true\r\n                                            //set enter full screen image\r\n                                            //set portrait orientation\r\n                                            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_REVERSE_PORTRAIT);\r\n                                            BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottomNavViewBar);\r\n                                            bottomNavigationView.setVisibility(View.GONE);\r\n    \r\n                                            flag = false;\r\n                                        } else {\r\n                                            //when flag is false, set exit full screen image\r\n                                            holder.btFullScreen.setImageDrawable(getResources().getDrawable(R.drawable.ic_cross));\r\n                                            //set landscape orientation\r\n                                            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_REVERSE_LANDSCAPE);\r\n    \r\n                                            BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottomNavViewBar);\r\n                                            bottomNavigationView.setVisibility(View.GONE);\r\n    \r\n    \r\n                                            //set flag value is true\r\n                                            flag = true;\r\n                                        }\r\n                                    }\r\n                                });\r\n    \r\n    \r\n                            }\r\n    \r\n    \r\n                            @NonNull\r\n                            @Override\r\n                            public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                                View view = LayoutInflater.from(parent.getContext())\r\n                                        .inflate(R.layout.syco, parent, false);\r\n    \r\n                                return new ViewHolder(view);\r\n                            }\r\n                        };\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n                firebaseRecyclerAdapter.startListening();\r\n                viewPager2.setAdapter(firebaseRecyclerAdapter);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n                firebaseRecyclerAdapter.stopListening();\r\n    \r\n        }\r\n    \r\n        /**\r\n             * BottomNavigationView setup\r\n             */\r\n            private void setupBottomNavigationView () {\r\n                Log.d(TAG, &quot;setupBottomNavigationView: setting up BottomNavigationView&quot;);\r\n                BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottomNavViewBar);\r\n                BottomNavigationViewHelper.setupBottomNavigationView(bottomNavigationView);\r\n                BottomNavigationViewHelper.enableNavigation(xContext, bottomNavigationView);\r\n                Menu menu = bottomNavigationView.getMenu();\r\n                MenuItem menuItem = menu.getItem(ACTIVITY_NUM);\r\n                menuItem.setChecked(true);\r\n            }\r\n    \r\n    \r\n            @Override\r\n            protected void onResume () {\r\n                super.onResume();\r\n                checkPermission();\r\n    \r\n            }\r\n    \r\n    \r\n    \r\n            //  initializeplayer();\r\n    \r\n    \r\n            private void checkPermission () {\r\n                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\r\n                    return;\r\n                }\r\n                // request camera permission if it has not been grunted.\r\n                if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ||\r\n                        checkSelfPermission(Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED ||\r\n                        checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                ) {\r\n                    requestPermissions(new String[]{Manifest.permission.CAMERA, Manifest.permission.RECORD_AUDIO, Manifest.permission.WRITE_EXTERNAL_STORAGE}, CAMERA_PERMISSION_REQUEST_CODE);\r\n                }\r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onRequestPermissionsResult ( int requestCode, @NonNull String[] permissions,\r\n            @NonNull int[] grantResults){\r\n                switch (requestCode) {\r\n                    case CAMERA_PERMISSION_REQUEST_CODE:\r\n                        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                            Toast.makeText(Dashboard.this, &quot;permission has been grunted.&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            Toast.makeText(Dashboard.this, &quot;[WARN] permission is not grunted.&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n    }\r\n\r\nThis is viewholder:\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        private final Context context = null;\r\n        SimpleExoPlayer exoPlayer;\r\n        //Initialize variable\r\n        PlayerView playerView;\r\n        ProgressBar progressBar;\r\n    \r\n        //uis\r\n        ImageView comments, lovers, btFullScreen;\r\n        private SimpleExoPlayer player;\r\n        TextView lovers_text;\r\n        TextView comments_text;\r\n        TextView username1;\r\n        TextView rTitleTv2, Notification, Challenges, username;\r\n        CircleImageView image_profile;\r\n        private User user2 = new User();\r\n        Boolean finished;\r\n        DatabaseReference reference1;\r\n    \r\n        int likescount;\r\n        int commentscount;\r\n        DatabaseReference likesref, postref;\r\n        private ViewPager2 ViewPager2;\r\n        private OnScrollListener OnScrollListener;\r\n        MediaSource renderers;\r\n        FirebaseUser firebaseUser;\r\n        private Comment comment = new Comment();\r\n        private video video = new video();\r\n    \r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n    \r\n            //uis\r\n            image_profile = itemView.findViewById(R.id.image_profile);\r\n            username = itemView.findViewById(R.id.username);\r\n    \r\n    \r\n            comments = itemView.findViewById(R.id.comments);\r\n            comments_text = itemView.findViewById(R.id.comments_text);\r\n            rTitleTv2 = itemView.findViewById(R.id.rTitleTv2);\r\n            Notification = itemView.findViewById(R.id.Notification);\r\n            Challenges = itemView.findViewById(R.id.Challenges);\r\n            btFullScreen = itemView.findViewById(R.id.bt_fullscreen);\r\n            lovers = itemView.findViewById(R.id.lovers);\r\n            lovers_text = itemView.findViewById(R.id.lovers_text);\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        public void setExoplayer(Application application, String name, String Videourl){\r\n    \r\n            TextView textView = itemView.findViewById(R.id.rTitleTv2);\r\n            playerView = itemView.findViewById(R.id.player_view);\r\n            progressBar = itemView.findViewById(R.id.progressBar);\r\n            ImageView exo_pause = itemView.findViewById(R.id.exo_pause);\r\n            ImageView exo_play = itemView.findViewById(R.id.exo_play);\r\n            textView.setText(name);\r\n    \r\n            try {\r\n    \r\n    \r\n                //Initialize load control\r\n                LoadControl loadControl = new DefaultLoadControl();\r\n    \r\n                BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter.Builder(application).build();\r\n                TrackSelector trackSelector = new DefaultTrackSelector(new AdaptiveTrackSelection.Factory(bandwidthMeter));\r\n                exoPlayer = (SimpleExoPlayer) ExoPlayerFactory.newSimpleInstance(application);\r\n                Uri video = Uri.parse(Videourl);\r\n                DefaultHttpDataSourceFactory dataSourceFactory = new DefaultHttpDataSourceFactory(&quot;video&quot;);\r\n                ExtractorsFactory extractorsFactory = new DefaultExtractorsFactory();\r\n                MediaSource mediaSource = new ExtractorMediaSource(video,dataSourceFactory,extractorsFactory,null,null);\r\n                playerView.setPlayer(exoPlayer);\r\n                //keep screen on\r\n                playerView.setKeepScreenOn(true);\r\n                exoPlayer.prepare(mediaSource);\r\n                exoPlayer.setPlayWhenReady(true);\r\n    \r\n                // ...enable autoplay...\r\n    \r\n    \r\n            }catch (Exception e){\r\n                Log.e(&quot;ViewHolder&quot;,&quot;exoplayer error&quot;+e.toString());\r\n            }\r\n    \r\n            if (exoPlayer == null){\r\n                exo_pause.setImageDrawable(application.getResources().getDrawable(R.drawable.ic_play));\r\n    \r\n            }\r\n    \r\n    \r\n    \r\n    \r\n            exoPlayer.addListener(new Player.EventListener() {\r\n                @Override\r\n                public void onTimelineChanged(Timeline timeline, Object manifest, int reason){\r\n    \r\n                }\r\n                @Override\r\n                public void onTracksChanged(TrackGroupArray trackGroups, TrackSelectionArray trackSelections) {\r\n                }\r\n    \r\n                @Override\r\n                public void onLoadingChanged(boolean isLoading) {\r\n                    progressBar.setVisibility(isLoading ? View.VISIBLE : View.GONE);\r\n                }\r\n    \r\n                @Override\r\n                public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\r\n    \r\n                    if (playbackState == STATE_BUFFERING){\r\n                        //when buffering show progress bar\r\n                        progressBar.setVisibility(View.VISIBLE);\r\n    \r\n                    } else if (playbackState == STATE_READY){\r\n                        //when ready hide\r\n                        progressBar.setVisibility(View.GONE);\r\n                        exoPlayer.isPlaying();\r\n    \r\n                    }\r\n    \r\n                    if (playbackState == STATE_ENDED){\r\n                        //when ready hide\r\n                        exoPlayer.isPlaying();\r\n                        exoPlayer.getRepeatMode();\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onRepeatModeChanged(int repeatMode ) {\r\n                    exo_play.setOnClickListener(new OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            if (exoPlayer != null){\r\n                                exoPlayer.getRepeatMode();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n    \r\n                @Override\r\n                public void onPlayerError(ExoPlaybackException error) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onPositionDiscontinuity(int reason) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onPlaybackParametersChanged(PlaybackParameters playbackParameters) {\r\n    \r\n                }\r\n                @Override\r\n                public void onSeekProcessed(){\r\n    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"How can I pause exoplayer when i swipe ViewPager2?","body":"<p>I am using viewpager2 with exoplayer, videos (from firebase). When i am swiping through videos, the videos keep playing, i have to stop it myself by swiping again to the playing video and clicking on exoplayer pause button. I want the videos to stop automatically when i swipe viewpager2.</p>\n<p>How can i stop the video onswipe? by the way, i am very new to coding in general and even on this website, so i wish to get help and not to bother anyone.</p>\n<p>This is the class i am implementing viewpager2:</p>\n<pre><code>public class Dashboard extends AppCompatActivity {\n    private static final String TAG = &quot;Dashboard&quot;;\n    private static final int ACTIVITY_NUM = 0;\n    private static final int CAMERA_PERMISSION_REQUEST_CODE = 88888;\n    private Context xContext = Dashboard.this;\n\n    int likescount;\n    DatabaseReference likesref;\n\n    //uis\n\n\n    ViewPager2 viewPager2;\n\n\n    FirebaseUser firebaseUser;\n\n    boolean flag = false;\n\n    DatabaseReference likesrefernce = FirebaseDatabase.getInstance().getReference(&quot;likes&quot;);\n\n    Boolean likechecker = false;\n\n    String profileid;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.dashboard);\n        Log.d(TAG, &quot;onCreate: started.&quot;);\n\n                    firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        if (firebaseUser != null) {\n            firebaseUser.getUid();\n        }\n\n\n\n\n        setupBottomNavigationView();\n        // getSupportActionBar().setTitle(&quot;Videos&quot;);\n\n\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        viewPager2 = (ViewPager2) findViewById(R.id.vpager);\n\n    }\n\n\n\n            FirebaseRecyclerOptions&lt;video&gt; options =\n                    new FirebaseRecyclerOptions.Builder&lt;video&gt;()\n                            .setQuery(FirebaseDatabase.getInstance().getReference(&quot;video&quot;), video.class)\n                            .build();\n            FirebaseRecyclerAdapter&lt;video, ViewHolder&gt; firebaseRecyclerAdapter =\n                    new FirebaseRecyclerAdapter&lt;video, ViewHolder&gt;(options) {\n                        @Override\n                        protected void onBindViewHolder(@NonNull ViewHolder holder, int position, @NonNull video member) {\n\n                            SharedPreferences prefs = xContext.getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE);\n                            profileid = prefs.getString(&quot;profileid&quot;, &quot;none&quot;);\n\n                            holder.setExoplayer(getApplication(), member.getName(), member.getVideourl());\n                            FirebaseUser user1 = FirebaseAuth.getInstance().getCurrentUser();\n                            assert user1 != null;\n                            String currentUserId = user1.getUid();\n                            String userId = user1.getUid();\n                            final String i = getRef(position).getKey();\n                            final String publisher = getRef(position).getKey();\n\n                            DatabaseReference reference3 = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(member.getPublisher());\n                            reference3.addValueEventListener(new ValueEventListener() {\n                                @Override\n                                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                                    if (getApplicationContext() == null) {\n                                        return;\n                                    }\n                                    User user3 = dataSnapshot.getValue(User.class);\n\n                                    Glide.with(getApplicationContext()).load(user3 != null ? user3.getImageurl() : null).into(holder.image_profile);\n                                    holder.username.setText(user3 != null ? user3.getUsername() : null);\n\n                                }\n\n                                @Override\n                                public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                                }\n                            });\n\n\n                            likesref = FirebaseDatabase.getInstance().getReference(&quot;likes&quot;);\n\n\n\n                            String likes = &quot;likes&quot;;\n\n                            likesref.addValueEventListener(new ValueEventListener() {\n                                @Override\n                                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                                    if (dataSnapshot.child(i).hasChild(userId)) {\n                                        likescount = (int) dataSnapshot.child(i).getChildrenCount();\n                                        holder.lovers.setImageResource(R.drawable.ic_love2);\n                                        holder.lovers_text.setText(Integer.toString(likescount));\n                                    } else {\n                                        likescount = (int) dataSnapshot.child(i).getChildrenCount();\n                                        holder.lovers.setImageResource(R.drawable.ic_love);\n                                        holder.lovers_text.setText(Integer.toString(likescount));\n                                    }\n\n                                }\n\n                                @Override\n                                public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                                }\n                            });\n\n\n                            holder.lovers.setOnClickListener(new View.OnClickListener() {\n                                @Override\n                                public void onClick(View view) {\n\n                                    likechecker = true;\n\n                                    likesrefernce.addValueEventListener(new ValueEventListener() {\n                                        @Override\n                                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                                            if (likechecker.equals(true)) {\n                                                if (dataSnapshot.child(i).hasChild(currentUserId)) {\n                                                    likesrefernce.child(i).child(currentUserId).removeValue();\n                                                    likechecker = false;\n                                                } else {\n                                                    likesrefernce.child(i).child(currentUserId).setValue(true);\n                                                    likechecker = false;\n                                                }\n                                            }\n\n                                        }\n\n                                        @Override\n                                        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                                        }\n                                    });\n                                }\n                            });\n\n\n                            holder.comments.setOnClickListener(new View.OnClickListener() {\n                                @Override\n                                public void onClick(View view) {\n                                    Intent intent = new Intent(xContext, CommentsVideos.class);\n                                    intent.putExtra(&quot;i&quot;, i);\n                                    xContext.startActivity(intent);\n                                }\n                            });\n\n                            holder.comments_text.setOnClickListener(new View.OnClickListener() {\n                                @Override\n                                public void onClick(View view) {\n                                    Intent intent = new Intent(xContext, CommentsVideos.class);\n                                    intent.putExtra(&quot;i&quot;, i);\n                                    xContext.startActivity(intent);\n                                }\n                            });\n\n                            holder.image_profile.setOnClickListener(new View.OnClickListener() {\n                                @Override\n                                public void onClick(View view) {\n                                    SharedPreferences.Editor editor = xContext.getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\n                                    editor.putString(&quot;profileid&quot;, member.getPublisher());\n                                    editor.apply();\n                                    Intent intent = new Intent(xContext, Profile.class);\n                                    xContext.startActivity(intent);\n                                }\n                            });\n\n                            holder.Notification.setOnClickListener(new View.OnClickListener() {\n                                @Override\n                                public void onClick(View view) {\n                                    Intent intent = new Intent(Dashboard.this, Notifications.class);\n                                    startActivity(intent);\n                                }\n                            });\n\n\n                            holder.btFullScreen.setOnClickListener(new View.OnClickListener() {\n                                @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\n                                @Override\n                                public void onClick(View view) {\n                                    //check condition\n                                    if (flag) {\n                                        //when flag is true\n                                        //set enter full screen image\n                                        //set portrait orientation\n                                        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_REVERSE_PORTRAIT);\n                                        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottomNavViewBar);\n                                        bottomNavigationView.setVisibility(View.GONE);\n\n                                        flag = false;\n                                    } else {\n                                        //when flag is false, set exit full screen image\n                                        holder.btFullScreen.setImageDrawable(getResources().getDrawable(R.drawable.ic_cross));\n                                        //set landscape orientation\n                                        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_REVERSE_LANDSCAPE);\n\n                                        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottomNavViewBar);\n                                        bottomNavigationView.setVisibility(View.GONE);\n\n\n                                        //set flag value is true\n                                        flag = true;\n                                    }\n                                }\n                            });\n\n\n                        }\n\n\n                        @NonNull\n                        @Override\n                        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                            View view = LayoutInflater.from(parent.getContext())\n                                    .inflate(R.layout.syco, parent, false);\n\n                            return new ViewHolder(view);\n                        }\n                    };\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n            firebaseRecyclerAdapter.startListening();\n            viewPager2.setAdapter(firebaseRecyclerAdapter);\n\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n            firebaseRecyclerAdapter.stopListening();\n\n    }\n\n    /**\n         * BottomNavigationView setup\n         */\n        private void setupBottomNavigationView () {\n            Log.d(TAG, &quot;setupBottomNavigationView: setting up BottomNavigationView&quot;);\n            BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottomNavViewBar);\n            BottomNavigationViewHelper.setupBottomNavigationView(bottomNavigationView);\n            BottomNavigationViewHelper.enableNavigation(xContext, bottomNavigationView);\n            Menu menu = bottomNavigationView.getMenu();\n            MenuItem menuItem = menu.getItem(ACTIVITY_NUM);\n            menuItem.setChecked(true);\n        }\n\n\n        @Override\n        protected void onResume () {\n            super.onResume();\n            checkPermission();\n\n        }\n\n\n\n        //  initializeplayer();\n\n\n        private void checkPermission () {\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\n                return;\n            }\n            // request camera permission if it has not been grunted.\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ||\n                    checkSelfPermission(Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED ||\n                    checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n            ) {\n                requestPermissions(new String[]{Manifest.permission.CAMERA, Manifest.permission.RECORD_AUDIO, Manifest.permission.WRITE_EXTERNAL_STORAGE}, CAMERA_PERMISSION_REQUEST_CODE);\n            }\n        }\n\n\n        @Override\n        public void onRequestPermissionsResult ( int requestCode, @NonNull String[] permissions,\n        @NonNull int[] grantResults){\n            switch (requestCode) {\n                case CAMERA_PERMISSION_REQUEST_CODE:\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                        Toast.makeText(Dashboard.this, &quot;permission has been grunted.&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(Dashboard.this, &quot;[WARN] permission is not grunted.&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    break;\n            }\n        }\n}\n</code></pre>\n<p>This is viewholder:</p>\n<pre><code>public class ViewHolder extends RecyclerView.ViewHolder {\n\n    private final Context context = null;\n    SimpleExoPlayer exoPlayer;\n    //Initialize variable\n    PlayerView playerView;\n    ProgressBar progressBar;\n\n    //uis\n    ImageView comments, lovers, btFullScreen;\n    private SimpleExoPlayer player;\n    TextView lovers_text;\n    TextView comments_text;\n    TextView username1;\n    TextView rTitleTv2, Notification, Challenges, username;\n    CircleImageView image_profile;\n    private User user2 = new User();\n    Boolean finished;\n    DatabaseReference reference1;\n\n    int likescount;\n    int commentscount;\n    DatabaseReference likesref, postref;\n    private ViewPager2 ViewPager2;\n    private OnScrollListener OnScrollListener;\n    MediaSource renderers;\n    FirebaseUser firebaseUser;\n    private Comment comment = new Comment();\n    private video video = new video();\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        //uis\n        image_profile = itemView.findViewById(R.id.image_profile);\n        username = itemView.findViewById(R.id.username);\n\n\n        comments = itemView.findViewById(R.id.comments);\n        comments_text = itemView.findViewById(R.id.comments_text);\n        rTitleTv2 = itemView.findViewById(R.id.rTitleTv2);\n        Notification = itemView.findViewById(R.id.Notification);\n        Challenges = itemView.findViewById(R.id.Challenges);\n        btFullScreen = itemView.findViewById(R.id.bt_fullscreen);\n        lovers = itemView.findViewById(R.id.lovers);\n        lovers_text = itemView.findViewById(R.id.lovers_text);\n\n\n    }\n\n\n    public void setExoplayer(Application application, String name, String Videourl){\n\n        TextView textView = itemView.findViewById(R.id.rTitleTv2);\n        playerView = itemView.findViewById(R.id.player_view);\n        progressBar = itemView.findViewById(R.id.progressBar);\n        ImageView exo_pause = itemView.findViewById(R.id.exo_pause);\n        ImageView exo_play = itemView.findViewById(R.id.exo_play);\n        textView.setText(name);\n\n        try {\n\n\n            //Initialize load control\n            LoadControl loadControl = new DefaultLoadControl();\n\n            BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter.Builder(application).build();\n            TrackSelector trackSelector = new DefaultTrackSelector(new AdaptiveTrackSelection.Factory(bandwidthMeter));\n            exoPlayer = (SimpleExoPlayer) ExoPlayerFactory.newSimpleInstance(application);\n            Uri video = Uri.parse(Videourl);\n            DefaultHttpDataSourceFactory dataSourceFactory = new DefaultHttpDataSourceFactory(&quot;video&quot;);\n            ExtractorsFactory extractorsFactory = new DefaultExtractorsFactory();\n            MediaSource mediaSource = new ExtractorMediaSource(video,dataSourceFactory,extractorsFactory,null,null);\n            playerView.setPlayer(exoPlayer);\n            //keep screen on\n            playerView.setKeepScreenOn(true);\n            exoPlayer.prepare(mediaSource);\n            exoPlayer.setPlayWhenReady(true);\n\n            // ...enable autoplay...\n\n\n        }catch (Exception e){\n            Log.e(&quot;ViewHolder&quot;,&quot;exoplayer error&quot;+e.toString());\n        }\n\n        if (exoPlayer == null){\n            exo_pause.setImageDrawable(application.getResources().getDrawable(R.drawable.ic_play));\n\n        }\n\n\n\n\n        exoPlayer.addListener(new Player.EventListener() {\n            @Override\n            public void onTimelineChanged(Timeline timeline, Object manifest, int reason){\n\n            }\n            @Override\n            public void onTracksChanged(TrackGroupArray trackGroups, TrackSelectionArray trackSelections) {\n            }\n\n            @Override\n            public void onLoadingChanged(boolean isLoading) {\n                progressBar.setVisibility(isLoading ? View.VISIBLE : View.GONE);\n            }\n\n            @Override\n            public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\n\n                if (playbackState == STATE_BUFFERING){\n                    //when buffering show progress bar\n                    progressBar.setVisibility(View.VISIBLE);\n\n                } else if (playbackState == STATE_READY){\n                    //when ready hide\n                    progressBar.setVisibility(View.GONE);\n                    exoPlayer.isPlaying();\n\n                }\n\n                if (playbackState == STATE_ENDED){\n                    //when ready hide\n                    exoPlayer.isPlaying();\n                    exoPlayer.getRepeatMode();\n\n                }\n\n            }\n\n            @Override\n            public void onRepeatModeChanged(int repeatMode ) {\n                exo_play.setOnClickListener(new OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        if (exoPlayer != null){\n                            exoPlayer.getRepeatMode();\n                        }\n                    }\n                });\n            }\n\n            @Override\n            public void onPlayerError(ExoPlaybackException error) {\n\n            }\n\n            @Override\n            public void onPositionDiscontinuity(int reason) {\n\n            }\n\n            @Override\n            public void onPlaybackParametersChanged(PlaybackParameters playbackParameters) {\n\n            }\n            @Override\n            public void onSeekProcessed(){\n\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android","exoplayer"],"comments":[{"owner":{"account_id":13962640,"reputation":723,"user_id":10086742,"display_name":"mahdi"},"score":0,"creation_date":1639206639,"post_id":66403371,"comment_id":124293989,"body_markdown":"There is an [open issue](https://github.com/google/ExoPlayer/issues/1649) in exoplayer github about your question. It seems that it&#39;s not possible to achieve this functionality right now.","body":"There is an <a href=\"https://github.com/google/ExoPlayer/issues/1649\" rel=\"nofollow noreferrer\">open issue</a> in exoplayer github about your question. It seems that it&#39;s not possible to achieve this functionality right now."}],"owner":{"account_id":18274663,"reputation":159,"user_id":13304717,"display_name":"No NAME"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638093253,"creation_date":1614459246,"question_id":66403371,"body_markdown":"I want add subtitle to video when playing\r\n\r\nThis code add subtitle before play video:\r\n\r\n    Format textFormat = Format.createTextSampleFormat(null, MimeTypes.APPLICATION_SUBRIP, null, Format.NO_VALUE, Format.NO_VALUE, &quot;en&quot;, null, Format.OFFSET_SAMPLE_RELATIVE);\r\n    MediaSource textMediaSource = new SingleSampleMediaSource.Factory(selectedfile)\r\n                        .createMediaSource(selectedfile, textFormat, C.TIME_UNSET);\r\n    MergingMediaSource mediaSource = new MergingMediaSource(videoSource, textMediaSource);\r\n    player.prepare(mediaSource, false, false);\r\n\r\nHow can I add subtitle when video playing like VLC or KMPlayer?","title":"android exoplayer2 add subtitle when video playing","body":"<p>I want add subtitle to video when playing</p>\n<p>This code add subtitle before play video:</p>\n<pre><code>Format textFormat = Format.createTextSampleFormat(null, MimeTypes.APPLICATION_SUBRIP, null, Format.NO_VALUE, Format.NO_VALUE, &quot;en&quot;, null, Format.OFFSET_SAMPLE_RELATIVE);\nMediaSource textMediaSource = new SingleSampleMediaSource.Factory(selectedfile)\n                    .createMediaSource(selectedfile, textFormat, C.TIME_UNSET);\nMergingMediaSource mediaSource = new MergingMediaSource(videoSource, textMediaSource);\nplayer.prepare(mediaSource, false, false);\n</code></pre>\n<p>How can I add subtitle when video playing like VLC or KMPlayer?</p>\n"},{"tags":["java","math","geometry","trigonometry"],"comments":[{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1638095273,"post_id":70141774,"comment_id":123991591,"body_markdown":"see [Generate a &quot;pieslice&quot; in C](https://stackoverflow.com/a/58246614/2521214)","body":"see <a href=\"https://stackoverflow.com/a/58246614/2521214\">Generate a &quot;pieslice&quot; in C</a>"}],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638092984,"creation_date":1638092622,"answer_id":70142191,"question_id":70141774,"body_markdown":"To get sector, you need to get angle relative to point center. \r\n\r\nPseudocode (I am not sure how math functions and rounding look in Java):\r\n\r\n    double angle = math.atan2(mouse.y-center.y, mouse.x-center.x);\r\n    angle = angle - math.pi / 16.0;\r\n    while (angle &lt; 0) {\r\n       angle = angle + 2*math.pi;\r\n    }\r\n    sector = math.floor(angle * 8.0 / math.pi);\r\nI made correction by half-sector becouse your first sector is centered around OX axis.","title":"How to calculate which sector of a circle a given point is with custom sectors?","body":"<p>To get sector, you need to get angle relative to point center.</p>\n<p>Pseudocode (I am not sure how math functions and rounding look in Java):</p>\n<pre><code>double angle = math.atan2(mouse.y-center.y, mouse.x-center.x);\nangle = angle - math.pi / 16.0;\nwhile (angle &lt; 0) {\n   angle = angle + 2*math.pi;\n}\nsector = math.floor(angle * 8.0 / math.pi);\n</code></pre>\n<p>I made correction by half-sector becouse your first sector is centered around OX axis.</p>\n"}],"owner":{"account_id":18032494,"reputation":11,"user_id":13106690,"display_name":"duffin01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70142191,"answer_count":1,"score":1,"last_activity_date":1638092984,"creation_date":1638088342,"question_id":70141774,"body_markdown":"So I&#39;m making a TD game where I can place a gatling gun, and depending on which sector of a surrounding circle the mouse is in, the sprite and bullet path will change.\r\n\r\nMy difficulty is with creating an algorithm which will tell me which sector my mouse is in. \r\n\r\nMy circle has 16 sectors, and a radius of 300. Each arc has a length of 117.81.\r\n Extending from (300,300), I have an exact list of all the coordinates of the lines, so I am able to currently draw the sector like this:\r\n[Circle][1]\r\n\r\nI&#39;m using a mouse listener to detect the coordinates of my mouse whenever my mouse moves, so I have a &quot;currentPoint&quot; to check within which sector it&#39;s in.\r\nBased on this information, ***can anyone think of an easy way to simply return an integer of which sector the mouse is currently inside?*** Preferably somewhat efficiently.\r\n\r\nThese are the two ways I&#39;m thinking about how it would look:\r\n[Two_Ideas][2]\r\n\r\nAnd I did look at this StackOverflow which seemed like a similar problem: https://stackoverflow.com/questions/13652518/efficiently-find-points-inside-a-circle-sector\r\nAnd I implemented it with Java, but it doesn&#39;t seem to translate without having Vectors and I&#39;m a bit too confused about the math to make it work.\r\n\r\nBeen trying to figure this out for a while, I would love any help with an implementation of any kind, (don&#39;t mind adding Trig calculations), along with any help understanding the problem.\r\nThank you!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q9vuq.png\r\n  [2]: https://i.stack.imgur.com/gYGlW.png","title":"How to calculate which sector of a circle a given point is with custom sectors?","body":"<p>So I'm making a TD game where I can place a gatling gun, and depending on which sector of a surrounding circle the mouse is in, the sprite and bullet path will change.</p>\n<p>My difficulty is with creating an algorithm which will tell me which sector my mouse is in.</p>\n<p>My circle has 16 sectors, and a radius of 300. Each arc has a length of 117.81.\nExtending from (300,300), I have an exact list of all the coordinates of the lines, so I am able to currently draw the sector like this:\n<a href=\"https://i.stack.imgur.com/Q9vuq.png\" rel=\"nofollow noreferrer\">Circle</a></p>\n<p>I'm using a mouse listener to detect the coordinates of my mouse whenever my mouse moves, so I have a &quot;currentPoint&quot; to check within which sector it's in.\nBased on this information, <em><strong>can anyone think of an easy way to simply return an integer of which sector the mouse is currently inside?</strong></em> Preferably somewhat efficiently.</p>\n<p>These are the two ways I'm thinking about how it would look:\n<a href=\"https://i.stack.imgur.com/gYGlW.png\" rel=\"nofollow noreferrer\">Two_Ideas</a></p>\n<p>And I did look at this StackOverflow which seemed like a similar problem: <a href=\"https://stackoverflow.com/questions/13652518/efficiently-find-points-inside-a-circle-sector\">Efficiently find points inside a circle sector</a>\nAnd I implemented it with Java, but it doesn't seem to translate without having Vectors and I'm a bit too confused about the math to make it work.</p>\n<p>Been trying to figure this out for a while, I would love any help with an implementation of any kind, (don't mind adding Trig calculations), along with any help understanding the problem.\nThank you!!</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1453566475,"creation_date":1453481693,"answer_id":34952000,"question_id":34951894,"body_markdown":"No, there is no syntax to reference that class. You can access it using Class.forName(). For example, if the file is called &quot;Hello.kt&quot; and is located in the package &quot;demo&quot;, you can obtain the class by calling `Class.forName(&quot;demo.HelloKt&quot;)`.","title":"Is there a way to reference the Java class for a Kotlin top-level function?","body":"<p>No, there is no syntax to reference that class. You can access it using Class.forName(). For example, if the file is called \"Hello.kt\" and is located in the package \"demo\", you can obtain the class by calling <code>Class.forName(\"demo.HelloKt\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1453482234,"creation_date":1453482234,"answer_id":34952185,"question_id":34951894,"body_markdown":"In the absence of a way to get a reference directly, I&#39;ve fallen back on creating an anonymous object in the current package\r\n\r\n    val myThing = object: Any() {}.javaClass.getResourceAsStream(...)","title":"Is there a way to reference the Java class for a Kotlin top-level function?","body":"<p>In the absence of a way to get a reference directly, I've fallen back on creating an anonymous object in the current package</p>\n\n<pre><code>val myThing = object: Any() {}.javaClass.getResourceAsStream(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144386,"reputation":28752,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499253018,"creation_date":1499253018,"answer_id":44924615,"question_id":34951894,"body_markdown":"As linters like [detekt](https://github.com/arturbosch/detekt) would flag anonymous classes as `EmptyClassBlock` you could also use something like\r\n\r\n    internal object Resources\r\n\r\n    fun resourceStream(name: String): InputStream {\r\n        return Resources.javaClass.getResourceAsStream(name)\r\n    }\r\n","title":"Is there a way to reference the Java class for a Kotlin top-level function?","body":"<p>As linters like <a href=\"https://github.com/arturbosch/detekt\" rel=\"nofollow noreferrer\">detekt</a> would flag anonymous classes as <code>EmptyClassBlock</code> you could also use something like</p>\n\n<pre><code>internal object Resources\n\nfun resourceStream(name: String): InputStream {\n    return Resources.javaClass.getResourceAsStream(name)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2527365,"reputation":142491,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1638091837,"creation_date":1503236837,"answer_id":45782816,"question_id":34951894,"body_markdown":"Another way I found is to declare a local class or an anonymous object inside a top level function and to get its `enclosingClass`:\r\n\r\n    val topLevelClass = object{}.javaClass.enclosingClass\r\n    \r\n&lt;sup&gt;Note: to work, this declaration should be placed on top level or inside a top-level function.&lt;/sup&gt;\r\n\r\nThen you can use the `topLevelClass` as a `Class&lt;out Any&gt;`:\r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n        println(topLevelClass) // class MyFileNameKt\r\n    }","title":"Is there a way to reference the Java class for a Kotlin top-level function?","body":"<p>Another way I found is to declare a local class or an anonymous object inside a top level function and to get its <code>enclosingClass</code>:</p>\n<pre><code>val topLevelClass = object{}.javaClass.enclosingClass\n</code></pre>\n<p><sup>Note: to work, this declaration should be placed on top level or inside a top-level function.</sup></p>\n<p>Then you can use the <code>topLevelClass</code> as a <code>Class&lt;out Any&gt;</code>:</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(topLevelClass) // class MyFileNameKt\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9442961,"reputation":211,"user_id":7022754,"display_name":"hunterwb"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1510386072,"creation_date":1510386072,"answer_id":47235611,"question_id":34951894,"body_markdown":"With Java 7 you can get a reference to the current Java class from a top level function using \r\n\r\n    MethodHandles.lookup().lookupClass()\r\n\r\n","title":"Is there a way to reference the Java class for a Kotlin top-level function?","body":"<p>With Java 7 you can get a reference to the current Java class from a top level function using </p>\n\n<pre><code>MethodHandles.lookup().lookupClass()\n</code></pre>\n"}],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4346,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":45782816,"answer_count":5,"score":30,"last_activity_date":1638091837,"creation_date":1453481394,"question_id":34951894,"body_markdown":"I want to load a resource in a top level function using `Class.getResourceAsStream()`.\r\n\r\nIs there any way to get a reference to the class that the top level function will be compiled into so that I can write, for example\r\n\r\n    val myThing = readFromStream(MYCLASS.getResourceAsStream(...))","title":"Is there a way to reference the Java class for a Kotlin top-level function?","body":"<p>I want to load a resource in a top level function using <code>Class.getResourceAsStream()</code>.</p>\n\n<p>Is there any way to get a reference to the class that the top level function will be compiled into so that I can write, for example</p>\n\n<pre><code>val myThing = readFromStream(MYCLASS.getResourceAsStream(...))\n</code></pre>\n"},{"tags":["java","eclipse","java-11","adoptopenjdk","java-17"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638087256,"post_id":70141640,"comment_id":123990175,"body_markdown":"There is nothing missing. Java is backward compatible.","body":"There is nothing missing. Java is backward compatible."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1638090305,"post_id":70141640,"comment_id":123990657,"body_markdown":"See https://javaalmanac.io/jdk/17/apidiff/11/ In addition, when using reflection, Java 17 is more restrictive than Java 16 which is more restrictive than Java 15.","body":"See <a href=\"https://javaalmanac.io/jdk/17/apidiff/11/\" rel=\"nofollow noreferrer\">javaalmanac.io/jdk/17/apidiff/11</a> In addition, when using reflection, Java 17 is more restrictive than Java 16 which is more restrictive than Java 15."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":4,"creation_date":1638090532,"post_id":70141640,"comment_id":123990685,"body_markdown":"@MirekPluta Unfortunately, this is no longer true since Java 9. A couple of things has been first deprecated and then removed from the system library, and newer versions have become more restrictive in terms of encapsulation.","body":"@MirekPluta Unfortunately, this is no longer true since Java 9. A couple of things has been first deprecated and then removed from the system library, and newer versions have become more restrictive in terms of encapsulation."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638091245,"creation_date":1638090937,"answer_id":70142014,"question_id":70141640,"body_markdown":"[The Java Version Almanac **javaalmanac.io**][1] provides comparisons between different Java versions of the things that have been added or removed to the **system library**: see [**Java 17 vs. Java 11**][2].\r\n\r\nSee also the **release notes** of removed features and options of Java 12 to 17:\r\n\r\n - [Java 12 - Removed Features and Options][3]\r\n - [Java 13 - Removed Features and Options][4]\r\n - [Java 14 - Removed Features and Options][5]\r\n - [Java 15 - Removed Features and Options][6]\r\n - [Java 16 - Removed Features and Options][7]\r\n - [Java 17 - Removed Features and Options][8]\r\n\r\nPlease also note the **Strongly Encapsulate JDK Internals** ([JEP 396][10] and [JEP 403][9]): when using reflection, Java 17 is more restrictive than Java 11.\r\n\r\n\r\n  [1]: https://javaalmanac.io\r\n  [2]: https://javaalmanac.io/jdk/17/apidiff/11/\r\n  [3]: https://www.oracle.com/java/technologies/javase/12-relnote-issues.html#Removed\r\n  [4]: https://www.oracle.com/java/technologies/javase/13-relnote-issues.html#Removed\r\n  [5]: https://www.oracle.com/java/technologies/javase/14-relnote-issues.html#Removed\r\n  [6]: https://www.oracle.com/java/technologies/javase/15-relnote-issues.html#Removed\r\n  [7]: https://www.oracle.com/java/technologies/javase/16-relnote-issues.html#Removed\r\n  [8]: https://www.oracle.com/java/technologies/javase/17-relnote-issues.html#Removed\r\n  [9]: https://openjdk.java.net/jeps/403\r\n  [10]: https://openjdk.java.net/jeps/396","title":"Differences of components missing from OpenJDK-17 (Eclipse Temurin) which was present in OracleJDK-11","body":"<p><a href=\"https://javaalmanac.io\" rel=\"nofollow noreferrer\">The Java Version Almanac <strong>javaalmanac.io</strong></a> provides comparisons between different Java versions of the things that have been added or removed to the <strong>system library</strong>: see <a href=\"https://javaalmanac.io/jdk/17/apidiff/11/\" rel=\"nofollow noreferrer\"><strong>Java 17 vs. Java 11</strong></a>.</p>\n<p>See also the <strong>release notes</strong> of removed features and options of Java 12 to 17:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/12-relnote-issues.html#Removed\" rel=\"nofollow noreferrer\">Java 12 - Removed Features and Options</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/13-relnote-issues.html#Removed\" rel=\"nofollow noreferrer\">Java 13 - Removed Features and Options</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/14-relnote-issues.html#Removed\" rel=\"nofollow noreferrer\">Java 14 - Removed Features and Options</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/15-relnote-issues.html#Removed\" rel=\"nofollow noreferrer\">Java 15 - Removed Features and Options</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/16-relnote-issues.html#Removed\" rel=\"nofollow noreferrer\">Java 16 - Removed Features and Options</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/17-relnote-issues.html#Removed\" rel=\"nofollow noreferrer\">Java 17 - Removed Features and Options</a></li>\n</ul>\n<p>Please also note the <strong>Strongly Encapsulate JDK Internals</strong> (<a href=\"https://openjdk.java.net/jeps/396\" rel=\"nofollow noreferrer\">JEP 396</a> and <a href=\"https://openjdk.java.net/jeps/403\" rel=\"nofollow noreferrer\">JEP 403</a>): when using reflection, Java 17 is more restrictive than Java 11.</p>\n"}],"owner":{"account_id":19291472,"reputation":39,"user_id":14101377,"display_name":"Niwedita Rani"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":8,"up_vote_count":2,"closed_date":1638091633,"answer_count":1,"score":-6,"last_activity_date":1638091245,"creation_date":1638087000,"question_id":70141640,"body_markdown":"Please help me to know the key differences of components missing from OpenJDK-17 (Eclipse Temurin) which was present in OracleJDK-11.","title":"Differences of components missing from OpenJDK-17 (Eclipse Temurin) which was present in OracleJDK-11","body":"<p>Please help me to know the key differences of components missing from OpenJDK-17 (Eclipse Temurin) which was present in OracleJDK-11.</p>\n"},{"tags":["java","servlets","cookies"],"comments":[{"owner":{"account_id":1645895,"reputation":5799,"user_id":1517453,"display_name":"Pradeep Pati"},"score":1,"creation_date":1349353430,"post_id":12727199,"comment_id":17188955,"body_markdown":"AFAIK, this should be possible.","body":"AFAIK, this should be possible."}],"answers":[{"tags":[],"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1349354355,"creation_date":1349354355,"answer_id":12727509,"question_id":12727199,"body_markdown":"I think @galuano1 is right: this should indeed be possible. Make sure the *path* is correct, though. It is used to determine whether a certain cookie is visible to a web-application.\r\n\r\nFrom the [Cookie Javadoc](http://docs.oracle.com/javaee/6/api/javax/servlet/http/Cookie.html):\r\n\r\n&gt; The cookie is visible to all the pages in the directory you specify, and all the pages in that directory&#39;s subdirectories. A cookie&#39;s path must include the servlet that set the cookie, for example, */catalog*, which makes the cookie visible to all directories on the server under */catalog*. \r\n&gt; \r\n&gt; Consult RFC 2109 (available on the Internet) for more information on setting path names for cookies. \r\n\r\nI&#39;d say you should use `/` for directory, since both applications will have a different context root.","title":"Write and Read Cookies in different Applications","body":"<p>I think @galuano1 is right: this should indeed be possible. Make sure the <em>path</em> is correct, though. It is used to determine whether a certain cookie is visible to a web-application.</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/Cookie.html\" rel=\"nofollow\">Cookie Javadoc</a>:</p>\n\n<blockquote>\n  <p>The cookie is visible to all the pages in the directory you specify, and all the pages in that directory's subdirectories. A cookie's path must include the servlet that set the cookie, for example, <em>/catalog</em>, which makes the cookie visible to all directories on the server under <em>/catalog</em>. </p>\n  \n  <p>Consult RFC 2109 (available on the Internet) for more information on setting path names for cookies. </p>\n</blockquote>\n\n<p>I'd say you should use <code>/</code> for directory, since both applications will have a different context root.</p>\n"},{"tags":[],"owner":{"account_id":362236,"reputation":158,"user_id":705315,"display_name":"ranjit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349354475,"creation_date":1349354475,"answer_id":12727540,"question_id":12727199,"body_markdown":"As long as the domain specified in the cookie is same ( here localhost ) , cookie can be read by the two different applications","title":"Write and Read Cookies in different Applications","body":"<p>As long as the domain specified in the cookie is same ( here localhost ) , cookie can be read by the two different applications</p>\n"},{"tags":[],"owner":{"account_id":352004,"reputation":3541,"user_id":688846,"accept_rate":67,"display_name":"Giuseppe Di Federico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638090982,"creation_date":1638090982,"answer_id":70142021,"question_id":12727199,"body_markdown":"It is true: cookie can thoerically be read by the application if it comes from the same domain. This mean that the application has it available, it doesn&#39;t imply the application has available the secrets needed to interpret it&lt;br&gt;&lt;br&gt;\r\nThe problem here may not be related to the theorical part but on the technology part: if the cookie is not in clear text (as it should be) it requires to be opened by the target application who needs to read the content&lt;br&gt;&lt;br&gt;\r\nThis usually comes out of the box if the application which forge the cookie is the same application that needs to read it. &lt;br&gt;\r\nBut if it is forged by an application 1 and needs to be decrypted by an application 2, you need to ensure this command you used:\r\n\r\n    Cookie cookie = new Cookie(&quot;cookie&quot;, &quot;cookieValue&quot;);\r\n\r\ndoesn&#39;t use any application specific secret to encrypt the cookie, otherwise it can never be opened by a different application. &lt;br&gt;\r\nOf course the answer may change according the technology you are using, don&#39;t know the behaviour in Java, I am aware many technologies to use machine based secrets to encrpyt and sign the cookie.","title":"Write and Read Cookies in different Applications","body":"<p>It is true: cookie can thoerically be read by the application if it comes from the same domain. This mean that the application has it available, it doesn't imply the application has available the secrets needed to interpret it<br><br>\nThe problem here may not be related to the theorical part but on the technology part: if the cookie is not in clear text (as it should be) it requires to be opened by the target application who needs to read the content<br><br>\nThis usually comes out of the box if the application which forge the cookie is the same application that needs to read it. <br>\nBut if it is forged by an application 1 and needs to be decrypted by an application 2, you need to ensure this command you used:</p>\n<pre><code>Cookie cookie = new Cookie(&quot;cookie&quot;, &quot;cookieValue&quot;);\n</code></pre>\n<p>doesn't use any application specific secret to encrypt the cookie, otherwise it can never be opened by a different application. <br>\nOf course the answer may change according the technology you are using, don't know the behaviour in Java, I am aware many technologies to use machine based secrets to encrpyt and sign the cookie.</p>\n"}],"owner":{"account_id":1356107,"reputation":752,"user_id":1294464,"accept_rate":82,"display_name":"Lucas Merencia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12727509,"answer_count":3,"score":2,"last_activity_date":1638090982,"creation_date":1349353340,"question_id":12727199,"body_markdown":"I have two applications running in Jboss, can I write a cookie in a application and read in another?\r\n\r\nFor example, if I have two Servlets:\r\n - WriterCookieServlet on localhost:8080/Application1\r\n - ReaderCookieServlet on localhost:8080/Application2\r\n\r\nWriterCookieServlet:\r\n\r\n     Cookie cookie = new Cookie(&quot;cookie&quot;, &quot;cookieValue&quot;);\r\n     response.addCookie(cookie);\r\n     response.sendRedirect(&quot;localhost:8080/Application2&quot;);\r\n\r\nThen on ReaderCookieServlet I want read this cookie.\r\n\r\n","title":"Write and Read Cookies in different Applications","body":"<p>I have two applications running in Jboss, can I write a cookie in a application and read in another?</p>\n\n<p>For example, if I have two Servlets:\n - WriterCookieServlet on localhost:8080/Application1\n - ReaderCookieServlet on localhost:8080/Application2</p>\n\n<p>WriterCookieServlet:</p>\n\n<pre><code> Cookie cookie = new Cookie(\"cookie\", \"cookieValue\");\n response.addCookie(cookie);\n response.sendRedirect(\"localhost:8080/Application2\");\n</code></pre>\n\n<p>Then on ReaderCookieServlet I want read this cookie.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":1,"creation_date":1638080348,"post_id":70141109,"comment_id":123989227,"body_markdown":"Please edit your question to share the code you&#39;ve written so far in attempt to solve this problem, and point out the part that isn&#39;t working or that you&#39;re stuck on,","body":"Please edit your question to share the code you&#39;ve written so far in attempt to solve this problem, and point out the part that isn&#39;t working or that you&#39;re stuck on,"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1638081224,"post_id":70141109,"comment_id":123989322,"body_markdown":"```[1,2,2,1]```  =&gt; ```[1,2,2],[1]``` or ```[1,2][2,1]``` or ```[1,2][2,2][2,1]```?","body":"<code>[1,2,2,1]</code>  =&gt; <code>[1,2,2],[1]</code> or <code>[1,2][2,1]</code> or <code>[1,2][2,2][2,1]</code>?"},{"owner":{"account_id":1361052,"reputation":3517,"user_id":1298426,"accept_rate":52,"display_name":"user1298426"},"score":0,"creation_date":1638081410,"post_id":70141109,"comment_id":123989339,"body_markdown":"@zysaaa [1,2][2,2][2,1]","body":"@zysaaa [1,2][2,2][2,1]"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638081473,"post_id":70141109,"comment_id":123989349,"body_markdown":"Edit your question and add your attempt in solving this and explain where you are stuck. SO is not a code writing service for your needs/requirements","body":"Edit your question and add your attempt in solving this and explain where you are stuck. SO is not a code writing service for your needs/requirements"}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638083714,"creation_date":1638083400,"answer_id":70141358,"question_id":70141109,"body_markdown":"Here&#39;s something that may help. Explanations have been added as comments at important places.\r\n\r\nThe crucial component is the simple `enum Direction`. I have assumed &quot;equals&quot; also apart from &quot;ascending&quot; and &quot;descending&quot;. If that is not required, then include the equals check in `Direction.ASC` or `Direction.DESC` depending upon your choice.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.function.BiPredicate;\r\n\r\npublic class SortedSubLists{\r\n\tpublic static void main( String[] args ){\r\n\t\tList&lt;List&lt;Integer&gt;&gt; testData = Arrays.asList( \r\n\t\t\tArrays.asList( 1,2,3,4,8,7,5,6 ),\r\n\t\t\tArrays.asList( 8,7,8,9 ),\r\n\t\t\tArrays.asList( 1,2,2,1 )\r\n\t\t);\r\n\t\t\r\n\t\tfor( List&lt;Integer&gt; input : testData ) {\r\n\t\t\tList&lt;List&lt;Integer&gt;&gt; subLists = split( input );\r\n\t\t\t\r\n\t\t\tSystem.out.println( &quot;\\r\\nInput: &quot; + input );\r\n\t\t\tfor( List&lt;Integer&gt; l : subLists ) System.out.println( l );\r\n\t\t}\r\n\t}\r\n\r\n\t/** Represents the direction of the movement of data */\r\n\tprivate static enum Direction {\r\n\t\tASC(( prev, curr ) -&gt; prev - curr &lt; 0), DESC(( prev, curr ) -&gt; prev - curr &gt; 0), EQ(( prev, curr ) -&gt; prev - curr == 0);\r\n\r\n\t\tprivate Direction( BiPredicate&lt;Integer, Integer&gt; applicability ){\r\n\t\t\tthis.applicability = applicability;\r\n\t\t}\r\n\r\n\t\tprivate BiPredicate&lt;Integer, Integer&gt; applicability;\r\n\r\n\t\tstatic Direction get( Integer prev, Integer curr ){\r\n\t\t\tfor( Direction d : values() ){\r\n\t\t\t\tif( d.applicability.test( prev, curr ) ) return d;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static List&lt;List&lt;Integer&gt;&gt; split( List&lt;Integer&gt; list ){\r\n\t\tDirection dir = null;\r\n\t\tList&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n\t\tInteger prev = null;\r\n\t\tList&lt;Integer&gt; currList = null;\r\n\t\tfor( Integer i : list ){\r\n\t\t\t/* For the first element in the input, create a sub-list here and add the first element. */\r\n\t\t\tif( prev == null ) {\r\n\t\t\t\tcurrList = newList( result );\r\n\t\t\t\tcurrList.add( i );\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t/* Find the direction. If it has changed, create a new sub-list. Otherwise, continue with the\r\n\t\t\t\t * existing one. */\r\n\t\t\t\tDirection newDir = Direction.get( prev, i );\r\n\t\t\t\tif( dir == null ) dir = newDir;\r\n\t\t\t\telse{\r\n\t\t\t\t\tif( dir != newDir ) {\r\n\t\t\t\t\t\tdir = newDir;\r\n\t\t\t\t\t\tcurrList = newList( result );\r\n\t\t\t\t\t\tcurrList.add( prev );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrList.add( i );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprev = i;\r\n\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate static List&lt;Integer&gt; newList( List&lt;List&lt;Integer&gt;&gt; result ){\r\n\t\tList&lt;Integer&gt; newList = new ArrayList&lt;&gt;();\r\n\t\tresult.add( newList );\r\n\t\treturn newList;\r\n\t}\r\n}\r\n```\r\n\r\nOutput from running the program\r\n```\r\nInput: [1, 2, 3, 4, 8, 7, 5, 6]\r\n[1, 2, 3, 4, 8]\r\n[8, 7, 5]\r\n[5, 6]\r\n\r\nInput: [8, 7, 8, 9]\r\n[8, 7]\r\n[7, 8, 9]\r\n\r\nInput: [1, 2, 2, 1]\r\n[1, 2]\r\n[2, 2]\r\n[2, 1]\r\n```","title":"Sort list into multiple lists based on its values","body":"<p>Here's something that may help. Explanations have been added as comments at important places.</p>\n<p>The crucial component is the simple <code>enum Direction</code>. I have assumed &quot;equals&quot; also apart from &quot;ascending&quot; and &quot;descending&quot;. If that is not required, then include the equals check in <code>Direction.ASC</code> or <code>Direction.DESC</code> depending upon your choice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.function.BiPredicate;\n\npublic class SortedSubLists{\n    public static void main( String[] args ){\n        List&lt;List&lt;Integer&gt;&gt; testData = Arrays.asList( \n            Arrays.asList( 1,2,3,4,8,7,5,6 ),\n            Arrays.asList( 8,7,8,9 ),\n            Arrays.asList( 1,2,2,1 )\n        );\n        \n        for( List&lt;Integer&gt; input : testData ) {\n            List&lt;List&lt;Integer&gt;&gt; subLists = split( input );\n            \n            System.out.println( &quot;\\r\\nInput: &quot; + input );\n            for( List&lt;Integer&gt; l : subLists ) System.out.println( l );\n        }\n    }\n\n    /** Represents the direction of the movement of data */\n    private static enum Direction {\n        ASC(( prev, curr ) -&gt; prev - curr &lt; 0), DESC(( prev, curr ) -&gt; prev - curr &gt; 0), EQ(( prev, curr ) -&gt; prev - curr == 0);\n\n        private Direction( BiPredicate&lt;Integer, Integer&gt; applicability ){\n            this.applicability = applicability;\n        }\n\n        private BiPredicate&lt;Integer, Integer&gt; applicability;\n\n        static Direction get( Integer prev, Integer curr ){\n            for( Direction d : values() ){\n                if( d.applicability.test( prev, curr ) ) return d;\n            }\n\n            return null;\n        }\n    }\n\n    private static List&lt;List&lt;Integer&gt;&gt; split( List&lt;Integer&gt; list ){\n        Direction dir = null;\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n\n        Integer prev = null;\n        List&lt;Integer&gt; currList = null;\n        for( Integer i : list ){\n            /* For the first element in the input, create a sub-list here and add the first element. */\n            if( prev == null ) {\n                currList = newList( result );\n                currList.add( i );\n            }\n            else{\n                /* Find the direction. If it has changed, create a new sub-list. Otherwise, continue with the\n                 * existing one. */\n                Direction newDir = Direction.get( prev, i );\n                if( dir == null ) dir = newDir;\n                else{\n                    if( dir != newDir ) {\n                        dir = newDir;\n                        currList = newList( result );\n                        currList.add( prev );\n                    }\n                }\n\n                currList.add( i );\n            }\n            \n            prev = i;\n\n        }\n        return result;\n    }\n\n    private static List&lt;Integer&gt; newList( List&lt;List&lt;Integer&gt;&gt; result ){\n        List&lt;Integer&gt; newList = new ArrayList&lt;&gt;();\n        result.add( newList );\n        return newList;\n    }\n}\n</code></pre>\n<p>Output from running the program</p>\n<pre><code>Input: [1, 2, 3, 4, 8, 7, 5, 6]\n[1, 2, 3, 4, 8]\n[8, 7, 5]\n[5, 6]\n\nInput: [8, 7, 8, 9]\n[8, 7]\n[7, 8, 9]\n\nInput: [1, 2, 2, 1]\n[1, 2]\n[2, 2]\n[2, 1]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638090548,"creation_date":1638087588,"answer_id":70141692,"question_id":70141109,"body_markdown":"Try this.\r\n\r\n    static &lt;T extends Comparable&lt;T&gt;&gt; List&lt;List&lt;T&gt;&gt; sortedSubList(List&lt;T&gt; list) {\r\n        int size = list.size();\r\n        List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        int start = 0;\r\n        if (size &gt;= 2) {\r\n            int prev = list.get(0).compareTo(list.get(1));\r\n            for (int i = 1, max = size - 1; i &lt; max; ++i) {\r\n                int next = list.get(i).compareTo(list.get(i + 1));\r\n                if (prev != next) {\r\n                    result.add(list.subList(start, i + 1));\r\n                    start = i;\r\n                }\r\n                prev = next;\r\n            }\r\n        }\r\n        result.add(list.subList(start, size));\r\n        return result;\r\n    }\r\n\r\nand\r\n\r\n    static &lt;T extends Comparable&lt;T&gt;&gt; void test(List&lt;T&gt; list) {\r\n        System.out.println(list + &quot; -&gt; &quot; + sortedSubList(list));\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        test(List.of(1, 2, 3, 4, 8, 7, 5, 6));\r\n        test(List.of(8, 7, 8, 9));\r\n        test(List.of(1, 2, 2, 1));\r\n        test(List.of(1, 2));\r\n        test(List.of(1));\r\n        test(List.of());\r\n        test(List.of(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;a&quot;));\r\n    }\r\n\r\noutput:\r\n\r\n    [1, 2, 3, 4, 8, 7, 5, 6] -&gt; [[1, 2, 3, 4, 8], [8, 7, 5], [5, 6]]\r\n    [8, 7, 8, 9] -&gt; [[8, 7], [7, 8, 9]]\r\n    [1, 2, 2, 1] -&gt; [[1, 2], [2, 2], [2, 1]]\r\n    [1, 2] -&gt; [[1, 2]]\r\n    [1] -&gt; [[1]]\r\n    [] -&gt; [[]]\r\n    [a, b, b, a] -&gt; [[a, b], [b, b], [b, a]]\r\n\r\n","title":"Sort list into multiple lists based on its values","body":"<p>Try this.</p>\n<pre><code>static &lt;T extends Comparable&lt;T&gt;&gt; List&lt;List&lt;T&gt;&gt; sortedSubList(List&lt;T&gt; list) {\n    int size = list.size();\n    List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\n    int start = 0;\n    if (size &gt;= 2) {\n        int prev = list.get(0).compareTo(list.get(1));\n        for (int i = 1, max = size - 1; i &lt; max; ++i) {\n            int next = list.get(i).compareTo(list.get(i + 1));\n            if (prev != next) {\n                result.add(list.subList(start, i + 1));\n                start = i;\n            }\n            prev = next;\n        }\n    }\n    result.add(list.subList(start, size));\n    return result;\n}\n</code></pre>\n<p>and</p>\n<pre><code>static &lt;T extends Comparable&lt;T&gt;&gt; void test(List&lt;T&gt; list) {\n    System.out.println(list + &quot; -&gt; &quot; + sortedSubList(list));\n}\n\npublic static void main(String[] args) throws IOException {\n    test(List.of(1, 2, 3, 4, 8, 7, 5, 6));\n    test(List.of(8, 7, 8, 9));\n    test(List.of(1, 2, 2, 1));\n    test(List.of(1, 2));\n    test(List.of(1));\n    test(List.of());\n    test(List.of(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;a&quot;));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[1, 2, 3, 4, 8, 7, 5, 6] -&gt; [[1, 2, 3, 4, 8], [8, 7, 5], [5, 6]]\n[8, 7, 8, 9] -&gt; [[8, 7], [7, 8, 9]]\n[1, 2, 2, 1] -&gt; [[1, 2], [2, 2], [2, 1]]\n[1, 2] -&gt; [[1, 2]]\n[1] -&gt; [[1]]\n[] -&gt; [[]]\n[a, b, b, a] -&gt; [[a, b], [b, b], [b, a]]\n</code></pre>\n"}],"owner":{"account_id":1361052,"reputation":3517,"user_id":1298426,"accept_rate":52,"display_name":"user1298426"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638090548,"creation_date":1638080259,"question_id":70141109,"body_markdown":"I have a list and I need to sort it in ascending/descending based on its sequence.\r\nFor e.g. I start with the first index and create a sublist until values are in either ascending/descending order. If the order changed then start creating a new sublist.\r\n\r\nInput \r\n\r\n    List&lt;Integer&gt; = [1,2,3,4,8,7,5,6]\r\n\r\nOutput\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; = [[1,2,3,4,8], [8,7,5], [5,6]]\r\n\r\nInput \r\n\r\n    List&lt;Integer&gt; = [8,7,8,9]\r\n\r\nOutput\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; = [[8,7], [7,8,9]]\r\n\r\nInput \r\n\r\n    List&lt;Integer&gt; = [1,2,2,1]\r\n\r\nOutput\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; = [[1,2], [2,2], [2,1]]\r\n\r\n\r\n\r\n","title":"Sort list into multiple lists based on its values","body":"<p>I have a list and I need to sort it in ascending/descending based on its sequence.\nFor e.g. I start with the first index and create a sublist until values are in either ascending/descending order. If the order changed then start creating a new sublist.</p>\n<p>Input</p>\n<pre><code>List&lt;Integer&gt; = [1,2,3,4,8,7,5,6]\n</code></pre>\n<p>Output</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; = [[1,2,3,4,8], [8,7,5], [5,6]]\n</code></pre>\n<p>Input</p>\n<pre><code>List&lt;Integer&gt; = [8,7,8,9]\n</code></pre>\n<p>Output</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; = [[8,7], [7,8,9]]\n</code></pre>\n<p>Input</p>\n<pre><code>List&lt;Integer&gt; = [1,2,2,1]\n</code></pre>\n<p>Output</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; = [[1,2], [2,2], [2,1]]\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638083525,"post_id":70141301,"comment_id":123989641,"body_markdown":"Can you put code of the class that you are testing?","body":"Can you put code of the class that you are testing?"},{"owner":{"account_id":7559383,"reputation":494,"user_id":5737572,"accept_rate":15,"display_name":"Sonali Gupta"},"score":0,"creation_date":1638084236,"post_id":70141301,"comment_id":123989732,"body_markdown":"added a skeleton","body":"added a skeleton"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638084577,"post_id":70141301,"comment_id":123989768,"body_markdown":"BTW, not related to your NPE but..`classToInject.publicMethod1(mockClassObj)` is useless as `mockClassObj` is created within the test. Any value/instance of `Classx` used in your SUT will not match this and hence it wouldn&#39;t return 1000.","body":"BTW, not related to your NPE but..<code>classToInject.publicMethod1(mockClassObj)</code> is useless as <code>mockClassObj</code> is created within the test. Any value/instance of <code>Classx</code> used in your SUT will not match this and hence it wouldn&#39;t return 1000."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638084653,"post_id":70141301,"comment_id":123989779,"body_markdown":"Check if mock injection is successful - Print `classToInject` and see if it comes from Mockito or it is null (or put a breakpoint in your IDE and check its toString).","body":"Check if mock injection is successful - Print <code>classToInject</code> and see if it comes from Mockito or it is null (or put a breakpoint in your IDE and check its toString)."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638085370,"post_id":70141301,"comment_id":123989859,"body_markdown":"There is some discrepancy between the test code and actual code (method contract). To isolate the problem, test what I&#39;ve suggested above. If it turns out to be null, then it means something is casing [InjectMocks](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html) from injecting the mocked instances and Mockito wouldn&#39;t report any error.","body":"There is some discrepancy between the test code and actual code (method contract). To isolate the problem, test what I&#39;ve suggested above. If it turns out to be null, then it means something is casing <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html\" rel=\"nofollow noreferrer\">InjectMocks</a> from injecting the mocked instances and Mockito wouldn&#39;t report any error."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638085991,"post_id":70141301,"comment_id":123989980,"body_markdown":"I&#39;ve tested without the `@Inject` on the field (as I didn&#39;t have the lib in my classpath) and had `publicMethod1` as no-argument method returning an int and everything worked fine","body":"I&#39;ve tested without the <code>@Inject</code> on the field (as I didn&#39;t have the lib in my classpath) and had <code>publicMethod1</code> as no-argument method returning an int and everything worked fine"},{"owner":{"account_id":7559383,"reputation":494,"user_id":5737572,"accept_rate":15,"display_name":"Sonali Gupta"},"score":0,"creation_date":1638086213,"post_id":70141301,"comment_id":123990007,"body_markdown":"I printed the classToIject and it didn&#39;t return null.","body":"I printed the classToIject and it didn&#39;t return null."},{"owner":{"account_id":7559383,"reputation":494,"user_id":5737572,"accept_rate":15,"display_name":"Sonali Gupta"},"score":0,"creation_date":1638086270,"post_id":70141301,"comment_id":123990013,"body_markdown":"The main point is how to successfully link the classToInject to be used via that private method as well and value the when and return.","body":"The main point is how to successfully link the classToInject to be used via that private method as well and value the when and return."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1638087151,"post_id":70141301,"comment_id":123990155,"body_markdown":"Then it means there is no problem with `Mock` and `InjectMock`. The presence of a private method is irrelevant here. You need to add more details to the question (exact method signature - `publicMethod1` takes an argument as per your test but none in the place you call in SUT) and the exception you get","body":"Then it means there is no problem with <code>Mock</code> and <code>InjectMock</code>. The presence of a private method is irrelevant here. You need to add more details to the question (exact method signature - <code>publicMethod1</code> takes an argument as per your test but none in the place you call in SUT) and the exception you get"}],"answers":[{"tags":[],"owner":{"account_id":21100099,"reputation":528,"user_id":15510171,"display_name":"bittap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638090232,"creation_date":1638090232,"answer_id":70141944,"question_id":70141301,"body_markdown":"You mock classToInject.publicMethod1(mockClassObj) not classToInject.publicMethod1().\r\nBut your code invoked classToInject.publicMethod1(); \r\n\r\n    int x = classToInject.publicMethod1(); // you invoked no parameter method\r\n\r\nCheck method which you want to invoke.\r\n\r\nIf You want to invoke classToInject.publicMethod1(), reference this code\r\n\r\n\t@RunWith(MockitoJUnitRunner.class)\r\n\tpublic class MockedTest {\r\n\r\n\t\t@InjectMocks\r\n\t\tprivate ClassToTest classToTest;\r\n\t\t\r\n\t\t@Mock\r\n\t\tprivate ClassToInject classToInject;\r\n\t\t\r\n\t\t@Before\r\n\t\tpublic void setup() {\r\n\t\t\tMockitoAnnotations.initMocks(this);\r\n\t\t}\r\n\t\t\r\n\t\t@Test\r\n\t\tpublic void test() {\r\n\t\t\tMockito.when(classToInject.publicMethod1())\r\n\t\t\t\t\t.thenReturn(1000);\r\n\t\t\t\r\n\t\t\tclassToTest.publicMethod();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tclass ClassToTest{\r\n\t\tClassToInject classToInject;\r\n\t\t\r\n\t\tpublic void publicMethod() {\r\n\t\t\tprivateMethod();\r\n\t\t}\r\n\t\t\r\n\t\tprivate int privateMethod() {\r\n\t\t\tint x = classToInject.publicMethod1();\r\n\t\t\tthrow new NullPointerException(String.valueOf(x));\r\n\t\t}\r\n\t}\r\n\r\n\tclass ClassToInject{\r\n\t\t\r\n\t\tpublic int publicMethod1() {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\nThe result is 1000 success\r\n \r\n    java.lang.NullPointerException: 1000\r\n\r\n\r\n","title":"Mocking a method inside a private method","body":"<p>You mock classToInject.publicMethod1(mockClassObj) not classToInject.publicMethod1().\nBut your code invoked classToInject.publicMethod1();</p>\n<pre><code>int x = classToInject.publicMethod1(); // you invoked no parameter method\n</code></pre>\n<p>Check method which you want to invoke.</p>\n<p>If You want to invoke classToInject.publicMethod1(), reference this code</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MockedTest {\n\n    @InjectMocks\n    private ClassToTest classToTest;\n    \n    @Mock\n    private ClassToInject classToInject;\n    \n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n    \n    @Test\n    public void test() {\n        Mockito.when(classToInject.publicMethod1())\n                .thenReturn(1000);\n        \n        classToTest.publicMethod();\n    }\n    \n    \n}\n\nclass ClassToTest{\n    ClassToInject classToInject;\n    \n    public void publicMethod() {\n        privateMethod();\n    }\n    \n    private int privateMethod() {\n        int x = classToInject.publicMethod1();\n        throw new NullPointerException(String.valueOf(x));\n    }\n}\n\nclass ClassToInject{\n    \n    public int publicMethod1() {\n        return 0;\n    }\n}\n</code></pre>\n<p>The result is 1000 success</p>\n<pre><code>java.lang.NullPointerException: 1000\n</code></pre>\n"}],"owner":{"account_id":7559383,"reputation":494,"user_id":5737572,"accept_rate":15,"display_name":"Sonali Gupta"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638090232,"creation_date":1638082842,"question_id":70141301,"body_markdown":"I have the below flow\r\n\r\n```\r\n@InjectMocks private ClassToTest classToTest;\r\n\r\n@Mock private ClassToInject classToInject;\r\n\r\n@Before\r\npublic void setup() {\r\ninitMocks(this);\r\n}\r\n\r\n@Test\r\npublic void test() {\r\nClassx mockClassObj = Mockito.mock(Classx.class);\r\nwhen(classToInject.publicMethod1(mockClassObj)).thenReturn(1000);\r\n\r\nclassToTest.publicMethod();\r\n}\r\n```\r\nI want to test public method of classToTest. Now this method makes call to a private method, which I am not mocking. Inside this private method another public method is called, which I want to mock `publicMethod1`. Instead of the private method making use of value 1000 it is behaving as if the `publicMethod1` was not mocked and I get NPE inside the flow of the method somewhere. I tried using @Spy with `classToTest` and also I am using init.mocks/@RunWith but it fails.\r\n\r\nIn short it is something like\r\n\r\nClassToTest. publicMethod --&gt; ClassToTest.privateMethod(not mocking) --&gt; ClassToInject.publicMethod1(want to mock)\r\n\r\nThe class looks like below\r\n\r\n```\r\nclass ClassToTest {\r\n@Inject ClassToInject classToInject;\r\n\r\npublic publicMethod() {\r\nprivateMethod();\r\n}\r\n\r\nprivate privateMethod() {\r\nint x = classToInject.publicMethod1();\r\n// use the return value\r\n// throw exception\r\n}\r\n```","title":"Mocking a method inside a private method","body":"<p>I have the below flow</p>\n<pre><code>@InjectMocks private ClassToTest classToTest;\n\n@Mock private ClassToInject classToInject;\n\n@Before\npublic void setup() {\ninitMocks(this);\n}\n\n@Test\npublic void test() {\nClassx mockClassObj = Mockito.mock(Classx.class);\nwhen(classToInject.publicMethod1(mockClassObj)).thenReturn(1000);\n\nclassToTest.publicMethod();\n}\n</code></pre>\n<p>I want to test public method of classToTest. Now this method makes call to a private method, which I am not mocking. Inside this private method another public method is called, which I want to mock <code>publicMethod1</code>. Instead of the private method making use of value 1000 it is behaving as if the <code>publicMethod1</code> was not mocked and I get NPE inside the flow of the method somewhere. I tried using @Spy with <code>classToTest</code> and also I am using init.mocks/@RunWith but it fails.</p>\n<p>In short it is something like</p>\n<p>ClassToTest. publicMethod --&gt; ClassToTest.privateMethod(not mocking) --&gt; ClassToInject.publicMethod1(want to mock)</p>\n<p>The class looks like below</p>\n<pre><code>class ClassToTest {\n@Inject ClassToInject classToInject;\n\npublic publicMethod() {\nprivateMethod();\n}\n\nprivate privateMethod() {\nint x = classToInject.publicMethod1();\n// use the return value\n// throw exception\n}\n</code></pre>\n"},{"tags":["java","spring","jsp","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493772428,"creation_date":1493744071,"answer_id":43743374,"question_id":43743303,"body_markdown":"In `web.xml` you are not defining the full path of the class:\r\n\r\n    &lt;Servlet&gt;\r\n        &lt;Servlet-name&gt;Ch1Servlet&lt;/Servlet-name&gt;\r\n        &lt;Servlet-class&gt;com.test.Ch1Servlet&lt;/Servlet-class&gt;\r\n    &lt;/Servlet&gt; \r\n\r\n`com.test.` is the package name of `Ch1Servlet` class. Please use full path to classes.","title":"404 Not Found: Something wrong with access to a servlet deployed on Tomcat","body":"<p>In <code>web.xml</code> you are not defining the full path of the class:</p>\n\n<pre><code>&lt;Servlet&gt;\n    &lt;Servlet-name&gt;Ch1Servlet&lt;/Servlet-name&gt;\n    &lt;Servlet-class&gt;com.test.Ch1Servlet&lt;/Servlet-class&gt;\n&lt;/Servlet&gt; \n</code></pre>\n\n<p><code>com.test.</code> is the package name of <code>Ch1Servlet</code> class. Please use full path to classes.</p>\n"},{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493744277,"creation_date":1493744277,"answer_id":43743427,"question_id":43743303,"body_markdown":"All the xml elements in web.xml should start with lowercase letters.","title":"404 Not Found: Something wrong with access to a servlet deployed on Tomcat","body":"<p>All the xml elements in web.xml should start with lowercase letters.</p>\n"}],"owner":{"account_id":10741764,"reputation":327,"user_id":7904578,"accept_rate":60,"display_name":"KyrinWoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638088499,"creation_date":1493743858,"question_id":43743303,"body_markdown":"I followed a very simple example from Head First Servlets &amp; JSP at beginning, but I encountered a problem. When I tried to access a servlet named `Ch1Servlet` in webapps/ch1/web-inf/, mapped onto url-pattern:/Serv1, tomcat returned ERROR 404:\r\n\r\n    HTTP Status 404 - /ch1/Serv1\r\n\r\nI typed localhost:8080 into address bar of my browser, and it showed the home page of Tomcat, which seemed to be OK with the server.\r\nThen I created a servlet named `Ch1Servlet`. Here is what it looks like:\r\n\r\n    \r\n\timport javax.servlet.*;\r\n\timport javax.servlet.http.*;\r\n\timport java.io.*;\r\n\r\n\tpublic class Ch1Servlet extends HttpServlet{\r\n\t\tpublic void doGet(HttpServletRequest request,\r\n\t\t\tHttpServletResponse response) throws IOException{\r\n\t\t\tPrintWriter out=response.getWriter();\r\n\t\t\tjava.util.Date today=new java.util.Date();\r\n\t\t\tout.println(&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Today&lt;/h1&gt;&quot;+today+&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\t\t}\r\n\t}\r\n\r\nNext, a web.xml configuration file is needed. So here is it:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n\t\t&lt;Servlet&gt;\r\n\t\t\t&lt;Servlet-name&gt;Ch1Servlet&lt;/Servlet-name&gt;\r\n\t\t\t&lt;Servlet-class&gt;Ch1Servlet&lt;/Servlet-class&gt;\r\n\t\t&lt;/Servlet&gt;\r\n\r\n\t\t&lt;Servlet-mapping&gt;\r\n\t\t\t&lt;Servlet-name&gt;Ch1Servlet&lt;/Servlet-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/Serv1&lt;/url-pattern&gt;\r\n\t\t&lt;/Servlet-mapping&gt;\r\n\t&lt;/web-app&gt;\r\n\r\nAfter Ch1Servlet.java was compiled, I got a class file which was put in WEB-INF/classes, and put the web.xml in WEB-INF. So the hierarchy is this: webapps/ch1/WEB-INF.\r\n\r\nIt suggested that we will be able to access the servlet and get a HTML page displayed on the screen, by using the url: http://localhost:8080/ch1/Serv1. But unfortunately, ERROR 404 was found there.","title":"404 Not Found: Something wrong with access to a servlet deployed on Tomcat","body":"<p>I followed a very simple example from Head First Servlets &amp; JSP at beginning, but I encountered a problem. When I tried to access a servlet named <code>Ch1Servlet</code> in webapps/ch1/web-inf/, mapped onto url-pattern:/Serv1, tomcat returned ERROR 404:</p>\n\n<pre><code>HTTP Status 404 - /ch1/Serv1\n</code></pre>\n\n<p>I typed localhost:8080 into address bar of my browser, and it showed the home page of Tomcat, which seemed to be OK with the server.\nThen I created a servlet named <code>Ch1Servlet</code>. Here is what it looks like:</p>\n\n<pre><code>import javax.servlet.*;\nimport javax.servlet.http.*;\nimport java.io.*;\n\npublic class Ch1Servlet extends HttpServlet{\n    public void doGet(HttpServletRequest request,\n        HttpServletResponse response) throws IOException{\n        PrintWriter out=response.getWriter();\n        java.util.Date today=new java.util.Date();\n        out.println(\"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Today&lt;/h1&gt;\"+today+\"&lt;/body&gt;&lt;/html&gt;\");\n    }\n}\n</code></pre>\n\n<p>Next, a web.xml configuration file is needed. So here is it:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n    &lt;Servlet&gt;\n        &lt;Servlet-name&gt;Ch1Servlet&lt;/Servlet-name&gt;\n        &lt;Servlet-class&gt;Ch1Servlet&lt;/Servlet-class&gt;\n    &lt;/Servlet&gt;\n\n    &lt;Servlet-mapping&gt;\n        &lt;Servlet-name&gt;Ch1Servlet&lt;/Servlet-name&gt;\n        &lt;url-pattern&gt;/Serv1&lt;/url-pattern&gt;\n    &lt;/Servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>After Ch1Servlet.java was compiled, I got a class file which was put in WEB-INF/classes, and put the web.xml in WEB-INF. So the hierarchy is this: webapps/ch1/WEB-INF.</p>\n\n<p>It suggested that we will be able to access the servlet and get a HTML page displayed on the screen, by using the url: <a href=\"http://localhost:8080/ch1/Serv1\" rel=\"nofollow noreferrer\">http://localhost:8080/ch1/Serv1</a>. But unfortunately, ERROR 404 was found there.</p>\n"},{"tags":["java","android","button","calendarview"],"answers":[{"tags":[],"owner":{"account_id":7138446,"reputation":841,"user_id":5457098,"display_name":"Tiko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638088239,"creation_date":1638088239,"answer_id":70141765,"question_id":70141667,"body_markdown":"The `selectedDate` is defined in another scope so it is not visible for OnClickListerner. You can move it to the onCreate method scope.\r\n\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.calendar_layout);\r\n        mCalendarView = (CalendarView) findViewById(R.id.calendarView);\r\n        btnConfirmCal = (Button) findViewById(R.id.confirmCalendar);\r\n        et_assignName = (EditText) findViewById(R.id.assignName);\r\n        et_assignDesc = (EditText) findViewById(R.id.assignDesc);\r\n        String selectedDate = &quot;&quot;;\r\n\r\n        mCalendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\r\n            @Override\r\n            public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int dayOfMonth) {\r\n\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n                selectedDate = sdf.format(new Date(mCalendarView.getDate()));\r\n            }\r\n        });\r\n        btnConfirmCal.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                try {\r\n                    ScheduleList scheduleList = new ScheduleList(et_assignName.getText().toString(),\r\n                            et_assignDesc.getText().toString(), selectedDate);\r\n                    Toast.makeText(CalendarActivity.this, scheduleList.toString(), Toast.LENGTH_SHORT).show();\r\n                }\r\n                catch (Exception e) {\r\n                    Toast.makeText(CalendarActivity.this, &quot;Error creating schedule&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n    }","title":"Android: CalendarView and Button not able to share data","body":"<p>The <code>selectedDate</code> is defined in another scope so it is not visible for OnClickListerner. You can move it to the onCreate method scope.</p>\n<pre><code>protected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.calendar_layout);\n    mCalendarView = (CalendarView) findViewById(R.id.calendarView);\n    btnConfirmCal = (Button) findViewById(R.id.confirmCalendar);\n    et_assignName = (EditText) findViewById(R.id.assignName);\n    et_assignDesc = (EditText) findViewById(R.id.assignDesc);\n    String selectedDate = &quot;&quot;;\n\n    mCalendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\n        @Override\n        public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int dayOfMonth) {\n\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n            selectedDate = sdf.format(new Date(mCalendarView.getDate()));\n        }\n    });\n    btnConfirmCal.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            try {\n                ScheduleList scheduleList = new ScheduleList(et_assignName.getText().toString(),\n                        et_assignDesc.getText().toString(), selectedDate);\n                Toast.makeText(CalendarActivity.this, scheduleList.toString(), Toast.LENGTH_SHORT).show();\n            }\n            catch (Exception e) {\n                Toast.makeText(CalendarActivity.this, &quot;Error creating schedule&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n        }\n    });\n\n}\n</code></pre>\n"}],"owner":{"account_id":14535593,"reputation":87,"user_id":10499081,"display_name":"Irfan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70141765,"answer_count":1,"score":0,"last_activity_date":1638088239,"creation_date":1638087320,"question_id":70141667,"body_markdown":"I&#39;m creating an application that lets user to list down school assignment and the deadline. \r\n\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.calendar_layout);\r\n            mCalendarView = (CalendarView) findViewById(R.id.calendarView);\r\n            btnConfirmCal = (Button) findViewById(R.id.confirmCalendar);\r\n            et_assignName = (EditText) findViewById(R.id.assignName);\r\n            et_assignDesc = (EditText) findViewById(R.id.assignDesc);\r\n    \r\n            mCalendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\r\n                @Override\r\n                public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int dayOfMonth) {\r\n    \r\n                    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n                    String selectedDate = sdf.format(new Date(mCalendarView.getDate()));\r\n                }\r\n            });\r\n            btnConfirmCal.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    try {\r\n                        ScheduleList scheduleList = new ScheduleList(et_assignName.getText().toString(),\r\n                                et_assignDesc.getText().toString(), selectedDate);\r\n                        Toast.makeText(CalendarActivity.this, scheduleList.toString(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    catch (Exception e) {\r\n                        Toast.makeText(CalendarActivity.this, &quot;Error creating schedule&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n\r\nIn the OnClickListerner, the &quot;selectedDate&quot; is highlighted as an error. Is there a way to solve the issue?","title":"Android: CalendarView and Button not able to share data","body":"<p>I'm creating an application that lets user to list down school assignment and the deadline.</p>\n<pre><code>protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.calendar_layout);\n        mCalendarView = (CalendarView) findViewById(R.id.calendarView);\n        btnConfirmCal = (Button) findViewById(R.id.confirmCalendar);\n        et_assignName = (EditText) findViewById(R.id.assignName);\n        et_assignDesc = (EditText) findViewById(R.id.assignDesc);\n\n        mCalendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\n            @Override\n            public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int dayOfMonth) {\n\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n                String selectedDate = sdf.format(new Date(mCalendarView.getDate()));\n            }\n        });\n        btnConfirmCal.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                try {\n                    ScheduleList scheduleList = new ScheduleList(et_assignName.getText().toString(),\n                            et_assignDesc.getText().toString(), selectedDate);\n                    Toast.makeText(CalendarActivity.this, scheduleList.toString(), Toast.LENGTH_SHORT).show();\n                }\n                catch (Exception e) {\n                    Toast.makeText(CalendarActivity.this, &quot;Error creating schedule&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n            }\n        });\n\n    }\n</code></pre>\n<p>In the OnClickListerner, the &quot;selectedDate&quot; is highlighted as an error. Is there a way to solve the issue?</p>\n"},{"tags":["javascript","java","reactjs","react-hooks","react-query"],"comments":[{"owner":{"account_id":3896097,"reputation":20218,"user_id":3225108,"accept_rate":62,"display_name":"azium"},"score":1,"creation_date":1637866684,"post_id":70115193,"comment_id":123945874,"body_markdown":"lift the state up","body":"lift the state up"},{"owner":{"account_id":18876240,"reputation":98,"user_id":13922819,"display_name":"Crocio"},"score":0,"creation_date":1637870415,"post_id":70115193,"comment_id":123946829,"body_markdown":"I suggest you to use Redux, but you can also do it by passing that same state through a component prop","body":"I suggest you to use Redux, but you can also do it by passing that same state through a component prop"},{"owner":{"account_id":20258760,"reputation":523,"user_id":14857732,"display_name":"yongchang"},"score":0,"creation_date":1637918228,"post_id":70115193,"comment_id":123956117,"body_markdown":"see this https://stackoverflow.com/questions/38394015/how-to-pass-data-from-child-component-to-its-parent-in-reactjs","body":"see this <a href=\"https://stackoverflow.com/questions/38394015/how-to-pass-data-from-child-component-to-its-parent-in-reactjs\" title=\"how to pass data from child component to its parent in reactjs\">stackoverflow.com/questions/38394015/&hellip;</a>"},{"owner":{"account_id":3891104,"reputation":5679,"user_id":3221274,"accept_rate":83,"display_name":"Shishir Arora"},"score":0,"creation_date":1637955437,"post_id":70115193,"comment_id":123968670,"body_markdown":"Don&#39;t use internal state, just use same query again in other component.","body":"Don&#39;t use internal state, just use same query again in other component."}],"answers":[{"tags":[],"owner":{"account_id":11467508,"reputation":22323,"user_id":8405310,"display_name":"TkDodo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638088172,"creation_date":1638088172,"answer_id":70141757,"question_id":70115193,"body_markdown":"There is no need to copy data from react-query to local state, because react-query is a full-blown state manager for server state. As long as you use the same query key, you will get data from its cache. This is best abstracted away in custom hooks.\r\n\r\nPlease be aware that with the default values, you will get a &quot;background refetch&quot; if a new component mount, so you will see two network requests if you use it twice. That might look confusing at first, but it is intended, as it is not react-query&#39;s primary goal to reduce network requests, but to keep your data on the screen as up-to-date as possible. So when a new component mounts that uses a query, you&#39;ll get the stale data from the cache immediately, and then a background refetch will be done. This procedure is called [stale-while-revalidate][1].\r\n\r\nThe best way to customize this behaviour is to set the `staleTime` property to tell react-query how long your resource is &quot;valid&quot;. For that time, you will only get data from the cache if available. I&#39;ve written about this topic in my blog here: [React Query as a State Manager][2].\r\n\r\n---\r\n\r\nReact Query also provides `selectors`, so if your second component is only interested in the length, this is what my code would look like:\r\n\r\n```\r\nconst useInvitations = (profile, select) =&gt;\r\n  useQuery(\r\n    [&quot;invitations&quot;, profile?.id],\r\n    () =&gt; getFollowers(profile?.id),\r\n    {\r\n        enabled: !!profile?.id\r\n        select\r\n    }\r\n)\r\n```\r\n\r\nNote that I also added the `enabled` property because apparently, `profile` can be `undefined` and you likely wouldn&#39;t want to start fetching without that id.\r\n\r\nNow we can call this in our main component:\r\n\r\n```\r\nconst ModalFollower = ({profile}) =&gt; {\r\n\r\n  const { data } = useInvitations(profile)\r\n}\r\n```\r\n\r\nand `data` will contain the result once the promise resolves.\r\n\r\nIn another component where we only want the length, we can do:\r\n\r\n```\r\nconst { data } = useInvitations(profile, invitations =&gt; invitations.length)\r\n```\r\n\r\nand data will be of type `number` and you will only be subscribed to length changes. This works similar to redux selectors.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5861\r\n  [2]: https://tkdodo.eu/blog/react-query-as-a-state-manager","title":"I want to access my state variable from one component to other","body":"<p>There is no need to copy data from react-query to local state, because react-query is a full-blown state manager for server state. As long as you use the same query key, you will get data from its cache. This is best abstracted away in custom hooks.</p>\n<p>Please be aware that with the default values, you will get a &quot;background refetch&quot; if a new component mount, so you will see two network requests if you use it twice. That might look confusing at first, but it is intended, as it is not react-query's primary goal to reduce network requests, but to keep your data on the screen as up-to-date as possible. So when a new component mounts that uses a query, you'll get the stale data from the cache immediately, and then a background refetch will be done. This procedure is called <a href=\"https://datatracker.ietf.org/doc/html/rfc5861\" rel=\"nofollow noreferrer\">stale-while-revalidate</a>.</p>\n<p>The best way to customize this behaviour is to set the <code>staleTime</code> property to tell react-query how long your resource is &quot;valid&quot;. For that time, you will only get data from the cache if available. I've written about this topic in my blog here: <a href=\"https://tkdodo.eu/blog/react-query-as-a-state-manager\" rel=\"nofollow noreferrer\">React Query as a State Manager</a>.</p>\n<hr />\n<p>React Query also provides <code>selectors</code>, so if your second component is only interested in the length, this is what my code would look like:</p>\n<pre><code>const useInvitations = (profile, select) =&gt;\n  useQuery(\n    [&quot;invitations&quot;, profile?.id],\n    () =&gt; getFollowers(profile?.id),\n    {\n        enabled: !!profile?.id\n        select\n    }\n)\n</code></pre>\n<p>Note that I also added the <code>enabled</code> property because apparently, <code>profile</code> can be <code>undefined</code> and you likely wouldn't want to start fetching without that id.</p>\n<p>Now we can call this in our main component:</p>\n<pre><code>const ModalFollower = ({profile}) =&gt; {\n\n  const { data } = useInvitations(profile)\n}\n</code></pre>\n<p>and <code>data</code> will contain the result once the promise resolves.</p>\n<p>In another component where we only want the length, we can do:</p>\n<pre><code>const { data } = useInvitations(profile, invitations =&gt; invitations.length)\n</code></pre>\n<p>and data will be of type <code>number</code> and you will only be subscribed to length changes. This works similar to redux selectors.</p>\n"}],"owner":{"account_id":23158787,"reputation":3,"user_id":17259704,"display_name":"Pratham Sampat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638088172,"creation_date":1637861209,"question_id":70115193,"body_markdown":"I have a react query which writes the state variable- follower, and I want to access this variable in other component to find its .length can someone tell me how do I do it\r\n\r\n    const ModalFollower = ({profile}) =&gt; {\r\n     const [follower,setFollower] = useState([])\r\n     const {\r\n        data: followerName,\r\n        isLoading: followerLoading,\r\n        isFetching: followerFetching\r\n    } = useQuery([&quot;invitations&quot;, profile?.id], () =&gt; {\r\n        getFollowers(profile?.id).then((response) =&gt; {\r\n            if (response) {\r\n                setFollower(response);\r\n            }\r\n        });\r\n    });\r\n    return(\r\n    {                       \r\n     !followerLoading &amp;&amp; (\r\n        follower.map((e) =&gt; {\r\n          return(&lt;&gt;\r\n            &lt;p&gt;{e.requested_profile.Userlink}&lt;/p&gt;\r\n            &lt;/&gt;}\r\n    )\r\n    }\r\n    )\r\n\r\nI want to access the length of follower in some other component","title":"I want to access my state variable from one component to other","body":"<p>I have a react query which writes the state variable- follower, and I want to access this variable in other component to find its .length can someone tell me how do I do it</p>\n<pre><code>const ModalFollower = ({profile}) =&gt; {\n const [follower,setFollower] = useState([])\n const {\n    data: followerName,\n    isLoading: followerLoading,\n    isFetching: followerFetching\n} = useQuery([&quot;invitations&quot;, profile?.id], () =&gt; {\n    getFollowers(profile?.id).then((response) =&gt; {\n        if (response) {\n            setFollower(response);\n        }\n    });\n});\nreturn(\n{                       \n !followerLoading &amp;&amp; (\n    follower.map((e) =&gt; {\n      return(&lt;&gt;\n        &lt;p&gt;{e.requested_profile.Userlink}&lt;/p&gt;\n        &lt;/&gt;}\n)\n}\n)\n</code></pre>\n<p>I want to access the length of follower in some other component</p>\n"},{"tags":["java","user-interface","frameworks"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638087426,"post_id":70141663,"comment_id":123990198,"body_markdown":"If you&#39;re new to Java, I&#39;d suggest first to learn Java language itself altogether with what JDK provides. After that it all depends on what types of applications are you planning to do. You didn&#39;t provide any details. Are you planning to do desktop applications, server applications?","body":"If you&#39;re new to Java, I&#39;d suggest first to learn Java language itself altogether with what JDK provides. After that it all depends on what types of applications are you planning to do. You didn&#39;t provide any details. Are you planning to do desktop applications, server applications?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1638087490,"post_id":70141663,"comment_id":123990213,"body_markdown":"*&quot;What Java Framework should I Learn First?&quot;* - The one that you are going to need to use first.  If you don&#39;t know which one that is ... neither do we.","body":"<i>&quot;What Java Framework should I Learn First?&quot;</i> - The one that you are going to need to use first.  If you don&#39;t know which one that is ... neither do we."},{"owner":{"account_id":13081432,"reputation":793,"user_id":9451867,"display_name":"Doga Oruc"},"score":0,"creation_date":1638095598,"post_id":70141663,"comment_id":123991652,"body_markdown":"You can start by learning Swing, it is an old and dated GUI library built inside Java but it will teach you many things about how event based GUI&#39;s work and how you should write them. Have fun learning!","body":"You can start by learning Swing, it is an old and dated GUI library built inside Java but it will teach you many things about how event based GUI&#39;s work and how you should write them. Have fun learning!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638121947,"post_id":70141663,"comment_id":123997790,"body_markdown":"Search sister site, Software Recommendations Stack Exchange.","body":"Search sister site, Software Recommendations Stack Exchange."}],"answers":[{"tags":[],"owner":{"account_id":23426087,"reputation":15,"user_id":17485552,"display_name":"mbithi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638087865,"creation_date":1638087558,"answer_id":70141690,"question_id":70141663,"body_markdown":"What kind of applications? Java can create different types of applications. But since java is known for android development then i guess this is what you want to learn about java. Before learning anything about java applications it&#39;s recommended you start with java basics. And if in any way you will need to develop android apps with java then Google doesn&#39;t recommend java anymore. Kotlin is recommended for android development since it doesn&#39;t need you to write too much lines of code.","title":"What Java Framework should I Learn First?","body":"<p>What kind of applications? Java can create different types of applications. But since java is known for android development then i guess this is what you want to learn about java. Before learning anything about java applications it's recommended you start with java basics. And if in any way you will need to develop android apps with java then Google doesn't recommend java anymore. Kotlin is recommended for android development since it doesn't need you to write too much lines of code.</p>\n"}],"owner":{"account_id":22889772,"reputation":11,"user_id":17030069,"display_name":"Jesimiel Almedejar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1638087692,"answer_count":1,"score":0,"last_activity_date":1638087865,"creation_date":1638087280,"question_id":70141663,"body_markdown":"So I&#39;m new in Java Language and I&#39;m trying to learn how Application are built...\r\nI can&#39;t search on google so I&#39;m gonna ask here\r\n\r\nWhat java GUI framework should i Learn first?","title":"What Java Framework should I Learn First?","body":"<p>So I'm new in Java Language and I'm trying to learn how Application are built...\nI can't search on google so I'm gonna ask here</p>\n<p>What java GUI framework should i Learn first?</p>\n"},{"tags":["java","loops","if-statement","nested"],"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":4,"creation_date":1553171317,"post_id":26197966,"comment_id":97290601,"body_markdown":"An if statement is not a loop.","body":"An if statement is not a loop."}],"answers":[{"tags":[],"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1412463639,"creation_date":1412463639,"answer_id":26197981,"question_id":26197966,"body_markdown":"If you want to test both conditions together, do `a || b`. If you want to test each condition individually, do `if(a) { if (b) { } }`.\r\n\r\nFor example:\r\n\r\n    if (a) {\r\n        if (b) {\r\n            // Both true.\r\n        } else {\r\n            // Only a.\r\n        }\r\n    } else {\r\n        if (b) {\r\n            // Only b.\r\n        } else {\r\n            // Neither true.\r\n        }\r\n    }\r\n\r\n","title":"nested if vs. if with double ampersand?","body":"<p>If you want to test both conditions together, do <code>a || b</code>. If you want to test each condition individually, do <code>if(a) { if (b) { } }</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>if (a) {\n    if (b) {\n        // Both true.\n    } else {\n        // Only a.\n    }\n} else {\n    if (b) {\n        // Only b.\n    } else {\n        // Neither true.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4456643,"reputation":8628,"user_id":3626698,"accept_rate":78,"display_name":"afzalex"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1412463732,"creation_date":1412463732,"answer_id":26197993,"question_id":26197966,"body_markdown":"Have a look at this\r\n\r\n    if(a) {\r\n        if(b) {\r\n           ...\r\n        }\r\n    }\r\n\r\nwill be equivalent to \r\n\r\n    if(a &amp;&amp; b) {\r\n        ... \r\n    }\r\n\r\ni.e. when `a` is `true`, test `b`, and if it is also `true` run code.\r\n\r\nBoth codes will have same complexities.  \r\nIf you don&#39;t need to do anything after `a` is true then definitely second code will be suitable and vice-versa.","title":"nested if vs. if with double ampersand?","body":"<p>Have a look at this</p>\n\n<pre><code>if(a) {\n    if(b) {\n       ...\n    }\n}\n</code></pre>\n\n<p>will be equivalent to </p>\n\n<pre><code>if(a &amp;&amp; b) {\n    ... \n}\n</code></pre>\n\n<p>i.e. when <code>a</code> is <code>true</code>, test <code>b</code>, and if it is also <code>true</code> run code.</p>\n\n<p>Both codes will have same complexities.<br>\nIf you don't need to do anything after <code>a</code> is true then definitely second code will be suitable and vice-versa.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1632009577,"creation_date":1412468410,"answer_id":26198440,"question_id":26197966,"body_markdown":"&gt; When is the proper time to use a nested if loop\r\n&gt; \r\n&gt;     if(a){ if(b){\r\n&gt; \r\n&gt; over an if statement with a &amp;&amp; operator inside the braces?\r\n&gt; \r\n&gt;     if(a &amp;&amp; b){\r\n\r\nFor a start `if(a){ if(b){` is not a &quot;nested if loop&quot;.  It is a nested if *statement*.  (Or at least the `if (b) { ...` part is the nested statement.) \r\n\r\nThe word &quot;loop&quot; in IT implies that something repeats.  There is no repetition here.  \r\n\r\n(Sorry to be pedantic, but when you use basic terms like this incorrectly, it strongly suggests that either you don&#39;t know what the term means, or you don&#39;t understand whatever it is that you&#39;ve incorrectly applied the term to.)\r\n\r\n------------------\r\n\r\nAs other answers have explained, the two forms \r\n\r\n     if(a){ if(b){\r\n\r\nand\r\n\r\n     if(a &amp;&amp; b){\r\n\r\ndo the same thing.  So which one should you use?  It boils down to two things:\r\n\r\n  - Readability: depending on what `a` and `b` are (i.e. in a real program), one form is likely to be more readable than the other *to the average Java programmer*.  The difference in readability may be marginal, or it may be substantial.\r\n\r\n  - Personal taste: some programmers favour one form over the other, for ... personal reasons.\r\n\r\nThere are a couple of *non-reasons*:\r\n\r\n  - Style guides: as far as I&#39;m aware no Java style guide mandates one form over another.\r\n\r\n  - Efficiency: as far as I&#39;m aware, there is no systematic difference in performance between the two versions&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n----------------------------\r\n\r\nFinally ...\r\n\r\n&gt; Is the nested if statement used for iterating over arrays like the nested for\r\n\r\nNo.  Nested if statements are not loops.  They don&#39;t iterate.\r\n\r\nOf course, you can *use* nested if statements as part of some larger piece of code that iterates ... but there is nothing magical about that.\r\n\r\nThe bottom line is that constructs like `if`, `while`, `for`, blocks, declarations, assignments, and so are *general purpose* constructs that can be used for an infinite number of different things.  The most important thing is to understand what they do.  Once you know that, the various things you can use them for become self-evident ... if you think about the algorithms you are trying to implement.\r\n\r\n----------------------------\r\n\r\n&lt;sup&gt;1 - The bytecodes for the two versions may be superficially different.  However, that will mean nothing.  The JIT compiler *should* be able to optimize both versions to native code that performs the same.  If it can&#39;t, that is a JIT compiler flaw which should be addressed in a future release of Java.&lt;/sup&gt;","title":"nested if vs. if with double ampersand?","body":"<blockquote>\n<p>When is the proper time to use a nested if loop</p>\n<pre><code>if(a){ if(b){\n</code></pre>\n<p>over an if statement with a &amp;&amp; operator inside the braces?</p>\n<pre><code>if(a &amp;&amp; b){\n</code></pre>\n</blockquote>\n<p>For a start <code>if(a){ if(b){</code> is not a &quot;nested if loop&quot;.  It is a nested if <em>statement</em>.  (Or at least the <code>if (b) { ...</code> part is the nested statement.)</p>\n<p>The word &quot;loop&quot; in IT implies that something repeats.  There is no repetition here.</p>\n<p>(Sorry to be pedantic, but when you use basic terms like this incorrectly, it strongly suggests that either you don't know what the term means, or you don't understand whatever it is that you've incorrectly applied the term to.)</p>\n<hr />\n<p>As other answers have explained, the two forms</p>\n<pre><code> if(a){ if(b){\n</code></pre>\n<p>and</p>\n<pre><code> if(a &amp;&amp; b){\n</code></pre>\n<p>do the same thing.  So which one should you use?  It boils down to two things:</p>\n<ul>\n<li><p>Readability: depending on what <code>a</code> and <code>b</code> are (i.e. in a real program), one form is likely to be more readable than the other <em>to the average Java programmer</em>.  The difference in readability may be marginal, or it may be substantial.</p>\n</li>\n<li><p>Personal taste: some programmers favour one form over the other, for ... personal reasons.</p>\n</li>\n</ul>\n<p>There are a couple of <em>non-reasons</em>:</p>\n<ul>\n<li><p>Style guides: as far as I'm aware no Java style guide mandates one form over another.</p>\n</li>\n<li><p>Efficiency: as far as I'm aware, there is no systematic difference in performance between the two versions<sup>1</sup>.</p>\n</li>\n</ul>\n<hr />\n<p>Finally ...</p>\n<blockquote>\n<p>Is the nested if statement used for iterating over arrays like the nested for</p>\n</blockquote>\n<p>No.  Nested if statements are not loops.  They don't iterate.</p>\n<p>Of course, you can <em>use</em> nested if statements as part of some larger piece of code that iterates ... but there is nothing magical about that.</p>\n<p>The bottom line is that constructs like <code>if</code>, <code>while</code>, <code>for</code>, blocks, declarations, assignments, and so are <em>general purpose</em> constructs that can be used for an infinite number of different things.  The most important thing is to understand what they do.  Once you know that, the various things you can use them for become self-evident ... if you think about the algorithms you are trying to implement.</p>\n<hr />\n<p><sup>1 - The bytecodes for the two versions may be superficially different.  However, that will mean nothing.  The JIT compiler <em>should</em> be able to optimize both versions to native code that performs the same.  If it can't, that is a JIT compiler flaw which should be addressed in a future release of Java.</sup></p>\n"},{"tags":[],"owner":{"account_id":16761927,"reputation":133,"user_id":12116462,"display_name":"Vibhor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617095869,"creation_date":1600174553,"answer_id":63902321,"question_id":26197966,"body_markdown":"Which one you choose matters when accompanied by an `else`.\r\n\r\nIn the single `if` case, when you use it with `else`, `else` will run if either `a` or `b` are `false`. However in the case of nested `if`s, `else` will run only if `a` is false, because the program is already in the `if` branch when evaluating `b`.\r\n\r\nHeres an example:\r\n\r\n```swift\r\nvar a = true\r\nvar b = false\r\n\r\n// First Case (Single-Line)\r\nif a &amp;&amp; b {\r\n    print(&quot;foo&quot;);\r\n} else {\r\n    print(&quot;bar&quot;);\r\n}\r\n// Output: &quot;bar&quot;\r\n\r\n// Second Case (Nested)\r\nif a {\r\n    if b {\r\n        print(&quot;foo&quot;);\r\n    }\r\n} else {\r\n    print(&quot;bar&quot;)\r\n}\r\n// No output","title":"nested if vs. if with double ampersand?","body":"<p>Which one you choose matters when accompanied by an <code>else</code>.</p>\n<p>In the single <code>if</code> case, when you use it with <code>else</code>, <code>else</code> will run if either <code>a</code> or <code>b</code> are <code>false</code>. However in the case of nested <code>if</code>s, <code>else</code> will run only if <code>a</code> is false, because the program is already in the <code>if</code> branch when evaluating <code>b</code>.</p>\n<p>Heres an example:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>var a = true\nvar b = false\n\n// First Case (Single-Line)\nif a &amp;&amp; b {\n    print(&quot;foo&quot;);\n} else {\n    print(&quot;bar&quot;);\n}\n// Output: &quot;bar&quot;\n\n// Second Case (Nested)\nif a {\n    if b {\n        print(&quot;foo&quot;);\n    }\n} else {\n    print(&quot;bar&quot;)\n}\n// No output\n</code></pre>\n"}],"owner":{"display_name":"user3949359"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11431,"favorite_count":0,"down_vote_count":3,"up_vote_count":16,"closed_date":1600182894,"answer_count":4,"score":13,"last_activity_date":1638087848,"creation_date":1412463523,"question_id":26197966,"body_markdown":"When is the proper time to use a nested if loop \r\n\r\n    if(a){\r\n      if(b){\r\n\r\nover an if statement with a &amp;&amp; operator inside the braces?\r\n\r\n    if(a &amp;&amp; b){\r\n\r\nBoth&#39;s tasks are utilized to test 2 conditions and are true if both meet the conditions.\r\n\r\nIs the nested if statement used for iterating over arrays like the nested for?\r\n","title":"nested if vs. if with double ampersand?","body":"<p>When is the proper time to use a nested if loop</p>\n<pre><code>if(a){\n  if(b){\n</code></pre>\n<p>over an if statement with a &amp;&amp; operator inside the braces?</p>\n<pre><code>if(a &amp;&amp; b){\n</code></pre>\n<p>Both's tasks are utilized to test 2 conditions and are true if both meet the conditions.</p>\n<p>Is the nested if statement used for iterating over arrays like the nested for?</p>\n"},{"tags":["java","excel","spring-boot","apache-poi","hssfworkbook"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1638096972,"post_id":70141687,"comment_id":123991906,"body_markdown":"https://stackoverflow.com/questions/53587987/how-to-create-a-dependent-drop-down-list-using-apache-poi/53636333#53636333","body":"<a href=\"https://stackoverflow.com/questions/53587987/how-to-create-a-dependent-drop-down-list-using-apache-poi/53636333#53636333\" title=\"how to create a dependent drop down list using apache poi\">stackoverflow.com/questions/53587987/&hellip;</a>"},{"owner":{"account_id":16221107,"reputation":83,"user_id":11712628,"display_name":"Ashish"},"score":0,"creation_date":1638204073,"post_id":70141687,"comment_id":124020264,"body_markdown":"thanks @AxelRichter","body":"thanks @AxelRichter"}],"owner":{"account_id":16221107,"reputation":83,"user_id":11712628,"display_name":"Ashish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638096989,"answer_count":0,"score":0,"last_activity_date":1638087536,"creation_date":1638087536,"question_id":70141687,"body_markdown":"I need to create a dependent drop down list for two adjacent columns in XSSFSheet sheet.\r\nEx:-\r\n\r\nCol: Country | State\r\n\r\n     C1      | [S1,S2,S3]\r\n\r\nThe data would be in Map&lt;String,String[]&gt; format, so when country column is selected from drop down, states array for that selected country needs to be shown in &quot;State&quot; adjacent column","title":"Excel dependent drop down list using Apache POI","body":"<p>I need to create a dependent drop down list for two adjacent columns in XSSFSheet sheet.\nEx:-</p>\n<p>Col: Country | State</p>\n<pre><code> C1      | [S1,S2,S3]\n</code></pre>\n<p>The data would be in Map&lt;String,String[]&gt; format, so when country column is selected from drop down, states array for that selected country needs to be shown in &quot;State&quot; adjacent column</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign","openfeign"],"comments":[{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1616464969,"post_id":66756119,"comment_id":118005217,"body_markdown":"You are using jackson encoder and decoder, it might be converting your params into json and hence params might not be reaching as form data, try commenting encoder/decoder.","body":"You are using jackson encoder and decoder, it might be converting your params into json and hence params might not be reaching as form data, try commenting encoder/decoder."}],"answers":[{"tags":[],"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638087416,"creation_date":1638042521,"answer_id":70138184,"question_id":66756119,"body_markdown":"I had the same issue with Feign Client when consuming `application/x-www-form-urlencoded` based API from Pinterest REST API.\r\n\r\nFinally all the things were working with following setup, and here I&#39;ve added Basic authentication to the Feign Client. \r\n\r\nThis client communication layer was developed with \r\n- spring boot 2.6.0\r\n- feign-form 3.8.0\r\n- feign-form-spring 3.8.0\r\n- feign-core 11.7\r\n\r\n```java\r\npackage com.javatodev.app.openfeignposttest.rest.client;\r\n\r\nimport feign.auth.BasicAuthRequestInterceptor;\r\nimport org.springframework.cloud.openfeign.FeignClient;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n\r\n@FeignClient(name = &quot;pinterest-api-request-client&quot;, url = &quot;https://api.pinterest.com/v5&quot;, configuration = PinterestAPIClient.Configuration.class)\r\npublic interface PinterestApiRequestClient {\r\n\r\n    @PostMapping(path = &quot;/oauth/token&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n    PinterestAccessTokenResponse getAuthenticationToken(@RequestBody PinterestAccessTokenRequest request);\r\n\r\n    class Configuration {\r\n\r\n@Bean\r\n        public Encoder feignFormEncoder () {\r\n            return new SpringFormEncoder();\r\n        }\r\n\r\n        @Bean\r\n        public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\r\n            return new BasicAuthRequestInterceptor(&quot;app_id&quot;, &quot;app_secret&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRequest and Response DTOs\r\n\r\n```\r\npackage com.javatodev.app.openfeignposttest.rest.client;\r\n\r\nimport lombok.*;\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\npublic class PinterestAccessTokenRequest {\r\n    private String code;\r\n    private String redirect_uri;\r\n    private String grant_type;\r\n}\r\n```\r\n\r\n```\r\npackage com.javatodev.app.openfeignposttest.rest.client;\r\n\r\nimport lombok.*;\r\n\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class PinterestAccessTokenResponse {\r\n\r\n    private String access_token;\r\n    private String refresh_token;\r\n    private String response_type;\r\n    private Long expires_in;\r\n    private Long refresh_token_expires_in;\r\n    private String scope;\r\n\r\n}\r\n```","title":"Request body is missing in the server end for feign application/x-www-form-urlencoded type request","body":"<p>I had the same issue with Feign Client when consuming <code>application/x-www-form-urlencoded</code> based API from Pinterest REST API.</p>\n<p>Finally all the things were working with following setup, and here I've added Basic authentication to the Feign Client.</p>\n<p>This client communication layer was developed with</p>\n<ul>\n<li>spring boot 2.6.0</li>\n<li>feign-form 3.8.0</li>\n<li>feign-form-spring 3.8.0</li>\n<li>feign-core 11.7</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.javatodev.app.openfeignposttest.rest.client;\n\nimport feign.auth.BasicAuthRequestInterceptor;\nimport org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\n\n@FeignClient(name = &quot;pinterest-api-request-client&quot;, url = &quot;https://api.pinterest.com/v5&quot;, configuration = PinterestAPIClient.Configuration.class)\npublic interface PinterestApiRequestClient {\n\n    @PostMapping(path = &quot;/oauth/token&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n    PinterestAccessTokenResponse getAuthenticationToken(@RequestBody PinterestAccessTokenRequest request);\n\n    class Configuration {\n\n@Bean\n        public Encoder feignFormEncoder () {\n            return new SpringFormEncoder();\n        }\n\n        @Bean\n        public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\n            return new BasicAuthRequestInterceptor(&quot;app_id&quot;, &quot;app_secret&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Request and Response DTOs</p>\n<pre><code>package com.javatodev.app.openfeignposttest.rest.client;\n\nimport lombok.*;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class PinterestAccessTokenRequest {\n    private String code;\n    private String redirect_uri;\n    private String grant_type;\n}\n</code></pre>\n<pre><code>package com.javatodev.app.openfeignposttest.rest.client;\n\nimport lombok.*;\n\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class PinterestAccessTokenResponse {\n\n    private String access_token;\n    private String refresh_token;\n    private String response_type;\n    private Long expires_in;\n    private Long refresh_token_expires_in;\n    private String scope;\n\n}\n</code></pre>\n"}],"owner":{"account_id":20990313,"reputation":53,"user_id":15423296,"display_name":"hacker painters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638087416,"creation_date":1616463797,"question_id":66756119,"body_markdown":"I have been working on building feign client to send a form urlencoded requests. The thing is it worked fine till yesterday without no issues. But now request body is not being sent to the server.\r\n\r\nHere is my configuration.\r\n```\r\n\r\n    EmailClientConfiguration.class\r\n    \r\n    public class EmailClientConfiguration  {\r\n        \r\n        @Bean\r\n        public RequestInterceptor requestInterceptor() {\r\n            return template -&gt; {\r\n                 template.header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            };\r\n        }\r\n        \r\n        @Bean\r\n        public OkHttpClient client() {\r\n            return new OkHttpClient();\r\n        }\r\n        \r\n        @Bean\r\n        Logger.Level feignLoggerLevel() {\r\n            return Logger.Level.FULL;\r\n        }\r\n        \r\n        @Bean\r\n        public Decoder feignDecoder() {\r\n            return new JacksonDecoder();\r\n        }\r\n        \r\n        @Bean\r\n        public Encoder feignFormEncoder () {\r\n            return new SpringFormEncoder(new JacksonEncoder());\r\n        }\r\n    }\r\n\r\n```\r\n**Client:**\r\n```\r\n\r\n    @FeignClient(name = &quot;email&quot;, url = &quot;localhost:3000&quot;, \r\n        configuration = EmailClientConfiguration.class)\r\n    public interface EmailClient {\r\n    \r\n        @PostMapping(value = &quot;/email/send&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;)\r\n        ResponseDto sendEmail(@RequestBody Map&lt;String, String&gt; requestBody);\r\n        \r\n    }\r\n\r\n```\r\n**Request Body:**\r\n```\r\nMap&lt;String, String&gt; requestBody = \r\nMap.of(&quot;username&quot;, &quot;xyz&quot;,\r\n&quot;email&quot;, &quot;xyz@gmail.com&quot;,\r\n&quot;key&quot;, &quot;xxx&quot;);\r\n```\r\n\r\nI debugged from server end too can&#39;t find why request body is not received. I see no error while sending requests. How to check if request body present before sending requests.","title":"Request body is missing in the server end for feign application/x-www-form-urlencoded type request","body":"<p>I have been working on building feign client to send a form urlencoded requests. The thing is it worked fine till yesterday without no issues. But now request body is not being sent to the server.</p>\n<p>Here is my configuration.</p>\n<pre><code>\n    EmailClientConfiguration.class\n    \n    public class EmailClientConfiguration  {\n        \n        @Bean\n        public RequestInterceptor requestInterceptor() {\n            return template -&gt; {\n                 template.header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            };\n        }\n        \n        @Bean\n        public OkHttpClient client() {\n            return new OkHttpClient();\n        }\n        \n        @Bean\n        Logger.Level feignLoggerLevel() {\n            return Logger.Level.FULL;\n        }\n        \n        @Bean\n        public Decoder feignDecoder() {\n            return new JacksonDecoder();\n        }\n        \n        @Bean\n        public Encoder feignFormEncoder () {\n            return new SpringFormEncoder(new JacksonEncoder());\n        }\n    }\n\n</code></pre>\n<p><strong>Client:</strong></p>\n<pre><code>\n    @FeignClient(name = &quot;email&quot;, url = &quot;localhost:3000&quot;, \n        configuration = EmailClientConfiguration.class)\n    public interface EmailClient {\n    \n        @PostMapping(value = &quot;/email/send&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;)\n        ResponseDto sendEmail(@RequestBody Map&lt;String, String&gt; requestBody);\n        \n    }\n\n</code></pre>\n<p><strong>Request Body:</strong></p>\n<pre><code>Map&lt;String, String&gt; requestBody = \nMap.of(&quot;username&quot;, &quot;xyz&quot;,\n&quot;email&quot;, &quot;xyz@gmail.com&quot;,\n&quot;key&quot;, &quot;xxx&quot;);\n</code></pre>\n<p>I debugged from server end too can't find why request body is not received. I see no error while sending requests. How to check if request body present before sending requests.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":5945965,"reputation":1809,"user_id":4675457,"display_name":"Todor Kostov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638052426,"creation_date":1638052426,"answer_id":70139239,"question_id":70136180,"body_markdown":"When you want to present items in a list by using a Recycle View and an adapter, then these items usually have similar UI and are base on the same type of data (e.x. Car, Person, Building, etc.). It&#39;s not a good idea to mix different entities in a single adapter. The data sources can be of different lengths and the list items will have different UI. Thus, stick to the idea - one Recycle View with one adapter.","title":"How to set multiple Recycleview to single adapter in Firebase (MultipleView Type)?","body":"<p>When you want to present items in a list by using a Recycle View and an adapter, then these items usually have similar UI and are base on the same type of data (e.x. Car, Person, Building, etc.). It's not a good idea to mix different entities in a single adapter. The data sources can be of different lengths and the list items will have different UI. Thus, stick to the idea - one Recycle View with one adapter.</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638086715,"creation_date":1638086715,"answer_id":70141615,"question_id":70136180,"body_markdown":"One of the most important ideas in programming is [reusability][1], and I quote, &quot;In computer science and software engineering, **reusability** is the use of existing assets in some form within the software product development process&quot;.\r\n\r\nSo if the only thing that differs is the model classes and the layout files, then you can create a single adapter class. The key to solving this issue is to use [generics][2]. Here is a working example:\r\n\r\n* https://stackoverflow.com/questions/24572081/create-a-generic-base-adapter\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Reusability\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/types.html","title":"How to set multiple Recycleview to single adapter in Firebase (MultipleView Type)?","body":"<p>One of the most important ideas in programming is <a href=\"https://en.wikipedia.org/wiki/Reusability\" rel=\"nofollow noreferrer\">reusability</a>, and I quote, &quot;In computer science and software engineering, <strong>reusability</strong> is the use of existing assets in some form within the software product development process&quot;.</p>\n<p>So if the only thing that differs is the model classes and the layout files, then you can create a single adapter class. The key to solving this issue is to use <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">generics</a>. Here is a working example:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24572081/create-a-generic-base-adapter\">Create a Generic Base Adapter?</a></li>\n</ul>\n"}],"owner":{"display_name":"user17524957"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70141615,"answer_count":2,"score":1,"last_activity_date":1638086795,"creation_date":1638027092,"question_id":70136180,"body_markdown":"How to set multiple RecycleView to a single adapter in Firebase?\r\n\r\nI am creating an app, there are a lot of categories in my app, and creating multiple adapters, models, and RecycleView makes an app complicated. It is hard to make different adapters for multiple RecycleView.\r\n\r\nCan I set multiple RecycleView to one single adapter? By using if or else or switch cases how to do this?\r\n\r\nOr is there any alternative?\r\n\r\nFirst Model Class\r\n```\r\npublic class FirstModel {\r\n    private String Image, Text;\r\n\r\n    FirstModel() {\r\n    }\r\n\r\n    public FirstModel(String image, String text) {\r\n        Image = image;\r\n        Text = text;\r\n    }\r\n\r\n    public String getImage() {\r\n        return Image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        Image = image;\r\n    }\r\n\r\n    public String getText() {\r\n        return Text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        Text = text;\r\n    }\r\n}\r\n```\r\nSecond Model Class\r\n\r\n```\r\npublic class SecondModel  {\r\n    private String Image, Text;\r\n\r\n    SecondModel() {\r\n    }\r\n\r\n    public SecondModel(String image, String text) {\r\n        Image = image;\r\n        Text = text;\r\n    }\r\n\r\n    public String getImage() {\r\n        return Image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        Image = image;\r\n    }\r\n\r\n    public String getText() {\r\n        return Text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        Text = text;\r\n    }\r\n```\r\nLink To One Adapter\r\n\r\n```\r\npublic class Adapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n    private final int FirstLayout = 0;\r\n    private final int SecondLayout = 1;    \r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view;\r\n        if (viewType == FirstLayout) {\r\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.sample_categories, null);\r\n            return new GiftsForHerViewHolder(view);\r\n        } else {\r\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.sample_categories, null);\r\n            return new GiftsForHimViewHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        ????\r\n        return super.getItemViewType(position);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n\r\n        switch (holder.getItemViewType()) {\r\n            case 1:\r\n                ?????\r\n        }\r\n    }\r\n\r\n        @Override\r\n        public int getItemCount () {\r\n            return ???? .size();\r\n        }\r\n\r\n        class FirstViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            private ImageView Image;\r\n            \r\n            \r\n            private TextView Text;\r\n\r\n            public FirstViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n\r\n                Image = (ImageView) itemView.findViewById(R.id.Image);\r\n                Text = (TextView) itemView.findViewById(R.id.Text);\r\n            }\r\n        }\r\n\r\n        class SecondViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            public SecondViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n            }\r\n        }\r\n    }\r\n```","title":"How to set multiple Recycleview to single adapter in Firebase (MultipleView Type)?","body":"<p>How to set multiple RecycleView to a single adapter in Firebase?</p>\n<p>I am creating an app, there are a lot of categories in my app, and creating multiple adapters, models, and RecycleView makes an app complicated. It is hard to make different adapters for multiple RecycleView.</p>\n<p>Can I set multiple RecycleView to one single adapter? By using if or else or switch cases how to do this?</p>\n<p>Or is there any alternative?</p>\n<p>First Model Class</p>\n<pre><code>public class FirstModel {\n    private String Image, Text;\n\n    FirstModel() {\n    }\n\n    public FirstModel(String image, String text) {\n        Image = image;\n        Text = text;\n    }\n\n    public String getImage() {\n        return Image;\n    }\n\n    public void setImage(String image) {\n        Image = image;\n    }\n\n    public String getText() {\n        return Text;\n    }\n\n    public void setText(String text) {\n        Text = text;\n    }\n}\n</code></pre>\n<p>Second Model Class</p>\n<pre><code>public class SecondModel  {\n    private String Image, Text;\n\n    SecondModel() {\n    }\n\n    public SecondModel(String image, String text) {\n        Image = image;\n        Text = text;\n    }\n\n    public String getImage() {\n        return Image;\n    }\n\n    public void setImage(String image) {\n        Image = image;\n    }\n\n    public String getText() {\n        return Text;\n    }\n\n    public void setText(String text) {\n        Text = text;\n    }\n</code></pre>\n<p>Link To One Adapter</p>\n<pre><code>public class Adapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n    private final int FirstLayout = 0;\n    private final int SecondLayout = 1;    \n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view;\n        if (viewType == FirstLayout) {\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.sample_categories, null);\n            return new GiftsForHerViewHolder(view);\n        } else {\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.sample_categories, null);\n            return new GiftsForHimViewHolder(view);\n        }\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        ????\n        return super.getItemViewType(position);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n\n        switch (holder.getItemViewType()) {\n            case 1:\n                ?????\n        }\n    }\n\n        @Override\n        public int getItemCount () {\n            return ???? .size();\n        }\n\n        class FirstViewHolder extends RecyclerView.ViewHolder {\n\n            private ImageView Image;\n            \n            \n            private TextView Text;\n\n            public FirstViewHolder(@NonNull View itemView) {\n                super(itemView);\n\n                Image = (ImageView) itemView.findViewById(R.id.Image);\n                Text = (TextView) itemView.findViewById(R.id.Text);\n            }\n        }\n\n        class SecondViewHolder extends RecyclerView.ViewHolder {\n\n            public SecondViewHolder(@NonNull View itemView) {\n                super(itemView);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["javascript","java","base64","encode","tlv"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1636998436,"post_id":69978620,"comment_id":123701958,"body_markdown":"We don&#39;t need that image as long as you describe things well enough in your post. On that note: look at your post after you submit it because it needs to follow [the posting guidelines](/help/how-to-ask), and definitely needs to use [the correct formatting](/markdown). With that said: what&#39;s your actual problem? Nothing in your post talks about what you&#39;ve written so far, and where you got stuck in that process, so there isn&#39;t anything [for SO to help you with](/help/on-topic) yet?","body":"We don&#39;t need that image as long as you describe things well enough in your post. On that note: look at your post after you submit it because it needs to follow <a href=\"/help/how-to-ask\">the posting guidelines</a>, and definitely needs to use <a href=\"/markdown\">the correct formatting</a>. With that said: what&#39;s your actual problem? Nothing in your post talks about what you&#39;ve written so far, and where you got stuck in that process, so there isn&#39;t anything <a href=\"/help/on-topic\">for SO to help you with</a> yet?"}],"answers":[{"tags":[],"owner":{"account_id":6105736,"reputation":1223,"user_id":4763511,"accept_rate":80,"display_name":"Bu Saeed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637656783,"creation_date":1637647480,"answer_id":70076099,"question_id":69978620,"body_markdown":"You can generate the required hashes by using this library [here][1].\r\n\r\n    String qrBarcodeHash = QRBarcodeEncoder.encode(\r\n    \tnew Seller(&quot; &quot;),\r\n    \tnew TaxNumber(&quot;312345678901233&quot;),\r\n    \tnew InvoiceDate(&quot;2021-11-18T18:40:34+03:00&quot;),\r\n    \tnew InvoiceTotalAmount(&quot;2.30&quot;),\r\n    \tnew InvoiceTaxAmount(&quot;0.30&quot;)\r\n    );\r\n\r\n\r\n  [1]: https://github.com/busaeed/E-InvoiceQRBarcode","title":"How to create and parse Tag, Length, Value (TLV) in JavaScript or java and encode it in Base64","body":"<p>You can generate the required hashes by using this library <a href=\"https://github.com/busaeed/E-InvoiceQRBarcode\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>String qrBarcodeHash = QRBarcodeEncoder.encode(\n    new Seller(&quot; &quot;),\n    new TaxNumber(&quot;312345678901233&quot;),\n    new InvoiceDate(&quot;2021-11-18T18:40:34+03:00&quot;),\n    new InvoiceTotalAmount(&quot;2.30&quot;),\n    new InvoiceTaxAmount(&quot;0.30&quot;)\n);\n</code></pre>\n"}],"owner":{"account_id":7011285,"reputation":1,"user_id":6505137,"display_name":"Mahmoud Aheed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2847,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1638086474,"creation_date":1636998167,"question_id":69978620,"body_markdown":"The QR code fields shall be encoded in Tag-Length-Value (TLV) format with the tag values specified in the Tag column of the adjacent table in the image below.\r\n\r\nThe TLV encoding shall be as follows:\r\n\r\nTag: the tag value as mentioned above is stored in one byte \r\nLength: the length of the byte array resulted from the UTF8 encoding of the field value. The length shall be stored in one byte.\r\nValue: the byte array resulting from the UTF8 encoding of the field value.\r\n\r\nThis image describe my problem:\r\n\r\n![](https://i.stack.imgur.com/PZ2d9.jpg)\r\n","title":"How to create and parse Tag, Length, Value (TLV) in JavaScript or java and encode it in Base64","body":"<p>The QR code fields shall be encoded in Tag-Length-Value (TLV) format with the tag values specified in the Tag column of the adjacent table in the image below.</p>\n<p>The TLV encoding shall be as follows:</p>\n<p>Tag: the tag value as mentioned above is stored in one byte\nLength: the length of the byte array resulted from the UTF8 encoding of the field value. The length shall be stored in one byte.\nValue: the byte array resulting from the UTF8 encoding of the field value.</p>\n<p>This image describe my problem:</p>\n<p><img src=\"https://i.stack.imgur.com/PZ2d9.jpg\" alt=\"\" /></p>\n"},{"tags":["java","android","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":1582170,"reputation":18564,"user_id":1467304,"accept_rate":80,"display_name":"MobA11y"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513184025,"creation_date":1513184025,"answer_id":47798417,"question_id":47779181,"body_markdown":"Accessibility services don&#39;t receive this event. What you could do is check the content of the clipboard after some subset of Accessibility Events. \r\n\r\n    @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent e) {\r\n        \r\n        switch (e.getEventType()) {\r\n            //This event alone may be enough!\r\n            case AccessibilityEvent.TYPE_VIEW_TEXT_SELECTION_CHANGED:\r\n            \r\n            // If not fall through for these events as well, which would detect things like a &quot;Copy&quot; button activated.\r\n            case AccessibilityEvent.TYPE_VIEW_CLICKED:\r\n            case AccessibilityEvent.TYPE_VIEW_CONTEXT_CLICKED:\r\n                checkContentsOfClipboard();\r\n                \r\n        }\r\n    }","title":"AccessibilityService clipboard copy event","body":"<p>Accessibility services don't receive this event. What you could do is check the content of the clipboard after some subset of Accessibility Events. </p>\n\n<pre><code>@Override\npublic void onAccessibilityEvent(AccessibilityEvent e) {\n\n    switch (e.getEventType()) {\n        //This event alone may be enough!\n        case AccessibilityEvent.TYPE_VIEW_TEXT_SELECTION_CHANGED:\n\n        // If not fall through for these events as well, which would detect things like a \"Copy\" button activated.\n        case AccessibilityEvent.TYPE_VIEW_CLICKED:\n        case AccessibilityEvent.TYPE_VIEW_CONTEXT_CLICKED:\n            checkContentsOfClipboard();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638085665,"creation_date":1638085665,"answer_id":70141520,"question_id":47779181,"body_markdown":"Sadly not possible, as the other answer has written (and from Android 10 you can&#39;t even check what&#39;s on the clipboard without having an Activity of your own in the foreground), so I&#39;ve requested to add this API here:\r\n\r\nhttps://issuetracker.google.com/issues/207842550\r\n\r\n\r\nPlease consider starring.","title":"AccessibilityService clipboard copy event","body":"<p>Sadly not possible, as the other answer has written (and from Android 10 you can't even check what's on the clipboard without having an Activity of your own in the foreground), so I've requested to add this API here:</p>\n<p><a href=\"https://issuetracker.google.com/issues/207842550\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/207842550</a></p>\n<p>Please consider starring.</p>\n"}],"owner":{"account_id":8079232,"reputation":119,"user_id":6089088,"accept_rate":100,"display_name":"Jakub Jaboski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47798417,"answer_count":2,"score":2,"last_activity_date":1638085665,"creation_date":1513103137,"question_id":47779181,"body_markdown":"I&#39;m trying to make AccessibilityService get notified about clipboard copy event. \n\nSo far I&#39;ve tried to make work around, so the service would be notified after &quot;copy&quot; button is clicked in popup, but no event is thrown in that situation, I checked all basic events (text selection, type view click etc.)\n\nIs there any possibility to achieve that?","title":"AccessibilityService clipboard copy event","body":"<p>I'm trying to make AccessibilityService get notified about clipboard copy event. </p>\n\n<p>So far I've tried to make work around, so the service would be notified after \"copy\" button is clicked in popup, but no event is thrown in that situation, I checked all basic events (text selection, type view click etc.)</p>\n\n<p>Is there any possibility to achieve that?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":2324956,"reputation":967,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"score":0,"creation_date":1547211141,"post_id":54123512,"comment_id":95124921,"body_markdown":"Run your application with the option `-Djavax.net.debug=all` , you can get a clue for why the ssl handshake fails. Also instead of using `System.getProperty()` provide all the ssl config. details in the java command line.","body":"Run your application with the option <code>-Djavax.net.debug=all</code> , you can get a clue for why the ssl handshake fails. Also instead of using <code>System.getProperty()</code> provide all the ssl config. details in the java command line."},{"owner":{"account_id":9642001,"reputation":43,"user_id":7155930,"display_name":"Suresh"},"score":0,"creation_date":1547363311,"post_id":54123512,"comment_id":95163030,"body_markdown":"@RameshSubramanian I have added the result to my question after updating debug = all.","body":"@RameshSubramanian I have added the result to my question after updating debug = all."}],"answers":[{"tags":[],"owner":{"account_id":2324956,"reputation":967,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548070105,"creation_date":1548070105,"answer_id":54289016,"question_id":54123512,"body_markdown":"Seems that your server supports TLS Cipher Suites , but your trying with `SSLv3`. Can you run your program with `-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2 ` as suggested by the link https://dzone.com/articles/troubleshooting-javaxnetsslsslhandshakeexception-r which explains how to troubleshoot SSL Handshake failures.","title":"Unable to send Https requests (Running Tomcat 8.5 in SSLv3)","body":"<p>Seems that your server supports TLS Cipher Suites , but your trying with <code>SSLv3</code>. Can you run your program with <code>-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2</code> as suggested by the link <a href=\"https://dzone.com/articles/troubleshooting-javaxnetsslsslhandshakeexception-r\" rel=\"nofollow noreferrer\">https://dzone.com/articles/troubleshooting-javaxnetsslsslhandshakeexception-r</a> which explains how to troubleshoot SSL Handshake failures.</p>\n"}],"owner":{"account_id":9642001,"reputation":43,"user_id":7155930,"display_name":"Suresh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638084817,"creation_date":1547104203,"question_id":54123512,"body_markdown":"I am setting SSLv3 in tomcat v8.5 server.xml file using Nio Protocol and using Java 1.8. When i hit the request from IE ,i am getting response, but through a java code i am getting exception as below. \r\n\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\r\nI updated the development.properties which is in users/db8/Appdata/LocalLow/sun/java/deployment/deployment.properties (deployment.security.SSLv3=true) and i removed SSLv3 from java.security file. I enabled sslv3 in Internet Explorer.\r\n\r\n\r\n        server.xml \r\n        &lt;Connector protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \r\n        port=&quot;8443&quot; maxThreads=&quot;200&quot; scheme=&quot;https&quot; secure=&quot;true&quot; \r\n        SSLEnabled=&quot;true&quot; keystoreFile=&quot;keystore.jks&quot; keystorePass=&quot;changeit&quot; \r\n        clientAuth=&quot;false&quot; sslProtocol=&quot;SSLv3&quot; /&gt;\r\n    \r\n    java code\r\n    \r\n    import java.net.URL;\r\n    import java.io.*;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import java.net.HttpURLConnection;\r\n    \r\n    public class JavaHttpsExample\r\n    {\r\n    public static void main(String[] args) throws Exception {\r\n        String certificatesTrustStorePath = &quot;keystore.jks&quot;;\r\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;,\r\n        certificatesTrustStorePath);\r\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n    \tSystem.setProperty(&quot;https.protocols&quot;, &quot;SSLv3&quot;);\r\n    \tSystem.setProperty(&quot;jdk.tls.client.protocols&quot;, &quot;SSLv3&quot;);\r\n        String httpsURL = &quot;https://ip:8443/test/getData&quot;;\r\n        URL myUrl = new URL(httpsURL);\r\n        HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\r\n        try{       \r\n    \tInputStream is = conn.getInputStream();\r\n        InputStreamReader isr = new InputStreamReader(is);\r\n        BufferedReader br = new BufferedReader(isr);\r\n        String inputLine;\r\n        while ((inputLine = br.readLine()) != null) {\r\n        System.out.println(inputLine);\r\n        }\r\n        br.close();\r\n        } catch(Exception e){\r\n        System.out.println(&quot;exxception&quot;+e);\r\n        }    \r\n        }\r\n        } \r\n\r\nI am adding the result after updating debug = all\r\n\r\nAllow unsafe renegotiation: false\r\nAllow legacy hello messages: true\r\nIs initial handshake: true\r\nIs secure renegotiation: false\r\nmain, setSoTimeout(0) called\r\n%% No cached client session\r\nupdate handshake state: client_hello[1]\r\nupcoming handshake states: server_hello[2]\r\n*** ClientHello, SSLv3\r\nRandomCookie:  GMT: 1547297410 bytes = { 170, 53, 106, 27, 73, 55, 4, 39, 195, 152, 66, 1, 124, 244, 6, 114, 106, 181, 46, 183, 184, 202, 56, 105, 225, 158, 210, 195 }\r\nSession ID:  {}\r\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\nCompression Methods:  { 0 }\r\nExtension elliptic_curves, curve names: {secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1}\r\nExtension ec_point_formats, formats: [uncompressed]\r\n***\r\nmain, WRITE: SSLv3 Handshake, length = 107\r\nmain, READ: SSLv3 Alert, length = 2\r\nmain, RECV TLSv1.2 ALERT:  fatal, handshake_failure\r\nmain, called closeSocket()\r\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nexxceptionjavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure ","title":"Unable to send Https requests (Running Tomcat 8.5 in SSLv3)","body":"<p>I am setting SSLv3 in tomcat v8.5 server.xml file using Nio Protocol and using Java 1.8. When i hit the request from IE ,i am getting response, but through a java code i am getting exception as below. </p>\n\n<p>javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure</p>\n\n<p>I updated the development.properties which is in users/db8/Appdata/LocalLow/sun/java/deployment/deployment.properties (deployment.security.SSLv3=true) and i removed SSLv3 from java.security file. I enabled sslv3 in Internet Explorer.</p>\n\n<pre><code>    server.xml \n    &lt;Connector protocol=\"org.apache.coyote.http11.Http11NioProtocol\" \n    port=\"8443\" maxThreads=\"200\" scheme=\"https\" secure=\"true\" \n    SSLEnabled=\"true\" keystoreFile=\"keystore.jks\" keystorePass=\"changeit\" \n    clientAuth=\"false\" sslProtocol=\"SSLv3\" /&gt;\n\njava code\n\nimport java.net.URL;\nimport java.io.*;\nimport javax.net.ssl.HttpsURLConnection;\nimport java.net.HttpURLConnection;\n\npublic class JavaHttpsExample\n{\npublic static void main(String[] args) throws Exception {\n    String certificatesTrustStorePath = \"keystore.jks\";\n    System.setProperty(\"javax.net.ssl.trustStore\",\n    certificatesTrustStorePath);\n    System.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n    System.setProperty(\"https.protocols\", \"SSLv3\");\n    System.setProperty(\"jdk.tls.client.protocols\", \"SSLv3\");\n    String httpsURL = \"https://ip:8443/test/getData\";\n    URL myUrl = new URL(httpsURL);\n    HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\n    try{       \n    InputStream is = conn.getInputStream();\n    InputStreamReader isr = new InputStreamReader(is);\n    BufferedReader br = new BufferedReader(isr);\n    String inputLine;\n    while ((inputLine = br.readLine()) != null) {\n    System.out.println(inputLine);\n    }\n    br.close();\n    } catch(Exception e){\n    System.out.println(\"exxception\"+e);\n    }    \n    }\n    } \n</code></pre>\n\n<p>I am adding the result after updating debug = all</p>\n\n<p>Allow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nmain, setSoTimeout(0) called\n%% No cached client session\nupdate handshake state: client_hello[1]\nupcoming handshake states: server_hello[2]\n*** ClientHello, SSLv3\nRandomCookie:  GMT: 1547297410 bytes = { 170, 53, 106, 27, 73, 55, 4, 39, 195, 152, 66, 1, 124, 244, 6, 114, 106, 181, 46, 183, 184, 202, 56, 105, 225, 158, 210, 195 }\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\nExtension elliptic_curves, curve names: {secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1}\nExtension ec_point_formats, formats: [uncompressed]</p>\n\n<hr>\n\n<p>main, WRITE: SSLv3 Handshake, length = 107\nmain, READ: SSLv3 Alert, length = 2\nmain, RECV TLSv1.2 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nexxceptionjavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure </p>\n"},{"tags":["java","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638083329,"creation_date":1638083329,"answer_id":70141352,"question_id":70141034,"body_markdown":"&gt; However, let say if I want to build a &quot;max heap&quot;, but the constructor does not let me pass in a collection and comparator together. In this case, is the only to build max heap is via creating a wrapper class that implements comparable?\r\n\r\nYes. This class does not provide a constructor that can pass in a ```collection``` and a ```comparator``` at the same time. It will use the ```compareTo``` method of the collection element, so as you did, you need a ```Wrapper```(But this may seem a little unnecessary?).\r\n\r\n\r\n&gt; repeatedly call add.\r\n\r\nYou can use ```PriorityQueue#addAll()```.","title":"Java Priority Queue heapify","body":"<blockquote>\n<p>However, let say if I want to build a &quot;max heap&quot;, but the constructor does not let me pass in a collection and comparator together. In this case, is the only to build max heap is via creating a wrapper class that implements comparable?</p>\n</blockquote>\n<p>Yes. This class does not provide a constructor that can pass in a <code>collection</code> and a <code>comparator</code> at the same time. It will use the <code>compareTo</code> method of the collection element, so as you did, you need a <code>Wrapper</code>(But this may seem a little unnecessary?).</p>\n<blockquote>\n<p>repeatedly call add.</p>\n</blockquote>\n<p>You can use <code>PriorityQueue#addAll()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638084743,"creation_date":1638084743,"answer_id":70141448,"question_id":70141034,"body_markdown":"From the java doc:\r\n\r\n&gt; The elements of the priority queue are ordered according to their natural ordering, or by a Comparator provided at QUEUE CONSTRUCTION TIME, depending on which constructor is used\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\r\n\r\nSo you have to provide the ordering strategy at the time of building the queue. Let say you are trying to have max-heap (ordered in reverse way), then queue construction will look like below:-\r\n\r\n```\r\nQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(new YourCustomComparator())\r\n```\r\n\r\nOr if you are just handling integers you can leverage the custom one:\r\n\r\n```\r\nQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\r\n``` \r\n\r\nThis step is just to create the queue. Now how to add the element? Here you have a variety of method signatures available. Let say you have list available then you can simply pass them to [addAll][1] method.\r\n\r\nSomething like this:\r\n```\r\n queue.addAll(List.of(5, 3, 2, 10));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/AbstractQueue.html#addAll(java.util.Collection)","title":"Java Priority Queue heapify","body":"<p>From the java doc:</p>\n<blockquote>\n<p>The elements of the priority queue are ordered according to their natural ordering, or by a Comparator provided at QUEUE CONSTRUCTION TIME, depending on which constructor is used\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html</a></p>\n</blockquote>\n<p>So you have to provide the ordering strategy at the time of building the queue. Let say you are trying to have max-heap (ordered in reverse way), then queue construction will look like below:-</p>\n<pre><code>Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(new YourCustomComparator())\n</code></pre>\n<p>Or if you are just handling integers you can leverage the custom one:</p>\n<pre><code>Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\n</code></pre>\n<p>This step is just to create the queue. Now how to add the element? Here you have a variety of method signatures available. Let say you have list available then you can simply pass them to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractQueue.html#addAll(java.util.Collection)\" rel=\"nofollow noreferrer\">addAll</a> method.</p>\n<p>Something like this:</p>\n<pre><code> queue.addAll(List.of(5, 3, 2, 10));\n</code></pre>\n"}],"owner":{"account_id":5788020,"reputation":125,"user_id":4566541,"display_name":"meowDestroyer"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638120732,"accepted_answer_id":70141352,"answer_count":2,"score":0,"last_activity_date":1638084743,"creation_date":1638079097,"question_id":70141034,"body_markdown":"In general, if I understand correctly, there is a difference of runtime between &quot;heapifying;o(n)&quot; a given list vs adding each individual element; o(lg n). Does java follow this behavior? If not below question may not be valid. \r\n\r\n\r\nThe below example appears to create a &quot;min-heap&quot;.\r\n\r\n\r\n    List&lt;Integer&gt; myList = List.of(4,3,10,1);\r\n    PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(myList);\r\n\r\n\r\nHowever, let say if I want to build a &quot;max heap&quot;, but the constructor does not let me pass in a collection and comparator together. In this case, is the only to build max heap is via creating a wrapper class that implements comparable?\r\n\r\n\r\n     class Wrapper implements Comparable&lt;Wrapper&gt; {\r\n     ...\r\n     @Override\r\n     int compareTo(Wrapper o) {// define rule here...}\r\n     }\r\n\r\n     List&lt;Integer&gt; val = List.of(5,3,2,10);\r\n     List&lt;Wrapper&gt; wrappedVal = val.stream().map(Wrapper::new).collect(Collectors.toList());\r\n    \r\n     PriorityQueue&lt;Wrapper&gt; queue = new PriorityQueue&lt;&gt;(wrappedVal); \r\n\r\nNote: I understand that it is possible to create priority queue  with a comparator, then repeatedly call add.","title":"Java Priority Queue heapify","body":"<p>In general, if I understand correctly, there is a difference of runtime between &quot;heapifying;o(n)&quot; a given list vs adding each individual element; o(lg n). Does java follow this behavior? If not below question may not be valid.</p>\n<p>The below example appears to create a &quot;min-heap&quot;.</p>\n<pre><code>List&lt;Integer&gt; myList = List.of(4,3,10,1);\nPriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(myList);\n</code></pre>\n<p>However, let say if I want to build a &quot;max heap&quot;, but the constructor does not let me pass in a collection and comparator together. In this case, is the only to build max heap is via creating a wrapper class that implements comparable?</p>\n<pre><code> class Wrapper implements Comparable&lt;Wrapper&gt; {\n ...\n @Override\n int compareTo(Wrapper o) {// define rule here...}\n }\n\n List&lt;Integer&gt; val = List.of(5,3,2,10);\n List&lt;Wrapper&gt; wrappedVal = val.stream().map(Wrapper::new).collect(Collectors.toList());\n\n PriorityQueue&lt;Wrapper&gt; queue = new PriorityQueue&lt;&gt;(wrappedVal); \n</code></pre>\n<p>Note: I understand that it is possible to create priority queue  with a comparator, then repeatedly call add.</p>\n"},{"tags":["java","azure","azure-eventhub"],"answers":[{"tags":[],"owner":{"account_id":20197676,"reputation":628,"user_id":14814223,"display_name":"Jdresc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637947322,"creation_date":1637947322,"answer_id":70128019,"question_id":70124905,"body_markdown":"It is not possible by using the EventProcessorClient, however you can use the EventHubConsumerAsyncClient class to achieve what you are looking for [see doc][1],\r\nIt contains a [receiveFromPartition][2] method \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.azure.messaging.eventhubs.eventhubconsumerasyncclient?view=azure-java-stable\r\n  [2]: https://learn.microsoft.com/en-us/java/api/com.azure.messaging.eventhubs.eventhubconsumerasyncclient.receivefrompartition?view=azure-java-stable#com_azure_messaging_eventhubs_EventHubConsumerAsyncClient_receiveFromPartition_java_lang_String_com_azure_messaging_eventhubs_models_EventPosition_","title":"Azure Event Hub - EventProcessorClient on specific partition","body":"<p>It is not possible by using the EventProcessorClient, however you can use the EventHubConsumerAsyncClient class to achieve what you are looking for <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.messaging.eventhubs.eventhubconsumerasyncclient?view=azure-java-stable\" rel=\"nofollow noreferrer\">see doc</a>,\nIt contains a <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.messaging.eventhubs.eventhubconsumerasyncclient.receivefrompartition?view=azure-java-stable#com_azure_messaging_eventhubs_EventHubConsumerAsyncClient_receiveFromPartition_java_lang_String_com_azure_messaging_eventhubs_models_EventPosition_\" rel=\"nofollow noreferrer\">receiveFromPartition</a> method</p>\n"},{"tags":[],"owner":{"account_id":5953511,"reputation":183,"user_id":4680890,"display_name":"Ziggy000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638083935,"creation_date":1638055606,"answer_id":70139503,"question_id":70124905,"body_markdown":"I found out that `EventProcessorClient` is selfbalancing - i.e. it will distribute the partitions across the number of instances connected to the event hub.","title":"Azure Event Hub - EventProcessorClient on specific partition","body":"<p>I found out that <code>EventProcessorClient</code> is selfbalancing - i.e. it will distribute the partitions across the number of instances connected to the event hub.</p>\n"}],"owner":{"account_id":5953511,"reputation":183,"user_id":4680890,"display_name":"Ziggy000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638083935,"creation_date":1637932006,"question_id":70124905,"body_markdown":"I am using the EventProcessorClient to read events from an event hub. How can I restrict this client to read from a specific partition?\r\n\r\nI create it like this:\r\n\r\n```\r\nEventProcessorClientBuilder eventProcessorClientBuilder = new EventProcessorClientBuilder()\r\n\t\t        .connectionString(connectionString, eventHubName)\r\n\t\t        .consumerGroup(EventHubClientBuilder.DEFAULT_CONSUMER_GROUP_NAME)\r\n\t\t        .processEvent(IncomingEventProcessor.processEvent)\r\n\t\t        .processError(processError)\r\n\t\t        .checkpointStore(new BlobCheckpointStore(blobContainerAsyncClient));\r\n\r\n\t\tEventProcessorClient eventProcessorClient = eventProcessorClientBuilder.buildEventProcessorClient();\r\n```\r\n\r\nThe function referencer in &quot;processEvent&quot; will be called for all events on the event hub - for all partitions. I can check which partition the event was related to in that function, but I wish to only receive the events that is from a specific partition.\r\n\r\nIs this possible using the EventProcessorClient?","title":"Azure Event Hub - EventProcessorClient on specific partition","body":"<p>I am using the EventProcessorClient to read events from an event hub. How can I restrict this client to read from a specific partition?</p>\n<p>I create it like this:</p>\n<pre><code>EventProcessorClientBuilder eventProcessorClientBuilder = new EventProcessorClientBuilder()\n                .connectionString(connectionString, eventHubName)\n                .consumerGroup(EventHubClientBuilder.DEFAULT_CONSUMER_GROUP_NAME)\n                .processEvent(IncomingEventProcessor.processEvent)\n                .processError(processError)\n                .checkpointStore(new BlobCheckpointStore(blobContainerAsyncClient));\n\n        EventProcessorClient eventProcessorClient = eventProcessorClientBuilder.buildEventProcessorClient();\n</code></pre>\n<p>The function referencer in &quot;processEvent&quot; will be called for all events on the event hub - for all partitions. I can check which partition the event was related to in that function, but I wish to only receive the events that is from a specific partition.</p>\n<p>Is this possible using the EventProcessorClient?</p>\n"},{"tags":["java","arrays","matrix","multidimensional-array","simd"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1638082404,"post_id":70140981,"comment_id":123989474,"body_markdown":"`[i*n + k]` is pretty obviously the same as `[i][k]` for 2D indexing.  The `[in + k]` indexing is just manually hoisting the `i*n` by incrementing `in += n`, so you could just do it the naive way.  Using a flat 1d array is very common, though, especially in languages like C++ where `arr[][]` would make it hard to handle runtime-variable dimensions because of a lack of VLA support.  IDK how the efficiency compares for Java, but as long as the allocation is one big contiguous thing, not an array of references to other arrays / containers, it&#39;s at least in theory possible to be efficient.","body":"<code>[i*n + k]</code> is pretty obviously the same as <code>[i][k]</code> for 2D indexing.  The <code>[in + k]</code> indexing is just manually hoisting the <code>i*n</code> by incrementing <code>in += n</code>, so you could just do it the naive way.  Using a flat 1d array is very common, though, especially in languages like C++ where <code>arr[][]</code> would make it hard to handle runtime-variable dimensions because of a lack of VLA support.  IDK how the efficiency compares for Java, but as long as the allocation is one big contiguous thing, not an array of references to other arrays / containers, it&#39;s at least in theory possible to be efficient."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1638083858,"post_id":70140981,"comment_id":123989684,"body_markdown":"Also note the article you looked at is *not* explicitly using SIMD, just playing around with standard scalar stuff.  From the table of results manage at best about 1.5 FLOPs / clock, we can see it&#39;s not using SIMD instructions.  See also [What Every Programmer Should Know About Memory?](https://stackoverflow.com/q/8126311) for more about why cache-blocked matmul matters, with some examples in an appendix including one with manual SIMD vectorization for SSE2.","body":"Also note the article you looked at is <i>not</i> explicitly using SIMD, just playing around with standard scalar stuff.  From the table of results manage at best about 1.5 FLOPs / clock, we can see it&#39;s not using SIMD instructions.  See also <a href=\"https://stackoverflow.com/q/8126311\">What Every Programmer Should Know About Memory?</a> for more about why cache-blocked matmul matters, with some examples in an appendix including one with manual SIMD vectorization for SSE2."},{"owner":{"account_id":88859,"reputation":1362,"user_id":245543,"accept_rate":70,"display_name":"Ondrej Sotolar"},"score":0,"creation_date":1638084692,"post_id":70140981,"comment_id":123989784,"body_markdown":"@PeterCordes this is some nice info, you should probably convert your comment to an answer that I could accept. Not sure why this is a duplicate? It&#39;s a different question than the index conversion one.","body":"@PeterCordes this is some nice info, you should probably convert your comment to an answer that I could accept. Not sure why this is a duplicate? It&#39;s a different question than the index conversion one."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1638085410,"post_id":70140981,"comment_id":123989866,"body_markdown":"You asked how to adapt the indexing; that&#39;s the only specific question I see in your post here.  That part seems pretty trivial, so I closed it as a duplicate that explains how indexing works.  I don&#39;t think it&#39;s likely that many future readers of that blog article would find this Q&amp;A based on that question.  I commented to let you know that there&#39;s no SIMD happening there, so the question title isn&#39;t really appropriate.  At the top of the article, he explains that he&#39;s just optimizing the pure-Java scalar implementations to give a fairer comparison for stuff like the SIMD paper he linked.","body":"You asked how to adapt the indexing; that&#39;s the only specific question I see in your post here.  That part seems pretty trivial, so I closed it as a duplicate that explains how indexing works.  I don&#39;t think it&#39;s likely that many future readers of that blog article would find this Q&amp;A based on that question.  I commented to let you know that there&#39;s no SIMD happening there, so the question title isn&#39;t really appropriate.  At the top of the article, he explains that he&#39;s just optimizing the pure-Java scalar implementations to give a fairer comparison for stuff like the SIMD paper he linked."}],"owner":{"account_id":88859,"reputation":1362,"user_id":245543,"accept_rate":70,"display_name":"Ondrej Sotolar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638083919,"answer_count":0,"score":0,"last_activity_date":1638083913,"creation_date":1638078419,"question_id":70140981,"body_markdown":"Richard Startin [writes about next-gen matrix multiply][1]. But in his code, he&#39;s using 1d float[] arrays. How would I adapt his code to use 2d float[][] matrices, which are more useful to represent matrices? Or is it common to unroll such matrices to 1d array for computation?\r\n\r\n\r\n  [1]: https://richardstartin.github.io/posts/multiplying-matrices-fast-and-slow","title":"Fast Matrix Multiply with SIMD","body":"<p>Richard Startin <a href=\"https://richardstartin.github.io/posts/multiplying-matrices-fast-and-slow\" rel=\"nofollow noreferrer\">writes about next-gen matrix multiply</a>. But in his code, he's using 1d float[] arrays. How would I adapt his code to use 2d float[][] matrices, which are more useful to represent matrices? Or is it common to unroll such matrices to 1d array for computation?</p>\n"},{"tags":["java","sql","javafx"],"comments":[{"owner":{"account_id":18801139,"reputation":115,"user_id":13711415,"display_name":"Feliks Bekeshov"},"score":0,"creation_date":1638205097,"post_id":70141284,"comment_id":124020707,"body_markdown":"what do you mean like java naming conventions","body":"what do you mean like java naming conventions"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1638229444,"post_id":70141284,"comment_id":124028417,"body_markdown":"what happened when you typed _java naming conventions_ into your favorite seach engine? compare the rules you found with your code and fix to comply.","body":"what happened when you typed <i>java naming conventions</i> into your favorite seach engine? compare the rules you found with your code and fix to comply."},{"owner":{"account_id":18801139,"reputation":115,"user_id":13711415,"display_name":"Feliks Bekeshov"},"score":0,"creation_date":1638463217,"post_id":70141284,"comment_id":124100734,"body_markdown":"But what&#39;s wrong here with my question? what did you unlike here?\nWhat did i do for you why un mark??","body":"But what&#39;s wrong here with my question? what did you unlike here? What did i do for you why un mark??"}],"answers":[{"tags":[],"owner":{"account_id":18801139,"reputation":115,"user_id":13711415,"display_name":"Feliks Bekeshov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638083896,"creation_date":1638083896,"answer_id":70141386,"question_id":70141284,"body_markdown":"Oh, i just found my mistake\r\ni just forget to put \r\n```\r\n            statement.executeUpdate();\r\n```\r\nAt the end of the statements","title":"JAVAFX::Can&#39;t insert values to PHPMyAdmin","body":"<p>Oh, i just found my mistake\ni just forget to put</p>\n<pre><code>            statement.executeUpdate();\n</code></pre>\n<p>At the end of the statements</p>\n"}],"owner":{"account_id":18801139,"reputation":115,"user_id":13711415,"display_name":"Feliks Bekeshov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70141386,"answer_count":1,"score":-1,"last_activity_date":1638083896,"creation_date":1638082511,"question_id":70141284,"body_markdown":"i am facing a problem related with SQL or i don&#39;t know,here is my Database Handler class, where i am connecting it: \r\n```\r\npublic class DatabaseHandler extends Configs{\r\n    Connection dbCon;\r\n\r\n    public Connection getDbCon() throws ClassNotFoundException, SQLException {\r\n        String connectionString = &quot;jdbc:mysql://&quot; + dbHost +&quot;:&quot;\r\n                +dbPort +&quot;/&quot;+dbName;\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        dbCon= DriverManager.getConnection(connectionString,dbUsername,dbPassword);\r\n        return dbCon;\r\n\r\n    }\r\n    public void SignUpUser( String name, String surname, LocalDate date, String mobile,\r\n                           String login, String password){\r\n        String insert = &quot;INSERT INTO users (name, surname, dob, mobile,login, password)&quot; +\r\n                &quot;VALUES(?,?,?,?,?,?)&quot;;\r\n        PreparedStatement statement = null;\r\n        try {\r\n            statement = getDbCon().prepareStatement(insert);\r\n            statement.setString(1,name);\r\n            statement.setString(2,surname);\r\n            statement.setDate(3, Date.valueOf(date));\r\n            statement.setString(4,mobile);\r\n            statement.setString(5,login);\r\n            statement.setString(6,password);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\nand this is my Controller class where i am doing actions with my button :\r\n```\r\n @FXML\r\n    void btnRegistration(ActionEvent event) {\r\n        String login = txtLoginRegistration.getText();\r\n        String name = txtNameRegistration.getText();\r\n        String surname = txtSurnameRegistration.getText();\r\n        LocalDate date = txtDateRegistration.getValue();\r\n        String mobile = txtMobile.getText();\r\n        String password = txtPasswordRegistration.getText();\r\n        //Connect to DB\r\n        DatabaseHandler handler = new DatabaseHandler();\r\n        handler.SignUpUser(name,surname,date,mobile,login,password);\r\n```\r\nExtending Coonfigs class , i have just declared the variables name of DB\r\nThere is no any error while compiling it , even i did all the operations with the Try and Catch , but anyway while checking my DB it is not inserted, I would be glad for any answers, Hope i did not regret you with my answer , if i did, i apologize.","title":"JAVAFX::Can&#39;t insert values to PHPMyAdmin","body":"<p>i am facing a problem related with SQL or i don't know,here is my Database Handler class, where i am connecting it:</p>\n<pre><code>public class DatabaseHandler extends Configs{\n    Connection dbCon;\n\n    public Connection getDbCon() throws ClassNotFoundException, SQLException {\n        String connectionString = &quot;jdbc:mysql://&quot; + dbHost +&quot;:&quot;\n                +dbPort +&quot;/&quot;+dbName;\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        dbCon= DriverManager.getConnection(connectionString,dbUsername,dbPassword);\n        return dbCon;\n\n    }\n    public void SignUpUser( String name, String surname, LocalDate date, String mobile,\n                           String login, String password){\n        String insert = &quot;INSERT INTO users (name, surname, dob, mobile,login, password)&quot; +\n                &quot;VALUES(?,?,?,?,?,?)&quot;;\n        PreparedStatement statement = null;\n        try {\n            statement = getDbCon().prepareStatement(insert);\n            statement.setString(1,name);\n            statement.setString(2,surname);\n            statement.setDate(3, Date.valueOf(date));\n            statement.setString(4,mobile);\n            statement.setString(5,login);\n            statement.setString(6,password);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>and this is my Controller class where i am doing actions with my button :</p>\n<pre><code> @FXML\n    void btnRegistration(ActionEvent event) {\n        String login = txtLoginRegistration.getText();\n        String name = txtNameRegistration.getText();\n        String surname = txtSurnameRegistration.getText();\n        LocalDate date = txtDateRegistration.getValue();\n        String mobile = txtMobile.getText();\n        String password = txtPasswordRegistration.getText();\n        //Connect to DB\n        DatabaseHandler handler = new DatabaseHandler();\n        handler.SignUpUser(name,surname,date,mobile,login,password);\n</code></pre>\n<p>Extending Coonfigs class , i have just declared the variables name of DB\nThere is no any error while compiling it , even i did all the operations with the Try and Catch , but anyway while checking my DB it is not inserted, I would be glad for any answers, Hope i did not regret you with my answer , if i did, i apologize.</p>\n"},{"tags":["java","spring-boot","apache-kafka","apache-kafka-streams","spring-kafka"],"comments":[{"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"score":0,"creation_date":1638167832,"post_id":70141208,"comment_id":124006408,"body_markdown":"Have you tried modifying your directory permission `d:\\kafkastreamsdb` to `&quot;rwxr-x---&quot;`? Is it successful or not? I simply think your app doesn&#39;t have enough privileges to do that. Or try to use another version of Kafka if https://github.com/apache/kafka/pull/9947 was your problem.","body":"Have you tried modifying your directory permission <code>d:\\kafkastreamsdb</code> to <code>&quot;rwxr-x---&quot;</code>? Is it successful or not? I simply think your app doesn&#39;t have enough privileges to do that. Or try to use another version of Kafka if <a href=\"https://github.com/apache/kafka/pull/9947\" rel=\"nofollow noreferrer\">github.com/apache/kafka/pull/9947</a> was your problem."},{"owner":{"account_id":20838954,"reputation":76,"user_id":15306166,"display_name":"arpitj938"},"score":0,"creation_date":1638171040,"post_id":70141208,"comment_id":124007156,"body_markdown":"Have you verified the .checkpoint file inside the data folder of your Kafka stream ? This file is inside &lt;application id&gt;/global/. It list down the last offset it has read from the global topic. There might be a timing issue if this file contains the latest offset number.","body":"Have you verified the .checkpoint file inside the data folder of your Kafka stream ? This file is inside &lt;application id&gt;/global/. It list down the last offset it has read from the global topic. There might be a timing issue if this file contains the latest offset number."},{"owner":{"account_id":15836494,"reputation":1,"user_id":11426218,"display_name":"juan du preez"},"score":0,"creation_date":1638192968,"post_id":70141208,"comment_id":124015204,"body_markdown":"I tried another folder. Also tried switching from Windows to Linux to see if it was a compatibility issue. That error for internals.StateDirectory is now gone.  But still not reading the data correctly.\nInside .checkpoint looks like this:\n0\n3\nGreetings 0 0\nGreetings 1 0\nGreetings 2 1","body":"I tried another folder. Also tried switching from Windows to Linux to see if it was a compatibility issue. That error for internals.StateDirectory is now gone.  But still not reading the data correctly. Inside .checkpoint looks like this: 0 3 Greetings 0 0 Greetings 1 0 Greetings 2 1"},{"owner":{"account_id":15836494,"reputation":1,"user_id":11426218,"display_name":"juan du preez"},"score":0,"creation_date":1638195750,"post_id":70141208,"comment_id":124016456,"body_markdown":"I finally got it working. Still don&#39;t know why it was not working, but the solution was here:\n\nI changed the Serializer from CAMELCASE to IDENTITY, and that did the trick. Dont know why this works though.\n\n    private Gson gson =new GsonBuilder()\n            .setFieldNamingPolicy(FieldNamingPolicy.IDENTITY)\n            .create();","body":"I finally got it working. Still don&#39;t know why it was not working, but the solution was here:  I changed the Serializer from CAMELCASE to IDENTITY, and that did the trick. Dont know why this works though.      private Gson gson =new GsonBuilder()             .setFieldNamingPolicy(FieldNamingPolicy.IDENTITY)             .create();"}],"owner":{"account_id":15836494,"reputation":1,"user_id":11426218,"display_name":"juan du preez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638083649,"creation_date":1638081327,"question_id":70141208,"body_markdown":"I am creating a Springboot app and struggling to understand why my GlobalKtable is not updating. \r\n\r\nAs far as I understand, the global table is supposed to update automatically when the source topic is updated. This is not the case for me.\r\n\r\nI did notice the global table becomes populated with new data after I manually delete the state store folder. \r\n\r\nI also noted the following error output when the Spring boot app is launched:\r\n\r\n\r\n&gt; \r\n&gt; **2021-11-27 23:09:18.232 ERROR 17592 --- [           main] o.a.k.s.p.internals.StateDirectory       : Failed to change\r\n&gt; permissions for the directory d:\\kafkastreamsdb\r\n&gt; \r\n&gt; 2021-11-27 23:09:18.233 ERROR 17592 --- [           main]\r\n&gt; o.a.k.s.p.internals.StateDirectory       : Failed to change\r\n&gt; permissions for the directory d:\\kafkastreamsdb\\Kafka-streams**\r\n\r\n\r\nSeems to me the reason why I only see all the current data in the GlobalKtable after deleting the statestore folder is because the stream is not writing to the state store while the stream is running, but recreates the state store from the source topic after deletion?\r\n\r\nSo, the issue here is when I try to use the global table as a look-up in the join below, the enriched stream returns NULL for the table values. However, when I delete the state store folder, and restart Springboot, the enriched stream does return the table values. \r\nJust to clarify, new events are continuously sent to the source topic, but this data is only visible in the table after deletion. \r\n\r\n\r\n\r\nHere is my code:\r\n\r\n\r\n    @Service\r\n    public class TopologyBuilder2 {\r\n    \r\n    \r\n      public static Topology build() {\r\n    \r\n          StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n          // Register FakeAddress stream\r\n            KStream&lt;String, FakeAddress&gt; streamFakeAddress =\r\n                    builder.stream(&quot;FakeAddress&quot;, Consumed.with(Serdes.String(), JsonSerdes.FakeAddress()));\r\n    \r\n    \r\n         GlobalKTable&lt;String, Greetings&gt; globalGreetingsTable = builder.globalTable(\r\n                   &quot;Greetings&quot;\r\n                   , Consumed.with(Serdes.String(), JsonSerdes.Greetings())\r\n                   , Materialized.&lt;String, Greetings, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\r\n                           &quot;GREETINGS&quot; /* table/store name */)\r\n                           .withKeySerde(Serdes.String()) /* key serde */\r\n                            .withValueSerde(JsonSerdes.Greetings()) /* value serde */);\r\n    \r\n    \r\n           // LEFT Key mapper\r\n            KeyValueMapper&lt;String, FakeAddress, String&gt; keyMapperFakeAddress =\r\n                    ( leftkey, fakeAddress) -&gt; {\r\n                      //  System.out.println(String.valueOf(fakeAddress.getCountry()));\r\n                        return String.valueOf(fakeAddress.getCountry());\r\n                    };\r\n    \r\n            // Value joiner\r\n            ValueJoiner&lt;FakeAddress, Greetings, EnrichedCountryGreeting&gt; valueJoinerFakeAddressAndGreetings =\r\n                    (fakeAddress, greetings) -&gt; new EnrichedCountryGreeting(fakeAddress, greetings);\r\n    \r\n    \r\n          KStream&lt;String, EnrichedCountryGreeting&gt; enrichedStream\r\n                  = streamFakeAddress.join(globalGreetingsTable, keyMapperFakeAddress, valueJoinerFakeAddressAndGreetings);\r\n    \r\n          enrichedStream.print(Printed.&lt;String, EnrichedCountryGreeting&gt;toSysOut().withLabel(&quot;Stream-enrichedStream: &quot;));\r\n    \r\n    \r\n           return builder.build();\r\n    \r\n    \r\n       }\r\n    }","title":"Kafka Global Table not updating from source topic","body":"<p>I am creating a Springboot app and struggling to understand why my GlobalKtable is not updating.</p>\n<p>As far as I understand, the global table is supposed to update automatically when the source topic is updated. This is not the case for me.</p>\n<p>I did notice the global table becomes populated with new data after I manually delete the state store folder.</p>\n<p>I also noted the following error output when the Spring boot app is launched:</p>\n<blockquote>\n<p>**2021-11-27 23:09:18.232 ERROR 17592 --- [           main] o.a.k.s.p.internals.StateDirectory       : Failed to change\npermissions for the directory d:\\kafkastreamsdb</p>\n<p>2021-11-27 23:09:18.233 ERROR 17592 --- [           main]\no.a.k.s.p.internals.StateDirectory       : Failed to change\npermissions for the directory d:\\kafkastreamsdb\\Kafka-streams**</p>\n</blockquote>\n<p>Seems to me the reason why I only see all the current data in the GlobalKtable after deleting the statestore folder is because the stream is not writing to the state store while the stream is running, but recreates the state store from the source topic after deletion?</p>\n<p>So, the issue here is when I try to use the global table as a look-up in the join below, the enriched stream returns NULL for the table values. However, when I delete the state store folder, and restart Springboot, the enriched stream does return the table values.\nJust to clarify, new events are continuously sent to the source topic, but this data is only visible in the table after deletion.</p>\n<p>Here is my code:</p>\n<pre><code>@Service\npublic class TopologyBuilder2 {\n\n\n  public static Topology build() {\n\n      StreamsBuilder builder = new StreamsBuilder();\n\n      // Register FakeAddress stream\n        KStream&lt;String, FakeAddress&gt; streamFakeAddress =\n                builder.stream(&quot;FakeAddress&quot;, Consumed.with(Serdes.String(), JsonSerdes.FakeAddress()));\n\n\n     GlobalKTable&lt;String, Greetings&gt; globalGreetingsTable = builder.globalTable(\n               &quot;Greetings&quot;\n               , Consumed.with(Serdes.String(), JsonSerdes.Greetings())\n               , Materialized.&lt;String, Greetings, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\n                       &quot;GREETINGS&quot; /* table/store name */)\n                       .withKeySerde(Serdes.String()) /* key serde */\n                        .withValueSerde(JsonSerdes.Greetings()) /* value serde */);\n\n\n       // LEFT Key mapper\n        KeyValueMapper&lt;String, FakeAddress, String&gt; keyMapperFakeAddress =\n                ( leftkey, fakeAddress) -&gt; {\n                  //  System.out.println(String.valueOf(fakeAddress.getCountry()));\n                    return String.valueOf(fakeAddress.getCountry());\n                };\n\n        // Value joiner\n        ValueJoiner&lt;FakeAddress, Greetings, EnrichedCountryGreeting&gt; valueJoinerFakeAddressAndGreetings =\n                (fakeAddress, greetings) -&gt; new EnrichedCountryGreeting(fakeAddress, greetings);\n\n\n      KStream&lt;String, EnrichedCountryGreeting&gt; enrichedStream\n              = streamFakeAddress.join(globalGreetingsTable, keyMapperFakeAddress, valueJoinerFakeAddressAndGreetings);\n\n      enrichedStream.print(Printed.&lt;String, EnrichedCountryGreeting&gt;toSysOut().withLabel(&quot;Stream-enrichedStream: &quot;));\n\n\n       return builder.build();\n\n\n   }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":13495166,"reputation":367,"user_id":9736227,"display_name":"Igor Dumchykov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586544197,"creation_date":1586544197,"answer_id":61146682,"question_id":61144434,"body_markdown":"I found 1 solution. \r\nI extend StreamsBuilderFactoryBean:\r\n\r\n    @Bean(name = DEFAULT_STREAMS_BUILDER_BEAN_NAME)\r\n    @Primary\r\n    public StreamsBuilderFactoryBean defaultKafkaStreamsBuilder(KafkaStreamsConfiguration kStreamsConfigs) {\r\n        return new DynamicStreamsBuilderFactoryBean(kStreamsConfigs);\r\n    }\r\n\r\n    public static class DynamicStreamsBuilderFactoryBean extends StreamsBuilderFactoryBean {\r\n\r\n        private StreamsBuilder instance;\r\n\r\n        public DynamicStreamsBuilderFactoryBean(final KafkaStreamsConfiguration streamsConfig) {\r\n            super(streamsConfig);\r\n        }\r\n\r\n        @Override\r\n        public boolean isSingleton() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        protected synchronized StreamsBuilder createInstance() {\r\n            if (instance == null) {\r\n                instance = new StreamsBuilder();\r\n            }\r\n            return instance;\r\n        }\r\n\r\n        @Override\r\n        public synchronized void stop() {\r\n            instance = null;\r\n            super.stop();\r\n        }\r\n    }\r\n\r\nAnd when I build topology, I, instead of using StreamsBuilder, use StreamsBuilderFactoryBean#getObject():\r\n\r\n    @Component\r\npublic class DynamicStream {\r\n\r\n    private final StreamsBuilderFactoryBean streamsBuilderFactoryBean;\r\n\r\n    public void init() {\r\n        StreamsBuilder builder = streamsBuilderFactoryBean.getObject();\r\n            //build topology\r\n    }\r\n\r\n    //call this method when stream reconfiguration is needed\r\n    public void reinitialize() {\r\n        streamsBuilderFactoryBean.stop();\r\n        init();\r\n        streamsBuilderFactoryBean.start();\r\n    }\r\n}","title":"Spring kafka re-create Kafka Stream Topology in runtime","body":"<p>I found 1 solution. \nI extend StreamsBuilderFactoryBean:</p>\n\n<pre><code>@Bean(name = DEFAULT_STREAMS_BUILDER_BEAN_NAME)\n@Primary\npublic StreamsBuilderFactoryBean defaultKafkaStreamsBuilder(KafkaStreamsConfiguration kStreamsConfigs) {\n    return new DynamicStreamsBuilderFactoryBean(kStreamsConfigs);\n}\n\npublic static class DynamicStreamsBuilderFactoryBean extends StreamsBuilderFactoryBean {\n\n    private StreamsBuilder instance;\n\n    public DynamicStreamsBuilderFactoryBean(final KafkaStreamsConfiguration streamsConfig) {\n        super(streamsConfig);\n    }\n\n    @Override\n    public boolean isSingleton() {\n        return false;\n    }\n\n    @Override\n    protected synchronized StreamsBuilder createInstance() {\n        if (instance == null) {\n            instance = new StreamsBuilder();\n        }\n        return instance;\n    }\n\n    @Override\n    public synchronized void stop() {\n        instance = null;\n        super.stop();\n    }\n}\n</code></pre>\n\n<p>And when I build topology, I, instead of using StreamsBuilder, use StreamsBuilderFactoryBean#getObject():</p>\n\n<pre><code>@Component\n</code></pre>\n\n<p>public class DynamicStream {</p>\n\n<pre><code>private final StreamsBuilderFactoryBean streamsBuilderFactoryBean;\n\npublic void init() {\n    StreamsBuilder builder = streamsBuilderFactoryBean.getObject();\n        //build topology\n}\n\n//call this method when stream reconfiguration is needed\npublic void reinitialize() {\n    streamsBuilderFactoryBean.stop();\n    init();\n    streamsBuilderFactoryBean.start();\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":13495166,"reputation":367,"user_id":9736227,"display_name":"Igor Dumchykov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61146682,"answer_count":1,"score":1,"last_activity_date":1638081982,"creation_date":1586535867,"question_id":61144434,"body_markdown":"I have an application that is based on spring boot, spring-kafka and kafka-streams.\r\nWhen application starts up, it creates kafka streams topology with default list of topics.\r\nWhat I need to do is edit/recreate topology in runtime. For example, when application already running, there is new topic name comes and I want to add this topic to my topology.\r\nCurrently I&#39;m thinking about somehow to delete existing topology, close and clean up KafkaStreams, run logic where I create topology but with new topic name and start KafkaStreams again. I don`t want to restart my application. \r\nCan someone suggest me how to do this in runtime?\r\n","title":"Spring kafka re-create Kafka Stream Topology in runtime","body":"<p>I have an application that is based on spring boot, spring-kafka and kafka-streams.\nWhen application starts up, it creates kafka streams topology with default list of topics.\nWhat I need to do is edit/recreate topology in runtime. For example, when application already running, there is new topic name comes and I want to add this topic to my topology.\nCurrently I'm thinking about somehow to delete existing topology, close and clean up KafkaStreams, run logic where I create topology but with new topic name and start KafkaStreams again. I don`t want to restart my application. \nCan someone suggest me how to do this in runtime?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637960474,"creation_date":1637960474,"answer_id":70129995,"question_id":70128346,"body_markdown":"I&#39;m not entirely sure what is going wrong in your code, but since you&#39;ve asked this in official channels as well without finding an answer, I&#39;m going to refer you to one of my projects with a working custom network packet setup. I&#39;m noticing differences in how we construct the channel and register custom packets, so maybe there&#39;s a problem there.\r\n- [Shared network manager](https://github.com/Science-Centre-Delft/ForgeNPCs/blob/master/src/main/java/forgenpcs/shared/network/NetworkManager.java) (shared means that it is used on the client and server)\r\n- [Client packet handler](https://github.com/Science-Centre-Delft/ForgeNPCs/blob/master/src/main/java/forgenpcs/client/network/ClientPacketHandler.java)\r\n- [Server packet handler](https://github.com/Science-Centre-Delft/ForgeNPCs/blob/master/src/main/java/forgenpcs/server/network/ServerPacketHandler.java)\r\n - [Shared packets](https://github.com/Science-Centre-Delft/ForgeNPCs/tree/master/src/main/java/forgenpcs/shared/network/packet)","title":"Issues with minecraft forge packages in 1.16.5","body":"<p>I'm not entirely sure what is going wrong in your code, but since you've asked this in official channels as well without finding an answer, I'm going to refer you to one of my projects with a working custom network packet setup. I'm noticing differences in how we construct the channel and register custom packets, so maybe there's a problem there.</p>\n<ul>\n<li><a href=\"https://github.com/Science-Centre-Delft/ForgeNPCs/blob/master/src/main/java/forgenpcs/shared/network/NetworkManager.java\" rel=\"nofollow noreferrer\">Shared network manager</a> (shared means that it is used on the client and server)</li>\n<li><a href=\"https://github.com/Science-Centre-Delft/ForgeNPCs/blob/master/src/main/java/forgenpcs/client/network/ClientPacketHandler.java\" rel=\"nofollow noreferrer\">Client packet handler</a></li>\n<li><a href=\"https://github.com/Science-Centre-Delft/ForgeNPCs/blob/master/src/main/java/forgenpcs/server/network/ServerPacketHandler.java\" rel=\"nofollow noreferrer\">Server packet handler</a></li>\n<li><a href=\"https://github.com/Science-Centre-Delft/ForgeNPCs/tree/master/src/main/java/forgenpcs/shared/network/packet\" rel=\"nofollow noreferrer\">Shared packets</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23464081,"reputation":1,"user_id":17518554,"display_name":"RMI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638081777,"creation_date":1638081777,"answer_id":70141241,"question_id":70128346,"body_markdown":"I found out what I was doing wrong.\r\nApparently it had nothing to do with my packets but with my custom recipe type.\r\nI didn&#39;t read everything from the buffer which was causing the issue.","title":"Issues with minecraft forge packages in 1.16.5","body":"<p>I found out what I was doing wrong.\nApparently it had nothing to do with my packets but with my custom recipe type.\nI didn't read everything from the buffer which was causing the issue.</p>\n"}],"owner":{"account_id":23464081,"reputation":1,"user_id":17518554,"display_name":"RMI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70141241,"answer_count":2,"score":0,"last_activity_date":1638081777,"creation_date":1637949112,"question_id":70128346,"body_markdown":"I am making a mod in minecraft 1.16.5 forge\r\n\r\nI have a tile entity that is used for crafting but I don&#39;t want it to craft things every tick.\r\n\r\nTo achieve this I added a button that sends a package to the server whenever it needs to do the crafting.\r\n\r\nI have no idea what I am doing wrong at this point and I cannot find the cause of the issue in the minecraft code because the exception stack does not reference any of my classes.\r\n\r\nI am relatively new to minecraft modding and java in general which also isn&#39;t very helpful. However I have done my homework and have enough knowledge to know what I actually am doing and not just blindly copy pasting code from tutorials so calling me out to learn java will not help me in any capacity.\r\n\r\nI am stuck with this problem for about a week now and this is the last place I can think of that can help me\r\n\r\nIt works flawlessly in singleplayer but whenever I try to join a server with this mod installed I get an error message on my screen saying \r\n\r\n&gt; Internal Exception: io.netty.handler.codec.DecoderException: io.netty.handler.codec.EncoderException: java.io.UTFDataFormatExcpetion: malformed input around byte 5\r\n\r\n\r\nInside Debug.log it says \r\n\r\n&gt; [25Nov2021 20:17:50.906] [Render thread/FATAL] [net.minecraft.util.concurrent.ThreadTaskExecutor/]: Error executing task on Client\r\njava.util.NoSuchElementException: packet_handler\r\n\r\n\r\n\r\nI have compared my way of making the packets with multiple mods I found on curseforge most are the same way as I do it.\r\n\r\nI have asked around in multiple forge and modding related discord servers but no one was able to help me with my problem.\r\n\r\nAll tutorials on youtube did the same as I did.\r\n\r\nMy PacketHandler class looks like this:\r\n\r\n\r\n\tpublic static final String PROTOCOL_VERSION = &quot;1&quot;;\r\n\tpublic static SimpleChannel CHANNEL;\r\n\r\n\t\r\n\tpublic static void init() {\r\n\t\tint index =0;\r\n\t\tCHANNEL = NetworkRegistry.ChannelBuilder\r\n\t\t\t\t.named(new ResourceLocation(&quot;pepsimc&quot;,&quot;simple_network&quot;))\r\n\t\t\t\t.clientAcceptedVersions(PROTOCOL_VERSION::equals)\r\n\t\t\t\t.serverAcceptedVersions(PROTOCOL_VERSION::equals)\r\n\t\t\t\t.networkProtocolVersion(()-&gt;PROTOCOL_VERSION)\r\n\t\t\t\t.simpleChannel();\r\n\t\t\r\n\t\tCHANNEL.messageBuilder(ProcessingCraftPacket.class, index++, NetworkDirection.PLAY_TO_SERVER)\r\n\t\t.encoder(ProcessingCraftPacket::encode)\r\n\t\t.decoder(ProcessingCraftPacket::new)\r\n\t\t.consumer(ProcessingCraftPacket::handle)\r\n\t\t.add();\r\n\t}\r\n\r\nMy packet class looks like this:\r\n\r\n    public final BlockPos Pos;\r\n\t\r\n\tpublic ProcessingCraftPacket(BlockPos Pos) {\r\n\t\tthis.Pos = Pos;\r\n\t}\r\n\t\r\n\tpublic ProcessingCraftPacket(PacketBuffer buffer) {\r\n\t\tthis(buffer.readBlockPos());\r\n\t}\r\n\t\r\n\tpublic void encode(PacketBuffer buffer) {\r\n\t\tbuffer.writeBlockPos(this.Pos);\r\n\t}\r\n\t\r\n\tpublic static void handle(ProcessingCraftPacket message, Supplier&lt;NetworkEvent.Context&gt; ctx) {\r\n\t\tctx.get().enqueueWork(()-&gt;{\r\n\t\t\tfinal TileEntity TE = ctx.get().getSender().level.getBlockEntity(message.Pos);\r\n\t\t\tif(TE instanceof ProcessingTile) {\r\n\t\t\t\tfinal ProcessingTile PT = (ProcessingTile) TE;\r\n\t\t\t\tPT.process(ctx.get().getSender().level);\r\n\t\t\t}\r\n\t\t});\r\n\t\tctx.get().setPacketHandled(true);\r\n\t}\r\n\r\nThanks alot in advance.","title":"Issues with minecraft forge packages in 1.16.5","body":"<p>I am making a mod in minecraft 1.16.5 forge</p>\n<p>I have a tile entity that is used for crafting but I don't want it to craft things every tick.</p>\n<p>To achieve this I added a button that sends a package to the server whenever it needs to do the crafting.</p>\n<p>I have no idea what I am doing wrong at this point and I cannot find the cause of the issue in the minecraft code because the exception stack does not reference any of my classes.</p>\n<p>I am relatively new to minecraft modding and java in general which also isn't very helpful. However I have done my homework and have enough knowledge to know what I actually am doing and not just blindly copy pasting code from tutorials so calling me out to learn java will not help me in any capacity.</p>\n<p>I am stuck with this problem for about a week now and this is the last place I can think of that can help me</p>\n<p>It works flawlessly in singleplayer but whenever I try to join a server with this mod installed I get an error message on my screen saying</p>\n<blockquote>\n<p>Internal Exception: io.netty.handler.codec.DecoderException: io.netty.handler.codec.EncoderException: java.io.UTFDataFormatExcpetion: malformed input around byte 5</p>\n</blockquote>\n<p>Inside Debug.log it says</p>\n<blockquote>\n<p>[25Nov2021 20:17:50.906] [Render thread/FATAL] [net.minecraft.util.concurrent.ThreadTaskExecutor/]: Error executing task on Client\njava.util.NoSuchElementException: packet_handler</p>\n</blockquote>\n<p>I have compared my way of making the packets with multiple mods I found on curseforge most are the same way as I do it.</p>\n<p>I have asked around in multiple forge and modding related discord servers but no one was able to help me with my problem.</p>\n<p>All tutorials on youtube did the same as I did.</p>\n<p>My PacketHandler class looks like this:</p>\n<pre><code>public static final String PROTOCOL_VERSION = &quot;1&quot;;\npublic static SimpleChannel CHANNEL;\n\n\npublic static void init() {\n    int index =0;\n    CHANNEL = NetworkRegistry.ChannelBuilder\n            .named(new ResourceLocation(&quot;pepsimc&quot;,&quot;simple_network&quot;))\n            .clientAcceptedVersions(PROTOCOL_VERSION::equals)\n            .serverAcceptedVersions(PROTOCOL_VERSION::equals)\n            .networkProtocolVersion(()-&gt;PROTOCOL_VERSION)\n            .simpleChannel();\n    \n    CHANNEL.messageBuilder(ProcessingCraftPacket.class, index++, NetworkDirection.PLAY_TO_SERVER)\n    .encoder(ProcessingCraftPacket::encode)\n    .decoder(ProcessingCraftPacket::new)\n    .consumer(ProcessingCraftPacket::handle)\n    .add();\n}\n</code></pre>\n<p>My packet class looks like this:</p>\n<pre><code>public final BlockPos Pos;\n\npublic ProcessingCraftPacket(BlockPos Pos) {\n    this.Pos = Pos;\n}\n\npublic ProcessingCraftPacket(PacketBuffer buffer) {\n    this(buffer.readBlockPos());\n}\n\npublic void encode(PacketBuffer buffer) {\n    buffer.writeBlockPos(this.Pos);\n}\n\npublic static void handle(ProcessingCraftPacket message, Supplier&lt;NetworkEvent.Context&gt; ctx) {\n    ctx.get().enqueueWork(()-&gt;{\n        final TileEntity TE = ctx.get().getSender().level.getBlockEntity(message.Pos);\n        if(TE instanceof ProcessingTile) {\n            final ProcessingTile PT = (ProcessingTile) TE;\n            PT.process(ctx.get().getSender().level);\n        }\n    });\n    ctx.get().setPacketHandled(true);\n}\n</code></pre>\n<p>Thanks alot in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":2,"creation_date":1407504052,"post_id":25204481,"comment_id":39252430,"body_markdown":"Hint: It&#39;s possible to do this exercise with the techniques you learned in this chapter.","body":"Hint: It&#39;s possible to do this exercise with the techniques you learned in this chapter."}],"answers":[{"tags":[],"owner":{"account_id":1489715,"reputation":2281,"user_id":1397115,"accept_rate":67,"display_name":"Krystian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407504287,"creation_date":1407504287,"answer_id":25204581,"question_id":25204481,"body_markdown":"my small hint with division  - you can divide by 10 and take a look, what is that operation giving...\r\nMore, you have to deduce if you want to learn programming.","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<p>my small hint with division  - you can divide by 10 and take a look, what is that operation giving...\nMore, you have to deduce if you want to learn programming.</p>\n"},{"tags":[],"owner":{"account_id":2622976,"reputation":4185,"user_id":2270610,"accept_rate":80,"display_name":"Lo&#239;c Gammaitoni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1407504327,"creation_date":1407504327,"answer_id":25204591,"question_id":25204481,"body_markdown":"You know that the number is 5 digit long.\r\n\r\nWhat about \r\n\r\n    number / 10 000 to retrieve the first digit.\r\n    number = reminder\r\n    number / 1000 to retrieve the second digit.\r\n    number = reminder\r\n    number / 100 to retrieve the third digit.\r\n    number = reminder\r\n    number / 10 to retrieve the fourth digit.\r\n    and reminder is the 5th one.\r\n\r\n\r\n\r\n           \r\n","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<p>You know that the number is 5 digit long.</p>\n\n<p>What about </p>\n\n<pre><code>number / 10 000 to retrieve the first digit.\nnumber = reminder\nnumber / 1000 to retrieve the second digit.\nnumber = reminder\nnumber / 100 to retrieve the third digit.\nnumber = reminder\nnumber / 10 to retrieve the fourth digit.\nand reminder is the 5th one.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407504932,"creation_date":1407504932,"answer_id":25204783,"question_id":25204481,"body_markdown":"Try something like this\r\n\r\n    String str1 = &quot;&quot;;\r\n    int a = 12345;\r\n    while(a&gt;0)\r\n    {\r\n      int b = a%10;\r\n      str1 = str1 + String.valueOf(b+&quot; &quot;);\r\n      a = a/10;\r\n    }\r\n    StringBuilder str = new StringBuilder(str1);\r\n    System.out.println(str.reverse());","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<p>Try something like this</p>\n\n<pre><code>String str1 = \"\";\nint a = 12345;\nwhile(a&gt;0)\n{\n  int b = a%10;\n  str1 = str1 + String.valueOf(b+\" \");\n  a = a/10;\n}\nStringBuilder str = new StringBuilder(str1);\nSystem.out.println(str.reverse());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5262382,"reputation":1,"user_id":4203523,"display_name":"Lehka"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1414778963,"creation_date":1414777752,"answer_id":26680622,"question_id":25204481,"body_markdown":"    package chapter1;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Exercise3 {\r\n\r\n        public static void main (String[] args){\r\n        Scanner scan = new Scanner (System.in);\r\n        System.out.print (&quot;Enter a number that consist of 5 digits: &quot;);\r\n        int num =scan.nextInt();\r\n        \r\n        int digit1 =num / 10000;\r\n        int digit2 =(( num % 10000) / 1000 );  // the modulus answer of num/10000 is divided by 1000\r\n        int digit3 =( ( num % 1000) / 100 );\r\n        int digit4 = ( ( num% 100 ) / 10 );\r\n        int digit5 = ( num % 10);\r\n        \r\n        System.out.print (digit1+&quot;\\t&quot;);\r\n        System.out.print(digit2+&quot;\\t&quot;);\r\n        System.out.print(digit3+&quot;\\t&quot;);\r\n        System.out.print(digit4+&quot;\\t&quot;);\r\n        System.out.println(digit5+&quot;\\t&quot;);\r\n        }\r\n        \r\n     \r\n    }","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<pre><code>package chapter1;\n\nimport java.util.Scanner;\n\npublic class Exercise3 {\n\n    public static void main (String[] args){\n    Scanner scan = new Scanner (System.in);\n    System.out.print (\"Enter a number that consist of 5 digits: \");\n    int num =scan.nextInt();\n\n    int digit1 =num / 10000;\n    int digit2 =(( num % 10000) / 1000 );  // the modulus answer of num/10000 is divided by 1000\n    int digit3 =( ( num % 1000) / 100 );\n    int digit4 = ( ( num% 100 ) / 10 );\n    int digit5 = ( num % 10);\n\n    System.out.print (digit1+\"\\t\");\n    System.out.print(digit2+\"\\t\");\n    System.out.print(digit3+\"\\t\");\n    System.out.print(digit4+\"\\t\");\n    System.out.println(digit5+\"\\t\");\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7793609,"reputation":13,"user_id":5895620,"display_name":"Ottoman079"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454865867,"creation_date":1454865867,"answer_id":35256610,"question_id":25204481,"body_markdown":"I also just started with java and with this book, and this is the code that did the tric for me. Forgive me if i did something strange... :)\r\n   \r\n    import java.util.Scanner;\r\n    \r\n    public class SeparateNumber\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Scanner in = new Scanner(System.in);\r\n            int nr, nr1, nr2, nr3, nr4, nr5;\r\n            \r\n            System.out.print(&quot;Enter a number with 5 digits: &quot;);\r\n            nr = in.nextInt();\r\n            \r\n            nr1 = nr / 10000;\r\n            nr2 = (nr % 10000) / 1000;\r\n            nr3 = ((nr % 10000) % 1000) / 100;\r\n            nr4 = (((nr % 10000) % 1000) % 100) / 10;\r\n            nr5 = (((nr % 10000) % 1000) % 100) % 10;\r\n            \r\n            System.out.printf(&quot;%d%s%d%s%d%s%d%s%d%n&quot;, nr1, &quot; &quot;, nr2, &quot; &quot;, nr3, &quot; &quot;, nr4, &quot; &quot;, nr5);\r\n        }\r\n    }","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<p>I also just started with java and with this book, and this is the code that did the tric for me. Forgive me if i did something strange... :)</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class SeparateNumber\n{\n    public static void main(String[] args)\n    {\n        Scanner in = new Scanner(System.in);\n        int nr, nr1, nr2, nr3, nr4, nr5;\n\n        System.out.print(\"Enter a number with 5 digits: \");\n        nr = in.nextInt();\n\n        nr1 = nr / 10000;\n        nr2 = (nr % 10000) / 1000;\n        nr3 = ((nr % 10000) % 1000) / 100;\n        nr4 = (((nr % 10000) % 1000) % 100) / 10;\n        nr5 = (((nr % 10000) % 1000) % 100) % 10;\n\n        System.out.printf(\"%d%s%d%s%d%s%d%s%d%n\", nr1, \" \", nr2, \" \", nr3, \" \", nr4, \" \", nr5);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454932957,"creation_date":1454932957,"answer_id":35269214,"question_id":25204481,"body_markdown":"Below code handles splitting on any int in integer range. \r\n\r\nSteps:\r\n\r\n1. Convert int to String\r\n2. Convert each character of String to int by using Integer.parseInt\r\n3. Store int digits in int[]\r\n4. Print int[]\r\n\r\nSample code:\r\n\r\n    import java.util.*;\r\n    \r\n    public class SplitDigits{\r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tSystem.out.println(&quot;Enter number:&quot;);\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint number = sc.nextInt();\r\n    \t\tSystem.out.println(&quot;You have entered:&quot;+number);\r\n    \t\tString str = String.valueOf(number);\r\n    \t\tint length = str.length();\r\n    \t\tif ( length &gt; 0){\r\n    \t\t\tint[] digits = new int[length];\r\n    \t\t\tfor ( int i=0; i &lt; length; i++){\r\n    \t\t\t\tdigits[i] = Integer.parseInt(String.valueOf(str.charAt(i)));\r\n    \t\t\t}\r\n    \t\t\tfor ( int i=0; i &lt; digits.length; i++){\r\n    \t\t\t\tSystem.out.println(&quot;Digits:&quot;+digits[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\noutput:\r\n\r\n    java SplitDigits\r\n    Enter number:\r\n    123456789\r\n    You have entered:123456789\r\n    Digits:1\r\n    Digits:2\r\n    Digits:3\r\n    Digits:4\r\n    Digits:5\r\n    Digits:6\r\n    Digits:7\r\n    Digits:8\r\n    Digits:9\r\n\r\n","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<p>Below code handles splitting on any int in integer range. </p>\n\n<p>Steps:</p>\n\n<ol>\n<li>Convert int to String</li>\n<li>Convert each character of String to int by using Integer.parseInt</li>\n<li>Store int digits in int[]</li>\n<li>Print int[]</li>\n</ol>\n\n<p>Sample code:</p>\n\n<pre><code>import java.util.*;\n\npublic class SplitDigits{\n    public static void main(String args[]) throws Exception {\n        System.out.println(\"Enter number:\");\n        Scanner sc = new Scanner(System.in);\n        int number = sc.nextInt();\n        System.out.println(\"You have entered:\"+number);\n        String str = String.valueOf(number);\n        int length = str.length();\n        if ( length &gt; 0){\n            int[] digits = new int[length];\n            for ( int i=0; i &lt; length; i++){\n                digits[i] = Integer.parseInt(String.valueOf(str.charAt(i)));\n            }\n            for ( int i=0; i &lt; digits.length; i++){\n                System.out.println(\"Digits:\"+digits[i]);\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>java SplitDigits\nEnter number:\n123456789\nYou have entered:123456789\nDigits:1\nDigits:2\nDigits:3\nDigits:4\nDigits:5\nDigits:6\nDigits:7\nDigits:8\nDigits:9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13939119,"reputation":11,"user_id":10065487,"display_name":"W. Clemons"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531323758,"creation_date":1531319269,"answer_id":51288077,"question_id":25204481,"body_markdown":"Try this:\r\n\r\n    import java.util.*;\r\n    public class DigitsDisplay\r\n    {\r\n        public static void main (String[] args)\r\n\t\t{\r\n            Scanner input = new Scanner (System.in);\r\n            int digit;\r\n            System.out.print(&quot;Enter a positive number: &quot;);\r\n            digit = input.nextInt();\r\n            int power = 1;\r\n            while (power &lt;= digit) {\r\n\t\t\t\tpower *= 10;\r\n\t\t\t}\r\n            power /= 10;\r\n            while (power &gt; 0) {\r\n\t\t\t\tSystem.out.println(digit/power);\r\n\t\t\t\tdigit %= power;\r\n\t\t\t\tpower /= 10;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<p>Try this:</p>\n\n<pre><code>import java.util.*;\npublic class DigitsDisplay\n{\n    public static void main (String[] args)\n    {\n        Scanner input = new Scanner (System.in);\n        int digit;\n        System.out.print(\"Enter a positive number: \");\n        digit = input.nextInt();\n        int power = 1;\n        while (power &lt;= digit) {\n            power *= 10;\n        }\n        power /= 10;\n        while (power &gt; 0) {\n            System.out.println(digit/power);\n            digit %= power;\n            power /= 10;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13421902,"reputation":21,"user_id":9684387,"display_name":"Mahbubur Riad"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1585548515,"creation_date":1585548515,"answer_id":60924929,"question_id":25204481,"body_markdown":"Answer is:\r\n```\r\n//your package name\r\n\r\nimport java.util.Scanner; //for input the userin\r\npublic class SeperateDigit {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.printf(&quot;Enter a 5 digit number: &quot;);\r\n        int number = input.nextInt();\r\n\r\n        int number1 = number/100000;\r\n        int arrange = number%10000;\r\n        int number2 = arrange/1000;\r\n        int number3 = (arrange % 1000) /100;\r\n        int number4 =(( arrange % 1000) % 100) / 10;\r\n        int number5 = ((arrange % 1000) % 100) % 10;\r\n\r\n        System.out.printf(&quot;%d %d %d %d %d&quot;, number1,number2,number3,number4, number5);\r\n    }\r\n}\r\n\r\n```\r\n\r\nand Result is\r\n```\r\nEnter a 5 digit number: 422339\r\n4 2 3 3 9\r\n```","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<p>Answer is:</p>\n\n<pre><code>//your package name\n\nimport java.util.Scanner; //for input the userin\npublic class SeperateDigit {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        System.out.printf(\"Enter a 5 digit number: \");\n        int number = input.nextInt();\n\n        int number1 = number/100000;\n        int arrange = number%10000;\n        int number2 = arrange/1000;\n        int number3 = (arrange % 1000) /100;\n        int number4 =(( arrange % 1000) % 100) / 10;\n        int number5 = ((arrange % 1000) % 100) % 10;\n\n        System.out.printf(\"%d %d %d %d %d\", number1,number2,number3,number4, number5);\n    }\n}\n\n</code></pre>\n\n<p>and Result is</p>\n\n<pre><code>Enter a 5 digit number: 422339\n4 2 3 3 9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17368979,"reputation":1,"user_id":12583488,"display_name":"CodeSensei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599921036,"creation_date":1599921036,"answer_id":63861369,"question_id":25204481,"body_markdown":"    import java.util.Scanner;  \r\n    public class DigitSeparator{  \r\n        public static void main(String[] args){  \r\n    \t    Scanner input = new Scanner(System.in);  \r\n    \t    System.out.print(&quot;Enter a 5 digit number: &quot;);  \r\n    \t    int number = input.nextInt();  \r\n    \r\n    \t    System.out.print((number / 10000)+ &quot;   &quot;);   \r\n    \t    int divider = 10000;  \r\n    \t    int mod = number % 10000;  \r\n    \r\n    \t    for(int i = 1; i &lt;= 4; i++){  \r\n                divider /= 10;  \r\n                System.out.print( mod/divider +&quot;   &quot;);  \r\n                mod %= divider;         \r\n            }  \r\n            System.out.println();  \r\n        }  \r\n    }  ","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<pre><code>import java.util.Scanner;  \npublic class DigitSeparator{  \n    public static void main(String[] args){  \n        Scanner input = new Scanner(System.in);  \n        System.out.print(&quot;Enter a 5 digit number: &quot;);  \n        int number = input.nextInt();  \n\n        System.out.print((number / 10000)+ &quot;   &quot;);   \n        int divider = 10000;  \n        int mod = number % 10000;  \n\n        for(int i = 1; i &lt;= 4; i++){  \n            divider /= 10;  \n            System.out.print( mod/divider +&quot;   &quot;);  \n            mod %= divider;         \n        }  \n        System.out.println();  \n    }  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19462254,"reputation":239,"user_id":14236309,"display_name":"Noman Hassan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602211763,"creation_date":1602211763,"answer_id":64273270,"question_id":25204481,"body_markdown":"&gt;Here is the answer of displaying digit in same order u have enter\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class oddMethod {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Enter start number:&quot;);\r\n            int number=getNumber();\r\n            int last=Reverse1stTime(number);\r\n            System.out.println(&quot;Digit You Enter:&quot;+last);\r\n        }\r\n    \r\n        private static int getNumber() {\r\n            Scanner sr = new Scanner(System.in);\r\n            return sr.nextInt();\r\n        }\r\n        private static int Reverse1stTime(int number)\r\n        { int  digit=0;\r\n        int reverse=0;\r\n            while(number&gt;0)\r\n            {\r\n                digit=number%10;\r\n                reverse=reverse*10+digit;\r\n                number=number/10;\r\n            }\r\n           return reverseAgain(reverse);\r\n        }\r\n        private static int reverseAgain(int number)\r\n        { int  digit=0;\r\n            int reverse=0;\r\n            while(number&gt;0)\r\n            {\r\n                digit=number%10;\r\n                System.out.println(digit);\r\n    \r\n                reverse=(reverse*10+digit);\r\n                number=number/10;\r\n            }\r\n            return reverse;\r\n        }\r\n    }\r\n    Input 12345\r\n    Output 12345","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<blockquote>\n<p>Here is the answer of displaying digit in same order u have enter</p>\n</blockquote>\n<pre><code>import java.util.Scanner;\n\npublic class oddMethod {\n    public static void main(String[] args) {\n        System.out.println(&quot;Enter start number:&quot;);\n        int number=getNumber();\n        int last=Reverse1stTime(number);\n        System.out.println(&quot;Digit You Enter:&quot;+last);\n    }\n\n    private static int getNumber() {\n        Scanner sr = new Scanner(System.in);\n        return sr.nextInt();\n    }\n    private static int Reverse1stTime(int number)\n    { int  digit=0;\n    int reverse=0;\n        while(number&gt;0)\n        {\n            digit=number%10;\n            reverse=reverse*10+digit;\n            number=number/10;\n        }\n       return reverseAgain(reverse);\n    }\n    private static int reverseAgain(int number)\n    { int  digit=0;\n        int reverse=0;\n        while(number&gt;0)\n        {\n            digit=number%10;\n            System.out.println(digit);\n\n            reverse=(reverse*10+digit);\n            number=number/10;\n        }\n        return reverse;\n    }\n}\nInput 12345\nOutput 12345\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14190520,"reputation":11,"user_id":10251321,"display_name":"Mas Zah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638081720,"creation_date":1638081720,"answer_id":70141237,"question_id":25204481,"body_markdown":"    first import java.util.Scanner; berfore your \r\n    class.\r\n    and write this code in your main method.\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter a five digit number: &quot;);\r\n         int number = input.nextInt();\r\n         int first_digit = number / 10000;\r\n         int second_digit = (number % 10000) / 1000 ;\r\n         int third_digit = (number % 1000) / 100;\r\n         int fourth_digit = (number % 100) / 10;\r\n         int fifth_digit = (number % 10);\r\n         System.out.printf(&quot;%d   %d   %d   %d   \r\n         %d%n&quot;, first_digit, second_digit, third_digit, fourth_digit, fifth_digit);","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<pre><code>first import java.util.Scanner; berfore your \nclass.\nand write this code in your main method.\n\nScanner input = new Scanner(System.in);\nSystem.out.print(&quot;Enter a five digit number: &quot;);\n     int number = input.nextInt();\n     int first_digit = number / 10000;\n     int second_digit = (number % 10000) / 1000 ;\n     int third_digit = (number % 1000) / 100;\n     int fourth_digit = (number % 100) / 10;\n     int fifth_digit = (number % 10);\n     System.out.printf(&quot;%d   %d   %d   %d   \n     %d%n&quot;, first_digit, second_digit, third_digit, fourth_digit, fifth_digit);\n</code></pre>\n"}],"owner":{"account_id":4863022,"reputation":5,"user_id":3922117,"display_name":"howlfascinated"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23416,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":25204591,"answer_count":11,"score":-3,"last_activity_date":1638081720,"creation_date":1407503947,"question_id":25204481,"body_markdown":"Exercise from Deitel&#39;s &quot;Java How To Program&quot; 10th edition:\r\n\r\n&gt; 2.30 (Separating the Digits in an Integer) Write an application that inputs one number consisting of five digits from the user, separates the number into its individual digits and prints the digits separated from one another by three spaces each. For example, if the user types in the number 42339, the program should print\r\n\r\n    4   2   3   3   9\r\n\r\n&gt; Assume that the user enters the correct number of digits. What happens when you enter a number with more than five digits? What happens when you enter a number with fewer than five digits?[Hint: It&#39;s possible to do this exercise with the techniques you learned in this chapter. You&#39;ll need to use both division and reminder operations to &quot;pick off&quot; each digit.]\r\n\r\nCould someone explain to me how should I go about &quot;picking off&quot; individual integers using division and reminder operators?\r\n\r\nEDIT: control structures (if / else and the like) are not allowed yet, those are explored in future chapters. Variables, arithmetic operators and comparison operators only.","title":"Separating the Digits in an Integer - exercise from Deitel&#39;s Java book","body":"<p>Exercise from Deitel's \"Java How To Program\" 10th edition:</p>\n\n<blockquote>\n  <p>2.30 (Separating the Digits in an Integer) Write an application that inputs one number consisting of five digits from the user, separates the number into its individual digits and prints the digits separated from one another by three spaces each. For example, if the user types in the number 42339, the program should print</p>\n</blockquote>\n\n<pre><code>4   2   3   3   9\n</code></pre>\n\n<blockquote>\n  <p>Assume that the user enters the correct number of digits. What happens when you enter a number with more than five digits? What happens when you enter a number with fewer than five digits?[Hint: It's possible to do this exercise with the techniques you learned in this chapter. You'll need to use both division and reminder operations to \"pick off\" each digit.]</p>\n</blockquote>\n\n<p>Could someone explain to me how should I go about \"picking off\" individual integers using division and reminder operators?</p>\n\n<p>EDIT: control structures (if / else and the like) are not allowed yet, those are explored in future chapters. Variables, arithmetic operators and comparison operators only.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638081433,"creation_date":1637903508,"answer_id":70119821,"question_id":70119563,"body_markdown":"Run your command using a separate thread using a JavaFX [Task](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html) (search for JavaFX concurrency).\r\n\r\nAppend the result using a platform runLater so you dont update the JavaFX scene graph off the JavaFX app thread. \r\n\r\nYour problem is that you are hanging the UI thread, so no screen updates or events can occur.\r\n\r\n**Example**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.concurrent.Task;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class ProcessApp extends Application {\r\n    \r\n        private static final VBox logs = new VBox(10);\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            TextField cmd = new TextField();\r\n            cmd.setPromptText(&quot;Enter a command&quot;);\r\n    \r\n            Button run = new Button(&quot;Run&quot;);\r\n            run.setDefaultButton(true);\r\n            run.setDisable(true);\r\n            run.setOnAction(e -&gt; runCommand(cmd.getText()));\r\n            run.disableProperty().bind(cmd.textProperty().isEmpty());\r\n    \r\n            HBox commandInput = new HBox(10, cmd, run);\r\n            HBox.setHgrow(cmd, Priority.ALWAYS);\r\n    \r\n            ScrollPane scrollableLogs = new ScrollPane(logs);\r\n            scrollableLogs.setFitToWidth(true);\r\n            scrollableLogs.setPrefSize(800, 400);\r\n    \r\n            VBox layout = new VBox(10, commandInput, scrollableLogs);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            stage.setTitle(&quot;Process runner&quot;);\r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        private void runCommand(String cmd) {\r\n            String name = &quot;Executing: &quot; + System.currentTimeMillis() + &quot;: &quot; + cmd;\r\n    \r\n            TextArea logView = new TextArea();\r\n            logView.setPrefHeight(100);\r\n    \r\n            logs.getChildren().addAll(new Label(name), logView);\r\n    \r\n            Task&lt;Void&gt; processTask = new Task&lt;&gt;() {\r\n                @Override\r\n                protected Void call() throws IOException {\r\n                    Process process = new ProcessBuilder()\r\n                            .command(&quot;powershell.exe&quot;, &quot;/c&quot;, cmd)\r\n                            .redirectErrorStream(true)\r\n                            .start();\r\n    \r\n                    try (\r\n                            BufferedReader r = new BufferedReader(\r\n                                    new InputStreamReader(\r\n                                            process.getInputStream()\r\n                                    )\r\n                            )\r\n                    ) {\r\n                        String line;\r\n    \r\n                        while ((line = r.readLine()) != null) {\r\n                            final String nextLine = line;\r\n                            Platform.runLater(() -&gt; logView.appendText(nextLine + &quot;\\n&quot;));\r\n                        }\r\n                    }\r\n    \r\n                    return null;\r\n                }\r\n            };\r\n    \r\n            processTask.setOnSucceeded(event -&gt;\r\n                logs.getChildren().add(\r\n                        new Label(&quot;Process execution completed successfully&quot;)\r\n                )\r\n            );\r\n    \r\n            processTask.exceptionProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                StringWriter sw = new StringWriter();\r\n                PrintWriter pw = new PrintWriter(sw);\r\n                processTask.getException().printStackTrace(pw);\r\n    \r\n                logs.getChildren().add(\r\n                        new Label(&quot;Process execution exception: &quot; + sw)\r\n                );\r\n            });\r\n    \r\n            Thread processThread = new Thread(processTask, name);\r\n            processThread.setDaemon(true); // quitting the main app will kill the thread.\r\n            processThread.start();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"How to create a multi-language code runner in javafx","body":"<p>Run your command using a separate thread using a JavaFX <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\">Task</a> (search for JavaFX concurrency).</p>\n<p>Append the result using a platform runLater so you dont update the JavaFX scene graph off the JavaFX app thread.</p>\n<p>Your problem is that you are hanging the UI thread, so no screen updates or events can occur.</p>\n<p><strong>Example</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.concurrent.Task;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\n\nimport java.io.*;\n\npublic class ProcessApp extends Application {\n\n    private static final VBox logs = new VBox(10);\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        TextField cmd = new TextField();\n        cmd.setPromptText(&quot;Enter a command&quot;);\n\n        Button run = new Button(&quot;Run&quot;);\n        run.setDefaultButton(true);\n        run.setDisable(true);\n        run.setOnAction(e -&gt; runCommand(cmd.getText()));\n        run.disableProperty().bind(cmd.textProperty().isEmpty());\n\n        HBox commandInput = new HBox(10, cmd, run);\n        HBox.setHgrow(cmd, Priority.ALWAYS);\n\n        ScrollPane scrollableLogs = new ScrollPane(logs);\n        scrollableLogs.setFitToWidth(true);\n        scrollableLogs.setPrefSize(800, 400);\n\n        VBox layout = new VBox(10, commandInput, scrollableLogs);\n        layout.setPadding(new Insets(10));\n\n        stage.setTitle(&quot;Process runner&quot;);\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    private void runCommand(String cmd) {\n        String name = &quot;Executing: &quot; + System.currentTimeMillis() + &quot;: &quot; + cmd;\n\n        TextArea logView = new TextArea();\n        logView.setPrefHeight(100);\n\n        logs.getChildren().addAll(new Label(name), logView);\n\n        Task&lt;Void&gt; processTask = new Task&lt;&gt;() {\n            @Override\n            protected Void call() throws IOException {\n                Process process = new ProcessBuilder()\n                        .command(&quot;powershell.exe&quot;, &quot;/c&quot;, cmd)\n                        .redirectErrorStream(true)\n                        .start();\n\n                try (\n                        BufferedReader r = new BufferedReader(\n                                new InputStreamReader(\n                                        process.getInputStream()\n                                )\n                        )\n                ) {\n                    String line;\n\n                    while ((line = r.readLine()) != null) {\n                        final String nextLine = line;\n                        Platform.runLater(() -&gt; logView.appendText(nextLine + &quot;\\n&quot;));\n                    }\n                }\n\n                return null;\n            }\n        };\n\n        processTask.setOnSucceeded(event -&gt;\n            logs.getChildren().add(\n                    new Label(&quot;Process execution completed successfully&quot;)\n            )\n        );\n\n        processTask.exceptionProperty().addListener((observable, oldValue, newValue) -&gt; {\n            StringWriter sw = new StringWriter();\n            PrintWriter pw = new PrintWriter(sw);\n            processTask.getException().printStackTrace(pw);\n\n            logs.getChildren().add(\n                    new Label(&quot;Process execution exception: &quot; + sw)\n            );\n        });\n\n        Thread processThread = new Thread(processTask, name);\n        processThread.setDaemon(true); // quitting the main app will kill the thread.\n        processThread.start();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21749129,"reputation":85,"user_id":16055338,"display_name":"blaze-centurion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638100988,"answer_count":1,"score":0,"last_activity_date":1638081433,"creation_date":1637900514,"question_id":70119563,"body_markdown":"I am trying to create my own code editor with the help of javafx. And now I want to implement a code runner in my project, but I got stucked and don&#39;t know how to implement this.\r\n\r\nBut before asking this question I have tried this\r\n```java\r\n    private void runCommand(String cmd) {\r\n        ProcessBuilder builder = new ProcessBuilder(&quot;powershell.exe&quot;, &quot;/c&quot;, cmd);\r\n        builder.redirectErrorStream(true);\r\n        console.setText(&quot;&quot;);\r\n        try {\r\n            Process p = builder.start();\r\n            BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            String line;\r\n            while (true) {\r\n                line = r.readLine();\r\n                if (line == null) { break; }\r\n                console.appendText(line+&#39;\\n&#39;);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nBut the problem is ```console.appendText(line+&#39;\\n&#39;);``` will not executed until the process is running. For e.g - I have tried to run a python file which creates a simple pygame window and print &quot;hello world&quot; in every iteration. But the output of this python file is not showing up in the console until we close the pygame window. \r\n\r\nSo is there any other way for creating a code runner.\r\n\r\n","title":"How to create a multi-language code runner in javafx","body":"<p>I am trying to create my own code editor with the help of javafx. And now I want to implement a code runner in my project, but I got stucked and don't know how to implement this.</p>\n<p>But before asking this question I have tried this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void runCommand(String cmd) {\n        ProcessBuilder builder = new ProcessBuilder(&quot;powershell.exe&quot;, &quot;/c&quot;, cmd);\n        builder.redirectErrorStream(true);\n        console.setText(&quot;&quot;);\n        try {\n            Process p = builder.start();\n            BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            String line;\n            while (true) {\n                line = r.readLine();\n                if (line == null) { break; }\n                console.appendText(line+'\\n');\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>But the problem is <code>console.appendText(line+'\\n');</code> will not executed until the process is running. For e.g - I have tried to run a python file which creates a simple pygame window and print &quot;hello world&quot; in every iteration. But the output of this python file is not showing up in the console until we close the pygame window.</p>\n<p>So is there any other way for creating a code runner.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1638031656,"post_id":70136783,"comment_id":123981450,"body_markdown":"The &quot;provide type-safe objects&quot; part I&#39;m pretty sure is no.  Generics are a compile time only construct, they go away at runtime.  And since your lookup happens at runtime, there&#39;s no way for generics to be involved.  You&#39;ll need some runtime information for that.  Look for Joshua Block&#39;s &quot;Type Safe Heterogeneous Container&quot; pattern for ideas.","body":"The &quot;provide type-safe objects&quot; part I&#39;m pretty sure is no.  Generics are a compile time only construct, they go away at runtime.  And since your lookup happens at runtime, there&#39;s no way for generics to be involved.  You&#39;ll need some runtime information for that.  Look for Joshua Block&#39;s &quot;Type Safe Heterogeneous Container&quot; pattern for ideas."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638033242,"creation_date":1638033242,"answer_id":70137047,"question_id":70136783,"body_markdown":"What if you do something like this:\r\n\r\n\r\n    static abstract class Command {\r\n\r\n        public abstract String getCommandType();\r\n\r\n        public abstract Class&lt;? extends DomainEvent&gt; type();\r\n    }\r\n\r\nAnd your implementation:\r\n\r\n    public class CreateEstateCommand extends Command {\r\n        @Override\r\n        public String getCommandType() {\r\n            return null; // whatever here\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;EstateCreatedEvent&gt; type() {\r\n            return EstateCreatedEvent.class;\r\n        }\r\n    }\r\n\r\nAnd usage would be:\r\n\r\n\r\n    public DomainEvent handleCommand(Command command) {\r\n        return command.type().cast(commandHandlers.get(command.getCommandType()));\r\n    }","title":"Generics and selecting correct interface implementation at runtime","body":"<p>What if you do something like this:</p>\n<pre><code>static abstract class Command {\n\n    public abstract String getCommandType();\n\n    public abstract Class&lt;? extends DomainEvent&gt; type();\n}\n</code></pre>\n<p>And your implementation:</p>\n<pre><code>public class CreateEstateCommand extends Command {\n    @Override\n    public String getCommandType() {\n        return null; // whatever here\n    }\n\n    @Override\n    public Class&lt;EstateCreatedEvent&gt; type() {\n        return EstateCreatedEvent.class;\n    }\n}\n</code></pre>\n<p>And usage would be:</p>\n<pre><code>public DomainEvent handleCommand(Command command) {\n    return command.type().cast(commandHandlers.get(command.getCommandType()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638035587,"creation_date":1638035152,"answer_id":70137273,"question_id":70136783,"body_markdown":"The root problem is the map, whose values are wildcard typed, ie effectively untyped, and more particularly, not typed to align with the key.\r\n\r\nYou&#39;ve already ripped up some typed safety by trusting the injected map&#39;s entries, so just take it one step further by using a raw `CommandHandler`, which will accept any command, and use an unchecked cast for a properly typed return value:\r\n\r\n    @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;})\r\n    public &lt;C extends Command, E extends DomainEvent&gt; E handleCommand(C command) {\r\n        CommandHandler handler =  commandHandlers.get(command.getCommandType());\r\n        return (E)handler.handleCommand(command);\r\n    }\r\n\r\n`@SuppressWarnings` added so neither your IDE nor build complain.\r\n\r\nWhile this might seem brutal, you haven&#39;t actually lost any type safety. That was lost when you typed your map as you did, which unfortunately was unavoidable given that map typing does not bind the value type to the key type.","title":"Generics and selecting correct interface implementation at runtime","body":"<p>The root problem is the map, whose values are wildcard typed, ie effectively untyped, and more particularly, not typed to align with the key.</p>\n<p>You've already ripped up some typed safety by trusting the injected map's entries, so just take it one step further by using a raw <code>CommandHandler</code>, which will accept any command, and use an unchecked cast for a properly typed return value:</p>\n<pre><code>@SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;})\npublic &lt;C extends Command, E extends DomainEvent&gt; E handleCommand(C command) {\n    CommandHandler handler =  commandHandlers.get(command.getCommandType());\n    return (E)handler.handleCommand(command);\n}\n</code></pre>\n<p><code>@SuppressWarnings</code> added so neither your IDE nor build complain.</p>\n<p>While this might seem brutal, you haven't actually lost any type safety. That was lost when you typed your map as you did, which unfortunately was unavoidable given that map typing does not bind the value type to the key type.</p>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638081142,"creation_date":1638081142,"answer_id":70141193,"question_id":70136783,"body_markdown":"The difficulty in achieving this end-to-end with generics is that we are mixing **runtime type decisions** with **compile-time type checks**. You design is close to an MVC design, where handlers are retrieved at runtime. So, only limited type-safety checks are possible at compile-time.\r\n\r\nLet us look at a flow:\r\n- An API recieves a command with its inputs\r\n- You may have a specific controller method that knows the command and its inputs and can construct one of `CreateEstateCommand` or `ChangeEstateOwnerCommand`\r\n- Now, **at runtime** we have to access the map to know the associated `CommandHandler`. Now, the very reason we have to do this at runtime is because the decision cannot be made at compile time, due to the design of using a `Map`.\r\n\r\nIf you have the following method in `CommandGateway`, it can never be sure if the `Command` instance passed from the service class is really the **specific child** that the mapped `CommandHandler` wants. Hence, it will not compile.\r\n```java\r\npublic DomainEvent handleCommand( Command command ) {\r\n   \tCommandHandler&lt;? extends Command, ? extends DomainEvent&gt; cmdHandler = commandHandlers.get(command.getCommandType());\r\n   \treturn cmdHandler.handleCommand( command );\r\n}\r\n```\r\n\r\nHence, you have to do away with either the end-to-end type safety requirement or with the &quot;factory&quot; style map that gives you the `CommandHandler` instance. Leaving out the latter will mean that the API method, right in the beginning, knows which `CommandHandler` it needs. ","title":"Generics and selecting correct interface implementation at runtime","body":"<p>The difficulty in achieving this end-to-end with generics is that we are mixing <strong>runtime type decisions</strong> with <strong>compile-time type checks</strong>. You design is close to an MVC design, where handlers are retrieved at runtime. So, only limited type-safety checks are possible at compile-time.</p>\n<p>Let us look at a flow:</p>\n<ul>\n<li>An API recieves a command with its inputs</li>\n<li>You may have a specific controller method that knows the command and its inputs and can construct one of <code>CreateEstateCommand</code> or <code>ChangeEstateOwnerCommand</code></li>\n<li>Now, <strong>at runtime</strong> we have to access the map to know the associated <code>CommandHandler</code>. Now, the very reason we have to do this at runtime is because the decision cannot be made at compile time, due to the design of using a <code>Map</code>.</li>\n</ul>\n<p>If you have the following method in <code>CommandGateway</code>, it can never be sure if the <code>Command</code> instance passed from the service class is really the <strong>specific child</strong> that the mapped <code>CommandHandler</code> wants. Hence, it will not compile.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DomainEvent handleCommand( Command command ) {\n    CommandHandler&lt;? extends Command, ? extends DomainEvent&gt; cmdHandler = commandHandlers.get(command.getCommandType());\n    return cmdHandler.handleCommand( command );\n}\n</code></pre>\n<p>Hence, you have to do away with either the end-to-end type safety requirement or with the &quot;factory&quot; style map that gives you the <code>CommandHandler</code> instance. Leaving out the latter will mean that the API method, right in the beginning, knows which <code>CommandHandler</code> it needs.</p>\n"}],"owner":{"account_id":17506203,"reputation":65,"user_id":12695364,"display_name":"bwylegly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1638081142,"creation_date":1638031260,"question_id":70136783,"body_markdown":"I&#39;m working on a PoC of an ES &amp; CQRS system.\r\n\r\nI have defined following classes to represent commands and events that represent an output of command being handled\r\n        \r\n    public class CreateEstateCommand extends Command {}\r\n\r\n    public class ChangeEstateOwnerCommand extends Command {}\r\n    \r\n    public class EstateCreatedEvent extends DomainEvent {}\r\n\r\n    public class EstateOwnerChangedEvent extends DomainEvent {}\r\n\r\nThe commands are being handled in classes that implement the following interface \r\n\r\n    /**\r\n     * Specific command handlers define what logic should be carried out during handling a command of type C.\r\n     * Single command execution results in an outcome of domain event of type E\r\n     */\r\n    public interface CommandHandler&lt;C extends Command, E extends DomainEvent&gt; {\r\n      E handleCommand(C command);\r\n    }\r\n    \r\n    public class EstateCreatedCommandHandler implements CommandHandler&lt;CreateEstateCommand, EstateCreatedEvent&gt; {\r\n        @Override\r\n        public EstateCreatedEvent handleCommand(CreateEstateCommand command) { /***/ }\r\n    }\r\n\r\n    public class ChangeEstateOwnerCommandHandler implements CommandHandler&lt;ChangeEstateOwnerCommand, EstateOwnerChangedEvent&gt; {\r\n        @Override\r\n        public EstateOwnerChangedEvent handleCommand(ChangeEstateOwnerCommand command) { /***/ }\r\n    }\r\n\r\n\r\nNow there&#39;s the part where I want to use those specific handlers. The flow of command handling can be represented as follows:\r\n\r\nCommand gets into the system through the API, and they are forwarded to `CommandServce` class for handling\r\n\r\n    public class CommandService {\r\n    \r\n        private final EventService eventService;\r\n        private final CommandGateway commandGateway;\r\n    \r\n        public void handleCommand(CreateEstateCommand command) {\r\n            EstateCreatedEvent event = commandGateway.handleCommand(command);\r\n            eventService.handleEvent(event);\r\n        }\r\n    \r\n        public void handleCommand(ChangeEstateOwnerCommand command) {\r\n            EstateOwnerChangedEvent event = commandGateway.handleCommand(command);\r\n            eventService.handleEvent(event);\r\n        }\r\n    }\r\n    \r\n\r\nAs you can see, the `handleCommand()` methods are duplicated for each of the command submitted. The reason behind this is the problem I have with selecting appropriate handler implementation at runtime, depending on `Command.commandType`:\r\n\r\n\r\n    @Service\r\n    public class CommandGateway {\r\n    \r\n        private final Map&lt;String, CommandHandler&lt;?, ?&gt;&gt; commandHandlers;\r\n    \r\n        @Autowired\r\n        public CommandGateway(Map&lt;String, CommandHandler&lt;?, ?&gt;&gt; commandHandlers) {\r\n            this.commandHandlers = commandHandlers;\r\n        }\r\n    \r\n        public EstateCreatedEvent handleCommand(CreateEstateCommand command) {\r\n            EstateCreatedCommandHandler handler = (EstateCreatedCommandHandler) commandHandlers.get(command.getCommandType());\r\n            return handler.handleCommand(command);\r\n        }\r\n    \r\n    \r\n        public EstateOwnerChangedEvent handleCommand(ChangeEstateOwnerCommand command) {\r\n            ChangeEstateOwnerCommandHandler handler = (ChangeEstateOwnerCommandHandler) commandHandlers.get(command.getCommandType());\r\n            return handler.handleCommand(command);\r\n        }\r\n    \r\n    }\r\n\r\nThe snippet above is the part I cannot generify. Is it possible, to implement `CommandGateway` class, so `CommandService` can look as follows:\r\n\r\n    public class CommandService {\r\n        \r\n        public &lt;C extends Command, E extends DomainEvent&gt; void handleCommand(C command) {\r\n            E event = commandGateway.handleCommand(command);\r\n        }\r\n    }\r\n\r\nAnd provide type-safe objects?\r\n","title":"Generics and selecting correct interface implementation at runtime","body":"<p>I'm working on a PoC of an ES &amp; CQRS system.</p>\n<p>I have defined following classes to represent commands and events that represent an output of command being handled</p>\n<pre><code>public class CreateEstateCommand extends Command {}\n\npublic class ChangeEstateOwnerCommand extends Command {}\n\npublic class EstateCreatedEvent extends DomainEvent {}\n\npublic class EstateOwnerChangedEvent extends DomainEvent {}\n</code></pre>\n<p>The commands are being handled in classes that implement the following interface</p>\n<pre><code>/**\n * Specific command handlers define what logic should be carried out during handling a command of type C.\n * Single command execution results in an outcome of domain event of type E\n */\npublic interface CommandHandler&lt;C extends Command, E extends DomainEvent&gt; {\n  E handleCommand(C command);\n}\n\npublic class EstateCreatedCommandHandler implements CommandHandler&lt;CreateEstateCommand, EstateCreatedEvent&gt; {\n    @Override\n    public EstateCreatedEvent handleCommand(CreateEstateCommand command) { /***/ }\n}\n\npublic class ChangeEstateOwnerCommandHandler implements CommandHandler&lt;ChangeEstateOwnerCommand, EstateOwnerChangedEvent&gt; {\n    @Override\n    public EstateOwnerChangedEvent handleCommand(ChangeEstateOwnerCommand command) { /***/ }\n}\n</code></pre>\n<p>Now there's the part where I want to use those specific handlers. The flow of command handling can be represented as follows:</p>\n<p>Command gets into the system through the API, and they are forwarded to <code>CommandServce</code> class for handling</p>\n<pre><code>public class CommandService {\n\n    private final EventService eventService;\n    private final CommandGateway commandGateway;\n\n    public void handleCommand(CreateEstateCommand command) {\n        EstateCreatedEvent event = commandGateway.handleCommand(command);\n        eventService.handleEvent(event);\n    }\n\n    public void handleCommand(ChangeEstateOwnerCommand command) {\n        EstateOwnerChangedEvent event = commandGateway.handleCommand(command);\n        eventService.handleEvent(event);\n    }\n}\n</code></pre>\n<p>As you can see, the <code>handleCommand()</code> methods are duplicated for each of the command submitted. The reason behind this is the problem I have with selecting appropriate handler implementation at runtime, depending on <code>Command.commandType</code>:</p>\n<pre><code>@Service\npublic class CommandGateway {\n\n    private final Map&lt;String, CommandHandler&lt;?, ?&gt;&gt; commandHandlers;\n\n    @Autowired\n    public CommandGateway(Map&lt;String, CommandHandler&lt;?, ?&gt;&gt; commandHandlers) {\n        this.commandHandlers = commandHandlers;\n    }\n\n    public EstateCreatedEvent handleCommand(CreateEstateCommand command) {\n        EstateCreatedCommandHandler handler = (EstateCreatedCommandHandler) commandHandlers.get(command.getCommandType());\n        return handler.handleCommand(command);\n    }\n\n\n    public EstateOwnerChangedEvent handleCommand(ChangeEstateOwnerCommand command) {\n        ChangeEstateOwnerCommandHandler handler = (ChangeEstateOwnerCommandHandler) commandHandlers.get(command.getCommandType());\n        return handler.handleCommand(command);\n    }\n\n}\n</code></pre>\n<p>The snippet above is the part I cannot generify. Is it possible, to implement <code>CommandGateway</code> class, so <code>CommandService</code> can look as follows:</p>\n<pre><code>public class CommandService {\n    \n    public &lt;C extends Command, E extends DomainEvent&gt; void handleCommand(C command) {\n        E event = commandGateway.handleCommand(command);\n    }\n}\n</code></pre>\n<p>And provide type-safe objects?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635069865,"creation_date":1635068498,"answer_id":69695530,"question_id":69689121,"body_markdown":"Spring uses `AuthenticationManager` to find appropriate authentication provider but didn&#39;t register `AuthenticationManager` as a bean by default. see the source code of `HttpSecurityConfiguration` class.\r\n\r\n    @Bean(HTTPSECURITY_BEAN_NAME)\r\n    @Scope(&quot;prototype&quot;)\r\n    HttpSecurity httpSecurity() throws Exception {\r\n    \tWebSecurityConfigurerAdapter.LazyPasswordEncoder passwordEncoder = new WebSecurityConfigurerAdapter.LazyPasswordEncoder(\r\n    \t\t\tthis.context);\r\n    \tAuthenticationManagerBuilder authenticationBuilder = new WebSecurityConfigurerAdapter.DefaultPasswordEncoderAuthenticationManagerBuilder(\r\n    \t\t\tthis.objectPostProcessor, passwordEncoder);\r\n    \tauthenticationBuilder.parentAuthenticationManager(authenticationManager());\r\n    \tHttpSecurity http = new HttpSecurity(this.objectPostProcessor, authenticationBuilder, createSharedObjects());\r\n    \t// @formatter:off\r\n    \thttp\r\n    \t\t.csrf(withDefaults())\r\n    \t\t.addFilter(new WebAsyncManagerIntegrationFilter())\r\n    \t\t.exceptionHandling(withDefaults())\r\n    \t\t.headers(withDefaults())\r\n    \t\t.sessionManagement(withDefaults())\r\n    \t\t.securityContext(withDefaults())\r\n    \t\t.requestCache(withDefaults())\r\n    \t\t.anonymous(withDefaults())\r\n    \t\t.servletApi(withDefaults())\r\n    \t\t.apply(new DefaultLoginPageConfigurer&lt;&gt;());\r\n    \thttp.logout(withDefaults());\r\n    \t// @formatter:on\r\n    \treturn http;\r\n    }\r\n    \r\n    private AuthenticationManager authenticationManager() throws Exception {\r\n    \treturn (this.authenticationManager != null) ? this.authenticationManager\r\n    \t\t\t: this.authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\nas you can see it register an authentication manager builder in `HttpSecurity`. later in `HttpSecurity` class it will use this builder to build an authentication manager and register it in shared objects [see method `beforeConfigure()` in `HttpSecurity`].\r\n\r\n    @Override\r\n    protected void beforeConfigure() throws Exception {\r\n    \tsetSharedObject(AuthenticationManager.class, getAuthenticationRegistry().build());\r\n    }\r\n\r\nand whenever it needs authentication manager uses `HttpSecurity` to get that, like the following:\r\n\r\n    AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);","title":"Spring security custom filter (reason for creating AuthenticationManager bean while it already exists)","body":"<p>Spring uses <code>AuthenticationManager</code> to find appropriate authentication provider but didn't register <code>AuthenticationManager</code> as a bean by default. see the source code of <code>HttpSecurityConfiguration</code> class.</p>\n<pre><code>@Bean(HTTPSECURITY_BEAN_NAME)\n@Scope(&quot;prototype&quot;)\nHttpSecurity httpSecurity() throws Exception {\n    WebSecurityConfigurerAdapter.LazyPasswordEncoder passwordEncoder = new WebSecurityConfigurerAdapter.LazyPasswordEncoder(\n            this.context);\n    AuthenticationManagerBuilder authenticationBuilder = new WebSecurityConfigurerAdapter.DefaultPasswordEncoderAuthenticationManagerBuilder(\n            this.objectPostProcessor, passwordEncoder);\n    authenticationBuilder.parentAuthenticationManager(authenticationManager());\n    HttpSecurity http = new HttpSecurity(this.objectPostProcessor, authenticationBuilder, createSharedObjects());\n    // @formatter:off\n    http\n        .csrf(withDefaults())\n        .addFilter(new WebAsyncManagerIntegrationFilter())\n        .exceptionHandling(withDefaults())\n        .headers(withDefaults())\n        .sessionManagement(withDefaults())\n        .securityContext(withDefaults())\n        .requestCache(withDefaults())\n        .anonymous(withDefaults())\n        .servletApi(withDefaults())\n        .apply(new DefaultLoginPageConfigurer&lt;&gt;());\n    http.logout(withDefaults());\n    // @formatter:on\n    return http;\n}\n\nprivate AuthenticationManager authenticationManager() throws Exception {\n    return (this.authenticationManager != null) ? this.authenticationManager\n            : this.authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>as you can see it register an authentication manager builder in <code>HttpSecurity</code>. later in <code>HttpSecurity</code> class it will use this builder to build an authentication manager and register it in shared objects [see method <code>beforeConfigure()</code> in <code>HttpSecurity</code>].</p>\n<pre><code>@Override\nprotected void beforeConfigure() throws Exception {\n    setSharedObject(AuthenticationManager.class, getAuthenticationRegistry().build());\n}\n</code></pre>\n<p>and whenever it needs authentication manager uses <code>HttpSecurity</code> to get that, like the following:</p>\n<pre><code>AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n</code></pre>\n"}],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69695530,"answer_count":1,"score":1,"last_activity_date":1638080284,"creation_date":1634999601,"question_id":69689121,"body_markdown":"When we use a custom filter we need to inject a bean of type `AuthenticationManager`. \r\n\r\nAs far as I remember, if we use the default filter then Spring automatically provides Authentication Manager. This leads me to the conclusion that there is already an `AuthenticationManager` bean in the Spring context (from my understanding).\r\n\r\nBut the problem is that my assumption is not true. I have to create and inject a bean of `AuthenticationManager` to the filter. \r\n\r\nWhat is wrong with my assumption? Why do we need to crate a bean while it is already present?","title":"Spring security custom filter (reason for creating AuthenticationManager bean while it already exists)","body":"<p>When we use a custom filter we need to inject a bean of type <code>AuthenticationManager</code>.</p>\n<p>As far as I remember, if we use the default filter then Spring automatically provides Authentication Manager. This leads me to the conclusion that there is already an <code>AuthenticationManager</code> bean in the Spring context (from my understanding).</p>\n<p>But the problem is that my assumption is not true. I have to create and inject a bean of <code>AuthenticationManager</code> to the filter.</p>\n<p>What is wrong with my assumption? Why do we need to crate a bean while it is already present?</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1618232045,"post_id":67058674,"comment_id":118532078,"body_markdown":"What is `@JsonProperty` meant to define here? I&#39;m not sure it even makes sense on a controller. Did you want to define the controller returns Json? You probably want to look at the `consumes` and `produces` attributes of `@RequestMapping()`.","body":"What is <code>@JsonProperty</code> meant to define here? I&#39;m not sure it even makes sense on a controller. Did you want to define the controller returns Json? You probably want to look at the <code>consumes</code> and <code>produces</code> attributes of <code>@RequestMapping()</code>."},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1618232435,"post_id":67058674,"comment_id":118532262,"body_markdown":"quite right @Thomas. renoved.","body":"quite right @Thomas. renoved."},{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1618232436,"post_id":67058674,"comment_id":118532263,"body_markdown":"Have you setup the accept headers through some configuration or through filters? Your mock servlet response returning accept headers which doesn&#39;t contain `application/json`.","body":"Have you setup the accept headers through some configuration or through filters? Your mock servlet response returning accept headers which doesn&#39;t contain <code>application&#47;json</code>."}],"answers":[{"tags":[],"owner":{"account_id":3355741,"reputation":438,"user_id":2818711,"display_name":"Marek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618232455,"creation_date":1618232455,"answer_id":67058846,"question_id":67058674,"body_markdown":"try adding `consumes = MediaType.APPLICATION_JSON_VALUE` to your RequestMapping","title":"Why this 415 response in a post, mvc test?","body":"<p>try adding <code>consumes = MediaType.APPLICATION_JSON_VALUE</code> to your RequestMapping</p>\n"},{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1618320830,"creation_date":1618296799,"answer_id":67070034,"question_id":67058674,"body_markdown":"Despite my, admittedly false, belief that this is taken care of by the @SpringBootTest annotation; I took advice found in another question, and added @EnableWebMvc at class level for my test, and that fixed it.","title":"Why this 415 response in a post, mvc test?","body":"<p>Despite my, admittedly false, belief that this is taken care of by the @SpringBootTest annotation; I took advice found in another question, and added @EnableWebMvc at class level for my test, and that fixed it.</p>\n"}],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67070034,"answer_count":2,"score":1,"last_activity_date":1638080231,"creation_date":1618231697,"question_id":67058674,"body_markdown":"Hopefully someone can help. I&#39;ve been following this [online resource][1], attempting to write an integration test for a RestController:\r\n\r\n    @Test\r\n\tpublic void obfiscated() throws Exception {\r\n\t\tSearchRequest autoCompleteSearchrequest = new SearchRequest();\r\n\t\tautoCompleteSearchrequest.setCity(&quot;somewheresville&quot;);\r\n\t\t","title":"Why this 415 response in a post, mvc test?","body":"<p>Hopefully someone can help. I've been following this [online resource][1], attempting to write an integration test for a RestController:</p>\n<pre><code>@Test\npublic void obfiscated() throws Exception {\n    SearchRequest autoCompleteSearchrequest = new SearchRequest();\n    autoCompleteSearchrequest.setCity(&quot;somewheresville&quot;);\n    \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1638080030,"post_id":70141030,"comment_id":123989167,"body_markdown":"you can use stream on hashmap.entrySet()","body":"you can use stream on hashmap.entrySet()"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1638081726,"post_id":70141030,"comment_id":123989383,"body_markdown":"_Why_ do you want to do this? The pattern you mention is called _parallel arrays_, and it is usually better to go to effort not to do that in the first place.","body":"<i>Why</i> do you want to do this? The pattern you mention is called <i>parallel arrays</i>, and it is usually better to go to effort not to do that in the first place."},{"owner":{"account_id":23450875,"reputation":13,"user_id":17507052,"display_name":"JPep26"},"score":0,"creation_date":1638082461,"post_id":70141030,"comment_id":123989484,"body_markdown":"Now I am making an application which counts the number of user&#39;s watching record and put it order by genre, so i need each array and put it in chart","body":"Now I am making an application which counts the number of user&#39;s watching record and put it order by genre, so i need each array and put it in chart"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638080229,"creation_date":1638080229,"answer_id":70141107,"question_id":70141030,"body_markdown":"If you want to convert it to a single array then:\r\n\r\n    Object[] array = hashmap.entrySet().toArray();\r\n\r\nor \r\n\r\n    Map.Entry&lt;String, Integer&gt;[] array = \r\n            hashmap.entrySet().toArray(Map.Entry&lt;?, ?&gt;[0]);\r\n\r\n(Possibly an unchecked conversion is required, but it is safe ...).\r\n\r\nIf you want parallel arrays for the keys and values:\r\n\r\n    String[] keys = new String[hashmap.size()];\r\n    Integer[] values = new Integer[hashmap.size()];\r\n    int i = 0;\r\n    for (e: hashmap.entrySet()) {\r\n        keys[i] = e.getKey();\r\n        values[i] = e.getValue();\r\n        i++;\r\n    }\r\n\r\nThere is probably a neater solution using the Java 8+ stream functionality.","title":"how can i convert hashmap to array?","body":"<p>If you want to convert it to a single array then:</p>\n<pre><code>Object[] array = hashmap.entrySet().toArray();\n</code></pre>\n<p>or</p>\n<pre><code>Map.Entry&lt;String, Integer&gt;[] array = \n        hashmap.entrySet().toArray(Map.Entry&lt;?, ?&gt;[0]);\n</code></pre>\n<p>(Possibly an unchecked conversion is required, but it is safe ...).</p>\n<p>If you want parallel arrays for the keys and values:</p>\n<pre><code>String[] keys = new String[hashmap.size()];\nInteger[] values = new Integer[hashmap.size()];\nint i = 0;\nfor (e: hashmap.entrySet()) {\n    keys[i] = e.getKey();\n    values[i] = e.getValue();\n    i++;\n}\n</code></pre>\n<p>There is probably a neater solution using the Java 8+ stream functionality.</p>\n"}],"owner":{"account_id":23450875,"reputation":13,"user_id":17507052,"display_name":"JPep26"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70141107,"answer_count":1,"score":1,"last_activity_date":1638080229,"creation_date":1638079042,"question_id":70141030,"body_markdown":"I want to convert hashMap (String,Integer)\r\nsuch as String[], Integer[].\r\n\r\nBut I heard the information about hashmap.keyset().array() and hashmap.values().array() doesn&#39;t match, so it is dangerous,\r\n\r\nthen, is it possible?\r\n```\r\n        for(Map.Entry&lt;String,Integer&gt; val: hashmap.entrySet()) {\r\n            int n = 0;\r\n            String key[n]=val.getKey();\r\n            int value[n]=val.getValue();\r\n            n++;\r\n        }\r\n```","title":"how can i convert hashmap to array?","body":"<p>I want to convert hashMap (String,Integer)\nsuch as String[], Integer[].</p>\n<p>But I heard the information about hashmap.keyset().array() and hashmap.values().array() doesn't match, so it is dangerous,</p>\n<p>then, is it possible?</p>\n<pre><code>        for(Map.Entry&lt;String,Integer&gt; val: hashmap.entrySet()) {\n            int n = 0;\n            String key[n]=val.getKey();\n            int value[n]=val.getValue();\n            n++;\n        }\n</code></pre>\n"},{"tags":["java","android","regex","diacritics"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1702243679,"post_id":11663931,"comment_id":136869639,"body_markdown":"Voting to reopen since these are different questions.  This one is specific to using a regex to find matches ignoring diacritical characters.  The other is about mapping unicode characters to non-unicode characters, in general.","body":"Voting to reopen since these are different questions.  This one is specific to using a regex to find matches ignoring diacritical characters.  The other is about mapping unicode characters to non-unicode characters, in general."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1633695428,"creation_date":1343285910,"answer_id":11664026,"question_id":11663931,"body_markdown":"I don&#39;t have a perfect regex based solution. Maybe it exists, maybe it doesn&#39;t.\r\n\r\nA suggestion for a workaround though: You could try to *remove* the diacritics before you try to match the string.\r\n\r\n**Related question:**\r\n\r\n- https://stackoverflow.com/questions/1453171/n-n-n-or-remove-diacritical-marks-from-unicode-cha","title":"How can diacritics be ignored when matching a regex pattern?","body":"<p>I don't have a perfect regex based solution. Maybe it exists, maybe it doesn't.</p>\n<p>A suggestion for a workaround though: You could try to <em>remove</em> the diacritics before you try to match the string.</p>\n<p><strong>Related question:</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1453171/n-n-n-or-remove-diacritical-marks-from-unicode-cha\">Remove diacritical marks (   &#241;           ) from Unicode chars</a></li>\n</ul>\n"}],"owner":{"account_id":539739,"reputation":39728,"user_id":907695,"accept_rate":71,"display_name":"Pointer Null"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4258,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"closed_date":1702241321,"answer_count":1,"score":4,"last_activity_date":1638080030,"creation_date":1343285457,"question_id":11663931,"body_markdown":"I need to regex-search string for occurences with these conditions:\r\n\r\n - on word boundary\r\n - case-insensitive\r\n - ignore diacritics\r\n\r\nMy code:\r\n\r\n```lang-java\r\nCharSequence text = &quot;One Tw&#243;&quot;;\r\nString searchString = &quot;two&quot;;\r\nPattern p = Pattern.compile(&quot;(?i)\\\\b&quot;+searchString);\r\nMatcher m = p.matcher(text);\r\nwhile(m.find()) {\r\n   int s = m.start();\r\n   int e = m.end();\r\n}\r\n```\r\n\r\nThe first 2 conditions are achieved by the `(?i)` and `\\b` pattern expressions. \r\n\r\nI still need to achieve 3rd goal, ignoring diacritics, so in above the searched string &quot;two&quot; would match text &quot;Tw&#243;&quot; in the text.  How can this be accomplished?","title":"How can diacritics be ignored when matching a regex pattern?","body":"<p>I need to regex-search string for occurences with these conditions:</p>\n<ul>\n<li>on word boundary</li>\n<li>case-insensitive</li>\n<li>ignore diacritics</li>\n</ul>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CharSequence text = &quot;One Tw&quot;;\nString searchString = &quot;two&quot;;\nPattern p = Pattern.compile(&quot;(?i)\\\\b&quot;+searchString);\nMatcher m = p.matcher(text);\nwhile(m.find()) {\n   int s = m.start();\n   int e = m.end();\n}\n</code></pre>\n<p>The first 2 conditions are achieved by the <code>(?i)</code> and <code>\\b</code> pattern expressions.</p>\n<p>I still need to achieve 3rd goal, ignoring diacritics, so in above the searched string &quot;two&quot; would match text &quot;Tw&quot; in the text.  How can this be accomplished?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18895089,"reputation":420,"user_id":13784437,"display_name":"Gouse Mohiddin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638080006,"creation_date":1592749626,"answer_id":62499906,"question_id":62499632,"body_markdown":"You don&#39;t have to load again in the onAdClosed method\r\n\r\n    mInterstitialAd.loadAd(new AdRequest.Builder().build());//REMOVE THIS\r\n\r\nYou don&#39;t have to initialize for every item, move the following code to your Activity\r\n\r\n    MobileAds.initialize(context, &quot;ca-app-pub-3940256099942544~3347511713&quot;);","title":"How to Show a Interstitial Ad on click of every RecyclerView list Item","body":"<p>You don't have to load again in the onAdClosed method</p>\n<pre><code>mInterstitialAd.loadAd(new AdRequest.Builder().build());//REMOVE THIS\n</code></pre>\n<p>You don't have to initialize for every item, move the following code to your Activity</p>\n<pre><code>MobileAds.initialize(context, &quot;ca-app-pub-3940256099942544~3347511713&quot;);\n</code></pre>\n"}],"owner":{"account_id":18828291,"reputation":21,"user_id":13732672,"display_name":"TrueFacts Facts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638080006,"creation_date":1592748215,"question_id":62499632,"body_markdown":"Below is my code. this code only shows interstitial ads only the first item. I want to show ads every item on my recycler view. When a user clicks on any item ads should appear.\r\n\r\nMy Adapter Code\r\n  \r\n\r\n    public void onBindViewHolder(@NonNull CustomHolder holder, int position) {\r\n        \r\n        final String htmlfile = htmlFile[position];\r\n            \r\n        holder.textView.setText(title[position]);\r\n            \r\n        MobileAds.initialize(context, &quot;ca-app-pub-3940256099942544~3347511713&quot;);\r\n        final InterstitialAd mInterstitialAd = new InterstitialAd(context);\r\n        mInterstitialAd.setAdUnitId(&quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n        mInterstitialAd.loadAd(new AdRequest.Builder().build());\r\n\r\n        mInterstitialAd.setAdListener(new AdListener() {\r\n            @Override\r\n            public void onAdClosed() {\r\n                mInterstitialAd.loadAd(new AdRequest.Builder().build());\r\n                Intent intent = new Intent(context,StudyActivity.class);\r\n                intent.putExtra(&quot;file&quot;,htmlfile);\r\n                context.startActivity(intent);\r\n                ((CategoryActivity)context).finish();\r\n            }\r\n        });\r\n    \r\n        holder.linearLayout.setOnClickListener(new View.OnClickListener() {\r\n    \r\n            @Override\r\n            public void onClick(View v) {\r\n                if(mInterstitialAd.isLoaded()){\r\n                    mInterstitialAd.show();\r\n                }else{\r\n                    Intent intent = new Intent(context,StudyActivity.class);\r\n                    intent.putExtra(&quot;file&quot;,htmlfile);\r\n                    context.startActivity(intent);\r\n                    ((CategoryActivity)context).finish();\r\n                }\r\n            }\r\n        });\r\n    \r\n    }","title":"How to Show a Interstitial Ad on click of every RecyclerView list Item","body":"<p>Below is my code. this code only shows interstitial ads only the first item. I want to show ads every item on my recycler view. When a user clicks on any item ads should appear.</p>\n<p>My Adapter Code</p>\n<pre><code>public void onBindViewHolder(@NonNull CustomHolder holder, int position) {\n    \n    final String htmlfile = htmlFile[position];\n        \n    holder.textView.setText(title[position]);\n        \n    MobileAds.initialize(context, &quot;ca-app-pub-3940256099942544~3347511713&quot;);\n    final InterstitialAd mInterstitialAd = new InterstitialAd(context);\n    mInterstitialAd.setAdUnitId(&quot;ca-app-pub-3940256099942544/1033173712&quot;);\n    mInterstitialAd.loadAd(new AdRequest.Builder().build());\n\n    mInterstitialAd.setAdListener(new AdListener() {\n        @Override\n        public void onAdClosed() {\n            mInterstitialAd.loadAd(new AdRequest.Builder().build());\n            Intent intent = new Intent(context,StudyActivity.class);\n            intent.putExtra(&quot;file&quot;,htmlfile);\n            context.startActivity(intent);\n            ((CategoryActivity)context).finish();\n        }\n    });\n\n    holder.linearLayout.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            if(mInterstitialAd.isLoaded()){\n                mInterstitialAd.show();\n            }else{\n                Intent intent = new Intent(context,StudyActivity.class);\n                intent.putExtra(&quot;file&quot;,htmlfile);\n                context.startActivity(intent);\n                ((CategoryActivity)context).finish();\n            }\n        }\n    });\n\n}\n</code></pre>\n"},{"tags":["java","testng","testng-dataprovider","testng-annotation-test"],"comments":[{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1637677210,"post_id":70080932,"comment_id":123886416,"body_markdown":"Yes it is possible, only if you are running the test case using a suite file. But it is not clear why you want to do this.","body":"Yes it is possible, only if you are running the test case using a suite file. But it is not clear why you want to do this."}],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637678146,"creation_date":1637678146,"answer_id":70082755,"question_id":70080932,"body_markdown":"If the data provider methods for each test method are known before hand, then it is possible using `IAnnotationTransformer`. But you need to run your tests using a xml suite file.\r\n\r\n**Note**: `Map.of` ([doc](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of-K-V-K-V-K-V-)) was introduced in java 9. If you are using a previous version, then you could create the `dpNameMap` using normal hash map.\r\n\r\n```java\r\npublic class CustomAnnotationTransformer implements IAnnotationTransformer {\r\n    private static final Map&lt;String, String&gt; dpNameMap = Map.of(&quot;methodOne&quot;, &quot;dataOne&quot;,\r\n                                                                &quot;methodTwo&quot;, &quot;dataTwo&quot;,\r\n                                                                &quot;methodThree&quot;, &quot;dataThree&quot;);\r\n\r\n    @Override\r\n    public void transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor, Method method) {\r\n        if(method != null &amp;&amp; dpNameMap.containsKey(method.getName())) {\r\n            annotation.setDataProvider(dpNameMap.get(method.getName()));\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlso add the below in your suite file:\r\n```xml\r\n&lt;listeners&gt;\r\n    &lt;listener class-name=&quot;com.yourpackage.CustomAnnotationTransformer&quot; /&gt;\r\n&lt;/listeners&gt;\r\n```\r\n","title":"TestNG assign programatically DataProvider","body":"<p>If the data provider methods for each test method are known before hand, then it is possible using <code>IAnnotationTransformer</code>. But you need to run your tests using a xml suite file.</p>\n<p><strong>Note</strong>: <code>Map.of</code> (<a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of-K-V-K-V-K-V-\" rel=\"nofollow noreferrer\">doc</a>) was introduced in java 9. If you are using a previous version, then you could create the <code>dpNameMap</code> using normal hash map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAnnotationTransformer implements IAnnotationTransformer {\n    private static final Map&lt;String, String&gt; dpNameMap = Map.of(&quot;methodOne&quot;, &quot;dataOne&quot;,\n                                                                &quot;methodTwo&quot;, &quot;dataTwo&quot;,\n                                                                &quot;methodThree&quot;, &quot;dataThree&quot;);\n\n    @Override\n    public void transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor, Method method) {\n        if(method != null &amp;&amp; dpNameMap.containsKey(method.getName())) {\n            annotation.setDataProvider(dpNameMap.get(method.getName()));\n        }\n    }\n\n}\n</code></pre>\n<p>Also add the below in your suite file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;listeners&gt;\n    &lt;listener class-name=&quot;com.yourpackage.CustomAnnotationTransformer&quot; /&gt;\n&lt;/listeners&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638078592,"creation_date":1638078592,"answer_id":70140994,"question_id":70080932,"body_markdown":"Ideally speaking, the easiest way to go about doing this would be to:\r\n\r\n 1. Define an abstract class in which you define the required data provider and also the data that your data provider would feed off of, as its source and give it to the test methods (It could be something like the data provider feeds off of an injected value into it)\r\n 2. Have your test classes, extend this abstract class and then from within an `org.testng.IAnnotationTransformer` implementation, you merely inject the data provider method name into the test class.\r\n\r\nIn case you don&#39;t want to use an abstract class also, then here&#39;s another alternative. This kind of looks like a round about way of doing it.\r\n\r\n\r\nFor this example, the dependency injection framework that I am using is Guice.\r\n\r\nThe interfaces that we are going to be using in this example are as below\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    /**\r\n     * Lets any test class expose the injected values to any caller.\r\n     */\r\n    public interface ObjectGetter {\r\n    \r\n      /**\r\n       * @return - The {@link Student} object that is required.\r\n       */\r\n      Student getStudent();\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    /**\r\n     * Allows for setting the actual object to be used by any data provider\r\n     */\r\n    public interface ObjectSetter {\r\n    \r\n      /**\r\n       * @param student - The {@link Student} object\r\n       */\r\n      void setStudent(Student student);\r\n    }\r\n\r\nHere&#39;s how the Guice module that we are using in this example looks like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.google.inject.Binder;\r\n    import com.google.inject.Module;\r\n    \r\n    public class MyLocalGuiceModule implements Module {\r\n    \r\n      @Override\r\n      public void configure(Binder binder) {\r\n        binder.bind(Student.class).toInstance(new Student(100, &quot;KungFu-Panda&quot;));\r\n      }\r\n    }\r\n\r\nHere&#39;s how the test class looks like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.google.inject.Inject;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    import org.testng.annotations.Guice;\r\n    import org.testng.annotations.Test;\r\n    \r\n    @Guice(modules = MyLocalGuiceModule.class)\r\n    public class SampleTestClass implements ObjectGetter {\r\n    \r\n      @Inject\r\n      private Student student;\r\n    \r\n      @Override\r\n      public Student getStudent() {\r\n        return student;\r\n      }\r\n    \r\n      @Test\r\n      public void testMethod(Student s) {\r\n        String text = s.toString();\r\n        assertThat(text).isEqualTo(&quot;Student{id=100, name=&#39;KungFu-Panda&#39;}&quot;);\r\n      }\r\n    }\r\n\r\nHere&#39;s how the separate data provider class would look like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.testng.annotations.DataProvider;\r\n    \r\n    public class DataProviderHouse implements ObjectSetter {\r\n    \r\n      private Student student;\r\n    \r\n      @DataProvider(name = &quot;students&quot;)\r\n      public Object[][] getStudents() {\r\n        return new Object[][]\r\n            {\r\n                {student}\r\n            };\r\n      }\r\n    \r\n      @Override\r\n      public void setStudent(Student student) {\r\n        this.student = student;\r\n      }\r\n    }\r\n\r\nThe annotation transformer looks like below:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.lang.reflect.Constructor;\r\n    import java.lang.reflect.Method;\r\n    import org.testng.IAnnotationTransformer;\r\n    import org.testng.annotations.ITestAnnotation;\r\n    \r\n    public class LocalTransformer implements IAnnotationTransformer {\r\n    \r\n      @Override\r\n      public void transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor,\r\n          Method testMethod) {\r\n        annotation.setDataProviderClass(DataProviderHouse.class);\r\n        annotation.setDataProvider(&quot;students&quot;);\r\n      }\r\n    }\r\n\r\nThe data provider listener looks like below:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.testng.IDataProviderListener;\r\n    import org.testng.IDataProviderMethod;\r\n    import org.testng.ITestContext;\r\n    import org.testng.ITestNGMethod;\r\n    \r\n    public class DataProviderListener implements IDataProviderListener {\r\n    \r\n      @Override\r\n      public void beforeDataProviderExecution(IDataProviderMethod dataProviderMethod,\r\n          ITestNGMethod method, ITestContext iTestContext) {\r\n        Object dpInstance = dataProviderMethod.getInstance();\r\n        if (!(dpInstance instanceof ObjectSetter)) {\r\n          return;\r\n        }\r\n        Object testInstance = method.getInstance();\r\n        if (!(testInstance instanceof ObjectGetter)) {\r\n          return;\r\n        }\r\n        ((ObjectSetter) dpInstance).setStudent(((ObjectGetter) testInstance).getStudent());\r\n      }\r\n    }\r\n\r\nHere&#39;s how the suite xml would look like\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;dynamic_data_provider_suite&quot; verbose=&quot;2&quot;&gt;\r\n      &lt;listeners&gt;\r\n        &lt;listener class-name=&quot;com.rationaleemotions.dynamic.LocalTransformer&quot;/&gt;\r\n        &lt;listener class-name=&quot;com.rationaleemotions.dynamic.DataProviderListener&quot;/&gt;\r\n      &lt;/listeners&gt;\r\n      &lt;test name=&quot;dynamic_data_provider_test&quot; verbose=&quot;2&quot;&gt;\r\n        &lt;classes&gt;\r\n          &lt;class name=&quot;com.rationaleemotions.dynamic.SampleTestClass&quot;/&gt;\r\n        &lt;/classes&gt;\r\n      &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\n\r\nHere&#39;s the chain of events that are expected to happen:\r\n\r\n 1. The test class uses a Guice Module which injects the required dependencies into the test class.\r\n 2. The test class exposes the injected dependency to any caller (data provider listener in this case) via the interface `com.rationaleemotions.dynamic.ObjectGetter`\r\n 3. We have an implementation of `org.testng.IAnnotationTransformer` using which we inject a data provider class and a method reference into the test method.\r\n4. The data provider class is a separate class that implements `com.rationaleemotions.dynamic.ObjectSetter` using which it would get hold of the data it should use for data driven tests. \r\n5. We create an implementation of `org.testng.IDataProviderListener` which TestNG provides to eavesdrop into before and after invocation events for data providers. Using this listener we extract out the Guice injected data from the test class and then inject it back into the object to which the data provider belongs to.\r\n\r\nThis is a bit long way of doing this, but goes a bit more to making the data providers truly dynamic. \r\n\r\nYour mileage on using is likely to vary depending upon the actual use case in which you would like to employ such a &quot;sophisticated but yet convoluted approach&quot;.","title":"TestNG assign programatically DataProvider","body":"<p>Ideally speaking, the easiest way to go about doing this would be to:</p>\n<ol>\n<li>Define an abstract class in which you define the required data provider and also the data that your data provider would feed off of, as its source and give it to the test methods (It could be something like the data provider feeds off of an injected value into it)</li>\n<li>Have your test classes, extend this abstract class and then from within an <code>org.testng.IAnnotationTransformer</code> implementation, you merely inject the data provider method name into the test class.</li>\n</ol>\n<p>In case you don't want to use an abstract class also, then here's another alternative. This kind of looks like a round about way of doing it.</p>\n<p>For this example, the dependency injection framework that I am using is Guice.</p>\n<p>The interfaces that we are going to be using in this example are as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Lets any test class expose the injected values to any caller.\n */\npublic interface ObjectGetter {\n\n  /**\n   * @return - The {@link Student} object that is required.\n   */\n  Student getStudent();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Allows for setting the actual object to be used by any data provider\n */\npublic interface ObjectSetter {\n\n  /**\n   * @param student - The {@link Student} object\n   */\n  void setStudent(Student student);\n}\n</code></pre>\n<p>Here's how the Guice module that we are using in this example looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.inject.Binder;\nimport com.google.inject.Module;\n\npublic class MyLocalGuiceModule implements Module {\n\n  @Override\n  public void configure(Binder binder) {\n    binder.bind(Student.class).toInstance(new Student(100, &quot;KungFu-Panda&quot;));\n  }\n}\n</code></pre>\n<p>Here's how the test class looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.inject.Inject;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport org.testng.annotations.Guice;\nimport org.testng.annotations.Test;\n\n@Guice(modules = MyLocalGuiceModule.class)\npublic class SampleTestClass implements ObjectGetter {\n\n  @Inject\n  private Student student;\n\n  @Override\n  public Student getStudent() {\n    return student;\n  }\n\n  @Test\n  public void testMethod(Student s) {\n    String text = s.toString();\n    assertThat(text).isEqualTo(&quot;Student{id=100, name='KungFu-Panda'}&quot;);\n  }\n}\n</code></pre>\n<p>Here's how the separate data provider class would look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.testng.annotations.DataProvider;\n\npublic class DataProviderHouse implements ObjectSetter {\n\n  private Student student;\n\n  @DataProvider(name = &quot;students&quot;)\n  public Object[][] getStudents() {\n    return new Object[][]\n        {\n            {student}\n        };\n  }\n\n  @Override\n  public void setStudent(Student student) {\n    this.student = student;\n  }\n}\n</code></pre>\n<p>The annotation transformer looks like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Constructor;\nimport java.lang.reflect.Method;\nimport org.testng.IAnnotationTransformer;\nimport org.testng.annotations.ITestAnnotation;\n\npublic class LocalTransformer implements IAnnotationTransformer {\n\n  @Override\n  public void transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor,\n      Method testMethod) {\n    annotation.setDataProviderClass(DataProviderHouse.class);\n    annotation.setDataProvider(&quot;students&quot;);\n  }\n}\n</code></pre>\n<p>The data provider listener looks like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.testng.IDataProviderListener;\nimport org.testng.IDataProviderMethod;\nimport org.testng.ITestContext;\nimport org.testng.ITestNGMethod;\n\npublic class DataProviderListener implements IDataProviderListener {\n\n  @Override\n  public void beforeDataProviderExecution(IDataProviderMethod dataProviderMethod,\n      ITestNGMethod method, ITestContext iTestContext) {\n    Object dpInstance = dataProviderMethod.getInstance();\n    if (!(dpInstance instanceof ObjectSetter)) {\n      return;\n    }\n    Object testInstance = method.getInstance();\n    if (!(testInstance instanceof ObjectGetter)) {\n      return;\n    }\n    ((ObjectSetter) dpInstance).setStudent(((ObjectGetter) testInstance).getStudent());\n  }\n}\n</code></pre>\n<p>Here's how the suite xml would look like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;dynamic_data_provider_suite&quot; verbose=&quot;2&quot;&gt;\n  &lt;listeners&gt;\n    &lt;listener class-name=&quot;com.rationaleemotions.dynamic.LocalTransformer&quot;/&gt;\n    &lt;listener class-name=&quot;com.rationaleemotions.dynamic.DataProviderListener&quot;/&gt;\n  &lt;/listeners&gt;\n  &lt;test name=&quot;dynamic_data_provider_test&quot; verbose=&quot;2&quot;&gt;\n    &lt;classes&gt;\n      &lt;class name=&quot;com.rationaleemotions.dynamic.SampleTestClass&quot;/&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>Here's the chain of events that are expected to happen:</p>\n<ol>\n<li>The test class uses a Guice Module which injects the required dependencies into the test class.</li>\n<li>The test class exposes the injected dependency to any caller (data provider listener in this case) via the interface <code>com.rationaleemotions.dynamic.ObjectGetter</code></li>\n<li>We have an implementation of <code>org.testng.IAnnotationTransformer</code> using which we inject a data provider class and a method reference into the test method.</li>\n<li>The data provider class is a separate class that implements <code>com.rationaleemotions.dynamic.ObjectSetter</code> using which it would get hold of the data it should use for data driven tests.</li>\n<li>We create an implementation of <code>org.testng.IDataProviderListener</code> which TestNG provides to eavesdrop into before and after invocation events for data providers. Using this listener we extract out the Guice injected data from the test class and then inject it back into the object to which the data provider belongs to.</li>\n</ol>\n<p>This is a bit long way of doing this, but goes a bit more to making the data providers truly dynamic.</p>\n<p>Your mileage on using is likely to vary depending upon the actual use case in which you would like to employ such a &quot;sophisticated but yet convoluted approach&quot;.</p>\n"}],"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70140994,"answer_count":2,"score":1,"last_activity_date":1638078592,"creation_date":1637670491,"question_id":70080932,"body_markdown":"If I have a method:\r\n\r\n```java\r\n@Test(dataProvider = &quot;webTarget&quot;)\r\nvoid testFirst(WebTarget target) {\r\n    // ...\r\n}\r\n```\r\n\r\nCan I create a Listener or something in TestNG, that if I have a method:\r\n```java \r\n@Test\r\nvoid testFirst(WebTarget target) {\r\n    // ...\r\n}\r\n```\r\n\r\nthen it automatically injects specific dataProvider, without explicitly specifying it `@Test(dataProvider = &quot;webTarget&quot;)` ?","title":"TestNG assign programatically DataProvider","body":"<p>If I have a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(dataProvider = &quot;webTarget&quot;)\nvoid testFirst(WebTarget target) {\n    // ...\n}\n</code></pre>\n<p>Can I create a Listener or something in TestNG, that if I have a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testFirst(WebTarget target) {\n    // ...\n}\n</code></pre>\n<p>then it automatically injects specific dataProvider, without explicitly specifying it <code>@Test(dataProvider = &quot;webTarget&quot;)</code> ?</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":7,"creation_date":1638078245,"post_id":70140943,"comment_id":123989020,"body_markdown":"Because there is no autoboxing conversion for the arbitrary precision types `BigDecimal` *or* `BigInteger`. The actual boxing conversions are [documented](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7).","body":"Because there is no autoboxing conversion for the arbitrary precision types <code>BigDecimal</code> <i>or</i> <code>BigInteger</code>. The actual boxing conversions are <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">documented</a>."}],"answers":[{"tags":[],"owner":{"account_id":19738262,"reputation":71,"user_id":14452226,"display_name":"Varian Wrynn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638078407,"creation_date":1638078407,"answer_id":70140978,"question_id":70140943,"body_markdown":"BigDecimal is not a primitive. In order to have a BigDecimal you need to create an instance of it like `BigDecimal b = new BigDecimal(12);`. From there you can call its various methods to do math with it, round it, etc.\r\n\r\nWith very, *very* few exceptions all Java Objects require that you assign the variable with an object of that type (or whatever follows the rules of polymorphism).","title":"why we can&#39;t assign number to BigDecimal","body":"<p>BigDecimal is not a primitive. In order to have a BigDecimal you need to create an instance of it like <code>BigDecimal b = new BigDecimal(12);</code>. From there you can call its various methods to do math with it, round it, etc.</p>\n<p>With very, <em>very</em> few exceptions all Java Objects require that you assign the variable with an object of that type (or whatever follows the rules of polymorphism).</p>\n"}],"owner":{"account_id":21771335,"reputation":77,"user_id":16074397,"display_name":"Nisal Jayathilaka"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1638113567,"answer_count":1,"score":1,"last_activity_date":1638078407,"creation_date":1638077920,"question_id":70140943,"body_markdown":"We can store \r\n\r\n    Integer a= 12;\r\n\r\nBut we can&#39;t store like this \r\n\r\n    BigDecimal b =12;// what is the reason for that","title":"why we can&#39;t assign number to BigDecimal","body":"<p>We can store</p>\n<pre><code>Integer a= 12;\n</code></pre>\n<p>But we can't store like this</p>\n<pre><code>BigDecimal b =12;// what is the reason for that\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1638058892,"post_id":70139724,"comment_id":123986983,"body_markdown":"See [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/).","body":"See <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>."},{"owner":{"account_id":17032932,"reputation":1632,"user_id":13179199,"display_name":"Erik McKelvey"},"score":0,"creation_date":1638059444,"post_id":70139724,"comment_id":123987052,"body_markdown":"This code works as expected","body":"This code works as expected"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1638059596,"post_id":70139724,"comment_id":123987074,"body_markdown":"@ErikMcKelvey [not quite](https://stackoverflow.com/a/70139790/256196)!","body":"@ErikMcKelvey <a href=\"https://stackoverflow.com/a/70139790/256196\">not quite</a>!"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1638060933,"post_id":70139724,"comment_id":123987241,"body_markdown":"@ErikMcKelvey What if b &lt; 0? What if b == 0? What if b is has a floating point value?","body":"@ErikMcKelvey What if b &lt; 0? What if b == 0? What if b is has a floating point value?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638078201,"creation_date":1638059569,"answer_id":70139790,"question_id":70139724,"body_markdown":"Running your code does *not* produce `0` as a result, but there is a bug.\r\n\r\n`a = a * a` *squares* the number every iteration, so a&lt;sup&gt;n&lt;/sup&gt; will be calculated as: a&lt;sup&gt;2&lt;sup&gt;n-1&lt;/sup&gt;&lt;/sup&gt;.\r\n\r\nTry accumulating the multiplication in a different variable:\r\n\r\n    double b2 = 0;\r\n    double result = 1;\r\n\r\n    if (b &gt; 0) {\r\n        for (int i = 1; i &lt;= b; i++) {\r\n            result *= a;\r\n        }\r\n        return result;\r\n    } else if (b &lt; 0) {\r\n        int c = 0;\r\n        while (c &gt; b) {\r\n            result *= a;\r\n            c--;\r\n        }\r\n        b2 = 1 / result;\r\n    }\r\n    return b2;\r\n\r\n","title":"Method output giving wrong output","body":"<p>Running your code does <em>not</em> produce <code>0</code> as a result, but there is a bug.</p>\n<p><code>a = a * a</code> <em>squares</em> the number every iteration, so a<sup>n</sup> will be calculated as: a<sup>2<sup>n-1</sup></sup>.</p>\n<p>Try accumulating the multiplication in a different variable:</p>\n<pre><code>double b2 = 0;\ndouble result = 1;\n\nif (b &gt; 0) {\n    for (int i = 1; i &lt;= b; i++) {\n        result *= a;\n    }\n    return result;\n} else if (b &lt; 0) {\n    int c = 0;\n    while (c &gt; b) {\n        result *= a;\n        c--;\n    }\n    b2 = 1 / result;\n}\nreturn b2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638060207,"creation_date":1638060207,"answer_id":70139835,"question_id":70139724,"body_markdown":"```\r\npublic class Pow {\r\n\r\n    public double getAnswer(double a, double b) {\r\n\r\n        double b2 = 0;\r\n\r\n        if (b &gt; 0) {\r\n            for (int i = 1; i &lt; b; i++) {\r\n                a = a * a;\r\n            }\r\n            return a;\r\n        } else if (b &lt; 0) {\r\n            return getAnswer(a, -b);\r\n        }\r\n        return 1; // b is 0\r\n    }\r\n```\r\n\r\nYour algorithm for (b &lt; 0) was wrong. If b &lt; 0, the calculation is 1 / a^(-b).\r\n\r\nWhy your parameter `b` is of type `double`? What if `b` is 2.5? I suggest to change the type of `b` to `int` or you have to change your algorithm.","title":"Method output giving wrong output","body":"<pre><code>public class Pow {\n\n    public double getAnswer(double a, double b) {\n\n        double b2 = 0;\n\n        if (b &gt; 0) {\n            for (int i = 1; i &lt; b; i++) {\n                a = a * a;\n            }\n            return a;\n        } else if (b &lt; 0) {\n            return getAnswer(a, -b);\n        }\n        return 1; // b is 0\n    }\n</code></pre>\n<p>Your algorithm for (b &lt; 0) was wrong. If b &lt; 0, the calculation is 1 / a^(-b).</p>\n<p>Why your parameter <code>b</code> is of type <code>double</code>? What if <code>b</code> is 2.5? I suggest to change the type of <code>b</code> to <code>int</code> or you have to change your algorithm.</p>\n"},{"tags":[],"owner":{"account_id":16395194,"reputation":60,"user_id":11842953,"display_name":"Jyri Keir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638060326,"creation_date":1638060326,"answer_id":70139840,"question_id":70139724,"body_markdown":"As Bohemian said\r\n\r\n`a = a * a;` \r\n\r\nsquares `a` each time.\r\n\r\nWhat we want is for a (the base) to be multiplied by itself b (the power) times.\r\n\r\n\r\nSince the only difference between `a` to the power of `b` and `a` to the power of `(-b)` is that the latter is the 1 / the former, we can use quite nearly the same code for both negative and positive exponents.\r\n\r\nCode:\r\n\r\n```c++\r\npublic double getAnswer(double a, double b) {//a is the base, b is the power\r\n\r\n    double a2 = 1;\r\n    double b2 = 0;\r\n\r\n    if (b &gt; 0) {//for positive powers\r\n        for (int i = 0; i &lt; b; i++) {//a needs to be multiplied by itself (b) times\r\n            a2 = a2 * a;\r\n        }\r\n        return a2;\r\n    }\r\n    else if (b &lt; 0) {//for negative powers \r\n        for (int i = 0; i &lt; -b; i++) {//a still needs to be multiplied by itself (-b) times, but since b is negative, we increment up to the opposite of b\r\n            a2 = a2 * a;\r\n        }\r\n        return 1 / a2;//finally, since the power (b) is negative, we need to return 1 / (a2)\r\n    }\r\n}\r\n```","title":"Method output giving wrong output","body":"<p>As Bohemian said</p>\n<p><code>a = a * a;</code></p>\n<p>squares <code>a</code> each time.</p>\n<p>What we want is for a (the base) to be multiplied by itself b (the power) times.</p>\n<p>Since the only difference between <code>a</code> to the power of <code>b</code> and <code>a</code> to the power of <code>(-b)</code> is that the latter is the 1 / the former, we can use quite nearly the same code for both negative and positive exponents.</p>\n<p>Code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>public double getAnswer(double a, double b) {//a is the base, b is the power\n\n    double a2 = 1;\n    double b2 = 0;\n\n    if (b &gt; 0) {//for positive powers\n        for (int i = 0; i &lt; b; i++) {//a needs to be multiplied by itself (b) times\n            a2 = a2 * a;\n        }\n        return a2;\n    }\n    else if (b &lt; 0) {//for negative powers \n        for (int i = 0; i &lt; -b; i++) {//a still needs to be multiplied by itself (-b) times, but since b is negative, we increment up to the opposite of b\n            a2 = a2 * a;\n        }\n        return 1 / a2;//finally, since the power (b) is negative, we need to return 1 / (a2)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9342655,"reputation":11,"user_id":6934875,"display_name":"ILoveMusic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1638078201,"creation_date":1638058649,"question_id":70139724,"body_markdown":"```\r\npublic class Pow {\r\n\r\n    public double getAnswer(double a, double b) {\r\n\r\n        double b2 = 0;\r\n\r\n        if (b &gt; 0) {\r\n            for (int i = 1; i &lt; b; i++) {\r\n                a = a * a;\r\n            }\r\n            return a;\r\n        } else if (b &lt; 0) {\r\n            int c = 0;\r\n            while (c &gt; b) {\r\n                a = a * a;\r\n                c--;\r\n            }\r\n            b2 = 1 / a;\r\n        }\r\n        return b2;\r\n    }\r\n}\r\n```\r\nI need the second part of my method to return the value of a negative power(i.e. 5^-2 = .04), but the output is always 0. The first part of the method works fine from what I have tested. I do have the last curly braces but they just wouldn&#39;t fit in the text box on here. Any help/suggestions would be much appreciated!","title":"Method output giving wrong output","body":"<pre><code>public class Pow {\n\n    public double getAnswer(double a, double b) {\n\n        double b2 = 0;\n\n        if (b &gt; 0) {\n            for (int i = 1; i &lt; b; i++) {\n                a = a * a;\n            }\n            return a;\n        } else if (b &lt; 0) {\n            int c = 0;\n            while (c &gt; b) {\n                a = a * a;\n                c--;\n            }\n            b2 = 1 / a;\n        }\n        return b2;\n    }\n}\n</code></pre>\n<p>I need the second part of my method to return the value of a negative power(i.e. 5^-2 = .04), but the output is always 0. The first part of the method works fine from what I have tested. I do have the last curly braces but they just wouldn't fit in the text box on here. Any help/suggestions would be much appreciated!</p>\n"},{"tags":["java","hashmap","hashtable","hashset","symbol-table"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1638072931,"post_id":70140593,"comment_id":123988514,"body_markdown":"Same reason you would put **anything** in a `HashMap`, you want to associate a key (here an `Integer` value) with something (in this case a `Set` of other things).","body":"Same reason you would put <b>anything</b> in a <code>HashMap</code>, you want to associate a key (here an <code>Integer</code> value) with something (in this case a <code>Set</code> of other things)."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638078049,"creation_date":1638078049,"answer_id":70140949,"question_id":70140593,"body_markdown":"You do this when you want to map a key to _more than one_ thing.  A Map can only map a key to a single thing, but that single thing can be a Set which holds multiple things.","title":"What is the purpose of placing a HashSet inside of a HashMap?","body":"<p>You do this when you want to map a key to <em>more than one</em> thing.  A Map can only map a key to a single thing, but that single thing can be a Set which holds multiple things.</p>\n"}],"owner":{"account_id":18075761,"reputation":13,"user_id":13139096,"display_name":"lobjob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70140949,"answer_count":1,"score":1,"last_activity_date":1638078049,"creation_date":1638072658,"question_id":70140593,"body_markdown":"For example:\r\n   private HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt; variableName;\r\n\r\nI understand that HashMap implements Map and doesn&#39;t allow duplicate keys and HashSet implements Set and doesn&#39;t allow for duplicate values, but what is the purpose of placing a HashSet inside of a HashMap? Do they not achieve similar tasks by themselves (though in different ways and with different performance)? What functionality does doing this provide that a HashMap by itself couldn&#39;t?","title":"What is the purpose of placing a HashSet inside of a HashMap?","body":"<p>For example:\nprivate HashMap&lt;Integer, HashSet&gt; variableName;</p>\n<p>I understand that HashMap implements Map and doesn't allow duplicate keys and HashSet implements Set and doesn't allow for duplicate values, but what is the purpose of placing a HashSet inside of a HashMap? Do they not achieve similar tasks by themselves (though in different ways and with different performance)? What functionality does doing this provide that a HashMap by itself couldn't?</p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":19802064,"reputation":11,"user_id":14502849,"display_name":"Russell Feinstein"},"score":0,"creation_date":1638068348,"post_id":70140248,"comment_id":123988057,"body_markdown":"Where exactly does that go in the file? What is it nested under? I figured it&#39;s something very very close but my ignorance with Java means I&#39;m struggling to actually know where that goes.\n\nAnd it&#39;s an Integer because it&#39;s specified as such in the requirements for the assignment. I also had that question and the answer from the professor was something about Integer having more functionality to it. Considering what is being done here, I don&#39;t see why it&#39;s necessary though.","body":"Where exactly does that go in the file? What is it nested under? I figured it&#39;s something very very close but my ignorance with Java means I&#39;m struggling to actually know where that goes.  And it&#39;s an Integer because it&#39;s specified as such in the requirements for the assignment. I also had that question and the answer from the professor was something about Integer having more functionality to it. Considering what is being done here, I don&#39;t see why it&#39;s necessary though."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1638069478,"post_id":70140248,"comment_id":123988167,"body_markdown":"As noted by @BasilBourque, my initial comment contained a grievous error: the class that currently implements Comparable should no longer implement Comparable. The `Comparator&lt;Process&gt;` class is a new class, but since it is so very simple, a functional interface (since it only has one method), it is probably best created as a lambda / anonymous inner class: `new PriorityQueue&lt;Process&gt;((p1, p2) -&gt; Integer.compare(p1.getPriority(), p2.getPriority()));`  You create it right where you call your `PriorityQueue` constructor.","body":"As noted by @BasilBourque, my initial comment contained a grievous error: the class that currently implements Comparable should no longer implement Comparable. The <code>Comparator&lt;Process&gt;</code> class is a new class, but since it is so very simple, a functional interface (since it only has one method), it is probably best created as a lambda / anonymous inner class: <code>new PriorityQueue&lt;Process&gt;((p1, p2) -&gt; Integer.compare(p1.getPriority(), p2.getPriority()));</code>  You create it right where you call your <code>PriorityQueue</code> constructor."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1638069535,"post_id":70140248,"comment_id":123988174,"body_markdown":"Also: probably better to declare the priority field an int and not an Integer. Also, best to rename your Process class to another name that does not clash with a commonly used core Java class. Also, best to learn and follow [Java Naming Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html), including giving fields names that start with a lower-case letter. This will help others (us!) to better understand your code.","body":"Also: probably better to declare the priority field an int and not an Integer. Also, best to rename your Process class to another name that does not clash with a commonly used core Java class. Also, best to learn and follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a>, including giving fields names that start with a lower-case letter. This will help others (us!) to better understand your code."},{"owner":{"account_id":19802064,"reputation":11,"user_id":14502849,"display_name":"Russell Feinstein"},"score":0,"creation_date":1638069669,"post_id":70140248,"comment_id":123988191,"body_markdown":"Unfortunately, both of those things are requirements for the project. It is specified that the class be called &quot;process&quot; and it is specified that the priority field be an Integer.","body":"Unfortunately, both of those things are requirements for the project. It is specified that the class be called &quot;process&quot; and it is specified that the priority field be an Integer."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1638069877,"post_id":70140248,"comment_id":123988214,"body_markdown":"I see. But it is *not* a requirement to give a field the name `Q`, I am sure. That field name should begin with a lower-case and should be much more informative and self-commenting.","body":"I see. But it is <i>not</i> a requirement to give a field the name <code>Q</code>, I am sure. That field name should begin with a lower-case and should be much more informative and self-commenting."},{"owner":{"account_id":19802064,"reputation":11,"user_id":14502849,"display_name":"Russell Feinstein"},"score":0,"creation_date":1638070260,"post_id":70140248,"comment_id":123988254,"body_markdown":"Lol... nope... that one was also specified. And the ArrayList being named D. Yes... this professor&#39;s variable names drive me absolutely nuts.","body":"Lol... nope... that one was also specified. And the ArrayList being named D. Yes... this professor&#39;s variable names drive me absolutely nuts."}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638067580,"creation_date":1638067580,"answer_id":70140277,"question_id":70140248,"body_markdown":"The biggest differences between `Comparator` and `Comparable` is that a `Comparator` can order objects of different classes.  `Comparable` generally can only order the same type of objects.\r\n\r\nSo, I&#39;d say you&#39;re well on your way, it&#39;s not as big a jump as you expected.","title":"Implementing Comparator for a PriorityQueue. It functions with comparable and I can not understand what needs to change for Comparator","body":"<p>The biggest differences between <code>Comparator</code> and <code>Comparable</code> is that a <code>Comparator</code> can order objects of different classes.  <code>Comparable</code> generally can only order the same type of objects.</p>\n<p>So, I'd say you're well on your way, it's not as big a jump as you expected.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638077145,"creation_date":1638068315,"answer_id":70140345,"question_id":70140248,"body_markdown":"# tl;dr\r\n\r\n    Comparator.comparing( Process :: getPriority )\r\n\r\n\r\n# Details\r\n\r\nYou said:\r\n\r\n&gt; how exactly to implement `Comparator` as opposed to `Comparable`. I get that I need a separate class \r\n\r\nYes, that is the difference, a separate class.\r\n\r\n - Implementing [`Comparable`][1] is done by adding a method `compareTo` within the  class of the objects being sorted. That means you are limited one single approach to sorting. \r\n - Implementing [`Comparator`][2] is done in a separate class. So we can more than one such `Comparator` implementation, for as many ways as we wish to sort our objects. \r\n\r\nFor example, a class `Student` representing people enrolled in a school might implement `Comparable` by adding a `compareTo` method that sorts by last name, and secondarily by first name. But in some contexts we might want to sort students by their grade level, and in other contexts by the date in which they first enrolled, and in yet other contexts we might sort by the distance between their home and the schoolhouse. For this other contexts we would write various classes implementing `Comparator`.\r\n\r\nIf you want to compare by a `getPriority` method that returns an `int` primitive, then your separate `Comparator` class might look like this. \r\n\r\n```\r\nclass ProcessByPriorityComparator implements Comparator&lt; Process &gt; {  \r\n    public int compare( Process p1 , Process p2 ){  \r\n        if( p1.getPriority() == p2.getPriority() )  \r\n        {\r\n            return 0;  \r\n        } \r\n        else if ( p1.getPriority() &gt; p1.getPriority() )\r\n        {\r\n            return 1;  \r\n        }\r\n        else  \r\n        { \r\n            return -1;  \r\n        }  \r\n    }\r\n}  \r\n```\r\n\r\nOr simplify:\r\n\r\n```\r\nclass ProcessByPriorityComparator implements Comparator&lt; Process &gt; {  \r\n    public int compare( Process p1 , Process p2 ){  \r\n        return Integer.compare( p1.getPriority() , p2.getPriority() ) ;  \r\n    }\r\n}  \r\n```\r\n\r\nExample usage:\r\n\r\n\r\n    Comparator&lt; Process &gt; processByPriorityComparator = \r\n            new ProcessByPriorityComparator() ;\r\n    Collections.sort( listOfProcesses , processByPriorityComparator ) ;\r\n\r\nOr simply:\r\n\r\n    Collections.sort( listOfProcesses , new ProcessByPriorityComparator() ) ;\r\n\r\n    \r\n\r\nThe lambda functional functional features in Java makes it quite easy to define a `Comparator` locally rather than formally defining a separate class. \r\n\r\nGreatly helping to simplify this work are the static methods on `Comparator` such as `comparing`. So defining a `Comparator` can be as simple as using a [method reference][3] for an [accessor getter method][4] to sort by a particular property of the object. \r\n\r\nThis is quite appropriate in your particular case. We can use a method reference for the `Process#getPriority` method.\r\n\r\n    Comparator&lt; Process &gt; processByPriorityComparator = \r\n            Comparator.comparing( Process :: getPriority );\r\n    Collections.sort( listOfProcesses , processByPriorityComparator ) ;\r\n\r\nOr, more simply, drop the named variable holding the comparator.\r\n\r\n    Collections.sort( listOfProcesses , Comparator.comparing( Process :: getPriority ) )\r\n\r\n    \r\n\r\n----------\r\n\r\nBy the way, other issues with your code\r\n\r\nDo yourself a favor and move that huge `main` method out to its own class. Create a separate class named something like `Main` or `App`. \r\n\r\n```\r\npublic class App {\r\n    public static void main( String[] args ) {\r\n        \r\n    }\r\n} \r\n```\r\n\r\nAnd I see no need for `Process` to be `static` nor be nested. \r\n\r\nI suspect you feel some compulsion to have everything squeezed into a single class or file. Not so in Java. In Java you should generally have many classes, smaller and separate. \r\n\r\nEventually, as your app grows, organize the many classes by using packages and possible modules.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [4]: https://en.m.wikipedia.org/wiki/Mutator_method#Java","title":"Implementing Comparator for a PriorityQueue. It functions with comparable and I can not understand what needs to change for Comparator","body":"<h1>tl;dr</h1>\n<pre><code>Comparator.comparing( Process :: getPriority )\n</code></pre>\n<h1>Details</h1>\n<p>You said:</p>\n<blockquote>\n<p>how exactly to implement <code>Comparator</code> as opposed to <code>Comparable</code>. I get that I need a separate class</p>\n</blockquote>\n<p>Yes, that is the difference, a separate class.</p>\n<ul>\n<li>Implementing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> is done by adding a method <code>compareTo</code> within the  class of the objects being sorted. That means you are limited one single approach to sorting.</li>\n<li>Implementing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> is done in a separate class. So we can more than one such <code>Comparator</code> implementation, for as many ways as we wish to sort our objects.</li>\n</ul>\n<p>For example, a class <code>Student</code> representing people enrolled in a school might implement <code>Comparable</code> by adding a <code>compareTo</code> method that sorts by last name, and secondarily by first name. But in some contexts we might want to sort students by their grade level, and in other contexts by the date in which they first enrolled, and in yet other contexts we might sort by the distance between their home and the schoolhouse. For this other contexts we would write various classes implementing <code>Comparator</code>.</p>\n<p>If you want to compare by a <code>getPriority</code> method that returns an <code>int</code> primitive, then your separate <code>Comparator</code> class might look like this.</p>\n<pre><code>class ProcessByPriorityComparator implements Comparator&lt; Process &gt; {  \n    public int compare( Process p1 , Process p2 ){  \n        if( p1.getPriority() == p2.getPriority() )  \n        {\n            return 0;  \n        } \n        else if ( p1.getPriority() &gt; p1.getPriority() )\n        {\n            return 1;  \n        }\n        else  \n        { \n            return -1;  \n        }  \n    }\n}  \n</code></pre>\n<p>Or simplify:</p>\n<pre><code>class ProcessByPriorityComparator implements Comparator&lt; Process &gt; {  \n    public int compare( Process p1 , Process p2 ){  \n        return Integer.compare( p1.getPriority() , p2.getPriority() ) ;  \n    }\n}  \n</code></pre>\n<p>Example usage:</p>\n<pre><code>Comparator&lt; Process &gt; processByPriorityComparator = \n        new ProcessByPriorityComparator() ;\nCollections.sort( listOfProcesses , processByPriorityComparator ) ;\n</code></pre>\n<p>Or simply:</p>\n<pre><code>Collections.sort( listOfProcesses , new ProcessByPriorityComparator() ) ;\n</code></pre>\n<p>The lambda functional functional features in Java makes it quite easy to define a <code>Comparator</code> locally rather than formally defining a separate class.</p>\n<p>Greatly helping to simplify this work are the static methods on <code>Comparator</code> such as <code>comparing</code>. So defining a <code>Comparator</code> can be as simple as using a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a> for an <a href=\"https://en.m.wikipedia.org/wiki/Mutator_method#Java\" rel=\"nofollow noreferrer\">accessor getter method</a> to sort by a particular property of the object.</p>\n<p>This is quite appropriate in your particular case. We can use a method reference for the <code>Process#getPriority</code> method.</p>\n<pre><code>Comparator&lt; Process &gt; processByPriorityComparator = \n        Comparator.comparing( Process :: getPriority );\nCollections.sort( listOfProcesses , processByPriorityComparator ) ;\n</code></pre>\n<p>Or, more simply, drop the named variable holding the comparator.</p>\n<pre><code>Collections.sort( listOfProcesses , Comparator.comparing( Process :: getPriority ) )\n</code></pre>\n<hr />\n<p>By the way, other issues with your code</p>\n<p>Do yourself a favor and move that huge <code>main</code> method out to its own class. Create a separate class named something like <code>Main</code> or <code>App</code>.</p>\n<pre><code>public class App {\n    public static void main( String[] args ) {\n        \n    }\n} \n</code></pre>\n<p>And I see no need for <code>Process</code> to be <code>static</code> nor be nested.</p>\n<p>I suspect you feel some compulsion to have everything squeezed into a single class or file. Not so in Java. In Java you should generally have many classes, smaller and separate.</p>\n<p>Eventually, as your app grows, organize the many classes by using packages and possible modules.</p>\n"}],"owner":{"account_id":19802064,"reputation":11,"user_id":14502849,"display_name":"Russell Feinstein"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638077145,"creation_date":1638067095,"question_id":70140248,"body_markdown":"I&#39;ll preface by saying that this is a project for a class. The logic of the code all functions and, as it stands, currently outputs close to the correct solution (I stopped working on the output when I learned that I had used the wrong interface). The problem is, the requirements very explicitly state we must use comparator. Being new to Java, I used Comparable, not realizing there was an explicit difference. This is an algorithms class in Java, my background is in Python and there are definitely some differences that are going over my head - I&#39;m sure that will be apparent in my code.\r\n\r\nI&#39;ve sort of come to understand the difference between the two, but if you asked me to ELI5, I don&#39;t think I could. Please help me understand how exactly to implement Comparator as opposed to Comparable. I get that I need a separate class but then I&#39;m not exactly sure how that should be formatted and what to do with it once I have it.\r\n\r\nI&#39;m including below the code of the working solution that implements comparable. Any guidance would be extremely appreciated. TIA.\r\n\r\nEDIT: Also, by all means, anything else in particular about my code that stands out as going against Java conventions, I&#39;m happy to hear about.\r\n\r\n```\r\nimport java.util.PriorityQueue;\r\nimport java.util.ArrayList;\r\nimport java.io.File;\r\nimport java.util.Scanner;\r\nimport java.io.FileNotFoundException;\r\n\r\npublic class ProcessScheduling {\r\n\r\n    public static class Process implements Comparable&lt;Process&gt; {\r\n        \r\n        private Integer priority;\r\n        private int id;\r\n        private int arrivalTime;\r\n        private int duration;\r\n\r\n        public Process(int ID, Integer Priority, int Duration, int ArrivalTime) {\r\n            this.id = ID;\r\n            this.priority = Priority;\r\n            this.duration = Duration;\r\n            this.arrivalTime = ArrivalTime;\r\n        }\r\n\r\n        public Integer getPriority() {return priority;}\r\n        public int getId() {return id;}\r\n        public int getArrivalTime() {return arrivalTime;}\r\n        public int getDuration() {return duration;}\r\n        \r\n        public void setPriority(Integer priority) {this.priority = priority;}\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Process ID = &quot; + getId()\r\n                + &quot;\\n\\tPriority = &quot; + getPriority()\r\n                + &quot;\\n\\tArrival = &quot; + getArrivalTime()\r\n                + &quot;\\n\\tDuration = &quot; + getDuration();\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Process P) {\r\n            if (this.getPriority() &gt; P.getPriority()) {return 1;}\r\n            else if (this.getPriority() &lt; P.getPriority()) {return -1;}\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Create ArrayList D to store new processes\r\n        ArrayList&lt;Process&gt; D = new ArrayList&lt;Process&gt;();\r\n        // Read the input file\r\n        try {\r\n            File f = new File(&quot;process_scheduling_input.txt&quot;);\r\n            Scanner reader = new Scanner(f);\r\n            while (reader.hasNextLine()) {\r\n                // Create new Processes and add them to ArrayList D\r\n                String[] data = reader.nextLine().split(&quot; &quot;);\r\n                Process newProcess = new Process(   Integer.valueOf(data[0]),\r\n                                                    Integer.parseInt(data[1]),\r\n                                                    Integer.parseInt(data[2]),\r\n                                                    Integer.parseInt(data[3])\r\n                );\r\n                D.add(newProcess);\r\n            }\r\n            reader.close();\r\n        }   catch (FileNotFoundException e) {\r\n            System.out.println(&quot;An error occured. File does not exist.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Print all processes\r\n        for (int i = 0; i &lt; D.size(); i++) {\r\n            Process current = D.get(i);\r\n            System.out.print(&quot;Id = &quot; + current.getId());\r\n            System.out.print(&quot;, priority = &quot; + current.getPriority());\r\n            System.out.print(&quot;, duration = &quot; + current.getDuration());\r\n            System.out.println(&quot;, arrival time = &quot; + current.getArrivalTime());\r\n        }\r\n\r\n        // Instantiate priorityQueue and some parameters\r\n        int currentTime = 10;\r\n        boolean running = false;\r\n        int maxWaitTime = 30;\r\n        float totalWaitTime = 0;\r\n        int currentEndTime = 0;\r\n        Process current = null;\r\n        PriorityQueue&lt;Process&gt; Q = new PriorityQueue&lt;Process&gt;();\r\n\r\n        // Print maxWaitTime\r\n        System.out.println(&quot;\\nMaximum wait time = &quot; + maxWaitTime);\r\n\r\n        // While D still has a process in it\r\n        while (D.isEmpty() == false) {\r\n            // Check if current running process has finished\r\n            if (running == true &amp;&amp; currentEndTime &lt;= currentTime) {\r\n                // Print that Process finished\r\n                System.out.print(&quot;Process &quot; + current.getId());\r\n                System.out.println(&quot; finished at time &quot; + currentTime + &quot;\\n&quot;);\r\n                // Update running flag\r\n                running = false;\r\n                // Update priority of Processes in Q that have been waiting longer than max wait time\r\n                System.out.println(&quot;Update priority:&quot;);\r\n                if (Q.isEmpty() == false) {\r\n                    for (Process p : Q) {\r\n                        int waitTime = currentTime - p.getArrivalTime();\r\n                        if (waitTime &gt;= maxWaitTime) {\r\n                            Integer priority = p.getPriority();\r\n                            int id = p.getId();\r\n                            System.out.print(&quot;PID = &quot; + id);\r\n                            System.out.print(&quot;, wait time = &quot; + waitTime);\r\n                            System.out.println(&quot;, current priority = &quot; + priority);\r\n                            priority -= 1;\r\n                            p.setPriority(priority);\r\n                            System.out.print(&quot;PID = &quot; + id);\r\n                            System.out.println(&quot;, new priority = &quot; + priority);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Find process with earliest arrivalTime in D\r\n            Process earliest = D.get(0);\r\n            for (int i = 1; i &lt; D.size(); i++) {\r\n                if (D.get(i).getArrivalTime() &lt; earliest.getArrivalTime()) {\r\n                    earliest = D.get(i);\r\n                }\r\n            }\r\n            // Check if arrivalTime of earliest is &lt;= to currentTime\r\n            if (earliest.getArrivalTime() &lt;= currentTime) {\r\n                // Add to Q and remove from D if yes\r\n                Q.add(earliest);\r\n                D.remove(earliest);\r\n            }\r\n            // Check if Q is not empty and running flag is false\r\n            if (Q.isEmpty() == false &amp;&amp; running == false) {\r\n                // Remove process in Q with smallest priority\r\n                current = Q.poll();\r\n                int waitTime = currentTime - current.getArrivalTime();\r\n                totalWaitTime += waitTime;\r\n                currentEndTime = currentTime + current.getDuration();\r\n                // Process removed from priority queue, print info\r\n                System.out.print(&quot;\\nProcess removed from queue is: id = &quot; + current.getId());\r\n                System.out.print(&quot;, at time &quot; + currentTime);\r\n                System.out.print(&quot;, wait time = &quot; + waitTime);\r\n                System.out.println(&quot; Total wait time = &quot; + totalWaitTime);\r\n                System.out.println(current);\r\n                running = true;\r\n            }\r\n            if (D.isEmpty() == true) {\r\n                System.out.println(&quot;\\nD becomes empty at time &quot; + currentTime + &quot;\\n&quot;);\r\n            }\r\n            currentTime++;\r\n        }\r\n\r\n        // D is now empty, all processes are in Q\r\n        while (Q.isEmpty() == false) {\r\n            // Check if current running process has finished\r\n            if (running == true &amp;&amp; currentEndTime &gt;= currentTime) {\r\n                // Update running flag\r\n                running = false;\r\n                // Update priority of Processes in Q that have been waiting longer than max wait time\r\n                System.out.println(&quot;Update priority:&quot;);\r\n                if (Q.isEmpty() == false) {\r\n                    for (Process p : Q) {\r\n                        if (p.getArrivalTime() - currentTime &gt;= maxWaitTime) {\r\n                            p.priority = p.getPriority() - 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // If no Process running, start a new one\r\n            if (running == false){\r\n                current = Q.poll();\r\n                int waitTime = currentTime - current.getArrivalTime();\r\n                totalWaitTime += waitTime;\r\n                currentEndTime = currentTime + current.getDuration();\r\n                // Process removed from priority queue, print info\r\n                System.out.print(&quot;\\nProcess removed from queue is: id = &quot; + current.getId());\r\n                System.out.print(&quot;, at time &quot; + currentTime);\r\n                System.out.print(&quot;, wait time = &quot; + waitTime);\r\n                System.out.println(&quot; Total wait time = &quot; + totalWaitTime);\r\n                System.out.println(current);\r\n                running = true;\r\n            }\r\n            currentTime++;\r\n\r\n\r\n\r\n\r\n            currentTime++;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"Implementing Comparator for a PriorityQueue. It functions with comparable and I can not understand what needs to change for Comparator","body":"<p>I'll preface by saying that this is a project for a class. The logic of the code all functions and, as it stands, currently outputs close to the correct solution (I stopped working on the output when I learned that I had used the wrong interface). The problem is, the requirements very explicitly state we must use comparator. Being new to Java, I used Comparable, not realizing there was an explicit difference. This is an algorithms class in Java, my background is in Python and there are definitely some differences that are going over my head - I'm sure that will be apparent in my code.</p>\n<p>I've sort of come to understand the difference between the two, but if you asked me to ELI5, I don't think I could. Please help me understand how exactly to implement Comparator as opposed to Comparable. I get that I need a separate class but then I'm not exactly sure how that should be formatted and what to do with it once I have it.</p>\n<p>I'm including below the code of the working solution that implements comparable. Any guidance would be extremely appreciated. TIA.</p>\n<p>EDIT: Also, by all means, anything else in particular about my code that stands out as going against Java conventions, I'm happy to hear about.</p>\n<pre><code>import java.util.PriorityQueue;\nimport java.util.ArrayList;\nimport java.io.File;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class ProcessScheduling {\n\n    public static class Process implements Comparable&lt;Process&gt; {\n        \n        private Integer priority;\n        private int id;\n        private int arrivalTime;\n        private int duration;\n\n        public Process(int ID, Integer Priority, int Duration, int ArrivalTime) {\n            this.id = ID;\n            this.priority = Priority;\n            this.duration = Duration;\n            this.arrivalTime = ArrivalTime;\n        }\n\n        public Integer getPriority() {return priority;}\n        public int getId() {return id;}\n        public int getArrivalTime() {return arrivalTime;}\n        public int getDuration() {return duration;}\n        \n        public void setPriority(Integer priority) {this.priority = priority;}\n\n        @Override\n        public String toString() {\n            return &quot;Process ID = &quot; + getId()\n                + &quot;\\n\\tPriority = &quot; + getPriority()\n                + &quot;\\n\\tArrival = &quot; + getArrivalTime()\n                + &quot;\\n\\tDuration = &quot; + getDuration();\n        }\n\n        @Override\n        public int compareTo(Process P) {\n            if (this.getPriority() &gt; P.getPriority()) {return 1;}\n            else if (this.getPriority() &lt; P.getPriority()) {return -1;}\n            return 0;\n        }\n    }\n\n    public static void main(String[] args) {\n        // Create ArrayList D to store new processes\n        ArrayList&lt;Process&gt; D = new ArrayList&lt;Process&gt;();\n        // Read the input file\n        try {\n            File f = new File(&quot;process_scheduling_input.txt&quot;);\n            Scanner reader = new Scanner(f);\n            while (reader.hasNextLine()) {\n                // Create new Processes and add them to ArrayList D\n                String[] data = reader.nextLine().split(&quot; &quot;);\n                Process newProcess = new Process(   Integer.valueOf(data[0]),\n                                                    Integer.parseInt(data[1]),\n                                                    Integer.parseInt(data[2]),\n                                                    Integer.parseInt(data[3])\n                );\n                D.add(newProcess);\n            }\n            reader.close();\n        }   catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occured. File does not exist.&quot;);\n            e.printStackTrace();\n        }\n\n        // Print all processes\n        for (int i = 0; i &lt; D.size(); i++) {\n            Process current = D.get(i);\n            System.out.print(&quot;Id = &quot; + current.getId());\n            System.out.print(&quot;, priority = &quot; + current.getPriority());\n            System.out.print(&quot;, duration = &quot; + current.getDuration());\n            System.out.println(&quot;, arrival time = &quot; + current.getArrivalTime());\n        }\n\n        // Instantiate priorityQueue and some parameters\n        int currentTime = 10;\n        boolean running = false;\n        int maxWaitTime = 30;\n        float totalWaitTime = 0;\n        int currentEndTime = 0;\n        Process current = null;\n        PriorityQueue&lt;Process&gt; Q = new PriorityQueue&lt;Process&gt;();\n\n        // Print maxWaitTime\n        System.out.println(&quot;\\nMaximum wait time = &quot; + maxWaitTime);\n\n        // While D still has a process in it\n        while (D.isEmpty() == false) {\n            // Check if current running process has finished\n            if (running == true &amp;&amp; currentEndTime &lt;= currentTime) {\n                // Print that Process finished\n                System.out.print(&quot;Process &quot; + current.getId());\n                System.out.println(&quot; finished at time &quot; + currentTime + &quot;\\n&quot;);\n                // Update running flag\n                running = false;\n                // Update priority of Processes in Q that have been waiting longer than max wait time\n                System.out.println(&quot;Update priority:&quot;);\n                if (Q.isEmpty() == false) {\n                    for (Process p : Q) {\n                        int waitTime = currentTime - p.getArrivalTime();\n                        if (waitTime &gt;= maxWaitTime) {\n                            Integer priority = p.getPriority();\n                            int id = p.getId();\n                            System.out.print(&quot;PID = &quot; + id);\n                            System.out.print(&quot;, wait time = &quot; + waitTime);\n                            System.out.println(&quot;, current priority = &quot; + priority);\n                            priority -= 1;\n                            p.setPriority(priority);\n                            System.out.print(&quot;PID = &quot; + id);\n                            System.out.println(&quot;, new priority = &quot; + priority);\n                        }\n                    }\n                }\n            }\n            // Find process with earliest arrivalTime in D\n            Process earliest = D.get(0);\n            for (int i = 1; i &lt; D.size(); i++) {\n                if (D.get(i).getArrivalTime() &lt; earliest.getArrivalTime()) {\n                    earliest = D.get(i);\n                }\n            }\n            // Check if arrivalTime of earliest is &lt;= to currentTime\n            if (earliest.getArrivalTime() &lt;= currentTime) {\n                // Add to Q and remove from D if yes\n                Q.add(earliest);\n                D.remove(earliest);\n            }\n            // Check if Q is not empty and running flag is false\n            if (Q.isEmpty() == false &amp;&amp; running == false) {\n                // Remove process in Q with smallest priority\n                current = Q.poll();\n                int waitTime = currentTime - current.getArrivalTime();\n                totalWaitTime += waitTime;\n                currentEndTime = currentTime + current.getDuration();\n                // Process removed from priority queue, print info\n                System.out.print(&quot;\\nProcess removed from queue is: id = &quot; + current.getId());\n                System.out.print(&quot;, at time &quot; + currentTime);\n                System.out.print(&quot;, wait time = &quot; + waitTime);\n                System.out.println(&quot; Total wait time = &quot; + totalWaitTime);\n                System.out.println(current);\n                running = true;\n            }\n            if (D.isEmpty() == true) {\n                System.out.println(&quot;\\nD becomes empty at time &quot; + currentTime + &quot;\\n&quot;);\n            }\n            currentTime++;\n        }\n\n        // D is now empty, all processes are in Q\n        while (Q.isEmpty() == false) {\n            // Check if current running process has finished\n            if (running == true &amp;&amp; currentEndTime &gt;= currentTime) {\n                // Update running flag\n                running = false;\n                // Update priority of Processes in Q that have been waiting longer than max wait time\n                System.out.println(&quot;Update priority:&quot;);\n                if (Q.isEmpty() == false) {\n                    for (Process p : Q) {\n                        if (p.getArrivalTime() - currentTime &gt;= maxWaitTime) {\n                            p.priority = p.getPriority() - 1;\n                        }\n                    }\n                }\n            }\n            // If no Process running, start a new one\n            if (running == false){\n                current = Q.poll();\n                int waitTime = currentTime - current.getArrivalTime();\n                totalWaitTime += waitTime;\n                currentEndTime = currentTime + current.getDuration();\n                // Process removed from priority queue, print info\n                System.out.print(&quot;\\nProcess removed from queue is: id = &quot; + current.getId());\n                System.out.print(&quot;, at time &quot; + currentTime);\n                System.out.print(&quot;, wait time = &quot; + waitTime);\n                System.out.println(&quot; Total wait time = &quot; + totalWaitTime);\n                System.out.println(current);\n                running = true;\n            }\n            currentTime++;\n\n\n\n\n            currentTime++;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jdbc","transactions"],"comments":[{"owner":{"account_id":16287950,"reputation":1194,"user_id":11762199,"display_name":"mhrsalehi"},"score":4,"creation_date":1577248488,"post_id":4940648,"comment_id":105128520,"body_markdown":"from JDBC 4.0 specification : &quot;When to start a new transaction is a decision made implicitly by either the JDBC\ndriver or the underlying data source. Although some data sources implement an\nexplicit begin transaction statement, there is no JDBC API to do so. Typically, a\nnew transaction is started when the current SQL statement requires one and there is\nno transaction already in place. Whether or not a given SQL statement requires a\ntransaction is also specified by SQL:2003.&quot;","body":"from JDBC 4.0 specification : &quot;When to start a new transaction is a decision made implicitly by either the JDBC driver or the underlying data source. Although some data sources implement an explicit begin transaction statement, there is no JDBC API to do so. Typically, a new transaction is started when the current SQL statement requires one and there is no transaction already in place. Whether or not a given SQL statement requires a transaction is also specified by SQL:2003.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":161848,"reputation":6734,"user_id":382920,"accept_rate":74,"display_name":"Necronet"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1347525358,"creation_date":1297217969,"answer_id":4940691,"question_id":4940648,"body_markdown":"I suggest you read [this][1] you&#39;ll see\r\n\r\n\r\n&gt; Therefore, the first call of\r\n&gt; setAutoCommit(false) and each call of\r\n&gt; commit() implicitly mark the start of\r\n&gt; a transaction. Transactions can be\r\n&gt; undone before they are committed by\r\n&gt; calling\r\n\r\n**Edit:**\r\n\r\nCheck the official documentation on JDBC Transactions\r\n\r\n&gt; When a connection is created, it is in auto-commit mode. This means\r\n&gt; that each individual SQL statement is treated as a transaction and is\r\n&gt; automatically committed right after it is executed. (To be more\r\n&gt; precise, the default is for a SQL statement to be committed when it is\r\n&gt; completed, not when it is executed. A statement is completed when all\r\n&gt; of its result sets and update counts have been retrieved. In almost\r\n&gt; all cases, however, a statement is completed, and therefore committed,\r\n&gt; right after it is executed.)\r\n&gt; \r\n&gt; **The way to allow two or more statements to be grouped into a\r\n&gt; transaction is to disable the auto-commit mode.** This is demonstrated\r\n&gt; in the following code, where con is an active connection:\r\n&gt; \r\n&gt; con.setAutoCommit(false);\r\n\r\nSource: [JDBC Transactions][2]\r\n\r\n\r\n  [1]: http://www.devx.com/tips/Tip/26465\r\n  [2]: http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html","title":"How to start a transaction in JDBC?","body":"<p>I suggest you read <a href=\"http://www.devx.com/tips/Tip/26465\" rel=\"noreferrer\">this</a> you'll see</p>\n\n<blockquote>\n  <p>Therefore, the first call of\n  setAutoCommit(false) and each call of\n  commit() implicitly mark the start of\n  a transaction. Transactions can be\n  undone before they are committed by\n  calling</p>\n</blockquote>\n\n<p><strong>Edit:</strong></p>\n\n<p>Check the official documentation on JDBC Transactions</p>\n\n<blockquote>\n  <p>When a connection is created, it is in auto-commit mode. This means\n  that each individual SQL statement is treated as a transaction and is\n  automatically committed right after it is executed. (To be more\n  precise, the default is for a SQL statement to be committed when it is\n  completed, not when it is executed. A statement is completed when all\n  of its result sets and update counts have been retrieved. In almost\n  all cases, however, a statement is completed, and therefore committed,\n  right after it is executed.)</p>\n  \n  <p><strong>The way to allow two or more statements to be grouped into a\n  transaction is to disable the auto-commit mode.</strong> This is demonstrated\n  in the following code, where con is an active connection:</p>\n  \n  <p>con.setAutoCommit(false);</p>\n</blockquote>\n\n<p>Source: <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"noreferrer\">JDBC Transactions</a></p>\n"},{"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1297363847,"creation_date":1297219718,"answer_id":4940814,"question_id":4940648,"body_markdown":"JDBC implicitly demarcates **each** query/update you perform on the connection with a transaction. You can customize this behavior by calling **setAutoCommit(false)** to turn off the auto-commit mode and call the **commit()/rollback()** to indicate the end of a transaction. Pesudo code \r\n\r\n    try\r\n    {\r\n      con.setAutoCommit(false);\r\n\r\n       //1 or more queries or updates\r\n\r\n       con.commit();\r\n    }\r\n    catch(Exception e)\r\n    {\r\n       con.rollback();\r\n    }\r\n    finally\r\n    {\r\n       con.close();\r\n    }\r\n\r\nNow, there is a type in the method you have shown. It should be **setTransactionIsolation(int level)** and is not the api for transaction demarcation. It manages how/when the changes made by one operation become visible to other concurrent operations, the **&quot;I&quot;** in **ACID** (http://en.wikipedia.org/wiki/Isolation_(database_systems))","title":"How to start a transaction in JDBC?","body":"<p>JDBC implicitly demarcates <strong>each</strong> query/update you perform on the connection with a transaction. You can customize this behavior by calling <strong>setAutoCommit(false)</strong> to turn off the auto-commit mode and call the <strong>commit()/rollback()</strong> to indicate the end of a transaction. Pesudo code </p>\n\n<pre><code>try\n{\n  con.setAutoCommit(false);\n\n   //1 or more queries or updates\n\n   con.commit();\n}\ncatch(Exception e)\n{\n   con.rollback();\n}\nfinally\n{\n   con.close();\n}\n</code></pre>\n\n<p>Now, there is a type in the method you have shown. It should be <strong>setTransactionIsolation(int level)</strong> and is not the api for transaction demarcation. It manages how/when the changes made by one operation become visible to other concurrent operations, the <strong>\"I\"</strong> in <strong>ACID</strong> (http://en.wikipedia.org/wiki/Isolation_(database_systems))</p>\n"},{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1297219865,"creation_date":1297219865,"answer_id":4940834,"question_id":4940648,"body_markdown":"Actually, [this page from the JDBC tutorial][1] would be a better read.  \r\nYou would get your connection, set your isolation level and then do your updates amd stuff and then either commit or rollback.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/jdbc/basics/transactions.html","title":"How to start a transaction in JDBC?","body":"<p>Actually, <a href=\"http://download.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"noreferrer\">this page from the JDBC tutorial</a> would be a better read.<br>\nYou would get your connection, set your isolation level and then do your updates amd stuff and then either commit or rollback.</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1638076659,"creation_date":1303255020,"answer_id":5723862,"question_id":4940648,"body_markdown":"Answering my own question:\r\n\r\n* JDBC [connections][1] start out with **auto-commit mode enabled**, where each SQL statement is implicitly demarcated with a transaction. \r\n* Users who wish to execute multiple statements per transaction must turn [auto-commit off][2].\r\n* Changing the auto-commit mode triggers a commit of the current transaction (if one is active).\r\n* [`Connection.setTransactionIsolation()`][3] may be invoked anytime if auto-commit is enabled.\r\n* If auto-commit is disabled, [`Connection.setTransactionIsolation()`][3] may only be invoked before or after a transaction. Invoking it in the middle of a transaction leads to undefined behavior.\r\n\r\nSee [JDBC Tutorial](http://download.oracle.com/javase/tutorial/jdbc/basics/transactions.html) by Oracle.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#setAutoCommit(boolean)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#setTransactionIsolation(int)","title":"How to start a transaction in JDBC?","body":"<p>Answering my own question:</p>\n<ul>\n<li>JDBC <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html\" rel=\"noreferrer\">connections</a> start out with <strong>auto-commit mode enabled</strong>, where each SQL statement is implicitly demarcated with a transaction.</li>\n<li>Users who wish to execute multiple statements per transaction must turn <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#setAutoCommit(boolean)\" rel=\"noreferrer\">auto-commit off</a>.</li>\n<li>Changing the auto-commit mode triggers a commit of the current transaction (if one is active).</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#setTransactionIsolation(int)\" rel=\"noreferrer\"><code>Connection.setTransactionIsolation()</code></a> may be invoked anytime if auto-commit is enabled.</li>\n<li>If auto-commit is disabled, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#setTransactionIsolation(int)\" rel=\"noreferrer\"><code>Connection.setTransactionIsolation()</code></a> may only be invoked before or after a transaction. Invoking it in the middle of a transaction leads to undefined behavior.</li>\n</ul>\n<p>See <a href=\"http://download.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"noreferrer\">JDBC Tutorial</a> by Oracle.</p>\n"},{"tags":[],"owner":{"account_id":3304725,"reputation":81,"user_id":2779903,"display_name":"Pittmann Gy&#246;rgy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1461503702,"creation_date":1461503702,"answer_id":36823597,"question_id":4940648,"body_markdown":"Maybe this will answer your question:\r\nYou can only have one transaction per connection.\r\nIf autocommit is on (default), every select, update, delete will automatically start and commit (or rollback) a transaction.\r\nIf you set autocommit off, you start a &quot;new&quot; transaction (means commit or rollback won&#39;t happen automatically). After some statements, you can call commit or rollback, which finishes current transaction and automatically starts a new one.\r\nYou cannot have two transactions actively open on one JDBC connection on pure JDBC.","title":"How to start a transaction in JDBC?","body":"<p>Maybe this will answer your question:\nYou can only have one transaction per connection.\nIf autocommit is on (default), every select, update, delete will automatically start and commit (or rollback) a transaction.\nIf you set autocommit off, you start a \"new\" transaction (means commit or rollback won't happen automatically). After some statements, you can call commit or rollback, which finishes current transaction and automatically starts a new one.\nYou cannot have two transactions actively open on one JDBC connection on pure JDBC.</p>\n"},{"tags":[],"owner":{"account_id":8847601,"reputation":111,"user_id":6607894,"display_name":"Manochehr"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1480302363,"creation_date":1468922955,"answer_id":38455497,"question_id":4940648,"body_markdown":"You can use these methods for transaction:\r\n\r\n1. you must create the connection object like `con`\r\n2. `con.setAutoCommit(false);`\r\n3. your queries\r\n4. if all is true `con.commit();`\r\n5. else `con.rollback();`","title":"How to start a transaction in JDBC?","body":"<p>You can use these methods for transaction:</p>\n\n<ol>\n<li>you must create the connection object like <code>con</code></li>\n<li><code>con.setAutoCommit(false);</code></li>\n<li>your queries</li>\n<li>if all is true <code>con.commit();</code></li>\n<li>else <code>con.rollback();</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1511805493,"creation_date":1511577240,"answer_id":47482143,"question_id":4940648,"body_markdown":"Startingly, you can manually run a transaction, if you wish to leave your connection in &quot;setAutoCommit(true)&quot; mode but still want a transaction:\r\n\r\n     try (Statement statement = conn.createStatement()) {\r\n          statement.execute(&quot;BEGIN&quot;);\r\n          try {\r\n            // use statement ...\r\n            statement.execute(&quot;COMMIT&quot;);\r\n          }\r\n          catch (SQLException failure) {\r\n            statement.execute(&quot;ROLLBACK&quot;);\r\n          }\r\n      }","title":"How to start a transaction in JDBC?","body":"<p>Startingly, you can manually run a transaction, if you wish to leave your connection in \"setAutoCommit(true)\" mode but still want a transaction:</p>\n\n<pre><code> try (Statement statement = conn.createStatement()) {\n      statement.execute(\"BEGIN\");\n      try {\n        // use statement ...\n        statement.execute(\"COMMIT\");\n      }\n      catch (SQLException failure) {\n        statement.execute(\"ROLLBACK\");\n      }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583264175,"creation_date":1583264175,"answer_id":60514325,"question_id":4940648,"body_markdown":"Using one connection for multiple transactions (reuse, pooling or chaining) some weird problems can lurk creating problems people have to live by since they usually cant identify the causes. \r\n\r\nThe following scenarios come to mind:\r\n\r\n 1. (Re-)Using a connection with an ongoing / uncommitted transaction\r\n 2. Flawed connection pool implementations\r\n 3. Higher isolation level implementations in some databases (especially the distributed SQL and the NoSQL one)\r\n\r\nPoint 1 is straight forward and understandable.\r\nPoint 2 basically leads to either point 1 or (and) point 3. \r\n\r\nPoint 3 is all about a system where a new transaction has begun before the first statement is issued. From a database perspective such a transaction might have started long before the &#39;first&#39; real statement was issued. If the concurrency model is based on the snapshot idea where one reads only states/values that were valid at the point the transaction begins but no change that has changed later on, it is very important that on commit the full read set of the current transaction is also validated.\r\n\r\nSince NoSQL and certain isolation levels like MS SQL-Server Snapshot often do not validate the read-set (in the right way), all bets are usually off to what to expect. While this is a problem always being present, it is way worse when one is dealing with transactions that start on the last commit or when the connection was pooled rather than the connection being actually used, it is usually important to make sure the transaction actually starts when it is expected to start. (Also very important if one uses a rollback-only read-only transaction).\r\n\r\n\r\nI use the following rules when dealing with JDBC in JAVA:\r\n\r\n 1. Always rollback a JDBC connection before using it (scraps everyting and starts a new transaction), if the company uses plain JDBC in conjunction with any pooling mechanism\r\n 2. Use Hibernate for Transaction handling even if only using a session managed JDBC connection for plain SQL. Never had a problem with transactions till now.\r\n 3. Use BEGIN / COMMIT / ROLLBACK as SQL-Statements (like already mentioned). Most implementations will fail if you issue a BEGIN statement during an active transaction (test it for your database and remember the test database is not the production database and JDBC Driver and JDBC Server-side implementations can differ in behaviro than running a SQL console on the actual server).\r\n 4. Use 3 inside one&#39;s own wrapper for a JDBC connection instances. This way transaction handling is always correct (if no reflection is used and the connection pooling is not flawed). \r\n\r\n3+4 I only use if response time is critical or if Hibernate is not available.\r\n4 allows for using some more advanced performance (response time) improvement patterns for special cases","title":"How to start a transaction in JDBC?","body":"<p>Using one connection for multiple transactions (reuse, pooling or chaining) some weird problems can lurk creating problems people have to live by since they usually cant identify the causes. </p>\n\n<p>The following scenarios come to mind:</p>\n\n<ol>\n<li>(Re-)Using a connection with an ongoing / uncommitted transaction</li>\n<li>Flawed connection pool implementations</li>\n<li>Higher isolation level implementations in some databases (especially the distributed SQL and the NoSQL one)</li>\n</ol>\n\n<p>Point 1 is straight forward and understandable.\nPoint 2 basically leads to either point 1 or (and) point 3. </p>\n\n<p>Point 3 is all about a system where a new transaction has begun before the first statement is issued. From a database perspective such a transaction might have started long before the 'first' real statement was issued. If the concurrency model is based on the snapshot idea where one reads only states/values that were valid at the point the transaction begins but no change that has changed later on, it is very important that on commit the full read set of the current transaction is also validated.</p>\n\n<p>Since NoSQL and certain isolation levels like MS SQL-Server Snapshot often do not validate the read-set (in the right way), all bets are usually off to what to expect. While this is a problem always being present, it is way worse when one is dealing with transactions that start on the last commit or when the connection was pooled rather than the connection being actually used, it is usually important to make sure the transaction actually starts when it is expected to start. (Also very important if one uses a rollback-only read-only transaction).</p>\n\n<p>I use the following rules when dealing with JDBC in JAVA:</p>\n\n<ol>\n<li>Always rollback a JDBC connection before using it (scraps everyting and starts a new transaction), if the company uses plain JDBC in conjunction with any pooling mechanism</li>\n<li>Use Hibernate for Transaction handling even if only using a session managed JDBC connection for plain SQL. Never had a problem with transactions till now.</li>\n<li>Use BEGIN / COMMIT / ROLLBACK as SQL-Statements (like already mentioned). Most implementations will fail if you issue a BEGIN statement during an active transaction (test it for your database and remember the test database is not the production database and JDBC Driver and JDBC Server-side implementations can differ in behaviro than running a SQL console on the actual server).</li>\n<li>Use 3 inside one's own wrapper for a JDBC connection instances. This way transaction handling is always correct (if no reflection is used and the connection pooling is not flawed). </li>\n</ol>\n\n<p>3+4 I only use if response time is critical or if Hibernate is not available.\n4 allows for using some more advanced performance (response time) improvement patterns for special cases</p>\n"}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116605,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":5723862,"answer_count":8,"score":83,"last_activity_date":1638076659,"creation_date":1297217369,"question_id":4940648,"body_markdown":"[`Connection.setTransactionIsolation(int)`](http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html#setTransactionIsolation%28int%29) warns:\r\n\r\n&gt; Note: If this method is called during a transaction, the result is implementation-defined. \r\n\r\nThis bring up the question: **how do you begin a transaction in JDBC?** It&#39;s clear how to end a transaction, but not how to begin it.\r\n\r\nIf a `Connection` starts inside in a transaction, how are we supposed to invoke `Connection.setTransactionIsolation(int)` outside of a transaction to avoid implementation-specific behavior?","title":"How to start a transaction in JDBC?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html#setTransactionIsolation%28int%29\" rel=\"noreferrer\"><code>Connection.setTransactionIsolation(int)</code></a> warns:</p>\n\n<blockquote>\n  <p>Note: If this method is called during a transaction, the result is implementation-defined. </p>\n</blockquote>\n\n<p>This bring up the question: <strong>how do you begin a transaction in JDBC?</strong> It's clear how to end a transaction, but not how to begin it.</p>\n\n<p>If a <code>Connection</code> starts inside in a transaction, how are we supposed to invoke <code>Connection.setTransactionIsolation(int)</code> outside of a transaction to avoid implementation-specific behavior?</p>\n"},{"tags":["java","post","io"],"comments":[{"owner":{"account_id":456563,"reputation":4395,"user_id":855395,"accept_rate":75,"display_name":"Eran Zimmerman Gonen"},"score":0,"creation_date":1316505740,"post_id":7481874,"comment_id":9055380,"body_markdown":"Try replacing that call with `ps.flush()`.","body":"Try replacing that call with <code>ps.flush()</code>."},{"owner":{"account_id":370830,"reputation":4133,"user_id":719023,"accept_rate":83,"display_name":"Simon"},"score":0,"creation_date":1316505940,"post_id":7481874,"comment_id":9055422,"body_markdown":"I already tried it, but it did not help. Every call of ps.println() already calls flush()...","body":"I already tried it, but it did not help. Every call of ps.println() already calls flush()..."},{"owner":{"account_id":370830,"reputation":4133,"user_id":719023,"accept_rate":83,"display_name":"Simon"},"score":1,"creation_date":1316507414,"post_id":7481874,"comment_id":9055771,"body_markdown":"Sorry, now I found the answer to my question: http://stackoverflow.com/questions/4844535/why-do-you-have-to-call-urlconnectiongetinputstream-to-be-able-to-write-out-to-u/4844926#4844926","body":"Sorry, now I found the answer to my question: <a href=\"http://stackoverflow.com/questions/4844535/why-do-you-have-to-call-urlconnectiongetinputstream-to-be-able-to-write-out-to-u/4844926#4844926\" title=\"why do you have to call urlconnectiongetinputstream to be able to write out to u\">stackoverflow.com/questions/4844535/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":922483,"reputation":791,"user_id":953896,"display_name":"swanliu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316506159,"creation_date":1316506159,"answer_id":7481985,"question_id":7481874,"body_markdown":"URL represents some source.\r\n\r\nURLConnection represents  a connection to the resource.\r\n\r\nyou need call connection.connect() to connect the connection","title":"Sending Java POST request without calling getInputStream()","body":"<p>URL represents some source.</p>\n\n<p>URLConnection represents  a connection to the resource.</p>\n\n<p>you need call connection.connect() to connect the connection</p>\n"},{"tags":[],"owner":{"account_id":917777,"reputation":2579,"user_id":950189,"accept_rate":83,"display_name":"Andrei LED"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316511601,"creation_date":1316506331,"answer_id":7482018,"question_id":7481874,"body_markdown":"Try to add &lt;pre&gt;&lt;code&gt;con.setDoInput (false);&lt;/code&gt;&lt;/pre&gt; before writing to the output.\r\n\r\nP.S.: and you should also call con.connect () as swanliu says.\r\n\r\n&lt;b&gt;Update&lt;/b&gt;&lt;br/&gt;\r\nThis is what I came up with\r\n&lt;pre&gt;&lt;code&gt;\r\n\tprivate static final void sendPostRequest (final String urlAddress, String key, String value) throws Exception\r\n\t{\r\n\t\tURL url = new URL (urlAddress);\r\n\t\tURLConnection con = url.openConnection ();\r\n\t\tcon.setDoOutput (true);\r\n\t\tcon.setDoInput (false);\r\n\t\tPrintStream ps = new PrintStream (con.getOutputStream ());\r\n\t\tps.println (key + &quot;=&quot; + URLEncoder.encode (value, &quot;UTF-8&quot;));\r\n\t\tps.flush ();\r\n\t\tcon.connect ();\r\n\t\tps.close ();\r\n\t}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nI checked with WireShark that a tcp connection is being established and that closed. But don&#39;t know how check that the server received the request.\r\nIf you have a quick way to check it you may try that code.","title":"Sending Java POST request without calling getInputStream()","body":"<p>Try to add <pre><code>con.setDoInput (false);</code></pre> before writing to the output.</p>\n\n<p>P.S.: and you should also call con.connect () as swanliu says.</p>\n\n<p><b>Update</b><br/>\nThis is what I came up with</p>\n\n<pre><code>\n    private static final void sendPostRequest (final String urlAddress, String key, String value) throws Exception\n    {\n        URL url = new URL (urlAddress);\n        URLConnection con = url.openConnection ();\n        con.setDoOutput (true);\n        con.setDoInput (false);\n        PrintStream ps = new PrintStream (con.getOutputStream ());\n        ps.println (key + \"=\" + URLEncoder.encode (value, \"UTF-8\"));\n        ps.flush ();\n        con.connect ();\n        ps.close ();\n    }\n</code></pre>\n\n<p>I checked with WireShark that a tcp connection is being established and that closed. But don't know how check that the server received the request.\nIf you have a quick way to check it you may try that code.</p>\n"},{"tags":[],"owner":{"account_id":370830,"reputation":4133,"user_id":719023,"accept_rate":83,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1321220787,"creation_date":1321220787,"answer_id":8115010,"question_id":7481874,"body_markdown":"I think a post of another thread answered my question. Sorry, but I found it too late. You can find it [here][1].\r\n\r\nPS: Unfortunately, Stackoverflow added my last answer to the question as a comment, because my answer was too short. And it is not possible to mark a comment as the correct answer... Hope this one is long enough :-)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4844535/why-do-you-have-to-call-urlconnectiongetinputstream-to-be-able-to-write-out-to-u/4844926#4844926","title":"Sending Java POST request without calling getInputStream()","body":"<p>I think a post of another thread answered my question. Sorry, but I found it too late. You can find it <a href=\"https://stackoverflow.com/questions/4844535/why-do-you-have-to-call-urlconnectiongetinputstream-to-be-able-to-write-out-to-u/4844926#4844926\">here</a>.</p>\n\n<p>PS: Unfortunately, Stackoverflow added my last answer to the question as a comment, because my answer was too short. And it is not possible to mark a comment as the correct answer... Hope this one is long enough :-)</p>\n"},{"tags":[],"owner":{"account_id":9835759,"reputation":471,"user_id":7286223,"display_name":"Raihanul Alam Hridoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638076058,"creation_date":1638076058,"answer_id":70140805,"question_id":7481874,"body_markdown":"I think this is the easiest way.\r\n\r\n    con.setDoOutput(true);\r\n    PrintStream ps = new PrintStream(con.getOutputStream());\r\n    ps.print(&quot;&amp;client_id=&quot;+ 2);\r\n    ps.print(&quot;&amp;amount=&quot;+10);\r\n    ps.flush();\r\n    ps.close();","title":"Sending Java POST request without calling getInputStream()","body":"<p>I think this is the easiest way.</p>\n<pre><code>con.setDoOutput(true);\nPrintStream ps = new PrintStream(con.getOutputStream());\nps.print(&quot;&amp;client_id=&quot;+ 2);\nps.print(&quot;&amp;amount=&quot;+10);\nps.flush();\nps.close();\n</code></pre>\n"}],"owner":{"account_id":370830,"reputation":4133,"user_id":719023,"accept_rate":83,"display_name":"Simon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8115010,"answer_count":4,"score":0,"last_activity_date":1638076058,"creation_date":1316505537,"question_id":7481874,"body_markdown":"I would like to send a POST request in Java. At the moment, I do it like this:\r\n\r\n    URL url = new URL(&quot;myurl&quot;);\r\n    URLConnection con = url.openConnection();\r\n    con.setDoOutput(true);\r\n    PrintStream ps = new PrintStream(con.getOutputStream());\r\n    ps.println(&quot;key=&quot; + URLEncoder.encode(&quot;value&quot;));\r\n    // we have to get the input stream in order to actually send the request\r\n    con.getInputStream();  \r\n    ps.close();\r\n\r\nI do not understand why I have to call con.getInputStream() in order to actually send the request. If I do not call it, the request is not sent.\r\n\r\nIs there a problem using PrintStream? It should not matter if I take a PrintStream, PrintWriter or something else, right?","title":"Sending Java POST request without calling getInputStream()","body":"<p>I would like to send a POST request in Java. At the moment, I do it like this:</p>\n\n<pre><code>URL url = new URL(\"myurl\");\nURLConnection con = url.openConnection();\ncon.setDoOutput(true);\nPrintStream ps = new PrintStream(con.getOutputStream());\nps.println(\"key=\" + URLEncoder.encode(\"value\"));\n// we have to get the input stream in order to actually send the request\ncon.getInputStream();  \nps.close();\n</code></pre>\n\n<p>I do not understand why I have to call con.getInputStream() in order to actually send the request. If I do not call it, the request is not sent.</p>\n\n<p>Is there a problem using PrintStream? It should not matter if I take a PrintStream, PrintWriter or something else, right?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14240295,"reputation":682,"user_id":10286875,"display_name":"Urmzd"},"score":0,"creation_date":1638074871,"post_id":70140702,"comment_id":123988693,"body_markdown":"What online compiler? what version of `java`?","body":"What online compiler? what version of <code>java</code>?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1638081889,"post_id":70140702,"comment_id":123989399,"body_markdown":"Does this Q&amp;A resolve your problem?  https://stackoverflow.com/questions/45743779","body":"Does this Q&amp;A resolve your problem?  <a href=\"https://stackoverflow.com/questions/45743779\">stackoverflow.com/questions/45743779</a>"},{"owner":{"account_id":62000,"reputation":5952,"user_id":184456,"accept_rate":88,"display_name":"monojohnny"},"score":0,"creation_date":1638476800,"post_id":70140702,"comment_id":124105686,"body_markdown":"Agree with the other commentators: the version of Java (and other factors, like the host operating system) would be of benefit here.\n\nThe output from the following commands might help get started:\n\n$ java -version\n$ javac -version\n\n(The &#39;$&#39; represent a command prompt - no need to type them)","body":"Agree with the other commentators: the version of Java (and other factors, like the host operating system) would be of benefit here.  The output from the following commands might help get started:  $ java -version $ javac -version  (The &#39;$&#39; represent a command prompt - no need to type them)"}],"answers":[{"tags":[],"owner":{"account_id":19868059,"reputation":72,"user_id":14554871,"display_name":"sai manoj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638075675,"creation_date":1638075675,"answer_id":70140788,"question_id":70140702,"body_markdown":"The problem might be Java hasn&#39;t been configured correctly in VScode.Try running the program from the command prompt using java commands. If the code shows error running from the command line then the problem in java installation to your laptop.","title":"The import java.util.ArrayList cannot be resolved Java(268435846)","body":"<p>The problem might be Java hasn't been configured correctly in VScode.Try running the program from the command prompt using java commands. If the code shows error running from the command line then the problem in java installation to your laptop.</p>\n"}],"owner":{"account_id":22861767,"reputation":41,"user_id":17005724,"display_name":"him.himanshu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1886,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1670369231,"answer_count":1,"score":-2,"last_activity_date":1638075675,"creation_date":1638074366,"question_id":70140702,"body_markdown":"I am trying to run this java program in vscode but it shows an error on the *2nd line* (**The import java.util.ArrayList cannot be resolved Java(268435846)**) and *6th line*. But it gives correct output in an online compiler. Any suggestions?\r\n```\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\npublic class CollectionDemo {\r\n    public static void main(String[] args) {\r\n        ArrayList al = new ArrayList();\r\n        al.add(100);\r\n        al.add(&quot;String&quot;);\r\n        System.out.println(al);\r\n    }\r\n}\r\n```","title":"The import java.util.ArrayList cannot be resolved Java(268435846)","body":"<p>I am trying to run this java program in vscode but it shows an error on the <em>2nd line</em> (<strong>The import java.util.ArrayList cannot be resolved Java(268435846)</strong>) and <em>6th line</em>. But it gives correct output in an online compiler. Any suggestions?</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Collection;\npublic class CollectionDemo {\n    public static void main(String[] args) {\n        ArrayList al = new ArrayList();\n        al.add(100);\n        al.add(&quot;String&quot;);\n        System.out.println(al);\n    }\n}\n</code></pre>\n"},{"tags":["java","compare","equality"],"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1614112086,"post_id":66340473,"comment_id":117284606,"body_markdown":"Please show what values you&#39;re using in your tests. A unit test would be better than user-driven tests, for the sake of repeatability. Also, nothing seems to be setting your `area` field, but it is included in your equality test.","body":"Please show what values you&#39;re using in your tests. A unit test would be better than user-driven tests, for the sake of repeatability. Also, nothing seems to be setting your <code>area</code> field, but it is included in your equality test."},{"owner":{"account_id":15169014,"reputation":308,"user_id":10945691,"display_name":"Bruno CL"},"score":0,"creation_date":1614112517,"post_id":66340473,"comment_id":117284804,"body_markdown":"add @Override just to make sure","body":"add @Override just to make sure"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1614112968,"post_id":66340473,"comment_id":117284974,"body_markdown":"`static` means &quot;shared among all LandTracts/objects&quot; ...you set class variables through &quot;instance accessors&quot; (getter/setter), thus the confusion. Remove `static`from the variable declaration ..and use &quot;local variables&quot; (if at all) in the main method! ;)","body":"<code>static</code> means &quot;shared among all LandTracts/objects&quot; ...you set class variables through &quot;instance accessors&quot; (getter/setter), thus the confusion. Remove <code>static</code>from the variable declaration ..and use &quot;local variables&quot; (if at all) in the main method! ;)"},{"owner":{"account_id":20792025,"reputation":13,"user_id":15269972,"display_name":"Timothy Nguyen"},"score":0,"creation_date":1614115159,"post_id":66340473,"comment_id":117285844,"body_markdown":"Thank you everyone for helping me I was able to figure it thanks to you guys&#39; help.","body":"Thank you everyone for helping me I was able to figure it thanks to you guys&#39; help."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614113697,"creation_date":1614113697,"answer_id":66340960,"question_id":66340473,"body_markdown":"The best example for a confusing &amp; ironically erroneous comment:\r\n\r\n\r\n    // instance variables\r\n    private static double length , width, area;\r\n\r\n\r\n----------\r\n\r\n\r\nThe program works much better, when you:\r\n\r\n1. (Really) Introduce instance variables: \r\n  \r\n       private double length , width, area;\r\n\r\n2. Fix compiler problems in main method (by declaring local variables with the same identifier ..no good style but quick):\r\n      \r\n       public static void main(String[] args) {\r\n          double length, width;\r\n\t\t  // ...\r\n       }","title":"I can&#39;t seem to figure out why I keep getting true when I clearly overridden the equality method","body":"<p>The best example for a confusing &amp; ironically erroneous comment:</p>\n<pre><code>// instance variables\nprivate static double length , width, area;\n</code></pre>\n<hr />\n<p>The program works much better, when you:</p>\n<ol>\n<li><p>(Really) Introduce instance variables:</p>\n<pre><code>private double length , width, area;\n</code></pre>\n</li>\n<li><p>Fix compiler problems in main method (by declaring local variables with the same identifier ..no good style but quick):</p>\n<pre><code>public static void main(String[] args) {\n   double length, width;\n   // ...\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638075356,"creation_date":1638075356,"answer_id":70140765,"question_id":66340473,"body_markdown":"The problem here is that the values being compared (`length`, `width`, and `area`) are static fields, not instance fields.  This means that any reference to them will use the same global value, regardless of which instance of the class is referencing them.\r\n\r\nOf particular relevance, `this.length != land.length` in the `equals` method will always return `true`, since both `this.length` and `land.length` will refer to the same value.  (Note that this guarantee is no longer true if multiple threads are involved, but that&#39;s not the case with this example.)\r\n\r\nThis also means that any call to a constructor or a setter will set the shared static fields, overwriting the value previously written when calling a setter or constructor on another instance.  For instance, the `length, width` constructor will overwrite the static `length` &amp; `width` fields, and the `setLength` method will overwrite the static `length` field.\r\n\r\n``` lang-java\r\npublic LandTract(double length, double width)\r\n{\r\n    this.length = length;\r\n    this.width = width;\r\n}\r\n\r\npublic void setLength(double length)\r\n{\r\n    this.length = length;\r\n}\r\n```\r\n\r\n---\r\n\r\nThe fix is to change these fields to instance fields, rather than static ones:\r\n\r\n```lang-java\r\npublic class LandTract\r\n{\r\n    private double length, width, area;\r\n\r\n    // [...]\r\n}\r\n```","title":"I can&#39;t seem to figure out why I keep getting true when I clearly overridden the equality method","body":"<p>The problem here is that the values being compared (<code>length</code>, <code>width</code>, and <code>area</code>) are static fields, not instance fields.  This means that any reference to them will use the same global value, regardless of which instance of the class is referencing them.</p>\n<p>Of particular relevance, <code>this.length != land.length</code> in the <code>equals</code> method will always return <code>true</code>, since both <code>this.length</code> and <code>land.length</code> will refer to the same value.  (Note that this guarantee is no longer true if multiple threads are involved, but that's not the case with this example.)</p>\n<p>This also means that any call to a constructor or a setter will set the shared static fields, overwriting the value previously written when calling a setter or constructor on another instance.  For instance, the <code>length, width</code> constructor will overwrite the static <code>length</code> &amp; <code>width</code> fields, and the <code>setLength</code> method will overwrite the static <code>length</code> field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public LandTract(double length, double width)\n{\n    this.length = length;\n    this.width = width;\n}\n\npublic void setLength(double length)\n{\n    this.length = length;\n}\n</code></pre>\n<hr />\n<p>The fix is to change these fields to instance fields, rather than static ones:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LandTract\n{\n    private double length, width, area;\n\n    // [...]\n}\n</code></pre>\n"}],"owner":{"account_id":20792025,"reputation":13,"user_id":15269972,"display_name":"Timothy Nguyen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66340960,"answer_count":2,"score":1,"last_activity_date":1638075356,"creation_date":1614111411,"question_id":66340473,"body_markdown":"## I&#39;m trying to figure this out but I can&#39;t seem to get it to compare correctly. ##\r\n\r\nAs I try to setup the code whenever I run it the result would end up becoming True when I need it to produce a false test as well. Extensive testing shows it to be always true and I have no idea how to produce a false on it.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LandTract\r\n{\r\n    // instance variables\r\n    private static double length , width, area;\r\n\r\n    /**\r\n     * Constructor for objects of class LandTract\r\n     */\r\n    public LandTract(double length, double width, double area)\r\n    {\r\n        // initialise instance variables\r\n        length = 0;\r\n        width = 0;\r\n    }\r\n\r\n    public LandTract(double length, double width)\r\n    {\r\n        this.length = length;\r\n        this.width = width;\r\n    }\r\n    \r\n    public void setLength(double length)\r\n    {\r\n        this.length = length;\r\n    }\r\n    \r\n    public double getLength()\r\n    {\r\n        return length;\r\n    }\r\n    \r\n    public void setWidth(double width)\r\n    {\r\n        this.width = width;\r\n    }\r\n    \r\n    public double getWidth()\r\n    {\r\n        return width;\r\n    }\r\n    \r\n    public double getArea()\r\n    {\r\n        return area = length * width;\r\n    }\r\n    \r\n    public String toString()\r\n    {\r\n        String str = &quot;Length: &quot; + length + &quot;\\nWidth: &quot; + width;\r\n        return str;\r\n    }\r\n    \r\n    public boolean equals(Object obj)\r\n    {\r\n        LandTract land = (LandTract) obj;\r\n        if (this.length != land.length)\r\n            return false;\r\n        if (this.width != land.width)\r\n            return false;\r\n        if (this.area != land.area)\r\n            return false;\r\n        \r\n            return true;\r\n    }\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        Scanner key = new Scanner(System.in);\r\n        \r\n        System.out.print(&quot;Enter the length of the first tract of land: &quot;);\r\n        length = key.nextDouble();\r\n        key.nextLine();\r\n        System.out.print(&quot;Enter the width of the first tract of land: &quot;);\r\n        width = key.nextDouble();\r\n        key.nextLine();\r\n        LandTract land1 = new LandTract(length , width);\r\n        System.out.println(&quot;The area of the first tract of land is &quot; + land1.getArea());\r\n        System.out.println();\r\n        \r\n        System.out.print(&quot;Enter the length of the second tract of land: &quot;);\r\n        length = key.nextDouble();\r\n        key.nextLine();\r\n        System.out.print(&quot;Enter the width of the second tract of land: &quot;);\r\n        width = key.nextDouble();\r\n        key.nextLine();\r\n        LandTract land2 = new LandTract(length, width);\r\n        System.out.println(&quot;The area of the second tract of land is &quot; + land2.getArea());\r\n        System.out.println();\r\n        \r\n        if (land1.equals(land2))\r\n            System.out.println(&quot;Both tracts of land are the same size.&quot;);\r\n        else\r\n            System.out.println(&quot;They are different sizes.&quot;);\r\n    }\r\n}\r\n```","title":"I can&#39;t seem to figure out why I keep getting true when I clearly overridden the equality method","body":"<h2>I'm trying to figure this out but I can't seem to get it to compare correctly.</h2>\n<p>As I try to setup the code whenever I run it the result would end up becoming True when I need it to produce a false test as well. Extensive testing shows it to be always true and I have no idea how to produce a false on it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LandTract\n{\n    // instance variables\n    private static double length , width, area;\n\n    /**\n     * Constructor for objects of class LandTract\n     */\n    public LandTract(double length, double width, double area)\n    {\n        // initialise instance variables\n        length = 0;\n        width = 0;\n    }\n\n    public LandTract(double length, double width)\n    {\n        this.length = length;\n        this.width = width;\n    }\n    \n    public void setLength(double length)\n    {\n        this.length = length;\n    }\n    \n    public double getLength()\n    {\n        return length;\n    }\n    \n    public void setWidth(double width)\n    {\n        this.width = width;\n    }\n    \n    public double getWidth()\n    {\n        return width;\n    }\n    \n    public double getArea()\n    {\n        return area = length * width;\n    }\n    \n    public String toString()\n    {\n        String str = &quot;Length: &quot; + length + &quot;\\nWidth: &quot; + width;\n        return str;\n    }\n    \n    public boolean equals(Object obj)\n    {\n        LandTract land = (LandTract) obj;\n        if (this.length != land.length)\n            return false;\n        if (this.width != land.width)\n            return false;\n        if (this.area != land.area)\n            return false;\n        \n            return true;\n    }\n    \n    public static void main(String[] args)\n    {\n        Scanner key = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter the length of the first tract of land: &quot;);\n        length = key.nextDouble();\n        key.nextLine();\n        System.out.print(&quot;Enter the width of the first tract of land: &quot;);\n        width = key.nextDouble();\n        key.nextLine();\n        LandTract land1 = new LandTract(length , width);\n        System.out.println(&quot;The area of the first tract of land is &quot; + land1.getArea());\n        System.out.println();\n        \n        System.out.print(&quot;Enter the length of the second tract of land: &quot;);\n        length = key.nextDouble();\n        key.nextLine();\n        System.out.print(&quot;Enter the width of the second tract of land: &quot;);\n        width = key.nextDouble();\n        key.nextLine();\n        LandTract land2 = new LandTract(length, width);\n        System.out.println(&quot;The area of the second tract of land is &quot; + land2.getArea());\n        System.out.println();\n        \n        if (land1.equals(land2))\n            System.out.println(&quot;Both tracts of land are the same size.&quot;);\n        else\n            System.out.println(&quot;They are different sizes.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","performance","sorting","quicksort"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1638071876,"post_id":70140521,"comment_id":123988422,"body_markdown":"Those two lines as opposed to what else?","body":"Those two lines as opposed to what else?"}],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638073883,"creation_date":1638073510,"answer_id":70140648,"question_id":70140521,"body_markdown":"I guess you are doing the question on a website similar to leetcode.\r\n \r\nIf their test case contains a sorted array(usually they will\r\n), without adding these two lines, your fast sorting time complexity will degenerate to o(n^2). (You will always choose the largest number as ```pivot```).\r\n\r\nInstead of you choose median value, you can also choose a random value as the ```pivot```:\r\n```\r\nswap(arr,high,randomIndex in range);\r\n```\r\nI did a simple test on my computer to sort an ordered array with a length of 100,000. Without these two lines of code, it would take 2700 ms (add these two lines would only take 40ms)\r\n","title":"Java Quick Sort Performance","body":"<p>I guess you are doing the question on a website similar to leetcode.</p>\n<p>If their test case contains a sorted array(usually they will\n), without adding these two lines, your fast sorting time complexity will degenerate to o(n^2). (You will always choose the largest number as <code>pivot</code>).</p>\n<p>Instead of you choose median value, you can also choose a random value as the <code>pivot</code>:</p>\n<pre><code>swap(arr,high,randomIndex in range);\n</code></pre>\n<p>I did a simple test on my computer to sort an ordered array with a length of 100,000. Without these two lines of code, it would take 2700 ms (add these two lines would only take 40ms)</p>\n"}],"owner":{"account_id":17562358,"reputation":15,"user_id":12740054,"display_name":"Victor Chen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70140648,"answer_count":1,"score":0,"last_activity_date":1638073883,"creation_date":1638071347,"question_id":70140521,"body_markdown":" I was doing sorting array problems and found one of the quick sorting solution extremely fast, and the only difference is the two lines of code in function 1Partition. Wondering why the following two lines of code in 1Partition can greatly improve the performance:\r\n    \r\n    int mi = low+(high-low)/2;\r\n    swap(arr,high,mi);   \r\nHere&#39;s the full source code:\r\n\r\n    class Solution {\r\n    public void swap(int[] arr, int i, int j){\r\n        int temp = arr[j];\r\n        arr[j] = arr[i];\r\n        arr[i] = temp;\r\n    }\r\n    public void qSort(int[] arr, int low, int high){\r\n        if(low&lt;high){\r\n            int pi = lPartition(arr,low,high);\r\n            qSort(arr,low,pi-1);\r\n            qSort(arr,pi+1,high);\r\n        }\r\n    }\r\n    public Integer lPartition(int[] arr, int low, int high){\r\n        int mi = low+(high-low)/2;\r\n        swap(arr,high,mi);\r\n        int pi = high;\r\n        int i = low-1;\r\n        for(int j=low;j&lt;high;j++){\r\n            if(arr[j]&lt;arr[pi]){\r\n                i++;\r\n                swap(arr,i,j);\r\n            }\r\n        }\r\n        swap(arr,pi,i+1);\r\n        return (i+1);\r\n        \r\n    }\r\n    public int[] sortArray(int[] arr) {\r\n        qSort(arr,0,arr.length-1);\r\n        return arr;\r\n    }\r\n}","title":"Java Quick Sort Performance","body":"<p>I was doing sorting array problems and found one of the quick sorting solution extremely fast, and the only difference is the two lines of code in function 1Partition. Wondering why the following two lines of code in 1Partition can greatly improve the performance:</p>\n<pre><code>int mi = low+(high-low)/2;\nswap(arr,high,mi);   \n</code></pre>\n<p>Here's the full source code:</p>\n<pre><code>class Solution {\npublic void swap(int[] arr, int i, int j){\n    int temp = arr[j];\n    arr[j] = arr[i];\n    arr[i] = temp;\n}\npublic void qSort(int[] arr, int low, int high){\n    if(low&lt;high){\n        int pi = lPartition(arr,low,high);\n        qSort(arr,low,pi-1);\n        qSort(arr,pi+1,high);\n    }\n}\npublic Integer lPartition(int[] arr, int low, int high){\n    int mi = low+(high-low)/2;\n    swap(arr,high,mi);\n    int pi = high;\n    int i = low-1;\n    for(int j=low;j&lt;high;j++){\n        if(arr[j]&lt;arr[pi]){\n            i++;\n            swap(arr,i,j);\n        }\n    }\n    swap(arr,pi,i+1);\n    return (i+1);\n    \n}\npublic int[] sortArray(int[] arr) {\n    qSort(arr,0,arr.length-1);\n    return arr;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string","loops","substring"],"comments":[{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1638054902,"post_id":70139054,"comment_id":123986464,"body_markdown":"So you are trying to use any methods but your own?  Like without using the indexOf method?","body":"So you are trying to use any methods but your own?  Like without using the indexOf method?"}],"answers":[{"tags":[],"owner":{"account_id":14914414,"reputation":303,"user_id":10808904,"display_name":"Wasabi Thumbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638061198,"creation_date":1638051431,"answer_id":70139132,"question_id":70139054,"body_markdown":"Here&#39;s my na&#239;ve approach:\r\n\r\n    private final int EXIST = 1;\r\n    private final int NOT_EXIST = -1;\r\n\r\n    private int lookFor(String a, String b, int index) {\r\n         for (int i = 0; i &lt; b.length(); i++) {\r\n              if ((index + i) &gt;= a.length()) return NOT_EXIST;\r\n              if (a.charAt(index + i) != b.charAt(i)) return NOT_EXIST;\r\n         }\r\n         return EXIST;\r\n    }\r\n    \r\n    public int lookFor(String a, String b) {\r\n         char start = b.charAt(0);\r\n         for (int i=0; i &lt; a.length(); i++) {\r\n              if (a.charAt(i) == start) {\r\n                   if (lookFor(a, b, i) == EXIST) return EXIST;\r\n              }\r\n         }\r\n         return NOT_EXIST;\r\n    }\r\n\r\nThough, I&#39;m not sure why you would do this when you could just do:\r\n\r\n    int ret = a.contains(b) ? EXIST : NOT_EXIST\r\n\r\nHowever I wanted to actually answer your question.\r\n\r\nHere&#39;s a slightly improved version that satisfies your &quot;all in one method&quot; requirement.\r\n\r\n    public static int lookFor(String a, String b) {\r\n        // Fancy way of preventing errors when one of the strings is empty\r\n        boolean az = a.length() == 0;\r\n        boolean bz = b.length() == 0;\r\n         if (az ^ bz) return NOT_EXIST;\r\n         // Need this next line if you want to interpret two empty strings as containing eachother\r\n         if (az &amp;&amp; bz) return EXIST;\r\n         char start = b.charAt(0);\r\n         // This is known as a &quot;label&quot;. Some say it&#39;s bad practice.\r\n         outer:\r\n         for (int i=0; i &lt; a.length(); i++) {\r\n              if (a.charAt(i) == start) {\r\n                   // Instead of using two methods, we can condense it like so\r\n                   for (int q = 0; q &lt; b.length(); q++) {\r\n                        if ((i + q) &gt;= a.length()) continue outer;\r\n                        if (a.charAt(i + q) != b.charAt(q)) continue outer;\r\n                   }\r\n                   return EXIST;\r\n              }\r\n         }\r\n         return NOT_EXIST;\r\n    }","title":"How do I manually find a substring in a string? (Java)","body":"<p>Here's my nave approach:</p>\n<pre><code>private final int EXIST = 1;\nprivate final int NOT_EXIST = -1;\n\nprivate int lookFor(String a, String b, int index) {\n     for (int i = 0; i &lt; b.length(); i++) {\n          if ((index + i) &gt;= a.length()) return NOT_EXIST;\n          if (a.charAt(index + i) != b.charAt(i)) return NOT_EXIST;\n     }\n     return EXIST;\n}\n\npublic int lookFor(String a, String b) {\n     char start = b.charAt(0);\n     for (int i=0; i &lt; a.length(); i++) {\n          if (a.charAt(i) == start) {\n               if (lookFor(a, b, i) == EXIST) return EXIST;\n          }\n     }\n     return NOT_EXIST;\n}\n</code></pre>\n<p>Though, I'm not sure why you would do this when you could just do:</p>\n<pre><code>int ret = a.contains(b) ? EXIST : NOT_EXIST\n</code></pre>\n<p>However I wanted to actually answer your question.</p>\n<p>Here's a slightly improved version that satisfies your &quot;all in one method&quot; requirement.</p>\n<pre><code>public static int lookFor(String a, String b) {\n    // Fancy way of preventing errors when one of the strings is empty\n    boolean az = a.length() == 0;\n    boolean bz = b.length() == 0;\n     if (az ^ bz) return NOT_EXIST;\n     // Need this next line if you want to interpret two empty strings as containing eachother\n     if (az &amp;&amp; bz) return EXIST;\n     char start = b.charAt(0);\n     // This is known as a &quot;label&quot;. Some say it's bad practice.\n     outer:\n     for (int i=0; i &lt; a.length(); i++) {\n          if (a.charAt(i) == start) {\n               // Instead of using two methods, we can condense it like so\n               for (int q = 0; q &lt; b.length(); q++) {\n                    if ((i + q) &gt;= a.length()) continue outer;\n                    if (a.charAt(i + q) != b.charAt(q)) continue outer;\n               }\n               return EXIST;\n          }\n     }\n     return NOT_EXIST;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638073761,"creation_date":1638073121,"answer_id":70140618,"question_id":70139054,"body_markdown":"To find a substring &quot;by hand&quot;, you need a nested loop; i.e. a loop inside a loop.\r\n\r\n  - The outer loop tries all of the possible start positions for the substring in the string.\r\n  - For a given start position, the inner loop tests all of the characters of the string that you are looking for against the string you are searching in.\r\n\r\nIn the naive substring search algorithm, the outer loop steps starts at index zero, and increments the index by one until it gets to the end of the string being searched.  This can be improved on:\r\n\r\n  - Every non-null string &quot;contains&quot; the empty string.  It may be worth treating this as a special case.\r\n\r\n  - It is easy to see that the outer loop can usually stop before the final.  If you are searching for a string of length (say) 3, then the outer loop can stop at 3 from the end.  (Think about it ....)\r\n\r\n  - There are some clever algorithms which allow the outer loop to skip over some indexes.  If you are interested, start by Googling for &quot;Boyer-Moore string search&quot;.\r\n\r\n(Note: the looping could be replaced with / written using recursion, but it is still there.)\r\n\r\n-------------------\r\n\r\nYour code doesn&#39;t have a nested loops.  By my reading, it is only going to find a match if the string you are searching for is at the start of the string you are searching.  That is not correct.","title":"How do I manually find a substring in a string? (Java)","body":"<p>To find a substring &quot;by hand&quot;, you need a nested loop; i.e. a loop inside a loop.</p>\n<ul>\n<li>The outer loop tries all of the possible start positions for the substring in the string.</li>\n<li>For a given start position, the inner loop tests all of the characters of the string that you are looking for against the string you are searching in.</li>\n</ul>\n<p>In the naive substring search algorithm, the outer loop steps starts at index zero, and increments the index by one until it gets to the end of the string being searched.  This can be improved on:</p>\n<ul>\n<li><p>Every non-null string &quot;contains&quot; the empty string.  It may be worth treating this as a special case.</p>\n</li>\n<li><p>It is easy to see that the outer loop can usually stop before the final.  If you are searching for a string of length (say) 3, then the outer loop can stop at 3 from the end.  (Think about it ....)</p>\n</li>\n<li><p>There are some clever algorithms which allow the outer loop to skip over some indexes.  If you are interested, start by Googling for &quot;Boyer-Moore string search&quot;.</p>\n</li>\n</ul>\n<p>(Note: the looping could be replaced with / written using recursion, but it is still there.)</p>\n<hr />\n<p>Your code doesn't have a nested loops.  By my reading, it is only going to find a match if the string you are searching for is at the start of the string you are searching.  That is not correct.</p>\n"}],"owner":{"account_id":23473944,"reputation":21,"user_id":17527025,"display_name":"EladO O"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638073761,"creation_date":1638050680,"question_id":70139054,"body_markdown":"        \tpublic int lookFor(String s) {\r\n\t\tfinal int EXIST = 1;\r\n\t\tfinal int NOT_EXIST = -1; \r\n\t\tint thisIndex = 0;\r\n\t\tint otherIndex = 0;\r\n\t\tchar thisNext;\r\n\t\tchar otherNext;\r\n\t\t\r\n\r\n\t\tif (s == null || s.length() == 0)\r\n\t\t\treturn NOT_EXIST;\r\n\t\t\r\n\t\tfor(; thisIndex &lt; this.mainString.length() ; ) {\r\n\t\t\t\r\n\t\t\tthisNext = this.mainString.charAt(thisIndex);\r\n\t\t\totherNext = s.charAt(otherIndex);\r\n\t\t\t\r\n\t\t\tif (thisNext == otherNext) {\r\n\t\t\t\tthisIndex++;\r\n\t\t\t\totherIndex++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (thisNext != otherNext)\r\n\t\t\t\tthisIndex++;\r\n\t\t\t\r\n\t\t\tif (otherIndex == s.length()-1)\r\n\t\t\t\treturn EXIST;\t\t\r\n\t\t}\r\n\t\treturn NOT_EXIST;\r\n    }\r\n\r\nThis is my attempt so far.\r\n\r\nmainString = the main string I want to find the substring in.\r\ns = the substring.\r\n\r\nSo my idea was to get the first chars of both strings, see if they equal. if they don&#39;t, i&#39;ll get the second char of mainString, see if they equal (mainString second char to s first char). If they&#39;re not equal, i&#39;ll get the third char of mainString and so forth. Once they&#39;re equal, i&#39;ll get the next char of both strings and see if they both equal.\r\n\r\nBasically the loops knows that mainString contains s when index of s equals to s length minus one (that means the loop looped all the way to the last char inc, of s, so s index == s length -1).\r\n\r\nIs the logic I&#39;m trying to work with incorrect? or I just executed it not good? i&#39;ll happy to get answers!","title":"How do I manually find a substring in a string? (Java)","body":"<pre><code>        public int lookFor(String s) {\n    final int EXIST = 1;\n    final int NOT_EXIST = -1; \n    int thisIndex = 0;\n    int otherIndex = 0;\n    char thisNext;\n    char otherNext;\n    \n\n    if (s == null || s.length() == 0)\n        return NOT_EXIST;\n    \n    for(; thisIndex &lt; this.mainString.length() ; ) {\n        \n        thisNext = this.mainString.charAt(thisIndex);\n        otherNext = s.charAt(otherIndex);\n        \n        if (thisNext == otherNext) {\n            thisIndex++;\n            otherIndex++;\n        }\n        \n        else if (thisNext != otherNext)\n            thisIndex++;\n        \n        if (otherIndex == s.length()-1)\n            return EXIST;       \n    }\n    return NOT_EXIST;\n}\n</code></pre>\n<p>This is my attempt so far.</p>\n<p>mainString = the main string I want to find the substring in.\ns = the substring.</p>\n<p>So my idea was to get the first chars of both strings, see if they equal. if they don't, i'll get the second char of mainString, see if they equal (mainString second char to s first char). If they're not equal, i'll get the third char of mainString and so forth. Once they're equal, i'll get the next char of both strings and see if they both equal.</p>\n<p>Basically the loops knows that mainString contains s when index of s equals to s length minus one (that means the loop looped all the way to the last char inc, of s, so s index == s length -1).</p>\n<p>Is the logic I'm trying to work with incorrect? or I just executed it not good? i'll happy to get answers!</p>\n"},{"tags":["java","double","equality","infinity"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1621581603,"post_id":67632372,"comment_id":119543680,"body_markdown":"What asserting/unit-testing framework do you use? Most of them have an `assertEquals` variant that takes a delta.","body":"What asserting/unit-testing framework do you use? Most of them have an <code>assertEquals</code> variant that takes a delta."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1621582091,"post_id":67632372,"comment_id":119543906,"body_markdown":"Why not `assert a == b || Math.abs(a-b) &lt; DELTA;`?","body":"Why not <code>assert a == b || Math.abs(a-b) &lt; DELTA;</code>?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1621582174,"post_id":67632372,"comment_id":119543937,"body_markdown":"How do you want to deal with NaN?","body":"How do you want to deal with NaN?"},{"owner":{"account_id":920482,"reputation":979,"user_id":952257,"accept_rate":93,"display_name":"Shaharg"},"score":0,"creation_date":1621585065,"post_id":67632372,"comment_id":119545149,"body_markdown":"@user207421 this is probably the best option. I was hoping for something like Double.compareWithMargin but I guess there is no such built in functionality. Thanks!","body":"@user207421 this is probably the best option. I was hoping for something like Double.compareWithMargin but I guess there is no such built in functionality. Thanks!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1621592710,"post_id":67632372,"comment_id":119548258,"body_markdown":"No need to guess whether it exists. Just look up the Javadoc for `Double`.","body":"No need to guess whether it exists. Just look up the Javadoc for <code>Double</code>."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1638073556,"post_id":67632372,"comment_id":123988569,"body_markdown":"@user207421 I&#39;ve promoted your comment to an answer, as that is effectively what it is: https://stackoverflow.com/a/70140649/1108305","body":"@user207421 I&#39;ve promoted your comment to an answer, as that is effectively what it is: <a href=\"https://stackoverflow.com/a/70140649/1108305\">stackoverflow.com/a/70140649/1108305</a>"}],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638073531,"creation_date":1638073531,"answer_id":70140649,"question_id":67632372,"body_markdown":"There is no built-in solution for this.  Your simplest solution would be to do one check which covers the infinity equality check, and another to handle the delta comparison.  The following is probably about the simplest way of doing this that handles both positive and negative infinity:\r\n\r\n```lang-java\r\nassert a == b || Math.abs(a-b) &lt; DELTA;\r\n```\r\n","title":"Comparing double-precision numbers that are potentially infinite","body":"<p>There is no built-in solution for this.  Your simplest solution would be to do one check which covers the infinity equality check, and another to handle the delta comparison.  The following is probably about the simplest way of doing this that handles both positive and negative infinity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assert a == b || Math.abs(a-b) &lt; DELTA;\n</code></pre>\n"}],"owner":{"account_id":920482,"reputation":979,"user_id":952257,"accept_rate":93,"display_name":"Shaharg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638073531,"creation_date":1621581419,"question_id":67632372,"body_markdown":"I have two double variables that can potentially be equal to Infinity. I would like to compare them and allow for a margin of error. I cannot use assertEquals due to the environment I work with.\r\n\r\nI tried\r\n\r\n    assert Math.abs(a-b)&lt;DELTA;\r\n\r\nBut if both a and b are Infinity this returns false. Is there a short way to check for equality without making an explicit check for the Infinity case?","title":"Comparing double-precision numbers that are potentially infinite","body":"<p>I have two double variables that can potentially be equal to Infinity. I would like to compare them and allow for a margin of error. I cannot use assertEquals due to the environment I work with.</p>\n<p>I tried</p>\n<pre><code>assert Math.abs(a-b)&lt;DELTA;\n</code></pre>\n<p>But if both a and b are Infinity this returns false. Is there a short way to check for equality without making an explicit check for the Infinity case?</p>\n"},{"tags":["java","object","equals","equality"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1632051440,"post_id":69242828,"comment_id":122384277,"body_markdown":"Because in `Object#equals` the types you compare are both `Object`?","body":"Because in <code>Object#equals</code> the types you compare are both <code>Object</code>?"},{"owner":{"account_id":13762044,"reputation":93,"user_id":9931535,"display_name":"saga"},"score":0,"creation_date":1632052053,"post_id":69242828,"comment_id":122384393,"body_markdown":"@Ga&#235;lJ: i think you&#39;re damn right. i tested:\n` Object od = d;   \n  Object oc = c;\n  System.out.println( od == oc );` and it&#39;s false, not compile error, so your answer is correct.","body":"@Ga&#235;lJ: i think you&#39;re damn right. i tested: ` Object od = d;      Object oc = c;   System.out.println( od == oc );` and it&#39;s false, not compile error, so your answer is correct."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1632065505,"post_id":69242828,"comment_id":122387423,"body_markdown":"The compiler doesnt have to examine any code to know that an instance of Dog cannot be an instance of Cat, since neither class inherits from the other.  However, to determine whether calling `equals` is guaranteed to be false, the compiler would have to examine the logic of the `equals` method.  It is theoretically possible to provide the same compilation error if the types both inherit `equals` from java.lang.Object, but that special case probably isnt worth the effort to implement in the compiler.","body":"The compiler doesnt have to examine any code to know that an instance of Dog cannot be an instance of Cat, since neither class inherits from the other.  However, to determine whether calling <code>equals</code> is guaranteed to be false, the compiler would have to examine the logic of the <code>equals</code> method.  It is theoretically possible to provide the same compilation error if the types both inherit <code>equals</code> from java.lang.Object, but that special case probably isnt worth the effort to implement in the compiler."}],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632052295,"creation_date":1632052295,"answer_id":69242982,"question_id":69242828,"body_markdown":"Because inside `Object#equals` the types you compare are both `Object`, thus the `==` operator is &quot;allowed&quot;.\r\n\r\n_Remember though that you most of the time don&#39;t want to compare using `==` or the default `Object#equals` as it compares the references, not the content. See https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java?r=SearchResults&amp;s=3|156.7237_","title":"Why can Object.equals compare types that cannot be compared with the reference equality operator (==)?","body":"<p>Because inside <code>Object#equals</code> the types you compare are both <code>Object</code>, thus the <code>==</code> operator is &quot;allowed&quot;.</p>\n<p><em>Remember though that you most of the time don't want to compare using <code>==</code> or the default <code>Object#equals</code> as it compares the references, not the content. See <a href=\"https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java?r=SearchResults&amp;s=3%7C156.7237\">https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java?r=SearchResults&amp;s=3|156.7237</a></em></p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638072225,"creation_date":1638072225,"answer_id":70140564,"question_id":69242828,"body_markdown":"The compile time check is performed at the site of the reference equality &#160;within `Object.equals`.  In the context of the `Object.equals` method you referenced, it is comparing `this` with an `Object`: \r\n\r\n```lang-java\r\npublic boolean equals(Object obj) {\r\n    return (this == obj);\r\n}\r\n```\r\n\r\nPer the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.21.3):\r\n\r\n&gt; It is a compile-time error if it is impossible to convert the type of either operand to the type of the other by a casting conversion ([&#167;5.5](https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.5)). The run-time values of the two operands would necessarily be unequal (ignoring the case where both values are `null`).\r\n\r\nSince `this` can be cast to `Object`, `this == obj` is a valid usage of the reference equality operator (`==`), and therefore it compiles.\r\n\r\n---\r\n\r\nFor a practical example, observe a case within the Java API where two objects cannot be compared via reference equality (`==`), but which are equal when compared via `Object.equals`.\r\n\r\nFirst, note that the implementation of `Object.equals` is just the _base_ implementation of `equals`.  Subclasses of `Object` are encouraged to use a different implementation, if appropriate.\r\n\r\nSecond, note that unlike the reference equals operator (`==`), the [`equals`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method has no restriction on whether two compared objects can be cast to the type of the other.  Per the [Javadocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) of `Object.equals`, the two objects need only implement an _equivalence relation_:\r\n\r\n&gt; The `equals` method implements an equivalence relation on non-null object references:\r\n&gt; \r\n&gt; * It is _reflexive_: for any non-null reference value `x`, `x.equals(x)` should return `true`.\r\n&gt; * It is _symmetric_: for any non-null reference values `x` and `y`, `x.equals(y)` should return `true` if and only if `y.equals(x)` returns `true`.\r\n&gt; * It is _transitive_: for any non-null reference values `x`, `y`, and `z`, if `x.equals(y)` returns `true` and `y.equals(z)` returns `true`, then `x.equals(z)` should return `true`.\r\n&gt; * It is _consistent_: for any non-null reference values `x` and `y`, multiple invocations of `x.equals(y)` consistently return `true` or consistently return `false`, provided no information used in `equals` comparisons on the objects is modified.\r\n&gt; * For any non-null reference value `x`, `x.equals(null)` should return `false`.\r\n\r\nTake the Java [`List`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html) interface.  It specifies how implementing classes must implement equals:\r\n\r\n&gt; Compares the specified object with this list for equality. Returns `true` if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are _equal_. (Two elements `e1` and `e2` are _equal_ if `Objects.equals(e1, e2)`.) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the `List` interface.\r\n\r\nNow, take two lists that can&#39;t be cast to one another, such as [`ArrayList`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html) and [`LinkedList`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html).  A `LinkedList` reference cannot be compared with an `ArrayList` reference using the reference equality error (`==`), since neither type can be cast to the other.  On the other hand, an `ArrayList` will be `.equals` to a `LinkedList` if they contain the same elements in the same order.\r\n\r\n```lang-java\r\nArrayList&lt;String&gt; a = new ArrayList&lt;String&gt;(Arrays.asList(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;));\r\nLinkedList&lt;String&gt; b = new LinkedList&lt;String&gt;(Arrays.asList(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;));\r\n\r\nassert a.equals(b); // true\r\nassert a == b; // compiler error\r\n```","title":"Why can Object.equals compare types that cannot be compared with the reference equality operator (==)?","body":"<p>The compile time check is performed at the site of the reference equality within <code>Object.equals</code>.  In the context of the <code>Object.equals</code> method you referenced, it is comparing <code>this</code> with an <code>Object</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean equals(Object obj) {\n    return (this == obj);\n}\n</code></pre>\n<p>Per the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.21.3\" rel=\"nofollow noreferrer\">Java Language Specification</a>:</p>\n<blockquote>\n<p>It is a compile-time error if it is impossible to convert the type of either operand to the type of the other by a casting conversion (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.5\" rel=\"nofollow noreferrer\">5.5</a>). The run-time values of the two operands would necessarily be unequal (ignoring the case where both values are <code>null</code>).</p>\n</blockquote>\n<p>Since <code>this</code> can be cast to <code>Object</code>, <code>this == obj</code> is a valid usage of the reference equality operator (<code>==</code>), and therefore it compiles.</p>\n<hr />\n<p>For a practical example, observe a case within the Java API where two objects cannot be compared via reference equality (<code>==</code>), but which are equal when compared via <code>Object.equals</code>.</p>\n<p>First, note that the implementation of <code>Object.equals</code> is just the <em>base</em> implementation of <code>equals</code>.  Subclasses of <code>Object</code> are encouraged to use a different implementation, if appropriate.</p>\n<p>Second, note that unlike the reference equals operator (<code>==</code>), the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> method has no restriction on whether two compared objects can be cast to the type of the other.  Per the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Javadocs</a> of <code>Object.equals</code>, the two objects need only implement an <em>equivalence relation</em>:</p>\n<blockquote>\n<p>The <code>equals</code> method implements an equivalence relation on non-null object references:</p>\n<ul>\n<li>It is <em>reflexive</em>: for any non-null reference value <code>x</code>, <code>x.equals(x)</code> should return <code>true</code>.</li>\n<li>It is <em>symmetric</em>: for any non-null reference values <code>x</code> and <code>y</code>, <code>x.equals(y)</code> should return <code>true</code> if and only if <code>y.equals(x)</code> returns <code>true</code>.</li>\n<li>It is <em>transitive</em>: for any non-null reference values <code>x</code>, <code>y</code>, and <code>z</code>, if <code>x.equals(y)</code> returns <code>true</code> and <code>y.equals(z)</code> returns <code>true</code>, then <code>x.equals(z)</code> should return <code>true</code>.</li>\n<li>It is <em>consistent</em>: for any non-null reference values <code>x</code> and <code>y</code>, multiple invocations of <code>x.equals(y)</code> consistently return <code>true</code> or consistently return <code>false</code>, provided no information used in <code>equals</code> comparisons on the objects is modified.</li>\n<li>For any non-null reference value <code>x</code>, <code>x.equals(null)</code> should return <code>false</code>.</li>\n</ul>\n</blockquote>\n<p>Take the Java <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> interface.  It specifies how implementing classes must implement equals:</p>\n<blockquote>\n<p>Compares the specified object with this list for equality. Returns <code>true</code> if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are <em>equal</em>. (Two elements <code>e1</code> and <code>e2</code> are <em>equal</em> if <code>Objects.equals(e1, e2)</code>.) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the <code>List</code> interface.</p>\n</blockquote>\n<p>Now, take two lists that can't be cast to one another, such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html\" rel=\"nofollow noreferrer\"><code>LinkedList</code></a>.  A <code>LinkedList</code> reference cannot be compared with an <code>ArrayList</code> reference using the reference equality error (<code>==</code>), since neither type can be cast to the other.  On the other hand, an <code>ArrayList</code> will be <code>.equals</code> to a <code>LinkedList</code> if they contain the same elements in the same order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; a = new ArrayList&lt;String&gt;(Arrays.asList(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;));\nLinkedList&lt;String&gt; b = new LinkedList&lt;String&gt;(Arrays.asList(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;));\n\nassert a.equals(b); // true\nassert a == b; // compiler error\n</code></pre>\n"}],"owner":{"account_id":13762044,"reputation":93,"user_id":9931535,"display_name":"saga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638072458,"creation_date":1632051071,"question_id":69242828,"body_markdown":"I know in Java you can&#39;t compare two unrelated instances using `==`, since it produces a compilation error (incompatible types). So for example\r\n\r\n    class Animal {}\r\n    class Dog extends Animal {}\r\n    class Cat extends Animal {}\r\n\r\n    Dog d = new Dog();\r\n    Cat c = new Cat();\r\n    System.out.println( d == c );\r\n\r\nis a compile-time error.\r\n\r\nBut why doesn&#39;t using equals inherited from `Object` produce that kind of error:\r\n\r\n    System.out.println( d.equals(c) );  // is false\r\n\r\neven though `Object.equals` internally uses `==`?\r\n\r\nNow, I know why it&#39;s `false`, but I don&#39;t know why it&#39;s not an error, since the signature is:\r\n\r\n    public boolean equals(Object obj) {\r\n        return (this == obj);\r\n    }\r\n\r\n","title":"Why can Object.equals compare types that cannot be compared with the reference equality operator (==)?","body":"<p>I know in Java you can't compare two unrelated instances using <code>==</code>, since it produces a compilation error (incompatible types). So for example</p>\n<pre><code>class Animal {}\nclass Dog extends Animal {}\nclass Cat extends Animal {}\n\nDog d = new Dog();\nCat c = new Cat();\nSystem.out.println( d == c );\n</code></pre>\n<p>is a compile-time error.</p>\n<p>But why doesn't using equals inherited from <code>Object</code> produce that kind of error:</p>\n<pre><code>System.out.println( d.equals(c) );  // is false\n</code></pre>\n<p>even though <code>Object.equals</code> internally uses <code>==</code>?</p>\n<p>Now, I know why it's <code>false</code>, but I don't know why it's not an error, since the signature is:</p>\n<pre><code>public boolean equals(Object obj) {\n    return (this == obj);\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"score":0,"creation_date":1638035189,"post_id":70137265,"comment_id":123982416,"body_markdown":"Can you post the text file reading code and table populating code?","body":"Can you post the text file reading code and table populating code?"},{"owner":{"account_id":23470434,"reputation":67,"user_id":17524013,"display_name":"godopetza"},"score":0,"creation_date":1638035668,"post_id":70137265,"comment_id":123982530,"body_markdown":"@AbrahamArnold I just made the edits can you check it out.","body":"@AbrahamArnold I just made the edits can you check it out."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1638036517,"post_id":70137265,"comment_id":123982730,"body_markdown":"1) *I want to be able to edit the txt file using buttons in the GUI form.* - then you need to recreate the text file by writing all the data in the table to the file.  2) *why I have empty lines appearing in the jtable* either you a) created the table with empty rows or your file has empty row. You need to debug your code.","body":"1) <i>I want to be able to edit the txt file using buttons in the GUI form.</i> - then you need to recreate the text file by writing all the data in the table to the file.  2) <i>why I have empty lines appearing in the jtable</i> either you a) created the table with empty rows or your file has empty row. You need to debug your code."},{"owner":{"account_id":23470434,"reputation":67,"user_id":17524013,"display_name":"godopetza"},"score":0,"creation_date":1638037345,"post_id":70137265,"comment_id":123982942,"body_markdown":"@camickr well the txt file has not empty lines at all. That&#39;s why I cant figure out why I have empty data displaying in the jTable","body":"@camickr well the txt file has not empty lines at all. That&#39;s why I cant figure out why I have empty data displaying in the jTable"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1638037939,"post_id":70137265,"comment_id":123983043,"body_markdown":"@godopetza, did you read the first suggestion:  `a) created the table with empty rows `. The table won&#39;t create empty row unless you tell it to do so. You didn&#39;t post your code were you create the table and table model, which is why I stated you need to debug your code to see what you are doing.","body":"@godopetza, did you read the first suggestion:  <code>a) created the table with empty rows </code>. The table won&#39;t create empty row unless you tell it to do so. You didn&#39;t post your code were you create the table and table model, which is why I stated you need to debug your code to see what you are doing."},{"owner":{"account_id":23470434,"reputation":67,"user_id":17524013,"display_name":"godopetza"},"score":0,"creation_date":1638038965,"post_id":70137265,"comment_id":123983268,"body_markdown":"@camickr please refer to the codes where I saved data to txt file and the viewbtnAction","body":"@camickr please refer to the codes where I saved data to txt file and the viewbtnAction"},{"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"score":0,"creation_date":1638046875,"post_id":70137265,"comment_id":123984982,"body_markdown":"@godopetza After `model.setColumnIdentifiers(columnsName);` add this code and try, `model.setRowCount(0);`","body":"@godopetza After <code>model.setColumnIdentifiers(columnsName);</code> add this code and try, <code>model.setRowCount(0);</code>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1638058686,"post_id":70137265,"comment_id":123986953,"body_markdown":"For better help sooner. [edit] to add a [mre]. Hard code the data from the text file.","body":"For better help sooner. <a href=\"https://stackoverflow.com/posts/70137265/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Hard code the data from the text file."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638061829,"post_id":70137265,"comment_id":123987344,"body_markdown":"The code where you save the data is irrelevant to the stated question. You stated the data in your file was correct. So the question is why do you have extra rows??? Where do you create those rows if the rows in the file are correct??? We can&#39;t answer that question because the problem is in code you have not posted. So you need to learn how to do basic debugging?","body":"The code where you save the data is irrelevant to the stated question. You stated the data in your file was correct. So the question is why do you have extra rows??? Where do you create those rows if the rows in the file are correct??? We can&#39;t answer that question because the problem is in code you have not posted. So you need to learn how to do basic debugging?"}],"answers":[{"tags":[],"owner":{"account_id":23470434,"reputation":67,"user_id":17524013,"display_name":"godopetza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638072404,"creation_date":1638072404,"answer_id":70140579,"question_id":70137265,"body_markdown":"after `model.setColumnIdentifiers(columnsName);` add `model.setRowCount(0);`","title":"How to modify a txt file using jframe in java","body":"<p>after <code>model.setColumnIdentifiers(columnsName);</code> add <code>model.setRowCount(0);</code></p>\n"}],"owner":{"account_id":23470434,"reputation":67,"user_id":17524013,"display_name":"godopetza"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70140579,"answer_count":1,"score":1,"last_activity_date":1638072404,"creation_date":1638035070,"question_id":70137265,"body_markdown":"I have data saved in txt file. I have loaded them in a jtable in one of my forms and I want to be able to edit the txt file using buttons in the GUI form.\r\nAlso if you can tell me why I have empty lines appearing in the jtable that will be very helpful.\r\n\r\n        private void delbtnActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        \r\n    }                                      \r\n\r\n    private void modifybtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        // TODO add your handling code here:\r\n    }                                         \r\n\r\n    private void newpassActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // TODO add your handling code here:\r\n    }                                       \r\n\r\n    private void newusernameActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        // TODO add your handling code here:\r\n    } \r\n\r\n\r\nhere is the view button code \r\n\r\n        private void viewbtnActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        \r\n        try{\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;logindata.txt&quot;));\r\n            String firstLine = br.readLine().trim();\r\n            String[] columnsName = firstLine.split(&quot;/&quot;);\r\n            DefaultTableModel model = (DefaultTableModel)datatable.getModel();\r\n            model.setColumnIdentifiers(columnsName);\r\n           \r\n            Object[] tableLines = br.lines().toArray();\r\n            \r\n            for(int i = 0; i &lt; tableLines.length; i++)\r\n            {\r\n                String line = tableLines[i].toString().trim();\r\n                String[] dataRow = line.split(&quot;,&quot;);\r\n                model.addRow(dataRow);\r\n            }\r\n        }\r\n        catch(Exception ep){\r\n            Logger.getLogger(people_info.class.getName()).log(Level.SEVERE, null, ep);\r\n        }\r\n    } \r\n\r\nhere is how I saved data in txt file\r\n\r\n        private void submitbtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        String user = usertxt.getText();\r\n        String pass = passwordtxt.getText();\r\n        \r\n        try\r\n        {\r\n            FileOutputStream ldata = new FileOutputStream(&quot;logindata.txt&quot;, true);\r\n            PrintWriter printer = new PrintWriter(ldata);\r\n            \r\n            printer.println(user+&quot;,&quot;+pass+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;);\r\n            JOptionPane.showMessageDialog(null,&quot;success, please login&quot;);\r\n            printer.close();\r\n            \r\n            this.setVisible(false);\r\n            login lg = new login();\r\n            lg.setVisible(true);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            JOptionPane.showMessageDialog(null,&quot;Error, please retry&quot;);\r\n        }        \r\n    } \r\n\r\n[![here is how the GUI looks like][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8FwEX.png","title":"How to modify a txt file using jframe in java","body":"<p>I have data saved in txt file. I have loaded them in a jtable in one of my forms and I want to be able to edit the txt file using buttons in the GUI form.\nAlso if you can tell me why I have empty lines appearing in the jtable that will be very helpful.</p>\n<pre><code>    private void delbtnActionPerformed(java.awt.event.ActionEvent evt) {                                       \n    \n}                                      \n\nprivate void modifybtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \n    // TODO add your handling code here:\n}                                         \n\nprivate void newpassActionPerformed(java.awt.event.ActionEvent evt) {                                        \n    // TODO add your handling code here:\n}                                       \n\nprivate void newusernameActionPerformed(java.awt.event.ActionEvent evt) {                                            \n    // TODO add your handling code here:\n} \n</code></pre>\n<p>here is the view button code</p>\n<pre><code>    private void viewbtnActionPerformed(java.awt.event.ActionEvent evt) {                                        \n    \n    try{\n        BufferedReader br = new BufferedReader(new FileReader(&quot;logindata.txt&quot;));\n        String firstLine = br.readLine().trim();\n        String[] columnsName = firstLine.split(&quot;/&quot;);\n        DefaultTableModel model = (DefaultTableModel)datatable.getModel();\n        model.setColumnIdentifiers(columnsName);\n       \n        Object[] tableLines = br.lines().toArray();\n        \n        for(int i = 0; i &lt; tableLines.length; i++)\n        {\n            String line = tableLines[i].toString().trim();\n            String[] dataRow = line.split(&quot;,&quot;);\n            model.addRow(dataRow);\n        }\n    }\n    catch(Exception ep){\n        Logger.getLogger(people_info.class.getName()).log(Level.SEVERE, null, ep);\n    }\n} \n</code></pre>\n<p>here is how I saved data in txt file</p>\n<pre><code>    private void submitbtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \n    String user = usertxt.getText();\n    String pass = passwordtxt.getText();\n    \n    try\n    {\n        FileOutputStream ldata = new FileOutputStream(&quot;logindata.txt&quot;, true);\n        PrintWriter printer = new PrintWriter(ldata);\n        \n        printer.println(user+&quot;,&quot;+pass+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;);\n        JOptionPane.showMessageDialog(null,&quot;success, please login&quot;);\n        printer.close();\n        \n        this.setVisible(false);\n        login lg = new login();\n        lg.setVisible(true);\n    }\n    catch(Exception e)\n    {\n        JOptionPane.showMessageDialog(null,&quot;Error, please retry&quot;);\n    }        \n} \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8FwEX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8FwEX.png\" alt=\"here is how the GUI looks like\" /></a></p>\n"},{"tags":["java","mongodb","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":23455226,"reputation":50,"user_id":17510821,"display_name":"JohnT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638070907,"creation_date":1638070907,"answer_id":70140493,"question_id":70140348,"body_markdown":"Fixed!\r\n\r\nthe solution was to add public to the id in my variable constructor.\r\n\r\nchanged\r\n\r\n```string id```\r\nto\r\n``` public string id```\r\n\r\nand now its no longer empty!","title":"Springboot Mongodb findAll() and findbyId returns empty curly brackets","body":"<p>Fixed!</p>\n<p>the solution was to add public to the id in my variable constructor.</p>\n<p>changed</p>\n<p><code>string id</code>\nto\n<code> public string id</code></p>\n<p>and now its no longer empty!</p>\n"}],"owner":{"account_id":23455226,"reputation":50,"user_id":17510821,"display_name":"JohnT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70140493,"answer_count":1,"score":0,"last_activity_date":1638070907,"creation_date":1638068328,"question_id":70140348,"body_markdown":"I have an application that I am working on, I have it connecting to my mongoDB database and everything, but doing either a findAll or findById method always returns an empty brackets `{}`\r\n\r\nI think its &quot;working&quot; because I have a total of 5731 records in my mongodb database, and when doing a &quot;findAll()&quot; it returns 5731 open brackets. \r\n\r\nI did some research and found some similar posts but most said to make cure my collection is correct (which it is). \r\n\r\n\r\nhere is my custom variable class &quot;stockIncome.java&quot; \r\n```\r\n@Document(collection = &quot;IncomeStatement&quot;)\r\npublic class stockIncome {\r\n    \r\n    @Id\r\n    String id;\r\n\r\n```\r\n\r\n```\r\nspring.data.mongodb.uri=mongodb+srv://XXX_XXX_XXX(Hiding my username/password/hostname)?retryWrites=true&amp;w=majority\r\n```\r\n\r\nmy controller file \r\n```\r\n@RestController\r\npublic class stockController {\r\n\r\n    public StockRepository stockRepository;\r\n\r\n    public stockController(StockRepository stockRepository) {\r\n        this.stockRepository = stockRepository; \r\n    }\r\n    \r\n    @GetMapping(&quot;/all&quot;)\r\n    public List&lt;stockIncome&gt; findStocks(){  \r\n        return stockRepository.findAll();\r\n    }\r\n    @GetMapping(&quot;/stocks/{id}&quot;)\r\n    public Optional&lt;stockIncome&gt; findStock(@PathVariable final String id){\r\n        return stockRepository.findById(id);\r\n    }\r\n}\r\n```\r\n\r\nand my repository\r\n```\r\npublic interface StockRepository extends MongoRepository&lt;stockIncome, String&gt; {    \r\n}\r\n```\r\n\r\n\r\nany ideas to help me debug this?","title":"Springboot Mongodb findAll() and findbyId returns empty curly brackets","body":"<p>I have an application that I am working on, I have it connecting to my mongoDB database and everything, but doing either a findAll or findById method always returns an empty brackets <code>{}</code></p>\n<p>I think its &quot;working&quot; because I have a total of 5731 records in my mongodb database, and when doing a &quot;findAll()&quot; it returns 5731 open brackets.</p>\n<p>I did some research and found some similar posts but most said to make cure my collection is correct (which it is).</p>\n<p>here is my custom variable class &quot;stockIncome.java&quot;</p>\n<pre><code>@Document(collection = &quot;IncomeStatement&quot;)\npublic class stockIncome {\n    \n    @Id\n    String id;\n\n</code></pre>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://XXX_XXX_XXX(Hiding my username/password/hostname)?retryWrites=true&amp;w=majority\n</code></pre>\n<p>my controller file</p>\n<pre><code>@RestController\npublic class stockController {\n\n    public StockRepository stockRepository;\n\n    public stockController(StockRepository stockRepository) {\n        this.stockRepository = stockRepository; \n    }\n    \n    @GetMapping(&quot;/all&quot;)\n    public List&lt;stockIncome&gt; findStocks(){  \n        return stockRepository.findAll();\n    }\n    @GetMapping(&quot;/stocks/{id}&quot;)\n    public Optional&lt;stockIncome&gt; findStock(@PathVariable final String id){\n        return stockRepository.findById(id);\n    }\n}\n</code></pre>\n<p>and my repository</p>\n<pre><code>public interface StockRepository extends MongoRepository&lt;stockIncome, String&gt; {    \n}\n</code></pre>\n<p>any ideas to help me debug this?</p>\n"},{"tags":["java","arrays","random","methods"],"comments":[{"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"score":1,"creation_date":1637990357,"post_id":70132160,"comment_id":123973842,"body_markdown":"you get the value with `arrayOfDoubles[index]`. declare an `int sum = 0` variable outside the `foor loop`, then `sum += arrayOfDoubles[i]` inside your `for loop`. in the end do what you wanna do with the sum.","body":"you get the value with <code>arrayOfDoubles[index]</code>. declare an <code>int sum = 0</code> variable outside the <code>foor loop</code>, then <code>sum += arrayOfDoubles[i]</code> inside your <code>for loop</code>. in the end do what you wanna do with the sum."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637990988,"post_id":70132160,"comment_id":123973927,"body_markdown":"@EmadAli This should be posted as an answer, not a comment.","body":"@EmadAli This should be posted as an answer, not a comment."},{"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"score":0,"creation_date":1637993293,"post_id":70132160,"comment_id":123974198,"body_markdown":"@Code-Apprentice sorry about that, i&#39;m still unclear about which should be answers and what is comments, I had the idea an answer should be a full long detailed explanation, I see a lot of people giving short description in comment section.","body":"@Code-Apprentice sorry about that, i&#39;m still unclear about which should be answers and what is comments, I had the idea an answer should be a full long detailed explanation, I see a lot of people giving short description in comment section."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1638000047,"post_id":70132160,"comment_id":123975113,"body_markdown":"@EmadAli No need to apologize. Comments are intended to ask the OP for clarification. If you are giving direct advice to how to solve the problem, that should go in a question. The best guidelines I can find are [here](https://meta.stackexchange.com/questions/19756/how-do-comments-work) on [meta].","body":"@EmadAli No need to apologize. Comments are intended to ask the OP for clarification. If you are giving direct advice to how to solve the problem, that should go in a question. The best guidelines I can find are <a href=\"https://meta.stackexchange.com/questions/19756/how-do-comments-work\">here</a> on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1638119118,"post_id":70132160,"comment_id":123997088,"body_markdown":"@EmadAli `giving direct advice to how to solve the problem [should] go in a question` *direct advice to how to solve a problem should go in an answer*","body":"@EmadAli <code>giving direct advice to how to solve the problem [should] go in a question</code> <i>direct advice to how to solve a problem should go in an answer</i>"}],"answers":[{"tags":[],"owner":{"account_id":23467546,"reputation":1,"user_id":17521474,"display_name":"Kyle_McFatter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638070820,"creation_date":1637989468,"answer_id":70132190,"question_id":70132160,"body_markdown":"For `sumMethod`, I&#39;d say the first thing you could do is give it a return value rather than `void`, (`public static double sumMethod`). That way when you run that method in `main` you can hold onto the result it prints out.\r\nI may be wrong but my understanding is that your goal is to take an array and sum up the values within. For that purpose, the following would be a way to do it.\r\n\r\n```java\r\npublic static double sumMethod(double[] arrayOfDoubles) {\r\n    double total = 0;\r\n    for (double num : arrayOfDoubles) {\r\n        total += num;\r\n    }\r\n    return total;\r\n}\r\n```","title":"How to get the value from each index?","body":"<p>For <code>sumMethod</code>, I'd say the first thing you could do is give it a return value rather than <code>void</code>, (<code>public static double sumMethod</code>). That way when you run that method in <code>main</code> you can hold onto the result it prints out.\nI may be wrong but my understanding is that your goal is to take an array and sum up the values within. For that purpose, the following would be a way to do it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double sumMethod(double[] arrayOfDoubles) {\n    double total = 0;\n    for (double num : arrayOfDoubles) {\n        total += num;\n    }\n    return total;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22638992,"reputation":16,"user_id":16815444,"display_name":"Holly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637990767,"creation_date":1637990767,"answer_id":70132263,"question_id":70132160,"body_markdown":"\r\n\r\n    public static void sumMethod(double[] arrayOfDoubles) {\r\n    \t\tdouble sum = 0;\r\n    \t\tfor (int j = 0; j &lt; arrayOfDoubles.length; j++) {\r\n    \t\t\tsum += arrayOfDoubles[j];\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nThis will work too, if you are not familiar with the for-each loop yet. \r\n\r\nAdditionally, it is better to use arrayOfDoubles.length in the loop, in case you edit the code later, and change the size, or add or remove an element.   \r\n\r\n \r\n\r\n","title":"How to get the value from each index?","body":"<pre><code>public static void sumMethod(double[] arrayOfDoubles) {\n        double sum = 0;\n        for (int j = 0; j &lt; arrayOfDoubles.length; j++) {\n            sum += arrayOfDoubles[j];\n        }\n    }\n</code></pre>\n<p>This will work too, if you are not familiar with the for-each loop yet.</p>\n<p>Additionally, it is better to use arrayOfDoubles.length in the loop, in case you edit the code later, and change the size, or add or remove an element.</p>\n"}],"owner":{"account_id":23467495,"reputation":3,"user_id":17521431,"display_name":"Kaji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70132263,"answer_count":2,"score":0,"last_activity_date":1638070820,"creation_date":1637989113,"question_id":70132160,"body_markdown":"I&#39;m extremely new to Java and we&#39;re tasked to take random values of an array and pass them through a method where it adds all of them for a running total.\r\n\r\nFor the sumMethod I&#39;d like to take each value from all the index (given by sizeOfArray) and add them together.\r\n\r\nThank you!\r\n\r\n```\r\npublic static void sumMethod(double[] arrayOfDoubles){\r\n   //How to get the value from each indexes (given by sizeOfArray) and add them for the sum\r\n   int arrayLength = arrayOfDoubles.length;\r\n         \r\n        System.out.println(arrayOfDoubles);\r\n   }\r\n\r\n  public static void main(String[] args) {   \r\n   //1-3: Set up Scanner object to collect user&#39;s input on the size of array.\r\n      Scanner keyboard = new Scanner(System.in);\r\n      System.out.println(&quot;How many double numerical entries do you have?&quot;);\r\n   //4: Declare an array of size sizeOfArray\r\n      int sizeOfArray = keyboard.nextInt();  \r\n   \r\n      //Initialize array\r\n      double[] arrayOfDoubles;\r\n      arrayOfDoubles = new double[sizeOfArray];   \r\n   \r\n      \r\n      \r\n   \r\n      for(int i = 0; i &lt; sizeOfArray; i++){\r\n      //5: Use the Random number Class and walk over the array \r\n         Random randomNum = new Random();       \r\n         arrayOfDoubles[i] = randomNum.nextDouble(0.0 , 100.0);\r\n      //6: Invoke SumMethod\r\n         sumMethod(arrayOfDoubles); \r\n      }\r\n      \r\n     \r\n      \r\n      \r\n   }\r\n}\r\n```","title":"How to get the value from each index?","body":"<p>I'm extremely new to Java and we're tasked to take random values of an array and pass them through a method where it adds all of them for a running total.</p>\n<p>For the sumMethod I'd like to take each value from all the index (given by sizeOfArray) and add them together.</p>\n<p>Thank you!</p>\n<pre><code>public static void sumMethod(double[] arrayOfDoubles){\n   //How to get the value from each indexes (given by sizeOfArray) and add them for the sum\n   int arrayLength = arrayOfDoubles.length;\n         \n        System.out.println(arrayOfDoubles);\n   }\n\n  public static void main(String[] args) {   \n   //1-3: Set up Scanner object to collect user's input on the size of array.\n      Scanner keyboard = new Scanner(System.in);\n      System.out.println(&quot;How many double numerical entries do you have?&quot;);\n   //4: Declare an array of size sizeOfArray\n      int sizeOfArray = keyboard.nextInt();  \n   \n      //Initialize array\n      double[] arrayOfDoubles;\n      arrayOfDoubles = new double[sizeOfArray];   \n   \n      \n      \n   \n      for(int i = 0; i &lt; sizeOfArray; i++){\n      //5: Use the Random number Class and walk over the array \n         Random randomNum = new Random();       \n         arrayOfDoubles[i] = randomNum.nextDouble(0.0 , 100.0);\n      //6: Invoke SumMethod\n         sumMethod(arrayOfDoubles); \n      }\n      \n     \n      \n      \n   }\n}\n</code></pre>\n"},{"tags":["java","azure","azure-functions","azure-java-tools"],"answers":[{"tags":[],"owner":{"account_id":335074,"reputation":318,"user_id":661940,"display_name":"weidongxu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638068440,"creation_date":1638068440,"answer_id":70140354,"question_id":70091601,"body_markdown":"The API is not documented. So if you really need to do this in Java (likely same for SDK of another language), you had to call it directly.\r\n\r\n```java\r\nvar response = azure.functionApps().manager().httpPipeline().send(\r\n        new HttpRequest(HttpMethod.PUT, &quot;https://management.azure.com/subscriptions/&lt;subscription_id&gt;/resourceGroups/&lt;resource_group&gt;/providers/Microsoft.Web/sites/&lt;site&gt;/functions/&lt;function&gt;/properties/state?api-version=2021-02-01&quot;)\r\n            .setHeader(&quot;content-type&quot;, &quot;application/json&quot;)\r\n            .setBody(&quot;{\\&quot;properties\\&quot;:\\&quot;disabled\\&quot;}&quot;))\r\n    .block();\r\n```\r\n\r\n`&lt;subscription_id&gt;` can be get via `azure.subscriptionId()` (anyway user provided this when initializing the `azure` object).\r\n\r\nAs this is undocumented API (Portal calls this API, if you check the browser dev tool), it could be unstable. I couldn&#39;t find a documented equivalent.\r\n\r\nPS, you might want to upgrade the SDK version to 2.10.0 (2.1.0 is pretty early version and contains some known minor bugs)","title":"(Azure SDK java) How to Enable/Disable each Functions using Java program","body":"<p>The API is not documented. So if you really need to do this in Java (likely same for SDK of another language), you had to call it directly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var response = azure.functionApps().manager().httpPipeline().send(\n        new HttpRequest(HttpMethod.PUT, &quot;https://management.azure.com/subscriptions/&lt;subscription_id&gt;/resourceGroups/&lt;resource_group&gt;/providers/Microsoft.Web/sites/&lt;site&gt;/functions/&lt;function&gt;/properties/state?api-version=2021-02-01&quot;)\n            .setHeader(&quot;content-type&quot;, &quot;application/json&quot;)\n            .setBody(&quot;{\\&quot;properties\\&quot;:\\&quot;disabled\\&quot;}&quot;))\n    .block();\n</code></pre>\n<p><code>&lt;subscription_id&gt;</code> can be get via <code>azure.subscriptionId()</code> (anyway user provided this when initializing the <code>azure</code> object).</p>\n<p>As this is undocumented API (Portal calls this API, if you check the browser dev tool), it could be unstable. I couldn't find a documented equivalent.</p>\n<p>PS, you might want to upgrade the SDK version to 2.10.0 (2.1.0 is pretty early version and contains some known minor bugs)</p>\n"}],"owner":{"account_id":23415408,"reputation":25,"user_id":17476426,"display_name":"Thunderbird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70140354,"answer_count":1,"score":2,"last_activity_date":1638068440,"creation_date":1637735589,"question_id":70091601,"body_markdown":"I am using AzureResourceManager(java).\r\n\r\nI am able to start/stop Functions by following. \r\n\r\n    FunctionApp app = azureResourceManager.functionApps().getById(id);\r\n    app.start();\r\n    \r\n    FunctionApp app = azureResourceManager.functionApps().getById(id);\r\n    app.stop();\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure.resourcemanager&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-resourcemanager&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI know we can enable/disable them from Azure portal.\r\nsee [Azure Portal Image][1].\r\nI would like to manage it for each function of Functions using java program.\r\n\r\n  [1]: https://i.stack.imgur.com/9BomB.png","title":"(Azure SDK java) How to Enable/Disable each Functions using Java program","body":"<p>I am using AzureResourceManager(java).</p>\n<p>I am able to start/stop Functions by following.</p>\n<pre><code>FunctionApp app = azureResourceManager.functionApps().getById(id);\napp.start();\n\nFunctionApp app = azureResourceManager.functionApps().getById(id);\napp.stop();\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure.resourcemanager&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-resourcemanager&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I know we can enable/disable them from Azure portal.\nsee <a href=\"https://i.stack.imgur.com/9BomB.png\" rel=\"nofollow noreferrer\">Azure Portal Image</a>.\nI would like to manage it for each function of Functions using java program.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8180,"page":1812,"page_size":100}
