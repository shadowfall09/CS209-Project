{"items":[{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637177929,"post_id":70010523,"comment_id":123759376,"body_markdown":"So yes, the list&#39;s size is 0, it has 0 items within it, and you&#39;re trying to get the item at index -1, which obviously won&#39;t work. I&#39;ve not seen the term &quot;length&quot; in this error message context before and am not sure what it means, but it doesn&#39;t change the salient facts about what caused your error.","body":"So yes, the list&#39;s size is 0, it has 0 items within it, and you&#39;re trying to get the item at index -1, which obviously won&#39;t work. I&#39;ve not seen the term &quot;length&quot; in this error message context before and am not sure what it means, but it doesn&#39;t change the salient facts about what caused your error."},{"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"score":0,"creation_date":1637178140,"post_id":70010523,"comment_id":123759434,"body_markdown":"@HovercraftFullOfEels, Ah. So &quot;length&quot; in this context doesn&#39;t mean size, I see. I assumed it did mean size and somehow the size was changing between the .size() call and the .get() call.","body":"@HovercraftFullOfEels, Ah. So &quot;length&quot; in this context doesn&#39;t mean size, I see. I assumed it did mean size and somehow the size was changing between the .size() call and the .get() call."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637178216,"post_id":70010523,"comment_id":123759463,"body_markdown":"An ArrayList doesn&#39;t really have a &quot;length&quot; (that I know of). It has a *capacity*, which is the length of its backing array, the items of which some may be null, and a size, how many actual objects it holds. The size is all that really matters here.","body":"An ArrayList doesn&#39;t really have a &quot;length&quot; (that I know of). It has a <i>capacity</i>, which is the length of its backing array, the items of which some may be null, and a size, how many actual objects it holds. The size is all that really matters here."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637178244,"post_id":70010523,"comment_id":123759472,"body_markdown":"I mean, it pretty clearly means, in the context of this error message, the length of the internal array the `ArrayList` is using as storage.","body":"I mean, it pretty clearly means, in the context of this error message, the length of the internal array the <code>ArrayList</code> is using as storage."},{"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"score":0,"creation_date":1637178370,"post_id":70010523,"comment_id":123759514,"body_markdown":"@LouisWasserman, so how is the internal array length 22 while the .size is reported as 0 on the same line?","body":"@LouisWasserman, so how is the internal array length 22 while the .size is reported as 0 on the same line?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637178432,"post_id":70010523,"comment_id":123759535,"body_markdown":"Please check out: [Initial size for the ArrayList](https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist)","body":"Please check out: <a href=\"https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist\">Initial size for the ArrayList</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637178449,"post_id":70010523,"comment_id":123759541,"body_markdown":"That&#39;s perfectly normal.  `size` is the number of elements actually there, the amount of the array actually being used.  The array is _normally_ oversized.","body":"That&#39;s perfectly normal.  <code>size</code> is the number of elements actually there, the amount of the array actually being used.  The array is <i>normally</i> oversized."},{"owner":{"account_id":8289127,"reputation":6118,"user_id":6231376,"display_name":"TeWu"},"score":0,"creation_date":1637180264,"post_id":70010523,"comment_id":123760273,"body_markdown":"You can always check `ArrayList.java` to see how the error message is generated. Is the `22` in the error message refers to the same variable as would `size` method?","body":"You can always check <code>ArrayList.java</code> to see how the error message is generated. Is the <code>22</code> in the error message refers to the same variable as would <code>size</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":17347431,"reputation":89,"user_id":12566715,"display_name":"Janardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637179417,"creation_date":1637179417,"answer_id":70010851,"question_id":70010523,"body_markdown":"ArrayList is backed by an array internally and it dynamically adjusts internal array as needed and **size** variable is maintained as you add elements ( increments as you add elements and decrements as you delete elements).\r\n\r\nsay at some point underlying array of ArrayList is with the length 22 (could be empty array, i.e. no elements stored), when you try to access it with -1 index, it will throw the java.lang.ArrayIndexOutOfBoundsException\r\n\r\n*try printing list size before accessing the list as well to see if the size is coming as 0 or not\r\n\r\n\r\n\r\n","title":"java.util.ArrayList length and size different?","body":"<p>ArrayList is backed by an array internally and it dynamically adjusts internal array as needed and <strong>size</strong> variable is maintained as you add elements ( increments as you add elements and decrements as you delete elements).</p>\n<p>say at some point underlying array of ArrayList is with the length 22 (could be empty array, i.e. no elements stored), when you try to access it with -1 index, it will throw the java.lang.ArrayIndexOutOfBoundsException</p>\n<p>*try printing list size before accessing the list as well to see if the size is coming as 0 or not</p>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637185866,"creation_date":1637180062,"answer_id":70010961,"question_id":70010523,"body_markdown":"The `ArrayList` in Java 8 only checks if the index is greater than its size, throwing an `IndexOutOfBoundsException` if so. Otherwise `array[index]` is used to access the desired element of the array used to store the list elements. This will throw an `ArrayIndexOutOfBoundsException` if the index is out of range, using the length of the array in the message. The array will be substituted by larger one if needed, but it will never be changed to a smaller one - so it is normal that the array is larger than required. \r\n\r\nIn Java 9, the index check was changed: it uses `Objects.checkIndex()`, which checks both limits and uses the size of the list for the Exception message. ","title":"java.util.ArrayList length and size different?","body":"<p>The <code>ArrayList</code> in Java 8 only checks if the index is greater than its size, throwing an <code>IndexOutOfBoundsException</code> if so. Otherwise <code>array[index]</code> is used to access the desired element of the array used to store the list elements. This will throw an <code>ArrayIndexOutOfBoundsException</code> if the index is out of range, using the length of the array in the message. The array will be substituted by larger one if needed, but it will never be changed to a smaller one - so it is normal that the array is larger than required.</p>\n<p>In Java 9, the index check was changed: it uses <code>Objects.checkIndex()</code>, which checks both limits and uses the size of the list for the Exception message.</p>\n"}],"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70010961,"answer_count":2,"score":-1,"last_activity_date":1637185866,"creation_date":1637177846,"question_id":70010523,"body_markdown":"I&#39;m getting periodic crash reports on the following line of code:\r\n\r\n    myList.get(myList.size() - 1)\r\n\r\nWhich wouldn&#39;t be that interesting if not for the stack trace:\r\n\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: length=22; index=-1\r\njava.util.ArrayList.get ArrayList.java:439\r\ncom.myapp.ope.api.ApiManager$2.onResponse ApiManager.java:215\r\nretrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1.lambda$onResponse$0$DefaultCallAdapterFactory$ExecutorCallbackCall$1 DefaultCallAdapterFactory.java:89\r\nretrofit2.-$$Lambda$DefaultCallAdapterFactory$ExecutorCallbackCall$1$hVGjmafRi6VitDIrPNdoFizVAdk.run Unknown Source:6\r\n```\r\n\r\nWhich seems to imply `myList` has a length of 22. So how is the index calculated at -1 (which means `.size()` would have reported 0)?","title":"java.util.ArrayList length and size different?","body":"<p>I'm getting periodic crash reports on the following line of code:</p>\n<pre><code>myList.get(myList.size() - 1)\n</code></pre>\n<p>Which wouldn't be that interesting if not for the stack trace:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: length=22; index=-1\njava.util.ArrayList.get ArrayList.java:439\ncom.myapp.ope.api.ApiManager$2.onResponse ApiManager.java:215\nretrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1.lambda$onResponse$0$DefaultCallAdapterFactory$ExecutorCallbackCall$1 DefaultCallAdapterFactory.java:89\nretrofit2.-$$Lambda$DefaultCallAdapterFactory$ExecutorCallbackCall$1$hVGjmafRi6VitDIrPNdoFizVAdk.run Unknown Source:6\n</code></pre>\n<p>Which seems to imply <code>myList</code> has a length of 22. So how is the index calculated at -1 (which means <code>.size()</code> would have reported 0)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1637187229,"post_id":70011840,"comment_id":123762602,"body_markdown":"Because `T extends AnimalProperty` means a *specific* type of `AnimalProperty`, defined by the instantiator of `Test`, which might be `Cat` for all we know. If you want the field to hold any `AnimalProperty`, just declare it as `AnimalProperty`; no need for `T`.","body":"Because <code>T extends AnimalProperty</code> means a <i>specific</i> type of <code>AnimalProperty</code>, defined by the instantiator of <code>Test</code>, which might be <code>Cat</code> for all we know. If you want the field to hold any <code>AnimalProperty</code>, just declare it as <code>AnimalProperty</code>; no need for <code>T</code>."}],"answers":[{"tags":[],"owner":{"account_id":13414497,"reputation":29015,"user_id":10147399,"display_name":"Aykhan Hagverdili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637185749,"creation_date":1637185749,"answer_id":70012002,"question_id":70011840,"body_markdown":"In your example, `T` is a _sibling_ of `Dog` in the inheritance tree. For example, it could be `Cat`. Would it make sense to do `Cat c = new Dog()`? Of course it wouldn&#39;t. Here&#39;s what you want:\r\n\r\n```Java\r\nclass Test {\r\n    AnimalProperty animalWithProp;\r\n\r\n    public Test() {\r\n        this.animalWithProp = new Dog();\r\n        System.out.println(animalWithProp.sound());\r\n    }\r\n}\r\n```","title":"How to use a type bounded parameter interface using generics","body":"<p>In your example, <code>T</code> is a <em>sibling</em> of <code>Dog</code> in the inheritance tree. For example, it could be <code>Cat</code>. Would it make sense to do <code>Cat c = new Dog()</code>? Of course it wouldn't. Here's what you want:</p>\n<pre><code>class Test {\n    AnimalProperty animalWithProp;\n\n    public Test() {\n        this.animalWithProp = new Dog();\n        System.out.println(animalWithProp.sound());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9499825,"reputation":1322,"user_id":7061393,"accept_rate":95,"display_name":"Pablo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70012002,"answer_count":1,"score":0,"last_activity_date":1637185749,"creation_date":1637184785,"question_id":70011840,"body_markdown":"I have the class Test, which has an instance variable animalWithProps of type T (this variable should be of a type that implements AnimalProperty). However, when I try this with a class that implements this interface (Dog), I get an error for invalid types: `Dog cannot be converted to T`\r\n\r\n    interface AnimalProperty {\r\n        String sound();\r\n    }\r\n    \r\n    class Dog implements AnimalProperty {\r\n        public String sound() {\r\n            return &quot;bark&quot;;\r\n        }\r\n    }\r\n    \r\n    class Test&lt;T extends AnimalProperty&gt; {\r\n        T animalWithProp;\r\n    \r\n        public Test() {\r\n            this.animalWithProp = new Dog();\r\n            System.out.println(animalWithProp.sound());\r\n        }\r\n    }\r\n\r\nWhen I try doing `AnimalProperty prop = new Dog()`, it works. Why can&#39;t I have this type bounded parameter?","title":"How to use a type bounded parameter interface using generics","body":"<p>I have the class Test, which has an instance variable animalWithProps of type T (this variable should be of a type that implements AnimalProperty). However, when I try this with a class that implements this interface (Dog), I get an error for invalid types: <code>Dog cannot be converted to T</code></p>\n<pre><code>interface AnimalProperty {\n    String sound();\n}\n\nclass Dog implements AnimalProperty {\n    public String sound() {\n        return &quot;bark&quot;;\n    }\n}\n\nclass Test&lt;T extends AnimalProperty&gt; {\n    T animalWithProp;\n\n    public Test() {\n        this.animalWithProp = new Dog();\n        System.out.println(animalWithProp.sound());\n    }\n}\n</code></pre>\n<p>When I try doing <code>AnimalProperty prop = new Dog()</code>, it works. Why can't I have this type bounded parameter?</p>\n"},{"tags":["java","authentication","encryption","tags","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1637174673,"post_id":70008987,"comment_id":123758244,"body_markdown":"The line `byte[] cipherText = chunks[2].getBytes()` uses an inappropriate encoding. Check the encoding used in the encryption code and decode accordingly (or share the encryption code). You should also not post dummy values like `aKey`, but valid test data (key, plaintext and concatenation of IV, tag and ciphertext).","body":"The line <code>byte[] cipherText = chunks[2].getBytes()</code> uses an inappropriate encoding. Check the encoding used in the encryption code and decode accordingly (or share the encryption code). You should also not post dummy values like <code>aKey</code>, but valid test data (key, plaintext and concatenation of IV, tag and ciphertext)."},{"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"score":0,"creation_date":1637180069,"post_id":70008987,"comment_id":123760203,"body_markdown":"I added a piece of php code and replace the key which is used in both code. Basically, php is working fine to encrypt and decrypt with the provided iv, tag and cipherText. Java is returning Tag mismatch","body":"I added a piece of php code and replace the key which is used in both code. Basically, php is working fine to encrypt and decrypt with the provided iv, tag and cipherText. Java is returning Tag mismatch"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1637182535,"post_id":70008987,"comment_id":123761022,"body_markdown":"The tag in the test data is wrong. It is returned by `openssl_encrypt()` and must of course first be retrieved after the call of `openssl_encrypt()`. Furthermore, algorithm specification (AES-128) and key size (32 bytes) are inconsistent. These issues lead to an incorrect tag and key in the Java code. In addition, the Java code lacks the Base64 decoding of the ciphertext. In the PHP code the concatenation of IV, tag and ciphertext is missing.","body":"The tag in the test data is wrong. It is returned by <code>openssl_encrypt()</code> and must of course first be retrieved after the call of <code>openssl_encrypt()</code>. Furthermore, algorithm specification (AES-128) and key size (32 bytes) are inconsistent. These issues lead to an incorrect tag and key in the Java code. In addition, the Java code lacks the Base64 decoding of the ciphertext. In the PHP code the concatenation of IV, tag and ciphertext is missing."},{"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"score":0,"creation_date":1637184291,"post_id":70008987,"comment_id":123761565,"body_markdown":"so I updated my code except the key and the problem still persist. The php code is working fine with such key. What I need is to have Java code be able to decode under same condition. Is that possible?","body":"so I updated my code except the key and the problem still persist. The php code is working fine with such key. What I need is to have Java code be able to decode under same condition. Is that possible?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1637185074,"post_id":70008987,"comment_id":123761835,"body_markdown":"AES-128 with a 32 bytes key? There is no such thing. PHP shortens the key implicitly to 16 bytes by truncating the end. Therefore you should take the correct key _directly_, which probably would have prevented the problem in the Java code. The Java code does not truncate implicitly, that must be done explicitly. Besides, the Java code still uses a wrong tag, i.e. you will still get a tag mismatch.","body":"AES-128 with a 32 bytes key? There is no such thing. PHP shortens the key implicitly to 16 bytes by truncating the end. Therefore you should take the correct key <i>directly</i>, which probably would have prevented the problem in the Java code. The Java code does not truncate implicitly, that must be done explicitly. Besides, the Java code still uses a wrong tag, i.e. you will still get a tag mismatch."},{"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"score":0,"creation_date":1637185605,"post_id":70008987,"comment_id":123762029,"body_markdown":"Thank you, that key truncation is exactly what I was looking for. I am able to decrypt the code now.","body":"Thank you, that key truncation is exactly what I was looking for. I am able to decrypt the code now."}],"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637185736,"creation_date":1637170156,"question_id":70008987,"body_markdown":"I am trying to implement a decryption method for php openssl_encrypted text. I got the Base64 encoded iv, Base64 encoded tag and cyphertext. However, my code below always prompt `Exception in thread &quot;main&quot; javax.crypto.AEADBadTagException: Tag mismatch!` Any idea what I did wrong in the code below?\r\n\r\nPHP code\r\n```\r\n&lt;?php\r\n//$key should have been previously generated in a cryptographically safe way, like openssl_random_pseudo_bytes\r\n\r\n$key=&quot;jKtbuVSQlhfbxF0zVjZh1839DLTNSvS5&quot;;\r\n\r\n$plaintext = &quot;121&quot;;\r\n$cipher = &quot;aes-128-gcm&quot;;\r\nif (in_array($cipher, openssl_get_cipher_methods()))\r\n{\r\n    $ivlen = openssl_cipher_iv_length($cipher);\r\n    $iv = openssl_random_pseudo_bytes($ivlen);\r\n    echo &quot;iv &quot; . base64_encode($iv) . &quot;\\n&quot;;\r\n\r\n    $ciphertext = openssl_encrypt($plaintext, $cipher, $key, $options=0, $iv, $tag);\r\n    echo &quot;ciphertext &quot; . $ciphertext . &quot;\\n&quot;;\r\n    echo &quot;tag &quot; . base64_encode($tag) . &quot;\\n&quot;;\r\n    echo &quot;final message: &quot; .  base64_encode($iv) . &quot;:&quot; . base64_encode($tag) . &quot;:&quot; . $ciphertext . &quot;\\n&quot;;\r\n\r\n    //store $cipher, $iv, and $tag for decryption later\r\n    $original_plaintext = openssl_decrypt($ciphertext, $cipher, $key, $options=0, $iv, $tag);\r\n    echo $original_plaintext.&quot;\\n&quot;;\r\n}\r\n?&gt;\r\n```\r\nJava code\r\n\r\n```\r\n    String ENCRYPT_ALGO = &quot;AES/GCM/NoPadding&quot;;\r\n    SecretKeySpec secretKeySpec = new SecretKeySpec(&quot;jKtbuVSQlhfbxF0zVjZh1839DLTNSvS5&quot;.substring(0,16).getBytes(), &quot;AES&quot;);\r\n\r\n    //&quot;Base64 encoded iv:Base64 encoded tag:cipherText&quot;\r\n\r\n    String[] chunks = &quot;Axb5mI6ULfBrYjRC:A2Uxa8sFa8j1gK2YNZ6UTw==:PmAR&quot;.split(&quot;\\\\:&quot;);\r\n\r\n    Cipher cipher = Cipher.getInstance(ENCRYPT_ALGO);\r\n    byte[] iv =   Base64.getDecoder().decode(chunks[0]);\r\n    byte[] tag = Base64.getDecoder().decode(chunks[1]);\r\n    byte[] cipherText = Base64.getDecoder().decode(chunks[2]);\r\n\r\n    cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, new GCMParameterSpec(tag.length * 8, iv));\r\n\r\n    byte[] destination = new byte[cipherText.length + tag.length];\r\n    System.arraycopy(cipherText, 0, destination, 0, cipherText.length);\r\n    System.arraycopy(tag, 0, destination, cipherText.length, tag.length);\r\n\r\n    byte[] plainText = cipher.doFinal(destination);\r\n    System.out.println(&quot;Decrypted Text : &quot; +  new String(plainText));\r\n\r\n```","title":"Java decrypt PHP oppenssl_encrypt message. Alway get tag mismatch","body":"<p>I am trying to implement a decryption method for php openssl_encrypted text. I got the Base64 encoded iv, Base64 encoded tag and cyphertext. However, my code below always prompt <code>Exception in thread &quot;main&quot; javax.crypto.AEADBadTagException: Tag mismatch!</code> Any idea what I did wrong in the code below?</p>\n<p>PHP code</p>\n<pre><code>&lt;?php\n//$key should have been previously generated in a cryptographically safe way, like openssl_random_pseudo_bytes\n\n$key=&quot;jKtbuVSQlhfbxF0zVjZh1839DLTNSvS5&quot;;\n\n$plaintext = &quot;121&quot;;\n$cipher = &quot;aes-128-gcm&quot;;\nif (in_array($cipher, openssl_get_cipher_methods()))\n{\n    $ivlen = openssl_cipher_iv_length($cipher);\n    $iv = openssl_random_pseudo_bytes($ivlen);\n    echo &quot;iv &quot; . base64_encode($iv) . &quot;\\n&quot;;\n\n    $ciphertext = openssl_encrypt($plaintext, $cipher, $key, $options=0, $iv, $tag);\n    echo &quot;ciphertext &quot; . $ciphertext . &quot;\\n&quot;;\n    echo &quot;tag &quot; . base64_encode($tag) . &quot;\\n&quot;;\n    echo &quot;final message: &quot; .  base64_encode($iv) . &quot;:&quot; . base64_encode($tag) . &quot;:&quot; . $ciphertext . &quot;\\n&quot;;\n\n    //store $cipher, $iv, and $tag for decryption later\n    $original_plaintext = openssl_decrypt($ciphertext, $cipher, $key, $options=0, $iv, $tag);\n    echo $original_plaintext.&quot;\\n&quot;;\n}\n?&gt;\n</code></pre>\n<p>Java code</p>\n<pre><code>    String ENCRYPT_ALGO = &quot;AES/GCM/NoPadding&quot;;\n    SecretKeySpec secretKeySpec = new SecretKeySpec(&quot;jKtbuVSQlhfbxF0zVjZh1839DLTNSvS5&quot;.substring(0,16).getBytes(), &quot;AES&quot;);\n\n    //&quot;Base64 encoded iv:Base64 encoded tag:cipherText&quot;\n\n    String[] chunks = &quot;Axb5mI6ULfBrYjRC:A2Uxa8sFa8j1gK2YNZ6UTw==:PmAR&quot;.split(&quot;\\\\:&quot;);\n\n    Cipher cipher = Cipher.getInstance(ENCRYPT_ALGO);\n    byte[] iv =   Base64.getDecoder().decode(chunks[0]);\n    byte[] tag = Base64.getDecoder().decode(chunks[1]);\n    byte[] cipherText = Base64.getDecoder().decode(chunks[2]);\n\n    cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, new GCMParameterSpec(tag.length * 8, iv));\n\n    byte[] destination = new byte[cipherText.length + tag.length];\n    System.arraycopy(cipherText, 0, destination, 0, cipherText.length);\n    System.arraycopy(tag, 0, destination, cipherText.length, tag.length);\n\n    byte[] plainText = cipher.doFinal(destination);\n    System.out.println(&quot;Decrypted Text : &quot; +  new String(plainText));\n\n</code></pre>\n"},{"tags":["java","android","gradle","resources","android-productflavors"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1637184649,"post_id":70011653,"comment_id":123761675,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637185718,"creation_date":1637185718,"answer_id":70011998,"question_id":70011653,"body_markdown":"consider adding custom `resources` folders per flavor and in paid one keep only one file `strings.xml` with these two values which you want to change (under same id)\r\n\r\n    sourceSets{\r\n\r\n        main {\r\n            res.srcDirs = [&#39;res&#39;]\r\n        }\r\n        orthodoxCalendarpaid {\r\n           res.srcDirs = [&#39;res-paid&#39;]\r\n        }\r\n\r\n    }\r\n\r\nmore info how to configure this in [HERE](https://stackoverflow.com/questions/19461145/gradle-flavors-for-android-with-custom-source-sets-what-should-the-gradle-file)","title":"Not change string resource value for flavor","body":"<p>consider adding custom <code>resources</code> folders per flavor and in paid one keep only one file <code>strings.xml</code> with these two values which you want to change (under same id)</p>\n<pre><code>sourceSets{\n\n    main {\n        res.srcDirs = ['res']\n    }\n    orthodoxCalendarpaid {\n       res.srcDirs = ['res-paid']\n    }\n\n}\n</code></pre>\n<p>more info how to configure this in <a href=\"https://stackoverflow.com/questions/19461145/gradle-flavors-for-android-with-custom-source-sets-what-should-the-gradle-file\">HERE</a></p>\n"}],"owner":{"account_id":15446812,"reputation":61,"user_id":11506579,"display_name":"Aleksandr Kozlovskiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637185718,"creation_date":1637183774,"question_id":70011653,"body_markdown":"I want to change value of app_name string and other string for paid version of our app,to change app name and widget name for paid version of our app. But it not works for me. Help me please,how i can correct modify string resource value of @string/app_name and other string for paid version of our app. Thanks everybody very much for any help.\r\n\r\n```\r\n    flavorDimensions &#39;orthodoxCalendar&#39;\r\n    productFlavors {\r\n        orthodoxcalendarfree {\r\n            dimension &#39;orthodoxCalendar&#39;\r\n            applicationId &quot;oleksandr.kotyuk.orthodoxcalendarfree&quot;\r\n            versionCode defaultConfig.versionCode\r\n            versionName defaultConfig.versionName\r\n                    }\r\n        orthodoxCalendarpaid {\r\n            dimension &#39;orthodoxCalendar&#39;\r\n            applicationId &quot;oleksandr.kotyuk.orthodoxcalendarpaid&quot;\r\n            versionCode defaultConfig.versionCode\r\n            versionName defaultConfig.versionName\r\n//we want write in app_name string value of app_name_paid string. All strings defined in strings.xml file in values folder. The same we do for other string\r\n            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_paid&quot;\r\n            resValue &quot;string&quot;, &quot;app_name_fz&quot;, &quot;@string/app_name_paid_fz&quot;\r\n        }\r\n    }\r\n}\r\n```","title":"Not change string resource value for flavor","body":"<p>I want to change value of app_name string and other string for paid version of our app,to change app name and widget name for paid version of our app. But it not works for me. Help me please,how i can correct modify string resource value of @string/app_name and other string for paid version of our app. Thanks everybody very much for any help.</p>\n<pre><code>    flavorDimensions 'orthodoxCalendar'\n    productFlavors {\n        orthodoxcalendarfree {\n            dimension 'orthodoxCalendar'\n            applicationId &quot;oleksandr.kotyuk.orthodoxcalendarfree&quot;\n            versionCode defaultConfig.versionCode\n            versionName defaultConfig.versionName\n                    }\n        orthodoxCalendarpaid {\n            dimension 'orthodoxCalendar'\n            applicationId &quot;oleksandr.kotyuk.orthodoxcalendarpaid&quot;\n            versionCode defaultConfig.versionCode\n            versionName defaultConfig.versionName\n//we want write in app_name string value of app_name_paid string. All strings defined in strings.xml file in values folder. The same we do for other string\n            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_paid&quot;\n            resValue &quot;string&quot;, &quot;app_name_fz&quot;, &quot;@string/app_name_paid_fz&quot;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","hsqldb"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637177677,"creation_date":1637171940,"answer_id":70009370,"question_id":70006118,"body_markdown":"These are quite &quot;unconditional goals&quot; and I would *not* call that &quot;correctly integrated&quot;, but there you go:\r\n\r\npom.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hsqldb-runner&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;&lt;!-- as compile(!) dependency --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;!-- for the endpoints --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;!-- for simple jdbc access --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;!-- just for fun --&gt;\r\n\t\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;!-- TODO! --&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n\t&lt;/project&gt;\r\n\r\nWith friendly help of [link][1], an additional `@Component` annotation and some [Properties loading][2], we do that:\r\n    \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.stackoverflow.hsqldbrunner;\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n    import java.util.Properties;\r\n\r\n    import org.hsqldb.Server;\r\n    import org.hsqldb.persist.HsqlProperties;\r\n    import org.hsqldb.server.ServerAcl.AclFormatException;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.SmartLifecycle;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.PropertiesLoaderUtils;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class HyperSqlDbServer implements SmartLifecycle {\r\n        private final Logger logger = LoggerFactory.getLogger(HyperSqlDbServer.class);\r\n        private HsqlProperties properties;\r\n        private Server server;\r\n        private boolean running = false;\r\n\r\n        public HyperSqlDbServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource serverProps) throws IOException {\r\n            Properties props = PropertiesLoaderUtils.loadProperties(serverProps);\r\n            if (props.elements().hasMoreElements() &amp;&amp; logger.isDebugEnabled()) {\r\n                StringWriter writer = new StringWriter();\r\n                props.list(new PrintWriter(writer));\r\n                logger.debug(writer.toString());\r\n            }\r\n            properties = new HsqlProperties(props);\r\n        }\r\n\r\n        @Override\r\n        public boolean isRunning() {\r\n            if (server != null)\r\n                server.checkRunning(running);\r\n            return running;\r\n        }\r\n\r\n        @Override\r\n        public void start() {\r\n            if (server == null) {\r\n                logger.info(&quot;Starting HSQL server...&quot;);\r\n                server = new Server();\r\n                try {\r\n                    server.setProperties(properties);\r\n                    server.start();\r\n                    running = true;\r\n                } catch (AclFormatException afe) {\r\n                    logger.error(&quot;Error starting HSQL server.&quot;, afe);\r\n                } catch (IOException e) {\r\n                    logger.error(&quot;Error starting HSQL server.&quot;, e);\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void stop() {\r\n            logger.info(&quot;Stopping HSQL server...&quot;);\r\n            if (server != null) {\r\n                server.stop();\r\n                running = false;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getPhase() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public boolean isAutoStartup() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void stop(Runnable runnable) {\r\n            stop();\r\n            runnable.run();\r\n        }\r\n    }\r\n\r\nMain class/Config/Controller:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpackage com.stackoverflow.hsqldbrunner;\r\n\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\timport org.springframework.jdbc.core.JdbcTemplate;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\t@SpringBootApplication\r\n\t@RestController\r\n\tpublic class HsqldbRunnerApplication {\r\n\r\n\t\t@Autowired\r\n\t\tJdbcTemplate jdbcTemplate;\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(HsqldbRunnerApplication.class, args);\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/query&quot;)\r\n\t\tpublic List&lt;Map&lt;String, Object&gt;&gt; query(@RequestParam String sql) {\r\n\t\t\treturn jdbcTemplate.queryForList(sql);\r\n\t\t}\r\n\r\n\t\t@RequestMapping(&quot;/execute&quot;)\r\n\t\tpublic void execute(@RequestParam String sql) {\r\n\t\t\tjdbcTemplate.execute(sql);\r\n\t\t}\r\n\t}\r\n\r\n\r\nthen with this src/main/resources/hsqldb.properties (for the server):\r\n\r\n&lt;!-- language: lang-properties --&gt;\r\n\r\n\tserver.database.0=file:C:/hsqldb/demobase \r\n\tserver.dbname.0=demobase\r\n\t#server.database.n\r\n\t#server.dbname.n\t\r\n\tserver.silent=false \r\n\tserver.trace=false\r\n\tserver.daemon=false\r\n\tserver.remote_open=true\t\r\n\r\nand this src/main/resources/application.properties (for the client):\r\n\r\n&lt;!-- language: lang-properties --&gt;\r\n\r\n\tspring.datasource.url=jdbc:hsqldb:hsql://localhost/demobase\r\n\tspring.datasource.user=SA\r\n\tspring.datasource.password=\r\n\r\n..when we run:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    mvn spring-boot:run\r\n\r\nWe get:\r\n\r\n&gt;- Start HSQLDB in server mode, with file persistence (to get it back when I restart my app)\r\n\r\nsee here:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    2021-11-17 17:35:58.652  INFO 3352 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2021-11-17 17:35:58.652  INFO 3352 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 313 ms\r\n    2021-11-17 17:35:58.780  INFO 3352 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2021-11-17 17:35:58.787  INFO 3352 --- [  restartedMain] c.s.hsqldbrunner.HyperSqlDbServer        : Starting HSQL server...\r\n    [Server@71142d78]: [Thread[restartedMain,5,main]]: start() entered\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: run() entered\r\n    [Server@71142d78]: Initiating startup sequence...\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.maxdatabases=10\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.remote_open=true\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.tls=false\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.daemon=false  \r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.trace=false\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.database.0=file:C:/hsqldb/demobase \r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.restart_on_shutdown=false\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.no_system_exit=true\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.silent=false \r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.default_page=index.html\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.dbname.0=demobase\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.address=0.0.0.0\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.root=.\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openServerSocket() entered\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: Got server socket: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=9001]\r\n    [Server@71142d78]: Server socket opened successfully in 0 ms.\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openServerSocket() exiting\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openDatabases() entered\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: Opening database: [file:C:/hsqldb/demobase ]\r\n    [Server@71142d78]: Database [index=0, id=0, db=file:C:/hsqldb/demobase , alias=demobase] opened successfully in 0 ms.\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openDatabases() exiting\r\n    [Server@71142d78]: Startup sequence completed in 0 ms.\r\n    [Server@71142d78]: 2021-11-17 16:35:58.789 HSQLDB server 2.6.0 is online on port 9001\r\n    [Server@71142d78]: To close normally, connect and execute SHUTDOWN SQL\r\n    [Server@71142d78]: From command line, use [Ctrl]+[C] to abort abruptly\r\n    [Server@71142d78]: [Thread[restartedMain,5,main]]: start() exiting\r\n    2021-11-17 17:35:58.896  INFO 3352 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2021-11-17 17:35:58.900  INFO 3352 --- [  restartedMain] c.s.h.HsqldbRunnerApplication            : Started HsqldbRunnerApplication in 0.603 seconds (JVM running for 1330.867)\r\n\r\n\r\n&gt;- Expose a public API that communicates with this hsqldb instance:\r\n\r\n\r\n- `/execute`: executes (arbitrary) sql without expected result (jdbcTemplate.execute():void)\r\n- `/query`: to query (for a `List&lt;Map&lt;String, Object&gt;&gt;`)\r\n\r\ne.g. let&#39;s take this sql snippet:   \r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TABLE demo(id INT NOT NULL,title VARCHAR(50),submission_date DATE,PRIMARY KEY (id));\r\n\r\nand issue it to our browser like:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    http://localhost:8080/execute?sql=CREATE%20TABLE%20demo(id%20INT%20NOT%20NULL,title%20VARCHAR(50),submission_date%20DATE,PRIMARY%20KEY%20(id))%3B\r\n\r\nthen\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    INSERT INTO demo VALUES (1,&#39;foo&#39;,now()),(2,&#39;bar&#39;,now());\r\n\r\nto:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    http://localhost:8080/execute?sql=INSERT%20INTO%20demo%20VALUES%20(1%2C%27foo%27%2Cnow())%2C(2%2C%27bar%27%2Cnow())%3B\r\n\r\nA query:      \r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT * FROM demo;\r\n\r\nlooks like:  \r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    http://localhost:8080/query?sql=SELECT%20*%20FROM%20demo%3B\r\n\r\n   and returns:\r\n\r\n&lt;!-- language: lang-json --&gt;  \r\n        \r\n    [{&quot;ID&quot;:1,&quot;TITLE&quot;:&quot;foo&quot;,&quot;SUBMISSION_DATE&quot;:&quot;2021-11-17&quot;},{&quot;ID&quot;:2,&quot;TITLE&quot;:&quot;bar&quot;,&quot;SUBMISSION_DATE&quot;:&quot;2021-11-17&quot;}]\r\n        \r\n&gt;- Let me the possibility to connect to this hsqldb server remotely, for instance using the embedded Swing app contained into hsqldb.jar.\r\n\r\n(Remote it has to be tested, but) looks from localhost like this:\r\n\r\n   [![HSQLDB Swing Client screenshot][3]][3]\r\n\r\n.. AND we get (all) hsqldb server logging to our spring application.\r\n\r\nAll combined in [github repo][4].\r\nHave fun, enjoy &amp; DON&#39;T USE THAT in production! ;)\r\n\r\n\r\n----------\r\nmore links:\r\n\r\n- [Spring JdbcTemplate](https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#jdbc-JdbcTemplate)\r\n- [Hsqldb Server.properties](http://www.hsqldb.org/doc/guide/listeners-chapt.html)\r\n- [SmartLifecycle javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/SmartLifecycle.html)\r\n\r\n\r\n  [1]: https://ykchee.blogspot.com/2012/09/embedding-hsqldb-server-instance-in.html\r\n  [2]: https://stackoverflow.com/q/1771166/592355\r\n  [3]: https://i.stack.imgur.com/Zu5Ml.png\r\n  [4]: https://github.com/xerx593/soq70006118","title":"How to correctly integrate HSQLDB with Spring Boot?","body":"<p>These are quite &quot;unconditional goals&quot; and I would <em>not</em> call that &quot;correctly integrated&quot;, but there you go:</p>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\n    &lt;artifactId&gt;hsqldb-runner&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;&lt;!-- as compile(!) dependency --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;!-- for the endpoints --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;!-- for simple jdbc access --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;!-- just for fun --&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;!-- TODO! --&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>With friendly help of <a href=\"https://ykchee.blogspot.com/2012/09/embedding-hsqldb-server-instance-in.html\" rel=\"nofollow noreferrer\">link</a>, an additional <code>@Component</code> annotation and some <a href=\"https://stackoverflow.com/q/1771166/592355\">Properties loading</a>, we do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.hsqldbrunner;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.util.Properties;\n\nimport org.hsqldb.Server;\nimport org.hsqldb.persist.HsqlProperties;\nimport org.hsqldb.server.ServerAcl.AclFormatException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.SmartLifecycle;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PropertiesLoaderUtils;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class HyperSqlDbServer implements SmartLifecycle {\n    private final Logger logger = LoggerFactory.getLogger(HyperSqlDbServer.class);\n    private HsqlProperties properties;\n    private Server server;\n    private boolean running = false;\n\n    public HyperSqlDbServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource serverProps) throws IOException {\n        Properties props = PropertiesLoaderUtils.loadProperties(serverProps);\n        if (props.elements().hasMoreElements() &amp;&amp; logger.isDebugEnabled()) {\n            StringWriter writer = new StringWriter();\n            props.list(new PrintWriter(writer));\n            logger.debug(writer.toString());\n        }\n        properties = new HsqlProperties(props);\n    }\n\n    @Override\n    public boolean isRunning() {\n        if (server != null)\n            server.checkRunning(running);\n        return running;\n    }\n\n    @Override\n    public void start() {\n        if (server == null) {\n            logger.info(&quot;Starting HSQL server...&quot;);\n            server = new Server();\n            try {\n                server.setProperties(properties);\n                server.start();\n                running = true;\n            } catch (AclFormatException afe) {\n                logger.error(&quot;Error starting HSQL server.&quot;, afe);\n            } catch (IOException e) {\n                logger.error(&quot;Error starting HSQL server.&quot;, e);\n            }\n        }\n    }\n\n    @Override\n    public void stop() {\n        logger.info(&quot;Stopping HSQL server...&quot;);\n        if (server != null) {\n            server.stop();\n            running = false;\n        }\n    }\n\n    @Override\n    public int getPhase() {\n        return 0;\n    }\n\n    @Override\n    public boolean isAutoStartup() {\n        return true;\n    }\n\n    @Override\n    public void stop(Runnable runnable) {\n        stop();\n        runnable.run();\n    }\n}\n</code></pre>\n<p>Main class/Config/Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.hsqldbrunner;\n\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class HsqldbRunnerApplication {\n\n    @Autowired\n    JdbcTemplate jdbcTemplate;\n\n    public static void main(String[] args) {\n        SpringApplication.run(HsqldbRunnerApplication.class, args);\n    }\n\n    @GetMapping(&quot;/query&quot;)\n    public List&lt;Map&lt;String, Object&gt;&gt; query(@RequestParam String sql) {\n        return jdbcTemplate.queryForList(sql);\n    }\n\n    @RequestMapping(&quot;/execute&quot;)\n    public void execute(@RequestParam String sql) {\n        jdbcTemplate.execute(sql);\n    }\n}\n</code></pre>\n<p>then with this src/main/resources/hsqldb.properties (for the server):</p>\n<pre class=\"lang-properties prettyprint-override\"><code>server.database.0=file:C:/hsqldb/demobase \nserver.dbname.0=demobase\n#server.database.n\n#server.dbname.n    \nserver.silent=false \nserver.trace=false\nserver.daemon=false\nserver.remote_open=true \n</code></pre>\n<p>and this src/main/resources/application.properties (for the client):</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.datasource.url=jdbc:hsqldb:hsql://localhost/demobase\nspring.datasource.user=SA\nspring.datasource.password=\n</code></pre>\n<p>..when we run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n<p>We get:</p>\n<blockquote>\n<ul>\n<li>Start HSQLDB in server mode, with file persistence (to get it back when I restart my app)</li>\n</ul>\n</blockquote>\n<p>see here:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2021-11-17 17:35:58.652  INFO 3352 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-11-17 17:35:58.652  INFO 3352 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 313 ms\n2021-11-17 17:35:58.780  INFO 3352 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2021-11-17 17:35:58.787  INFO 3352 --- [  restartedMain] c.s.hsqldbrunner.HyperSqlDbServer        : Starting HSQL server...\n[Server@71142d78]: [Thread[restartedMain,5,main]]: start() entered\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: run() entered\n[Server@71142d78]: Initiating startup sequence...\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.maxdatabases=10\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.remote_open=true\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.tls=false\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.daemon=false  \n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.trace=false\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.database.0=file:C:/hsqldb/demobase \n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.restart_on_shutdown=false\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.no_system_exit=true\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.silent=false \n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.default_page=index.html\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.dbname.0=demobase\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.address=0.0.0.0\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.root=.\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openServerSocket() entered\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: Got server socket: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=9001]\n[Server@71142d78]: Server socket opened successfully in 0 ms.\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openServerSocket() exiting\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openDatabases() entered\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: Opening database: [file:C:/hsqldb/demobase ]\n[Server@71142d78]: Database [index=0, id=0, db=file:C:/hsqldb/demobase , alias=demobase] opened successfully in 0 ms.\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openDatabases() exiting\n[Server@71142d78]: Startup sequence completed in 0 ms.\n[Server@71142d78]: 2021-11-17 16:35:58.789 HSQLDB server 2.6.0 is online on port 9001\n[Server@71142d78]: To close normally, connect and execute SHUTDOWN SQL\n[Server@71142d78]: From command line, use [Ctrl]+[C] to abort abruptly\n[Server@71142d78]: [Thread[restartedMain,5,main]]: start() exiting\n2021-11-17 17:35:58.896  INFO 3352 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-11-17 17:35:58.900  INFO 3352 --- [  restartedMain] c.s.h.HsqldbRunnerApplication            : Started HsqldbRunnerApplication in 0.603 seconds (JVM running for 1330.867)\n</code></pre>\n<blockquote>\n<ul>\n<li>Expose a public API that communicates with this hsqldb instance:</li>\n</ul>\n</blockquote>\n<ul>\n<li><code>/execute</code>: executes (arbitrary) sql without expected result (jdbcTemplate.execute():void)</li>\n<li><code>/query</code>: to query (for a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>)</li>\n</ul>\n<p>e.g. let's take this sql snippet:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE demo(id INT NOT NULL,title VARCHAR(50),submission_date DATE,PRIMARY KEY (id));\n</code></pre>\n<p>and issue it to our browser like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8080/execute?sql=CREATE%20TABLE%20demo(id%20INT%20NOT%20NULL,title%20VARCHAR(50),submission_date%20DATE,PRIMARY%20KEY%20(id))%3B\n</code></pre>\n<p>then</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO demo VALUES (1,'foo',now()),(2,'bar',now());\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8080/execute?sql=INSERT%20INTO%20demo%20VALUES%20(1%2C%27foo%27%2Cnow())%2C(2%2C%27bar%27%2Cnow())%3B\n</code></pre>\n<p>A query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM demo;\n</code></pre>\n<p>looks like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8080/query?sql=SELECT%20*%20FROM%20demo%3B\n</code></pre>\n<p>and returns:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;ID&quot;:1,&quot;TITLE&quot;:&quot;foo&quot;,&quot;SUBMISSION_DATE&quot;:&quot;2021-11-17&quot;},{&quot;ID&quot;:2,&quot;TITLE&quot;:&quot;bar&quot;,&quot;SUBMISSION_DATE&quot;:&quot;2021-11-17&quot;}]\n    \n</code></pre>\n<blockquote>\n<ul>\n<li>Let me the possibility to connect to this hsqldb server remotely, for instance using the embedded Swing app contained into hsqldb.jar.</li>\n</ul>\n</blockquote>\n<p>(Remote it has to be tested, but) looks from localhost like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Zu5Ml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zu5Ml.png\" alt=\"HSQLDB Swing Client screenshot\" /></a></p>\n<p>.. AND we get (all) hsqldb server logging to our spring application.</p>\n<p>All combined in <a href=\"https://github.com/xerx593/soq70006118\" rel=\"nofollow noreferrer\">github repo</a>.\nHave fun, enjoy &amp; DON'T USE THAT in production! ;)</p>\n<hr />\n<p>more links:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#jdbc-JdbcTemplate\" rel=\"nofollow noreferrer\">Spring JdbcTemplate</a></li>\n<li><a href=\"http://www.hsqldb.org/doc/guide/listeners-chapt.html\" rel=\"nofollow noreferrer\">Hsqldb Server.properties</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/SmartLifecycle.html\" rel=\"nofollow noreferrer\">SmartLifecycle javadoc</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637185684,"creation_date":1637185210,"answer_id":70011910,"question_id":70006118,"body_markdown":"Even replacing the [above][1] server component with this:\r\n    \r\n\t@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n\tpublic Server hsqlServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource props) throws IOException, AclFormatException {\r\n\t\tServer bean = new org.hsqldb.server.Server();\r\n\t\tbean.setProperties(PropertiesLoaderUtils.loadProperties(props));\r\n\t\treturn bean;\r\n\t}\r\n\r\n,which is analogous to [this xml configuration](https://stackoverflow.com/a/40190090/592355), shows NO ISSUES (works like charm).\r\n\r\nBUT, adding this dependency:\r\n  \r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**breaks everything**! (Context doesn&#39;t load with:)\r\n\r\n    Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\r\nAs soon &quot;fixing&quot; this:\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.HSQLDialect\r\n\r\n\r\nWe get Exception:\r\n\r\n    ...Caused by: java.net.ConnectException: Connection refused: connect\r\n\r\n..somewhere in HikariPool....\r\n\r\n\r\n----------\r\n\r\n\r\nSolution/Workaround:\r\n\r\n\r\n\timport java.io.IOException;\r\n\timport javax.sql.DataSource;\r\n\timport org.hsqldb.server.Server;\r\n\timport org.hsqldb.server.ServerAcl.AclFormatException;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.beans.factory.annotation.Value;\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\timport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n\timport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\timport org.springframework.boot.jdbc.DataSourceBuilder;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.DependsOn;\r\n\timport org.springframework.core.io.Resource;\r\n\timport org.springframework.core.io.support.PropertiesLoaderUtils;\r\n\r\n\t@SpringBootApplication\r\n\t@EnableConfigurationProperties\r\n\tpublic class HsqldbRunnerApplication {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(HsqldbRunnerApplication.class, args);\r\n\t\t}\r\n\r\n\t\t@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n\t\tpublic Server hsqlServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource props) throws IOException, AclFormatException {\r\n\t\t\tServer bean = new Server();\r\n\t\t\tbean.setProperties(PropertiesLoaderUtils.loadProperties(props));\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\t@DependsOn(&quot;hsqlServer&quot;) // This is important!!\r\n\t\tpublic DataSource getDataSource(\r\n\t\t\t\t@Autowired DataSourceProperties dsProps) {\r\n\t\t\tDataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n\t\t\tdataSourceBuilder.driverClassName(dsProps.getDriverClassName());\r\n\t\t\tdataSourceBuilder.url(dsProps.getUrl());\r\n\t\t\tdataSourceBuilder.username(dsProps.getUsername());\r\n\t\t\tdataSourceBuilder.password(dsProps.getPassword());\r\n\t\t\treturn dataSourceBuilder.build();\r\n\t\t}\r\n\r\n\t}\r\n\r\nSo, we need to:\r\n\r\n- define our own data source bean, and depend that (make it wait) on our &quot;hsqlServer&quot;.\r\n\r\n- move Controller to new class(es) (which is not bad, and was only in place for &quot;brevity&quot;), otherwise we get circular dependencies/unset datasources.\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70009370/592355","title":"How to correctly integrate HSQLDB with Spring Boot?","body":"<p>Even replacing the <a href=\"https://stackoverflow.com/a/70009370/592355\">above</a> server component with this:</p>\n<pre><code>@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\npublic Server hsqlServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource props) throws IOException, AclFormatException {\n    Server bean = new org.hsqldb.server.Server();\n    bean.setProperties(PropertiesLoaderUtils.loadProperties(props));\n    return bean;\n}\n</code></pre>\n<p>,which is analogous to <a href=\"https://stackoverflow.com/a/40190090/592355\">this xml configuration</a>, shows NO ISSUES (works like charm).</p>\n<p>BUT, adding this dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>breaks everything</strong>! (Context doesn't load with:)</p>\n<pre><code>Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n</code></pre>\n<p>As soon &quot;fixing&quot; this:</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.HSQLDialect\n</code></pre>\n<p>We get Exception:</p>\n<pre><code>...Caused by: java.net.ConnectException: Connection refused: connect\n</code></pre>\n<p>..somewhere in HikariPool....</p>\n<hr />\n<p>Solution/Workaround:</p>\n<pre><code>import java.io.IOException;\nimport javax.sql.DataSource;\nimport org.hsqldb.server.Server;\nimport org.hsqldb.server.ServerAcl.AclFormatException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.DependsOn;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PropertiesLoaderUtils;\n\n@SpringBootApplication\n@EnableConfigurationProperties\npublic class HsqldbRunnerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HsqldbRunnerApplication.class, args);\n    }\n\n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\n    public Server hsqlServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource props) throws IOException, AclFormatException {\n        Server bean = new Server();\n        bean.setProperties(PropertiesLoaderUtils.loadProperties(props));\n        return bean;\n    }\n\n    @Bean\n    @DependsOn(&quot;hsqlServer&quot;) // This is important!!\n    public DataSource getDataSource(\n            @Autowired DataSourceProperties dsProps) {\n        DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n        dataSourceBuilder.driverClassName(dsProps.getDriverClassName());\n        dataSourceBuilder.url(dsProps.getUrl());\n        dataSourceBuilder.username(dsProps.getUsername());\n        dataSourceBuilder.password(dsProps.getPassword());\n        return dataSourceBuilder.build();\n    }\n\n}\n</code></pre>\n<p>So, we need to:</p>\n<ul>\n<li><p>define our own data source bean, and depend that (make it wait) on our &quot;hsqlServer&quot;.</p>\n</li>\n<li><p>move Controller to new class(es) (which is not bad, and was only in place for &quot;brevity&quot;), otherwise we get circular dependencies/unset datasources.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6324,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70011910,"answer_count":2,"score":3,"last_activity_date":1637185684,"creation_date":1637159053,"question_id":70006118,"body_markdown":"I saw this post : https://stackoverflow.com/questions/40114231/how-to-start-hsqldb-in-server-mode-from-spring-boot-application but can&#39;t manage to get it working.\r\n\r\nMy goal is to build a Spring boot app that\r\n\r\n - Start HSQLDB in server mode, with file persistance (to get it back when I restart my app)\r\n - Expose a public API that communicates with this hsqldb instance\r\n - Let me the possibility to connect to this hsqldb server remotely, for instance using the embedded Swing app contained into hsqldb.jar.\r\n\r\nSo I tried to reproduce the marked answer of the quoted post:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    &lt;bean id=&quot;hqlServer&quot; class=&quot;org.hsqldb.server.Server&quot; init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;\r\n        &lt;property name=&quot;properties&quot;&gt;&lt;bean class=&quot;org.hsqldb.persist.HsqlProperties&quot;&gt;\r\n            &lt;constructor-arg&gt;&lt;props&gt;\r\n            &lt;prop key=&quot;server.database.0&quot;&gt;file:/tmp/mydb.db&lt;/prop&gt;\r\n            &lt;prop key=&quot;server.dbname.0&quot;&gt;mydb&lt;/prop&gt;&lt;!--DB name for network connection--&gt;\r\n            &lt;prop key=&quot;server.no_system_exit&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;server.port&quot;&gt;9001&lt;/prop&gt;&lt;!--default port is 9001 --&gt;\r\n            &lt;prop key=&quot;server.remote_open&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;&lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nI understand I next could be able to connect to `jdbc:hsqldb:hsql://localhost:9001/mydb`, right?\r\n\r\nWell, I specified all the parameters into my application.yml\r\n\r\n    spring:\r\n      profiles:\r\n        active: dev\r\n      datasource:\r\n        driver-class-name: org.hsqldb.jdbc.JDBCDriver \r\n        url: jdbc:hsqldb:hsql://localhost:9001/mydb\r\n        username: sa\r\n        password: \r\n      jpa:\r\n        database-platform: org.hibernate.dialect.HSQLDialect\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: update \r\n\r\nand finally, developed the App part (Controller, Services and JPA layer).\r\n\r\nI also included the xml part into the App\r\n\r\n    @SpringBootApplication\r\n    @ImportResource(value=&quot;classpath:/hsql_cfg.xml&quot;)\r\n    public class MyApp {\r\n    ...\r\n    }\r\n\r\nBut, obviously, it doesn&#39;t work and gives me the following error:\r\n\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n    [32m :: Spring Boot :: [39m      [2m (v2.2.2.RELEASE)[0;39m\r\n    \r\n    [2m2021-11-17 15:19:56.295[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mtest.MyApp                              [0;39m [2m:[0;39m Starting MyApp on iMac.local with PID 47627 (/Users/ludovic/workspace/test-hsqldb/target/classes started by ludovic in /Users/ludovic/workspace/test-hsqldb)\r\n    [2m2021-11-17 15:19:56.298[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mtest.MyApp                              [0;39m [2m:[0;39m The following profiles are active: dev\r\n    [2m2021-11-17 15:19:56.709[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    [2m2021-11-17 15:19:56.724[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 8ms. Found 0 JPA repository interfaces.\r\n    [2m2021-11-17 15:19:57.009[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    [2m2021-11-17 15:19:57.057[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate Core {5.4.9.Final}\r\n    [2m2021-11-17 15:19:57.166[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    [2m2021-11-17 15:19:57.241[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\r\n    [2m2021-11-17 15:19:57.285[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\r\n    \r\n    java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    Caused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 2 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\r\n    \tat org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 5 common frames omitted\r\n    \r\n    [2m2021-11-17 15:19:57.286[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.e.j.e.i.JdbcEnvironmentInitiator    [0;39m [2m:[0;39m HHH000342: Could not obtain connection to query metadata : java.net.ConnectException: Connection refused (Connection refused)\r\n    [2m2021-11-17 15:19:57.296[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect\r\n    [2m2021-11-17 15:19:57.439[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\r\n    [2m2021-11-17 15:19:57.441[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\r\n    \r\n    java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    Caused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 2 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\r\n    \tat org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 5 common frames omitted\r\n    \r\n    [2m2021-11-17 15:19:57.442[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: -1301, SQLState: 08001\r\n    [2m2021-11-17 15:19:57.442[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m java.net.ConnectException: Connection refused (Connection refused)\r\n    [2m2021-11-17 15:19:57.445[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36ms.c.a.AnnotationConfigApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n    [2m2021-11-17 15:19:57.450[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    [2m2021-11-17 15:19:57.452[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat test.MyApp.main(MyApp.java:11) [classes/:na]\r\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:403) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \t... 15 common frames omitted\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:40) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:65) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:59) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:155) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:96) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:320) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \t... 19 common frames omitted\r\n    Caused by: java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    Caused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 2 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\r\n    \tat org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 5 common frames omitted\r\n\r\nI&#39;m starting thinking that my app is trying to connect before server is started, is it possible? \r\nis there a way to tell to Spring to firstly start the server and then, make its magic?\r\n\r\nThanks\r\n\r\n","title":"How to correctly integrate HSQLDB with Spring Boot?","body":"<p>I saw this post : <a href=\"https://stackoverflow.com/questions/40114231/how-to-start-hsqldb-in-server-mode-from-spring-boot-application\">How to start HSQLDB in server mode from Spring boot application</a> but can't manage to get it working.</p>\n<p>My goal is to build a Spring boot app that</p>\n<ul>\n<li>Start HSQLDB in server mode, with file persistance (to get it back when I restart my app)</li>\n<li>Expose a public API that communicates with this hsqldb instance</li>\n<li>Let me the possibility to connect to this hsqldb server remotely, for instance using the embedded Swing app contained into hsqldb.jar.</li>\n</ul>\n<p>So I tried to reproduce the marked answer of the quoted post:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n&lt;bean id=&quot;hqlServer&quot; class=&quot;org.hsqldb.server.Server&quot; init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;\n    &lt;property name=&quot;properties&quot;&gt;&lt;bean class=&quot;org.hsqldb.persist.HsqlProperties&quot;&gt;\n        &lt;constructor-arg&gt;&lt;props&gt;\n        &lt;prop key=&quot;server.database.0&quot;&gt;file:/tmp/mydb.db&lt;/prop&gt;\n        &lt;prop key=&quot;server.dbname.0&quot;&gt;mydb&lt;/prop&gt;&lt;!--DB name for network connection--&gt;\n        &lt;prop key=&quot;server.no_system_exit&quot;&gt;true&lt;/prop&gt;\n        &lt;prop key=&quot;server.port&quot;&gt;9001&lt;/prop&gt;&lt;!--default port is 9001 --&gt;\n        &lt;prop key=&quot;server.remote_open&quot;&gt;true&lt;/prop&gt;\n        &lt;/props&gt;&lt;/constructor-arg&gt;\n    &lt;/bean&gt;&lt;/property&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I understand I next could be able to connect to <code>jdbc:hsqldb:hsql://localhost:9001/mydb</code>, right?</p>\n<p>Well, I specified all the parameters into my application.yml</p>\n<pre><code>spring:\n  profiles:\n    active: dev\n  datasource:\n    driver-class-name: org.hsqldb.jdbc.JDBCDriver \n    url: jdbc:hsqldb:hsql://localhost:9001/mydb\n    username: sa\n    password: \n  jpa:\n    database-platform: org.hibernate.dialect.HSQLDialect\n    show-sql: true\n    hibernate:\n      ddl-auto: update \n</code></pre>\n<p>and finally, developed the App part (Controller, Services and JPA layer).</p>\n<p>I also included the xml part into the App</p>\n<pre><code>@SpringBootApplication\n@ImportResource(value=&quot;classpath:/hsql_cfg.xml&quot;)\npublic class MyApp {\n...\n}\n</code></pre>\n<p>But, obviously, it doesn't work and gives me the following error:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m      [2m (v2.2.2.RELEASE)[0;39m\n\n[2m2021-11-17 15:19:56.295[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mtest.MyApp                              [0;39m [2m:[0;39m Starting MyApp on iMac.local with PID 47627 (/Users/ludovic/workspace/test-hsqldb/target/classes started by ludovic in /Users/ludovic/workspace/test-hsqldb)\n[2m2021-11-17 15:19:56.298[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mtest.MyApp                              [0;39m [2m:[0;39m The following profiles are active: dev\n[2m2021-11-17 15:19:56.709[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n[2m2021-11-17 15:19:56.724[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 8ms. Found 0 JPA repository interfaces.\n[2m2021-11-17 15:19:57.009[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\n[2m2021-11-17 15:19:57.057[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate Core {5.4.9.Final}\n[2m2021-11-17 15:19:57.166[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n[2m2021-11-17 15:19:57.241[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\n[2m2021-11-17 15:19:57.285[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\nCaused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 2 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\n    at org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 5 common frames omitted\n\n[2m2021-11-17 15:19:57.286[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.e.j.e.i.JdbcEnvironmentInitiator    [0;39m [2m:[0;39m HHH000342: Could not obtain connection to query metadata : java.net.ConnectException: Connection refused (Connection refused)\n[2m2021-11-17 15:19:57.296[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect\n[2m2021-11-17 15:19:57.439[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\n[2m2021-11-17 15:19:57.441[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\nCaused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 2 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\n    at org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 5 common frames omitted\n\n[2m2021-11-17 15:19:57.442[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: -1301, SQLState: 08001\n[2m2021-11-17 15:19:57.442[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m java.net.ConnectException: Connection refused (Connection refused)\n[2m2021-11-17 15:19:57.445[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36ms.c.a.AnnotationConfigApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n[2m2021-11-17 15:19:57.450[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2021-11-17 15:19:57.452[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at test.MyApp.main(MyApp.java:11) [classes/:na]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:403) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    ... 15 common frames omitted\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:40) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:65) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:59) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:155) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:96) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:320) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    ... 19 common frames omitted\nCaused by: java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\nCaused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 2 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\n    at org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 5 common frames omitted\n</code></pre>\n<p>I'm starting thinking that my app is trying to connect before server is started, is it possible?\nis there a way to tell to Spring to firstly start the server and then, make its magic?</p>\n<p>Thanks</p>\n"},{"tags":["java","jquery","ajax","spring-boot","rest"],"comments":[{"owner":{"account_id":2162278,"reputation":717,"user_id":1916171,"accept_rate":48,"display_name":"Sami"},"score":0,"creation_date":1637232107,"post_id":69992778,"comment_id":123773282,"body_markdown":"Is there any JS error in your browser console ?","body":"Is there any JS error in your browser console ?"}],"answers":[{"tags":[],"owner":{"account_id":18625690,"reputation":5,"user_id":17376628,"display_name":"1i10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637150967,"creation_date":1637150967,"answer_id":70004147,"question_id":69992778,"body_markdown":"Eh, the problem was painfully commonplace. Incorrect project structure.\r\nThe application file was in another package, and it should be above all as shown here.\r\n[omg][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mvLJy.png","title":"How to display a table with content from a database on a page? rest ajax spring boot application","body":"<p>Eh, the problem was painfully commonplace. Incorrect project structure.\nThe application file was in another package, and it should be above all as shown here.\n<a href=\"https://i.stack.imgur.com/mvLJy.png\" rel=\"nofollow noreferrer\">omg</a></p>\n"}],"owner":{"account_id":18625690,"reputation":5,"user_id":17376628,"display_name":"1i10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70004147,"answer_count":1,"score":0,"last_activity_date":1637185589,"creation_date":1637079979,"question_id":69992778,"body_markdown":"\r\nindex.html\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Cars Selling&lt;/title&gt;\r\n\r\n&lt;script\r\n\tsrc=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;listCarsSelling.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h2&gt;Cars Selling List&lt;/h2&gt;\r\n\r\n\t&lt;table id=&quot;table-content&quot;&gt;\r\n\t\t&lt;thead&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;code&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;manufacturer&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;model&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;color&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;transmission&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;body_type&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;price&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/thead&gt;\r\n\t&lt;/table&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nlistCarsSelling.js\r\n```javascript\r\n$(document).ready(function(){\r\n\t$.ajax(\r\n\t\t{\r\n\t\t\ttype: &quot;GET&quot;,\r\n\t\t\turl: &quot;http://localhost:8080/ListCarsSelling&quot;,\r\n\t\t\tcontentType: &quot;application/json; charset=utf-8&quot;,\r\n\t\t\tdataType: &quot;json&quot;,\r\n\t\t\tcache: false,\r\n\t\t\tsuccess: function(data){\r\n\t\t\t\t\r\n\t\t\t\tfor (var i=0; i&lt;data.length; i++) {\r\n           \t\t\t var row = $(&#39;&lt;tr&gt;&lt;td&gt;&#39; + data[i].code + &#39;&lt;/td&gt;&lt;td&gt;&#39; + data[i].manufacturer\r\n\t\t\t\t\t + &#39;&lt;/td&gt;&lt;td&gt;&#39; + data[i].model + &#39;&lt;/td&gt;&lt;td&gt;&#39; + data[i].color + &#39;&lt;/td&gt;&lt;td&gt;&#39;\r\n\t\t\t\t+ data[i].transmission + &#39;&lt;/td&gt;&lt;td&gt;&#39; + data[i].body_type + &#39;&lt;/td&gt;&lt;td&gt;&#39; \r\n\t\t\t\t+ data[i].price + &#39;&lt;/td&gt;&lt;/tr&gt;&#39;);\r\n\t\t\t\t\r\n\t\t\t\t\t$(&#39;#table-content&#39;).append(row);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\terror: function(msg){\r\n\t\t\t\tallert(msg.responseText);\r\n\t\t\t}\r\n\t\t});\r\n})\r\n```\r\nphoto with error &#39;404&#39; for reference on the link &#39;http://localhost:8080/&#39;:\r\n[enter image description here][1]\r\n\r\n--------------------\r\nI want the data from my database to be displayed immediately when I go to the main page. How can i do this?\r\nI also want to point out that I have no problems connecting to the database, since while developing rest i was able to extract json data. I just now need to display them somehow..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FVBVd.png","title":"How to display a table with content from a database on a page? rest ajax spring boot application","body":"<p>index.html</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Cars Selling&lt;/title&gt;\n\n&lt;script\n    src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;listCarsSelling.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h2&gt;Cars Selling List&lt;/h2&gt;\n\n    &lt;table id=&quot;table-content&quot;&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;td&gt;code&lt;/td&gt;\n                &lt;td&gt;manufacturer&lt;/td&gt;\n                &lt;td&gt;model&lt;/td&gt;\n                &lt;td&gt;color&lt;/td&gt;\n                &lt;td&gt;transmission&lt;/td&gt;\n                &lt;td&gt;body_type&lt;/td&gt;\n                &lt;td&gt;price&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n    &lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>listCarsSelling.js</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(document).ready(function(){\n    $.ajax(\n        {\n            type: &quot;GET&quot;,\n            url: &quot;http://localhost:8080/ListCarsSelling&quot;,\n            contentType: &quot;application/json; charset=utf-8&quot;,\n            dataType: &quot;json&quot;,\n            cache: false,\n            success: function(data){\n                \n                for (var i=0; i&lt;data.length; i++) {\n                     var row = $('&lt;tr&gt;&lt;td&gt;' + data[i].code + '&lt;/td&gt;&lt;td&gt;' + data[i].manufacturer\n                     + '&lt;/td&gt;&lt;td&gt;' + data[i].model + '&lt;/td&gt;&lt;td&gt;' + data[i].color + '&lt;/td&gt;&lt;td&gt;'\n                + data[i].transmission + '&lt;/td&gt;&lt;td&gt;' + data[i].body_type + '&lt;/td&gt;&lt;td&gt;' \n                + data[i].price + '&lt;/td&gt;&lt;/tr&gt;');\n                \n                    $('#table-content').append(row);\n                }\n            },\n            \n            error: function(msg){\n                allert(msg.responseText);\n            }\n        });\n})\n</code></pre>\n<p>photo with error '404' for reference on the link 'http://localhost:8080/':\n<a href=\"https://i.stack.imgur.com/FVBVd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>I want the data from my database to be displayed immediately when I go to the main page. How can i do this?\nI also want to point out that I have no problems connecting to the database, since while developing rest i was able to extract json data. I just now need to display them somehow..</p>\n"},{"tags":["java","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1637181840,"post_id":70011162,"comment_id":123760817,"body_markdown":"Spring doesn&#39;t &quot;look&quot; for any Kafka or serializer properties; it just supplies them to the Kafka clients from the properties. You don&#39;t show a `KafkaTemplate` anywhere in the above configuration, so it&#39;s not clear what you are talking about.","body":"Spring doesn&#39;t &quot;look&quot; for any Kafka or serializer properties; it just supplies them to the Kafka clients from the properties. You don&#39;t show a <code>KafkaTemplate</code> anywhere in the above configuration, so it&#39;s not clear what you are talking about."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1637182002,"post_id":70011162,"comment_id":123760868,"body_markdown":"Please, show the whole stack trace. I fully might be related to your `CustomKafkaAvroDeserializer`, not `spring-kafka`...","body":"Please, show the whole stack trace. I fully might be related to your <code>CustomKafkaAvroDeserializer</code>, not <code>spring-kafka</code>..."},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1637182588,"post_id":70011162,"comment_id":123761036,"body_markdown":"@GaryRussell I add producer to topic","body":"@GaryRussell I add producer to topic"},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1637182691,"post_id":70011162,"comment_id":123761071,"body_markdown":"@ArtemBilan add stack trace","body":"@ArtemBilan add stack trace"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1637183821,"post_id":70011162,"comment_id":123761428,"body_markdown":"I guess your `PointProducer` is used when `/orders/7000000/sendToKafka` is done. Please, show your YAML for `spring.kafka` configuration.","body":"I guess your <code>PointProducer</code> is used when <code>&#47;orders&#47;7000000&#47;sendToKafka</code> is done. Please, show your YAML for <code>spring.kafka</code> configuration."},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1637185183,"post_id":70011162,"comment_id":123761869,"body_markdown":"@ArtemBilan add config","body":"@ArtemBilan add config"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1637185567,"post_id":70011162,"comment_id":123762015,"body_markdown":"See my answer...","body":"See my answer..."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637185491,"creation_date":1637185491,"answer_id":70011954,"question_id":70011162,"body_markdown":"The problem is here:\r\n\r\nspring:\r\n  kafka:\r\n    schema-registry-url: http://localhost:8081\r\n\r\nThere is no such a property managed by Spring Boot.\r\nMore over this `schema-registry-url` doesn&#39;t fit to that `schema.registry.url`.\r\n\r\nYou have to consider to change it into this:\r\n\r\n    spring:\r\n      kafka:\r\n        producer:\r\n          properties:\r\n            &quot;schema.registry.url&quot;: http://localhost:8081\r\n\r\nSee docs for more info: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.messaging.kafka.additional-properties","title":"How to test EmbeddedKafka with SpringBoot","body":"<p>The problem is here:</p>\n<p>spring:\nkafka:\nschema-registry-url: http://localhost:8081</p>\n<p>There is no such a property managed by Spring Boot.\nMore over this <code>schema-registry-url</code> doesn't fit to that <code>schema.registry.url</code>.</p>\n<p>You have to consider to change it into this:</p>\n<pre><code>spring:\n  kafka:\n    producer:\n      properties:\n        &quot;schema.registry.url&quot;: http://localhost:8081\n</code></pre>\n<p>See docs for more info: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.messaging.kafka.additional-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.messaging.kafka.additional-properties</a></p>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70011954,"answer_count":1,"score":0,"last_activity_date":1637185491,"creation_date":1637181139,"question_id":70011162,"body_markdown":"I met problem with testing Kafka Producer after change custom Producer to KafkaTemplate.\r\n\r\nFor tests reason I wrote next class:\r\n\r\n    public class KafkaTestingTools {\r\n    \r\n        static private Map&lt;String, Consumer&lt;Long, GenericData.Record&gt;&gt; consumers = new HashMap&lt;&gt;();\r\n    \r\n        static public void sendMessage (String topic, String key, Object message, Schema schema) throws InterruptedException{\r\n    \t\tProperties properties = new Properties();\r\n            properties.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n            properties.put(&quot;bootstrap.servers&quot;, &quot;http://localhost:9092&quot;);\r\n            properties.put(&quot;acks&quot;, &quot;all&quot;);\r\n            properties.put(&quot;retries&quot;, 0);\r\n            properties.put(&quot;linger.ms&quot;, 1);\r\n            properties.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            properties.put(&quot;value.serializer&quot;, &quot;com.logistics.mock.CustomKafkaAvroSerializer&quot;);\r\n            KafkaProducer&lt;String, Object&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n    \r\n    \t\tCustomKafkaAvroDeserializer.setTopicScheme(topic, schema);\r\n    \r\n            ProducerRecord&lt;String, Object&gt; record = new ProducerRecord&lt;&gt;(topic, key, message);\r\n            producer.send(record);\r\n            producer.close();\r\n    \t}\r\n    \r\n        static public void registerConsumerContainer(EmbeddedKafkaBroker embeddedKafka, String topic, Schema schema) throws InterruptedException{\r\n            Map&lt;String, Object&gt; consumerProps = KafkaTestUtils.consumerProps(&quot;testGroup&quot; + UUID.randomUUID().toString(), &quot;true&quot;, embeddedKafka);\r\n            consumerProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n            consumerProps.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n            consumerProps.put(&quot;value.deserializer&quot;, &quot;com.logistics.mock.CustomKafkaAvroDeserializer&quot;);\r\n            consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n            ConsumerFactory&lt;Long, GenericData.Record&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps);\r\n            Consumer&lt;Long, GenericData.Record&gt; consumer = cf.createConsumer();\r\n            consumers.put(topic, consumer);\r\n    \r\n            embeddedKafka.consumeFromAnEmbeddedTopic(consumer, topic);\r\n    \r\n            CustomKafkaAvroDeserializer.setTopicScheme(topic, schema);\r\n        }\r\n    \r\n        static public Object getSingleRecordFromRegisteredContainer(EmbeddedKafkaBroker embeddedKafka, String topic){\r\n            return SpecificData.get().deepCopy(\r\n                CustomKafkaAvroDeserializer.getTopicScheme(topic),\r\n                KafkaTestUtils.getSingleRecord(consumers.get(topic), topic).value()\r\n            );\r\n        }\r\n        \r\n    }\r\nProducer example:\r\n\r\n    @Service\r\n    @CommonsLog\r\n    public class PointProducer {\r\n    \r\n        private final KafkaTemplate&lt;String, ExportMessage&gt; kafkaTemplate;\r\n        private final String topic;\r\n    \r\n        @Autowired\r\n        public PointProducer(@Value(&quot;${kafka.producer.points}&quot;) String topic,\r\n                KafkaTemplate&lt;String, ExportMessage&gt; kafkaTemplate) {\r\n            this.topic = topic;\r\n            this.kafkaTemplate = kafkaTemplate;\r\n        }\r\n    \r\n        public void produce(Point point) {\r\n            var message = new ExportMessage();\r\n            message.setId(point.getId());\r\n            log.warn(&quot;produce point: &quot; + message.toString());\r\n            kafkaTemplate.send(topic, point.getId().toString(), message);\r\n            kafkaTemplate.flush();\r\n        }\r\n\r\nkafka config\r\n\r\n    spring:\r\n      kafka:\r\n        bootstrap-servers: ${spring.embedded.kafka.brokers}\r\n        consumer:\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          point-deserializer: com.logistics.mock.CustomKafkaAvroDeserializer\r\n          auto-offset-reset: latest\r\n          group-id: credit_file_test\r\n        producer:\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          value-serializer: com.logistics.mock.CustomKafkaAvroSerializer\r\n        schema-registry-url: http://localhost:8081\r\n    \r\n    kafka.consumer.points: points_export\r\n    kafka.producer.files: common.file\r\n    kafka.producer.orders: common.order\r\n    kafka.producer.points: common.point\r\n\r\nAnd tests looks like:\r\n\r\n    @SpringBootTest\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    @EmbeddedKafka(partitions = 1, topics = { &quot;topic1&quot;, &quot;topic2&quot; }, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\r\n    class ApplicationLogisticOrderTest {\r\n    @Test\r\n        @Order(1)\r\n        @WithMockUser(roles = &quot;ADMIN&quot;)\r\n        void checkSendToKafka() throws Exception {\r\n            KafkaTestingTools.registerConsumerContainer(this.embeddedKafka, TOPIC1, Message.SCHEMA$);\r\n            Thread.sleep(3000);\r\n            prepareCustomizedLogisticOrder(t -&gt; {\r\n            });\r\n            var mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n            mockMvc.perform(MockMvcRequestBuilders.put(&quot;/orders/7000000/sendToKafka&quot;));\r\n    \r\n    }\r\n\r\nAnd on line with perform I caught: \r\n\r\n    Caused by: org.apache.kafka.common.config.ConfigException: Missing required configuration &quot;schema.registry.url&quot; which has no default value.\r\n    at org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:478)\r\n    \tat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:468)\r\n    \tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:108)\r\n    \tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:129)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig.&lt;init&gt;(AbstractKafkaSchemaSerDeConfig.java:177)\r\n    \tat io.confluent.kafka.serializers.KafkaAvroSerializerConfig.&lt;init&gt;(KafkaAvroSerializerConfig.java:32)\r\n    \tat io.confluent.kafka.serializers.KafkaAvroSerializer.configure(KafkaAvroSerializer.java:50)\r\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:376)\r\n\r\nI tried to put it in application.yml, in KafkaTestingTools properties, but nothing changed, it looks like Spring looks for this property in another place.\r\n\r\nMaybe someone met this situation and know solution?\r\n\r\nThanks in advance.  ","title":"How to test EmbeddedKafka with SpringBoot","body":"<p>I met problem with testing Kafka Producer after change custom Producer to KafkaTemplate.</p>\n<p>For tests reason I wrote next class:</p>\n<pre><code>public class KafkaTestingTools {\n\n    static private Map&lt;String, Consumer&lt;Long, GenericData.Record&gt;&gt; consumers = new HashMap&lt;&gt;();\n\n    static public void sendMessage (String topic, String key, Object message, Schema schema) throws InterruptedException{\n        Properties properties = new Properties();\n        properties.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n        properties.put(&quot;bootstrap.servers&quot;, &quot;http://localhost:9092&quot;);\n        properties.put(&quot;acks&quot;, &quot;all&quot;);\n        properties.put(&quot;retries&quot;, 0);\n        properties.put(&quot;linger.ms&quot;, 1);\n        properties.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        properties.put(&quot;value.serializer&quot;, &quot;com.logistics.mock.CustomKafkaAvroSerializer&quot;);\n        KafkaProducer&lt;String, Object&gt; producer = new KafkaProducer&lt;&gt;(properties);\n\n        CustomKafkaAvroDeserializer.setTopicScheme(topic, schema);\n\n        ProducerRecord&lt;String, Object&gt; record = new ProducerRecord&lt;&gt;(topic, key, message);\n        producer.send(record);\n        producer.close();\n    }\n\n    static public void registerConsumerContainer(EmbeddedKafkaBroker embeddedKafka, String topic, Schema schema) throws InterruptedException{\n        Map&lt;String, Object&gt; consumerProps = KafkaTestUtils.consumerProps(&quot;testGroup&quot; + UUID.randomUUID().toString(), &quot;true&quot;, embeddedKafka);\n        consumerProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n        consumerProps.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        consumerProps.put(&quot;value.deserializer&quot;, &quot;com.logistics.mock.CustomKafkaAvroDeserializer&quot;);\n        consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        ConsumerFactory&lt;Long, GenericData.Record&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps);\n        Consumer&lt;Long, GenericData.Record&gt; consumer = cf.createConsumer();\n        consumers.put(topic, consumer);\n\n        embeddedKafka.consumeFromAnEmbeddedTopic(consumer, topic);\n\n        CustomKafkaAvroDeserializer.setTopicScheme(topic, schema);\n    }\n\n    static public Object getSingleRecordFromRegisteredContainer(EmbeddedKafkaBroker embeddedKafka, String topic){\n        return SpecificData.get().deepCopy(\n            CustomKafkaAvroDeserializer.getTopicScheme(topic),\n            KafkaTestUtils.getSingleRecord(consumers.get(topic), topic).value()\n        );\n    }\n    \n}\n</code></pre>\n<p>Producer example:</p>\n<pre><code>@Service\n@CommonsLog\npublic class PointProducer {\n\n    private final KafkaTemplate&lt;String, ExportMessage&gt; kafkaTemplate;\n    private final String topic;\n\n    @Autowired\n    public PointProducer(@Value(&quot;${kafka.producer.points}&quot;) String topic,\n            KafkaTemplate&lt;String, ExportMessage&gt; kafkaTemplate) {\n        this.topic = topic;\n        this.kafkaTemplate = kafkaTemplate;\n    }\n\n    public void produce(Point point) {\n        var message = new ExportMessage();\n        message.setId(point.getId());\n        log.warn(&quot;produce point: &quot; + message.toString());\n        kafkaTemplate.send(topic, point.getId().toString(), message);\n        kafkaTemplate.flush();\n    }\n</code></pre>\n<p>kafka config</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: ${spring.embedded.kafka.brokers}\n    consumer:\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      point-deserializer: com.logistics.mock.CustomKafkaAvroDeserializer\n      auto-offset-reset: latest\n      group-id: credit_file_test\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: com.logistics.mock.CustomKafkaAvroSerializer\n    schema-registry-url: http://localhost:8081\n\nkafka.consumer.points: points_export\nkafka.producer.files: common.file\nkafka.producer.orders: common.order\nkafka.producer.points: common.point\n</code></pre>\n<p>And tests looks like:</p>\n<pre><code>@SpringBootTest\n@TestMethodOrder(OrderAnnotation.class)\n@EmbeddedKafka(partitions = 1, topics = { &quot;topic1&quot;, &quot;topic2&quot; }, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\nclass ApplicationLogisticOrderTest {\n@Test\n    @Order(1)\n    @WithMockUser(roles = &quot;ADMIN&quot;)\n    void checkSendToKafka() throws Exception {\n        KafkaTestingTools.registerConsumerContainer(this.embeddedKafka, TOPIC1, Message.SCHEMA$);\n        Thread.sleep(3000);\n        prepareCustomizedLogisticOrder(t -&gt; {\n        });\n        var mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n        mockMvc.perform(MockMvcRequestBuilders.put(&quot;/orders/7000000/sendToKafka&quot;));\n\n}\n</code></pre>\n<p>And on line with perform I caught:</p>\n<pre><code>Caused by: org.apache.kafka.common.config.ConfigException: Missing required configuration &quot;schema.registry.url&quot; which has no default value.\nat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:478)\n    at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:468)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:108)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:129)\n    at io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig.&lt;init&gt;(AbstractKafkaSchemaSerDeConfig.java:177)\n    at io.confluent.kafka.serializers.KafkaAvroSerializerConfig.&lt;init&gt;(KafkaAvroSerializerConfig.java:32)\n    at io.confluent.kafka.serializers.KafkaAvroSerializer.configure(KafkaAvroSerializer.java:50)\nat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:376)\n</code></pre>\n<p>I tried to put it in application.yml, in KafkaTestingTools properties, but nothing changed, it looks like Spring looks for this property in another place.</p>\n<p>Maybe someone met this situation and know solution?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","arrays","set"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1637185241,"post_id":70011894,"comment_id":123761894,"body_markdown":"`i &lt;= sets.length` looks like a potential out of bounds error.","body":"<code>i &lt;= sets.length</code> looks like a potential out of bounds error."}],"owner":{"account_id":23371461,"reputation":11,"user_id":17442231,"display_name":"Shannon Kauber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637185423,"creation_date":1637185086,"question_id":70011894,"body_markdown":"I&#39;m coding in the Java programming language. \r\n\r\nThe purpose of this code is to go through a set and return an array of all sets of words containing double letters (there should be one for each letter of the alphabet). \r\n\r\nThis is the code I have so far, right now it&#39;s returning the number 23 when it should be returning 26 (again, for each letter of the alphabet). Any guidance on what I&#39;m doing wrong would be so so helpful! \r\n```\r\n/**\r\n\t * Returns an array of all sets of words containing double letters,\r\n\t * one set for each letter of the alphabet. There should be a set\r\n\t * for all words containing &quot;aa&quot;, one for &quot;bb&quot;, etc.\r\n\t * @param words set of words\r\n\t * @return array of sets, one for each doubled letter in the alphabet\r\n\t */\r\n\tpublic Set&lt;String&gt;[] allWordSetsContainingDoubleLetters(Set&lt;String&gt; words)\r\n\t{\r\n\t\tSet&lt;String&gt; sets[] = new HashSet[26];\r\n        int count = 0;\r\n\r\n        for (String word : words) \r\n        {\r\n             String lowerCase = word.toLowerCase();\r\n             for (int i = 0; i &lt;= sets.length; i++) \r\n             {\r\n            \t char c = (char) (&#39;a&#39; + i);\r\n                 String str = &quot;&quot; + c + c;\r\n                 if (lowerCase.contains(str)) \r\n                 {\r\n                \t if (sets[i] == null) \r\n                \t {\r\n                \t\t sets[i] = new HashSet&lt;String&gt;();\r\n                         count++;\r\n                     }\r\n                     sets[i].add(word);\r\n                 }\r\n             }\r\n        }\r\n        \r\n        Set&lt;String&gt; result[] = new HashSet[count];\r\n        \r\n        count = 0;\r\n        \r\n        for (Set&lt;String&gt; s : sets) \r\n        {\r\n        \tif (s != null) \r\n        \t{\r\n        \t\tresult[count++] = s;\r\n            }\r\n        }\r\n       \r\n        return result;\r\n\t}\r\n```          \r\n","title":"Identifying Double Letters in a Set for Every Letter of the Alphabet - Java","body":"<p>I'm coding in the Java programming language.</p>\n<p>The purpose of this code is to go through a set and return an array of all sets of words containing double letters (there should be one for each letter of the alphabet).</p>\n<p>This is the code I have so far, right now it's returning the number 23 when it should be returning 26 (again, for each letter of the alphabet). Any guidance on what I'm doing wrong would be so so helpful!</p>\n<pre><code>/**\n     * Returns an array of all sets of words containing double letters,\n     * one set for each letter of the alphabet. There should be a set\n     * for all words containing &quot;aa&quot;, one for &quot;bb&quot;, etc.\n     * @param words set of words\n     * @return array of sets, one for each doubled letter in the alphabet\n     */\n    public Set&lt;String&gt;[] allWordSetsContainingDoubleLetters(Set&lt;String&gt; words)\n    {\n        Set&lt;String&gt; sets[] = new HashSet[26];\n        int count = 0;\n\n        for (String word : words) \n        {\n             String lowerCase = word.toLowerCase();\n             for (int i = 0; i &lt;= sets.length; i++) \n             {\n                 char c = (char) ('a' + i);\n                 String str = &quot;&quot; + c + c;\n                 if (lowerCase.contains(str)) \n                 {\n                     if (sets[i] == null) \n                     {\n                         sets[i] = new HashSet&lt;String&gt;();\n                         count++;\n                     }\n                     sets[i].add(word);\n                 }\n             }\n        }\n        \n        Set&lt;String&gt; result[] = new HashSet[count];\n        \n        count = 0;\n        \n        for (Set&lt;String&gt; s : sets) \n        {\n            if (s != null) \n            {\n                result[count++] = s;\n            }\n        }\n       \n        return result;\n    }\n</code></pre>\n"},{"tags":["java","multithreading","java-native-interface","thread-synchronization"],"comments":[{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":0,"creation_date":1636373914,"post_id":69883285,"comment_id":123531020,"body_markdown":"openjdk version &quot;16.0.1&quot; 2021-04-20","body":"openjdk version &quot;16.0.1&quot; 2021-04-20"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1636373964,"post_id":69883285,"comment_id":123531044,"body_markdown":"sounds like a &quot;path/linking issue&quot;!(?) (&quot;runs in eclipse, but not outside&quot;) How do you do/who does the &quot;compiling &amp; linking&quot;? (https://www.baeldung.com/jni#3-compiling-and-linking)","body":"sounds like a &quot;path/linking issue&quot;!(?) (&quot;runs in eclipse, but not outside&quot;) How do you do/who does the &quot;compiling &amp; linking&quot;? (<a href=\"https://www.baeldung.com/jni#3-compiling-and-linking\" rel=\"nofollow noreferrer\">baeldung.com/jni#3-compiling-and-linking</a>)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636375249,"post_id":69883285,"comment_id":123531557,"body_markdown":"Just to check off a few things: Are you sure that `listeners` is not empty, `onConnectEvent.wait();` is called before `onConnectEvent.notifyAll();` and there are not multiple `ClassLoader`s involved? Also, what threads access `listeners`? Is `listeners` thread-safe?","body":"Just to check off a few things: Are you sure that <code>listeners</code> is not empty, <code>onConnectEvent.wait();</code> is called before <code>onConnectEvent.notifyAll();</code> and there are not multiple <code>ClassLoader</code>s involved? Also, what threads access <code>listeners</code>? Is <code>listeners</code> thread-safe?"},{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":0,"creation_date":1636375261,"post_id":69883285,"comment_id":123531561,"body_markdown":"I don&#39;t understand why you talk about linking.","body":"I don&#39;t understand why you talk about linking."},{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":0,"creation_date":1636375350,"post_id":69883285,"comment_id":123531601,"body_markdown":"@dan1st, no, the problem is indeed the threads looking into same static final Object see different instances, I am not kidding. And again, this works under eclipse, and not if I export it as &quot;runnable jar file&quot;","body":"@dan1st, no, the problem is indeed the threads looking into same static final Object see different instances, I am not kidding. And again, this works under eclipse, and not if I export it as &quot;runnable jar file&quot;"},{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":0,"creation_date":1636375486,"post_id":69883285,"comment_id":123531663,"body_markdown":"@dan1st, actually I keep calling the same method multiple times, and yes, wait is in wait before botifyall is called. The problem is with some classloaders mb, or mb some modern jvm isolation","body":"@dan1st, actually I keep calling the same method multiple times, and yes, wait is in wait before botifyall is called. The problem is with some classloaders mb, or mb some modern jvm isolation"},{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":0,"creation_date":1636375597,"post_id":69883285,"comment_id":123531698,"body_markdown":"@dan1st I checked this, put System.out.println into wait and notify methods, the output is &quot;onJNICallbackEvent &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &#39;java.lang.Object@5875bee&#39;  class java.lang.Object null&quot;  &quot;ServerConnectionWatchDog &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &#39;java.lang.Object@74e36316&#39;  class java.lang.Object null&quot; - there null refers to classloader","body":"@dan1st I checked this, put System.out.println into wait and notify methods, the output is &quot;onJNICallbackEvent &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &#39;java.lang.Object@5875bee&#39;  class java.lang.Object null&quot;  &quot;ServerConnectionWatchDog &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &#39;java.lang.Object@74e36316&#39;  class java.lang.Object null&quot; - there null refers to classloader"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636375741,"post_id":69883285,"comment_id":123531751,"body_markdown":"Can you try moving `onConnectEvent` to another class and providing a public getter?","body":"Can you try moving <code>onConnectEvent</code> to another class and providing a public getter?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636375895,"post_id":69883285,"comment_id":123531818,"body_markdown":"Does [this classloader-independent singleton approach](https://stackoverflow.com/a/47445573/10871900) work (second answer)?","body":"Does <a href=\"https://stackoverflow.com/a/47445573/10871900\">this classloader-independent singleton approach</a> work (second answer)?"},{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":0,"creation_date":1636375916,"post_id":69883285,"comment_id":123531833,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/238989/discussion-between--and-dan1st).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/238989/discussion-between--and-dan1st\">continue this discussion in chat</a>."},{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":0,"creation_date":1636377031,"post_id":69883285,"comment_id":123532361,"body_markdown":"I unzipped runnable jar file created by eclise and run it via java -cp .;./* mainclass\nthis way it works as required. So this might be the feature of Eclipse jar classloader.\nI would appreciate if somebody could provide the way to deal with this issue if I want to continue with Eclipse","body":"I unzipped runnable jar file created by eclise and run it via java -cp .;./* mainclass this way it works as required. So this might be the feature of Eclipse jar classloader. I would appreciate if somebody could provide the way to deal with this issue if I want to continue with Eclipse"},{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":2,"creation_date":1636398298,"post_id":69883285,"comment_id":123541204,"body_markdown":"I was able to workaround the problem by passing reference to the java object for syncronization from java to jni then use them via global references. this leaves the classloading problem behind.\nduring the testing I indeed found that my classes created twice, and JNI threads uses their separated classloaders, even if they attached to the JVM. I was unsuccessfull in dealing with classloaders, so insted used live objects to pass the information/referencecs.","body":"I was able to workaround the problem by passing reference to the java object for syncronization from java to jni then use them via global references. this leaves the classloading problem behind. during the testing I indeed found that my classes created twice, and JNI threads uses their separated classloaders, even if they attached to the JVM. I was unsuccessfull in dealing with classloaders, so insted used live objects to pass the information/referencecs."}],"answers":[{"tags":[],"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637185392,"creation_date":1637185392,"answer_id":70011939,"question_id":69883285,"body_markdown":"Found the answer in the FAQ for Android: [why didn&#39;t FindClass find my class][1].\r\nAlthough my environment is not Android, it still makes sence.\r\nThe thing is that env-&gt;FindClass unwinds a Java stack to find a caller class and use it&#39;s classloader. \r\nAnd the Java stack is empty for the native threads which started in JNI. So this gives us an only options either get a global ref to the required classes before creating the native thread, or to get in the same place a reference to it&#39;s classloader and then use a FindClass from saved classLoader, which is harder.\r\nThis solution prevents the Eclipse JarRsrcLoader from creation of duplicate static objects.\r\nProbably one might say that doing env-&gt;FindClass in newly created native thread in JNI is a bad design, at least use it with caution.\r\n\r\n  [1]: https://developer.android.com/training/articles/perf-jni#faq:-why-didnt-findclass-find-my-class","title":"Notify Java from new JNI thread","body":"<p>Found the answer in the FAQ for Android: <a href=\"https://developer.android.com/training/articles/perf-jni#faq:-why-didnt-findclass-find-my-class\" rel=\"nofollow noreferrer\">why didn't FindClass find my class</a>.\nAlthough my environment is not Android, it still makes sence.\nThe thing is that env-&gt;FindClass unwinds a Java stack to find a caller class and use it's classloader.\nAnd the Java stack is empty for the native threads which started in JNI. So this gives us an only options either get a global ref to the required classes before creating the native thread, or to get in the same place a reference to it's classloader and then use a FindClass from saved classLoader, which is harder.\nThis solution prevents the Eclipse JarRsrcLoader from creation of duplicate static objects.\nProbably one might say that doing env-&gt;FindClass in newly created native thread in JNI is a bad design, at least use it with caution.</p>\n"}],"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70011939,"answer_count":1,"score":1,"last_activity_date":1637185392,"creation_date":1636373628,"question_id":69883285,"body_markdown":"I made a Java program which calls JNI, and in JNI it creates a &quot;JNICallback&quot; thread and executes in it env-attachCurrentThreadAsDaemon()\r\n\r\nMy goal is to notify from JNICallback thread, the another pure Java thread.\r\nI do standard things like `synchronized -&gt; wait, synchronized -&gt; notifyAll`, using `static final Object` as a sync.\r\nIf I run it under Eclipse, everything works fine. \r\n\r\nBut if I export it as a &quot;runnable jar file&quot; and run under same JVM, I see my JNI program invokes `monitorEnter, notifyAll, monitorExit` with no errors, but Java doesnt notified.\r\nIn the debugger I see different ObjectId&#39;s for the very same object used from JNI and from Java, this is suspicious for me (it is names onConnectEvent in the code below)\r\nI even move notification code from JNI to Java, and use a static void method call from JNI, doing synchronize-&gt;notifyAll in Java, but this only shows me that waiting thread waits on different ObjectId, so I guess this is the reason.\r\n\r\n    ...\r\n    \tstatic final Object onConnectEvent = new Object();\r\n    ...\r\n    \tThread dogServerConnect,...;\r\n    ...\r\n    \tpublic MainClass(){\r\n    \t\tdogServerConnect = runDog(new ServerConnectionWatchDog(), &quot;onServerConnect&quot;);\r\n            someJNIstuffPlusNewThreadsCreation();\r\n    ...\r\n    \t\r\n    \tstatic void onJNICallbackEvent(int type) {\r\n    \t\tswitch (type) {\r\n    \t\tcase 1 -&gt; {\r\n    \t\t\tsynchronized(onConnectEvent) {\r\n    \t\t\t\tonConnectEvent.notifyAll();\r\n                     ^^^^^ got to this line from JNI, just fine\r\n                }\r\n    ...\r\n    \tclass ServerConnectionWatchDog implements Runnable {\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\twhile(true)\r\n    \t\t\t\tsynchronized(onConnectEvent) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tonConnectEvent.wait();\r\n    \t\t\t\t\t\tfor (var l : listeners) {\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^ never come to this line\r\n    ...\r\n\r\nagain, this is really works well under Eclipse, but for some reason fails as separate jar file. \r\nWhy could same final static object have a different instance ids for different threads, or it&#39;s just fine nowadays?\r\n\r\nI mean for the waiting thread Eclipse shows me &quot;waiting for: Object (id=48)&quot; and for the native thread on before &quot;notifyAll&quot; execution it shows me &quot;owns: Object (id=50)&quot;. Maybe this is because I manually pause the waiting thread, to see object id (then run it again, this doesn&#39;t the cause)\r\nWhat could I miss? ","title":"Notify Java from new JNI thread","body":"<p>I made a Java program which calls JNI, and in JNI it creates a &quot;JNICallback&quot; thread and executes in it env-attachCurrentThreadAsDaemon()</p>\n<p>My goal is to notify from JNICallback thread, the another pure Java thread.\nI do standard things like <code>synchronized -&gt; wait, synchronized -&gt; notifyAll</code>, using <code>static final Object</code> as a sync.\nIf I run it under Eclipse, everything works fine.</p>\n<p>But if I export it as a &quot;runnable jar file&quot; and run under same JVM, I see my JNI program invokes <code>monitorEnter, notifyAll, monitorExit</code> with no errors, but Java doesnt notified.\nIn the debugger I see different ObjectId's for the very same object used from JNI and from Java, this is suspicious for me (it is names onConnectEvent in the code below)\nI even move notification code from JNI to Java, and use a static void method call from JNI, doing synchronize-&gt;notifyAll in Java, but this only shows me that waiting thread waits on different ObjectId, so I guess this is the reason.</p>\n<pre><code>...\n    static final Object onConnectEvent = new Object();\n...\n    Thread dogServerConnect,...;\n...\n    public MainClass(){\n        dogServerConnect = runDog(new ServerConnectionWatchDog(), &quot;onServerConnect&quot;);\n        someJNIstuffPlusNewThreadsCreation();\n...\n    \n    static void onJNICallbackEvent(int type) {\n        switch (type) {\n        case 1 -&gt; {\n            synchronized(onConnectEvent) {\n                onConnectEvent.notifyAll();\n                 ^^^^^ got to this line from JNI, just fine\n            }\n...\n    class ServerConnectionWatchDog implements Runnable {\n        @Override\n        public void run() {\n            while(true)\n                synchronized(onConnectEvent) {\n                    try {\n                        onConnectEvent.wait();\n                        for (var l : listeners) {\n^^^^^^^^^^^^^^^^^^^^^^^^^ never come to this line\n...\n</code></pre>\n<p>again, this is really works well under Eclipse, but for some reason fails as separate jar file.\nWhy could same final static object have a different instance ids for different threads, or it's just fine nowadays?</p>\n<p>I mean for the waiting thread Eclipse shows me &quot;waiting for: Object (id=48)&quot; and for the native thread on before &quot;notifyAll&quot; execution it shows me &quot;owns: Object (id=50)&quot;. Maybe this is because I manually pause the waiting thread, to see object id (then run it again, this doesn't the cause)\nWhat could I miss?</p>\n"},{"tags":["java","timer","while-loop","milliseconds"],"comments":[{"owner":{"account_id":11297017,"reputation":154,"user_id":8284228,"display_name":"ja08prat"},"score":1,"creation_date":1501862866,"post_id":45511240,"comment_id":77983517,"body_markdown":"have you tried anything? show us some code you wrote to attempt this. This isn&#39;t a free coding service","body":"have you tried anything? show us some code you wrote to attempt this. This isn&#39;t a free coding service"},{"owner":{"account_id":6550492,"reputation":8850,"user_id":5065092,"accept_rate":58,"display_name":"A0__oN"},"score":0,"creation_date":1501862877,"post_id":45511240,"comment_id":77985797,"body_markdown":"You can also take a look at `java.util.Timer` and `java.util.TimerTask` classes which you can use to schedule your task to run every n seconds.","body":"You can also take a look at <code>java.util.Timer</code> and <code>java.util.TimerTask</code> classes which you can use to schedule your task to run every n seconds."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1501862929,"post_id":45511240,"comment_id":77983547,"body_markdown":"What exactly is the difficulty you are having?  You can, indeed, invoke `Thread.sleep()` inside a `while` loop; if you tried something that did not work, then present the code.  Otherwise, do try to work it out for yourself before posing a question here.","body":"What exactly is the difficulty you are having?  You can, indeed, invoke <code>Thread.sleep()</code> inside a <code>while</code> loop; if you tried something that did not work, then present the code.  Otherwise, do try to work it out for yourself before posing a question here."},{"owner":{"account_id":3980838,"reputation":1,"user_id":4428106,"display_name":"ijbalazs"},"score":0,"creation_date":1501862948,"post_id":45511240,"comment_id":77985690,"body_markdown":"What did you try so far and what did you achieve, what are you stuck at? Please note, that even though the API provides it, not every JVM will offer a nano- or microsecond timer resolution.","body":"What did you try so far and what did you achieve, what are you stuck at? Please note, that even though the API provides it, not every JVM will offer a nano- or microsecond timer resolution."},{"owner":{"account_id":10360651,"reputation":83,"user_id":7641240,"display_name":"Je moder"},"score":0,"creation_date":1501863858,"post_id":45511240,"comment_id":77984043,"body_markdown":"I tried this:`while(something){Thread.sleep(0,1000);//I did something, with try and catch of course}`but the program freezes everytime I use that and I have to close the Window with Task Manager.","body":"I tried this:<code>while(something){Thread.sleep(0,1000);&#47;&#47;I did something, with try and catch of course}</code>but the program freezes everytime I use that and I have to close the Window with Task Manager."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1501865481,"post_id":45511240,"comment_id":77984877,"body_markdown":"You&#39;re not giving enough information on your problem. For all we know you could be creating a GUI program and are putting it to sleep. Please ask a more complete question including posting pertinent code **in the question itself**, not in comments, best if you could post a [mcve].","body":"You&#39;re not giving enough information on your problem. For all we know you could be creating a GUI program and are putting it to sleep. Please ask a more complete question including posting pertinent code <b>in the question itself</b>, not in comments, best if you could post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501866126,"creation_date":1501863009,"answer_id":45511305,"question_id":45511240,"body_markdown":"You can&#39;t sleep for a microsecond and just checking the time take many nano-seconds.\r\n\r\nIf you want to wait for a micro-second you need to busy wait. Note: this will use up to 100% CPU.\r\n\r\n    while(running) {\r\n        long end = System.nanoTime() + micros * 1000;\r\n        while (end &gt; Systen.nanoTime()) { }\r\n        // do something.\r\n    }\r\n\r\n&gt; so the code will run every ... microsecond in java\r\n\r\nYou might want to take into account how long the code runs for\r\n\r\n    long delayNS = micros * 1000;\r\n    long next = System.nanoTime();\r\n    while(running) {\r\n        next += delayNS;\r\n        while (next &gt; Systen.nanoTime()) { }\r\n        // do something.\r\n    }\r\n\r\nSo if the code takes some time you have will still get consistent spacing between events.\r\n\r\n\r\nNote: \r\n\r\nThere is `Thread.sleep(long millis, int nanos)` however it just rounds off the `nanos` to the nearest millis.  \r\n\r\nThere is `LockSupport.parkNanos(n)` which can be sub-millis but is a minimum of typically around 25 micro-seconds (even for a 1 ns delay)\r\n\r\nThere is `Thread.yield()` which can take 16 microseconds, but it can also take a lot longer.","title":"How to add delay to a while loop in Java?","body":"<p>You can't sleep for a microsecond and just checking the time take many nano-seconds.</p>\n\n<p>If you want to wait for a micro-second you need to busy wait. Note: this will use up to 100% CPU.</p>\n\n<pre><code>while(running) {\n    long end = System.nanoTime() + micros * 1000;\n    while (end &gt; Systen.nanoTime()) { }\n    // do something.\n}\n</code></pre>\n\n<blockquote>\n  <p>so the code will run every ... microsecond in java</p>\n</blockquote>\n\n<p>You might want to take into account how long the code runs for</p>\n\n<pre><code>long delayNS = micros * 1000;\nlong next = System.nanoTime();\nwhile(running) {\n    next += delayNS;\n    while (next &gt; Systen.nanoTime()) { }\n    // do something.\n}\n</code></pre>\n\n<p>So if the code takes some time you have will still get consistent spacing between events.</p>\n\n<p>Note: </p>\n\n<p>There is <code>Thread.sleep(long millis, int nanos)</code> however it just rounds off the <code>nanos</code> to the nearest millis.  </p>\n\n<p>There is <code>LockSupport.parkNanos(n)</code> which can be sub-millis but is a minimum of typically around 25 micro-seconds (even for a 1 ns delay)</p>\n\n<p>There is <code>Thread.yield()</code> which can take 16 microseconds, but it can also take a lot longer.</p>\n"},{"tags":[],"owner":{"account_id":11410825,"reputation":1,"user_id":8365024,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501863831,"creation_date":1501863831,"answer_id":45511548,"question_id":45511240,"body_markdown":"You can do that inside a Thread object and in run method put your while with try catch behavior.\r\n\r\n    \t@Override\r\n\tpublic void run()\r\n\t{\r\n\t\twhile (true) {\r\n\t\t\ttry \r\n\t\t\t{\r\n\t\t\t\tfor (int cont = 0; cont &lt; numberOfRequests; cont++) \r\n\t\t\t\t{\r\n\t\t\t\t\tnew GetRequestMethod(url, httpClient, defaultRequestConfig, logOption).start();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tLOG.log(Level.INFO, &quot;\\n---------------Send REQUEST &quot; + numberOfRequests + &quot;---------------\\n&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (OutOfMemoryError m) \r\n\t\t\t{\r\n\t\t\t\tLOG.log(Level.SEVERE, &quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nMemory Critical Error: &quot; + m.getMessage() + &quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n&quot;, m);\r\n\t\t\t\tsleep(TIME_SLEEP_EXCEPTION);\r\n\t\t\t\trenewManager();\r\n\r\n\t\t\t}\r\n\t\t\tcatch (Throwable t) \r\n\t\t\t{\r\n\t\t\t\tLOG.log(Level.SEVERE, &quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nCritical Error!\\n&quot;, t);\r\n\t\t\t\tsleep(TIME_SLEEP_EXCEPTION);\r\n\t\t\t\trenewManager();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nsleep method:\r\n\r\n    private void sleep(int time)\r\n\t{\r\n\t\ttry \r\n\t\t{\r\n\t\t\tThread.sleep(time);\r\n\t\t}\r\n\t\tcatch (InterruptedException e) \r\n\t\t{\r\n\t\t\tLOG.log(Level.SEVERE, &quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nSleeping Critical Error: &quot; + e.getMessage() + &quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n&quot;, e);\r\n\t\t}","title":"How to add delay to a while loop in Java?","body":"<p>You can do that inside a Thread object and in run method put your while with try catch behavior.</p>\n\n<pre><code>    @Override\npublic void run()\n{\n    while (true) {\n        try \n        {\n            for (int cont = 0; cont &lt; numberOfRequests; cont++) \n            {\n                new GetRequestMethod(url, httpClient, defaultRequestConfig, logOption).start();\n            }\n\n            LOG.log(Level.INFO, \"\\n---------------Send REQUEST \" + numberOfRequests + \"---------------\\n\");\n\n        }\n        catch (OutOfMemoryError m) \n        {\n            LOG.log(Level.SEVERE, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nMemory Critical Error: \" + m.getMessage() + \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", m);\n            sleep(TIME_SLEEP_EXCEPTION);\n            renewManager();\n\n        }\n        catch (Throwable t) \n        {\n            LOG.log(Level.SEVERE, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nCritical Error!\\n\", t);\n            sleep(TIME_SLEEP_EXCEPTION);\n            renewManager();\n        }\n    }\n}\n</code></pre>\n\n<p>sleep method:</p>\n\n<pre><code>private void sleep(int time)\n{\n    try \n    {\n        Thread.sleep(time);\n    }\n    catch (InterruptedException e) \n    {\n        LOG.log(Level.SEVERE, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nSleeping Critical Error: \" + e.getMessage() + \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", e);\n    }\n</code></pre>\n"}],"owner":{"account_id":10360651,"reputation":83,"user_id":7641240,"display_name":"Je moder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2525,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1501866981,"answer_count":2,"score":-2,"last_activity_date":1637185210,"creation_date":1501862787,"question_id":45511240,"body_markdown":"I wanna combine a while loop with Thread.sleep, so the code will run every nanosecond or microsecond in java. Can someone help me? Sorry for my bad English, I&#39;m Dutch.","title":"How to add delay to a while loop in Java?","body":"<p>I wanna combine a while loop with Thread.sleep, so the code will run every nanosecond or microsecond in java. Can someone help me? Sorry for my bad English, I'm Dutch.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636953995,"creation_date":1636953995,"answer_id":69969815,"question_id":69679376,"body_markdown":"try this, if you want to get it in onResume()\r\n\r\n        @Override\r\n            protected void onResume() {\r\n                super.onResume();\r\n        \r\n                Log.d(TAG, &quot;onResume: GamePreferences.getPid()--------&gt;   &quot; + GamePreferences.getPid());\r\n                Log.d(TAG, &quot;onResume: android.os.Process.myPid()--------&gt;   &quot; + android.os.Process.myPid());\r\n                if (GamePreferences.getPid() != 0) {\r\n                    if (GamePreferences.getPid() != android.os.Process.myPid()) {\r\n                        Log.d(TAG, &quot;GamePreferences.getPid() != android.os.Process.myPid(): --------&gt;   &quot; + android.os.Process.myPid());\r\n        \r\n                        //restart your service in foreground\r\n                        return;\r\n                    }\r\n             }\r\n       }","title":"How to know os kill my foreground service android","body":"<p>try this, if you want to get it in onResume()</p>\n<pre><code>    @Override\n        protected void onResume() {\n            super.onResume();\n    \n            Log.d(TAG, &quot;onResume: GamePreferences.getPid()--------&gt;   &quot; + GamePreferences.getPid());\n            Log.d(TAG, &quot;onResume: android.os.Process.myPid()--------&gt;   &quot; + android.os.Process.myPid());\n            if (GamePreferences.getPid() != 0) {\n                if (GamePreferences.getPid() != android.os.Process.myPid()) {\n                    Log.d(TAG, &quot;GamePreferences.getPid() != android.os.Process.myPid(): --------&gt;   &quot; + android.os.Process.myPid());\n    \n                    //restart your service in foreground\n                    return;\n                }\n         }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4744969,"reputation":2149,"user_id":3836562,"display_name":"Victor Pal&#233;ologue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636985013,"creation_date":1636985013,"answer_id":69975651,"question_id":69679376,"body_markdown":"According to [the documentation](https://developer.android.com/reference/android/app/Activity.html#onDestroy()), there is no guarantee `onDestroy` will be called. I could not find an explicit mention to what happens when the process is killed, but it seems that [you are more likely to be called `onStop`][1]. So you can try to start your service with an intent from `onStop`.\r\n\r\nAlso, there are [documented ways to prevent your process to be elected](https://developer.android.com/guide/components/activities/process-lifecycle), such as: having a related `Activity` running or having ongoing callbacks in `BroadcastReceiver` or `Service`.\r\n\r\nNote well that your process might get killed by the user, and refusing to comply to the user&#39;s desire to kill is invasive. Therefore the best solution should be designed around the actual reason why a user would want your process to stay alive.\r\n\r\n  [1]: https://stackoverflow.com/questions/43557483/android-start-another-activity-when-ondestroy","title":"How to know os kill my foreground service android","body":"<p>According to <a href=\"https://developer.android.com/reference/android/app/Activity.html#onDestroy()\" rel=\"nofollow noreferrer\">the documentation</a>, there is no guarantee <code>onDestroy</code> will be called. I could not find an explicit mention to what happens when the process is killed, but it seems that <a href=\"https://stackoverflow.com/questions/43557483/android-start-another-activity-when-ondestroy\">you are more likely to be called <code>onStop</code></a>. So you can try to start your service with an intent from <code>onStop</code>.</p>\n<p>Also, there are <a href=\"https://developer.android.com/guide/components/activities/process-lifecycle\" rel=\"nofollow noreferrer\">documented ways to prevent your process to be elected</a>, such as: having a related <code>Activity</code> running or having ongoing callbacks in <code>BroadcastReceiver</code> or <code>Service</code>.</p>\n<p>Note well that your process might get killed by the user, and refusing to comply to the user's desire to kill is invasive. Therefore the best solution should be designed around the actual reason why a user would want your process to stay alive.</p>\n"}],"owner":{"account_id":3735859,"reputation":198,"user_id":3106818,"accept_rate":30,"display_name":"user3106818"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1637185144,"creation_date":1634915995,"question_id":69679376,"body_markdown":"I made a lock screen app. I want to restart my service when the OS kills the service in Xiaomi Redmi Note 10 Pro (MIUI 12). When the service is killed, `onDestroy` is not call.\r\n\r\n``` \r\npublic class LockScreenService extends Service {\r\n    SharedPreferences prefs;\r\n    private  BroadcastReceiver screenStateReceiver;\r\n    public static boolean isScreenReceiverRegistered=false;\r\n    public IBinder onBind(Intent paramIntent) {\r\n        return null;\r\n    }\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        prefs = getSharedPreferences(&quot;SettingPreference&quot;, Context.MODE_PRIVATE);\r\n        IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\r\n        filter.addAction(Intent.ACTION_SCREEN_OFF);\r\n        filter.setPriority(999);\r\n        screenStateReceiver = new ScreenStateReceiver();\r\n        registerReceiver(screenStateReceiver, filter);\r\n        isScreenReceiverRegistered = true;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            String channelId = createNotificationChannel(notificationManager);\r\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channelId);\r\n            Notification notification = notificationBuilder.setOngoing(true)\r\n                    .setSmallIcon(R.drawable.icon_notification)\r\n                    .setPriority(NotificationCompat.PRIORITY_MIN)\r\n                    .setCategory(NotificationCompat.CATEGORY_SERVICE)\r\n                    .build();\r\n\r\n            startForeground(127, notification);\r\n        }\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    private String createNotificationChannel(NotificationManager notificationManager){\r\n        String channelId = &quot;my_service_channelid&quot;;\r\n        String channelName = &quot;Lock Screen Running&quot;;\r\n        NotificationChannel channel = new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_HIGH);\r\n        // omitted the LED color\r\n        channel.setImportance(NotificationManager.IMPORTANCE_NONE);\r\n        channel.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n        notificationManager.createNotificationChannel(channel);\r\n        return channelId;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(final Intent intent, final int flags,\r\n                              final int startId) {\r\n        return START_STICKY;\r\n    }\r\n``` \r\n\r\nand on `onDestroy()` function I restart my service.\r\n\r\n\r\n**Manifests** \r\n\r\n\r\n    &lt;service android:name=&quot;.LockScreenService&quot;\r\n            android:process=&quot;:ServiceProcess&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;/&gt;\r\n","title":"How to know os kill my foreground service android","body":"<p>I made a lock screen app. I want to restart my service when the OS kills the service in Xiaomi Redmi Note 10 Pro (MIUI 12). When the service is killed, <code>onDestroy</code> is not call.</p>\n<pre><code>public class LockScreenService extends Service {\n    SharedPreferences prefs;\n    private  BroadcastReceiver screenStateReceiver;\n    public static boolean isScreenReceiverRegistered=false;\n    public IBinder onBind(Intent paramIntent) {\n        return null;\n    }\n    public void onCreate() {\n        super.onCreate();\n\n        prefs = getSharedPreferences(&quot;SettingPreference&quot;, Context.MODE_PRIVATE);\n        IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\n        filter.addAction(Intent.ACTION_SCREEN_OFF);\n        filter.setPriority(999);\n        screenStateReceiver = new ScreenStateReceiver();\n        registerReceiver(screenStateReceiver, filter);\n        isScreenReceiverRegistered = true;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            String channelId = createNotificationChannel(notificationManager);\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channelId);\n            Notification notification = notificationBuilder.setOngoing(true)\n                    .setSmallIcon(R.drawable.icon_notification)\n                    .setPriority(NotificationCompat.PRIORITY_MIN)\n                    .setCategory(NotificationCompat.CATEGORY_SERVICE)\n                    .build();\n\n            startForeground(127, notification);\n        }\n    }\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    private String createNotificationChannel(NotificationManager notificationManager){\n        String channelId = &quot;my_service_channelid&quot;;\n        String channelName = &quot;Lock Screen Running&quot;;\n        NotificationChannel channel = new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_HIGH);\n        // omitted the LED color\n        channel.setImportance(NotificationManager.IMPORTANCE_NONE);\n        channel.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n        notificationManager.createNotificationChannel(channel);\n        return channelId;\n    }\n\n    @Override\n    public int onStartCommand(final Intent intent, final int flags,\n                              final int startId) {\n        return START_STICKY;\n    }\n</code></pre>\n<p>and on <code>onDestroy()</code> function I restart my service.</p>\n<p><strong>Manifests</strong></p>\n<pre><code>&lt;service android:name=&quot;.LockScreenService&quot;\n        android:process=&quot;:ServiceProcess&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;false&quot;/&gt;\n</code></pre>\n"},{"tags":["java","lambda","closures"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1637170452,"post_id":70008816,"comment_id":123756642,"body_markdown":"What is your java version? I have\nopenjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment Homebrew (build 11.0.12+0)\nOpenJDK 64-Bit Server VM Homebrew (build 11.0.12+0, mixed mode). When I run this code with `-Xmx128m` heap never goes higher than 90mb","body":"What is your java version? I have openjdk version &quot;11.0.12&quot; 2021-07-20 OpenJDK Runtime Environment Homebrew (build 11.0.12+0) OpenJDK 64-Bit Server VM Homebrew (build 11.0.12+0, mixed mode). When I run this code with <code>-Xmx128m</code> heap never goes higher than 90mb"},{"owner":{"account_id":15096004,"reputation":2715,"user_id":10894456,"display_name":"J.J. Beam"},"score":0,"creation_date":1637177758,"post_id":70008816,"comment_id":123759329,"body_markdown":"sorry, I edit the code sample, try please","body":"sorry, I edit the code sample, try please"}],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637185018,"creation_date":1637185018,"answer_id":70011880,"question_id":70008816,"body_markdown":"In your code you have `Set` which is accessible from `main` method. Local stack is a GC root, so it could not be collected by GC.\r\n\r\nSo, you&#39;re adding elements to the set which can&#39;t be collected. And set requires extra memory to store elements.\r\n\r\nOn my PC it&#39;s required about 600 MB of heap to run this program without OOM.\r\n\r\nHere is heap dump of this program running on my pc.\r\n\r\n[![heap dump][1]][1]\r\n\r\nI&#39;ve tried the same code with vanilla `for` loop and got the same results. \r\n\r\nSo you just need to add more memory for your application. For example `-Xmx1g` will set your heap size to 1 gigabyte. \r\n\r\n  [1]: https://i.stack.imgur.com/wgCr4.png","title":"Lambda capturing closure with Integer in endless stream throws OutOfMemoryError","body":"<p>In your code you have <code>Set</code> which is accessible from <code>main</code> method. Local stack is a GC root, so it could not be collected by GC.</p>\n<p>So, you're adding elements to the set which can't be collected. And set requires extra memory to store elements.</p>\n<p>On my PC it's required about 600 MB of heap to run this program without OOM.</p>\n<p>Here is heap dump of this program running on my pc.</p>\n<p><a href=\"https://i.stack.imgur.com/wgCr4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgCr4.png\" alt=\"heap dump\" /></a></p>\n<p>I've tried the same code with vanilla <code>for</code> loop and got the same results.</p>\n<p>So you just need to add more memory for your application. For example <code>-Xmx1g</code> will set your heap size to 1 gigabyte.</p>\n"}],"owner":{"account_id":15096004,"reputation":2715,"user_id":10894456,"display_name":"J.J. Beam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70011880,"answer_count":1,"score":0,"last_activity_date":1637185018,"creation_date":1637169462,"question_id":70008816,"body_markdown":"The code below 100% throws `java.lang.OutOfMemoryError` \r\n\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        new Random().ints(10_000_000,\r\n                Integer.MIN_VALUE,\r\n                Integer.MAX_VALUE)\r\n                .forEach(\r\n                        v -&gt; {\r\n                            if(set.contains(v)){\r\n                                System.out.println(v);\r\n                            }else{\r\n                                set.add(v);\r\n                            }\r\n                        }\r\n                );\r\n\r\nAFAIK it&#39;s because lambda capture Integer with context? Could anybody explain what exactly happens here?\r\n\r\n","title":"Lambda capturing closure with Integer in endless stream throws OutOfMemoryError","body":"<p>The code below 100% throws <code>java.lang.OutOfMemoryError</code></p>\n<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    new Random().ints(10_000_000,\n            Integer.MIN_VALUE,\n            Integer.MAX_VALUE)\n            .forEach(\n                    v -&gt; {\n                        if(set.contains(v)){\n                            System.out.println(v);\n                        }else{\n                            set.add(v);\n                        }\n                    }\n            );\n</code></pre>\n<p>AFAIK it's because lambda capture Integer with context? Could anybody explain what exactly happens here?</p>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1374348746,"post_id":17765870,"comment_id":25909353,"body_markdown":"`how many character could contains?` - Try it and see what happens. Do you get 1 character or more than one?","body":"<code>how many character could contains?</code> - Try it and see what happens. Do you get 1 character or more than one?"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1374348405,"creation_date":1374348405,"answer_id":17765887,"question_id":17765870,"body_markdown":"&gt; what&#39;s the relation between JTextArea row/columd and character that it could contains? for example,\r\n\r\n    JTextArea text = new JTextArea(1,1);\r\n&gt; how many character could contains?\r\n\r\nThe row and column fields have no bearing on how many characters the JTextArea can hold, just in how they may be displayed. It will mainly effect the preferredSize of the text component.","title":"JTextArea row, columns and character relation","body":"<blockquote>\n  <p>what's the relation between JTextArea row/columd and character that it could contains? for example,</p>\n</blockquote>\n\n<pre><code>JTextArea text = new JTextArea(1,1);\n</code></pre>\n\n<blockquote>\n  <p>how many character could contains?</p>\n</blockquote>\n\n<p>The row and column fields have no bearing on how many characters the JTextArea can hold, just in how they may be displayed. It will mainly effect the preferredSize of the text component.</p>\n"}],"owner":{"account_id":1295597,"reputation":9908,"user_id":1246746,"accept_rate":51,"display_name":"giozh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17765887,"answer_count":1,"score":1,"last_activity_date":1637184886,"creation_date":1374348245,"question_id":17765870,"body_markdown":"What&#39;s the relation between `JTextArea` row/column and the character that it could contains? For example, \r\n\r\n    JTextArea text = new JTextArea(1,1);\r\n\r\nhow many character could this contain?","title":"JTextArea row, columns and character relation","body":"<p>What's the relation between <code>JTextArea</code> row/column and the character that it could contains? For example,</p>\n<pre><code>JTextArea text = new JTextArea(1,1);\n</code></pre>\n<p>how many character could this contain?</p>\n"},{"tags":["java","maven","visual-studio-code","raspberry-pi2","pi4j"],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637183687,"creation_date":1637183288,"answer_id":70011555,"question_id":70011329,"body_markdown":"Maven supports three types of repository: local, central and remote. Normally, dependencies you add to your `pom.xml` file are pulled from the central repository. What you can do is compile your library to a jar, and drop that in your local repository, which can be found in one of the following locations depending on your OS:\r\n\r\n- Windows: C:\\Users\\\\&lt;User_Name&gt;\\\\.m2\r\n- Linux: /home/&lt;User_Name&gt;/.m2\r\n- Mac: /Users/&lt;user_name&gt;/.m2\r\n\r\nYou can install your jar in your local repository as follows:\r\n\r\n```\r\nmvn install:install-file \\\r\n   -Dfile=&lt;path-to-file&gt; \\\r\n   -DgroupId=&lt;group-id&gt; \\\r\n   -DartifactId=&lt;artifact-id&gt; \\\r\n   -Dversion=&lt;version&gt; \\\r\n   -Dpackaging=&lt;packaging&gt; \\\r\n   -DgeneratePom=true\r\n```\r\n\r\nAfter that the jar will be copied into your local repository in a folder structure that mirrors the `groupId`. And since you&#39;ve provided a custom `groupId`, `artifactId` and `version` you can use those to add the dependency to your `pom.xml`\r\n\r\nAlternatively, you can [add a local repository to your project and install your jar there][1], then add the dependency to your `pom.xml` as normal.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project/36602256#36602256","title":"Add a dependency from a maven project to a non-maven project","body":"<p>Maven supports three types of repository: local, central and remote. Normally, dependencies you add to your <code>pom.xml</code> file are pulled from the central repository. What you can do is compile your library to a jar, and drop that in your local repository, which can be found in one of the following locations depending on your OS:</p>\n<ul>\n<li>Windows: C:\\Users\\&lt;User_Name&gt;\\.m2</li>\n<li>Linux: /home/&lt;User_Name&gt;/.m2</li>\n<li>Mac: /Users/&lt;user_name&gt;/.m2</li>\n</ul>\n<p>You can install your jar in your local repository as follows:</p>\n<pre><code>mvn install:install-file \\\n   -Dfile=&lt;path-to-file&gt; \\\n   -DgroupId=&lt;group-id&gt; \\\n   -DartifactId=&lt;artifact-id&gt; \\\n   -Dversion=&lt;version&gt; \\\n   -Dpackaging=&lt;packaging&gt; \\\n   -DgeneratePom=true\n</code></pre>\n<p>After that the jar will be copied into your local repository in a folder structure that mirrors the <code>groupId</code>. And since you've provided a custom <code>groupId</code>, <code>artifactId</code> and <code>version</code> you can use those to add the dependency to your <code>pom.xml</code></p>\n<p>Alternatively, you can <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project/36602256#36602256\">add a local repository to your project and install your jar there</a>, then add the dependency to your <code>pom.xml</code> as normal.</p>\n"}],"owner":{"account_id":19442385,"reputation":53,"user_id":14220552,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70011555,"answer_count":1,"score":1,"last_activity_date":1637183687,"creation_date":1637181994,"question_id":70011329,"body_markdown":"I&#39;m in the process of writing a java program for a Raspberry Pi where I want to access the GPIO.\r\nFor this I use the Pi4J-Library Version 2 (https://pi4j.com).\r\nAs IDE I use Visual Studio Code - as they suggest.\r\n\r\nIn my VSC workspace are included:\r\n\r\n - the Pi4J library project\r\n - a minimal example application (https://pi4j.com/getting-started/minimal-example-application)\r\n - my newly created project (created with `mvn archetype:generate -DarchetypeCatalog=local`)\r\n\r\nI can compile and package the minimal example application and my own project using the appropriate maven commands.\r\n\r\nThen I have a java library for desktop applications I wrote myself. I added this library and a project, that uses the library, to the workspace.\r\nI can run this desktop application from VSC.\r\nThe library and the application where originally written using Eclipse. Maven is not involved.\r\n\r\nNow I&#39;m trying to use a class from the desktop-library in my Pi4J-project: `new MyLibClass`\r\n\r\nVSC displays &quot;MyLibClass cannot be resolved to a type&quot;. I have imported the class: `import package.name.MyLibClass`. Obviously the Pi4J-project doesn&#39;t know where to find the class. But when I CTRL-click the class name, it opens the corresponding file.\r\n\r\nI think I need to add a dependency to the pom.xml of my Pi4J-project.\r\nBut I have absolutely no idea what to specify for `groupId`, `artifactId` and `version`. The desktop-library is not a maven project.\r\n\r\nThanks a lot for your help in advance!","title":"Add a dependency from a maven project to a non-maven project","body":"<p>I'm in the process of writing a java program for a Raspberry Pi where I want to access the GPIO.\nFor this I use the Pi4J-Library Version 2 (<a href=\"https://pi4j.com\" rel=\"nofollow noreferrer\">https://pi4j.com</a>).\nAs IDE I use Visual Studio Code - as they suggest.</p>\n<p>In my VSC workspace are included:</p>\n<ul>\n<li>the Pi4J library project</li>\n<li>a minimal example application (<a href=\"https://pi4j.com/getting-started/minimal-example-application\" rel=\"nofollow noreferrer\">https://pi4j.com/getting-started/minimal-example-application</a>)</li>\n<li>my newly created project (created with <code>mvn archetype:generate -DarchetypeCatalog=local</code>)</li>\n</ul>\n<p>I can compile and package the minimal example application and my own project using the appropriate maven commands.</p>\n<p>Then I have a java library for desktop applications I wrote myself. I added this library and a project, that uses the library, to the workspace.\nI can run this desktop application from VSC.\nThe library and the application where originally written using Eclipse. Maven is not involved.</p>\n<p>Now I'm trying to use a class from the desktop-library in my Pi4J-project: <code>new MyLibClass</code></p>\n<p>VSC displays &quot;MyLibClass cannot be resolved to a type&quot;. I have imported the class: <code>import package.name.MyLibClass</code>. Obviously the Pi4J-project doesn't know where to find the class. But when I CTRL-click the class name, it opens the corresponding file.</p>\n<p>I think I need to add a dependency to the pom.xml of my Pi4J-project.\nBut I have absolutely no idea what to specify for <code>groupId</code>, <code>artifactId</code> and <code>version</code>. The desktop-library is not a maven project.</p>\n<p>Thanks a lot for your help in advance!</p>\n"},{"tags":["java","tomcat","log4j","apache-commons-logging"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1637072902,"post_id":69945175,"comment_id":123724242,"body_markdown":"You can set the system property `org.apache.commons.logging.diagnostics.dest` to `STDERR`, `STDOUT` or the path to a file, in order to enable JCL&#39;s diagnostic logs.","body":"You can set the system property <code>org.apache.commons.logging.diagnostics.dest</code> to <code>STDERR</code>, <code>STDOUT</code> or the path to a file, in order to enable JCL&#39;s diagnostic logs."}],"answers":[{"tags":[],"owner":{"account_id":282078,"reputation":847,"user_id":578759,"display_name":"Hok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637157232,"creation_date":1637157232,"answer_id":70005657,"question_id":69945175,"body_markdown":"Answering my own question in case it&#39;s helpful to others.\r\n\r\nI needed to add a file called **commons-logging.properties** in the classpath, containing one line:\r\n\r\n&lt;pre&gt;org.apache.commons.logging.LogFactory=org.apache.logging.log4j.jcl.LogFactoryImpl&lt;/pre&gt;\r\n\r\nKudos to Piotr for his comment about setting org.apache.commons.logging.diagnostics.dest.\r\n\r\nApparently, if the class is not explicitly specified, the implementation of LogFactory that is actually used depends on the (somewhat random) order the classloader loads the potential candidates.\r\n\r\nI my webapp a maven dependency brought sl4f along as a transitive dependency, so on some systems slf4j was chosen instead of log4j, but slf4 didn&#39;t have a valid configuration and defaulted to STDERR.\r\n","title":"Log4j Commons Logging Bridge ignored","body":"<p>Answering my own question in case it's helpful to others.</p>\n<p>I needed to add a file called <strong>commons-logging.properties</strong> in the classpath, containing one line:</p>\n<pre>org.apache.commons.logging.LogFactory=org.apache.logging.log4j.jcl.LogFactoryImpl</pre>\n<p>Kudos to Piotr for his comment about setting org.apache.commons.logging.diagnostics.dest.</p>\n<p>Apparently, if the class is not explicitly specified, the implementation of LogFactory that is actually used depends on the (somewhat random) order the classloader loads the potential candidates.</p>\n<p>I my webapp a maven dependency brought sl4f along as a transitive dependency, so on some systems slf4j was chosen instead of log4j, but slf4 didn't have a valid configuration and defaulted to STDERR.</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637183570,"creation_date":1637183570,"answer_id":70011603,"question_id":69945175,"body_markdown":"While your answer explains why Log4j 2.x is not chosen as JCL&#39;s backend, some details don&#39;t add up: the original `commons-logging` **never** chooses SLF4j as backend (cf. [source code](https://github.com/apache/commons-logging/blob/5660a6f6ec7800136027cd4fc594d014e43678a0/src/main/java/org/apache/commons/logging/impl/LogFactoryImpl.java#L789)). Hence the situation must be more complicated:\r\n\r\n - The original `commons-logging` discovers alternative [`LogFactory`](https://commons.apache.org/proper/commons-logging/apidocs/org/apache/commons/logging/LogFactory.html) implementations through the `ServiceLoader` utility.\r\n - You must have two alternative `LogFactory` implementations in your classpath: [`log4j-jcl`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jcl) and [`spring-jcl`](https://mvnrepository.com/artifact/org.springframework/spring-jcl). The latter is a **complete** replacement for the standard `commons-logging` library (i.e. it contains a copy of `org.apache.commons.logging.LogFactory` itself) and has some complex backend selection rules (cf. [source code](https://github.com/spring-projects/spring-framework/blob/17cdd97c375579e024424b7eefc5b8a83278bfcd/spring-jcl/src/main/java/org/apache/commons/logging/LogAdapter.java#L50)), which in your case prefer SLF4J over Log4j 2.x.\r\n\r\nSince the classloader randomly loads the `org.apache.commons.logging.LogFactory` class from either `commons-logging` or `spring-jcl` you can have two kinds of problems:\r\n\r\n 1. if the `commons-logging` version is chosen the `ServiceLoader` randomly loads `log4j-jcl`&#39;s implementation or `spring-jcl`&#39;s implementation. You already solved this case in your answer.\r\n 2. if the `spring-jcl`&#39;s version is chosen the SLF4J backend will be used.\r\n\r\nTo solve all these potential problems I would:\r\n\r\n 1. Remove the original `commons-logging` and keep the clone `spring-jcl`. Even better I would exclude both and use the deterministic [`jcl-over-slf4j`](https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j/1.7.32) (complete JCL replacement that always uses SLF4J)\r\n 2. Remove `log4j-jcl` since it is no longer needed (it is only required by the original `commons-logging`),\r\n 3. Add the [`log4j-slf4j-impl`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl) SLF4J binding.\r\n\r\nThis solution adds an additional API to your logging configuration (JCL -&gt; SLF4J -&gt; Log4j 2.x), but guarantees stability. It is also the way [`spring-boot-starter-log4j2`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2) works.","title":"Log4j Commons Logging Bridge ignored","body":"<p>While your answer explains why Log4j 2.x is not chosen as JCL's backend, some details don't add up: the original <code>commons-logging</code> <strong>never</strong> chooses SLF4j as backend (cf. <a href=\"https://github.com/apache/commons-logging/blob/5660a6f6ec7800136027cd4fc594d014e43678a0/src/main/java/org/apache/commons/logging/impl/LogFactoryImpl.java#L789\" rel=\"nofollow noreferrer\">source code</a>). Hence the situation must be more complicated:</p>\n<ul>\n<li>The original <code>commons-logging</code> discovers alternative <a href=\"https://commons.apache.org/proper/commons-logging/apidocs/org/apache/commons/logging/LogFactory.html\" rel=\"nofollow noreferrer\"><code>LogFactory</code></a> implementations through the <code>ServiceLoader</code> utility.</li>\n<li>You must have two alternative <code>LogFactory</code> implementations in your classpath: <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jcl\" rel=\"nofollow noreferrer\"><code>log4j-jcl</code></a> and <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-jcl\" rel=\"nofollow noreferrer\"><code>spring-jcl</code></a>. The latter is a <strong>complete</strong> replacement for the standard <code>commons-logging</code> library (i.e. it contains a copy of <code>org.apache.commons.logging.LogFactory</code> itself) and has some complex backend selection rules (cf. <a href=\"https://github.com/spring-projects/spring-framework/blob/17cdd97c375579e024424b7eefc5b8a83278bfcd/spring-jcl/src/main/java/org/apache/commons/logging/LogAdapter.java#L50\" rel=\"nofollow noreferrer\">source code</a>), which in your case prefer SLF4J over Log4j 2.x.</li>\n</ul>\n<p>Since the classloader randomly loads the <code>org.apache.commons.logging.LogFactory</code> class from either <code>commons-logging</code> or <code>spring-jcl</code> you can have two kinds of problems:</p>\n<ol>\n<li>if the <code>commons-logging</code> version is chosen the <code>ServiceLoader</code> randomly loads <code>log4j-jcl</code>'s implementation or <code>spring-jcl</code>'s implementation. You already solved this case in your answer.</li>\n<li>if the <code>spring-jcl</code>'s version is chosen the SLF4J backend will be used.</li>\n</ol>\n<p>To solve all these potential problems I would:</p>\n<ol>\n<li>Remove the original <code>commons-logging</code> and keep the clone <code>spring-jcl</code>. Even better I would exclude both and use the deterministic <a href=\"https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j/1.7.32\" rel=\"nofollow noreferrer\"><code>jcl-over-slf4j</code></a> (complete JCL replacement that always uses SLF4J)</li>\n<li>Remove <code>log4j-jcl</code> since it is no longer needed (it is only required by the original <code>commons-logging</code>),</li>\n<li>Add the <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl\" rel=\"nofollow noreferrer\"><code>log4j-slf4j-impl</code></a> SLF4J binding.</li>\n</ol>\n<p>This solution adds an additional API to your logging configuration (JCL -&gt; SLF4J -&gt; Log4j 2.x), but guarantees stability. It is also the way <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-log4j2</code></a> works.</p>\n"}],"owner":{"account_id":282078,"reputation":847,"user_id":578759,"display_name":"Hok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4023,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70005657,"answer_count":2,"score":2,"last_activity_date":1637183570,"creation_date":1636730455,"question_id":69945175,"body_markdown":"Our web app runs in a tomcat 9 container and uses **Log4j** 2.13.3 as logging system.\r\n\r\nThe web app includes org.apache.xmlgraphics:fop 2.3, which uses apache **commons-logging** (version 1.2 in our setup instead of 1.0.4 originally used in fop).\r\n\r\nThis combination has been running for years using log4-jcl, the Commons Logging Bridge, and all commons-logging output correctly went into the files configured by log4j. The configuration is fairly easy, as described [in this SO answer][1]\r\n\r\nHowever, for no apparent reason, fop has recently started writing all its (rather verbose) logs to stderr (i.e. directly to catalina.out) instead of the log file configured, but only on **some** of our systems. We have some 50 tomcat instances running basically identical software and identical system configurations; one third of them still logs correctly.\r\n\r\nI assume that commons-logging doesn&#39;t find log4j-jcl&#39;s implementation of org.apache.commons.logging.LogFactory.\r\n\r\nDebugging log4j using *Configuration status=&quot;trace&quot;* doesn&#39;t provide any hint of a failure in log4j-jcl or elsewhere.\r\n\r\nI&#39;m out of my wits. Any suggestions?\r\n\r\n  [1]: https://stackoverflow.com/a/29838406/578759","title":"Log4j Commons Logging Bridge ignored","body":"<p>Our web app runs in a tomcat 9 container and uses <strong>Log4j</strong> 2.13.3 as logging system.</p>\n<p>The web app includes org.apache.xmlgraphics:fop 2.3, which uses apache <strong>commons-logging</strong> (version 1.2 in our setup instead of 1.0.4 originally used in fop).</p>\n<p>This combination has been running for years using log4-jcl, the Commons Logging Bridge, and all commons-logging output correctly went into the files configured by log4j. The configuration is fairly easy, as described <a href=\"https://stackoverflow.com/a/29838406/578759\">in this SO answer</a></p>\n<p>However, for no apparent reason, fop has recently started writing all its (rather verbose) logs to stderr (i.e. directly to catalina.out) instead of the log file configured, but only on <strong>some</strong> of our systems. We have some 50 tomcat instances running basically identical software and identical system configurations; one third of them still logs correctly.</p>\n<p>I assume that commons-logging doesn't find log4j-jcl's implementation of org.apache.commons.logging.LogFactory.</p>\n<p>Debugging log4j using <em>Configuration status=&quot;trace&quot;</em> doesn't provide any hint of a failure in log4j-jcl or elsewhere.</p>\n<p>I'm out of my wits. Any suggestions?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":5,"creation_date":1637181436,"post_id":70011188,"comment_id":123760683,"body_markdown":"This is neither possible nor necessary in Java. Variables only hold references to objects.","body":"This is neither possible nor necessary in Java. Variables only hold references to objects."},{"owner":{"account_id":1811021,"reputation":1567,"user_id":1647098,"accept_rate":45,"display_name":"eimmer"},"score":0,"creation_date":1637181934,"post_id":70011188,"comment_id":123760846,"body_markdown":"What is the point of passing employeeList.size() to the createEmployee method?","body":"What is the point of passing employeeList.size() to the createEmployee method?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637183528,"post_id":70011188,"comment_id":123761346,"body_markdown":"Or, use a `HashMap` to store the &quot;name&quot; against the reference of the `Employee` object, or provide a better looking up mechanism to find an employee by name in the list","body":"Or, use a <code>HashMap</code> to store the &quot;name&quot; against the reference of the <code>Employee</code> object, or provide a better looking up mechanism to find an employee by name in the list"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637182886,"creation_date":1637182886,"answer_id":70011487,"question_id":70011188,"body_markdown":"As written, your code doesn&#39;t compile. You cannot use `+` to define variable names. \r\n\r\nIt appears that you want\r\n\r\n    Employee e = new Employee(fistName, lastName);\r\n\r\nAnd maybe create a string `firstName + &quot; &quot; + lastName` within that class...\r\n\r\nThen, when you add to the list, you need the method to actually return this instance, for example\r\n\r\n    employeeList.add(createEmployee(fName, lName));\r\n","title":"How do I create an employee using another variable as a name?","body":"<p>As written, your code doesn't compile. You cannot use <code>+</code> to define variable names.</p>\n<p>It appears that you want</p>\n<pre><code>Employee e = new Employee(fistName, lastName);\n</code></pre>\n<p>And maybe create a string <code>firstName + &quot; &quot; + lastName</code> within that class...</p>\n<p>Then, when you add to the list, you need the method to actually return this instance, for example</p>\n<pre><code>employeeList.add(createEmployee(fName, lName));\n</code></pre>\n"}],"owner":{"account_id":23371068,"reputation":1,"user_id":17441911,"display_name":"AHO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637182886,"creation_date":1637181284,"question_id":70011188,"body_markdown":"I have this code, I am using another file to house the Employee class but I would like to use firstName + lastName to be the name of the employee object. I want to do this so I can create Employee objects with this method and have unique names for each one\r\n\r\n\r\n\r\n    package com.aho;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public void createEmployee(String firstName, String lastName, int employeeCount){\r\n            Employee firstName + lastName = new Employee();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ArrayList &lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter command: &quot;);\r\n            String command = input.nextLine();\r\n    \r\n            if(command.equals(&quot;Create new employee&quot;) || command.equals(&quot;create new employee&quot;)){\r\n                System.out.println(&quot;\\n&quot; + &quot;Input first name: &quot;);\r\n                String fName = input.nextLine();\r\n                System.out.println(&quot;\\n&quot; + &quot;Input last name: &quot;);\r\n                String lName = input.nextLine();\r\n                createEmployee(fName,lName, employeeList.size());\r\n            }else {\r\n                System.out.println(&quot;Error&quot;);\r\n            }\r\n        }\r\n    \r\n    }","title":"How do I create an employee using another variable as a name?","body":"<p>I have this code, I am using another file to house the Employee class but I would like to use firstName + lastName to be the name of the employee object. I want to do this so I can create Employee objects with this method and have unique names for each one</p>\n<pre><code>package com.aho;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public void createEmployee(String firstName, String lastName, int employeeCount){\n        Employee firstName + lastName = new Employee();\n    }\n\n    public static void main(String[] args) {\n        ArrayList &lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Please enter command: &quot;);\n        String command = input.nextLine();\n\n        if(command.equals(&quot;Create new employee&quot;) || command.equals(&quot;create new employee&quot;)){\n            System.out.println(&quot;\\n&quot; + &quot;Input first name: &quot;);\n            String fName = input.nextLine();\n            System.out.println(&quot;\\n&quot; + &quot;Input last name: &quot;);\n            String lName = input.nextLine();\n            createEmployee(fName,lName, employeeList.size());\n        }else {\n            System.out.println(&quot;Error&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","annotations"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1493544784,"post_id":43703582,"comment_id":74454352,"body_markdown":"That is not an annotated package, but a class in a package (which is different). Use `packagesToScan` instead.","body":"That is not an annotated package, but a class in a package (which is different). Use <code>packagesToScan</code> instead."},{"owner":{"account_id":1138237,"reputation":6479,"user_id":1122841,"accept_rate":57,"display_name":"Kaushik Lele"},"score":0,"creation_date":1493548217,"post_id":43703582,"comment_id":74455221,"body_markdown":"@M.Deinum thanks. Can you please ppint me to correct use of annotatedPackage use ?","body":"@M.Deinum thanks. Can you please ppint me to correct use of annotatedPackage use ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1493551521,"post_id":43703582,"comment_id":74456035,"body_markdown":"annotated packages is for detecting packages with `package-info.java` which has annotations on it. Like type filters etc.","body":"annotated packages is for detecting packages with <code>package-info.java</code> which has annotations on it. Like type filters etc."}],"answers":[{"tags":[],"owner":{"account_id":7635312,"reputation":504,"user_id":5789040,"display_name":"Rahul Gupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637182718,"creation_date":1493544049,"answer_id":43704841,"question_id":43703582,"body_markdown":"You should use **packagesToScan** property\r\n\r\n`&lt;property name=&quot;packagesToScan&quot; value=&quot;com.kaushik.winnersoft.data&quot;&gt;&lt;/property&gt;`\r\n\r\nThanks","title":"Spring + Hibernate annotatedPackages tag not working","body":"<p>You should use <strong>packagesToScan</strong> property</p>\n<p><code>&lt;property name=&quot;packagesToScan&quot; value=&quot;com.kaushik.winnersoft.data&quot;&gt;&lt;/property&gt;</code></p>\n<p>Thanks</p>\n"}],"owner":{"account_id":1138237,"reputation":6479,"user_id":1122841,"accept_rate":57,"display_name":"Kaushik Lele"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43704841,"answer_count":1,"score":4,"last_activity_date":1637182718,"creation_date":1493533442,"question_id":43703582,"body_markdown":"I have annotated class\r\n\r\n    package com.kaushik.winnersoft.data;\r\n    @Entity\r\n    @Table(name=&quot;Customer&quot;)\r\n    public class Customer {\r\n\r\n\tint id;\r\n\tString name,surname;\r\n\t@Id\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t@Column\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n    :\r\n    :\r\n    }\r\n\r\nSpring has configuration as follows\r\n\r\n    &lt;bean id=&quot;mySessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;annotatedPackages&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;com.kaushik.winnersoft.data&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.HSQLDialect&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\nBut when running test class it says\r\n\r\n\tCaused by: org.hibernate.MappingException: Unknown entity: com.kaushik.winnersoft.data.Customer\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.entityPersister(MetamodelImpl.java:620)\r\n\tat org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1634)\r\n\r\nIf I use \r\n\r\n     \t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t&lt;value&gt;com.kaushik.winnersoft.data.Customer&lt;/value&gt;\r\n\t\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\nIt does not give above error. What is mistake in using &quot;annotatedPackages&quot; ?\r\n","title":"Spring + Hibernate annotatedPackages tag not working","body":"<p>I have annotated class</p>\n\n<pre><code>package com.kaushik.winnersoft.data;\n@Entity\n@Table(name=\"Customer\")\npublic class Customer {\n\nint id;\nString name,surname;\n@Id\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\n@Column\npublic String getName() {\n    return name;\n}\n:\n:\n}\n</code></pre>\n\n<p>Spring has configuration as follows</p>\n\n<pre><code>&lt;bean id=\"mySessionFactory\" class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"annotatedPackages\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.kaushik.winnersoft.data&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.HSQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n    &lt;property name=\"\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>But when running test class it says</p>\n\n<pre><code>Caused by: org.hibernate.MappingException: Unknown entity: com.kaushik.winnersoft.data.Customer\nat org.hibernate.metamodel.internal.MetamodelImpl.entityPersister(MetamodelImpl.java:620)\nat org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1634)\n</code></pre>\n\n<p>If I use </p>\n\n<pre><code>    &lt;property name=\"annotatedClasses\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.kaushik.winnersoft.data.Customer&lt;/value&gt;\n            &lt;/list&gt;\n    &lt;/property&gt;\n</code></pre>\n\n<p>It does not give above error. What is mistake in using \"annotatedPackages\" ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":3,"creation_date":1637182425,"post_id":70011398,"comment_id":123760986,"body_markdown":"Your code is only creating an array of size 2. It doesn&#39;t create any instances of BufferedImage.","body":"Your code is only creating an array of size 2. It doesn&#39;t create any instances of BufferedImage."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637182478,"post_id":70011398,"comment_id":123761004,"body_markdown":"Each array element is set to null.","body":"Each array element is set to null."},{"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":1,"creation_date":1637182995,"post_id":70011398,"comment_id":123761175,"body_markdown":"Notice the square brackets [ ] on the right .  They indicate that this is not a constructor call. This code creates an array of size 2. Each entry could contain a BufferedImage, but non have been created yet.  You can imagine the array as looking like this [ null ] [ null ]","body":"Notice the square brackets [ ] on the right .  They indicate that this is not a constructor call. This code creates an array of size 2. Each entry could contain a BufferedImage, but non have been created yet.  You can imagine the array as looking like this [ null ] [ null ]"},{"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"score":0,"creation_date":1637187730,"post_id":70011398,"comment_id":123762763,"body_markdown":"Gonen, thank you for the helpful comment!  Would you make that an answer ?  I found it to be so helpful.","body":"Gonen, thank you for the helpful comment!  Would you make that an answer ?  I found it to be so helpful."}],"answers":[{"tags":[],"owner":{"account_id":17630574,"reputation":272,"user_id":12794752,"display_name":"darkmnemic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637182472,"creation_date":1637182472,"answer_id":70011441,"question_id":70011398,"body_markdown":"That line of code is not a constructor for a `BufferedImage`. Rather, it is a constructor for an array of `BufferedImage` of size 2.","title":"What is my BufferedImage constructor doing -- &#39;new BufferedImage[2]&#39;?","body":"<p>That line of code is not a constructor for a <code>BufferedImage</code>. Rather, it is a constructor for an array of <code>BufferedImage</code> of size 2.</p>\n"}],"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1637182472,"creation_date":1637182274,"question_id":70011398,"body_markdown":"I have the following line of Java, but when I look at the documentation (which I&#39;ll link), I don&#39;t understand what my (inherited) code is doing.  My line of code provides one argument  whereas the documentation lays out three different constructor methods, none of which handle just one argument.  **The primary thing I want to understand is: which of the constructor methods is being used in by my code, and why?** I read up on constructors and overloading, I read up on the Image superclass, but no clues popped out to me. Please be nice; I&#39;m still new to Java.\r\n\r\n`BufferedImage[] bufferedImages = new BufferedImage[2];`\r\n\r\nFrom the documentation (https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html):\r\n\r\n```\r\nBufferedImage(ColorModel cm, WritableRaster raster, boolean isRasterPremultiplied, Hashtable&lt;?,?&gt; properties)\r\nConstructs a new BufferedImage with a specified ColorModel and Raster.\r\n\r\nBufferedImage(int width, int height, int imageType)\r\nConstructs a BufferedImage of one of the predefined image types.\r\n\r\nBufferedImage(int width, int height, int imageType, IndexColorModel cm)\r\nConstructs a BufferedImage of one of the predefined image types: TYPE_BYTE_BINARY or TYPE_BYTE_INDEXED.\r\n```\r\n\r\n","title":"What is my BufferedImage constructor doing -- &#39;new BufferedImage[2]&#39;?","body":"<p>I have the following line of Java, but when I look at the documentation (which I'll link), I don't understand what my (inherited) code is doing.  My line of code provides one argument  whereas the documentation lays out three different constructor methods, none of which handle just one argument.  <strong>The primary thing I want to understand is: which of the constructor methods is being used in by my code, and why?</strong> I read up on constructors and overloading, I read up on the Image superclass, but no clues popped out to me. Please be nice; I'm still new to Java.</p>\n<p><code>BufferedImage[] bufferedImages = new BufferedImage[2];</code></p>\n<p>From the documentation (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html</a>):</p>\n<pre><code>BufferedImage(ColorModel cm, WritableRaster raster, boolean isRasterPremultiplied, Hashtable&lt;?,?&gt; properties)\nConstructs a new BufferedImage with a specified ColorModel and Raster.\n\nBufferedImage(int width, int height, int imageType)\nConstructs a BufferedImage of one of the predefined image types.\n\nBufferedImage(int width, int height, int imageType, IndexColorModel cm)\nConstructs a BufferedImage of one of the predefined image types: TYPE_BYTE_BINARY or TYPE_BYTE_INDEXED.\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1637002394,"post_id":69979385,"comment_id":123703478,"body_markdown":"Not natively, but it&#39;s doable at the framework level, like Jackson does: https://stackoverflow.com/questions/13401581/how-to-create-an-annotation-that-is-a-group-of-jackson-annotations","body":"Not natively, but it&#39;s doable at the framework level, like Jackson does: <a href=\"https://stackoverflow.com/questions/13401581/how-to-create-an-annotation-that-is-a-group-of-jackson-annotations\" title=\"how to create an annotation that is a group of jackson annotations\">stackoverflow.com/questions/13401581/&hellip;</a>"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1637002776,"post_id":69979385,"comment_id":123703625,"body_markdown":"Does this answer your question? [swagger combine some repeating annotations](https://stackoverflow.com/questions/46324478/swagger-combine-some-repeating-annotations)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46324478/swagger-combine-some-repeating-annotations\">swagger combine some repeating annotations</a>"},{"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"score":0,"creation_date":1637004420,"post_id":69979385,"comment_id":123704219,"body_markdown":"@M.Prokhorov - the &quot;meta&quot; annotation answer looked promising, but it doesn&#39;t actually compile for annotations nested inside other annotations, which is my actual use case.  (params are inside of `ApiResponse`","body":"@M.Prokhorov - the &quot;meta&quot; annotation answer looked promising, but it doesn&#39;t actually compile for annotations nested inside other annotations, which is my actual use case.  (params are inside of <code>ApiResponse</code>"},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1637004615,"post_id":69979385,"comment_id":123704290,"body_markdown":"At least Java allows you to extract primitives, strings, and arrays of both to static finals.","body":"At least Java allows you to extract primitives, strings, and arrays of both to static finals."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1637163212,"post_id":69979385,"comment_id":123753134,"body_markdown":"@marathon, what do you mean &quot;doesn&#39;t compile&quot;? If you meant code from your original snippet and that doesn&#39;t compile - it&#39;s the correct compiler behavior, you can&#39;t assign annotation to a variable - you have to define a proper `@interface`. Otherwise, please show your actual code and what doesn&#39;t compile.","body":"@marathon, what do you mean &quot;doesn&#39;t compile&quot;? If you meant code from your original snippet and that doesn&#39;t compile - it&#39;s the correct compiler behavior, you can&#39;t assign annotation to a variable - you have to define a proper <code>@interface</code>. Otherwise, please show your actual code and what doesn&#39;t compile."},{"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"score":0,"creation_date":1637182562,"post_id":69979385,"comment_id":123761030,"body_markdown":"@M.Prokhorov - no, not my code snippet from the question.  See the update at the bottom of my question.","body":"@M.Prokhorov - no, not my code snippet from the question.  See the update at the bottom of my question."}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637182459,"creation_date":1637001992,"question_id":69979385,"body_markdown":"I&#39;m using swagger annotations to document an api, and they&#39;re quite verbose.  I find myself repeating certain annotations verbatim.  like:\r\n\r\n```java\r\npublic Response myAPI(\r\n        @Parameter(\r\n                description = &quot;Some long long description&quot;,\r\n                required = true,\r\n                schema = @Schema(allowableValues = {&quot;abc&quot;, &quot;def&quot;, &quot;hij&quot;}, defaultValue = &quot;abc&quot;))\r\n        @QueryParam(&quot;foo&quot;) String foo) {\r\n}\r\n```\r\n\r\nWhat I&#39;d love to have is:\r\n```java\r\nstatic Parameter myRepeatingParam = @Parameter(\r\n              description = &quot;Some long long description&quot;,\r\n              required = true,\r\n              schema = @Schema(allowableValues = {&quot;abc&quot;, &quot;def&quot;, &quot;hij&quot;}, \r\n              defaultValue = &quot;abc&quot;));\r\n\r\npublic Response myAPI01(\r\n        @myRepeatingParam\r\n        @QueryParam(&quot;foo&quot;) String foo) {\r\n}\r\n\r\npublic Response myAPI02(\r\n        @myRepeatingParam\r\n        @QueryParam(&quot;foo&quot;) String foo) {\r\n}\r\n```\r\n\r\n**Update**\r\n\r\nUsing the meta-annotations works some places, but not others.  For instance, given:\r\n```java\r\n@Target({PARAMETER, METHOD, FIELD, ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Parameter(in = ParameterIn.QUERY, name = &quot;foo&quot;)\r\npublic @interface TestSwagger {\r\n}\r\n```\r\nThis compiles:\r\n```java\r\n    public Response myAPI(\r\n            @TestSwagger\r\n            @QueryParam(&quot;foo&quot;) String foo) {\r\n        return null;\r\n    }\r\n```\r\n\r\nBut in this use case it does not, because `@TestSwagger` isn&#39;t a `@Parameter` and there appears to be no polymorphism in this case.\r\n\r\n```java\r\n    @Operation(\r\n            parameters = { // array of @Parameters\r\n                    @TestSwagger,\r\n                    @Parameter(in = ParameterIn.QUERY, name = &quot;bar&quot;)},\r\n            )\r\n    public Response myAPINope(\r\n            @QueryParam(&quot;foo&quot;) String foo,\r\n            @QueryParam(&quot;bar&quot;) String bar) {\r\n        return null;\r\n    }\r\n```\r\n\r\nThis 2nd case is more what I&#39;m going after and doesn&#39;t seem possible.","title":"Is it possible to have a &quot;reference&quot; to an annotation instance to reduce code duplication?","body":"<p>I'm using swagger annotations to document an api, and they're quite verbose.  I find myself repeating certain annotations verbatim.  like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Response myAPI(\n        @Parameter(\n                description = &quot;Some long long description&quot;,\n                required = true,\n                schema = @Schema(allowableValues = {&quot;abc&quot;, &quot;def&quot;, &quot;hij&quot;}, defaultValue = &quot;abc&quot;))\n        @QueryParam(&quot;foo&quot;) String foo) {\n}\n</code></pre>\n<p>What I'd love to have is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Parameter myRepeatingParam = @Parameter(\n              description = &quot;Some long long description&quot;,\n              required = true,\n              schema = @Schema(allowableValues = {&quot;abc&quot;, &quot;def&quot;, &quot;hij&quot;}, \n              defaultValue = &quot;abc&quot;));\n\npublic Response myAPI01(\n        @myRepeatingParam\n        @QueryParam(&quot;foo&quot;) String foo) {\n}\n\npublic Response myAPI02(\n        @myRepeatingParam\n        @QueryParam(&quot;foo&quot;) String foo) {\n}\n</code></pre>\n<p><strong>Update</strong></p>\n<p>Using the meta-annotations works some places, but not others.  For instance, given:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({PARAMETER, METHOD, FIELD, ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Parameter(in = ParameterIn.QUERY, name = &quot;foo&quot;)\npublic @interface TestSwagger {\n}\n</code></pre>\n<p>This compiles:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Response myAPI(\n            @TestSwagger\n            @QueryParam(&quot;foo&quot;) String foo) {\n        return null;\n    }\n</code></pre>\n<p>But in this use case it does not, because <code>@TestSwagger</code> isn't a <code>@Parameter</code> and there appears to be no polymorphism in this case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Operation(\n            parameters = { // array of @Parameters\n                    @TestSwagger,\n                    @Parameter(in = ParameterIn.QUERY, name = &quot;bar&quot;)},\n            )\n    public Response myAPINope(\n            @QueryParam(&quot;foo&quot;) String foo,\n            @QueryParam(&quot;bar&quot;) String bar) {\n        return null;\n    }\n</code></pre>\n<p>This 2nd case is more what I'm going after and doesn't seem possible.</p>\n"},{"tags":["java","httpserver"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1637109544,"post_id":69997587,"comment_id":123736926,"body_markdown":"You send response headers every 0x10000 (=65536) bytes. That is not what you want. I suspect that the video file is the only content that exceeds that size, and thus this error only happens there.","body":"You send response headers every 0x10000 (=65536) bytes. That is not what you want. I suspect that the video file is the only content that exceeds that size, and thus this error only happens there."},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":1,"creation_date":1637110329,"post_id":69997587,"comment_id":123737038,"body_markdown":"@f1sh good thought, I tried increasing the size but unfortunately same error.","body":"@f1sh good thought, I tried increasing the size but unfortunately same error."}],"answers":[{"tags":[],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637182268,"creation_date":1637182268,"answer_id":70011396,"question_id":69997587,"body_markdown":"So the issue ended up being that I was adding an mp4, we&#39;ll call test.mp4 to an endpoint, we&#39;ll call it /example, but when I referenced the mp4 in my HTML file I did /example/test.mp4 instead of just /example.","title":"Can&#39;t host MP4 com.sun HttpServer","body":"<p>So the issue ended up being that I was adding an mp4, we'll call test.mp4 to an endpoint, we'll call it /example, but when I referenced the mp4 in my HTML file I did /example/test.mp4 instead of just /example.</p>\n"}],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70011396,"answer_count":1,"score":0,"last_activity_date":1637182268,"creation_date":1637108546,"question_id":69997587,"body_markdown":"I made a basic HTTP server using com.sun.net.httpserver API. When I use createContext, it seems to work fine for everything except video files. Here is the HttpHandler I&#39;m using in the createContext statement:\r\n\r\n    private static HttpHandler load(final String fileName) {\r\n\t   \treturn new HttpHandler() {\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(HttpExchange t) throws IOException {\r\n\t\t\t\tFile file = new File(fileName);\r\n\t\t\t\tFileInputStream fin = new FileInputStream(file);\r\n\r\n\t\t\t\tOutputStream os = t.getResponseBody();\r\n\r\n\t\t\t\tfinal byte[] buffer = new byte[0x10000];\r\n\t\t\t\tint count = 0;\r\n\t\t\t\twhile ((count = fin.read(buffer)) &gt;= 0) {\r\n\t\t\t\t\tt.sendResponseHeaders(200, count);\r\n\t\t\t\t\tos.write(buffer, 0, count);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tos.flush();\r\n\t\t\t\tos.close();\r\n\t\t\t\tfin.close();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\nI&#39;m not getting any errors. When I open the web page to view the video, it&#39;ll just show an empty video frame. My HTML itself is fine, as I tried it without hosting the server and it worked. How can I fix this?","title":"Can&#39;t host MP4 com.sun HttpServer","body":"<p>I made a basic HTTP server using com.sun.net.httpserver API. When I use createContext, it seems to work fine for everything except video files. Here is the HttpHandler I'm using in the createContext statement:</p>\n<pre><code>private static HttpHandler load(final String fileName) {\n    return new HttpHandler() {\n        @Override\n        public void handle(HttpExchange t) throws IOException {\n            File file = new File(fileName);\n            FileInputStream fin = new FileInputStream(file);\n\n            OutputStream os = t.getResponseBody();\n\n            final byte[] buffer = new byte[0x10000];\n            int count = 0;\n            while ((count = fin.read(buffer)) &gt;= 0) {\n                t.sendResponseHeaders(200, count);\n                os.write(buffer, 0, count);\n            }\n\n            os.flush();\n            os.close();\n            fin.close();\n        }\n    };\n}\n</code></pre>\n<p>I'm not getting any errors. When I open the web page to view the video, it'll just show an empty video frame. My HTML itself is fine, as I tried it without hosting the server and it worked. How can I fix this?</p>\n"},{"tags":["java","sql-server","resultset","executequery","dbcc"],"comments":[{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1603449172,"post_id":64498284,"comment_id":114047399,"body_markdown":"DBCC CHECKDB returns results as messages rather than a result set by default. Either specify the `TABLERESULTS` option (`DBCC CHECKDB WITH TABLERESULTS;`) or execute the query with a method that doesn&#39;t return a result set.","body":"DBCC CHECKDB returns results as messages rather than a result set by default. Either specify the <code>TABLERESULTS</code> option (<code>DBCC CHECKDB WITH TABLERESULTS;</code>) or execute the query with a method that doesn&#39;t return a result set."},{"owner":{"account_id":15071578,"reputation":1,"user_id":10876864,"display_name":"Nguyễn Thanh T&#249;ng"},"score":0,"creation_date":1603452326,"post_id":64498284,"comment_id":114048647,"body_markdown":"thanks. it will help me a lot","body":"thanks. it will help me a lot"}],"answers":[{"tags":[],"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603454100,"creation_date":1603454100,"answer_id":64499505,"question_id":64498284,"body_markdown":"`DBCC CHECKDB` returns results as messages rather than a result set by default. Specify the `TABLERESULTS` option (`DBCC CHECKDB WITH TABLERESULTS;`) so results are returned as rows instead of messages.\r\n\r\nAlternatively, you could use the `execute` method instead of `executeQuery` and get the returned messages using `getWarnings`:\r\n\r\n    stmt.execute(&quot;DBCC CHECKDB;&quot;);\r\n    SQLWarning w = stmt.getWarnings();\r\n    while(w != null) {\r\n        System.out.println(w.getMessage());\r\n        w = w.getNextWarning();\r\n    }\r\n\t\t\t\t   ","title":"DBCC CHECKDB did not return a result set in Java ( MS SQL )","body":"<p><code>DBCC CHECKDB</code> returns results as messages rather than a result set by default. Specify the <code>TABLERESULTS</code> option (<code>DBCC CHECKDB WITH TABLERESULTS;</code>) so results are returned as rows instead of messages.</p>\n<p>Alternatively, you could use the <code>execute</code> method instead of <code>executeQuery</code> and get the returned messages using <code>getWarnings</code>:</p>\n<pre><code>stmt.execute(&quot;DBCC CHECKDB;&quot;);\nSQLWarning w = stmt.getWarnings();\nwhile(w != null) {\n    System.out.println(w.getMessage());\n    w = w.getNextWarning();\n}\n               \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16114871,"reputation":1,"user_id":11632277,"display_name":"Jose Rojas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637182079,"creation_date":1637182079,"answer_id":70011345,"question_id":64498284,"body_markdown":"Use Boolean rs = stmt.execute(&quot;DBCC CHECKDB;&quot;); instead.\r\n\r\nSome SQL statements don&#39;t return a resultset.","title":"DBCC CHECKDB did not return a result set in Java ( MS SQL )","body":"<p>Use Boolean rs = stmt.execute(&quot;DBCC CHECKDB;&quot;); instead.</p>\n<p>Some SQL statements don't return a resultset.</p>\n"}],"owner":{"account_id":15071578,"reputation":1,"user_id":10876864,"display_name":"Nguyễn Thanh T&#249;ng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637182079,"creation_date":1603448782,"question_id":64498284,"body_markdown":"Here is my Function: \r\n\r\n    private static void checkDatabase(String dbName, String password) {\r\n        try{\r\n            Connection con=DriverManager.getConnection(\r\n                    &quot;jdbc:sqlserver://localhost;database=&quot;+dbName+ &quot;;user=SA;password=&quot; +password);\r\n            Statement stmt=con.createStatement();\r\n            ResultSet rs=stmt.executeQuery(&quot;DBCC CHECKDB;&quot;);\r\n            while(rs.next()){\r\n              System.out.println( //TODO );\r\n            }\r\n                con.close();\r\n        }catch(Exception e){ System.out.println(e);}\r\n    }\r\n\r\n1. I wanna use DBCC CHECKDB to check all Databases but got this Error:\r\n\r\n        com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set. \r\n   Why DBCC CHECK DB can not work with executeQuery() and how can i fix it ?\r\n\r\n2. So if i have already ResultSet from stmt.executeQuery(), how can i read this Result as Lines or String? I want to read how many Errors are there. Thank you.  ","title":"DBCC CHECKDB did not return a result set in Java ( MS SQL )","body":"<p>Here is my Function:</p>\n<pre><code>private static void checkDatabase(String dbName, String password) {\n    try{\n        Connection con=DriverManager.getConnection(\n                &quot;jdbc:sqlserver://localhost;database=&quot;+dbName+ &quot;;user=SA;password=&quot; +password);\n        Statement stmt=con.createStatement();\n        ResultSet rs=stmt.executeQuery(&quot;DBCC CHECKDB;&quot;);\n        while(rs.next()){\n          System.out.println( //TODO );\n        }\n            con.close();\n    }catch(Exception e){ System.out.println(e);}\n}\n</code></pre>\n<ol>\n<li><p>I wanna use DBCC CHECKDB to check all Databases but got this Error:</p>\n<pre><code> com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set. \n</code></pre>\n<p>Why DBCC CHECK DB can not work with executeQuery() and how can i fix it ?</p>\n</li>\n<li><p>So if i have already ResultSet from stmt.executeQuery(), how can i read this Result as Lines or String? I want to read how many Errors are there. Thank you.</p>\n</li>\n</ol>\n"},{"tags":["java","list","object"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1637180720,"post_id":70011075,"comment_id":123760443,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1637180801,"post_id":70011075,"comment_id":123760476,"body_markdown":"Both lists reference the same objects. If we change one element in `odersList`, it also changes in `temp` (since they are the same object).","body":"Both lists reference the same objects. If we change one element in <code>odersList</code>, it also changes in <code>temp</code> (since they are the same object)."}],"answers":[{"tags":[],"owner":{"account_id":20272202,"reputation":356,"user_id":14868118,"display_name":"oktaykcr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637181584,"creation_date":1637181584,"answer_id":70011253,"question_id":70011075,"body_markdown":"I recommend you to examine shallow copy and deep copy. You can read differences between these terms in this [link](https://www.geeksforgeeks.org/deep-shallow-lazy-copy-java-examples/).\r\n\r\nShortly, \r\n`shallow copy`, the reference of objects is kept at the memory address of the original. Changes made to the copied will also affect the original. It is a faster copying process. In `deep copy`, it is kept in two separate references. Only the data in it is transferred to another. The change does not affect the original data. It is slower than shallow.\r\n","title":"I copied a List to a temp ist. I delete properties from the Copied List and properties of the original List Changes","body":"<p>I recommend you to examine shallow copy and deep copy. You can read differences between these terms in this <a href=\"https://www.geeksforgeeks.org/deep-shallow-lazy-copy-java-examples/\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Shortly,\n<code>shallow copy</code>, the reference of objects is kept at the memory address of the original. Changes made to the copied will also affect the original. It is a faster copying process. In <code>deep copy</code>, it is kept in two separate references. Only the data in it is transferred to another. The change does not affect the original data. It is slower than shallow.</p>\n"}],"owner":{"account_id":15567392,"reputation":1,"user_id":11230740,"display_name":"CSBa18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637181584,"creation_date":1637180653,"question_id":70011075,"body_markdown":"i am really confused right now. \r\ni have a List of &quot;Order&quot; objects. They have things like orderNumber and so on..\r\nOur Professor wants a view where you have just short informations about this Order.\r\nAnd if you search for the ID you need to see all information. \r\nSo i thought i just make a copie of the orginal list and delete some properties there. But somehow the properties are changing in the original list. Can you please help?\r\n\r\n[List][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/norGn.png","title":"I copied a List to a temp ist. I delete properties from the Copied List and properties of the original List Changes","body":"<p>i am really confused right now.\ni have a List of &quot;Order&quot; objects. They have things like orderNumber and so on..\nOur Professor wants a view where you have just short informations about this Order.\nAnd if you search for the ID you need to see all information.\nSo i thought i just make a copie of the orginal list and delete some properties there. But somehow the properties are changing in the original list. Can you please help?</p>\n<p><a href=\"https://i.stack.imgur.com/norGn.png\" rel=\"nofollow noreferrer\">List</a></p>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1637180577,"post_id":70010956,"comment_id":123760394,"body_markdown":"Can you share the code for `ConfigurationReader.readConfigurationFile`?","body":"Can you share the code for <code>ConfigurationReader.readConfigurationFile</code>?"},{"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"score":0,"creation_date":1637180975,"post_id":70010956,"comment_id":123760540,"body_markdown":"@AndyWilkinson thanks for the commitment, ConfigurationReader implementation added","body":"@AndyWilkinson thanks for the commitment, ConfigurationReader implementation added"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637181350,"creation_date":1637181350,"answer_id":70011202,"question_id":70010956,"body_markdown":"You are trying to load the file `src/main/resources/redis.properties`. This file only exists when you application&#39;s source code is available and the working directory is the root of the source tree. You&#39;ll see the same failure outside of Docker if you run the jar file without the source available.\r\n\r\nRather than loading the file from the file system, you should load it from the classpath. Any file in `src/main/resources` will be available from the root of the classpath. You could load `redis.properties` using the `InputStream` returned from `ConfigurationReader.class.getClassLoader().getResourceAsStream(&quot;redis.properties&quot;)`. Alternatively, as you&#39;re using Spring Boot, you might want to use Spring Framework&#39;s `ClasspathResource` instead.","title":"FileNotFoundException while dockerized application start","body":"<p>You are trying to load the file <code>src/main/resources/redis.properties</code>. This file only exists when you application's source code is available and the working directory is the root of the source tree. You'll see the same failure outside of Docker if you run the jar file without the source available.</p>\n<p>Rather than loading the file from the file system, you should load it from the classpath. Any file in <code>src/main/resources</code> will be available from the root of the classpath. You could load <code>redis.properties</code> using the <code>InputStream</code> returned from <code>ConfigurationReader.class.getClassLoader().getResourceAsStream(&quot;redis.properties&quot;)</code>. Alternatively, as you're using Spring Boot, you might want to use Spring Framework's <code>ClasspathResource</code> instead.</p>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70011202,"answer_count":1,"score":0,"last_activity_date":1637181350,"creation_date":1637180024,"question_id":70010956,"body_markdown":"I have a problem with dockerized Spring Boot application, namely, while start-up of the application I am receiving:\r\n\r\n```\r\napi-gateway_1  | Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:450) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:199) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        ... 16 common frames omitted\r\napi-gateway_1  | Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;whitelistingFilter&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/fitnessgo/apigateway/intrastructure/security/cognito/security/filter/WhitelistingFilter.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;redisConfiguration&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/fitnessgo/apigateway/intrastructure/cache/RedisConfiguration.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$dc73223a]: Constructor threw exception; nested exception is java.io.FileNotFoundException\r\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:175) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:170) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:155) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\napi-gateway_1  |        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\napi-gateway_1  |        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.52.jar!/:na]\r\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\napi-gateway_1  |        ... 21 common frames omitted\r\napi-gateway_1  | Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;redisConfiguration&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/fitnessgo/apigateway/intrastructure/cache/RedisConfiguration.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$dc73223a]: Constructor threw exception; nested exception is java.io.FileNotFoundException\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1316) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        ... 62 common frames omitted\r\napi-gateway_1  | Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$dc73223a]: Constructor threw exception; nested exception is java.io.FileNotFoundException\r\napi-gateway_1  |        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        ... 83 common frames omitted\r\napi-gateway_1  | Caused by: java.io.FileNotFoundException: null\r\napi-gateway_1  |        at com.fitnessgo.apigateway.intrastructure.security.cognito.ConfigurationReader.readConfigurationFile(ConfigurationReader.java:33) ~[classes!/:0.0.1-SNAPSHOT]\r\napi-gateway_1  |        at com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration.&lt;init&gt;(RedisConfiguration.java:28) ~[classes!/:0.0.1-SNAPSHOT]\r\napi-gateway_1  |        at com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$dc73223a.&lt;init&gt;(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\r\napi-gateway_1  |        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\napi-gateway_1  |        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64) ~[na:na]\r\napi-gateway_1  |        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\napi-gateway_1  |        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\napi-gateway_1  |        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\napi-gateway_1  |        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\napi-gateway_1  |        ... 85 common frames omitted\r\n```\r\n\r\nMy docker file looks like:\r\n\r\n```\r\nFROM openjdk:15\r\n\r\nEXPOSE 8080\r\n\r\nADD ./target/app.jar app.jar\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n\r\n```\r\n\r\n```docker-compose.yml``` looks like:\r\n\r\n```\r\nversion: &#39;3.7&#39;\r\nservices:\r\n\r\n  api-gateway:\r\n    image: &#39;api-gateway:1.0&#39;\r\n    build:\r\n      context: ./api-gateway\r\n      dockerfile: Dockerfile\r\n    restart: always\r\n    ports:\r\n      - &#39;8080:8080&#39;\r\n    networks:\r\n      - app-network\r\n      \r\nnetworks:\r\n  app-network: null\r\nvolumes:\r\n  app-volume: {}\r\n```\r\n\r\nproblematic ```RedisConfiguration``` and ```Whitelisting``` classes look like:\r\n```\r\nimport java.time.Duration;\r\nimport java.util.Properties;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\r\nimport org.springframework.data.redis.connection.RedisPassword;\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.jedis.JedisClientConfiguration;\r\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\r\n\r\n@Configuration\r\n@PropertySource(&quot;classpath:redis.properties&quot;)\r\n@Slf4j\r\npublic class RedisConfiguration {\r\n\r\n  private static final String REDIS_PROPERTIES = &quot;redis.properties&quot;;\r\n  private final Properties redisProperties = readConfigurationFile(REDIS_PROPERTIES);\r\n\r\n  @Value(&quot;${redis.host}&quot;)\r\n  private String host;\r\n\r\n  @Value(&quot;${redis.port}&quot;)\r\n  private int port;\r\n\r\n  @Value(&quot;${redis.password}&quot;)\r\n  private String password;\r\n\r\n  @Value(&quot;${redis.timeout}&quot;)\r\n  private String timeout;\r\n\r\n  @Bean(name = &quot;jedisConnectionFactory&quot;)\r\n  JedisConnectionFactory jedisConnectionFactory() {\r\n    return new JedisConnectionFactory();\r\n  }\r\n\r\n  @Bean(name = &quot;redisTemplate&quot;)\r\n  public RedisTemplate&lt;String, Object&gt; redisTemplate(\r\n      @Qualifier(value = &quot;jedisConnectionFactory&quot;) RedisConnectionFactory redisConnectionFactory) {\r\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(redisConnectionFactory);\r\n    template.setKeySerializer(stringRedisSerializer());\r\n    template.setValueSerializer(stringRedisSerializer());\r\n    return template;\r\n  }\r\n\r\n  @Bean(name = &quot;redisUserConnectionFactory&quot;)\r\n  public JedisConnectionFactory redisUserConnectionFactory() {\r\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\r\n    String userDb = getProperty(redisProperties, RedisDb.USER_DB);\r\n\r\n    setRedisProperties(redisConfiguration, userDb);\r\n\r\n    JedisClientConfiguration jedisClientConfiguration =\r\n        JedisClientConfiguration.builder()\r\n            .connectTimeout(Duration.ofMillis(Long.parseLong(timeout)))\r\n            .build();\r\n    logRedisConnectionDetails(redisConfiguration);\r\n\r\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration);\r\n  }\r\n\r\n  @Bean(name = &quot;userRedisTemplate&quot;)\r\n  public RedisTemplate&lt;String, Object&gt; userRedisTemplate(\r\n      @Qualifier(value = &quot;redisUserConnectionFactory&quot;)\r\n          RedisConnectionFactory redisConnectionFactory) {\r\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(redisConnectionFactory);\r\n    template.setKeySerializer(stringRedisSerializer());\r\n    template.setValueSerializer(stringRedisSerializer());\r\n    return template;\r\n  }\r\n\r\n  @Bean(name = &quot;redisRegistrationTokenConnectionFactory&quot;)\r\n  public JedisConnectionFactory redisRegistrationTokenConnectionFactory() {\r\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\r\n\r\n    String registrationTokenDb = getProperty(redisProperties, RedisDb.REGISTRATION_TOKEN_DB);\r\n    setRedisProperties(redisConfiguration, registrationTokenDb);\r\n\r\n    JedisClientConfiguration jedisClientConfiguration =\r\n        JedisClientConfiguration.builder()\r\n            .connectTimeout(Duration.ofMillis(Long.parseLong(timeout)))\r\n            .build();\r\n    logRedisConnectionDetails(redisConfiguration);\r\n\r\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration);\r\n  }\r\n\r\n  @Bean(name = &quot;registrationTokenRedisTemplate&quot;)\r\n  public RedisTemplate&lt;String, Object&gt; registrationTokenRedisTemplate(\r\n      @Qualifier(value = &quot;redisRegistrationTokenConnectionFactory&quot;)\r\n          RedisConnectionFactory redisConnectionFactory) {\r\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(redisConnectionFactory);\r\n    template.setKeySerializer(stringRedisSerializer());\r\n    template.setValueSerializer(stringRedisSerializer());\r\n    return template;\r\n  }\r\n\r\n  @Bean(name = &quot;redisWhitelistingConnectionFactory&quot;)\r\n  public JedisConnectionFactory redisWhitelistingConnectionFactory() {\r\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\r\n\r\n    String whitelistingDb = getProperty(redisProperties, RedisDb.WHITELISTING_DB);\r\n    setRedisProperties(redisConfiguration, whitelistingDb);\r\n\r\n    JedisClientConfiguration jedisClientConfiguration =\r\n        JedisClientConfiguration.builder()\r\n            .connectTimeout(Duration.ofMillis(Long.parseLong(timeout)))\r\n            .build();\r\n    logRedisConnectionDetails(redisConfiguration);\r\n\r\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration);\r\n  }\r\n\r\n  @Bean(name = &quot;whitelistingRedisTemplate&quot;)\r\n  public RedisTemplate&lt;String, Object&gt; whitelistingRedisTemplate(\r\n      @Qualifier(value = &quot;redisWhitelistingConnectionFactory&quot;)\r\n          RedisConnectionFactory redisConnectionFactory) {\r\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(redisConnectionFactory);\r\n    template.setKeySerializer(stringRedisSerializer());\r\n    template.setValueSerializer(stringRedisSerializer());\r\n    return template;\r\n  }\r\n\r\n  @Bean(name = &quot;stringRedisSerializer&quot;)\r\n  public StringRedisSerializer stringRedisSerializer() {\r\n    return new StringRedisSerializer();\r\n  }\r\n\r\n  private void setRedisProperties(RedisStandaloneConfiguration redisConfiguration, String redisDb) {\r\n    redisConfiguration.setHostName(host);\r\n    redisConfiguration.setPort(port);\r\n    redisConfiguration.setDatabase(Integer.parseInt(redisDb));\r\n    redisConfiguration.setPassword(RedisPassword.of(password));\r\n  }\r\n\r\n  private void logRedisConnectionDetails(RedisStandaloneConfiguration redisConfiguration) {\r\n    log.info(\r\n        &quot;Connected to Redis host: {}, port: {}, database: {}&quot;,\r\n        redisConfiguration.getHostName(),\r\n        redisConfiguration.getPort(),\r\n        redisConfiguration.getDatabase());\r\n  }\r\n}\r\n```\r\n```\r\nimport java.util.Optional;\r\nimport java.util.Properties;\r\nimport java.util.stream.Stream;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport lombok.NonNull;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.util.AntPathMatcher;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\n@Component\r\n@Slf4j\r\npublic class WhitelistingFilter extends OncePerRequestFilter {\r\n\r\n  private static final String SECURITY_PROPERTIES = &quot;security.properties&quot;;\r\n  private final Properties securityProperties = readConfigurationFile(SECURITY_PROPERTIES);\r\n  private final String whitelistingEnabled = securityProperties.getProperty(&quot;whitelisting.enabled&quot;, FALSE.toString());\r\n\r\n  private final RedisTemplate&lt;String, Object&gt; whitelistingRedisTemplate;\r\n  private final AwsCognitoIdTokenProcessor awsCognitoIdTokenProcessor;\r\n\r\n  public WhitelistingFilter(\r\n      @Qualifier(&quot;whitelistingRedisTemplate&quot;)\r\n          RedisTemplate&lt;String, Object&gt; whitelistingRedisTemplate,\r\n      AwsCognitoIdTokenProcessor awsCognitoIdTokenProcessor) {\r\n    this.whitelistingRedisTemplate = whitelistingRedisTemplate;\r\n    this.awsCognitoIdTokenProcessor = awsCognitoIdTokenProcessor;\r\n  }\r\n\r\n  @Override\r\n  protected boolean shouldNotFilter(@NonNull HttpServletRequest request) {\r\n    AntPathMatcher pathMatcher = new AntPathMatcher();\r\n    return Stream.of(USER_LOGIN_URL, ADMIN_LOGIN_URL, SIGNUP_BY_ADMIN_URL, SIGNUP_URL, LOGOUT_URL)\r\n            .anyMatch(p -&gt; pathMatcher.match(p, request.getServletPath())) || whitelistingDisabled();\r\n  }\r\n\r\n  private boolean whitelistingDisabled() {\r\n    return FALSE.toString().equalsIgnoreCase(whitelistingEnabled);\r\n  }\r\n\r\n  @Override\r\n  protected void doFilterInternal(@NonNull HttpServletRequest httpServletRequest, @NonNull HttpServletResponse httpServletResponse, @NonNull FilterChain filterChain) {\r\n    try {\r\n      Authentication authentication = awsCognitoIdTokenProcessor.getAuthentication(httpServletRequest);\r\n      Optional&lt;String&gt; username = Optional.ofNullable(authentication.getName());\r\n      if (username.isPresent() &amp;&amp; usernameWhitelisted(username.get())) {\r\n        log.info(&quot;User with username: {} is present in whitelisting&quot;, username.get());\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n      } else {\r\n        httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        log.error(&quot;Username: {} not whitelisted or empty&quot;, username.orElse(&quot;&quot;));\r\n      }\r\n\r\n    } catch (Exception e) {\r\n      logger.error(&quot;Error occurred while checking user in redis whitelisting&quot;, e);\r\n      SecurityContextHolder.clearContext();\r\n    }\r\n  }\r\n\r\n  private boolean usernameWhitelisted(String username) {\r\n    return Boolean.TRUE.equals(whitelistingRedisTemplate.hasKey(WHITELISTING_PREFIX + username));\r\n  }\r\n}\r\n\r\n```\r\n\r\nBelow resources structure:\r\n\r\n[![resources][1]][1]\r\n\r\nFrom my point of view, it seems that the docker image doesn&#39;t contain mandatory properties files from the resource folder. Additionally, locally application starts without any effort. I will be grateful for suggestions on what I am doing wrong while dockerization of the Spring Boot application or how I can add entire resources file to the container. \r\n\r\nEDIT:\r\n\r\n```ConfigurationReader``` class:\r\n\r\n```\r\n@Slf4j\r\npublic class ConfigurationReader {\r\n\r\n  private ConfigurationReader() {}\r\n\r\n  private static final String DEFAULT_PROPERTY_VALUE = &quot;&quot;;\r\n\r\n  @SneakyThrows\r\n  public static Properties readConfigurationFile(String... relativeConfigurationFile) {\r\n    String path = resolveToAbsolutePath(relativeConfigurationFile);\r\n    Path resources = Paths.get(&quot;.&quot;, &quot;src&quot;, &quot;main&quot;, &quot;resources&quot;, path).normalize().toAbsolutePath();\r\n    try (InputStream fileAsStream = getConfigurationFileAsStream(resources.toString())) {\r\n      Properties properties = new Properties();\r\n      properties.load(fileAsStream);\r\n      return properties;\r\n    } catch (Exception e) {\r\n      log.error(&quot;[configurationReader] Cannot read configuration file {}&quot;, path);\r\n      throw new FileNotFoundException();\r\n    }\r\n  }\r\n\r\n  public static String getProperty(Properties propertyFile, String propertyName) {\r\n    return propertyFile.getProperty(propertyName, DEFAULT_PROPERTY_VALUE);\r\n  }\r\n\r\n  private static InputStream getConfigurationFileAsStream(String path) throws IOException {\r\n    Path configurationFilePath = FileSystems.getDefault().getPath(path);\r\n    return Files.newInputStream(configurationFilePath, StandardOpenOption.READ);\r\n  }\r\n\r\n  private static String resolveToAbsolutePath(String... relativeConfigurationPath) {\r\n    return String.join(FileSystems.getDefault().getSeparator(), relativeConfigurationPath);\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/f1aiQ.png","title":"FileNotFoundException while dockerized application start","body":"<p>I have a problem with dockerized Spring Boot application, namely, while start-up of the application I am receiving:</p>\n<pre><code>api-gateway_1  | Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:450) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:199) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        ... 16 common frames omitted\napi-gateway_1  | Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'whitelistingFilter' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/fitnessgo/apigateway/intrastructure/security/cognito/security/filter/WhitelistingFilter.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConfiguration' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/fitnessgo/apigateway/intrastructure/cache/RedisConfiguration.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$dc73223a]: Constructor threw exception; nested exception is java.io.FileNotFoundException\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:175) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:170) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:155) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\napi-gateway_1  |        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\napi-gateway_1  |        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\napi-gateway_1  |        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.52.jar!/:na]\napi-gateway_1  |        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.5.4.jar!/:2.5.4]\napi-gateway_1  |        ... 21 common frames omitted\napi-gateway_1  | Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConfiguration' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/fitnessgo/apigateway/intrastructure/cache/RedisConfiguration.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$dc73223a]: Constructor threw exception; nested exception is java.io.FileNotFoundException\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1316) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        ... 62 common frames omitted\napi-gateway_1  | Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$dc73223a]: Constructor threw exception; nested exception is java.io.FileNotFoundException\napi-gateway_1  |        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        ... 83 common frames omitted\napi-gateway_1  | Caused by: java.io.FileNotFoundException: null\napi-gateway_1  |        at com.fitnessgo.apigateway.intrastructure.security.cognito.ConfigurationReader.readConfigurationFile(ConfigurationReader.java:33) ~[classes!/:0.0.1-SNAPSHOT]\napi-gateway_1  |        at com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration.&lt;init&gt;(RedisConfiguration.java:28) ~[classes!/:0.0.1-SNAPSHOT]\napi-gateway_1  |        at com.fitnessgo.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$dc73223a.&lt;init&gt;(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\napi-gateway_1  |        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\napi-gateway_1  |        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64) ~[na:na]\napi-gateway_1  |        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\napi-gateway_1  |        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\napi-gateway_1  |        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\napi-gateway_1  |        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\napi-gateway_1  |        ... 85 common frames omitted\n</code></pre>\n<p>My docker file looks like:</p>\n<pre><code>FROM openjdk:15\n\nEXPOSE 8080\n\nADD ./target/app.jar app.jar\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n\n</code></pre>\n<p><code>docker-compose.yml</code> looks like:</p>\n<pre><code>version: '3.7'\nservices:\n\n  api-gateway:\n    image: 'api-gateway:1.0'\n    build:\n      context: ./api-gateway\n      dockerfile: Dockerfile\n    restart: always\n    ports:\n      - '8080:8080'\n    networks:\n      - app-network\n      \nnetworks:\n  app-network: null\nvolumes:\n  app-volume: {}\n</code></pre>\n<p>problematic <code>RedisConfiguration</code> and <code>Whitelisting</code> classes look like:</p>\n<pre><code>import java.time.Duration;\nimport java.util.Properties;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.connection.RedisPassword;\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.jedis.JedisClientConfiguration;\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\n@Configuration\n@PropertySource(&quot;classpath:redis.properties&quot;)\n@Slf4j\npublic class RedisConfiguration {\n\n  private static final String REDIS_PROPERTIES = &quot;redis.properties&quot;;\n  private final Properties redisProperties = readConfigurationFile(REDIS_PROPERTIES);\n\n  @Value(&quot;${redis.host}&quot;)\n  private String host;\n\n  @Value(&quot;${redis.port}&quot;)\n  private int port;\n\n  @Value(&quot;${redis.password}&quot;)\n  private String password;\n\n  @Value(&quot;${redis.timeout}&quot;)\n  private String timeout;\n\n  @Bean(name = &quot;jedisConnectionFactory&quot;)\n  JedisConnectionFactory jedisConnectionFactory() {\n    return new JedisConnectionFactory();\n  }\n\n  @Bean(name = &quot;redisTemplate&quot;)\n  public RedisTemplate&lt;String, Object&gt; redisTemplate(\n      @Qualifier(value = &quot;jedisConnectionFactory&quot;) RedisConnectionFactory redisConnectionFactory) {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(redisConnectionFactory);\n    template.setKeySerializer(stringRedisSerializer());\n    template.setValueSerializer(stringRedisSerializer());\n    return template;\n  }\n\n  @Bean(name = &quot;redisUserConnectionFactory&quot;)\n  public JedisConnectionFactory redisUserConnectionFactory() {\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\n    String userDb = getProperty(redisProperties, RedisDb.USER_DB);\n\n    setRedisProperties(redisConfiguration, userDb);\n\n    JedisClientConfiguration jedisClientConfiguration =\n        JedisClientConfiguration.builder()\n            .connectTimeout(Duration.ofMillis(Long.parseLong(timeout)))\n            .build();\n    logRedisConnectionDetails(redisConfiguration);\n\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration);\n  }\n\n  @Bean(name = &quot;userRedisTemplate&quot;)\n  public RedisTemplate&lt;String, Object&gt; userRedisTemplate(\n      @Qualifier(value = &quot;redisUserConnectionFactory&quot;)\n          RedisConnectionFactory redisConnectionFactory) {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(redisConnectionFactory);\n    template.setKeySerializer(stringRedisSerializer());\n    template.setValueSerializer(stringRedisSerializer());\n    return template;\n  }\n\n  @Bean(name = &quot;redisRegistrationTokenConnectionFactory&quot;)\n  public JedisConnectionFactory redisRegistrationTokenConnectionFactory() {\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\n\n    String registrationTokenDb = getProperty(redisProperties, RedisDb.REGISTRATION_TOKEN_DB);\n    setRedisProperties(redisConfiguration, registrationTokenDb);\n\n    JedisClientConfiguration jedisClientConfiguration =\n        JedisClientConfiguration.builder()\n            .connectTimeout(Duration.ofMillis(Long.parseLong(timeout)))\n            .build();\n    logRedisConnectionDetails(redisConfiguration);\n\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration);\n  }\n\n  @Bean(name = &quot;registrationTokenRedisTemplate&quot;)\n  public RedisTemplate&lt;String, Object&gt; registrationTokenRedisTemplate(\n      @Qualifier(value = &quot;redisRegistrationTokenConnectionFactory&quot;)\n          RedisConnectionFactory redisConnectionFactory) {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(redisConnectionFactory);\n    template.setKeySerializer(stringRedisSerializer());\n    template.setValueSerializer(stringRedisSerializer());\n    return template;\n  }\n\n  @Bean(name = &quot;redisWhitelistingConnectionFactory&quot;)\n  public JedisConnectionFactory redisWhitelistingConnectionFactory() {\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\n\n    String whitelistingDb = getProperty(redisProperties, RedisDb.WHITELISTING_DB);\n    setRedisProperties(redisConfiguration, whitelistingDb);\n\n    JedisClientConfiguration jedisClientConfiguration =\n        JedisClientConfiguration.builder()\n            .connectTimeout(Duration.ofMillis(Long.parseLong(timeout)))\n            .build();\n    logRedisConnectionDetails(redisConfiguration);\n\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration);\n  }\n\n  @Bean(name = &quot;whitelistingRedisTemplate&quot;)\n  public RedisTemplate&lt;String, Object&gt; whitelistingRedisTemplate(\n      @Qualifier(value = &quot;redisWhitelistingConnectionFactory&quot;)\n          RedisConnectionFactory redisConnectionFactory) {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(redisConnectionFactory);\n    template.setKeySerializer(stringRedisSerializer());\n    template.setValueSerializer(stringRedisSerializer());\n    return template;\n  }\n\n  @Bean(name = &quot;stringRedisSerializer&quot;)\n  public StringRedisSerializer stringRedisSerializer() {\n    return new StringRedisSerializer();\n  }\n\n  private void setRedisProperties(RedisStandaloneConfiguration redisConfiguration, String redisDb) {\n    redisConfiguration.setHostName(host);\n    redisConfiguration.setPort(port);\n    redisConfiguration.setDatabase(Integer.parseInt(redisDb));\n    redisConfiguration.setPassword(RedisPassword.of(password));\n  }\n\n  private void logRedisConnectionDetails(RedisStandaloneConfiguration redisConfiguration) {\n    log.info(\n        &quot;Connected to Redis host: {}, port: {}, database: {}&quot;,\n        redisConfiguration.getHostName(),\n        redisConfiguration.getPort(),\n        redisConfiguration.getDatabase());\n  }\n}\n</code></pre>\n<pre><code>import java.util.Optional;\nimport java.util.Properties;\nimport java.util.stream.Stream;\nimport javax.servlet.FilterChain;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport lombok.NonNull;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.AntPathMatcher;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\n@Component\n@Slf4j\npublic class WhitelistingFilter extends OncePerRequestFilter {\n\n  private static final String SECURITY_PROPERTIES = &quot;security.properties&quot;;\n  private final Properties securityProperties = readConfigurationFile(SECURITY_PROPERTIES);\n  private final String whitelistingEnabled = securityProperties.getProperty(&quot;whitelisting.enabled&quot;, FALSE.toString());\n\n  private final RedisTemplate&lt;String, Object&gt; whitelistingRedisTemplate;\n  private final AwsCognitoIdTokenProcessor awsCognitoIdTokenProcessor;\n\n  public WhitelistingFilter(\n      @Qualifier(&quot;whitelistingRedisTemplate&quot;)\n          RedisTemplate&lt;String, Object&gt; whitelistingRedisTemplate,\n      AwsCognitoIdTokenProcessor awsCognitoIdTokenProcessor) {\n    this.whitelistingRedisTemplate = whitelistingRedisTemplate;\n    this.awsCognitoIdTokenProcessor = awsCognitoIdTokenProcessor;\n  }\n\n  @Override\n  protected boolean shouldNotFilter(@NonNull HttpServletRequest request) {\n    AntPathMatcher pathMatcher = new AntPathMatcher();\n    return Stream.of(USER_LOGIN_URL, ADMIN_LOGIN_URL, SIGNUP_BY_ADMIN_URL, SIGNUP_URL, LOGOUT_URL)\n            .anyMatch(p -&gt; pathMatcher.match(p, request.getServletPath())) || whitelistingDisabled();\n  }\n\n  private boolean whitelistingDisabled() {\n    return FALSE.toString().equalsIgnoreCase(whitelistingEnabled);\n  }\n\n  @Override\n  protected void doFilterInternal(@NonNull HttpServletRequest httpServletRequest, @NonNull HttpServletResponse httpServletResponse, @NonNull FilterChain filterChain) {\n    try {\n      Authentication authentication = awsCognitoIdTokenProcessor.getAuthentication(httpServletRequest);\n      Optional&lt;String&gt; username = Optional.ofNullable(authentication.getName());\n      if (username.isPresent() &amp;&amp; usernameWhitelisted(username.get())) {\n        log.info(&quot;User with username: {} is present in whitelisting&quot;, username.get());\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\n      } else {\n        httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        log.error(&quot;Username: {} not whitelisted or empty&quot;, username.orElse(&quot;&quot;));\n      }\n\n    } catch (Exception e) {\n      logger.error(&quot;Error occurred while checking user in redis whitelisting&quot;, e);\n      SecurityContextHolder.clearContext();\n    }\n  }\n\n  private boolean usernameWhitelisted(String username) {\n    return Boolean.TRUE.equals(whitelistingRedisTemplate.hasKey(WHITELISTING_PREFIX + username));\n  }\n}\n\n</code></pre>\n<p>Below resources structure:</p>\n<p><a href=\"https://i.stack.imgur.com/f1aiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f1aiQ.png\" alt=\"resources\" /></a></p>\n<p>From my point of view, it seems that the docker image doesn't contain mandatory properties files from the resource folder. Additionally, locally application starts without any effort. I will be grateful for suggestions on what I am doing wrong while dockerization of the Spring Boot application or how I can add entire resources file to the container.</p>\n<p>EDIT:</p>\n<p><code>ConfigurationReader</code> class:</p>\n<pre><code>@Slf4j\npublic class ConfigurationReader {\n\n  private ConfigurationReader() {}\n\n  private static final String DEFAULT_PROPERTY_VALUE = &quot;&quot;;\n\n  @SneakyThrows\n  public static Properties readConfigurationFile(String... relativeConfigurationFile) {\n    String path = resolveToAbsolutePath(relativeConfigurationFile);\n    Path resources = Paths.get(&quot;.&quot;, &quot;src&quot;, &quot;main&quot;, &quot;resources&quot;, path).normalize().toAbsolutePath();\n    try (InputStream fileAsStream = getConfigurationFileAsStream(resources.toString())) {\n      Properties properties = new Properties();\n      properties.load(fileAsStream);\n      return properties;\n    } catch (Exception e) {\n      log.error(&quot;[configurationReader] Cannot read configuration file {}&quot;, path);\n      throw new FileNotFoundException();\n    }\n  }\n\n  public static String getProperty(Properties propertyFile, String propertyName) {\n    return propertyFile.getProperty(propertyName, DEFAULT_PROPERTY_VALUE);\n  }\n\n  private static InputStream getConfigurationFileAsStream(String path) throws IOException {\n    Path configurationFilePath = FileSystems.getDefault().getPath(path);\n    return Files.newInputStream(configurationFilePath, StandardOpenOption.READ);\n  }\n\n  private static String resolveToAbsolutePath(String... relativeConfigurationPath) {\n    return String.join(FileSystems.getDefault().getSeparator(), relativeConfigurationPath);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","selenium-webdriver","appium-android","java-client"],"answers":[{"tags":[],"owner":{"account_id":16595926,"reputation":1,"user_id":11992785,"display_name":"Ahmet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567063247,"creation_date":1567062261,"answer_id":57704750,"question_id":57704466,"body_markdown":"    capabilities.setCapability(&quot;noReset&quot;, &quot;true&quot;);\r\n\r\nUse this `capability`. Your app is not installed every test.\r\n\r\nIf you want to close the app when run the test so you should `driver.closeApp().`\r\nAnd open the app again use to `driver.launchApp()` method.\r\n","title":"Android phone: How to simply open an application without installation (as it is already installed) using Appium","body":"<pre><code>capabilities.setCapability(\"noReset\", \"true\");\n</code></pre>\n\n<p>Use this <code>capability</code>. Your app is not installed every test.</p>\n\n<p>If you want to close the app when run the test so you should <code>driver.closeApp().</code>\nAnd open the app again use to <code>driver.launchApp()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1567141221,"creation_date":1567062417,"answer_id":57704800,"question_id":57704466,"body_markdown":"Remove following capability:\r\n```\r\ncaps.setCapability(&quot;app&quot;, app.getAbsolutePath());//This installs the application\r\n```\r\n\r\nUse this method:\r\n\r\n    appiumDriver.activateApp(appPackage);\r\n\r\nYou should know your application `appPackage` and `appActivityName`.\r\n\r\n[appPackage and appActivityName][1]\r\n\r\n\r\n  [1]: http://www.automationtestinghub.com/apppackage-and-appactivity-name/","title":"Android phone: How to simply open an application without installation (as it is already installed) using Appium","body":"<p>Remove following capability:</p>\n\n<pre><code>caps.setCapability(\"app\", app.getAbsolutePath());//This installs the application\n</code></pre>\n\n<p>Use this method:</p>\n\n<pre><code>appiumDriver.activateApp(appPackage);\n</code></pre>\n\n<p>You should know your application <code>appPackage</code> and <code>appActivityName</code>.</p>\n\n<p><a href=\"http://www.automationtestinghub.com/apppackage-and-appactivity-name/\" rel=\"nofollow noreferrer\">appPackage and appActivityName</a></p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567066700,"creation_date":1567066700,"answer_id":57705944,"question_id":57704466,"body_markdown":"If you don&#39;t want Appium to do anything with the application you can consider setting `autoLaunch` [Desired Capability][1] to `false`\r\n\r\n&gt;`autoLaunch` - Initializing the app under test automatically. Appium does not install/launch the app under test if this is false. Defaults to true\r\n\r\nWhen you want to kick off the application you can use [AndroidDriver.launchApp()][2] function\r\n\r\n\r\n  [1]: https://docs.experitest.com/display/TC/Capabilities\r\n  [2]: https://appium.github.io/java-client/io/appium/java_client/InteractsWithApps.html#launchApp--","title":"Android phone: How to simply open an application without installation (as it is already installed) using Appium","body":"<p>If you don't want Appium to do anything with the application you can consider setting <code>autoLaunch</code> <a href=\"https://docs.experitest.com/display/TC/Capabilities\" rel=\"nofollow noreferrer\">Desired Capability</a> to <code>false</code></p>\n\n<blockquote>\n  <p><code>autoLaunch</code> - Initializing the app under test automatically. Appium does not install/launch the app under test if this is false. Defaults to true</p>\n</blockquote>\n\n<p>When you want to kick off the application you can use <a href=\"https://appium.github.io/java-client/io/appium/java_client/InteractsWithApps.html#launchApp--\" rel=\"nofollow noreferrer\">AndroidDriver.launchApp()</a> function</p>\n"},{"tags":[],"owner":{"account_id":5415382,"reputation":659,"user_id":4310652,"accept_rate":86,"display_name":"krishna chetan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567188837,"creation_date":1567188837,"answer_id":57731490,"question_id":57704466,"body_markdown":"You can use this following approach \r\n\r\n    1. Install the application and login successfully. lock app using &quot;App Lock&quot;  \r\n\r\n    2. Open application again without installing by using adb command to launch the activity like below example \r\n***adb shell am start -n com.example.package(Put your package name here)/.MainActivity (Activity to be launched )***\r\n\r\n","title":"Android phone: How to simply open an application without installation (as it is already installed) using Appium","body":"<p>You can use this following approach </p>\n\n<pre><code>1. Install the application and login successfully. lock app using \"App Lock\"  \n\n2. Open application again without installing by using adb command to launch the activity like below example \n</code></pre>\n\n<p><strong><em>adb shell am start -n com.example.package(Put your package name here)/.MainActivity (Activity to be launched )</em></strong></p>\n"},{"tags":[],"owner":{"account_id":1982537,"reputation":616,"user_id":1778768,"display_name":"El David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637181000,"creation_date":1637181000,"answer_id":70011138,"question_id":57704466,"body_markdown":"this work for me\r\n\r\n    {\r\n      &quot;platformName&quot;: &quot;Android&quot;,\r\n      &quot;deviceName&quot;: &quot;Android&quot;,\r\n      &quot;automationName&quot;: &quot;Appium&quot;,\r\n      &quot;appPackage&quot;: &quot;com.bla.automation&quot;,\r\n      &quot;appActivity&quot;: &quot;com.bla.splash.SplashScreenActivity&quot;,\r\n      &quot;noReset&quot;: true,\r\n      &quot;fullReset&quot;: false,\r\n      &quot;dontStopAppOnReset&quot;: false,\r\n      &quot;autoLaunch&quot;: false\r\n    }","title":"Android phone: How to simply open an application without installation (as it is already installed) using Appium","body":"<p>this work for me</p>\n<pre><code>{\n  &quot;platformName&quot;: &quot;Android&quot;,\n  &quot;deviceName&quot;: &quot;Android&quot;,\n  &quot;automationName&quot;: &quot;Appium&quot;,\n  &quot;appPackage&quot;: &quot;com.bla.automation&quot;,\n  &quot;appActivity&quot;: &quot;com.bla.splash.SplashScreenActivity&quot;,\n  &quot;noReset&quot;: true,\n  &quot;fullReset&quot;: false,\n  &quot;dontStopAppOnReset&quot;: false,\n  &quot;autoLaunch&quot;: false\n}\n</code></pre>\n"}],"owner":{"account_id":14379885,"reputation":73,"user_id":10387412,"display_name":"Dhanesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57704800,"answer_count":5,"score":1,"last_activity_date":1637181000,"creation_date":1567061138,"question_id":57704466,"body_markdown":"Scenarios to automate is:\r\n\r\nI installed an application and logged in successfully. There is an &quot;App Lock&quot; feature which closes the application.\r\nI clicked on App Lock and application is closed. Now, **I need to open application again without installing and login.**\r\n\r\nIn short scenario is like:             \r\n1. Install and login to application.              \r\n2. Close the application.                \r\n3. Reopen the application.                 \r\n\r\n\r\n\t\r\n\r\n**Expected result:**             \r\nApplication should be opened and post login screen should be displayed\r\n\r\n**Actual:**             \r\nUsed below capability but application is reinstalled and Sign-Up (prelogin) screen is displayed\r\n\r\nI search for answer and found below capability but it didn&#39;t worked.\r\n\r\n\t\tFile appDir = new File(appDirr);\r\n\t\tFile app = new File(appDir, &quot;appName&quot;);\r\n\t\tDesiredCapabilities caps = new DesiredCapabilities();\r\n\t\tcaps.setCapability(&quot;deviceName&quot;, &quot;Samsung Galaxy S8&quot;);\r\n\t\tcaps.setCapability(&quot;appPackage&quot;, &quot;appPackageName&quot;);\r\n\t\tcaps.setCapability(&quot;appActivity&quot;, &quot;appActivityName&quot;);\r\n\t\tcaps.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t\tcaps.setCapability(&quot;app&quot;, app.getAbsolutePath());\r\n\t\tappiumDriver = new AppiumDriver&lt;MobileElement&gt;(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), caps);\r\n\r\n\r\nPlease let me know how can I automate this scenario.          \r\nThanks!","title":"Android phone: How to simply open an application without installation (as it is already installed) using Appium","body":"<p>Scenarios to automate is:</p>\n\n<p>I installed an application and logged in successfully. There is an \"App Lock\" feature which closes the application.\nI clicked on App Lock and application is closed. Now, <strong>I need to open application again without installing and login.</strong></p>\n\n<p>In short scenario is like:<br>\n1. Install and login to application.<br>\n2. Close the application.<br>\n3. Reopen the application.                 </p>\n\n<p><strong>Expected result:</strong><br>\nApplication should be opened and post login screen should be displayed</p>\n\n<p><strong>Actual:</strong><br>\nUsed below capability but application is reinstalled and Sign-Up (prelogin) screen is displayed</p>\n\n<p>I search for answer and found below capability but it didn't worked.</p>\n\n<pre><code>    File appDir = new File(appDirr);\n    File app = new File(appDir, \"appName\");\n    DesiredCapabilities caps = new DesiredCapabilities();\n    caps.setCapability(\"deviceName\", \"Samsung Galaxy S8\");\n    caps.setCapability(\"appPackage\", \"appPackageName\");\n    caps.setCapability(\"appActivity\", \"appActivityName\");\n    caps.setCapability(\"platformName\", \"Android\");\n    caps.setCapability(\"app\", app.getAbsolutePath());\n    appiumDriver = new AppiumDriver&lt;MobileElement&gt;(new URL(\"http://0.0.0.0:4723/wd/hub\"), caps);\n</code></pre>\n\n<p>Please let me know how can I automate this scenario.<br>\nThanks!</p>\n"},{"tags":["java","mongodb","spring-boot","mongobee","mongock"],"comments":[{"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"score":0,"creation_date":1637253001,"post_id":57745985,"comment_id":123782415,"body_markdown":"can you provide more information, like the way Mongock is configured.\n\nAlso, are you sure your changeLog is getting executed? It maybe the due to Mongock not finding the changelog and never executed.\n\nDo you have any error in the log?","body":"can you provide more information, like the way Mongock is configured.  Also, are you sure your changeLog is getting executed? It maybe the due to Mongock not finding the changelog and never executed.  Do you have any error in the log?"}],"answers":[{"tags":[],"owner":{"account_id":16565443,"reputation":21,"user_id":11970164,"display_name":"Longer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567344266,"creation_date":1567343093,"answer_id":57746221,"question_id":57745985,"body_markdown":"Without your complete code, it&#39;s hard to figure out what went wrong. Most likely spring configuration isn&#39;t configured correctly, so without autowire annotation, mongoTemplate isn&#39;t instantiated properly in Spring container. If you care to track deeper into the MongoTemplate source code and comparing the execution path before the annotation change and after it, you will find out why. \r\n\r\nI would suggest following their example to find out anything missing in your project. https://github.com/cloudyrock/mongock-samples/tree/master/samples-mongock-spring/sample-mongock-spring-v2","title":"Mongock (Mongobee) and Spring Boot in unit test","body":"<p>Without your complete code, it's hard to figure out what went wrong. Most likely spring configuration isn't configured correctly, so without autowire annotation, mongoTemplate isn't instantiated properly in Spring container. If you care to track deeper into the MongoTemplate source code and comparing the execution path before the annotation change and after it, you will find out why. </p>\n\n<p>I would suggest following their example to find out anything missing in your project. <a href=\"https://github.com/cloudyrock/mongock-samples/tree/master/samples-mongock-spring/sample-mongock-spring-v2\" rel=\"nofollow noreferrer\">https://github.com/cloudyrock/mongock-samples/tree/master/samples-mongock-spring/sample-mongock-spring-v2</a></p>\n"},{"tags":[],"owner":{"account_id":9626257,"reputation":21,"user_id":7145794,"display_name":"Mozart Araujo Filho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590972607,"creation_date":1590972607,"answer_id":62124209,"question_id":57745985,"body_markdown":"I had the same issue and in my case the bean creator/runner had a **mispelled package name** for the builder atribute **&quot;changeLogScanPackage&quot;**\r\n\r\n    @Bean\r\n    public SpringMongock springMongock(MongoTemplate mongoTemplate, Environment springEnvironment) {\r\n      return new SpringMongockBuilder(mongoTemplate, &quot;changeLogScanPackage&quot;)\r\n            .setSpringEnvironment(springEnvironment)\r\n          .setLockQuickConfig() OR .setLockConfig(3, 4, 3) \r\n           ...other setters\r\n          .build();\r\n    }","title":"Mongock (Mongobee) and Spring Boot in unit test","body":"<p>I had the same issue and in my case the bean creator/runner had a <strong>mispelled package name</strong> for the builder atribute <strong>\"changeLogScanPackage\"</strong></p>\n\n<pre><code>@Bean\npublic SpringMongock springMongock(MongoTemplate mongoTemplate, Environment springEnvironment) {\n  return new SpringMongockBuilder(mongoTemplate, \"changeLogScanPackage\")\n        .setSpringEnvironment(springEnvironment)\n      .setLockQuickConfig() OR .setLockConfig(3, 4, 3) \n       ...other setters\n      .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":317714,"reputation":441,"user_id":634551,"display_name":"Kyrstellaine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633496695,"creation_date":1633496695,"answer_id":69460088,"question_id":57745985,"body_markdown":"I realize this is an old question, but per Mongock [documentation][1], you need to use `MongockTemplate`, not `MongoTemplate`\r\n\r\n\r\n  [1]: https://www.mongock.io/spring-profiles","title":"Mongock (Mongobee) and Spring Boot in unit test","body":"<p>I realize this is an old question, but per Mongock <a href=\"https://www.mongock.io/spring-profiles\" rel=\"nofollow noreferrer\">documentation</a>, you need to use <code>MongockTemplate</code>, not <code>MongoTemplate</code></p>\n"}],"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637180950,"creation_date":1567340680,"question_id":57745985,"body_markdown":"I have the following dummy class:\r\n\r\n    @Document(&quot;items&quot;)\r\n    static class Item {\r\n        int i;\r\n    \r\n        public Item() {\r\n        }\r\n    \r\n        public Item(int i) {\r\n            this.i = i;\r\n        }\r\n    \r\n        public int getI() {\r\n            return i;\r\n        }\r\n    }\r\n\r\nAnd here&#39;s a simple `@Changeset`:\r\n\r\n    //@Autowired\r\n    @ChangeSet(order = &quot;001&quot;, id = &quot;add_items&quot;, author = &quot;tester&quot;)\r\n    public void changeset1(MongoTemplate mongoTemplate) {\r\n        for (int i = 0; i &lt; NUM_OF_DB_ITEMS; i++) {\r\n            mongoTemplate.insert(new Item(i));\r\n        }\r\n    }\r\n\r\nAfter `@Changeset` is called, the unit test is running (Notice that mongoTemplate is `@Autowired`)\r\n\r\n    @Test\r\n    public void test() {\r\n        List&lt;Item&gt; items = mongoTemplate.findAll(Item.class);\r\n        System.out.println(items);\r\n    }\r\n\r\n\r\nProblem: I&#39;m getting zero items from `findAll()` \r\n\r\nI found that when I&#39;m adding `@Autowired` to `changeset1()` it does work (commented above) - I&#39;m getting all items.\r\n\r\nCan you explain why? In the [examples][1], I don&#39;t see they need to `@Autowired`\r\n\r\nShould I even do that? I mean, can it damage the locking mechanism of Mongock?\r\n\r\n  [1]: https://github.com/cloudyrock/mongock#defining-changeset-methods","title":"Mongock (Mongobee) and Spring Boot in unit test","body":"<p>I have the following dummy class:</p>\n\n<pre><code>@Document(\"items\")\nstatic class Item {\n    int i;\n\n    public Item() {\n    }\n\n    public Item(int i) {\n        this.i = i;\n    }\n\n    public int getI() {\n        return i;\n    }\n}\n</code></pre>\n\n<p>And here's a simple <code>@Changeset</code>:</p>\n\n<pre><code>//@Autowired\n@ChangeSet(order = \"001\", id = \"add_items\", author = \"tester\")\npublic void changeset1(MongoTemplate mongoTemplate) {\n    for (int i = 0; i &lt; NUM_OF_DB_ITEMS; i++) {\n        mongoTemplate.insert(new Item(i));\n    }\n}\n</code></pre>\n\n<p>After <code>@Changeset</code> is called, the unit test is running (Notice that mongoTemplate is <code>@Autowired</code>)</p>\n\n<pre><code>@Test\npublic void test() {\n    List&lt;Item&gt; items = mongoTemplate.findAll(Item.class);\n    System.out.println(items);\n}\n</code></pre>\n\n<p>Problem: I'm getting zero items from <code>findAll()</code> </p>\n\n<p>I found that when I'm adding <code>@Autowired</code> to <code>changeset1()</code> it does work (commented above) - I'm getting all items.</p>\n\n<p>Can you explain why? In the <a href=\"https://github.com/cloudyrock/mongock#defining-changeset-methods\" rel=\"nofollow noreferrer\">examples</a>, I don't see they need to <code>@Autowired</code></p>\n\n<p>Should I even do that? I mean, can it damage the locking mechanism of Mongock?</p>\n"},{"tags":["java","date","kotlin","format","youtube-api"],"comments":[{"owner":{"account_id":11981232,"reputation":56,"user_id":13557572,"display_name":"Miguel S&#225;nchez Palomino"},"score":1,"creation_date":1609513557,"post_id":65530772,"comment_id":115856990,"body_markdown":"Where&#39;s the problem on the conversion or on understanding the ISO format?","body":"Where&#39;s the problem on the conversion or on understanding the ISO format?"},{"owner":{"account_id":19935859,"reputation":1442,"user_id":14608557,"display_name":"Karim Sinouh"},"score":0,"creation_date":1609522483,"post_id":65530772,"comment_id":115859344,"body_markdown":"the problem was on the conversion, but now I found the solution thanks.","body":"the problem was on the conversion, but now I found the solution thanks."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1609517500,"creation_date":1609517500,"answer_id":65531362,"question_id":65530772,"body_markdown":"You can use [`java.time.Duration`][1] which is modelled on [ISO-8601 standards][2] and was introduced with *Java-8* as part of [JSR-310 implementation][3]. With *Java-9* some more convenience methods were introduced.\r\n\r\nIf you have gone through the above links, you might have already noticed that `PT18M8S` specifies a duration of 18 minutes 8 seconds that you can parse to a `Duration` object and out of this object, you can create a string formatted as per your requirement by getting days, hours, minutes, seconds from it.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strIso8601Duration = &quot;PT18M8S&quot;;\r\n    \r\n    \t\tDuration duration = Duration.parse(strIso8601Duration);\r\n    \t\t// Default format\r\n    \t\tSystem.out.println(duration);\r\n    \r\n    \t\t// Custom format\r\n    \t\t// ####################################Java-8####################################\r\n    \t\tString formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHours() % 24,\r\n    \t\t\t\tduration.toMinutes() % 60, duration.toSeconds() % 60);\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \r\n    \t\t// ####################################Java-9####################################\r\n    \t\tformattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHoursPart(), duration.toMinutesPart(),\r\n    \t\t\t\tduration.toSecondsPart());\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \r\n    \t\tSystem.out.println(duration.toMillis() + &quot; milliseconds&quot;);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    PT18M8S\r\n    00:18:08\r\n    00:18:08\r\n    1088000 milliseconds\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n - For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7.\r\n - If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\r\n\r\n\r\n\r\n","title":"How to read the duration of a video returned from Youtube API Kotlin/Java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>java.time.Duration</code></a> which is modelled on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO-8601 standards</a> and was introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"nofollow noreferrer\">JSR-310 implementation</a>. With <em>Java-9</em> some more convenience methods were introduced.</p>\n<p>If you have gone through the above links, you might have already noticed that <code>PT18M8S</code> specifies a duration of 18 minutes 8 seconds that you can parse to a <code>Duration</code> object and out of this object, you can create a string formatted as per your requirement by getting days, hours, minutes, seconds from it.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strIso8601Duration = &quot;PT18M8S&quot;;\n\n        Duration duration = Duration.parse(strIso8601Duration);\n        // Default format\n        System.out.println(duration);\n\n        // Custom format\n        // ####################################Java-8####################################\n        String formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHours() % 24,\n                duration.toMinutes() % 60, duration.toSeconds() % 60);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        // ####################################Java-9####################################\n        formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHoursPart(), duration.toMinutesPart(),\n                duration.toSecondsPart());\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        System.out.println(duration.toMillis() + &quot; milliseconds&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>PT18M8S\n00:18:08\n00:18:08\n1088000 milliseconds\n</code></pre>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<ul>\n<li>For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7.</li>\n<li>If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16928798,"reputation":11,"user_id":12243708,"display_name":"abdelrhman elgendy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637180866,"creation_date":1637180866,"answer_id":70011111,"question_id":65530772,"body_markdown":"\r\n    \r\n        object YouTubeDurationConverter {\r\n        \r\n            private fun getHours(time: String): Int {\r\n                return time.substring(time.indexOf(&quot;T&quot;) + 1, time.indexOf(&quot;H&quot;)).toInt()\r\n            }\r\n        \r\n            private fun getMinutes(time: String): Int {\r\n                return time.substring(time.indexOf(&quot;H&quot;) + 1, time.indexOf(&quot;M&quot;)).toInt()\r\n            }\r\n        \r\n            private fun getMinutesWithNoHours(time: String): Int {\r\n                return time.substring(time.indexOf(&quot;T&quot;) + 1, time.indexOf(&quot;M&quot;)).toInt()\r\n            }\r\n        \r\n            private fun getMinutesWithNoHoursAndNoSeconds(time: String): Int {\r\n                return time.substring(time.indexOf(&quot;T&quot;) + 1, time.indexOf(&quot;M&quot;)).toInt()\r\n            }\r\n        \r\n            private fun getSecondsOnly(time: String): Int {\r\n                return time.substring(time.indexOf(&quot;T&quot;) + 1, time.indexOf(&quot;S&quot;)).toInt()\r\n            }\r\n        \r\n            private fun getSecondsWithMinutes(time: String): Int {\r\n                return time.substring(time.indexOf(&quot;M&quot;) + 1, time.indexOf(&quot;S&quot;)).toInt()\r\n            }\r\n        \r\n            private fun getSecondsWithHours(time: String): Int {\r\n                return time.substring(time.indexOf(&quot;H&quot;) + 1, time.indexOf(&quot;S&quot;)).toInt()\r\n            }\r\n        \r\n            private fun convertToFormatedTime(time: String): FormatedTime {\r\n        \r\n                val HOURS_CONDITION = time.contains(&quot;H&quot;)\r\n                val MINUTES_CONDITION = time.contains(&quot;M&quot;)\r\n                val SECONDS_CONDITION = time.contains(&quot;S&quot;)\r\n        \r\n                /**\r\n                 *potential cases\r\n                 *hours only\r\n                 *minutes only\r\n                 *seconds only\r\n                 *hours and minutes\r\n                 *hours and seconds\r\n                 *hours and minutes and seconds\r\n                 *minutes and seconds\r\n                 */\r\n                val formatTime = FormatedTime(-1, -1, -1)\r\n        \r\n                if (time.equals(&quot;P0D&quot;)) {\r\n                    //Live Video\r\n                    return formatTime\r\n                } else {\r\n                    var hours = -1\r\n                    var minutes = -1\r\n                    var seconds = -1\r\n        \r\n                    if (HOURS_CONDITION &amp;&amp; !MINUTES_CONDITION &amp;&amp; !SECONDS_CONDITION) {\r\n                        //hours only\r\n                        hours = getHours(time)\r\n                    } else if (!HOURS_CONDITION &amp;&amp; MINUTES_CONDITION &amp;&amp; !SECONDS_CONDITION) {\r\n                        //minutes only\r\n                        minutes = getMinutesWithNoHoursAndNoSeconds(time)\r\n        \r\n                    } else if (!HOURS_CONDITION &amp;&amp; !MINUTES_CONDITION &amp;&amp; SECONDS_CONDITION) {\r\n                        //seconds only\r\n                        seconds = getSecondsOnly(time)\r\n        \r\n        \r\n                    } else if (HOURS_CONDITION &amp;&amp; MINUTES_CONDITION &amp;&amp; !SECONDS_CONDITION) {\r\n                        //hours and minutes\r\n                        hours = getHours(time)\r\n                        minutes = getMinutes(time)\r\n        \r\n                    } else if (HOURS_CONDITION &amp;&amp; !MINUTES_CONDITION &amp;&amp; SECONDS_CONDITION) {\r\n                        //hours and seconds\r\n                        hours = getHours(time)\r\n                        seconds = getSecondsWithHours(time)\r\n        \r\n        \r\n                    } else if (HOURS_CONDITION &amp;&amp; MINUTES_CONDITION &amp;&amp; SECONDS_CONDITION) {\r\n                        //hours and minutes and seconds\r\n                        hours = getHours(time)\r\n                        minutes = getMinutes(time)\r\n                        seconds = getSecondsWithMinutes(time)\r\n        \r\n        \r\n                    } else if (!HOURS_CONDITION &amp;&amp; MINUTES_CONDITION &amp;&amp; SECONDS_CONDITION) {\r\n                        //minutes and seconds\r\n                        minutes = getMinutesWithNoHours(time)\r\n                        seconds = getSecondsWithMinutes(time)\r\n        \r\n                    }\r\n                    return FormatedTime(hours, minutes, seconds)\r\n                }\r\n            }\r\n        \r\n            fun getTimeInStringFormated(time: String): String {\r\n                val formatedTime = convertToFormatedTime(time)\r\n                val timeFormate: StringBuilder = StringBuilder(&quot;&quot;)\r\n        \r\n                if (formatedTime.hour == -1) {\r\n                    timeFormate.append(&quot;00:&quot;)\r\n                } else if (formatedTime.hour.toString().length == 1) {\r\n                    timeFormate.append(&quot;0&quot; + (formatedTime.hour).toString() + &quot;:&quot;)\r\n                } else {\r\n                    timeFormate.append((formatedTime.hour).toString() + &quot;:&quot;)\r\n                }\r\n                if (formatedTime.minutes == -1) {\r\n                    timeFormate.append(&quot;00:&quot;)\r\n                } else if (formatedTime.minutes.toString().length == 1) {\r\n                    timeFormate.append(&quot;0&quot; + (formatedTime.minutes).toString() + &quot;:&quot;)\r\n                } else {\r\n                    timeFormate.append((formatedTime.minutes).toString() + &quot;:&quot;)\r\n                }\r\n        \r\n                if (formatedTime.second == -1) {\r\n                    timeFormate.append(&quot;00&quot;)\r\n                } else if (formatedTime.second.toString().length == 1) {\r\n                    timeFormate.append(&quot;0&quot; + (formatedTime.second).toString())\r\n                } else {\r\n                    timeFormate.append(formatedTime.second)\r\n                }\r\n                return timeFormate.toString()\r\n            }\r\n        \r\n            fun getTimeInSeconds(time: String): Int {\r\n        \r\n                val formatedTime = convertToFormatedTime(time)\r\n                var tottalTimeInSeconds = 0\r\n                if (formatedTime.hour != -1) {\r\n                    tottalTimeInSeconds += (formatedTime.hour * 60 * 60)\r\n                }\r\n                if (formatedTime.minutes != -1) {\r\n                    tottalTimeInSeconds += (formatedTime.minutes * 60)\r\n                }\r\n                if (formatedTime.second != -1) {\r\n                    tottalTimeInSeconds += (formatedTime.second)\r\n        \r\n                }\r\n                return tottalTimeInSeconds\r\n            }\r\n            fun getTimeInMillis(time: String):Long\r\n            {\r\n                val timeInSeconds = getTimeInSeconds(time)\r\n                return (timeInSeconds*1000).toLong()\r\n            }}\r\n        \r\n        \r\n        data class FormatedTime (var hour:Int,var minutes:Int,var second:Int)\r\n        \r\n         \r\n    \r\n\r\n&lt;pre&gt;\r\n    Output Sample\r\n    1.getTimeInStringFormated: 11:54:48&lt;br&gt;\r\n    2.getTimeInSeconds: 42888&lt;br&gt;\r\n    3.getTimeInMillis: 42888000&lt;br&gt;\r\n\r\n&lt;/pre&gt;\r\n\r\n","title":"How to read the duration of a video returned from Youtube API Kotlin/Java","body":"<pre><code>    object YouTubeDurationConverter {\n    \n        private fun getHours(time: String): Int {\n            return time.substring(time.indexOf(&quot;T&quot;) + 1, time.indexOf(&quot;H&quot;)).toInt()\n        }\n    \n        private fun getMinutes(time: String): Int {\n            return time.substring(time.indexOf(&quot;H&quot;) + 1, time.indexOf(&quot;M&quot;)).toInt()\n        }\n    \n        private fun getMinutesWithNoHours(time: String): Int {\n            return time.substring(time.indexOf(&quot;T&quot;) + 1, time.indexOf(&quot;M&quot;)).toInt()\n        }\n    \n        private fun getMinutesWithNoHoursAndNoSeconds(time: String): Int {\n            return time.substring(time.indexOf(&quot;T&quot;) + 1, time.indexOf(&quot;M&quot;)).toInt()\n        }\n    \n        private fun getSecondsOnly(time: String): Int {\n            return time.substring(time.indexOf(&quot;T&quot;) + 1, time.indexOf(&quot;S&quot;)).toInt()\n        }\n    \n        private fun getSecondsWithMinutes(time: String): Int {\n            return time.substring(time.indexOf(&quot;M&quot;) + 1, time.indexOf(&quot;S&quot;)).toInt()\n        }\n    \n        private fun getSecondsWithHours(time: String): Int {\n            return time.substring(time.indexOf(&quot;H&quot;) + 1, time.indexOf(&quot;S&quot;)).toInt()\n        }\n    \n        private fun convertToFormatedTime(time: String): FormatedTime {\n    \n            val HOURS_CONDITION = time.contains(&quot;H&quot;)\n            val MINUTES_CONDITION = time.contains(&quot;M&quot;)\n            val SECONDS_CONDITION = time.contains(&quot;S&quot;)\n    \n            /**\n             *potential cases\n             *hours only\n             *minutes only\n             *seconds only\n             *hours and minutes\n             *hours and seconds\n             *hours and minutes and seconds\n             *minutes and seconds\n             */\n            val formatTime = FormatedTime(-1, -1, -1)\n    \n            if (time.equals(&quot;P0D&quot;)) {\n                //Live Video\n                return formatTime\n            } else {\n                var hours = -1\n                var minutes = -1\n                var seconds = -1\n    \n                if (HOURS_CONDITION &amp;&amp; !MINUTES_CONDITION &amp;&amp; !SECONDS_CONDITION) {\n                    //hours only\n                    hours = getHours(time)\n                } else if (!HOURS_CONDITION &amp;&amp; MINUTES_CONDITION &amp;&amp; !SECONDS_CONDITION) {\n                    //minutes only\n                    minutes = getMinutesWithNoHoursAndNoSeconds(time)\n    \n                } else if (!HOURS_CONDITION &amp;&amp; !MINUTES_CONDITION &amp;&amp; SECONDS_CONDITION) {\n                    //seconds only\n                    seconds = getSecondsOnly(time)\n    \n    \n                } else if (HOURS_CONDITION &amp;&amp; MINUTES_CONDITION &amp;&amp; !SECONDS_CONDITION) {\n                    //hours and minutes\n                    hours = getHours(time)\n                    minutes = getMinutes(time)\n    \n                } else if (HOURS_CONDITION &amp;&amp; !MINUTES_CONDITION &amp;&amp; SECONDS_CONDITION) {\n                    //hours and seconds\n                    hours = getHours(time)\n                    seconds = getSecondsWithHours(time)\n    \n    \n                } else if (HOURS_CONDITION &amp;&amp; MINUTES_CONDITION &amp;&amp; SECONDS_CONDITION) {\n                    //hours and minutes and seconds\n                    hours = getHours(time)\n                    minutes = getMinutes(time)\n                    seconds = getSecondsWithMinutes(time)\n    \n    \n                } else if (!HOURS_CONDITION &amp;&amp; MINUTES_CONDITION &amp;&amp; SECONDS_CONDITION) {\n                    //minutes and seconds\n                    minutes = getMinutesWithNoHours(time)\n                    seconds = getSecondsWithMinutes(time)\n    \n                }\n                return FormatedTime(hours, minutes, seconds)\n            }\n        }\n    \n        fun getTimeInStringFormated(time: String): String {\n            val formatedTime = convertToFormatedTime(time)\n            val timeFormate: StringBuilder = StringBuilder(&quot;&quot;)\n    \n            if (formatedTime.hour == -1) {\n                timeFormate.append(&quot;00:&quot;)\n            } else if (formatedTime.hour.toString().length == 1) {\n                timeFormate.append(&quot;0&quot; + (formatedTime.hour).toString() + &quot;:&quot;)\n            } else {\n                timeFormate.append((formatedTime.hour).toString() + &quot;:&quot;)\n            }\n            if (formatedTime.minutes == -1) {\n                timeFormate.append(&quot;00:&quot;)\n            } else if (formatedTime.minutes.toString().length == 1) {\n                timeFormate.append(&quot;0&quot; + (formatedTime.minutes).toString() + &quot;:&quot;)\n            } else {\n                timeFormate.append((formatedTime.minutes).toString() + &quot;:&quot;)\n            }\n    \n            if (formatedTime.second == -1) {\n                timeFormate.append(&quot;00&quot;)\n            } else if (formatedTime.second.toString().length == 1) {\n                timeFormate.append(&quot;0&quot; + (formatedTime.second).toString())\n            } else {\n                timeFormate.append(formatedTime.second)\n            }\n            return timeFormate.toString()\n        }\n    \n        fun getTimeInSeconds(time: String): Int {\n    \n            val formatedTime = convertToFormatedTime(time)\n            var tottalTimeInSeconds = 0\n            if (formatedTime.hour != -1) {\n                tottalTimeInSeconds += (formatedTime.hour * 60 * 60)\n            }\n            if (formatedTime.minutes != -1) {\n                tottalTimeInSeconds += (formatedTime.minutes * 60)\n            }\n            if (formatedTime.second != -1) {\n                tottalTimeInSeconds += (formatedTime.second)\n    \n            }\n            return tottalTimeInSeconds\n        }\n        fun getTimeInMillis(time: String):Long\n        {\n            val timeInSeconds = getTimeInSeconds(time)\n            return (timeInSeconds*1000).toLong()\n        }}\n    \n    \n    data class FormatedTime (var hour:Int,var minutes:Int,var second:Int)\n    \n     \n</code></pre>\n<pre>\n    Output Sample\n    1.getTimeInStringFormated: 11:54:48<br>\n    2.getTimeInSeconds: 42888<br>\n    3.getTimeInMillis: 42888000<br>\n\n</pre>\n"}],"owner":{"account_id":19935859,"reputation":1442,"user_id":14608557,"display_name":"Karim Sinouh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65531362,"answer_count":2,"score":0,"last_activity_date":1637180866,"creation_date":1609513154,"question_id":65530772,"body_markdown":"I basically want to convert this ISO format `PT18M8S` to something like `13:09` or `10000ms`\r\nI&#39;m getting this format from YouTube Data API v3:\r\n\r\n![Picture of the JSON returned](https://i.stack.imgur.com/Dx9h7.png)","title":"How to read the duration of a video returned from Youtube API Kotlin/Java","body":"<p>I basically want to convert this ISO format <code>PT18M8S</code> to something like <code>13:09</code> or <code>10000ms</code>\nI'm getting this format from YouTube Data API v3:</p>\n<p><img src=\"https://i.stack.imgur.com/Dx9h7.png\" alt=\"Picture of the JSON returned\" /></p>\n"},{"tags":["java","gradle","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1636919049,"post_id":69966441,"comment_id":123680287,"body_markdown":"all spring config imports are executed. They are not overridden like normal configuration properties","body":"all spring config imports are executed. They are not overridden like normal configuration properties"},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1636919393,"post_id":69966441,"comment_id":123680381,"body_markdown":"@spencergibb well, how to run app on local machine in this case? I have no access to cloud","body":"@spencergibb well, how to run app on local machine in this case? I have no access to cloud"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1637021788,"post_id":69966441,"comment_id":123709031,"body_markdown":"put all `spring.config.import` statements in an `application-&lt;profile&gt;.yml` file rather than in the default.","body":"put all <code>spring.config.import</code> statements in an <code>application-&lt;profile&gt;.yml</code> file rather than in the default."}],"answers":[{"tags":[],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637180266,"creation_date":1637180266,"answer_id":70010999,"question_id":69966441,"body_markdown":"Well, I create to application-&lt;profile&gt;.yml and application.yml ,where store current profile:\r\n\r\n    spring:\r\n      profiles:\r\n        active: prod\r\n\r\n","title":"SpringBoot profiles with Gradle vs cloud","body":"<p>Well, I create to application-.yml and application.yml ,where store current profile:</p>\n<pre><code>spring:\n  profiles:\n    active: prod\n</code></pre>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70010999,"answer_count":1,"score":1,"last_activity_date":1637180266,"creation_date":1636917998,"question_id":69966441,"body_markdown":"I have some problem with starting microservice with cloud config on local machine:\r\nIn application.yml:\r\n\r\n    spring:\r\n      application:\r\n        name: my_servie\r\n      config:\r\n        import: &#39;configserver:&#39;\r\n      profiles:\r\n        group:\r\n          env-prod-pg: postgres,log\r\n\r\nI create application-local.yml, where add: \r\n\r\n    spring:\r\n      application:\r\n        name: mc-service-logistics-v2\r\n      config:\r\n        import: &#39;optional:configserver:&#39;\r\n\r\nand some other config updates,\r\nin build.gradle I add:\r\n\r\n    tasks.register(&quot;bootRunLocal&quot;) {\r\n        group = &quot;application&quot;\r\n        description = &quot;Runs the Spring Boot application with the local profile&quot;\r\n        doFirst {\r\n            tasks.bootRun.configure {\r\n                systemProperty(&quot;spring.profiles.active&quot;, &quot;local&quot;)\r\n            }\r\n        }\r\n        finalizedBy(&quot;bootRun&quot;)\r\n    }\r\nbut when I try to start app with gradle bootRunLocal I caught error:\r\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8888/my-service/local&quot;: Connection refused; nested exception is java.net.ConnectException: Connection refused\r\n\r\nIf I understand- application still want to use cloud config and can&#39;t start. If I comment\r\n**spring.config.import**  in application.yml- aplication started without any problem.\r\n\r\nHow to solve this problem? I don&#39;t want to push to repo my local config again) ","title":"SpringBoot profiles with Gradle vs cloud","body":"<p>I have some problem with starting microservice with cloud config on local machine:\nIn application.yml:</p>\n<pre><code>spring:\n  application:\n    name: my_servie\n  config:\n    import: 'configserver:'\n  profiles:\n    group:\n      env-prod-pg: postgres,log\n</code></pre>\n<p>I create application-local.yml, where add:</p>\n<pre><code>spring:\n  application:\n    name: mc-service-logistics-v2\n  config:\n    import: 'optional:configserver:'\n</code></pre>\n<p>and some other config updates,\nin build.gradle I add:</p>\n<pre><code>tasks.register(&quot;bootRunLocal&quot;) {\n    group = &quot;application&quot;\n    description = &quot;Runs the Spring Boot application with the local profile&quot;\n    doFirst {\n        tasks.bootRun.configure {\n            systemProperty(&quot;spring.profiles.active&quot;, &quot;local&quot;)\n        }\n    }\n    finalizedBy(&quot;bootRun&quot;)\n}\n</code></pre>\n<p>but when I try to start app with gradle bootRunLocal I caught error:\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8888/my-service/local&quot;: Connection refused; nested exception is java.net.ConnectException: Connection refused</p>\n<p>If I understand- application still want to use cloud config and can't start. If I comment\n<strong>spring.config.import</strong>  in application.yml- aplication started without any problem.</p>\n<p>How to solve this problem? I don't want to push to repo my local config again)</p>\n"},{"tags":["java","hash"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":1,"creation_date":1503470999,"post_id":45832458,"comment_id":78622224,"body_markdown":"Also see `HashCodeBulider`: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html","body":"Also see <code>HashCodeBulider</code>: <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/apidocs/org/apache/&hellip;</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1503471534,"post_id":45832458,"comment_id":78622553,"body_markdown":"But the commons builder uses reflection. It is convenient but an absolute performance killer.","body":"But the commons builder uses reflection. It is convenient but an absolute performance killer."},{"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":3,"creation_date":1503471631,"post_id":45832458,"comment_id":78622617,"body_markdown":"@NPE I really want to keep it with the natives. I&#39;m not a big fan of the whole  external apache common stuff","body":"@NPE I really want to keep it with the natives. I&#39;m not a big fan of the whole  external apache common stuff"},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":0,"creation_date":1504039649,"post_id":45832458,"comment_id":78854677,"body_markdown":"Use Lombok and `@EqualsAndHashCode`.","body":"Use Lombok and <code>@EqualsAndHashCode</code>."},{"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1504072155,"post_id":45832458,"comment_id":78863537,"body_markdown":"@MartinSchr&#246;der Thanks but I d&#39;like to keep my dependencies clean.","body":"@MartinSchr&#246;der Thanks but I d&#39;like to keep my dependencies clean."},{"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"score":0,"creation_date":1621581626,"post_id":45832458,"comment_id":119543694,"body_markdown":"As of JDK 16, just use a `record`?","body":"As of JDK 16, just use a <code>record</code>?"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1503471402,"creation_date":1503471055,"answer_id":45832552,"question_id":45832458,"body_markdown":"Note that the parameter of `Objects.hash` is `Object...`. This has two main consequences:\r\n\r\n* Primitive values used in the hash code calculation have to be boxed, e.g. `this.id` is converted from `long` to `Long`.\r\n* An `Object[]` has to be created to invoke the method.\r\n\r\nThe cost of creating of these &quot;unnecessary&quot; objects may add up if `hashCode` is called frequently.","title":"Use Objects.hash() or own hashCode() implementation?","body":"<p>Note that the parameter of <code>Objects.hash</code> is <code>Object...</code>. This has two main consequences:</p>\n\n<ul>\n<li>Primitive values used in the hash code calculation have to be boxed, e.g. <code>this.id</code> is converted from <code>long</code> to <code>Long</code>.</li>\n<li>An <code>Object[]</code> has to be created to invoke the method.</li>\n</ul>\n\n<p>The cost of creating of these \"unnecessary\" objects may add up if <code>hashCode</code> is called frequently.</p>\n"},{"tags":[],"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1503471834,"creation_date":1503471834,"answer_id":45832817,"question_id":45832458,"body_markdown":"Following is implementation of **Objects.hash** - which is calling Arrays.hashCode internally.\r\n\r\n    public static int hash(Object... values) {\r\n        return Arrays.hashCode(values);\r\n    }\r\n\r\nThis is implementation of **Arrays.hashCode** method\r\n\r\n    public static int hashCode(Object a[]) {\r\n        if (a == null)\r\n            return 0;\r\n    \r\n        int result = 1;\r\n    \r\n        for (Object element : a)\r\n            result = 31 * result + (element == null ? 0 : element.hashCode());\r\n    \r\n        return result;\r\n    }\r\n\r\nSo I agree with @Andy\r\nThe cost of creating of these &quot;unnecessary&quot; objects may add up if hashCode is called frequently. If you are implementing yourself it would be faster.","title":"Use Objects.hash() or own hashCode() implementation?","body":"<p>Following is implementation of <strong>Objects.hash</strong> - which is calling Arrays.hashCode internally.</p>\n\n<pre><code>public static int hash(Object... values) {\n    return Arrays.hashCode(values);\n}\n</code></pre>\n\n<p>This is implementation of <strong>Arrays.hashCode</strong> method</p>\n\n<pre><code>public static int hashCode(Object a[]) {\n    if (a == null)\n        return 0;\n\n    int result = 1;\n\n    for (Object element : a)\n        result = 31 * result + (element == null ? 0 : element.hashCode());\n\n    return result;\n}\n</code></pre>\n\n<p>So I agree with @Andy\nThe cost of creating of these \"unnecessary\" objects may add up if hashCode is called frequently. If you are implementing yourself it would be faster.</p>\n"},{"tags":[],"owner":{"account_id":9278143,"reputation":8583,"user_id":6893866,"accept_rate":74,"display_name":"Tezra"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1503666909,"creation_date":1503525737,"answer_id":45849949,"question_id":45832458,"body_markdown":"I would like to try and make a strong argument for both.\r\n\r\n&lt;h3&gt;Opening disclaimer&lt;/h3&gt;\r\nFor this answer, `Objects.hash()`, `Objects.hashCode()`, and any function provided by any library that performs this role are interchangeable. First, I would like to argue, use `Objects.hash()` or don&#39;t use the static Objects functions at all. Any argument for or against this method requires making assumptions about the compiled code that are not guaranteed to be true. (For example, the compiler optimizer may convert the function call into an inline call, thus bypassing the extra call stack and object allocation. Just like how loops that do nothing useful don&#39;t make it to the compiled version (unless you turn off the optimizer). You also have no guarantee that future Java versions won&#39;t include the JVM version like C# does in it&#39;s version of this method. (for security reasons I believe)) So the only safe argument you can make regarding using this function, is that it is generally safer to leave the details of a proper hash to this function than to try to implement your own naive version.\r\n\r\n&lt;h3&gt;For Objects.hash&lt;/h3&gt;\r\n* Guaranteed to be a good hash.\r\n* Takes 5 seconds to implement.\r\n* Yours would have had a bug in it (somehow especially if you copy-pasted the implementation)\r\n\r\n&lt;h3&gt;Against Objects.hash&lt;/h3&gt;\r\n* The Java [docs][1] make no promises about hash cross-compatibility (Will a JVM v6 and JVM v8 give the same values? always? across OS?)\r\n* The thing about [hashCodes][2], They work best if &quot;evenly distributed&quot;. So if an int value is only valid for range 1 to 100, you might want to &quot;redistribute&quot; its hash-codes to not all be part of the same bucket.\r\n* If you have any requirement that makes you question how Objects.hash works, reliability/performance wise, Think carefully if the hash-code is really what you want, and implement a custom hash-coding method that addresses **your** needs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#hashCode-java.lang.Object-\r\n  [2]: https://en.wikipedia.org/wiki/Java_hashCode()","title":"Use Objects.hash() or own hashCode() implementation?","body":"<p>I would like to try and make a strong argument for both.</p>\n\n<h3>Opening disclaimer</h3>\n\n<p>For this answer, <code>Objects.hash()</code>, <code>Objects.hashCode()</code>, and any function provided by any library that performs this role are interchangeable. First, I would like to argue, use <code>Objects.hash()</code> or don't use the static Objects functions at all. Any argument for or against this method requires making assumptions about the compiled code that are not guaranteed to be true. (For example, the compiler optimizer may convert the function call into an inline call, thus bypassing the extra call stack and object allocation. Just like how loops that do nothing useful don't make it to the compiled version (unless you turn off the optimizer). You also have no guarantee that future Java versions won't include the JVM version like C# does in it's version of this method. (for security reasons I believe)) So the only safe argument you can make regarding using this function, is that it is generally safer to leave the details of a proper hash to this function than to try to implement your own naive version.</p>\n\n<h3>For Objects.hash</h3>\n\n<ul>\n<li>Guaranteed to be a good hash.</li>\n<li>Takes 5 seconds to implement.</li>\n<li>Yours would have had a bug in it (somehow especially if you copy-pasted the implementation)</li>\n</ul>\n\n<h3>Against Objects.hash</h3>\n\n<ul>\n<li>The Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#hashCode-java.lang.Object-\" rel=\"noreferrer\">docs</a> make no promises about hash cross-compatibility (Will a JVM v6 and JVM v8 give the same values? always? across OS?)</li>\n<li>The thing about <a href=\"https://en.wikipedia.org/wiki/Java_hashCode()\" rel=\"noreferrer\">hashCodes</a>, They work best if \"evenly distributed\". So if an int value is only valid for range 1 to 100, you might want to \"redistribute\" its hash-codes to not all be part of the same bucket.</li>\n<li>If you have any requirement that makes you question how Objects.hash works, reliability/performance wise, Think carefully if the hash-code is really what you want, and implement a custom hash-coding method that addresses <strong>your</strong> needs.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1543082985,"creation_date":1543082985,"answer_id":53461030,"question_id":45832458,"body_markdown":"Joshua Bloch in his book Effective Java, 3rd edition, p. 53 discourages usage of `Objects.hash(...)` if performance is critical.\r\n\r\nPrimitives are being autoboxed and there is a penalty of creating an `Object` array. ","title":"Use Objects.hash() or own hashCode() implementation?","body":"<p>Joshua Bloch in his book Effective Java, 3rd edition, p. 53 discourages usage of <code>Objects.hash(...)</code> if performance is critical.</p>\n\n<p>Primitives are being autoboxed and there is a penalty of creating an <code>Object</code> array. </p>\n"},{"tags":[],"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637180254,"creation_date":1551433581,"answer_id":54941928,"question_id":45832458,"body_markdown":"Personally I&#39;d side with the short code first, because it is so much quicker to read, change and verify as correct, which all serve to avoid bugs when modifying the class.\r\n\r\nThen for performance-critical classes, or where fields are costly to hash, another available &quot;tool&quot; is to cache the result (like `String` does):\r\n\r\n    // volatile not required for 32-bit sized primitives\r\n    private int hash;\r\n\r\n    @Override\r\n    public final int hashCode() {\r\n        // &quot;Racy Single-check idiom&quot; (Item 71, Effective Java 2nd ed.)\r\n        int h = hash;\r\n        if (h == 0) {\r\n            h = Objects.hash(id, timestamp, severity, thread, classPath, message);\r\n            hash = h;\r\n        }\r\n        return h;\r\n    }\r\n\r\nIn this lockless-threadsafe pattern (which assumes an immutable class, naturally) there&#39;s a slim chance that `hash` might get initialised by different threads multiple times, but this does not matter because the result of the public method is always identical. The key to (memory-visibility) correctness is ensuring that `hash` is never written and read more than once in the method.\r\n\r\nThe array-construction penalty of `Objects.hash` might be lower than you imagine once the code gets JIT-inlined &amp; optimised by the C2 compiler.\r\n\r\n(UPDATED) The good folks over at JDK had something baking that was pitched at eliminating the overheads of `Objects::hash` mentioned in other answers, but apparently the difference was not enough to matter, to that particular method: [JEP 348: Java Compiler Intrinsics for JDK APIs][1]\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/348","title":"Use Objects.hash() or own hashCode() implementation?","body":"<p>Personally I'd side with the short code first, because it is so much quicker to read, change and verify as correct, which all serve to avoid bugs when modifying the class.</p>\n<p>Then for performance-critical classes, or where fields are costly to hash, another available &quot;tool&quot; is to cache the result (like <code>String</code> does):</p>\n<pre><code>// volatile not required for 32-bit sized primitives\nprivate int hash;\n\n@Override\npublic final int hashCode() {\n    // &quot;Racy Single-check idiom&quot; (Item 71, Effective Java 2nd ed.)\n    int h = hash;\n    if (h == 0) {\n        h = Objects.hash(id, timestamp, severity, thread, classPath, message);\n        hash = h;\n    }\n    return h;\n}\n</code></pre>\n<p>In this lockless-threadsafe pattern (which assumes an immutable class, naturally) there's a slim chance that <code>hash</code> might get initialised by different threads multiple times, but this does not matter because the result of the public method is always identical. The key to (memory-visibility) correctness is ensuring that <code>hash</code> is never written and read more than once in the method.</p>\n<p>The array-construction penalty of <code>Objects.hash</code> might be lower than you imagine once the code gets JIT-inlined &amp; optimised by the C2 compiler.</p>\n<p>(UPDATED) The good folks over at JDK had something baking that was pitched at eliminating the overheads of <code>Objects::hash</code> mentioned in other answers, but apparently the difference was not enough to matter, to that particular method: <a href=\"https://openjdk.java.net/jeps/348\" rel=\"nofollow noreferrer\">JEP 348: Java Compiler Intrinsics for JDK APIs</a></p>\n"}],"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14434,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":45832552,"answer_count":5,"score":64,"last_activity_date":1637180254,"creation_date":1503470768,"question_id":45832458,"body_markdown":"I have recently discovered the [`Objects.hash()`][1] method.\r\n\r\nMy first thought was, that this tidies up your `hashCode()` implementation a lot. See the following example:\r\n\r\n    @Override\r\n    //traditional\r\n    public int hashCode() {\r\n    \tint hash = 5;\r\n    \thash = 67 * hash + (int)(this.id ^ (this.id &gt;&gt;&gt; 32));\r\n    \thash = 67 * hash + (int)(this.timestamp ^ (this.timestamp &gt;&gt;&gt; 32));\r\n    \thash = 67 * hash + Objects.hashCode(this.severity);\r\n    \thash = 67 * hash + Objects.hashCode(this.thread);\r\n    \thash = 67 * hash + Objects.hashCode(this.classPath);\r\n    \thash = 67 * hash + Objects.hashCode(this.message);\r\n    \treturn hash;\r\n    }\r\n    \r\n    @Override\r\n    //lazy\r\n    public int hashCode() {\r\n    \treturn Objects.hash(id, timestamp, severity, thread, classPath, message);\r\n    }\r\n\r\nAlthough I have to say that this seems too good to be true. Also I&#39;ve never seen this usage.\r\n\r\nAre there any downsides of using `Objects.hash()` compared to implementing your own hash code? When would I choose each of those approaches?\r\n\r\n**Update**\r\n\r\nAlthough this topic is marked as resolved, feel free to keep posting answers that provide new information and concerns.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hash(java.lang.Object...)","title":"Use Objects.hash() or own hashCode() implementation?","body":"<p>I have recently discovered the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hash(java.lang.Object...)\" rel=\"noreferrer\"><code>Objects.hash()</code></a> method.</p>\n\n<p>My first thought was, that this tidies up your <code>hashCode()</code> implementation a lot. See the following example:</p>\n\n<pre><code>@Override\n//traditional\npublic int hashCode() {\n    int hash = 5;\n    hash = 67 * hash + (int)(this.id ^ (this.id &gt;&gt;&gt; 32));\n    hash = 67 * hash + (int)(this.timestamp ^ (this.timestamp &gt;&gt;&gt; 32));\n    hash = 67 * hash + Objects.hashCode(this.severity);\n    hash = 67 * hash + Objects.hashCode(this.thread);\n    hash = 67 * hash + Objects.hashCode(this.classPath);\n    hash = 67 * hash + Objects.hashCode(this.message);\n    return hash;\n}\n\n@Override\n//lazy\npublic int hashCode() {\n    return Objects.hash(id, timestamp, severity, thread, classPath, message);\n}\n</code></pre>\n\n<p>Although I have to say that this seems too good to be true. Also I've never seen this usage.</p>\n\n<p>Are there any downsides of using <code>Objects.hash()</code> compared to implementing your own hash code? When would I choose each of those approaches?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Although this topic is marked as resolved, feel free to keep posting answers that provide new information and concerns.</p>\n"},{"tags":["java","selenium","selenium-webdriver","ngrok","remotewebdriver"],"owner":{"account_id":11352303,"reputation":31,"user_id":9421167,"display_name":"Программер"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637179868,"creation_date":1637175177,"question_id":70010023,"body_markdown":"I need to execute various selenium tests with the same code on different IPs and different machines (that&#39;s a requirement, so I cannot use cloud), so I decided to convert my laptop into selenium hub-server and ask clients to have a selenium node running on their machines with ngrok tunnel.\r\nI have a Selenium hub on my laptop that is started `java -jar &quot;selenium-server-4.0.0.jar&quot; hub` on localhost:4444. To access it from outside, I used ngrok to forward three ports: 4442, 4443, 4444.\r\nNow I start a node on a different pc in different network, with ngrok tunnel running at port 80 (otherwise there will be problems with connection) `java -jar &quot;selenium-server-4.0.0.jar&quot; node --detect-drivers true --publish-events tcp://firsturl.tcp.ngrok.io:4442 --subscribe-events  tcp://secondurl.tcp.ngrok.io:4443 --host urlOfNode.ngrok.io --port 80`. The node is successfully connected. Now I attempt to run java code from my laptop\r\n\r\n            URL url = new URL(&quot;https://randomlygeneratedurl.ngrok.io/wd/hub&quot;);\r\n\t\t\r\n            ChromeOptions options = new ChromeOptions();\r\n    \t\toptions.setHeadless(false);\r\n    \t\toptions.setExperimentalOption(&quot;excludeSwitches&quot;, new String[] { &quot;enable-automation&quot; });\r\n    \t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n    \t\toptions.addArguments(&quot;--disable-gpu&quot;);\r\n    \t\toptions.addArguments(&quot;--whitelisted-ips=&#39;&#39;&quot;);\r\n    \t\toptions.addArguments(\r\n    \t\t\t\t&quot;user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36&quot;);\r\n    \r\n    \t\tWebDriver driver = new RemoteWebDriver(url, options);\r\n    \r\n    \t\tdriver.get(&quot;https://www.google.com&quot;);\r\n\r\n`\r\nThis code successfully starts chrome on a different machine with certain parameters (like exclude switches and maximized), however in url bar I get &#39;data:,&#39; and on the line of driver.get() I receive an exception `\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.json.JsonException: Unable to determine type from: R. Last 1 characters read: R\r\n    Build info: version: &#39;4.0.0-alpha-7&#39;, revision: &#39;de8579b6d5&#39;\r\n    System info: host: &#39;HOST&#39;, ip: &#39;IP&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;10.0.2&#39;\r\n    Driver info: driver.version: RemoteWebDriver`\r\nWhen I don&#39;t use the iptunnels, everything work just fine. I thought that it may be because of networking, like hub assignes a node an internal ip address, however after examining /status it doesn&#39;t seem to be the case. I fear that if I use a VPN between node and hub, all machines will have a similar IP, and that&#39;s exactly what I try to avoid. Plus, selenium docs say that Selenium Grid 4 allows huge flexibility. \r\n\r\n","title":"Selenium remote web driver throws a JsonException","body":"<p>I need to execute various selenium tests with the same code on different IPs and different machines (that's a requirement, so I cannot use cloud), so I decided to convert my laptop into selenium hub-server and ask clients to have a selenium node running on their machines with ngrok tunnel.\nI have a Selenium hub on my laptop that is started <code>java -jar &quot;selenium-server-4.0.0.jar&quot; hub</code> on localhost:4444. To access it from outside, I used ngrok to forward three ports: 4442, 4443, 4444.\nNow I start a node on a different pc in different network, with ngrok tunnel running at port 80 (otherwise there will be problems with connection) <code>java -jar &quot;selenium-server-4.0.0.jar&quot; node --detect-drivers true --publish-events tcp://firsturl.tcp.ngrok.io:4442 --subscribe-events  tcp://secondurl.tcp.ngrok.io:4443 --host urlOfNode.ngrok.io --port 80</code>. The node is successfully connected. Now I attempt to run java code from my laptop</p>\n<pre><code>        URL url = new URL(&quot;https://randomlygeneratedurl.ngrok.io/wd/hub&quot;);\n    \n        ChromeOptions options = new ChromeOptions();\n        options.setHeadless(false);\n        options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[] { &quot;enable-automation&quot; });\n        options.addArguments(&quot;--start-maximized&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n        options.addArguments(&quot;--whitelisted-ips=''&quot;);\n        options.addArguments(\n                &quot;user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36&quot;);\n\n        WebDriver driver = new RemoteWebDriver(url, options);\n\n        driver.get(&quot;https://www.google.com&quot;);\n</code></pre>\n<p><code>This code successfully starts chrome on a different machine with certain parameters (like exclude switches and maximized), however in url bar I get 'data:,' and on the line of driver.get() I receive an exception</code></p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.json.JsonException: Unable to determine type from: R. Last 1 characters read: R\nBuild info: version: '4.0.0-alpha-7', revision: 'de8579b6d5'\nSystem info: host: 'HOST', ip: 'IP', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '10.0.2'\nDriver info: driver.version: RemoteWebDriver`\n</code></pre>\n<p>When I don't use the iptunnels, everything work just fine. I thought that it may be because of networking, like hub assignes a node an internal ip address, however after examining /status it doesn't seem to be the case. I fear that if I use a VPN between node and hub, all machines will have a similar IP, and that's exactly what I try to avoid. Plus, selenium docs say that Selenium Grid 4 allows huge flexibility.</p>\n"},{"tags":["java","spring-boot","rest","http-post"],"answers":[{"tags":[],"owner":{"account_id":13054381,"reputation":71,"user_id":15724356,"display_name":"Daniel Vai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637179711,"creation_date":1637179711,"answer_id":70010902,"question_id":69978072,"body_markdown":"If you use the service as a proxy (and you are not going to download the file to your director), then try to transfer the file by requesting json to base64 (encode bytes into base64).\r\nFor example :\r\n\r\n    { \r\n      &quot;file&quot;: &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA .. &quot;\r\n    }\r\n\r\nCheck in what form the third-party service will accept.\r\n\r\nIf, nevertheless, you want to use multipart, then save it to yourself somewhere in the directory and from there upload the file to another service (since you say that if you use postman, it sends it normally, and it sends it from your PC directory), in this case the File class will help.\r\nTest, if there are problems, then show the result of the execution.","title":"Problem sending image to endpoint, error &quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;","body":"<p>If you use the service as a proxy (and you are not going to download the file to your director), then try to transfer the file by requesting json to base64 (encode bytes into base64).\nFor example :</p>\n<pre><code>{ \n  &quot;file&quot;: &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA .. &quot;\n}\n</code></pre>\n<p>Check in what form the third-party service will accept.</p>\n<p>If, nevertheless, you want to use multipart, then save it to yourself somewhere in the directory and from there upload the file to another service (since you say that if you use postman, it sends it normally, and it sends it from your PC directory), in this case the File class will help.\nTest, if there are problems, then show the result of the execution.</p>\n"}],"owner":{"account_id":23193397,"reputation":53,"user_id":17289413,"display_name":"eva_mila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70010902,"answer_count":1,"score":0,"last_activity_date":1637179711,"creation_date":1636995305,"question_id":69978072,"body_markdown":"I need to send a picture to a third-party api, but an error occurs {&quot;timestamp&quot;: &quot;2021-11-15T15: 25: 06.532 + 00: 00&quot;, &quot;status&quot;: 500, &quot;error&quot;: &quot;Internal Server Error&quot;, &quot;path &quot;:&quot; / api / send / &quot;}\r\n\r\nIf I contact the service directly (postman http://exampleResourese/sendimg), then I get the answer normally, then the problem is in my code (on endpoint http://localhost:8091/api/send).\r\n\r\nTell me how to send a picture via RestTemlate or another method.\r\n\r\na third-party service accepts a picture string ($binary)\r\n\r\nController:\r\n\r\n \r\n\r\n \r\n\r\n       @RequestMapping(value = &quot;/send&quot;,method = RequestMethod.POST)\r\n         public ResponseEntity&lt;?&gt; sendCopyPassport(@RequestParam(&quot;images&quot;) MultipartFile files) throws MalformedURLException, IOException{\r\n        \r\n            return documentsReceivingService.uploadAndGetListDocuments(files);\r\n        \r\n    }\r\n\r\n \r\nService :\r\n    \r\n    \r\n  \r\n\r\n  @Service\r\n    public class DocumentsReceivingService {\r\n    \r\n       @Autowired\r\n        RestTemplate restTemplate;\r\n    \r\n       private final String UPLOADFILE = &quot;http://exampleResourese/sendimg&quot;;\r\n    \r\n    \r\n     Logger logger = LoggerFactory.getLogger(DocumentsReceivingService.class);\r\n    \r\n        public ResponseEntity&lt;?&gt; uploadAndGetListDocuments(MultipartFile files) throws MalformedURLException, IOException{\r\n    \r\n    \r\n    LinkedMultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n         Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n            String str =null;\r\n           \r\n           \r\n           byte[] bytes =null;\r\n    try{\r\n\r\n    bytes = files.getBytes();\r\n     str = new String(bytes,charset);\r\n    } catch (IOException e) {\r\n                \r\n                ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body( new MessageResponse(&quot;err&quot;));\r\n            }\r\n    \r\n       map.add(&quot;images&quot;,str);\r\n       HttpHeaders headers = new HttpHeaders();\r\n       headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    \r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(map, headers);\r\n    String response = restTemplate.postForEntity(UPLOADFILE, requestEntity, String.class);\r\n    \r\n    return  ResponseEntity.ok(response);\r\n\r\n}\r\n\r\nError:\r\n \r\n\r\n    Response 500 INTERNAL_SERVER_ERROR\r\n    2021-11-15 20:43:00.938 DEBUG 22308 --- [nio-8091-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: &quot;{&quot;error&quot;: &quot;Serious unexpected error&quot;}&quot;\r\n    2021-11-15 20:43:00.938 ERROR 22308 --- [nio-8091-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: &quot;{&quot;error&quot;: &quot;Serious unexpected error&quot;}&quot;] with root cause\r\n    \r\n    org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: &quot;{&quot;error&quot;: &quot;Serious unexpected error&quot;}&quot;\r\n\r\nPlease tell me how to correctly transfer the picture? This picture will be loaded from the front and then to my server, after which I will transfer it further to the endpoint\r\n\r\n","title":"Problem sending image to endpoint, error &quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;","body":"<p>I need to send a picture to a third-party api, but an error occurs {&quot;timestamp&quot;: &quot;2021-11-15T15: 25: 06.532 + 00: 00&quot;, &quot;status&quot;: 500, &quot;error&quot;: &quot;Internal Server Error&quot;, &quot;path &quot;:&quot; / api / send / &quot;}</p>\n<p>If I contact the service directly (postman http://exampleResourese/sendimg), then I get the answer normally, then the problem is in my code (on endpoint http://localhost:8091/api/send).</p>\n<p>Tell me how to send a picture via RestTemlate or another method.</p>\n<p>a third-party service accepts a picture string ($binary)</p>\n<p>Controller:</p>\n<pre><code>   @RequestMapping(value = &quot;/send&quot;,method = RequestMethod.POST)\n     public ResponseEntity&lt;?&gt; sendCopyPassport(@RequestParam(&quot;images&quot;) MultipartFile files) throws MalformedURLException, IOException{\n    \n        return documentsReceivingService.uploadAndGetListDocuments(files);\n    \n}\n</code></pre>\n<p>Service :</p>\n<p>@Service\npublic class DocumentsReceivingService {</p>\n<pre><code>   @Autowired\n    RestTemplate restTemplate;\n\n   private final String UPLOADFILE = &quot;http://exampleResourese/sendimg&quot;;\n\n\n Logger logger = LoggerFactory.getLogger(DocumentsReceivingService.class);\n\n    public ResponseEntity&lt;?&gt; uploadAndGetListDocuments(MultipartFile files) throws MalformedURLException, IOException{\n\n\nLinkedMultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\n     Charset charset = Charset.forName(&quot;UTF-8&quot;);\n        String str =null;\n       \n       \n       byte[] bytes =null;\ntry{\n\nbytes = files.getBytes();\n str = new String(bytes,charset);\n} catch (IOException e) {\n            \n            ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body( new MessageResponse(&quot;err&quot;));\n        }\n\n   map.add(&quot;images&quot;,str);\n   HttpHeaders headers = new HttpHeaders();\n   headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(map, headers);\nString response = restTemplate.postForEntity(UPLOADFILE, requestEntity, String.class);\n\nreturn  ResponseEntity.ok(response);\n</code></pre>\n<p>}</p>\n<p>Error:</p>\n<pre><code>Response 500 INTERNAL_SERVER_ERROR\n2021-11-15 20:43:00.938 DEBUG 22308 --- [nio-8091-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: &quot;{&quot;error&quot;: &quot;Serious unexpected error&quot;}&quot;\n2021-11-15 20:43:00.938 ERROR 22308 --- [nio-8091-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: &quot;{&quot;error&quot;: &quot;Serious unexpected error&quot;}&quot;] with root cause\n\norg.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: &quot;{&quot;error&quot;: &quot;Serious unexpected error&quot;}&quot;\n</code></pre>\n<p>Please tell me how to correctly transfer the picture? This picture will be loaded from the front and then to my server, after which I will transfer it further to the endpoint</p>\n"},{"tags":["java","keycloak","openid-connect","quarkus","quarkus-oidc"],"answers":[{"tags":[],"owner":{"account_id":2559743,"reputation":3088,"user_id":2220997,"display_name":"yntelectual"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637179475,"creation_date":1637179475,"answer_id":70010862,"question_id":70001847,"body_markdown":"With declarative security(`@RolesAllowed`, `@Authenticated`...) the auth violation errors are handled as exceptions thrown by the security extension, These exceptions are then mapped using standard [JAXRS exception mapping][1] mechanism.\r\n\r\nThat means, the only thing you need to modify the responses for these errrors, is to create an exception mapper for the specific exception you want. In Quarkus security the relevant exceptions are: `io.quarkus.security.ForbiddenException` and `io.quarkus.security.UnauthorizedException` for the `403` and `401` errors respectively.\r\n\r\nAn example mapper for the 403/Forbidden error:\r\n```java\r\nimport io.quarkus.security.ForbiddenException;\r\n\r\nimport javax.annotation.Priority;\r\nimport javax.ws.rs.core.Response;\r\nimport javax.ws.rs.ext.ExceptionMapper;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\n@Provider//register as JAXRS provider\r\n@Priority(1)//override the build-int mapper(which has 5001 prio)\r\npublic class ForbiddenExceptionMapper implements ExceptionMapper&lt;ForbiddenException&gt; {\r\n  @Override\r\n  public Response toResponse(ForbiddenException exception) {\r\n    return Response.status(Response.Status.FORBIDDEN)\r\n      .entity(new MyErrorObject(&quot;ERR_NO_ACCESS&quot;,&quot;Sorry access forbidden&quot;))\r\n      .build();\r\n  }\r\n}\r\n```\r\n\r\nDo note, that your exception mappers need to have correct `@Priority` value(the lower the value, the higher the prio) because Quarkus already bundles mappers for these exceptions(inside `quarkus-resteasy` extension), so you need to provide a mapper with higher prio to override them. Those build-in mappers are actually responsible for the 401/403 responses you see.\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ExceptionMapper.html","title":"Allow quarkus-oidc to customize response body of 403","body":"<p>With declarative security(<code>@RolesAllowed</code>, <code>@Authenticated</code>...) the auth violation errors are handled as exceptions thrown by the security extension, These exceptions are then mapped using standard <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ExceptionMapper.html\" rel=\"nofollow noreferrer\">JAXRS exception mapping</a> mechanism.</p>\n<p>That means, the only thing you need to modify the responses for these errrors, is to create an exception mapper for the specific exception you want. In Quarkus security the relevant exceptions are: <code>io.quarkus.security.ForbiddenException</code> and <code>io.quarkus.security.UnauthorizedException</code> for the <code>403</code> and <code>401</code> errors respectively.</p>\n<p>An example mapper for the 403/Forbidden error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.quarkus.security.ForbiddenException;\n\nimport javax.annotation.Priority;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport javax.ws.rs.ext.Provider;\n\n@Provider//register as JAXRS provider\n@Priority(1)//override the build-int mapper(which has 5001 prio)\npublic class ForbiddenExceptionMapper implements ExceptionMapper&lt;ForbiddenException&gt; {\n  @Override\n  public Response toResponse(ForbiddenException exception) {\n    return Response.status(Response.Status.FORBIDDEN)\n      .entity(new MyErrorObject(&quot;ERR_NO_ACCESS&quot;,&quot;Sorry access forbidden&quot;))\n      .build();\n  }\n}\n</code></pre>\n<p>Do note, that your exception mappers need to have correct <code>@Priority</code> value(the lower the value, the higher the prio) because Quarkus already bundles mappers for these exceptions(inside <code>quarkus-resteasy</code> extension), so you need to provide a mapper with higher prio to override them. Those build-in mappers are actually responsible for the 401/403 responses you see.</p>\n"}],"owner":{"account_id":22905136,"reputation":121,"user_id":17043317,"display_name":"Utesting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1637179475,"creation_date":1637141343,"question_id":70001847,"body_markdown":"I want to customize the response body of 403/401 in quarkus oidc application.\r\nI have tried many things to implement that but not able to do so. Same can be achieved in Spring boot easily.","title":"Allow quarkus-oidc to customize response body of 403","body":"<p>I want to customize the response body of 403/401 in quarkus oidc application.\nI have tried many things to implement that but not able to do so. Same can be achieved in Spring boot easily.</p>\n"},{"tags":["java","jpa","eclipselink"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637179205,"creation_date":1464881665,"answer_id":37596251,"question_id":37596088,"body_markdown":"JPA does not allow nested fetch joins but you can use the EclipseLink specific [left-join-fetch query hint][1] to tell it you want the b.cs relationship fetched.  See [this answer][2]\r\n\r\nedit:\r\n\r\nuse code \r\n\r\n    Query query = em.createQuery(&quot;SELECT a FROM A a&quot;);\r\n    query.setHint(&quot;eclipselink.join-fetch&quot;, &quot;a.bs.cs&quot;);\r\n\r\nto have a-&gt;bs and bs-&gt;cs fetched and joined in the same query.\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/q_left-join-fetch.htm\r\n  [2]: https://stackoverflow.com/a/16693590/496099\r\n","title":"EclipseLink:How to avoid additional sql query for nested left join","body":"<p>JPA does not allow nested fetch joins but you can use the EclipseLink specific <a href=\"http://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/q_left-join-fetch.htm\" rel=\"nofollow noreferrer\">left-join-fetch query hint</a> to tell it you want the b.cs relationship fetched.  See <a href=\"https://stackoverflow.com/a/16693590/496099\">this answer</a></p>\n<p>edit:</p>\n<p>use code</p>\n<pre><code>Query query = em.createQuery(&quot;SELECT a FROM A a&quot;);\nquery.setHint(&quot;eclipselink.join-fetch&quot;, &quot;a.bs.cs&quot;);\n</code></pre>\n<p>to have a-&gt;bs and bs-&gt;cs fetched and joined in the same query.</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37596251,"answer_count":1,"score":2,"last_activity_date":1637179205,"creation_date":1464881216,"question_id":37596088,"body_markdown":"I have the following entities:\r\n\r\n    @Entity\r\n    class A{\r\n     @OneToMany\r\n     private List&lt;B&gt; bs;\r\n     ...\r\n    }\r\n    \r\n    @Entity\r\n    class B{\r\n     @OneToMany\r\n     private List&lt;C&gt; cs;\r\n     ...\r\n    }\r\n    \r\n    @Entity\r\n    class C{\r\n     ...\r\n    }\r\n\r\nSo I do the followin query:\r\n\r\n    SELECT a FROM A a LEFT JOIN FETCH a.bs b LEFT JOIN b.cs\r\n\r\nThis code works, the only problem that A and B are read from database in one join query, but for reading C (LEFT JOIN b.cs) separate sql query is executed to read only C entities. How to read A,B,C in one sql query.","title":"EclipseLink:How to avoid additional sql query for nested left join","body":"<p>I have the following entities:</p>\n\n<pre><code>@Entity\nclass A{\n @OneToMany\n private List&lt;B&gt; bs;\n ...\n}\n\n@Entity\nclass B{\n @OneToMany\n private List&lt;C&gt; cs;\n ...\n}\n\n@Entity\nclass C{\n ...\n}\n</code></pre>\n\n<p>So I do the followin query:</p>\n\n<pre><code>SELECT a FROM A a LEFT JOIN FETCH a.bs b LEFT JOIN b.cs\n</code></pre>\n\n<p>This code works, the only problem that A and B are read from database in one join query, but for reading C (LEFT JOIN b.cs) separate sql query is executed to read only C entities. How to read A,B,C in one sql query.</p>\n"},{"tags":["java","binary-tree","inner-classes"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1637183503,"post_id":70010444,"comment_id":123761337,"body_markdown":"That is not the issue, your issue is that you&#39;re not printing left children, only right children. When I tested your output with `insert(30)` and `insert(40)` the output came up as `BinaryTreeMap{223040}`(You also need to fix your stringbuilder). The issue lies in your `next` and `toString()` methods","body":"That is not the issue, your issue is that you&#39;re not printing left children, only right children. When I tested your output with <code>insert(30)</code> and <code>insert(40)</code> the output came up as <code>BinaryTreeMap{223040}</code>(You also need to fix your stringbuilder). The issue lies in your <code>next</code> and <code>toString()</code> methods"},{"owner":{"account_id":19102094,"reputation":23,"user_id":13950140,"display_name":"Lanak"},"score":0,"creation_date":1637231446,"post_id":70010444,"comment_id":123773028,"body_markdown":"thank you, i didnt notice it.","body":"thank you, i didnt notice it."}],"owner":{"account_id":19102094,"reputation":23,"user_id":13950140,"display_name":"Lanak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637179113,"creation_date":1637177426,"question_id":70010444,"body_markdown":"Im trying to develop Bynary Tree on Java. I have 2 classes BynaryTreeMap and his inner class Elem.\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        BinaryTreeMap tree = new BinaryTreeMap(22);\r\n\r\n        System.out.println(tree.MapSearch(22));\r\n        tree.insert(10);\r\n        System.out.println(tree);\r\n    }\r\n\r\n\r\n}\r\n\r\nclass BinaryTreeMap {\r\n    Elem root;\r\n    private static int height;\r\n\r\n    BinaryTreeMap(int key){\r\n        root = new Elem(key);\r\n        height = 1;\r\n    }\r\n\r\n    public Elem next(Elem elem){\r\n        Elem next;\r\n        if (elem.right != null) {\r\n            next = this.Minimum(elem.right);\r\n        }\r\n        else{\r\n            next = elem.parent;\r\n            while (next != null &amp;&amp; elem == next.right){\r\n                elem = next;\r\n                next = next.parent;\r\n            }\r\n        }\r\n        return next;\r\n    }\r\n\r\n    public void insert(int key){\r\n        Elem elem = new Elem(key);\r\n        Elem x;\r\n        if (root == null)\r\n            root = elem;\r\n        else {\r\n            x = root;\r\n            while(true){\r\n                if (x.key == key)\r\n                    throw new RuntimeException(&quot;elem is already in tree&quot;);\r\n                if (key &lt; x.key){\r\n                    if (x.left == null){\r\n                        x.setLeft(elem);\r\n                        break;\r\n                    }\r\n                    x = x.left;\r\n                }\r\n                else\r\n                if (x.right == null){\r\n                    x.setRight(elem);\r\n                    break;\r\n                }\r\n                x = x.right;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public Elem descend(int key){\r\n        Elem elem = root;\r\n        while (elem != null &amp;&amp; elem.key != key){\r\n            if (key &lt;= elem.key)\r\n                elem = elem.left;\r\n            else elem = elem.right;\r\n        }\r\n        return elem;\r\n    }\r\n\r\n    public boolean MapSearch(int key){\r\n        return descend(key) != null;\r\n    }\r\n\r\n    public Elem lookUp(int key){\r\n        Elem elem = descend(key);\r\n        if (elem == null)\r\n            throw new RuntimeException(&quot;No such elemet&quot;);\r\n        return elem;\r\n    }\r\n\r\n    public boolean isEmpty(){\r\n        return root == null;\r\n    }\r\n\r\n    public Elem Minimum(Elem elem){\r\n        Elem min = elem;\r\n        while (min.left != null)\r\n            min = min.left;\r\n        return min;\r\n    }\r\n\r\n    public Elem Maximum(Elem elem){\r\n        Elem max = elem;\r\n        while (max.right != null)\r\n            max = max.right;\r\n        return max;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder stringBuilder = new StringBuilder(&quot;BinaryTreeMap{&quot;);\r\n        while (root != null){\r\n            stringBuilder.append(root.key);\r\n            root = this.next(root);\r\n        }\r\n        stringBuilder.append(&quot;}&quot;);\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    public class Elem{\r\n        private Elem parent = null;\r\n        private Elem left = null;\r\n        private Elem right = null;\r\n        private final int key;\r\n        Elem(int key){\r\n            this.key = key;\r\n        }\r\n\r\n        private void setLeft(Elem leftAncestor){\r\n            this.left = leftAncestor;\r\n            leftAncestor.parent = this;\r\n        }\r\n\r\n        private void setRight(Elem rightAncestor){\r\n            this.right = rightAncestor;\r\n            rightAncestor.parent = this;\r\n        }\r\n    }\r\n}\r\n```\r\nOutput\r\n```\r\ntrue\r\nBinaryTreeMap{22}\r\n```\r\nIf i run the program in debug mode, my output is worse.\r\n```\r\nfalse\r\nBinaryTreeMap{}\r\n```\r\nCorrect output\r\n```\r\ntrue\r\nBinaryTreeMap{22 10}\r\n```\r\nAs i can see my root variable became null, but i cant understand why.\r\nTried to google it, bud didnt succeed. Maybe i didnt uderstand how inner classes work?\r\nThank you for you help.","title":"How can i use inner class in outer class in Java?","body":"<p>Im trying to develop Bynary Tree on Java. I have 2 classes BynaryTreeMap and his inner class Elem.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        BinaryTreeMap tree = new BinaryTreeMap(22);\n\n        System.out.println(tree.MapSearch(22));\n        tree.insert(10);\n        System.out.println(tree);\n    }\n\n\n}\n\nclass BinaryTreeMap {\n    Elem root;\n    private static int height;\n\n    BinaryTreeMap(int key){\n        root = new Elem(key);\n        height = 1;\n    }\n\n    public Elem next(Elem elem){\n        Elem next;\n        if (elem.right != null) {\n            next = this.Minimum(elem.right);\n        }\n        else{\n            next = elem.parent;\n            while (next != null &amp;&amp; elem == next.right){\n                elem = next;\n                next = next.parent;\n            }\n        }\n        return next;\n    }\n\n    public void insert(int key){\n        Elem elem = new Elem(key);\n        Elem x;\n        if (root == null)\n            root = elem;\n        else {\n            x = root;\n            while(true){\n                if (x.key == key)\n                    throw new RuntimeException(&quot;elem is already in tree&quot;);\n                if (key &lt; x.key){\n                    if (x.left == null){\n                        x.setLeft(elem);\n                        break;\n                    }\n                    x = x.left;\n                }\n                else\n                if (x.right == null){\n                    x.setRight(elem);\n                    break;\n                }\n                x = x.right;\n            }\n        }\n\n    }\n\n    public Elem descend(int key){\n        Elem elem = root;\n        while (elem != null &amp;&amp; elem.key != key){\n            if (key &lt;= elem.key)\n                elem = elem.left;\n            else elem = elem.right;\n        }\n        return elem;\n    }\n\n    public boolean MapSearch(int key){\n        return descend(key) != null;\n    }\n\n    public Elem lookUp(int key){\n        Elem elem = descend(key);\n        if (elem == null)\n            throw new RuntimeException(&quot;No such elemet&quot;);\n        return elem;\n    }\n\n    public boolean isEmpty(){\n        return root == null;\n    }\n\n    public Elem Minimum(Elem elem){\n        Elem min = elem;\n        while (min.left != null)\n            min = min.left;\n        return min;\n    }\n\n    public Elem Maximum(Elem elem){\n        Elem max = elem;\n        while (max.right != null)\n            max = max.right;\n        return max;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder stringBuilder = new StringBuilder(&quot;BinaryTreeMap{&quot;);\n        while (root != null){\n            stringBuilder.append(root.key);\n            root = this.next(root);\n        }\n        stringBuilder.append(&quot;}&quot;);\n        return stringBuilder.toString();\n    }\n\n    public class Elem{\n        private Elem parent = null;\n        private Elem left = null;\n        private Elem right = null;\n        private final int key;\n        Elem(int key){\n            this.key = key;\n        }\n\n        private void setLeft(Elem leftAncestor){\n            this.left = leftAncestor;\n            leftAncestor.parent = this;\n        }\n\n        private void setRight(Elem rightAncestor){\n            this.right = rightAncestor;\n            rightAncestor.parent = this;\n        }\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>true\nBinaryTreeMap{22}\n</code></pre>\n<p>If i run the program in debug mode, my output is worse.</p>\n<pre><code>false\nBinaryTreeMap{}\n</code></pre>\n<p>Correct output</p>\n<pre><code>true\nBinaryTreeMap{22 10}\n</code></pre>\n<p>As i can see my root variable became null, but i cant understand why.\nTried to google it, bud didnt succeed. Maybe i didnt uderstand how inner classes work?\nThank you for you help.</p>\n"},{"tags":["java","testing","selenium-webdriver","grid","automated-tests"],"comments":[{"owner":{"account_id":3447044,"reputation":41737,"user_id":2887618,"display_name":"Florent B."},"score":1,"creation_date":1510320623,"post_id":47223667,"comment_id":81397491,"body_markdown":"The logs from the node or driver should tell you why the timeout occurred.  It usually happens when implicit waits are used or when a resource in the page is falling to load or when the driver failed to respond due to a bug.","body":"The logs from the node or driver should tell you why the timeout occurred.  It usually happens when implicit waits are used or when a resource in the page is falling to load or when the driver failed to respond due to a bug."},{"owner":{"account_id":2989745,"reputation":5,"user_id":2537562,"display_name":"Brutalys"},"score":0,"creation_date":1510328311,"post_id":47223667,"comment_id":81402736,"body_markdown":"We have no implicit wait in our framework. Logs on nodes are not telling much; exception driven by the grid. No clues. Timeout suggest to adjust a property but we don&#39;t know which one.","body":"We have no implicit wait in our framework. Logs on nodes are not telling much; exception driven by the grid. No clues. Timeout suggest to adjust a property but we don&#39;t know which one."}],"answers":[{"tags":[],"owner":{"account_id":1887732,"reputation":154,"user_id":1706616,"display_name":"Eran Levy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1523541716,"creation_date":1523541716,"answer_id":49798633,"question_id":47223667,"body_markdown":"Selenium grid serves all your selenium requests, as a result you&#39;ll have to increase the -jettyMaxThreads. The default is 200 (selenium v3.11). You might run more load than what your jetty engine can handle. \r\n","title":"What&#39;s causing the WebDriverException &quot;Caused by: org.openqa.grid.common.exception.GridException: Session was terminated due to TIMEOUT","body":"<p>Selenium grid serves all your selenium requests, as a result you'll have to increase the -jettyMaxThreads. The default is 200 (selenium v3.11). You might run more load than what your jetty engine can handle. </p>\n"}],"owner":{"account_id":2989745,"reputation":5,"user_id":2537562,"display_name":"Brutalys"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49798633,"answer_count":1,"score":0,"last_activity_date":1637178963,"creation_date":1510319775,"question_id":47223667,"body_markdown":"The problem I have; I get some timeout :\r\n\r\n    Caused by: org.openqa.grid.common.exception.GridException: Session [88131a70-87d7-4cf7-b7a5-f01de85f6012] was terminated due to TIMEOUT.\r\n\r\nFor those tests, the tests start and are very long. That&#39;s ok that they are long because the test waits for a third party to receive a response. So, I don&#39;t want to have the grid to terminate the test.\r\n\r\nI have a selenium Grid, with 1 hub and 2 nodes.\r\nNodes configuration are as follow :\r\n\r\n    &quot;port&quot;: 5554,\r\n    &quot;hubPort&quot;: 4444,\r\n    &quot;hubHost&quot;: &quot;xxx.yyy.zzzz&quot;,\r\n    &quot;nodePolling&quot;: 5000,\r\n    &quot;registerCycle&quot;: 1800000,\r\n    &quot;register&quot;: true,\r\n    &quot;cleanUpCycle&quot;: 5000,\r\n    &quot;timeout&quot;: 12000,\r\n    &quot;browserTimeout&quot;: 12000,\r\n    &quot;nodeStatusCheckTimeout&quot;: 12000,\r\n    &quot;maxSession&quot;: 4\r\n\r\nFor the Hub part, no config file is set. \r\nI&#39;m currently running selenium server 2.53.0.\r\nAs I can see, my timeout, `browserTimeout` and `nodeStatusCheckTimeout` are more than enough to wait for the completion of the test before the connection is dropped.\r\nThe problem occurs about 5 minutes after the test is launched.\r\n","title":"What&#39;s causing the WebDriverException &quot;Caused by: org.openqa.grid.common.exception.GridException: Session was terminated due to TIMEOUT","body":"<p>The problem I have; I get some timeout :</p>\n<pre><code>Caused by: org.openqa.grid.common.exception.GridException: Session [88131a70-87d7-4cf7-b7a5-f01de85f6012] was terminated due to TIMEOUT.\n</code></pre>\n<p>For those tests, the tests start and are very long. That's ok that they are long because the test waits for a third party to receive a response. So, I don't want to have the grid to terminate the test.</p>\n<p>I have a selenium Grid, with 1 hub and 2 nodes.\nNodes configuration are as follow :</p>\n<pre><code>&quot;port&quot;: 5554,\n&quot;hubPort&quot;: 4444,\n&quot;hubHost&quot;: &quot;xxx.yyy.zzzz&quot;,\n&quot;nodePolling&quot;: 5000,\n&quot;registerCycle&quot;: 1800000,\n&quot;register&quot;: true,\n&quot;cleanUpCycle&quot;: 5000,\n&quot;timeout&quot;: 12000,\n&quot;browserTimeout&quot;: 12000,\n&quot;nodeStatusCheckTimeout&quot;: 12000,\n&quot;maxSession&quot;: 4\n</code></pre>\n<p>For the Hub part, no config file is set.\nI'm currently running selenium server 2.53.0.\nAs I can see, my timeout, <code>browserTimeout</code> and <code>nodeStatusCheckTimeout</code> are more than enough to wait for the completion of the test before the connection is dropped.\nThe problem occurs about 5 minutes after the test is launched.</p>\n"},{"tags":["java","selenium","maven","webdriver","alpine-linux"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637178805,"creation_date":1637178805,"answer_id":70010713,"question_id":70010107,"body_markdown":"Though you mentioned about adding the following dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\nBut as per the error stack trace your program is looking for:\r\n\r\n- `selenium-remote-driver-3.141.59.jar:na`\r\n- `selenium-remote-driver-3.141.59.jar:na`\r\n- `selenium-firefox-driver-3.141.59.jar:na`\r\n\r\nHence, the _class definations_ aren&#39;t found and you see the error **`java.lang.NoClassDefFoundError`**\r\n\r\nCheckout your dockered app configuration to resolve the conflict between Selenium _v3.141.59_ and _v4.0.0_","title":"java.lang.NoClassDefFoundError while using FirefoxDriver(Selenium) in docker with alpine image","body":"<p>Though you mentioned about adding the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n    \n</code></pre>\n<p>But as per the error stack trace your program is looking for:</p>\n<ul>\n<li><code>selenium-remote-driver-3.141.59.jar:na</code></li>\n<li><code>selenium-remote-driver-3.141.59.jar:na</code></li>\n<li><code>selenium-firefox-driver-3.141.59.jar:na</code></li>\n</ul>\n<p>Hence, the <em>class definations</em> aren't found and you see the error <strong><code>java.lang.NoClassDefFoundError</code></strong></p>\n<p>Checkout your dockered app configuration to resolve the conflict between Selenium <em>v3.141.59</em> and <em>v4.0.0</em></p>\n"}],"owner":{"account_id":19726105,"reputation":3,"user_id":16729174,"display_name":"Pronnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70010713,"answer_count":1,"score":0,"last_activity_date":1637178805,"creation_date":1637175588,"question_id":70010107,"body_markdown":"Trying to use FireFox driver for doing some manipulations with webbrowser, but when i dockered my app i faced with error that i posted down.\r\n\r\nUsing Selenium, Firefox-driver and maven:3.6.1-jdk-8-alpine image with fierfox-esr and xvfb on it\r\n\r\nSome piece of program:\r\n```\r\n@Scheduled(fixedRate = 20000)\r\n    public void main() throws InterruptedException, IOException {\r\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;Gecko/geckodriver&quot;);\r\n\r\n        QueueEntity queue = QueueDAO.next();\r\n        if (queue != null) {\r\n            WebDriver driver = new FirefoxDriver();\r\n```\r\n\r\nLast line causes an error:\r\n```\r\n1637168554124\tgeckodriver\tINFO\tListening on 127.0.0.1:24425\r\n2021-11-17T17:02:34.134011600Z 1637168554133\tmozrunner::runner\tINFO\tRunning command: &quot;/usr/bin/firefox&quot; &quot;--marionette&quot; &quot;-no-remote&quot; &quot;-profile&quot; &quot;/tmp/rust_mozprofileUkF2hH&quot;\r\n2021-11-17T17:02:36.256633700Z 1637168556256\tMarionette\tINFO\tListening on port 45371\r\n2021-11-17T17:02:36.347875300Z 1637168556347\tMarionette\tWARN\tTLS certificate errors will be ignored for this session\r\n2021-11-17T17:02:36.413224000Z 2021-11-17 17:02:36.412  INFO 54 --- [ null to remote] o.o.selenium.remote.ProtocolHandshake    : Detected dialect: W3C\r\n2021-11-17T17:02:36.414915900Z 2021-11-17 17:02:36.414 ERROR 54 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\r\n2021-11-17T17:02:36.415000400Z \r\n2021-11-17T17:02:36.415009800Z java.lang.NoClassDefFoundError: org/openqa/selenium/remote/RemoteWebElement\r\n2021-11-17T17:02:36.415013100Z \tat org.openqa.selenium.remote.internal.JsonToWebElementConverter.apply(JsonToWebElementConverter.java:63) ~[selenium-remote-driver-3.141.59.jar:na]\r\n2021-11-17T17:02:36.415016400Z \tat com.google.common.collect.Maps$9.transformEntry(Maps.java:1955) ~[guava-25.0-jre.jar:na]\r\n2021-11-17T17:02:36.415019300Z \tat com.google.common.collect.Maps$12.getValue(Maps.java:1996) ~[guava-25.0-jre.jar:na]\r\n2021-11-17T17:02:36.415022100Z \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:222) ~[selenium-remote-driver-3.141.59.jar:na]\r\n2021-11-17T17:02:36.415025000Z \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131) ~[selenium-remote-driver-3.141.59.jar:na]\r\n2021-11-17T17:02:36.415028100Z \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:147) ~[selenium-firefox-driver-3.141.59.jar:na]\r\n2021-11-17T17:02:36.415030900Z \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:125) ~[selenium-firefox-driver-3.141.59.jar:na]\r\n2021-11-17T17:02:36.415033800Z \tat staff.parser.scheduler.loopedMain.main(loopedMain.java:29) ~[classes/:na]\r\n2021-11-17T17:02:36.415036600Z \tat sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source) ~[na:na]\r\n2021-11-17T17:02:36.415048800Z \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n2021-11-17T17:02:36.415052300Z \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n2021-11-17T17:02:36.415055500Z \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.12.jar:5.3.12]\r\n2021-11-17T17:02:36.415060700Z \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.12.jar:5.3.12]\r\n2021-11-17T17:02:36.415065500Z \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_212]\r\n2021-11-17T17:02:36.415070500Z \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_212]\r\n2021-11-17T17:02:36.415074200Z \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_212]\r\n2021-11-17T17:02:36.415077800Z \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_212]\r\n2021-11-17T17:02:36.415080700Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_212]\r\n2021-11-17T17:02:36.415083500Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_212]\r\n2021-11-17T17:02:36.415086300Z \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\r\n2021-11-17T17:02:36.415089000Z \r\n```\r\nUsing maven \r\n\r\nDependencies from pom.xml:\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0b1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20180813&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nAll that is running in docker (alpine)\r\n\r\nDockerFile:\r\n```\r\nFROM maven:3.6.1-jdk-8-alpine\r\nCOPY ./src /app/src\r\nCOPY ./Gecko /app/Gecko\r\nCOPY pom.xml /app\r\nWORKDIR /app\r\nEXPOSE 3000\r\nRUN mvn package\r\nRun apk update\r\nRun apk add xvfb\r\nRun apk add firefox-esr\r\nRun Xvfb :9 &amp;\r\nCMD [&quot;mvn&quot;, &quot;spring-boot:run&quot;]\r\n```\r\nAlso specifying Display=:9 as an environment variable\r\n\r\nWill be glad for any help^_^","title":"java.lang.NoClassDefFoundError while using FirefoxDriver(Selenium) in docker with alpine image","body":"<p>Trying to use FireFox driver for doing some manipulations with webbrowser, but when i dockered my app i faced with error that i posted down.</p>\n<p>Using Selenium, Firefox-driver and maven:3.6.1-jdk-8-alpine image with fierfox-esr and xvfb on it</p>\n<p>Some piece of program:</p>\n<pre><code>@Scheduled(fixedRate = 20000)\n    public void main() throws InterruptedException, IOException {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;Gecko/geckodriver&quot;);\n\n        QueueEntity queue = QueueDAO.next();\n        if (queue != null) {\n            WebDriver driver = new FirefoxDriver();\n</code></pre>\n<p>Last line causes an error:</p>\n<pre><code>1637168554124   geckodriver INFO    Listening on 127.0.0.1:24425\n2021-11-17T17:02:34.134011600Z 1637168554133    mozrunner::runner   INFO    Running command: &quot;/usr/bin/firefox&quot; &quot;--marionette&quot; &quot;-no-remote&quot; &quot;-profile&quot; &quot;/tmp/rust_mozprofileUkF2hH&quot;\n2021-11-17T17:02:36.256633700Z 1637168556256    Marionette  INFO    Listening on port 45371\n2021-11-17T17:02:36.347875300Z 1637168556347    Marionette  WARN    TLS certificate errors will be ignored for this session\n2021-11-17T17:02:36.413224000Z 2021-11-17 17:02:36.412  INFO 54 --- [ null to remote] o.o.selenium.remote.ProtocolHandshake    : Detected dialect: W3C\n2021-11-17T17:02:36.414915900Z 2021-11-17 17:02:36.414 ERROR 54 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\n2021-11-17T17:02:36.415000400Z \n2021-11-17T17:02:36.415009800Z java.lang.NoClassDefFoundError: org/openqa/selenium/remote/RemoteWebElement\n2021-11-17T17:02:36.415013100Z  at org.openqa.selenium.remote.internal.JsonToWebElementConverter.apply(JsonToWebElementConverter.java:63) ~[selenium-remote-driver-3.141.59.jar:na]\n2021-11-17T17:02:36.415016400Z  at com.google.common.collect.Maps$9.transformEntry(Maps.java:1955) ~[guava-25.0-jre.jar:na]\n2021-11-17T17:02:36.415019300Z  at com.google.common.collect.Maps$12.getValue(Maps.java:1996) ~[guava-25.0-jre.jar:na]\n2021-11-17T17:02:36.415022100Z  at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:222) ~[selenium-remote-driver-3.141.59.jar:na]\n2021-11-17T17:02:36.415025000Z  at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131) ~[selenium-remote-driver-3.141.59.jar:na]\n2021-11-17T17:02:36.415028100Z  at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:147) ~[selenium-firefox-driver-3.141.59.jar:na]\n2021-11-17T17:02:36.415030900Z  at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:125) ~[selenium-firefox-driver-3.141.59.jar:na]\n2021-11-17T17:02:36.415033800Z  at staff.parser.scheduler.loopedMain.main(loopedMain.java:29) ~[classes/:na]\n2021-11-17T17:02:36.415036600Z  at sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source) ~[na:na]\n2021-11-17T17:02:36.415048800Z  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n2021-11-17T17:02:36.415052300Z  at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n2021-11-17T17:02:36.415055500Z  at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.12.jar:5.3.12]\n2021-11-17T17:02:36.415060700Z  at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.12.jar:5.3.12]\n2021-11-17T17:02:36.415065500Z  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_212]\n2021-11-17T17:02:36.415070500Z  at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_212]\n2021-11-17T17:02:36.415074200Z  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_212]\n2021-11-17T17:02:36.415077800Z  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_212]\n2021-11-17T17:02:36.415080700Z  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_212]\n2021-11-17T17:02:36.415083500Z  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_212]\n2021-11-17T17:02:36.415086300Z  at java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\n2021-11-17T17:02:36.415089000Z \n</code></pre>\n<p>Using maven</p>\n<p>Dependencies from pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-common&lt;/artifactId&gt;\n            &lt;version&gt;2.0b1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180813&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>All that is running in docker (alpine)</p>\n<p>DockerFile:</p>\n<pre><code>FROM maven:3.6.1-jdk-8-alpine\nCOPY ./src /app/src\nCOPY ./Gecko /app/Gecko\nCOPY pom.xml /app\nWORKDIR /app\nEXPOSE 3000\nRUN mvn package\nRun apk update\nRun apk add xvfb\nRun apk add firefox-esr\nRun Xvfb :9 &amp;\nCMD [&quot;mvn&quot;, &quot;spring-boot:run&quot;]\n</code></pre>\n<p>Also specifying Display=:9 as an environment variable</p>\n<p>Will be glad for any help^_^</p>\n"},{"tags":["java","json","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19678373,"reputation":27,"user_id":14405988,"display_name":"Q&#235;ndrim Izairi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637177918,"creation_date":1637177918,"answer_id":70010539,"question_id":70009201,"body_markdown":"Recently I had a similar issue. I managed it to fetch data from two Entities/tables by using JDBC template. However, first I created a class where are included only the columns that I require. The following is my solution and the suggestion for your issue:\r\n\r\n        @GetMapping(&quot;/testi2&quot;)\r\n    public List&lt;CustomerResponse&gt; getCCP2() {\r\n        String sql = &quot;SELECT top 20 c.ID, c.CustomerNumber, c.Name, c.Surname, c.Area, c.City, c.Address, c.PhoneNumber, c.CustomerTypeID, c.Enabled, c.DateCreated, p.Id, p.Debit, p.Credit\\n&quot; +\r\n                &quot;FROM TblCustomer c OUTER APPLY\\n&quot; +\r\n                &quot;     (SELECT TOP 1 p.*\\n&quot; +\r\n                &quot;      FROM TblPayments p\\n&quot; +\r\n                &quot;      WHERE c.CustomerNumber = p.CustomerNumber\\n&quot; +\r\n                &quot;      ORDER BY p.id DESC \\n&quot; +\r\n                &quot;     ) p;&quot;;\r\n        List&lt;CustomerResponse&gt; result = jdbcTemplate.query(\r\n                sql,\r\n                new BeanPropertyRowMapper(CustomerResponse.class));\r\n\r\n        return result;\r\n    }\r\n\r\nwhere class `&lt;CustomerResponse&gt;` is holding &quot;ID, CustomerNumber, Name, Surname, Area, City, Address, PhoneNumber, CustomerTypeID, Enabled, c.DateCreated, Id, Debit, Credit&quot;.","title":"Query in SQL or JPQL to fetch unidirectional relationship One-To-Many","body":"<p>Recently I had a similar issue. I managed it to fetch data from two Entities/tables by using JDBC template. However, first I created a class where are included only the columns that I require. The following is my solution and the suggestion for your issue:</p>\n<pre><code>    @GetMapping(&quot;/testi2&quot;)\npublic List&lt;CustomerResponse&gt; getCCP2() {\n    String sql = &quot;SELECT top 20 c.ID, c.CustomerNumber, c.Name, c.Surname, c.Area, c.City, c.Address, c.PhoneNumber, c.CustomerTypeID, c.Enabled, c.DateCreated, p.Id, p.Debit, p.Credit\\n&quot; +\n            &quot;FROM TblCustomer c OUTER APPLY\\n&quot; +\n            &quot;     (SELECT TOP 1 p.*\\n&quot; +\n            &quot;      FROM TblPayments p\\n&quot; +\n            &quot;      WHERE c.CustomerNumber = p.CustomerNumber\\n&quot; +\n            &quot;      ORDER BY p.id DESC \\n&quot; +\n            &quot;     ) p;&quot;;\n    List&lt;CustomerResponse&gt; result = jdbcTemplate.query(\n            sql,\n            new BeanPropertyRowMapper(CustomerResponse.class));\n\n    return result;\n}\n</code></pre>\n<p>where class <code>&lt;CustomerResponse&gt;</code> is holding &quot;ID, CustomerNumber, Name, Surname, Area, City, Address, PhoneNumber, CustomerTypeID, Enabled, c.DateCreated, Id, Debit, Credit&quot;.</p>\n"},{"tags":[],"owner":{"account_id":18986025,"reputation":349,"user_id":13856532,"display_name":"Joaonic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637178619,"creation_date":1637178619,"answer_id":70010676,"question_id":70009201,"body_markdown":"I don&#39;t know if that&#39;s your problem, but I had a similar issue recently and the string param, `:officeTitle` in your case, it wasn&#39;t being passed as `&#39;:officeTitle&#39;` (SQL varchar) to sql, so I have solved it casting the param to varchar(255).\r\n\r\n    ...  like lower(cast(:officeTitle AS varchar(255)))\r\n\r\nI think nativeQuery doesn&#39;t cast the parameter automatically","title":"Query in SQL or JPQL to fetch unidirectional relationship One-To-Many","body":"<p>I don't know if that's your problem, but I had a similar issue recently and the string param, <code>:officeTitle</code> in your case, it wasn't being passed as <code>':officeTitle'</code> (SQL varchar) to sql, so I have solved it casting the param to varchar(255).</p>\n<pre><code>...  like lower(cast(:officeTitle AS varchar(255)))\n</code></pre>\n<p>I think nativeQuery doesn't cast the parameter automatically</p>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637178619,"creation_date":1637171158,"question_id":70009201,"body_markdown":"I&#39;m building an API for the company where I work and it is my first time using Spring Boot, so I&#39;m having some doubts. So I have a One-To-Many unidirectional relationship, from my parent class (Compania) to my child class (Office). The thing is that I don&#39;t know how to query for the Office objects that are part of the Compania object. I think it should be a straightforward solution, but I can&#39;t manage to find it.\r\n\r\nHibernate creates for me an extra table that is called COMPANIA_OFFICE and I don&#39;t know how to use it with a SQL or JPQL query. So right now in my database, I have a table called COMPANIA, another one called OFFICE, and the last one called COMPANIA_OFFICE (this one contains COMPANIA_ID and OFFICE_ID, as I don&#39;t have the FK in either of the 2 classes it uses an auxiliary table to join them, I suppose).\r\n\r\nWhat I want to achieve is in a GET request like this one:\r\n\r\n**GET /companias/{companiaId}/office/{officeName}** --&gt; Return a **list with the offices** that have that name from a **specified company by id**. \r\n\r\nThe classes that I have now are these:\r\n\r\n**Compania**\r\n\r\n    @Entity(name = &quot;Compania&quot;)\r\n        @Table(\r\n            name = &quot;compania&quot;\r\n        )\r\n        public class Compania {\r\n            @Id\r\n            @SequenceGenerator(\r\n                name = &quot;compania_sequence&quot;,\r\n                sequenceName = &quot;compania_sequence&quot;,\r\n                allocationSize = 1\r\n            )\r\n            @GeneratedValue(\r\n                strategy = GenerationType.SEQUENCE,\r\n                generator = &quot;compania_sequence&quot;\r\n            )\r\n            @Column(\r\n                nullable = false\r\n            )\r\n            private Long id;\r\n        \r\n            @Column(\r\n                name = &quot;name&quot;,\r\n                nullable = false,\r\n                unique = true\r\n            )\r\n            private String name;\r\n        \r\n            @OneToMany(\r\n                mappedBy = &quot;compania&quot;,\r\n                cascade = CascadeType.ALL,\r\n                fetch = FetchType.LAZY,\r\n                orphanRemoval = true\r\n            )\r\n            private List&lt;Office&gt; office;\r\n    \r\n        ...Constructors...\r\n        ... Getters and Setters...\r\n\r\n**Office (Child)**\r\n\r\n    @Entity()\r\n    @Table()\r\n    public class Office {\r\n        @Id\r\n        @SequenceGenerator(\r\n            name = &quot;office_sequence&quot;,\r\n            sequenceName = &quot;office_sequence&quot;,\r\n            allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;office_sequence&quot;\r\n        )\r\n        @Column(\r\n            nullable = false\r\n        )\r\n        @JsonIgnore\r\n        private Long id;\r\n    \r\n        @Column(\r\n            name = &quot;idRef&quot;,\r\n            nullable = false\r\n        )\r\n        private int idRef;\r\n    \r\n        @Column(\r\n            name = &quot;title&quot;,\r\n            nullable = false\r\n        )\r\n        private String title;\r\n    \r\n        @Column(\r\n            name = &quot;name&quot;\r\n        )\r\n        private String name;\r\n    \r\n        ...Constructors...\r\n        ... Getters and Setters...\r\n\r\n\r\nSo my problem is that I don&#39;t know how to make that query in spring Boot. I don&#39;t if using straight SQL or JPQL.\r\n\r\nThanks in advance!\r\n\r\nEdit. I&#39;ve tried using a native Query like this:\r\n\r\n    @Query(\r\n            value = &quot;select o.* from office o &quot; +\r\n                &quot;inner join compania_office co on o.id = co.office_id &quot; +\r\n                &quot;inner join compania c on c.id = co.compania_id &quot; +\r\n                &quot;where c.id = :companiaId and lower(o.title) like lower(:officeTitle) &quot; +\r\n                &quot;order by o.id_ref asc;&quot;,\r\n            nativeQuery = true\r\n        )\r\n        List&lt;Office&gt; findOfficesByTitleLike(@Param(&quot;companiaId&quot;)Long companiaId,@Param(&quot;officeTitle&quot;) String officeTitle);\r\n\r\nIt works when I&#39;m using a Database manager like Navicat or the one embedded in IntelliJ doing a common query. But when I try to use it with my API it gives me this error:\r\n\r\n&gt; org.springframework.dao.InvalidDataAccessResourceUsageException: could\r\n&gt; not extract ResultSet; SQL [n/a]; nested exception is\r\n&gt; org.hibernate.exception.SQLGrammarException: could not extract\r\n&gt; ResultSet\r\n\r\nDo you know what could be happening? Thanks!","title":"Query in SQL or JPQL to fetch unidirectional relationship One-To-Many","body":"<p>I'm building an API for the company where I work and it is my first time using Spring Boot, so I'm having some doubts. So I have a One-To-Many unidirectional relationship, from my parent class (Compania) to my child class (Office). The thing is that I don't know how to query for the Office objects that are part of the Compania object. I think it should be a straightforward solution, but I can't manage to find it.</p>\n<p>Hibernate creates for me an extra table that is called COMPANIA_OFFICE and I don't know how to use it with a SQL or JPQL query. So right now in my database, I have a table called COMPANIA, another one called OFFICE, and the last one called COMPANIA_OFFICE (this one contains COMPANIA_ID and OFFICE_ID, as I don't have the FK in either of the 2 classes it uses an auxiliary table to join them, I suppose).</p>\n<p>What I want to achieve is in a GET request like this one:</p>\n<p><strong>GET /companias/{companiaId}/office/{officeName}</strong> --&gt; Return a <strong>list with the offices</strong> that have that name from a <strong>specified company by id</strong>.</p>\n<p>The classes that I have now are these:</p>\n<p><strong>Compania</strong></p>\n<pre><code>@Entity(name = &quot;Compania&quot;)\n    @Table(\n        name = &quot;compania&quot;\n    )\n    public class Compania {\n        @Id\n        @SequenceGenerator(\n            name = &quot;compania_sequence&quot;,\n            sequenceName = &quot;compania_sequence&quot;,\n            allocationSize = 1\n        )\n        @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;compania_sequence&quot;\n        )\n        @Column(\n            nullable = false\n        )\n        private Long id;\n    \n        @Column(\n            name = &quot;name&quot;,\n            nullable = false,\n            unique = true\n        )\n        private String name;\n    \n        @OneToMany(\n            mappedBy = &quot;compania&quot;,\n            cascade = CascadeType.ALL,\n            fetch = FetchType.LAZY,\n            orphanRemoval = true\n        )\n        private List&lt;Office&gt; office;\n\n    ...Constructors...\n    ... Getters and Setters...\n</code></pre>\n<p><strong>Office (Child)</strong></p>\n<pre><code>@Entity()\n@Table()\npublic class Office {\n    @Id\n    @SequenceGenerator(\n        name = &quot;office_sequence&quot;,\n        sequenceName = &quot;office_sequence&quot;,\n        allocationSize = 1\n    )\n    @GeneratedValue(\n        strategy = GenerationType.SEQUENCE,\n        generator = &quot;office_sequence&quot;\n    )\n    @Column(\n        nullable = false\n    )\n    @JsonIgnore\n    private Long id;\n\n    @Column(\n        name = &quot;idRef&quot;,\n        nullable = false\n    )\n    private int idRef;\n\n    @Column(\n        name = &quot;title&quot;,\n        nullable = false\n    )\n    private String title;\n\n    @Column(\n        name = &quot;name&quot;\n    )\n    private String name;\n\n    ...Constructors...\n    ... Getters and Setters...\n</code></pre>\n<p>So my problem is that I don't know how to make that query in spring Boot. I don't if using straight SQL or JPQL.</p>\n<p>Thanks in advance!</p>\n<p>Edit. I've tried using a native Query like this:</p>\n<pre><code>@Query(\n        value = &quot;select o.* from office o &quot; +\n            &quot;inner join compania_office co on o.id = co.office_id &quot; +\n            &quot;inner join compania c on c.id = co.compania_id &quot; +\n            &quot;where c.id = :companiaId and lower(o.title) like lower(:officeTitle) &quot; +\n            &quot;order by o.id_ref asc;&quot;,\n        nativeQuery = true\n    )\n    List&lt;Office&gt; findOfficesByTitleLike(@Param(&quot;companiaId&quot;)Long companiaId,@Param(&quot;officeTitle&quot;) String officeTitle);\n</code></pre>\n<p>It works when I'm using a Database manager like Navicat or the one embedded in IntelliJ doing a common query. But when I try to use it with my API it gives me this error:</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException: could\nnot extract ResultSet; SQL [n/a]; nested exception is\norg.hibernate.exception.SQLGrammarException: could not extract\nResultSet</p>\n</blockquote>\n<p>Do you know what could be happening? Thanks!</p>\n"},{"tags":["java","passwords","keystore","prompt","keytool"],"answers":[{"tags":[],"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1637178342,"creation_date":1615319051,"answer_id":66553711,"question_id":66492058,"body_markdown":"The default keystore type for Java 11 is `PKCS12`, for which it is always assumed the keystore password and key password will be the same, hence you are not prompted to enter it ([documentation][1])\r\n\r\nIf you need to use a key password to fit your requirements, you can use other keystore types like `jks` or `jceks`.\r\n\r\nNote: If you are using jks or jceks, java will show you a warning message:\r\n&gt;The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format\r\n\r\n---\r\n\r\nIf you type:\r\n\r\n    keytool -genkeypair -keyalg RSA -keysize 2048 -keystore double.pfx -storepass Storepass -keypass Keypass\r\n\r\nYou&#39;ll get the following warning:\r\n\r\n    Warning:  Different store and key passwords not supported for PKCS12 KeyStores.\r\n\r\n---\r\n\r\nNote that the PKCS#12 key stores themselves **do** support multiple passwords: they have separate derivations for multiple sections (keys, certificates) and `KeyBag`&#39;s and such. It&#39;s just that the Java support is missing. I found this out after parsing several key stores and looking at the format. \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/KeyStore.html","title":"Java&#39;s keytool doesn&#39;t prompt for key password","body":"<p>The default keystore type for Java 11 is <code>PKCS12</code>, for which it is always assumed the keystore password and key password will be the same, hence you are not prompted to enter it (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/KeyStore.html\" rel=\"noreferrer\">documentation</a>)</p>\n<p>If you need to use a key password to fit your requirements, you can use other keystore types like <code>jks</code> or <code>jceks</code>.</p>\n<p>Note: If you are using jks or jceks, java will show you a warning message:</p>\n<blockquote>\n<p>The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format</p>\n</blockquote>\n<hr />\n<p>If you type:</p>\n<pre><code>keytool -genkeypair -keyalg RSA -keysize 2048 -keystore double.pfx -storepass Storepass -keypass Keypass\n</code></pre>\n<p>You'll get the following warning:</p>\n<pre><code>Warning:  Different store and key passwords not supported for PKCS12 KeyStores.\n</code></pre>\n<hr />\n<p>Note that the PKCS#12 key stores themselves <strong>do</strong> support multiple passwords: they have separate derivations for multiple sections (keys, certificates) and <code>KeyBag</code>'s and such. It's just that the Java support is missing. I found this out after parsing several key stores and looking at the format.</p>\n"}],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3836,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66553711,"answer_count":1,"score":4,"last_activity_date":1637178342,"creation_date":1614944932,"question_id":66492058,"body_markdown":"Java&#39;s `keytool` has a parameter called `-keypass` which allows you to set a (separate) password to protect your private key, in addition to the password used for the entire key store.\r\n\r\nAccording to the documentation:\r\n\r\n&gt; The value of `-keypass` is a password used to protect the private key of the generated key pair. If a password is not provided, then the user is prompted for it. If you press the Return key at the prompt, then the key password is set to the same password as the keystore password. The `-keypass` value must have at least six characters.\r\n\r\nHowever, when I leave out the password in the call to this command I don&#39;t seem to get prompted at all, at least not when this is used in combination with `-genkeypair` to generate an RSA key pair. Instead I just get the general help page. If I use `&quot;&quot;` to force an &quot;empty&quot; password then it (correctly) tells me that the password should at least be 6 characters.\r\n\r\nIs there a way to force the `keytool` to prompt for a key specific password instead of having to offer it on the command line according to the documentation of `-genkeypair`?\r\n\r\n---\r\n\r\nI&#39;ve tested this against Java 11 LTS:\r\n\r\n    keytool -genkeypair -alias test1 -keyalg RSA -keysize 4096 -sigalg SHA256withRSA -keystore test.pfx -storepass test1234\r\n            -keypass\r\n\r\nor \r\n\r\n    keytool -genkeypair -alias test1 -keyalg RSA -keysize 4096 -sigalg SHA256withRSA -keystore test.pfx -storepass test1234\r\n            -keypass &quot;&quot;\r\n\r\nboth don&#39;t seem to work; as you can see I&#39;ve already moved the `-keypass` parameter to the end so it cannot gobble up a parameter as password.","title":"Java&#39;s keytool doesn&#39;t prompt for key password","body":"<p>Java's <code>keytool</code> has a parameter called <code>-keypass</code> which allows you to set a (separate) password to protect your private key, in addition to the password used for the entire key store.</p>\n<p>According to the documentation:</p>\n<blockquote>\n<p>The value of <code>-keypass</code> is a password used to protect the private key of the generated key pair. If a password is not provided, then the user is prompted for it. If you press the Return key at the prompt, then the key password is set to the same password as the keystore password. The <code>-keypass</code> value must have at least six characters.</p>\n</blockquote>\n<p>However, when I leave out the password in the call to this command I don't seem to get prompted at all, at least not when this is used in combination with <code>-genkeypair</code> to generate an RSA key pair. Instead I just get the general help page. If I use <code>&quot;&quot;</code> to force an &quot;empty&quot; password then it (correctly) tells me that the password should at least be 6 characters.</p>\n<p>Is there a way to force the <code>keytool</code> to prompt for a key specific password instead of having to offer it on the command line according to the documentation of <code>-genkeypair</code>?</p>\n<hr />\n<p>I've tested this against Java 11 LTS:</p>\n<pre><code>keytool -genkeypair -alias test1 -keyalg RSA -keysize 4096 -sigalg SHA256withRSA -keystore test.pfx -storepass test1234\n        -keypass\n</code></pre>\n<p>or</p>\n<pre><code>keytool -genkeypair -alias test1 -keyalg RSA -keysize 4096 -sigalg SHA256withRSA -keystore test.pfx -storepass test1234\n        -keypass &quot;&quot;\n</code></pre>\n<p>both don't seem to work; as you can see I've already moved the <code>-keypass</code> parameter to the end so it cannot gobble up a parameter as password.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":1,"creation_date":1637177165,"post_id":70010376,"comment_id":123759124,"body_markdown":"That should answer your question: https://stackoverflow.com/questions/3827393/java-switch-statement-constant-expression-required-but-it-is-constant/3827488","body":"That should answer your question: <a href=\"https://stackoverflow.com/questions/3827393/java-switch-statement-constant-expression-required-but-it-is-constant/3827488\" title=\"java switch statement constant expression required but it is constant\">stackoverflow.com/questions/3827393/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637177255,"post_id":70010376,"comment_id":123759150,"body_markdown":"See the Java Language Specification for _constant expressions_: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28","body":"See the Java Language Specification for <i>constant expressions</i>: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15&zwnj;&#8203;.28</a>"},{"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"score":0,"creation_date":1637177351,"post_id":70010376,"comment_id":123759190,"body_markdown":"@MirekPluta The referred question uses ```int```, so does not apply.","body":"@MirekPluta The referred question uses <code>int</code>, so does not apply."},{"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"score":0,"creation_date":1637177457,"post_id":70010376,"comment_id":123759234,"body_markdown":"@LouisWasserman I have used this same method```toUpperCase()``` in static final before, but only when doing ```if/else``` constructs. Thought I&#39;d give the new case String functionality a try","body":"@LouisWasserman I have used this same method<code>toUpperCase()</code> in static final before, but only when doing <code>if&#47;else</code> constructs. Thought I&#39;d give the new case String functionality a try"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1637177817,"post_id":70010376,"comment_id":123759343,"body_markdown":"It must be ***compile time constants***. `1+2` and `&quot;a&quot;+&quot;b&quot;` the compiler can evaluate, but a function call  (`toUpperCase()`) not. You could do `switch (key.toLowerCase())` instead. The compiler generates branches based on value comparisons.","body":"It must be <b><i>compile time constants</i></b>. <code>1+2</code> and <code>&quot;a&quot;+&quot;b&quot;</code> the compiler can evaluate, but a function call  (<code>toUpperCase()</code>) not. You could do <code>switch (key.toLowerCase())</code> instead. The compiler generates branches based on value comparisons."},{"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"score":0,"creation_date":1637178006,"post_id":70010376,"comment_id":123759400,"body_markdown":"@JoopEggen I kind of thought that is what is was. I am used to using static function calls in the static final construct, and it does work elsewhere else. Thanks","body":"@JoopEggen I kind of thought that is what is was. I am used to using static function calls in the static final construct, and it does work elsewhere else. Thanks"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1637178096,"post_id":70010376,"comment_id":123759424,"body_markdown":"BTW the convention is `private static final String`; that is `final` last before (generic) type.","body":"BTW the convention is <code>private static final String</code>; that is <code>final</code> last before (generic) type."},{"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"score":1,"creation_date":1637178154,"post_id":70010376,"comment_id":123759442,"body_markdown":"@JoopEggen Yeah I know actually. Typing too fast :-)","body":"@JoopEggen Yeah I know actually. Typing too fast :-)"},{"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"score":0,"creation_date":1637183904,"post_id":70010376,"comment_id":123761454,"body_markdown":"@MirekPluta Please remove your duplicate flag. The referred to question is about switch/case where the cases are integers, NOT Strings. My question is about String types, and therefore new","body":"@MirekPluta Please remove your duplicate flag. The referred to question is about switch/case where the cases are integers, NOT Strings. My question is about String types, and therefore new"}],"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1637177208,"answer_count":0,"score":2,"last_activity_date":1637178195,"creation_date":1637177044,"question_id":70010376,"body_markdown":"I have the following:\r\n```\r\npublic class Asd\r\n{\r\n    static final String VERSION = &quot;version&quot;;\r\n    static final String ECHO    = &quot;echo&quot;.toUpperCase();\r\n    public Asd()\r\n    {\r\n        String key = ECHO;\r\n        switch (key)\r\n        {\r\n            case VERSION:\r\n                break;\r\n\r\n            case ECHO:\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI get a compiler error that ```case ECHO:``` is not a constant expression. The designation ```final static``` defines a constant.\r\n\r\nThe constant ```ECHO``` will resolve from ```&quot;echo&quot;``` to ```&quot;ECHO&quot;``` when the class is instantiated. By the time the switch/case is evaluated, ```ECHO``` does equal ```&quot;ECHO&quot;``` and cannot be changed.\r\n\r\nOr does a switch/case with String have some special background pointers to a String?\r\n\r\nBecause using\r\n```\r\npublic class Asd\r\n{\r\n    static final int VERSION = 1;\r\n    static final int ECHO    = 1 + 2;\r\n\r\n    public Asd()\r\n    {\r\n        int key = ECHO;\r\n\r\n        switch (key)\r\n        {\r\n            case VERSION:\r\n                break;\r\n\r\n            case ECHO:\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs error free even though ```1 + 2``` must be evaluated.","title":"String case expressions must be constant expressions","body":"<p>I have the following:</p>\n<pre><code>public class Asd\n{\n    static final String VERSION = &quot;version&quot;;\n    static final String ECHO    = &quot;echo&quot;.toUpperCase();\n    public Asd()\n    {\n        String key = ECHO;\n        switch (key)\n        {\n            case VERSION:\n                break;\n\n            case ECHO:\n                break;\n        }\n    }\n}\n</code></pre>\n<p>I get a compiler error that <code>case ECHO:</code> is not a constant expression. The designation <code>final static</code> defines a constant.</p>\n<p>The constant <code>ECHO</code> will resolve from <code>&quot;echo&quot;</code> to <code>&quot;ECHO&quot;</code> when the class is instantiated. By the time the switch/case is evaluated, <code>ECHO</code> does equal <code>&quot;ECHO&quot;</code> and cannot be changed.</p>\n<p>Or does a switch/case with String have some special background pointers to a String?</p>\n<p>Because using</p>\n<pre><code>public class Asd\n{\n    static final int VERSION = 1;\n    static final int ECHO    = 1 + 2;\n\n    public Asd()\n    {\n        int key = ECHO;\n\n        switch (key)\n        {\n            case VERSION:\n                break;\n\n            case ECHO:\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Is error free even though <code>1 + 2</code> must be evaluated.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1692834,"reputation":2228,"user_id":1554878,"accept_rate":0,"display_name":"justMe"},"score":0,"creation_date":1480076168,"post_id":38240015,"comment_id":68830441,"body_markdown":"In version 5.2.3.Final the implementation calss is in NativeQueryImpl, still deprecated but. Also there seems to be no alternative as yet based on https://docs.jboss.org/hibernate/orm/5.2/javadocs/deprecated-list.html","body":"In version 5.2.3.Final the implementation calss is in NativeQueryImpl, still deprecated but. Also there seems to be no alternative as yet based on <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/deprecated-list.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.2/javadocs/deprecated-list.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":263214,"reputation":2223,"user_id":1152570,"accept_rate":83,"display_name":"ali akbar azizkhani"},"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1531292803,"creation_date":1490283665,"answer_id":42980747,"question_id":38240015,"body_markdown":"&gt; The ResultTransformer comes with a legacy definition which is not following the Functional Interface syntax. Hence, we cannot use a lambda in this example. Hibernate 6.0 aims to overcome this issue, so that’s why the Hibernate ORM 5.2 ResultTransformer is deprecated. Nevertheless, an alternative will be provided, so the concept we are discussing in this article is going to stand still even in Hibernate 6.\r\n\r\nhttps://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/","title":"How to use `setResultTransformer` after Hibernate 5.2?","body":"<blockquote>\n  <p>The ResultTransformer comes with a legacy definition which is not following the Functional Interface syntax. Hence, we cannot use a lambda in this example. Hibernate 6.0 aims to overcome this issue, so that’s why the Hibernate ORM 5.2 ResultTransformer is deprecated. Nevertheless, an alternative will be provided, so the concept we are discussing in this article is going to stand still even in Hibernate 6.</p>\n</blockquote>\n\n<p><a href=\"https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/\" rel=\"noreferrer\">https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/</a></p>\n"},{"tags":[],"owner":{"account_id":1507082,"reputation":3637,"user_id":1410221,"accept_rate":86,"display_name":"HappyFace"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502374507,"creation_date":1502374507,"answer_id":45616233,"question_id":38240015,"body_markdown":"Don&#39;t use `session.createQuery(hql,transformerClass);` if you select multiple items in your query, use the old deprecated method instead.","title":"How to use `setResultTransformer` after Hibernate 5.2?","body":"<p>Don't use <code>session.createQuery(hql,transformerClass);</code> if you select multiple items in your query, use the old deprecated method instead.</p>\n"},{"tags":[],"owner":{"account_id":2755115,"reputation":65,"user_id":2373451,"display_name":"Ranjeet Rana"},"down_vote_count":12,"up_vote_count":0,"is_accepted":false,"score":-12,"last_activity_date":1552121774,"creation_date":1552121774,"answer_id":55075619,"question_id":38240015,"body_markdown":"Since Hibernate 5.2 uses Java 8 you can use stream api\r\n\r\n    List&lt;EmployeeDto&gt; resultList = session\r\n                .createQuery(&quot; from Employee&quot;, Employee.class)\r\n                .stream()\r\n                .map((employee) -&gt; {\r\n                    return new EmployeeDto(employee);\r\n                })\r\n                .collect(Collectors.toList());\r\n\r\nThis code will also give some performance improvement.","title":"How to use `setResultTransformer` after Hibernate 5.2?","body":"<p>Since Hibernate 5.2 uses Java 8 you can use stream api</p>\n\n<pre><code>List&lt;EmployeeDto&gt; resultList = session\n            .createQuery(\" from Employee\", Employee.class)\n            .stream()\n            .map((employee) -&gt; {\n                return new EmployeeDto(employee);\n            })\n            .collect(Collectors.toList());\n</code></pre>\n\n<p>This code will also give some performance improvement.</p>\n"},{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620723371,"creation_date":1620723371,"answer_id":67483550,"question_id":38240015,"body_markdown":"Hibernate 6 has not been released yet. However, based on this [issue][1] ResultTransformer interface was split into the 2 functional interfaces: TupleTransformer and ResultListTransformer.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-11104","title":"How to use `setResultTransformer` after Hibernate 5.2?","body":"<p>Hibernate 6 has not been released yet. However, based on this <a href=\"https://hibernate.atlassian.net/browse/HHH-11104\" rel=\"nofollow noreferrer\">issue</a> ResultTransformer interface was split into the 2 functional interfaces: TupleTransformer and ResultListTransformer.</p>\n"}],"owner":{"account_id":1795302,"reputation":2027,"user_id":1634827,"accept_rate":56,"display_name":"blackdog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42352,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":42980747,"answer_count":4,"score":42,"last_activity_date":1637177744,"creation_date":1467877310,"question_id":38240015,"body_markdown":"I wanna use `query.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP)` to get a `List&lt;Map&gt;`. But I got a exception: \r\n    \r\n    java.lang.NoSuchMethodError: org.hibernate.query.Query.setResultTransformer(Lorg/hibernate/transform/ResultTransformer;)Lorg/hibernate/Query;\r\n\r\nI can&#39;t find the implemented class of `org.hibernate.query.Query`.\r\nThe method `setResultTransformer` is in `org.hibernate.Query`.\r\n\r\nAnd why is the org.hibernate.Query deprecated?","title":"How to use `setResultTransformer` after Hibernate 5.2?","body":"<p>I wanna use <code>query.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP)</code> to get a <code>List&lt;Map&gt;</code>. But I got a exception: </p>\n\n<pre><code>java.lang.NoSuchMethodError: org.hibernate.query.Query.setResultTransformer(Lorg/hibernate/transform/ResultTransformer;)Lorg/hibernate/Query;\n</code></pre>\n\n<p>I can't find the implemented class of <code>org.hibernate.query.Query</code>.\nThe method <code>setResultTransformer</code> is in <code>org.hibernate.Query</code>.</p>\n\n<p>And why is the org.hibernate.Query deprecated?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1637082984,"post_id":69993380,"comment_id":123728985,"body_markdown":"What have you tried so far? If the string always have 2 numbers and you always want to extract the second one, then you could do it with regular expressions.","body":"What have you tried so far? If the string always have 2 numbers and you always want to extract the second one, then you could do it with regular expressions."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1637083115,"post_id":69993380,"comment_id":123729049,"body_markdown":"How do *you* know that this is the string you wanted? Is it because it is on certain position, or because this is second number, or because it is after some specific word, or maybe there is some other *logic*?","body":"How do <i>you</i> know that this is the string you wanted? Is it because it is on certain position, or because this is second number, or because it is after some specific word, or maybe there is some other <i>logic</i>?"},{"owner":{"account_id":21337822,"reputation":11,"user_id":15708786,"display_name":"Shivam"},"score":0,"creation_date":1637083131,"post_id":69993380,"comment_id":123729053,"body_markdown":"@MirekPluta what type of regular expression will be used in this? I have tried using regex- //d but it is giving me all the numbers in this particular string.","body":"@MirekPluta what type of regular expression will be used in this? I have tried using regex- //d but it is giving me all the numbers in this particular string."},{"owner":{"account_id":21337822,"reputation":11,"user_id":15708786,"display_name":"Shivam"},"score":0,"creation_date":1637083227,"post_id":69993380,"comment_id":123729090,"body_markdown":"@Pshemo String will always have two numbers and I just want that second number in this string.","body":"@Pshemo String will always have two numbers and I just want that second number in this string."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1637083315,"post_id":69993380,"comment_id":123729126,"body_markdown":"You can write regex *pattern* which represents *some* number, and let *matcher* to *find* it twice.","body":"You can write regex <i>pattern</i> which represents <i>some</i> number, and let <i>matcher</i> to <i>find</i> it twice."},{"owner":{"account_id":21337822,"reputation":11,"user_id":15708786,"display_name":"Shivam"},"score":0,"creation_date":1637083442,"post_id":69993380,"comment_id":123729176,"body_markdown":"@Pshemo I still didn&#39;t got it. How to find it twice?","body":"@Pshemo I still didn&#39;t got it. How to find it twice?"}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637134015,"creation_date":1637083621,"answer_id":69993594,"question_id":69993380,"body_markdown":"Here is a complete example. First define your pattern:\r\n\r\n    Pattern p = Pattern.compile(&quot;[0-9]+&quot;);\r\n\r\nThen define the string you want to test\r\n\r\n    String test = &quot;I have 102 string but 123453 is best&quot;;\r\n\r\nCreate a matcher for that string\r\n\r\n    Matcher matcher = p.matcher(test);\r\n\r\nFind once\r\n\r\n    matcher.find(); // find once\r\n\r\nFind again, and if found, get the string\r\n\r\n    if (matcher.find()) { // find twice\r\n        System.out.println(matcher.group());\r\n    }\r\n\r\nFor a complete, minimal and repeatable example, consider defining a method and defining the pattern as a constant:\r\n\r\n    static final Pattern P = Pattern.compile(&quot;[0-9]+&quot;);\r\n    \r\n    static String findSecondNumber(String test) {\r\n        Matcher matcher = P.matcher(test);\r\n        matcher.find(); // find once\r\n        if (matcher.find()) { // find twice\r\n            return matcher.group();\r\n        }\r\n        return null; // or alternatively return an empty string or a default value\r\n    }\r\n\r\nWhere `matcher.group()` returns the full match found; see also the documentation [here](https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#group()).","title":"I Want to extract a certain number from string in java but not able to do so","body":"<p>Here is a complete example. First define your pattern:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;[0-9]+&quot;);\n</code></pre>\n<p>Then define the string you want to test</p>\n<pre><code>String test = &quot;I have 102 string but 123453 is best&quot;;\n</code></pre>\n<p>Create a matcher for that string</p>\n<pre><code>Matcher matcher = p.matcher(test);\n</code></pre>\n<p>Find once</p>\n<pre><code>matcher.find(); // find once\n</code></pre>\n<p>Find again, and if found, get the string</p>\n<pre><code>if (matcher.find()) { // find twice\n    System.out.println(matcher.group());\n}\n</code></pre>\n<p>For a complete, minimal and repeatable example, consider defining a method and defining the pattern as a constant:</p>\n<pre><code>static final Pattern P = Pattern.compile(&quot;[0-9]+&quot;);\n\nstatic String findSecondNumber(String test) {\n    Matcher matcher = P.matcher(test);\n    matcher.find(); // find once\n    if (matcher.find()) { // find twice\n        return matcher.group();\n    }\n    return null; // or alternatively return an empty string or a default value\n}\n</code></pre>\n<p>Where <code>matcher.group()</code> returns the full match found; see also the documentation <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#group()\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637177553,"creation_date":1637177553,"answer_id":70010463,"question_id":69993380,"body_markdown":"It can be done in a single `find()` with capturing groups. Here is how:\r\n\r\n```java\r\n    String a = &quot;I have 102 string but 123453 is best&quot;\r\n    Pattern p = Pattern.compile(&quot;^.*\\d+.*(\\d*).*$&quot;);\r\n    Matcher m = p.matcher(a); \r\n    if (m.find()) {\r\n      System.out.println(m.group(1)); // this will print 123453\r\n    }\r\n```","title":"I Want to extract a certain number from string in java but not able to do so","body":"<p>It can be done in a single <code>find()</code> with capturing groups. Here is how:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String a = &quot;I have 102 string but 123453 is best&quot;\n    Pattern p = Pattern.compile(&quot;^.*\\d+.*(\\d*).*$&quot;);\n    Matcher m = p.matcher(a); \n    if (m.find()) {\n      System.out.println(m.group(1)); // this will print 123453\n    }\n</code></pre>\n"}],"owner":{"account_id":21337822,"reputation":11,"user_id":15708786,"display_name":"Shivam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1637177553,"creation_date":1637082659,"question_id":69993380,"body_markdown":"I have a string like ```String a = &quot;I have 102 string but 123453 is best&quot;```\r\n\r\nSo, In the above string i want to extract only 123453 \r\n\r\nThis string keep getting changes but i always want to get that second number from this string.\r\nWhat is the best possible way to do this?","title":"I Want to extract a certain number from string in java but not able to do so","body":"<p>I have a string like <code>String a = &quot;I have 102 string but 123453 is best&quot;</code></p>\n<p>So, In the above string i want to extract only 123453</p>\n<p>This string keep getting changes but i always want to get that second number from this string.\nWhat is the best possible way to do this?</p>\n"},{"tags":["java","loops","input"],"comments":[{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1637167976,"post_id":70008352,"comment_id":123755518,"body_markdown":"can you add your Scanner declaration ?","body":"can you add your Scanner declaration ?"},{"owner":{"account_id":23369119,"reputation":1,"user_id":17440280,"display_name":"jario5615"},"score":0,"creation_date":1637168665,"post_id":70008352,"comment_id":123755826,"body_markdown":"`Scanner scanner = new Scanner(System.in)`","body":"<code>Scanner scanner = new Scanner(System.in)</code>"},{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1637168766,"post_id":70008352,"comment_id":123755877,"body_markdown":"try this : if(scanner.hasNext()){\n   String input = scanner.nextLine();\n}","body":"try this : if(scanner.hasNext()){    String input = scanner.nextLine(); }"},{"owner":{"account_id":23369119,"reputation":1,"user_id":17440280,"display_name":"jario5615"},"score":0,"creation_date":1637170195,"post_id":70008352,"comment_id":123756517,"body_markdown":"still hangs for input rather than continuing. Doesn&#39;t continue until it has at least 1 character is submitted. This has me well and truly stumped.","body":"still hangs for input rather than continuing. Doesn&#39;t continue until it has at least 1 character is submitted. This has me well and truly stumped."}],"answers":[{"tags":[],"owner":{"account_id":4966474,"reputation":1,"user_id":3995617,"display_name":"dano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637177545,"creation_date":1637177545,"answer_id":70010460,"question_id":70008352,"body_markdown":"Something doesn&#39;t seem quite right here, what exactly is your &#39;self.reader&#39; as the reader interfaces/inputStreams do not define nextLine().\r\nAnyways, ignoring the first part of the code, Scanner is designed to block..so if you want it to NOT block you need to wrap it with a thread.  i.e.\r\n\r\n    class ScanThread extends Thread {\r\n        private Scanner scanner;\r\n        private volatile String scanLine;\r\n        \r\n        public ScanThread(Scanner scanner){\r\n            this.scanner = scanner;\r\n        }\r\n    \r\n        public String getLine(){\r\n            return scanLine;\r\n        }\r\n    \r\n        public void run() {\r\n            while(true) {\r\n                System.out.println(&quot;CONSOLE NEXT LINE PLEASE:&quot;);\r\n                scanLine = scanner.nextLine();\r\n            }\r\n        }\r\n    }\r\n\r\nThen when you create your scanner:\r\n\r\n    ScanThread threadedScanner = new ScanThread(new Scanner(System.in));\r\n    threadedScanner.start();\r\n\r\nThread to read from the scanner you do:\r\n\r\nthreadedScanner.getLine()\r\n\r\nThis will return the &#39;last line&#39; the user entered on the console. (null if the user never hit Enter).  In this loop this will spam the output!, so not sure what your really looking for here, good luck.\r\n\r\n\r\n","title":"Java: possible to stop scanner from pausing the console","body":"<p>Something doesn't seem quite right here, what exactly is your 'self.reader' as the reader interfaces/inputStreams do not define nextLine().\nAnyways, ignoring the first part of the code, Scanner is designed to block..so if you want it to NOT block you need to wrap it with a thread.  i.e.</p>\n<pre><code>class ScanThread extends Thread {\n    private Scanner scanner;\n    private volatile String scanLine;\n    \n    public ScanThread(Scanner scanner){\n        this.scanner = scanner;\n    }\n\n    public String getLine(){\n        return scanLine;\n    }\n\n    public void run() {\n        while(true) {\n            System.out.println(&quot;CONSOLE NEXT LINE PLEASE:&quot;);\n            scanLine = scanner.nextLine();\n        }\n    }\n}\n</code></pre>\n<p>Then when you create your scanner:</p>\n<pre><code>ScanThread threadedScanner = new ScanThread(new Scanner(System.in));\nthreadedScanner.start();\n</code></pre>\n<p>Thread to read from the scanner you do:</p>\n<p>threadedScanner.getLine()</p>\n<p>This will return the 'last line' the user entered on the console. (null if the user never hit Enter).  In this loop this will spam the output!, so not sure what your really looking for here, good luck.</p>\n"}],"owner":{"account_id":23369119,"reputation":1,"user_id":17440280,"display_name":"jario5615"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637177545,"creation_date":1637167330,"question_id":70008352,"body_markdown":"Trying to create a small program that can accept inputs through the console, whilst also outputting data through it. I use a loop for it, but whenever I try to add the ability to enter information into the console, it messes the program up.\r\n\r\nIn essence the code is like this\r\n\r\n```\r\n//outputting stuff to the console. All works fine\r\n\r\nif(scanner.hasNext() &amp;&amp; scanner.nextLine() != null){\r\n   String input = scanner.nextLine();\r\n}\r\n\r\n```\r\n\r\nThat&#39;s contained in the loop that the bits for outputting the stuff also does. The problem is, the loop stops looping whenever I add in the bit about the scanner. So is there any way to stop the scanner halting the rest of the loop from outputting, or basically a way to make it so I don&#39;t have to hit enter for the loop to cycle again.\r\n\r\nEdit: here&#39;s the whole segment of code, for better diagnosis. reader is an inputStream from another part of the code.\r\n\r\n```\r\nwhile (true){\r\n            String input = self.reader.nextLine();\r\n            Scanner in = new Scanner(System.in);\r\n            String[] subbed = input.split(&quot; &quot;);\r\n            switch (subbed[0].toLowerCase()) {\r\n                case &quot;setid&quot;:\r\n                    self.setPlayerID(Integer.parseInt(subbed[1]));\r\n                    System.out.println(&quot;Player ID set to: &quot; + self.playerID);\r\n                    break;\r\n                case &quot;server&quot;:\r\n                    System.out.println(input.replaceAll(subbed[0] + &quot; &quot;, &quot;&quot;));\r\n                    break;\r\n\r\n            }\r\n            if(in.hasNext()){\r\n                String out = in.nextLine();\r\n            }\r\n\r\n        }\r\n```","title":"Java: possible to stop scanner from pausing the console","body":"<p>Trying to create a small program that can accept inputs through the console, whilst also outputting data through it. I use a loop for it, but whenever I try to add the ability to enter information into the console, it messes the program up.</p>\n<p>In essence the code is like this</p>\n<pre><code>//outputting stuff to the console. All works fine\n\nif(scanner.hasNext() &amp;&amp; scanner.nextLine() != null){\n   String input = scanner.nextLine();\n}\n\n</code></pre>\n<p>That's contained in the loop that the bits for outputting the stuff also does. The problem is, the loop stops looping whenever I add in the bit about the scanner. So is there any way to stop the scanner halting the rest of the loop from outputting, or basically a way to make it so I don't have to hit enter for the loop to cycle again.</p>\n<p>Edit: here's the whole segment of code, for better diagnosis. reader is an inputStream from another part of the code.</p>\n<pre><code>while (true){\n            String input = self.reader.nextLine();\n            Scanner in = new Scanner(System.in);\n            String[] subbed = input.split(&quot; &quot;);\n            switch (subbed[0].toLowerCase()) {\n                case &quot;setid&quot;:\n                    self.setPlayerID(Integer.parseInt(subbed[1]));\n                    System.out.println(&quot;Player ID set to: &quot; + self.playerID);\n                    break;\n                case &quot;server&quot;:\n                    System.out.println(input.replaceAll(subbed[0] + &quot; &quot;, &quot;&quot;));\n                    break;\n\n            }\n            if(in.hasNext()){\n                String out = in.nextLine();\n            }\n\n        }\n</code></pre>\n"},{"tags":["java","android","refresh","tablelayout"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1637186205,"post_id":70010332,"comment_id":123762258,"body_markdown":"What do you get if you restart the app instead of going back? The issue, **I think**, can be isolated to your button `onclicks` and the `refresh` method.","body":"What do you get if you restart the app instead of going back? The issue, <b>I think</b>, can be isolated to your button <code>onclicks</code> and the <code>refresh</code> method."},{"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"score":0,"creation_date":1637264817,"post_id":70010332,"comment_id":123786845,"body_markdown":"@AliasCartellano when i restart the app the table is refreshed","body":"@AliasCartellano when i restart the app the table is refreshed"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1637348188,"post_id":70010332,"comment_id":123811218,"body_markdown":"Try restarting the fragment from the proceed button `onclick` using `fragmentTransaction` instead of `refresh` like you did in the cancel button.","body":"Try restarting the fragment from the proceed button <code>onclick</code> using <code>fragmentTransaction</code> instead of <code>refresh</code> like you did in the cancel button."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1638046210,"post_id":70010332,"comment_id":123984845,"body_markdown":"How are you progressing on this?","body":"How are you progressing on this?"}],"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637176813,"creation_date":1637176813,"question_id":70010332,"body_markdown":"I have a fragment in which i have 2 designs, 1 design shows all the items stores within my database and out them into a table. Design 2 is where you can add them. Once finishing design 2, when you go back the TableLayout is gone and the new item is not there. Can anyone help and tell me what the issue is\r\n```\r\npublic class Device extends Fragment {\r\n\r\n    public Device() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    //FOR CALENDAR\r\n    final Calendar myCalendar = Calendar.getInstance();\r\n    TextView CalendarTxt, TimeTxt;\r\n    EditText ReminderTxt;\r\n\r\n    //FOR CALENDAR\r\n    private void updateLabel(TextView edittext) {\r\n        String myFormat = &quot;dd/MM/yy&quot;; //In which you need put here\r\n        SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.UK);\r\n\r\n        edittext.setText(sdf.format(myCalendar.getTime()));\r\n    }\r\n\r\n    //FOR CALENDAR\r\n    DatePickerDialog.OnDateSetListener date = new DatePickerDialog.OnDateSetListener() {\r\n        @Override\r\n        public void onDateSet(DatePicker view, int year, int monthOfYear,\r\n                              int dayOfMonth) {\r\n            // TODO Auto-generated method stub\r\n            myCalendar.set(Calendar.YEAR, year);\r\n            myCalendar.set(Calendar.MONTH, monthOfYear);\r\n            myCalendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\r\n            updateLabel(CalendarTxt);\r\n        }\r\n\r\n    };\r\n    public void Refresh() {\r\n        SQLiteDatabase db = getActivity().openOrCreateDatabase(&quot;NotificationDatabase&quot;, android.content.Context.MODE_PRIVATE, null);\r\n        Cursor data = db.rawQuery(&quot;SELECT * FROM PersonalNotif&quot;, null);\r\n        Log.d(&quot;Count&quot;, String.valueOf(data.getCount()));\r\n        if (data.getCount() &gt; 0) {\r\n            data.moveToFirst();\r\n            //Database values taken and added\r\n            do {\r\n                View tableRow = LayoutInflater.from(getContext()).inflate(R.layout.table_item, null, false);\r\n                TextView name = (TextView) tableRow.findViewById(R.id.TblItemName);\r\n                TextView date = (TextView) tableRow.findViewById(R.id.TblItemDate);\r\n\r\n                name.setText(data.getString(0));\r\n                date.setText(data.getString(1));\r\n\r\n            } while (data.moveToNext());\r\n            data.close();\r\n        }\r\n\r\n    }\r\n\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.fragment_device, container, false);\r\n\r\n        ViewGroup placeholder = (ViewGroup) rootView;\r\n\r\n        CircleButton AddNotifBtn = rootView.findViewById(R.id.AddNotifBtn);\r\n        TableLayout tableLayout = rootView.findViewById(R.id.tableLayout);\r\n        //Database established\r\n        SQLiteDatabase db = getActivity().openOrCreateDatabase(&quot;NotificationDatabase&quot;, android.content.Context.MODE_PRIVATE, null);\r\n        Cursor data = db.rawQuery(&quot;SELECT * FROM PersonalNotif&quot;, null);\r\n\r\n        Log.d(&quot;Count&quot;, String.valueOf(data.getCount()));\r\n        if (data.getCount() &gt; 0) {\r\n            data.moveToFirst();\r\n            //Database values taken and added\r\n            do {\r\n                View tableRow = LayoutInflater.from(getContext()).inflate(R.layout.table_item, null, false);\r\n                TextView name = (TextView) tableRow.findViewById(R.id.TblItemName);\r\n                TextView date = (TextView) tableRow.findViewById(R.id.TblItemDate);\r\n\r\n                name.setText(data.getString(0));\r\n                date.setText(data.getString(1));\r\n                tableLayout.addView(tableRow);\r\n\r\n                tableRow.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n\r\n                        AlertDialog alertDialog = new AlertDialog.Builder(getActivity())\r\n                                .setIcon(android.R.drawable.ic_dialog_alert)\r\n                                .setTitle(&quot;Do you want to Delete Reminder- &quot; + name.getText().toString())\r\n                                .setMessage(&quot;Accepting will delete the Chosen Reminder&quot;)\r\n                                .setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                                        db.delete(&quot;PersonalNotif&quot;, &quot;NameOfNotif=? and TimeOfNotif=?&quot;, new String[]{name.getText().toString(), date.getText().toString()});\r\n                                        Refresh();\r\n                                        tableLayout.removeView(tableRow);\r\n\r\n                                    }\r\n                                })\r\n                                .setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                                    }\r\n                                })\r\n                                .show();\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            } while (data.moveToNext());\r\n            data.close();\r\n\r\n        }\r\n\r\n        AddNotifBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Refresh();\r\n\r\n\r\n                View newView = inflater.inflate(R.layout.fragment_device2, container, false);\r\n                View oldView = inflater.inflate(R.layout.fragment_device, container, false);\r\n                //All New Views need newView before hand\r\n\r\n                /// Calender Button Code Start\r\n                CalendarTxt = newView.findViewById(R.id.CurrentDateSelect);\r\n                CircleButton CalendarButton = newView.findViewById(R.id.calendarBtn);\r\n                CalendarButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        new DatePickerDialog(getContext(), date, myCalendar\r\n                                .get(Calendar.YEAR), myCalendar.get(Calendar.MONTH),   //Refers Back to Method at the Top\r\n                                myCalendar.get(Calendar.DAY_OF_MONTH)).show();\r\n                    }\r\n                });\r\n                /// Calender Button Code End\r\n\r\n                /// Clock Button Code Start\r\n                TimeTxt = newView.findViewById(R.id.CurrentTimeSelect);\r\n                Calendar mcurrentTime = Calendar.getInstance();\r\n                int hour = mcurrentTime.get(Calendar.HOUR_OF_DAY); //All the Variables needed\r\n                int minute = mcurrentTime.get(Calendar.MINUTE);\r\n                CircleButton ClockButton = newView.findViewById(R.id.timeBtn);\r\n                ClockButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        TimePickerDialog mTimePicker;\r\n                        mTimePicker = new TimePickerDialog(getContext(), new TimePickerDialog.OnTimeSetListener() {\r\n                            @Override\r\n                            public void onTimeSet(TimePicker timePicker, int selectedHour, int selectedMinute) {\r\n                                @SuppressLint(&quot;DefaultLocale&quot;) String curTime = String.format(&quot;%02d:%02d&quot;, selectedHour, selectedMinute);\r\n                                TimeTxt.setText(curTime);\r\n                            }\r\n                        }, hour, minute, true);//Yes 24 hour time\r\n                        mTimePicker.setTitle(&quot;Select Time&quot;);\r\n                        mTimePicker.show();\r\n                    }\r\n                });\r\n                /// Clock Button Code End\r\n\r\n                /// Proceed Button Code Start\r\n                Button ProceedBtn = newView.findViewById(R.id.ProceedBtn);\r\n                ProceedBtn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        ReminderTxt = newView.findViewById(R.id.ReminderTxt);\r\n                        String TimeVal = TimeTxt.getText().toString();\r\n                        String DateVal = CalendarTxt.getText().toString();  //ID initialisation\r\n                        String RemindVal = ReminderTxt.getText().toString();\r\n\r\n                        if ((TimeVal + DateVal + RemindVal).isEmpty()) {\r\n                            Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else if ((TimeVal + DateVal).isEmpty()) {\r\n                            Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else if ((TimeVal + RemindVal).isEmpty()) {\r\n                            Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else if ((DateVal + RemindVal).isEmpty()) {\r\n                            Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            String FinalAlarmVal = DateVal + &quot; &quot; + &quot; &quot; + TimeVal; //Combines time and Date to make final Val\r\n\r\n                            String AlarmHour = TimeVal.substring(0, 2);\r\n                            String AlarmMins = TimeVal.substring(3, 5); //Gets Key Part of TextView\r\n\r\n                            String AlarmMonth = DateVal.substring(3, 5);\r\n                            String AlarmDay = DateVal.substring(0, 2);  //Gets Key Part of TextView\r\n\r\n\r\n                            AlarmScheduler.setReminder(getContext(), Integer.parseInt(AlarmHour), Integer.parseInt(AlarmMins),\r\n                                    Integer.parseInt(AlarmDay), Integer.parseInt(AlarmMonth)); // Here mContext is Context of Activity. If you use this code in Activity then you can pass ActivityName.this and in Fragment you can do getActivity()\r\n                            try {\r\n\r\n                                ContentValues values = new ContentValues();\r\n                                values.put(&quot;NameOfNotif&quot;, RemindVal);\r\n                                values.put(&quot;TimeOfNotif&quot;, FinalAlarmVal);    //Adds into Database\r\n\r\n                                db.insert(&quot;PersonalNotif&quot;, null, values);\r\n\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            placeholder.removeAllViews();\r\n                            placeholder.addView(oldView);\r\n                            Refresh();\r\n                        }\r\n                    }\r\n                });\r\n                /// Proceed Button Code End\r\n\r\n\r\n                /// Proceed Button Code Start\r\n                Button CancelBtn = newView.findViewById(R.id.CancelBtn);\r\n                CancelBtn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Fragment currentFragment = getActivity().getSupportFragmentManager().findFragmentById(R.id.container);\r\n                        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n                        fragmentTransaction.detach(currentFragment);\r\n                        fragmentTransaction.attach(currentFragment);\r\n                        fragmentTransaction.commit();\r\n\r\n\r\n                        placeholder.removeAllViews();\r\n                        placeholder.addView(oldView);\r\n\r\n                    }\r\n                });\r\n                /// Proceed Button Code End\r\n\r\n                //placeholder.removeAllViews();   //These two lines replace old view for the new one\r\n                placeholder.addView(newView);\r\n\r\n            }\r\n        });\r\n\r\n        return rootView;\r\n    }\r\n\r\n}\r\n```","title":"How to Refresh Fragment with new Data","body":"<p>I have a fragment in which i have 2 designs, 1 design shows all the items stores within my database and out them into a table. Design 2 is where you can add them. Once finishing design 2, when you go back the TableLayout is gone and the new item is not there. Can anyone help and tell me what the issue is</p>\n<pre><code>public class Device extends Fragment {\n\n    public Device() {\n        // Required empty public constructor\n    }\n\n    //FOR CALENDAR\n    final Calendar myCalendar = Calendar.getInstance();\n    TextView CalendarTxt, TimeTxt;\n    EditText ReminderTxt;\n\n    //FOR CALENDAR\n    private void updateLabel(TextView edittext) {\n        String myFormat = &quot;dd/MM/yy&quot;; //In which you need put here\n        SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.UK);\n\n        edittext.setText(sdf.format(myCalendar.getTime()));\n    }\n\n    //FOR CALENDAR\n    DatePickerDialog.OnDateSetListener date = new DatePickerDialog.OnDateSetListener() {\n        @Override\n        public void onDateSet(DatePicker view, int year, int monthOfYear,\n                              int dayOfMonth) {\n            // TODO Auto-generated method stub\n            myCalendar.set(Calendar.YEAR, year);\n            myCalendar.set(Calendar.MONTH, monthOfYear);\n            myCalendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\n            updateLabel(CalendarTxt);\n        }\n\n    };\n    public void Refresh() {\n        SQLiteDatabase db = getActivity().openOrCreateDatabase(&quot;NotificationDatabase&quot;, android.content.Context.MODE_PRIVATE, null);\n        Cursor data = db.rawQuery(&quot;SELECT * FROM PersonalNotif&quot;, null);\n        Log.d(&quot;Count&quot;, String.valueOf(data.getCount()));\n        if (data.getCount() &gt; 0) {\n            data.moveToFirst();\n            //Database values taken and added\n            do {\n                View tableRow = LayoutInflater.from(getContext()).inflate(R.layout.table_item, null, false);\n                TextView name = (TextView) tableRow.findViewById(R.id.TblItemName);\n                TextView date = (TextView) tableRow.findViewById(R.id.TblItemDate);\n\n                name.setText(data.getString(0));\n                date.setText(data.getString(1));\n\n            } while (data.moveToNext());\n            data.close();\n        }\n\n    }\n\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_device, container, false);\n\n        ViewGroup placeholder = (ViewGroup) rootView;\n\n        CircleButton AddNotifBtn = rootView.findViewById(R.id.AddNotifBtn);\n        TableLayout tableLayout = rootView.findViewById(R.id.tableLayout);\n        //Database established\n        SQLiteDatabase db = getActivity().openOrCreateDatabase(&quot;NotificationDatabase&quot;, android.content.Context.MODE_PRIVATE, null);\n        Cursor data = db.rawQuery(&quot;SELECT * FROM PersonalNotif&quot;, null);\n\n        Log.d(&quot;Count&quot;, String.valueOf(data.getCount()));\n        if (data.getCount() &gt; 0) {\n            data.moveToFirst();\n            //Database values taken and added\n            do {\n                View tableRow = LayoutInflater.from(getContext()).inflate(R.layout.table_item, null, false);\n                TextView name = (TextView) tableRow.findViewById(R.id.TblItemName);\n                TextView date = (TextView) tableRow.findViewById(R.id.TblItemDate);\n\n                name.setText(data.getString(0));\n                date.setText(data.getString(1));\n                tableLayout.addView(tableRow);\n\n                tableRow.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n\n                        AlertDialog alertDialog = new AlertDialog.Builder(getActivity())\n                                .setIcon(android.R.drawable.ic_dialog_alert)\n                                .setTitle(&quot;Do you want to Delete Reminder- &quot; + name.getText().toString())\n                                .setMessage(&quot;Accepting will delete the Chosen Reminder&quot;)\n                                .setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\n                                    @Override\n                                    public void onClick(DialogInterface dialogInterface, int i) {\n                                        db.delete(&quot;PersonalNotif&quot;, &quot;NameOfNotif=? and TimeOfNotif=?&quot;, new String[]{name.getText().toString(), date.getText().toString()});\n                                        Refresh();\n                                        tableLayout.removeView(tableRow);\n\n                                    }\n                                })\n                                .setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    @Override\n                                    public void onClick(DialogInterface dialogInterface, int i) {\n                                    }\n                                })\n                                .show();\n\n                    }\n                });\n\n\n            } while (data.moveToNext());\n            data.close();\n\n        }\n\n        AddNotifBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                Refresh();\n\n\n                View newView = inflater.inflate(R.layout.fragment_device2, container, false);\n                View oldView = inflater.inflate(R.layout.fragment_device, container, false);\n                //All New Views need newView before hand\n\n                /// Calender Button Code Start\n                CalendarTxt = newView.findViewById(R.id.CurrentDateSelect);\n                CircleButton CalendarButton = newView.findViewById(R.id.calendarBtn);\n                CalendarButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        new DatePickerDialog(getContext(), date, myCalendar\n                                .get(Calendar.YEAR), myCalendar.get(Calendar.MONTH),   //Refers Back to Method at the Top\n                                myCalendar.get(Calendar.DAY_OF_MONTH)).show();\n                    }\n                });\n                /// Calender Button Code End\n\n                /// Clock Button Code Start\n                TimeTxt = newView.findViewById(R.id.CurrentTimeSelect);\n                Calendar mcurrentTime = Calendar.getInstance();\n                int hour = mcurrentTime.get(Calendar.HOUR_OF_DAY); //All the Variables needed\n                int minute = mcurrentTime.get(Calendar.MINUTE);\n                CircleButton ClockButton = newView.findViewById(R.id.timeBtn);\n                ClockButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        TimePickerDialog mTimePicker;\n                        mTimePicker = new TimePickerDialog(getContext(), new TimePickerDialog.OnTimeSetListener() {\n                            @Override\n                            public void onTimeSet(TimePicker timePicker, int selectedHour, int selectedMinute) {\n                                @SuppressLint(&quot;DefaultLocale&quot;) String curTime = String.format(&quot;%02d:%02d&quot;, selectedHour, selectedMinute);\n                                TimeTxt.setText(curTime);\n                            }\n                        }, hour, minute, true);//Yes 24 hour time\n                        mTimePicker.setTitle(&quot;Select Time&quot;);\n                        mTimePicker.show();\n                    }\n                });\n                /// Clock Button Code End\n\n                /// Proceed Button Code Start\n                Button ProceedBtn = newView.findViewById(R.id.ProceedBtn);\n                ProceedBtn.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        ReminderTxt = newView.findViewById(R.id.ReminderTxt);\n                        String TimeVal = TimeTxt.getText().toString();\n                        String DateVal = CalendarTxt.getText().toString();  //ID initialisation\n                        String RemindVal = ReminderTxt.getText().toString();\n\n                        if ((TimeVal + DateVal + RemindVal).isEmpty()) {\n                            Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\n                        } else if ((TimeVal + DateVal).isEmpty()) {\n                            Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\n                        } else if ((TimeVal + RemindVal).isEmpty()) {\n                            Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\n                        } else if ((DateVal + RemindVal).isEmpty()) {\n                            Toast.makeText(getContext(), &quot;No View can be Empty!&quot;, Toast.LENGTH_SHORT).show();\n                        } else {\n                            String FinalAlarmVal = DateVal + &quot; &quot; + &quot; &quot; + TimeVal; //Combines time and Date to make final Val\n\n                            String AlarmHour = TimeVal.substring(0, 2);\n                            String AlarmMins = TimeVal.substring(3, 5); //Gets Key Part of TextView\n\n                            String AlarmMonth = DateVal.substring(3, 5);\n                            String AlarmDay = DateVal.substring(0, 2);  //Gets Key Part of TextView\n\n\n                            AlarmScheduler.setReminder(getContext(), Integer.parseInt(AlarmHour), Integer.parseInt(AlarmMins),\n                                    Integer.parseInt(AlarmDay), Integer.parseInt(AlarmMonth)); // Here mContext is Context of Activity. If you use this code in Activity then you can pass ActivityName.this and in Fragment you can do getActivity()\n                            try {\n\n                                ContentValues values = new ContentValues();\n                                values.put(&quot;NameOfNotif&quot;, RemindVal);\n                                values.put(&quot;TimeOfNotif&quot;, FinalAlarmVal);    //Adds into Database\n\n                                db.insert(&quot;PersonalNotif&quot;, null, values);\n\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                            placeholder.removeAllViews();\n                            placeholder.addView(oldView);\n                            Refresh();\n                        }\n                    }\n                });\n                /// Proceed Button Code End\n\n\n                /// Proceed Button Code Start\n                Button CancelBtn = newView.findViewById(R.id.CancelBtn);\n                CancelBtn.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Fragment currentFragment = getActivity().getSupportFragmentManager().findFragmentById(R.id.container);\n                        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\n                        fragmentTransaction.detach(currentFragment);\n                        fragmentTransaction.attach(currentFragment);\n                        fragmentTransaction.commit();\n\n\n                        placeholder.removeAllViews();\n                        placeholder.addView(oldView);\n\n                    }\n                });\n                /// Proceed Button Code End\n\n                //placeholder.removeAllViews();   //These two lines replace old view for the new one\n                placeholder.addView(newView);\n\n            }\n        });\n\n        return rootView;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","class","jframe","jpanel"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1637172014,"post_id":70009328,"comment_id":123757192,"body_markdown":"I advise you to learn about MVC","body":"I advise you to learn about MVC"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637173254,"creation_date":1637173254,"answer_id":70009636,"question_id":70009328,"body_markdown":"So if you want to make a separate class for mainMenu, you should make it extend JPanel. This way, your mainFrame class can instantiate it.\r\n\r\nHere is what I would tell you about the lessons I learned in building things in swing:\r\n\r\n1. You (almost) never need a separate class to create a JFrame. If you create a class that extends JPanel, it is easy enough to create a JFrame in a static method (like main) to put your JPanel in. That being said, if you also want to use the JLayeredPane or want to add menus on a JMenuBar, there might be a case of subclassing JFrame. The advantage of *not* subclassing JFrame is that it makes it easier to stick your JPanel into a JFrame, a JDialog (via JOptionPane) or a JWindow.\r\n\r\n2. Unless you have a Component that you think could be useful in other applications, you should build your entire GUI in one class, and also use that class as the `Controller`. What is an example of a Component that could be used in other applications? Back in the day, I made a &quot;ColorButton&quot; swing class, for color picking. This component has a self-contained model, has its own controller and an API to get the picked color. (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/ex/) which makes it reuseable. But normally, the elements of the GUI you are building aren&#39;t really reuseable outside of what you are doing in that class.\r\n\r\nWith that said, to the code you posted above:\r\nYour mainMenu JPanel isn&#39;t accessible outside the class, so that is probably a problem. As I said in the paragraph above, if you&#39;re not sure that the Component you are creating could be used in another place, it is better to put the entire `view`  and `model` building in the same class as the `controller`","title":"Basic JPanel/JFrame class problem in Java","body":"<p>So if you want to make a separate class for mainMenu, you should make it extend JPanel. This way, your mainFrame class can instantiate it.</p>\n<p>Here is what I would tell you about the lessons I learned in building things in swing:</p>\n<ol>\n<li><p>You (almost) never need a separate class to create a JFrame. If you create a class that extends JPanel, it is easy enough to create a JFrame in a static method (like main) to put your JPanel in. That being said, if you also want to use the JLayeredPane or want to add menus on a JMenuBar, there might be a case of subclassing JFrame. The advantage of <em>not</em> subclassing JFrame is that it makes it easier to stick your JPanel into a JFrame, a JDialog (via JOptionPane) or a JWindow.</p>\n</li>\n<li><p>Unless you have a Component that you think could be useful in other applications, you should build your entire GUI in one class, and also use that class as the <code>Controller</code>. What is an example of a Component that could be used in other applications? Back in the day, I made a &quot;ColorButton&quot; swing class, for color picking. This component has a self-contained model, has its own controller and an API to get the picked color. (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/ex/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/ex/</a>) which makes it reuseable. But normally, the elements of the GUI you are building aren't really reuseable outside of what you are doing in that class.</p>\n</li>\n</ol>\n<p>With that said, to the code you posted above:\nYour mainMenu JPanel isn't accessible outside the class, so that is probably a problem. As I said in the paragraph above, if you're not sure that the Component you are creating could be used in another place, it is better to put the entire <code>view</code>  and <code>model</code> building in the same class as the <code>controller</code></p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637176695,"creation_date":1637176379,"answer_id":70010254,"question_id":70009328,"body_markdown":"You were close.  You have to be able to get the `JPanel` from the `MainMenu` class.\r\n\r\nThe `JFrame` methods must be called in a specific order.  This is the order I use for my Swing applications.\r\n\r\nClass names start with an upper case character.\r\n\r\nHere&#39;s one way you could code your `MainMenu` class.\r\n\r\n\tpublic class PrincipalFrame {\r\n\r\n\t\tpublic PrincipalFrame() {\r\n\t\t\tJFrame mainFrame = new JFrame();\r\n\t\t\tmainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t \r\n\t\t\tmainFrame.add(new MainMenu().getMenuPanel(), BorderLayout.CENTER);\r\n\t\t\t \r\n\t\t\tmainFrame.setSize(1200, 750);\r\n\t\t\tmainFrame.setResizable(false);\r\n\t\t\tmainFrame.setVisible(true);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class MainMenu {\r\n\r\n\t\tprivate final JPanel menuPanel;\r\n\r\n\t\tpublic MainMenu() {\r\n\t\t\tthis.menuPanel = new JPanel();\r\n\t\t\tthis.menuPanel.setPreferredSize(300, 300);\r\n\t\t\tthis.menuPanel.setBackground(Color.BLUE);\r\n\t\t}\r\n\r\n\t\tpublic JPanel getMenuPanel() {\r\n\t\t\treturn menuPanel;\r\n\t\t}\r\n\t\t\r\n\t}","title":"Basic JPanel/JFrame class problem in Java","body":"<p>You were close.  You have to be able to get the <code>JPanel</code> from the <code>MainMenu</code> class.</p>\n<p>The <code>JFrame</code> methods must be called in a specific order.  This is the order I use for my Swing applications.</p>\n<p>Class names start with an upper case character.</p>\n<p>Here's one way you could code your <code>MainMenu</code> class.</p>\n<pre><code>public class PrincipalFrame {\n\n    public PrincipalFrame() {\n        JFrame mainFrame = new JFrame();\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         \n        mainFrame.add(new MainMenu().getMenuPanel(), BorderLayout.CENTER);\n         \n        mainFrame.setSize(1200, 750);\n        mainFrame.setResizable(false);\n        mainFrame.setVisible(true);\n    }\n}\n\npublic class MainMenu {\n\n    private final JPanel menuPanel;\n\n    public MainMenu() {\n        this.menuPanel = new JPanel();\n        this.menuPanel.setPreferredSize(300, 300);\n        this.menuPanel.setBackground(Color.BLUE);\n    }\n\n    public JPanel getMenuPanel() {\n        return menuPanel;\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":23369544,"reputation":1,"user_id":17440638,"display_name":"Alyulanu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637176695,"creation_date":1637171741,"question_id":70009328,"body_markdown":"I started not so long ago learning Java through tutorials and videos, and after understanding a few things (how buttons, layouts, audio, and a few other things work) one of my goal now is to create a little interactive game.\r\n\r\nI wrote a pretty big part of the game in the Main Class and it was working good, but it got messy after a while.\r\n\r\nSo I decided to try another time from the beginning using different classes for every part of the game to make the code look more clear and understandable.\r\n\r\nBut I have a problem from the very beginning and after a few hours of searching tutorials, answers on forums and not finding a precise answer, I think it&#39;s the best if you will see exactly my problem (which is very simple!)\r\n\r\n-So I just constructed the JFrame in a class (I use the main Class only to launch the frame, and it works fine) :\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class principalFrame {\r\n\r\n    public principalFrame(){\r\n\r\n        JFrame mainFrame = new JFrame();\r\n        mainFrame.setVisible(true);\r\n        mainFrame.setSize(1200,750);\r\n        mainFrame.getContentPane().setBackground(Color.BLACK);\r\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        mainFrame.setResizable(false);\r\n\r\n    }\r\n}\r\n```\r\nand I created a JPanel in **another** class :\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class mainMenu{\r\n\r\n    public mainMenu(){\r\n\r\n        JPanel menuPanel = new JPanel();\r\n\r\n        menuPanel.setSize(300,300);\r\n        menuPanel.setBackground(Color.BLUE);\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd my goal is to add the JPanel inside the JFrame. And... I don&#39;t understand how to do it. \r\n\r\nI tried to add the menuPanel class as an object in the mainFrame class so I could add the JPanel but it did&#39;nt work. Then tried a bunch of other solutions from what I read on older questions but nothing really helped me.\r\n\r\nPS : I know that I didn&#39;t add any layout manager or any other things in the code here because I want to keep the code very simple for the question.","title":"Basic JPanel/JFrame class problem in Java","body":"<p>I started not so long ago learning Java through tutorials and videos, and after understanding a few things (how buttons, layouts, audio, and a few other things work) one of my goal now is to create a little interactive game.</p>\n<p>I wrote a pretty big part of the game in the Main Class and it was working good, but it got messy after a while.</p>\n<p>So I decided to try another time from the beginning using different classes for every part of the game to make the code look more clear and understandable.</p>\n<p>But I have a problem from the very beginning and after a few hours of searching tutorials, answers on forums and not finding a precise answer, I think it's the best if you will see exactly my problem (which is very simple!)</p>\n<p>-So I just constructed the JFrame in a class (I use the main Class only to launch the frame, and it works fine) :</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class principalFrame {\n\n    public principalFrame(){\n\n        JFrame mainFrame = new JFrame();\n        mainFrame.setVisible(true);\n        mainFrame.setSize(1200,750);\n        mainFrame.getContentPane().setBackground(Color.BLACK);\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainFrame.setResizable(false);\n\n    }\n}\n</code></pre>\n<p>and I created a JPanel in <strong>another</strong> class :</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class mainMenu{\n\n    public mainMenu(){\n\n        JPanel menuPanel = new JPanel();\n\n        menuPanel.setSize(300,300);\n        menuPanel.setBackground(Color.BLUE);\n\n    }\n}\n</code></pre>\n<p>And my goal is to add the JPanel inside the JFrame. And... I don't understand how to do it.</p>\n<p>I tried to add the menuPanel class as an object in the mainFrame class so I could add the JPanel but it did'nt work. Then tried a bunch of other solutions from what I read on older questions but nothing really helped me.</p>\n<p>PS : I know that I didn't add any layout manager or any other things in the code here because I want to keep the code very simple for the question.</p>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1637173629,"post_id":70009612,"comment_id":123757818,"body_markdown":"You&#39;re seeing `Integer` because that&#39;s what you put in your array. Try `System.out.println(task1instance.test().get(0));` in your main method and you&#39;ll get a ClassCastException.  It&#39;s just not breaking inside `Task1` because of type erasure.","body":"You&#39;re seeing <code>Integer</code> because that&#39;s what you put in your array. Try <code>System.out.println(task1instance.test().get(0));</code> in your main method and you&#39;ll get a ClassCastException.  It&#39;s just not breaking inside <code>Task1</code> because of type erasure."},{"owner":{"account_id":21068462,"reputation":63,"user_id":15485169,"display_name":"Cognosce"},"score":0,"creation_date":1637174124,"post_id":70009612,"comment_id":123758026,"body_markdown":"@azurefrog but how did compiler allow this? Where did I confused the compiler and let this happened?))","body":"@azurefrog but how did compiler allow this? Where did I confused the compiler and let this happened?))"},{"owner":{"account_id":21068462,"reputation":63,"user_id":15485169,"display_name":"Cognosce"},"score":0,"creation_date":1637174292,"post_id":70009612,"comment_id":123758090,"body_markdown":"Common sense tells me that I must have got an exception when I tried putting Integer there, but not","body":"Common sense tells me that I must have got an exception when I tried putting Integer there, but not"},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":2,"creation_date":1637174300,"post_id":70009612,"comment_id":123758095,"body_markdown":"Basically, at compile time, what you&#39;re doing is `for (Integer i = 0; i &lt; 10; i++) { array.add((Object) i); }`, which is perfectly legal. The casting to the generic type doesn&#39;t occur until you try to access the data outside the generic class.  After my afternoon spate of meetings, if nobody else has answered yet, I&#39;ll come back and write up a proper explanation.","body":"Basically, at compile time, what you&#39;re doing is <code>for (Integer i = 0; i &lt; 10; i++) { array.add((Object) i); }</code>, which is perfectly legal. The casting to the generic type doesn&#39;t occur until you try to access the data outside the generic class.  After my afternoon spate of meetings, if nobody else has answered yet, I&#39;ll come back and write up a proper explanation."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637176626,"creation_date":1637176626,"answer_id":70010298,"question_id":70009612,"body_markdown":"No, you won&#39;t get an exception.  What you got was an &quot;unchecked cast&quot; _warning_ from the compiler on the line `array.add((T) i); //magic`, which was telling you about this exact issue.","title":"I declared ArrayList of String by generic, but filled it with Integer somehow. Did I break java?","body":"<p>No, you won't get an exception.  What you got was an &quot;unchecked cast&quot; <em>warning</em> from the compiler on the line <code>array.add((T) i); //magic</code>, which was telling you about this exact issue.</p>\n"}],"owner":{"account_id":21068462,"reputation":63,"user_id":15485169,"display_name":"Cognosce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70010298,"answer_count":1,"score":2,"last_activity_date":1637176626,"creation_date":1637173144,"question_id":70009612,"body_markdown":"I wanted to fill an ArrayList with [0..10] no matter if it is Integer or String passed, and unintentionally did this: \r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Task1&lt;String&gt; task1instance = new Task1&lt;&gt;();\r\n            System.out.println(task1instance.test());\r\n        }\r\n    }\r\n    \r\n    public class Task1&lt;T extends Serializable&gt; {\r\n    ArrayList&lt;T&gt; array = new ArrayList&lt;&gt;(10);\r\n\r\n    private void fillArray() { //String and Integer autofill supported\r\n        for (Integer i = 0; i &lt; 10; i++) {\r\n            array.add((T) i); //magic\r\n        }\r\n    }\r\n\r\n    ArrayList&lt;T&gt; test () {\r\n        fillArray();\r\n        //smartSwap();\r\n        System.out.println(this.array.get(0).getClass());\r\n        return this.array;\r\n    }\r\n    \r\nI have output like: \r\n\r\n    class java.lang.Integer\r\n    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\nBut in the main I passed a \r\n\r\n&gt; &lt; String &gt;\r\n\r\nAn ArrayList of String was filled with Integer, but if we try to cast it directly, then we have a compilation error:\r\n\r\n    Integer a = 9;\r\n    String b = (String) a; //error: Inconvertible types; cannot cast &#39;java.lang.Integer&#39; to &#39;java.lang.String&#39;\r\n\r\n**Tell me please, what actually happened?**","title":"I declared ArrayList of String by generic, but filled it with Integer somehow. Did I break java?","body":"<p>I wanted to fill an ArrayList with [0..10] no matter if it is Integer or String passed, and unintentionally did this:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Task1&lt;String&gt; task1instance = new Task1&lt;&gt;();\n        System.out.println(task1instance.test());\n    }\n}\n\npublic class Task1&lt;T extends Serializable&gt; {\nArrayList&lt;T&gt; array = new ArrayList&lt;&gt;(10);\n\nprivate void fillArray() { //String and Integer autofill supported\n    for (Integer i = 0; i &lt; 10; i++) {\n        array.add((T) i); //magic\n    }\n}\n\nArrayList&lt;T&gt; test () {\n    fillArray();\n    //smartSwap();\n    System.out.println(this.array.get(0).getClass());\n    return this.array;\n}\n</code></pre>\n<p>I have output like:</p>\n<pre><code>class java.lang.Integer\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre>\n<p>But in the main I passed a</p>\n<blockquote>\n<p>&lt; String &gt;</p>\n</blockquote>\n<p>An ArrayList of String was filled with Integer, but if we try to cast it directly, then we have a compilation error:</p>\n<pre><code>Integer a = 9;\nString b = (String) a; //error: Inconvertible types; cannot cast 'java.lang.Integer' to 'java.lang.String'\n</code></pre>\n<p><strong>Tell me please, what actually happened?</strong></p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1637173397,"post_id":70009650,"comment_id":123757734,"body_markdown":"&quot;Does it know just by that you pass through&quot; - yes, it&#39;s determined based on the arguments, just like method overloading is.","body":"&quot;Does it know just by that you pass through&quot; - yes, it&#39;s determined based on the arguments, just like method overloading is."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1637173423,"post_id":70009650,"comment_id":123757745,"body_markdown":"It knows because one or the other is used in the code--like any other method. If you pass a `Dbc` it&#39;s going to use the one that takes a `Dbc`; what else could it do?","body":"It knows because one or the other is used in the code--like any other method. If you pass a <code>Dbc</code> it&#39;s going to use the one that takes a <code>Dbc</code>; what else could it do?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1637174562,"creation_date":1637173447,"answer_id":70009686,"question_id":70009650,"body_markdown":"# Match on method signature\r\n\r\nA constructor is chosen by matching the **number and types of its declared parameters** against the number and types of your call’s arguments. \r\n\r\nIf you pass four `String` objects, then `public EpsMockEmailInfo (String email,String emailType,String emailDate,String status) { … }` is executed. \r\n\r\nIf you pass a single `Dbc` object, then `public EpsMockEmailInfo (Dbc dbc) { … }` is executed. \r\n\r\n\r\nFormally, the combination of a method’s name with the number and types of its parameters is known as a [*method signature*](https://en.wikipedia.org/wiki/Type_signature#Method_signature). Method signatures are unique within an app, meaning, you cannot write two methods with the same [fully-qualified](https://en.wikipedia.org/wiki/Fully_qualified_name) name and the same number and types of arguments; the compiler won’t allow. So the JVM always knows which method to call. \r\n","title":"How does Java know which constructor to use in a class?","body":"<h1>Match on method signature</h1>\n<p>A constructor is chosen by matching the <strong>number and types of its declared parameters</strong> against the number and types of your call’s arguments.</p>\n<p>If you pass four <code>String</code> objects, then <code>public EpsMockEmailInfo (String email,String emailType,String emailDate,String status) { … }</code> is executed.</p>\n<p>If you pass a single <code>Dbc</code> object, then <code>public EpsMockEmailInfo (Dbc dbc) { … }</code> is executed.</p>\n<p>Formally, the combination of a method’s name with the number and types of its parameters is known as a <a href=\"https://en.wikipedia.org/wiki/Type_signature#Method_signature\" rel=\"nofollow noreferrer\"><em>method signature</em></a>. Method signatures are unique within an app, meaning, you cannot write two methods with the same <a href=\"https://en.wikipedia.org/wiki/Fully_qualified_name\" rel=\"nofollow noreferrer\">fully-qualified</a> name and the same number and types of arguments; the compiler won’t allow. So the JVM always knows which method to call.</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637176603,"creation_date":1637174067,"answer_id":70009808,"question_id":70009650,"body_markdown":"In Java, the *real name* of a constructor or method, i.e., the identifier that is used to identify it and look it up, includes the number and types of the arguments. This is called the method or constructor *signature*.\r\n\r\nPretty much every use that you might imagine for the method name is actually based on the signature instead. *Overloading*, which is what we call using the same name for multiple distinct methods or constructors, exists only in our heads. In Java, `foo(int)` and `foo(boolean)` are as different from each other as they are from `bar(int)`.","title":"How does Java know which constructor to use in a class?","body":"<p>In Java, the <em>real name</em> of a constructor or method, i.e., the identifier that is used to identify it and look it up, includes the number and types of the arguments. This is called the method or constructor <em>signature</em>.</p>\n<p>Pretty much every use that you might imagine for the method name is actually based on the signature instead. <em>Overloading</em>, which is what we call using the same name for multiple distinct methods or constructors, exists only in our heads. In Java, <code>foo(int)</code> and <code>foo(boolean)</code> are as different from each other as they are from <code>bar(int)</code>.</p>\n"}],"owner":{"account_id":14797222,"reputation":85,"user_id":10686562,"display_name":"C.Ward"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70009686,"answer_count":2,"score":1,"last_activity_date":1637176603,"creation_date":1637173297,"question_id":70009650,"body_markdown":"I am trying to understand OOP a little bit better. I was wondering how Java knows which constructor to use. for example I have a class below and 2 constructors. one which takes DBC values and another which takes some strings. Does it know just by that you pass through to it or am i understanding the whole thing wrong?\r\n\r\n     \r\n      public class EpsMockEmailInfo {\r\n        \r\n        \tprivate String email;\r\n        \tprivate String emailType;\r\n        \tprivate String emailDate;\r\n        \tprivate String status;\r\n        \t\r\n        \tpublic EpsMockEmailInfo (String email,String emailType,String emailDate,String status) {\r\n        \t\tthis.email = email;\r\n        \t\tthis.emailType = emailType;\r\n        \t\tthis.emailDate = emailDate;\r\n        \t\tthis.status = status;\r\n        \t}\r\n        \r\n        \tpublic EpsMockEmailInfo (Dbc dbc){\r\n        \t\temail = dbc.getString(1);\r\n        \t\temailType = dbc.getString(2);\r\n        \t\temailDate = dbc.getString(3);\r\n        \t\tstatus = dbc.getString(4);\r\n        \t\t\r\n        \t}\r\n        \tpublic String getEmail() {\r\n        \t\treturn email;\r\n        \t}\r\n        \r\n        \tpublic void setEmail(String email) {\r\n        \t\tthis.email = email;\r\n        \t}\r\n        \r\n        \tpublic String getEmailType() {\r\n        \t\treturn emailType;\r\n        \t}\r\n        \r\n        \tpublic void setEmailType(String emailType) {\r\n        \t\tthis.emailType = emailType;\r\n        \t}\r\n        \r\n        \tpublic String getEmailDate() {\r\n        \t\treturn emailDate;\r\n        \t}\r\n        \r\n        \tpublic void setEmailDate(String emailDate) {\r\n        \t\tthis.emailDate = emailDate;\r\n        \t}\r\n        \r\n        \tpublic String getStatus() {\r\n        \t\treturn status;\r\n        \t}\r\n        \r\n        \tpublic void setStatus(String status) {\r\n        \t\tthis.status = status;\r\n        \t}\r\n        \r\n        }","title":"How does Java know which constructor to use in a class?","body":"<p>I am trying to understand OOP a little bit better. I was wondering how Java knows which constructor to use. for example I have a class below and 2 constructors. one which takes DBC values and another which takes some strings. Does it know just by that you pass through to it or am i understanding the whole thing wrong?</p>\n<pre><code>  public class EpsMockEmailInfo {\n    \n        private String email;\n        private String emailType;\n        private String emailDate;\n        private String status;\n        \n        public EpsMockEmailInfo (String email,String emailType,String emailDate,String status) {\n            this.email = email;\n            this.emailType = emailType;\n            this.emailDate = emailDate;\n            this.status = status;\n        }\n    \n        public EpsMockEmailInfo (Dbc dbc){\n            email = dbc.getString(1);\n            emailType = dbc.getString(2);\n            emailDate = dbc.getString(3);\n            status = dbc.getString(4);\n            \n        }\n        public String getEmail() {\n            return email;\n        }\n    \n        public void setEmail(String email) {\n            this.email = email;\n        }\n    \n        public String getEmailType() {\n            return emailType;\n        }\n    \n        public void setEmailType(String emailType) {\n            this.emailType = emailType;\n        }\n    \n        public String getEmailDate() {\n            return emailDate;\n        }\n    \n        public void setEmailDate(String emailDate) {\n            this.emailDate = emailDate;\n        }\n    \n        public String getStatus() {\n            return status;\n        }\n    \n        public void setStatus(String status) {\n            this.status = status;\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","compareto"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":6,"creation_date":1637172743,"post_id":70009499,"comment_id":123757497,"body_markdown":"It looks like `cat` and `dog` are variables of type `K`, not members thereof.  What data does `K` actually contain?  Also, I highly doubt `K cat = 3;` is going to compile, since `K` is not any sort of number, but rather a Java class.","body":"It looks like <code>cat</code> and <code>dog</code> are variables of type <code>K</code>, not members thereof.  What data does <code>K</code> actually contain?  Also, I highly doubt <code>K cat = 3;</code> is going to compile, since <code>K</code> is not any sort of number, but rather a Java class."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637176541,"post_id":70009499,"comment_id":123758888,"body_markdown":"I&#39;ve edited your question to actually create objects. If this is not correct, please fix it yourself","body":"I&#39;ve edited your question to actually create objects. If this is not correct, please fix it yourself"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1637176633,"post_id":70009499,"comment_id":123758915,"body_markdown":"how about showing the constructor?","body":"how about showing the constructor?"}],"answers":[{"tags":[],"owner":{"account_id":14346646,"reputation":124,"user_id":10363360,"display_name":"Nicolas Peron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637172828,"creation_date":1637172828,"answer_id":70009548,"question_id":70009499,"body_markdown":"In your class you have to override the compareTo method of the Comparable interface. By the way use implements instead of extends since Comparable is not a class but an interface.","title":"How to use compareTo() to compare two objects?","body":"<p>In your class you have to override the compareTo method of the Comparable interface. By the way use implements instead of extends since Comparable is not a class but an interface.</p>\n"},{"tags":[],"owner":{"account_id":18284469,"reputation":140,"user_id":13312696,"display_name":"Gius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637176086,"creation_date":1637176086,"answer_id":70010196,"question_id":70009499,"body_markdown":"Your class needs to implement Comparable interface, and inside your class you need to override compareTo method (which is in Comparable interface). In this method you will define how your object will be compared to another, on what &#39;criteria&#39; the comparison will be done.\r\n\r\nIt&#39;s a good practice to implement compareTo method such that, when its return value is 0, it&#39;s like two objects are equals (e.g. &lt;code&gt;firstK.compareTo(secondK) == firstK.equals(secondK)&lt;/code&gt;).\r\n\r\nYou can also read Java documentation [compareTo documentation][1].\r\n```Java\r\npublic class K implements Comparable&lt;K&gt; {\r\n     //Attributes, constructor etc\r\n     @Override\r\n     public int compareTo(final K otherK) {\r\n          /*\r\n          Do what you want to compare them, for example, if your\r\n          K class has a integer field &#39;value&#39;, and you want to compare \r\n          K&#39;s instances based on &#39;value&#39; field, you can do as follow:\r\n          */\r\n          return Integer.compare(this.value, otherK.getValue());\r\n     }\r\n}\r\n``` \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html#compareTo(T)","title":"How to use compareTo() to compare two objects?","body":"<p>Your class needs to implement Comparable interface, and inside your class you need to override compareTo method (which is in Comparable interface). In this method you will define how your object will be compared to another, on what 'criteria' the comparison will be done.</p>\n<p>It's a good practice to implement compareTo method such that, when its return value is 0, it's like two objects are equals (e.g. <code>firstK.compareTo(secondK) == firstK.equals(secondK)</code>).</p>\n<p>You can also read Java documentation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\">compareTo documentation</a>.</p>\n<pre><code>public class K implements Comparable&lt;K&gt; {\n     //Attributes, constructor etc\n     @Override\n     public int compareTo(final K otherK) {\n          /*\n          Do what you want to compare them, for example, if your\n          K class has a integer field 'value', and you want to compare \n          K's instances based on 'value' field, you can do as follow:\n          */\n          return Integer.compare(this.value, otherK.getValue());\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":22754112,"reputation":97,"user_id":17036259,"display_name":"TheMathAI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70010196,"answer_count":2,"score":0,"last_activity_date":1637176516,"creation_date":1637172561,"question_id":70009499,"body_markdown":"I&#39;m new to java, and I&#39;m trying to compare two objects of class K. I don&#39;t know how to define that a `K 3` is smaller than `K 7` as both are not integers but K type. Could you show how to compare cat and dog, so that `cat &lt; dog`. Thus, `cat.compareTo(dog) == -1`.\r\n\r\nHere are my two objects: \r\n```\r\nK cat = new K(3);\r\n\r\nK dog = new K(7);\r\n```\r\nI extended Comparable&lt;K&gt; in my class in order to compare. I want to compare them, so this is what I did:\r\n```\r\n\r\npublic class K extends Comparable&lt;K&gt;{\r\n\r\n//CONSTRUCTOR\r\n\r\n//METHOD\r\n\r\nif (cat.compareTo(dog) == 0){\r\n\r\n   System.out.println(&quot;Hi&quot;);\r\n\r\n}else if ((cat.compareTo(dog) == -1){\r\n\r\n   System.out.println(&quot;Bye&quot;);\r\n\r\n}else if ((cat.compareTo(dog) == 1){\r\n\r\n   System.out.println(&quot;Sleep&quot;);\r\n}\r\n}\r\n\r\n```","title":"How to use compareTo() to compare two objects?","body":"<p>I'm new to java, and I'm trying to compare two objects of class K. I don't know how to define that a <code>K 3</code> is smaller than <code>K 7</code> as both are not integers but K type. Could you show how to compare cat and dog, so that <code>cat &lt; dog</code>. Thus, <code>cat.compareTo(dog) == -1</code>.</p>\n<p>Here are my two objects:</p>\n<pre><code>K cat = new K(3);\n\nK dog = new K(7);\n</code></pre>\n<p>I extended Comparable in my class in order to compare. I want to compare them, so this is what I did:</p>\n<pre><code>\npublic class K extends Comparable&lt;K&gt;{\n\n//CONSTRUCTOR\n\n//METHOD\n\nif (cat.compareTo(dog) == 0){\n\n   System.out.println(&quot;Hi&quot;);\n\n}else if ((cat.compareTo(dog) == -1){\n\n   System.out.println(&quot;Bye&quot;);\n\n}else if ((cat.compareTo(dog) == 1){\n\n   System.out.println(&quot;Sleep&quot;);\n}\n}\n\n</code></pre>\n"},{"tags":["java","jena","fuseki"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1637088926,"post_id":69988544,"comment_id":123731219,"body_markdown":"A concrete example would help, Details matter here. Sounds like either you need a naming scheme that keeps different things apart (include source in the URI) or generate unique URIs by using something like UUIDs, or use blank nodes. Overlapping IRIs in data are good if they mean the same entity - it gets the data connected up.","body":"A concrete example would help, Details matter here. Sounds like either you need a naming scheme that keeps different things apart (include source in the URI) or generate unique URIs by using something like UUIDs, or use blank nodes. Overlapping IRIs in data are good if they mean the same entity - it gets the data connected up."},{"owner":{"account_id":918050,"reputation":127,"user_id":950402,"accept_rate":43,"display_name":"giuseta"},"score":0,"creation_date":1637168063,"post_id":69988544,"comment_id":123755561,"body_markdown":"@AndyS I have edited my question by including an example. I don&#39;t think that blank nodes could be useful in the case I want to add new triples that have the newly added individual as subject later on.","body":"@AndyS I have edited my question by including an example. I don&#39;t think that blank nodes could be useful in the case I want to add new triples that have the newly added individual as subject later on."}],"answers":[{"tags":[],"owner":{"account_id":12866832,"reputation":833,"user_id":9465104,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637176163,"creation_date":1637176163,"answer_id":70010213,"question_id":69988544,"body_markdown":"From your example it looks like each subject is named after the number of occurrences of the class. To keep doing this, I would count the number of foaf:Persons there are (trivial and quick sparql query) and just offset new subjects from the count.\r\n\r\nIf you can&#39;t contact the database then I would just generate uuids, which should never clash. The subjects won&#39;t be visually appealing, but they certainly won&#39;t clash. You should be able to use `UUID` out of `java.util`. [RDFUnit](https://github.com/AKSW/RDFUnit) has an [example](https://github.com/AKSW/RDFUnit/blob/master/rdfunit-commons/src/main/java/org/aksw/rdfunit/utils/JenaUtils.java#L16) of generating unique IRIs using [JennaUUID](https://appdoc.app/artifact/org.apache.jena/jena-core/3.7.0/org/apache/jena/shared/uuid/JenaUUID.html), which should also work for you.","title":"Upload triples into Fuseki dataset avoiding IRI clashes","body":"<p>From your example it looks like each subject is named after the number of occurrences of the class. To keep doing this, I would count the number of foaf:Persons there are (trivial and quick sparql query) and just offset new subjects from the count.</p>\n<p>If you can't contact the database then I would just generate uuids, which should never clash. The subjects won't be visually appealing, but they certainly won't clash. You should be able to use <code>UUID</code> out of <code>java.util</code>. <a href=\"https://github.com/AKSW/RDFUnit\" rel=\"nofollow noreferrer\">RDFUnit</a> has an <a href=\"https://github.com/AKSW/RDFUnit/blob/master/rdfunit-commons/src/main/java/org/aksw/rdfunit/utils/JenaUtils.java#L16\" rel=\"nofollow noreferrer\">example</a> of generating unique IRIs using <a href=\"https://appdoc.app/artifact/org.apache.jena/jena-core/3.7.0/org/apache/jena/shared/uuid/JenaUUID.html\" rel=\"nofollow noreferrer\">JennaUUID</a>, which should also work for you.</p>\n"}],"owner":{"account_id":918050,"reputation":127,"user_id":950402,"accept_rate":43,"display_name":"giuseta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637176163,"creation_date":1637063110,"question_id":69988544,"body_markdown":"I have created a dataset using the web GUI of Apache Jena Fuseki and now I would like to programmatically upload some triples into the remote dataset using [RDFConnection][1]. \r\n\r\nThe triples that I would like to upload come from different sources and I want to avoid creating RDF nodes that have IRIs already present in the remote dataset. Is there a way to do that without explicitly querying the remote dataset? Returning a list of all the IRIs is a waste of resources.\r\n\r\nFor instance, if I have this dataset (in Turtle syntax) in my remote triple store:\r\n```\r\n&lt;iri_1&gt; a foaf:Person\r\n&lt;iri_2&gt; a foaf:Person\r\n...\r\n&lt;iri_n&gt; a foaf:Person\r\n```\r\nand I would like to add a new individual of `foaf:Person` which is not the same of the existing ones, how do I generate an IRI for the new individual without the risk of using one already existing in the remote dataset?\r\n\r\n  [1]: https://jena.apache.org/documentation/rdfconnection/","title":"Upload triples into Fuseki dataset avoiding IRI clashes","body":"<p>I have created a dataset using the web GUI of Apache Jena Fuseki and now I would like to programmatically upload some triples into the remote dataset using <a href=\"https://jena.apache.org/documentation/rdfconnection/\" rel=\"nofollow noreferrer\">RDFConnection</a>.</p>\n<p>The triples that I would like to upload come from different sources and I want to avoid creating RDF nodes that have IRIs already present in the remote dataset. Is there a way to do that without explicitly querying the remote dataset? Returning a list of all the IRIs is a waste of resources.</p>\n<p>For instance, if I have this dataset (in Turtle syntax) in my remote triple store:</p>\n<pre><code>&lt;iri_1&gt; a foaf:Person\n&lt;iri_2&gt; a foaf:Person\n...\n&lt;iri_n&gt; a foaf:Person\n</code></pre>\n<p>and I would like to add a new individual of <code>foaf:Person</code> which is not the same of the existing ones, how do I generate an IRI for the new individual without the risk of using one already existing in the remote dataset?</p>\n"},{"tags":["java","postgresql","jdbc","database-metadata"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1637173582,"post_id":70008823,"comment_id":123757802,"body_markdown":"Well there is no such thing as a table without a schema in Postgres. The need to fully qualify a table reference in a query depends on the schemas specified in `search_path`","body":"Well there is no such thing as a table without a schema in Postgres. The need to fully qualify a table reference in a query depends on the schemas specified in <code>search_path</code>"}],"answers":[{"tags":[],"owner":{"account_id":17347431,"reputation":89,"user_id":12566715,"display_name":"Janardhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637170893,"creation_date":1637170893,"answer_id":70009134,"question_id":70008823,"body_markdown":"Yes, that is correct as per JDBC specification in Java it says this.\r\n\r\n&gt; schemaPattern - a schema name pattern; must match the schema name as\r\n&gt; it is stored in the database; &quot;&quot; retrieves those without a schema;\r\n&gt; null means that the schema name should not be used to narrow the\r\n&gt; search\r\n\r\nbut PostgreSQL implementation `PgDatabaseMetaData` doesn&#39;t seem to be honoring this.\r\n\r\ngetTables method has below check, where it is checking for NULL as well as Non empty String. ( may be this is how PostgreSQL implemented it)\r\n  \r\n\r\n      if (schemaPattern != null &amp;&amp; !schemaPattern.isEmpty()) {\r\n          select += &quot; AND n.nspname LIKE &quot; + escapeQuotes(schemaPattern);\r\n        }\r\n\r\n[PgDatabaseMetaData implementation code from Github][1] \r\n\r\n\r\n  [1]: https://github.com/pgjdbc/pgjdbc/blob/2a8ecbe2321ed92bc7051d3415a0484a5464346b/pgjdbc/src/main/java/org/postgresql/jdbc/PgDatabaseMetaData.java","title":"list database tables that don&#39;t need to be qualified with schema name","body":"<p>Yes, that is correct as per JDBC specification in Java it says this.</p>\n<blockquote>\n<p>schemaPattern - a schema name pattern; must match the schema name as\nit is stored in the database; &quot;&quot; retrieves those without a schema;\nnull means that the schema name should not be used to narrow the\nsearch</p>\n</blockquote>\n<p>but PostgreSQL implementation <code>PgDatabaseMetaData</code> doesn't seem to be honoring this.</p>\n<p>getTables method has below check, where it is checking for NULL as well as Non empty String. ( may be this is how PostgreSQL implemented it)</p>\n<pre><code>  if (schemaPattern != null &amp;&amp; !schemaPattern.isEmpty()) {\n      select += &quot; AND n.nspname LIKE &quot; + escapeQuotes(schemaPattern);\n    }\n</code></pre>\n<p><a href=\"https://github.com/pgjdbc/pgjdbc/blob/2a8ecbe2321ed92bc7051d3415a0484a5464346b/pgjdbc/src/main/java/org/postgresql/jdbc/PgDatabaseMetaData.java\" rel=\"nofollow noreferrer\">PgDatabaseMetaData implementation code from Github</a></p>\n"}],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637175552,"creation_date":1637169501,"question_id":70008823,"body_markdown":"I connect to a PostgreSQL server with: `jdbc:postgresql://127.0.0.1/mydb?currentSchema=app96`. \r\nI need to list tables that are present and create those that are missing during the initialization of my server.\r\n\r\nHere&#39;s my code:\r\n\r\n    final ResultSet rs2 =\r\n        conn.getMetaData().getTables(null, &quot;&quot;, null, new String[] { &quot;TABLE&quot; });\r\n    while (rs2.next()) {\r\n        System.out\r\n            .println(rs2.getString(&quot;TABLE_SCHEM&quot;) + &quot;.&quot; + rs2.getString(&quot;TABLE_NAME&quot;));\r\n    }\r\n\r\nIt prints:\r\n\r\n    app96.t1\r\n    app96.t2\r\n    public.administration$account\r\n    public.appmodule$uploadedfile\r\n    public.audittrail$audittrailsuperclass\r\n    ...\r\n\r\nFrom javadoc of `getTables`:\r\n\r\n&gt; schemaPattern ... &quot;&quot; retrieves those without a schema\r\n\r\nBut it seems that `getTables` treats empty string the same way as null. Is there a pure JDBC way to filter by current schema or do I have to implement DB-specific filters myself?","title":"list database tables that don&#39;t need to be qualified with schema name","body":"<p>I connect to a PostgreSQL server with: <code>jdbc:postgresql://127.0.0.1/mydb?currentSchema=app96</code>.\nI need to list tables that are present and create those that are missing during the initialization of my server.</p>\n<p>Here's my code:</p>\n<pre><code>final ResultSet rs2 =\n    conn.getMetaData().getTables(null, &quot;&quot;, null, new String[] { &quot;TABLE&quot; });\nwhile (rs2.next()) {\n    System.out\n        .println(rs2.getString(&quot;TABLE_SCHEM&quot;) + &quot;.&quot; + rs2.getString(&quot;TABLE_NAME&quot;));\n}\n</code></pre>\n<p>It prints:</p>\n<pre><code>app96.t1\napp96.t2\npublic.administration$account\npublic.appmodule$uploadedfile\npublic.audittrail$audittrailsuperclass\n...\n</code></pre>\n<p>From javadoc of <code>getTables</code>:</p>\n<blockquote>\n<p>schemaPattern ... &quot;&quot; retrieves those without a schema</p>\n</blockquote>\n<p>But it seems that <code>getTables</code> treats empty string the same way as null. Is there a pure JDBC way to filter by current schema or do I have to implement DB-specific filters myself?</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka","spring-cloud-stream"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1637170383,"post_id":70008473,"comment_id":123756616,"body_markdown":"It looks like you are trying to access it as a map. Try `payload.type` (if there is a `getType()` method).","body":"It looks like you are trying to access it as a map. Try <code>payload.type</code> (if there is a <code>getType()</code> method)."},{"owner":{"account_id":7037433,"reputation":61,"user_id":5390986,"display_name":"feenix110998"},"score":1,"creation_date":1637172231,"post_id":70008473,"comment_id":123757279,"body_markdown":"Thanks Gary that worked!  If you convert the comment to an answer I can accept it.","body":"Thanks Gary that worked!  If you convert the comment to an answer I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637174603,"creation_date":1637174603,"answer_id":70009912,"question_id":70008473,"body_markdown":"It looks like you are trying to access it as a map. Try `payload.type` (assuming there is a `getType()` method).","title":"Spring Cloud Stream Kafka routing expression","body":"<p>It looks like you are trying to access it as a map. Try <code>payload.type</code> (assuming there is a <code>getType()</code> method).</p>\n"}],"owner":{"account_id":7037433,"reputation":61,"user_id":5390986,"display_name":"feenix110998"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70009912,"answer_count":1,"score":1,"last_activity_date":1637174603,"creation_date":1637167807,"question_id":70008473,"body_markdown":"I have a spring cloud stream application that uses a functional approach. The application uses \r\na routing expression to filter messages to the consumer function which inspects the payload. \r\n```\r\nspring:\r\n  cloud:\r\n    function:\r\n      routing-expression: &quot;payload[&#39;type&#39;] == &#39;Event&#39; ? &#39;handleEvent&#39; : &#39;commitIgnoredEvent&#39;&quot;\r\n      definition: functionRouter;handleDlqMessage\r\n```\r\nThis configuration gives the exception :\r\n\r\n```\r\norg.springframework.messaging.MessageHandlingException: error occurred\r\nin message handler [org.springframework.cloud.stream.\r\nfunction.FunctionConfiguration$FunctionToDestinationBinder$1@3aff91a]; nested exception is \r\norg.springframework.expression.spel.SpelEvaluationException:\r\nEL1027E: Indexing into type &#39;org.apache.avro.generic.GenericData$Record&#39;\r\nis not supported, failedMessage=GenericMessage \r\n```\r\nHowever, this config which uses the header instead will **not**  throw an exception:\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    function:\r\n      routing-expression: &quot;header[&#39;type&#39;] == &#39;Event&#39; ? &#39;handleEvent&#39; : &#39;commitIgnoredEvent&#39;&quot;\r\n      definition: functionRouter;handleDlqMessage\r\n```\r\nThe producing system does not use headers so I cannot use the second option. Does the routing-expression work only with headers? Is there a missing configuration that will enable payload inspection ?\r\n \r\n","title":"Spring Cloud Stream Kafka routing expression","body":"<p>I have a spring cloud stream application that uses a functional approach. The application uses\na routing expression to filter messages to the consumer function which inspects the payload.</p>\n<pre><code>spring:\n  cloud:\n    function:\n      routing-expression: &quot;payload['type'] == 'Event' ? 'handleEvent' : 'commitIgnoredEvent'&quot;\n      definition: functionRouter;handleDlqMessage\n</code></pre>\n<p>This configuration gives the exception :</p>\n<pre><code>org.springframework.messaging.MessageHandlingException: error occurred\nin message handler [org.springframework.cloud.stream.\nfunction.FunctionConfiguration$FunctionToDestinationBinder$1@3aff91a]; nested exception is \norg.springframework.expression.spel.SpelEvaluationException:\nEL1027E: Indexing into type 'org.apache.avro.generic.GenericData$Record'\nis not supported, failedMessage=GenericMessage \n</code></pre>\n<p>However, this config which uses the header instead will <strong>not</strong>  throw an exception:</p>\n<pre><code>spring:\n  cloud:\n    function:\n      routing-expression: &quot;header['type'] == 'Event' ? 'handleEvent' : 'commitIgnoredEvent'&quot;\n      definition: functionRouter;handleDlqMessage\n</code></pre>\n<p>The producing system does not use headers so I cannot use the second option. Does the routing-expression work only with headers? Is there a missing configuration that will enable payload inspection ?</p>\n"},{"tags":["java","loops","rx-java","reactive-programming","feedback"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1637163289,"post_id":56257922,"comment_id":123753175,"body_markdown":"What is the dataflow you try to achieve here? It&#39;s not so clear from the code example to me. Sometimes a flow similar to feedback loops can be achieved via [`expand`](https://github.com/akarnokd/RxJavaExtensions#flowabletransformersexpand) but generally we suggest those points you already listed. Also I don&#39;t see what behavior or pattern you mean by `flatMapScan`.","body":"What is the dataflow you try to achieve here? It&#39;s not so clear from the code example to me. Sometimes a flow similar to feedback loops can be achieved via <a href=\"https://github.com/akarnokd/RxJavaExtensions#flowabletransformersexpand\" rel=\"nofollow noreferrer\"><code>expand</code></a> but generally we suggest those points you already listed. Also I don&#39;t see what behavior or pattern you mean by <code>flatMapScan</code>."},{"owner":{"account_id":97124,"reputation":1170,"user_id":263639,"accept_rate":68,"display_name":"calavera.info"},"score":0,"creation_date":1637172480,"post_id":56257922,"comment_id":123757384,"body_markdown":"Free text description of the code is in the paragraph bellow the code, starting with &quot;Sum upstream message&#39;s payloads...&quot; I&#39;m not sure if you are asking to explain it more than that or if you just overlooked it. I&#39;ve added explanation what I mean by flatMapScan which also may help to understand the code. I&#39;ll look at expand for this particular case, but I would be glad for any insight on the general feedback loop question or any of the particular questions in the last paragraph.","body":"Free text description of the code is in the paragraph bellow the code, starting with &quot;Sum upstream message&#39;s payloads...&quot; I&#39;m not sure if you are asking to explain it more than that or if you just overlooked it. I&#39;ve added explanation what I mean by flatMapScan which also may help to understand the code. I&#39;ll look at expand for this particular case, but I would be glad for any insight on the general feedback loop question or any of the particular questions in the last paragraph."},{"owner":{"account_id":97124,"reputation":1170,"user_id":263639,"accept_rate":68,"display_name":"calavera.info"},"score":0,"creation_date":1637173896,"post_id":56257922,"comment_id":123757923,"body_markdown":"Expand operator is interesting but it&#39;s not applicable for this case, I think. I have added a link to the whole runnable example project, that should clear it up.","body":"Expand operator is interesting but it&#39;s not applicable for this case, I think. I have added a link to the whole runnable example project, that should clear it up."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1637178432,"post_id":56257922,"comment_id":123759534,"body_markdown":"I checked the full example and it doesn&#39;t work because of `refCount(2)` would never get to a second observer. You can make it work by using `ConnectableObservable` and issue `connect` after all the setup and before the sleep. Overall, the setup is risky of losing items due to the `isAddNextSumAgainWithDelay` path triggering another subscription that may not get the right item. Instead, the best way would be to use a `Subject` that you can submit `Observable`s from within `scan`.","body":"I checked the full example and it doesn&#39;t work because of <code>refCount(2)</code> would never get to a second observer. You can make it work by using <code>ConnectableObservable</code> and issue <code>connect</code> after all the setup and before the sleep. Overall, the setup is risky of losing items due to the <code>isAddNextSumAgainWithDelay</code> path triggering another subscription that may not get the right item. Instead, the best way would be to use a <code>Subject</code> that you can submit <code>Observable</code>s from within <code>scan</code>."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1637178911,"post_id":56257922,"comment_id":123759762,"body_markdown":"As for `flatMapScan`, such feedback loops are non-intuitive in general because of when and what is supposed to be expanded and how one would control that. This makes it not suitable to be a standard RxJava operator.","body":"As for <code>flatMapScan</code>, such feedback loops are non-intuitive in general because of when and what is supposed to be expanded and how one would control that. This makes it not suitable to be a standard RxJava operator."},{"owner":{"account_id":97124,"reputation":1170,"user_id":263639,"accept_rate":68,"display_name":"calavera.info"},"score":0,"creation_date":1637188624,"post_id":56257922,"comment_id":123763018,"body_markdown":"Oh, I&#39;ve got unsaved file with some experiments when I commited the example, there should have been just share instead of publish refcount, then it works even without connect, I fixed it. Regarding isAddNextSumAgainWithDelay you are right, I haven&#39;t realized this discrepancy when I simplified my real case to this example, however in my real case your warning actually doesn&#39;t matter, it doesn&#39;t have to be immediate next sum, just some reasonably close. What I get from your answer is that you don&#39;t see any fundamental problem with this approach. Shame it&#39;s just a comment and not answer.","body":"Oh, I&#39;ve got unsaved file with some experiments when I commited the example, there should have been just share instead of publish refcount, then it works even without connect, I fixed it. Regarding isAddNextSumAgainWithDelay you are right, I haven&#39;t realized this discrepancy when I simplified my real case to this example, however in my real case your warning actually doesn&#39;t matter, it doesn&#39;t have to be immediate next sum, just some reasonably close. What I get from your answer is that you don&#39;t see any fundamental problem with this approach. Shame it&#39;s just a comment and not answer."}],"answers":[{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558639483,"creation_date":1558639483,"answer_id":56281767,"question_id":56257922,"body_markdown":"Your code looks cryptic. Even if you manage to make it work, it will remain difficult to maintain. Rx and Nio2 use different models of asynchronous computations, so using Rx with Nio2 only complicates programming.\r\n\r\nI propose either to use pure Nio2, or use my asynchronous library [df4j][1], which has adapters both to Nio2 and rx-java2.\r\n\r\n\r\n  [1]: https://github.com/akaigoro/df4j/tree/API-7","title":"How to create feedback loops in RX without Subjects?","body":"<p>Your code looks cryptic. Even if you manage to make it work, it will remain difficult to maintain. Rx and Nio2 use different models of asynchronous computations, so using Rx with Nio2 only complicates programming.</p>\n\n<p>I propose either to use pure Nio2, or use my asynchronous library <a href=\"https://github.com/akaigoro/df4j/tree/API-7\" rel=\"nofollow noreferrer\">df4j</a>, which has adapters both to Nio2 and rx-java2.</p>\n"}],"owner":{"account_id":97124,"reputation":1170,"user_id":263639,"accept_rate":68,"display_name":"calavera.info"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637173725,"creation_date":1558531432,"question_id":56257922,"body_markdown":"**Update**: I&#39;ve completely reformulated the question and the code in response to Alexei Kaigorodov&#39;s answer and it&#39;s not corresponding until he updates it.\r\n\r\nThere are some existing questions here on SO and articles on internet generally regarding how to create some kind of feedback loop in RX flow. Most of them are answered by shifting the point of view on the underlying problem resulting in different design of the flow which could be handled by existing operators. For example:\r\n\r\n- True feedback loop can be achieved by using `Subject`s, but it&#39;s discouraged because it sacrifices functional purity and it&#39;s advantages.\r\n- Feedback loop is often just a disguise for a state, which can be maintained by `scan` operator.\r\n- Feedback loop may be just a disguise for nesting stream contexts, which can be achieved by nesting `flatMap`s\r\n\r\nFrom time to time I however encounter a problem which I think is a fundamental feedback loop which should be modeled as such so I have been thinking about it a lot and I have got curious about the general question: is true feedback loop at least theoreticaly compatible with RX model given it&#39;s functional purity and one-way nature? Or do I need to move to general data flow library in that case, as Alexei suggest?\r\n\r\nI have tried many interesting hacks how to smuggle feedback into RX flow. The best I can do, apart from using `Subject`s, is to use `defer` operator like this:\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t// simulate hot observable emitting external events\r\n\t\tfinal Observable&lt;Message&gt; sourceStream = Observable\r\n\t\t\t\t.interval(200, MILLISECONDS)\r\n\t\t\t\t.map(signal -&gt; new SourceMessage(signal));\r\n\t\t\r\n\t\t// feedback needs to be referencable through final variable in the\r\n\t\t// next step, but we also can&#39;t define it yet, so prepare a mutable\r\n\t\t// container for it\r\n\t\tfinal MutableObservableHolder feedback = new MutableObservableHolder();\r\n\t\t\r\n\t\t// accumulate source and feedback messages in the state\r\n\t\tfinal Observable&lt;State&gt; stateStream = sourceStream\r\n\t\t\t\t.mergeWith(Observable.defer(() -&gt; feedback.get()))\r\n\t\t\t\t.scan(new State(), (state, message) -&gt; state.update(message))\r\n\t\t\t\t.share(); // prevents infinite subscription loops\r\n\t\t\r\n\t\tfeedback.set(stateStream\r\n\t\t\t\t.flatMap(state -&gt; {\r\n\t\t\t\t\tif (state.isAddNextSumAgainWithDelay()) {\r\n\t\t\t\t\t\treturn stateStream\r\n\t\t\t\t\t\t\t\t.take(1)\r\n\t\t\t\t\t\t\t\t.map(nextState -&gt; new FeedbackMessage(nextState.getPayload()))\r\n\t\t\t\t\t\t\t\t.delay(100, MILLISECONDS);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.empty();\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\r\n\t\tDisposable subscription = stateStream\r\n\t\t\t.take(10)\r\n\t\t\t.subscribe(System.out::println);\r\n\t\t\r\n\t\twhile (!subscription.isDisposed()) {\r\n\t\t\tThread.sleep(1000);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n(Whole runnable project is published at https://github.com/calaveraInfo/literate-octo-happiness)\r\n\r\nWhat is interesting is that it&#39;s pretty difficult to distill the essence that prevents solving some problem by usual RX operators. The above example comes pretty close to being the most orthogonal I can come up with: Sum upstream message&#39;s payloads and produce stream of intermediate sums and in some cases add the sum itself to the sum, but do it as a separate step (I add delay do highlight it). Even this could however be implemented with some kind of scanFlatMap or flatMapScan operator if it could be added to RX.\r\n\r\nIs my implementation of feedback loop safe or is it a dangerous hack with landmines that can blow up my face under some circumstances? Why is there no flatMapScan operator, if it seems so fundamental, and is it a good idea to request it? Are there some inherent limits of what RX can model or is every problem always just question of right operators?\r\n\r\nUpdate: By flatMapScan I mean a possibility to do flatMap and scan as a single step. The motivation is that when they are two different operators, their combined functionality is reduced a bit in both cases: 1. .flatMap().scan() can expand each upstream message into stream which is then scannned, but the flatMap can&#39;t use the scan state to decide how to expand the message and 2. in .scan().flatMap() the expansion can be based on the scan state, but the expanded stream won&#39;t be scanned.\r\n\r\nI&#39;m however not sure how the API for that might look since it would need to juggle several things at once.","title":"How to create feedback loops in RX without Subjects?","body":"<p><strong>Update</strong>: I've completely reformulated the question and the code in response to Alexei Kaigorodov's answer and it's not corresponding until he updates it.</p>\n<p>There are some existing questions here on SO and articles on internet generally regarding how to create some kind of feedback loop in RX flow. Most of them are answered by shifting the point of view on the underlying problem resulting in different design of the flow which could be handled by existing operators. For example:</p>\n<ul>\n<li>True feedback loop can be achieved by using <code>Subject</code>s, but it's discouraged because it sacrifices functional purity and it's advantages.</li>\n<li>Feedback loop is often just a disguise for a state, which can be maintained by <code>scan</code> operator.</li>\n<li>Feedback loop may be just a disguise for nesting stream contexts, which can be achieved by nesting <code>flatMap</code>s</li>\n</ul>\n<p>From time to time I however encounter a problem which I think is a fundamental feedback loop which should be modeled as such so I have been thinking about it a lot and I have got curious about the general question: is true feedback loop at least theoreticaly compatible with RX model given it's functional purity and one-way nature? Or do I need to move to general data flow library in that case, as Alexei suggest?</p>\n<p>I have tried many interesting hacks how to smuggle feedback into RX flow. The best I can do, apart from using <code>Subject</code>s, is to use <code>defer</code> operator like this:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws InterruptedException {\n        // simulate hot observable emitting external events\n        final Observable&lt;Message&gt; sourceStream = Observable\n                .interval(200, MILLISECONDS)\n                .map(signal -&gt; new SourceMessage(signal));\n        \n        // feedback needs to be referencable through final variable in the\n        // next step, but we also can't define it yet, so prepare a mutable\n        // container for it\n        final MutableObservableHolder feedback = new MutableObservableHolder();\n        \n        // accumulate source and feedback messages in the state\n        final Observable&lt;State&gt; stateStream = sourceStream\n                .mergeWith(Observable.defer(() -&gt; feedback.get()))\n                .scan(new State(), (state, message) -&gt; state.update(message))\n                .share(); // prevents infinite subscription loops\n        \n        feedback.set(stateStream\n                .flatMap(state -&gt; {\n                    if (state.isAddNextSumAgainWithDelay()) {\n                        return stateStream\n                                .take(1)\n                                .map(nextState -&gt; new FeedbackMessage(nextState.getPayload()))\n                                .delay(100, MILLISECONDS);\n                    } else {\n                        return Observable.empty();\n                    }\n                }));\n        \n        Disposable subscription = stateStream\n            .take(10)\n            .subscribe(System.out::println);\n        \n        while (!subscription.isDisposed()) {\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n<p>(Whole runnable project is published at <a href=\"https://github.com/calaveraInfo/literate-octo-happiness\" rel=\"nofollow noreferrer\">https://github.com/calaveraInfo/literate-octo-happiness</a>)</p>\n<p>What is interesting is that it's pretty difficult to distill the essence that prevents solving some problem by usual RX operators. The above example comes pretty close to being the most orthogonal I can come up with: Sum upstream message's payloads and produce stream of intermediate sums and in some cases add the sum itself to the sum, but do it as a separate step (I add delay do highlight it). Even this could however be implemented with some kind of scanFlatMap or flatMapScan operator if it could be added to RX.</p>\n<p>Is my implementation of feedback loop safe or is it a dangerous hack with landmines that can blow up my face under some circumstances? Why is there no flatMapScan operator, if it seems so fundamental, and is it a good idea to request it? Are there some inherent limits of what RX can model or is every problem always just question of right operators?</p>\n<p>Update: By flatMapScan I mean a possibility to do flatMap and scan as a single step. The motivation is that when they are two different operators, their combined functionality is reduced a bit in both cases: 1. .flatMap().scan() can expand each upstream message into stream which is then scannned, but the flatMap can't use the scan state to decide how to expand the message and 2. in .scan().flatMap() the expansion can be based on the scan state, but the expanded stream won't be scanned.</p>\n<p>I'm however not sure how the API for that might look since it would need to juggle several things at once.</p>\n"},{"tags":["java","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637173709,"creation_date":1637084097,"answer_id":69993670,"question_id":69974976,"body_markdown":"For any operation involving line endings, use `System.lineSeparator()`. \r\n\r\nIn the call `sbText.append(ns, i, i+1)` the start/end index applies to the parameter `ns` - so the call will always fail when `i &gt; 0`. Also you scan past the end of `sbText` when checking `charAt(i+1)`.\r\n\r\nIts not clear why you need to double up instances of `\\n`, but you can change the logic to scan from the end backwards to ensure that you don&#39;t process same `\\n` twice:\r\n\r\n\tfor(int max = sbText.length() - 1, i = max; i &gt;= 0; i--) {\r\n\t\tif(sbText.charAt(i) == &#39;\\n&#39; &amp;&amp; (i == max || sbText.charAt(i+1) != &#39;\\n&#39;)) {\r\n\t\t\tsbText.insert(i, ns);\r\n\t\t}\r\n\t}\r\n\r\nNote that the above is not very efficient as each call to `insert` shifts all the remaining characters of StringBuilder. \r\n\r\nIf the size of your text is small you can just call:\r\n\r\n    String doubledNL = sbText.toString()\r\n       .replace(System.lineSeparator(), System.lineSeparator()+System.lineSeparator());","title":"How to add new line in between in StringBuilder String while traversing throught the loop?","body":"<p>For any operation involving line endings, use <code>System.lineSeparator()</code>.</p>\n<p>In the call <code>sbText.append(ns, i, i+1)</code> the start/end index applies to the parameter <code>ns</code> - so the call will always fail when <code>i &gt; 0</code>. Also you scan past the end of <code>sbText</code> when checking <code>charAt(i+1)</code>.</p>\n<p>Its not clear why you need to double up instances of <code>\\n</code>, but you can change the logic to scan from the end backwards to ensure that you don't process same <code>\\n</code> twice:</p>\n<pre><code>for(int max = sbText.length() - 1, i = max; i &gt;= 0; i--) {\n    if(sbText.charAt(i) == '\\n' &amp;&amp; (i == max || sbText.charAt(i+1) != '\\n')) {\n        sbText.insert(i, ns);\n    }\n}\n</code></pre>\n<p>Note that the above is not very efficient as each call to <code>insert</code> shifts all the remaining characters of StringBuilder.</p>\n<p>If the size of your text is small you can just call:</p>\n<pre><code>String doubledNL = sbText.toString()\n   .replace(System.lineSeparator(), System.lineSeparator()+System.lineSeparator());\n</code></pre>\n"}],"owner":{"account_id":19319731,"reputation":13,"user_id":14123660,"display_name":"Akhilesh Raturi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637173709,"creation_date":1636982087,"question_id":69974976,"body_markdown":"    StringBuilder sbText = new StringBuilder();\r\n    //After some lines \r\n    \r\n    sbText.append(FileUtils.readFileToString(f, encoding: &quot;utf-8&quot;));\r\n    sbText.append(&quot;\\n\\n=======================\\n\\n&quot;);\r\n\r\n\r\nThe piece of content when shown contains the text....\r\n\r\n    Dear Name          //there is 1 \\n\r\n    Bahuguna Marg,    //there is also 1 \\n\r\n    Bhagwanpur,       //there is also \\n\\n\r\n       \r\n                                          Details : Claim     //there is also \\n\\n\r\n    \r\n    Dear Rob,         //there is also \\n\\n\r\n    \r\n    Thank you for the claim rob.       //here is 1 \\n ( I want 2 \\n here )\r\n    \r\n    We have the block here.....................\r\n    ........................      //there is also 1 \\n ( I want 2 \\n here )\r\n\r\n\r\n\r\nHow to solve this .... the String is of StringBuilder....\r\n\r\nWhat I tried is I will iterate a loop in the string and If the charAt(i) contains \\n and charAt(i+1) does not then i will append the \\n there.....\r\n\r\nBut it is giving me the exception &quot;StringIndexOutOfBoundException&quot;.\r\n\r\nMy piece of code is - &gt; \r\n\r\n    String ns = &quot;\\n&quot;;\r\n    for(int i = 0; i &lt; sbText.length() ; i++)\r\n    {\r\n          if(sbText.charAt(i) == &quot;\\n&quot; &amp;&amp; sbText.charAt(i+1) != &quot;\\n&quot;)\r\n            {\r\n                 sbText.append(ns,i,i+1);\r\n            }\r\n    }\r\n\r\n","title":"How to add new line in between in StringBuilder String while traversing throught the loop?","body":"<pre><code>StringBuilder sbText = new StringBuilder();\n//After some lines \n\nsbText.append(FileUtils.readFileToString(f, encoding: &quot;utf-8&quot;));\nsbText.append(&quot;\\n\\n=======================\\n\\n&quot;);\n</code></pre>\n<p>The piece of content when shown contains the text....</p>\n<pre><code>Dear Name          //there is 1 \\n\nBahuguna Marg,    //there is also 1 \\n\nBhagwanpur,       //there is also \\n\\n\n   \n                                      Details : Claim     //there is also \\n\\n\n\nDear Rob,         //there is also \\n\\n\n\nThank you for the claim rob.       //here is 1 \\n ( I want 2 \\n here )\n\nWe have the block here.....................\n........................      //there is also 1 \\n ( I want 2 \\n here )\n</code></pre>\n<p>How to solve this .... the String is of StringBuilder....</p>\n<p>What I tried is I will iterate a loop in the string and If the charAt(i) contains \\n and charAt(i+1) does not then i will append the \\n there.....</p>\n<p>But it is giving me the exception &quot;StringIndexOutOfBoundException&quot;.</p>\n<p>My piece of code is - &gt;</p>\n<pre><code>String ns = &quot;\\n&quot;;\nfor(int i = 0; i &lt; sbText.length() ; i++)\n{\n      if(sbText.charAt(i) == &quot;\\n&quot; &amp;&amp; sbText.charAt(i+1) != &quot;\\n&quot;)\n        {\n             sbText.append(ns,i,i+1);\n        }\n}\n</code></pre>\n"},{"tags":["java","jdbc","sonarqube","prepared-statement"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637173133,"post_id":70008074,"comment_id":123757647,"body_markdown":"The general rule is: only close what you opened. An example to deviate from that rule is  when an API explicitly specifies that you as the recipient of a resource are responsible for closing said resource.","body":"The general rule is: only close what you opened. An example to deviate from that rule is  when an API explicitly specifies that you as the recipient of a resource are responsible for closing said resource."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1637173913,"post_id":70008074,"comment_id":123757934,"body_markdown":"Passing a PreparedStatement around like this is not normal. It is hard to see a good reason for it.","body":"Passing a PreparedStatement around like this is not normal. It is hard to see a good reason for it."}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637166580,"creation_date":1637166580,"answer_id":70008152,"question_id":70008074,"body_markdown":"The way I see it is as follows:\r\n\r\nIn your code `somemethod` is not the owner of those prepared statements that were passed to it. It didn&#39;t create them, thefore it should not be responsible for its lifecycle (like closing them).\r\n\r\nThe same code that created them should also be responsible for closing them. `somemethod` was just &quot;leased&quot; those prepared statement, it should treat them with respect.","title":"Should I close the prepared statement passed as parameter?","body":"<p>The way I see it is as follows:</p>\n<p>In your code <code>somemethod</code> is not the owner of those prepared statements that were passed to it. It didn't create them, thefore it should not be responsible for its lifecycle (like closing them).</p>\n<p>The same code that created them should also be responsible for closing them. <code>somemethod</code> was just &quot;leased&quot; those prepared statement, it should treat them with respect.</p>\n"}],"owner":{"account_id":1571583,"reputation":2828,"user_id":1459174,"accept_rate":88,"display_name":"prem30488"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70008152,"answer_count":1,"score":0,"last_activity_date":1637172991,"creation_date":1637166266,"question_id":70008074,"body_markdown":"I am aware that we should not reuse prepared statement or use try-with-resource in java. But what should I do with prepared statement passed as parameter? Should I close it too?\r\n\r\nFor example:\r\n\r\n    private void somemethod(PreparedStatement pStmt1, PreparedStatement pStmt2 ) \r\n\t{\r\n\t\tint nCount = 0;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tpStmt1.setString (1,&quot;something&quot;);\r\n\t\t\tpStmt1.setInt(2, 1);\r\n\t\t\tnCount = pStmt1.executeUpdate();\r\n\t\t\tpStmt1.clearParameters();\r\n\t\t\t\r\n\t\t\tif (nCount == 0)\r\n\t\t\t{\r\n\t\t\t\tpStmt2.setInt(1, 1);\r\n\t\t\t\tpStmt2.setString(2, &quot;something&quot;);\r\n\t\t\t\t\r\n\t\t\t\tpStmt2.executeUpdate();\r\n\t\t\t\tpStmt2.clearParameters();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (Exception ex)\r\n\t\t{\r\n\t\t\tLOGGER.log(e);\r\n\t\t}\t\r\n\t\tfinally {\r\n\t\t//here should I close these parameters of prepared statements? \r\n        //Even though I do not close them the sonar is not giving blocker to close them. \r\n        //So I am curious to know the reality. Please help. Thank you\r\n             pStmt1.close();\t\t\t\t\r\n             pStmt2.close();\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t }","title":"Should I close the prepared statement passed as parameter?","body":"<p>I am aware that we should not reuse prepared statement or use try-with-resource in java. But what should I do with prepared statement passed as parameter? Should I close it too?</p>\n<p>For example:</p>\n<pre><code>private void somemethod(PreparedStatement pStmt1, PreparedStatement pStmt2 ) \n{\n    int nCount = 0;\n    try\n    {\n        pStmt1.setString (1,&quot;something&quot;);\n        pStmt1.setInt(2, 1);\n        nCount = pStmt1.executeUpdate();\n        pStmt1.clearParameters();\n        \n        if (nCount == 0)\n        {\n            pStmt2.setInt(1, 1);\n            pStmt2.setString(2, &quot;something&quot;);\n            \n            pStmt2.executeUpdate();\n            pStmt2.clearParameters();\n        }\n        \n    }\n    catch (Exception ex)\n    {\n        LOGGER.log(e);\n    }   \n    finally {\n    //here should I close these parameters of prepared statements? \n    //Even though I do not close them the sonar is not giving blocker to close them. \n    //So I am curious to know the reality. Please help. Thank you\n         pStmt1.close();                \n         pStmt2.close();                \n    }\n    \n }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1385537237,"creation_date":1385537237,"answer_id":20236278,"question_id":20236242,"body_markdown":"    Subclass instance = new MainClass().new SubClass();\r\n\r\nor in your case\r\n\r\n    Subclass instance = obj.new SubClass();\r\n\r\nYou need the instance of the parent class to create instance of inner non-static class.","title":"How to create an object of subclass in java?","body":"<pre><code>Subclass instance = new MainClass().new SubClass();\n</code></pre>\n\n<p>or in your case</p>\n\n<pre><code>Subclass instance = obj.new SubClass();\n</code></pre>\n\n<p>You need the instance of the parent class to create instance of inner non-static class.</p>\n"},{"tags":[],"owner":{"account_id":1202808,"reputation":15318,"user_id":1173114,"display_name":"Sage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385537752,"creation_date":1385537376,"answer_id":20236320,"question_id":20236242,"body_markdown":"    SubClass obj1 = new obj.SubClass(); //Getting ERROR here, tried so many like\r\n\r\n\r\nYou can&#39;t put a `new` before the `obj`:instance of `MyClass`. It actually doesn&#39;t make sense. This is because the object of the inner class is quietly connected to the object of the outer class that it was made from. A declaring `obj.new InnerClass()` has the same equivalent meaning of `obj.innerInstance`: referencing the new inner instance by the instance of  outer class.\r\n\r\nThat is why, this line should be: ` SubClass obj1 = obj.new SubClass();`\r\n","title":"How to create an object of subclass in java?","body":"<pre><code>SubClass obj1 = new obj.SubClass(); //Getting ERROR here, tried so many like\n</code></pre>\n\n<p>You can't put a <code>new</code> before the <code>obj</code>:instance of <code>MyClass</code>. It actually doesn't make sense. This is because the object of the inner class is quietly connected to the object of the outer class that it was made from. A declaring <code>obj.new InnerClass()</code> has the same equivalent meaning of <code>obj.innerInstance</code>: referencing the new inner instance by the instance of  outer class.</p>\n\n<p>That is why, this line should be: <code>SubClass obj1 = obj.new SubClass();</code></p>\n"},{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385537397,"creation_date":1385537397,"answer_id":20236326,"question_id":20236242,"body_markdown":"As `SubClass` is not static so you need to create new instance.\r\n\r\n    MainClass obj = new MainClass();\r\n    SubClass obj1 = obj.new SubClass();","title":"How to create an object of subclass in java?","body":"<p>As <code>SubClass</code> is not static so you need to create new instance.</p>\n\n<pre><code>MainClass obj = new MainClass();\nSubClass obj1 = obj.new SubClass();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18713892,"reputation":1,"user_id":13643386,"display_name":"Abd ElHameed Ramadan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637172669,"creation_date":1637172669,"answer_id":70009522,"question_id":20236242,"body_markdown":"why you made main class static and in my code i must make Widow class static to make code run\r\n&quot;\r\n\r\n    public class WoodenProducts {\r\n    /*\r\n    String treeType;\r\n     int treeAge;\r\n\r\n     */\r\n    double meterPrice;\r\n\r\n     public WoodenProducts(){\r\n         meterPrice = 100;\r\n\r\n    }\r\n\r\n\r\n     class Widow extends WoodenProducts{\r\n\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Widow W = new WoodenProducts.Widow();\r\n\r\n        System.out.println(&quot; meter price is &quot; + W.meterPrice);\r\n\r\n\r\n    }\r\n}\r\n&quot;","title":"How to create an object of subclass in java?","body":"<p>why you made main class static and in my code i must make Widow class static to make code run\n&quot;</p>\n<pre><code>public class WoodenProducts {\n/*\nString treeType;\n int treeAge;\n\n */\ndouble meterPrice;\n\n public WoodenProducts(){\n     meterPrice = 100;\n\n}\n\n\n class Widow extends WoodenProducts{\n\n}\n\n\npublic static void main(String[] args) {\n\n    Widow W = new WoodenProducts.Widow();\n\n    System.out.println(&quot; meter price is &quot; + W.meterPrice);\n\n\n}\n</code></pre>\n<p>}\n&quot;</p>\n"}],"owner":{"account_id":300475,"reputation":4231,"user_id":607625,"accept_rate":58,"display_name":"Suman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16206,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20236278,"answer_count":4,"score":4,"last_activity_date":1637172669,"creation_date":1385537127,"question_id":20236242,"body_markdown":"I am trying to create an object of subclass which is not static in the main, but not able to do. Does anyone tried the same?\r\n\r\n\tpackage com.example;\r\n\r\n\timport com.example.SubClassExample.MainClass.SubClass;\r\n\r\n\tpublic class SubClassExample {\r\n\t\t\r\n\t\tstatic class MainClass {\r\n\t\t\tpublic int mca;\r\n\t\t\tprotected int mcb;\r\n\t\t\tprivate int mcc;\r\n\t\t\t\r\n\t\t\tSubClass sc = new SubClass();\r\n\t\t\t\r\n\t\t\tpublic class SubClass {\r\n\t\t\t\tpublic int sca;\r\n\t\t\t\tprotected int scb;\r\n\t\t\t\tprivate int scc;\r\n\t\t\t\t\r\n\t\t\t\tvoid method() {\r\n\t\t\t\t\tmca = 10;\r\n\t\t\t\t\tmcb = 20;\r\n\t\t\t\t\tmcc = 30;\r\n\t\t\t\t\t\r\n\t\t\t\t\tsca = 10;\r\n\t\t\t\t\tscb = 20;\r\n\t\t\t\t\tscc = 30;\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Subclass: &quot; + mca + &quot; &quot; + mcb + &quot; &quot; + mcc + &quot; &quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;Subclass: &quot; + sca + &quot; &quot; + scb + &quot; &quot; + scc + &quot; &quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvoid method() {\r\n\t\t\t\tmca = 100;\r\n\t\t\t\tmcb = 200;\r\n\t\t\t\tmcc = 300;\r\n\t\t\t\t\r\n\t\t\t\tsc.sca = 100;\r\n\t\t\t\tsc.scb = 200;\r\n\t\t\t\tsc.scc = 300;\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;MainClass: &quot; + mca + &quot; &quot; + mcb + &quot; &quot; + mcc + &quot; &quot;);\r\n\t\t\t\tSystem.out.println(&quot;MainClass: &quot; + sc.sca + &quot; &quot; + sc.scb + &quot; &quot; + sc.scc + &quot; &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t\tMainClass obj = new MainClass();\r\n\t\t\tobj.method();\r\n\t\t\tobj.sc.method();\r\n\t\t\t\r\n\t\t\tSubClass obj1 = new obj.SubClass(); //Getting ERROR here, tried so many like\r\n                        //MainClass.clas.SubClass, obj.class.SubClass, Subclass() but still not able \r\n                        //to do. As it is a public subclass, cant we able to create an object of \r\n                        //that class\r\n\t\t\tobj1.method();\r\n\t\t}\r\n\r\n\t}\r\n","title":"How to create an object of subclass in java?","body":"<p>I am trying to create an object of subclass which is not static in the main, but not able to do. Does anyone tried the same?</p>\n\n<pre><code>package com.example;\n\nimport com.example.SubClassExample.MainClass.SubClass;\n\npublic class SubClassExample {\n\n    static class MainClass {\n        public int mca;\n        protected int mcb;\n        private int mcc;\n\n        SubClass sc = new SubClass();\n\n        public class SubClass {\n            public int sca;\n            protected int scb;\n            private int scc;\n\n            void method() {\n                mca = 10;\n                mcb = 20;\n                mcc = 30;\n\n                sca = 10;\n                scb = 20;\n                scc = 30;\n\n                System.out.println(\"Subclass: \" + mca + \" \" + mcb + \" \" + mcc + \" \");\n                System.out.println(\"Subclass: \" + sca + \" \" + scb + \" \" + scc + \" \");\n            }\n\n        }\n\n        void method() {\n            mca = 100;\n            mcb = 200;\n            mcc = 300;\n\n            sc.sca = 100;\n            sc.scb = 200;\n            sc.scc = 300;\n\n            System.out.println(\"MainClass: \" + mca + \" \" + mcb + \" \" + mcc + \" \");\n            System.out.println(\"MainClass: \" + sc.sca + \" \" + sc.scb + \" \" + sc.scc + \" \");\n        }\n    }\n\n    public static void main(String[] args) {\n\n        MainClass obj = new MainClass();\n        obj.method();\n        obj.sc.method();\n\n        SubClass obj1 = new obj.SubClass(); //Getting ERROR here, tried so many like\n                    //MainClass.clas.SubClass, obj.class.SubClass, Subclass() but still not able \n                    //to do. As it is a public subclass, cant we able to create an object of \n                    //that class\n        obj1.method();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1637034253,"post_id":69983468,"comment_id":123711016,"body_markdown":"Um, `Quit`, `quite` and `q` are not `Done`, `done` or `d`","body":"Um, <code>Quit</code>, <code>quite</code> and <code>q</code> are not <code>Done</code>, <code>done</code> or <code>d</code>"},{"owner":{"account_id":7111333,"reputation":211,"user_id":5439097,"display_name":"Tom Yan"},"score":1,"creation_date":1637034525,"post_id":69983468,"comment_id":123711057,"body_markdown":"Besides, you are using `nextLine()`, and you check each line against the words with `equals()`. What do you expect?","body":"Besides, you are using <code>nextLine()</code>, and you check each line against the words with <code>equals()</code>. What do you expect?"},{"owner":{"account_id":8323453,"reputation":69,"user_id":6254231,"display_name":"DerekS"},"score":0,"creation_date":1637035572,"post_id":69983468,"comment_id":123711221,"body_markdown":"I am working on the problem at the moment, but I want to make sure to use things that are allowed, so do you know arrays yet? Also, I would recommend using:\nstr.toLowerCase().contains(&quot;done&quot;) that way you don&#39;t have to check for Done, because it is lowercase. You can also use a do-while loop, but I will show that in my response","body":"I am working on the problem at the moment, but I want to make sure to use things that are allowed, so do you know arrays yet? Also, I would recommend using: str.toLowerCase().contains(&quot;done&quot;) that way you don&#39;t have to check for Done, because it is lowercase. You can also use a do-while loop, but I will show that in my response"}],"answers":[{"tags":[],"owner":{"account_id":8323453,"reputation":69,"user_id":6254231,"display_name":"DerekS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637036350,"creation_date":1637036350,"answer_id":69983714,"question_id":69983468,"body_markdown":"        /*\r\n            I don&#39;t know what you know, so I am not sure how your professor\r\n            wants you to complete this, but I will do what comes to mind for myself.\r\n        */\r\n\r\n        //Instead of while(true) I like to use do while, which runs once automatically, and continues running until a condition is met\r\n        do {\r\n            str = scnr.nextLine();\r\n            int i = 0;\r\n\r\n            //This isn&#39;t the cleanest way to solve this, especially because it doesn&#39;t remove the space before done.\r\n            //You could add more if statements for that, but the cleanest way would be to split the words into a String array\r\n            // and check if any of the values of the array equal done, and remove it before flipping it around\r\n            if(str.toLowerCase().contains(&quot;done&quot;))\r\n                i = 4;\r\n            else if(str.toLowerCase().contains(&quot;d&quot;))\r\n                i = 1;\r\n\r\n            while (i &lt; str.length()) {\r\n                System.out.print(str.charAt(str.length() - i - 1));\r\n                i++;\r\n            }\r\n            System.out.println();\r\n        }\r\n        while (!str.toLowerCase().contains(&quot;done&quot;) || !str.toLowerCase().contains(&quot;d&quot;)); //This replaces that if statement from before","title":"Java Project Output","body":"<pre><code>    /*\n        I don't know what you know, so I am not sure how your professor\n        wants you to complete this, but I will do what comes to mind for myself.\n    */\n\n    //Instead of while(true) I like to use do while, which runs once automatically, and continues running until a condition is met\n    do {\n        str = scnr.nextLine();\n        int i = 0;\n\n        //This isn't the cleanest way to solve this, especially because it doesn't remove the space before done.\n        //You could add more if statements for that, but the cleanest way would be to split the words into a String array\n        // and check if any of the values of the array equal done, and remove it before flipping it around\n        if(str.toLowerCase().contains(&quot;done&quot;))\n            i = 4;\n        else if(str.toLowerCase().contains(&quot;d&quot;))\n            i = 1;\n\n        while (i &lt; str.length()) {\n            System.out.print(str.charAt(str.length() - i - 1));\n            i++;\n        }\n        System.out.println();\n    }\n    while (!str.toLowerCase().contains(&quot;done&quot;) || !str.toLowerCase().contains(&quot;d&quot;)); //This replaces that if statement from before\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20744319,"reputation":115,"user_id":15233212,"display_name":"Reed Thorngag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637044212,"creation_date":1637044212,"answer_id":69984650,"question_id":69983468,"body_markdown":"you are using `.equals()` to check if the line is equal to one of your break words, but you are giving it the input `Hello there Hey done`, so it will not detect the the break word (ignoring the fact that you gave it done, not quit, I&#39;m assuming that was a typo), so to detect that, you would either have to check if the line contains that word and if so, toggle a boolean and remove the word and any text after it from the line, e.g: \r\n```\r\npublic static void main(String[] args) {\r\n    Scanner scnr = new Scanner(System.in);\r\n    String str;\r\n    boolean end = false;\r\n    while (!end) {\r\n        str = scnr.nextLine();\r\n        if (str.contains(&quot;quit&quot;) || str.contains(&quot;Quit&quot;) || str.contains(&quot;q&quot;)) { // checks if str contains the word, so if you write &quot;hello quit&quot; it will still detect it.\r\n            str = str.substring(0,str.toLowerCase().indexOf(&quot;q&quot;)); // cuts off the string from the q.\r\n            end = true;\r\n        }\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            System.out.print(str.charAt(str.length() - i - 1));\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\notherwise, you would just need to add the `quit` to the line after, and then it would work, so you would put in `Hello there Hey` then press enter, and then `quit`, and that will work.","title":"Java Project Output","body":"<p>you are using <code>.equals()</code> to check if the line is equal to one of your break words, but you are giving it the input <code>Hello there Hey done</code>, so it will not detect the the break word (ignoring the fact that you gave it done, not quit, I'm assuming that was a typo), so to detect that, you would either have to check if the line contains that word and if so, toggle a boolean and remove the word and any text after it from the line, e.g:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n    String str;\n    boolean end = false;\n    while (!end) {\n        str = scnr.nextLine();\n        if (str.contains(&quot;quit&quot;) || str.contains(&quot;Quit&quot;) || str.contains(&quot;q&quot;)) { // checks if str contains the word, so if you write &quot;hello quit&quot; it will still detect it.\n            str = str.substring(0,str.toLowerCase().indexOf(&quot;q&quot;)); // cuts off the string from the q.\n            end = true;\n        }\n        for (int i = 0; i &lt; str.length(); i++) {\n            System.out.print(str.charAt(str.length() - i - 1));\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>otherwise, you would just need to add the <code>quit</code> to the line after, and then it would work, so you would put in <code>Hello there Hey</code> then press enter, and then <code>quit</code>, and that will work.</p>\n"}],"owner":{"account_id":23134782,"reputation":31,"user_id":17239154,"display_name":"Austin Belford"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637171953,"creation_date":1637033592,"question_id":69983468,"body_markdown":"Hi I&#39;m finishing an assignment, however I&#39;m getting the wrong output.\r\n\r\nThe goal of the project is to reverse a string.\r\n\r\nSo it&#39;s supposed to  take in a line of text as input, and outputs that line of text in reverse. The program repeats, ending when the user enters &quot;Done&quot;, &quot;done&quot;, or &quot;d&quot; for the line of text.\r\n\r\nEx: If the input is:\r\n```\r\nHello there\r\nHey\r\ndone\r\n```\r\n\r\nthe output is:\r\n```\r\nereht olleH\r\nyeH\r\n```\r\n\r\nMy code:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        String str;\r\n        while (true) {\r\n            str = scnr.nextLine();\r\n            if (str.equals(&quot;quit&quot;) || str.equals(&quot;Quit&quot;) || str.equals(&quot;q&quot;)) break;\r\n            for (int i = 0; i &lt; str.length(); i++) {\r\n                System.out.print(str.charAt(str.length() - i - 1));\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy current code is that however output is coming back as:\r\n\r\nInput\r\n```\r\nHello there\r\nHey\r\ndone\r\n```\r\n\r\nOutput\r\n```\r\nereht olleH\r\nyeH\r\nenod\r\n```\r\n\r\nExpected output\r\n```\r\nereht olleH\r\n```\r\n\r\nCannot figure out what I&#39;m doing wrong.\r\n","title":"Java Project Output","body":"<p>Hi I'm finishing an assignment, however I'm getting the wrong output.</p>\n<p>The goal of the project is to reverse a string.</p>\n<p>So it's supposed to  take in a line of text as input, and outputs that line of text in reverse. The program repeats, ending when the user enters &quot;Done&quot;, &quot;done&quot;, or &quot;d&quot; for the line of text.</p>\n<p>Ex: If the input is:</p>\n<pre><code>Hello there\nHey\ndone\n</code></pre>\n<p>the output is:</p>\n<pre><code>ereht olleH\nyeH\n</code></pre>\n<p>My code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        String str;\n        while (true) {\n            str = scnr.nextLine();\n            if (str.equals(&quot;quit&quot;) || str.equals(&quot;Quit&quot;) || str.equals(&quot;q&quot;)) break;\n            for (int i = 0; i &lt; str.length(); i++) {\n                System.out.print(str.charAt(str.length() - i - 1));\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>My current code is that however output is coming back as:</p>\n<p>Input</p>\n<pre><code>Hello there\nHey\ndone\n</code></pre>\n<p>Output</p>\n<pre><code>ereht olleH\nyeH\nenod\n</code></pre>\n<p>Expected output</p>\n<pre><code>ereht olleH\n</code></pre>\n<p>Cannot figure out what I'm doing wrong.</p>\n"},{"tags":["java","if-statement","jdbc","while-loop","resultset"],"answers":[{"tags":[],"owner":{"account_id":23366296,"reputation":21,"user_id":17437896,"display_name":"Ilias Tzortzinis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637171844,"creation_date":1637171844,"answer_id":70009347,"question_id":70005148,"body_markdown":"Why you dont simply use:\r\n`&quot;select itemName from items WHERE itemName = &quot; + userOrder`\r\n\r\nThis way you dont need iterate the result set you just:\r\n\r\n    if (rs.next()){\r\n     //Found\r\n    }\r\n    else {\r\n     //Not Found\r\n    }","title":"I am trying to get data from a row in a table items in which a column is &#39;itemName&#39; in itemName there a 10 values","body":"<p>Why you dont simply use:\n<code>&quot;select itemName from items WHERE itemName = &quot; + userOrder</code></p>\n<p>This way you dont need iterate the result set you just:</p>\n<pre><code>if (rs.next()){\n //Found\n}\nelse {\n //Not Found\n}\n</code></pre>\n"}],"owner":{"account_id":23366974,"reputation":1,"user_id":17438439,"display_name":"Ritvik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637171844,"creation_date":1637155213,"question_id":70005148,"body_markdown":"now user come to my program and enter the name of any value,then i want to show the value.\r\n                    \r\n```\r\nSystem.out.println(&quot;enter name of item you want to order&quot;);\r\nString userOrder = br.readLine();\r\n\r\nConnection con = ConnectionToDB.connection();\r\nString itemName= &quot;select itemName from items&quot;;\r\nStatement stmt = con.createStatement();\r\nResultSet rs = stmt.executeQuery(itemName);\r\n\r\nwhile(rs.next())\r\n{\r\n    if (rs.getString(&quot;itemName&quot;).equals(userOrder))\r\n    {\r\n        System.out.println(rs.getString(&quot;itemName&quot;));\r\n    }\r\n    else\r\n    {\r\n        System.out.println(&quot;you order wrong item that not present&quot;);\r\n    }\r\n}\r\n```\r\n\r\nwhen user enter 1st value that present in table that execute well and show the first values but when user input any other value that present in database but `rs.next()` is not working and else part executed. How can I overcome this?","title":"I am trying to get data from a row in a table items in which a column is &#39;itemName&#39; in itemName there a 10 values","body":"<p>now user come to my program and enter the name of any value,then i want to show the value.</p>\n<pre><code>System.out.println(&quot;enter name of item you want to order&quot;);\nString userOrder = br.readLine();\n\nConnection con = ConnectionToDB.connection();\nString itemName= &quot;select itemName from items&quot;;\nStatement stmt = con.createStatement();\nResultSet rs = stmt.executeQuery(itemName);\n\nwhile(rs.next())\n{\n    if (rs.getString(&quot;itemName&quot;).equals(userOrder))\n    {\n        System.out.println(rs.getString(&quot;itemName&quot;));\n    }\n    else\n    {\n        System.out.println(&quot;you order wrong item that not present&quot;);\n    }\n}\n</code></pre>\n<p>when user enter 1st value that present in table that execute well and show the first values but when user input any other value that present in database but <code>rs.next()</code> is not working and else part executed. How can I overcome this?</p>\n"},{"tags":["java","matrix","time-complexity","space-complexity"],"answers":[{"tags":[],"owner":{"account_id":18753847,"reputation":843,"user_id":13674351,"display_name":"Jacob Steinebronn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637171804,"creation_date":1637171804,"answer_id":70009339,"question_id":70003326,"body_markdown":"Assuming I understand the question correctly, you should be able to binary search the location of the number in the matrix. You can imagine if you stretched the matrix out into one long array based on this somewhat strange matrix traversal, the array you got would be sorted. Finding a number in a sorted array is `O(log(x))` where x is the array length, and since the number of elements in this long array from the `n*n` matrix would be `n^2`, the complexity of this binary search would be `O(log(n^2)) = O(2log(n)) = O(log(n))`. So, `O(log(n))` is what we&#39;re targeting here for our runtime.\r\n\r\nNow, since each quarter of the matrix is sorted as shown, we know that for any given quarter, the lowest element in that quarter of the matrix is the top-left. So we can determine where the target number x is by first checking quarter 3&#39;s top-left element, and then checking 4&#39;s or 2&#39;s to narrow in what quarter of the matrix the target value is in, similar to a binary search. Thus, determining which quarter of the matrix the target value lies requires 2 checks and reduces the search space by 1/4. We can recurse on the resulting quarter of the array, repeatedly narrowing on which sixteenth, sixty-fourth, etc. of the array until we are down to a 2x2 subsection of the matrix, in which base case we can just check all four and then we&#39;re done!\r\n\r\nIn each step of the algorithm just described, we do 2 comparisons, and reduce the search space by 1/4. This is equivalent to doing 1 comparison and reducing the seach space by 1/2, twice, which is simply a binary search. Thus, the runtime of this algorithm is `O(log(n^2)) = O(2log(n)) = O(log(n))`\r\n\r\nBest of luck implementing this!","title":"Find int in nxn matrix while each quarter is sorted clockwise (circular array) - With complexity limit","body":"<p>Assuming I understand the question correctly, you should be able to binary search the location of the number in the matrix. You can imagine if you stretched the matrix out into one long array based on this somewhat strange matrix traversal, the array you got would be sorted. Finding a number in a sorted array is <code>O(log(x))</code> where x is the array length, and since the number of elements in this long array from the <code>n*n</code> matrix would be <code>n^2</code>, the complexity of this binary search would be <code>O(log(n^2)) = O(2log(n)) = O(log(n))</code>. So, <code>O(log(n))</code> is what we're targeting here for our runtime.</p>\n<p>Now, since each quarter of the matrix is sorted as shown, we know that for any given quarter, the lowest element in that quarter of the matrix is the top-left. So we can determine where the target number x is by first checking quarter 3's top-left element, and then checking 4's or 2's to narrow in what quarter of the matrix the target value is in, similar to a binary search. Thus, determining which quarter of the matrix the target value lies requires 2 checks and reduces the search space by 1/4. We can recurse on the resulting quarter of the array, repeatedly narrowing on which sixteenth, sixty-fourth, etc. of the array until we are down to a 2x2 subsection of the matrix, in which base case we can just check all four and then we're done!</p>\n<p>In each step of the algorithm just described, we do 2 comparisons, and reduce the search space by 1/4. This is equivalent to doing 1 comparison and reducing the seach space by 1/2, twice, which is simply a binary search. Thus, the runtime of this algorithm is <code>O(log(n^2)) = O(2log(n)) = O(log(n))</code></p>\n<p>Best of luck implementing this!</p>\n"}],"owner":{"account_id":19572093,"reputation":29,"user_id":14323017,"display_name":"may"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637171804,"creation_date":1637147477,"question_id":70003326,"body_markdown":"I try to find given number in nXn matrix (when n is a power of 2).\r\nIn addition each quareter of the mat is sorted in the shown way.\r\n[![clockwise][1]][1]\r\n\r\n\r\n\r\nI also need to refer the time and space complexity.\r\n\r\nAt first I used two nested loops but this gives complexity time n ^ 2. In addition it does not take advantage of the special sorting of the matrix.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    for(int i=0; i&lt;n;i++)\r\n        {\r\n        for(int j=0; j&lt;n;j++)\r\n          {\r\n           // chechk each cell\r\n          }\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThan I thought to sort each row of the mat using one of known sorting algorithms, but if I do it in for loop (or while) it is not really reduce the comlexity.\r\n\r\nAnother way is to jump every n/2 cells so we check only the greater cell in each quarter, but have doubts that this way is correct.\r\n\r\nI would like to hear if one of my suggestions are correct or if I missed something important while try to find solution.\r\nthanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jCDuu.png","title":"Find int in nxn matrix while each quarter is sorted clockwise (circular array) - With complexity limit","body":"<p>I try to find given number in nXn matrix (when n is a power of 2).\nIn addition each quareter of the mat is sorted in the shown way.\n<a href=\"https://i.stack.imgur.com/jCDuu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jCDuu.png\" alt=\"clockwise\" /></a></p>\n<p>I also need to refer the time and space complexity.</p>\n<p>At first I used two nested loops but this gives complexity time n ^ 2. In addition it does not take advantage of the special sorting of the matrix.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>for(int i=0; i&lt;n;i++)\n    {\n    for(int j=0; j&lt;n;j++)\n      {\n       // chechk each cell\n      }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Than I thought to sort each row of the mat using one of known sorting algorithms, but if I do it in for loop (or while) it is not really reduce the comlexity.</p>\n<p>Another way is to jump every n/2 cells so we check only the greater cell in each quarter, but have doubts that this way is correct.</p>\n<p>I would like to hear if one of my suggestions are correct or if I missed something important while try to find solution.\nthanks</p>\n"},{"tags":["java","jgit"],"comments":[{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1618661367,"post_id":67137662,"comment_id":118672536,"body_markdown":"This is entirely up to JGit itself, but in Git, the word *tag* means both *tag name* and *tag object* so it depends on what JGit means by &quot;tag&quot;. (Probably only the [tag:jgit] StackOverflow tag is relevant here.)","body":"This is entirely up to JGit itself, but in Git, the word <i>tag</i> means both <i>tag name</i> and <i>tag object</i> so it depends on what JGit means by &quot;tag&quot;. (Probably only the <a href=\"https://stackoverflow.com/questions/tagged/jgit\">jgit</a> StackOverflow tag is relevant here.)"},{"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"score":0,"creation_date":1618665929,"post_id":67137662,"comment_id":118673744,"body_markdown":"Ok thank you. I&#39;m going to remove the git tag","body":"Ok thank you. I&#39;m going to remove the git tag"}],"answers":[{"tags":[],"owner":{"account_id":266342,"reputation":7863,"user_id":553865,"accept_rate":67,"display_name":"Mike Slinn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618668727,"creation_date":1618668341,"answer_id":67139024,"question_id":67137662,"body_markdown":"JGit&#39;s `Git.tagList()` returns a `org.eclipse.jgit.api.ListTagCommand`.\r\n\r\n`ListTagCommand.call()` returns type `List&lt;Ref&gt;` [as documented](http://archive.eclipse.org/jgit/docs/jgit-2.3.1.201302201838-r/apidocs/org/eclipse/jgit/api/ListTagCommand.html).\r\n\r\nThe [`Ref` interface](http://archive.eclipse.org/jgit/docs/jgit-2.3.1.201302201838-r/apidocs/org/eclipse/jgit/lib/Ref.html) is implemented by `ObjectIdRef`, `ObjectIdRef.PeeledNonTag`, `ObjectIdRef.PeeledTag`, `ObjectIdRef.Unpeeled`, and `SymbolicRef`.\r\n\r\nYou should check the type of the returned value before attempting to do anything with it, or use a try/catch as you have done.","title":"Why object from Git.tagList().call() is not a tag?","body":"<p>JGit's <code>Git.tagList()</code> returns a <code>org.eclipse.jgit.api.ListTagCommand</code>.</p>\n<p><code>ListTagCommand.call()</code> returns type <code>List&lt;Ref&gt;</code> <a href=\"http://archive.eclipse.org/jgit/docs/jgit-2.3.1.201302201838-r/apidocs/org/eclipse/jgit/api/ListTagCommand.html\" rel=\"nofollow noreferrer\">as documented</a>.</p>\n<p>The <a href=\"http://archive.eclipse.org/jgit/docs/jgit-2.3.1.201302201838-r/apidocs/org/eclipse/jgit/lib/Ref.html\" rel=\"nofollow noreferrer\"><code>Ref</code> interface</a> is implemented by <code>ObjectIdRef</code>, <code>ObjectIdRef.PeeledNonTag</code>, <code>ObjectIdRef.PeeledTag</code>, <code>ObjectIdRef.Unpeeled</code>, and <code>SymbolicRef</code>.</p>\n<p>You should check the type of the returned value before attempting to do anything with it, or use a try/catch as you have done.</p>\n"},{"tags":[],"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637171702,"creation_date":1637171702,"answer_id":70009322,"question_id":67137662,"body_markdown":"As I said in the comment, i solved changing the `walk.parseTag(o1.getObjectId()).getTaggerIdent().getWhen();` into `walk.parseCommit(o1.getObjectId()).getAuthorIdent().getWhen();` and same for o2. \r\nHope this will help others.","title":"Why object from Git.tagList().call() is not a tag?","body":"<p>As I said in the comment, i solved changing the <code>walk.parseTag(o1.getObjectId()).getTaggerIdent().getWhen();</code> into <code>walk.parseCommit(o1.getObjectId()).getAuthorIdent().getWhen();</code> and same for o2.\nHope this will help others.</p>\n"}],"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70009322,"answer_count":2,"score":0,"last_activity_date":1637171702,"creation_date":1618658998,"question_id":67137662,"body_markdown":"&lt;br&gt;\r\nI&#39;m trying Jgit and I want to retrieve all tags of a cloned repository and I want to sort them by Date. That&#39;s why I&#39;m trying the following:\r\n\r\n```\r\nString path = &quot;path/to/my/git/repo/.git&quot;;\r\nRepository repository = builder.setGitDir(new File(path)).readEnvironment().findGitDir().build();\r\ntry (RevWalk walk = new RevWalk(repository)) {\r\n            List&lt;Ref&gt; taglist = new Git(repository).tagList().call();\r\n\r\n            Collections.sort(taglist, new Comparator&lt;Ref&gt;() {\r\n                public int compare(Ref o1, Ref o2) {\r\n                    Date d1 = null;\r\n                    Date d2 = null;\r\n                    try {\r\n                        d1 = walk.parseTag(o1.getObjectId()).getTaggerIdent().getWhen();\r\n                        d2 = walk.parseTag(o2.getObjectId()).getTaggerIdent().getWhen();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace(); \r\n                    }\r\n                    return d1.compareTo(d2);\r\n                }\r\n            });\r\n        }catch (GitAPIException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nThe problem is that some of Ref returned by `this.taglist = new Git(repository).tagList().call()` are not Tag: in fact an exception is raised by `parseTag()` and its message is:\r\n`org.eclipse.jgit.errors.IncorrectObjectTypeException: Object 3ea2b388b5ef02622312fe08e6935a5f9c655e00 is not a tag.` \r\n\r\nCan someone explain me why this happen and how can i solve the problem? &lt;br&gt;Thank you all.\r\n","title":"Why object from Git.tagList().call() is not a tag?","body":"<br>\nI'm trying Jgit and I want to retrieve all tags of a cloned repository and I want to sort them by Date. That's why I'm trying the following:\n<pre><code>String path = &quot;path/to/my/git/repo/.git&quot;;\nRepository repository = builder.setGitDir(new File(path)).readEnvironment().findGitDir().build();\ntry (RevWalk walk = new RevWalk(repository)) {\n            List&lt;Ref&gt; taglist = new Git(repository).tagList().call();\n\n            Collections.sort(taglist, new Comparator&lt;Ref&gt;() {\n                public int compare(Ref o1, Ref o2) {\n                    Date d1 = null;\n                    Date d2 = null;\n                    try {\n                        d1 = walk.parseTag(o1.getObjectId()).getTaggerIdent().getWhen();\n                        d2 = walk.parseTag(o2.getObjectId()).getTaggerIdent().getWhen();\n                    } catch (IOException e) {\n                        e.printStackTrace(); \n                    }\n                    return d1.compareTo(d2);\n                }\n            });\n        }catch (GitAPIException e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The problem is that some of Ref returned by <code>this.taglist = new Git(repository).tagList().call()</code> are not Tag: in fact an exception is raised by <code>parseTag()</code> and its message is:\n<code>org.eclipse.jgit.errors.IncorrectObjectTypeException: Object 3ea2b388b5ef02622312fe08e6935a5f9c655e00 is not a tag.</code></p>\n<p>Can someone explain me why this happen and how can i solve the problem? <br>Thank you all.</p>\n"},{"tags":["javascript","java","android","react-native"],"comments":[{"owner":{"account_id":12617253,"reputation":121,"user_id":9174256,"display_name":"Deyvid Popov"},"score":1,"creation_date":1587199272,"post_id":61286117,"comment_id":108419225,"body_markdown":"It&#39;s not only this lib, I have removed and now the error is in react-native screen","body":"It&#39;s not only this lib, I have removed and now the error is in react-native screen"},{"owner":{"account_id":2432870,"reputation":857,"user_id":2123417,"accept_rate":21,"display_name":"Swift"},"score":1,"creation_date":1598898126,"post_id":61286117,"comment_id":112600378,"body_markdown":"Facing same issue, any solution.","body":"Facing same issue, any solution."}],"answers":[{"tags":[],"owner":{"account_id":17148068,"reputation":51,"user_id":12410613,"display_name":"ibrahim_Ramzan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589936846,"creation_date":1589936846,"answer_id":61903400,"question_id":61286117,"body_markdown":"You need to setup your development environment for react native. Use the following link\r\n\r\nhttps://reactnative.dev/docs/environment-setup\r\n\r\nAlso check the jdk version it should be above or 11.0","title":"Running react native bare project results in error A problem occurred configuring project &#39;:react-native-reanimated&#39;","body":"<p>You need to setup your development environment for react native. Use the following link</p>\n\n<p><a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/environment-setup</a></p>\n\n<p>Also check the jdk version it should be above or 11.0</p>\n"},{"tags":[],"owner":{"account_id":10998613,"reputation":23932,"user_id":8079868,"display_name":"Muhammad Numan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612097364,"creation_date":1612097364,"answer_id":65979261,"question_id":61286117,"body_markdown":"The below mentioned code inside `build.gradle` (`node_modules\\react-native-reanimated\\android\\build.gradle`) is problematic:\r\n\r\n```\r\nandroid.libraryVariants.all { variant -&gt;\r\n        def name = variant.name.capitalize()\r\n        task &quot;jar${name}&quot;(type: Jar, dependsOn: variant.javaCompileProvider.get()) {\r\n            from variant.javaCompileProvider.get().destinationDir\r\n        }\r\n}\r\n```\r\n\r\nIf this is replaced with the below mentioned code, the said problem is fixed.\r\n```\r\nandroid.libraryVariants.all { variant -&gt;\r\n        def name = variant.name.capitalize()\r\n        task &quot;jar${name}&quot;(type: Jar, dependsOn: variant.javaCompile) {\r\n            from variant.javaCompile.destinationDir\r\n        }\r\n}\r\n```","title":"Running react native bare project results in error A problem occurred configuring project &#39;:react-native-reanimated&#39;","body":"<p>The below mentioned code inside <code>build.gradle</code> (<code>node_modules\\react-native-reanimated\\android\\build.gradle</code>) is problematic:</p>\n<pre><code>android.libraryVariants.all { variant -&gt;\n        def name = variant.name.capitalize()\n        task &quot;jar${name}&quot;(type: Jar, dependsOn: variant.javaCompileProvider.get()) {\n            from variant.javaCompileProvider.get().destinationDir\n        }\n}\n</code></pre>\n<p>If this is replaced with the below mentioned code, the said problem is fixed.</p>\n<pre><code>android.libraryVariants.all { variant -&gt;\n        def name = variant.name.capitalize()\n        task &quot;jar${name}&quot;(type: Jar, dependsOn: variant.javaCompile) {\n            from variant.javaCompile.destinationDir\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12974859,"reputation":1299,"user_id":10665655,"display_name":"Rahul Shakya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613639928,"creation_date":1613639928,"answer_id":66256923,"question_id":61286117,"body_markdown":"You have install Android API level 29 and reopen the project... then it will fix itself.\r\n\r\nJust go to sdk manager from android studio and install android 10.0(Q) level 29 , show package details google apis intelx86 Atom system image\r\n\r\nand restart android studio and open the project it will work...\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wtu0d.png","title":"Running react native bare project results in error A problem occurred configuring project &#39;:react-native-reanimated&#39;","body":"<p>You have install Android API level 29 and reopen the project... then it will fix itself.</p>\n<p>Just go to sdk manager from android studio and install android 10.0(Q) level 29 , show package details google apis intelx86 Atom system image</p>\n<p>and restart android studio and open the project it will work...\n<a href=\"https://i.stack.imgur.com/wtu0d.png\" rel=\"noreferrer\">image</a></p>\n"},{"tags":[],"owner":{"account_id":15512655,"reputation":1,"user_id":11191055,"display_name":"Everton Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637171673,"creation_date":1637171673,"answer_id":70009317,"question_id":61286117,"body_markdown":"In my case, on windows, was the wrong Android SDK path on local.properties file. Needs double backslashes","title":"Running react native bare project results in error A problem occurred configuring project &#39;:react-native-reanimated&#39;","body":"<p>In my case, on windows, was the wrong Android SDK path on local.properties file. Needs double backslashes</p>\n"}],"owner":{"account_id":12617253,"reputation":121,"user_id":9174256,"display_name":"Deyvid Popov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20677,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1637171673,"creation_date":1587197711,"question_id":61286117,"body_markdown":"I have installed react native through the expo kit and now when I run yarn run android I received that error. I haven&#39;t changed anything on the template. I don&#39;t know what is happening.? If there are further about feel free to ask. I have also checked the build.gradle of react native reanimated but ,unfortunately , no success has shown up.\r\n\r\n```\r\nFAILURE: Build failed with an exception. \r\n\r\n* Where:\r\nBuild file &#39;C:\\Users\\David\\Desktop\\TheGuruApp\\node_modules\\react-native-reanimated\\android\\build.gradle&#39; line: 89\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:react-native-reanimated&#39;.\r\n&gt; java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.      \r\n \r\n* Get more help at https://help.gradle.org\r\n \r\nBUILD FAILED in 28s\r\n \r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://facebook.github.io/react-native/docs/getting-started.html#android-development-environment. Run CLI with --verbose flag for more details.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\Users\\David\\Desktop\\TheGuruApp\\node_modules\\react-native-reanimated\\android\\build.gradle&#39; line: 89\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:react-native-reanimated&#39;.\r\n&gt; java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n \r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.      \r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 28s\r\n```","title":"Running react native bare project results in error A problem occurred configuring project &#39;:react-native-reanimated&#39;","body":"<p>I have installed react native through the expo kit and now when I run yarn run android I received that error. I haven't changed anything on the template. I don't know what is happening.? If there are further about feel free to ask. I have also checked the build.gradle of react native reanimated but ,unfortunately , no success has shown up.</p>\n\n<pre><code>FAILURE: Build failed with an exception. \n\n* Where:\nBuild file 'C:\\Users\\David\\Desktop\\TheGuruApp\\node_modules\\react-native-reanimated\\android\\build.gradle' line: 89\n\n* What went wrong:\nA problem occurred configuring project ':react-native-reanimated'.\n&gt; java.io.IOException: The filename, directory name, or volume label syntax is incorrect\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.      \n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 28s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://facebook.github.io/react-native/docs/getting-started.html#android-development-environment. Run CLI with --verbose flag for more details.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\David\\Desktop\\TheGuruApp\\node_modules\\react-native-reanimated\\android\\build.gradle' line: 89\n\n* What went wrong:\nA problem occurred configuring project ':react-native-reanimated'.\n&gt; java.io.IOException: The filename, directory name, or volume label syntax is incorrect\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.      \n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 28s\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-security"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637171629,"creation_date":1637171629,"answer_id":70009308,"question_id":70009085,"body_markdown":"The `fAuth.getCurrentUser()` may not yet be set when you&#39;re using it inside your inner callback. Instead, use the user from the outermost task to determine the UID.\r\n```\r\nfAuth.createUserWithEmailAndPassword(reg_email, reg_password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; createTask) { // &#128072; rename here\r\n        if (task.isSuccessful()) {\r\n        fAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; verifyTask) {\r\n                    if (task.isSuccessful()) {\r\n                        userID = createTask.getResult().getUser().getUid(); // &#128072; use here\r\n                        reg_user = new User(reg_email, sex, btn_text, 0, 0);\r\n                        databaseReference.child(userID).setValue(reg_user);\r\n```","title":"Rules to realtime database","body":"<p>The <code>fAuth.getCurrentUser()</code> may not yet be set when you're using it inside your inner callback. Instead, use the user from the outermost task to determine the UID.</p>\n<pre><code>fAuth.createUserWithEmailAndPassword(reg_email, reg_password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; createTask) { // 👈 rename here\n        if (task.isSuccessful()) {\n        fAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; verifyTask) {\n                    if (task.isSuccessful()) {\n                        userID = createTask.getResult().getUser().getUid(); // 👈 use here\n                        reg_user = new User(reg_email, sex, btn_text, 0, 0);\n                        databaseReference.child(userID).setValue(reg_user);\n</code></pre>\n"}],"owner":{"account_id":23369504,"reputation":1,"user_id":17440606,"display_name":"Hearent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637171658,"creation_date":1637170666,"question_id":70009085,"body_markdown":"I use Firebase, to be precise a real-time database, and I don&#39;t know what rules should I set. I set these rules:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n      \t&quot;.read&quot;: &quot;data.child(&#39;Users&#39;).child(auth.uid).exists()&quot;,\r\n      \t&quot;.write&quot;: true\r\n  }\r\n}\r\n```\r\nbut now everybody can write.\r\nWhen I set these:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n      \t&quot;.read&quot;: &quot;data.child(&#39;Users&#39;).child(auth.uid).exists()&quot;,\r\n      \t&quot;.write&quot;: &quot;auth != null&quot;\r\n  }\r\n}\r\n```\r\nusers using Gmail cannot log in because record in the database isn&#39;t created but not on all devices. When i test on OnePlus every is fine, when i test on Samsung record in the database isn&#39;t created.\r\nThis is my code responsible for creating user:\r\n```\r\nfAuth.createUserWithEmailAndPassword(reg_email, reg_password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n        if (task.isSuccessful()) {\r\n        fAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        userID = fAuth.getCurrentUser().getUid();\r\n                        reg_user = new User(reg_email, sex, btn_text, 0, 0);\r\n                        databaseReference.child(userID).setValue(reg_user);\r\n                        Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                        FirebaseAuth.getInstance().signOut();\r\n                    } else {\r\n                        Toast.makeText(RegisterActivity.this, &quot;Error &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                        progressBar.setVisibility(View.INVISIBLE);\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            Toast.makeText(RegisterActivity.this, &quot;Error &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n            progressBar.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n});\r\n```\r\n","title":"Rules to realtime database","body":"<p>I use Firebase, to be precise a real-time database, and I don't know what rules should I set. I set these rules:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n        &quot;.read&quot;: &quot;data.child('Users').child(auth.uid).exists()&quot;,\n        &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p>but now everybody can write.\nWhen I set these:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n        &quot;.read&quot;: &quot;data.child('Users').child(auth.uid).exists()&quot;,\n        &quot;.write&quot;: &quot;auth != null&quot;\n  }\n}\n</code></pre>\n<p>users using Gmail cannot log in because record in the database isn't created but not on all devices. When i test on OnePlus every is fine, when i test on Samsung record in the database isn't created.\nThis is my code responsible for creating user:</p>\n<pre><code>fAuth.createUserWithEmailAndPassword(reg_email, reg_password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        if (task.isSuccessful()) {\n        fAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if (task.isSuccessful()) {\n                        userID = fAuth.getCurrentUser().getUid();\n                        reg_user = new User(reg_email, sex, btn_text, 0, 0);\n                        databaseReference.child(userID).setValue(reg_user);\n                        Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\n                        startActivity(intent);\n                        finish();\n                        FirebaseAuth.getInstance().signOut();\n                    } else {\n                        Toast.makeText(RegisterActivity.this, &quot;Error &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                        progressBar.setVisibility(View.INVISIBLE);\n                    }\n                }\n            });\n        } else {\n            Toast.makeText(RegisterActivity.this, &quot;Error &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n            progressBar.setVisibility(View.INVISIBLE);\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637171163,"creation_date":1637171163,"answer_id":70009205,"question_id":70006190,"body_markdown":"Why did you annotate your test class with `@SpringBootApplication`? It&#39;s not recommended! Anyway, it might be just for the rapid test. I don&#39;t know exactly what method do you want to test but for example for testing the save method below code is a good approach, try it and see it&#39;s working for you or not. \r\n\r\n``` java\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class RepoTest {\r\n\r\n    @Autowired\r\n    private ExampleRepo repository;\r\n\r\n    @Test\r\n    @Transactional\r\n    public void save_() {\r\n        Object savedObj = repository.save(entity);\r\n        assertNotNull(savedObj.getId());\r\n    }\r\n}\r\n```","title":"Transactional test can&#39;t update/delete","body":"<p>Why did you annotate your test class with <code>@SpringBootApplication</code>? It's not recommended! Anyway, it might be just for the rapid test. I don't know exactly what method do you want to test but for example for testing the save method below code is a good approach, try it and see it's working for you or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class RepoTest {\n\n    @Autowired\n    private ExampleRepo repository;\n\n    @Test\n    @Transactional\n    public void save_() {\n        Object savedObj = repository.save(entity);\n        assertNotNull(savedObj.getId());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637171163,"creation_date":1637159287,"question_id":70006190,"body_markdown":"I have a `@Repository` that has a few different queries that update tables. These methods aren&#39;t annotated with `@Transactional` as the transactions are at the service level.\r\n\r\nI would like to test these repositories. I&#39;ve created a test class that is annotated with `@Transactional` but when the repository methods are called they fail with this: \r\n\r\n    Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n\r\nIf I annotate each of the repositories methods with `@Transactional` it fixes the errors but I don&#39;t want to change the main code base. I should be able to have the transactions be created in the test.   \r\n\r\nI&#39;ve created some example code to show the general structure I have. \r\n\r\n**Repository**\r\n\r\n    @Repository\r\n    public class ExampleRepo extends JPARepository&lt;X, Y&gt; {\r\n    \r\n        // Adding @Transactional here fixes the test\r\n        @Modifying\r\n        @Query(&quot;update Example e set e.example=:example where e.id = :id&quot;)\r\n        int exampleQuery(@Param(&quot;example&quot;) String example, @Param(&quot;id&quot;) int id);\r\n    }\r\n\r\n**Test**\r\n\r\n    @Transactional\r\n    @SpringBootApplication\r\n    @SpringBootTest\r\n    public class RepoTest {\r\n        \r\n        private final ExampleRepo repository;\r\n\r\n        @Autowired\r\n        public RepoTest(final ExampleRepo repository){\r\n            this.repository = repository;\r\n        }\r\n\r\n        \r\n        @Test\r\n        void testExample() {\r\n            // Fails\r\n            repository.exampleQuery(&quot;example&quot;, 1);\r\n        }\r\n    }\r\n\r\n**Exception**\r\n\r\n    Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n\r\nShouldn&#39;t annotating the test as `@Transactional&#39; fix this? \r\n\r\nAll the examples I can find use it. If I annotate each individual test with `@Transactional` it still fails. ","title":"Transactional test can&#39;t update/delete","body":"<p>I have a <code>@Repository</code> that has a few different queries that update tables. These methods aren't annotated with <code>@Transactional</code> as the transactions are at the service level.</p>\n<p>I would like to test these repositories. I've created a test class that is annotated with <code>@Transactional</code> but when the repository methods are called they fail with this:</p>\n<pre><code>Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\n</code></pre>\n<p>If I annotate each of the repositories methods with <code>@Transactional</code> it fixes the errors but I don't want to change the main code base. I should be able to have the transactions be created in the test.</p>\n<p>I've created some example code to show the general structure I have.</p>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic class ExampleRepo extends JPARepository&lt;X, Y&gt; {\n\n    // Adding @Transactional here fixes the test\n    @Modifying\n    @Query(&quot;update Example e set e.example=:example where e.id = :id&quot;)\n    int exampleQuery(@Param(&quot;example&quot;) String example, @Param(&quot;id&quot;) int id);\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>@Transactional\n@SpringBootApplication\n@SpringBootTest\npublic class RepoTest {\n    \n    private final ExampleRepo repository;\n\n    @Autowired\n    public RepoTest(final ExampleRepo repository){\n        this.repository = repository;\n    }\n\n    \n    @Test\n    void testExample() {\n        // Fails\n        repository.exampleQuery(&quot;example&quot;, 1);\n    }\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\norg.springframework.dao.InvalidDataAccessApiUsageException: Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\n</code></pre>\n<p>Shouldn't annotating the test as `@Transactional' fix this?</p>\n<p>All the examples I can find use it. If I annotate each individual test with <code>@Transactional</code> it still fails.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"score":0,"creation_date":1367922222,"post_id":16416564,"comment_id":23538226,"body_markdown":"Post your stacktrace.","body":"Post your stacktrace."},{"owner":{"account_id":1063117,"reputation":12307,"user_id":1064325,"accept_rate":92,"display_name":"falsarella"},"score":0,"creation_date":1367927891,"post_id":16416564,"comment_id":23541479,"body_markdown":"Show us your `persistence.xml`","body":"Show us your <code>persistence.xml</code>"},{"owner":{"account_id":1063117,"reputation":12307,"user_id":1064325,"accept_rate":92,"display_name":"falsarella"},"score":0,"creation_date":1367930002,"post_id":16416564,"comment_id":23542808,"body_markdown":"Do you have the `root-context.xml` and `ContextLoaderListener` configured in your web.xml?see http://stackoverflow.com/q/9856721/1064325 and http://stackoverflow.com/q/1132565/1064325","body":"Do you have the <code>root-context.xml</code> and <code>ContextLoaderListener</code> configured in your web.xml?see <a href=\"http://stackoverflow.com/q/9856721/1064325\">stackoverflow.com/q/9856721/1064325</a> and <a href=\"http://stackoverflow.com/q/1132565/1064325\">stackoverflow.com/q/1132565/1064325</a>"},{"owner":{"account_id":2464970,"reputation":943,"user_id":2148281,"accept_rate":64,"display_name":"cosmin.danisor"},"score":0,"creation_date":1367931040,"post_id":16416564,"comment_id":23543462,"body_markdown":"I had the same problem and to this day I did not find a solution, I found a workaround tho `entityManager = Persistence.createEntityManagerFactory(&quot;unitname&quot;).createEntityManager();` instead of `@PersistenceContext(unitName=&quot;unitname&quot;) private EntityManager entityManager;` I think it has smth to do with annotations. If you find a solution please post it","body":"I had the same problem and to this day I did not find a solution, I found a workaround tho <code>entityManager = Persistence.createEntityManagerFactory(&quot;unitname&quot;).createEnt&zwnj;&#8203;ityManager();</code> instead of <code>@PersistenceContext(unitName=&quot;unitname&quot;) private EntityManager entityManager;</code> I think it has smth to do with annotations. If you find a solution please post it"}],"answers":[{"tags":[],"owner":{"account_id":415558,"reputation":3400,"user_id":790436,"accept_rate":76,"display_name":"joanlofe"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1368008854,"creation_date":1368008854,"answer_id":16438304,"question_id":16416564,"body_markdown":"I&#39;ve finally managed to solve the problem. To instantiate GenericDAO I used an autowired annotation, this way:\r\n\r\n    @Autowired\r\n    private GenericDAO genericDao;\r\n\r\nbut the class where this happens, called DescriptorBO, was instantiated this way:\r\n\r\n    DescriptorBO descrBO = new DescriptorBO(...);\r\n\r\nand thus escaped completely from the control of the Spring container. Changing this into:\r\n\r\n    @Autowired\r\n    private DescriptorBO descrBO;\r\n\r\nand adding the appropriate bean definitions to the root-context.xml:\r\n\r\n    &lt;bean name=&quot;descriptorBO&quot; class=&quot;com.main.model.bo.DescriptorBO&quot;&gt;\r\n    \t&lt;property name=&quot;genericDao&quot; ref=&quot;genericDao&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean name=&quot;genericDao&quot; class=&quot;com.main.model.dao.JPAImpl.GenericDAOImpl&quot; /&gt; \r\n\r\nsolved the problem. Now the EntityManager is injected properly.\r\n\r\n**Lesson learnt**: if Spring does not inject the EntityManager (or any other injected object) check that all the object hierarchy above your object is managed by Spring, i. e. instantiated from beans in the application context, either directly or using the Autowired annotation. Check that you do not use the new operator to instantiate any of those objects!!","title":"Spring fails to inject entity manager factory","body":"<p>I've finally managed to solve the problem. To instantiate GenericDAO I used an autowired annotation, this way:</p>\n\n<pre><code>@Autowired\nprivate GenericDAO genericDao;\n</code></pre>\n\n<p>but the class where this happens, called DescriptorBO, was instantiated this way:</p>\n\n<pre><code>DescriptorBO descrBO = new DescriptorBO(...);\n</code></pre>\n\n<p>and thus escaped completely from the control of the Spring container. Changing this into:</p>\n\n<pre><code>@Autowired\nprivate DescriptorBO descrBO;\n</code></pre>\n\n<p>and adding the appropriate bean definitions to the root-context.xml:</p>\n\n<pre><code>&lt;bean name=\"descriptorBO\" class=\"com.main.model.bo.DescriptorBO\"&gt;\n    &lt;property name=\"genericDao\" ref=\"genericDao\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean name=\"genericDao\" class=\"com.main.model.dao.JPAImpl.GenericDAOImpl\" /&gt; \n</code></pre>\n\n<p>solved the problem. Now the EntityManager is injected properly.</p>\n\n<p><strong>Lesson learnt</strong>: if Spring does not inject the EntityManager (or any other injected object) check that all the object hierarchy above your object is managed by Spring, i. e. instantiated from beans in the application context, either directly or using the Autowired annotation. Check that you do not use the new operator to instantiate any of those objects!!</p>\n"},{"tags":[],"owner":{"account_id":1133543,"reputation":988,"user_id":1119076,"accept_rate":80,"display_name":"sergpank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637170907,"creation_date":1637170907,"answer_id":70009141,"question_id":16416564,"body_markdown":"If somebody will came here for a right answer:\r\n\r\nTo autowire EntityManger in you Spring bean without calling EntityManagerFactory.createEntityManager(), you need to add the **PersistenceAnnotationBeanPostProcessor** bean to your configuration:\r\n\r\n    ....\r\n    xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/data/jpa\r\n                        http://www.springframework.org/schema/data/jpa/spring-jpa.xsd&quot;\r\n    ...\r\n    \r\n    &lt;jpa:repositories base-package=&quot;com.galera&quot; /&gt;\r\n    &lt;bean class=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot;/&gt;\r\n     \r\n    ...\r\n    \r\n    &lt;!-- Let&#39;s forget about Maven --&gt;   \r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd after that the Autowiring for EntityManager would work fine!\r\n\r\n    @Autowire\r\n    EntityManager entityManager; // Magic (*_*)","title":"Spring fails to inject entity manager factory","body":"<p>If somebody will came here for a right answer:</p>\n<p>To autowire EntityManger in you Spring bean without calling EntityManagerFactory.createEntityManager(), you need to add the <strong>PersistenceAnnotationBeanPostProcessor</strong> bean to your configuration:</p>\n<pre><code>....\nxmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/data/jpa\n                    http://www.springframework.org/schema/data/jpa/spring-jpa.xsd&quot;\n...\n\n&lt;jpa:repositories base-package=&quot;com.galera&quot; /&gt;\n&lt;bean class=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot;/&gt;\n \n...\n\n&lt;!-- Let's forget about Maven --&gt;   \n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And after that the Autowiring for EntityManager would work fine!</p>\n<pre><code>@Autowire\nEntityManager entityManager; // Magic (*_*)\n</code></pre>\n"}],"owner":{"account_id":415558,"reputation":3400,"user_id":790436,"accept_rate":76,"display_name":"joanlofe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7442,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":16438304,"answer_count":2,"score":7,"last_activity_date":1637170907,"creation_date":1367921805,"question_id":16416564,"body_markdown":"I writing tests for my DAO classes using JPA, with Hibernate as JPA provider, and Spring 3.2. I am not able to inject the entity manager correctly, I get a NullPointerException when trying to access it. My GenericDAO implementation looks like this:\r\n\r\n    @Repository\r\n    public class GenericDAOImpl implements GenericDAO {\r\n    \r\n    \t@PersistenceContext(unitName=&quot;unitname&quot;)\r\n        private EntityManager entityManager;\r\n    \r\n        public EntityManager getEntityManager() {\r\n        \treturn entityManager;\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic void setEntityManager(EntityManager entityManager) {\r\n        \tthis.entityManager = entityManager;\r\n    \t}\r\n    \r\n        // NullPointerException when calling this, entityManager is null\r\n        public Query createNamedQuery(String name) {\r\n        \treturn entityManager.createNamedQuery(name);\r\n    \t}        \r\n    \r\n        // many other methods....\r\n    }\r\n\r\nThe class of the test looks like this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;/com/main/resources/root-context.xml&quot;, &quot;/com/main/resources/servlet-context.xml&quot;})\r\n    public class TestModel {\r\n    \r\n        @Before\r\n        public void setUp() throws Exception{\r\n            ...\r\n        }\r\n    \r\n        @Test\r\n        public void test(){\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\nMy root-context.xml is the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;\r\n    \t\thttp://www.springframework.org/schema/aop\r\n    \t\thttp://www.springframework.org/schema/aop/spring-aop-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/beans\r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/context \r\n    \t\thttp://www.springframework.org/schema/context/spring-context-3.0.xsd \r\n    \t\thttp://www.springframework.org/schema/mvc \r\n    \t\thttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\t\t\r\n    \t\thttp://www.springframework.org/schema/tx\r\n    \t\thttp://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n    \t\t&quot;\r\n    &gt;\r\n    \r\n    \t&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n    \r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;unitname&quot; /&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;com.main&quot; /&gt;\r\n    \t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;property name=&quot;generateDdl&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t&lt;property name=&quot;databasePlatform&quot; value=&quot;org.hibernate.dialect.MySQL5Dialect&quot; /&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean class=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt;\r\n    \t\r\n    \r\n    \t\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; proxy-target-class=&quot;false&quot; /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.main&quot; /&gt;\r\n    \t&lt;context:annotation-config /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nI&#39;ve tried several approaches without success, even adding the PersistenceAnnotationBeanPostProcessor as suggested in other SO questions. All other things seem to work fine: Hibernate creates the database tables, the context is loaded, etc. What I am doing wrong? \r\n\r\n**Edit**: the stack trace is the following:\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.main.model.dao.JPAImpl.GenericDAOImpl.createNamedQuery(GenericDAOImpl.java:119)\r\n    \tat com.main.model.bo.DescriptorBO.persist(DescriptorBO.java:52)\r\n    \tat com.main.webmodule.JSONSerializer.deserialize(JSONSerializer.java:149)\r\n    \tat com.main.tests.TestModel.test(TestModel.java:86)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n\r\nAnd here is the persistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n    \t&lt;persistence-unit name=&quot;unitname&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t\t&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n    \t\t&lt;mapping-file&gt;META-INF/jpql/NamedQueries.xml&lt;/mapping-file&gt;\r\n    \t\r\n    \t\t\r\n    \t\t&lt;class&gt;com.main.model.Account&lt;/class&gt;\r\n    \t\t&lt;class&gt;com.main.model.Action&lt;/class&gt;\r\n    \t\t&lt;class&gt;com.main.model.Device&lt;/class&gt;\r\n    \t\t&lt;class&gt;com.main.model.DeviceDescriptor&lt;/class&gt;\r\n    \t\t&lt;class&gt;com.main.model.Event&lt;/class&gt;\r\n    \t\t&lt;class&gt;com.main.model.File&lt;/class&gt;\r\n    \t\t&lt;class&gt;com.main.model.Rule&lt;/class&gt;\r\n    \t\t&lt;class&gt;com.main.model.StateVar&lt;/class&gt;\r\n    \t\t&lt;class&gt;com.main.model.Argument&lt;/class&gt;\r\n        \t&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt; \r\n    \t\t\r\n        \r\n    \t\t&lt;properties&gt;\r\n    \r\n    \t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.password&quot; value=&quot;root&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.autocommit&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.release_mode&quot; value=&quot;auto&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/testweb&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;1&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;10&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.acquire_increment&quot; value=&quot;1&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;300&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.max_statements&quot; value=&quot;0&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;100&quot; /&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL5Dialect&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;/properties&gt;\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n","title":"Spring fails to inject entity manager factory","body":"<p>I writing tests for my DAO classes using JPA, with Hibernate as JPA provider, and Spring 3.2. I am not able to inject the entity manager correctly, I get a NullPointerException when trying to access it. My GenericDAO implementation looks like this:</p>\n\n<pre><code>@Repository\npublic class GenericDAOImpl implements GenericDAO {\n\n    @PersistenceContext(unitName=\"unitname\")\n    private EntityManager entityManager;\n\n    public EntityManager getEntityManager() {\n        return entityManager;\n    }\n\n\n    public void setEntityManager(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    // NullPointerException when calling this, entityManager is null\n    public Query createNamedQuery(String name) {\n        return entityManager.createNamedQuery(name);\n    }        \n\n    // many other methods....\n}\n</code></pre>\n\n<p>The class of the test looks like this:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"/com/main/resources/root-context.xml\", \"/com/main/resources/servlet-context.xml\"})\npublic class TestModel {\n\n    @Before\n    public void setUp() throws Exception{\n        ...\n    }\n\n    @Test\n    public void test(){\n        ...\n    }\n}\n</code></pre>\n\n<p>My root-context.xml is the following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:aop=\"http://www.springframework.org/schema/aop\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/aop\n        http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context-3.0.xsd \n        http://www.springframework.org/schema/mvc \n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd        \n        http://www.springframework.org/schema/tx\n        http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n        \"\n&gt;\n\n    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n    &lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"username\" value=\"root\" /&gt;\n        &lt;property name=\"password\" value=\"root\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"unitname\" /&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"packagesToScan\" value=\"com.main\" /&gt;\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n                &lt;property name=\"showSql\" value=\"true\" /&gt;\n                &lt;property name=\"generateDdl\" value=\"false\" /&gt;\n                &lt;property name=\"databasePlatform\" value=\"org.hibernate.dialect.MySQL5Dialect\" /&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean class=\"org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor\" /&gt;\n\n\n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\" proxy-target-class=\"false\" /&gt;\n    &lt;context:component-scan base-package=\"com.main\" /&gt;\n    &lt;context:annotation-config /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>I've tried several approaches without success, even adding the PersistenceAnnotationBeanPostProcessor as suggested in other SO questions. All other things seem to work fine: Hibernate creates the database tables, the context is loaded, etc. What I am doing wrong? </p>\n\n<p><strong>Edit</strong>: the stack trace is the following:</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.main.model.dao.JPAImpl.GenericDAOImpl.createNamedQuery(GenericDAOImpl.java:119)\n    at com.main.model.bo.DescriptorBO.persist(DescriptorBO.java:52)\n    at com.main.webmodule.JSONSerializer.deserialize(JSONSerializer.java:149)\n    at com.main.tests.TestModel.test(TestModel.java:86)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>And here is the persistence.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"2.0\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n    &lt;persistence-unit name=\"unitname\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;mapping-file&gt;META-INF/jpql/NamedQueries.xml&lt;/mapping-file&gt;\n\n\n        &lt;class&gt;com.main.model.Account&lt;/class&gt;\n        &lt;class&gt;com.main.model.Action&lt;/class&gt;\n        &lt;class&gt;com.main.model.Device&lt;/class&gt;\n        &lt;class&gt;com.main.model.DeviceDescriptor&lt;/class&gt;\n        &lt;class&gt;com.main.model.Event&lt;/class&gt;\n        &lt;class&gt;com.main.model.File&lt;/class&gt;\n        &lt;class&gt;com.main.model.Rule&lt;/class&gt;\n        &lt;class&gt;com.main.model.StateVar&lt;/class&gt;\n        &lt;class&gt;com.main.model.Argument&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt; \n\n\n        &lt;properties&gt;\n\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.jdbc.Driver\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"root\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"root\"/&gt;\n            &lt;property name=\"hibernate.connection.provider_class\" value=\"org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider\" /&gt;\n            &lt;property name=\"hibernate.connection.autocommit\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.connection.release_mode\" value=\"auto\"/&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://127.0.0.1:3306/testweb\"/&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\"/&gt;\n\n            &lt;property name=\"hibernate.c3p0.min_size\" value=\"1\" /&gt;\n            &lt;property name=\"hibernate.c3p0.max_size\" value=\"10\" /&gt;\n            &lt;property name=\"hibernate.c3p0.acquire_increment\" value=\"1\" /&gt;\n            &lt;property name=\"hibernate.c3p0.idle_test_period\" value=\"300\" /&gt;\n            &lt;property name=\"hibernate.c3p0.max_statements\" value=\"0\" /&gt;\n            &lt;property name=\"hibernate.c3p0.timeout\" value=\"100\" /&gt;\n\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQL5Dialect\"/&gt;\n\n        &lt;/properties&gt;\n\n\n\n\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","gradle","locale","jpackage"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637172608,"post_id":70009017,"comment_id":123757430,"body_markdown":"Have you verified programmatically the version of Java at runtime?","body":"Have you verified programmatically the version of Java at runtime?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1637172714,"post_id":70009017,"comment_id":123757483,"body_markdown":"CLDR is used first by default in modern Java. You are overruling that. Your change may be justified for the sake of troubleshooting, but I want to make sure you’re aware of [*JEP 252: Use CLDR Locale Data by Default*](https://openjdk.java.net/jeps/252).","body":"CLDR is used first by default in modern Java. You are overruling that. Your change may be justified for the sake of troubleshooting, but I want to make sure you’re aware of <a href=\"https://openjdk.java.net/jeps/252\" rel=\"nofollow noreferrer\"><i>JEP 252: Use CLDR Locale Data by Default</i></a>."},{"owner":{"account_id":1001833,"reputation":2489,"user_id":1016514,"accept_rate":100,"display_name":"Hans"},"score":0,"creation_date":1637174036,"post_id":70009017,"comment_id":123757985,"body_markdown":"@BasilBourque, thanks for the pointer - CLDR appears to not be a part of the problem: When I add the correct module as pointed out by the accepted answer, I get the right output with and without setting the locale providers. (So I&#39;ll be leaving that out.)","body":"@BasilBourque, thanks for the pointer - CLDR appears to not be a part of the problem: When I add the correct module as pointed out by the accepted answer, I get the right output with and without setting the locale providers. (So I&#39;ll be leaving that out.)"}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1637170902,"creation_date":1637170902,"answer_id":70009139,"question_id":70009017,"body_markdown":"Check what modules are included in your runtime image.\r\n\r\nFor example when I run ```java --list-modules``` on JDK 17 I notice this module:\r\n\r\n  jdk.localedata\r\n\r\nI don&#39;t know if it is required for this, but I bet that module isn&#39;t being included by jpackage unless it is specifically requested.\r\n\r\nRun ```./app/build/jpackage/app/lib/runtime/bin/java --list-modules``` and compare with ```~/.gradle/jdks/jdk-17+35/bin/java --list-modules```  to confirm.  Then consider making an image with ```jlink``` that includes ```jdk.localedata``` if it was missing to test this hypothesis.","title":"Java program uses wrong locale when jpackaged","body":"<p>Check what modules are included in your runtime image.</p>\n<p>For example when I run <code>java --list-modules</code> on JDK 17 I notice this module:</p>\n<p>jdk.localedata</p>\n<p>I don't know if it is required for this, but I bet that module isn't being included by jpackage unless it is specifically requested.</p>\n<p>Run <code>./app/build/jpackage/app/lib/runtime/bin/java --list-modules</code> and compare with <code>~/.gradle/jdks/jdk-17+35/bin/java --list-modules</code>  to confirm.  Then consider making an image with <code>jlink</code> that includes <code>jdk.localedata</code> if it was missing to test this hypothesis.</p>\n"}],"owner":{"account_id":1001833,"reputation":2489,"user_id":1016514,"accept_rate":100,"display_name":"Hans"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70009139,"answer_count":1,"score":5,"last_activity_date":1637170902,"creation_date":1637170302,"question_id":70009017,"body_markdown":"I am parsing strings representing German-style numbers (i.e., decimal comma and optional full stop for grouping thousands), e.g., &quot;2.804,13&quot;; this is just done using a `DecimalFormat` based on my desired `Locale`:\r\n\r\n```\r\npackage loc_test;\r\n\r\nimport java.text.DecimalFormat;\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class ParseNumbers {\r\n\tstatic final DecimalFormat df = (DecimalFormat) NumberFormat.getNumberInstance(Locale.GERMANY);\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tfor (String s : new String[] { &quot;2.815,53&quot;, &quot;2815,53&quot; }) {\r\n\t\t\tSystem.out.println(String.format(&quot;%s \\t-&gt; %s&quot;, s, df.parse(s)));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThis gives the desired output, e.g., when compiled and run from the command line:\r\n```\r\n2.815,53        -&gt; 2815.53\r\n2815,53         -&gt; 2815.53\r\n```\r\n\r\nHowever, when I bundle it as a jpackage image (`./gradlew jpackageImage` using Gradle and the [Badass Runtime Plugin][1]) and run the resulting binary, the output seems to indicate that a wrong locale is used:\r\n```\r\n2.815,53 \t-&gt; 2.815\r\n2815,53 \t-&gt; 281553\r\n```\r\n\r\nI have tried out a few things (in vain), and the problem does not seem to be in the code itself:\r\n1. Added `Locale.setDefault(Locale.GERMANY)` in the `main`. `Locale.getDefault()` will show the German locale, but it has no effect.\r\n2. Explicitly set `-Duser.country=DE` and `-Duser.language=de` via Java command line parameters. `System.getProperty(...)` shows the expected values, but again, no effect. (Also, from the command line, it also works with these being set to the system defaults.)\r\n3. Added `-Djava.locale.providers=COMPAT,CLDR,SPI` to the jpackage Java command line parameters (from [this thread][2]). Again, I can verify from the `main` that the property is set correctly, but it makes no difference. (And seems to have been an issue with earlier Java versions anyway.)\r\n\r\nI have seen the problem first using **Java 16 with Gradle 7.2**; and it has persisted after an update to **Java 17 and Gradle 7.3**. The problem has occurred both on an English Linux system and a German Windows machine.\r\n\r\nUsing `--info` with the `jpackageImage` command, Gradle shows me which JDK it is using:\r\n\r\n```\r\nStarting process &#39;command &#39;.../.gradle/jdks/jdk-17+35/bin/jpackage&#39;&#39;. Working directory: .../LocTest/app Command: .../.gradle/jdks/jdk-17+35/bin/jpackage --type app-image --input .../LocTest/app/build/install/app/lib --main-jar app.jar --main-class LocTest.App --dest .../LocTest/app/build/jpackage --name app --runtime-image .../LocTest/app/build/jre --java-options -Duser.country=DE --java-options -Duser.language=de --java-options -Djava.locale.providers=COMPAT,CLDR,SPI\r\n```\r\n\r\nWhen I use that `.gradle/jdks/jdk-17+35/bin/java` to run the class, i.e., run:\r\n\r\n```\r\n~/.gradle/jdks/jdk-17+35/bin/java -cp app/build/classes/java/main loc_test.App`\r\n```\r\n\r\nWith this, the problem does *not* occur; the numbers are correct.\r\n\r\nHowever, the problem *does* occur when I use the (supposedly same) JRE bundled with the jpackage image, i.e., I get the *wrong* numbers using:\r\n\r\n```\r\n./app/build/jpackage/app/lib/runtime/bin/java -cp app/build/classes/java/main/ loc_test.App\r\n```\r\n\r\nWhy would the `java`, when packaged, ignore the locale?\r\nAm I missing something here, or might this be a bug in jpackage or the plugin, or in the Java release itself?\r\n\r\nThe whole Gradle example project (very small) [can be found at Github][3].\r\n\r\n\r\n  [1]: https://badass-runtime-plugin.beryx.org/releases/latest/\r\n  [2]: https://stackoverflow.com/questions/65218374/how-to-use-unsupported-locale-in-java-11-and-numbers-in-string-format/65221042#65221042\r\n  [3]: https://github.com/hansi-b/JpackageLocaleTest","title":"Java program uses wrong locale when jpackaged","body":"<p>I am parsing strings representing German-style numbers (i.e., decimal comma and optional full stop for grouping thousands), e.g., &quot;2.804,13&quot;; this is just done using a <code>DecimalFormat</code> based on my desired <code>Locale</code>:</p>\n<pre><code>package loc_test;\n\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class ParseNumbers {\n    static final DecimalFormat df = (DecimalFormat) NumberFormat.getNumberInstance(Locale.GERMANY);\n\n    public static void main(String[] args) throws Exception {\n        for (String s : new String[] { &quot;2.815,53&quot;, &quot;2815,53&quot; }) {\n            System.out.println(String.format(&quot;%s \\t-&gt; %s&quot;, s, df.parse(s)));\n        }\n    }\n}\n</code></pre>\n<p>This gives the desired output, e.g., when compiled and run from the command line:</p>\n<pre><code>2.815,53        -&gt; 2815.53\n2815,53         -&gt; 2815.53\n</code></pre>\n<p>However, when I bundle it as a jpackage image (<code>./gradlew jpackageImage</code> using Gradle and the <a href=\"https://badass-runtime-plugin.beryx.org/releases/latest/\" rel=\"noreferrer\">Badass Runtime Plugin</a>) and run the resulting binary, the output seems to indicate that a wrong locale is used:</p>\n<pre><code>2.815,53    -&gt; 2.815\n2815,53     -&gt; 281553\n</code></pre>\n<p>I have tried out a few things (in vain), and the problem does not seem to be in the code itself:</p>\n<ol>\n<li>Added <code>Locale.setDefault(Locale.GERMANY)</code> in the <code>main</code>. <code>Locale.getDefault()</code> will show the German locale, but it has no effect.</li>\n<li>Explicitly set <code>-Duser.country=DE</code> and <code>-Duser.language=de</code> via Java command line parameters. <code>System.getProperty(...)</code> shows the expected values, but again, no effect. (Also, from the command line, it also works with these being set to the system defaults.)</li>\n<li>Added <code>-Djava.locale.providers=COMPAT,CLDR,SPI</code> to the jpackage Java command line parameters (from <a href=\"https://stackoverflow.com/questions/65218374/how-to-use-unsupported-locale-in-java-11-and-numbers-in-string-format/65221042#65221042\">this thread</a>). Again, I can verify from the <code>main</code> that the property is set correctly, but it makes no difference. (And seems to have been an issue with earlier Java versions anyway.)</li>\n</ol>\n<p>I have seen the problem first using <strong>Java 16 with Gradle 7.2</strong>; and it has persisted after an update to <strong>Java 17 and Gradle 7.3</strong>. The problem has occurred both on an English Linux system and a German Windows machine.</p>\n<p>Using <code>--info</code> with the <code>jpackageImage</code> command, Gradle shows me which JDK it is using:</p>\n<pre><code>Starting process 'command '.../.gradle/jdks/jdk-17+35/bin/jpackage''. Working directory: .../LocTest/app Command: .../.gradle/jdks/jdk-17+35/bin/jpackage --type app-image --input .../LocTest/app/build/install/app/lib --main-jar app.jar --main-class LocTest.App --dest .../LocTest/app/build/jpackage --name app --runtime-image .../LocTest/app/build/jre --java-options -Duser.country=DE --java-options -Duser.language=de --java-options -Djava.locale.providers=COMPAT,CLDR,SPI\n</code></pre>\n<p>When I use that <code>.gradle/jdks/jdk-17+35/bin/java</code> to run the class, i.e., run:</p>\n<pre><code>~/.gradle/jdks/jdk-17+35/bin/java -cp app/build/classes/java/main loc_test.App`\n</code></pre>\n<p>With this, the problem does <em>not</em> occur; the numbers are correct.</p>\n<p>However, the problem <em>does</em> occur when I use the (supposedly same) JRE bundled with the jpackage image, i.e., I get the <em>wrong</em> numbers using:</p>\n<pre><code>./app/build/jpackage/app/lib/runtime/bin/java -cp app/build/classes/java/main/ loc_test.App\n</code></pre>\n<p>Why would the <code>java</code>, when packaged, ignore the locale?\nAm I missing something here, or might this be a bug in jpackage or the plugin, or in the Java release itself?</p>\n<p>The whole Gradle example project (very small) <a href=\"https://github.com/hansi-b/JpackageLocaleTest\" rel=\"noreferrer\">can be found at Github</a>.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":1146287,"reputation":4408,"user_id":1128953,"accept_rate":75,"display_name":"Liping Huang"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1479375708,"creation_date":1479375198,"answer_id":40651207,"question_id":40649177,"body_markdown":"According to the doc\r\n\r\n    /**\r\n     * One of the constants on Jackson&#39;s PropertyNamingStrategy\r\n     * (CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES). Can also be a fully-qualified class\r\n     * name of a PropertyNamingStrategy subclass.\r\n     */\r\n    private String propertyNamingStrategy;\r\n\r\nYou can config it in &quot;application.properties&quot; with this:\r\n\r\n    spring.jackson.property-naming-strategy=com.fasterxml.jackson.databind.PropertyNamingStrategy.SnakeCaseStrategy\r\n\r\n","title":"Jackson is ignoring spring.jackson.properties in my spring boot application","body":"<p>According to the doc</p>\n\n<pre><code>/**\n * One of the constants on Jackson's PropertyNamingStrategy\n * (CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES). Can also be a fully-qualified class\n * name of a PropertyNamingStrategy subclass.\n */\nprivate String propertyNamingStrategy;\n</code></pre>\n\n<p>You can config it in \"application.properties\" with this:</p>\n\n<pre><code>spring.jackson.property-naming-strategy=com.fasterxml.jackson.databind.PropertyNamingStrategy.SnakeCaseStrategy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1516806777,"creation_date":1479694155,"answer_id":40711797,"question_id":40649177,"body_markdown":"I had `@EnableWebMvc` annotation in one of the classes (ExceptionHandler) in my Application (face-palm!). \r\n\r\nBut, as per this [issue][1], \r\n\r\n&gt; If you have @EnableWebMvc annotation, that disables the\r\n&gt; auto-configuration of Spring MVC, including the configuring of its\r\n&gt; message converters to customize Jackson&#39;s serialization.\r\n\r\n\r\n\r\n&gt; It&#39;s expected behavior when you use @EnableWebMvc as, by doing so,\r\n&gt; you&#39;re telling Spring Boot that you want to take control of Spring\r\n&gt; MVC&#39;s configuration. That includes configuring its HTTP message\r\n&gt; converters to (de)serialize JSON in the manner that meets your needs.\r\n&gt; \r\n&gt; If you want to override the Jackson configuration, you can either use\r\n&gt; the spring.jackson.* properties or, if you want more control, declare\r\n&gt; your own Jackson2ObjectMapperBuilder bean.\r\n\r\nOnce I removed `@EnableWebMvc` annotation, this property works as expected.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/2566","title":"Jackson is ignoring spring.jackson.properties in my spring boot application","body":"<p>I had <code>@EnableWebMvc</code> annotation in one of the classes (ExceptionHandler) in my Application (face-palm!). </p>\n\n<p>But, as per this <a href=\"https://github.com/spring-projects/spring-boot/issues/2566\" rel=\"noreferrer\">issue</a>, </p>\n\n<blockquote>\n  <p>If you have @EnableWebMvc annotation, that disables the\n  auto-configuration of Spring MVC, including the configuring of its\n  message converters to customize Jackson's serialization.</p>\n  \n  <p>It's expected behavior when you use @EnableWebMvc as, by doing so,\n  you're telling Spring Boot that you want to take control of Spring\n  MVC's configuration. That includes configuring its HTTP message\n  converters to (de)serialize JSON in the manner that meets your needs.</p>\n  \n  <p>If you want to override the Jackson configuration, you can either use\n  the spring.jackson.* properties or, if you want more control, declare\n  your own Jackson2ObjectMapperBuilder bean.</p>\n</blockquote>\n\n<p>Once I removed <code>@EnableWebMvc</code> annotation, this property works as expected.</p>\n"},{"tags":[],"owner":{"account_id":148887,"reputation":4330,"user_id":1700467,"display_name":"skadya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480185706,"creation_date":1480185706,"answer_id":40821787,"question_id":40649177,"body_markdown":"MappingJackson2HttpMessageConverter class uses the default instance created by [Jackson2ObjectMapperBuilder.json()][1] method. In order to use application conext&#39;s ObjectMapper, you can register a custom [WebMvcConfigurerAdapter][2]. \r\n\r\n\t@Configuration\r\n\tpublic class WebMvcDefaultObjectMapperConfigurerAdapter extends WebMvcConfigurerAdapter {\r\n\r\n\t\tprivate ObjectMapper mapper;\r\n\r\n\t\t@Autowired\r\n\t\tpublic WebMvcDefaultObjectMapperConfigurerAdapter(ObjectMapper mapper) {\r\n\t\t\t// default mapper configured with spring.*\r\n\t\t\tthis.mapper = mapper;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\t\t\tfor (HttpMessageConverter&lt;?&gt; httpConverter : converters) {\r\n\t\t\t\tif (httpConverter instanceof MappingJackson2HttpMessageConverter) {\r\n\t\t\t\t\t// register the configured object mapper to HttpMessageconter\r\n\t\t\t\t\t((MappingJackson2HttpMessageConverter) httpConverter).setObjectMapper(mapper);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    \r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html#json--\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.html","title":"Jackson is ignoring spring.jackson.properties in my spring boot application","body":"<p>MappingJackson2HttpMessageConverter class uses the default instance created by <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html#json--\" rel=\"nofollow noreferrer\">Jackson2ObjectMapperBuilder.json()</a> method. In order to use application conext's ObjectMapper, you can register a custom <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.html\" rel=\"nofollow noreferrer\">WebMvcConfigurerAdapter</a>. </p>\n\n<pre><code>@Configuration\npublic class WebMvcDefaultObjectMapperConfigurerAdapter extends WebMvcConfigurerAdapter {\n\n    private ObjectMapper mapper;\n\n    @Autowired\n    public WebMvcDefaultObjectMapperConfigurerAdapter(ObjectMapper mapper) {\n        // default mapper configured with spring.*\n        this.mapper = mapper;\n    }\n\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        for (HttpMessageConverter&lt;?&gt; httpConverter : converters) {\n            if (httpConverter instanceof MappingJackson2HttpMessageConverter) {\n                // register the configured object mapper to HttpMessageconter\n                ((MappingJackson2HttpMessageConverter) httpConverter).setObjectMapper(mapper);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1605033,"reputation":362,"user_id":1485287,"display_name":"Neo Pham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560769840,"creation_date":1560769840,"answer_id":56630093,"question_id":40649177,"body_markdown":"Just like @skadya&#39;s answer, I update it in new spring version and Java 8 styles.\r\n\r\n    @EnableWebMvc\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        private ObjectMapper mapper;\r\n    \r\n        @Autowired  // spring.jackson.* ObjectMapper&#39;s config\r\n        public WebConfig(ObjectMapper mapper) {\r\n            this.mapper = mapper;\r\n        }\r\n    \r\n        @Override\r\n        public void extendMessageConverters (List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            converters.stream()\r\n                    .filter(x -&gt; x instanceof  MappingJackson2HttpMessageConverter)\r\n                    .forEach(x -&gt; ((MappingJackson2HttpMessageConverter) x).setObjectMapper(mapper));\r\n        }\r\n    }","title":"Jackson is ignoring spring.jackson.properties in my spring boot application","body":"<p>Just like @skadya's answer, I update it in new spring version and Java 8 styles.</p>\n\n<pre><code>@EnableWebMvc\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    private ObjectMapper mapper;\n\n    @Autowired  // spring.jackson.* ObjectMapper's config\n    public WebConfig(ObjectMapper mapper) {\n        this.mapper = mapper;\n    }\n\n    @Override\n    public void extendMessageConverters (List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.stream()\n                .filter(x -&gt; x instanceof  MappingJackson2HttpMessageConverter)\n                .forEach(x -&gt; ((MappingJackson2HttpMessageConverter) x).setObjectMapper(mapper));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7484685,"reputation":89,"user_id":5688352,"display_name":"Chris Paika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563464178,"creation_date":1563464178,"answer_id":57098129,"question_id":40649177,"body_markdown":"For the record, to solve a similar problem I added this to my application.properties and it worked well:\r\n`spring.jackson.property-naming-strategy=SNAKE_CASE`\r\n\r\nNote, you don&#39;t need to fully qualify the SNAKE_CASE like in other answers","title":"Jackson is ignoring spring.jackson.properties in my spring boot application","body":"<p>For the record, to solve a similar problem I added this to my application.properties and it worked well:\n<code>spring.jackson.property-naming-strategy=SNAKE_CASE</code></p>\n\n<p>Note, you don't need to fully qualify the SNAKE_CASE like in other answers</p>\n"},{"tags":[],"owner":{"account_id":8869408,"reputation":21,"user_id":6623515,"display_name":"王晓风"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569410223,"creation_date":1569410223,"answer_id":58097152,"question_id":40649177,"body_markdown":"I think maybe you created class extends `WebMvcConfigurationSupport` ,`WebMvcConfigurationSupport` contains @EnableWebMvc, do not extends `WebMvcConfigurationSupport` ,do use some class extends `WebMvcConfigurationSupport`","title":"Jackson is ignoring spring.jackson.properties in my spring boot application","body":"<p>I think maybe you created class extends <code>WebMvcConfigurationSupport</code> ,<code>WebMvcConfigurationSupport</code> contains @EnableWebMvc, do not extends <code>WebMvcConfigurationSupport</code> ,do use some class extends <code>WebMvcConfigurationSupport</code></p>\n"},{"tags":[],"owner":{"account_id":5375254,"reputation":60,"user_id":4282400,"display_name":"Nuno Nelas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637170776,"creation_date":1637170776,"answer_id":70009106,"question_id":40649177,"body_markdown":"For anyone who stumbles on this thread, I had the same symptom as OP and for my case, it was happening because I&#39;d defined a `@Bean` for a `JsonMapper` (to use on different parts of my code), like this:\r\n```\r\n  @Bean\r\n  fun objectMapper(): JsonMapper {\r\n    return JsonMapper.builder()\r\n      .findAndAddModules()\r\n      .build()\r\n  }\r\n```\r\n\r\nThe thing that I forgot is that Spring uses Jackson to convert messages. So, in order to fix it, I just had to define a `PropertyNamingStrategies`:\r\n```\r\n  @Bean\r\n  fun objectMapper(): JsonMapper {\r\n    return JsonMapper.builder()\r\n      .findAndAddModules()\r\n      .propertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE)\r\n      .build()\r\n  }\r\n```","title":"Jackson is ignoring spring.jackson.properties in my spring boot application","body":"<p>For anyone who stumbles on this thread, I had the same symptom as OP and for my case, it was happening because I'd defined a <code>@Bean</code> for a <code>JsonMapper</code> (to use on different parts of my code), like this:</p>\n<pre><code>  @Bean\n  fun objectMapper(): JsonMapper {\n    return JsonMapper.builder()\n      .findAndAddModules()\n      .build()\n  }\n</code></pre>\n<p>The thing that I forgot is that Spring uses Jackson to convert messages. So, in order to fix it, I just had to define a <code>PropertyNamingStrategies</code>:</p>\n<pre><code>  @Bean\n  fun objectMapper(): JsonMapper {\n    return JsonMapper.builder()\n      .findAndAddModules()\n      .propertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE)\n      .build()\n  }\n</code></pre>\n"}],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19631,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":40711797,"answer_count":7,"score":19,"last_activity_date":1637170776,"creation_date":1479368435,"question_id":40649177,"body_markdown":"Jackson is ignoring spring.jackson.property-naming-strategy=SNAKE_CASE.\r\nI am using springBootVersion 1.4.2.RELEASE. In my application.properties file, I have added \r\n\r\n&gt; spring.jackson.property-naming-strategy=SNAKE_CASE\r\n\r\nBut Jackson is not honoring this property, and my REST response is still camelCase. Interestingly, this annotation works just fine \r\n\r\n&gt; @JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\r\n\r\nWith this annotation, I am getting snake_case response. But I don&#39;t want to annotate each response class, it&#39;s a bit annoying.\r\n\r\nEdit\r\n---\r\nI tried using fully qualified class name as well,\r\n\r\n&gt; spring.jackson.property-naming-strategy=com.fasterxml.jackson.databind.PropertyNamingStrategy.SnakeCaseStrategy\r\n\r\n that did not work either","title":"Jackson is ignoring spring.jackson.properties in my spring boot application","body":"<p>Jackson is ignoring spring.jackson.property-naming-strategy=SNAKE_CASE.\nI am using springBootVersion 1.4.2.RELEASE. In my application.properties file, I have added </p>\n\n<blockquote>\n  <p>spring.jackson.property-naming-strategy=SNAKE_CASE</p>\n</blockquote>\n\n<p>But Jackson is not honoring this property, and my REST response is still camelCase. Interestingly, this annotation works just fine </p>\n\n<blockquote>\n  <p>@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)</p>\n</blockquote>\n\n<p>With this annotation, I am getting snake_case response. But I don't want to annotate each response class, it's a bit annoying.</p>\n\n<h2>Edit</h2>\n\n<p>I tried using fully qualified class name as well,</p>\n\n<blockquote>\n  <p>spring.jackson.property-naming-strategy=com.fasterxml.jackson.databind.PropertyNamingStrategy.SnakeCaseStrategy</p>\n</blockquote>\n\n<p>that did not work either</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1637147206,"post_id":70002473,"comment_id":123746090,"body_markdown":"Do you need to filter out all the rows which have minimal sum, or the first such row?","body":"Do you need to filter out all the rows which have minimal sum, or the first such row?"},{"owner":{"account_id":23365261,"reputation":1,"user_id":17436959,"display_name":"Miodrag Mihajlov"},"score":0,"creation_date":1637155220,"post_id":70002473,"comment_id":123749324,"body_markdown":"First such row.","body":"First such row."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1637161808,"post_id":70002473,"comment_id":123752387,"body_markdown":"Please include your attempt at performing this task.","body":"Please include your attempt at performing this task."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637145928,"creation_date":1637145928,"answer_id":70002915,"question_id":70002473,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) {\r\n        int[][] matrix = {\r\n            {0, 1, 2},\r\n            {3, 4, 5},\r\n            {6, 7, 8}};\r\n\r\n        int minRowSum = Stream.of(matrix)\r\n            .mapToInt(row -&gt; IntStream.of(row).sum())\r\n            .min().getAsInt();\r\n        \r\n        int[][] result = Stream.of(matrix)\r\n            .filter(row -&gt; IntStream.of(row).sum() &gt; minRowSum)\r\n            .toArray(int[][]::new);\r\n\r\n        for (int[] row : result)\r\n            System.out.println(Arrays.toString(row));\r\n    }\r\n\r\noutput:\r\n\r\n    [3, 4, 5]\r\n    [6, 7, 8]\r\n\r\n","title":"Java 2D array (matrix). Sum of each row separately","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    int[][] matrix = {\n        {0, 1, 2},\n        {3, 4, 5},\n        {6, 7, 8}};\n\n    int minRowSum = Stream.of(matrix)\n        .mapToInt(row -&gt; IntStream.of(row).sum())\n        .min().getAsInt();\n    \n    int[][] result = Stream.of(matrix)\n        .filter(row -&gt; IntStream.of(row).sum() &gt; minRowSum)\n        .toArray(int[][]::new);\n\n    for (int[] row : result)\n        System.out.println(Arrays.toString(row));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[3, 4, 5]\n[6, 7, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637160688,"creation_date":1637160688,"answer_id":70006602,"question_id":70002473,"body_markdown":"If only the first row with minimal sum needs to be deleted, it may be needed to find the index of the minimal row.\r\n\r\nAlso, the row sums are not calculated here in the second pass.\r\n```java\r\npublic static int[][] removeMinRow(int[][] data) {\r\n    int indexOfMinRow = IntStream.range(0, data.length)\r\n        .boxed()\r\n        .min(Comparator.comparingInt(i -&gt; Arrays.stream(data[i]).sum()))\r\n        .orElse(-1);\r\n    \r\n    if (indexOfMinRow == -1) {\r\n        return data; // nothing to delete from\r\n    }\r\n\r\n    int[][] result = new int[data.length - 1][];\r\n    for (int i = 0, j = 0; i &lt; data.length; i++) {\r\n        if (i != indexOfMinRow) {\r\n            result[j++] = data[i]; // reassigning references to rows\r\n        }\r\n    }\r\n    \r\n    return result;\r\n}\r\n```\r\nTest:\r\n```java\r\nint[][] data = {\r\n    {3, 4, 5},\r\n    {0, 2, 1},           \r\n    {6, 7, 8},\r\n    {0, 1, 2},\r\n};\r\n\r\nSystem.out.println(Arrays.deepToString(removeMinRow(data)));\r\n```\r\nOutput (only the row at index 1 get deleted):\r\n```\r\n[[3, 4, 5], [6, 7, 8], [0, 1, 2]]\r\n```","title":"Java 2D array (matrix). Sum of each row separately","body":"<p>If only the first row with minimal sum needs to be deleted, it may be needed to find the index of the minimal row.</p>\n<p>Also, the row sums are not calculated here in the second pass.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[][] removeMinRow(int[][] data) {\n    int indexOfMinRow = IntStream.range(0, data.length)\n        .boxed()\n        .min(Comparator.comparingInt(i -&gt; Arrays.stream(data[i]).sum()))\n        .orElse(-1);\n    \n    if (indexOfMinRow == -1) {\n        return data; // nothing to delete from\n    }\n\n    int[][] result = new int[data.length - 1][];\n    for (int i = 0, j = 0; i &lt; data.length; i++) {\n        if (i != indexOfMinRow) {\n            result[j++] = data[i]; // reassigning references to rows\n        }\n    }\n    \n    return result;\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] data = {\n    {3, 4, 5},\n    {0, 2, 1},           \n    {6, 7, 8},\n    {0, 1, 2},\n};\n\nSystem.out.println(Arrays.deepToString(removeMinRow(data)));\n</code></pre>\n<p>Output (only the row at index 1 get deleted):</p>\n<pre><code>[[3, 4, 5], [6, 7, 8], [0, 1, 2]]\n</code></pre>\n"}],"owner":{"account_id":23365261,"reputation":1,"user_id":17436959,"display_name":"Miodrag Mihajlov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1637170527,"creation_date":1637143942,"question_id":70002473,"body_markdown":"I know how to scan how to print matrix.  Also I know how to get sum of each row.  \r\n\r\nI have a task to scan matrix, then to calculate sum of each row separately, and then to make new matrix and to exclude a row with the smallest sum.","title":"Java 2D array (matrix). Sum of each row separately","body":"<p>I know how to scan how to print matrix.  Also I know how to get sum of each row.</p>\n<p>I have a task to scan matrix, then to calculate sum of each row separately, and then to make new matrix and to exclude a row with the smallest sum.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1637165982,"post_id":70007931,"comment_id":123754566,"body_markdown":"Rather than *describing* the code, please *show* the code - also give details about the versions of Java you and your friend are using.","body":"Rather than <i>describing</i> the code, please <i>show</i> the code - also give details about the versions of Java you and your friend are using."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637168787,"creation_date":1637167132,"answer_id":70008290,"question_id":70007931,"body_markdown":"You probably have your compiler compliance level set to Java 16 (or above). The language specification was changed to allow static members and methods in inner classes in Java 16 - see [JLS &#167;8.1.3](https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.1.3). This was included as part of the [JEP 395](https://openjdk.java.net/jeps/395)\r\n\r\nWith the compliance level set to Java 15 or before Eclipse will reject static methods or members in a inner class.","title":"Why does my eclipse IDE run without compiler error when I create a non static inner class with static methods and variables?","body":"<p>You probably have your compiler compliance level set to Java 16 (or above). The language specification was changed to allow static members and methods in inner classes in Java 16 - see <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">JLS §8.1.3</a>. This was included as part of the <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a></p>\n<p>With the compliance level set to Java 15 or before Eclipse will reject static methods or members in a inner class.</p>\n"}],"owner":{"account_id":21456355,"reputation":21,"user_id":15807915,"display_name":"ro3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1637170505,"answer_count":1,"score":1,"last_activity_date":1637170501,"creation_date":1637165734,"question_id":70007931,"body_markdown":"Member inner classes can’t have static members in them. When my friend ran the same code on her eclipse IDE she got a compiler error for a static member in a non static inner class. When I run the code there are no errors. Why?\r\n\r\nThis is the code:\r\n\r\n    public class Outer {\r\n        class Inner {\r\n            static void method() {\r\n                System.out.println(&quot;Static method in Inner Class&quot;);\r\n            }\r\n        }\r\n    }","title":"Why does my eclipse IDE run without compiler error when I create a non static inner class with static methods and variables?","body":"<p>Member inner classes can’t have static members in them. When my friend ran the same code on her eclipse IDE she got a compiler error for a static member in a non static inner class. When I run the code there are no errors. Why?</p>\n<p>This is the code:</p>\n<pre><code>public class Outer {\n    class Inner {\n        static void method() {\n            System.out.println(&quot;Static method in Inner Class&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10128760,"reputation":162,"user_id":7483051,"accept_rate":100,"display_name":"Dimness"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637170221,"creation_date":1637146066,"answer_id":70002947,"question_id":70002819,"body_markdown":"You can use Handler&#39;s postDelayed() method, and pass in a Runnable task. Example:\r\n\r\n    final Handler handler = new Handler();\r\n    handler.postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Do your work here after 10s\r\n        }\r\n    }, 10000);\r\n\r\nEDIT:\r\n\r\nIn your code it would be something like this:\r\n\r\n    public class SearchActivity extends BaseActivity {\r\n        @BindView(R.id.search_input)\r\n        EditText searchEditText;\r\n        ...\r\n\r\n        private MixpanelAPI mMixpanel;\r\n\r\n        private CharSequence myCharSequence;\r\n        private final Handler handler;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            ...\r\n        }\r\n\r\n        ...\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                myCharSequence = charSequence;\r\n            }\r\n        ...\r\n\r\n        @OnClick(R.id.search_icon)\r\n        void startSearch(){\r\n            handler.removeCallbacksAndMessages();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        Config.sendToMixpanel(Config.MIXPANEL_EVENT_SEARCH + myCharSequence, mMixpanel);\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }, 10000);\r\n            startActivity(new Intent(getApplicationContext() , SearchActivity.class));\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    ","title":"How to set timer for a search value","body":"<p>You can use Handler's postDelayed() method, and pass in a Runnable task. Example:</p>\n<pre><code>final Handler handler = new Handler();\nhandler.postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do your work here after 10s\n    }\n}, 10000);\n</code></pre>\n<p>EDIT:</p>\n<p>In your code it would be something like this:</p>\n<pre><code>public class SearchActivity extends BaseActivity {\n    @BindView(R.id.search_input)\n    EditText searchEditText;\n    ...\n\n    private MixpanelAPI mMixpanel;\n\n    private CharSequence myCharSequence;\n    private final Handler handler;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        ...\n    }\n\n    ...\n        @Override\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n            myCharSequence = charSequence;\n        }\n    ...\n\n    @OnClick(R.id.search_icon)\n    void startSearch(){\n        handler.removeCallbacksAndMessages();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Config.sendToMixpanel(Config.MIXPANEL_EVENT_SEARCH + myCharSequence, mMixpanel);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, 10000);\n        startActivity(new Intent(getApplicationContext() , SearchActivity.class));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8417966,"reputation":2279,"user_id":6317695,"accept_rate":40,"display_name":"Mahmoud Al-Haroon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637170221,"creation_date":1637145491,"question_id":70002819,"body_markdown":"I am trying to send a search value after complete searching for example after 10 sec as the below code for `onTextChanged` method:\r\n\r\n```\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n//                searchEditText.setImeOptions(EditorInfo.IME_ACTION_SEARCH);\r\n                timer.schedule(new TimerTask() {\r\n                    @Override\r\n                    public void run() {\r\n                        try {\r\n                            Config.sendToMixpanel(Config.MIXPANEL_EVENT_SEARCH + charSequence, mMixpanel);\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }, 10000);\r\n\r\n\r\n            }\r\n```\r\n\r\nit send to the mixpanel multiple times, I want send to mix panel after finishing search the complete searched word and it sent to the mix panel as the below image:\r\n\r\n[![enter image description here][1]][1]\r\nI need to send one time only..\r\n\r\nThis is the below `sendToMixPanel()`:\r\n\r\n```\r\n    //Send the Event to Mix Panel Method\r\n    public static void sendToMixpanel(String logEventName, MixpanelAPI mMixpanelApi) throws JSONException {\r\n        JSONObject props = new JSONObject();\r\n        props.put(&quot;source&quot;, &quot;Pat&#39;s affiliate site&quot;);\r\n        props.put(&quot;Opted out of email&quot;, true);\r\n        mMixpanelApi.track(logEventName, props);\r\n    }\r\n```\r\n\r\nand this is the below search activity:\r\n\r\n```\r\npackage com.quantatil.ikhair.UILayer.Activities;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextUtils;\r\nimport android.text.TextWatcher;\r\nimport android.view.View;\r\nimport android.view.inputmethod.EditorInfo;\r\nimport android.widget.EditText;\r\n\r\nimport com.mixpanel.android.mpmetrics.MixpanelAPI;\r\nimport com.quantatil.ikhair.App.Config;\r\nimport com.quantatil.ikhair.R;\r\nimport com.quantatil.ikhair.UILayer.Fragments.SearchQueryFragment;\r\n\r\nimport org.json.JSONException;\r\n\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport butterknife.OnClick;\r\n\r\npublic class SearchActivity extends BaseActivity {\r\n\r\n\r\n    @BindView(R.id.search_input)\r\n    EditText searchEditText;\r\n    @BindView(R.id.delete_search_query)\r\n    View deleteSearchQuery;\r\n    SearchQueryFragment searchQueryFragment;\r\n\r\n    private MixpanelAPI mMixpanel;\r\n    private Timer timer = new Timer();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_search);\r\n        mMixpanel = MixpanelAPI.getInstance(this, Config.MIXPANEL_API_TOKEN);\r\n        ButterKnife.bind(this);\r\n        searchQueryFragment = new SearchQueryFragment();\r\n        showFragment(searchQueryFragment);\r\n        setupSearchTextWatcher();\r\n    }\r\n\r\n\r\n    private void setupSearchTextWatcher() {\r\n        searchEditText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n//                searchEditText.setImeOptions(EditorInfo.IME_ACTION_SEARCH);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n//                searchEditText.setImeOptions(EditorInfo.IME_ACTION_SEARCH);\r\n                timer.schedule(new TimerTask() {\r\n                    @Override\r\n                    public void run() {\r\n                        try {\r\n                            Config.sendToMixpanel(Config.MIXPANEL_EVENT_SEARCH + charSequence, mMixpanel);\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }, 10000);\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n                String query = searchEditText.getText().toString().trim();\r\n                if (deleteSearchQuery.getVisibility() != View.INVISIBLE &amp;&amp; TextUtils.isEmpty(query)) {\r\n                    deleteSearchQuery.setVisibility(View.INVISIBLE);\r\n                    deleteSearchQuery.setClickable(false);\r\n                    searchQueryFragment.clear();\r\n                } else if (!TextUtils.isEmpty(query)) {\r\n\r\n                    if (deleteSearchQuery.getVisibility() != View.VISIBLE) {\r\n                        deleteSearchQuery.setVisibility(View.VISIBLE);\r\n                        deleteSearchQuery.setClickable(true);\r\n                    }\r\n                    searchQueryFragment.search(searchQueryFragment, query);\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @OnClick(R.id.delete_search_query)\r\n    void deleteSearchQuery() {\r\n        searchEditText.setText(&quot;&quot;);\r\n    }\r\n\r\n    @OnClick(R.id.back_icon)\r\n    void backClicked() {\r\n        onBackPressed();\r\n    }\r\n\r\n}\r\n```\r\n\r\nthe timer works fine but send the value multiple times, want just send one time only..\r\n\r\n#Edited\r\n\r\nI tried to add the timer method in the button I need as the below code:\r\n\r\n```\r\n    private Timer timer = new Timer();\r\n    CharSequence charSequence;\r\n\r\n    @OnClick(R.id.search_icon)\r\n    void startSearch(){\r\n        startActivity(new Intent(getApplicationContext() , SearchActivity.class));\r\n        timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Config.sendToMixpanel(Config.MIXPANEL_EVENT_SEARCH + charSequence, mMixpanel);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        },10000);\r\n```\r\n\r\nIt gives me with a search value with null but it sends it one time only as the below image:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bQIdh.png\r\n  [2]: https://i.stack.imgur.com/4AXLj.png","title":"How to set timer for a search value","body":"<p>I am trying to send a search value after complete searching for example after 10 sec as the below code for <code>onTextChanged</code> method:</p>\n<pre><code>            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n//                searchEditText.setImeOptions(EditorInfo.IME_ACTION_SEARCH);\n                timer.schedule(new TimerTask() {\n                    @Override\n                    public void run() {\n                        try {\n                            Config.sendToMixpanel(Config.MIXPANEL_EVENT_SEARCH + charSequence, mMixpanel);\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }, 10000);\n\n\n            }\n</code></pre>\n<p>it send to the mixpanel multiple times, I want send to mix panel after finishing search the complete searched word and it sent to the mix panel as the below image:</p>\n<p><a href=\"https://i.stack.imgur.com/bQIdh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bQIdh.png\" alt=\"enter image description here\" /></a>\nI need to send one time only..</p>\n<p>This is the below <code>sendToMixPanel()</code>:</p>\n<pre><code>    //Send the Event to Mix Panel Method\n    public static void sendToMixpanel(String logEventName, MixpanelAPI mMixpanelApi) throws JSONException {\n        JSONObject props = new JSONObject();\n        props.put(&quot;source&quot;, &quot;Pat's affiliate site&quot;);\n        props.put(&quot;Opted out of email&quot;, true);\n        mMixpanelApi.track(logEventName, props);\n    }\n</code></pre>\n<p>and this is the below search activity:</p>\n<pre><code>package com.quantatil.ikhair.UILayer.Activities;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextUtils;\nimport android.text.TextWatcher;\nimport android.view.View;\nimport android.view.inputmethod.EditorInfo;\nimport android.widget.EditText;\n\nimport com.mixpanel.android.mpmetrics.MixpanelAPI;\nimport com.quantatil.ikhair.App.Config;\nimport com.quantatil.ikhair.R;\nimport com.quantatil.ikhair.UILayer.Fragments.SearchQueryFragment;\n\nimport org.json.JSONException;\n\nimport java.util.Timer;\nimport java.util.TimerTask;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.OnClick;\n\npublic class SearchActivity extends BaseActivity {\n\n\n    @BindView(R.id.search_input)\n    EditText searchEditText;\n    @BindView(R.id.delete_search_query)\n    View deleteSearchQuery;\n    SearchQueryFragment searchQueryFragment;\n\n    private MixpanelAPI mMixpanel;\n    private Timer timer = new Timer();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_search);\n        mMixpanel = MixpanelAPI.getInstance(this, Config.MIXPANEL_API_TOKEN);\n        ButterKnife.bind(this);\n        searchQueryFragment = new SearchQueryFragment();\n        showFragment(searchQueryFragment);\n        setupSearchTextWatcher();\n    }\n\n\n    private void setupSearchTextWatcher() {\n        searchEditText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n//                searchEditText.setImeOptions(EditorInfo.IME_ACTION_SEARCH);\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n//                searchEditText.setImeOptions(EditorInfo.IME_ACTION_SEARCH);\n                timer.schedule(new TimerTask() {\n                    @Override\n                    public void run() {\n                        try {\n                            Config.sendToMixpanel(Config.MIXPANEL_EVENT_SEARCH + charSequence, mMixpanel);\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }, 10000);\n\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n                String query = searchEditText.getText().toString().trim();\n                if (deleteSearchQuery.getVisibility() != View.INVISIBLE &amp;&amp; TextUtils.isEmpty(query)) {\n                    deleteSearchQuery.setVisibility(View.INVISIBLE);\n                    deleteSearchQuery.setClickable(false);\n                    searchQueryFragment.clear();\n                } else if (!TextUtils.isEmpty(query)) {\n\n                    if (deleteSearchQuery.getVisibility() != View.VISIBLE) {\n                        deleteSearchQuery.setVisibility(View.VISIBLE);\n                        deleteSearchQuery.setClickable(true);\n                    }\n                    searchQueryFragment.search(searchQueryFragment, query);\n\n                }\n            }\n        });\n    }\n\n\n    @OnClick(R.id.delete_search_query)\n    void deleteSearchQuery() {\n        searchEditText.setText(&quot;&quot;);\n    }\n\n    @OnClick(R.id.back_icon)\n    void backClicked() {\n        onBackPressed();\n    }\n\n}\n</code></pre>\n<p>the timer works fine but send the value multiple times, want just send one time only..</p>\n<p>#Edited</p>\n<p>I tried to add the timer method in the button I need as the below code:</p>\n<pre><code>    private Timer timer = new Timer();\n    CharSequence charSequence;\n\n    @OnClick(R.id.search_icon)\n    void startSearch(){\n        startActivity(new Intent(getApplicationContext() , SearchActivity.class));\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                try {\n                    Config.sendToMixpanel(Config.MIXPANEL_EVENT_SEARCH + charSequence, mMixpanel);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        },10000);\n</code></pre>\n<p>It gives me with a search value with null but it sends it one time only as the below image:</p>\n<p><a href=\"https://i.stack.imgur.com/4AXLj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4AXLj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","opencv"],"answers":[{"tags":[],"owner":{"account_id":181697,"reputation":2049,"user_id":415877,"accept_rate":57,"display_name":"ipsi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1467967626,"creation_date":1467967626,"answer_id":38262490,"question_id":38262346,"body_markdown":"`-Djava.library.path` shouldn&#39;t point to the DLL, but to the folder containing the DLL. e.g. `-Djava.library.path=D:/Projects/lib/opencv/x86/`","title":"java.lang.UnsatisfiedLinkError: no opencv_java2411 in java.library.path","body":"<p><code>-Djava.library.path</code> shouldn't point to the DLL, but to the folder containing the DLL. e.g. <code>-Djava.library.path=D:/Projects/lib/opencv/x86/</code></p>\n"},{"tags":[],"owner":{"account_id":6446161,"reputation":584,"user_id":4994602,"display_name":"Sheshan Gamage"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1543944239,"creation_date":1543927344,"answer_id":53613273,"question_id":38262346,"body_markdown":"I also face the same issue doing so i did below  to solve the issue.When i ran  ran java -jar openCV=project jar I got the same exception as below\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)\r\n    Caused by: java.lang.UnsatisfiedLinkError: no opencv_java320 in java.library.path\r\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    at java.lang.System.loadLibrary(System.java:1122)\r\n    at com.wso2telco.rnd.CamCapture.&lt;init&gt;(CamCapture.java:47)\r\n    at com.wso2telco.rnd.CamCapture.main(CamCapture.java:144)\r\n    ... 5 more\r\n\r\nso i did the below changes the project in the .java class i had this lines \r\n\r\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n    System.loadLibrary(&quot;opencv_java320&quot;);\r\n\r\nI removed those 2 lines and added the below line\r\n\r\n    nu.pattern.OpenCV.loadLocally();\r\n\r\nin order add that line you need to have theses dependencies in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0-0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;nu.pattern&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.9-4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter doing the above modification i was able to run my program from terminal using\r\n**mvn exec:java -Dexec.mainClass=&quot;com.rnd.CamCapture&quot;**","title":"java.lang.UnsatisfiedLinkError: no opencv_java2411 in java.library.path","body":"<p>I also face the same issue doing so i did below  to solve the issue.When i ran  ran java -jar openCV=project jar I got the same exception as below</p>\n\n<pre><code>Exception in thread \"main\" java.lang.reflect.InvocationTargetException\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)\nCaused by: java.lang.UnsatisfiedLinkError: no opencv_java320 in java.library.path\nat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\nat java.lang.Runtime.loadLibrary0(Runtime.java:870)\nat java.lang.System.loadLibrary(System.java:1122)\nat com.wso2telco.rnd.CamCapture.&lt;init&gt;(CamCapture.java:47)\nat com.wso2telco.rnd.CamCapture.main(CamCapture.java:144)\n... 5 more\n</code></pre>\n\n<p>so i did the below changes the project in the .java class i had this lines </p>\n\n<pre><code>System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\nSystem.loadLibrary(\"opencv_java320\");\n</code></pre>\n\n<p>I removed those 2 lines and added the below line</p>\n\n<pre><code>nu.pattern.OpenCV.loadLocally();\n</code></pre>\n\n<p>in order add that line you need to have theses dependencies in pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n&lt;artifactId&gt;opencv&lt;/artifactId&gt;\n&lt;version&gt;3.2.0-0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;nu.pattern&lt;/groupId&gt;\n&lt;artifactId&gt;opencv&lt;/artifactId&gt;\n&lt;version&gt;2.4.9-4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After doing the above modification i was able to run my program from terminal using\n<strong>mvn exec:java -Dexec.mainClass=\"com.rnd.CamCapture\"</strong></p>\n"},{"tags":[],"owner":{"account_id":10493641,"reputation":410,"user_id":7734634,"display_name":"gogog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1557124931,"creation_date":1557124931,"answer_id":56000004,"question_id":38262346,"body_markdown":"On windows, set environment path which include opencv_java***.dll\r\n\r\n    e.x.\r\n    {your OpenCV path}\\opencv\\build\\java\\x64\r\n    or\r\n    {your OpenCV path}\\opencv\\build\\java\\x86\r\n\r\nsame in linux or other OS.","title":"java.lang.UnsatisfiedLinkError: no opencv_java2411 in java.library.path","body":"<p>On windows, set environment path which include opencv_java***.dll</p>\n\n<pre><code>e.x.\n{your OpenCV path}\\opencv\\build\\java\\x64\nor\n{your OpenCV path}\\opencv\\build\\java\\x86\n</code></pre>\n\n<p>same in linux or other OS.</p>\n"},{"tags":[],"owner":{"account_id":19551635,"reputation":59,"user_id":14307095,"display_name":"exadmin"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1637170074,"creation_date":1637170074,"answer_id":70008967,"question_id":38262346,"body_markdown":"Just use\r\n\r\n    OpenCV.loadShared(); // tested on opencv-4.5.1-2\r\n\r\ninstead of \r\n\r\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);","title":"java.lang.UnsatisfiedLinkError: no opencv_java2411 in java.library.path","body":"<p>Just use</p>\n<pre><code>OpenCV.loadShared(); // tested on opencv-4.5.1-2\n</code></pre>\n<p>instead of</p>\n<pre><code>System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n"}],"owner":{"account_id":1261634,"reputation":24551,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16205,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":38262490,"answer_count":4,"score":7,"last_activity_date":1637170074,"creation_date":1467967142,"question_id":38262346,"body_markdown":"I&#39;m trying to add opencv to my Spring Boot/Maven project.\r\n\r\nIn order to use opencv library I have to provide native lib into java.library.path.\r\n\r\nI have added following command into Eclipse VM arguments: \r\n\r\n    -Djava.library.path=&quot;D:/Projects/lib/opencv/x86/opencv_java2411.dll&quot;\r\n\r\nand got a following exception:\r\n\r\n    java.lang.UnsatisfiedLinkError: no opencv_java2411 in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    \tat java.lang.System.loadLibrary(System.java:1122)\r\n\r\nI&#39;m also trying to access `java.library.path` directly from my code:\r\n\r\n    System.out.println(System.getProperty(&quot;java.library.path&quot;));\r\n\r\nand it shows provided path: `D:/Projects/lib/opencv/x86/opencv_java2411.dll`\r\n\r\nWhat am I doing wrong ?","title":"java.lang.UnsatisfiedLinkError: no opencv_java2411 in java.library.path","body":"<p>I'm trying to add opencv to my Spring Boot/Maven project.</p>\n\n<p>In order to use opencv library I have to provide native lib into java.library.path.</p>\n\n<p>I have added following command into Eclipse VM arguments: </p>\n\n<pre><code>-Djava.library.path=\"D:/Projects/lib/opencv/x86/opencv_java2411.dll\"\n</code></pre>\n\n<p>and got a following exception:</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: no opencv_java2411 in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n    at java.lang.System.loadLibrary(System.java:1122)\n</code></pre>\n\n<p>I'm also trying to access <code>java.library.path</code> directly from my code:</p>\n\n<pre><code>System.out.println(System.getProperty(\"java.library.path\"));\n</code></pre>\n\n<p>and it shows provided path: <code>D:/Projects/lib/opencv/x86/opencv_java2411.dll</code></p>\n\n<p>What am I doing wrong ?</p>\n"},{"tags":["java","xml","grails","groovy","markupbuilder"],"comments":[{"owner":{"account_id":132494,"reputation":2613,"user_id":333222,"accept_rate":81,"display_name":"thomers"},"score":0,"creation_date":1357929446,"post_id":14284530,"comment_id":19835216,"body_markdown":"Removing the quotes didn&#39;t work, btw:\n\nid (issue.id) - same exception","body":"Removing the quotes didn&#39;t work, btw:  id (issue.id) - same exception"},{"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"score":1,"creation_date":1357929751,"post_id":14284530,"comment_id":19835355,"body_markdown":"Why would you not just use the feeds plugin? http://grails.org/Feeds+Plugin","body":"Why would you not just use the feeds plugin? <a href=\"http://grails.org/Feeds+Plugin\" rel=\"nofollow noreferrer\">grails.org/Feeds+Plugin</a>"},{"owner":{"account_id":272677,"reputation":14398,"user_id":563890,"display_name":"Will"},"score":1,"creation_date":1357930124,"post_id":14284530,"comment_id":19835523,"body_markdown":"What comes before this code? Can you post the whole method block?","body":"What comes before this code? Can you post the whole method block?"},{"owner":{"account_id":132494,"reputation":2613,"user_id":333222,"accept_rate":81,"display_name":"thomers"},"score":0,"creation_date":1357930275,"post_id":14284530,"comment_id":19835598,"body_markdown":"Good point. In fact I&#39;m already using it for some RSS feed (same content, just different format), but I had trouble getting it to output an atom feed that conforms to Apple&#39;s spec https://itunesconnect.apple.com/docs/NewsstandAtomFeedSpecification.pdf","body":"Good point. In fact I&#39;m already using it for some RSS feed (same content, just different format), but I had trouble getting it to output an atom feed that conforms to Apple&#39;s spec <a href=\"https://itunesconnect.apple.com/docs/NewsstandAtomFeedSpecification.pdf\" rel=\"nofollow noreferrer\">itunesconnect.apple.com/docs/NewsstandAtomFeedSpecification.&zwnj;&#8203;pdf</a>"},{"owner":{"account_id":132494,"reputation":2613,"user_id":333222,"accept_rate":81,"display_name":"thomers"},"score":0,"creation_date":1357930577,"post_id":14284530,"comment_id":19835739,"body_markdown":"Will P - thanks! Actually, I have a local variable id - if I rename it, it works, duh. ;-) (Put your comment in an answer and I will accept it).","body":"Will P - thanks! Actually, I have a local variable id - if I rename it, it works, duh. ;-) (Put your comment in an answer and I will accept it)."}],"answers":[{"tags":[],"owner":{"account_id":272677,"reputation":14398,"user_id":563890,"display_name":"Will"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357931546,"creation_date":1357930909,"answer_id":14284927,"question_id":14284530,"body_markdown":"It seems to me that your XML builder is trying to reference some **String** variable in the environment. Since groovy builder intercept missing method calls, if they find a reference they will try to apply to it. The following code can reproduce your error:\r\n\r\n    def id = &quot;&quot;\r\n\r\n    new groovy.xml.MarkupBuilder().xml {\r\n      id &quot;90&quot;\r\n    }\r\n\r\nAnd the following is fine:\r\n\r\n    def ids = &quot;&quot;\r\n\r\n    new groovy.xml.MarkupBuilder().xml {\r\n      id &quot;90&quot;\r\n    }\r\n\r\nRenaming your `id` variable should do the trick\r\n\r\n--------------\r\n\r\n**Update:**\r\n\r\nAn alternative way to use a tag with same name as a variable in the scope is with a (ugly) GString:\r\n\r\n    def id = &quot;&quot;\r\n\r\n    new groovy.xml.MarkupBuilder().xml {\r\n      &quot;${&#39;id&#39;}&quot; &quot;90&quot;\r\n    }","title":"Groovy&#39;s MarkupBuilder exception on generating &quot;id&quot; XML tag","body":"<p>It seems to me that your XML builder is trying to reference some <strong>String</strong> variable in the environment. Since groovy builder intercept missing method calls, if they find a reference they will try to apply to it. The following code can reproduce your error:</p>\n\n<pre><code>def id = \"\"\n\nnew groovy.xml.MarkupBuilder().xml {\n  id \"90\"\n}\n</code></pre>\n\n<p>And the following is fine:</p>\n\n<pre><code>def ids = \"\"\n\nnew groovy.xml.MarkupBuilder().xml {\n  id \"90\"\n}\n</code></pre>\n\n<p>Renaming your <code>id</code> variable should do the trick</p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>An alternative way to use a tag with same name as a variable in the scope is with a (ugly) GString:</p>\n\n<pre><code>def id = \"\"\n\nnew groovy.xml.MarkupBuilder().xml {\n  \"${'id'}\" \"90\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77788,"reputation":8853,"user_id":221794,"accept_rate":94,"display_name":"Dyno Fu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617987968,"creation_date":1617987968,"answer_id":67025411,"question_id":14284530,"body_markdown":"run into the same situation and qualify it with the builder solved the problem for me.\r\n\r\n```\r\ndef writer = new StringWriter()\r\n    def builder = new MarkupBuilder(writer)\r\n    builder.executions() {\r\n        project.scalaVersions.each { scalaVersion -&gt;\r\n            def scalaMajorVer = &#39;_&#39; + scalaVersion.split(&#39;\\\\.&#39;)[0..1].join(&#39;.&#39;)\r\n            def artifactIdStr = publication.artifactId.replaceAll(/_[0-9.]+$/, &#39;&#39;) + scalaMajorVer\r\n\r\n            execution() {\r\n                builder.id(artifactIdStr) // qualify with builder to avoid collision\r\n                phase(&#39;deploy&#39;)\r\n                goals() { goal(&#39;deploy-file&#39;) }\r\n                configuration() {\r\n                    groupId(publication.groupId)\r\n                    artifactId(artifactIdStr)\r\n                    builder.version(project.version) // ditto.\r\n                }\r\n            }\r\n        }\r\n    }\r\n```","title":"Groovy&#39;s MarkupBuilder exception on generating &quot;id&quot; XML tag","body":"<p>run into the same situation and qualify it with the builder solved the problem for me.</p>\n<pre><code>def writer = new StringWriter()\n    def builder = new MarkupBuilder(writer)\n    builder.executions() {\n        project.scalaVersions.each { scalaVersion -&gt;\n            def scalaMajorVer = '_' + scalaVersion.split('\\\\.')[0..1].join('.')\n            def artifactIdStr = publication.artifactId.replaceAll(/_[0-9.]+$/, '') + scalaMajorVer\n\n            execution() {\n                builder.id(artifactIdStr) // qualify with builder to avoid collision\n                phase('deploy')\n                goals() { goal('deploy-file') }\n                configuration() {\n                    groupId(publication.groupId)\n                    artifactId(artifactIdStr)\n                    builder.version(project.version) // ditto.\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":132494,"reputation":2613,"user_id":333222,"accept_rate":81,"display_name":"thomers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2044,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14284927,"answer_count":2,"score":2,"last_activity_date":1637169250,"creation_date":1357929321,"question_id":14284530,"body_markdown":"I&#39;m trying to construct a XML feed, and Groovy&#39;s MarkupBuilder is giving me headaches:\r\n\r\n     def newsstandFeed(def id) {\r\n        def publication = Publication.get(id)\r\n        def issues = issueService.getActiveIssuesForPublication(publication)\r\n        def updateDate = DateUtil.getRFC3339DateString(publication.lastIssueUpdate)\r\n\r\n        def writer = new StringWriter()\r\n        writer.write(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot;)\r\n        def xml = new MarkupBuilder(writer)\r\n        xml.feed(&#39;xmlns&#39;:&quot;http://www.w3.org/2005/Atom&quot;, &#39;xmlns:news&#39;:&quot;http://itunes.apple.com/2011/Newsstand&quot;) {\r\n            updated(&quot;${updateDate}&quot;)\r\n            issues.each { issue -&gt;\r\n                entry {\r\n                    id (issue.id)\r\n                    updated(&quot;${DateUtil.getRFC3339DateString(issue.lastUpdated)}&quot;)\r\n                    published(&quot;${DateUtil.getRFC3339DateString(issue.releaseDate)}&quot;)\r\n                    summary(issue.summary)\r\n                    &quot;news:cover_art_icons&quot; {\r\n                        &quot;news:cover_art_icon&quot; (size:&quot;SOURCE&quot;, src:&quot;${issue.cover.remotePath}&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return writer.toString()\r\n    }\r\n\r\n\r\nI get this exception:\r\n\r\n    Class groovy.lang.MissingMethodException \r\n    No signature of method: java.lang.String.call() is applicable for argument types: (org.codehaus.groovy.runtime.GStringImpl) values: [CYB_001] Possible solutions: wait(), any(), wait(long), any(groovy.lang.Closure), take(int), each(groovy.lang.Closure)\r\n\r\n\r\n&quot;CYB_001&quot; is the first &quot;id&quot; attribute.\r\n\r\nIf I rename &quot;id&quot; it to &quot;ids&quot; or anything else, it works, and returns a proper XML document:\r\n\r\n                ....\r\n                issues.each { issue -&gt;\r\n                entry {\r\n                    ids (&quot;${issue.id}&quot;)\r\n                    ...\r\n\r\nAny ideas why this is happening, and how I can work around the problem? \r\n\r\nThe environment is Grails 2.1.1 (so Groovy 1.8, I assume)","title":"Groovy&#39;s MarkupBuilder exception on generating &quot;id&quot; XML tag","body":"<p>I'm trying to construct a XML feed, and Groovy's MarkupBuilder is giving me headaches:</p>\n\n<pre><code> def newsstandFeed(def id) {\n    def publication = Publication.get(id)\n    def issues = issueService.getActiveIssuesForPublication(publication)\n    def updateDate = DateUtil.getRFC3339DateString(publication.lastIssueUpdate)\n\n    def writer = new StringWriter()\n    writer.write(\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\\n\")\n    def xml = new MarkupBuilder(writer)\n    xml.feed('xmlns':\"http://www.w3.org/2005/Atom\", 'xmlns:news':\"http://itunes.apple.com/2011/Newsstand\") {\n        updated(\"${updateDate}\")\n        issues.each { issue -&gt;\n            entry {\n                id (issue.id)\n                updated(\"${DateUtil.getRFC3339DateString(issue.lastUpdated)}\")\n                published(\"${DateUtil.getRFC3339DateString(issue.releaseDate)}\")\n                summary(issue.summary)\n                \"news:cover_art_icons\" {\n                    \"news:cover_art_icon\" (size:\"SOURCE\", src:\"${issue.cover.remotePath}\")\n                }\n            }\n        }\n    }\n\n    return writer.toString()\n}\n</code></pre>\n\n<p>I get this exception:</p>\n\n<pre><code>Class groovy.lang.MissingMethodException \nNo signature of method: java.lang.String.call() is applicable for argument types: (org.codehaus.groovy.runtime.GStringImpl) values: [CYB_001] Possible solutions: wait(), any(), wait(long), any(groovy.lang.Closure), take(int), each(groovy.lang.Closure)\n</code></pre>\n\n<p>\"CYB_001\" is the first \"id\" attribute.</p>\n\n<p>If I rename \"id\" it to \"ids\" or anything else, it works, and returns a proper XML document:</p>\n\n<pre><code>            ....\n            issues.each { issue -&gt;\n            entry {\n                ids (\"${issue.id}\")\n                ...\n</code></pre>\n\n<p>Any ideas why this is happening, and how I can work around the problem? </p>\n\n<p>The environment is Grails 2.1.1 (so Groovy 1.8, I assume)</p>\n"},{"tags":["java","ssl","soap","automation","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1623144126,"post_id":67884504,"comment_id":123763632,"body_markdown":"Oh it very well can be a bug no one has seen yet. Please follow this process (exactly as described): https://github.com/intuit/karate/wiki/How-to-Submit-an-Issue Else there is nothing much anyone can do, and you need to do research and figure this out on your own.","body":"Oh it very well can be a bug no one has seen yet. Please follow this process (exactly as described): <a href=\"https://github.com/intuit/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/intuit/karate/wiki/How-to-Submit-an-Issue</a> Else there is nothing much anyone can do, and you need to do research and figure this out on your own."}],"owner":{"account_id":4741375,"reputation":33,"user_id":3834008,"display_name":"user3834008"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1623144176,"answer_count":0,"score":1,"last_activity_date":1637169060,"creation_date":1623142635,"question_id":67884504,"body_markdown":"I&#39;m trying an api automation using karate and I&#39;m getting below error, \r\n\r\n&gt;javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]\r\n\r\n\r\nJava: jdk-16.0.1  \r\nkarate: 0.9.6\r\n\r\n`Background:  \r\n    * url &#39;https://xxxx:xxxx&#39;  \r\n    * header Content-Type = &#39;application/soap; charset=utf-8&#39;  \r\n    * configure ssl = true  \r\n    * configure readTimeout = 240000  \r\n    * configure connectTimeout = 240000  \r\n\r\nScenario: post a request  \r\n     * path &#39;/xxxx&#39;  \r\n     * xmlstring requestXml = read(&#39;request.xml&#39;)  \r\n     * request requestXml  \r\n     * method post  \r\n     * status 200  \r\n     * print response`","title":"SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]-Karate API Automation","body":"<p>I'm trying an api automation using karate and I'm getting below error,</p>\n<blockquote>\n<p>javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]</p>\n</blockquote>\n<p>Java: jdk-16.0.1<br />\nkarate: 0.9.6</p>\n<p>`Background:<br />\n* url 'https://xxxx:xxxx'<br />\n* header Content-Type = 'application/soap; charset=utf-8'<br />\n* configure ssl = true<br />\n* configure readTimeout = 240000<br />\n* configure connectTimeout = 240000</p>\n<p>Scenario: post a request<br />\n* path '/xxxx'<br />\n* xmlstring requestXml = read('request.xml')<br />\n* request requestXml<br />\n* method post<br />\n* status 200<br />\n* print response`</p>\n"},{"tags":["java","spring","hibernate","veracode"],"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2348,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1637168974,"creation_date":1637168974,"question_id":70008720,"body_markdown":"I have a JEE application that uses hibernate, and Veracode complains about some lines of code that I do not know how to fix.\r\nBasically, we have a generic class to perform basic operations on entities \r\n\r\n```\r\n\tpublic void delete(T entity, final boolean cachable) {\r\n\t\tgetHibernateTemplate().setCacheQueries(cachable);\r\n\t\tgetHibernateTemplate().delete(entity);\r\n\t}\r\n```\r\n\r\nThen this code is called like this \r\n```\r\n...\r\n\t\t\tconnectionDAO.delete(user, nbMaxConnections);\r\n...\r\n```\r\n\r\nwith the entity User for example which looks like this (I don&#39;t put the complete class definition)\r\n```\r\n@Entity\r\n@Auditable\r\npublic class User extends Profile implements Cloneable,UserDetails,Principal\r\n{\t\r\n\t\r\n\t/** The enabled. */\r\n\tprivate Boolean enabled = true;\r\n\t\r\n\t/** The reason for disabled. */\r\n\tprivate String reasonForDisabled = null;\r\n\t\r\n\t/** The disabled date. */\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n    private Date disabledDate = null;\r\n\t\r\n\t/** The parent. */\r\n\t@ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumn\r\n    private Group parent = null;\r\n\t\r\n\t/** The information. */\r\n\t@Embedded\r\n\tprivate UserInformation information = null;\r\n\t\r\n\t/** The released date. */\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n    private Date releasedDate = null;\r\n\t\r\n\t/** The nb wrong attempts. */\r\n\tprivate Integer nbWrongAttempts = null;\r\n\t\r\n    private String salt;\r\n```\r\n\r\nand Veracode complains about the delete() call of hibernate template with the following description : \r\n\r\n***In this call to org.springframework.orm.hibernate5.HibernateOperations.delete, a data access statement could be executed with a primary key that can be controlled by externally provided values. If the provided primary key is not properly validated and the underlying storage does not restrict access to only entities that the user should be granted access to, it may be possible for an attacker to reference unauthorized records.***\r\n\r\nI don&#39;t know what to check (should I first check that the entity is present in the database before deleting it ?)\r\n\r\nRegards","title":"How to fix CWE 566 Authorization Bypass Through User-Controlled SQL Primary Key","body":"<p>I have a JEE application that uses hibernate, and Veracode complains about some lines of code that I do not know how to fix.\nBasically, we have a generic class to perform basic operations on entities</p>\n<pre><code>    public void delete(T entity, final boolean cachable) {\n        getHibernateTemplate().setCacheQueries(cachable);\n        getHibernateTemplate().delete(entity);\n    }\n</code></pre>\n<p>Then this code is called like this</p>\n<pre><code>...\n            connectionDAO.delete(user, nbMaxConnections);\n...\n</code></pre>\n<p>with the entity User for example which looks like this (I don't put the complete class definition)</p>\n<pre><code>@Entity\n@Auditable\npublic class User extends Profile implements Cloneable,UserDetails,Principal\n{   \n    \n    /** The enabled. */\n    private Boolean enabled = true;\n    \n    /** The reason for disabled. */\n    private String reasonForDisabled = null;\n    \n    /** The disabled date. */\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date disabledDate = null;\n    \n    /** The parent. */\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn\n    private Group parent = null;\n    \n    /** The information. */\n    @Embedded\n    private UserInformation information = null;\n    \n    /** The released date. */\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date releasedDate = null;\n    \n    /** The nb wrong attempts. */\n    private Integer nbWrongAttempts = null;\n    \n    private String salt;\n</code></pre>\n<p>and Veracode complains about the delete() call of hibernate template with the following description :</p>\n<p><em><strong>In this call to org.springframework.orm.hibernate5.HibernateOperations.delete, a data access statement could be executed with a primary key that can be controlled by externally provided values. If the provided primary key is not properly validated and the underlying storage does not restrict access to only entities that the user should be granted access to, it may be possible for an attacker to reference unauthorized records.</strong></em></p>\n<p>I don't know what to check (should I first check that the entity is present in the database before deleting it ?)</p>\n<p>Regards</p>\n"},{"tags":["java","coding-style","code-organization"],"comments":[{"owner":{"account_id":54856,"reputation":2515,"user_id":164213,"accept_rate":100,"display_name":"Alex Nikolaenkov"},"score":3,"creation_date":1328697239,"post_id":9191578,"comment_id":11566369,"body_markdown":"Aren&#39;t methods are invented exactly for doing this?","body":"Aren&#39;t methods are invented exactly for doing this?"},{"owner":{"account_id":765907,"reputation":30034,"user_id":786935,"accept_rate":87,"display_name":"Hemant Metalia"},"score":0,"creation_date":1328697301,"post_id":9191578,"comment_id":11566394,"body_markdown":"cant you covert your blocks into methods?","body":"cant you covert your blocks into methods?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1328697227,"creation_date":1328697227,"answer_id":9191598,"question_id":9191578,"body_markdown":"If you can break the code up like that, why not just break it up into separate methods? Then change your `doSomething()` method into *just* calling those smaller methods?\r\n\r\nThat way:\r\n\r\n- It&#39;s clear what each element of the work is meant to do\r\n- Reading the top-level method, it&#39;s easy to see the overall plan and drill down to one specific part\r\n- You can potentially unit test each small method in isolation (although this may require making it non-private just for testing; whether that&#39;s okay or not is a personal preference as much as anything else)","title":"Is it bad practice to separate sections of code inside one method with curly brackets?","body":"<p>If you can break the code up like that, why not just break it up into separate methods? Then change your <code>doSomething()</code> method into <em>just</em> calling those smaller methods?</p>\n\n<p>That way:</p>\n\n<ul>\n<li>It's clear what each element of the work is meant to do</li>\n<li>Reading the top-level method, it's easy to see the overall plan and drill down to one specific part</li>\n<li>You can potentially unit test each small method in isolation (although this may require making it non-private just for testing; whether that's okay or not is a personal preference as much as anything else)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328697311,"creation_date":1328697311,"answer_id":9191620,"question_id":9191578,"body_markdown":"If your methods are so big that you feel you need to organize them like that, the odds are you should break them into smaller methods. (I speak from experience: I have a *terrible* habit of writing over-long methods, which are quite hard to maintain. I have to fight it every day.)\r\n\r\nAs for whether it&#39;s *bad practice*, I&#39;d say it isn&#39;t per se, except that it&#39;s so unusual that it will tend to throw people doing maintenance on your code. They&#39;ll be looking for the thing at the beginning of the block&amp;nbsp;&amp;mdash; the `if`, or `while`, etc.&amp;nbsp;&amp;mdash; and be surprised when it&#39;s not there. So in that sense, it&#39;s probably not great practice, since tripping up people maintaining code is usually not a great idea.","title":"Is it bad practice to separate sections of code inside one method with curly brackets?","body":"<p>If your methods are so big that you feel you need to organize them like that, the odds are you should break them into smaller methods. (I speak from experience: I have a <em>terrible</em> habit of writing over-long methods, which are quite hard to maintain. I have to fight it every day.)</p>\n\n<p>As for whether it's <em>bad practice</em>, I'd say it isn't per se, except that it's so unusual that it will tend to throw people doing maintenance on your code. They'll be looking for the thing at the beginning of the block&nbsp;&mdash; the <code>if</code>, or <code>while</code>, etc.&nbsp;&mdash; and be surprised when it's not there. So in that sense, it's probably not great practice, since tripping up people maintaining code is usually not a great idea.</p>\n"},{"tags":[],"owner":{"account_id":174150,"reputation":9084,"user_id":403335,"accept_rate":73,"display_name":"vulkanino"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1328697339,"creation_date":1328697339,"answer_id":9191627,"question_id":9191578,"body_markdown":"I don&#39;t think this is bad practice, and I do it too, but I would encourage you to break the method into smaller ones. Do you really need a &gt;50 lines method?","title":"Is it bad practice to separate sections of code inside one method with curly brackets?","body":"<p>I don't think this is bad practice, and I do it too, but I would encourage you to break the method into smaller ones. Do you really need a >50 lines method?</p>\n"},{"tags":[],"owner":{"account_id":1215172,"reputation":9264,"user_id":1182921,"accept_rate":69,"display_name":"Tom Tanner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328697888,"creation_date":1328697888,"answer_id":9191761,"question_id":9191578,"body_markdown":"It depends what the blocks do. If they&#39;re used to restrict scoping of local variables to something sane, I think it&#39;s a good idea. People tend to give variables far too wide a scope and a clear end to the scope of a variable helps a lot when debugging or reviewing the code.\r\n\r\nHaving said that, if the code in a sections is longish, and the number of variables it shares with other sections is low, then maybe it is a good idea to refactor.","title":"Is it bad practice to separate sections of code inside one method with curly brackets?","body":"<p>It depends what the blocks do. If they're used to restrict scoping of local variables to something sane, I think it's a good idea. People tend to give variables far too wide a scope and a clear end to the scope of a variable helps a lot when debugging or reviewing the code.</p>\n\n<p>Having said that, if the code in a sections is longish, and the number of variables it shares with other sections is low, then maybe it is a good idea to refactor.</p>\n"},{"tags":[],"owner":{"account_id":952750,"reputation":2771,"user_id":978588,"accept_rate":62,"display_name":"Benedict"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328698219,"creation_date":1328698219,"answer_id":9191846,"question_id":9191578,"body_markdown":"That&#39;s fine. You should feel free to do that as isolating variables is a good practice. You can read these scoped blocks as sort of in-place anonymous functions, which is sometimes useful as a way of keeping code visually grouped together, though of course you each time you do this you should ask yourself &quot;should I actually make this a separate function?&quot;, as suggested by the other posts here.\r\n\r\nThe other useful thing it can acheive, especially if you are using a code-aware editor that automatically formats blocks, is to indent important and specialist sections of code that otherwise wouldn&#39;t be indented. e.g.:\r\n\r\n    glBegin(GL_TRIANGLES); {\r\n        glVertex3f( 0.0f, 1.0f, 0.0f);\r\n        glVertex3f(-1.0f,-1.0f, 0.0f);\r\n        glVertex3f( 1.0f,-1.0f, 0.0f);\r\n    }; glEnd();\r\n\r\n","title":"Is it bad practice to separate sections of code inside one method with curly brackets?","body":"<p>That's fine. You should feel free to do that as isolating variables is a good practice. You can read these scoped blocks as sort of in-place anonymous functions, which is sometimes useful as a way of keeping code visually grouped together, though of course you each time you do this you should ask yourself \"should I actually make this a separate function?\", as suggested by the other posts here.</p>\n\n<p>The other useful thing it can acheive, especially if you are using a code-aware editor that automatically formats blocks, is to indent important and specialist sections of code that otherwise wouldn't be indented. e.g.:</p>\n\n<pre><code>glBegin(GL_TRIANGLES); {\n    glVertex3f( 0.0f, 1.0f, 0.0f);\n    glVertex3f(-1.0f,-1.0f, 0.0f);\n    glVertex3f( 1.0f,-1.0f, 0.0f);\n}; glEnd();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":174821,"reputation":9266,"user_id":404421,"accept_rate":80,"display_name":"Bojan Komazec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328698783,"creation_date":1328698783,"answer_id":9191992,"question_id":9191578,"body_markdown":"Your coding style is pretty unusual and I am not sure that everyone would find it very easy to read. **Braces** on their own make code less readable so you should be omitting them whenever possible. E.g. instead of\r\n\r\n    if(n == 1)\r\n    {\r\n       i++;\r\n    }\r\n\r\njust write:\r\n\r\n    if(n == 1)\r\n       i++;\r\n\r\n\r\nScopes introduced just to separate different *functional blocks* within the same function don&#39;t sound right either - it would be much more natural to extract them into separate *functions*. One of the greatest benefits would be that you could **test** them much easier and test them separately. This would make `doSomething()` shorter, which is again in line with the good coding practice of keeping functions **short**. \r\n\r\nYour **comments** written for scopes inside the function cannot appear in the automatically generated documents. If you use separate functions and apply those comments to them (assuming they are following the syntax of the given automatic document generation tool, like Doxygen) they will appear in documentation.\r\n","title":"Is it bad practice to separate sections of code inside one method with curly brackets?","body":"<p>Your coding style is pretty unusual and I am not sure that everyone would find it very easy to read. <strong>Braces</strong> on their own make code less readable so you should be omitting them whenever possible. E.g. instead of</p>\n\n<pre><code>if(n == 1)\n{\n   i++;\n}\n</code></pre>\n\n<p>just write:</p>\n\n<pre><code>if(n == 1)\n   i++;\n</code></pre>\n\n<p>Scopes introduced just to separate different <em>functional blocks</em> within the same function don't sound right either - it would be much more natural to extract them into separate <em>functions</em>. One of the greatest benefits would be that you could <strong>test</strong> them much easier and test them separately. This would make <code>doSomething()</code> shorter, which is again in line with the good coding practice of keeping functions <strong>short</strong>. </p>\n\n<p>Your <strong>comments</strong> written for scopes inside the function cannot appear in the automatically generated documents. If you use separate functions and apply those comments to them (assuming they are following the syntax of the given automatic document generation tool, like Doxygen) they will appear in documentation.</p>\n"}],"owner":{"account_id":544245,"reputation":2194,"user_id":913630,"accept_rate":65,"display_name":"Markus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1430,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1638851195,"accepted_answer_id":9191627,"answer_count":6,"score":2,"last_activity_date":1637168571,"creation_date":1328697155,"question_id":9191578,"body_markdown":"I tend put multiple lines of code that fullfill a certain task into blocks, with a small comment on top, like this:\r\n\r\n\tpublic void doSomething(){\r\n\t\t// common variables needed by all blocks\r\n\t\r\n\t\t{ // comment for block 1\r\n\t\t\t...\r\n\t\t\t... about 5 to 30 lines of code\r\n\t\t\t...\r\n\t\t}\r\n\t\t\r\n\t\t{ // comment for block 2\r\n\t\t\t...\r\n\t\t\t... about 5 to 30 lines of code\r\n\t\t\t...\r\n\t\t}\r\n\r\n\t}\r\n\t\r\nI do this because in my opinion, it&#39;s easy to read, variables needed by one block won&#39;t be able to do harm in another block and because I don&#39;t want to make separate methods for block that won&#39;t be needed somewhere else. \r\n\r\nWould you say this is bad practice?\r\nA lot of people I&#39;ve coded with disagree with this style of coding. \r\nI know there are regions in c# but they do not isolate variables.\r\n\r\nedit:\r\nbecause everyone is suggesting I make methods out of the blocks:\r\nSometimes I do but I don&#39;t want to if the class already has 20+ methods, the blocks are not needed by any other method and the method with all the blocks is still small enough\t.\r\n","title":"Is it bad practice to separate sections of code inside one method with curly brackets?","body":"<p>I tend put multiple lines of code that fullfill a certain task into blocks, with a small comment on top, like this:</p>\n\n<pre><code>public void doSomething(){\n    // common variables needed by all blocks\n\n    { // comment for block 1\n        ...\n        ... about 5 to 30 lines of code\n        ...\n    }\n\n    { // comment for block 2\n        ...\n        ... about 5 to 30 lines of code\n        ...\n    }\n\n}\n</code></pre>\n\n<p>I do this because in my opinion, it's easy to read, variables needed by one block won't be able to do harm in another block and because I don't want to make separate methods for block that won't be needed somewhere else. </p>\n\n<p>Would you say this is bad practice?\nA lot of people I've coded with disagree with this style of coding. \nI know there are regions in c# but they do not isolate variables.</p>\n\n<p>edit:\nbecause everyone is suggesting I make methods out of the blocks:\nSometimes I do but I don't want to if the class already has 20+ methods, the blocks are not needed by any other method and the method with all the blocks is still small enough .</p>\n"},{"tags":["java","exception","methods","method-signature"],"comments":[{"owner":{"account_id":3007589,"reputation":3608,"user_id":2551766,"accept_rate":27,"display_name":"Erik"},"score":3,"creation_date":1444217844,"post_id":32991140,"comment_id":53806772,"body_markdown":"You seem to be answering your own question here? It&#39;s on the signature because now you (and the compiler) know the code will throw the exception and that it needs to be handled?","body":"You seem to be answering your own question here? It&#39;s on the signature because now you (and the compiler) know the code will throw the exception and that it needs to be handled?"},{"owner":{"account_id":1820687,"reputation":4189,"user_id":1654825,"accept_rate":92,"display_name":"Danstahr"},"score":4,"creation_date":1444217935,"post_id":32991140,"comment_id":53806834,"body_markdown":"Unchecked exceptions and the conditions when they&#39;re thrown should be documented in javadoc. This paradigm is used in built-in Java libraries and is suggested by multiple books, e.g. Effective Java to name one.\nDeclaring them in the signature is, as you correctly noted, not required by the compiler.","body":"Unchecked exceptions and the conditions when they&#39;re thrown should be documented in javadoc. This paradigm is used in built-in Java libraries and is suggested by multiple books, e.g. Effective Java to name one. Declaring them in the signature is, as you correctly noted, not required by the compiler."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1444218182,"post_id":32991140,"comment_id":53806991,"body_markdown":"What you are questioning is whether to throws an unchecked exception or not. For starts your method use the `@Override` which indicates that it should follow the contract (abstract or interface) but for unchecked exceptions you are not obligated to do so. Whether you chose to throw it or not always follow the good pratice as @danstahr mentioned, add it on the javadoc.","body":"What you are questioning is whether to throws an unchecked exception or not. For starts your method use the <code>@Override</code> which indicates that it should follow the contract (abstract or interface) but for unchecked exceptions you are not obligated to do so. Whether you chose to throw it or not always follow the good pratice as @danstahr mentioned, add it on the javadoc."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1444218251,"post_id":32991140,"comment_id":53807044,"body_markdown":"Unchecked exceptions are typically used for problems that can happen almost everywhere. Think of `NullPointerException` or `ArrayIndexOutOfBoundsException`. I would not want to include them in each and every method signature.","body":"Unchecked exceptions are typically used for problems that can happen almost everywhere. Think of <code>NullPointerException</code> or <code>ArrayIndexOutOfBoundsException</code>. I would not want to include them in each and every method signature."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1444218298,"post_id":32991140,"comment_id":53807082,"body_markdown":"About declaring RuntimeExceptions being thrown also see http://stackoverflow.com/questions/8396329/java-what-is-the-benefit-of-throwing-runtimeexception?rq=1","body":"About declaring RuntimeExceptions being thrown also see <a href=\"http://stackoverflow.com/questions/8396329/java-what-is-the-benefit-of-throwing-runtimeexception?rq=1\" title=\"java what is the benefit of throwing runtimeexception\">stackoverflow.com/questions/8396329/&hellip;</a>"},{"owner":{"account_id":10486134,"reputation":671,"user_id":7729614,"display_name":"Soufiane Roui"},"score":0,"creation_date":1593563435,"post_id":32991140,"comment_id":110823878,"body_markdown":"side note: method signature contains method name + list of parameters. so it is better to say: Why is throws part of the method declaration","body":"side note: method signature contains method name + list of parameters. so it is better to say: Why is throws part of the method declaration"}],"answers":[{"tags":[],"owner":{"account_id":5383073,"reputation":13922,"user_id":4498329,"accept_rate":49,"display_name":"skyking"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1637159578,"creation_date":1444219710,"answer_id":32991802,"question_id":32991140,"body_markdown":"The `throws` part does not indicate that the method is required to throw the mentioned exception(s), not even at particular occasions. It only tells that the function is allowed to do so.\r\n\r\nIncluding `throws UnsupportedOperationException` will consequently not mean that the method is unsupported. Besides the `UnsupportedOperationException` is a `RuntimeException` so a method may `throw` that anyway.\r\n\r\nNow for the reason one would require it in the signature of the method, it boils down to the ability to have checked exceptions at all. For the compiler to be able to decide if a method can only throw the specified exceptions it must be able to decide that the methods that it calls can&#39;t throw uncaught exceptions.\r\n\r\nThis means for example that overriding a method means that you can&#39;t add exceptions that might be thrown, otherwise you would break the possibility to verify that a method that calls that method can&#39;t throw anything else than it has specified. The other way around would be possible (but I&#39;m not sure if Java supports that), overriding a method that may throw with one that may not throw.\r\n\r\nSo for example:\r\n\r\n    class B {\r\n        int fubar(int) throws ExceptionA {\r\n        }\r\n\r\n        int frob(int) throws ExceptionA {\r\n             return fubar(int);\r\n        }\r\n    }\r\n\r\n    class D extends B {\r\n        int fubar(int) throws ExceptionB {\r\n        }\r\n    }\r\n        \r\nNow `frob` is specified to possibly `throw` only `ExceptionA`, but in calling `this.fubar` it would open the possibility that something else is thrown, but `fubar` is defined to possibly only `throw` `ExceptionA`. That&#39;s why the `D.fubar` is an invalid override since that would open up the possibility that `this.fubar` actually throws `ExceptionB` and the compiler wouldn&#39;t be able to guarantee that `frob` doesn&#39;t throw `ExceptionB`.","title":"Why is throws part of the method signature","body":"<p>The <code>throws</code> part does not indicate that the method is required to throw the mentioned exception(s), not even at particular occasions. It only tells that the function is allowed to do so.</p>\n<p>Including <code>throws UnsupportedOperationException</code> will consequently not mean that the method is unsupported. Besides the <code>UnsupportedOperationException</code> is a <code>RuntimeException</code> so a method may <code>throw</code> that anyway.</p>\n<p>Now for the reason one would require it in the signature of the method, it boils down to the ability to have checked exceptions at all. For the compiler to be able to decide if a method can only throw the specified exceptions it must be able to decide that the methods that it calls can't throw uncaught exceptions.</p>\n<p>This means for example that overriding a method means that you can't add exceptions that might be thrown, otherwise you would break the possibility to verify that a method that calls that method can't throw anything else than it has specified. The other way around would be possible (but I'm not sure if Java supports that), overriding a method that may throw with one that may not throw.</p>\n<p>So for example:</p>\n<pre><code>class B {\n    int fubar(int) throws ExceptionA {\n    }\n\n    int frob(int) throws ExceptionA {\n         return fubar(int);\n    }\n}\n\nclass D extends B {\n    int fubar(int) throws ExceptionB {\n    }\n}\n    \n</code></pre>\n<p>Now <code>frob</code> is specified to possibly <code>throw</code> only <code>ExceptionA</code>, but in calling <code>this.fubar</code> it would open the possibility that something else is thrown, but <code>fubar</code> is defined to possibly only <code>throw</code> <code>ExceptionA</code>. That's why the <code>D.fubar</code> is an invalid override since that would open up the possibility that <code>this.fubar</code> actually throws <code>ExceptionB</code> and the compiler wouldn't be able to guarantee that <code>frob</code> doesn't throw <code>ExceptionB</code>.</p>\n"},{"tags":[],"owner":{"account_id":3635078,"reputation":2174,"user_id":3030376,"accept_rate":100,"display_name":"Nikhil Katre"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1484513172,"creation_date":1484513172,"answer_id":41666126,"question_id":32991140,"body_markdown":"&gt; Java has two different types of exceptions: `checked` Exceptions and\r\n&gt; `unchecked` Exceptions.\r\n\r\nUnchecked exceptions are subclasses of `RuntimeException` and you don&#39;t have to add a throws declaration. All other exceptions have to be handled in the method body, either with a try/catch statement or with a throws declaration.\r\n\r\nExample for unchecked exceptions: `IllegalArgumentException` that is used sometimes to notify, that a method has been called with illegal arguments. No throws needed.\r\n\r\nExample for checked exceptions: `IOException` that some methods from the java.io package might throw. Either use a try/catch or add throws IOException to the method declaration and delegate exception handling to the method caller.","title":"Why is throws part of the method signature","body":"<blockquote>\n  <p>Java has two different types of exceptions: <code>checked</code> Exceptions and\n  <code>unchecked</code> Exceptions.</p>\n</blockquote>\n\n<p>Unchecked exceptions are subclasses of <code>RuntimeException</code> and you don't have to add a throws declaration. All other exceptions have to be handled in the method body, either with a try/catch statement or with a throws declaration.</p>\n\n<p>Example for unchecked exceptions: <code>IllegalArgumentException</code> that is used sometimes to notify, that a method has been called with illegal arguments. No throws needed.</p>\n\n<p>Example for checked exceptions: <code>IOException</code> that some methods from the java.io package might throw. Either use a try/catch or add throws IOException to the method declaration and delegate exception handling to the method caller.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637168017,"creation_date":1637167216,"answer_id":70008320,"question_id":32991140,"body_markdown":"One thing which no one has mentioned is a very important answer to your question:\r\n&gt;Why throws, on a method, is part of its signature?\r\n\r\nthat `throws`, is NOT part of the method signature.\r\n\r\n[JLS 8.4.2. Method Signature](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.2) makes it quite clear, that:\r\n&gt;Two methods or constructors, M and N, have the same signature **if they have the same name, the same type parameters (if any) (&#167;8.4.4), and, after adapting the formal parameter types of N to the type parameters of M, the same formal parameter types**.\r\n\r\n---\r\n&gt;If anyone were to see this method from the outside, they might try to use it without knowing that it is not supported.\r\n\r\nThat&#39;s exactly the main reason, why `throws` is designed in a way to be checked at compile-time for all *Checked Exceptions* - clients of the method will be aware what this method may possibly throw.\r\n\r\n---\r\n\r\n*Checked Exceptions* are enforced to be either handled or specified to be thrown (but this specification is NOT part of the method signature).\r\n\r\n*Unchecked Exceptions* do not have to be either handled or specified to be thrown, and [Oracle&#39;s tutorial](https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html) are good at explaining - why:\r\n&gt;Runtime exceptions represent problems that are the result of a programming problem, and as such, the API client code cannot reasonably be expected to recover from them or to handle them in any way. Such problems include arithmetic exceptions, such as dividing by zero; pointer exceptions, such as trying to access an object through a null reference; and indexing exceptions, such as attempting to access an array element through an index that is too large or too small.","title":"Why is throws part of the method signature","body":"<p>One thing which no one has mentioned is a very important answer to your question:</p>\n<blockquote>\n<p>Why throws, on a method, is part of its signature?</p>\n</blockquote>\n<p>that <code>throws</code>, is NOT part of the method signature.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.2\" rel=\"nofollow noreferrer\">JLS 8.4.2. Method Signature</a> makes it quite clear, that:</p>\n<blockquote>\n<p>Two methods or constructors, M and N, have the same signature <strong>if they have the same name, the same type parameters (if any) (§8.4.4), and, after adapting the formal parameter types of N to the type parameters of M, the same formal parameter types</strong>.</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>If anyone were to see this method from the outside, they might try to use it without knowing that it is not supported.</p>\n</blockquote>\n<p>That's exactly the main reason, why <code>throws</code> is designed in a way to be checked at compile-time for all <em>Checked Exceptions</em> - clients of the method will be aware what this method may possibly throw.</p>\n<hr />\n<p><em>Checked Exceptions</em> are enforced to be either handled or specified to be thrown (but this specification is NOT part of the method signature).</p>\n<p><em>Unchecked Exceptions</em> do not have to be either handled or specified to be thrown, and <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">Oracle's tutorial</a> are good at explaining - why:</p>\n<blockquote>\n<p>Runtime exceptions represent problems that are the result of a programming problem, and as such, the API client code cannot reasonably be expected to recover from them or to handle them in any way. Such problems include arithmetic exceptions, such as dividing by zero; pointer exceptions, such as trying to access an object through a null reference; and indexing exceptions, such as attempting to access an array element through an index that is too large or too small.</p>\n</blockquote>\n"}],"owner":{"account_id":995863,"reputation":1895,"user_id":1011824,"accept_rate":83,"display_name":"Dragon Creature"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9659,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":32991802,"answer_count":3,"score":10,"last_activity_date":1637168017,"creation_date":1444217676,"question_id":32991140,"body_markdown":"Why `throws`, on a method, is part of its signature? It seems strange to include it. Here is an example where it is in the way:\r\n```java\r\n@Overide\r\npublic void foo() {\r\n    throw new UnsupportedOperationException();\r\n}\r\n```\r\nIf anyone were to see this method from the outside, they might try to use it without knowing that it is not supported. They would only learn it on trying to run the code.\r\n\r\nHowever, if they could do something like this they would know by looking at the method that it is not supported and if `UnsupportedOperationException` was not extending `RuntimeException`, they would get a compilation error. EDIT1: But this is not possible because `throws` is part of the signature so override will not work.\r\n\r\n```java\r\n@Overide\r\npublic void foo() throws UnsupportedOperationException {\r\n    throw new UnsupportedOperationException();\r\n}\r\n```\r\n\r\nThis question concerns Java&#39;s design, so I know that it might be hard to answer without one of the people that work on it drops by and answers it, but I was hoping that maybe this question has been asked to them before or that there might be an obvious reason to have it this way to explain why.","title":"Why is throws part of the method signature","body":"<p>Why <code>throws</code>, on a method, is part of its signature? It seems strange to include it. Here is an example where it is in the way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Overide\npublic void foo() {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n<p>If anyone were to see this method from the outside, they might try to use it without knowing that it is not supported. They would only learn it on trying to run the code.</p>\n<p>However, if they could do something like this they would know by looking at the method that it is not supported and if <code>UnsupportedOperationException</code> was not extending <code>RuntimeException</code>, they would get a compilation error. EDIT1: But this is not possible because <code>throws</code> is part of the signature so override will not work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Overide\npublic void foo() throws UnsupportedOperationException {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n<p>This question concerns Java's design, so I know that it might be hard to answer without one of the people that work on it drops by and answers it, but I was hoping that maybe this question has been asked to them before or that there might be an obvious reason to have it this way to explain why.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637168071,"post_id":69988715,"comment_id":123755569,"body_markdown":"Errors like this generally come from trying to outsmart the Spring Boot starters. So I suspect you have tried to upgrade versions or outsmart it. But without seeing your Maven POM or gradle build file that is impossible to answer.","body":"Errors like this generally come from trying to outsmart the Spring Boot starters. So I suspect you have tried to upgrade versions or outsmart it. But without seeing your Maven POM or gradle build file that is impossible to answer."}],"owner":{"account_id":13085453,"reputation":61,"user_id":9454567,"display_name":"Zizi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637167959,"creation_date":1637063744,"question_id":69988715,"body_markdown":"I am using Spring Boot MVC and using WebClient (spring-webflux version 5.3.12) call other API.&lt;br/&gt;\r\n*spring-boot-starter-web:2.5.4*&lt;br/&gt;\r\n*spring-webflux:5.3.12*&lt;br/&gt;\r\n*JDK: openjdk:14.0.2*\r\n\r\n&gt;Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;reactor.core.publisher.Mono org.springframework.web.reactive.function.client.WebClient$RequestHeadersSpec.exchangeToMono(java.util.function.Function)&#39;\r\n&lt;br/&gt;\r\n\r\ndetails\r\n\r\n    [\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doDispatch&quot;,\r\n            &quot;fileName&quot;: &quot;DispatcherServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 1055,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.DispatcherServlet&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doService&quot;,\r\n            &quot;fileName&quot;: &quot;DispatcherServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 943,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.DispatcherServlet&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;processRequest&quot;,\r\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 1006,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doGet&quot;,\r\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 898,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;service&quot;,\r\n            &quot;fileName&quot;: &quot;HttpServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 634,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;javax.servlet.http.HttpServlet&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;service&quot;,\r\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 883,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;service&quot;,\r\n            &quot;fileName&quot;: &quot;HttpServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 741,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;javax.servlet.http.HttpServlet&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 231,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 166,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;WsFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 53,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.apache.tomcat.websocket.server.WsFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 193,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 166,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;RequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 30,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;vn.com.mbbank.cmv.lib.core.config.http.RequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 119,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 193,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 166,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 320,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;invoke&quot;,\r\n            &quot;fileName&quot;: &quot;FilterSecurityInterceptor.java&quot;,\r\n            &quot;lineNumber&quot;: 126,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.access.intercept.FilterSecurityInterceptor&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterSecurityInterceptor.java&quot;,\r\n            &quot;lineNumber&quot;: 90,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.access.intercept.FilterSecurityInterceptor&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ExceptionTranslationFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 118,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.access.ExceptionTranslationFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;SessionManagementFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 137,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.session.SessionManagementFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;OAuth2AuthorizationCodeGrantFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 140,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 119,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;AnonymousAuthenticationFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 111,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.AnonymousAuthenticationFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;SecurityContextHolderAwareRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 158,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;RequestCacheAwareFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 63,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.savedrequest.RequestCacheAwareFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;BasicAuthenticationFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 155,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.www.BasicAuthenticationFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 119,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;DefaultLogoutPageGeneratingFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 52,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 119,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;DefaultLoginPageGeneratingFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 216,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;AbstractAuthenticationProcessingFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 200,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;AbstractAuthenticationProcessingFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 200,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OAuth2AuthenticationProcessingFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 176,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;OAuth2AuthorizationRequestRedirectFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 160,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 119,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;OAuth2AuthorizationRequestRedirectFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 160,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 119,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;LogoutFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 116,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.logout.LogoutFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;CorsFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 92,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.CorsFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 119,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 334,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doHeadersAfter&quot;,\r\n            &quot;fileName&quot;: &quot;HeaderWriterFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 92,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.header.HeaderWriterFilter&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;HeaderWriterFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 77,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.header.HeaderWriterFilter&quot;\r\n        }...","title":"Call service error java.lang.NoSuchMethodError exchangeToMono (spring-webflux version 5.3.12)","body":"<p>I am using Spring Boot MVC and using WebClient (spring-webflux version 5.3.12) call other API.<br/>\n<em>spring-boot-starter-web:2.5.4</em><br/>\n<em>spring-webflux:5.3.12</em><br/>\n<em>JDK: openjdk:14.0.2</em></p>\n<blockquote>\n<p>Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'reactor.core.publisher.Mono org.springframework.web.reactive.function.client.WebClient$RequestHeadersSpec.exchangeToMono(java.util.function.Function)'\n<br/></p>\n</blockquote>\n<p>details</p>\n<pre><code>[\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doDispatch&quot;,\n        &quot;fileName&quot;: &quot;DispatcherServlet.java&quot;,\n        &quot;lineNumber&quot;: 1055,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.servlet.DispatcherServlet&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doService&quot;,\n        &quot;fileName&quot;: &quot;DispatcherServlet.java&quot;,\n        &quot;lineNumber&quot;: 943,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.servlet.DispatcherServlet&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;processRequest&quot;,\n        &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\n        &quot;lineNumber&quot;: 1006,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doGet&quot;,\n        &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\n        &quot;lineNumber&quot;: 898,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;service&quot;,\n        &quot;fileName&quot;: &quot;HttpServlet.java&quot;,\n        &quot;lineNumber&quot;: 634,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;javax.servlet.http.HttpServlet&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;service&quot;,\n        &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\n        &quot;lineNumber&quot;: 883,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;service&quot;,\n        &quot;fileName&quot;: &quot;HttpServlet.java&quot;,\n        &quot;lineNumber&quot;: 741,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;javax.servlet.http.HttpServlet&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;internalDoFilter&quot;,\n        &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n        &quot;lineNumber&quot;: 231,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n        &quot;lineNumber&quot;: 166,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;WsFilter.java&quot;,\n        &quot;lineNumber&quot;: 53,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.apache.tomcat.websocket.server.WsFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;internalDoFilter&quot;,\n        &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n        &quot;lineNumber&quot;: 193,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n        &quot;lineNumber&quot;: 166,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n        &quot;fileName&quot;: &quot;RequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 30,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;vn.com.mbbank.cmv.lib.core.config.http.RequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 119,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;internalDoFilter&quot;,\n        &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n        &quot;lineNumber&quot;: 193,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n        &quot;lineNumber&quot;: 166,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 320,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;invoke&quot;,\n        &quot;fileName&quot;: &quot;FilterSecurityInterceptor.java&quot;,\n        &quot;lineNumber&quot;: 126,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.access.intercept.FilterSecurityInterceptor&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterSecurityInterceptor.java&quot;,\n        &quot;lineNumber&quot;: 90,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.access.intercept.FilterSecurityInterceptor&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;ExceptionTranslationFilter.java&quot;,\n        &quot;lineNumber&quot;: 118,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.access.ExceptionTranslationFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;SessionManagementFilter.java&quot;,\n        &quot;lineNumber&quot;: 137,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.session.SessionManagementFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n        &quot;fileName&quot;: &quot;OAuth2AuthorizationCodeGrantFilter.java&quot;,\n        &quot;lineNumber&quot;: 140,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 119,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;AnonymousAuthenticationFilter.java&quot;,\n        &quot;lineNumber&quot;: 111,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.authentication.AnonymousAuthenticationFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;SecurityContextHolderAwareRequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 158,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;RequestCacheAwareFilter.java&quot;,\n        &quot;lineNumber&quot;: 63,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.savedrequest.RequestCacheAwareFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n        &quot;fileName&quot;: &quot;BasicAuthenticationFilter.java&quot;,\n        &quot;lineNumber&quot;: 155,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.authentication.www.BasicAuthenticationFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 119,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n        &quot;fileName&quot;: &quot;DefaultLogoutPageGeneratingFilter.java&quot;,\n        &quot;lineNumber&quot;: 52,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 119,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;DefaultLoginPageGeneratingFilter.java&quot;,\n        &quot;lineNumber&quot;: 216,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;AbstractAuthenticationProcessingFilter.java&quot;,\n        &quot;lineNumber&quot;: 200,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;AbstractAuthenticationProcessingFilter.java&quot;,\n        &quot;lineNumber&quot;: 200,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;OAuth2AuthenticationProcessingFilter.java&quot;,\n        &quot;lineNumber&quot;: 176,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n        &quot;fileName&quot;: &quot;OAuth2AuthorizationRequestRedirectFilter.java&quot;,\n        &quot;lineNumber&quot;: 160,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 119,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n        &quot;fileName&quot;: &quot;OAuth2AuthorizationRequestRedirectFilter.java&quot;,\n        &quot;lineNumber&quot;: 160,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 119,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;LogoutFilter.java&quot;,\n        &quot;lineNumber&quot;: 116,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.authentication.logout.LogoutFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n        &quot;fileName&quot;: &quot;CorsFilter.java&quot;,\n        &quot;lineNumber&quot;: 92,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.filter.CorsFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n        &quot;lineNumber&quot;: 119,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilter&quot;,\n        &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n        &quot;lineNumber&quot;: 334,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doHeadersAfter&quot;,\n        &quot;fileName&quot;: &quot;HeaderWriterFilter.java&quot;,\n        &quot;lineNumber&quot;: 92,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.header.HeaderWriterFilter&quot;\n    },\n    {\n        &quot;classLoaderName&quot;: null,\n        &quot;moduleName&quot;: null,\n        &quot;moduleVersion&quot;: null,\n        &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n        &quot;fileName&quot;: &quot;HeaderWriterFilter.java&quot;,\n        &quot;lineNumber&quot;: 77,\n        &quot;nativeMethod&quot;: false,\n        &quot;className&quot;: &quot;org.springframework.security.web.header.HeaderWriterFilter&quot;\n    }...\n</code></pre>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":16767462,"reputation":1,"user_id":12426160,"display_name":"Collision"},"score":0,"creation_date":1637165295,"post_id":70007820,"comment_id":123754207,"body_markdown":"Please any help is greatly appreciated i have been stuck for a long time. I  am still learning","body":"Please any help is greatly appreciated i have been stuck for a long time. I  am still learning"},{"owner":{"account_id":11167870,"reputation":597,"user_id":8195926,"display_name":"Sahitya Pasnoor"},"score":0,"creation_date":1637166256,"post_id":70007820,"comment_id":123754693,"body_markdown":"How are you adding the response to the ListView? Could you share that code as well?","body":"How are you adding the response to the ListView? Could you share that code as well?"},{"owner":{"account_id":16767462,"reputation":1,"user_id":12426160,"display_name":"Collision"},"score":0,"creation_date":1637166339,"post_id":70007820,"comment_id":123754735,"body_markdown":"```ArrayAdapter arrayAdapter = new ArrayAdapter(MainActivity.this, android.R.layout.simple_list_item_1, weatherReportModels);\n                dailyWeather.setAdapter(arrayAdapter);```  I am using this array adapter together with list view i created using the above call back function","body":"<code>ArrayAdapter arrayAdapter = new ArrayAdapter(MainActivity.this, android.R.layout.simple_list_item_1, weatherReportModels);                 dailyWeather.setAdapter(arrayAdapter);</code>  I am using this array adapter together with list view i created using the above call back function"}],"answers":[{"tags":[],"owner":{"account_id":11167870,"reputation":597,"user_id":8195926,"display_name":"Sahitya Pasnoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637167778,"creation_date":1637167778,"answer_id":70008459,"question_id":70007820,"body_markdown":"Usually, ArrayAdapter when used like this will try to use toString() function to get the value and display it. Try to override the toString in the \r\n`WeatherReportModel` and try again. ","title":"Handling a network request response in android","body":"<p>Usually, ArrayAdapter when used like this will try to use toString() function to get the value and display it. Try to override the toString in the\n<code>WeatherReportModel</code> and try again.</p>\n"}],"owner":{"account_id":16767462,"reputation":1,"user_id":12426160,"display_name":"Collision"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637167778,"creation_date":1637165229,"question_id":70007820,"body_markdown":"I created an android application to handle network requests using Volley API. I have managed to get a response from the server but I am failing to loop through the different objects of the result JSON and when I add data to a Listview it is only giving me the application&#39;s package name with a number added at the end.\r\n\r\n## This is the response that I want to handle. ##\r\n```\r\n{\r\n    &quot;list&quot;: [\r\n        {\r\n            &quot;dt&quot;: 1637172000,\r\n            &quot;main&quot;: {\r\n                &quot;temp&quot;: 301.79,\r\n                &quot;feels_like&quot;: 300.34,\r\n                &quot;temp_min&quot;: 298.24,\r\n                &quot;temp_max&quot;: 301.79,\r\n                &quot;pressure&quot;: 1008,\r\n                &quot;sea_level&quot;: 1008,\r\n                &quot;grnd_level&quot;: 854,\r\n                &quot;humidity&quot;: 20,\r\n                &quot;temp_kf&quot;: 3.55\r\n            },\r\n            &quot;weather&quot;: [\r\n                {\r\n                    &quot;id&quot;: 800,\r\n                    &quot;main&quot;: &quot;Clear&quot;,\r\n                    &quot;description&quot;: &quot;clear sky&quot;,\r\n                    &quot;icon&quot;: &quot;01n&quot;\r\n                }\r\n            ],\r\n            &quot;clouds&quot;: {\r\n                &quot;all&quot;: 7\r\n            },\r\n            &quot;wind&quot;: {\r\n                &quot;speed&quot;: 3.77,\r\n                &quot;deg&quot;: 46,\r\n                &quot;gust&quot;: 8.98\r\n            },\r\n            &quot;visibility&quot;: 10000,\r\n            &quot;pop&quot;: 0,\r\n            &quot;sys&quot;: {\r\n                &quot;pod&quot;: &quot;n&quot;\r\n            },\r\n            &quot;dt_txt&quot;: &quot;2021-11-17 18:00:00&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n## The object model and its fields ##\r\n```\r\npublic class WeatherReportModel {\r\n\r\n    private int dt;\r\n    private JSONObject main;\r\n    private JSONArray weather;\r\n    private JSONObject clouds;\r\n    private JSONObject wind;\r\n    private int visibility;\r\n    private double pop;\r\n    private JSONObject sys;\r\n    private String dt_txt;\r\n\r\n    public WeatherReportModel(\r\n            int dt, \r\n            JSONObject main, \r\n            JSONArray weather, \r\n            JSONObject clouds, \r\n            JSONObject wind, \r\n            int visibility, \r\n            double pop, \r\n            JSONObject sys, \r\n            String dt_txt) {\r\n        this.dt = dt;\r\n        this.main = main;\r\n        this.weather = weather;\r\n        this.clouds = clouds;\r\n        this.wind = wind;\r\n        this.visibility = visibility;\r\n        this.pop = pop;\r\n        this.sys = sys;\r\n        this.dt_txt = dt_txt;\r\n    }\r\n}\r\n```\r\n\r\n## This is call back function which fetches the responses and add to the Model&#39;s object ##\r\n```\r\npublic void getWeather(VolleyResponseListener forecast) {\r\n\r\n        List&lt;WeatherReportModel&gt; weatherReportModels = new ArrayList&lt;&gt;();\r\n\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n\r\n                        try {\r\n                            JSONArray weather_list = response.getJSONArray(&quot;list&quot;);\r\n\r\n                            // get the first item\r\n\r\n\r\n                            for (int i = 0; i &lt; weather_list.length(); i++) {\r\n\r\n                                WeatherReportModel one_day_weather = new WeatherReportModel();\r\n\r\n                                JSONObject first_day_from_api = (JSONObject) weather_list.get(i);\r\n\r\n                                one_day_weather.setDt(first_day_from_api.getInt(&quot;dt&quot;));\r\n                                one_day_weather.setMain(first_day_from_api.getJSONObject(&quot;main&quot;));\r\n                                one_day_weather.setWeather(first_day_from_api.getJSONArray(&quot;weather&quot;));\r\n                                one_day_weather.setClouds(first_day_from_api.getJSONObject(&quot;clouds&quot;));\r\n                                one_day_weather.setWind(first_day_from_api.getJSONObject(&quot;wind&quot;));\r\n                                one_day_weather.setVisibility(first_day_from_api.getInt(&quot;visibility&quot;));\r\n                                one_day_weather.setPop(first_day_from_api.getLong(&quot;pop&quot;));\r\n                                one_day_weather.setSys(first_day_from_api.getJSONObject(&quot;sys&quot;));\r\n                                one_day_weather.setDt_txt(first_day_from_api.getString(&quot;dt_txt&quot;));\r\n\r\n                                weatherReportModels.add(one_day_weather);\r\n                            }\r\n\r\n                            forecast.onResponse(weatherReportModels);\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n\r\n                    }\r\n                });\r\n\r\n        //get the property call consolidated weather\r\n\r\n        MySingleton.getInstance(context).addToRequestQueue(request);\r\n    }\r\n```","title":"Handling a network request response in android","body":"<p>I created an android application to handle network requests using Volley API. I have managed to get a response from the server but I am failing to loop through the different objects of the result JSON and when I add data to a Listview it is only giving me the application's package name with a number added at the end.</p>\n<h2>This is the response that I want to handle.</h2>\n<pre><code>{\n    &quot;list&quot;: [\n        {\n            &quot;dt&quot;: 1637172000,\n            &quot;main&quot;: {\n                &quot;temp&quot;: 301.79,\n                &quot;feels_like&quot;: 300.34,\n                &quot;temp_min&quot;: 298.24,\n                &quot;temp_max&quot;: 301.79,\n                &quot;pressure&quot;: 1008,\n                &quot;sea_level&quot;: 1008,\n                &quot;grnd_level&quot;: 854,\n                &quot;humidity&quot;: 20,\n                &quot;temp_kf&quot;: 3.55\n            },\n            &quot;weather&quot;: [\n                {\n                    &quot;id&quot;: 800,\n                    &quot;main&quot;: &quot;Clear&quot;,\n                    &quot;description&quot;: &quot;clear sky&quot;,\n                    &quot;icon&quot;: &quot;01n&quot;\n                }\n            ],\n            &quot;clouds&quot;: {\n                &quot;all&quot;: 7\n            },\n            &quot;wind&quot;: {\n                &quot;speed&quot;: 3.77,\n                &quot;deg&quot;: 46,\n                &quot;gust&quot;: 8.98\n            },\n            &quot;visibility&quot;: 10000,\n            &quot;pop&quot;: 0,\n            &quot;sys&quot;: {\n                &quot;pod&quot;: &quot;n&quot;\n            },\n            &quot;dt_txt&quot;: &quot;2021-11-17 18:00:00&quot;\n        }\n    ]\n}\n</code></pre>\n<h2>The object model and its fields</h2>\n<pre><code>public class WeatherReportModel {\n\n    private int dt;\n    private JSONObject main;\n    private JSONArray weather;\n    private JSONObject clouds;\n    private JSONObject wind;\n    private int visibility;\n    private double pop;\n    private JSONObject sys;\n    private String dt_txt;\n\n    public WeatherReportModel(\n            int dt, \n            JSONObject main, \n            JSONArray weather, \n            JSONObject clouds, \n            JSONObject wind, \n            int visibility, \n            double pop, \n            JSONObject sys, \n            String dt_txt) {\n        this.dt = dt;\n        this.main = main;\n        this.weather = weather;\n        this.clouds = clouds;\n        this.wind = wind;\n        this.visibility = visibility;\n        this.pop = pop;\n        this.sys = sys;\n        this.dt_txt = dt_txt;\n    }\n}\n</code></pre>\n<h2>This is call back function which fetches the responses and add to the Model's object</h2>\n<pre><code>public void getWeather(VolleyResponseListener forecast) {\n\n        List&lt;WeatherReportModel&gt; weatherReportModels = new ArrayList&lt;&gt;();\n\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n\n                        try {\n                            JSONArray weather_list = response.getJSONArray(&quot;list&quot;);\n\n                            // get the first item\n\n\n                            for (int i = 0; i &lt; weather_list.length(); i++) {\n\n                                WeatherReportModel one_day_weather = new WeatherReportModel();\n\n                                JSONObject first_day_from_api = (JSONObject) weather_list.get(i);\n\n                                one_day_weather.setDt(first_day_from_api.getInt(&quot;dt&quot;));\n                                one_day_weather.setMain(first_day_from_api.getJSONObject(&quot;main&quot;));\n                                one_day_weather.setWeather(first_day_from_api.getJSONArray(&quot;weather&quot;));\n                                one_day_weather.setClouds(first_day_from_api.getJSONObject(&quot;clouds&quot;));\n                                one_day_weather.setWind(first_day_from_api.getJSONObject(&quot;wind&quot;));\n                                one_day_weather.setVisibility(first_day_from_api.getInt(&quot;visibility&quot;));\n                                one_day_weather.setPop(first_day_from_api.getLong(&quot;pop&quot;));\n                                one_day_weather.setSys(first_day_from_api.getJSONObject(&quot;sys&quot;));\n                                one_day_weather.setDt_txt(first_day_from_api.getString(&quot;dt_txt&quot;));\n\n                                weatherReportModels.add(one_day_weather);\n                            }\n\n                            forecast.onResponse(weatherReportModels);\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n\n                    }\n                });\n\n        //get the property call consolidated weather\n\n        MySingleton.getInstance(context).addToRequestQueue(request);\n    }\n</code></pre>\n"},{"tags":["java","regex","string","http","header"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637165495,"creation_date":1637165495,"answer_id":70007880,"question_id":70007825,"body_markdown":"You can split with `:` that is preceded with a word char and not followed with a word char:\r\n```java\r\nstr.split(&quot;\\\\b:\\\\B&quot;)\r\n```\r\nSee the [regex demo][1]. Alternatively, you may split with `:` that is preceded with a non-whitespace char and is followed with a whitespace:\r\n```java\r\nstr.split(&quot;(?&lt;=\\\\S):(?=\\\\s)&quot;)\r\n```\r\nSee [this regex demo][2].\r\n\r\n*Details*:\r\n\r\n - `\\b:\\B` - a word boundary (`\\b`) requires a letter, digit or `_` to appear immediately to the left of the `:` (as `:` is a non-word char) and the next non-word boundary `\\B` requires a non-word char (any char other than letter, digit or underscore) to appear immediately on the right, or end of string can occur there, too\r\n - `(?&lt;=\\S)` - a positive lookbehind that matches a location immediately preceded with a non-whitespace char\r\n - `(?=\\s)` - a positive lookahead that matches a location immediately followed with a whitespace char.\r\n\r\n  [1]: https://regex101.com/r/vGE1cv/1\r\n  [2]: https://regex101.com/r/vGE1cv/2","title":"Java: How to split on colon for HTTP headers","body":"<p>You can split with <code>:</code> that is preceded with a word char and not followed with a word char:</p>\n<pre class=\"lang-java prettyprint-override\"><code>str.split(&quot;\\\\b:\\\\B&quot;)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/vGE1cv/1\" rel=\"nofollow noreferrer\">regex demo</a>. Alternatively, you may split with <code>:</code> that is preceded with a non-whitespace char and is followed with a whitespace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>str.split(&quot;(?&lt;=\\\\S):(?=\\\\s)&quot;)\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/vGE1cv/2\" rel=\"nofollow noreferrer\">this regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>\\b:\\B</code> - a word boundary (<code>\\b</code>) requires a letter, digit or <code>_</code> to appear immediately to the left of the <code>:</code> (as <code>:</code> is a non-word char) and the next non-word boundary <code>\\B</code> requires a non-word char (any char other than letter, digit or underscore) to appear immediately on the right, or end of string can occur there, too</li>\n<li><code>(?&lt;=\\S)</code> - a positive lookbehind that matches a location immediately preceded with a non-whitespace char</li>\n<li><code>(?=\\s)</code> - a positive lookahead that matches a location immediately followed with a whitespace char.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637167508,"creation_date":1637167508,"answer_id":70008389,"question_id":70007825,"body_markdown":"If you only want to split on the first occurrence of `:` and allow an optional `:` at the start of the string, you could also make use of a lookbehind with a finite quantifier in Java `{0,n}` where n in this example is 100\r\n\r\n    (?&lt;=^:?[^:\\r\\n]{0,100}):\r\n\r\nIn Java\r\n\r\n    str.Split(&quot;(?&lt;=^:?[^:\\\\r\\\\n]{0,100}):&quot;)\r\n\r\n- ` (?&lt;=` Postive lookbehind\r\n  - `^:?[^:]{0,100}` From the start of the string, match an optional `:` and 0-n occurrences of any char except `:` or a newline\r\n- `)` Close the lookbehind\r\n- `:` Match the colon to split on\r\n\r\n[Regex demo](https://regex101.com/r/zCqE9q/1)","title":"Java: How to split on colon for HTTP headers","body":"<p>If you only want to split on the first occurrence of <code>:</code> and allow an optional <code>:</code> at the start of the string, you could also make use of a lookbehind with a finite quantifier in Java <code>{0,n}</code> where n in this example is 100</p>\n<pre><code>(?&lt;=^:?[^:\\r\\n]{0,100}):\n</code></pre>\n<p>In Java</p>\n<pre><code>str.Split(&quot;(?&lt;=^:?[^:\\\\r\\\\n]{0,100}):&quot;)\n</code></pre>\n<ul>\n<li><code> (?&lt;=</code> Postive lookbehind\n<ul>\n<li><code>^:?[^:]{0,100}</code> From the start of the string, match an optional <code>:</code> and 0-n occurrences of any char except <code>:</code> or a newline</li>\n</ul>\n</li>\n<li><code>)</code> Close the lookbehind</li>\n<li><code>:</code> Match the colon to split on</li>\n</ul>\n<p><a href=\"https://regex101.com/r/zCqE9q/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":20053569,"reputation":141,"user_id":14701745,"display_name":"HelloWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637167508,"creation_date":1637165244,"question_id":70007825,"body_markdown":"If I have header name value pair such as:\r\n\r\n    accept-encoding: gzip, deflate, br\r\n    :authority: stackoverflow.com\r\n    something: some:value\r\n\r\nHow do I only split after the header name? Meaning, following would be my results:\r\n\r\n    accept-encoding =&gt; gzip, deflate, br\r\n    :authority =&gt; stackoverflow.com\r\n    something =&gt; some:value\r\n\r\nI have tried `str.Split(&quot;:&quot;, 2)` but it doesn&#39;t handle the :authority header","title":"Java: How to split on colon for HTTP headers","body":"<p>If I have header name value pair such as:</p>\n<pre><code>accept-encoding: gzip, deflate, br\n:authority: stackoverflow.com\nsomething: some:value\n</code></pre>\n<p>How do I only split after the header name? Meaning, following would be my results:</p>\n<pre><code>accept-encoding =&gt; gzip, deflate, br\n:authority =&gt; stackoverflow.com\nsomething =&gt; some:value\n</code></pre>\n<p>I have tried <code>str.Split(&quot;:&quot;, 2)</code> but it doesn't handle the :authority header</p>\n"},{"tags":["python","java","c++","math","3d"],"comments":[{"owner":{"account_id":1051236,"reputation":18972,"user_id":1055118,"accept_rate":100,"display_name":"doctorlove"},"score":0,"creation_date":1637159735,"post_id":70006292,"comment_id":123751467,"body_markdown":"Do you want this in a specific programming language? Can you plot a line segment in that language, at least as a starting point?","body":"Do you want this in a specific programming language? Can you plot a line segment in that language, at least as a starting point?"},{"owner":{"account_id":11431557,"reputation":11,"user_id":8380102,"display_name":"Верстак"},"score":0,"creation_date":1637159857,"post_id":70006292,"comment_id":123751523,"body_markdown":"@doctorlove preffered languages are python/java/c/c++. Can you use https://www.geogebra.org/calculator for plotting? This solution will be used for proprietary software","body":"@doctorlove preffered languages are python/java/c/c++. Can you use <a href=\"https://www.geogebra.org/calculator\" rel=\"nofollow noreferrer\">geogebra.org/calculator</a> for plotting? This solution will be used for proprietary software"},{"owner":{"account_id":18931171,"reputation":1496,"user_id":13813219,"display_name":"JAlex"},"score":0,"creation_date":1637164237,"post_id":70006292,"comment_id":123753661,"body_markdown":"Please [edit] the question and add appropriate tags (language, environment) and also include how you are intending to define _where_ in space is the curve going to be added. Also what does it mean to add a curve? Do you have a curve class, or a series of points, or explain how a curve might be defined in your code.","body":"Please <a href=\"https://stackoverflow.com/posts/70006292/edit\">edit</a> the question and add appropriate tags (language, environment) and also include how you are intending to define <i>where</i> in space is the curve going to be added. Also what does it mean to add a curve? Do you have a curve class, or a series of points, or explain how a curve might be defined in your code."}],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637160885,"creation_date":1637160885,"answer_id":70006672,"question_id":70006292,"body_markdown":"Generate point set in OXY plane and apply affine transformation to make OX axis coincide with desired vector, also you need to define one normal vector to get sin plane unambiguously. \r\n\r\n[Math for affine matrix calculation][1] (here simpler because we can choose unit-length vectors)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55327129/function-to-transform-3d-points-to-a-new-coordinate-system-with-numpy/55335897#55335897","title":"Put sin on segment in 3d","body":"<p>Generate point set in OXY plane and apply affine transformation to make OX axis coincide with desired vector, also you need to define one normal vector to get sin plane unambiguously.</p>\n<p><a href=\"https://stackoverflow.com/questions/55327129/function-to-transform-3d-points-to-a-new-coordinate-system-with-numpy/55335897#55335897\">Math for affine matrix calculation</a> (here simpler because we can choose unit-length vectors)</p>\n"}],"owner":{"account_id":11431557,"reputation":11,"user_id":8380102,"display_name":"Верстак"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70006672,"answer_count":1,"score":0,"last_activity_date":1637167324,"creation_date":1637159627,"question_id":70006292,"body_markdown":"i need to put a sin function, or any other function on start of segment in 3d space.\r\nSomething like that:\r\n\r\n[Example][1]\r\n\r\nBut in 3d space, help me pls, i spent about 4 days for solving it, but did not get  result\r\n\r\nThere are 2 points in space at arbitrary positions. I need a sinusoid between these two arbitrary points.\r\n\r\n[3d segment example][2]\r\n\r\n[An example of the final result][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EWk51.png\r\n  [2]: https://i.stack.imgur.com/5SMMN.png\r\n  [3]: https://i.stack.imgur.com/siTv2.png","title":"Put sin on segment in 3d","body":"<p>i need to put a sin function, or any other function on start of segment in 3d space.\nSomething like that:</p>\n<p><a href=\"https://i.stack.imgur.com/EWk51.png\" rel=\"nofollow noreferrer\">Example</a></p>\n<p>But in 3d space, help me pls, i spent about 4 days for solving it, but did not get  result</p>\n<p>There are 2 points in space at arbitrary positions. I need a sinusoid between these two arbitrary points.</p>\n<p><a href=\"https://i.stack.imgur.com/5SMMN.png\" rel=\"nofollow noreferrer\">3d segment example</a></p>\n<p><a href=\"https://i.stack.imgur.com/siTv2.png\" rel=\"nofollow noreferrer\">An example of the final result</a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1854272,"reputation":2117,"user_id":1680196,"display_name":"kasoban"},"score":1,"creation_date":1616002542,"post_id":66678234,"comment_id":117869499,"body_markdown":"Question  unrelated to your actual question: Do you really want a `Book` to have many `Author`s, but one `Author` can only be in relation to one `Book`?","body":"Question  unrelated to your actual question: Do you really want a <code>Book</code> to have many <code>Author</code>s, but one <code>Author</code> can only be in relation to one <code>Book</code>?"},{"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"score":0,"creation_date":1616002700,"post_id":66678234,"comment_id":117869572,"body_markdown":"Yes, probably I not used the most appropriate example... but into my real scenario the relationship it&#39;s correct","body":"Yes, probably I not used the most appropriate example... but into my real scenario the relationship it&#39;s correct"},{"owner":{"account_id":1854272,"reputation":2117,"user_id":1680196,"display_name":"kasoban"},"score":0,"creation_date":1616002929,"post_id":66678234,"comment_id":117869651,"body_markdown":"Just asking, because entity structure-wise it looks like you took a working many-to-many relation setup and tried to convert it to a one-to-many setup. The composite key doesn&#39;t make much sense to me from an entity design perspective, why not just directly map to the book in the author entity?","body":"Just asking, because entity structure-wise it looks like you took a working many-to-many relation setup and tried to convert it to a one-to-many setup. The composite key doesn&#39;t make much sense to me from an entity design perspective, why not just directly map to the book in the author entity?"},{"owner":{"account_id":1854272,"reputation":2117,"user_id":1680196,"display_name":"kasoban"},"score":0,"creation_date":1616003044,"post_id":66678234,"comment_id":117869706,"body_markdown":"but maybe that&#39;s also because I&#39;ve been using too much Spring Data abstraction and didn&#39;t use JPA for too long ^^","body":"but maybe that&#39;s also because I&#39;ve been using too much Spring Data abstraction and didn&#39;t use JPA for too long ^^"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1616003915,"post_id":66678234,"comment_id":117870100,"body_markdown":"@Safari Please show `CustomID`. What hibernate version do you use?","body":"@Safari Please show <code>CustomID</code>. What hibernate version do you use?"},{"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"score":0,"creation_date":1616004663,"post_id":66678234,"comment_id":117870420,"body_markdown":"@SternK about CustomID the code already there. I&#39;m using Hibernate ORM core version 5.4.15.Final","body":"@SternK about CustomID the code already there. I&#39;m using Hibernate ORM core version 5.4.15.Final"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1616004957,"post_id":66678234,"comment_id":117870566,"body_markdown":"The problem is you have two mappings for the UUID &#39;fieldA&#39;. MapsId is used for relationship mappings, to which fieldA is not, telling JPA to use the primary key from this referenced entity to set the value within the embedded ID you pointed it at - &#39;fieldA&#39;. Just remove this outright from the Author class, and use author.id.fieldA when ever you need to use that UUID.","body":"The problem is you have two mappings for the UUID &#39;fieldA&#39;. MapsId is used for relationship mappings, to which fieldA is not, telling JPA to use the primary key from this referenced entity to set the value within the embedded ID you pointed it at - &#39;fieldA&#39;. Just remove this outright from the Author class, and use author.id.fieldA when ever you need to use that UUID."},{"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"score":0,"creation_date":1616005065,"post_id":66678234,"comment_id":117870617,"body_markdown":"@kasoban Yes, you caught me! I started from a M2M relationship. In my case my idea is to use a composite key because I would like to avoid to use an additional primary key (for example as long int or UUID). I would like to use one pair (book_id, flied_a) because these will be unique","body":"@kasoban Yes, you caught me! I started from a M2M relationship. In my case my idea is to use a composite key because I would like to avoid to use an additional primary key (for example as long int or UUID). I would like to use one pair (book_id, flied_a) because these will be unique"},{"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"score":0,"creation_date":1616005268,"post_id":66678234,"comment_id":117870701,"body_markdown":"@Chris can you show me an example using an answer for your suggestion?","body":"@Chris can you show me an example using an answer for your suggestion?"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1616005272,"creation_date":1616005272,"answer_id":66679012,"question_id":66678234,"body_markdown":"Use either an ID class with Author as:\r\n\r\n    @Entity\r\n    @Table(name = &quot;author&quot;)\r\n    @IdClass(CustomID.class)\r\n    public class Author extends MyBaseEntity {\r\n    \r\n        @Id\r\n        @ManyToOne()\r\n        @JoinColumn(name = &quot;book_id&quot;)\r\n        private Book book;\r\n    \r\n        @ID\r\n        @Column(name = &quot;field_a&quot;, nullable = false)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID fieldA;\r\n    \r\n    }\r\n    \r\n    public class CustomID implements Serializable {\r\n        //these match the names of the property marked with @Id in Author\r\n        private UUID book;\r\n        private UUID fieldA;\r\n    }\r\n\r\nOr an embeddable that defines the basic fields for your entity as you have already done:\r\n\r\n    @Entity\r\n    @Table(name = &quot;author&quot;)\r\n    public class Author extends MyBaseEntity {\r\n    \r\n        @EmbeddedId\r\n        private CustomID id;\r\n    \r\n        @ManyToOne()\r\n        @MapsId(&quot;bookId&quot;)\r\n        @JoinColumn(name = &quot;book_id&quot;)\r\n        private Book book;\r\n    }\r\n\r\n","title":"JPA and Hibernate, OneToMany relationship with a composite key using UUID","body":"<p>Use either an ID class with Author as:</p>\n<pre><code>@Entity\n@Table(name = &quot;author&quot;)\n@IdClass(CustomID.class)\npublic class Author extends MyBaseEntity {\n\n    @Id\n    @ManyToOne()\n    @JoinColumn(name = &quot;book_id&quot;)\n    private Book book;\n\n    @ID\n    @Column(name = &quot;field_a&quot;, nullable = false)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID fieldA;\n\n}\n\npublic class CustomID implements Serializable {\n    //these match the names of the property marked with @Id in Author\n    private UUID book;\n    private UUID fieldA;\n}\n</code></pre>\n<p>Or an embeddable that defines the basic fields for your entity as you have already done:</p>\n<pre><code>@Entity\n@Table(name = &quot;author&quot;)\npublic class Author extends MyBaseEntity {\n\n    @EmbeddedId\n    private CustomID id;\n\n    @ManyToOne()\n    @MapsId(&quot;bookId&quot;)\n    @JoinColumn(name = &quot;book_id&quot;)\n    private Book book;\n}\n</code></pre>\n"}],"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1869,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66679012,"answer_count":1,"score":0,"last_activity_date":1637167320,"creation_date":1616002038,"question_id":66678234,"body_markdown":"I&#39;m using SpringBoot with JPA and Hibernate.\r\n\r\nI have two entities: Book and Author. A Book can have multiple Authors. So I need a OneToMany relationship.\r\n\r\nInto the Author table, my idea is to use a composite key (the book_id and one internal field for example field_a)\r\n\r\nI implemented these classes:\r\n\r\n    @Entity\r\n    @Table(name = &quot;book&quot;)\r\n    public class Book extends MyBaseEntity {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID uuid = UUID.randomUUID();\r\n    \r\n        @Column(name = &quot;name&quot;, nullable = false)\r\n        private String name;\r\n\r\n        @OneToMany(mappedBy = &quot;book&quot;)\r\n        private List&lt;Author&gt; authors = new ArrayList&lt;&gt;();\r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;author&quot;)\r\n    public class Author extends MyBaseEntity {\r\n    \r\n        @EmbeddedId\r\n        private CustomID id;\r\n    \r\n        @ManyToOne()\r\n        @MapsId(&quot;bookId&quot;)\r\n        @JoinColumn(name = &quot;book_id&quot;)\r\n        private Book book;\r\n    \r\n        @Column(name = &quot;field_a&quot;, nullable = false)\r\n        @MapsId(&quot;fieldA&quot;)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID fieldA;\r\n    \r\n    }\r\n    \r\n    \r\n    @Embeddable\r\n    public class CustomID implements Serializable {\r\n    \r\n        @Column(name = &quot;book_id&quot;)\r\n        private UUID bookId;\r\n    \r\n        @Column(name = &quot;field_a&quot;)\r\n        private UUID fieldA;\r\n    \r\n        public CustomID() { }\r\n    \r\n        public CustomID(UUID bookId, UUID fieldA) {\r\n            this.bookId = bookId;\r\n            this.fieldA = fieldA;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n    \r\n            if (o == null || getClass() != o.getClass())\r\n                return false;\r\n    \r\n            ShareID that = (CustomID) o;\r\n            return Objects.equals(bookId, that.bookId) &amp;&amp;\r\n                    Objects.equals(fieldA, that.fieldA);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(bookId, fieldA);\r\n        }\r\n    }\r\n\r\nWhen I try to execute my project (I&#39;m using the property `spring.jpa.hibernate.ddl-auto=create` to generate the DB) I&#39;m obtaining this error:\r\n\r\n    ERROR SpringApplication-reportFailure():837 - [ Application run failed ]\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Unknown entity name: java.util.UUID \r\n\r\nAny suggestion?\r\n\r\nIf I try to remove the use of composite-key works fine so, probably the problem it&#39;s related to the implementation or use of the composite key.","title":"JPA and Hibernate, OneToMany relationship with a composite key using UUID","body":"<p>I'm using SpringBoot with JPA and Hibernate.</p>\n<p>I have two entities: Book and Author. A Book can have multiple Authors. So I need a OneToMany relationship.</p>\n<p>Into the Author table, my idea is to use a composite key (the book_id and one internal field for example field_a)</p>\n<p>I implemented these classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;book&quot;)\npublic class Book extends MyBaseEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID uuid = UUID.randomUUID();\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;book&quot;)\n    private List&lt;Author&gt; authors = new ArrayList&lt;&gt;();\n\n}\n\n@Entity\n@Table(name = &quot;author&quot;)\npublic class Author extends MyBaseEntity {\n\n    @EmbeddedId\n    private CustomID id;\n\n    @ManyToOne()\n    @MapsId(&quot;bookId&quot;)\n    @JoinColumn(name = &quot;book_id&quot;)\n    private Book book;\n\n    @Column(name = &quot;field_a&quot;, nullable = false)\n    @MapsId(&quot;fieldA&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID fieldA;\n\n}\n\n\n@Embeddable\npublic class CustomID implements Serializable {\n\n    @Column(name = &quot;book_id&quot;)\n    private UUID bookId;\n\n    @Column(name = &quot;field_a&quot;)\n    private UUID fieldA;\n\n    public CustomID() { }\n\n    public CustomID(UUID bookId, UUID fieldA) {\n        this.bookId = bookId;\n        this.fieldA = fieldA;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n\n        if (o == null || getClass() != o.getClass())\n            return false;\n\n        ShareID that = (CustomID) o;\n        return Objects.equals(bookId, that.bookId) &amp;&amp;\n                Objects.equals(fieldA, that.fieldA);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(bookId, fieldA);\n    }\n}\n</code></pre>\n<p>When I try to execute my project (I'm using the property <code>spring.jpa.hibernate.ddl-auto=create</code> to generate the DB) I'm obtaining this error:</p>\n<pre><code>ERROR SpringApplication-reportFailure():837 - [ Application run failed ]\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Unknown entity name: java.util.UUID \n</code></pre>\n<p>Any suggestion?</p>\n<p>If I try to remove the use of composite-key works fine so, probably the problem it's related to the implementation or use of the composite key.</p>\n"},{"tags":["java","kubernetes"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1637092618,"post_id":69995213,"comment_id":123732502,"body_markdown":"You mean besides just copying over the fields?","body":"You mean besides just copying over the fields?"},{"owner":{"account_id":5601033,"reputation":19,"user_id":14536848,"display_name":"Interrupt"},"score":0,"creation_date":1637096703,"post_id":69995213,"comment_id":123733958,"body_markdown":"If you have a large object with dozens of nested fields, which themselves are objects and have nested object fields, this isn&#39;t feasible.","body":"If you have a large object with dozens of nested fields, which themselves are objects and have nested object fields, this isn&#39;t feasible."},{"owner":{"account_id":5601033,"reputation":19,"user_id":14536848,"display_name":"Interrupt"},"score":0,"creation_date":1637099706,"post_id":69995213,"comment_id":123734776,"body_markdown":"@RoddyoftheFrozenPeas I have updated the problem description so that it is clearer.","body":"@RoddyoftheFrozenPeas I have updated the problem description so that it is clearer."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1637100486,"post_id":69995213,"comment_id":123735001,"body_markdown":"I&#39;ve never had problems copying on a per-field basis (both explicitly and via reflection), so I&#39;m not sure what makes this &quot;not feasible&quot;. Of course there might be something built in, which would be cool, but just copying _works._","body":"I&#39;ve never had problems copying on a per-field basis (both explicitly and via reflection), so I&#39;m not sure what makes this &quot;not feasible&quot;. Of course there might be something built in, which would be cool, but just copying <i>works.</i>"},{"owner":{"account_id":5601033,"reputation":19,"user_id":14536848,"display_name":"Interrupt"},"score":0,"creation_date":1637103287,"post_id":69995213,"comment_id":123735735,"body_markdown":"Thanks for helping with this, perhaps I am doing something incorrectly? I will update the question above with a simple self-contained test and the result.","body":"Thanks for helping with this, perhaps I am doing something incorrectly? I will update the question above with a simple self-contained test and the result."}],"answers":[{"tags":[],"owner":{"account_id":5601033,"reputation":19,"user_id":14536848,"display_name":"Interrupt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637167252,"creation_date":1637167252,"answer_id":70008328,"question_id":69995213,"body_markdown":"The easiest way to copy K8s Java API resources is to utilize the `withNew[field name]Like` methods available in the V1 object builder pattern. Here is a simple self-contained example that demonstrates usage for the case above.\r\n\r\n***Example:***\r\n\r\n```java\r\nV1Container v1Container = new V1ContainerBuilder()\r\n    .withName(&quot;original container&quot;)\r\n    .addToArgs(&quot;original argument 1&quot;)\r\n    .build();\r\n\r\nV1Pod original = new V1PodBuilder()\r\n    .withNewMetadata()\r\n        .withName(&quot;Original Pod&quot;)\r\n    .endMetadata()\r\n    .withNewSpec()\r\n        .withContainers(v1Container)\r\n    .endSpec()\r\n    .build();\r\n\r\nV1Pod copy = new V1PodBuilder()\r\n    .withNewMetadataLike(original.getMetadata())\r\n    .endMetadata()\r\n    .withNewSpecLike(original.getSpec())\r\n    .endSpec()\r\n    .build();\r\n\r\ncopy.getMetadata().setName(&quot;copy of pod&quot;);\r\ncopy.getSpec().getContainers().get(0).setName(&quot;copy container&quot;);\r\n```\r\n\r\n***Original:***\r\n\r\n```yaml\r\nclass V1Pod {\r\n    apiVersion: null\r\n    kind: null\r\n    metadata: class V1ObjectMeta {\r\n        annotations: null\r\n        clusterName: null\r\n        creationTimestamp: null\r\n        deletionGracePeriodSeconds: null\r\n        deletionTimestamp: null\r\n        finalizers: null\r\n        generateName: null\r\n        generation: null\r\n        labels: null\r\n        managedFields: null\r\n        name: Original Pod\r\n        namespace: null\r\n        ownerReferences: null\r\n        resourceVersion: null\r\n        selfLink: null\r\n        uid: null\r\n    }\r\n    spec: class V1PodSpec {\r\n        activeDeadlineSeconds: null\r\n        affinity: null\r\n        automountServiceAccountToken: null\r\n        containers: [class V1Container {\r\n            args: [original argument 1]\r\n            command: null\r\n            env: null\r\n            envFrom: null\r\n            image: null\r\n            imagePullPolicy: null\r\n            lifecycle: null\r\n            livenessProbe: null\r\n            name: original container\r\n            ports: null\r\n            readinessProbe: null\r\n            resources: null\r\n            securityContext: null\r\n            startupProbe: null\r\n            stdin: null\r\n            stdinOnce: null\r\n            terminationMessagePath: null\r\n            terminationMessagePolicy: null\r\n            tty: null\r\n            volumeDevices: null\r\n            volumeMounts: null\r\n            workingDir: null\r\n        }]\r\n        # ...\r\n    }\r\n    status: null\r\n}\r\n```\r\n\r\n***Copy:***\r\n\r\n```yaml\r\nclass V1Pod {\r\n    apiVersion: null\r\n    kind: null\r\n    metadata: class V1ObjectMeta {\r\n        annotations: null\r\n        clusterName: null\r\n        creationTimestamp: null\r\n        deletionGracePeriodSeconds: null\r\n        deletionTimestamp: null\r\n        finalizers: null\r\n        generateName: null\r\n        generation: null\r\n        labels: null\r\n        managedFields: null\r\n        name: copy of pod\r\n        namespace: null\r\n        ownerReferences: null\r\n        resourceVersion: null\r\n        selfLink: null\r\n        uid: null\r\n    }\r\n    spec: class V1PodSpec {\r\n        activeDeadlineSeconds: null\r\n        affinity: null\r\n        automountServiceAccountToken: null\r\n        containers: [class V1Container {\r\n            args: [original argument 1]\r\n            command: null\r\n            env: null\r\n            envFrom: null\r\n            image: null\r\n            imagePullPolicy: null\r\n            lifecycle: null\r\n            livenessProbe: null\r\n            name: copy container\r\n            ports: null\r\n            readinessProbe: null\r\n            resources: null\r\n            securityContext: null\r\n            startupProbe: null\r\n            stdin: null\r\n            stdinOnce: null\r\n            terminationMessagePath: null\r\n            terminationMessagePolicy: null\r\n            tty: null\r\n            volumeDevices: null\r\n            volumeMounts: null\r\n            workingDir: null\r\n        }]\r\n        # ...\r\n    }\r\n    status: null\r\n}\r\n```","title":"Kubernetes Java API (Model) Deep Copy","body":"<p>The easiest way to copy K8s Java API resources is to utilize the <code>withNew[field name]Like</code> methods available in the V1 object builder pattern. Here is a simple self-contained example that demonstrates usage for the case above.</p>\n<p><em><strong>Example:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>V1Container v1Container = new V1ContainerBuilder()\n    .withName(&quot;original container&quot;)\n    .addToArgs(&quot;original argument 1&quot;)\n    .build();\n\nV1Pod original = new V1PodBuilder()\n    .withNewMetadata()\n        .withName(&quot;Original Pod&quot;)\n    .endMetadata()\n    .withNewSpec()\n        .withContainers(v1Container)\n    .endSpec()\n    .build();\n\nV1Pod copy = new V1PodBuilder()\n    .withNewMetadataLike(original.getMetadata())\n    .endMetadata()\n    .withNewSpecLike(original.getSpec())\n    .endSpec()\n    .build();\n\ncopy.getMetadata().setName(&quot;copy of pod&quot;);\ncopy.getSpec().getContainers().get(0).setName(&quot;copy container&quot;);\n</code></pre>\n<p><em><strong>Original:</strong></em></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>class V1Pod {\n    apiVersion: null\n    kind: null\n    metadata: class V1ObjectMeta {\n        annotations: null\n        clusterName: null\n        creationTimestamp: null\n        deletionGracePeriodSeconds: null\n        deletionTimestamp: null\n        finalizers: null\n        generateName: null\n        generation: null\n        labels: null\n        managedFields: null\n        name: Original Pod\n        namespace: null\n        ownerReferences: null\n        resourceVersion: null\n        selfLink: null\n        uid: null\n    }\n    spec: class V1PodSpec {\n        activeDeadlineSeconds: null\n        affinity: null\n        automountServiceAccountToken: null\n        containers: [class V1Container {\n            args: [original argument 1]\n            command: null\n            env: null\n            envFrom: null\n            image: null\n            imagePullPolicy: null\n            lifecycle: null\n            livenessProbe: null\n            name: original container\n            ports: null\n            readinessProbe: null\n            resources: null\n            securityContext: null\n            startupProbe: null\n            stdin: null\n            stdinOnce: null\n            terminationMessagePath: null\n            terminationMessagePolicy: null\n            tty: null\n            volumeDevices: null\n            volumeMounts: null\n            workingDir: null\n        }]\n        # ...\n    }\n    status: null\n}\n</code></pre>\n<p><em><strong>Copy:</strong></em></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>class V1Pod {\n    apiVersion: null\n    kind: null\n    metadata: class V1ObjectMeta {\n        annotations: null\n        clusterName: null\n        creationTimestamp: null\n        deletionGracePeriodSeconds: null\n        deletionTimestamp: null\n        finalizers: null\n        generateName: null\n        generation: null\n        labels: null\n        managedFields: null\n        name: copy of pod\n        namespace: null\n        ownerReferences: null\n        resourceVersion: null\n        selfLink: null\n        uid: null\n    }\n    spec: class V1PodSpec {\n        activeDeadlineSeconds: null\n        affinity: null\n        automountServiceAccountToken: null\n        containers: [class V1Container {\n            args: [original argument 1]\n            command: null\n            env: null\n            envFrom: null\n            image: null\n            imagePullPolicy: null\n            lifecycle: null\n            livenessProbe: null\n            name: copy container\n            ports: null\n            readinessProbe: null\n            resources: null\n            securityContext: null\n            startupProbe: null\n            stdin: null\n            stdinOnce: null\n            terminationMessagePath: null\n            terminationMessagePolicy: null\n            tty: null\n            volumeDevices: null\n            volumeMounts: null\n            workingDir: null\n        }]\n        # ...\n    }\n    status: null\n}\n</code></pre>\n"}],"owner":{"account_id":5601033,"reputation":19,"user_id":14536848,"display_name":"Interrupt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70008328,"answer_count":1,"score":-1,"last_activity_date":1637167252,"creation_date":1637091943,"question_id":69995213,"body_markdown":"I am trying to deep copy items from the *official* Kubernetes Java V1 API [models](https://javadoc.io/static/io.kubernetes/client-java-api/11.0.0/io/kubernetes/client/openapi/models/package-summary.html) but there aren&#39;t any copy constructors, `Cloneable`, nor `Serializable` interface implementations in any of the model objects. Does anyone have any ideas on how one may go about achieving this?\r\n\r\n&lt;br&gt;\r\n\r\n***Edit:***\r\n\r\nGiven the confusion of **@RoddyoftheFrozenPeas** I would like to clarify the situation for those who haven&#39;t used the API.\r\n\r\nThe [V1 Objects](https://github.com/kubernetes-client/java/tree/master/kubernetes/src/main/java/io/kubernetes/client/openapi/models) have other deeply nested V1 Objects. Take for instance the [V1Pod](https://github.com/kubernetes-client/java/blob/master/kubernetes/src/main/java/io/kubernetes/client/openapi/models/V1Pod.java) has a [V1PodSpec](https://github.com/kubernetes-client/java/blob/fbb85570d2af18a0307982ba21ca5f254ca67172/kubernetes/src/main/java/io/kubernetes/client/openapi/models/V1PodSpec.java#L30). Merely copying the objects fields at the top level will result in references to the nested objects. Modification of any of the nested objects will be observed in the other objects which retain references to said object.\r\n\r\n***Edit 2:***\r\n\r\nA simple self-contained test with results after execution. Perhaps I am doing something incorrectly?\r\n\r\n```java\r\nV1Container v1Container = new V1ContainerBuilder()\r\n    .withName(&quot;original container&quot;)\r\n    .addToArgs(&quot;original argument 1&quot;)\r\n    .build();\r\n\r\nV1Pod original = new V1PodBuilder()\r\n    .withNewMetadata()\r\n        .withName(&quot;Original Pod&quot;)\r\n    .endMetadata()\r\n    .withNewSpec()\r\n        .withContainers(v1Container)\r\n    .endSpec()\r\n    .build();\r\n\r\nV1Pod copy = new V1Pod();\r\ncopy.setMetadata(original.getMetadata());\r\ncopy.getMetadata().setName(&quot;copy of pod&quot;);\r\ncopy.setSpec(original.getSpec());\r\ncopy.getSpec().getContainers().get(0).setName(&quot;copy container&quot;);\r\n```\r\n\r\nOriginal:\r\n\r\n```yaml\r\nclass V1Pod {\r\n    apiVersion: null\r\n    kind: null\r\n    metadata: class V1ObjectMeta {\r\n        annotations: null\r\n        clusterName: null\r\n        creationTimestamp: null\r\n        deletionGracePeriodSeconds: null\r\n        deletionTimestamp: null\r\n        finalizers: null\r\n        generateName: null\r\n        generation: null\r\n        labels: null\r\n        managedFields: null\r\n        name: copy of pod\r\n        namespace: null\r\n        ownerReferences: null\r\n        resourceVersion: null\r\n        selfLink: null\r\n        uid: null\r\n    }\r\n    spec: class V1PodSpec {\r\n        activeDeadlineSeconds: null\r\n        affinity: null\r\n        automountServiceAccountToken: null\r\n        containers: [class V1Container {\r\n            args: [original argument 1]\r\n            command: null\r\n            env: null\r\n            envFrom: null\r\n            image: null\r\n            imagePullPolicy: null\r\n            lifecycle: null\r\n            livenessProbe: null\r\n            name: copy container\r\n            ports: null\r\n            readinessProbe: null\r\n            resources: null\r\n            securityContext: null\r\n            startupProbe: null\r\n            stdin: null\r\n            stdinOnce: null\r\n            terminationMessagePath: null\r\n            terminationMessagePolicy: null\r\n            tty: null\r\n            volumeDevices: null\r\n            volumeMounts: null\r\n            workingDir: null\r\n        }]\r\n        //...\r\n    }\r\n    status: null\r\n}\r\n```\r\n\r\nCopy:\r\n\r\n```yaml\r\nclass V1Pod {\r\n    apiVersion: null\r\n    kind: null\r\n    metadata: class V1ObjectMeta {\r\n        annotations: null\r\n        clusterName: null\r\n        creationTimestamp: null\r\n        deletionGracePeriodSeconds: null\r\n        deletionTimestamp: null\r\n        finalizers: null\r\n        generateName: null\r\n        generation: null\r\n        labels: null\r\n        managedFields: null\r\n        name: copy of pod\r\n        namespace: null\r\n        ownerReferences: null\r\n        resourceVersion: null\r\n        selfLink: null\r\n        uid: null\r\n    }\r\n    spec: class V1PodSpec {\r\n        activeDeadlineSeconds: null\r\n        affinity: null\r\n        automountServiceAccountToken: null\r\n        containers: [class V1Container {\r\n            args: [original argument 1]\r\n            command: null\r\n            env: null\r\n            envFrom: null\r\n            image: null\r\n            imagePullPolicy: null\r\n            lifecycle: null\r\n            livenessProbe: null\r\n            name: copy container\r\n            ports: null\r\n            readinessProbe: null\r\n            resources: null\r\n            securityContext: null\r\n            startupProbe: null\r\n            stdin: null\r\n            stdinOnce: null\r\n            terminationMessagePath: null\r\n            terminationMessagePolicy: null\r\n            tty: null\r\n            volumeDevices: null\r\n            volumeMounts: null\r\n            workingDir: null\r\n        }]\r\n        /...\r\n    }\r\n    status: null\r\n}\r\n```","title":"Kubernetes Java API (Model) Deep Copy","body":"<p>I am trying to deep copy items from the <em>official</em> Kubernetes Java V1 API <a href=\"https://javadoc.io/static/io.kubernetes/client-java-api/11.0.0/io/kubernetes/client/openapi/models/package-summary.html\" rel=\"nofollow noreferrer\">models</a> but there aren't any copy constructors, <code>Cloneable</code>, nor <code>Serializable</code> interface implementations in any of the model objects. Does anyone have any ideas on how one may go about achieving this?</p>\n<br>\n<p><em><strong>Edit:</strong></em></p>\n<p>Given the confusion of <strong>@RoddyoftheFrozenPeas</strong> I would like to clarify the situation for those who haven't used the API.</p>\n<p>The <a href=\"https://github.com/kubernetes-client/java/tree/master/kubernetes/src/main/java/io/kubernetes/client/openapi/models\" rel=\"nofollow noreferrer\">V1 Objects</a> have other deeply nested V1 Objects. Take for instance the <a href=\"https://github.com/kubernetes-client/java/blob/master/kubernetes/src/main/java/io/kubernetes/client/openapi/models/V1Pod.java\" rel=\"nofollow noreferrer\">V1Pod</a> has a <a href=\"https://github.com/kubernetes-client/java/blob/fbb85570d2af18a0307982ba21ca5f254ca67172/kubernetes/src/main/java/io/kubernetes/client/openapi/models/V1PodSpec.java#L30\" rel=\"nofollow noreferrer\">V1PodSpec</a>. Merely copying the objects fields at the top level will result in references to the nested objects. Modification of any of the nested objects will be observed in the other objects which retain references to said object.</p>\n<p><em><strong>Edit 2:</strong></em></p>\n<p>A simple self-contained test with results after execution. Perhaps I am doing something incorrectly?</p>\n<pre class=\"lang-java prettyprint-override\"><code>V1Container v1Container = new V1ContainerBuilder()\n    .withName(&quot;original container&quot;)\n    .addToArgs(&quot;original argument 1&quot;)\n    .build();\n\nV1Pod original = new V1PodBuilder()\n    .withNewMetadata()\n        .withName(&quot;Original Pod&quot;)\n    .endMetadata()\n    .withNewSpec()\n        .withContainers(v1Container)\n    .endSpec()\n    .build();\n\nV1Pod copy = new V1Pod();\ncopy.setMetadata(original.getMetadata());\ncopy.getMetadata().setName(&quot;copy of pod&quot;);\ncopy.setSpec(original.getSpec());\ncopy.getSpec().getContainers().get(0).setName(&quot;copy container&quot;);\n</code></pre>\n<p>Original:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>class V1Pod {\n    apiVersion: null\n    kind: null\n    metadata: class V1ObjectMeta {\n        annotations: null\n        clusterName: null\n        creationTimestamp: null\n        deletionGracePeriodSeconds: null\n        deletionTimestamp: null\n        finalizers: null\n        generateName: null\n        generation: null\n        labels: null\n        managedFields: null\n        name: copy of pod\n        namespace: null\n        ownerReferences: null\n        resourceVersion: null\n        selfLink: null\n        uid: null\n    }\n    spec: class V1PodSpec {\n        activeDeadlineSeconds: null\n        affinity: null\n        automountServiceAccountToken: null\n        containers: [class V1Container {\n            args: [original argument 1]\n            command: null\n            env: null\n            envFrom: null\n            image: null\n            imagePullPolicy: null\n            lifecycle: null\n            livenessProbe: null\n            name: copy container\n            ports: null\n            readinessProbe: null\n            resources: null\n            securityContext: null\n            startupProbe: null\n            stdin: null\n            stdinOnce: null\n            terminationMessagePath: null\n            terminationMessagePolicy: null\n            tty: null\n            volumeDevices: null\n            volumeMounts: null\n            workingDir: null\n        }]\n        //...\n    }\n    status: null\n}\n</code></pre>\n<p>Copy:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>class V1Pod {\n    apiVersion: null\n    kind: null\n    metadata: class V1ObjectMeta {\n        annotations: null\n        clusterName: null\n        creationTimestamp: null\n        deletionGracePeriodSeconds: null\n        deletionTimestamp: null\n        finalizers: null\n        generateName: null\n        generation: null\n        labels: null\n        managedFields: null\n        name: copy of pod\n        namespace: null\n        ownerReferences: null\n        resourceVersion: null\n        selfLink: null\n        uid: null\n    }\n    spec: class V1PodSpec {\n        activeDeadlineSeconds: null\n        affinity: null\n        automountServiceAccountToken: null\n        containers: [class V1Container {\n            args: [original argument 1]\n            command: null\n            env: null\n            envFrom: null\n            image: null\n            imagePullPolicy: null\n            lifecycle: null\n            livenessProbe: null\n            name: copy container\n            ports: null\n            readinessProbe: null\n            resources: null\n            securityContext: null\n            startupProbe: null\n            stdin: null\n            stdinOnce: null\n            terminationMessagePath: null\n            terminationMessagePolicy: null\n            tty: null\n            volumeDevices: null\n            volumeMounts: null\n            workingDir: null\n        }]\n        /...\n    }\n    status: null\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","mobile-development"],"comments":[{"owner":{"account_id":8652943,"reputation":22446,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"score":1,"creation_date":1637164780,"post_id":70007633,"comment_id":123753958,"body_markdown":"16 gb recommended if using emulator . This is not a question for stackoverflow .","body":"16 gb recommended if using emulator . This is not a question for stackoverflow ."}],"answers":[{"tags":[],"owner":{"account_id":12563330,"reputation":1,"user_id":9140190,"display_name":"IN_UNIX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637164874,"creation_date":1637164874,"answer_id":70007724,"question_id":70007633,"body_markdown":"Yup with the configuration you have you will be able to run the android studio very easily, but I will suggest to expand your RAM from 8 to 16 because then it will give you certain advantage while using the AVD.\r\n\r\nAnd yaa make sure that you are storing the android studio in your SSD.","title":"Minimum hardware requirement for android studio in 2021/022?","body":"<p>Yup with the configuration you have you will be able to run the android studio very easily, but I will suggest to expand your RAM from 8 to 16 because then it will give you certain advantage while using the AVD.</p>\n<p>And yaa make sure that you are storing the android studio in your SSD.</p>\n"},{"tags":[],"owner":{"account_id":23205820,"reputation":124,"user_id":17300051,"display_name":"droid24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637166798,"creation_date":1637166798,"answer_id":70008198,"question_id":70007633,"body_markdown":"Yes, it will work well, but If you are using the emulator, it is preferable that the RAM be 16GB, but that does not mean that it will not work on 8GB :)\r\n\r\nAlso, check the requirements of Android studio on its official website\r\n\r\nhttps://developer.android.com/studio\r\n\r\n- Windows\r\n&lt;p&gt; 64-bit Microsoft&#174; Windows&#174; 8/10 &lt;/p&gt;\r\n&lt;p&gt;x86_64 CPU architecture; 2nd generation Intel Core or newer, or AMD CPU with support for a Windows Hypervisor&lt;/p&gt;\r\n&lt;p&gt;8 GB RAM or more&lt;/p&gt;\r\n&lt;p&gt; 8 GB of available disk space minimum (IDE + Android SDK + Android Emulator)&lt;/p&gt;\r\n&lt;p&gt; 1280 x 800 minimum screen resolution\r\n","title":"Minimum hardware requirement for android studio in 2021/022?","body":"<p>Yes, it will work well, but If you are using the emulator, it is preferable that the RAM be 16GB, but that does not mean that it will not work on 8GB :)</p>\n<p>Also, check the requirements of Android studio on its official website</p>\n<p><a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">https://developer.android.com/studio</a></p>\n<ul>\n<li>Windows</li>\n</ul>\n<p> 64-bit Microsoft® Windows® 8/10 </p>\n<p>x86_64 CPU architecture; 2nd generation Intel Core or newer, or AMD CPU with support for a Windows Hypervisor</p>\n<p>8 GB RAM or more</p>\n<p> 8 GB of available disk space minimum (IDE + Android SDK + Android Emulator)</p>\n<p> 1280 x 800 minimum screen resolution\n"}],"owner":{"account_id":23203229,"reputation":11,"user_id":17297801,"display_name":"Rajan Shrestha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1070,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1637166798,"creation_date":1637164539,"question_id":70007633,"body_markdown":"I&#39;ve laptop having specification as\r\n1) inten i5 10th gen\r\n2) 8GB RAM\r\n3) 256 SSD\r\n4) nvidia mx250\r\n\r\nCan I run android studio properly/smoothly ??\r\n","title":"Minimum hardware requirement for android studio in 2021/022?","body":"<p>I've laptop having specification as</p>\n<ol>\n<li>inten i5 10th gen</li>\n<li>8GB RAM</li>\n<li>256 SSD</li>\n<li>nvidia mx250</li>\n</ol>\n<p>Can I run android studio properly/smoothly ??</p>\n"},{"tags":["java","oracle","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1636997787,"post_id":69976831,"comment_id":123701728,"body_markdown":"1) What jOOQ and Oracle versions are you using? 2) What&#39;s the definition of your `ARR_STR` type in DDL?","body":"1) What jOOQ and Oracle versions are you using? 2) What&#39;s the definition of your <code>ARR_STR</code> type in DDL?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1636998407,"post_id":69976831,"comment_id":123701945,"body_markdown":"jOOQ 3.15.4, Oracle 19. I&#39;ll check 2) tomorrow when I&#39;m back at work.","body":"jOOQ 3.15.4, Oracle 19. I&#39;ll check 2) tomorrow when I&#39;m back at work."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1637051832,"post_id":69976831,"comment_id":123715459,"body_markdown":"@LukasEder Thanks for the hint! While searching for the ARR_STR type DDL, I found it in another schema, that wasn&#39;t being done by the generator. I added it, and a record is generated and it&#39;s used by the generated query. So that solves both problems.","body":"@LukasEder Thanks for the hint! While searching for the ARR_STR type DDL, I found it in another schema, that wasn&#39;t being done by the generator. I added it, and a record is generated and it&#39;s used by the generated query. So that solves both problems."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1637053193,"post_id":69976831,"comment_id":123715927,"body_markdown":"Glad to hear that, I was suspecting that could have been the reason. We should probably improve the generated Javadoc to hint at this being a possible solution, rather than implementing a `Binding` manually: https://github.com/jOOQ/jOOQ/issues/12630. You can answer your own question here with your findings, to help future visitors...","body":"Glad to hear that, I was suspecting that could have been the reason. We should probably improve the generated Javadoc to hint at this being a possible solution, rather than implementing a <code>Binding</code> manually: <a href=\"https://github.com/jOOQ/jOOQ/issues/12630\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/12630</a>. You can answer your own question here with your findings, to help future visitors..."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637166709,"creation_date":1637166709,"answer_id":70008179,"question_id":69976831,"body_markdown":"The most common reason why this happens for user defined types is because the type is in a different schema than the routine referencing it, or it was excluded explicitly using `&lt;excludes&gt;`. In both cases, you can either:\r\n\r\n- Do as the hint in the Javadoc suggests, and implement your own binding\r\n- Much better: include the referenced types in your code generation configuration\r\n\r\nThe generated Javadoc could be improved because jOOQ knows that the type is a user-defined type and that it&#39;s missing from generation output. I&#39;ve created an issue to improve this: https://github.com/jOOQ/jOOQ/issues/12630","title":"Pass String array to Oracle query using jOOQ","body":"<p>The most common reason why this happens for user defined types is because the type is in a different schema than the routine referencing it, or it was excluded explicitly using <code>&lt;excludes&gt;</code>. In both cases, you can either:</p>\n<ul>\n<li>Do as the hint in the Javadoc suggests, and implement your own binding</li>\n<li>Much better: include the referenced types in your code generation configuration</li>\n</ul>\n<p>The generated Javadoc could be improved because jOOQ knows that the type is a user-defined type and that it's missing from generation output. I've created an issue to improve this: <a href=\"https://github.com/jOOQ/jOOQ/issues/12630\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12630</a></p>\n"}],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70008179,"answer_count":1,"score":1,"last_activity_date":1637166709,"creation_date":1636989993,"question_id":69976831,"body_markdown":"I&#39;m using the jOOQ code generator to call an query from an Oracle package. One of the parameters of the query is a String array.\r\n\r\nThe first issue, is that the code generator used `Object` as the type of the parameter. The generated documentation tells me to use an explicit `Binding`, but doesn&#39;t say how or where. I assume I have to configure something on the `GenerationTool`. How do I do that?\r\n\r\nThe second issue, is what actual value to pass. I&#39;ve tried `String[]` and `List&lt;String&gt;`, but neither work. Then I ended up writing my own simple class: \r\n\r\n```\r\npublic class MyStringArray extends ArrayRecordImpl&lt;String&gt; {\r\n  public MyStringArray() {\r\n    super(MySchema.MY_SCHEMA, &quot;ARR_STR&quot;, SQLDataType.VARCHAR(255));\r\n  }\r\n}\r\n```\r\n\r\nThis works, but feels like a hack. How do I do it the &quot;nice&quot; way?\r\n","title":"Pass String array to Oracle query using jOOQ","body":"<p>I'm using the jOOQ code generator to call an query from an Oracle package. One of the parameters of the query is a String array.</p>\n<p>The first issue, is that the code generator used <code>Object</code> as the type of the parameter. The generated documentation tells me to use an explicit <code>Binding</code>, but doesn't say how or where. I assume I have to configure something on the <code>GenerationTool</code>. How do I do that?</p>\n<p>The second issue, is what actual value to pass. I've tried <code>String[]</code> and <code>List&lt;String&gt;</code>, but neither work. Then I ended up writing my own simple class:</p>\n<pre><code>public class MyStringArray extends ArrayRecordImpl&lt;String&gt; {\n  public MyStringArray() {\n    super(MySchema.MY_SCHEMA, &quot;ARR_STR&quot;, SQLDataType.VARCHAR(255));\n  }\n}\n</code></pre>\n<p>This works, but feels like a hack. How do I do it the &quot;nice&quot; way?</p>\n"},{"tags":["java","spring","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637166639,"creation_date":1637166639,"answer_id":70008166,"question_id":70007599,"body_markdown":"I don&#39;t think you can do that for nested annotations. You probably need to think about having a custom `@Queue` annotation extension and then used it inside your `@SomeListener`. But the problem is that `@Queue` annotation cannot be extended. It has that `@Target({})`, so it is not possible at the moment. \r\n\r\nIf you really wish to have such a customization, consider to fix Spring AMQP on the matter via `@Target(ANNOTATION_TYPE)` and add some tests to demonstrate the feature and contribute it back to the framework.\r\n\r\nUnfortunately I don&#39;t see the other way to support your request, unless you would go the to declare `Queue` beans and use just their names in that your custom annotation:\r\n\r\n    @Retention(RUNTIME)\r\n\t@Target({ ElementType.TYPE, ElementType.METHOD })\r\n\t@RabbitListener\r\n\tpublic @interface MyListener {\r\n\t\t\r\n\t\t@AliasFor(annotation = RabbitListener.class, attribute = &quot;queues&quot;)\r\n\t\tString[] queues() default {};\r\n\t\t\r\n\t}","title":"Spring @AliasFor with property for nested annotation","body":"<p>I don't think you can do that for nested annotations. You probably need to think about having a custom <code>@Queue</code> annotation extension and then used it inside your <code>@SomeListener</code>. But the problem is that <code>@Queue</code> annotation cannot be extended. It has that <code>@Target({})</code>, so it is not possible at the moment.</p>\n<p>If you really wish to have such a customization, consider to fix Spring AMQP on the matter via <code>@Target(ANNOTATION_TYPE)</code> and add some tests to demonstrate the feature and contribute it back to the framework.</p>\n<p>Unfortunately I don't see the other way to support your request, unless you would go the to declare <code>Queue</code> beans and use just their names in that your custom annotation:</p>\n<pre><code>@Retention(RUNTIME)\n@Target({ ElementType.TYPE, ElementType.METHOD })\n@RabbitListener\npublic @interface MyListener {\n    \n    @AliasFor(annotation = RabbitListener.class, attribute = &quot;queues&quot;)\n    String[] queues() default {};\n    \n}\n</code></pre>\n"}],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70008166,"answer_count":1,"score":0,"last_activity_date":1637166639,"creation_date":1637164437,"question_id":70007599,"body_markdown":"Is it possible to have `@AliasFor` annotation pass the argument to nested annotation? Something like passing value of `name()` to nested `@Queue` annotation inside `@RabbitListener`? I basically wanted to specify multiple queues with same binding parameters to same exchange, and only vary queue name.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p8dk5.png","title":"Spring @AliasFor with property for nested annotation","body":"<p>Is it possible to have <code>@AliasFor</code> annotation pass the argument to nested annotation? Something like passing value of <code>name()</code> to nested <code>@Queue</code> annotation inside <code>@RabbitListener</code>? I basically wanted to specify multiple queues with same binding parameters to same exchange, and only vary queue name.</p>\n<p><a href=\"https://i.stack.imgur.com/p8dk5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p8dk5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","aws-lambda","aws-step-functions"],"answers":[{"tags":[],"owner":{"account_id":16060849,"reputation":2089,"user_id":11591758,"display_name":"lynkfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637166598,"creation_date":1637166598,"answer_id":70008157,"question_id":70005629,"body_markdown":"Make additional lambdas.\r\n\r\nI know that sounds contrite, but it is the best practice accepted behavior. \r\n\r\nEach lambda should be a self contained task only called when needed. If you have a lot of different scenarios, then make additional lambdas and put a choice Task in your State Machine to determine which lambda to call. \r\n\r\n","title":"Step function lambda that executes different tasks generically and on different intervals","body":"<p>Make additional lambdas.</p>\n<p>I know that sounds contrite, but it is the best practice accepted behavior.</p>\n<p>Each lambda should be a self contained task only called when needed. If you have a lot of different scenarios, then make additional lambdas and put a choice Task in your State Machine to determine which lambda to call.</p>\n"}],"owner":{"account_id":16682392,"reputation":574,"user_id":12057138,"display_name":"PloniStacker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637166598,"creation_date":1637157149,"question_id":70005629,"body_markdown":"So I am writing a Lambda that is part of a step function, this lambda is getting a map of task name and on what interval to execute it, for example -(&quot;task1&quot;,5) --&gt; task1 will be executed every 5 minutes. This lambda function is within a loop condition in the step machine and could potentially be looping for 24 hours. Upon each iteration of the step function loop, it waits for 5 minutes. This means that 5 minutes is my execution iteration. In such case we understand that &quot;task1&quot; should actually be executed on every iteration. In my below example I also have (&quot;task2&quot;,60) - this task should be executed every 12 iterations. My Lambda code at the moment looks like:\r\n\r\n    protected Map&lt;String, Object&gt; customHandleLambdaRequest(Map&lt;String, Object&gt; inputMap, Context context) throws Exception {\r\n\r\n        Map&lt;String, Object&gt; tasks = (Map&lt;String, Object&gt;) inputMap.get(&quot;tasks&quot;);\r\n        if (tasks.isEmpty()) {\r\n            return inputMap;\r\n        }\r\n\r\n        int tick = (int) inputMap.get(&quot;tick&quot;);\r\n        tick = tick + 5;\r\n        inputMap.put(&quot;tick&quot;, tick);\r\n\r\n        if (tasks.containsKey(&quot;task1&quot;) || isEvenlyDividable((int) tasks.get(&quot;task1&quot;),tick)) {\r\n            //do something\r\n        }\r\n\r\n        if (tasks.containsKey(&quot;task2&quot;) || isEvenlyDividable((int) tasks.get(&quot;task2&quot;),tick)) {\r\n            //do something\r\n        }\r\n\r\n        return inputMap;\r\n    }\r\n\r\nThe thing is, I keep on adding many tasks and end up having a code that looks like one big &quot;if&quot; (ugly). My question for the stack overflow code wizards are:\r\n\r\n1) how can I make this code more generic and not have all these if conditions? \r\n2) I would like to adhere to my interval time accurately and executing all the tasks might take a few seconds which in turn will cause my next iteration to be a few seconds late, would you suggest that I sample the first iteration time and keep that as my five minutes compass?","title":"Step function lambda that executes different tasks generically and on different intervals","body":"<p>So I am writing a Lambda that is part of a step function, this lambda is getting a map of task name and on what interval to execute it, for example -(&quot;task1&quot;,5) --&gt; task1 will be executed every 5 minutes. This lambda function is within a loop condition in the step machine and could potentially be looping for 24 hours. Upon each iteration of the step function loop, it waits for 5 minutes. This means that 5 minutes is my execution iteration. In such case we understand that &quot;task1&quot; should actually be executed on every iteration. In my below example I also have (&quot;task2&quot;,60) - this task should be executed every 12 iterations. My Lambda code at the moment looks like:</p>\n<pre><code>protected Map&lt;String, Object&gt; customHandleLambdaRequest(Map&lt;String, Object&gt; inputMap, Context context) throws Exception {\n\n    Map&lt;String, Object&gt; tasks = (Map&lt;String, Object&gt;) inputMap.get(&quot;tasks&quot;);\n    if (tasks.isEmpty()) {\n        return inputMap;\n    }\n\n    int tick = (int) inputMap.get(&quot;tick&quot;);\n    tick = tick + 5;\n    inputMap.put(&quot;tick&quot;, tick);\n\n    if (tasks.containsKey(&quot;task1&quot;) || isEvenlyDividable((int) tasks.get(&quot;task1&quot;),tick)) {\n        //do something\n    }\n\n    if (tasks.containsKey(&quot;task2&quot;) || isEvenlyDividable((int) tasks.get(&quot;task2&quot;),tick)) {\n        //do something\n    }\n\n    return inputMap;\n}\n</code></pre>\n<p>The thing is, I keep on adding many tasks and end up having a code that looks like one big &quot;if&quot; (ugly). My question for the stack overflow code wizards are:</p>\n<ol>\n<li>how can I make this code more generic and not have all these if conditions?</li>\n<li>I would like to adhere to my interval time accurately and executing all the tasks might take a few seconds which in turn will cause my next iteration to be a few seconds late, would you suggest that I sample the first iteration time and keep that as my five minutes compass?</li>\n</ol>\n"},{"tags":["java","spring","oracle","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1637476021,"post_id":70008155,"comment_id":123833207,"body_markdown":"I&#39;m not sure what you mean by &#39;socket timeout&#39;, but its value should be larger than other timeout values.","body":"I&#39;m not sure what you mean by &#39;socket timeout&#39;, but its value should be larger than other timeout values."},{"owner":{"account_id":4916340,"reputation":795,"user_id":3960191,"accept_rate":58,"display_name":"Patryk Imosa"},"score":0,"creation_date":1637747686,"post_id":70008155,"comment_id":123906743,"body_markdown":"This value:  &quot;[oracle.jdbc.ReadTimeout]&quot;: &quot;30000&quot;","body":"This value:  &quot;[oracle.jdbc.ReadTimeout]&quot;: &quot;30000&quot;"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1637755153,"post_id":70008155,"comment_id":123909716,"body_markdown":"`oracle.jdbc.ReadTimeout` definitely should be larger than the other timeout values.    Also, it does not cancel the query, IIRC. You should find and fix the original problem (probably a logical one) that is causing the deadlock rather than relying on timeouts.","body":"<code>oracle.jdbc.ReadTimeout</code> definitely should be larger than the other timeout values.    Also, it does not cancel the query, IIRC. You should find and fix the original problem (probably a logical one) that is causing the deadlock rather than relying on timeouts."}],"owner":{"account_id":4916340,"reputation":795,"user_id":3960191,"accept_rate":58,"display_name":"Patryk Imosa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637166595,"creation_date":1637166595,"question_id":70008155,"body_markdown":"I use MyBatis Batch ExecutorType with Spring Boot and @Transactional. For the database Oracle 19c + UCP Connection Pool. \r\n\r\nI have 4 instances having 10 threads each that are saving 50 events each with batch executor type. The events can be duplicated across all the instances.\r\n\r\n```\r\n@Transactional(timeout=30)\r\npublic void saveBatch(List&lt;Event&gt; events) {\r\n  for(Event e : events) {\r\n    repository.saveUsingBatchExecutor(e);\r\n  }\r\n}\r\n```\r\nWhat I encounter is that sometimes the transaction saving batch is blocked for some time and I suppose is because of that another transaction tries to save the same records. So the first thing that came to my mind was setting up the timeouts for transaction, query and socket. So I setup my UCP connection pool:\r\n\r\n```\r\nconnection-factory-class-name: oracle.jdbc.pool.OracleDataSource\r\nconnection-wait-timeout: 3\r\nmax-pool-size: 10\r\nmin-pool-size: 5\r\ninitial-pool-size: 5\r\nmax-connection-reuse-time: 300\r\nconnection-validation-timeout: 2\r\ninactive-connection-timeout: 120\r\nquery-timeout: 15\r\nfast-connection-failover-enabled: True\r\nvalidate-connection-on-borrow: true\r\ntimeout-check-interval: 3\r\nabandoned-connection-timeout: 45\r\nconnection-properties:\r\n  &quot;[oracle.jdbc.ReadTimeout]&quot;: &quot;30000&quot;\r\n```\r\n\r\nSo @Transactional timeout &gt;= socket timeout &gt; query timeout. (Im setting up socket timeout because for mybatis it looks like the @Transactional timeout doesn&#39;t work when doing commit).\r\n\r\nHaving more and more tests I noticed that my session sometimes is blocked on the database side(db closes the session after 10 minutes), even though I had an error on application side. So I suppose this could be the reason that other transactions get timed-out because on db side there is a session that keeps records blocked for 10 minutes. What I see in the logs is that sometimes I get connection closed exception during execution, but there should be rollback in case, but what if connections is lost but the db doesn&#39;t get notified? It seems like the session is kept open? But why there is no detector for such a behavior and why I lose the connection application side?\r\n\r\nHere are examples of the exceptions:\r\n\r\n&gt;Unexpected error during event processing.org.springframework.transaction.TransactionSystemException: Could not roll back JDBC transaction; nested exception is java.sql.SQLRecoverableException: Closed Connection\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:331)\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.doRollbackOnCommitException(AbstractPlatformTransactionManager.java:900)\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:789)\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504)\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292)\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\r\n--------------------------------------------------------------------------------------------------\r\n\r\n&gt; Application exception overridden by rollback exception ### Cause: org.springframework.jdbc.UncategorizedSQLException: ### Error querying database.  Cause: java.sql.SQLException: The statement is closed: The statement is closed### \r\n\r\n\r\nMaybe my properties are set in a wrong way? Or I need some additional configuration to be set. Any help appreciated.\r\n\r\n\r\n\r\n\r\n ","title":"MyBatis Batch + Spring Transaction blocks oracle session","body":"<p>I use MyBatis Batch ExecutorType with Spring Boot and @Transactional. For the database Oracle 19c + UCP Connection Pool.</p>\n<p>I have 4 instances having 10 threads each that are saving 50 events each with batch executor type. The events can be duplicated across all the instances.</p>\n<pre><code>@Transactional(timeout=30)\npublic void saveBatch(List&lt;Event&gt; events) {\n  for(Event e : events) {\n    repository.saveUsingBatchExecutor(e);\n  }\n}\n</code></pre>\n<p>What I encounter is that sometimes the transaction saving batch is blocked for some time and I suppose is because of that another transaction tries to save the same records. So the first thing that came to my mind was setting up the timeouts for transaction, query and socket. So I setup my UCP connection pool:</p>\n<pre><code>connection-factory-class-name: oracle.jdbc.pool.OracleDataSource\nconnection-wait-timeout: 3\nmax-pool-size: 10\nmin-pool-size: 5\ninitial-pool-size: 5\nmax-connection-reuse-time: 300\nconnection-validation-timeout: 2\ninactive-connection-timeout: 120\nquery-timeout: 15\nfast-connection-failover-enabled: True\nvalidate-connection-on-borrow: true\ntimeout-check-interval: 3\nabandoned-connection-timeout: 45\nconnection-properties:\n  &quot;[oracle.jdbc.ReadTimeout]&quot;: &quot;30000&quot;\n</code></pre>\n<p>So @Transactional timeout &gt;= socket timeout &gt; query timeout. (Im setting up socket timeout because for mybatis it looks like the @Transactional timeout doesn't work when doing commit).</p>\n<p>Having more and more tests I noticed that my session sometimes is blocked on the database side(db closes the session after 10 minutes), even though I had an error on application side. So I suppose this could be the reason that other transactions get timed-out because on db side there is a session that keeps records blocked for 10 minutes. What I see in the logs is that sometimes I get connection closed exception during execution, but there should be rollback in case, but what if connections is lost but the db doesn't get notified? It seems like the session is kept open? But why there is no detector for such a behavior and why I lose the connection application side?</p>\n<p>Here are examples of the exceptions:</p>\n<blockquote>\n<p>Unexpected error during event processing.org.springframework.transaction.TransactionSystemException: Could not roll back JDBC transaction; nested exception is java.sql.SQLRecoverableException: Closed Connection at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:331)   at org.springframework.transaction.support.AbstractPlatformTransactionManager.doRollbackOnCommitException(AbstractPlatformTransactionManager.java:900)  at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:789)    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)   at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504)  at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292)  at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>Application exception overridden by rollback exception ### Cause: org.springframework.jdbc.UncategorizedSQLException: ### Error querying database.  Cause: java.sql.SQLException: The statement is closed: The statement is closed###</p>\n</blockquote>\n<p>Maybe my properties are set in a wrong way? Or I need some additional configuration to be set. Any help appreciated.</p>\n"},{"tags":["java","sql","hibernate","jpa"],"comments":[{"owner":{"account_id":271156,"reputation":1299,"user_id":561543,"display_name":"Don Ho"},"score":0,"creation_date":1634112972,"post_id":69551725,"comment_id":122935850,"body_markdown":"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/","body":"<a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":19485366,"reputation":1,"user_id":14254838,"display_name":"sudarshan"},"score":0,"creation_date":1634113523,"post_id":69551725,"comment_id":122936044,"body_markdown":"already checked that but it seems second table has id as primary key but in my table team pk will be composite primary key made using foreign key and id","body":"already checked that but it seems second table has id as primary key but in my table team pk will be composite primary key made using foreign key and id"},{"owner":{"account_id":271156,"reputation":1299,"user_id":561543,"display_name":"Don Ho"},"score":0,"creation_date":1634113905,"post_id":69551725,"comment_id":122936213,"body_markdown":"why not use `@ManyToOne @JoinColumn(name = &quot;pkg_id&quot;)` on team and `@OneToMany(mappedBy = &quot;pkg&quot;)` on pkg?","body":"why not use <code>@ManyToOne @JoinColumn(name = &quot;pkg_id&quot;)</code> on team and <code>@OneToMany(mappedBy = &quot;pkg&quot;)</code> on pkg?"}],"answers":[{"tags":[],"owner":{"account_id":1707584,"reputation":3186,"user_id":1566345,"display_name":"Brian Vosburgh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634140632,"creation_date":1634140632,"answer_id":69558654,"question_id":69551725,"body_markdown":"You can try a &quot;derived identity&quot; by mapping your classes like this:\r\n```\r\n@Entity\r\n@Table(name = &quot;PKG&quot;)\r\npublic class Package {\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private String folder;\r\n\r\n    @OneToMany(mappedBy = &quot;package&quot;)\r\n    private List&lt;Team&gt; teams;\r\n\r\n    ...\r\n}\r\n\r\n@Embeddable\r\npublic class TeamId {\r\n    private Long id;\r\n\r\n    @Column(name = &quot;pkg_id&quot;)\r\n    private Long pkgId; // corresponds to PK type of Package\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;TEAM&quot;)\r\npublic class Team { \r\n    @EmbeddedId\r\n    private TeamId id;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;pkgId&quot;) // m\r\n    private Package package;\r\n\r\n    private String name;\r\n\r\n    private long filesCount;\r\n\r\n    ...\r\n}\r\n```\r\nDerived identities are discussed (with examples) in the [JPA 2.2 spec][1] in section 2.4.1.\r\n\r\n  [1]: https://github.com/javaee/jpa-spec/blob/master/jsr338-MR/JavaPersistence.pdf","title":"JPA Many to one mapping using composite key","body":"<p>You can try a &quot;derived identity&quot; by mapping your classes like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;PKG&quot;)\npublic class Package {\n    @Id\n    private Long id;\n\n    private String name;\n\n    private String folder;\n\n    @OneToMany(mappedBy = &quot;package&quot;)\n    private List&lt;Team&gt; teams;\n\n    ...\n}\n\n@Embeddable\npublic class TeamId {\n    private Long id;\n\n    @Column(name = &quot;pkg_id&quot;)\n    private Long pkgId; // corresponds to PK type of Package\n}\n\n@Entity\n@Table(name = &quot;TEAM&quot;)\npublic class Team { \n    @EmbeddedId\n    private TeamId id;\n\n    @ManyToOne\n    @MapsId(&quot;pkgId&quot;) // m\n    private Package package;\n\n    private String name;\n\n    private long filesCount;\n\n    ...\n}\n</code></pre>\n<p>Derived identities are discussed (with examples) in the <a href=\"https://github.com/javaee/jpa-spec/blob/master/jsr338-MR/JavaPersistence.pdf\" rel=\"nofollow noreferrer\">JPA 2.2 spec</a> in section 2.4.1.</p>\n"}],"owner":{"account_id":19485366,"reputation":1,"user_id":14254838,"display_name":"sudarshan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69558654,"answer_count":1,"score":-1,"last_activity_date":1637166533,"creation_date":1634111887,"question_id":69551725,"body_markdown":"I have 2 tables\r\n\r\n    PKG               TEAM\r\n    id(pk)            id\r\n    name              name\r\n    folder            filescount\r\n                      pkg_id(fk)\r\n                      (id,pkgid)(pk)\r\n\r\nHow do i create one to many mapping for above using the composite primary key in team table for jpa","title":"JPA Many to one mapping using composite key","body":"<p>I have 2 tables</p>\n<pre><code>PKG               TEAM\nid(pk)            id\nname              name\nfolder            filescount\n                  pkg_id(fk)\n                  (id,pkgid)(pk)\n</code></pre>\n<p>How do i create one to many mapping for above using the composite primary key in team table for jpa</p>\n"},{"tags":["java","android","kotlin","google-maps-markers"],"answers":[{"tags":[],"owner":{"account_id":13534850,"reputation":40,"user_id":9764331,"display_name":"Milad Mohammadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637166455,"creation_date":1637166455,"answer_id":70008116,"question_id":69973109,"body_markdown":"There are 2 common ways to do this.\r\n1. You can create a model for your response data as a `data class` using the &quot;JSON To Kotlin Class&quot; plugin in Android Studio. then easily you can access the JSON property as a Kotlin object.\r\n\r\n2. You have the JSON data as an string. add this line to your module-level `build.gradle` file:\r\n\r\n```\r\ndependencies {\r\n  //...\r\n\r\n  implementation &#39;com.google.code.gson:gson:2.8.9&#39;\r\n}\r\n```\r\n\r\nThen you can do parse your JSON String using Gson and get the coordinates as bellow:\r\n```kt\r\nval jsonData = &quot;...&quot;\r\nval gson = Gson()\r\nval coordinates = gson.fromJson(jsonData.getJSONArray(&quot;features&quot;)[0].getJSONObject(&quot;geometry&quot;).getJSONArray(&quot;coordinates&quot;).toString(), Array&lt;Type /*your data type*/&gt;::class.java).toList()\r\n\r\n```","title":"How do I get coordinates from geoJson?","body":"<p>There are 2 common ways to do this.</p>\n<ol>\n<li><p>You can create a model for your response data as a <code>data class</code> using the &quot;JSON To Kotlin Class&quot; plugin in Android Studio. then easily you can access the JSON property as a Kotlin object.</p>\n</li>\n<li><p>You have the JSON data as an string. add this line to your module-level <code>build.gradle</code> file:</p>\n</li>\n</ol>\n<pre><code>dependencies {\n  //...\n\n  implementation 'com.google.code.gson:gson:2.8.9'\n}\n</code></pre>\n<p>Then you can do parse your JSON String using Gson and get the coordinates as bellow:</p>\n<pre><code>val jsonData = &quot;...&quot;\nval gson = Gson()\nval coordinates = gson.fromJson(jsonData.getJSONArray(&quot;features&quot;)[0].getJSONObject(&quot;geometry&quot;).getJSONArray(&quot;coordinates&quot;).toString(), Array&lt;Type /*your data type*/&gt;::class.java).toList()\n\n</code></pre>\n"}],"owner":{"account_id":22613002,"reputation":1,"user_id":17417241,"display_name":"Aizirek Dokturbek kyzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637166455,"creation_date":1636973082,"question_id":69973109,"body_markdown":"I&#39;m having difficulty getting coordinates from a GeoJson file. I managed to draw a Polygon on the map, but I need to get a coordinate sheet to measure the length of the route and add markers. Here is my geoJson file\r\n\r\n    {\r\n      &quot;type&quot;: &quot;FeatureCollection&quot;,\r\n      &quot;features&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;Feature&quot;,\r\n          &quot;properties&quot;: {&quot;scalerank&quot;:0,&quot;featurecla&quot;:&quot;Admin-0 country&quot;,&quot;labelrank&quot;:2,&quot;sovereignt&quot;:&quot;Russia&quot;,&quot;sov_a3&quot;:&quot;RUS&quot;,&quot;adm0_dif&quot;:0,&quot;level&quot;:2,&quot;type&quot;:&quot;Sovereign country&quot;,&quot;admin&quot;:&quot;Russia&quot;,&quot;adm0_a3&quot;:&quot;RUS&quot;,&quot;geou_dif&quot;:0,&quot;geounit&quot;:&quot;Russia&quot;,&quot;gu_a3&quot;:&quot;RUS&quot;,&quot;su_dif&quot;:0,&quot;subunit&quot;:&quot;Russia&quot;,&quot;su_a3&quot;:&quot;RUS&quot;,&quot;brk_diff&quot;:0,&quot;name&quot;:&quot;Russia&quot;,&quot;name_long&quot;:&quot;Russian Federation&quot;,&quot;brk_a3&quot;:&quot;RUS&quot;,&quot;brk_name&quot;:&quot;Russia&quot;,&quot;brk_group&quot;:null,&quot;abbrev&quot;:&quot;Rus.&quot;,&quot;postal&quot;:&quot;RUS&quot;,&quot;formal_en&quot;:&quot;Russian Federation&quot;,&quot;formal_fr&quot;:null,&quot;note_adm0&quot;:null,&quot;note_brk&quot;:null,&quot;name_sort&quot;:&quot;Russian Federation&quot;,&quot;name_alt&quot;:null,&quot;mapcolor7&quot;:2,&quot;mapcolor8&quot;:5,&quot;mapcolor9&quot;:7,&quot;mapcolor13&quot;:7,&quot;pop_est&quot;:140041247,&quot;gdp_md_est&quot;:2266000,&quot;pop_year&quot;:-99,&quot;lastcensus&quot;:2010,&quot;gdp_year&quot;:-99,&quot;economy&quot;:&quot;3. Emerging region: BRIC&quot;,&quot;income_grp&quot;:&quot;3. Upper middle income&quot;,&quot;wikipedia&quot;:-99,&quot;fips_10_&quot;:&quot;RS&quot;,&quot;iso_a2&quot;:&quot;RU&quot;,&quot;iso_a3&quot;:&quot;RUS&quot;,&quot;iso_n3&quot;:&quot;643&quot;,&quot;un_a3&quot;:&quot;643&quot;,&quot;wb_a2&quot;:&quot;RU&quot;,&quot;wb_a3&quot;:&quot;RUS&quot;,&quot;woe_id&quot;:23424936,&quot;woe_id_eh&quot;:23424936,&quot;woe_note&quot;:&quot;Exact WOE match as country&quot;,&quot;adm0_a3_is&quot;:&quot;RUS&quot;,&quot;adm0_a3_us&quot;:&quot;RUS&quot;,&quot;adm0_a3_un&quot;:-99,&quot;adm0_a3_wb&quot;:-99,&quot;continent&quot;:&quot;Europe&quot;,&quot;region_un&quot;:&quot;Europe&quot;,&quot;subregion&quot;:&quot;Eastern Europe&quot;,&quot;region_wb&quot;:&quot;Europe &amp; Central Asia&quot;,&quot;name_len&quot;:6,&quot;long_len&quot;:18,&quot;abbrev_len&quot;:4,&quot;tiny&quot;:-99,&quot;homepart&quot;:1,&quot;filename&quot;:&quot;RUS.geojson&quot;},\r\n          &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;MultiPolygon&quot;,\r\n            &quot;coordinates&quot;: [[[[132.44898522200018,42.845404364],[132.44988040500007,42.82811107000001],[132.4674585300002,42.81093984600007],[132.47771243600013,42.803900458],[132.47559655000012,42.80023834800015],[132.46713300900015,42.79682038000014],[132.458262566,42.798285223],[132.45337975400005,42.80097077000009],[132.44727623800017,42.80731842700011],[132.43946373800006,42.81753164300015],[132.4298608730002,42.82648346600017],[132.41749108200023,42.83002350500006],[132.4064233730002,42.82876211100013],[132\r\n\r\n\r\nit turned out to go down only to geometry","title":"How do I get coordinates from geoJson?","body":"<p>I'm having difficulty getting coordinates from a GeoJson file. I managed to draw a Polygon on the map, but I need to get a coordinate sheet to measure the length of the route and add markers. Here is my geoJson file</p>\n<pre><code>{\n  &quot;type&quot;: &quot;FeatureCollection&quot;,\n  &quot;features&quot;: [\n    {\n      &quot;type&quot;: &quot;Feature&quot;,\n      &quot;properties&quot;: {&quot;scalerank&quot;:0,&quot;featurecla&quot;:&quot;Admin-0 country&quot;,&quot;labelrank&quot;:2,&quot;sovereignt&quot;:&quot;Russia&quot;,&quot;sov_a3&quot;:&quot;RUS&quot;,&quot;adm0_dif&quot;:0,&quot;level&quot;:2,&quot;type&quot;:&quot;Sovereign country&quot;,&quot;admin&quot;:&quot;Russia&quot;,&quot;adm0_a3&quot;:&quot;RUS&quot;,&quot;geou_dif&quot;:0,&quot;geounit&quot;:&quot;Russia&quot;,&quot;gu_a3&quot;:&quot;RUS&quot;,&quot;su_dif&quot;:0,&quot;subunit&quot;:&quot;Russia&quot;,&quot;su_a3&quot;:&quot;RUS&quot;,&quot;brk_diff&quot;:0,&quot;name&quot;:&quot;Russia&quot;,&quot;name_long&quot;:&quot;Russian Federation&quot;,&quot;brk_a3&quot;:&quot;RUS&quot;,&quot;brk_name&quot;:&quot;Russia&quot;,&quot;brk_group&quot;:null,&quot;abbrev&quot;:&quot;Rus.&quot;,&quot;postal&quot;:&quot;RUS&quot;,&quot;formal_en&quot;:&quot;Russian Federation&quot;,&quot;formal_fr&quot;:null,&quot;note_adm0&quot;:null,&quot;note_brk&quot;:null,&quot;name_sort&quot;:&quot;Russian Federation&quot;,&quot;name_alt&quot;:null,&quot;mapcolor7&quot;:2,&quot;mapcolor8&quot;:5,&quot;mapcolor9&quot;:7,&quot;mapcolor13&quot;:7,&quot;pop_est&quot;:140041247,&quot;gdp_md_est&quot;:2266000,&quot;pop_year&quot;:-99,&quot;lastcensus&quot;:2010,&quot;gdp_year&quot;:-99,&quot;economy&quot;:&quot;3. Emerging region: BRIC&quot;,&quot;income_grp&quot;:&quot;3. Upper middle income&quot;,&quot;wikipedia&quot;:-99,&quot;fips_10_&quot;:&quot;RS&quot;,&quot;iso_a2&quot;:&quot;RU&quot;,&quot;iso_a3&quot;:&quot;RUS&quot;,&quot;iso_n3&quot;:&quot;643&quot;,&quot;un_a3&quot;:&quot;643&quot;,&quot;wb_a2&quot;:&quot;RU&quot;,&quot;wb_a3&quot;:&quot;RUS&quot;,&quot;woe_id&quot;:23424936,&quot;woe_id_eh&quot;:23424936,&quot;woe_note&quot;:&quot;Exact WOE match as country&quot;,&quot;adm0_a3_is&quot;:&quot;RUS&quot;,&quot;adm0_a3_us&quot;:&quot;RUS&quot;,&quot;adm0_a3_un&quot;:-99,&quot;adm0_a3_wb&quot;:-99,&quot;continent&quot;:&quot;Europe&quot;,&quot;region_un&quot;:&quot;Europe&quot;,&quot;subregion&quot;:&quot;Eastern Europe&quot;,&quot;region_wb&quot;:&quot;Europe &amp; Central Asia&quot;,&quot;name_len&quot;:6,&quot;long_len&quot;:18,&quot;abbrev_len&quot;:4,&quot;tiny&quot;:-99,&quot;homepart&quot;:1,&quot;filename&quot;:&quot;RUS.geojson&quot;},\n      &quot;geometry&quot;: {\n        &quot;type&quot;: &quot;MultiPolygon&quot;,\n        &quot;coordinates&quot;: [[[[132.44898522200018,42.845404364],[132.44988040500007,42.82811107000001],[132.4674585300002,42.81093984600007],[132.47771243600013,42.803900458],[132.47559655000012,42.80023834800015],[132.46713300900015,42.79682038000014],[132.458262566,42.798285223],[132.45337975400005,42.80097077000009],[132.44727623800017,42.80731842700011],[132.43946373800006,42.81753164300015],[132.4298608730002,42.82648346600017],[132.41749108200023,42.83002350500006],[132.4064233730002,42.82876211100013],[132\n</code></pre>\n<p>it turned out to go down only to geometry</p>\n"},{"tags":["java","hibernate","jpa","composite-key"],"comments":[{"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"score":0,"creation_date":1437757436,"post_id":7569702,"comment_id":51181546,"body_markdown":"having a similar problem:  http://stackoverflow.com/questions/31600142/how-to-define-onetomany-in-parent-entity-when-child-has-composite-pk","body":"having a similar problem:  <a href=\"http://stackoverflow.com/questions/31600142/how-to-define-onetomany-in-parent-entity-when-child-has-composite-pk\" title=\"how to define onetomany in parent entity when child has composite pk\">stackoverflow.com/questions/31600142/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1317129651,"creation_date":1317129651,"answer_id":7569829,"question_id":7569702,"body_markdown":"The `mappedBy` attribute is mandatory at one of the sides of every bidirectional association. When the association is a one-to-many, the `mappedBy` attribute is placed ot the one- side (i.e. on the `User`&#39;s `userdata` field in your case).\r\n\r\nThat&#39;s because when an association is bidirectional, one side of the association is always the inverse of the other, so there&#39;s no need to tell twice to Hibernate how the association is mapped (i.e. which join column or join table to use).\r\n\r\nIf you&#39;re ready to recreate the schema, I would do it right (and easier), and use a surrogate auto-generated key in users_userdata rather than a composite one. This will be much easier to handle, in all the layers of your application.","title":"JPA composite key @OneToMany","body":"<p>The <code>mappedBy</code> attribute is mandatory at one of the sides of every bidirectional association. When the association is a one-to-many, the <code>mappedBy</code> attribute is placed ot the one- side (i.e. on the <code>User</code>'s <code>userdata</code> field in your case).</p>\n\n<p>That's because when an association is bidirectional, one side of the association is always the inverse of the other, so there's no need to tell twice to Hibernate how the association is mapped (i.e. which join column or join table to use).</p>\n\n<p>If you're ready to recreate the schema, I would do it right (and easier), and use a surrogate auto-generated key in users_userdata rather than a composite one. This will be much easier to handle, in all the layers of your application.</p>\n"}],"owner":{"account_id":938563,"reputation":475,"user_id":967058,"accept_rate":100,"display_name":"user967058"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9561,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7569829,"answer_count":1,"score":3,"last_activity_date":1637166347,"creation_date":1317129100,"question_id":7569702,"body_markdown":"I have the following existing DB schema, which I&#39;d like to recreate with Java and plain JPA annotations (using hibernate as provider, so hibernate specific annotations would work as a last resort):\r\n\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n    \r\n    CREATE TABLE users (\r\n    \tuser_id NUMBER NOT NULL\t\t\t\t\t\t-- pk\r\n    );\r\n\r\n    CREATE TABLE userdata_keys (\r\n    \tuserdata_key_id NUMBER NOT NULL,\t\t\t-- pk\r\n    \tkey VARCHAR2(128) NOT NULL\t\t\t\t\t\r\n    );\r\n\r\n    CREATE TABLE users_userdata (\r\n    \tuser_id NUMBER NOT NULL,\t\t\t\t\t-- fk users.user_id\r\n    \tuserdata_key_id NUMBER NOT NULL,\t\t\t-- fk userdata_keys.userdata_key_id\t\r\n\t    value VARCHAR2(256)\t\t\t\t\t\t\t\r\n    );\r\n\r\n\r\nI&#39;ve thus created the following classes and annotations:\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    class User {\r\n    \t@Id\r\n    \tLong id;\r\n    \t@OneToMany\r\n    \tSet&lt;Userdata&gt; userdata;\r\n    }\r\n\r\n    class UserdataKey {\r\n    \t@Id\r\n    \tLong id;\r\n    \tString key;\r\n    }\r\n\r\n    class Userdata {\r\n    \tString value;\r\n    \t@EmbeddedId\r\n    \tUserdataId userdataId;\r\n    }\r\n\r\n    @Embeddable\r\n    class UserdataId {\r\n    \tUser user;\r\n    \tUserdataKey userdataKey;\r\n    }\r\n\r\nI left out _columnName_ attributes and other attributes of the entities here.  \r\nIt does however not quite work as intended. **If I do not specify a _mappedBy_ attribute for _User.userdata_, hibernate will automatically create a table USERS_USERS_USERDATA, but as far as I&#39;ve seen does not use it. It does however use the table which I specified for the _Userdata_ class.**\r\n\r\nSince I&#39;m rather new to Java and hibernate as well, all I do to test this currently is looking at the DB schema hibernate creates when persisting a few sample entries.\r\n\r\nAs a result, I&#39;m entirely puzzled as to whether I&#39;m doing this the right way at all. I read the hibernate documentation and quite a bunch of Google results, but none of them seemed to deal with what I want to do (composite key with &quot;subclasses&quot; with their own primary key).\r\n","title":"JPA composite key @OneToMany","body":"<p>I have the following existing DB schema, which I'd like to recreate with Java and plain JPA annotations (using hibernate as provider, so hibernate specific annotations would work as a last resort):</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE users (\n    user_id NUMBER NOT NULL                     -- pk\n);\n\nCREATE TABLE userdata_keys (\n    userdata_key_id NUMBER NOT NULL,            -- pk\n    key VARCHAR2(128) NOT NULL                  \n);\n\nCREATE TABLE users_userdata (\n    user_id NUMBER NOT NULL,                    -- fk users.user_id\n    userdata_key_id NUMBER NOT NULL,            -- fk userdata_keys.userdata_key_id \n    value VARCHAR2(256)                         \n);\n</code></pre>\n\n<p>I've thus created the following classes and annotations:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class User {\n    @Id\n    Long id;\n    @OneToMany\n    Set&lt;Userdata&gt; userdata;\n}\n\nclass UserdataKey {\n    @Id\n    Long id;\n    String key;\n}\n\nclass Userdata {\n    String value;\n    @EmbeddedId\n    UserdataId userdataId;\n}\n\n@Embeddable\nclass UserdataId {\n    User user;\n    UserdataKey userdataKey;\n}\n</code></pre>\n\n<p>I left out <em>columnName</em> attributes and other attributes of the entities here.<br>\nIt does however not quite work as intended. <strong>If I do not specify a <em>mappedBy</em> attribute for <em>User.userdata</em>, hibernate will automatically create a table USERS_USERS_USERDATA, but as far as I've seen does not use it. It does however use the table which I specified for the <em>Userdata</em> class.</strong></p>\n\n<p>Since I'm rather new to Java and hibernate as well, all I do to test this currently is looking at the DB schema hibernate creates when persisting a few sample entries.</p>\n\n<p>As a result, I'm entirely puzzled as to whether I'm doing this the right way at all. I read the hibernate documentation and quite a bunch of Google results, but none of them seemed to deal with what I want to do (composite key with \"subclasses\" with their own primary key).</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1637154565,"post_id":70000089,"comment_id":123749026,"body_markdown":"This is not surprising - you tell mockito &quot;when `cache.getOrElseUpdate()` is called with two parameters (no matter what that parameters are) then ignore the parameters and return the result of `searchedRepositoriesObject()`&quot;","body":"This is not surprising - you tell mockito &quot;when <code>cache.getOrElseUpdate()</code> is called with two parameters (no matter what that parameters are) then ignore the parameters and return the result of <code>searchedRepositoriesObject()</code>&quot;"},{"owner":{"account_id":21283318,"reputation":33,"user_id":15661413,"display_name":"Taniya Patel"},"score":0,"creation_date":1637165952,"post_id":70000089,"comment_id":123754549,"body_markdown":"Even when I mock the function geithubserviceMock.getReposByTopics,I cannot cover the lambda!","body":"Even when I mock the function geithubserviceMock.getReposByTopics,I cannot cover the lambda!"}],"owner":{"account_id":21283318,"reputation":33,"user_id":15661413,"display_name":"Taniya Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637166324,"creation_date":1637132452,"question_id":70000089,"body_markdown":"Here is my function for which I wrote a mockito test case which returns the list of github repositores matching a given topic using: https://javadoc.io/doc/org.eclipse.mylyn.github/org.eclipse.egit.github.core/2.1.5/index.html\r\n\r\ngithubService is an object of the class GithubService that contains the method getReposByTopics.\r\n```\r\npublic CompletionStage&lt;Result&gt; getReposByTopics(String topic_name) {\r\n\t\tCompletionStage&lt;Result&gt; results = cache\r\n\t\t\t\t.getOrElseUpdate((topic_name + &quot;.getReposByTopics&quot;),\r\n\t\t\t\t\t\t() -&gt; githubService.getReposByTopics(topic_name)\r\n\t\t\t\t\t\t\t\t.thenApplyAsync(repository -&gt; ok(views.html.topics.render(repository))));\r\n\t\treturn results;\r\n\r\n\t}\r\n```\r\nThe Test case is:\r\n```\r\n @Test\r\n    public void getReposByTopicsTest()\r\n    {\r\n        running(provideApplication(), () -&gt; {\r\n            when(cache.getOrElseUpdate(any(),any())).thenReturn(searchedRepositoriesObject());\r\n            CompletionStage&lt;Result&gt; repositories = githubController.getReposByTopics(&quot;mocktopic&quot;);\r\n            assertTrue(repositories.toCompletableFuture().isDone());\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     *  mock object for testing getReposByTopicsTest\r\n     * @author Trusha Patel\r\n     * @return CompletionStage&lt;Object&gt; represents the async response containing the process stage of SearchedRepository\r\n     */\r\n    private CompletionStage&lt;Object&gt; searchedRepositoriesObject(){\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            SearchedRepositoryDetails searchedRepositoryDetails = new SearchedRepositoryDetails();\r\n            List&lt;SearchRepository&gt; searchItem = new ArrayList&lt;&gt;();\r\n            SearchRepository searchMock1 = mock(SearchRepository.class);\r\n            when(searchMock1.getOwner()).thenReturn(&quot;user1&quot;);\r\n            when(searchMock1.getName()).thenReturn(&quot;repo1&quot;);\r\n            SearchRepository searchMock2 = mock(SearchRepository.class);\r\n            when(searchMock2.getOwner()).thenReturn(&quot;user2&quot;);\r\n            when(searchMock2.getName()).thenReturn(&quot;repo2&quot;);\r\n            searchItem.add(searchMock1);\r\n            searchItem.add(searchMock2);\r\n            searchedRepositoryDetails.setRepos(searchItem);\r\n            return searchedRepositoryDetails;\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy jacoco test coverage never covers the lambda..\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zbJBI.png\r\nThe same happens with the other function where instead of mocking the cache, i mock the function:\r\n```\r\npublic CompletionStage&lt;Result&gt; getRepositoryDetails(String userName, String repositoryName) {\r\n\r\n\t\tCompletionStage&lt;Result&gt; results = cache\r\n\t\t\t\t.getOrElseUpdate((userName +&quot;.&quot;+repositoryName),\r\n\t\t\t\t\t\t() -&gt; githubService.getRepositoryDetails(userName, repositoryName)\r\n\t\t\t\t.thenApplyAsync(repository -&gt; ok(views.html.repository.render(repository))));\r\n\t\treturn results;\r\n\t}\r\n```\r\nTest case:\r\n```\r\npublic void getRepositoryDetailsTest()\r\n    {\r\n        running(provideApplication(), () -&gt; {\r\n            when(githubService.getRepositoryDetails(anyString(),anyString())).thenReturn(repositoryDetails());\r\n            \r\n            CompletionStage&lt;Result&gt; repositoryDetails = githubController.getRepositoryDetails(&quot;play&quot;, &quot;play&quot;);\r\n            try {\r\n                Result result = repositoryDetails.toCompletableFuture().get();\r\n                assertEquals(HttpStatus.SC_OK,result.status());\r\n                assertTrue(contentAsString(result).contains(&quot;MockRepoName&quot;));\r\n                assertEquals(&quot;text/html&quot;,result.contentType().get());\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n\r\n    private CompletionStage&lt;RepositoryDetails&gt; repositoryDetails(){\r\n        return CompletableFuture.supplyAsync( () -&gt; {\r\n            RepositoryDetails repositoryDetails = new RepositoryDetails();\r\n            Repository repository = new Repository();\r\n            repository.setName(&quot;MockRepoName&quot;);\r\n            repositoryDetails.setRepository(repository);\r\n            return repositoryDetails;\r\n        });\r\n    }","title":"Why can&#39;t cover the test case for the lambda function?","body":"<p>Here is my function for which I wrote a mockito test case which returns the list of github repositores matching a given topic using: <a href=\"https://javadoc.io/doc/org.eclipse.mylyn.github/org.eclipse.egit.github.core/2.1.5/index.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.eclipse.mylyn.github/org.eclipse.egit.github.core/2.1.5/index.html</a></p>\n<p>githubService is an object of the class GithubService that contains the method getReposByTopics.</p>\n<pre><code>public CompletionStage&lt;Result&gt; getReposByTopics(String topic_name) {\n        CompletionStage&lt;Result&gt; results = cache\n                .getOrElseUpdate((topic_name + &quot;.getReposByTopics&quot;),\n                        () -&gt; githubService.getReposByTopics(topic_name)\n                                .thenApplyAsync(repository -&gt; ok(views.html.topics.render(repository))));\n        return results;\n\n    }\n</code></pre>\n<p>The Test case is:</p>\n<pre><code> @Test\n    public void getReposByTopicsTest()\n    {\n        running(provideApplication(), () -&gt; {\n            when(cache.getOrElseUpdate(any(),any())).thenReturn(searchedRepositoriesObject());\n            CompletionStage&lt;Result&gt; repositories = githubController.getReposByTopics(&quot;mocktopic&quot;);\n            assertTrue(repositories.toCompletableFuture().isDone());\n        });\n\n    }\n\n    /**\n     *\n     *  mock object for testing getReposByTopicsTest\n     * @author Trusha Patel\n     * @return CompletionStage&lt;Object&gt; represents the async response containing the process stage of SearchedRepository\n     */\n    private CompletionStage&lt;Object&gt; searchedRepositoriesObject(){\n        return CompletableFuture.supplyAsync(() -&gt; {\n            SearchedRepositoryDetails searchedRepositoryDetails = new SearchedRepositoryDetails();\n            List&lt;SearchRepository&gt; searchItem = new ArrayList&lt;&gt;();\n            SearchRepository searchMock1 = mock(SearchRepository.class);\n            when(searchMock1.getOwner()).thenReturn(&quot;user1&quot;);\n            when(searchMock1.getName()).thenReturn(&quot;repo1&quot;);\n            SearchRepository searchMock2 = mock(SearchRepository.class);\n            when(searchMock2.getOwner()).thenReturn(&quot;user2&quot;);\n            when(searchMock2.getName()).thenReturn(&quot;repo2&quot;);\n            searchItem.add(searchMock1);\n            searchItem.add(searchMock2);\n            searchedRepositoryDetails.setRepos(searchItem);\n            return searchedRepositoryDetails;\n        });\n    }\n\n}\n</code></pre>\n<p>My jacoco test coverage never covers the lambda..\n<a href=\"https://i.stack.imgur.com/zbJBI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zbJBI.png\" alt=\"enter image description here\" /></a></p>\n<p>The same happens with the other function where instead of mocking the cache, i mock the function:</p>\n<pre><code>public CompletionStage&lt;Result&gt; getRepositoryDetails(String userName, String repositoryName) {\n\n        CompletionStage&lt;Result&gt; results = cache\n                .getOrElseUpdate((userName +&quot;.&quot;+repositoryName),\n                        () -&gt; githubService.getRepositoryDetails(userName, repositoryName)\n                .thenApplyAsync(repository -&gt; ok(views.html.repository.render(repository))));\n        return results;\n    }\n</code></pre>\n<p>Test case:</p>\n<pre><code>public void getRepositoryDetailsTest()\n    {\n        running(provideApplication(), () -&gt; {\n            when(githubService.getRepositoryDetails(anyString(),anyString())).thenReturn(repositoryDetails());\n            \n            CompletionStage&lt;Result&gt; repositoryDetails = githubController.getRepositoryDetails(&quot;play&quot;, &quot;play&quot;);\n            try {\n                Result result = repositoryDetails.toCompletableFuture().get();\n                assertEquals(HttpStatus.SC_OK,result.status());\n                assertTrue(contentAsString(result).contains(&quot;MockRepoName&quot;));\n                assertEquals(&quot;text/html&quot;,result.contentType().get());\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    \n\n    private CompletionStage&lt;RepositoryDetails&gt; repositoryDetails(){\n        return CompletableFuture.supplyAsync( () -&gt; {\n            RepositoryDetails repositoryDetails = new RepositoryDetails();\n            Repository repository = new Repository();\n            repository.setName(&quot;MockRepoName&quot;);\n            repositoryDetails.setRepository(repository);\n            return repositoryDetails;\n        });\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1637490867,"post_id":70007072,"comment_id":123835386,"body_markdown":"Does this answer your question? [Springboot Security hasRole not working](https://stackoverflow.com/questions/41946473/springboot-security-hasrole-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41946473/springboot-security-hasrole-not-working\">Springboot Security hasRole not working</a>"}],"owner":{"account_id":21686462,"reputation":13,"user_id":16001839,"display_name":"348_Amit Potdukhe."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637166074,"creation_date":1637162464,"question_id":70007072,"body_markdown":"\r\nThis is my admin controllers which i am not able to access\r\n\r\n    \r\n    import mis.entity.User;\r\n    import mis.services.AdminService;\r\n    \r\n    \r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/admin/&quot;)\r\n    public class AdminController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate AdminService adminService;\r\n    \t\r\n    \t@RequestMapping(&quot;adduser&quot;)\r\n    \tpublic String adduser() {\r\n    \t\t\r\n    \t\treturn &quot;admin/adduser&quot;;\r\n    \t}\r\n    \t@RequestMapping(value = &quot;do_register&quot;, method = RequestMethod.POST)\r\n    \tpublic String registerUser(@ModelAttribute(&quot;user&quot;) User user) {\r\n    \t\tSystem.out.println(user);\r\n    \t\tadminService.addUser(user);\r\n    \t\treturn &quot;redirect:/admin/adduser&quot;;\r\n    \t}}\r\n\r\nThis is happening after i configured spring security before activating spring security iwas able to access all routes.  \r\n\r\n    \r\n    \r\n    \r\n    \r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @EnableWebSecurity\r\n    public class MyConfig extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    \t\r\n    \t@Bean\r\n        public UserDetailsService userDetailsService() {\r\n            return new UserDetailsServiceImpl();\r\n        }\r\n         \r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/new&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;CREATOR&quot;)\r\n                .antMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;EDITOR&quot;)\r\n                .antMatchers(&quot;/delete/**&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin().permitAll()\r\n                .and()\r\n                .logout().permitAll()\r\n                .and()\r\n                .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\r\n                ;\r\n    }}\r\n\r\nThere is one more controller which i can access. \r\nBut i cant access this admincontroller i think that /admin/ is causing problem.\r\n\r\n\r\n**Edited code in MyConfig**\r\n\r\n    http.authorizeRequests().antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;).antMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\r\n    \t\t.antMatchers(&quot;/**&quot;).permitAll().and().formLogin()\r\n    \t\t.loginPage(&quot;/signin&quot;)\r\n    \t\t.defaultSuccessUrl(&quot;/home&quot;)\t\t\t\t\r\n    \t\t.and().csrf().disable();\r\n\r\n","title":"Not able to access some routes in spring boot","body":"<p>This is my admin controllers which i am not able to access</p>\n<pre><code>import mis.entity.User;\nimport mis.services.AdminService;\n\n\n\n@Controller\n@RequestMapping(&quot;/admin/&quot;)\npublic class AdminController {\n    \n    @Autowired\n    private AdminService adminService;\n    \n    @RequestMapping(&quot;adduser&quot;)\n    public String adduser() {\n        \n        return &quot;admin/adduser&quot;;\n    }\n    @RequestMapping(value = &quot;do_register&quot;, method = RequestMethod.POST)\n    public String registerUser(@ModelAttribute(&quot;user&quot;) User user) {\n        System.out.println(user);\n        adminService.addUser(user);\n        return &quot;redirect:/admin/adduser&quot;;\n    }}\n</code></pre>\n<p>This is happening after i configured spring security before activating spring security iwas able to access all routes.</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@EnableWebSecurity\npublic class MyConfig extends WebSecurityConfigurerAdapter {\n    \n    \n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new UserDetailsServiceImpl();\n    }\n     \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(&quot;/new&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;CREATOR&quot;)\n            .antMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;EDITOR&quot;)\n            .antMatchers(&quot;/delete/**&quot;).hasAuthority(&quot;ADMIN&quot;)\n            .antMatchers(&quot;/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .formLogin().permitAll()\n            .and()\n            .logout().permitAll()\n            .and()\n            .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\n            ;\n}}\n</code></pre>\n<p>There is one more controller which i can access.\nBut i cant access this admincontroller i think that /admin/ is causing problem.</p>\n<p><strong>Edited code in MyConfig</strong></p>\n<pre><code>http.authorizeRequests().antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;).antMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\n        .antMatchers(&quot;/**&quot;).permitAll().and().formLogin()\n        .loginPage(&quot;/signin&quot;)\n        .defaultSuccessUrl(&quot;/home&quot;)             \n        .and().csrf().disable();\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":1,"creation_date":1637171564,"post_id":70007219,"comment_id":123757036,"body_markdown":"getId() never returns null, so I think your problem description is incorrect.","body":"getId() never returns null, so I think your problem description is incorrect."}],"answers":[{"tags":[],"owner":{"account_id":10460980,"reputation":28,"user_id":7711733,"display_name":"Uraxys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637166053,"creation_date":1637166053,"answer_id":70008020,"question_id":70007219,"body_markdown":"Make sure the message you received is from a guild and not a private message, using ``event.isFromGuild()`` returns true if the message / command was sent from a guild, or you can use ``event.getChannelType()`` to get the channel type the message was sent in.\r\n\r\nYou can also use ``onGuildMessageReceived`` instead of ``onMessageReceived`` if you only want guild messages and not private messages, or ``onPrivateMessageReceived`` if you only want private messages.","title":"How to get guild ID in JDA when committing onMessageReceived/onSlashCommand event","body":"<p>Make sure the message you received is from a guild and not a private message, using <code>event.isFromGuild()</code> returns true if the message / command was sent from a guild, or you can use <code>event.getChannelType()</code> to get the channel type the message was sent in.</p>\n<p>You can also use <code>onGuildMessageReceived</code> instead of <code>onMessageReceived</code> if you only want guild messages and not private messages, or <code>onPrivateMessageReceived</code> if you only want private messages.</p>\n"}],"owner":{"display_name":"user17228175"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70008020,"answer_count":1,"score":-1,"last_activity_date":1637166053,"creation_date":1637163024,"question_id":70007219,"body_markdown":"I tried using this method:\r\n```java\r\n    event.getGuild().getId();\r\n```\r\nbut I always got **null**.\r\n(It looks like this method is simply not implemented in the Guild interface)\r\n\r\nHow can I get the id of the guild on which this or that event took place?\r\n\r\n*P.S. I need exactly the guild id, this is necessary for storing data in json*","title":"How to get guild ID in JDA when committing onMessageReceived/onSlashCommand event","body":"<p>I tried using this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    event.getGuild().getId();\n</code></pre>\n<p>but I always got <strong>null</strong>.\n(It looks like this method is simply not implemented in the Guild interface)</p>\n<p>How can I get the id of the guild on which this or that event took place?</p>\n<p><em>P.S. I need exactly the guild id, this is necessary for storing data in json</em></p>\n"},{"tags":["java","github","methods","jar","github-api"],"comments":[{"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"score":0,"creation_date":1634593172,"post_id":69545527,"comment_id":123062170,"body_markdown":"Are you able to understand the API to its fullest? I have to use it as well for a project and I can&#39;t seem to warp my head around it.","body":"Are you able to understand the API to its fullest? I have to use it as well for a project and I can&#39;t seem to warp my head around it."}],"owner":{"account_id":8821784,"reputation":29,"user_id":6591386,"display_name":"Joseph Gordon Leiber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637165886,"creation_date":1634064209,"question_id":69545527,"body_markdown":"I&#39;m trying to use Kohsuke&#39;s GitHub API for Java. I&#39;m trying to connect to an Enterprise GH instance just to read some basic information about repos and, if possible, install GitHub Apps.\r\n\r\nI&#39;m a total beginner with Java. I&#39;ve managed to add the JAR from the developer to my project and instantiate a few classes, but I can&#39;t figure out how to specify a URL for a repository to authenticate, much less get information or install an GitHub app through code.\r\n\r\nHere is what I&#39;ve put together so far, but functionally does nothing:\r\n\r\n```\r\nimport org.kohsuke.github.GHAppInstallation;\r\nimport org.kohsuke.github.GitHub;\r\nimport org.kohsuke.github.GitHubBuilder;\r\nimport org.kohsuke.github.GHRepository;\r\n\r\npublic class appinstaller extends GHAppInstallation {\r\n    public static void main(String[] args) throws java.io.IOException {\r\n        System.out.println(&quot;Hello World!&quot;); // Display the string.\r\n\r\n        GitHub github = new GitHubBuilder().withPassword(&quot;name&quot;, &quot;xyz&quot;).build();\r\n        String name = new GHRepository().getFullName();\r\n        GitHub github2 = GitHub.connect();\r\n\r\n        GHRepository repo = github.getRepository()\r\n\r\n//        GHRepository repo = github.createRepository(\r\n//                &quot;new-repository&quot;,&quot;this is my new repository&quot;,\r\n//                &quot;https://www.kohsuke.org/&quot;,true/*public*/);\r\n//        repo.addCollaborators(github.getUser(&quot;abayer&quot;),github.getUser(&quot;rtyler&quot;));\r\n//        repo.delete();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThere aren&#39;t any good reference examples for Java beginners in the API documentation (https://github-api.kohsuke.org/). Could somebody with some experience and know-how get me started on basic authentication to an existing repo?\r\n\r\nThank you!","title":"How do I use GitHub API for Java to get information about repositories and install GitHub Apps?","body":"<p>I'm trying to use Kohsuke's GitHub API for Java. I'm trying to connect to an Enterprise GH instance just to read some basic information about repos and, if possible, install GitHub Apps.</p>\n<p>I'm a total beginner with Java. I've managed to add the JAR from the developer to my project and instantiate a few classes, but I can't figure out how to specify a URL for a repository to authenticate, much less get information or install an GitHub app through code.</p>\n<p>Here is what I've put together so far, but functionally does nothing:</p>\n<pre><code>import org.kohsuke.github.GHAppInstallation;\nimport org.kohsuke.github.GitHub;\nimport org.kohsuke.github.GitHubBuilder;\nimport org.kohsuke.github.GHRepository;\n\npublic class appinstaller extends GHAppInstallation {\n    public static void main(String[] args) throws java.io.IOException {\n        System.out.println(&quot;Hello World!&quot;); // Display the string.\n\n        GitHub github = new GitHubBuilder().withPassword(&quot;name&quot;, &quot;xyz&quot;).build();\n        String name = new GHRepository().getFullName();\n        GitHub github2 = GitHub.connect();\n\n        GHRepository repo = github.getRepository()\n\n//        GHRepository repo = github.createRepository(\n//                &quot;new-repository&quot;,&quot;this is my new repository&quot;,\n//                &quot;https://www.kohsuke.org/&quot;,true/*public*/);\n//        repo.addCollaborators(github.getUser(&quot;abayer&quot;),github.getUser(&quot;rtyler&quot;));\n//        repo.delete();\n    }\n}\n\n</code></pre>\n<p>There aren't any good reference examples for Java beginners in the API documentation (<a href=\"https://github-api.kohsuke.org/\" rel=\"nofollow noreferrer\">https://github-api.kohsuke.org/</a>). Could somebody with some experience and know-how get me started on basic authentication to an existing repo?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":8652943,"reputation":22446,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637165761,"creation_date":1637165102,"answer_id":70007792,"question_id":70007656,"body_markdown":"You are not setting notification channel , It might be the reason .Try setting channelId and check\r\n\r\n     final NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(MainActivity.this, &quot;YOUR_CHANNEL_ID&quot;)\r\n     mBuilder.setSmallIcon(R.drawable.a);\r\n     mBuilder.setContentTitle(&quot;arroz&quot;);\r\n     mBuilder.setContentText(&quot;LOL ARROZ MASSA&quot;);\r\n     mBuilder.setPriority(NotificationCompat.PRIORITY_DEFAULT);\r\n\r\nTo notify\r\n\r\n    NotificationManager mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);    \r\n    NotificationChannel notificationChannel = new NotificationChannel(&quot;YOUR_CHANNEL_ID&quot;, &quot;CHANNEL_NAME&quot;, NotificationManager.IMPORTANCE_HIGH)\r\n    mNotificationManager.createNotificationChannel(notificationChannel);\r\n    mNotificationManager.notify(1, mBuilder.build())","title":"How to show notification on android?","body":"<p>You are not setting notification channel , It might be the reason .Try setting channelId and check</p>\n<pre><code> final NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(MainActivity.this, &quot;YOUR_CHANNEL_ID&quot;)\n mBuilder.setSmallIcon(R.drawable.a);\n mBuilder.setContentTitle(&quot;arroz&quot;);\n mBuilder.setContentText(&quot;LOL ARROZ MASSA&quot;);\n mBuilder.setPriority(NotificationCompat.PRIORITY_DEFAULT);\n</code></pre>\n<p>To notify</p>\n<pre><code>NotificationManager mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);    \nNotificationChannel notificationChannel = new NotificationChannel(&quot;YOUR_CHANNEL_ID&quot;, &quot;CHANNEL_NAME&quot;, NotificationManager.IMPORTANCE_HIGH)\nmNotificationManager.createNotificationChannel(notificationChannel);\nmNotificationManager.notify(1, mBuilder.build())\n</code></pre>\n"}],"owner":{"account_id":16852105,"reputation":165,"user_id":16854353,"display_name":"YozNacks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1637165761,"creation_date":1637164630,"question_id":70007656,"body_markdown":"I have the following function:\r\n\r\n```\r\npublic void startApp(View v){\r\n        final NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(MainActivity.this);\r\n        mBuilder.setSmallIcon(R.drawable.a);\r\n        mBuilder.setContentTitle(&quot;arroz&quot;);\r\n        mBuilder.setContentText(&quot;LOL ARROZ MASSA&quot;);\r\n        mBuilder.setPriority(NotificationCompat.PRIORITY_DEFAULT);\r\n\r\n        NotificationManager mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        mNotificationManager.notify(1, mBuilder.build());\r\n    }\r\n```\r\n\r\nI call this function when I click on a button.\r\n\r\nI want a notification to appear when I do so, so I used this code, but the notification is not appearing. What am I missing here?\r\n\r\nEDIT:\r\n\r\n```\r\npublic void startApp(View v){\r\n        final NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(MainActivity.this);\r\n        mBuilder.setSmallIcon(R.drawable.a);\r\n        mBuilder.setContentTitle(&quot;arroz&quot;);\r\n        mBuilder.setContentText(&quot;LOL ARROZ MASSA&quot;);\r\n        mBuilder.setPriority(NotificationCompat.PRIORITY_DEFAULT);\r\n        mBuilder.setChannelId(&quot;1&quot;);\r\n        NotificationManager mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        mNotificationManager.notify(1, mBuilder.build());\r\n    }\r\n```","title":"How to show notification on android?","body":"<p>I have the following function:</p>\n<pre><code>public void startApp(View v){\n        final NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(MainActivity.this);\n        mBuilder.setSmallIcon(R.drawable.a);\n        mBuilder.setContentTitle(&quot;arroz&quot;);\n        mBuilder.setContentText(&quot;LOL ARROZ MASSA&quot;);\n        mBuilder.setPriority(NotificationCompat.PRIORITY_DEFAULT);\n\n        NotificationManager mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        mNotificationManager.notify(1, mBuilder.build());\n    }\n</code></pre>\n<p>I call this function when I click on a button.</p>\n<p>I want a notification to appear when I do so, so I used this code, but the notification is not appearing. What am I missing here?</p>\n<p>EDIT:</p>\n<pre><code>public void startApp(View v){\n        final NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(MainActivity.this);\n        mBuilder.setSmallIcon(R.drawable.a);\n        mBuilder.setContentTitle(&quot;arroz&quot;);\n        mBuilder.setContentText(&quot;LOL ARROZ MASSA&quot;);\n        mBuilder.setPriority(NotificationCompat.PRIORITY_DEFAULT);\n        mBuilder.setChannelId(&quot;1&quot;);\n        NotificationManager mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        mNotificationManager.notify(1, mBuilder.build());\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1520515315,"post_id":49173935,"comment_id":85353175,"body_markdown":"You are adding the wrong dependency to your project. According to the documentation of the project you are using you should use javaparser-symbol-solver-core and you are using javaparser-core. **ALWAYS** read the documentation. Don&#39;t rely on examples they usually are outdated.","body":"You are adding the wrong dependency to your project. According to the documentation of the project you are using you should use javaparser-symbol-solver-core and you are using javaparser-core. <b>ALWAYS</b> read the documentation. Don&#39;t rely on examples they usually are outdated."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1520515360,"post_id":49173935,"comment_id":85353198,"body_markdown":"https://github.com/javaparser/javaparser section maven.","body":"<a href=\"https://github.com/javaparser/javaparser\" rel=\"nofollow noreferrer\">github.com/javaparser/javaparser</a> section maven."},{"owner":{"account_id":12554825,"reputation":2563,"user_id":9134980,"display_name":"my-lord"},"score":0,"creation_date":1520515725,"post_id":49173935,"comment_id":85353440,"body_markdown":"I change javaparser-core to javaparser-symbol-solver-core and run &quot;mvn clean install&quot; on cmd and it downloads some packages and finish.After that I try to compile on NetBeans and i get same error.","body":"I change javaparser-core to javaparser-symbol-solver-core and run &quot;mvn clean install&quot; on cmd and it downloads some packages and finish.After that I try to compile on NetBeans and i get same error."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1520515800,"post_id":49173935,"comment_id":85353500,"body_markdown":"You gona need to download their source and debug it to see what it is wrong. It may be their problem then.","body":"You gona need to download their source and debug it to see what it is wrong. It may be their problem then."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1520515871,"post_id":49173935,"comment_id":85353549,"body_markdown":"Also, add your pom file here in your question. Don&#39;t link it to external temporary sources, as it is temporary eventually this link will cease to exist and it will not help others in future.","body":"Also, add your pom file here in your question. Don&#39;t link it to external temporary sources, as it is temporary eventually this link will cease to exist and it will not help others in future."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1520516006,"post_id":49173935,"comment_id":85353625,"body_markdown":"Also there is another section in the docs that states: *If you checkout the sources and want to view the project in an IDE, it is best to first generate some of the source files; otherwise you will get many compilation complaints in the IDE. (mvn clean install already does this for you.)* Have you done that? &quot;mvn javacc:javacc&quot;","body":"Also there is another section in the docs that states: <i>If you checkout the sources and want to view the project in an IDE, it is best to first generate some of the source files; otherwise you will get many compilation complaints in the IDE. (mvn clean install already does this for you.)</i> Have you done that? &quot;mvn javacc:javacc&quot;"},{"owner":{"account_id":12554825,"reputation":2563,"user_id":9134980,"display_name":"my-lord"},"score":0,"creation_date":1520516450,"post_id":49173935,"comment_id":85353959,"body_markdown":"Yes,i add the &quot;mvn clean install&quot; results at the end of the question.","body":"Yes,i add the &quot;mvn clean install&quot; results at the end of the question."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1520516500,"post_id":49173935,"comment_id":85353990,"body_markdown":"Everything seems fine then, download their source and debug it on your IDE.","body":"Everything seems fine then, download their source and debug it on your IDE."},{"owner":{"account_id":12554825,"reputation":2563,"user_id":9134980,"display_name":"my-lord"},"score":0,"creation_date":1520517328,"post_id":49173935,"comment_id":85354594,"body_markdown":"After changed javaparser-core to javaparser-symbol-solver-core it get following error:com.github.javaparser.ast.body does not exist and other errors gone.","body":"After changed javaparser-core to javaparser-symbol-solver-core it get following error:com.github.javaparser.ast.body does not exist and other errors gone."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1520518319,"post_id":49173935,"comment_id":85355278,"body_markdown":"Take a look here https://mvnrepository.com/artifact/com.github.javaparser . It seems that they separated the modules so it is possible that that missing library is in one of the others. What I would do is to add all other dependencies test it and if it works I would start to remove and test to keep only the needed ones.","body":"Take a look here <a href=\"https://mvnrepository.com/artifact/com.github.javaparser\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.github.javaparser</a> . It seems that they separated the modules so it is possible that that missing library is in one of the others. What I would do is to add all other dependencies test it and if it works I would start to remove and test to keep only the needed ones."}],"answers":[{"tags":[],"owner":{"account_id":12554825,"reputation":2563,"user_id":9134980,"display_name":"my-lord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520518619,"creation_date":1520518619,"answer_id":49175280,"question_id":49173935,"body_markdown":"My fault.The problem is &quot;used netbeans structure on my project and tried to add packages with maven&quot;.I create a new file and create a file structure follow this tutorial :[maven file structure][1]\r\n implement my code for this structure and everythings work fine\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html","title":"java.lang.ClassFormatError: Invalid superclass index 0 in class file com/github/javaparser/JavaParser","body":"<p>My fault.The problem is \"used netbeans structure on my project and tried to add packages with maven\".I create a new file and create a file structure follow this tutorial :<a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">maven file structure</a>\n implement my code for this structure and everythings work fine</p>\n"},{"tags":[],"owner":{"account_id":7564658,"reputation":1570,"user_id":5740760,"accept_rate":43,"display_name":"RAJESH KUMAR ARUMUGAM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637165629,"creation_date":1637165629,"answer_id":70007915,"question_id":49173935,"body_markdown":"**Invalid superclass index 0 in class file**. In my case it is resolved by deleting the the NetBeans Cache Folder.\r\n\r\n    C:\\....\\AppData\\Local\\NetBeans\\Cache","title":"java.lang.ClassFormatError: Invalid superclass index 0 in class file com/github/javaparser/JavaParser","body":"<p><strong>Invalid superclass index 0 in class file</strong>. In my case it is resolved by deleting the the NetBeans Cache Folder.</p>\n<pre><code>C:\\....\\AppData\\Local\\NetBeans\\Cache\n</code></pre>\n"}],"owner":{"account_id":12554825,"reputation":2563,"user_id":9134980,"display_name":"my-lord"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3631,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1637165629,"creation_date":1520514691,"question_id":49173935,"body_markdown":"I am pretty new for java.I am trying to make a project that get class names,field names from desired .java file with [JavaParser][1].\r\nBut I get an error and i don&#39;t know anything about this error.How can fix that error?\r\n\r\n1-)First I create a new project on NetBeans IDE\r\n\r\n2-) Add JavaParser dependency pom.xml file and &quot;mvn clean install&quot; on project folder.(Probabably I am do this wrong)\r\n\r\n3-)Create files and type following codes\r\n\r\n4-)Compile and i get following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassFormatError: Invalid superclass index 0 in class file com/github/javaparser/JavaParser\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat parser.GetTypes.parseClassname(GetTypes.java:28)\r\n    \tat parser.Parser.main(Parser.java:28)\r\n    C:\\Users\\q\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\nParser.java File(src/parser/Parser.java):\r\n\r\n    package parser;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    public class Parser {\r\n    \r\n      public static void main(String[] args) throws FileNotFoundException  { \r\n       System.out.println(GetTypes.parseClassname(new File(&quot;C:\\\\HelloOOPP.java&quot;)));\r\n        }\r\n      }\r\n\r\nGetTypes.java File(src/parser/GetTypes.java):\r\n\r\n    package parser;\r\n    import com.github.javaparser.*;\r\n    import com.github.javaparser.ast.*;\r\n    import com.github.javaparser.ast.body.*;\r\n    import com.github.javaparser.symbolsolver.model.declarations.TypeDeclaration;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.lang.reflect.Field;\r\n    public class GetTypes {\r\n        public static String parseClassname(File filename) throws FileNotFoundException   {\r\n            \r\n                FileInputStream fin = new FileInputStream(filename);\r\n                CompilationUnit cu = JavaParser.parse(fin);\r\n               // String packagePrefix = cu.getPackage().getName().toString();\r\n                //if (!packagePrefix.isEmpty()) packagePrefix += &quot;.&quot;;\r\n                StringBuilder build=new  StringBuilder();\r\n                for (TypeDeclaration type : cu.getTypes())\r\n                {\r\n                    if (type.isClass())\r\n                    { \r\n                        build.append(&quot;Class Name:&quot;);\r\n                        build.append(type.getName());\r\n                        build.append(&quot;\\n&quot;);\r\n                        build.append(&quot;Fields&quot;);\r\n                        //build.append(Get_Fields(type));\r\n                    }                   \r\n                }\r\n                return build.toString();      \r\n        }   \r\n         private String Get_Fields(TypeDeclaration c) //\r\n         {\r\n             Field[] fields = c.getClass().getFields();\r\n             StringBuilder str=new StringBuilder();\r\n             for(int i=0;i&lt;fields.length;i++)\r\n             {\r\n                 str.append(fields[i].getName());\r\n                 str.append(&quot;\\n&quot;);\r\n             }\r\n             return str.toString();\r\n         }\r\n         /*\r\n         private int Count_Fields(TypeDeclaration c)\r\n         {   \r\n         }*/\r\n    \r\n    }\r\n\r\n\r\npom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;!-- This is often your domain name (reversed.)  --&gt;\r\n        &lt;groupId&gt;com.parser&lt;/groupId&gt;\r\n        &lt;!-- The name of this project (actually, the name of the artifact, which is the thing that this project produces. A jar in this case.) --&gt;\r\n        &lt;artifactId&gt;parser&lt;/artifactId&gt;\r\n        &lt;!-- The version of this project. SNAPSHOT means &quot;we&#39;re still working on it&quot; --&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        \r\n        &lt;properties&gt;\r\n            &lt;!-- Tell Maven we want to use Java 8 --&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;!-- Tell Maven to treat all source files as UTF-8 --&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n            &lt;!-- Here are all your dependencies. Currently only one. These are automatically downloaded from https://mvnrepository.com/ --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.javaparser&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaparser-symbol-solver-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n \r\nmvn clean install on cmd:\r\n\r\n    C:\\parser&gt;mvn clean install\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building parser 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ parser ---\r\n    [INFO] Deleting C:\\parser\\target\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ parser ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\parser\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ parser ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ parser ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\parser\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ parser ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ parser ---\r\n    [INFO] No tests to run.\r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ parser ---\r\n    [WARNING] JAR will be empty - no content was marked for inclusion!\r\n    [INFO] Building jar: C:\\parser\\target\\parser-1.0-SNAPSHOT.jar\r\n    [INFO]\r\n    [INFO] --- maven-install-plugin:2.4:install (default-install) @ parser ---\r\n    [INFO] Installing C:\\parser\\target\\parser-1.0-SNAPSHOT.jar to C:\\Users\\q\\.m2\\repository\\com\\parser\\parser\\1.0-SNAPSHOT\\parser-1.0-SNAPSHOT.jar\r\n    [INFO] Installing C:\\parser\\pom.xml to C:\\Users\\q\\.m2\\repository\\com\\parser\\parser\\1.0-SNAPSHOT\\parser-1.0-SNAPSHOT.pom\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.193 s\r\n    [INFO] Finished at: 2018-03-08T16:41:28+03:00\r\n    [INFO] Final Memory: 12M/155M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n  [1]: https://github.com/javaparser/javaparser\r\n\r\n\r\n\r\n\r\n","title":"java.lang.ClassFormatError: Invalid superclass index 0 in class file com/github/javaparser/JavaParser","body":"<p>I am pretty new for java.I am trying to make a project that get class names,field names from desired .java file with <a href=\"https://github.com/javaparser/javaparser\" rel=\"nofollow noreferrer\">JavaParser</a>.\nBut I get an error and i don't know anything about this error.How can fix that error?</p>\n\n<p>1-)First I create a new project on NetBeans IDE</p>\n\n<p>2-) Add JavaParser dependency pom.xml file and \"mvn clean install\" on project folder.(Probabably I am do this wrong)</p>\n\n<p>3-)Create files and type following codes</p>\n\n<p>4-)Compile and i get following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassFormatError: Invalid superclass index 0 in class file com/github/javaparser/JavaParser\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at parser.GetTypes.parseClassname(GetTypes.java:28)\n    at parser.Parser.main(Parser.java:28)\nC:\\Users\\q\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n\n<p>Parser.java File(src/parser/Parser.java):</p>\n\n<pre><code>package parser;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\n\npublic class Parser {\n\n  public static void main(String[] args) throws FileNotFoundException  { \n   System.out.println(GetTypes.parseClassname(new File(\"C:\\\\HelloOOPP.java\")));\n    }\n  }\n</code></pre>\n\n<p>GetTypes.java File(src/parser/GetTypes.java):</p>\n\n<pre><code>package parser;\nimport com.github.javaparser.*;\nimport com.github.javaparser.ast.*;\nimport com.github.javaparser.ast.body.*;\nimport com.github.javaparser.symbolsolver.model.declarations.TypeDeclaration;\nimport java.io.*;\nimport java.util.*;\nimport java.lang.*;\nimport java.lang.reflect.Field;\npublic class GetTypes {\n    public static String parseClassname(File filename) throws FileNotFoundException   {\n\n            FileInputStream fin = new FileInputStream(filename);\n            CompilationUnit cu = JavaParser.parse(fin);\n           // String packagePrefix = cu.getPackage().getName().toString();\n            //if (!packagePrefix.isEmpty()) packagePrefix += \".\";\n            StringBuilder build=new  StringBuilder();\n            for (TypeDeclaration type : cu.getTypes())\n            {\n                if (type.isClass())\n                { \n                    build.append(\"Class Name:\");\n                    build.append(type.getName());\n                    build.append(\"\\n\");\n                    build.append(\"Fields\");\n                    //build.append(Get_Fields(type));\n                }                   \n            }\n            return build.toString();      \n    }   \n     private String Get_Fields(TypeDeclaration c) //\n     {\n         Field[] fields = c.getClass().getFields();\n         StringBuilder str=new StringBuilder();\n         for(int i=0;i&lt;fields.length;i++)\n         {\n             str.append(fields[i].getName());\n             str.append(\"\\n\");\n         }\n         return str.toString();\n     }\n     /*\n     private int Count_Fields(TypeDeclaration c)\n     {   \n     }*/\n\n}\n</code></pre>\n\n<p>pom.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;!-- This is often your domain name (reversed.)  --&gt;\n    &lt;groupId&gt;com.parser&lt;/groupId&gt;\n    &lt;!-- The name of this project (actually, the name of the artifact, which is the thing that this project produces. A jar in this case.) --&gt;\n    &lt;artifactId&gt;parser&lt;/artifactId&gt;\n    &lt;!-- The version of this project. SNAPSHOT means \"we're still working on it\" --&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;!-- Tell Maven we want to use Java 8 --&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;!-- Tell Maven to treat all source files as UTF-8 --&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Here are all your dependencies. Currently only one. These are automatically downloaded from https://mvnrepository.com/ --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javaparser&lt;/groupId&gt;\n            &lt;artifactId&gt;javaparser-symbol-solver-core&lt;/artifactId&gt;\n            &lt;version&gt;3.5.16&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>mvn clean install on cmd:</p>\n\n<pre><code>C:\\parser&gt;mvn clean install\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building parser 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ parser ---\n[INFO] Deleting C:\\parser\\target\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ parser ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\parser\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ parser ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ parser ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\parser\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ parser ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ parser ---\n[INFO] No tests to run.\n[INFO]\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ parser ---\n[WARNING] JAR will be empty - no content was marked for inclusion!\n[INFO] Building jar: C:\\parser\\target\\parser-1.0-SNAPSHOT.jar\n[INFO]\n[INFO] --- maven-install-plugin:2.4:install (default-install) @ parser ---\n[INFO] Installing C:\\parser\\target\\parser-1.0-SNAPSHOT.jar to C:\\Users\\q\\.m2\\repository\\com\\parser\\parser\\1.0-SNAPSHOT\\parser-1.0-SNAPSHOT.jar\n[INFO] Installing C:\\parser\\pom.xml to C:\\Users\\q\\.m2\\repository\\com\\parser\\parser\\1.0-SNAPSHOT\\parser-1.0-SNAPSHOT.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.193 s\n[INFO] Finished at: 2018-03-08T16:41:28+03:00\n[INFO] Final Memory: 12M/155M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","user-interface","actionlistener"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1637165751,"post_id":70007897,"comment_id":123754440,"body_markdown":"The `actionPerformed` method cannot return a value.  However, the `Keyboard` class can hold and return a `char` or `String` value.","body":"The <code>actionPerformed</code> method cannot return a value.  However, the <code>Keyboard</code> class can hold and return a <code>char</code> or <code>String</code> value."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1637166131,"post_id":70007897,"comment_id":123754624,"body_markdown":"Your GUI design will be aggravating for a user.  Pop up a [JOptionPane](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) and let the user type in the whole word at once.","body":"Your GUI design will be aggravating for a user.  Pop up a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">JOptionPane</a> and let the user type in the whole word at once."},{"owner":{"account_id":23367080,"reputation":1,"user_id":17438530,"display_name":"Kong"},"score":0,"creation_date":1637167391,"post_id":70007897,"comment_id":123755236,"body_markdown":"Is it possible to modify JOptionPane to have 26 buttons, each with a letter of the alphabet in it?","body":"Is it possible to modify JOptionPane to have 26 buttons, each with a letter of the alphabet in it?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637170108,"post_id":70007897,"comment_id":123756483,"body_markdown":"_Is it possible to modify JOptionPane to have 26 buttons, each with a letter of the alphabet in it?_ Yes it is. Refer to [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) which is part of Oracle&#39;s Java tutorials.","body":"<i>Is it possible to modify JOptionPane to have 26 buttons, each with a letter of the alphabet in it?</i> Yes it is. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> which is part of Oracle&#39;s Java tutorials."}],"owner":{"account_id":23367080,"reputation":1,"user_id":17438530,"display_name":"Kong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637165558,"creation_date":1637165558,"question_id":70007897,"body_markdown":"I have to create a crossword puzzle for an assignment. The crossword consists of buttons and when you click on one, a keyboard should appear. If you select a letter, the first button should shown this letter on the GUI. \r\n\r\nBelow is a class called Puzzle which displays two buttons on the screen without any text. Clicking on one of the buttons starts the Keyboard class. Which presents a Keyboard as a GUI and on choosing for example the letter &#39;A&#39;, the first button would now have the letter &#39;A&#39; as text. Does anyone know how to do this?\r\n\r\n```\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.*;\r\nimport javax.swing.*;\r\npublic class Puzzle extends JPanel {\r\n    public Puzzle(ActionListener listener) {\r\n        JFrame f =new JFrame(&quot;Button Example&quot;);\r\n        JButton a =new JButton();\r\n        JButton b = new JButton();\r\n        a.setBounds(50,100,95,30);\r\n        b.setBounds(50,300,95,30);\r\n        f.add(a);\r\n        f.add(b);\r\n        f.setSize(400,400);\r\n        f.setLayout(null);\r\n        f.setVisible(true);\r\n        a.addActionListener(listener);\r\n        b.addActionListener(listener);\r\n        //do other stuff\r\n    }\r\n    public static void main(String[] args) {\r\n        Puzzle w = new Puzzle(new Keyboard());\r\n        //continue with initialization process\r\n    }\r\n}\r\n```\r\nThe second class Keyboard that has to work with it.\r\n\r\n```\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Keyboard implements ActionListener{\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n        // needs to create Keyboard en return letter to Puzzle\r\n    }\r\n}\r\n```\r\n\r\nThank you in advance for your help.","title":"How do I connect two ActionListeners and let them return something","body":"<p>I have to create a crossword puzzle for an assignment. The crossword consists of buttons and when you click on one, a keyboard should appear. If you select a letter, the first button should shown this letter on the GUI.</p>\n<p>Below is a class called Puzzle which displays two buttons on the screen without any text. Clicking on one of the buttons starts the Keyboard class. Which presents a Keyboard as a GUI and on choosing for example the letter 'A', the first button would now have the letter 'A' as text. Does anyone know how to do this?</p>\n<pre><code>import java.awt.event.ActionListener;\nimport javax.swing.*;\nimport javax.swing.*;\npublic class Puzzle extends JPanel {\n    public Puzzle(ActionListener listener) {\n        JFrame f =new JFrame(&quot;Button Example&quot;);\n        JButton a =new JButton();\n        JButton b = new JButton();\n        a.setBounds(50,100,95,30);\n        b.setBounds(50,300,95,30);\n        f.add(a);\n        f.add(b);\n        f.setSize(400,400);\n        f.setLayout(null);\n        f.setVisible(true);\n        a.addActionListener(listener);\n        b.addActionListener(listener);\n        //do other stuff\n    }\n    public static void main(String[] args) {\n        Puzzle w = new Puzzle(new Keyboard());\n        //continue with initialization process\n    }\n}\n</code></pre>\n<p>The second class Keyboard that has to work with it.</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Keyboard implements ActionListener{\n\n    @Override\n    public void actionPerformed(ActionEvent e)\n    {\n        // needs to create Keyboard en return letter to Puzzle\n    }\n}\n</code></pre>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","json","enums","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637165342,"creation_date":1637080975,"answer_id":69992979,"question_id":69989340,"body_markdown":"One way to solve your problem is a custom deserializer extending [`StdDeserializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html) and inside of it check if your json file is in the form of *&quot;type&quot;: {&quot;name&quot;:&quot;MYENUM&quot;}* or *{&quot;type&quot;: &quot;MYENUM&quot;}*. This checking can be obtained with the [`JsonNode#isObject`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#isObject--) method :\r\n\r\n~~~\r\npublic class MyTypeDeserializer extends StdDeserializer&lt;MyType&gt; {\r\n\r\n    public MyTypeDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public MyTypeDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public MyType deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n        JsonNode root = jp.getCodec().readTree(jp);\r\n        JsonNode nodeType = root.get(&quot;type&quot;);\r\n        String name = nodeType.isObject() ? nodeType.get(&quot;name&quot;).asText() : nodeType.asText();\r\n        return MyType.valueOf(name);\r\n    }\r\n\r\n}\r\n~~~\r\n\r\nThen you can annotate your `MyType` enum with the `@JsonDeserialize(using = MyTypeDeserializer.class)` deleting your `deserialize` method like below :\r\n\r\n~~~\r\n@JsonDeserialize(using = MyTypeDeserializer.class)\r\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\npublic enum MyType { //omitted fields and methods for brevity }\r\n~~~\r\n","title":"Jackson enum deserialization delegation","body":"<p>One way to solve your problem is a custom deserializer extending <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html\" rel=\"nofollow noreferrer\"><code>StdDeserializer</code></a> and inside of it check if your json file is in the form of <em>&quot;type&quot;: {&quot;name&quot;:&quot;MYENUM&quot;}</em> or <em>{&quot;type&quot;: &quot;MYENUM&quot;}</em>. This checking can be obtained with the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#isObject--\" rel=\"nofollow noreferrer\"><code>JsonNode#isObject</code></a> method :</p>\n<pre><code>public class MyTypeDeserializer extends StdDeserializer&lt;MyType&gt; {\n\n    public MyTypeDeserializer() {\n        this(null);\n    }\n\n    public MyTypeDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public MyType deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        JsonNode root = jp.getCodec().readTree(jp);\n        JsonNode nodeType = root.get(&quot;type&quot;);\n        String name = nodeType.isObject() ? nodeType.get(&quot;name&quot;).asText() : nodeType.asText();\n        return MyType.valueOf(name);\n    }\n\n}\n</code></pre>\n<p>Then you can annotate your <code>MyType</code> enum with the <code>@JsonDeserialize(using = MyTypeDeserializer.class)</code> deleting your <code>deserialize</code> method like below :</p>\n<pre><code>@JsonDeserialize(using = MyTypeDeserializer.class)\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum MyType { //omitted fields and methods for brevity }\n</code></pre>\n"}],"owner":{"account_id":2806364,"reputation":405,"user_id":2413527,"accept_rate":38,"display_name":"orion_kid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637165342,"creation_date":1637066414,"question_id":69989340,"body_markdown":"Is there a way to deserialize an enum which works for both the name and the object notation. I do want to keep the Shape as object for the deserialization though\r\n\r\ne.g. This works for &quot;type&quot;: {&quot;name&quot;:&quot;MYENUM&quot;}, but what would I need to add to have it also work for &quot;type&quot;: &quot;MYENUM&quot;\r\n\r\n```\r\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\npublic enum MyType {\r\n\r\n    @JsonProperty(&quot;MYENUM&quot;)\r\n    MYENUM(&quot;MyEnum&quot;)\r\n\r\n    public final String name = name();\r\n\r\n    MyType(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @JsonCreator\r\n    public static MyType deserialize (@JsonProperty(&quot;name&quot;) String name) {\r\n        return MyType.valueOf(name);\r\n    }\r\n}\r\n```\r\n\r\nHave tried adding a delegate like this\r\n\r\n```\r\n    @JsonCreator(mode=JsonCreator.Mode.DELEGATING)\r\n    public static MyType deserializeString (String name) {\r\n        return MyType.valueOf(name);\r\n    }\r\n```\r\n\r\n","title":"Jackson enum deserialization delegation","body":"<p>Is there a way to deserialize an enum which works for both the name and the object notation. I do want to keep the Shape as object for the deserialization though</p>\n<p>e.g. This works for &quot;type&quot;: {&quot;name&quot;:&quot;MYENUM&quot;}, but what would I need to add to have it also work for &quot;type&quot;: &quot;MYENUM&quot;</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum MyType {\n\n    @JsonProperty(&quot;MYENUM&quot;)\n    MYENUM(&quot;MyEnum&quot;)\n\n    public final String name = name();\n\n    MyType(String value) {\n        this.value = value;\n    }\n\n    @JsonCreator\n    public static MyType deserialize (@JsonProperty(&quot;name&quot;) String name) {\n        return MyType.valueOf(name);\n    }\n}\n</code></pre>\n<p>Have tried adding a delegate like this</p>\n<pre><code>    @JsonCreator(mode=JsonCreator.Mode.DELEGATING)\n    public static MyType deserializeString (String name) {\n        return MyType.valueOf(name);\n    }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1612721865,"post_id":66008242,"comment_id":116849551,"body_markdown":"can you put a reproducer on github ?","body":"can you put a reproducer on github ?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1637162088,"post_id":66008242,"comment_id":123752547,"body_markdown":"How do you launch your application? Is Spring on your classpath?","body":"How do you launch your application? Is Spring on your classpath?"}],"answers":[{"tags":[],"owner":{"account_id":23368014,"reputation":1,"user_id":17439327,"display_name":"Tudor George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637165170,"creation_date":1637161128,"answer_id":70006727,"question_id":66008242,"body_markdown":"It could be that you haven&#39;t added the spring jars correctly.\r\n\r\nGo to the build path of your project:\r\n\r\n[![][1]][1]\r\n\r\nMake sure you added the dependencies under the Classpath, and not the Modulepath:\r\n\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VUi5D.jpg\r\n  [2]: https://i.stack.imgur.com/0iRe5.jpg","title":"Unable to initialize main class in Spring","body":"<p>It could be that you haven't added the spring jars correctly.</p>\n<p>Go to the build path of your project:</p>\n<p><a href=\"https://i.stack.imgur.com/VUi5D.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUi5D.jpg\" alt=\"\" /></a></p>\n<p>Make sure you added the dependencies under the Classpath, and not the Modulepath:</p>\n<p><a href=\"https://i.stack.imgur.com/0iRe5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0iRe5.jpg\" alt=\"\" /></a></p>\n"}],"owner":{"account_id":20244320,"reputation":19,"user_id":14847275,"display_name":"Lanka de silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637165170,"creation_date":1612263185,"question_id":66008242,"body_markdown":"I am new for spring and try to write my first code.\r\n\r\nHere is my DrawingApp.java\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n \r\n    public class DrawingApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tApplicationContext factory = new ClassPathXmlApplicationContext(&quot;Spring.xml&quot;);\r\n\t\tTriangle triangle = (Triangle)factory.getBean(&quot;triangle&quot;);\r\n\t\ttriangle.drawn();\r\n\t   }\r\n\r\n    }\r\n\r\nThis is my Triangle.java\r\n\r\n    public class Triangle {\r\n\r\n\tpublic void drawn() {\r\n\t\tSystem.out.println(&quot;Drawing Triangle&quot;);\r\n\t   }\r\n     }\r\nThis is my Spring.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n \r\n    &lt;beans&gt;\r\n\t    &lt;bean id=&quot;triangle&quot; class=&quot;Dinesha.Triangle&quot; /&gt;\r\n    &lt;/beans&gt;\r\n\r\nWhen I run the project it gives me below error. \r\n\r\n&gt; Error: Unable to initialize main class DrawingApp in module SpringDemo\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/context/ApplicationContext\r\n\r\nI googled the error and try some solutions but nothing works. Can anyone help me for this.","title":"Unable to initialize main class in Spring","body":"<p>I am new for spring and try to write my first code.</p>\n<p>Here is my DrawingApp.java</p>\n<pre><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class DrawingApp {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    ApplicationContext factory = new ClassPathXmlApplicationContext(&quot;Spring.xml&quot;);\n    Triangle triangle = (Triangle)factory.getBean(&quot;triangle&quot;);\n    triangle.drawn();\n   }\n\n}\n</code></pre>\n<p>This is my Triangle.java</p>\n<pre><code>public class Triangle {\n\npublic void drawn() {\n    System.out.println(&quot;Drawing Triangle&quot;);\n   }\n }\n</code></pre>\n<p>This is my Spring.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans&gt;\n    &lt;bean id=&quot;triangle&quot; class=&quot;Dinesha.Triangle&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>When I run the project it gives me below error.</p>\n<blockquote>\n<p>Error: Unable to initialize main class DrawingApp in module SpringDemo\nCaused by: java.lang.NoClassDefFoundError: org/springframework/context/ApplicationContext</p>\n</blockquote>\n<p>I googled the error and try some solutions but nothing works. Can anyone help me for this.</p>\n"},{"tags":["java","java-8","java-stream","java-17"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1637164796,"post_id":70007622,"comment_id":123753967,"body_markdown":"&quot;I have to put into my new array the value of the name field&quot;: `.map(Operation::getName)`?","body":"&quot;I have to put into my new array the value of the name field&quot;: <code>.map(Operation::getName)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637164964,"creation_date":1637164964,"answer_id":70007750,"question_id":70007622,"body_markdown":"You need to map your `Operation`s to the String `name` as follows:\r\n```java\r\nString[] operations = user.getUserTypes().stream()\r\n    .map(UserType::getOperations)\r\n    .flatMap(Set::stream)\r\n    .map(Operation::getName)\r\n    .distinct()\r\n    .toArray(String[]::new);\r\n```","title":"How can I fix this nested collection code using Java Stream in order to create an array of string from the property of an object?","body":"<p>You need to map your <code>Operation</code>s to the String <code>name</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] operations = user.getUserTypes().stream()\n    .map(UserType::getOperations)\n    .flatMap(Set::stream)\n    .map(Operation::getName)\n    .distinct()\n    .toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70007750,"answer_count":1,"score":-1,"last_activity_date":1637164964,"creation_date":1637164513,"question_id":70007622,"body_markdown":"I am working on a Java application and I am trying to implement the following behavior using **Stream** concept.\r\n\r\nI am trying to do something similar to what I found into an example but my use case seems to be more complex. This was the original example:\r\n\r\n    String[] profili = utente.getRuoli()\r\n                      .stream().map(a -&gt; &quot;ROLE_&quot; + a).toArray(String[]::new);\r\n\r\nBasically, it is creating an array starting from a stream.\r\n\r\nFollowing my situation. I have this main **User** DTO class representing an user:\r\n\r\n    @Data\r\n    public class User {\r\n        private int id;\r\n        private String firstName;\r\n        private String middleName;\r\n        private String surname;\r\n        private char sex;\r\n        private Date birthdate;\r\n        private String taxCode;\r\n        private String eMail;\r\n        private String pswd;\r\n        private String contactNumber;\r\n        private Date createdAt;\r\n        private Set&lt;Address&gt; addressesList;\r\n        private Set&lt;UserType&gt; userTypes;   \r\n    }\r\n\r\nThe previous DTO class contains this field representing a collection of user types (for example &quot;ADMIN&quot;, &quot;READER&quot;, &quot;WRITER&quot;, etcetc). This because an user can have multiple types:\r\n\r\n    private Set&lt;UserType&gt; userTypes;\r\n\r\nThis is the **UserType** structure:\r\n\r\n    @Data\r\n    public class UserType {\r\n        private int id;\r\n        private String typeName;\r\n        private String description;\r\n        Set&lt;Operation&gt; operations;\r\n    }\r\n\r\nAlso this class contains a field representing a collection of operations (this because a user type can have multiple operation that can perform on the system), this field:\r\n\r\n    Set&lt;Operation&gt; operations;\r\n\r\nAnd this is the **Operation** class structure:\r\n\r\n    @Data\r\n    public class Operation {\r\n    \t\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String description;\r\n    \r\n    }\r\n\r\n\r\nNow I am asking if I can use the stream in a similar way to the original example in order to create an array of all the operations contained into all the user types.\r\n\r\nI tried doing in the following way:\r\n\r\n\tString[] operations = user.getUserTypes().stream()\r\n\t\t\t  .map(UserType::getOperations)\r\n\t\t\t  .flatMap(Set::stream)\r\n\t\t\t  .distinct()\r\n\t\t\t  .toArray(String[]::new);\r\n\r\nBut when this code is performed I am obtaining the following exception:\r\n\r\n\tjava.lang.ArrayStoreException: arraycopy: element type mismatch: can not cast one of the elements of java.lang.Object[] to the type of the destination array, java.lang.String\r\n\t\tat java.base/java.lang.System.arraycopy(Native Method) ~[na:na]\r\n\r\nI think that it happens because I have to create an array of String but it is working on **Operation** instances that is not a String instances. In theory I have to put into my new array the value of the **name** field of the current **Operation** instance.\r\n\r\nHow can I try to fix this code?\r\n","title":"How can I fix this nested collection code using Java Stream in order to create an array of string from the property of an object?","body":"<p>I am working on a Java application and I am trying to implement the following behavior using <strong>Stream</strong> concept.</p>\n<p>I am trying to do something similar to what I found into an example but my use case seems to be more complex. This was the original example:</p>\n<pre><code>String[] profili = utente.getRuoli()\n                  .stream().map(a -&gt; &quot;ROLE_&quot; + a).toArray(String[]::new);\n</code></pre>\n<p>Basically, it is creating an array starting from a stream.</p>\n<p>Following my situation. I have this main <strong>User</strong> DTO class representing an user:</p>\n<pre><code>@Data\npublic class User {\n    private int id;\n    private String firstName;\n    private String middleName;\n    private String surname;\n    private char sex;\n    private Date birthdate;\n    private String taxCode;\n    private String eMail;\n    private String pswd;\n    private String contactNumber;\n    private Date createdAt;\n    private Set&lt;Address&gt; addressesList;\n    private Set&lt;UserType&gt; userTypes;   \n}\n</code></pre>\n<p>The previous DTO class contains this field representing a collection of user types (for example &quot;ADMIN&quot;, &quot;READER&quot;, &quot;WRITER&quot;, etcetc). This because an user can have multiple types:</p>\n<pre><code>private Set&lt;UserType&gt; userTypes;\n</code></pre>\n<p>This is the <strong>UserType</strong> structure:</p>\n<pre><code>@Data\npublic class UserType {\n    private int id;\n    private String typeName;\n    private String description;\n    Set&lt;Operation&gt; operations;\n}\n</code></pre>\n<p>Also this class contains a field representing a collection of operations (this because a user type can have multiple operation that can perform on the system), this field:</p>\n<pre><code>Set&lt;Operation&gt; operations;\n</code></pre>\n<p>And this is the <strong>Operation</strong> class structure:</p>\n<pre><code>@Data\npublic class Operation {\n    \n    private int id;\n    private String name;\n    private String description;\n\n}\n</code></pre>\n<p>Now I am asking if I can use the stream in a similar way to the original example in order to create an array of all the operations contained into all the user types.</p>\n<p>I tried doing in the following way:</p>\n<pre><code>String[] operations = user.getUserTypes().stream()\n          .map(UserType::getOperations)\n          .flatMap(Set::stream)\n          .distinct()\n          .toArray(String[]::new);\n</code></pre>\n<p>But when this code is performed I am obtaining the following exception:</p>\n<pre><code>java.lang.ArrayStoreException: arraycopy: element type mismatch: can not cast one of the elements of java.lang.Object[] to the type of the destination array, java.lang.String\n    at java.base/java.lang.System.arraycopy(Native Method) ~[na:na]\n</code></pre>\n<p>I think that it happens because I have to create an array of String but it is working on <strong>Operation</strong> instances that is not a String instances. In theory I have to put into my new array the value of the <strong>name</strong> field of the current <strong>Operation</strong> instance.</p>\n<p>How can I try to fix this code?</p>\n"},{"tags":["java","spring-boot","exception","hibernate-validator","controller-advice"],"comments":[{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":3,"creation_date":1637166248,"post_id":70007732,"comment_id":123754689,"body_markdown":"As you might guess from the exception message, `isValid` should not throw exceptions but instead just return `false`…","body":"As you might guess from the exception message, <code>isValid</code> should not throw exceptions but instead just return <code>false</code>…"},{"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"score":0,"creation_date":1637166837,"post_id":70007732,"comment_id":123754974,"body_markdown":"but I want to throw an exception to handle it after, and return a custom message to the client, I&#39;ve seen a lot of example where they do the same thing, but it is not working in my case","body":"but I want to throw an exception to handle it after, and return a custom message to the client, I&#39;ve seen a lot of example where they do the same thing, but it is not working in my case"},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":1,"creation_date":1637176598,"post_id":70007732,"comment_id":123758905,"body_markdown":"when you are throwing this exception from the isValid, the custom exception is getting wrapped, so you are not getting the actual exception while handling it globally. So return false and then raise custom exception or follow this link   \n\nhttps://stackoverflow.com/questions/19825563/custom-validator-message-throwing-exception-in-implementation-of-constraintvali","body":"when you are throwing this exception from the isValid, the custom exception is getting wrapped, so you are not getting the actual exception while handling it globally. So return false and then raise custom exception or follow this link     <a href=\"https://stackoverflow.com/questions/19825563/custom-validator-message-throwing-exception-in-implementation-of-constraintvali\" title=\"custom validator message throwing exception in implementation of constraintvali\">stackoverflow.com/questions/19825563/&hellip;</a>"}],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637164903,"creation_date":1637164903,"question_id":70007732,"body_markdown":"I&#39;m trying to throw an exception inside a custom validator which I built using annotation like that: \r\n\r\n**ValidExtractionDate** annotation:\r\n\r\n    @Constraint(validatedBy = ExtractionDateValidator.class)\r\n    @Target( { ElementType.PARAMETER })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ValidExtractionDate {\r\n        String message() default &quot;Invalid value for extractionDate&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n**ExtractionDateValidator:**\r\n\r\n    public class ExtractionDateValidator implements ConstraintValidator&lt;ValidExtractionDate, LocalDate&gt; {\r\n    \r\n        @Override\r\n        public void initialize(ValidExtractionDate constraintAnnotation) {\r\n            ConstraintValidator.super.initialize(constraintAnnotation);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(LocalDate localDate, ConstraintValidatorContext constraintValidatorContext) {\r\n            if (localDate.isAfter(LocalDate.now())) {\r\n                throw new InvalidExtractionDateException(&quot;date is set in the future&quot;);\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\nas you see above, an exception of type InvalidExtractionDateException is thrown when localDate is invalid:\r\n\r\n**InvalidExtractionDateException:**\r\n\r\n    public class InvalidExtractionDateException extends ValidationException {\r\n        public InvalidExtractionDateException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nInside my ControllerAdvice I have this: \r\n\r\n    /**\r\n     * @param ex a Exception\r\n     * @return a responseEntity with a descriptive message and some other information\r\n     */\r\n    @ExceptionHandler(Exception.class)\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    @ResponseBody\r\n    public ErrorMessage globalExceptionHandler(Exception ex) {\r\n        LOG.error(ex.getClass().getName());\r\n        ex.printStackTrace();\r\n        LOG.error(ex.getMessage());\r\n        return getErrorMessage();\r\n    }\r\n    \r\n    /**\r\n     * @param ex an InvalidExtractionDateException exception\r\n     * @return a responseEntity with a descriptive message and some other information\r\n     */\r\n    @ExceptionHandler(InvalidExtractionDateException.class)\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    @ResponseBody\r\n    public ErrorMessage invalidExtractionDateException(InvalidExtractionDateException ex) {\r\n        LOG.error(ex.getMessage());\r\n        return getErrorMessage(ex, ErrorCode.INVALID_INPUT_ERROR);\r\n    }\r\n\r\nUnfortunately after throwing the exception, the **AdviceController** is calling for *globalExceptionHandler()* method instead of *invalidExtractionDateException()* method. \r\n\r\nThis is what I get on the console: \r\n\r\n    INFO |2021-11-17T15:59:25,890|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.validators.ExtractionDateValidator - Entered in ExtractionDateValidator.initialize(@com.obs.dqsc.api.controller.validators.annotation.ValidExtractionDate(message=&quot;Invalid value for extractionDate&quot;, payload={}, groups={}))\r\n    INFO |2021-11-17T15:59:25,895|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.validators.ExtractionDateValidator - Exit from ExtractionDateValidator.initialize(..); Execution time: 2 ms;\r\n    INFO |2021-11-17T15:59:25,896|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.validators.ExtractionDateValidator - Entered in ExtractionDateValidator.isValid(2021-11-29, org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorContextImpl@221131fa)\r\n    ERROR|2021-11-17T15:59:25,901|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.GlobalExceptionHandler - javax.validation.ValidationException\r\n    ERROR|2021-11-17T15:59:25,903|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.GlobalExceptionHandler - HV000028: Unexpected exception during isValid call.\r\n    javax.validation.ValidationException: HV000028: Unexpected exception during isValid call.\r\n    \tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:186)\r\n    \tat org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:62)\r\n    \tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)\r\n    \tat org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)\r\n    \tat org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)\r\n    \tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)\r\n    \tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:537)\r\n    \tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForSingleGroup(ValidatorImpl.java:991)\r\n    \tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForGroup(ValidatorImpl.java:932)\r\n    \tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:863)\r\n    \tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)\r\n    \tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)\r\n    \tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:110)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n    \tat com.obs.dqsc.api.aspect.LoggingAspect.logMethod(LoggingAspect.java:37)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n    \tat com.obs.dqsc.api.controller.CustomerController$$EnhancerBySpringCGLIB$$65295c12.test(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat com.obs.dqsc.api.controller.filter.Slf4jMDCFilter.doFilterInternal(Slf4jMDCFilter.java:62)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831)\r\n    Caused by: com.obs.dqsc.api.exception.functional.InvalidExtractionDateException: date is set in the future\r\n    \tat com.obs.dqsc.api.controller.validators.ExtractionDateValidator.isValid(ExtractionDateValidator.java:20)\r\n    \tat com.obs.dqsc.api.controller.validators.ExtractionDateValidator.isValid(ExtractionDateValidator.java:10)\r\n    \tat com.obs.dqsc.api.controller.validators.ExtractionDateValidator$$FastClassBySpringCGLIB$$73cf36d8.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n    \tat com.obs.dqsc.api.aspect.LoggingAspect.logMethod(LoggingAspect.java:37)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n    \tat com.obs.dqsc.api.controller.validators.ExtractionDateValidator$$EnhancerBySpringCGLIB$$db5fdff4.isValid(&lt;generated&gt;)\r\n    \tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:180)\r\n    \t... 84 more\r\n    DEBUG|2021-11-17T15:59:25,964|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR\r\n","title":"Catching ValidationException instead of a custom Exception in ControllerAdvice","body":"<p>I'm trying to throw an exception inside a custom validator which I built using annotation like that:</p>\n<p><strong>ValidExtractionDate</strong> annotation:</p>\n<pre><code>@Constraint(validatedBy = ExtractionDateValidator.class)\n@Target( { ElementType.PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidExtractionDate {\n    String message() default &quot;Invalid value for extractionDate&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p><strong>ExtractionDateValidator:</strong></p>\n<pre><code>public class ExtractionDateValidator implements ConstraintValidator&lt;ValidExtractionDate, LocalDate&gt; {\n\n    @Override\n    public void initialize(ValidExtractionDate constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(LocalDate localDate, ConstraintValidatorContext constraintValidatorContext) {\n        if (localDate.isAfter(LocalDate.now())) {\n            throw new InvalidExtractionDateException(&quot;date is set in the future&quot;);\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>as you see above, an exception of type InvalidExtractionDateException is thrown when localDate is invalid:</p>\n<p><strong>InvalidExtractionDateException:</strong></p>\n<pre><code>public class InvalidExtractionDateException extends ValidationException {\n    public InvalidExtractionDateException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>Inside my ControllerAdvice I have this:</p>\n<pre><code>/**\n * @param ex a Exception\n * @return a responseEntity with a descriptive message and some other information\n */\n@ExceptionHandler(Exception.class)\n@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n@ResponseBody\npublic ErrorMessage globalExceptionHandler(Exception ex) {\n    LOG.error(ex.getClass().getName());\n    ex.printStackTrace();\n    LOG.error(ex.getMessage());\n    return getErrorMessage();\n}\n\n/**\n * @param ex an InvalidExtractionDateException exception\n * @return a responseEntity with a descriptive message and some other information\n */\n@ExceptionHandler(InvalidExtractionDateException.class)\n@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n@ResponseBody\npublic ErrorMessage invalidExtractionDateException(InvalidExtractionDateException ex) {\n    LOG.error(ex.getMessage());\n    return getErrorMessage(ex, ErrorCode.INVALID_INPUT_ERROR);\n}\n</code></pre>\n<p>Unfortunately after throwing the exception, the <strong>AdviceController</strong> is calling for <em>globalExceptionHandler()</em> method instead of <em>invalidExtractionDateException()</em> method.</p>\n<p>This is what I get on the console:</p>\n<pre><code>INFO |2021-11-17T15:59:25,890|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.validators.ExtractionDateValidator - Entered in ExtractionDateValidator.initialize(@com.obs.dqsc.api.controller.validators.annotation.ValidExtractionDate(message=&quot;Invalid value for extractionDate&quot;, payload={}, groups={}))\nINFO |2021-11-17T15:59:25,895|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.validators.ExtractionDateValidator - Exit from ExtractionDateValidator.initialize(..); Execution time: 2 ms;\nINFO |2021-11-17T15:59:25,896|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.validators.ExtractionDateValidator - Entered in ExtractionDateValidator.isValid(2021-11-29, org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorContextImpl@221131fa)\nERROR|2021-11-17T15:59:25,901|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.GlobalExceptionHandler - javax.validation.ValidationException\nERROR|2021-11-17T15:59:25,903|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] com.obs.dqsc.api.GlobalExceptionHandler - HV000028: Unexpected exception during isValid call.\njavax.validation.ValidationException: HV000028: Unexpected exception during isValid call.\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:186)\n    at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:62)\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:537)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForSingleGroup(ValidatorImpl.java:991)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForGroup(ValidatorImpl.java:932)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:863)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:110)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at com.obs.dqsc.api.aspect.LoggingAspect.logMethod(LoggingAspect.java:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at com.obs.dqsc.api.controller.CustomerController$$EnhancerBySpringCGLIB$$65295c12.test(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.obs.dqsc.api.controller.filter.Slf4jMDCFilter.doFilterInternal(Slf4jMDCFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: com.obs.dqsc.api.exception.functional.InvalidExtractionDateException: date is set in the future\n    at com.obs.dqsc.api.controller.validators.ExtractionDateValidator.isValid(ExtractionDateValidator.java:20)\n    at com.obs.dqsc.api.controller.validators.ExtractionDateValidator.isValid(ExtractionDateValidator.java:10)\n    at com.obs.dqsc.api.controller.validators.ExtractionDateValidator$$FastClassBySpringCGLIB$$73cf36d8.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at com.obs.dqsc.api.aspect.LoggingAspect.logMethod(LoggingAspect.java:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at com.obs.dqsc.api.controller.validators.ExtractionDateValidator$$EnhancerBySpringCGLIB$$db5fdff4.isValid(&lt;generated&gt;)\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:180)\n    ... 84 more\nDEBUG|2021-11-17T15:59:25,964|3E05E9E2F27F439EB625395C6E2A35FD| [http-nio-8080-exec-1] org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR\n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1637164683,"post_id":70007648,"comment_id":123753909,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1637164780,"post_id":70007648,"comment_id":123753959,"body_markdown":"Every single `return` statement in your `parser()` method is `return null;`. That can&#39;t be right","body":"Every single <code>return</code> statement in your <code>parser()</code> method is <code>return null;</code>. That can&#39;t be right"}],"owner":{"account_id":21241701,"reputation":11,"user_id":17439799,"display_name":"Bale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637165127,"answer_count":0,"score":0,"last_activity_date":1637164598,"creation_date":1637164598,"question_id":70007648,"body_markdown":"package de.itdesign.application;\r\n\r\nimport de.itdesign.application.model.Root;\r\n\r\npublic class XMLCalculator {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SAXParser parse = new SAXParser();\r\n        Root root = parse.parser();\r\n\r\n        System.out.println(&quot;Root &quot; + root.toString());\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because &quot;root&quot; is null\r\n\tat de.itdesign.application.XMLCalculator.main\r\n\r\n    }\r\n\r\n}\r\n    \r\n\r\nI think problem is here:\r\npackage de.itdesign.application;\r\n    \r\n    import de.itdesign.application.model.Data;\r\n    import de.itdesign.application.model.Root;\r\n    import org.xml.sax.SAXException;\r\n    import javax.xml.parsers.*;\r\n    \r\n    import javax.xml.parsers.SAXParserFactory;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class SAXParser {\r\n    \r\n        public Root parser(){\r\n            SAXParserFactory factory = SAXParserFactory.newInstance();\r\n            SAXParserHandler handler = new SAXParserHandler();\r\n            javax.xml.parsers.SAXParser parser;\r\n    \r\n            try{\r\n                parser = factory.newSAXParser();\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Open sax parser error &quot; + e.toString());\r\n                return null;\r\n            }\r\n    \r\n            File file = new File(&quot;data.xml&quot;);\r\n                try {\r\n                    parser.parse(file, handler);\r\n                } catch (SAXException e) {\r\n                    System.out.println(&quot;Sax parsing error &quot; + e.toString());\r\n                    return null;\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;IO parsing error &quot; + e.toString());\r\n                    return null;\r\n                }\r\n    \r\n    \r\n            return null;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"When I run my code this error appears: Cannot invoke &quot;something&quot; because root is null at &quot;something&quot;. How to solve this problem?","body":"<p>package de.itdesign.application;</p>\n<p>import de.itdesign.application.model.Root;</p>\n<p>public class XMLCalculator {</p>\n<pre><code>public static void main(String[] args) {\n\n    SAXParser parse = new SAXParser();\n    Root root = parse.parser();\n\n    System.out.println(&quot;Root &quot; + root.toString());\n</code></pre>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because &quot;root&quot; is null\nat de.itdesign.application.XMLCalculator.main</p>\n<pre><code>}\n</code></pre>\n<p>}</p>\n<p>I think problem is here:\npackage de.itdesign.application;</p>\n<pre><code>import de.itdesign.application.model.Data;\nimport de.itdesign.application.model.Root;\nimport org.xml.sax.SAXException;\nimport javax.xml.parsers.*;\n\nimport javax.xml.parsers.SAXParserFactory;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class SAXParser {\n\n    public Root parser(){\n        SAXParserFactory factory = SAXParserFactory.newInstance();\n        SAXParserHandler handler = new SAXParserHandler();\n        javax.xml.parsers.SAXParser parser;\n\n        try{\n            parser = factory.newSAXParser();\n        }catch(Exception e){\n            System.out.println(&quot;Open sax parser error &quot; + e.toString());\n            return null;\n        }\n\n        File file = new File(&quot;data.xml&quot;);\n            try {\n                parser.parse(file, handler);\n            } catch (SAXException e) {\n                System.out.println(&quot;Sax parsing error &quot; + e.toString());\n                return null;\n            } catch (IOException e) {\n                System.out.println(&quot;IO parsing error &quot; + e.toString());\n                return null;\n            }\n\n\n        return null;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android","pdf","itext","blur"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637130217,"post_id":69996055,"comment_id":123740431,"body_markdown":"Indeed, if you want text glyphs to have a specific appearance, use a font whose glyphs have that appearance.","body":"Indeed, if you want text glyphs to have a specific appearance, use a font whose glyphs have that appearance."},{"owner":{"account_id":5917582,"reputation":240,"user_id":4655907,"accept_rate":100,"display_name":"slodeveloper"},"score":0,"creation_date":1637147324,"post_id":69996055,"comment_id":123746131,"body_markdown":"I need to use specific font (in my case Arial narrow bold), so to get what i want changing font is not an option. I tried with android canvas (so creating bitmap out of canvas and placing it into pdf (which would work great if quality of font wouldn&#39;t be that bad)) but the font and everything is so baad, so the quality of font is really, really bad and it doesn&#39;t look nice.","body":"I need to use specific font (in my case Arial narrow bold), so to get what i want changing font is not an option. I tried with android canvas (so creating bitmap out of canvas and placing it into pdf (which would work great if quality of font wouldn&#39;t be that bad)) but the font and everything is so baad, so the quality of font is really, really bad and it doesn&#39;t look nice."},{"owner":{"account_id":5917582,"reputation":240,"user_id":4655907,"accept_rate":100,"display_name":"slodeveloper"},"score":0,"creation_date":1637149325,"post_id":69996055,"comment_id":123746814,"body_markdown":"I updated the problem which i&#39;m solving...","body":"I updated the problem which i&#39;m solving..."}],"answers":[{"tags":[],"owner":{"account_id":5917582,"reputation":240,"user_id":4655907,"accept_rate":100,"display_name":"slodeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637164543,"creation_date":1637152417,"answer_id":70004499,"question_id":69996055,"body_markdown":"**Solution:**\r\nGoing with second option.\r\nIncrease bitmap size (set Bitmap.Config.ARGB_8888), increase font size to something bigger then size 7 or 8 and then apply blur to it (in my case i increased the font size to 24), save image as bitmap and then add image to  PdfContentByte or add image directly to document (apply scaleAbsolute to image and absolutePosition).","title":"Itextpdf blur text in pdf","body":"<p><strong>Solution:</strong>\nGoing with second option.\nIncrease bitmap size (set Bitmap.Config.ARGB_8888), increase font size to something bigger then size 7 or 8 and then apply blur to it (in my case i increased the font size to 24), save image as bitmap and then add image to  PdfContentByte or add image directly to document (apply scaleAbsolute to image and absolutePosition).</p>\n"}],"owner":{"account_id":5917582,"reputation":240,"user_id":4655907,"accept_rate":100,"display_name":"slodeveloper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70004499,"answer_count":1,"score":0,"last_activity_date":1637164543,"creation_date":1637096950,"question_id":69996055,"body_markdown":"Is there a way to **blur** text (text is not random text but it comes from db) added with `showTextAligned(PdfContentByte.ALIGN_LEFT,&quot;Random text&quot;,297,606,rotation)` to `PdfContentByte` ? Or any other way to blur text (it can be image but the image must be generated from input text and it&#39;s not image that you added to your project) and added it to the pdf ? I&#39;m using **itextpdf:5.5.12** (on android) \r\n\r\nSmall example what i have in mind:\r\n\r\n        PdfWriter pdfWriter=PdfWriter.getInstance(document, new FileOutputStream(file));\r\n        PdfContentByte cb = pdfWriter.getDirectContent();\r\n        cb.saveState();\r\n        cb.beginText();\r\n        cb.setColorFill(baseCol);\r\n        cb.setFontAndSize(myBaseFontArialNarrowBold,7);\r\n        //some function that blurs the text ??\r\n        //here\r\n        cb.showTextAligned(PdfContentByte.ALIGN_LEFT,&quot;Random text that we want to blur&quot;,297,638,rotation);\r\n        cb.endText();\r\n        cb.restoreState();\r\n        //another option would be to add generated image from canvas \r\n       Bitmap btmp=bBlur.getBitmap();\r\n       ByteArrayOutputStream stream2 = new ByteArrayOutputStream();\r\n       btmp.compress(Bitmap.CompressFormat.PNG, 100, stream2);\r\n       byte[] byteArray2 = stream2.toByteArray();\r\n       Image img2 = Image.getInstance(byteArray2);\r\n        cb.addImage(img,250,0,0,250,290,398);\r\n\r\n\r\nUsing canvas in android (if going with option two):\r\n\r\n    //arial narrow bold\r\n    paint.setTypeface(typeface);\r\n    paint.setColor(Color.argb(190,0,0,0));\r\n    paint.setTextAlign(Paint.Align.LEFT);\r\n    paint.setAntiAlias(true);\r\n    paint.setFilterBitmap(true);\r\n    paint.setSubpixelText(true);\r\n    paint.setLinearText(true);\r\n    //paint.setMaskFilter(new BlurMaskFilter(1, BlurMaskFilter.Blur.NORMAL));\r\n    paint.setTextSize(8);\r\n    canvas.rotate(-0.9876f);\r\n    canvas.drawText(textAr[0],6.8f,11.78f,paint);\r\n    paint.setTextSize(7);\r\n    canvas.drawText(textAr[1],6.8f,20,paint);\r\n    canvas.drawText(textAr[2],6.8f,45,paint);\r\n    canvas.setBitmap(bitmap);\r\n\r\nThe only problem with the second option is that generated text in canvas is very very bad and it doesn&#39;t look nice when image is added in pdf... So where could be a problem with &quot;bad font&quot;? \r\n\r\n\r\n\r\nAny help or advice is very much appreciated.\r\n\r\n\r\n","title":"Itextpdf blur text in pdf","body":"<p>Is there a way to <strong>blur</strong> text (text is not random text but it comes from db) added with <code>showTextAligned(PdfContentByte.ALIGN_LEFT,&quot;Random text&quot;,297,606,rotation)</code> to <code>PdfContentByte</code> ? Or any other way to blur text (it can be image but the image must be generated from input text and it's not image that you added to your project) and added it to the pdf ? I'm using <strong>itextpdf:5.5.12</strong> (on android)</p>\n<p>Small example what i have in mind:</p>\n<pre><code>    PdfWriter pdfWriter=PdfWriter.getInstance(document, new FileOutputStream(file));\n    PdfContentByte cb = pdfWriter.getDirectContent();\n    cb.saveState();\n    cb.beginText();\n    cb.setColorFill(baseCol);\n    cb.setFontAndSize(myBaseFontArialNarrowBold,7);\n    //some function that blurs the text ??\n    //here\n    cb.showTextAligned(PdfContentByte.ALIGN_LEFT,&quot;Random text that we want to blur&quot;,297,638,rotation);\n    cb.endText();\n    cb.restoreState();\n    //another option would be to add generated image from canvas \n   Bitmap btmp=bBlur.getBitmap();\n   ByteArrayOutputStream stream2 = new ByteArrayOutputStream();\n   btmp.compress(Bitmap.CompressFormat.PNG, 100, stream2);\n   byte[] byteArray2 = stream2.toByteArray();\n   Image img2 = Image.getInstance(byteArray2);\n    cb.addImage(img,250,0,0,250,290,398);\n</code></pre>\n<p>Using canvas in android (if going with option two):</p>\n<pre><code>//arial narrow bold\npaint.setTypeface(typeface);\npaint.setColor(Color.argb(190,0,0,0));\npaint.setTextAlign(Paint.Align.LEFT);\npaint.setAntiAlias(true);\npaint.setFilterBitmap(true);\npaint.setSubpixelText(true);\npaint.setLinearText(true);\n//paint.setMaskFilter(new BlurMaskFilter(1, BlurMaskFilter.Blur.NORMAL));\npaint.setTextSize(8);\ncanvas.rotate(-0.9876f);\ncanvas.drawText(textAr[0],6.8f,11.78f,paint);\npaint.setTextSize(7);\ncanvas.drawText(textAr[1],6.8f,20,paint);\ncanvas.drawText(textAr[2],6.8f,45,paint);\ncanvas.setBitmap(bitmap);\n</code></pre>\n<p>The only problem with the second option is that generated text in canvas is very very bad and it doesn't look nice when image is added in pdf... So where could be a problem with &quot;bad font&quot;?</p>\n<p>Any help or advice is very much appreciated.</p>\n"},{"tags":["java","json","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637164529,"creation_date":1637164529,"answer_id":70007627,"question_id":70007501,"body_markdown":"Given that you have a bi-directional relationship I think you are missing setting the `Compania` object in the new `Office`. Something allong the following lines:\r\n```java\r\npublic void addOfficeTest(Long companiaId, Office office) {\r\n    // OPTION 1 - Add directly the office to the office list of the Compania Object (parent), then save it using Compania repository\r\n    if (office.getId() != null) {\r\n        office.setId(null);\r\n    }\r\n    Compania companiaFound = companiaRepository.findById(companiaId).get();\r\n    office.setCompania(companiaFound); // The new line\r\n    List&lt;Office&gt; listaOffice = companiaFound.getOffice();\r\n    listaOffice.add(office);\r\n    companiaFound.setOffice(listaOffice); // You actually don&#39;t need this because you&#39;ve changed the List already\r\n    // method to set references id for user use...\r\n    setIdReferencia(companiaEnc, true, false);\r\n    companiaRepository.save(companiaEnc);\r\n}\r\n```","title":"One to Many relationship, how to save or update data in spring boot","body":"<p>Given that you have a bi-directional relationship I think you are missing setting the <code>Compania</code> object in the new <code>Office</code>. Something allong the following lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addOfficeTest(Long companiaId, Office office) {\n    // OPTION 1 - Add directly the office to the office list of the Compania Object (parent), then save it using Compania repository\n    if (office.getId() != null) {\n        office.setId(null);\n    }\n    Compania companiaFound = companiaRepository.findById(companiaId).get();\n    office.setCompania(companiaFound); // The new line\n    List&lt;Office&gt; listaOffice = companiaFound.getOffice();\n    listaOffice.add(office);\n    companiaFound.setOffice(listaOffice); // You actually don't need this because you've changed the List already\n    // method to set references id for user use...\n    setIdReferencia(companiaEnc, true, false);\n    companiaRepository.save(companiaEnc);\n}\n</code></pre>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70007627,"answer_count":1,"score":0,"last_activity_date":1637164529,"creation_date":1637164019,"question_id":70007501,"body_markdown":"I&#39;m building an API for the company where I work and it is my first time using Spring Boot, so I&#39;m having some problems.\r\n\r\nI have 2 classes, Compania (parent) and Office (Child). The class Compania has a OneToMany relationship with Office, and Office has a ManyToOne, and I&#39;m struggling to find how could I add some children or edit one of them. Right now my classes are the following:\r\n\r\n**Compania (Parent)**\r\n\r\n    @Entity(name = &quot;Compania&quot;)\r\n    @Table(\r\n        name = &quot;compania&quot;\r\n    )\r\n    public class Compania {\r\n        @Id\r\n        @SequenceGenerator(\r\n            name = &quot;compania_sequence&quot;,\r\n            sequenceName = &quot;compania_sequence&quot;,\r\n            allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;compania_sequence&quot;\r\n        )\r\n        @Column(\r\n            nullable = false\r\n        )\r\n        private Long id;\r\n    \r\n    \r\n        @Column(\r\n            name = &quot;name&quot;,\r\n            nullable = false,\r\n            unique = true\r\n        )\r\n        private String name;\r\n    \r\n        @Column(\r\n            name = &quot;dominio&quot;,\r\n            nullable = true\r\n        )\r\n        private String dominio;\r\n    \r\n        @Column(\r\n            name = &quot;altas&quot;\r\n        )\r\n        private String altas;\r\n    \r\n        @Column(\r\n            name = &quot;bajas&quot;\r\n        )\r\n        private String bajas;\r\n    \r\n        @OneToMany(\r\n            mappedBy = &quot;compania&quot;,\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            orphanRemoval = true\r\n        )\r\n        private List&lt;Office&gt; office;\r\n\r\n    ...Constructors...\r\n    ... Getters and Setters...\r\n\r\n**Office (Child)**\r\n\r\n    @Entity()\r\n    @Table()\r\n    public class Office {\r\n        @Id\r\n        @SequenceGenerator(\r\n            name = &quot;office_sequence&quot;,\r\n            sequenceName = &quot;office_sequence&quot;,\r\n            allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;office_sequence&quot;\r\n        )\r\n        @Column(\r\n            nullable = false\r\n        )\r\n        @JsonIgnore\r\n        private Long id;\r\n    \r\n        @Column(\r\n            name = &quot;idRef&quot;,\r\n            nullable = false\r\n        )\r\n        private int idRef;\r\n    \r\n        @Column(\r\n            name = &quot;title&quot;,\r\n            nullable = false\r\n        )\r\n        private String title;\r\n    \r\n        @Column(\r\n            name = &quot;name&quot;\r\n        )\r\n        private String name;\r\n        @Column(\r\n            name = &quot;path&quot;\r\n        )\r\n        private String path;\r\n    \r\n        @ManyToOne(\r\n            fetch = FetchType.LAZY\r\n        )\r\n        @JoinColumn(\r\n            name = &quot;compania_id&quot;,\r\n            referencedColumnName = &quot;id&quot;\r\n        )\r\n        private Compania compania;\r\n    \r\n        ...Constructors...\r\n        ... Getters and Setters...\r\n\r\n\r\nI would like to save data or edit it in my parent object (the one that has the OneToMany relationship)\r\nIn order to achieve this, I thought of 2 methods but I have problems with both of them. \r\n\r\nThe first one would be *saving everything in the Compania* (Parent) class. Something like this, I pass the id of the Compania class and the JSON object as an Office object:\r\n\r\n    public void addOfficeTest(Long companiaId, Office office) {\r\n            // OPTION 1 - Add directly the office to the office list of the Compania Object (parent), then save it using Compania repository\r\n            if (office.getId() != null) {\r\n                office.setId(null);\r\n            }\r\n            Compania companiaFound = companiaRepository.findById(companiaId).get();\r\n            List&lt;Office&gt; listaOffice = companiaFound.getOffice();\r\n            listaOffice.add(office);\r\n            companiaFound.setOffice(listaOffice);\r\n            // method to set references id for user use...\r\n            setIdReferencia(companiaEnc, true, false);\r\n            companiaRepository.save(companiaEnc);\r\nWith this method, my problem is that is like I&#39;m not being able to save my entities, when I make a GET to obtain my Companias I get the Office as an empty string. like this:\r\n\r\n    {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Test Compania&quot;,\r\n            &quot;dominio&quot;: &quot;domain&quot;,\r\n            &quot;altas&quot;: &quot;OU=nn&quot;,\r\n            &quot;bajas&quot;: &quot;none&quot;,\r\n            &quot;office&quot;: []\r\n    }\r\nThe other method I thought was this one, saving the Office with the Office repository, but that returned an **infinite recursion error** when I tried to fetch my Compania (as I&#39;m saving the compania in office)...\r\n\r\n    public void addOfficeTest(Long companiaId, Office office) {\r\n            // OPTION 2 - Save Office with the repository office\r\n            if (office.getId() != null) {\r\n                office.setId(null);\r\n            }\r\n            Compania companiaEnc = companiaRepository.findById(companiaId).get();\r\n            office.setCompania(companiaEnc); // This causes recursion\r\n            officeRepository.save(office); \r\nSo I&#39;m stuck here because I don&#39;t know how to do a PUT or a POST for my child objects. I don&#39;t know if something is wrong with my code or what. Maybe it has an easy solution, but I really can&#39;t find it. If someone could help giving me an example of how to do a POST and a PUT I would be very grateful...\r\n\r\nThanks\r\n","title":"One to Many relationship, how to save or update data in spring boot","body":"<p>I'm building an API for the company where I work and it is my first time using Spring Boot, so I'm having some problems.</p>\n<p>I have 2 classes, Compania (parent) and Office (Child). The class Compania has a OneToMany relationship with Office, and Office has a ManyToOne, and I'm struggling to find how could I add some children or edit one of them. Right now my classes are the following:</p>\n<p><strong>Compania (Parent)</strong></p>\n<pre><code>@Entity(name = &quot;Compania&quot;)\n@Table(\n    name = &quot;compania&quot;\n)\npublic class Compania {\n    @Id\n    @SequenceGenerator(\n        name = &quot;compania_sequence&quot;,\n        sequenceName = &quot;compania_sequence&quot;,\n        allocationSize = 1\n    )\n    @GeneratedValue(\n        strategy = GenerationType.SEQUENCE,\n        generator = &quot;compania_sequence&quot;\n    )\n    @Column(\n        nullable = false\n    )\n    private Long id;\n\n\n    @Column(\n        name = &quot;name&quot;,\n        nullable = false,\n        unique = true\n    )\n    private String name;\n\n    @Column(\n        name = &quot;dominio&quot;,\n        nullable = true\n    )\n    private String dominio;\n\n    @Column(\n        name = &quot;altas&quot;\n    )\n    private String altas;\n\n    @Column(\n        name = &quot;bajas&quot;\n    )\n    private String bajas;\n\n    @OneToMany(\n        mappedBy = &quot;compania&quot;,\n        cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        orphanRemoval = true\n    )\n    private List&lt;Office&gt; office;\n\n...Constructors...\n... Getters and Setters...\n</code></pre>\n<p><strong>Office (Child)</strong></p>\n<pre><code>@Entity()\n@Table()\npublic class Office {\n    @Id\n    @SequenceGenerator(\n        name = &quot;office_sequence&quot;,\n        sequenceName = &quot;office_sequence&quot;,\n        allocationSize = 1\n    )\n    @GeneratedValue(\n        strategy = GenerationType.SEQUENCE,\n        generator = &quot;office_sequence&quot;\n    )\n    @Column(\n        nullable = false\n    )\n    @JsonIgnore\n    private Long id;\n\n    @Column(\n        name = &quot;idRef&quot;,\n        nullable = false\n    )\n    private int idRef;\n\n    @Column(\n        name = &quot;title&quot;,\n        nullable = false\n    )\n    private String title;\n\n    @Column(\n        name = &quot;name&quot;\n    )\n    private String name;\n    @Column(\n        name = &quot;path&quot;\n    )\n    private String path;\n\n    @ManyToOne(\n        fetch = FetchType.LAZY\n    )\n    @JoinColumn(\n        name = &quot;compania_id&quot;,\n        referencedColumnName = &quot;id&quot;\n    )\n    private Compania compania;\n\n    ...Constructors...\n    ... Getters and Setters...\n</code></pre>\n<p>I would like to save data or edit it in my parent object (the one that has the OneToMany relationship)\nIn order to achieve this, I thought of 2 methods but I have problems with both of them.</p>\n<p>The first one would be <em>saving everything in the Compania</em> (Parent) class. Something like this, I pass the id of the Compania class and the JSON object as an Office object:</p>\n<pre><code>public void addOfficeTest(Long companiaId, Office office) {\n        // OPTION 1 - Add directly the office to the office list of the Compania Object (parent), then save it using Compania repository\n        if (office.getId() != null) {\n            office.setId(null);\n        }\n        Compania companiaFound = companiaRepository.findById(companiaId).get();\n        List&lt;Office&gt; listaOffice = companiaFound.getOffice();\n        listaOffice.add(office);\n        companiaFound.setOffice(listaOffice);\n        // method to set references id for user use...\n        setIdReferencia(companiaEnc, true, false);\n        companiaRepository.save(companiaEnc);\n</code></pre>\n<p>With this method, my problem is that is like I'm not being able to save my entities, when I make a GET to obtain my Companias I get the Office as an empty string. like this:</p>\n<pre><code>{\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Test Compania&quot;,\n        &quot;dominio&quot;: &quot;domain&quot;,\n        &quot;altas&quot;: &quot;OU=nn&quot;,\n        &quot;bajas&quot;: &quot;none&quot;,\n        &quot;office&quot;: []\n}\n</code></pre>\n<p>The other method I thought was this one, saving the Office with the Office repository, but that returned an <strong>infinite recursion error</strong> when I tried to fetch my Compania (as I'm saving the compania in office)...</p>\n<pre><code>public void addOfficeTest(Long companiaId, Office office) {\n        // OPTION 2 - Save Office with the repository office\n        if (office.getId() != null) {\n            office.setId(null);\n        }\n        Compania companiaEnc = companiaRepository.findById(companiaId).get();\n        office.setCompania(companiaEnc); // This causes recursion\n        officeRepository.save(office); \n</code></pre>\n<p>So I'm stuck here because I don't know how to do a PUT or a POST for my child objects. I don't know if something is wrong with my code or what. Maybe it has an easy solution, but I really can't find it. If someone could help giving me an example of how to do a POST and a PUT I would be very grateful...</p>\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8151,"page":1841,"page_size":100}
